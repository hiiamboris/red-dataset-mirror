
#115: WISH: new on-change* semantic
================================================================================
Issue is open, was reported by hiiamboris and has 4 comment(s).
<https://github.com/red/REP/issues/115>

Current object/on-change* has two issues:
1. It doesn't get object itself as an argument. As a result, instead of multiple objects (spaces, faces) sharing a link to the same function, every object has to have it's own copy of the function (bound to itself), which is a waste of RAM.
2. It's `word` argument may pass any kind of word, which complicates `switch` statement often used there:
```
>> o: reactor [on-change*: func [w o n] [?? w] x: 1]
>> set bind [x:] o 3
w: x:
== 3
>> set bind [:x] o 3
w: :x
== 3
>> set bind ['x] o 3
w: 'x
== 3
```

I find myself working around both issues over and over again by declaring a shared function in outer context and inserting mandatory `to word!` conversion:
```
context [
	outer: self
	on-change: func [word old [any-type!] new [any-type!]] [
		switch to word! word [...]
	]
	inner: object [
		on-change*: func [word old [any-type!] new [any-type!]] [
			outer/on-change self word :old :new
		]
	]
]
```
It would be nice not to write this repetitive code pattern and just use `switch word [...]` and `on-change*: :outer/on-change`, for which former should have the spec `[object word old new]`


Comments:
--------------------------------------------------------------------------------

On 2022-09-06T16:33:22Z, dockimbel, commented:
<https://github.com/red/REP/issues/115#issuecomment-1238390145>

    That's a funny request, because you are advocating for the opposite there: https://github.com/red/REP/issues/92#issuecomment-753372736 ;-)
    
    Anyway, I agree that `on-change*` should have the owner object as first argument.

--------------------------------------------------------------------------------

On 2022-09-06T16:53:09Z, hiiamboris, commented:
<https://github.com/red/REP/issues/115#issuecomment-1238411726>

    Haha. True. Well, if `word` is always bound, no real need in the object. But I think it's nice for convenience, like `face` argument in actors.

