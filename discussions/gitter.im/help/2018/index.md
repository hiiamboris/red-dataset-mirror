# Archived messages from: [gitter.im/red/help](/gitter.im/red/help/) from year: 2018

## Tuesday 2nd January, 2018

Phryxe

[08:28](#msg5a4b42aa5355812e57408954)Is it possible to interact with Powershell today? If not, I guess it will be possible after advanced I/O is done!?

greggirwin

[08:35](#msg5a4b444e232e79134db714a9)What do you mean by "interact" @Phryxe. There's libRed, if you could use that from PS.

are1000

[08:39](#msg5a4b4537b48e8c35668e045c)Maybe they mean calling PowerShell from Red?

greggirwin

[08:41](#msg5a4b45b00163b02810a182a3)Well, we have `call`.

Phryxe

[08:42](#msg5a4b45ee03838b2f2a5ef307)Is there an example how to make a GUI for a ps1-script?

pekr

[08:42](#msg5a4b460fb48e8c35668e08dd)Someone also did some work on interfacing to .Net .... Qtxie did something in that regards too, but it might be highly experimental too - https://github.com/qtxie/red/commits/dotnet

9214

[08:43](#msg5a4b463eedd2230811019105)@pekr https://github.com/iceflow19/red-mono

pekr

[08:43](#msg5a4b464bedd2230811019144)Not sure though, it would help with the PowerShell ....

Phryxe

[08:44](#msg5a4b4682b48e8c35668e0a63)If it is complicated, never mind ...

greggirwin

[08:46](#msg5a4b46f1232e79134db71fe4)@Phryxe, I don't use PS, and haven't seen one. Maybe @PeterWAWood will have some ideas when he gets back here.

Phryxe

[08:47](#msg5a4b471d29ec6ac311ab56b1)OK, anyway thanks for the input.

are1000

[11:27](#msg5a4b6ca368d092bb6214d387)Just to be crystal clear - there is no way to open an TCP connection with Red?

rebolek

[11:28](#msg5a4b6cd968d092bb6214d4a8)@are1000 not yet. You would need to write some binding in Red/System.

are1000

[11:28](#msg5a4b6ced5355812e5741589a)Could I then use those bindings in a GUI Red application?

[11:29](#msg5a4b6d24ba39a53f1ac85c69)Because I am willing to learn how and write such bindings.

rebolek

[11:30](#msg5a4b6d4b84fb74b9402ac3e6)Yes, with a custom build of Red console, or when compiled, you can use it.

are1000

[11:30](#msg5a4b6d5ab48e8c35668ebe93)custom build of Red console?

[11:31](#msg5a4b6d7b5355812e57415a74)I want to write a RethinkDB driver

rebolek

[11:32](#msg5a4b6dd568d092bb6214d954)You would need custom build of console with your binding added, it's not (yet) possible to load libraries from interpreter dynamically.

are1000

[11:33](#msg5a4b6e02edd22308110255e7)Thanks!

maximvl

[15:48](#msg5a4ba9c4edd2230811039efc)@are1000 RethinkDB is dead isn't it?)

greggirwin

[19:07](#msg5a4bd85f5355812e57439298)@maximvl, I use a lot of dead technologies myself, so am never surprised when someone else does. :^)

are1000

[19:13](#msg5a4bd9f403838b2f2a61fc1a)@maximvl https://rethinkdb.com/blog/rethinkdb-joins-linux-foundation/

[19:14](#msg5a4bda1784fb74b9402d1618)Latest commit 2 days ago, so I wouldn't say it's dead + it's an excellent piece of software!

gltewalt

[19:23](#msg5a4bdc4068d092bb62173600)So RethinkDB inverts the updating mechanism? Constant push from DBs vs Constant Poll from app

BeardPower

[23:22](#msg5a4c141929ec6ac311af9c42)@gltewalt Yep.

[23:23](#msg5a4c147d84fb74b9402e478b)How can I compile red.exe myself?

gltewalt

[23:36](#msg5a4c1775232e79134dbb8446)I do `do/args %red.r "-r %environment/console/console.red"` from Rebol repl

[23:37](#msg5a4c17adba39a53f1acbf36f)That is if you are in your local repo directory from Rebol console

[23:41](#msg5a4c18acba39a53f1acbf716)

```
To see the intermediary Red/System code generated by the compiler, use:

    >> do/args %red.r "-v 2 %tests/hello.red"

You can also compile the Red console from source:

    >> do/args %red.r "-r %environment/console/console.red"

To compile the Windows GUI console from source:

    >> do/args %red.r "-r -t Windows %environment/console/gui-console.red"

Note: the -c argument is not necessary when launching the Red toolchain from sources, as the default action is to compile the input script (the toolchain in binary form default action is to run the input script through the interpreter). The -r argument is needed when compiling the Red console to make additional runtime functions available.
```

BeardPower

[23:51](#msg5a4c1b1c232e79134dbb9539)But this is the REPL. I just want the "Red command-line front-end".

[23:52](#msg5a4c1b51232e79134dbb95f0)I guess the red.exe is just red.r? But how can this be compiled to red.exe?

## Wednesday 3th January, 2018

RnBrgn

[03:10](#msg5a4c49b929ec6ac311b0772c)use the -- cli option

Phryxe

[13:41](#msg5a4cdd77ba39a53f1acf777d)I have some trouble seeing if Red's built-in functions return anything or not. Can I get a list of the files in a directory? `dir`, `ll` and `list-dir` seem just to print the file names.

rebolek

[13:44](#msg5a4cde3468d092bb621bd580)@Phryxe `read`

Phryxe

[13:46](#msg5a4cdecf68d092bb621bd9bd)@rebolek Of course, thanx!

[16:17](#msg5a4d02315355812e57493e37)I'm sure there is a better way to delete (non-txt) files without rejoin and the file path!?

```
m: %/d/Temp/test/
i: read m
foreach x i [if not (suffix? x) = %.txt [delete rejoin [m x]]]
```

9214

[16:37](#msg5a4d06d9edd22308110a6838)@Phryxe

```
change-dir request-dir foreach file read what-dir [unless %.txt = suffix? file [delete file]]
```

Phryxe

[16:50](#msg5a4d09d55355812e57496b99)@9214 That is one way of doing it, moving to the directory to avoid using path. Thnx!

gltewalt

[16:50](#msg5a4d09da68d092bb621cd7e4)What's the rejoin for?

Phryxe

[16:51](#msg5a4d0a1684fb74b94032deb4)@gltewalt Don't I need the path to delete the file?

gltewalt

[16:52](#msg5a4d0a57b48e8c356696ebc0)I thought `read m` would take care of that

9214

[16:53](#msg5a4d0a91ba39a53f1ad0829e)@gltewalt `read` returns file names, not their absolute/relative paths

[16:55](#msg5a4d0b1b5355812e574973a6)@Phryxe the downside is that your cwd will be the one to which you moved

gltewalt

[16:56](#msg5a4d0b5029ec6ac311b44fae)`foreach f read request-dir [unless equal? suffix? f %.txt [print f]]`

[17:05](#msg5a4d0d6329ec6ac311b45ddd)If you already `read` in the dir, you don't need the full path to delete. You're already in it

9214

[17:06](#msg5a4d0d9b68d092bb621cefdf)@gltewalt you can't "`read` in the dir"

```
>> read %./test/
== [%qux.txt]
>> pwd
%/Z/home/isheh/dev/red/
```

gltewalt

[17:07](#msg5a4d0dc7ba39a53f1ad0977f)"read in"

9214

[17:07](#msg5a4d0dec03838b2f2a67cde5)@gltewalt whatever, show me how you read in

gltewalt

[17:08](#msg5a4d0df784fb74b94032f793)Try it

9214

[17:09](#msg5a4d0e3503838b2f2a67cfab)@gltewalt as soon as you'll show me how to "read in the dir"

gltewalt

[17:09](#msg5a4d0e4468d092bb621cf3f9)You don't need the dir path to delete files if you are already in the dir

[17:09](#msg5a4d0e56b48e8c3566970648)

```
>> pwd
%/C/ProgramData/Red/
>> ls
    background.jpg         black.jpg              console-2017-1...      console-cfg.red    
    crush-2017-12-...      day5.red               deth2.PNG              gui-console-20...  
    med-tree.png           new.red                q.csv                  quotes.csv         
    reb.html               red.jpg                t                      temp1.jpeg         
    temp2.jpeg             temp3.jpeg             temp4.jpeg             test1.red          
    test2.red              testy                  tree.jpg               trees.jpg          
>> read %./
== [%background.jpg %black.jpg %console-2017-12-19-7750.exe %console-cfg.red %crush-2017-12...
```

9214

[17:10](#msg5a4d0e985355812e57498655)@gltewalt but to "already be in the dir" you need to `cd` to that dir, right?

gltewalt

[17:11](#msg5a4d0ebc5355812e574986d0)Nope

[17:11](#msg5a4d0ec9232e79134dc04de3)

```
>> read %/c/
== [%$Recycle.Bin/ %Config.Msi/ %cygwin64/ %dev/ %DevMgr.bat %Documents%20and%20Settings/ %DRIVE
```

9214

[17:11](#msg5a4d0ed7ba39a53f1ad09cc4)then I don't follow what you're saying

gltewalt

[17:13](#msg5a4d0f2d03838b2f2a67d5dc)As you can see, I'm not in %/c/

```
>> pwd
%/C/ProgramData/Red/
>> read %/c/
== [%$Recycle.Bin/ %Config.Msi/ %cygwin64/ %dev/ %DevMgr.bat %Documents%20and%20Settings/ %DRIVE
```

but `read` will grab it anyway. Without change-dir

9214

[17:13](#msg5a4d0f305355812e57498976)

```
text
>> pwd
%/Z/home/isheh/dev/red/
>> read %./test/
== [%qux.txt]
>> foreach file read %./test/ [delete file]
== false
>> read %./test/
== [%qux.txt]
```

[17:13](#msg5a4d0f3aba39a53f1ad09f0e)@gltewalt have you actually checked it?

Phryxe

[17:13](#msg5a4d0f4568d092bb621cf969)As far as I can tell `read` returns a `block` of file names without the path.

gltewalt

[17:14](#msg5a4d0f6e0163b02810aa7132)

```
>> foreach f read %/c/ [unless equal? suffix? f %.txt [print f]]
$Recycle.Bin/
Config.Msi/
cygwin64/
dev/
DevMgr.bat
Documents and Settings/
DRIVERS/
GEARDIFx_install.log
hiberfil.sys
Intel/
msdia80.dll
msys64/
pagefile.sys
PerfLogs/
Program Files/
Program Files (x86)/
ProgramData/
Recovery/
RPKTools/
Ruby22-x64/
SWTOOLS/
System Volume Information/
Temp/
Users/
Windows/
>>
```

9214

[17:14](#msg5a4d0f87b48e8c3566970bcc)@gltewalt so what? You're printing bunch of files in a directory

gltewalt

[17:15](#msg5a4d0f99edd22308110a9d49)You wan't me to delete all my files?

Phryxe

[17:15](#msg5a4d0fa0b48e8c3566970c3c)LOL

9214

[17:15](#msg5a4d0fa503838b2f2a67d856)\*\*deleting\** file and \*\*removing\** filename from block are different things, don't you think?

gltewalt

[17:15](#msg5a4d0fb4ba39a53f1ad0a18f)Yes.

9214

[17:16](#msg5a4d1007edd22308110a9f38)@gltewalt then show me how you delete files in a directory that differs from your cwd using only `read` and `delete`

gltewalt

[17:17](#msg5a4d1039b48e8c3566970f87)Gah, nevermind. You're right

9214

[17:18](#msg5a4d10780163b02810aa77d0)because if you have `./foo.txt` and `./test/foo.txt`, without moving to `./test/` directory or `rejoin`ing `./test/` and `foo.txt`, you'll delete `./foo.txt`

gltewalt

[17:19](#msg5a4d108f0163b02810aa7889)Yep yep

[17:19](#msg5a4d109bedd22308110aa257)(Don't mind me, I'm just goofy)

9214

[17:20](#msg5a4d10dfb48e8c35669712d3)but you're smart enough to catch tricky bugs, so cheer up :sparkles:

gltewalt

[17:20](#msg5a4d10f2ba39a53f1ad0a85e):sparkles:

[18:16](#msg5a4d1df80163b02810aac560)Wildcards would be handy for files

greggirwin

[18:35](#msg5a4d226d29ec6ac311b4df4c)There are various ways to do the file thing, as always. Once you have the names, if you read from a dir you're not in, you can prepend the dir name you read to each file. If you \*are* in a dir and read it, you get back relative file names. You can then use `clean-path` to make them absolute. That can be a nice, or dangerous trick. e.g. do a `read` on a dir, then print the `clean-path` of each file. Change dirs, and do it again.

[18:36](#msg5a4d22bbba39a53f1ad115fd)@gltewalt, I have an old file list lib for R2. The basics of globbing should be enough, and the hard part is designing your globbing dialect. I'm sure we'll see that built in, as it's very useful.

gltewalt

[19:00](#msg5a4d285284fb74b940338e39)Red Language ‚ÄúYou‚Äôll shoot your eye out, kid‚Äù

BeardPower

[20:30](#msg5a4d3d6c29ec6ac311b579b6)@RnBrgn  
&gt;use the -- cli option

This will just run the command-line REPL, but red.exe is the command-line front-end.

[20:36](#msg5a4d3ed6edd22308110ba407)red.exe -h shows the help/commands, but when Red is compiled from the sources, it's only the REPL.

[20:37](#msg5a4d3f0db48e8c3566981d25)Sow how do I compile from sources, so I have the same red.exe as from the download section.

rebolek

[20:38](#msg5a4d3f280163b02810ab811f)@BeardPower why do you need same red.exe?

BeardPower

[20:38](#msg5a4d3f4eba39a53f1ad1b91b)@rebolek  
So I can compile and use the -e option wihout the REPL.

rebolek

[20:39](#msg5a4d3f6eb48e8c3566981ed6)red.exe is encapped Rebol with Red's REPL.

BeardPower

[20:39](#msg5a4d3f7db48e8c3566981f07)red 0.6.3 does not have the option.

rebolek

[20:39](#msg5a4d3f9868d092bb621e0938)Red is compiled with Rebol, there's no Red compiler yet.

BeardPower

[20:39](#msg5a4d3f9cedd22308110ba894)So there is no tutorial on how to create the red.exe as in the download myself?

rebolek

[20:40](#msg5a4d3fac29ec6ac311b58515)You would need Rebol SDK license key.

BeardPower

[20:40](#msg5a4d3fd5ba39a53f1ad1bbc4)Ahhh! That explains, that I found no information in building it :) Thanks!

rebolek

[20:40](#msg5a4d3fda03838b2f2a68edde)But a) I don't think it's worth it, b) getting that key is impossible imo.

BeardPower

[20:41](#msg5a4d3fea29ec6ac311b586b5)I thought there was some script in the repo for doing it.

rebolek

[20:41](#msg5a4d400e29ec6ac311b587c9)No, but red.exe does not provide any advantage over repl imo.

BeardPower

[20:42](#msg5a4d4029232e79134dc165c5)a.) yeah, besides the feature to compile outside the REPL.  
b.) because it's EOL?

rebolek

[20:42](#msg5a4d404584fb74b940341361)ad b) basically yes

BeardPower

[20:43](#msg5a4d4064edd22308110bacfa)Preparing for the big show then :+1:

rebolek

[20:44](#msg5a4d4094b48e8c356698243c)ad a) you can't compile in Red repl anyway, you need to use Rebol for that and it's so easy to do that I don't see need for red.exe at all.

[20:44](#msg5a4d40c729ec6ac311b58c5d)for newbies, ok

BeardPower

[20:45](#msg5a4d40ef03838b2f2a68f3e7)Convinced :grinning:

[20:47](#msg5a4d4170b48e8c35669828e1)I'm trying to pull other programmers into the Red boat, so I need to make sure I myself understand specific parts ;-)

rebolek

[20:47](#msg5a4d417e68d092bb621e12a4)cool :)

BeardPower

[20:48](#msg5a4d41a2ba39a53f1ad1c570)I showed them your charting example and they were quite amazed about the performance and LoC.

rebolek

[20:49](#msg5a4d41ef5355812e574ab8c0)of course the LoC is low, it's unfinished ;)

BeardPower

[20:50](#msg5a4d420c5355812e574ab91c)Sure, but their PoC was about the same unfinished state as your example, but they used C#.

[20:51](#msg5a4d423d68d092bb621e16f7)So it was a fair comparison.

rebolek

[20:51](#msg5a4d425068d092bb621e1775)OK then :)

[20:55](#msg5a4d4343b48e8c3566983419)I should make Gitter stats viewer in Red, it would force me to improve my graph style :chart\_with\_upwards\_trend:

BeardPower

[20:56](#msg5a4d437403838b2f2a6900f5)Their cross-hair was quite laggy, while moving on the chart, yours was very smooth.  
&gt;line follows mouse without any delay

I need to check some information about the "custom widget" ideas, so I can start on trying to implement some pie/donut chart widgets.

[20:57](#msg5a4d43a903838b2f2a6902a4)&gt;I should make Gitter stats viewer in Red, it would force me to improve my graph style :chart\_with\_upwards\_trend:

Or some Red coins ;-)

rebolek

[21:03](#msg5a4d451cedd22308110bc6a6)hehe :)

[21:05](#msg5a4d45a1232e79134dc183b3)btw, stats were updated with newer data (but clicking-on-user bug is not fixed yet)

greggirwin

[21:33](#msg5a4d4c3fba39a53f1ad1fd5b)@BeardPower, https://github.com/red/red#running-red-from-the-sources-for-contributors may be good to show to some people, if they don't want a pre-built binary. Requires free Rebol, but no SDK or key.

BeardPower

[21:47](#msg5a4d4f7603838b2f2a694644)@greggirwin :+1:

## Thursday 4th January, 2018

gltewalt

[02:35](#msg5a4d92fc0163b02810ad0546)Looks like `save` saves `{ }` characters to file if it's a constructed string

[02:35](#msg5a4d9303b48e8c356699aad3)Is it supposed to?

[02:36](#msg5a4d931503838b2f2a6a6bee)

```
Red []

svg: make string! 10000
emit: func [code][repend svg copy code]

emit [
  <html>
  <body>
  <h1>"My first SVG"</h1>
  <svg width="100" height="100">
    <circle cx="50" cy="50" r="40" stroke="green" stroke-width="4" fill="yellow" />
  </svg>
  </body>
  </html>
]

save %test.html svg     ; saves {} characters to file
;write %test.html svg   ; works correctly
clear svg
```

rgchris

[02:46](#msg5a4d95a0ba39a53f1ad34e0a)@gltewalt Yep‚Äîthat's correct. SAVE will write the data to file in Red format. WRITE will write just the content of the string.

gltewalt

[02:55](#msg5a4d97a184fb74b940359d3d)ok

maximvl

[20:35](#msg5a4e902368d092bb6224b787)@greggirwin why is globbing dialect hard to design?

gltewalt

[20:40](#msg5a4e9145ce68c3bc747c567e)Looks like `to email!` or `to-email` currently does nothing

rebolek

[20:41](#msg5a4e91955355812e5751a4d9)@gltewalt why do you think so?

```
>> type? to email! "as@df.gh"
== email!
```

gltewalt

[20:42](#msg5a4e91bc29ec6ac311bc6e52)Oh I was under the impression that it turned a value into an email format

[20:50](#msg5a4e93a103838b2f2a6fc87e)if you do `x: to-email "rebolek"` the program knows it's an email type, but programmers will see a `word` if they inspect it with probe or ??

[20:50](#msg5a4e93b3b48e8c35669eebbb)Am I having another bad brain day?

rebolek

[20:52](#msg5a4e93f3edd2230811128857)it's like `false` is `logic!` that looks like a `word!`

[20:52](#msg5a4e940eb48e8c35669eedd3)it's more limitation of the console displaying method than of Red

## Friday 5th January, 2018

rgchris

[00:38](#msg5a4ec8f40163b02810b3549a)@gltewalt Mind that EMAIL! (like FILE!, URL!, etc.) is just a type of string.

```
addresses: reduce [to email! "foo"]
probe type? probe first addresses
append first addresses "@bar"
probe addresses
```

greggirwin

[12:51](#msg5a4f74cdb48e8c3566a2e312)@maximvl, the basics aren't hard, of course. It's when you want to generalize it, as some systems or libs do, that it gets trickier. e.g., supporting `**` as a recursion syntax, returning relative vs absolute names.

[12:52](#msg5a4f7503232e79134dcc46f6)And looking at the dialect in more than just the context of a shell listing.

maximvl

[13:13](#msg5a4f79ebba39a53f1adc5558)mm not sure why would you want to generalize that far

[13:14](#msg5a4f7a1b29ec6ac311c086e0)let's see if I can add something like this into my shell dialect :D

JiaChen-Zeng

[17:09](#msg5a4fb163ba39a53f1add917a)I want to write a function `once` with a code block that will only execute the code once, like:

```
>> do-something: does [
[    once [
[      print "Do initialization at the first time."
[    ]
[    print "Do stuff."
[    ]
>> do-something
Do initialization at the first time.
Do stuff.
>> do-something
Do stuff.
>> source do-something
do-something: func [][
    print "Do stuff."
]
```

Can this be achieved?

gltewalt

[17:13](#msg5a4fb256b48e8c3566a43c79)Do you want a on-load type of thing?  
You could use a Boolean flag, and `either`

9214

[17:19](#msg5a4fb3a129ec6ac311c1d6ce)@AT-Aoi

```
once: func [block][
    do block
    parse body-of context? first block [
        to remove ['once block!] to end
    ]
]

do-something: has [ref][
    once [
        ref
        print "Do initialization at the first time."
    ]
    print "Do stuff."
]

do-something
do-something
?? do-something
```

[17:20](#msg5a4fb3dbba39a53f1add9fe5)a little downside is that function that contains `once` should `local`ize some dummy word (`ref` in this case) which will serve as a reference back to context of a calling function

[17:20](#msg5a4fb3eb0505ad8b45bb4621)you then can fetch function's body and modify it

JiaChen-Zeng

[17:21](#msg5a4fb41c6117191e612d0498)@gltewalt Yes. I know `either` will work, but I think it would be cool to do like that.

9214

[17:21](#msg5a4fb4250505ad8b45bb4738)the other way is to use wrapper akin to `collect` and `keep`

JiaChen-Zeng

[17:24](#msg5a4fb4b2ce68c3bc7481aecc)@9214 Thank you. It works.

9214

[17:24](#msg5a4fb4cfba39a53f1adda5b8)@AT-Aoi also macros

JiaChen-Zeng

[17:25](#msg5a4fb50bba39a53f1adda6e0)Then I removed the `ref` here and it breaks. Is this required?

9214

[17:25](#msg5a4fb51f29ec6ac311c1e018)@AT-Aoi yes, as I said, you need some dummy word for `once` to work

[17:25](#msg5a4fb5276117191e612d0c4b)in this case it's `ref`

JiaChen-Zeng

[17:27](#msg5a4fb59ace68c3bc7481b339)I see.

gltewalt

[17:36](#msg5a4fb7b1ba39a53f1addb90b)Super simple version:

```
execute: true

do-something: does [
  either execute [print "Doing initialization"][print "Do stuff"]
  execute: false
]
```

[17:37](#msg5a4fb7daba39a53f1addbafa)No seperate func though

[18:04](#msg5a4fbe37ce68c3bc7481e237)Or protected flag namespace with `do`ing block

```
*init*: context [
  run: true
]

do-something: does [
  once: [print "Doing initialization"]
  either *init*/run [do once *init*/run: false][print "Do stuff"]
]
```

[18:04](#msg5a4fbe46290a1f456152a5bd)Of course, @9214 way is much cooler

greggirwin

[18:04](#msg5a4fbe4a0505ad8b45bb8410)If you don't care about modding the block itself...

```
once: func [block][also  do block  clear block]

do-something: has [ref][
    once [print "Do initialization at the first time."]
    print "Do stuff."
]

do-something
do-something
?? do-something
```

[18:05](#msg5a4fbe59b48e8c3566a489be)@9214's version \*is* way cooler.

9214

[18:05](#msg5a4fbe79290a1f456152a6d8)it could also be more nicer looking, say `only once`, there `once` is a dummy word and `only: func ['ref block][...]`

gltewalt

[22:40](#msg5a4ffed60505ad8b45bcdf7f)Anyone know what the issue is with GUI console that prevents `wait` from working right?

[22:41](#msg5a4fff23ba39a53f1adf4679)Even rolling my own interval thing results in the same behavior.

```
set-interval: func [fn interval][
  tick: now/time + interval
  forever [if equal? tick now/time [tick: now/time + interval fn]]
]
```

rebolek

[22:45](#msg5a4ffffd232e79134dcf5011)@gltewalt it is known limitation of current GUI console, that will be fixed with brand new `text-area!` based console.

gltewalt

[22:46](#msg5a50005b0505ad8b45bce91c)I was wondering if anyone knew why the limitation, or what the limitation is as it's currently written

[22:47](#msg5a50007b03838b2f2a76d58f)(I can't read and decipher red/system very well yet. Reading `wait`.)

[23:13](#msg5a50069c03838b2f2a76f0e2)Oh well, hopefully not much longer until new console

## Saturday 6th January, 2018

abdllhygt

[20:07](#msg5a512c87290a1f456158be87)hi

[20:08](#msg5a512cb1ba39a53f1ae40a32)can i list files of folder?

[20:08](#msg5a512cbb0505ad8b45c1ab53)how?

gltewalt

[20:25](#msg5a5130a85355812e575d8f85)Did you try `ls`

abdllhygt

[20:26](#msg5a5130dd29ec6ac311c880f0)no but i find those: dir and dir-list

[20:39](#msg5a5133e55355812e575d9daa)i haven't a problem now, thanks

rgchris

[20:51](#msg5a5136e429ec6ac311c899d1)You can also obtain a block of folder contents using `read %folder/`

abdllhygt

[21:33](#msg5a5140bc6117191e6133cc89)@rgchris thanks, good code

gltewalt

[21:50](#msg5a5144ac290a1f4561592476)How do we do like a `Ctrl+V` from regular Red code?

greggirwin

[21:51](#msg5a5144d3ba39a53f1ae476d8)You mean sending, or checking in an event handler?

gltewalt

[21:51](#msg5a5144dd5355812e575de844)Sending

greggirwin

[21:52](#msg5a51452c6117191e6133dceb)To another process, or just to a face?

gltewalt

[21:53](#msg5a5145610505ad8b45c212b3)Well, for example, fire off a `Ctrl+L` to clear the GUI Console instead of pressing the keys

greggirwin

[21:55](#msg5a5145e803838b2f2a7c034c)Hmmmm, don't see an obvious way ATM. Old tricks don't work.

gltewalt

[21:56](#msg5a5145f26117191e6133e044)Not possible from `Red`?

[21:56](#msg5a5146150505ad8b45c21572)Is `#"^L"` supposed to be Ctrl+L? Or is that Command

[21:57](#msg5a5146445355812e575deef3)SendKeys, I guess is the closest thing I can think of

greggirwin

[21:58](#msg5a514678232e79134dd48b26)I have an old dialect to do that, for R2, but it won't work across platforms. Used to be able to print special chars to do it.

gltewalt

[21:58](#msg5a514687232e79134dd48b80)Is that a COM thing?

greggirwin

[21:58](#msg5a51469f232e79134dd48c11)Nope, straight APIs.

## Sunday 7th January, 2018

9214

[17:21](#msg5a525708ce68c3bc748c5b08)can anyone remind me how to use emojis as words?

[17:21](#msg5a52571703838b2f2a801b0c)or is this a feature of upcoming `0.6.3` console engine?

[17:25](#msg5a525806290a1f45615d360f)ah, nevermind, I can just copypaste emojis directly, but current console (on Wine at least) doesn't display them properly

[17:25](#msg5a5258150505ad8b45c627c7)

```
text
üòÅ: 'cool!
```

[17:25](#msg5a52581b290a1f45615d36b9)so as Gitter

gltewalt

[17:57](#msg5a525f91232e79134dd8c90e)This should be sunglasses smiley but returns question mark in GUI console: `#"^(1F60E)"`

toomasv

[18:34](#msg5a52682883152df26d40eefd)Using \[unicode.red](https://github.com/toomasv/unicode):

```
do %unicode.red unicode/chart #01F60E
```

!\[unicode](http://vooglaid.ee/red/sunglass.png)  
Need to have some extra fonts, though.

## Monday 8th January, 2018

gltewalt

[22:50](#msg5a53f5c0290a1f4561656e84)is `issue!` a type of sting?

greggirwin

[22:55](#msg5a53f6e60505ad8b45ce5d6e)It was under R2, but it's a word under Red.

[22:56](#msg5a53f7050505ad8b45ce5de1)I thought it had much more value as a string type.

[22:56](#msg5a53f7286117191e6140216d)Remember, you can use `help` on typesets too.

gltewalt

[22:57](#msg5a53f742ce68c3bc74947737)I was asking because their is inconsistency in the `to` functions

[22:58](#msg5a53f78983152df26d48cdc0)Remember when I was talking to @rebolek about to-email?

[22:58](#msg5a53f796290a1f4561657841)

```
>> to-binary "ok"
== #{6F6B}
>> to-bitset "ok"
== make bitset! #{0000000000000000000000000011}
>> to-block "ok"
== [ok]
>> to-char "ok"
== #"o"
>> to-date "ok"
*** Script Error: cannot MAKE/TO date! from: "ok"
*** Where: to
*** Stack: to-date  

>> to-email "ok"
== ok
>> to-logic "ok"
== true
```

[23:00](#msg5a53f81f5a9ebe4f7561d893)There is no lexical representation when you convert to `email1` or `logic!`

greggirwin

[23:00](#msg5a53f82583152df26d48d0c7)Char is bothersome there, and seems an error might be better. What's the issue with issue!?

gltewalt

[23:02](#msg5a53f87d6117191e614028fc)It's an issue with `email!`. I originally expected to-email "ok" to return "@ok"

[23:02](#msg5a53f8a1232e79134de0ecc0)You can only tell it's `email!` by querying the type

greggirwin

[23:03](#msg5a53f8aa5a9ebe4f7561dadd)Logic is a fixed set of known words. You could file a ticket wishing for it to return `ok@`, but it may be declined.

gltewalt

[23:04](#msg5a53f8f5ce68c3bc74947fc2)I saw that to-issue did tranform it to `#ok`

greggirwin

[23:04](#msg5a53f902ba39a53f1af0b475)You are correct, but it's a bit of a gray area. It's a good question to raise, though, as we need to write down the why and wherefore.

[23:06](#msg5a53f979ba39a53f1af0b64e)Email is a trickier type, because the sigil is actually a delimiter in the form. e.g. with file! or issue!, you can `form` them and the sigil goes away. Not so with email.

gltewalt

[23:06](#msg5a53f97ab48e8c3566b7a7a0)I made sense when @rebolek described how `logic!` can look like an ordinary work, like, `on`, but there isn't a lexical hint for logic values. Emails should have @ somewhere in there

greggirwin

[23:07](#msg5a53f9c55a9ebe4f7561e03a)But then you are modifying the data, not just coercing it to a different type. Not saying we can't, just that it's different.

[23:09](#msg5a53fa1803838b2f2a886c16)`To` does not guarantee round tripping between all value types.

gltewalt

[23:09](#msg5a53fa32232e79134de0f495)But we have syntax to signify lit-word, set-word, get-word, etc. Do we wan't types that are only recognizable by the program vs the programmer?  
I don't know the answer.

greggirwin

[23:10](#msg5a53fa68ba39a53f1af0bc49)That's where `mold/all` comes in.

[23:12](#msg5a53faf6232e79134de0f82b)What is the literal form form an object? ;^)

[23:14](#msg5a53fb4db48e8c3566b7b1c4)Or a vector, or a hash, or an error, or a typeset?

[23:15](#msg5a53fb94b48e8c3566b7b2fe)It may also be that email! lexing adds more rules, in which case `to` could throw an error if the input doesn't meet those specs.

gltewalt

[23:17](#msg5a53fc0bba39a53f1af0c414)Looks like `to-url` is simillar

greggirwin

[23:18](#msg5a53fc406117191e61403c36)Right, you don't want it adding `://` to the head.

gltewalt

[23:18](#msg5a53fc5f6117191e61403cbd)Back to the `to-char`... You think an error would be better?

[23:20](#msg5a53fcb5ce68c3bc7494923d)What about recursively making chars, like - `#"o"#"k"`

greggirwin

[23:22](#msg5a53fd286117191e61404220)Well, it does do that for an empty string, simply because there's nothing to convert. The alt there would be to return a null char. In a single char string, you're good. In a multi-char string, it's not clear you only get the first, though that could be useful too, as you are possibly at an index in a string. Good to doc on Red by Example, or somewhere.

[23:23](#msg5a53fd58ba39a53f1af0cac2)Why would you return more than one result if you specifically asked for a char?

gltewalt

[23:23](#msg5a53fd7f83152df26d48ebbb)Well i guess you wouldn't, but could have `to-char` and `to-chars`

greggirwin

[23:24](#msg5a53fdbf290a1f45616597fe)Now \*that* is a good idea.

gltewalt

[23:25](#msg5a53fde2ce68c3bc749497cf)ujkkmk

[23:25](#msg5a53fdf983152df26d48edc2)sorry, kid got the laptop

greggirwin

[23:25](#msg5a53fdfe290a1f4561659945)Gibberish? Hah!

gltewalt

[23:26](#msg5a53fe10b48e8c3566b7bf55)a secret acronym

greggirwin

[23:26](#msg5a53fe326117191e6140467b)U Just Kant Kontrol My Kid

[23:27](#msg5a53fe6e5a9ebe4f7561f67a)Anyway `to-chars` would be a nice example func, but would need a strong use case for std mezz consideration.

gltewalt

[23:29](#msg5a53fee5ba39a53f1af0d110)probably should ask the team if single character is more useful than error, at least.  
I think it probably is?

greggirwin

[23:30](#msg5a53ff2f03838b2f2a888417)I agree. Let them sleep. @mikeparr, worth noting on RBE you think?

## Tuesday 9th January, 2018

gltewalt

[01:26](#msg5a541a450505ad8b45cf0929)`error? (to-date "a")` is this not supposed to return true or false?

greggirwin

[01:29](#msg5a541afaba39a53f1af14cc4)Need to wrap it in `try`.

gltewalt

[01:35](#msg5a541c685a9ebe4f756280b1)There we go...

```
funcs: [to-binary to-bitset to-block to-char to-date to-email to-file to-float to-get-path to-get-word to-hash to-hex to-image 
to-integer to-issue to-lit-path to-lit-word to-local-file to-logic to-map to-none to-pair to-paren to-path to-percent 
to-red-file to-refinement to-set-path to-set-word to-string to-tag to-time to-tuple to-typeset to-unset to-url to-word]

foreach f funcs [
  either error? try [r: do reduce [f "ok"]] [
    print [crlf f "=> blows up"]
  ][
    print [crlf f] probe r 
  ]
]
```

greggirwin

[01:39](#msg5a541d49b48e8c3566b850d0)You can save a little work by getting the functions directly.

```
funcs: [:to-binary :to-bitset :to-block :to-char :to-date :to-email]

foreach f reduce funcs [
  either error? try [r: f "ok"] [
    print [crlf "It blew up"]
  ][
    print [crlf :f] probe r 
  ]
]
```

gltewalt

[01:39](#msg5a541d6f290a1f4561662688)Hmmm :+1:

greggirwin

[01:40](#msg5a541d7a83152df26d497ea0)Ah, not quite though, as you want the name too.

gltewalt

[01:41](#msg5a541db983152df26d497ff3)That's a thing I don't know - is it possible to get the name from the func?

[01:41](#msg5a541dd2290a1f4561662839)The set-word attached to itself

greggirwin

[01:42](#msg5a541df45a9ebe4f756286d6)No.

[01:42](#msg5a541e225a9ebe4f75628744)Have to do call stack tracing to see what was eval'd to get there. And in your case, you'd get `f`, right?

gltewalt

[01:43](#msg5a541e3983152df26d498173)Yeah

greggirwin

[01:43](#msg5a541e39290a1f4561662994)Values know nothing about words that refer to them.

gltewalt

[01:43](#msg5a541e476117191e6140de7e)I think I saw Bolek do it once though

greggirwin

[01:44](#msg5a541e72b48e8c3566b85471)It was surely a trick. Bolek is a trickster. :suspect:

gltewalt

[01:46](#msg5a541f056117191e6140e0eb)Probably :smile:

[01:48](#msg5a541f69290a1f45616632b3)`print [crlf to-word quote :f`

[01:49](#msg5a541fb803838b2f2a8916d8)No, that just gives `f`

[01:52](#msg5a542070290a1f45616636b8)Works with one line

```
>> print to-word quote :to-date
to-date
```

Phryxe

[15:32](#msg5a54e091232e79134de5c1a0)More newbie stuff. If I have `block` or `hash` with records (key+value) where key is used several times, how do I keep both records (key+value)? I only want unique records. I thought that with /skip union would count key+value as one record.

```
x: [1 "aa"]
y: [1 "bb"]
union/skip x y 2
== [1 "aa"]
```

9214

[15:34](#msg5a54e1065a9ebe4f7566a9a9)@Phryxe you want `[1 "aa" 1 "bb"]`?

[15:39](#msg5a54e235ce68c3bc74992a5b)seems that `union/skip` sees that two keys are identical and removes the second record

[15:39](#msg5a54e23dce68c3bc74992a84)not sure if this is a bug or intended behavior

are1000

[15:43](#msg5a54e30d290a1f45616a3e6d)Shouldn't it be intended behaviour tho? Union operates on sets and sets can only have unique keys

9214

[15:43](#msg5a54e32f83152df26d4daa07)yes, that makes sense

Phryxe

[15:43](#msg5a54e330ae53c15903c8688a)@9214 Yes

9214

[15:43](#msg5a54e33d232e79134de5d0b2)@Phryxe then use `append x y`

[15:44](#msg5a54e3566117191e6145222b)or `append copy x y` if you don't want `x` to be modified

Phryxe

[15:44](#msg5a54e378ce68c3bc74993310)Then I want the "records" to be unique.

9214

[15:46](#msg5a54e3d1ae53c15903c86cdc)I don't quite get what you mean by unique records :(

[15:46](#msg5a54e3eab48e8c3566bc6073)in `[1 "aa" 1 "bb"]` they are already not unique

[15:47](#msg5a54e3f7ce68c3bc7499356d)ah, I see

Phryxe

[15:47](#msg5a54e407ae53c15903c86eb1)I see now that when I append I need to check if the key+value exist

[15:47](#msg5a54e42ad0514c785b0cae4f)I have a long list of keys+values

are1000

[15:48](#msg5a54e437ce68c3bc749937c8)@Phryxe you can tell us what result you want exactly given those previous inputs

9214

[15:50](#msg5a54e4be6117191e61452bcc)@Phryxe that's what `altern` might do, but it doesn't work as expected as of now

Phryxe

[15:50](#msg5a54e4c8232e79134de5d984)The result is fine as you showed, but if I have many keys+values I thought I could use `unique/skip x y 2` (fails as union).

9214

[15:51](#msg5a54e50d6117191e61452dfa)it still feels like a bug

Phryxe

[15:54](#msg5a54e5b383152df26d4db958)@9214 @are1000 OK, I don't know. Thanks for now.

rebolek

[16:42](#msg5a54f10cce68c3bc749989e5)@Phryxe why not using `map!`?

9214

[17:49](#msg5a5500c6ba39a53f1af62626)@Phryxe see discussion in https://gitter.im/red/bugs

dander

[19:49](#msg5a551cddba39a53f1af6d7ac)@greggirwin @gltewalt  
&gt; You can save a little work by getting the functions directly.

Overly broad?

```
funcs: collect [
    foreach word words-of system/words [
        if find/match to-string word "to-" [keep word]
    ]
]
```

gltewalt

[20:28](#msg5a55260583152df26d4f6a8f)I don‚Äôt think so, but then you have to do something with the collected

[20:29](#msg5a55263083152df26d4f6c3d)Or ‚Äòstill have to‚Äô

dander

[21:02](#msg5a552df583152df26d4f993a)that's true. I guess the whole thing can be done all in the loop...

```
foreach fun words-of system/words [
    if find/match to-string fun "to-" [
        err?: error? try [r: do reduce [fun "ok"]]
        print [:fun either err? ["=> blows up"][r]]
    ]
]
```

gltewalt

[21:23](#msg5a5532b5290a1f45616c1e91)Looks good to me

## Wednesday 10th January, 2018

toomasv

[04:08](#msg5a5591c2b48e8c3566c00f8b)&gt; try \[r: do reduce \[fun "ok"]

:joy:

greggirwin

[04:46](#msg5a559a9cd0514c785b105bd3)The stuff of life. :^)

toomasv

[05:19](#msg5a55a2496117191e61492aa9)I suggest reducing it moderately

gltewalt

[06:00](#msg5a55abfeba39a53f1af96bdc)Could have `[word msg]` for both `has` blockys, I reckon

Phryxe

[06:07](#msg5a55adb7d0514c785b10ad2c)@rebolek I don't have unique keys and I wanted to use `exclude`, `union` and `unique`. I'll try to encapsulate my keys+values with subblocks instead as suggested by @greggirwin.

gltewalt

[06:39](#msg5a55b50cba39a53f1af994ae)Why does this error?

```
>> do reduce [to-word 'ok]
*** Script Error: ok has no value
*** Where: do
*** Stack:
```

rebolek

[06:59](#msg5a55b9dace68c3bc749d6487)@Phryxe I see, ok.

toomasv

[07:01](#msg5a55ba4a232e79134dea421d)@gltewalt  
1\. `to-word 'ok` -&gt; `ok`  
2\. `reduce [to-word 'ok]` -&gt; `[ok]`  
3\. `do [ok]` -&gt; `*** Script Error: ok has no value`

gltewalt

[07:04](#msg5a55bb16232e79134dea45c9)Of course. :sweat\_smile:

[07:22](#msg5a55bf4f290a1f45616e9bba)My previous pasting was broken

```
err-msg: func [word msg] [print [crlf word crlf msg]]
result-msg: func [word msg] [print [crlf word] probe msg]

test-conversions: func [:val][
    foreach w words-of system/words [
        if find/match to-string w "to-" [
            err?: error? try [r: do reduce [w val]]
            either err? [err-msg w "(blows up)"][result-msg w r]
        ]
    ]
]
```

[07:31](#msg5a55c143ba39a53f1af9ce7f)Probably still broken, but time to sleep. I keep stumbling around

toomasv

[12:32](#msg5a5607c883152df26d53d961)@gltewalt I played with your code a bit and \[here](http://vooglaid.ee/red/type-conversion.png) is the result:  
!\[conversion-table](http://vooglaid.ee/red/type-conversion.png)  
I left out `to-OS-path` (which is `unset`), `to-image` and `to-unset`.  
Following values were used for conversions:

```
types: compose [
	hex #00000001
	local-file "file.red"
	file %file.red
	paren (to-paren [paren])
	red-file %red-file.red
	logic (true)
	set-word (to-set-word 'set-word)
	block [block]
	bitset (charset "abc")
	binary #{01}
	char #"a"
	email e@mail
	float 1.0
	get-path (to-get-path [get path])
	get-word (to-get-word 'get-word)
	hash (to-hash [hash])
	integer 1
	issue #issue
	lit-path 'lit/path
	lit-word 'lit-word
	map #(map: 1)
	none (none)
	pair 1x1
	path (to-path [some path])
	percent 1%
	refinement (to-refinement 'refinement)
	set-path (to-set-path [set path])
	string "string"
	tag <tag>
	time 12:00
	typeset (to-typeset [typeset!])
	tuple 0.0.0.1
	url (to-url 'url)
	word (to-word 'word)
	date 2018-01-01
]
```

And I checked vals with this:

```
>> foreach [type val] types [print [type type? :val]]
hex issue
local-file string
file file
paren paren
red-file file
logic logic
set-word set-word
block block
bitset bitset
binary binary
char char
email email
float float
get-path get-path
get-word get-word
hash hash
integer integer
issue issue
lit-path lit-path
lit-word lit-word
map map
none none
pair pair
path path
percent percent
refinement refinement
set-path set-path
string string
tag tag
time time
typeset typeset
tuple tuple
url url
word word
date date
```

9214

[12:32](#msg5a5607fb5a9ebe4f756cdc2c)"played a bit", duh :D

toomasv

[12:34](#msg5a560847290a1f4561702928)There might be some errors, didn't check thoroughly yet.

BeardPower

[12:34](#msg5a56085a6117191e614b41e7)@toomasv Slow down!! You letting me look old ;-)

9214

[12:34](#msg5a560864290a1f45617029b2)that would be helpful for the team anyway, good job :clap:

toomasv

[12:35](#msg5a5608766117191e614b424e):)

9214

[12:38](#msg5a56092a83152df26d53e11b)we, old farts, just lagging behind :older\_man:

toomasv

[12:38](#msg5a5609536117191e614b46c0)Here is the \[code](https://gist.github.com/toomasv/af7fb8c5f3534b7865a1c2708dab1721) for checking, but I must warn you - drawing this out takes soooome time

pekr

[12:40](#msg5a5609cc6117191e614b48ee)cool. Such visual helpers might be part of the language itself :-)

BeardPower

[12:42](#msg5a560a3cae53c15903ce972d)Absolutely. Having features like this in a Red IDE would be awesome!

[12:43](#msg5a560a5b232e79134dec0025)Lighttable on Steroids :)

pekr

[12:44](#msg5a560aa45a9ebe4f756cecad)I already liked R2 Word Browser. Have you seen it? You can launch R2, type Desktop, go to the Rebol / Tools section ... useful help tool, though visually a bit aged ...

rebolek

[12:45](#msg5a560b01d0514c785b12942e)"it has retro look" sounds better

9214

[12:46](#msg5a560b0cae53c15903ce9b41):)

BeardPower

[12:48](#msg5a560b9d232e79134dec071c)@toomasv  
&gt;Here is the \[code](https://gist.github.com/toomasv/af7fb8c5f3534b7865a1c2708dab1721) for checking, but I must warn you - drawing this out takes soooome time

Thanks for the warning! It also freezes the Windows UI until it's finished. Dragging around is laggy. First I thought your code killed my Desktop ;-)

toomasv

[12:49](#msg5a560bd6232e79134dec0873)Yes, don't know how to optimize it

BeardPower

[12:51](#msg5a560c6eae53c15903cea34f)We need to dig deeper into something like these "spreadheet" stuff, as it does not really render a lot of things. I'm confident that the community will come up with a super fast implementation in the end :)

pekr

[12:53](#msg5a560cb5ae53c15903cea547)Well, I also do remember, from the past R2 days, that large areas to refresh were quite slow. The question is, what is the cause of the slowness. Might be many things, who knows. Well, @rebolek did some grid system, so he might know some pointers ...

BeardPower

[12:53](#msg5a560cd3b48e8c3566c287e8)There exist special data structures for text editors and other stuff, which proved to be efficient.

[12:54](#msg5a560d196117191e614b5b57)Need to collect all the info, once I have more free time.

rebolek

[12:57](#msg5a560dcb6117191e614b5e8c) @pekr I did `text-table`, I wouldn't call it a grid, it's optimized for text data.

toomasv

[13:33](#msg5a5616225a9ebe4f756d2c62)\[Here](http://vooglaid.ee/red/type-conversion2.png) is table with converted values, AND highlighter to help navigation (\[code](https://gist.github.com/toomasv/af7fb8c5f3534b7865a1c2708dab1721)):  
!\[conversions](http://vooglaid.ee/red/type-conversion2.png)  
That is, if you have enough time to wait for drawing..

pekr

[13:36](#msg5a5616f8ba39a53f1afb9b1e)Is the drawing really so slow, or is that the computation of particular results?

toomasv

[13:41](#msg5a561801290a1f4561707a70)Without `view` it is done at once.

pekr

[13:42](#msg5a56182d6117191e614b98d1)Wow, it almost killed my PC :-) There was something like half a minute outage, when even ctrl + alt + del did nothing, you could not switch between the apps, the only thing which worked was moving my mouse around. Once it appeared, Red console was at something like 39MB of memory here, which is not that much. When I tried to close the window, it somehow "undraw" itself from top to bottom and it lasted over 5 secs. Strange ....

[13:42](#msg5a56185383152df26d543907)@qtxie ? -----^

toomasv

[13:43](#msg5a56188fb48e8c3566c2cfae)Yes, I have seen this before with large drawings - it deletes itself in steps, and you have to kill the same man twice

BeardPower

[13:46](#msg5a561930d0514c785b12e6b3)@pekr  
&gt;Red console was at something like 39MB of memory here, which is not that much.

For a spreadsheet like this, it's huge. It should only take about 5MB.

abdllhygt

[13:46](#msg5a56194dae53c15903cef178)Hi!

BeardPower

[13:47](#msg5a561963232e79134dec5b38)Hi and welcome!

9214

[13:47](#msg5a561972b48e8c3566c2d9e1)hey @abdllhygt, any questions?

abdllhygt

[13:47](#msg5a561986b48e8c3566c2da3d)@9214 haha i have a question :D

[13:48](#msg5a561991d0514c785b12e881)@BeardPower thanks!

[13:48](#msg5a5619c8232e79134dec5e54)i need a code as `drop-list/selected/text` :)

qtxie

[13:50](#msg5a561a25ba39a53f1afbad35)@pekr Because the native control are heavy and the app create too many base faces, that's why people use DirectUI when they need to show a lot elements inside a window.

rebolek

[13:51](#msg5a561a4fd0514c785b12ed9b)I knew why I wrote `text-table` in Draw ;)

qtxie

[13:51](#msg5a561a7ad0514c785b12ee78)Yes, using Draw will be much faster. :smile:

pekr

[13:53](#msg5a561aeeba39a53f1afbb242)Ah, i thought it is using draw - did not look into sources. Well then. So the base face is quite expensive, resource wise, right? Nothing like R3's small gob?

9214

[13:54](#msg5a561afd5a9ebe4f756d49d9)hm, I can't get `drop-list` to work on Wine :confused:

[13:54](#msg5a561b0683152df26d544932)it doesn't display strings

abdllhygt

[13:55](#msg5a561b4eae53c15903cefe64)I can use drop-list on Wine

[13:55](#msg5a561b666117191e614ba981)It displays strings

9214

[13:56](#msg5a561b8ace68c3bc749f694f)okay, the former doesn't work, the latter does

```
>> view [drop-list ["a" "b" "c"]]
>> view [drop-list with [data: ["a" "b" "c"]]]
```

@qtxie :point\_up: regression?

abdllhygt

[13:56](#msg5a561ba8ce68c3bc749f69f2)This code is wrong maybe

[13:57](#msg5a561bc1ce68c3bc749f6a8c)Try `view [drop-list data ["a" "b" "c"]]`

9214

[13:57](#msg5a561bcd6117191e614bac2f)oh, so I need to use `data` keyword

abdllhygt

[13:57](#msg5a561bd6b48e8c3566c2e87e)yeah :D

qtxie

[13:58](#msg5a561c09232e79134dec6c72)@9214 Yes, use `data` keyword.

9214

[13:59](#msg5a561c2ed0514c785b12f78f)@abdllhygt

```
>> view [l: drop-list data ["a" "b" "c"][probe pick l/data l/selected]]
```

qtxie

[13:59](#msg5a561c326117191e614badc0)@pekr We'll support something like `gob` in R3.

pekr

[14:00](#msg5a561c69b48e8c3566c2ec56)Ah, that's news to me. What is the purpose? To get the smallest GUI element as possible?

abdllhygt

[14:00](#msg5a561c8d232e79134dec6fad)@9214 my code is similar your code, but i want short code :)

9214

[14:01](#msg5a561cc26117191e614bb038)@abdllhygt

```
>> view [l: drop-list data ["a" "b" "c"][probe l/data/(l/selected)]]
```

? :)

abdllhygt

[14:02](#msg5a561cdb290a1f456170968c)Oh thank you(!) :D

9214

[14:02](#msg5a561ce983152df26d545488)you're welcome

abdllhygt

[14:02](#msg5a561cfece68c3bc749f70fe)thank you for all your helps :)

qtxie

[14:03](#msg5a561d2983152df26d5455d9)It will support some events only (e.g mouse events) and much cheap. So you can use it in game apps.

rebolek

[14:04](#msg5a561d7b6117191e614bb4ea)That's a good idea.

pekr

[14:04](#msg5a561d7dce68c3bc749f7425)Sounds great!

[14:05](#msg5a561dab5a9ebe4f756d5cb4)Hopefully it is going to be part of 0.6.4 or 0.6.5, once Red project earns its millions during the ICO phase :-)

9214

[14:07](#msg5a561e20ce68c3bc749f7716)&gt; trillions

fixed a typo ;)

rebolek

[14:07](#msg5a561e3b232e79134dec79ee)I hope it won't be part of 0.6.4 because I want 0.6.4 out during my lifetime ;)

9214

[14:08](#msg5a561e606117191e614bba29)we'll fund @rebolek's cryosleep then :D

pekr

[14:12](#msg5a561f515a9ebe4f756d6907)Well, I am in a cryosleep already, waiting for an Amiga NG to appear. Well, and next really good Alien movie too ...

rebolek

[14:15](#msg5a561fead0514c785b130e31)@pekr that will be loooong sleep

9214

[14:17](#msg5a562069d0514c785b130fc4)I would say eternal

abdllhygt

[14:53](#msg5a5628eb6117191e614bfbe9)how to controls file exists in red?

rebolek

[14:53](#msg5a5628ffba39a53f1afc066a)@abdllhygt `exists? file`

9214

[14:54](#msg5a562908290a1f456170e114)@9214 dang, too fast!

abdllhygt

[14:54](#msg5a562911ae53c15903cf5233):( thank you :D

rebolek

[14:54](#msg5a5629216117191e614bfce1)@9214 I am slower only when I'm not here

9214

[14:55](#msg5a56296a290a1f456170e353)https://www.youtube.com/watch?v=DvSXr7jgV8o

are1000

[15:03](#msg5a562b3ed0514c785b1350f1)

```
>> To be or not to be;
== "That is the question."
```

abdllhygt

[16:16](#msg5a563c4b6117191e614c7901)Hi again!

9214

[16:16](#msg5a563c715a9ebe4f756e1f91):wave:

abdllhygt

[16:16](#msg5a563c765a9ebe4f756e1fa0)How to i make that, drop-list default selected is 1

9214

[16:17](#msg5a563ca1232e79134ded3d15)@abdllhygt

```
>> view [drop-list data ["a" "b" "c"] select 1]
```

abdllhygt

[16:50](#msg5a564454ae53c15903d0074a)@9214 thanks again!

greggirwin

[18:17](#msg5a5658a383152df26d55c70b)On spreadsheets, using faces isn't a scalable option. We tried that in the old VB days as well. I've built grid and tree output using draw in R2, and it's scrollable and fine. What you do, then, and how real spreadsheets do it, is track the current cell and have a single `field` you move around for editing. However, for small spreadsheets, which a lot are, you can use the simple approach. Not as efficient, but may let you easily build small things that are very useful, with almost no effort. Anyone remember the work Steve Shireman and I did on that? Should be easy to port.

gltewalt

[20:10](#msg5a56733d290a1f456172a1ef)@toomasv Neat stuff. How about trying something with @rebolek `text-table`?

[20:20](#msg5a5675a4b48e8c3566c521a5)I will try myself at some point but I all of a sudden have 3 big tasks in my lap

toomasv

[21:05](#msg5a56801d6117191e614e1b14)Can't find @rebolek's `text-table`. Any pointers?

dander

[21:34](#msg5a5686f7290a1f45617311b9)@toomasv that is quite useful! It would also be convenient to have the first column contain the original value for that type, so you don't need to trace along the diagonal for it

gltewalt

[21:49](#msg5a568a7283152df26d56e827)https://gitlab.com/rebolek/red-styles/

## Thursday 11st January, 2018

toomasv

[03:50](#msg5a56df00290a1f45617490c3)@gltewalt Thanks! @dander I‚Äôll try, if I can make it running quicker, otherwise not useful.

endo64

[06:33](#msg5a570520d0514c785b1789c7)On Red;

```
>> f: has [s] [s: foreach x [1 2 3] [append "" random 9]]
== func [/local s][s: foreach x [1 2 3] [append "" random 9]]
>> f
== "727"
>> f
== "727221"
>> f
== "727221218"
```

On R2/R3:

```
>> f
== "883"
>> f
== "483"
>> f
== "333"
```

My question is, how local string `""` doesn't grow on R2/R3 in that case? It grows, as expected in `f: has [s] [s: loop 3 [append "" random 9]]`

[06:34](#msg5a57056dce68c3bc74a4032f)Red's behavior looks more correct/consistent to me. But I surprised that it is not same in Rebol.

[06:55](#msg5a570a4a6117191e615062f0)Ok, got it.. it because strings are also local to `foreach`s context in Rebol, but not in Red:

```
>> loop 3 [foreach x [1 2 3] [append "" x]]
== "123"  ; Rebol
== "123123123" ; Red
```

greggirwin

[07:14](#msg5a570ebcce68c3bc74a42b94)Correct.

dsgeyser

[10:39](#msg5a573efcae53c15903d4e236)Is there an easy way in Red to capture another application window (not Red window), as an image?

9214

[11:41](#msg5a574d5b290a1f4561769fec)@dsgeyser AFAIK no, you should use some screencapturing software for that

[11:41](#msg5a574d6c5a9ebe4f75739e6c)though, maybe you can make a `call` to it

rebolek

[11:42](#msg5a574da561a861c927fdd10a)There are certainly some OS functions for screen capture, so interface can be done in Red/System, but it's not \*easy way\*.

9214

[11:42](#msg5a574dc383152df26d5a67ae)maybe @Oldes has something in his pocket of low-level bindings?

Oldes

[11:45](#msg5a574e496117191e6151ce1e)Don't have anything like that.

9214

[11:45](#msg5a574e6961a861c927fdd4f4)hm :^\\ hm :^/ hmmm :^|

abdllhygt

[11:55](#msg5a575094290a1f456176b0ed)Hi!

dsgeyser

[11:55](#msg5a5750a0ba39a53f1a01e3b8)@9214 Had a good laugh as usual....

9214

[11:55](#msg5a5750b75a9ebe4f7573b0d5)hi again @abdllhygt

dsgeyser

[11:56](#msg5a5750d483152df26d5a77fb)class clown

abdllhygt

[11:56](#msg5a5750ded0514c785b1910c8)My program is crashing in this code:

[11:56](#msg5a5750ebd0514c785b1910ed) either secCinsBakiye &gt; (kurAl * adetAl) [

9214

[11:56](#msg5a575101ce68c3bc74a58261)@abdllhygt what's the error message?

abdllhygt

[11:57](#msg5a575137d0514c785b19121e)Error message is no, the program is froze

9214

[11:58](#msg5a5751615a9ebe4f7573b43f)@abdllhygt can you post this code in a gist?

abdllhygt

[12:01](#msg5a57521eb48e8c3566c92dfd)

```
secCinsBakiye: to float! (read rejoin[%db/kasa/ yaziKurCinsAl/text])
kurAl: to float! editKurAl/text
adetAl: to float! editAdetAl/text
either secCinsBakiye > (kurAl * adetAl) [
save rejoin[%db/kasa/ yaziKurCinsAl] (form (secCinsBakiye - (kurAl * adetAl)))
coinAlKasaYol: rejoin[%db/kasa/ listeCoinAl/data/(listeCoinAl/selected)]
	either exists? coinAlKasaYol [
		save coinAlKasaYol (form(adetAl + (to float! (read coinAlKasaYol))))
	][
		save coinAlKasaYol (form adetAl)
	]
	yaziVezneSonuc/text: rejoin["ƒ∞≈ülem ba≈üarƒ±lƒ±! "
	editAdetAl/text secCoinAl " Alƒ±ndƒ±!"]
	yaziVezneSonuc/color: 14.155.27  
	][
	aziVezneSonuc/text: rejoin["ƒ∞≈ülem ba≈üarƒ±sƒ±z! Yeterli "
	 yaziKurCinsAl/text " Yok!"]
	yaziVezneSonuc/color: red
]
```

9214

[12:05](#msg5a5752f0b48e8c3566c932b0)@abdllhygt it's hard to tell on a first sight, are you compiling or interpreting your script?

abdllhygt

[12:05](#msg5a57531583152df26d5a844a)interpreting

[12:08](#msg5a5753c6ba39a53f1a01f440)i start to use Wine3.0RC

9214

[12:11](#msg5a575475ae53c15903d5579d)usually your program freezes because of an infinite loop in a code, but I don't see any above

[12:13](#msg5a5754d2ae53c15903d5595e)and how you figured out that it freezes at this specific part?

abdllhygt

[12:17](#msg5a5755c4290a1f456176c9cd)scenario is:

```
button [
either 0 = 0 [print "freezes"][print "works"]
]
```

[12:17](#msg5a5755c6ce68c3bc74a59bd2):(

are1000

[12:18](#msg5a57560b6117191e6151f76c)@abdllhygt you are on Linux, right?

9214

[12:19](#msg5a57564c61a861c927fe04ce)hm, this one works fine for me on Wine

```
>> view [button [either 0 = 0 [print "freezes"][print "works"]]]
freezes
freezes
freezes
freezes
```

abdllhygt

[12:20](#msg5a57569f83152df26d5a9b55)what's your wine version?

9214

[12:21](#msg5a5756c483152df26d5a9ccb)@abdllhygt

```
isheh@sam ~ $ wine --version
wine-1.6.2
```

abdllhygt

[12:21](#msg5a5756e4ce68c3bc74a5a229)I try to install stable version

9214

[12:22](#msg5a575702290a1f456176d3da)@abdllhygt also, try to update Red with latest build (links are at the very bottom of http://www.red-lang.org/p/download.html, "Direct links to latest builds")

abdllhygt

[12:23](#msg5a57573683152df26d5a9fba)Automated builds, master branch?

[12:23](#msg5a575745d0514c785b193678)i use 0.6.3

9214

[12:24](#msg5a57576cb48e8c3566c94d8b)@abdllhygt http://static.red-lang.org/dl/auto/win/red-latest.exe

abdllhygt

[12:24](#msg5a57578eae53c15903d56b2a)thanks

9214

[12:24](#msg5a57578fce68c3bc74a5a59d)ah, yeah, automated builds will do, they are identical

abdllhygt

[12:29](#msg5a5758bb61a861c927fe1555)HEEY :) doesn't freezes

9214

[12:30](#msg5a5758cc83152df26d5aaad9)@abdllhygt so it was a bug in Red?

abdllhygt

[12:30](#msg5a5758d2290a1f456176dd9d)but gives a error message :)

9214

[12:30](#msg5a5758d4ae53c15903d5729e)or trouble with Wine?

abdllhygt

[12:30](#msg5a5758f0ae53c15903d57424)maybe i find a bug :D

[12:31](#msg5a575918d0514c785b194070)

```
*** Script Error: cannot MAKE/TO float! from: "0.5^/"
*** Where: to
*** Stack: view do-events do-actor do-safe error? view do-events do-actor do-safe
```

9214

[12:32](#msg5a575947b48e8c3566c959c7)@abdllhygt you're trying to convert string with newline in it (`^/` thing)

rebolek

[12:32](#msg5a57594dae53c15903d57646)@abdllhygt use `load` instead

9214

[12:33](#msg5a575986ba39a53f1a02125c)

```
text
>> rejoin ["0.5" newline]
== "0.5^/"
>> to float! rejoin ["0.5" newline]
*** Script Error: cannot MAKE/TO float! from: "0.5^/"
*** Where: to
*** Stack:  

>> to float! "0.5"
== 0.5
>> load rejoin ["0.5" newline]
== 0.5
```

abdllhygt

[12:38](#msg5a575ac5d0514c785b194b37)i convert:  
`load rejoin[%db/kasa/ yaziKurCinsAl/text]`

9214

[12:38](#msg5a575ae261a861c927fe2309)@abdllhygt what's the result of `load`ing?

abdllhygt

[12:39](#msg5a575afeae53c15903d58106)freezes :(

[12:39](#msg5a575b0b290a1f456176e88d)doesn't give a error message

9214

[12:39](#msg5a575b1b61a861c927fe23b6)@abdllhygt can you check this line in CLI?

[12:40](#msg5a575b25d0514c785b194cb8)i.e. not in Wine

[12:40](#msg5a575b3ab48e8c3566c96485)maybe there're some reading permissions on that directory

abdllhygt

[12:40](#msg5a575b3eba39a53f1a021cc3)red.exe?

9214

[12:40](#msg5a575b46d0514c785b194d24)@abdllhygt `red.exe --cli`

[12:40](#msg5a575b585a9ebe4f7573ee26)though it work as :shit: on Wine, try Linux version instead

abdllhygt

[12:42](#msg5a575bcfd0514c785b19514f)i try with sudo now, loading...

[12:47](#msg5a575cee83152df26d5ac3ea)freezes

9214

[12:48](#msg5a575d225a9ebe4f7573f765)@abdllhygt you're `load`ing inside View block, correct?

abdllhygt

[12:49](#msg5a575d52ae53c15903d58ecf)in view in on-click

9214

[12:49](#msg5a575d526117191e61522158)it would be really nice if you'd come up with minimal example of this problem, perhaps there's indeed a bug lurking somewhere :bug:

toomasv

[13:18](#msg5a57642bce68c3bc74a5e817)@dander Here it is, \[workable](https://gist.github.com/toomasv/af7fb8c5f3534b7865a1c2708dab1721). Only row-col highlighters are somewhat picky. Any more suggestions?

abdllhygt

[14:31](#msg5a5775346117191e6152a899)hi!!!!

[14:31](#msg5a57754f5a9ebe4f75748cfd)@9214 @rebolek i fixed the problem :D

9214

[14:31](#msg5a57755dd0514c785b19ea77)@abdllhygt nice!

abdllhygt

[14:32](#msg5a57758b290a1f4561778881)i made a mistake :/

9214

[14:33](#msg5a57759e61a861c927feca02)happens with all of us from time to time ;)

abdllhygt

[14:33](#msg5a5775c261a861c927fecae4):) but red are not good for errors

[14:34](#msg5a5775f95a9ebe4f75749138)red needs "good error message" and gtk support :)

rebolek

[14:35](#msg5a5776186117191e6152af4f)@abdllhygt cool! And I agree it needs GTK support :)

abdllhygt

[14:35](#msg5a57762bba39a53f1a02beef)i leave object pascal and i select red for this project :)

[14:36](#msg5a577662ae53c15903d6293c)I don't know to make a gtk lib :)

dander

[17:23](#msg5a579d9083152df26d5c514c)@toomasv nice! now I just need a bigger monitor :grinning:

toomasv

[17:23](#msg5a579d9cb48e8c3566cafb2e):)

greggirwin

[18:27](#msg5a57aca583152df26d5caa82)@dsgeyser, see http://www.rebol.org/view-script.r?script=capture-screen.r for clues. Also, @moliad wrote a really nice screen capturing utility in R2 some years back.

[18:32](#msg5a57add7290a1f456178f0e7)@toomasv, your table is a great GUI stress test. :^)

toomasv

[18:33](#msg5a57ae06ae53c15903d77b50)@greggirwin But does it work for you?

greggirwin

[18:34](#msg5a57ae45ce68c3bc74a7a952)I saw the highlight on the header row/col, but no other highlighting. Will try again.

[18:35](#msg5a57ae6d61a861c927002d3c)Ah, now I see it. Very subtle.

toomasv

[18:36](#msg5a57ae9bb48e8c3566cb6961)For me highlighting is working, kind of, but sometimes failing!? I'm trying to find the cause.

greggirwin

[18:36](#msg5a57aeacae53c15903d77e5f)Highlight sometimes goes back to row 1 or part of left col.

toomasv

[18:37](#msg5a57aed8d0514c785b1b4a44)It's probably because of the layering of `horz` and `vert`.

greggirwin

[18:37](#msg5a57aee5d0514c785b1b4a68)Takes a looooooong time to close the window. Much longer than to open it.

toomasv

[18:37](#msg5a57aefd61a861c927003062)I have to kill this one three times. Why?

greggirwin

[18:37](#msg5a57af01ba39a53f1a042792)Really nice though, given how new it all is.

toomasv

[18:38](#msg5a57af386117191e61542380) :kissing\_closed\_eyes:

dander

[18:39](#msg5a57af6b290a1f456178f90a)yeah, I have to click the x 3 times too. Each time, only a subset of the faces clear out. pretty interesting effect

greggirwin

[18:40](#msg5a57af805a9ebe4f75760678)We profiled, I think, that blocks are slow to remove from the head, yes? I wonder if something in disconnecting many internal handlers makes it slow, if the GUI objects are destroyed and removed in order.

[18:40](#msg5a57af90290a1f456178f97b)Same here x3.

[18:41](#msg5a57afec290a1f456178fc93)I can't imagine the internals have some limit when destroying faces, but maybe there's some condition that confuses the teardown process.

[18:42](#msg5a57b01461a861c92700365d)Are you both also on Windows?

toomasv

[18:44](#msg5a57b0705a9ebe4f75760d2b)Yup! W10Pro

dander

[18:44](#msg5a57b0ab83152df26d5cc31d)yes, same

greggirwin

[18:47](#msg5a57b14fd0514c785b1b57a8)I wonder if the internal `awake` handler is still processing, sending events to faces, and getting confused as events are active while thing tear down.

toomasv

[18:48](#msg5a57b18f290a1f45617905f0)??? Really dumb here

greggirwin

[18:51](#msg5a57b247ba39a53f1a0439a1)View is trying to tear down the GUI, but Windows is still pumping events, which the GUI sees in a handler called `awake`.

[18:52](#msg5a57b265b48e8c3566cb8125)In the `system/view` object.

[18:55](#msg5a57b32283152df26d5cd071)I think this is the core of tearing things down: https://github.com/red/red/blob/master/modules/view/backends/windows/gui.reds#L508

[18:55](#msg5a57b32eae53c15903d79581)Could change to gui-branch room.

toomasv

[18:57](#msg5a57b38fce68c3bc74a7c418)@greggirwin Yes, I think it would be proper. I have to meditate on the link.

[19:58](#msg5a57c1fe6117191e6154913c)@greggirwin @dander Gee, if I comment out `font` and `para`, I can kill it with one foul strike

greggirwin

[20:07](#msg5a57c40b5a9ebe4f75767be7)I thought about that, seeing them in `free-faces` as treated specially.

toomasv

[20:25](#msg5a57c846b48e8c3566cbf926)When I include these guys in-face as `font [size: 8] para [wrap?: yes align: 'center]`, the excruciating 3xkilling is back.

greggirwin

[20:28](#msg5a57c907b48e8c3566cbfbf7)Which trickles down to `free-font`

toomasv

[20:29](#msg5a57c9226117191e6154b721)Would you confirm, that `font` and `para` are the culprits?

greggirwin

[20:32](#msg5a57c9e0ae53c15903d8196a)Confirmed.

[20:34](#msg5a57ca6aba39a53f1a04c307)2x to kill with just `para` in there.

toomasv

[20:44](#msg5a57ccafba39a53f1a04cde5)So, is it a bug or what?

greggirwin

[20:49](#msg5a57cde883152df26d5d64bd)Changed to red/gui-branch.

## Monday 15th January, 2018

sptorin\_twitter

[10:29](#msg5a5c827bae53c15903ec22f4)Exist simple way to generate sequence in block (for example from 1 to 100)? Or need make loop with append?

9214

[10:29](#msg5a5c82a65a9ebe4f758aff52)@sptorin\_twitter

```
>> collect [repeat i 10 [keep i]]
== [1 2 3 4 5 6 7 8 9 10]
```

are1000

[10:31](#msg5a5c82e4ae53c15903ec24cc)going with the punch:

[10:31](#msg5a5c82e85a9ebe4f758b0181)

```
range: function [max][collect [repeat i max [keep i]]]
```

sptorin\_twitter

[10:31](#msg5a5c830f1dcb91f17750b136)if need from 10 to 20 and from 30 to 40 in one block? append two collect?

are1000

[10:32](#msg5a5c83595ade18be397970eb)no, you can just do

```
range: function [min max][collect [repeat i max [if i >= min [keep i]]]]
```

[10:33](#msg5a5c835fb48e8c3566e02b03)and then `range 10 20`

[10:33](#msg5a5c837a6117191e6168cf49)ooor

[10:34](#msg5a5c83a65a9ebe4f758b065d)

```
range: function [min max][collect [repeat i (max - min) [keep (i + min)]]]
```

sptorin\_twitter

[10:35](#msg5a5c83e5b48e8c3566e02db8)or `make op!`, ok, I see

are1000

[10:35](#msg5a5c83f9517037a212aa37ba)This only works if `min < max`, so you can safely `compose [ (range 10 20) (range 30 40) ]`

[10:36](#msg5a5c84325a9ebe4f758b0913)yep, with `make op!` you can i.e. do `~: make op! :range` and then `compose [ (10 ~ 20) (30 ~ 40) ]`

sptorin\_twitter

[10:37](#msg5a5c847b290a1f45618da635)Tnx. Just thinking some function already exist.

9214

[12:19](#msg5a5c9c4d5a9ebe4f758b99f8)@are1000 I think you can pass an optional predicate in your `range` function

are1000

[12:20](#msg5a5c9c716117191e61696d4a)@9214 to filter what number I want and what numbers I don't want?

9214

[12:20](#msg5a5c9c90ba39a53f1a193910)@are1000 yup

are1000

[12:20](#msg5a5c9c9b6117191e61696df9)@9214 this is against the Jedi way

[12:21](#msg5a5c9cacae53c15903ecb901)`filter range 1 10 function [x] [x >= 5]`

[12:21](#msg5a5c9cccb48e8c3566e0c339)Why put on filter inside, when you can just use it outside and be more clear?

[12:21](#msg5a5c9cd4ce68c3bc74bc8ad0)ReUsAbIlItY

[12:23](#msg5a5c9d3e1dcb91f177515036)(btw. I know it is more optimised the way you suggested, because you only loop once; however I do think that readability, granularity and composability is altogether more important than performance)

9214

[12:30](#msg5a5c9f01ba39a53f1a19471a)true Jedi (or are we Siths?) would create a list comprehension dialect

are1000

[12:32](#msg5a5c9f556117191e61697ac5)Is this even a question? What is Siths favourite colour of lightsabers???

[12:34](#msg5a5c9fd1b48e8c3566e0d1c0)`magic-list [ x in range 1 to 10 where x squared is greater than 10 ]`

rebolek

[12:34](#msg5a5c9fea5ade18be397a216f)I have such a function somewhere.

[12:38](#msg5a5ca0ad6117191e6169810b)http://box.lebeda.ws/~rebolek/rebol/swymir.html

9214

[12:39](#msg5a5ca1111dcb91f1775165a5)I hacked @rebolek's github and here it is  
https://github.com/rebolek/dvorek/blob/master/serie.reb

rebolek

[12:40](#msg5a5ca145ba39a53f1a195122)Ah, that's it, thanks for hacking it in there, @9214

are1000

[12:40](#msg5a5ca155ce68c3bc74bc9ebf)@rebolek this is really cool!

rebolek

[12:46](#msg5a5ca28d290a1f45618e67a8)@are1000 thanks

9214

[12:52](#msg5a5ca3fb290a1f45618e6e70)@dander also did some interesting work with iterators and cyclers IIRC

dander

[17:31](#msg5a5ce565290a1f45618ffa60)@9214 are you talking about \[this gist](https://gist.github.com/dander/66ad65555b30286115cee675b16bf1d7)?  
Mind the mess at the top. There is still a lot of experimentation code in there. I'd like to clean it up and try re-implementing the `generator` function using Doc's \[closure by value function](https://gist.github.com/dockimbel/79237c5454481bcb7d68105281b142a8) but haven't gotten around to it.

9214

[17:35](#msg5a5ce655290a1f45618fff2a)@dander yup

greggirwin

[19:18](#msg5a5cfe7f5a9ebe4f758df0fe)@toomasv also has https://gist.github.com/toomasv/0e3244375afbedce89b3719c8be7eac0 and https://gist.github.com/toomasv/1b1d8e859eeb1acfa230cc5357ca12fa. And I have old R2 stuff: https://gist.github.com/greggirwin/20f11d27bfe8a46075a09264a179f7d1

[19:20](#msg5a5cfefa517037a212ad19d8)As we work on the design of these dialects, and I think we should, the key thing is to have concrete examples of their use.

## Wednesday 17th January, 2018

gltewalt

[05:46](#msg5a5ee31cb48e8c3566ece97c)https://imgur.com/a/7YdFl

[05:47](#msg5a5ee37f6117191e61757988)Giving `input` a `'b` with `call/console/input {echo :-(} x: input` gives an access violation

[05:47](#msg5a5ee38e290a1f45619a55b6)But not with `'a`

[05:49](#msg5a5ee3f7ba39a53f1a25489c)annnnd... now it isn't doing it

[06:00](#msg5a5ee6905a9ebe4f7597eccc)Oh... I know what happened.

```
>> call/console/input {echo hi} x: input
call/console/input {echo hi} x: input
```

:sweat\_smile:

[06:01](#msg5a5ee6b25a9ebe4f7597ed86)Fed it back to itself by accident. Kaboom.

[06:38](#msg5a5eef726117191e6175ae41)`red --cli`

```
call/console/input {echo hi} x: "thirty-four-characters-and-kabooms"
```

With a fresh windows CMD console. Sometimes a string of length 34, sometimes a string of length 37, and not every time.

greggirwin

[17:42](#msg5a5f8b0a517037a212bb279e)What build and version @gltewalt? Local build with current source seems OK.

```
--== Red 0.6.3 ==--
Type HELP for starting information.

>> call/console/input {echo hi} x: "thirty-four-characters-and-kabooms"
hi
== 0
```

9214

[17:43](#msg5a5f8b455ade18be398a3ac6)I vaguely remember something similar being reported a long while ago

greggirwin

[17:43](#msg5a5f8b49517037a212bb2919)

```
>> call/console/input {echo hi} x: input
test
hi
== 0
>> x
== "test"
```

[17:45](#msg5a5f8bc6517037a212bb2c86)https://github.com/red/red/issues/3090 was for a GUI console crash.

9214

[17:46](#msg5a5f8be25a9ebe4f759be549)no, not that, something to do with character limit and `cli`

[17:46](#msg5a5f8c08ce68c3bc74cc728f)maybe this https://github.com/red/red/issues/1281

[17:51](#msg5a5f8d376117191e6179848d)

```
text
>> call/console/input {echo hi} x: input
test
*** Internal Error: reserved for future use (or not yet implemented)
*** Where: call
*** Stack:
```

[17:52](#msg5a5f8d54ba39a53f1a293a7b)

```
text
>> x
== "test"
```

gltewalt

[17:57](#msg5a5f8e85ba39a53f1a2941d9)`Red for Windows version 0.6.3 built 14-Jan-2018/20:06:48-07:00`

[18:01](#msg5a5f8f6bce68c3bc74cc8adf)`Win7 64bit`

[18:09](#msg5a5f9150517037a212bb51b2)Also blows up with `set 'x "blahblahblah"` when the string is length of 34

[18:10](#msg5a5f91acb48e8c3566f111fa)I know it‚Äôs roughly equivalent. Has different side effects for scope sometimes, if I remember correctly

greggirwin

[19:45](#msg5a5fa7eaae53c15903fdc4cd)I'm also on Win7 64-bit, but can't dupe this problem.

gltewalt

[19:47](#msg5a5fa8625a9ebe4f759ca141)New command.exe, the `red ‚Äîcli`, then paste in that snippet

[19:48](#msg5a5fa8731dcb91f17761f0be)\*then

greggirwin

[19:51](#msg5a5fa9441dcb91f17761f52b)That's what I did. Works fine.

gltewalt

[19:56](#msg5a5faa66290a1f45619f02e6)I swear it‚Äôs happening.  
I swear :sweat\_smile:

[19:56](#msg5a5faa82b48e8c3566f1b330)Haven‚Äôt tried different build yet

greggirwin

[20:09](#msg5a5fad68ce68c3bc74cd5093)I believe you. Just need to find the difference in environs.

## Thursday 18th January, 2018

ghost~5680c5f416b6c7089cc058a5

[12:02](#msg5a608cb85ade18be398fa03b)I think it may be fixed in the latest build.

On a month old console I get -

```
>> call/console/input {echo hi} x: input
test
hi

*** Runtime Error 1: access violation
*** at: 77AE1161h
```

On today's automated build, I get -

```
>> call/console/input {echo hi} x: input
test
hi
== 0
```

abdllhygt

[16:16](#msg5a60c8451dcb91f1776826dd)hi again

9214

[16:16](#msg5a60c85c5ade18be39913c28)what's up @abdllhygt ?

abdllhygt

[16:16](#msg5a60c8775a9ebe4f75a2f5d0)@9214 i have a question, you guess :)

[16:17](#msg5a60c88bae53c1590303ea8e)

```
parse gelen [
		{yaz } copy text to {\n} (print text)
]
```

[16:18](#msg5a60c8e1290a1f4561a5279f)i want to keep `new line`

9214

[16:19](#msg5a60c8fc5a9ebe4f75a2f961)you mean at the end of the `text` should be `\n`?

abdllhygt

[16:19](#msg5a60c9061dcb91f177682ae4)yes

9214

[16:19](#msg5a60c909517037a212c248d1)try `thru {\n}`

[16:19](#msg5a60c916ae53c1590303ee68)instead of `to {\n}`

abdllhygt

[16:22](#msg5a60c9b3ce68c3bc74d35d3c)doesn't work, i guess; the ask func don't have a new line?

[16:22](#msg5a60c9cb6117191e6180b42b)i take with `ask`

9214

[16:22](#msg5a60c9da290a1f4561a52d5e)you want `\n` \*\*as symbols\** or by `\n` you mean literal `newline`?

abdllhygt

[16:23](#msg5a60ca041dcb91f1776830bd)no, i want newline

9214

[16:24](#msg5a60ca4fba39a53f1a300e03)then it should be `thru newline`

[16:25](#msg5a60ca8f290a1f4561a53248)Red doesn't use C-style escape sequences (such as `\n`)

abdllhygt

[16:27](#msg5a60cad75ade18be39914da4)sorry doesn't work

[16:27](#msg5a60cadece68c3bc74d365a6)i see

9214

[16:28](#msg5a60cb28290a1f4561a53630)

```
text
>> parse "yaz foo bar^/qux baz"["yaz " copy text to newline (print text)]
foo bar
== false
>> parse "yaz foo bar^/qux baz"["yaz " copy text thru newline (print text)]
foo bar

== false
```

[16:28](#msg5a60cb331dcb91f177683b15)which one of these you need?

[16:29](#msg5a60cb4e5a9ebe4f75a30b85)note that this rule will work only once for one `newline`

[16:29](#msg5a60cb625ade18be399150c5)here `^/` is an escape sequence for newline

abdllhygt

[16:30](#msg5a60cbbc5ade18be399152e5)can you show with ask func?

9214

[16:31](#msg5a60cbdb517037a212c25ab7)@abdllhygt `ask` omits trailing newlines

[16:31](#msg5a60cbf75a9ebe4f75a30e83)

```
text
>> probe ask "? "
? blah blah blah (ENTER)
"blah blah blah (ENTER)"
== "blah blah blah (ENTER)"
```

abdllhygt

[16:31](#msg5a60cbf81dcb91f177683fb8)it works but it doesn't work with ask

9214

[16:32](#msg5a60cc021dcb91f177683fe2)@abdllhygt yes, because there's no newline at the end

abdllhygt

[16:32](#msg5a60cc145a9ebe4f75a30efb)oh i see

9214

[16:32](#msg5a60cc20ce68c3bc74d36f65)if you want to extract something from `yaz` to the end of the string, try `to end`

[16:33](#msg5a60cc43290a1f4561a53d89)

```
text
>> parse ask "? " ["yaz " copy text to end]
? yaz foo bar baz qux
== true
>> text
== "foo bar baz qux"
```

abdllhygt

[16:33](#msg5a60cc69517037a212c25f66)yes, it works now :)

[16:34](#msg5a60cc87ba39a53f1a301cc5)thank you!

9214

[16:34](#msg5a60cc9a5a9ebe4f75a3128b)alternatively, you can use `find/tail`

```
>> find/tail "yaz foo bar baz qux" "yaz "
== "foo bar baz qux"
```

abdllhygt

[16:36](#msg5a60ccf6ce68c3bc74d3754e)i start to make a scripting language :)

9214

[16:36](#msg5a60cd061dcb91f17768483b)that's cool!

abdllhygt

[16:37](#msg5a60cd4c517037a212c265ea)but 17line now :)

9214

[16:38](#msg5a60cd76290a1f4561a54797)Rome wasn't built in a day

abdllhygt

[16:42](#msg5a60ce90ae53c159030414c9)Hard but necessary for a project. My project needs string operation very much. I develop with ruby language now, 1200line. I want more short, more easy and more understandable code.

9214

[16:45](#msg5a60cf2fae53c15903041844)would be interesting to look at comparison of two implementations once you've finished

abdllhygt

[16:46](#msg5a60cf7a1dcb91f1776856ea)yes, exactly!

[16:56](#msg5a60d1c3517037a212c2856b)how to i keep `empty OR space OR spaces`

9214

[16:57](#msg5a60d1e9ba39a53f1a30411a)`any space` means "zero or more spaces"

[16:57](#msg5a60d2011dcb91f17768678d)`some space` is "one or more spaces"

abdllhygt

[16:58](#msg5a60d21f6117191e6180ee87)thank you!

9214

[16:58](#msg5a60d22b5a9ebe4f75a33a80)you're welcome :)

abdllhygt

[16:59](#msg5a60d255517037a212c289b0)are you in red developer team?

9214

[16:59](#msg5a60d26f6117191e6180f275)@abdllhygt no :D

abdllhygt

[17:00](#msg5a60d2a8ba39a53f1a304781)how can you know these :P

9214

[17:01](#msg5a60d2d4290a1f4561a56d69)I read a lot and ask much ;)

[17:01](#msg5a60d2ddae53c159030430b6)http://www.red-lang.org/2013/11/041-introducing-parse.html

abdllhygt

[17:02](#msg5a60d325290a1f4561a56f0d)i guess i will be as you :)

[17:35](#msg5a60dacb1dcb91f177689de9)how `any chars` ?

9214

[17:36](#msg5a60db0d517037a212c2c5cf)either `any [ | | | ...]` or make a charset out of string of chars and use it instead

[17:36](#msg5a60db165ade18be3991be6d)`chars: charset "your chars here"`

abdllhygt

[17:38](#msg5a60db83ae53c159030467d1)i see

[17:38](#msg5a60db92517037a212c2cbb8)i want to select all words

9214

[17:38](#msg5a60dbb0ce68c3bc74d3dadc)words in a sentence?

abdllhygt

[17:39](#msg5a60dbc95a9ebe4f75a37ad5)so, i want to make this:  
`gadkgmadk (9214) aglkgklda` =&gt; `9214`

[17:40](#msg5a60dbf2ae53c15903046a1f)to keep `(` `)`

9214

[17:40](#msg5a60dc241dcb91f17768a51b)

```
text
>> parse "gadkgmadk (9214) aglkgklda (abdllhygt)" [collect some [thru "(" keep to ")"]]
== ["9214" "abdllhygt"]
```

abdllhygt

[17:41](#msg5a60dc5d1dcb91f17768a714):D thanks

[17:42](#msg5a60dc88b48e8c3566f893ca)what is task of collect?

9214

[17:43](#msg5a60dca8ce68c3bc74d3df72)it's used in combination with `keep` keyword to extract data that matched some pattern

[17:43](#msg5a60dcc6b48e8c3566f895b7)in this example it's everything between parentheses

abdllhygt

[17:44](#msg5a60dcf1290a1f4561a5ab8b)i see but i will need different examples about collect-keep

[17:44](#msg5a60dd03290a1f4561a5abcb)thanks

9214

[17:46](#msg5a60dd58ba39a53f1a3090a4)

```
text
>> digit: charset [#"0" - #"9"]
== make bitset! #{000000000000FFC0}
>> parse "letters, lots of letters and stuff and then BAM 9214 digits! d1g1t5 3v32y74323!" [
[    collect some [keep digit | skip]
[    ]
== [#"9" #"2" #"1" #"4" #"1" #"1" #"5" #"3" #"3" #"2" #"7" #"4" #"3" #"2" #"3"]
```

abdllhygt

[17:48](#msg5a60ddd45a9ebe4f75a388ea)okay now, i understand %70~ :)

[17:50](#msg5a60de6b1dcb91f17768b3ce)i think that, red is hard about these

9214

[17:51](#msg5a60de845a9ebe4f75a38e1d)it really isn't, you just need to practice a little

[17:51](#msg5a60de8c5ade18be3991d521)then everything will come naturally

abdllhygt

[17:51](#msg5a60deaf5ade18be3991d6b3)i see

[17:53](#msg5a60df136117191e61814939)actually i want to do:  
`afdfafad (123)adgagd` =&gt; `afdfafad 123adgagd`

[17:54](#msg5a60df40517037a212c2e604)after:  
`afdfafad (1+3)adgagd` =&gt; `afdfafad 4adgagd`

9214

[17:58](#msg5a60e0605a9ebe4f75a39ea1)

```
text
>> parse x: "afdfafad (1+3)adgagd" [some [change ["(" copy match to ")" skip] (do form extract/into match 1 copy []) | skip]]
== true
>> x
== "afdfafad 4adgagd"
```

[18:00](#msg5a60e0b7b48e8c3566f8aeaa)hm, doesn't work for first case

[18:02](#msg5a60e1315a9ebe4f75a3a55f)ah, I see

[18:02](#msg5a60e1421dcb91f17768cbce)the problem is that you want `1+3` evaluate to `4`

abdllhygt

[18:03](#msg5a60e15d5a9ebe4f75a3a63a)haha yes :D

9214

[18:03](#msg5a60e18d5ade18be3991e9c2)so I tokenized it as `[#"1" #"+" #"3]`, but first example then tokenized as `[#"1" #"2" #"3"]` and evaluated to just `3`

abdllhygt

[18:04](#msg5a60e1931dcb91f17768ceb3)`( )` is mathematical operation

[18:04](#msg5a60e1b81dcb91f17768cfa1)I have a long way

9214

[18:05](#msg5a60e1f8ce68c3bc74d4027c)

```
text
>> parse x: "afdfafad (123)adgagd" [some [change ["(" copy match to ")" skip] (do match) | skip]]
== true
>> x
== "afdfafad 123adgagd"
>> parse x: "afdfafad (1 + 3)adgagd" [some [change ["(" copy match to ")" skip] (do match) | skip]]
== true
>> x
== "afdfafad 4adgagd"
```

abdllhygt

[18:11](#msg5a60e337ba39a53f1a30b69a)this is good

[18:11](#msg5a60e33dba39a53f1a30b6ac)`only`?

9214

[18:11](#msg5a60e369b48e8c3566f8bffa)fixed :)

abdllhygt

[18:16](#msg5a60e47d517037a212c30e4a)oh thank you very much

9214

[18:16](#msg5a60e48bb48e8c3566f8c8f4)if you want to stick with this way of parsing, note that expression inside parentheses follow Red evaluation rules

[18:17](#msg5a60e4a7ae53c1590304a463)so e.g. `1 + 2 * 3` will yield `9` and not `7`

[18:17](#msg5a60e4c3517037a212c30fb3)you can partially fix it by changing `do match` to `math load match`

[18:17](#msg5a60e4d1b48e8c3566f8cac2)however currently `math` dialect supports only `*` and `/` operators

abdllhygt

[18:18](#msg5a60e4f0517037a212c3106d)yes thank you, there have a problem too

[18:18](#msg5a60e501517037a212c310ec)how will parser spaceless

9214

[18:19](#msg5a60e5291dcb91f17768e3b2)yes, if you want to parse "spaceless" expressions, you need to come up with more stricter rules for tokenization

rebolek

[18:20](#msg5a60e562517037a212c312bd)Hm.

9214

[18:22](#msg5a60e5cdba39a53f1a30c966)in general, you need to design a separate parser for math expressions which will suit your needs

rebolek

[18:22](#msg5a60e5e85a9ebe4f75a3c6dc)I need to revive redbot, let \*it* do the stats (so I do not have to do it manually) and let it also announce \*the most helpful person of the day\*. Because @9214 is certainly today's winner.

9214

[18:23](#msg5a60e63aba39a53f1a30cbd2)\[!\[peaaaachy\_by\_peachypatrickplz.jpg](https://files.gitter.im/red/help/M1yQ/thumb/peaaaachy\_by\_peachypatrickplz.jpg)](https://files.gitter.im/red/help/M1yQ/peaaaachy\_by\_peachypatrickplz.jpg)

rebolek

[18:26](#msg5a60e6d15ade18be399209ac)http://static.tvtropes.org/pmwiki/pub/images/rsz\_zayats-iz-nu-pogodi-bilo\_7913.png

9214

[18:35](#msg5a60e903b48e8c3566f8e5cb)@rebolek you'll need to consider different timezones though

rebolek

[19:01](#msg5a60eef25ade18be3992410f)@9214 UTC FTW

[19:05](#msg5a60efe75a9ebe4f75a404cc)Not everyone spoils their timezone...

9214

[19:06](#msg5a60f018290a1f4561a62cec):shipit:

abdllhygt

[19:21](#msg5a60f3a01dcb91f177694027)@9214 `digit+digit` =&gt; `digit + digit`

[19:21](#msg5a60f3bd517037a212c36fb7)last stage

[19:22](#msg5a60f3da6117191e6181cc5e)help me if i complete the first stage

9214

[19:22](#msg5a60f3e3b48e8c3566f92ab0)let's see

abdllhygt

[19:24](#msg5a60f46e5ade18be39926662)okay thank you :)

9214

[19:29](#msg5a60f583ba39a53f1a312e12)

```
text
x: "afdfafad (1+3)adgagd"
also x parse x [
    some [
        change ["(" copy match to ")" skip](
            do also match parse match [
                some [
                    change copy op ["+" | "-" | "*" | "/"](rejoin [space op space])
                    | skip
                ]
            ]
        ) 
        | skip
    ]
]
```

abdllhygt

[19:33](#msg5a60f697ce68c3bc74d48254)what's `also`?

9214

[19:34](#msg5a60f6acce68c3bc74d48296)have anyone checked if `some [to change blah bleh | thru end]` is faster than `some [change blah bleh | skip]`?

greggirwin

[19:34](#msg5a60f6b4290a1f4561a65153)@abdllhygt `help also`

9214

[19:34](#msg5a60f6c25a9ebe4f75a434da)@abdllhygt `also` evaluates both of its arguments, but returns the first one

greggirwin

[19:34](#msg5a60f6c9ae53c1590305172b)@9214, let's `profile` it!

9214

[19:35](#msg5a60f7025a9ebe4f75a43705)@greggirwin :sleepy:

```
>> now
== 19-Jan-2018/0:35:00+05:00
```

abdllhygt

[19:35](#msg5a60f70dce68c3bc74d485f0)i didn't know `help` func, thanks @greggirwin

greggirwin

[19:35](#msg5a60f7125ade18be3992790b)@abdllhygt, let me suggest a possible alternative, after you've spent some time getting comfortable with parsing at the string level. If you make your scripting language a dialect of Red, you can use `load` on the input, then parse at the block level. What you're doing is still a great learning exercise, but you don't have to do all the low level tokenization if you work at the block level.

9214

[19:36](#msg5a60f722ba39a53f1a313abe)@rebolek should bite the bait :fish:

greggirwin

[19:36](#msg5a60f726b48e8c3566f93f75)@abdllhygt `help` and `source` are your best friends in the console.

[19:36](#msg5a60f748517037a212c38abe)Changing of the guard I guess, time for @9214 to sleep. :^)

9214

[19:36](#msg5a60f752b48e8c3566f94063):guardsman: sir

[19:39](#msg5a60f7ffb48e8c3566f94435)@abdllhygt as Gregg suggested, it's easier to leverage existing capabilities of Red instead of doing everything by hand, though, for that you'll need to change your specification a little. Remember that everything is a trade-off.

abdllhygt

[19:42](#msg5a60f8b9ce68c3bc74d49226)so you say that, i should make only my information?

9214

[19:43](#msg5a60f8e0517037a212c396a2)@abdllhygt not sure what you mean :(

greggirwin

[19:43](#msg5a60f8f01dcb91f177695f51)

```
>> blk: load "afdfafad (1 + 3) adgagd"
== [afdfafad (1 + 3) adgagd]
>> parse blk [collect [some [keep word! | set p paren! keep (do p)]]]
== [afdfafad 4 adgagd]
```

[19:44](#msg5a60f91ab48e8c3566f94a80)Note that in this example, I've only changed the spacing of your input, so Red can `load` it.

9214

[19:44](#msg5a60f92dba39a53f1a314a86)`blk/2: do blk/2` :smirk:

greggirwin

[19:45](#msg5a60f94d517037a212c39994)Wanted to stick close to the original but, yes, there are a lot of ways to do it.

9214

[19:45](#msg5a60f957517037a212c399bf)@9214 :sleeping:

greggirwin

[19:46](#msg5a60f983517037a212c39a7a)

```
>> blk: load "afdfafad (1 + 3) adgagd"
== [afdfafad (1 + 3) adgagd]
>> forall blk [if paren? blk/1 [change/only blk do blk/1]]
== none
>> blk
== [afdfafad 4 adgagd]
```

[19:46](#msg5a60f99fce68c3bc74d497f6)The main point, @abdllhygt, is that once you have your data in a block, it's much easier to process with Red.

abdllhygt

[19:46](#msg5a60f9a1ba39a53f1a314d6d)i don't understand different of @greggirwin's code :) i think learning these

[19:47](#msg5a60f9e45a9ebe4f75a44594)string process is hard,  
load process is easy, true?

greggirwin

[19:48](#msg5a60f9fe5ade18be39928f4b)Your original was "afdfafad (1+3) adgagd". I just added spaces.

```
>> load "afdfafad (1+3) adgagd"
*** Syntax Error: invalid integer! at "1+3) adgagd"
*** Where: do
*** Stack: load  

>> load "afdfafad (1 + 3) adgagd"
== [afdfafad (1 + 3) adgagd]
```

[19:48](#msg5a60fa2b5ade18be3992909b)Yes! That's the idea. Parsing after `load`ing is much easier.

abdllhygt

[19:49](#msg5a60fa43ce68c3bc74d49cf1)Oh i see now @greggirwin

greggirwin

[19:50](#msg5a60fa7e1dcb91f177696822)

```
>> parse [1 2.3 #4 %5 6% () <> "" []] [some [set v any-type! (print type? :v)]]
integer
float
issue
file
percent
paren
word
string
block
== true
```

abdllhygt

[19:50](#msg5a60fa881dcb91f177696858)but i don't like (1 + 3), i like (1+3),(1 + 3) or (1+ 3)

greggirwin

[19:50](#msg5a60fa9d6117191e6181f826)Well then, back to string parsing for you. :^)

abdllhygt

[19:51](#msg5a60fab85ade18be399293c4)@greggirwin thank you!

[19:53](#msg5a60fb3d5a9ebe4f75a44fec)now, my programming language:  
`<< "hello"`  
hello  
`<< =(1+3)`  
4  
`<< "=(1+3) hello"`  
4 hello

[19:54](#msg5a60fb66290a1f4561a67191)`<<` is print

greggirwin

[19:54](#msg5a60fb71290a1f4561a671d1)Congratulations!

abdllhygt

[19:55](#msg5a60fbafce68c3bc74d4a482)@greggirwin thanks

[19:58](#msg5a60fc6ece68c3bc74d4aa7c)@greggirwin @9214 roadmap:  
`"hello.txt" << "hello"` is writing file  
`>> value` is read console to value  
`"hello.txt" >> value` is read file to value  
`value: "hello"` is you know :D

[20:00](#msg5a60fcce1dcb91f177697a4c)So, it's easy for englishless people :)

greggirwin

[20:01](#msg5a60fd095ade18be3992a556)More operators, less words, understood.

abdllhygt

[20:02](#msg5a60fd72290a1f4561a67efc)@greggirwin

```
? 10 = 10 {
    << "yes, 10 is 10"
}
```

if statement :)

greggirwin

[20:03](#msg5a60fda65ade18be3992a947)Another approach would be to alias words for the subset of features you want. e.g.

```
okunmak: :read
yazmak: :write
```

Though your approach works across languages.

abdllhygt

[20:05](#msg5a60fe046117191e61820b08)in your opinion; english people don't read turkish codes

greggirwin

[20:06](#msg5a60fe51ae53c15903054a69)Aliasing words doesn't solve the problem globally, only for one language at a time, if you're writing something for local use.

abdllhygt

[20:07](#msg5a60fe735a9ebe4f75a46272)but i have a idea as your idea;

```
! write | yaz (i) {
    << i
}
```

multi name function for users

greggirwin

[20:08](#msg5a60fea05a9ebe4f75a46403)You can absolutely do that too.

abdllhygt

[20:09](#msg5a60ff05ae53c15903054fcf)do you like my programming language @greggirwin :D where is @9214 , i want that, you look these examples :)

[20:12](#msg5a60ff955ade18be3992b8a9)i want to show a example too:

```
! up | b√ºy√ºt (i){            #Func Of Standart Library
    ... #uppercase
}
<< "hello"
<< "hello".up           #HELLO
<< "hello".b√ºy√ºt    #HELLO
```

greggirwin

[20:12](#msg5a60ff9b5ade18be3992b8f1)@9214 is sleeping I think. Your basic operators make sense `?` for `if`, and arrows for moving data and STD I/O. The most important thing is for you to try it, document it, and explain it to others. Get a small piece of it working, and post for us to play with.

[20:15](#msg5a61007cb48e8c3566f97968)I see the Ruby influence. :^)

[20:16](#msg5a6100b36117191e61822194)I think offering features in native languages is a great idea.

abdllhygt

[20:16](#msg5a6100b35ade18be3992c02c)about class? yes :) i liked this style (operators)

## Friday 19th January, 2018

9214

[04:27](#msg5a6173b2ba39a53f1a33afcc)@abdllhygt interesting approach for a scripting language, short and meaningful symbols are undervalued in most programming languages ;)

PeterWAWood

[04:46](#msg5a61782e6117191e6184753e)@abdllhygt Like Ruby, there are many different ways of doing things in Red. I thought that it might be interesting to automatically insert spaces when loading `(1+1)`:

```
Red []

system/lexer/pre-load: func [src part][
	digit: charset [#"0"-#"9" #"."]
	operator: charset [#"+" #"-" #"*" #"/"]
	paren: [ #"(" some digit operator some digit #")"]
	parse src [ 
		any [
			s: paren (
				insert find s operator " "
				insert find/tail s operator " "
			) 
			| skip 
		]
	]
]

foreach test ["(1+2)" "(3-4)" "(5*6)" "(7.0/8)"] [
	print mold load test
]
```

The output is:

```
(1 + 2)
(3 - 4)
(5 * 6)
(7.0 / 8)
```

greggirwin

[05:56](#msg5a618871517037a212c642ca)I thought about that too, Peter, but you went and did it! +1

PeterWAWood

[06:08](#msg5a618b59290a1f4561a91c53)I'm sure it can be greatly improved upon.

abdllhygt

[10:39](#msg5a61cad5ae53c15903093fd4)@9214 so you don't like as @greggirwin :D

[10:41](#msg5a61cb59ae53c15903094345)@PeterWAWood is `(1+4*5)` working?

9214

[10:47](#msg5a61ccc16117191e61861ece)@abdllhygt no, @PeterWAWood's solution supports only `digit op digit` expressions

meijeru

[10:52](#msg5a61cde5ae53c159030953f0)You might wish to consult the source of the `math` function to add precedence rules.

9214

[11:32](#msg5a61d73cce68c3bc74d8feb9)rather `number op number`

abdllhygt

[11:47](#msg5a61dae39cdc721e4f9fb67e)my opinion; present method is well( code of @9214 ). but this method use `do`. this isn't well. i need to learn `parse` very good. after we will talk about these :)

9214

[11:49](#msg5a61db5b9cdc721e4f9fba4c)that's the spirit :+1:

[11:50](#msg5a61db70517037a212c809b5)only string-level parsing, only hardcore

PeterWAWood

[12:18](#msg5a61e207517037a212c830db)@abdllhygt It should be quite easy to change the pre-load function to process `number` followed by any number of `op number`.

abdllhygt

[12:22](#msg5a61e2fcba39a53f1a35f819)@PeterWAWood i see, thank you!

PeterWAWood

[14:45](#msg5a62046d6117191e61877b2f)@abdllhygt Here is a cleaned up version that will handle multiple sequential operators:

```
Red []

system/lexer/pre-load: func [src part][
	digit: charset [#"0"-#"9"]
	number: [some digit opt [#"." some digit]]
	operator: charset [#"+" #"-" #"*" #"/"]
	paren: [
		#"(" 
			number 
			some [ 
				s: operator (
					new: copy " "
					append new reduce [first s " "]
				)
				e: (s: change/part s new e) :s
				number 
			]
	    #")"
	]
	parse src [any [paren | skip]]
]

foreach test ["(1+2+3+4+5)" "(3-4+4)" "(5*6)" "(7.0/8+10*2)"] [
	print reduce load test
]
```

[14:46](#msg5a6204d79cdc721e4fa0c149)These are the test results:

```
15
3
30
21.75
```

9214

[14:49](#msg5a6205736117191e618781ad)@PeterWAWood I'd use `some [change copy match operator (rejoin [space match space]) number]`

PeterWAWood

[14:49](#msg5a62057d5a9ebe4f75a9edb3)It doesn't handle embedded (). That is possible but I'll leave it to you (or others).

[14:50](#msg5a6205b0e01412265066207b)@9214 That's okay as long as the operators don't appear outside of the parens.

meijeru

[14:51](#msg5a6205e0ce68c3bc74da20ef)I don't see how this handles precedence!

PeterWAWood

[14:51](#msg5a6205fb9cdc721e4fa0c97e)e.g. "my-calculation (1 + 2)"

[14:52](#msg5a620647517037a212c92251)@meijeru The purpose of this pre-load function is to allow (1+2) to be loaded. It can then be processed with a dialect.

9214

[14:53](#msg5a620683ba39a53f1a36d3bb)`print math load test`?

gltewalt

[19:34](#msg5a624858290a1f4561ad8adf)The problem still exists for me with `call/console/input {echo hi} x: "blahblah........."`

[19:35](#msg5a624864e01412265067dc4b)https://imgur.com/a/D4v6R

[19:40](#msg5a6249aa517037a212cae764)I mean, it's not an actual problem for me - I was just poking things with a stick and happened upon this issue

RnBrgn

[20:50](#msg5a625a18ae53c159030cdcaa).

gltewalt

[21:11](#msg5a625ee99cdc721e4fa30169)..

BeardPower

[21:35](#msg5a6264b2ba39a53f1a392169)Sorry, I don't read brail.

gltewalt

[21:37](#msg5a626503ce68c3bc74dc7c40)Problem with the default buffer (or reallocating buffer) with set-word.

```
x: make string! 3
call/console/input {echo hi} x: input
1234
```

[21:37](#msg5a626535ae53c159030d1ff7)At a certain length, it blows up with: `call/console/input {echo hi} y: input`

BeardPower

[21:39](#msg5a62658aba39a53f1a3924f8)

```
>> call/console/input {echo hi} x: input
1234
*** Internal Error: reserved for future use (or not yet implemented)
*** Where: call
*** Stack:
```

gltewalt

[21:40](#msg5a6265b45a9ebe4f75ac5fdd)-cli, not the GUI console

[21:42](#msg5a626660ce68c3bc74dc8336)And it doesn't happen every time

BeardPower

[21:43](#msg5a626683ce68c3bc74dc83a7)Ah, mom.

[21:43](#msg5a6266909cdc721e4fa32e28)Confirmed:

```
>> x: make string! 3
== ""
>> call/console/input {echo hi} x: input
1234
hi
== 0
>> call/console/input {echo hi} x: input
f
hi
== 0
>> call/console/input {echo hi} x: input
hellos
hi
== 0
>> call/console/input {echo hi} x: input
asdadadasd
hi
== 0
>> call/console/input {echo hi} x: input
asdadasdasdaqwfsas
hi

*** Runtime Error 1: access violation
*** at: 777005D2h
```

[21:47](#msg5a62675b5a9ebe4f75ac6800)Crashed instantly:

```
>> x: make string! 3
== ""
>> call/console/input {echo hi} x: input
1234
hi

*** Runtime Error 1: access violation
*** at: 777005D2h
```

gltewalt

[21:57](#msg5a6269caae53c159030d39ee)Something sticky going on because it doesn't always crash at the same length with just `x: input`, and won't always instantly crash with `x: make string! 3`

greggirwin

[21:57](#msg5a6269e69cdc721e4fa33e68)This will be a great ticket when you finally narrow it down.

gltewalt

[22:31](#msg5a6271c1ce68c3bc74dcbac2)If I make a string of 1, looks like it breaks after 16

[22:31](#msg5a6271cdae53c159030d61b3)

```
test-call: has [count str][
    count: 0
    str: make string! 1
    loop 100 [
        count: count + 1
        ; 0 is the 'success' result
        write/append %log.txt reduce [count call/console/input {echo hi} append str "*"]

    ]
]
```

[22:38](#msg5a627364517037a212cbded5)Nope, still random

[22:38](#msg5a627367517037a212cbdeda)https://gist.github.com/gltewalt/6153359bb52cb4d1efb7f88741060b8d

## Saturday 20th January, 2018

gltewalt

[02:02](#msg5a62a32f290a1f4561af4a9e)Don't do this: `system/console/history: ""`

[02:16](#msg5a62a683ae53c159030e4106)I bet it's this because windows CMD.exe is bad with unicode:

```
emit-red-char: func [cp [integer!] /local n][
	n: 2 * unicode/cp-to-utf16 cp pbuffer
	pbuffer: pbuffer + n
]
```

[02:17](#msg5a62a6a2ba39a53f1a3a46cc)@qtxie

[02:19](#msg5a62a71a290a1f4561af59e4)Or `pbuffer` in input

BeardPower

[02:45](#msg5a62ad50290a1f4561af70ec)@gltewalt  
&gt;Don't do this: system/console/history: ""

Why not? Is this addressed to someone or just a general hint?

gltewalt

[02:48](#msg5a62ae0dba39a53f1a3a62f8)Just a general hint from my weird poking and prodding. You can try it, or look in the Sandbox room to see what happens

[02:50](#msg5a62ae7eae53c159030e5cdb)General warning, I guess

mikeyaunish

[05:38](#msg5a62d5ee9cdc721e4fa4ec6d)Not sure why this is crashing the console:

[05:40](#msg5a62d63a5ade18be399c41fa)

```
a: context [ f: function [ a ] [ return a ] ] 
>> a/f "hey"
== "hey"
>> b: a/f "what"
```

Crashes the console

9214

[05:40](#msg5a62d657ce68c3bc74de3f68)@mikeyaunish https://github.com/red/red/issues/3156

greggirwin

[07:34](#msg5a62f101ba39a53f1a3b487d)@gltewalt, those kinds of warnings are always fun to see. If I posted about every time I've done something like that... ;^)

rebolek

[11:10](#msg5a6323975a9ebe4f75af6993)This is the most evil bug, that basically makes Red useless. I am running on two/three months old console build just to be able to use Red.

abdllhygt

[11:34](#msg5a632950ba39a53f1a3c3f7b)@PeterWAWood thank you :) i will start to learning parser

gltewalt

[18:36](#msg5a638c47290a1f4561b323af)@rebolek Which bug? The mikeyaunish example?

rebolek

[19:24](#msg5a639779ce68c3bc74e17621)@gltewalt https://github.com/red/red/issues/3156

toomasv

[19:49](#msg5a639d586117191e618f2d59)@rebolek Is explicit typing of any help?

## Sunday 21st January, 2018

gltewalt

[00:13](#msg5a63db1cce68c3bc74e28e11)No problem with `reduce` or `do reduce`

abdllhygt

[13:59](#msg5a649cc6517037a212d4cbe1)Hi!

[14:00](#msg5a649d10ae53c15903162563)What is `union`?

[14:01](#msg5a649d2bba39a53f1a4224f7)I don't understand this code:

```
non-zero: charset "123456789"
    digit:    union non-zero charset "0"
```

9214

[14:01](#msg5a649d39ba39a53f1a422519)it's one of the set https://en.wikipedia.org/wiki/Set\_(mathematics) operations

[14:02](#msg5a649d68ba39a53f1a4225b1)here it unifies two sets of characters and creates another set of characters

[14:03](#msg5a649d98ba39a53f1a42265a)

```
text
>> ? "data set"
     difference      native!       Returns the special difference of two data...
     exclude         native!       Returns the first data set less the second...
     intersect       native!       Returns the intersection of two data sets.
     union           native!       Returns the union of two data sets.
     unique          native!       Returns the data set with duplicates removed.
```

abdllhygt

[14:03](#msg5a649dbde01412265071a5cb)so, = `charset: "0123456789"`

9214

[14:03](#msg5a649dc4ae53c1590316282f)correct

abdllhygt

[14:04](#msg5a649dd1e01412265071a5ef)= `charset + charset` i understood

gltewalt

[15:03](#msg5a64abd1517037a212d50db8)How do we compile console from source via Rebol `do/args` in Debug mode? Or is there another tool

9214

[15:04](#msg5a64abf4e01412265071e37c)@gltewalt have you checked readme?

gltewalt

[15:04](#msg5a64ac19e01412265071e45f)Yeah. I normally compile with rebol console and `do/args`

[15:07](#msg5a64acb4290a1f4561b7a881)Is there another tool? `do/args %red.r "-d %environment/console/console.red"` fails

9214

[15:07](#msg5a64accde01412265071e71d)it depends on what do you mean by "Debug mode"

gltewalt

[15:10](#msg5a64ad67ce68c3bc74e5b319)Looking at this: https://github.com/red/red/wiki/How-to-Debug:-A-use-case-by-@DocKimbel

"First thing to do is to compile the above code in debug mode (-d option) or re-compile a GUI console version in debug mode. Many assertions and debug logs through the Red runtime code are not available in release mode."

[15:11](#msg5a64ad9b290a1f4561b7ace6)What does he mean "recompile"?

9214

[15:11](#msg5a64adb99cdc721e4fac91d0)someone decided to bite the https://github.com/red/red/issues/3156 ? :smirk\_cat:

gltewalt

[15:12](#msg5a64add05a9ebe4f75b5e245)Yeah, wading in over my head

9214

[15:12](#msg5a64adf9290a1f4561b7ae5f)well, if you read really carefully  
&gt; First thing to do is to compile the above code in debug mode (-d option) \*\*or\** re-compile a GUI console version in debug mode. Many assertions and debug logs through the Red runtime code are not available in release mode.

[15:13](#msg5a64ae315ade18be39a3eeef)https://github.com/red/red/wiki/Debugging

[15:15](#msg5a64aeae5ade18be39a3f087)@gltewalt kudos for courage btw :+1:

[15:18](#msg5a64af2d5a9ebe4f75b5ea11)I might say a pure nonsense, but what if you try to compile console with Red itself (as it seems the only thing that supports `-d` flag)?

[15:19](#msg5a64af6d290a1f4561b7b56a)I mean GUI console

gltewalt

[15:31](#msg5a64b237d9f895c360413e43)Can't get that to work.

9214

[15:35](#msg5a64b3349cdc721e4faca96f)maybe the reasonable thing to do is to revert the commit that caused the regression? https://github.com/red/red/commit/bca86785936b0750b994702daa15734361237f1f

[15:35](#msg5a64b3555ade18be39a4058c)at least for now, since @dockimbel is quite busy

gltewalt

[15:39](#msg5a64b42f6117191e61936d94)That probably is the reasonable thing to do, but my goal was to stretch my wings and follow the debugging article.

[15:39](#msg5a64b446517037a212d53311)https://i.imgur.com/wAcH6Me.jpg

9214

[15:40](#msg5a64b4775a9ebe4f75b5ffca)you're more likely to hamstring yourself if you'll start with something that complex (IMO) :bird:

gltewalt

[15:41](#msg5a64b4b4d9f895c3604148dd)Yeah, you're probably right

[15:57](#msg5a64b87fd9f895c360415b7f)I can use `probe` and `??` in release mode, but I was hoping to use `stack/dump` and `dump4`

9214

[15:58](#msg5a64b8926117191e61937fea)@gltewalt I believe those are R/S functions

gltewalt

[15:58](#msg5a64b8c06117191e619380a2)Yeah. Aren't they the ones that require compilation in debug mode?

9214

[16:00](#msg5a64b924e014122650722133)at least this is what was mentioned in a debugging article

gltewalt

[16:02](#msg5a64b97d9cdc721e4facc711)I'm just going to have to wait until some of the gurus get un-busy

abdllhygt

[16:02](#msg5a64b9965ade18be39a42379)hi again

9214

[16:02](#msg5a64b9ae6117191e61938600)hi @abdllhygt :)

abdllhygt

[16:03](#msg5a64b9b95ade18be39a42465)@9214 how are you :)

[16:03](#msg5a64b9ddba39a53f1a42a098)

```
four:     charset "01234"
    half:     charset "012345"
    non-zero: charset "123456789"
    digit:    union non-zero charset "0"

    byte: [
          "25" half
        | "2" four digit
        | "1" digit digit
        | non-zero digit
        | digit
    ]
```

9214

[16:03](#msg5a64b9dd5ade18be39a42520)alive and kicking

abdllhygt

[16:04](#msg5a64b9fc9cdc721e4facca05)is this humor? :P

[16:04](#msg5a64ba07ba39a53f1a42a11c)you means baby?

9214

[16:04](#msg5a64ba11ae53c1590316a873)@abdllhygt https://idioms.thefreedictionary.com/alive+and+kicking :D

abdllhygt

[16:05](#msg5a64ba54e0141226507227c4):D i understand now

[16:06](#msg5a64ba71517037a212d55073)so i don't understand `"25" half`

[16:06](#msg5a64ba7ed9f895c3604166e2)what is it?

9214

[16:07](#msg5a64baabce68c3bc74e5f12c)`"25"` followed by any character from `half` charset

[16:07](#msg5a64bad8e014122650722a06)i.e. `"25" [#"0" | #"1" | ... | #"5"]`

abdllhygt

[16:07](#msg5a64badece68c3bc74e5f192)as `251`

9214

[16:08](#msg5a64bae6ba39a53f1a42a6c9)yeah, like that

abdllhygt

[16:08](#msg5a64baedae53c1590316ac53)oh thanks

9214

[16:08](#msg5a64bafdce68c3bc74e5f23b)all numbers between `250` and `255`

abdllhygt

[16:09](#msg5a64bb31ce68c3bc74e5f2f7)i understood

[16:11](#msg5a64bbcaba39a53f1a42aaa9)what is `skip`?

9214

[16:12](#msg5a64bbe89cdc721e4facd3d2)"match any value"

[16:12](#msg5a64bc046117191e6193916c)

```
text
>> parse "abcd" [4 skip]
== true
```

abdllhygt

[16:13](#msg5a64bc0c9cdc721e4facd498)

```
parse data [some [copy value ipv4 | skip]]
```

9214

[16:13](#msg5a64bc3fe01412265072308d)@abdllhygt either `ipv4` matches or we `skip` one character and moving to the next one

[16:14](#msg5a64bc765a9ebe4f75b6228c)

```
text
>> parse "abcd" [2 skip x: (print x) to end]
cd
== true
```

abdllhygt

[16:14](#msg5a64bc7a5ade18be39a431cc)i guess i understand

9214

[16:15](#msg5a64bc98d9f895c36041701e)in the example above `2 skip` skipped first `2` characters `ab`

abdllhygt

[16:19](#msg5a64bd766117191e619397a9)i understand!

[16:19](#msg5a64bd79ce68c3bc74e5ff09)thanks

[16:20](#msg5a64bdc5517037a212d55fbf)which jobs does reducer working?

9214

[16:20](#msg5a64bddbd9f895c36041754f):question:

abdllhygt

[16:20](#msg5a64bde9ce68c3bc74e6013f):D sorry, what is jobs of reducer?

gltewalt

[16:21](#msg5a64bdfc5ade18be39a43891)Are there jobs for Red?

abdllhygt

[16:21](#msg5a64be1ae014122650723865)No :)

[16:22](#msg5a64be61ce68c3bc74e6037c)reducer works on gui program or parsing program? in office?

[16:23](#msg5a64be77d9f895c3604177e9)so, php programmers make a website

[16:23](#msg5a64be7f517037a212d56213)red programmers?

[16:23](#msg5a64be8dce68c3bc74e603da)maybe now, they doesn't work, true?

[16:24](#msg5a64bea19cdc721e4face290)do you write red code in your job?

9214

[16:25](#msg5a64bee8517037a212d563e8)well, Red is general-purpose enough, but I don't fully use it in my "job", as it requires some scientific computation for which Red (at least for now) is not really suitable and lacks all the required libraries and stuff

[16:26](#msg5a64bf3bd9f895c360417c06)I do rely on `parse` from time to time

abdllhygt

[16:27](#msg5a64bf77ba39a53f1a42ba62)i see

[16:28](#msg5a64bfb29cdc721e4face75d)`parse` of red is elegant

[16:29](#msg5a64bfe56117191e6193a417)red is best parser your opinion?

9214

[16:30](#msg5a64c012517037a212d56b0f)I have nothing to compare with, because it's the only parse-like functionality I learned to use :)

abdllhygt

[16:32](#msg5a64c082ce68c3bc74e60e41)@9214 me too :D

[16:32](#msg5a64c0965ade18be39a4471e)

```
parse data [some [copy value ipv4 | skip]]
```

[16:32](#msg5a64c0a5ae53c1590316cabe)

```
parse data [copy value ipv4 | skip]
```

[16:33](#msg5a64c0c1d9f895c36041839b)why we use `some` in this code?

9214

[16:33](#msg5a64c0d3ba39a53f1a42c148)`some` repeats `[copy value ipv4 | skip]` rule one or more times

[16:33](#msg5a64c0e4ae53c1590316cc22)and traverses all `data` that way

abdllhygt

[16:34](#msg5a64c127517037a212d57058)thanks

[16:35](#msg5a64c16f6117191e6193aa61)

```
>> parse "abcdefg" [some ["cdefg"] | skip]
== false
```

[16:36](#msg5a64c177ce68c3bc74e611cc)why doesn't work?

9214

[16:36](#msg5a64c18b9cdc721e4faceff2)@abdllhygt `some ["cdefg" | skip]`

abdllhygt

[16:37](#msg5a64c1b0ba39a53f1a42c56a)ah :)

9214

[16:37](#msg5a64c1de6117191e6193ad3b)"either match `"cdefg"` or just `skip` char and move to the next one -- repeat til the end"

abdllhygt

[16:38](#msg5a64c1eb5ade18be39a44d63)yes, i see

[16:44](#msg5a64c358ae53c1590316de8f)

```
expr:    [term ["+" | "-"] expr | term]
    term:    [factor ["*" | "/"] term | factor]
    factor:  [primary "**" factor | primary]
    primary: [some digit | "(" expr ")"]
    digit:   charset "0123456789"
    
    parse "1+2*(3-2)/4" expr        ; will return true
    parse "1-(3/)+2" expr           ; will return false
```

i don't understand this :/

9214

[16:44](#msg5a64c3779cdc721e4facf8a9)well, it's a recursively defined grammar, takes some time to digest

[16:48](#msg5a64c448ce68c3bc74e622c2)in short, it checks if math expression is correct (you'll need to implement something like that for your scripting language ;))

abdllhygt

[16:48](#msg5a64c472ce68c3bc74e62337)yes i know :)

[16:50](#msg5a64c4c55a9ebe4f75b64c02)@endo64 is Turk. He will help me about `parser`. But he is offline now.

BeardPower

[16:52](#msg5a64c53d9cdc721e4fad00fd)Red is for everything and perfect for data series. It just needs more libs and features like concurrency, async I/O, ports.

9214

[16:52](#msg5a64c54cce68c3bc74e62730)@BeardPower yes, exactly

[16:53](#msg5a64c576ce68c3bc74e62808)and optimization layer ;)

greggirwin

[16:54](#msg5a64c5abce68c3bc74e62969)@9214, \*you* are the optimization layer. ;^) Well, and @rebolek and @toomasv, and...

BeardPower

[16:54](#msg5a64c5bfe01412265072627e)It would be great, if performance would be at about 90% of C code.

9214

[16:54](#msg5a64c5d3517037a212d58842)meanwhile I'm looking into J and Julia :neckbeard:

greggirwin

[16:56](#msg5a64c62f5ade18be39a46340)As for `parse`, Red's approach is my favorite, but others may prefer different tools or libs. We'll build more tools over it at some point, but it's power comes from block level parsing, that other parser toolkits don't have, because they don't use Red. VisualParse++ was a nice, old tool for writing shift-reduce parsers, and ANTLR has some nice things in it, but not as approachable for me.

9214

[16:57](#msg5a64c6765a9ebe4f75b655f7)perhaps @greggirwin meant that all active users should sell their souls to Fullstack so they can power the magical optimizer... :shipit:

greggirwin

[16:57](#msg5a64c681ce68c3bc74e62d33)@BeardPower, while I agree, that's kind of an arbitrary and vague goal. Good for benchmark comparisons, but I'd rather accept current general performance, with a focus on a couple high performance areas for things like array processing as J targets.

[16:58](#msg5a64c6d0e0141226507267c8)@9214! Shhhhhh. \*^|

[16:59](#msg5a64c6f39cdc721e4fad08f4)Maybe I need a real emoji there. :^) Back later folks.

9214

[16:59](#msg5a64c6fe6117191e6193c4cf)and now he speaks in \[parseltongue](http://harrypotter.wikia.com/wiki/Parseltongue)! :snake:

[17:04](#msg5a64c81e5a9ebe4f75b65d0e)I think ML and scientific computing are another domains there Red could potentially benefit with its dialect-first approach, because it's on hype peak (just like blockchains) and unifies different fields, both scientific and computing, hence there's a need for a "common language", so to speak.

[17:05](#msg5a64c84f9cdc721e4fad0dc4)I mean, I would rather use full-fledged `matrix` dialect (@tommasv :exclamation:) than write NumPy mess

[17:06](#msg5a64c884517037a212d59639)that's another reason why I'm looking into J -- it's a perfect domain-specific notation, albeit a cryptic one

gltewalt

[17:06](#msg5a64c8adba39a53f1a42ea42)Every time I see ML I think people are talking about the language

9214

[17:07](#msg5a64c8c06117191e6193cbc8):camel:

abdllhygt

[18:20](#msg5a64da0aae53c15903174b14)what is `reduce`?

[18:21](#msg5a64da21ba39a53f1a433c5a)

```
ws: charset reduce [space tab cr lf]
```

as `union`?

9214

[18:21](#msg5a64da42e01412265072c12d)@abdllhygt try `? reduce` in console and see for yourself

abdllhygt

[18:23](#msg5a64daaeae53c15903174e29)i try now

```
charset "abc"
charset reduce ["a" "b" "c"]
```

is it same?

9214

[18:24](#msg5a64dae0ae53c15903174ed3)

```
text
>> a: "a" b: "b" c: "c"
== "c"
>> charset [a b c]
*** Script Error: cannot MAKE bitset! from: a
*** Where: make
*** Stack: charset  

>> charset reduce [a b c]
== make bitset! #{00000000000000000000000070}
>> reduce [a b c]
== ["a" "b" "c"]
```

abdllhygt

[18:26](#msg5a64db409cdc721e4fad65d5)so, for multi chars or phrase, true?

9214

[18:26](#msg5a64db70517037a212d5f2b5)sort of

abdllhygt

[18:27](#msg5a64db74e01412265072c704)variables need `reduce` for `charset`

9214

[18:28](#msg5a64dbccae53c159031751c2)blocks are data and are not evaluated by default, what you're passing to `charset` in `charset [a b c]` is a block of 3 words, not a block of 3 strings

abdllhygt

[18:29](#msg5a64dc199cdc721e4fad69d2)i see now

[18:31](#msg5a64dc7fba39a53f1a4345df)can you tell `collect`. i try `? collect` in console, but i need examples.

9214

[18:31](#msg5a64dc96e01412265072cd74)you mean `parse` keyword or a function?

abdllhygt

[18:32](#msg5a64dca9d9f895c3604205f1)`collect` in `parse`

[18:32](#msg5a64dccc5a9ebe4f75b6c334)

```
parse html tags: [
        collect [any [...
```

9214

[18:32](#msg5a64dccd5a9ebe4f75b6c33f)

```
text
>> parse [a 1 b 2 c 3][collect some [keep integer! | skip]]
== [1 2 3]
```

abdllhygt

[18:33](#msg5a64dd0cce68c3bc74e696ad)`collect` is for `keep`?

9214

[18:33](#msg5a64dd11ce68c3bc74e696bf)`collect` everything that is `keep`ed, yes

abdllhygt

[18:36](#msg5a64dd9ace68c3bc74e6999f)i see

9214

[18:36](#msg5a64dda05a9ebe4f75b6c5d8)it might not be clear, but `collect` accepts a parse rule as its argument, in the example above it's a `some` rule, in turn `some` accepts another rule, which is `[keep integer! | skip]`

gltewalt

[18:36](#msg5a64ddcace68c3bc74e69ab1)Time for your parse blog

abdllhygt

[18:39](#msg5a64de50d9f895c360420e00)what is `opt`?

9214

[18:39](#msg5a64de595ade18be39a4da6d)optional match

[18:39](#msg5a64de70ce68c3bc74e69dd4)i.e. either match or not, but continue to parse in any case

[18:40](#msg5a64de8dba39a53f1a43515b)

```
text
>> parse [a 1][opt word! integer!]
== true
>> parse [1][opt word! integer!]
== true
```

abdllhygt

[18:41](#msg5a64def7ce68c3bc74e6a00d)i see thanks, i understand with examples, thank you!

## Monday 22nd January, 2018

greggirwin

[02:01](#msg5a6545e16117191e619606a3)@abdllhygt, have you read http://www.red-lang.org/2013/11/041-introducing-parse.html?

sptorin\_twitter

[10:23](#msg5a65bb845a9ebe4f75bad9dd)can I make `typeset!` with restrictions? for example it's positive number not more then 100

9214

[10:24](#msg5a65bbe498927d57451e0cfe)@sptorin\_twitter AFAIK no, you can play around with reactors though

[10:25](#msg5a65bc2bd9f895c36045fcb8)@dockimbel am I right that `#alias` directive is not implemented yet?

&gt; a new #alias compilation directive will be introduced. This directive will allow users to turn an object definition into a "virtual" type that can be used in type spec blocks

sptorin\_twitter

[10:26](#msg5a65bc73ae53c159031b6238)and in `func` argument block I can make some checks? x &lt; 100 etc...?

9214

[10:27](#msg5a65bcae5a9ebe4f75bae04f)@sptorin\_twitter yes, if you really want

[10:28](#msg5a65bcba98927d57451e114f)@rebolek done something like this http://red.qyz.cz/dependent-types.html

[10:28](#msg5a65bcd65ade18be39a8c763)I also helped one of the users to implement such boundary checks, though, can't find any snippets right now

[10:29](#msg5a65bd21ce68c3bc74ea800f)in general, Red doesn't have built-in functionality as the one you ask for, so you should implement your own custom function constructor

[10:30](#msg5a65bd3398927d57451e13a4)like @rebolek's `afunc`

sptorin\_twitter

[10:30](#msg5a65bd55517037a212da0858)I see, tnx. `afunc` - good example

9214

[10:34](#msg5a65be180ad3e04b1b51ebe7)although the easier way would be to check argument's boundaries inside function's body with `switch`, `case` or whatever

rebolek

[10:49](#msg5a65c1d2ce68c3bc74ea9c59)@9214 how do you think that `afunc` checks boundaries?

9214

[10:51](#msg5a65c22f98927d57451e367c)@rebolek the same way as I proposed :smirk:

```
insert body compose/deep [
                    assert [(word) (symbol) (val)]
                ]
```

[10:51](#msg5a65c24dce68c3bc74ea9ed1)well, almost, I believe it's R2 code?

[10:52](#msg5a65c2565ade18be39a8e7c0)because of `assert`

rebolek

[10:52](#msg5a65c284ae53c159031b87dc)I believe R3, I haven't used R2 very much, after R3 came out.

9214

[10:52](#msg5a65c28a5a9ebe4f75bb04b0)heretic!

rebolek

[10:55](#msg5a65c3300ad3e04b1b520c42)Actually, there's lot of R3 stuff in Red.

abdllhygt

[11:58](#msg5a65d1d00ad3e04b1b526332)@greggirwin yes, i read but my english isn't good

[13:40](#msg5a65e9d76117191e61995a8d)hi!

9214

[15:42](#msg5a6606555ade18be39aaa621)@abdllhygt hi Abdullah, next round of questions? :)

kokenge

[16:19](#msg5a660ef45a9ebe4f75bd016f)This is my first quick look at REBOL or RED. Might be a stupid question, but can you write web application. Do you write HTML code with links to RED. Or can you make the application you create appear in a browser and be sent back to RED. I guess my question is, How exactly does it work with the web. What are the steps to develop a web app

9214

[16:20](#msg5a660f4c5ade18be39aae07a)@kokenge hi, welcome! Unfortunately not yet, though, there're plans to compile down to `asm.js` and, in the future, to webasm.

[16:21](#msg5a660fa1e014122650790448)@are1000 seems to be brewing in web developing, maybe he can say something more helpful

are1000

[16:28](#msg5a66112a5a9ebe4f75bd0f11)@kokenge right now there is no simple way to create webapps with Red. However you can look at using Red as CGI ( @rebolek can tell you more about it) or you can wait until Red/JavaScript transpiler is completed (I just started working on proof of concept). I think that in the near future (as soon as Red will have full IO and Webview built in) there will be some workarounds for this.

Oldes

[16:31](#msg5a6611fc0ad3e04b1b5421b4)Any example how to use `into` rule in `parse`?

9214

[16:32](#msg5a6612225ade18be39aaf3cd)@Oldes

```
>> parse [a b c [1 2 3]][3 word! into [3 integer!]]
== true
```

[16:34](#msg5a66129f6117191e619a6f8a)i.e. "dive down" `into` the matched series (it this case it's the block under the pointer) and parse it with a given rule

Oldes

[16:36](#msg5a6612fad9f895c3604826bd)

```
>> parse [flags [a b c]] ['flags into [x: 1 skip (probe x)]]
[a b c]
```

I expected to have the `into` rule go to inside the series... so instead of above result to have:

```
a
b
c
```

[16:37](#msg5a6613445ade18be39aafb6a)So the `into` is just an additional check if the input is valid, right?

9214

[16:37](#msg5a66135598927d5745204854)

```
text
>> parse [flags [a b c]]['flags into [some [set x skip (probe x)]]]
a
b
c
== true
```

[16:38](#msg5a661379e014122650791dc9)@Oldes yes, instead of parsing `[a b c]` as `block!` at top level you're checking its content

Oldes

[16:38](#msg5a66137f5ade18be39aafcb8)ech.. my fault than... my parse skills are quite rusty:)

BeardPower

[16:41](#msg5a6614285a9ebe4f75bd2312)Wouldn't parse be a bottleneck, if it's called 10 times a second?

9214

[16:41](#msg5a6614525ade18be39ab01e9)@BeardPower `into` doesn't call another `parse`, if that's what you mean

BeardPower

[16:42](#msg5a6614596117191e619a7f24)E.g. running an animation DSL with 60fps. Parse would be called quite a lot.

[16:42](#msg5a66146d5a9ebe4f75bd245e)@9214 No sorry, I was referring to parse itself.

9214

[16:42](#msg5a66147d5ade18be39ab02bb)IIRC @dockimbel mentioned that in the future Parse compiler will be implemented for such intensive tasks

BeardPower

[16:44](#msg5a6614f0ae53c159031dabc1)Nice. As I want to make an animation DSL with plugins (the parse rules would be changed at the first start), the parse rules would be called every 16ms.

rebolek

[16:45](#msg5a66153e5a9ebe4f75bd2a35)You can test speed of parse to see if it runs fast enough.

BeardPower

[16:46](#msg5a6615480ad3e04b1b543707)Or would it be better to just code some functions instead of a DSL?

[16:46](#msg5a66155a6117191e619a85ae)Will do.

9214

[16:46](#msg5a66155bce68c3bc74ecb01c)@BeardPower `parse` is not the only way to create DSLs in Red

BeardPower

[16:46](#msg5a661582d9f895c3604835f2)@9214 I'm exchanging a Red token for more infos/examples on that :)

9214

[16:48](#msg5a6615c30ad3e04b1b543a80)well, you can roll out macros or work with `bind` and custom contexts only

BeardPower

[16:48](#msg5a6615d15ade18be39ab0eac)I had the impression, that parse is the (only) way to go for implementing a DSL, because in all the examples I read about, parse was used.

9214

[16:48](#msg5a6615d298927d57452058e3)though, it wouldn't be that elegant

[16:48](#msg5a6615ef5a9ebe4f75bd30cd)in simpler cases, you can just use built-in functions

[16:49](#msg5a6616015a9ebe4f75bd315a)dialect is any piece of data that get "special" treatment

[16:49](#msg5a6616366117191e619a8bad)say, \[here](https://github.com/9214/daruma/blob/master/src/datasheet.red#L119) I described 3 steps of permutations, kind of a dialect

[16:50](#msg5a6616560ad3e04b1b543e93)and \[here](https://github.com/9214/daruma/blob/master/src/decoder.red#L28) how I interpret this "dialect"

[16:50](#msg5a661669ae53c159031db511)just a combination of looping and binding

dsgeyser

[16:50](#msg5a66166c5a9ebe4f75bd35d5)Is RedBin Red's solution for implementation of something similiar to Protocol Buffers? And will RedBin allow easy exchange of data between various platforms and languages? I believe technology behind sandstorm.io will have a huge impact on the internet in years to come.

9214

[16:50](#msg5a66166f0ad3e04b1b543eed)well, and composing

BeardPower

[16:51](#msg5a6616a4ae53c159031db72a)Thanks, greatly appreciated!

9214

[16:54](#msg5a66172b6117191e619a9377)@dsgeyser I believe @greggirwin might answer this questions in detail, as I recall that he mentioned Protocol Buffers at some point

BeardPower

[16:56](#msg5a6617a55ade18be39ab1b71)Protocol Buffers is kind of "retro". FlatBuffers, Cap' n Proto, SBE etc., are the new kids on the block. Just saying :)

[16:58](#msg5a6618245a9ebe4f75bd40aa)IIRC PB was mentioned for transferring the RedBin data over the network. Slap me, if I'm wrong.

rebolek

[17:00](#msg5a6618b30ad3e04b1b544fac)@BeardPower I did anim dialect for my pitch.green demo, I may still have it somewhere. IIRC it precompiled the dialec to some internal representation tha was faster to work with.

BeardPower

[17:02](#msg5a661932ae53c159031dc8d0)But, as I understand RedBin being some kind of "concise memory snapshot/representation of the code in memory", it has similarities with PB as a serialization format.

[17:04](#msg5a6619a598927d574520744e)@rebolek Cool. Counting on your search &amp; rescue capabilities :)

rebolek

[17:09](#msg5a661ae36117191e619aada0)I am on phone now, so it will have to wait until I get home, I ket you know then.

dsgeyser

[17:10](#msg5a661b075a9ebe4f75bd533b)Yeah, sandstorm.io is using Cap'n Proto extensively. The head developer of sandstorm is a former Google engineer and did most of the Protocol Buffer development, used by Google to this day. Interesting concept.

But I need an AMD64 box to set up my own server. Quite hard to find one these days.

Would be interested to see something similar running on Red code one day.

BeardPower

[17:39](#msg5a6621d9ae53c159031e0927)And he also developed Cap'n Proto ü§ì

[17:40](#msg5a6622165ade18be39ab6440)@rebolek Awesome. Take your time ‚úå

rebolek

[17:42](#msg5a66229eae53c159031e0f49)Btw the demo is available on rebol.org so you can see it in action right now ;) but it's obfuscated because of the rules.

BeardPower

[17:46](#msg5a66236c5a9ebe4f75bd8c5c)Will try to break it, the app, not the obfuscation üëç

rebolek

[19:02](#msg5a6635555ade18be39abe3e8)@BeardPower hm, it's probably not on rebol.org, but someone uploaded it on youtube https://www.youtube.com/watch?v=KrIWf-fIhA0

BeardPower

[19:04](#msg5a6635ad5a9ebe4f75be0331)üëç

rebolek

[19:11](#msg5a6637796117191e619b6adc)Hm, it must have been recorder on \*very slow* computer.

[19:13](#msg5a6637c35ade18be39abf327)Ah, here it is http://www.rebol.net/demos/C25FFB73CAA5321B/pitchgreen.r

BeardPower

[19:21](#msg5a6639a25ade18be39abfe1c)Are these files also available? files: \[%aggregator.r 10056 %mostik.jpg 14908 %pitch-green.ran 2353 %pitch-green.song 829]

rebolek

[19:22](#msg5a6639da0ad3e04b1b553083)That's the description of the archive, all those files are part of it.

BeardPower

[19:22](#msg5a6639f75a9ebe4f75be2005)W00t :clap:

rebolek

[19:24](#msg5a663a51ce68c3bc74ed9985)It is self-extracting archive.

greggirwin

[20:16](#msg5a6646955ade18be39ac5237)Redbin info: http://www.red-lang.org/2015/04/053-faster-compilation-and-extended.html

[20:20](#msg5a664771d9f895c3604972e3)@dgeyser, this means we shouldn't have to worry about any external formats if all we want to do is store and exchange Red data efficiently. Be sure to read the http://www.rebol.com/article/0044.html article Doc's blog links to as well.

BeardPower

[20:27](#msg5a6649230ad3e04b1b558e50)@greggirwin How about securing such data against decompilation?

greggirwin

[20:30](#msg5a6649e9ce68c3bc74edf8c3)From Carl's article:

&gt; For encapsulated programs, there is also the extra advantage that developers can selectively remove symbols from the REBin symbol table. This allows commercial developers to do a better job of hiding their code

[20:31](#msg5a664a25ce68c3bc74edf9fb)As it's just data, we may also see refinements for `save/load` like, `/secure`, which add a key param.

BeardPower

[21:38](#msg5a6659e9d9f895c36049e6cf)@greggirwin So let's assume the following:  
There is a nice Red package manager call Repaman and I wrote a module called wdftlm.rm (rm for Red Module; world domination for the little man). Some user wants to download my module with Repaman and link against my module to use it within his code, but also keep it save from skiddies, not so much from very sophisticated crackers.  
Can this already been pulled of with the current state of Red? Is the code sufficiently protected? `/secure` could be great. E.g., encrypting it with AES, fetching the key through Repaman or the like.

gltewalt

[21:43](#msg5a665b165ade18be39acd672)No, nothing is protected right now

[21:47](#msg5a665bf0ae53c159031f7376)And levels (that I‚Äôm aware of), yet

[21:47](#msg5a665c005ade18be39acdbfe)Err, and no security levels

abdllhygt

[22:02](#msg5a665f8aae53c159031f8992)@9214 the questions for tomorrow, i will sleep :)

greggirwin

[22:34](#msg5a6666ebce68c3bc74eea786)@BeardPower, as @gltewalt says, none of that is in place today. What we don't know is how this will all play out when we get to module design. Simpler is better, and there are a lot of old systems to learn from. @roobie and I were going to look at PkgMgmt ideas at one point, as I have a lot of old notes. But consider this new world of blockchains, where SemVer and lock/pack concepts meet. How does that all work?

Your module could live in a block, behind a contract, paid or not in some form, per use or per download, source code vs encrypted, etc. The package system could build packs of components into blocks, and maybe the runtime module system can even load them side by side. When you go to debug, you may have all source or, as with natives today, be linked to a system of record, or even get a "Nope, that's a secure piece of code you're trying to view." response.

[22:36](#msg5a66676a5ade18be39ad1e31)How to make it easy to use, secure, and maintain is the work. But a system like this could prevent things like the NPM leftpocalypse, but also means you, as an author, may give up rights to rescind work, or that's part of the contract. e.g., no new users can be accepted, but old users continue to get access, or can get the source via escrow.

BeardPower

[22:39](#msg5a66680e0ad3e04b1b563dc3)Absolutely, the d-Ledger opens very exciting new ways.

[22:40](#msg5a6668766117191e619c8da4)I need to research on some of the ledgers, maybe there is something tailored to "package managment". BigchainDB's ACLs could be used for it.

[22:42](#msg5a6668f25a9ebe4f75bf425b)Thank you for your insights!

[22:49](#msg5a666a79517037a212de61c4)@gltewalt Thanks to you too!

gltewalt

[23:01](#msg5a666d60517037a212de7066):+1:

## Tuesday 23th January, 2018

Oldes

[09:35](#msg5a6701daae53c15903229364)What is the best way how to merge 2 map type values?

9214

[09:36](#msg5a670222e0141226507e1664)@Oldes `extend`

Oldes

[09:37](#msg5a6702476117191e619f49be)thanks

9214

[09:37](#msg5a67024ae0141226507e173d)

```
text
>> extend #(a 1 b 2) #(c 3 d 4)
== #(
    a: 1
    b: 2
    c: 3
    d: 4
)
```

toomasv

[16:48](#msg5a676745e01412265080b5e6)How to draw dashed borders?

9214

[16:49](#msg5a6767996117191e61a1c38b)@toomasv `pen pattern` maybe?

toomasv

[16:50](#msg5a6767e1e01412265080b87d)I can do dashed borders for boxes with `pen pattern`but how to do dashed borders for roundy figures?

9214

[16:54](#msg5a6768dec95f22546dd5c580)\*shrug* :confused:

rebolek

[17:00](#msg5a676a2e6117191e61a1d6b0)@toomasv `pen pattern` does not support curves yet.

toomasv

[17:00](#msg5a676a4598927d574527c339)OK, thanks!

[17:12](#msg5a676d0a98927d574527d633)Is this the correct way? Seems quite complicated.

```
view [
   image 245x245 draw [
      pen pattern 50x50 [
         pen off fill-pen black 
         box 10x10 35x35
      ] 
      line-width 5 
      box 10x10 235x235
   ]
]
```

!\[dashed.png](http://vooglaid.ee/red/dashed.png)

greggirwin

[18:24](#msg5a677deeae53c1590325c34c)I believe they went for R2 `draw` compatibility, but if we can define easier syntax, it may not be too late to change them. Are you thinking something like a pen style?

abdllhygt

[18:42](#msg5a678222d9f895c360503a3a)hi again!

9214

[18:42](#msg5a67822f6117191e61a26b45)@abdllhygt :wave:

abdllhygt

[18:43](#msg5a67825e5a9ebe4f75c55519)`1+3*2` = `8`  
i want `1+3*2` = `7`

9214

[18:44](#msg5a67827498927d5745285973)@abdllhygt `math [1 + 3 * 2]`

[18:44](#msg5a67827fc95f22546dd6688e)remember that Red doesn't have any operator precedence

[18:44](#msg5a678286ce68c3bc74f4a3b1)not even in arithmetic operations

[18:44](#msg5a67829b5a9ebe4f75c5569e)`math` is a mini-dialect that partially does what you want

abdllhygt

[18:45](#msg5a6782d898927d5745285b4c)thanks

[18:50](#msg5a6783e7ce68c3bc74f4abc6)Mathematical operators are `func` ?

9214

[18:50](#msg5a67840e6117191e61a27677)@abdllhygt no, they are `op!`, but you can treat them as special kind of `func`s, which are infix and work only with 2 aruments

abdllhygt

[18:54](#msg5a6784cb5a9ebe4f75c562f2)they aren't func but they are as func. true?

9214

[18:54](#msg5a6784ee6117191e61a27c26)@abdllhygt well, yes, with a few caveats

rebolek

[18:55](#msg5a678517e014122650817bf6)@abdllhygt they are infix funcs

[18:55](#msg5a678532ce68c3bc74f4b431)`1 + 3 * 2` is same as `multiply add 1 3 2`

abdllhygt

[18:57](#msg5a67859a0ad3e04b1b5c42e1)@rebolek i know as you, `infix func`

toomasv

[18:57](#msg5a6785b3e014122650818044)@greggirwin Yes, something that you can just declare for the pen. Current `pen pattern` (and `pen bitmap`) seem to work by clipping the plane which does not extend to curved lines and is rather cumbersome/messy for boxes/lines too.

abdllhygt

[18:59](#msg5a6786120ad3e04b1b5c453b)@9214 @rebolek i'm writing tutorial. This is important, can i write `func` ?

9214

[18:59](#msg5a6786256117191e61a284f0)@abdllhygt not sure what you mean

[19:00](#msg5a678639517037a212e48c1f)can you define your own operator?

rebolek

[19:00](#msg5a67863ac95f22546dd6812d)@abdllhygt `f: func [x][x + 1]`?

9214

[19:00](#msg5a678659ae53c1590325fb70)

```
text
>> my-add: make op! func [x y][x + y]
== make op! [[x y]]
>> 1 my-add 2
== 3
```

abdllhygt

[19:02](#msg5a6786aed9f895c360505aa7)

```
avg: func [
      [infix] a [integer!] b [integer!] return: [integer!]
][
   (a + b) / 2
]
10 avg 6
```

rebolek

[19:02](#msg5a6786d6c95f22546dd684fa)

```
>> m: #(a 1 b 2)
== #(
    a: 1
    b: 2
)
>> from: make op! func [key map][select map key]
== make op! [[key map]]
>> 'a from m
== 1
```

9214

[19:02](#msg5a6786dac95f22546dd68519)@abdllhygt

```
>> avg: make op! func [x y][divide x + y 2]
== make op! [[x y]]
>> 10 avg 6
== 8
```

[19:03](#msg5a678708d9f895c360505ced)`[infix]` is a flag from R/S and doesn't work in Red

abdllhygt

[19:06](#msg5a67879b517037a212e4935b)I teach red in my blog for turkish. New lesson is math of red. I said that, "mathematical operators are function". This is false?

9214

[19:07](#msg5a6787d8ce68c3bc74f4c47b)they're function (an infix one), but they're not `function!`

[19:07](#msg5a6787f66117191e61a29129)

```
text
>> type? :avg
== op!
```

abdllhygt

[19:07](#msg5a6788075a9ebe4f75c577b4)i see thanks

greggirwin

[19:08](#msg5a6788375a9ebe4f75c578b1)And you can \*make* infix ops from functions. But start slow. e.g. `? op!`

abdllhygt

[19:09](#msg5a67885e98927d5745288177)I don't show `op!` to them

greggirwin

[19:09](#msg5a678861d9f895c360506686)Ah, I see I'm slow again. :^(

[19:09](#msg5a67886ce014122650819269)Too much chat to keep up with.

9214

[19:09](#msg5a67887c0ad3e04b1b5c536d)@abdllhygt one thing you should really stress out is the fact that operators have precedence over functions

greggirwin

[19:10](#msg5a6788a098927d574528824e)+1

9214

[19:10](#msg5a6788ac0ad3e04b1b5c547a)

```
text
>> add 1 3 - 2
== 2
```

here `3 - 2` evaluated \*before* `add`

[19:11](#msg5a6788c50ad3e04b1b5c5562)this is the major source of headaches for some newcomers, as they think that order of precedence is `add` then `-`

[19:11](#msg5a6788cf98927d574528837b)and that result should be... well, `2` too :D

[19:12](#msg5a6789140ad3e04b1b5c5766)

```
text
>> multiply 4 3 - 2
== 4
```

:tada:

rebolek

[19:12](#msg5a67891be014122650819653)bingo

abdllhygt

[19:15](#msg5a6789d3ce68c3bc74f4cffd)@9214 thanks. This is an important information!

[19:20](#msg5a678ae6517037a212e4a78a)`block!` &gt; `op!` &gt; `func!`. True?

9214

[19:20](#msg5a678af7ce68c3bc74f4d717)why `block!` is here?

abdllhygt

[19:22](#msg5a678b8ace68c3bc74f4da37)

```
math [ multiply 4 3 - 2]
```

9214

[19:23](#msg5a678b9b98927d5745289444)@abdllhygt yes, and? `math` is a function

abdllhygt

[19:23](#msg5a678bba6117191e61a2a6fe)before `block!` of math, after `op!`, after `func!`

[19:24](#msg5a678be05a9ebe4f75c5916b)do you understand?

9214

[19:24](#msg5a678be75a9ebe4f75c5917f)not quite

[19:24](#msg5a678c0798927d5745289624)inside `block!` given to `math` function operators will have arithmetic precedence

abdllhygt

[19:25](#msg5a678c10c95f22546dd6a037)block! is preferential

9214

[19:25](#msg5a678c280ad3e04b1b5c6988)`block!` itself is just a piece of data

abdllhygt

[19:25](#msg5a678c2dc95f22546dd6a0bc)oh i see, my example is false

9214

[19:25](#msg5a678c33ce68c3bc74f4dd5f)it can't have any precedence over functions or operators

abdllhygt

[19:26](#msg5a678c496117191e61a2aa45)my new exapmle:

```
math [3 - 2]
```

9214

[19:26](#msg5a678c575a9ebe4f75c59351)okay, it's the same as just `3 - 2`

abdllhygt

[19:27](#msg5a678c866117191e61a2ab5c)yes, so first is `block!`

9214

[19:27](#msg5a678ca0d9f895c36050819c)but block can't evaluate all by itself

[19:27](#msg5a678cb0ce68c3bc74f4e0f2)\*function* or \*operator* is what evaluates a block

[19:28](#msg5a678cc1ce68c3bc74f4e12c)operators have precedence over functions, yes

[19:28](#msg5a678cd46117191e61a2ad9e)saying that blocks have precedence over functions and operators doesn't make any sense to me

abdllhygt

[19:28](#msg5a678ce85a9ebe4f75c596e1)so `block` isn't preferential everytime

9214

[19:28](#msg5a678cf7d9f895c3605083bf)I don't get what you mean by "preferential block" :D

[19:29](#msg5a678d04e01412265081afc3)block is just an argument to a function

[19:29](#msg5a678d18c95f22546dd6a645)what function does to a block is another matter

[19:30](#msg5a678d3c5a9ebe4f75c59984)you can't say that in `1 + 2` `1` have precedence over `+`, right?

[19:30](#msg5a678d4ce01412265081b11b)"precedence" is defined between things that evaluate something

[19:30](#msg5a678d71e01412265081b1a9)in Red it's either functions or operators (well, rather `any-function!` values)

```
>> any-function!
== make typeset! [native! action! op! function! routine!]
```

abdllhygt

[19:33](#msg5a678e0798927d574528a5e0)Thank you, my english is bad, you know it :)

9214

[19:33](#msg5a678e110ad3e04b1b5c775b)`math` isn't special in this regard, i.e it's just a function and follows same rules of precedence

[19:34](#msg5a678e2d517037a212e4bf86)but all operators inside `math` block will follow arithmetic precedence

[19:34](#msg5a678e3598927d574528a723)because this is just how `math` works

[19:34](#msg5a678e4ac95f22546dd6adbd)

```
text
math: func [
    {Evaluates a block using math precedence rules, returning the last result} 
    body [block!] "Block to evaluate" 
    /safe "Returns NONE on error" 
    /local rule pos op sub end
][
    parse body: copy/deep body rule: [
        any [
            pos: ['* (op: 'multiply) | quote / (op: 'divide)] 
            [ahead sub: paren! (sub/1: math as block! sub/1) | skip] (
                end: skip pos: back pos 3 
                pos: change/only/part pos as paren! copy/part pos end end
            ) :pos 
            | into rule 
            | skip
        ]
    ] 
    either safe [attempt body] [do body]
]
```

you can study it as a `parse` example btw ;)

abdllhygt

[19:35](#msg5a678e6aae53c15903262e5a)i see now :)

[19:35](#msg5a678e83d9f895c360508c3a)my red is bad, you know it :D

greggirwin

[19:35](#msg5a678e8ece68c3bc74f4ebc1)Getting better every day though!

9214

[19:35](#msg5a678e92e01412265081b74b)@abdllhygt just keep learning :)

abdllhygt

[19:36](#msg5a678eb398927d574528aa8d)@greggirwin @9214 yes :)

greggirwin

[19:36](#msg5a678eb86117191e61a2b920)And I wouldn't say it's bad, at all, just new to you.

abdllhygt

[19:37](#msg5a678edde01412265081b8bb):+1:

[19:44](#msg5a6790a898927d574528b710)it's prepared; http://abdllh.com/red-dersleri-4-matematiksel-islemler/

9214

[19:45](#msg5a6790dad9f895c360509c55):clap:

greggirwin

[19:47](#msg5a679163ce68c3bc74f4ff2a)+1

abdllhygt

[19:48](#msg5a67918e5a9ebe4f75c5b6be)the visitors of my blog don't speak turkish :)

greggirwin

[19:48](#msg5a6791a85a9ebe4f75c5b795)Not me anyway.

9214

[19:49](#msg5a6791c1c95f22546dd6c4ff)well, I can get the main ideas

abdllhygt

[19:53](#msg5a6792c2ae53c1590326490d)google analytics:

```
turkish: "%38,46"
english: "%30,77"
chinese: "%23,08"
sv-se: "%7,69"
```

but all lessons are in turkish language :D

9214

[19:54](#msg5a67930d5a9ebe4f75c5bef7)well, maybe they studying both Red and Turkish in your blog ;)

abdllhygt

[19:57](#msg5a679392ae53c15903264d96)haha maybe. But they are 10 people :/ My blog is new. And the visitors came sometimes in here :)

[20:20](#msg5a67992b5a9ebe4f75c5e86e)Red is ready for system programming? I have an idea about operating system.

greggirwin

[20:36](#msg5a679cb66117191e61a31002)Yes, Red/system is the low level dialect.

[20:36](#msg5a679cdbd9f895c36050e4d3)http://static.red-lang.org/red-system-specs-light.html

abdllhygt

[20:42](#msg5a679e2f5a9ebe4f75c6080e)is it compiling as ".img" format?

greggirwin

[20:43](#msg5a679e5f6117191e61a31831)It compiles to native code.

abdllhygt

[20:43](#msg5a679e8f5a9ebe4f75c609b4)what different are red and red/system?

[20:44](#msg5a679eb5ce68c3bc74f54d14)can i develop an operating system with red/system?

greggirwin

[20:45](#msg5a679edbae53c15903269418)Red is high level and dynamic, with lots of datatypes. Red/system is a C level language. Manual memory management, few datatypes. More efficient.

Yes, you could write an OS with it, just as you could with C.

abdllhygt

[20:46](#msg5a679f2198927d5745291007)thank you!

[20:47](#msg5a679f486117191e61a31d5f)without asm?

rebolek

[20:47](#msg5a679f54517037a212e52b3e)You could write an OS in Red.

[20:48](#msg5a679fae6117191e61a32018)Red/System compiles to asm. Writing in asm can result in faster code, but may be harder.

greggirwin

[20:49](#msg5a679fd8c95f22546dd71ba6)Compiles direct to machine code, not ASM, yes? i.e., no assembler required.

rebolek

[20:49](#msg5a679fe15a9ebe4f75c612c9)Sorry, yes

abdllhygt

[20:49](#msg5a679fe298927d5745291400)i know it. but can i develop an OS without asm?

9214

[20:51](#msg5a67a041ae53c15903269ac5)@abdllhygt theoretically - yes

abdllhygt

[20:51](#msg5a67a05b517037a212e532bc)@9214 thanks

BeardPower

[21:50](#msg5a67ae10ae53c1590326ef25)@greggirwin I just found this https://www.npmjs.com/package/interplanetary-package-manager

greggirwin

[21:53](#msg5a67aebdce68c3bc74f5a8e2)Cool! Seems like coming up with new project names and logos may be the biggest challenge we all face in the future.

BeardPower

[21:54](#msg5a67af0dd9f895c3605150fb)Yeah, sometimes this is the hardest thing ü§ì

greggirwin

[21:55](#msg5a67af63d9f895c3605152c2)https://github.com/red/red/wiki/Package-Management

gltewalt

[21:59](#msg5a67b0430ad3e04b1b5d4c34)Reminds me of this quote:  
‚ÄúMany have said that one of the biggest problems with lisp is the proliferation of non-standard and incompatible mascots.‚Äù  
:smile:

## Wednesday 24th January, 2018

abdllhygt

[13:34](#msg5a688b77c95f22546ddbcb72)hi!

rebolek

[13:35](#msg5a688b99e01412265086cc3f)Hi

abdllhygt

[13:36](#msg5a688bc35a9ebe4f75cad86c)

```
{"} copy text1 to {"} any space {<<} any space {"} copy text2 to {"}
```

In parse, it doesn't work for `"aaa"<<"merhaba"`

rebolek

[13:37](#msg5a688c15c95f22546ddbcf60)

```
>> parse {"aaa"} [{"} copy text to {"} p: (print  p)]
"
```

[13:37](#msg5a688c1fc95f22546ddbcf80)`to` stops at matched character

[13:37](#msg5a688c2c517037a212ea0055)you need to get past it with `skip` for example

9214

[13:38](#msg5a688c500ad3e04b1b6179c3)`copy text to {"} skip`

abdllhygt

[13:38](#msg5a688c5298927d57452db7b9)thanks! i will study

rebolek

[13:38](#msg5a688c5bae53c159032b5123)^^^

maximvl

[13:39](#msg5a688c82c95f22546ddbd225)`parse-trace` is very useful for this:

```
>> parse-trace {"aaa"<<"merhaba"} [{"} copy text1 to {"} any space {<<} any space {"} copy text2 to {"}]
 -->
   match: [{"} copy text1 to {"} any space "<<" any space {" 
   input: {"aaa"<<"merhaba"}   
   ==> matched
   match: [copy text1 to {"} any space "<<" any space {"} co 
   input: {aaa"<<"merhaba"}   
   -->
     -->
       ==> matched
     <--
   <--
   match: [to {"} any space "<<" any space {"} copy text2 to 
   input: {"<<"merhaba"}   
   -->
     ==> matched
   <--
   match: [{"} any space "<<" any space {"} copy text2 to {" 
   input: {"<<"merhaba"}   
   ==> not matched
return: false
== false
```

abdllhygt

[13:44](#msg5a688dd05a9ebe4f75cae3f7)@9214 @maximvl thanks! But it works when i added `skip`

greggirwin

[17:10](#msg5a68be1f98927d57452f0aec)@abdllhygt experiment with `to` and `thru` and you'll see the difference.

## Thursday 25th January, 2018

Ungaretti

[09:48](#msg5a69a7db6117191e61adde3f)The following code runs fine on console:

```
Red[needs: 'view]

funOne: has [][
a: 10
]

funTwo: has [][
a: a * 2
]
funOne
funTwo
print a
```

But when I try to compile it, I get an error:

```
C:\Users\Andr√©\Documents\ESP8266book\Isolation>red-063.exe -r -t windows Isolation.red

-=== Red Compiler 0.6.3 ===-

Compiling C:\Users\Andr√ö\Documents\ESP8266book\Isolation\Isolation.red ...
*** Compilation Error: undefined word a
*** in file: C:\Users\Andr√ö\Documents\ESP8266book\Isolation\Isolation.red
*** near: [a]
```

Could this be a bug or am I missing something?

rebolek

[09:49](#msg5a69a82ac95f22546de1e1e2)@Ungaretti compiler is stricter and you need to define local words

Ungaretti

[09:50](#msg5a69a872ae53c15903316eb9)@rebolek Boy that was quick!  
Thank you.

rebolek

[09:56](#msg5a69a9dd517037a212f024fc)@Ungaretti you're welcome :)

9214

[10:44](#msg5a69b5235a9ebe4f75d14bc4)@Ungaretti you can also try to compile with `-e` flag, dunno if that will help

Phryxe

[14:07](#msg5a69e48a5a9ebe4f75d27f18)Fiddling around with tiny examples. At first I thought I needed `to-string` after `pad` and to shorten the code I tried binding `pad/left/with to-string` to a word, but couldn't get it to work.

```
dash: #"-"
m: now/month
d: now/day - 20
iso8601: rejoin [
	now/year
	dash
	either m < 10 [pad/left/with m 2 #"0"][m]
	dash
	either d < 10 [pad/left/with d 2 #"0"][d]
]
```

9214

[14:55](#msg5a69efdd5a9ebe4f75d2c8e7)@greggirwin ?

```
>> pad/left/with "-Jan-2018" 10 #"-"
== "--Jan-2018"
>> pad/left/with "2" 10 #"-"
== "---------2"
>> pad/left/with "25" 10 #"-"
== "--------25"
>> pad/left/with "25-Jan" 10 #"-"
== "----25-Jan"
>> pad/left/with "25-Jan-20" 10 #"-"
== "-25-Jan-20"
>> pad/left/with "25-Jan-2" 10 #"-"
== "--25-Jan-2"
```

[14:59](#msg5a69f0cace68c3bc7401a016)ah, I see

[14:59](#msg5a69f0d498927d574535683e)date already fills 10 characters

[14:59](#msg5a69f0d9ae53c15903333260)that's smart

[15:00](#msg5a69f127ce68c3bc7401a2c4)IMO it's worth to specify another refinement, in case I really want to pad with exactly 10 chars

```
>> pad/left/with d: now/date 10 + length? form d #"-"
== "----------25-Jan-2018"
```

abdllhygt

[18:21](#msg5a6a203dd9f895c3605e85ce)hi

9214

[18:22](#msg5a6a2054ae53c159033464dd)hi @abdllhygt

abdllhygt

[18:22](#msg5a6a20665a9ebe4f75d40aac)how to add member in array?

9214

[18:22](#msg5a6a2074517037a212f31e0d)you mean block?

abdllhygt

[18:22](#msg5a6a2082517037a212f31e51)yes

9214

[18:23](#msg5a6a2089d9f895c3605e8858)`append` or `insert`

abdllhygt

[18:24](#msg5a6a20d498927d5745369ea1)same?

9214

[18:25](#msg5a6a2102d9f895c3605e8c46)no, `append` adds element to the tail and returns head of the series, while `insert` adds element at the current position of the series and returns series past the insertion

[18:25](#msg5a6a21335a9ebe4f75d40fbf)

```
text
>> block: [1 2 3]
== [1 2 3]
>> append block 4
== [1 2 3 4]
>> block: skip block 2
== [3 4]
>> insert block 'a
== [3 4]
>> block
== [a 3 4]
>> head block
== [1 2 a 3 4]
```

abdllhygt

[18:27](#msg5a6a2174d9f895c3605e8f2e)thank you!

9214

[18:27](#msg5a6a21806117191e61b0e183)there're also more function that can add element to a series, like `move` or `swap` for example, but `append` and `insert` are most common

[18:27](#msg5a6a21915a9ebe4f75d41157)@abdllhygt you're welcome! :)

abdllhygt

[18:31](#msg5a6a229a98927d574536a86c)

```
>> << "merhaba"
merhaba
>> << "merhaba =(9213+1)"
merhaba 9214
>> "file.txt" << "hello"
>> value: "merhaba hello"
== merhaba hello
```

but values don't work now.

[18:33](#msg5a6a22ddd9f895c3605e9862)Print, Math and Writing File work

9214

[18:33](#msg5a6a22f8ce68c3bc7402d20b)nice!

abdllhygt

[18:39](#msg5a6a24510ad3e04b1b6a89ca)how to make a value in `context`?

9214

[18:39](#msg5a6a246d517037a212f339bb)@abdllhygt ?

```
>> context [a: 1 + 2]
== make object! [
    a: 3
]
```

[18:39](#msg5a6a247498927d574536b4e0)`context` is an alias for `object`

abdllhygt

[18:41](#msg5a6a24c15a9ebe4f75d42855)no, i want this:

```
VALUES: context []

add* [value: "merhaba"] VALUES
```

[18:41](#msg5a6a24e06117191e61b0f7e8)

```
>>  print VALUES/value
== merhaba
```

9214

[18:42](#msg5a6a250798927d574536b7d5)there's `extend` function that, well, extends existing objects (and maps) with new key/value pairs, but currently it supports only `map!` datatype

abdllhygt

[18:43](#msg5a6a25374a6b0dd32b488ca1)can you show this func

9214

[18:43](#msg5a6a254798927d574536b92f)@abdllhygt `? extend`, see for yourself

[18:46](#msg5a6a25e9ce68c3bc7402e4fe)if possible, you can use block instead of an object

[18:46](#msg5a6a25fcce68c3bc7402e5fe)and then needed, convert this block to an object with `context your-block`

abdllhygt

[18:46](#msg5a6a2603d9f895c3605eac9c)i don't understand, i try as this:

```
extend VALUES [value: "hello"]
```

9214

[18:46](#msg5a6a2617c95f22546de5116d)@abdllhygt as I said earlier, it does not support objects yet, only maps

[18:47](#msg5a6a26346117191e61b0ff40)

```
text
>> m: #(a 1)
== #(
    a: 1
)
>> extend m [b 2]
== #(
    a: 1
    b: 2
)
```

[18:47](#msg5a6a2644ce68c3bc7402e735)

```
text
>> o: object [a: 1]
== make object! [
    a: 1
]
>> extend o [b: 2]
*** Internal Error: reserved for future use (or not yet implemented)
*** Where: extend
*** Stack:
```

abdllhygt

[18:48](#msg5a6a26640ad3e04b1b6a95a5)sorry i understand, i didn't know `map`

[18:54](#msg5a6a27d8ae53c15903349884)

```
a: "value"
b: 10
extend m [a b]
```

it doesn't add "value" and 10, it add `a` and `b` :/

9214

[18:54](#msg5a6a27ee5a9ebe4f75d4409c)`extend m reduce [a b]`

abdllhygt

[18:55](#msg5a6a280a6117191e61b10b62)thanks!

9214

[18:55](#msg5a6a2830d9f895c3605eb928)remember that blocks are nothing more than data and that you need explicitly evaluate expressions in them to get what you want

abdllhygt

[18:58](#msg5a6a28b8d9f895c3605ebc4f):+1:

dander

[20:47](#msg5a6a425f4a6b0dd32b494422)@abdllhygt you can't add new words to an existing object, but you can create a new one that extends it

```
>> o: object [a: 1]
== make object! [
    a: 1
]
>> o2: make o [b: 2]
== make object! [
    a: 1
    b: 2
]
```

9214

[20:48](#msg5a6a42905a9ebe4f75d4e9da)@dander it doesn't modify the original, but creates a modified copy

[20:48](#msg5a6a42a498927d5745377598)i.e. uses original as a prototype

[20:49](#msg5a6a42beae53c15903353c6f)from @abdllhygt's description it seems that he want to modify original data structure

[20:49](#msg5a6a42cd6117191e61b1b069)I think it's easier to use just block and `append`

dander

[20:49](#msg5a6a42ea5a9ebe4f75d4ec54)that is what I meant to say, if it wasn't clear. Just another option if you are using `object` for whatever reason

9214

[20:50](#msg5a6a4322d9f895c3605f5f52)@abdllhygt if you don't need a context to bind words to (and if you don't understand what `bind` is), try to use `block!` instead

dander

[20:50](#msg5a6a4327ae53c159033540d6)it seems like the default choice should generally be "use blocks, unless you need something more". Keep it simple

Ungaretti

[22:38](#msg5a6a5c50ae53c1590335d9c6)@9214 Yes, compiling with -e flag worked! Where did you come up with -e flag? This thing isn't even documented in Red's github! What is it?

## Friday 26th January, 2018

greggirwin

[07:46](#msg5a6adcf24a6b0dd32b4c242c)@Ungaretti I thought it had made it to the readme. `-e` means "encap" which works like rebol did. So you get a single EXE but all code is internally interpreted, so any issues that are compiler limitations can be worked around.

9214

[07:59](#msg5a6adfcaae53c15903384745)it's not documented because Doc considers it to be experimental feature and a subject to change

abdllhygt

[10:22](#msg5a6b015b5a9ebe4f75d89431)I guess;  
@dander object isn't usable, because i need one thing for to shelter data.  
@9214 block isn't usable, because; the value name should be unique.

rebolek

[10:51](#msg5a6b0845c95f22546de9817b)@abdllhygt so use `map!`

abdllhygt

[10:54](#msg5a6b08f86117191e61b57f38)@rebolek yes

[12:34](#msg5a6b2059ae53c1590339a60a)hi again!

[12:34](#msg5a6b207340259f1a33ad52ca)how to add button in `view`?

rebolek

[12:35](#msg5a6b2076c95f22546dea0581)hi :)

[12:40](#msg5a6b21b040259f1a33ad58cb)for example `view [box 0x300 button "add button" [append face/parent/pane layout/only compose [at (0x30 + select last face/parent/pane 'offset) button "new one"]]]`

abdllhygt

[12:45](#msg5a6b22eac95f22546dea11d2)thanks but i don't understand somethings. `face/parent/pane` =&gt; of`box`? and others...

[12:45](#msg5a6b2303ae53c1590339b3ba)do you know examples webpage about this?

rebolek

[12:46](#msg5a6b2315c95f22546dea123f)`box 0x300` is there just to make windows taller, so you could see added buttons.

[12:46](#msg5a6b23360ad3e04b1b6f7340)`face/parent/pane` refers to pane where new buttons should be added

abdllhygt

[12:49](#msg5a6b23d7ae53c1590339b7f2)thanks, where do you learn it?

rebolek

[12:51](#msg5a6b244440259f1a33ad6795)See \[Rebol/View documentation](http://www.rebol.com/docs/view-guide.html). There are differences, but overall it's very similar.

abdllhygt

[12:53](#msg5a6b24c840259f1a33ad6b8a)@rebolek thanks!

9214

[13:03](#msg5a6b273a6117191e61b6230c)@abdllhygt you want to add button dynamically or just create an interface with button?

[15:34](#msg5a6b4aa10ad3e04b1b7068c1)is it possible to force `parse` `collect` to `keep` one char string instead of just one char?

```
str: "ABC[DE][SG[HI[JK]L]MNO]"

set [push pop]["[" "]"]
node:   [not [push | pop] skip]
edge:   [collect some [keep some node | branch]]
branch: [push edge pop]

probe parse str edge
```

```
["ABC" ["DE"] ["SG" ["HI" ["JK"] #"L"] "MNO"]]
```

[15:37](#msg5a6b4b324a6b0dd32b4e98e6)I know that I can hack my way around with

[15:38](#msg5a6b4b60ae53c159033aa531)

```
text
edge:   [collect some [copy n some node keep (form n) | branch]]
```

[15:38](#msg5a6b4b6f40259f1a33ae5ea5)but still

[15:39](#msg5a6b4bcbce68c3bc7408dc5e)ah, it's even easier

```
edge:   [collect some [copy n some node keep (n) | branch]]
```

```
["ABC" ["DE"] ["SG" ["HI" ["JK"] "L"] "MNO"]]
```

abdllhygt

[17:29](#msg5a6b6577ce68c3bc74098bd9)@9214 just create :) thanks

9214

[17:29](#msg5a6b6595494bd0f5302b39d6)@abdllhygt then something like `view [button "click"]` will do

abdllhygt

[17:31](#msg5a6b65f8494bd0f5302b3b24)@9214 no, i want to create button when i clicked other button

rebolek

[17:31](#msg5a6b660e0ad3e04b1b711ba8)then see my code above :)

9214

[17:32](#msg5a6b6620ae53c159033b5e6d)this is what I called "to dynamically add button" :joy:

abdllhygt

[17:33](#msg5a6b66550ad3e04b1b711cfc)@rebolek i can't understand yours :)

rebolek

[17:35](#msg5a6b66df98927d57453d7b3d)@abdllhygt it's quite easy :) But I should probably split it into separate functions, so it will be more clear.

abdllhygt

[17:37](#msg5a6b676bc95f22546debcbd3)@rebolek maybe i will use ruby for web programming, if i don't make, then i return gui programming :)

rebolek

[17:39](#msg5a6b67bfce68c3bc74099a21)@abdllhygt ok, it's up to you :)

DideC

[21:40](#msg5a6ba03740259f1a33b06794)@abdllhygt faces are objects.  
in an actor, `face`refer to the face that run the function code (the first param of the actor function). Kind of `self` or `this` in other languages. `face/parent` point to the face that contain the current face.  
`face/pane` is a block where are stored the sub face of a face.  
So : `win: layout [button "bip"]` produce an object!. The word! `win` is set to it, and `win/pane`is a block with one element: yes, the "bip" button.  
And then, in an actor code, `face/parent/pane` means "the faces that are near myself in the face tree".  
Hope this help you understand a bit more above Rebolek's code.

## Saturday 27th January, 2018

abdllhygt

[13:10](#msg5a6c7a4c494bd0f53030188d)@DideC thanks!

Ungaretti

[13:14](#msg5a6c7b52ae53c15903402da8)I found that the `-e` compiling option is essential. Not only it solves the "global variables inside functions" problem, but also solves an issue I was having where I had to close one view and open another layout. This only worked with `-e` option. Thanks for that @9214 !

9214

[13:15](#msg5a6c7b880ad3e04b1b75ee0d)@Ungaretti does this issue appear only after compilation?

Ungaretti

[13:16](#msg5a6c7b9b6117191e61bca16f)Yes, on console it works fine.

9214

[13:17](#msg5a6c7be96117191e61bca2a8)okay then, it's a limitations of current bootstrap-phase compiler, IIRC Doc mentioned that most of them will be mitigated with JIT-compilation and features in `dyn-stack` branch

[13:18](#msg5a6c7c17ae53c1590340307d)@Ungaretti if you think that the issue you have looks like a bug, it's worth to be mentioned and reported

Ungaretti

[13:21](#msg5a6c7cd56117191e61bca5a3)Also, on my trials, before the magical `-e` , I had to remove all `print`(debug) statements from the code to make it work. I'm not sure if `-e` would have solved that too.  
I'll try to isolate it to report a bug.

9214

[13:22](#msg5a6c7d19ce68c3bc740e650d)I can't remember fully, but there's a reason why `probe` and`print` wreck havoc after compilation

[13:23](#msg5a6c7d36494bd0f53030264b)but they should work once script is encapped

Ungaretti

[15:41](#msg5a6c9dc398927d574542d238)@9214 No, it was not a bug. While trying to isolate it, I found that I left behind some `print` statements in the code. They were "in between" views for debugging, hence the crash. My code seems to compile fine now even without the `-e` option.

9214

[15:53](#msg5a6ca07cae53c1590340d1c6)@Ungaretti IIRC you can also try compilation as usual with `[Options: [red-strict-check?: off]]` added to a script header

[15:54](#msg5a6ca0a8ce68c3bc740f07a4)it should resolve an issue with "global variables" as far as I remember

Ungaretti

[17:50](#msg5a6cbbf140259f1a33b515d2)@9214 Interesting. I'll try that. Thanks. Where do I put that option? at the Red header?

[18:04](#msg5a6cbf11ce68c3bc740f9bb1)I mean, like "Red \[needs: 'view Options: \[...]]"?

9214

[18:04](#msg5a6cbf2b6117191e61bddbdb)@Ungaretti yes

[18:11](#msg5a6cc0cf4a6b0dd32b5567be)you can write just `[needs: view]` btw, without lit-quote

abdllhygt

[18:17](#msg5a6cc24ae217167e2c0a1583)hi!

9214

[18:18](#msg5a6cc25f40259f1a33b5336c)@abdllhygt hi Abdullah :)

abdllhygt

[18:18](#msg5a6cc28aae53c15903416dce)how to keep member of map?

9214

[18:19](#msg5a6cc298ce68c3bc740fad2c)@abdllhygt can you show an example?

abdllhygt

[18:20](#msg5a6cc3075a9ebe4f75e154dd)

```
xmap: #(a b)
xkeep: "a"
print xmap/(load xkeep) ;-- for print b
```

9214

[18:21](#msg5a6cc3446117191e61bdecd0)you're already showed how to do what you want, what's the problem?

```
>> load "a"
== a
>> m: #(a b)
== #(
    a: b
)
>> m/a
== b
>> m/(load "a")
== b
```

abdllhygt

[18:22](#msg5a6cc36d40259f1a33b5376b)my method is true? :)

9214

[18:22](#msg5a6cc376e217167e2c0a1b76)sure :)

abdllhygt

[18:22](#msg5a6cc382e217167e2c0a1b9d)`==none` :/

[18:23](#msg5a6cc389e217167e2c0a1ba9)i will look now

[18:26](#msg5a6cc45e5a9ebe4f75e15bf1)oh i do an error in parser :/ now it's okay :)

Ungaretti

[18:34](#msg5a6cc61940259f1a33b54524)I have a drop-down. During execution, I change drop-down/data to add new items. But my drop-down does not seem to update by itself at the view. Is there a way to do a "refresh" on a face?

9214

[18:35](#msg5a6cc6586117191e61bdfa8a)@Ungaretti https://github.com/red/red/issues/3153

[18:35](#msg5a6cc66b6117191e61bdfafc)I believe @toomasv hacked his way around this somehow

[18:37](#msg5a6cc6da5a9ebe4f75e168fd)https://gitter.im/red/red/gui-branch?at=5a3aac75a2be466828c64598

Ungaretti

[18:38](#msg5a6cc72de217167e2c0a2bea)@9214 How can you remember all this things? I can't remember what I had for breakfast! Thank you again.

9214

[18:39](#msg5a6cc74a40259f1a33b54b0d)@Ungaretti  
https://www.youtube.com/watch?v=BSUMBBFjxrY

Ungaretti

[18:43](#msg5a6cc86ae217167e2c0a3117):laughing: Come on! You don't write it all down...  
... do you? :confused:

abdllhygt

[18:48](#msg5a6cc998e217167e2c0a3663)My programming language on console:

```
?? Programlama Dili
Versiyon 0.0.2

>> numHello: "=(12+5*9) hello"
== 153 hello
>> << numHello
153 hello
>> newH: numHello
== 153 hello
>> "write_file.txt" << newH
>> .
(kapandƒ±)
(halted)
```

9214

[18:50](#msg5a6cc9f798927d574543a368)@abdllhygt that's cool!

abdllhygt

[18:51](#msg5a6cca3198927d574543a4aa)@9214 thanks. How to use colorful words on console?

9214

[18:52](#msg5a6cca58e217167e2c0a3940)@abdllhygt you mean syntax highlighting?

abdllhygt

[18:52](#msg5a6cca7140259f1a33b55acd)yes

9214

[18:52](#msg5a6cca87ce68c3bc740fd002)it's not in Red console yet, but there's some work on that in 0.6.3 engine

abdllhygt

[18:53](#msg5a6cca8fe217167e2c0a3a48)but before i want for first `>>`

9214

[18:53](#msg5a6ccaaa6117191e61be0c93)https://twitter.com/red\_lang/status/817332739372265472

abdllhygt

[18:53](#msg5a6ccaaace68c3bc740fd0b0)i see :/

[18:54](#msg5a6ccae8ae53c15903419261)so on windows

9214

[18:55](#msg5a6ccb130ad3e04b1b776221)demonstration is on Windows, yes, but I believe new GUI console will be cross-platform

abdllhygt

[18:55](#msg5a6ccb2f5a9ebe4f75e17c3f)what is GUI console?

[18:56](#msg5a6ccb63ae53c15903419491)`VIEW` console :D?

9214

[18:57](#msg5a6ccb7f4a6b0dd32b5594f9)@abdllhygt Red console that uses OS graphical components instead of bare-bone terminal

abdllhygt

[18:58](#msg5a6ccbe940259f1a33b5628a)so, red console use terminal, doesn't use window, true?

9214

[18:59](#msg5a6ccc0d494bd0f530318e49)it can use both, except for Linux

abdllhygt

[19:00](#msg5a6ccc4240259f1a33b5649d)new console supports linux?

9214

[19:00](#msg5a6ccc52ce68c3bc740fd70c)maybe, I don't know details

abdllhygt

[19:04](#msg5a6ccd550ad3e04b1b776da4)thanks

[19:10](#msg5a6cce9d4a6b0dd32b55a2e4)how to compile red with `ask`? i try:  
`#include %environment/console/input.red`, but doesn't work :/

9214

[19:10](#msg5a6cceba98927d574543b89d)@abdllhygt https://github.com/red/red/wiki/Guru-Meditations#how-to-compile-ask

[19:10](#msg5a6ccec0494bd0f530319c63)use `-r` flag

abdllhygt

[19:12](#msg5a6ccf065a9ebe4f75e1904e)

```
*** Compilation Error: word terminate not defined in system/console/terminate 
*** in file: /home/abdllh/yyorum/main.red
*** near: [system/console/terminate]
```

in linux without wine

9214

[19:14](#msg5a6ccf8e6117191e61be23ee)@abdllhygt can you try to compile with `-e` and `-r` flags?

abdllhygt

[19:14](#msg5a6ccfa1494bd0f53031a0a2)yes, `-r` flag

[19:15](#msg5a6ccfc240259f1a33b5772f)i don't use `-e`

9214

[19:15](#msg5a6ccfce6117191e61be255b)@abdllhygt well, now add `-e` flag and try again

[19:15](#msg5a6ccfd4ce68c3bc740fe8e2)not sure if that will help though

abdllhygt

[19:17](#msg5a6cd03c98927d574543c0f9)it doesn't work, i did try with wine, it's okay.

9214

[19:17](#msg5a6cd0620ad3e04b1b777d0a)you can come up with basic I/O interface using View I think

abdllhygt

[19:20](#msg5a6cd105e217167e2c0a5b7f)it's not necessary now :) why `ask` is a problem in red? this is bad, very bad :/

Ungaretti

[22:47](#msg5a6d01825a9ebe4f75e270a8)When I use the checksum function with SHA256, I get something like #{D4...} . What is this #{...} datatype? Can I extract the hexadecimals from it as a string?

9214

[22:48](#msg5a6d01a940259f1a33b6540b)@Ungaretti it's a `binary!` datatype, which is basically a series of bytes (`integer!`s)

[22:50](#msg5a6d023440259f1a33b65656)

```
text
>> b: #{deadbeef}
== #{DEADBEEF}
>> b/1
== 222
>> b/2
== 173
>> to binary! b/1
== #{000000DE}
>> to binary! reduce [b/1]
== #{DE}
>> enbase/base to binary! reduce [b/1] 16
== "DE"
```

Ungaretti

[22:53](#msg5a6d02d9494bd0f530328b4d)@9214 Thanks.

endo64

[23:01](#msg5a6d04b1ae53c159034294f1)And for extracting hexadecimals:  
`head remove back tail remove/part form #{deadbeef} 2 ;== "DEADBEEF"`  
or easier `trim/with form #{deadbeef} "#{}"`

9214

[23:03](#msg5a6d0556e217167e2c0b3ddd)

```
text
>> form to-hex to integer! #{deadbeef}
== "DEADBEEF"
```

endo64

[23:13](#msg5a6d07804a6b0dd32b5699c5)@9214 but this doesn't work with result of `checksum` or similar longer binary values.

9214

[23:14](#msg5a6d07bd0ad3e04b1b78708a)@endo64 `1` : @9214 `0` :)

[23:31](#msg5a6d0bd940259f1a33b67e5e)

```
text
>> enbase/base #{deadbeef} 16
== "DEADBEEF"
```

endo64

[23:42](#msg5a6d0e4b0ad3e04b1b7886dc)Interesting, I thought `enbase` could be faster:

```
>> profile/show/count [_9214 _endo] 10000000
Count: 10000000
Time         | Time (Per)   | Memory      | Code
-0:00:00.051 | 0:00:00      | 0           | _9214
-0:00:00.051 | 0:00:00      | 0           | _endo
```

[23:42](#msg5a6d0e72494bd0f53032bc85)

```
_9214: [enbase/base #{A94A8FE5CCB19BA61C4C0873D391E987982FBBD3} 16]
_endo: [trim/with #{A94A8FE5CCB19BA61C4C0873D391E987982FBBD3} "#{}"]
```

[23:43](#msg5a6d0eb2494bd0f53032bd6d)Hmm sometimes it's faster

```
-0:00:00.133 | 0:00:00      | 0           | _endo
-0:00:00.114 | 0:00:00      | 0           | _9214
```

## Monday 29th January, 2018

JiaChen-Zeng

[06:16](#msg5a6ebc3798927d57454baef4)How to draw an `arc` in Shape dialect? I tried

```
view [ box draw [ shape [ arc 10x10 10 10 90 ] ] ]
```

It shows nothing.

endo64

[06:40](#msg5a6ec1d8ac509d207d8d954e)You need to use `move` before `arc` I think, this one works:

```
view [ box draw [ shape [ move 50x50 arc 10x10 10 10 90 ] ] ]
```

[06:40](#msg5a6ec1f540259f1a33bd9689)\[!\[image.png](https://files.gitter.im/red/help/rPi1/thumb/image.png)](https://files.gitter.im/red/help/rPi1/image.png)

JiaChen-Zeng

[06:44](#msg5a6ec2ccce68c3bc7417ff0c)@endo64 Thank you!

[06:50](#msg5a6ec42a6117191e61c64886)I find that whatever degree I set, the arc remains the same?

[06:54](#msg5a6ec51d494bd0f53039fe16)And `radius-x` and `radius-y` seems reversed.

toomasv

[07:26](#msg5a6ecc96e217167e2c12be3f)@AT-Aoi Some \[examples](http://vooglaid.ee/red/arcs.png):

```
view [image 200x100 draw [
   shape [move 20x60 arc 20x80 10 50 45] 
   shape [move 20x60 arc 20x80 10 50 45 large sweep] 
   shape [move 120x15 arc 120x35 50 10 45] 
   shape [move 120x15 arc 120x35 50 10 45 sweep large]
]]
```

!\[arcs.png](http://vooglaid.ee/red/arcs.png)

JiaChen-Zeng

[07:35](#msg5a6eced8494bd0f5303a3042)@toomasv Thank you. Now I understand.

toomasv

[07:36](#msg5a6eceff494bd0f5303a30e2)@AT-Aoi You are welcome! :)

[08:06](#msg5a6ed5eaac509d207d8dfe55)Still \[playing](http://vooglaid.ee/red/arcs2.png):

```
view [image 250x200 draw [
   fill-pen brick shape [move 70x110 arc 70x130 10 50 45 large sweep] 
   fill-pen gold shape [move 70x110 arc 70x130 10 50 45 large] 
   fill-pen red shape [move 70x110 arc 70x130 10 50 45] 
   fill-pen beige shape [move 70x110 arc 70x130 10 50 45 sweep]
   
   fill-pen brick shape [move 170x65 arc 170x85 50 10 45 sweep large]
   fill-pen gold shape [move 170x65 arc 170x85 50 10 45 large]
   fill-pen red shape [move 170x65 arc 170x85 50 10 45] 
   fill-pen beige shape [move 170x65 arc 170x85 50 10 45 sweep] 
]]
```

!\[arcs2.png](http://vooglaid.ee/red/arcs2.png)

## Tuesday 30th January, 2018

gltewalt

[05:11](#msg5a6ffe6447505419173f3335)Should `_read-input` be exposed to Red console?

[05:11](#msg5a6ffe774a6b0dd32b6502d9)

```
>> _read-input "!"
!_read-input "!"
== "!"

*** Runtime Error 1: access violation
*** at: 770A3208h
```

[05:11](#msg5a6ffe9b98927d574552eb34)Crash happens after pressing Enter

[05:12](#msg5a6ffebb47505419173f34f5)Visual Studio says:  
Unhandled exception at 0x770A2EE5 (ntdll.dll) in console-2018-1-23-59513.exe: 0xC0000005: Access violation reading location 0x005F006D. occurred

[07:16](#msg5a701bea98927d574553815e)IS it exposed? Or is this due to my slightly modified console?

rebolek

[07:19](#msg5a701c9f47505419173fcb76)I can confirm that it is exposed.

gltewalt

[07:29](#msg5a701eeb40259f1a33c54b45)Should `ask` and `input` be actions functions?

[07:32](#msg5a701f744a6b0dd32b65a7c6)blah... that probably didn't make sense. Time for bed

rebolek

[07:38](#msg5a7020e5494bd0f53041dc54):)

9214

[07:40](#msg5a70216b40259f1a33c55889)they can't be actions

gltewalt

[07:45](#msg5a702290ae53c15903519b79)disregard hallucinations

JiaChen-Zeng

[12:28](#msg5a7065006117191e61cfb6de)May I ask where does the `t` of `facet` come from?

mydoghasworms

[12:29](#msg5a70652a98927d5745553d5e)\[!\[image.png](https://files.gitter.im/red/help/wIi2/thumb/image.png)](https://files.gitter.im/red/help/wIi2/image.png)

[12:30](#msg5a70654840259f1a33c6e305)It means as much as "aspect" or "feature", so it's not the same as "face" :-)

BeardPower

[12:32](#msg5a7065ebae53c159035335e7)&gt;Her friendliness is just one facet of her personality.

[12:33](#msg5a706627494bd0f5304380b8)&gt;Life has many facets.

JiaChen-Zeng

[12:34](#msg5a706668ce68c3bc74214e3c)@mydoghasworms @BeardPower Thank you. I thought it was an abbreviation.

BeardPower

[12:35](#msg5a706692ae53c159035339dc)You're welcome. Red just tries to keep a natural language flow.

[12:38](#msg5a70672eae53c15903533d5f)Like depictions of familiar objects and terms. Ports, views, facets...

9214

[12:39](#msg5a7067836117191e61cfc9f8)dialects

BeardPower

[12:39](#msg5a70678c4a6b0dd32b67558f)Exactly.

[12:42](#msg5a70681f4a6b0dd32b6759a7)Can't even live without the different data types any more :smile:

endo64

[12:44](#msg5a7068a3ce68c3bc74215ced)&gt; @mydoghasworms @BeardPower Thank you. I thought it was an abbreviation.

I've been using Rebol since 1999, and all this time I thought it was an abbreviation :)

BeardPower

[12:45](#msg5a7068e14a6b0dd32b675e10)@endo64 Knowledge comes better late than never. ;-)

9214

[12:45](#msg5a7068fa475054191741a2d2)@endo64  
https://www.youtube.com/watch?v=a1Y73sPHKxw

gltewalt

[15:51](#msg5a709477494bd0f53044b631)Facets modify a Style

[15:52](#msg5a7094be4a6b0dd32b6884e8)Styles describe Faces

[15:53](#msg5a7095064a6b0dd32b688779)Faces are graphical objects

9214

[15:53](#msg5a709515e217167e2c1d5a89)@9214 https://www.youtube.com/watch?v=euCb8hhw2Nc

gltewalt

[16:00](#msg5a709689494bd0f53044c3ed)I thought it might be Face(&lt;t&gt;ransform style)

9214

[16:01](#msg5a7096d7475054191742dd62)some of the Redbol terminology's meaning is lost in translation

[16:02](#msg5a7096fb4a6b0dd32b68957f)faces, facets, mezzanines

endo64

[20:31](#msg5a70d6296117191e61d2bbda)`mezzanine` is also a weird word for people like me, non-native English speakers,  
when I look at dictionary it means kinda "balcony" or "clerestory" in Turkish which doesn't mean anything to me in context of a programming language.

BeardPower

[20:36](#msg5a70d74d98927d5745582960)It's origin is italian: mezzo; half. Mezzanine capital.

rebolek

[20:38](#msg5a70d7bbce68c3bc74243bc7)I like it. `mezzanine` means `mezipatro` in Czech, space between floors. It accurately describes the purpose of mezzanines, they are between the native "floor" and user "floor".

DideC

[20:39](#msg5a70d7fb494bd0f53046714b)In french, it is a level you build in between a floor, like children bed up to it's desk:  
!\[Mezzanine](https://s1.qwant.com/thumbr/0x0/3/9/8811fa2327897df33142a05cf1e0df/b\_1\_q\_0\_p\_0.jpg?u=http%3A%2F%2Fwww.espace-loggia.com%2Ffiles%2F\_gammes%2Flits-mezzanine%2Fphotos-gamme%2Fgamme-mezzanine-grand.jpg&amp;q=0&amp;b=1&amp;p=0&amp;a=1)  
So in rebol, it as the sense thats it's something build a level up to the core, cause its based on the few natives.

BeardPower

[20:40](#msg5a70d83c36de78850ccd4620)A name for higher level functions that are a standard part of the language. These are not native functions. They are between native functions and routines.

[20:42](#msg5a70d89e7dcd63481ff85d3d)In German: Halbgeschoss

BillDStrong

[20:42](#msg5a70d8bc98927d57455832e3)Adjective

mezzanine (not comparable)

(engineering) Fulfilling an intermediate or secondary function.

To make interconnections easier, we added a mezzanine PCB.

[20:43](#msg5a70d8d56117191e61d2cde4)Per Wikitonary

BeardPower

[20:43](#msg5a70d8ecce68c3bc742442a4)Little helper functions.

PeterWAWood

[22:53](#msg5a70f7504a6b0dd32b6aec13)This is the definition of mezzanine functions from the Rebol User Guide:

\*\*Mezzanine\** A name for higher level functions that are a standard part of the language. These are not native functions.

[22:54](#msg5a70f7bd98927d574558e94c)So mezzanine functions are those functions included in the Rebol binary that are written in Rebol not C.

The distinction between a function being written in Red and/or Red/System is not so black and white.

[22:56](#msg5a70f837e217167e2c1fe683)Probably the best definition of a \*\*Red Mezzanine\** is a function included in the binary that does not require compilation to run.

gltewalt

[23:21](#msg5a70fddc7dcd63481ff93d30)I don‚Äôt think it‚Äôs a good name to carry over.

PeterWAWood

[23:31](#msg5a710049e217167e2c201363)I agree. I think we should think more in terms of Red \*\*core functions\** and a \*\*standard library\** for Red.

## Wednesday 31st January, 2018

BeardPower

[00:01](#msg5a710757475054191745a1fd)Isn't the description misleading, as it does not return an integer?  
&gt; Returns the nearest integer. Halves round up (away from zero) by default.

```
>> round 45 * 11%
== 5.0
```

[00:01](#msg5a71077536de78850cce5227)It should return 5

9214

[05:54](#msg5a715a014a6b0dd32b6ca9cb)@BeardPower this was discussed some time ago

[05:54](#msg5a715a0f4a6b0dd32b6ca9f7)bear in mind that `round` works not only with numbers

[05:55](#msg5a715a4b36de78850ccfc838)

```
text
>> round/to 45 * 11% 1
== 5
```

rebolek

[05:56](#msg5a715a9598927d57455aa027)@BeardPower IMO the description is misleading and should say \*to nearest integer \*\*value\*\*\*.

9214

[05:58](#msg5a715af56117191e61d54287)https://gitter.im/red/bugs?at=5a5b5c52290a1f4561889cfa

greggirwin

[08:48](#msg5a7182cfe217167e2c2290e8)@rebolek submit a ticket or PR for that. It won't solve all confusion, but maybe some.

[08:49](#msg5a7183066117191e61d6279b)Mezzanine is not used by other langs, but it's a suitable word. Another fun one, which \*is* used in some other CS contexts, is \*trampoline\*.

rebolek

[08:50](#msg5a71833c98927d57455b75b4)@greggirwin Ok, I will do PR.

9214

[08:50](#msg5a718352ce68c3bc74277db1)whenever I hear \*orchestration* or \*pythonistas* I want to punch someone in the face really hard

pekr

[08:53](#msg5a71841298927d57455b7b37)@rebolek there was enough of PR lately, do some code instead :-)

rebolek

[08:55](#msg5a71846a36de78850cd0b7de)@pekr :D

greggirwin

[09:01](#msg5a7185cde217167e2c22a274)@9214 , is an orchestration of Pythonistas like a crash of rhinos, or a murder of crows?

9214

[09:01](#msg5a718603494bd0f53049ea5f)@9214 doesn't want to punch Gregg so he punches himself

greggirwin

[09:02](#msg5a7186314a6b0dd32b6d9eff)Oooohhh, now I feel responsible and want to punch myself.

[09:03](#msg5a718664ce68c3bc742790cc)How do you feel about overarching Rubyists?

[09:04](#msg5a718688e217167e2c22a75a)OK. Time for bed. Just had to check in because I miss you all. :^)

9214

[09:04](#msg5a718690ac509d207d9d2696)awww

## Thursday 1st February, 2018

JiaChen-Zeng

[11:14](#msg5a72f685b3c4a0d376c8c469)&gt; Deferred mode updates many changes at the same time on screen in order to avoid glitches or when best performance is the goal.

What does "glitches" here mean?

9214

[11:43](#msg5a72fd5ae217167e2c2b3c54)@AT-Aoi graphical artifacts

toomasv

[11:44](#msg5a72fda4475054191750a9f4)@AT-Aoi Compare performance of these two snippets. Drag face to left border and move it up and down:

```
system/view/auto-sync?: on
view [base teal loose on-drag [if face/offset/x < 0 [face/offset/x: 0]]]

system/view/auto-sync?: off
view [base teal loose on-drag [if face/offset/x < 0 [face/offset/x: 0 show face]]]
```

First glitches, second not. At least on W10.

JiaChen-Zeng

[11:48](#msg5a72fe7336de78850cd94301)Let me try...

[11:51](#msg5a72ff2636de78850cd946ad)Thanks! Easy to understand.

toomasv

[11:51](#msg5a72ff3a6117191e61dedbb9)You are welcome!

## Friday 2nd February, 2018

dander

[00:44](#msg5a73b476ce68c3bc74342798)@endo64 As a native English speaker, I had some trouble with `mezzanine` when I encountered it first as well. Now it has more meaning to me in Redbol than the vague meaning of a balcony-ish thing.

BeardPower

[02:54](#msg5a73d2e0ce68c3bc7434a119)Just to throw in my 2 cents: it's used a lot in financials. Please excuse me for getting too much off topic here, but maybe this article/video helps you a little more in understanding this term https://www.investopedia.com/terms/m/mezzaninefinancing.asp6

gltewalt

[03:17](#msg5a73d85fa3447aac752e935d)404 for me

Phryxe

[04:42](#msg5a73ec2ba3447aac752edae2)Should be `.asp`, not `.asp6`.

gltewalt

[07:27](#msg5a7412e4ac509d207dab485c)Oh yeah. :smile: didn‚Äôt even notice

mydoghasworms

[07:53](#msg5a7418fbce68c3bc7435c8a7)So "mezzanine" originally refers to a low storey between two storeys in a building according to the OEM: https://www.etymonline.com/word/mezzanine. The term has been adopted elsewhere: https://en.wikipedia.org/wiki/Mezzanine\_(disambiguation) for meaning something in the middle, intermediate, or something that bridges other things. It sounds like a good choice of word for what other languages term their "standard library". (That is what the mezzanine functions in Red are, I'm assuming).

[07:54](#msg5a741935e217167e2c311080)It seems that Red and Rebol not only enrich your programming skills, but give you an English lesson at the same time :-)

rebolek

[07:54](#msg5a741950b3c4a0d376cec54c):)

endo64

[14:45](#msg5a747999a3447aac7531d475)@mydoghasworms could "intermediate functions" be better in that matter. Also as @PeterWAWood mentioned `Probably the best definition of a Red Mezzanine is a function included in the binary that does not require compilation to run.`

BeardPower

[16:21](#msg5a74900fb3c4a0d376d17f79)Oops, how did that `6` got in there... Unfortunately the edit possibility timed out.

dander

[17:49](#msg5a74a4ba4a6b0dd32b7f5b1c)I think the usage of `mezzanine` makes sense given its meaning, and there probably aren't many single words (maybe none?) that can fit that role. It just isn't part of my normal lexicon. I think if there are more common words that fit, and aren't ambiguous, it could make sense to use one of those instead. But there is also a big benefit to terms which are concise and have precise meanings. There are a lot of other jargony CS terms (more common in other languages) that I would apply to this situation, like `context`, `proxy`, `semaphore`, etc. etc. I wonder if other languages just don't really have the same 'layer' of things to talk about...  
All this crypto stuff is exposing me to lots of financial terms that I never really understood too.

gltewalt

[19:13](#msg5a74b85f36de78850ce2e783)I‚Äôm with @PeterWAWood - think in terms of core functions and standard library

greggirwin

[23:27](#msg5a74f3cc4a6b0dd32b810dde)Words are hard. Mezzanine may be new to a lot of people, but we can clearly define it. We started a glossary at one point, which we need to pick back up. "Mezz" is also a nice, unambiguous abbreviation. And when some of them are works in progress, we can say they're a bit "mezzy" (messy).

## Saturday 3th February, 2018

gltewalt

[00:01](#msg5a74fbf27dcd63481f0f1ae3)Why would you want to clearly define it? It applied to Rebol code that came as part of the ‚Äústandard library‚Äù, so to speak. A distinction between C and Rebol code.  
Does that model apply to Red?

BillDStrong

[00:03](#msg5a74fc3a36de78850ce4506e)Difference between if it is Red/System code, or Red code?

gltewalt

[00:39](#msg5a7504c04a6b0dd32b815492)I don‚Äôt know. Folks are ready to refer to it as Red or Red/System (or system code)

greggirwin

[01:39](#msg5a7512d2e217167e2c36a273)See, already some confusion. ;^)

gltewalt

[01:49](#msg5a751542ce68c3bc743b1ce3)They don‚Äôt refer to C as mezzanine in a ASM / C system do they?

greggirwin

[02:14](#msg5a751b12b3c4a0d376d45575)No, because the two are unrelated. In Red, we're talking about where things live in a \*system\*, more than what language they're written in. Their \*conceptual* position.

BillDStrong

[02:16](#msg5a751b95e217167e2c36c0aa)On that note, it isn't a library, as a library is external to the langauge. So Mezzanine is more descriptive than Standard library?

greggirwin

[02:18](#msg5a751c026117191e61ea5304)We have a lot of terms, and there will be overlap in how things are implemented. You could, for example, have a library of related functions, dialects, etc. or a module that contains mezzanines which span multiple domains.

[02:19](#msg5a751c157dcd63481f0f8a50)We need documentation describing all this. ;^)

gltewalt

[02:19](#msg5a751c2b6117191e61ea5361)No mezzanines

greggirwin

[02:19](#msg5a751c3cce68c3bc743b34ef)@gltewalt, what does that mean?

JacobGood1

[02:20](#msg5a751c5336de78850ce4c5f9)@greggirwin eta on the blog post?

gltewalt

[02:20](#msg5a751c56ce68c3bc743b3545)Means I don‚Äôt want the term.

[02:20](#msg5a751c7b4a6b0dd32b81a1fc)I‚Äôll call them Snorks.

greggirwin

[02:21](#msg5a751c96e217167e2c36c507)@JacobGood1, we'll try to have it out early next week. Nenad still has some travel stops to make.

[02:21](#msg5a751cb2a3447aac75353884)@gltewalt, make a constructive suggestion for an alternative.

BillDStrong

[02:21](#msg5a751cb6b3c4a0d376d45c97)Call them Smurfs. Each is named after the job they do.

JacobGood1

[02:22](#msg5a751cde36de78850ce4c718)@greggirwin by your estimation, did Carl have some exciting things to say?

greggirwin

[02:23](#msg5a751d0cac509d207db0c7ec)@JacobGood1, yes. :^)

[02:23](#msg5a751d35ac509d207db0c857)The Rebol def of mezzanines is:

&gt; Mezzanine: A name for higher level functions that are a standard part of the language. These are not native functions.

From http://www.rebol.com/docs/core23/rebolcore-9.html

JacobGood1

[02:23](#msg5a751d3e36de78850ce4c87c)as long as that is not a Pinocchio nose... good

greggirwin

[02:24](#msg5a751d4a4a6b0dd32b81a414)My nose is big, but not growing.

[02:26](#msg5a751ddf4a6b0dd32b81a639)So we could say that functions may be promoted to mezzanine status when they become a part of the standard runtime, until then they are just functions. Just by changing their status, what I referred to as their position above, they get a promotion and a new name.

gltewalt

[02:27](#msg5a751e0b6117191e61ea5a9a)Isn‚Äôt that the same as standard library?

greggirwin

[02:30](#msg5a751eb498927d57456f5bda)Do we have a "standard library"? I don't like it. I think I'll call it gargle-flum. ;^)

If we say "standard library", do we then care about the distinction between actions, natives, ops, and functions? And what do you then call functions that are part of the standard library, to distinguish them from functions that aren't?

gltewalt

[02:32](#msg5a751f377dcd63481f0f9485)Builtins

greggirwin

[02:32](#msg5a751f3d6117191e61ea5ea1)Look at the Rebol page I linked to above. Consider that Carl put a \*lot* of thought into that, just the section describing the \*types* of functions we have. Now, come up with something better.

gltewalt

[02:34](#msg5a751fac6117191e61ea5fe1)Are there any other programming language uses the term mezzanine?

[02:34](#msg5a751fbf98927d57456f5f56)Er, ‚Äòthat use the term mezzanine‚Äô

[02:35](#msg5a751fd5ac509d207db0d1fc)(Mobile strikes again)

greggirwin

[02:36](#msg5a752027a3447aac7535457a)Do we want to do things just because other languages do? Do they have similar concepts in the types of functions available? If people want to learn Red, they'll need to learn new concepts and terms. Others will come up with analogous concepts, but \*we* need to define the best term for Red.

gltewalt

[02:37](#msg5a75206be217167e2c36d40b)That term isn‚Äôt necessarily a holdover from Rebol

greggirwin

[02:38](#msg5a75208fa3447aac75354695)On "builtin" vs "mezzanine", builtin isn't a real word. Details.

[02:38](#msg5a7520a9e217167e2c36d4ae)Not sure what you mean. Rebol used the term, and so do we. Seems like an inherited trait to me.

gltewalt

[02:40](#msg5a7521246117191e61ea663a)I haven‚Äôt seen it used here in Redland, outside of a few mentions on the homepage. (I think that‚Äôs where it was)

BillDStrong

[02:41](#msg5a75214dce68c3bc743b44f6)There is a whole room here on Gitter devoted to it. Red/Mezz

greggirwin

[02:41](#msg5a75215e98927d57456f6431)@BillDStrong +1

gltewalt

[02:41](#msg5a7521744a6b0dd32b81b328)I thought that was for a guy named Mezz

JacobGood1

[02:42](#msg5a752198ce68c3bc743b4623)it does not really seem like something worth arguing for

greggirwin

[02:43](#msg5a7521be36de78850ce4d9c3)Mezzistopheles, yes. Be careful when he offers you a great deal for your function.

[02:43](#msg5a7521e236de78850ce4da71)@JacobGood1, words are the things we discuss more than anything . :^)

gltewalt

[02:45](#msg5a75224b98927d57456f68fc)I‚Äôll probably get used to it

greggirwin

[02:47](#msg5a7522bae217167e2c36de40)Yup. Maybe we can write a mezz called `mezzmerize` that converts a plain old func to a mezzanine when it is brought into the `fold` (for @JacobGood1).

sergeantWilson

[16:01](#msg5a75dcc036de78850ce7c1ce)Hi, I read somewhere about encap -e in Red, but cannot find any info on it, is this possible? If so, are there any examples, thanks

JacobGood1

[16:06](#msg5a75de1bb3c4a0d376d739cb)@greggirwin don't mezz with me now...

endo64

[16:16](#msg5a75e069ce68c3bc743e21c4)I have no problem with the word mezzanine, but some times its difficult for me to write or read (pronounce) when I try to explain what it is to someone new to Redbol.  
I usually explain them as "builtin functions in the language but the ones you can see their sources, not like print or read, as they are natives"

9214

[16:20](#msg5a75e14e36de78850ce7d7a9)@sergeantWilson hi, it's an experimental option. Just supply `-e` or `--encap` flag among with `-r` or `-c` flags during compilation

[16:20](#msg5a75e162ac509d207db3c66c)e.g. `./red -r -e -t WindowsXP ./script.red`

sergeantWilson

[16:28](#msg5a75e32de217167e2c39c09f)thanks @9214 - In Rebol it was possible to encap images and files along with the script, as a sort of container. Can that be done ?

9214

[16:41](#msg5a75e64836de78850ce7efae)@sergeantWilson I think you can embed all the necessary data inside scripts themselves as `binary!`, but that's kinda ugly

sergeantWilson

[16:48](#msg5a75e7dcce68c3bc743e4973)@9214 yes I have done that base64 but only one image makes the script to long. Why I was hoping it might be possible to encap files.

planetsizecpu

[16:49](#msg5a75e82fe217167e2c39d654)@sergeantWilson \[here](https://github.com/planetsizecpu/alert) you have an example

9214

[16:50](#msg5a75e83d4a6b0dd32b84be7f)`-e` option just forces script to be interpreted on launch, rather than statically compiled, that way you can bypass some limitations of current compiler  
https://github.com/red/red/commit/3ccd217b7ca62ec38619db8a0a2cb6743ee3e794#diff-79938e092d331e67d7ce1e29b39d6045

sergeantWilson

[16:57](#msg5a75e9ea4a6b0dd32b84c674)@planetsizecpu @9214 thanks for your help

planetsizecpu

[17:00](#msg5a75ea9aa3447aac7538670b)@sergeantWilson you're welcome

greggirwin

[19:34](#msg5a760edfa3447aac7539158b)Red has a preprocessor, which can help: https://doc.red-lang.org/en/preprocessor.html

https://gist.github.com/greggirwin/f8b39af02096a7f65849275e7377be83

One thing we don't have in there yet is an `#include-binary` directive, which would make it easier to include things like images directly from their source files. Ladislav's `include` func for Rebol has that, and I imagine Red can support it without too much effort. If there's no ticket for it, someone could create one.

## Sunday 4th February, 2018

JiaChen-Zeng

[06:46](#msg5a76ac397dcd63481f15bbe4)From \[the documentation of `date!`](https://doc.red-lang.org/en/date.html#\_runtime\_creation):

&gt; `year` and `day` fields are interchangeable, but only for low year values. The year can be used in first position \*\*only\** if its value is &gt;= 100 and less than the value of the third field. When that rule is not satisfied, the third field is considered the year. Negative years should always be specified in the third position.

How can the `year` be &gt;= 100 and less than the third field? The third field is supposed to be `year` or `day`. If `year` is used in the first position, then the third field is `day`, which ranges from 1 to 31, so `year`(&gt;=100) must greater than `day` in this case, right?

toomasv

[07:18](#msg5a76b3dbce68c3bc74416b55)@AT-Aoi Agreed, this doesn't make sense. (Logically, it says year can never be in the first position) Besides, year \*can* be smaller than 100 on first place, e.g. `001-1-31` and at the same time greater than the value of the third field, e.g. `032-1-31`.

```
>> 001-1-31
== 31-Jan-0001
>> 032-1-31
== 31-Jan-0032
```

[10:47](#msg5a76e4d5a3447aac753c57e7)OK, document speaks about runtime creation with `make`, and this indeed doesn't accept year values &lt; 100 in the first position.

[11:07](#msg5a76e969ac509d207db7d957)@AT-Aoi I think I got it: The confusing remark applies to the syntax with `to date!`, where day in third position can be day-of-the-year, e.g.:

```
>> to date! [365 1 364]
== 30-Dec-0365
>> to date! [363 1 364]
== 28-Dec-0364
```

But still, number in the first position is interpreted as year only if it is \*\*greater\** than number on the third position:

```
>> to date! [100 1 101]
== 10-Apr-0101
>> to date! [101 1 100]
== 10-Apr-0101
```

JiaChen-Zeng

[12:23](#msg5a76fb3c98927d574576ab4e)Indeed. Thank you for your help. @toomasv

toomasv

[12:24](#msg5a76fb7ece68c3bc744297ac)@AT-Aoi You are welcome!

JiaChen-Zeng

[12:26](#msg5a76fbefe217167e2c3e215f)I'll open a ticket for this.

9214

[13:06](#msg5a77053fce68c3bc7442c272)is there a more idiomatic way to write the following `parse` rule?

```
[set word something | (word: none)]
```

i.e. if pattern matched - set `word` to it, otherwise, if match failed, set `word` to `none`

toomasv

[18:03](#msg5a774add7dcd63481f186351)@9214 How about

```
>> parse [anything] [set word ['something | none]]
== false
>> word
== none
>> parse [something] [set word ['something | none]]
== true
>> word
== something
```

9214

[18:05](#msg5a774b6b36de78850cedc050)@toomasv that's interesting, I tried that but either messed up or it didn't worked, lemme re-check

[18:06](#msg5a774ba736de78850cedc235)the problem is that `none` doesn't advance the input

[18:06](#msg5a774bb2ce68c3bc74440076)

```
text
>> parse ["a" "b"][set x [string! | none] string!]
== true
>> x
== "a"
>> parse [1 "b"][set x [string! | none] string!]
== false
>> x
== none
```

toomasv

[18:07](#msg5a774bf16117191e61f334d6)@9214 Brr... was just going to suggest it (i.e. the (deleted) `none skip` - did this not work? Jee, it eats anything)

9214

[18:09](#msg5a774c3fb3c4a0d376dd33c6)@toomasv :(

```
>> parse [1 "b"][[set x string! | set x none skip] string!]
== true
>> x
== none
```

[18:09](#msg5a774c6036de78850cedc6bc)`set` eats `skip`ed value

[18:09](#msg5a774c76ce68c3bc74440332)i.e. instead of being setted to `none` `x` is setted to `1` in the example above

[18:11](#msg5a774cda98927d57457818ef):muscle:

```
>> parse ["a" "b"][set x opt string! string!]
== true
>> x
== "a"
>> parse [1 "b"][set x opt string! string!]
== false
>> x
== none
```

[18:12](#msg5a774cfb7dcd63481f186cb4)which is kinda surprising :smile:

toomasv

[18:13](#msg5a774d3f7dcd63481f186ea8)I usually set the word to `none` somewhere before `parse` or in `parse` before checking interesting parts, e.g.:

```
>> x: y: z: none parse [1 "b"][some [set x string! | set y integer! | set z block!]]
== true
>> probe reduce [x y z]
["b" 1 none]
```

[18:15](#msg5a774dd37dcd63481f1870c8)Alternately:

```
>> parse [2 [a b]][(x: y: z: none) some [set x string! | set y integer! | set z block!]]
== true
>> probe reduce [x y z]
[none 2 [a b]]
```

9214

[18:16](#msg5a774de5ac509d207db99670)yes, that was my though too

endo64

[18:44](#msg5a775477b3c4a0d376dd5b38)I didn't follow the whole conversation but, `none` always returns success, a catch all rule.  
`parse [1 2 3] [some none some integer!] ;== true`  
something like, it just skips the rule without advancing the input position.

9214

[18:46](#msg5a7754face68c3bc74442e47)@endo64 I know that, that's why `none` alone won't cut it

[18:46](#msg5a7755097dcd63481f18932c)something needs to match anyway for parsing to continue

greggirwin

[19:42](#msg5a77621bb3c4a0d376dd97f8)&gt; I usually set the word to none somewhere before parse or in parse before checking interesting parts

That's what I've done in the past as well.

[19:42](#msg5a776224e217167e2c3ffa5b)It's not as concise, but it's clear.

## Monday 5th February, 2018

koba-yu

[11:29](#msg5a7840367dcd63481f1cce3b)Hi, is using a block as hash's key not expected?  
I tried the code below,

```
hash: make hash! [[1 2] "value"]
blk: [1 2]
equal? hash/1 blk ; return true
select hash blk   ; return none
```

I expected the last `select` can find "value", but not sure it is reasonable.  
(I have checked Rebol, it does the same above)

rebolek

[11:31](#msg5a78409236de78850cf230a9)Using `block!` as key is forbidden in `map!`s so I guess `hash!` works similar in this regard.

9214

[11:33](#msg5a7840fe4a6b0dd32b8eed24)@koba-yu `select/only`

[11:33](#msg5a784126a3447aac7542bcb2)

```
text
>> select/only make hash! [[1 2] "value"][1 2]
== "value"
```

[11:34](#msg5a784147ce68c3bc744879b2)or `select/only/skip ... 2`, which is better if you want to use hash as key-value storage

rebolek

[11:34](#msg5a7841574a6b0dd32b8eef1b)Cool, I stand corrected. Then I don't understand why we can't have blocks as keys in maps also.

9214

[11:35](#msg5a78418c4a6b0dd32b8ef0ae)something to do with lookup efficiency

rebolek

[11:36](#msg5a7841b536de78850cf23708)not a problem for hash?

9214

[11:36](#msg5a7841c198927d57457c924c)\*shrug*

[11:38](#msg5a784219ac509d207dbe03ee)@rebolek https://github.com/red/red/issues/3084

[11:38](#msg5a784244ac509d207dbe04fa)does that mean that usage of `hash!` instead of `block!` in such cases is ineffective?

[11:42](#msg5a784308ac509d207dbe0a38)or are they identical?

rebolek

[11:42](#msg5a7843117dcd63481f1cdd87)It does. I've tested it and it's the same speed as `block!`.

9214

[11:42](#msg5a78431cce68c3bc744884fb):+1: good to know

koba-yu

[11:42](#msg5a7843267dcd63481f1cde3f)@9214 @rebolek Thank you for your answers!

9214

[11:42](#msg5a78432d4a6b0dd32b8ef897)@koba-yu you're welcome

## Tuesday 6th February, 2018

toomasv

[08:10](#msg5a7962e16117191e61fe024b)I am confused about usage of the `path!` type in blocks. It seems it cannot be found in block nor used for selecting in block.

```
>> q: 'a/1
== a/1
>> d: [a/1 x]
== [a/1 x]
>> q = d/1
== true
>> find d q
== none
>> find d 'a/1
== none
```

rebolek

[08:11](#msg5a796335b3c4a0d376e8418e)Maybe you should report it.

toomasv

[08:12](#msg5a796387b3c4a0d376e842e8)Neither does Rebol find path in block!

rebolek

[08:15](#msg5a79640db3c4a0d376e846b5)This really doesn't look like expected behaviour:

```
>> find d first d
== none
```

9214

[08:16](#msg5a7964557084124a34402825)@toomasv `find/only`

[08:16](#msg5a79645b36de78850cf8a6bd)remember that `path!` is a series

toomasv

[08:16](#msg5a796475e217167e2c4a8e64)@9214 Ahh, thanks!

9214

[08:17](#msg5a79648293be87284d7ffb49)

```
text
>> q: 'a/1
== a/1
>> d: [a/1 x]
== [a/1 x]
>> q = d/1
== true
>> find/only d q
== [a/1 x]
>> find/only d 'a/1
== [a/1 x]
```

[08:34](#msg5a7968b393be87284d80136f)does `print` supposed to output something in console after compilation?

rebolek

[08:35](#msg5a7968d74a6b0dd32b956e90) ?

9214

[08:37](#msg5a7969587084124a344049bb)e.g. if I compile `print system/script/args` and launch executable from shell with some arguments, it should print them back, right?

rebolek

[08:41](#msg5a796a3236de78850cf8c95f)@9214

```
~/C/red ‚ùØ‚ùØ‚ùØ ./delme asdf
asdf
```

[08:41](#msg5a796a444a6b0dd32b95764a)source:

```
Red[]
print system/script/args
```

9214

[08:42](#msg5a796a66b3c4a0d376e86a23)yes, but more complicated script which I use, once compiled for Windows and launched under Wine, crashes

rebolek

[08:44](#msg5a796ae47084124a34405308)And it crashes when printing args?

9214

[08:44](#msg5a796aede217167e2c4ab1b6)@rebolek apparently yes

[08:44](#msg5a796b00b3c4a0d376e86daf)I'll try to narrow down this case

[08:45](#msg5a796b3636de78850cf8ce8d)yup

```
isheh@sam ~/dev/red $ ./scratchpad 123
123
isheh@sam ~/dev/red $ wine ./scratchpad.exe 123
fixme:dwmapi:DwmIsCompositionEnabled 0x33fdc0

*** Runtime Error err:seh:raise_exception Unhandled exception code c0000005 flags 0 addr 0x4161db
```

[08:46](#msg5a796b557084124a3440559c)I also checked my script on Win7, no output

[08:46](#msg5a796b617dcd63481f237338)though before compilation everything works fine

[08:46](#msg5a796b697084124a3440563e)i.e. from interpreter

rebolek

[08:47](#msg5a796b84e217167e2c4ab433)Do you compile with MSDOS or Windows target?

9214

[08:47](#msg5a796b8b36de78850cf8d07e)WindowsXP

[08:47](#msg5a796bbdb3c4a0d376e871ae)because there's an option to use GUI interace, i.e. if no arguments were supplied, a window will pop up, otherwise it will work in CLI mode

[08:49](#msg5a796c1f36de78850cf8d3ec)it works with MSDOS as a target

```
isheh@sam ~/dev/red $ wine ./scratchpad.exe 123
fixme:dwmapi:DwmIsCompositionEnabled 0x33fdc0
123
```

[08:50](#msg5a796c567084124a34405b6e)but then with MSDOS GUI won't work?

rebolek

[08:51](#msg5a796c9493be87284d8029be)Hm, I've got crash too with WXP as target:

```
~/C/red ‚ùØ‚ùØ‚ùØ wine delme.exe
0009:fixme:dwmapi:DwmIsCompositionEnabled 0x32fe40

*** Runtime Error 0009:err:seh:raise_exception Unhandled exception code c0000005 flags 0 addr 0x416203
```

9214

[08:52](#msg5a796cb036de78850cf8d71a)@rebolek can you check it on your W10 Vbox?

[08:52](#msg5a796cc2b3c4a0d376e877ab)maybe it's Wine-specific, though, again, I checked it on Win7 without success

rebolek

[08:52](#msg5a796cd47084124a34405fb9)@9214 not now, sorry. In the evening.

9214

[08:52](#msg5a796cdb36de78850cf8d85a)np

toomasv

[11:11](#msg5a798d6a36de78850cf9966b)@9214 I can try on W10. Tell me what to do. I am total newbe in compilation.

rebolek

[11:13](#msg5a798dd37084124a34412066)@toomasv If you have Rebol installed, run it and type in console: `do/args %red.r "your-program.red"`

9214

[11:13](#msg5a798df04a6b0dd32b964a51)@toomasv create script with

```
Red []
print system/script/args
```

in it, then call toolchain with `-c` flag (you can also try `-r`), e.g. `red.exe -c script.red`

[11:14](#msg5a798e26e217167e2c4b8168)then check if it works with `script blah-blah` from cmd

rebolek

[11:15](#msg5a798e45e217167e2c4b81e1)You can ignore arguments, it crashes without them also.

9214

[11:15](#msg5a798e5f7dcd63481f243b40)I think it crashed because of `print`

rebolek

[11:15](#msg5a798e6b4a6b0dd32b964d65)That's possible.

9214

[11:16](#msg5a798e747dcd63481f243ba9)if no argument supplied, `system/script/args` is just `""`, but it will be printed anyway

[11:16](#msg5a798e7ba3447aac754a429c)I mean `print` will be called in any case

rebolek

[11:16](#msg5a798e8bce68c3bc744fcd2a)Right.

toomasv

[11:18](#msg5a798ef1e217167e2c4b853f)

```
C:\Users\Toomas\Documents\Red>red.exe -c script.red

-=== Red Compiler 0.6.3 ===-

Compiling C:\Users\Toomas\Documents\Red\script.red ...
Compiling libRedRT...
...compilation time : 1666 ms

Compiling to native code...
...compilation time : 47907 ms
...linking time     : 544 ms
...output file size : 960512 bytes
...output file      : C:\Users\Toomas\Documents\Red\libRedRT.dll

...compilation time : 31 ms

Target: MSDOS

Compiling to native code...
...compilation time : 1387 ms
...linking time     : 82 ms
...output file size : 67072 bytes
...output file      : C:\Users\Toomas\Documents\Red\script.exe
```

9214

[11:18](#msg5a798f04e217167e2c4b8591)ah, it takes MSDOS as default, okay

[11:18](#msg5a798f0de217167e2c4b85d7)does it work?

toomasv

[11:20](#msg5a798f62b3c4a0d376e9427b)

```
C:\Users\Toomas\Documents\Red>script.exe
none
```

9214

[11:20](#msg5a798f7ae217167e2c4b8812)hmm

[11:20](#msg5a798f8db3c4a0d376e94382)so it's `none` instead of `""` :confused:

rebolek

[11:20](#msg5a798f92a3447aac754a479d)yes

[11:21](#msg5a798f9d7dcd63481f244128)try WindowsXP as target

9214

[11:21](#msg5a798f9ee217167e2c4b893d)@toomasv could you please retry with `-c -t Windows` ?

[11:21](#msg5a798fa636de78850cf9a584)and then `WindowsXP`, yes

toomasv

[11:24](#msg5a799074e217167e2c4b8e31)After including `Needs: View` in the header:

```
C:\Users\Toomas\Documents\Red>red.exe -c -t Windows script.red

-=== Red Compiler 0.6.3 ===-

Compiling C:\Users\Toomas\Documents\Red\script.red ...
...using libRedRT built on 6-Feb-2018/13:17:08+2:00
...compilation time : 22 ms

Target: Windows

Compiling to native code...
...compilation time : 1182 ms
...linking time     : 59 ms
...output file size : 67072 bytes
...output file      : C:\Users\Toomas\Documents\Red\script.exe


C:\Users\Toomas\Documents\Red>script.exe

C:\Users\Toomas\Documents\Red>
```

I.e. empty line returned in the end.

[11:26](#msg5a7990cdb3c4a0d376e94aff)

```
C:\Users\Toomas\Documents\Red>red.exe -c -t WindowsXP script.red

-=== Red Compiler 0.6.3 ===-

Compiling C:\Users\Toomas\Documents\Red\script.red ...
...using libRedRT built on 6-Feb-2018/13:17:08+2:00
...compilation time : 21 ms

Target: WindowsXP

Compiling to native code...
...compilation time : 1180 ms
...linking time     : 56 ms
...output file size : 67072 bytes
...output file      : C:\Users\Toomas\Documents\Red\script.exe


C:\Users\Toomas\Documents\Red>script.exe

C:\Users\Toomas\Documents\Red>
```

9214

[11:26](#msg5a7990fdce68c3bc744fddbf)@toomasv can you try to supply some argument to WinXP version?

[11:27](#msg5a79910593be87284d80f04c)it should print it back if everything is ok

[11:27](#msg5a79910be217167e2c4b90ed)`script.exe blah` for example

toomasv

[11:27](#msg5a799135a3447aac754a51db)

```
C:\Users\Toomas\Documents\Red>script.exe -p "hi"

C:\Users\Toomas\Documents\Red>script.exe -p

C:\Users\Toomas\Documents\Red>
```

9214

[11:28](#msg5a79915d6117191e61ff077f)it seems that exe is bugged after all

rebolek

[11:28](#msg5a799179e217167e2c4b93d3)@9214 this crashes also:

```
Red[Needs: 'View]
print "something"
```

9214

[11:29](#msg5a79918e7dcd63481f244be2)@rebolek with WinXP target?

rebolek

[11:29](#msg5a7991a4e217167e2c4b94a8)Yes, on wine-3.0-rc6

9214

[11:29](#msg5a7991b5ce68c3bc744fe06a)@toomasv can you re-check the `Windows` one, not `WindowsXP`?

toomasv

[11:31](#msg5a79921393be87284d80f560)

```
C:\Users\Toomas\Documents\Red>red.exe -c -t Windows script.red

-=== Red Compiler 0.6.3 ===-

Compiling C:\Users\Toomas\Documents\Red\script.red ...
...using libRedRT built on 6-Feb-2018/13:17:08+2:00
...compilation time : 26 ms

Target: Windows

Compiling to native code...
...compilation time : 1171 ms
...linking time     : 58 ms
...output file size : 67072 bytes
...output file      : C:\Users\Toomas\Documents\Red\script.exe


C:\Users\Toomas\Documents\Red>script.exe blah

C:\Users\Toomas\Documents\Red>
```

9214

[11:31](#msg5a79921836de78850cf9b34a)@rebolek good catch btw, I was lost in the details :smile:

[11:31](#msg5a79922ca3447aac754a56a6)@toomasv :+1: so it's not only WinXP or Wine specific, but affects all Windows targets

[11:32](#msg5a7992347084124a344137ae)thanks guys

toomasv

[11:32](#msg5a799239a3447aac754a56d3):)

9214

[11:32](#msg5a7992516117191e61ff0de9)can anyone with Mac check this too?

[11:43](#msg5a7994d893be87284d810718)and the fact that on MSDOS it printed `none` and on Windows it's an emtpy string `""` :suspect:

[11:43](#msg5a7994e6e217167e2c4ba803)or not?

rebolek

[11:44](#msg5a79950f7084124a3441495d)Linux prints `none`

9214

[11:44](#msg5a799534e217167e2c4ba97f)@rebolek :+1:

[11:49](#msg5a79965d4a6b0dd32b967a5e)same with `prin`

[11:51](#msg5a7996ac7dcd63481f2468dc)https://github.com/red/red/issues/3221

JiaChen-Zeng

[12:17](#msg5a799ce9b3c4a0d376e99a22)&gt; The escape character in Red is '^' - codepoint U+005E. As a result, the ^ character itself must be escaped. \*\*The string literal for codepoint\** is #"^^" not #"^". In fact, #"^" is invalid.

Should that be "The string literal for the escape character"?

9214

[12:18](#msg5a799d29a3447aac754a9c85)@AT-Aoi I think this is about UTF-8 codepoint

[12:19](#msg5a799d49a3447aac754a9d52)which is `^` or `U+005E`

[12:21](#msg5a799db94a6b0dd32b96ab60)the existent explanation IMO is accurate enough, I don't think it should be changed to "escape character"

JiaChen-Zeng

[12:22](#msg5a799dee6117191e61ff57a3)OK. Thank you. @9214

9214

[12:39](#msg5a79a2007084124a34419d54)can anyone point me to examples of how `parse` can be used for graph rewriting?

toomasv

[15:01](#msg5a79c3417dcd63481f25853e)@9214 Please amplify

9214

[15:01](#msg5a79c35036de78850cfaebee)@toomasv wat

toomasv

[15:01](#msg5a79c35e7dcd63481f258661)Explain what do you mean

[15:02](#msg5a79c381e217167e2c4ce12c)More specifically

9214

[15:02](#msg5a79c387a3447aac754b9dbc)I mean that I have tree-like structure, I have some nodes, and I want to rewrite this nodes in that structure

toomasv

[15:02](#msg5a79c39f4a6b0dd32b97a252)Example?

9214

[15:03](#msg5a79c3b87dcd63481f2589bb)say, block of nested blocks of nested blocks of nested blocks :neckbeard:

[15:03](#msg5a79c3dfce68c3bc745115ae)each node is specified by unique path to this node and a set of paths that start from this node

toomasv

[15:05](#msg5a79c424b3c4a0d376ea9c4d)You mean something like `graph [a - [b c - [d e - [g h] f]]]` May I show you a picture?

9214

[15:05](#msg5a79c45693be87284d822e1b)basically yes

rebolek

[15:06](#msg5a79c47c93be87284d822f2c)What do you mean by rewriting?

```
>> graph: [1 [2 [[3 4][5 6]]]]
== [1 [2 [[3 4] [5 6]]]]
>> rule: [some [change set value integer! (#"A" + value) | into rule]]
== [some [change set value integer! (#"A" + value) | into rule]]
>> parse graph rule
== true
>> graph
== [#"B" [#"C" [[#"D" #"E"] [#"F" #"G"]]]]
```

9214

[15:06](#msg5a79c485a3447aac754ba4b9)It boils down to compiling a one big messy parse rule with cleverly placed combinations of `into`, `ahead`, `change` and such

[15:07](#msg5a79c4a4e217167e2c4ce730)I wonder if there's saner approach for that

rebolek

[15:08](#msg5a79c4daa3447aac754ba992)So, some dialect?

9214

[15:08](#msg5a79c4e2e217167e2c4ce840)precisely

toomasv

[15:09](#msg5a79c54393be87284d823562)!\[graph2.png](http://vooglaid.ee/red/graph2.png)

9214

[15:10](#msg5a79c5717dcd63481f2596e0)@toomasv yes, now suppose that you have two `c` nodes ( let's replace `e` with `c`) and you need to rewrite only the upper one

toomasv

[15:11](#msg5a79c5ae7dcd63481f259889)Umm.. I am too dumb to understand..

9214

[15:12](#msg5a79c5d293be87284d8238e7)`graph [a - [b c - [d c - [g h] f]]]`

[15:13](#msg5a79c61b36de78850cfafe1c)there two `c`'s in this graph, right?

toomasv

[15:14](#msg5a79c65fa3447aac754bb3c7)This one?  
!\[graph3.png](http://vooglaid.ee/red/graph3.png)

9214

[15:15](#msg5a79c697ce68c3bc7451274d)yes

[15:16](#msg5a79c6dea3447aac754bb733)now you want to change either one to some letter, say, `x`

[15:16](#msg5a79c6e993be87284d8241c2)how can you specify which node exactly you want to replace?

[15:17](#msg5a79c6f57dcd63481f25a359)you can't just say `c`, because there two of them

[15:17](#msg5a79c70dce68c3bc745129b5)i.e. if you'll say `c`, each of them will be rewritten, but you need only one or another, not both

toomasv

[15:17](#msg5a79c71db3c4a0d376eab599)In my graph DSL it's actually:

```
graph [a - [b c - [d e "x" - [g h] f]]]
;or
graph [a - [b c "x" - [d e - [g h] f]]]
```

9214

[15:18](#msg5a79c750a3447aac754bba55)not in the graph description itself

toomasv

[15:19](#msg5a79c792e217167e2c4cfa58)It is graph description, specifying what to show separately of how to implement.

rebolek

[15:21](#msg5a79c7e7a3447aac754bbf4e)@9214 for example

```
>> graph: [a - [b c - [d c - [g h] f]]]
== [a - [b c - [d c - [g h] f]]]
>> index: 0 match: 1
== 1
>> rule: [some [ahead 'c (index: index + 1) if (index = match) change 'c 'x | into rule | skip]]
== [some [ahead 'c (index: index + 1) if (index = match) change 'c 'x | into rule | skip]]
>> parse graph rule
== true
>> graph
== [a - [b 'x - [d c - [g h] f]]]
```

toomasv

[15:31](#msg5a79ca477dcd63481f25bb47)BTW Sorry for bragging, too excited to be silent - todays feats:  
!\[graph4.png](http://vooglaid.ee/red/graph4.png)

9214

[15:36](#msg5a79cb83ce68c3bc74514aa9)@rebolek yes, I have similar drafts

[15:36](#msg5a79cb9b7dcd63481f25c503)I meant - is it an OK approach or are there better solutions?

[15:43](#msg5a79cd0bce68c3bc74515516)in your example nodes are identified by indexes, but in my case they are identified either by unique path to them (left context), part of rightmost graph(s) that starts from them (right context), both (left and right contexts) or none of the above (context-free)

rebolek

[15:48](#msg5a79ce4a93be87284d827661)@9214 I chose indexes because that was the easiest solution, other solutions are possible.

[15:49](#msg5a79ce8b4a6b0dd32b97ee48)Better solution would be probably to add some kind of rules with arguments.

9214

[15:49](#msg5a79cea37dcd63481f25d7ea)okay, I can't come up with anything besides DSL compiler anyway

## Wednesday 7th February, 2018

greggirwin

[03:36](#msg5a7a74474a6b0dd32b9b93bf)@9214 :point\_up: \[February 6, 2018 5:39 AM](https://gitter.im/red/help?at=5a79a2007084124a34419d54) http://www.colellachiara.com/soft/Misc/rewrite.html

[03:38](#msg5a7a74a26117191e610442d1)Written with Gabriele's literate programming system.

[03:38](#msg5a7a74d26117191e61044373)http://www.colellachiara.com/soft/Misc/rewrite.r is just the code.

toomasv

[04:16](#msg5a7a7d98f283b8e5462caeb9)@greggirwin Thanks for the link, interesting projects/articles.

## Thursday 8th February, 2018

9214

[14:26](#msg5a7c5e03ce68c3bc745f8ac0)Suppose I have set of patterns to match, e.g. `ab`, and I want to check if there's exactly one `a` and exactly one `b`, but without any specific order (i.e. `ba` should match too). What's the best way to tackle this with `parse`?

[14:26](#msg5a7c5e2a7084124a3450e1e4)because something like `some ["a" | "b"]` will match `bb` and `aa`, which is undesirable

[14:28](#msg5a7c5e9493be87284d909a73)once pattern matched, it should be excluded from rule

[14:30](#msg5a7c5f1e93be87284d909e40)the only solution that comes to my mind is modifying top-level rule (`["a" | "b"]`) after every successful match, so if `a` matched it becomes just `["b"]`

rebolek

[14:31](#msg5a7c5f3fce68c3bc745f90b7)Probably something like `[2 ["a" not "a" | "b" not "b"]]`

9214

[14:35](#msg5a7c60176117191e610ef61c)it's cumbersome to generate such rule if set is bigger, `abcdefg` say

[14:35](#msg5a7c602cf283b8e546373a29)or not, hmm

rebolek

[14:35](#msg5a7c6035e217167e2c5bad83)I would suggest some rule generator

[14:38](#msg5a7c60e886ef1bb1418475d6)

```
>> rulegen: func [string][out: collect [foreach char string [keep reduce [char 'not char '|]]] remove back tail out reduce [length? string out]]
== func [string][out: collect [foreach char string [keep reduce [char 'not char '|]]] remove back tail out reduce [length? string out]]
>> rulegen "abcdefg"
== [7 [#"a" not #"a" | #"b" not #"b" | #"c" not #"c" | #"d" not #"d" | #"e" not #"e" | #"f" not #"f" | #"g" not #"g"]]
```

9214

[14:39](#msg5a7c6128e217167e2c5bb2ff)thanks @rebolek, I'll take a note on this approach

rebolek

[14:51](#msg5a7c63dd6117191e610f0ea9)Although the rule would need to be more complicated, this one accepts `"abadefg"`

Phryxe

[15:57](#msg5a7c735586ef1bb14184f919)

```
c: charset "abcdefg"
x: "gfeabcd"
parse x [if (equal? (length? unique x) (l: length? x)) l c]
```

9214

[16:01](#msg5a7c7446b3c4a0d376fa00cf)@Phryxe I don' think set operations are quite there (https://github.com/red/red/issues/3195) for this task, but it's an interesting approach

Phryxe

[16:33](#msg5a7c7bbce217167e2c5c69ed)`c: charset unique x` might be better, but this was probably a stupid solution.

[16:34](#msg5a7c7bfece68c3bc74605615)or rather limited :worried:

9214

[16:35](#msg5a7c7c50f283b8e54637f8ca)even if it's limited to strings only, the basis idea is quite nice and can be enhanced :+1:

greggirwin

[17:03](#msg5a7c82dff283b8e546382079)

```
c: charset "abcdefg"
x: "gfeabcd"
parse x [some [set ch c (remove/part c to integer! ch)]]
```

[17:04](#msg5a7c830e7084124a3451daa1)Not deeply tested. But the idea of modifying the rule as you match is something I've done before.

[17:05](#msg5a7c835af283b8e5463824c6)Won't work if you need to match more than single values, but it's easy to imagine ways to do that too.

## Friday 9th February, 2018

Phryxe

[12:20](#msg5a7d9210b3c4a0d376ffc62b)

```
>> parse [-1] [integer!]
== true
>> parse [-1 -1] [1 2 integer!]
== true
>> parse [-1 -1] [1 2 -1]
*** Script Error: value out of range: -1
*** Where: parse
*** Stack:
```

Just trying things. I thought the last also would be true. Maybe I misunderstand how it works.

rebolek

[12:35](#msg5a7d95aace68c3bc7465ca29)

```
>> parse [-1 -1][1 2 quote -1]
== true
```

[12:36](#msg5a7d95c37dcd63481f3a5e3f)integers in parse mean length

Phryxe

[12:37](#msg5a7d9602f283b8e5463dae22)@rebolek OK, thanks, or range.

rebolek

[12:37](#msg5a7d960f18f388e62680d5c1)that's the word! ;)

Phryxe

[12:38](#msg5a7d965e86ef1bb1418ad526)I notice it differs from Rebol.

[12:40](#msg5a7d96bf18f388e62680d9ce)In Rebol Wikibooks:

```
parse [-1] [1 1 -1]
; == true
```

rebolek

[12:41](#msg5a7d96e7e217167e2c62013b)Interesting. But I think that Rebol doesn't have `quote` in `parse`.

Phryxe

[12:43](#msg5a7d976e86ef1bb1418ada2c)I don't have Rebol installed. I'll try to remember `quote` then.

rebolek

[12:43](#msg5a7d977986ef1bb1418ada53)I take a look.

[12:44](#msg5a7d97b818f388e62680ddfd)

```
>> parse [1][quote 1]
== false
```

[12:44](#msg5a7d97c6e217167e2c6206b7)So it doesn't.

Phryxe

[12:45](#msg5a7d97e07dcd63481f3a6d52)Okey

xqlab

[13:12](#msg5a7d9e3c7084124a34575c63)@toomasv

```
>> cs: charset "abcdefg"
== make bitset! #{0000000000000000000000007F}
>> st: "gfeabcd"
== "gfeabcd"
>> parse st [some [ copy  c cs  (probe c) not ahead c]]
"g"
"f"
"e"
"a"
"b"
"c"
"d"
== true
>> parse "abddef" [some  [ copy  c cs  (probe c) not ahead c ]]
"a"
"b"
"d"
== false
```

toomasv

[14:41](#msg5a7db318ce68c3bc746676a6)@xqlab I think it's still about @9214 's question. Here is my try, assuming that he wants to return `true` if and only if:  
1\. string includes either "ab" or "ba"  
2\. it does not include any more "a" or "b"

```
parse <something> [
   some [
      ["ab" | "ba"] [to [#"a" | #"b"] reject | to end] 
   | [#"a" | #"b"] reject 
   | skip [end reject |]]
]
```

[14:49](#msg5a7db4e8ce68c3bc74668015)P(r)oof:

```
rule: [some [["ab" | "ba"] [to [#"a" | #"b"] reject | to end] | [#"a" | #"b"] reject | skip [end reject |]]]
>> parse "" rule
== false
>> parse "ab" rule
== true
>> parse "ba" rule
== true
>> parse "bba" rule
== false
>> parse "baa" rule
== false
>> parse "b" rule
== false
>> parse "a" rule
== false
>> parse "skfjakab√∂lfd" rule
== false
>> parse "skfjkablfd" rule
== true
>> parse "skfjkabl√§√∂afd" rule
== false
>> parse "skfbjkablfd" rule
== false
>> parse "skfabjkablfd" rule
== false
```

[15:20](#msg5a7dbc38b3c4a0d37600c263)Correction :exclamation: Rule should use `fail` instead of `reject`in one place:

```
rule: [some [["ab" | "ba"] [to [#"a" | #"b"] reject | to end] | [#"a" | #"b"] fail | skip [end reject |]]]
```

Otherwise "a" or "b" in last position are wrongly accepted:

```
parse "cb" [some [["ab" | "ba"] [to [#"a" | #"b"] reject | to end] | [#"a" | #"b"] reject | skip [end reject |]]]
== true
```

The good news is, that same technique can be used with blocks:

```
rule: [
   some [
      ['my 'pattern | 'pattern 'my] [to ['my | 'pattern] reject | to end] 
   |  ['my | 'pattern] fail 
   |  skip [end reject |]]
]
>> parse [d my apples e my pattern] rule
== false
>> parse [d your apples e my pattern] rule
== true
>> parse [who's pattern] rule
== false
```

rebolek

[15:21](#msg5a7dbc647084124a345813d6)Hm.

[15:23](#msg5a7dbcd986ef1bb1418bc43c)Such rule really needs rule generator :)

toomasv

[15:28](#msg5a7dbe12e217167e2c62f8d0):( I don't understand, why sometimes `reject` is needed, but sometimes `fail` :question: E.g. here `reject` works:

```
rule: [some [['my 'pattern | 'pattern 'my] [to ['my | 'pattern] reject | to end] | ['my | 'pattern] reject | skip [end reject |]]]
>> parse parse [my apples or my pattern] rule
== false
```

But `fail` does not:

```
rule: [some [['my 'pattern | 'pattern 'my] [to ['my | 'pattern] reject | to end] | ['my | 'pattern] fail | skip [end reject |]]]
>> parse [my apples or my pattern] rule
== true
```

9214

[15:29](#msg5a7dbe56e217167e2c62fa75)something to so with backtracking and rule success/failure I suppose

[15:29](#msg5a7dbe6686ef1bb1418bce36)can't dig up documentation on mobile

rebolek

[15:30](#msg5a7dbe9fe217167e2c62fb7e)`reject`: break out of a matching loop, returning failure.  
`fail`: force current rule to fail and backtrack.

toomasv

[15:44](#msg5a7dc1e493be87284d97eac3)Basic logic:  
In each advance:  
1\. Is it my pattern?  
1.1. Yes! Does any part of the pattern follow?  
1.1.1. Yes: failure  
1.1.2. No: Success  
1.2. No! Backtrack  
2\. Is it some part of the pattern?  
2.1. Yes! Failure  
2.2. No! Backtrack  
3\. Skip  
3.1. Have I reached the end?  
3.1.1. Yes! Failure  
3.1.2. No! Go to the start of the loop

9214

[15:45](#msg5a7dc22693be87284d97ec34)I'll play around with your proposals once I get my mind back to project, thanks guys :+1:

[15:48](#msg5a7dc2bb18f388e62681e419)the tricky part is that set might contain things that look identical but are different

```
>> x: [me]
== [me]
>> y: [me]
== [me]
>> equal? x y
== true
>> same? x y
== false
```

[15:49](#msg5a7dc302b3c4a0d37600eb31)would be worth to check if `parse` matches something based on `same`ness or `equal`ness

toomasv

[15:49](#msg5a7dc32593be87284d97f2ab)

```
>> same? x/1 y/1
== true
```

9214

[15:51](#msg5a7dc364b3c4a0d37600ed61)@toomasv

```
>> bind x context [me: 'not-me]
== [me]
>> equal? x/1 y/1
== true
>> same? x/1 y/1
== false
```

rebolek

[15:53](#msg5a7dc3ece217167e2c631ca0)

```
>> same? in o1 'a in o2 'a
== false
>> b: reduce [in o1 'a in o2 'a]
== [a a]
>> parse b ['a 'a]
== true
```

[15:53](#msg5a7dc40a93be87284d97f984)So it's `equal`ness, which makes sense.

9214

[15:54](#msg5a7dc44fe217167e2c631f7d)so it's only spelling that matters, not "meaning"?

rebolek

[15:55](#msg5a7dc467d74ee9f50da3b8f7)In `parse`? Yes, your rules define the meaning.

9214

[15:55](#msg5a7dc48bb3c4a0d37600f47f)no, I meant, suppose I want to match words by their meaning

[15:56](#msg5a7dc49918f388e62681efd6)i.e. this `a` and that `a`

rebolek

[15:56](#msg5a7dc4a24a6b0dd32badadcc)In parse?

9214

[15:56](#msg5a7dc4a693be87284d97ff0f)yes

[15:56](#msg5a7dc4b4d74ee9f50da3ba9d)I know that I can do that my matching word and checking its value in paren expressions

rebolek

[15:57](#msg5a7dc4ed18f388e62681f19b)Right:

```
>> parse b [set val 'a (if same? val in o1 'a [print "o1/a"]) set val 'a (if same? val in o2 'a [print "o2/a"])]
o1/a
o2/a
```

9214

[15:58](#msg5a7dc51286ef1bb1418bf8c1)@rebolek what if you'll parse `b` with rule that is `b` itself, only slightly modified (words should be quoted)?

[15:58](#msg5a7dc52118f388e62681f248)wait, it doesn't make sense :D

rebolek

[15:58](#msg5a7dc52bb3c4a0d37600f786)Hm

[15:58](#msg5a7dc532b3c4a0d37600f7b2)Rule that matches itself?

9214

[15:58](#msg5a7dc53b86ef1bb1418bfa02)`parse [][]`

rebolek

[15:59](#msg5a7dc54c18f388e62681f319)That's too easy ;)

9214

[15:59](#msg5a7dc56bce68c3bc7466e36a)I thought at the beginning of my exposure to Red and `parse` that it would be cool to construct such "quiney" rule

[15:59](#msg5a7dc57818f388e62681f459)and then I thought about that a little it was "duh"

rebolek

[15:59](#msg5a7dc57cce68c3bc7466e3df)

```
>> parse [][]
== true
>> rule: ['a]
== ['a]
>> parse rule rule
== true
```

[16:00](#msg5a7dc58bd74ee9f50da3bfff)It's too easy unfortunately.

greggirwin

[16:24](#msg5a7dcb2018f388e6268214a8)Have to think about semantic parsing. `Parse` is based purely on data and lexical forms, but actions allow you to do meaningful checks above that level. That means you could write a semantic parsing dialect and generate both rules and actions, yes? I think that's the way to go. Unless someone comes up with a way to make it work directly in parse without confusion. `Parse` is already one of the more advanced features of Red.

9214

[16:24](#msg5a7dcb50b3c4a0d376011fd1)I was just thinking aloud ;)

greggirwin

[16:27](#msg5a7dcbd6e217167e2c634bee)Me too. :^)

[16:27](#msg5a7dcbf6f283b8e5463ef311)I hadn't seen that question before, so it's interesting to think about.

xqlab

[16:58](#msg5a7dd33293be87284d985c4e)@toomasv , I thought there should be no double char. But the two demands you mentioned will be fulfilled by

```
cs: charset "ab"
parse str [ 2 [ copy  c cs  (probe c) not ahead c]]
```

9214

[17:05](#msg5a7dd4d24a6b0dd32bae1907)I wasn't clear enough in formulating this problem: \*exact* number of `a`s, \*exact* number of `b`s, but in \*no specific order*

[17:05](#msg5a7dd4e286ef1bb1418c5f32)in the simplest case of course

toomasv

[17:06](#msg5a7dd500f283b8e5463f2b76)@xqlab Yes, it `probe`s first two chars from `charset`. But where is the pattern?

xqlab

[17:07](#msg5a7dd54dd74ee9f50da41ef6)The pattern is either "ab" or "ba" without repetition of a char

[17:08](#msg5a7dd585b3c4a0d376015cfc)@9214 how many "a" or "b"s ?

toomasv

[17:08](#msg5a7dd58dce68c3bc7467417c)Sorry, I tried with earlier `charset`. But still:

```
>> cs: charset "ab"
== make bitset! #{00000000000000000000000060}
>> str: "cdab" parse str [ 2 [ copy  c cs  (probe c) not ahead c]]
== false
```

9214

[17:09](#msg5a7dd5ba93be87284d986c74)@xqlab you can't know in advance

xqlab

[17:09](#msg5a7dd5ddd74ee9f50da421fd)You mean other chars are allowed?

toomasv

[17:10](#msg5a7dd6037084124a3458b11c)I understood so. Only second `a` and `b` are not allowed.

xqlab

[17:11](#msg5a7dd64d86ef1bb1418c679a)I am sure that this can be done with this rule and a small modification too. Unfortunately I have to leave now. Will try later

toomasv

[17:11](#msg5a7dd65886ef1bb1418c67de)OK. Would be nice to have simple rule for that!

9214

[17:12](#msg5a7dd6774a6b0dd32bae2424)The task is to find a "thing" that is followed by some "things" in no specific order

[17:12](#msg5a7dd680d74ee9f50da425c9)say, `c` followed by `ab`

[17:12](#msg5a7dd6904a6b0dd32bae2514)`cba`, `cab`, `ccab`, `cwhateverb`

toomasv

[17:13](#msg5a7dd6a9f283b8e5463f3478)But you mean in string?

9214

[17:13](#msg5a7dd6ae7084124a3458b576)no, not string

[17:13](#msg5a7dd6bbb3c4a0d376016721)more like a graph or a tree

[17:13](#msg5a7dd6c486ef1bb1418c6a0c)node followed by a tree

toomasv

[17:14](#msg5a7dd6e34a6b0dd32bae264e)Aaa, so stringifying is needed? Or you mean these examples as generalised pattern?

9214

[17:14](#msg5a7dd6f3b3c4a0d3760167f0)generalized and simplified pattern

[17:17](#msg5a7dd79a4a6b0dd32bae2ad9)I have an input

```
"ABC[DE][SG[HI[JK]L]MNO]PQ"
```

which will be parsed into a "tree"

```
[#"A" #"B" #"C" [#"D" #"E"][#"S" ...]]
```

and I need to find a thing that is specified like

```
["BC"<"S">"G"["H"]"M"-"XX"]
```

i.e. edge `S` which you can find by following `BC` somewhere in the tree, and which itself is followed by a "tree" `G[H]M`

[17:17](#msg5a7dd7a293be87284d9876bc)and you need to replace that edge with `XX`

toomasv

[17:17](#msg5a7dd7a54a6b0dd32bae2b07)`c`followed somewhere by single `a` and single `b`in whatever order and not necessarily consecutively?

9214

[17:17](#msg5a7dd7b1f283b8e5463f3b03)it will make a lot more sense if you'll draw that tree on paper actually

toomasv

[17:20](#msg5a7dd843e217167e2c639cef)And what about non-repetition?

9214

[17:20](#msg5a7dd846e217167e2c639d02)\[!\[image.png](https://files.gitter.im/red/help/10EW/thumb/image.png)](https://files.gitter.im/red/help/10EW/image.png)

[17:21](#msg5a7dd8a0ce68c3bc74675314)well, suppose you have `G[H]M`

[17:21](#msg5a7dd8b2ce68c3bc74675375)and you're trying to match it with something that looks like `[G | [H] | M]`

toomasv

[17:22](#msg5a7dd8cde217167e2c639f97)I am listening..

9214

[17:22](#msg5a7dd8dc4a6b0dd32bae3274)but in fact there could be, say, `G[H][blah [bleh [bluh]]][another bleh][uh [oh]]M` or something

[17:23](#msg5a7dd8fbb3c4a0d3760173f2)the thing is that `[G | [H] | M]` will match `GGG`

[17:23](#msg5a7dd8fe4a6b0dd32bae32ef)or `MMM`

[17:23](#msg5a7dd908f283b8e5463f41e3)or whatever that is not our "tree"

[17:23](#msg5a7dd91ae217167e2c63a1cf)this is because how TDPL parsers work

[17:23](#msg5a7dd926f283b8e5463f425e)they choose the leftmost thing that match

[17:24](#msg5a7dd961f283b8e5463f4408)it's tricky, and I think maybe I misinformed you with problem statement a bit, because I'm still a bit confused about that :(

toomasv

[17:28](#msg5a7dda3c93be87284d988711)I am not listening. Dizzing..

greggirwin

[17:30](#msg5a7ddab118f388e626827719)@9214, I think your example notation is what's tripping me up. My brain can't parse it right now.

[17:31](#msg5a7ddad993be87284d988b1b)It's dense, and so am I.

9214

[17:31](#msg5a7ddae5ce68c3bc7467643c)@greggirwin it represents the tree I posted above

[17:32](#msg5a7ddb22d74ee9f50da44399)or is this about `[foo < bar > baz[qux] - stuff]`?

[17:33](#msg5a7ddb4fb3c4a0d3760183d3)nvm, I would like to solve this on my own actually :neckbeard:

[17:34](#msg5a7ddb8918f388e626827dc0)because usually whenever you spill the beans about your project, @toomasv takes notes, implements everything in one hour and leaves you at the bottom of despair without anything to do :japanese\_ogre:

[17:35](#msg5a7ddbf14a6b0dd32bae44d9)@greggirwin speaking of terseness - you haven't seen my Project Euler solutions in J

greggirwin

[17:35](#msg5a7ddbf34a6b0dd32bae44e1)Oh, I know \*that* feeling. 17 years I've been Redboling and you whipper-snappers come along and put me to shame.

Maybe it's the non-repetition part that confused me. Is it a cyclic graph you have then?

[17:36](#msg5a7ddc207084124a3458d7cb)I'm only at level 1 in Project Euler. :^(

9214

[17:37](#msg5a7ddc5086ef1bb1418c8cf7)@greggirwin no, it's just a tree

[17:37](#msg5a7ddc667084124a3458da93)which I represent as a block of chars and nested blocks

toomasv

[17:39](#msg5a7ddcc086ef1bb1418c9199)OK, I am not interested... Just lurking around.. Incognito

greggirwin

[17:39](#msg5a7ddcd4b3c4a0d376018c61)You don't fool me @toomasv.

9214

[17:39](#msg5a7ddce818f388e62682844a)@9214 makes guttural sounds :japanese\_ogre:

[17:40](#msg5a7ddd1cce68c3bc746772be)@greggirwin

```
+/I.+./0=3 5|/i.1e3
```

greggirwin

[17:40](#msg5a7ddd20d74ee9f50da44f04)@9214, so you need to specify the parent node, the edge to replace, and the following node, correct? Not \*just* the edge to replace.

[17:41](#msg5a7ddd2f18f388e6268285b0)And quit talking gibberish. ;^)

9214

[17:41](#msg5a7ddd3118f388e6268285b3)@greggirwin kinda like that, yeah

[17:41](#msg5a7ddd47d74ee9f50da450cf)but I can also specify \*just* the edge

[17:41](#msg5a7ddd597084124a3458df0d)or parent node and edge, or edge and following node

greggirwin

[17:42](#msg5a7ddd6fce68c3bc74677496)OK. First I have to fix `entab` so @rebolek will respect me again.

9214

[17:47](#msg5a7ddebe7084124a3458e676)@9214 looks at @toomasv suspiciously  
https://www.youtube.com/watch?v=KOqtnU2faTc

greggirwin

[18:00](#msg5a7de1a97084124a3458f5a5)Philip Glass makes everything...everything...everything...Philip Glass.

9214

[18:02](#msg5a7de21d86ef1bb1418cb41c)@9214 \[:neckbeard:](https://www.youtube.com/watch?v=kFuiTX8LrBQ)

xqlab

[19:43](#msg5a7df9cef283b8e546400254)to come back

```
>> cs: charset "ab"
== make bitset! #{00000000000000000000000060}
>> no-cs: complement cs
== make bitset! [not #{00000000000000000000000060}]
>> str: "cdab" parse str [ some [ [copy  c cs  (probe c) not ahead c]  |  no-cs ]]
"a"
"b"
== true
```

## Saturday 10th February, 2018

toomasv

[08:46](#msg5a7eb165f283b8e54642fda8)@xqlab Still doesn't work:

```
>> cs: charset "ab"
== make bitset! #{00000000000000000000000060}
>> no-cs: complement cs
== make bitset! [not #{00000000000000000000000060}]
>> str: "cdafb" parse str [ some [ [copy  c cs  (probe c) not ahead c]  |  no-cs ]]
"a"
"b"
== true
>> str: "cdafbfa" parse str [ some [ [copy  c cs  (probe c) not ahead c]  |  no-cs ]]
"a"
"b"
"a"
== true
>> str: "abfab" parse str [ some [ [copy  c cs  (probe c) not ahead c]  |  no-cs ]]
"a"
"b"
"a"
"b"
== true
```

xqlab

[15:21](#msg5a7f0e04d74ee9f50da97509)The issue is that `not` does not work as I was expecting

```
>> parse "c" [ not "x"]
== false
```

9214

[15:38](#msg5a7f11f918f388e62687bf6d)`not` doesn't advance the input

gltewalt

[19:51](#msg5a7f4d4193be87284d9ed3c5)Looks like `select` doesn't work on nested blocks?

greggirwin

[19:51](#msg5a7f4d5eb3c4a0d37607de7b)Example? There is no `/deep` if that's what you mean.

gltewalt

[19:52](#msg5a7f4d694a6b0dd32bb4af7a)`select [[[w 42] w 22]] 'w`

[19:53](#msg5a7f4dbce217167e2c6a1427)Works with Ladislav flatten

```
>> select flatten [[[w 42] w 22]] 'w
== 42
```

[19:53](#msg5a7f4dc9ce68c3bc746dbfe6)So yeah, no deep

[23:42](#msg5a7f83787084124a346012a4)No deep for `find` either?

```
>> find [[[w 42] w 22]] 42
== none
```

[23:44](#msg5a7f83db4a6b0dd32bb5a111)Without thinking very deeply about it, I think find and select should have /deep. Or implicitly go deep.

[23:44](#msg5a7f83f5ce68c3bc746eaada)automagically

## Sunday 11st February, 2018

greggirwin

[05:47](#msg5a7fd8d518f388e6268ad6b5)&gt; Without thinking very deeply about it, I think find and select should have /deep. Or implicitly go deep.

Think deeply about it first. Can you see a problem with that? Mock it up and look at your results.

## Tuesday 13th February, 2018

raton3062015

[12:39](#msg5a82dc98ce68c3bc747e541c)In c declare array like, int ar\[50],

9214

[12:40](#msg5a82dcbff283b8e54656c0d2)@raton3062015 and..?

raton3062015

[12:43](#msg5a82dd628c71e5e01d8cc3ad)In c declare array like, int ar \[50], now put data in it, ar \[30]= 1, but in red, ar: make block! 50, but can't assign data, like ar/30: 1

9214

[12:43](#msg5a82dd74b3c4a0d37618ee3b)@raton3062015 because block is empty

[12:43](#msg5a82dd848c71e5e01d8cc5a0)you've just allocated some pre-defined space for it, but doesn't fill the content

raton3062015

[12:44](#msg5a82ddcbb3c4a0d37618f080)Then what will be the solution?

9214

[12:45](#msg5a82ddd693be87284dafa2a9)you can zero-fill it by yourself

```
>> blk: make block! 50
== []
>> empty? blk
== true
>> append/dup blk 0 50
== [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0...
>> blk/30: 1
== 1
>> find blk 1
== [1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]
```

rebolek

[12:45](#msg5a82dde918f388e62699c131)or fake it with `map!`

raton3062015

[12:46](#msg5a82de24f283b8e54656c8a7)Time complexity?

9214

[12:47](#msg5a82de488c71e5e01d8cca8c)I think accessing element by index in block is O(1)

[12:47](#msg5a82de5c18f388e62699c3e7)maybe it's the same for keys in `map!`

raton3062015

[13:04](#msg5a82e249e217167e2c7b14f0) Find function algorithm ?

9214

[13:06](#msg5a82e2cdd74ee9f50dbb83b2)https://github.com/red/red/blob/master/runtime/actions.reds#L955

rebolek

[13:06](#msg5a82e2e5d74ee9f50dbb8455)that's not very helpful :)

9214

[13:07](#msg5a82e2fab3c4a0d376191253)I know, find anything better :)

[13:07](#msg5a82e3107084124a346ffad6)https://github.com/red/red/blob/master/runtime/datatypes/block.reds#L746

rebolek

[13:08](#msg5a82e33df283b8e54656e7f4)I must add `action!` support to `nsource` :/

Phryxe

[13:13](#msg5a82e486f283b8e54656ee8e)&gt; Find function algorithm ?

`?? function`

9214

[13:14](#msg5a82e4acd74ee9f50dbb8e2b)@Phryxe 2deep4me

[13:14](#msg5a82e4bbe217167e2c7b2302)although I agree that question is not well formulated

[13:15](#msg5a82e4d77084124a3470047f)is it "`find` function algorithm?" or "find `function` algorithm?"

Phryxe

[13:16](#msg5a82e5157084124a347005f5)Right ...

9214

[13:17](#msg5a82e55cce68c3bc747e8c3a)in any case, `function` just does deep-traversal of body and `/local`ize all `set-word!`s

[13:17](#msg5a82e5757084124a347007c0)and words that are used in iterators (`repeat` and `foreach` for example)

Phryxe

[14:32](#msg5a82f6e64a6b0dd32bc66ab4)Not sure how useful `make block! 10` is. Noticed that `make vector! 10` fills it with 0's.

9214

[14:33](#msg5a82f721d74ee9f50dbc0806)well, yes, but `vector!` restricts its values to be of the same datatype

rebolek

[14:33](#msg5a82f7524a6b0dd32bc66f01)@Phryxe if you know your block size in advance, it is useful to prealocate the space, so the allocator doesn't have to expand series (which takes time) when filling it.

[14:35](#msg5a82f7a68c71e5e01d8d750c)also, `vector!` does not accept Red datatypes in the usual sense

[14:36](#msg5a82f7dc4a6b0dd32bc67281)i.e. they are not boxed values

Phryxe

[14:36](#msg5a82f7f38c71e5e01d8d774b)Yes, I only meant it fills it with something as opposed to block.

rebolek

[14:37](#msg5a82f82393be87284db04619)Because it has to delete the allocated memory, otherwise there would be garbage. `block!` allocates the memory, but doesn't have to delete it.

Phryxe

[14:37](#msg5a82f84718f388e6269a689f)

```
>> blk: make block! 10
== []
>> length? blk
== 0
```

[14:38](#msg5a82f8638c71e5e01d8d7967)Can you see if it has allocated memory?

rebolek

[14:38](#msg5a82f86fb3c4a0d37619a4bf)From Red? No, you can't.

Phryxe

[14:38](#msg5a82f877f283b8e5465768ed)Oki

rebolek

[14:39](#msg5a82f887ce68c3bc747f093d)You have to believe it did ;)

Phryxe

[14:39](#msg5a82f88f18f388e6269a6b21):smile:

9214

[14:39](#msg5a82f890f283b8e54657695c)maybe `stats` can help somehow?

[14:40](#msg5a82f8c1e217167e2c7ba613)or `stats/info`, which is cryptic

Phryxe

[14:40](#msg5a82f8dace68c3bc747f0b46)`stats/show` TBD

9214

[14:40](#msg5a82f8e0b3c4a0d37619a713)

```
text
>> probe new-line/all stats/info on
[
    [[9999 1 10000] [9999 1 10000] [2402 7598 10000]] 
    [[24 1048552 1048576] [918076 1179076 2097152]] 
    []
]
```

Phryxe

[14:42](#msg5a82f943d74ee9f50dbc19d2)Mysterious

rebolek

[14:46](#msg5a82fa48ce68c3bc747f1535)See the difference? :)

```
>> b: [] dt [loop 30000000 [append b 0]]                  
== 0:00:10.190108
>> b: make block! 30000000 dt [loop 30000000 [append b 0]]
== 0:00:08.296904
```

Phryxe

[14:48](#msg5a82fab2e217167e2c7bb19a):thumbsup:

rebolek

[14:49](#msg5a82fb0118f388e6269a7b32)It was probably more significant on Pentium 4 :)

9214

[14:50](#msg5a82fb294a6b0dd32bc6880c)it allocates 30M of what?

rebolek

[14:50](#msg5a82fb3793be87284db05cd9)memory slots

[14:50](#msg5a82fb52d74ee9f50dbc2502)memory slot is 128bits, IIRC

[14:52](#msg5a82fba77084124a34709f53)unlike `vector!`, this:

```
>> v: make vector! [integer! 8 30000000]
```

allocates 30M bytes.

[14:52](#msg5a82fbba7084124a3470a04e)So it's much more efficient.

[14:53](#msg5a82fbd17084124a3470a114)And 256 values should be enough for everyone.

9214

[14:54](#msg5a82fc12ce68c3bc747f22f5)is there a documentation on `make` specs?

rebolek

[14:54](#msg5a82fc437084124a3470a379)Here's documentation on `vector!` http://www.red-lang.org/2015/04/053-faster-compilation-and-extended.html

9214

[14:57](#msg5a82fcc493be87284db069e5)and in general, for each datatype?

rebolek

[14:58](#msg5a82fd02d74ee9f50dbc30c0)hm, I think there was something, but can't remember where

9214

[14:58](#msg5a82fd0593be87284db06b4d)I wonder when using `vector!` over `block!` is preferable

rebolek

[14:58](#msg5a82fd08ce68c3bc747f2a62)maybe in wiki?

9214

[14:58](#msg5a82fd24e217167e2c7bc272)only this https://github.com/red/red/wiki/%60to%60-vs-%60make%60

rebolek

[14:59](#msg5a82fd3fd74ee9f50dbc325b)@9214 if you have list of values of same type, like for example audio sample, or similar data

[14:59](#msg5a82fd4718f388e6269a8afb)basically binary stuff

[15:04](#msg5a82fe7293be87284db0772d)with 16 bit values, you need 8x less memory

9214

[15:09](#msg5a82ffaece68c3bc747f3d4d)&gt; &lt;bit-size&gt; : 8 | 16 | 32 for integer! and char!

what will be the difference?

[15:09](#msg5a82ffb38c71e5e01d8dac7b)for chars I mean

rebolek

[15:11](#msg5a83002a93be87284db083e6)You can't fit Unicode chars in 8 bit slot

viayuve

[15:11](#msg5a83002cb3c4a0d37619dc80)Go on guys I am learning so much today

rebolek

[15:11](#msg5a8300338c71e5e01d8dafb6)Not sure what is it good for.

9214

[15:11](#msg5a83003bf283b8e54657a4ce)my thought too

[15:24](#msg5a83033493be87284db0980b)@rebolek wait, it's called utf-\*\*8\** for a reason :)  
https://en.wikipedia.org/wiki/UTF-8

[15:25](#msg5a83036b7084124a3470d510)&gt; The name is derived from Unicode (or Universal Coded Character Set) Transformation Format ‚Äì 8-bit

[15:25](#msg5a83037f93be87284db09a45)or is it about all UTF encodings?

rebolek

[15:26](#msg5a8303adb3c4a0d37619f9d5)IIRC internal encoding is not UTF-8

[15:27](#msg5a8303f8ce68c3bc747f5950)Putting √° into 8bit vector works, which should not, if it was UTF-8

BillDStrong

[17:24](#msg5a831f36e217167e2c7cc02e)Internally, it is UCS. (I think it supports 16bit and 32bit?). UTF-8 is a text format, not an internal representation. (It does some really cool things for speed, though).

greggirwin

[20:10](#msg5a834641ce68c3bc748113b3)Vector over block is an optimization, e.g. if you want to do faster math like in J. You can think of them basically as arrays versus collections in other languages, trading flexibility for performance.

PeterWAWood

[22:27](#msg5a83666e7084124a34734cf3)Internally,Strings are stored as either ISO-8859-1, UCS-2 or UCS-4 depending on their contents. Chars are 32 bits. More processing is required when adding, removing or finding characters than in Rebol2.

## Wednesday 14th February, 2018

raton3062015

[10:07](#msg5a840a55b3c4a0d3761fb15c)I can use block as stack and queue. But how will i use it as priority queue

9214

[10:16](#msg5a840c6f18f388e626a05f5e)pair each element with an integer that represents its priority, then do something with it

[10:19](#msg5a840d27e217167e2c81a716)or use series index, but then elements with equal priority should be wrapped together in a block or other aggregate structure

raton3062015

[10:56](#msg5a8415c218f388e626a092d6)Then after append an element, i have to use sort

rebolek

[11:06](#msg5a8418215cc18726453987db)use map

9214

[11:07](#msg5a84185dce68c3bc74853ef5)@rebolek but sorting is not guaranteed in `map!`s if I'm not mistaken?

rebolek

[11:07](#msg5a8418715cc1872645398a3e)No.

[11:08](#msg5a8418924a6b0dd32bccda97)Or you can use reactors, I've implemented Redis-like sorted sets with them relatively easily.

9214

[11:08](#msg5a8418a7b3c4a0d376200543)yup, reactors sound better

rebolek

[11:08](#msg5a8418b318f388e626a0a433)It will sort for you automatically.

9214

[11:08](#msg5a8418b7f283b8e5465db5d2)I believe Doc even showed some self-sorting example in blog article

[11:08](#msg5a8418c75cc1872645398bcf)or was it about macros..?

[11:10](#msg5a841909d74ee9f50dc25322)I'd rather inserted element at the right place instead of sorting whole thing every time

[11:10](#msg5a84192b5cc1872645398d6d)you just need to find the element with priority equal to or greater than priority of inserted element

rebolek

[11:10](#msg5a8419374a6b0dd32bccddd6)http://www.red-lang.org/2016/03/060-red-gui-system.html look for `object ownership`

[11:11](#msg5a841965e217167e2c81ec3e)&gt; I'd rather inserted element at the right place instead of sorting whole thing every time

That's not how it works, unfortunately. The action (like `insert`) is executed first and then you can run your code.

9214

[11:11](#msg5a841979e217167e2c81ecb3)wat

[11:12](#msg5a8419ac5cc1872645399024)I mean - find appropriate element and make an insertion before it

[11:12](#msg5a8419baf283b8e5465dbb92)intead of appending to tail and then sorting

rebolek

[11:13](#msg5a8419dd93be87284db6762a)I was talking about `on-deep-change`, if you write your own functions, then fine.

9214

[11:13](#msg5a8419e85cc1872645399105)ah, ok

[11:14](#msg5a8419fdd74ee9f50dc2580d)yes, I get what you mean now

raton3062015

[16:36](#msg5a8465a4f283b8e5465fc1ac)Is block use continuous memory location? Like array Or random memory location like linked list?

[16:40](#msg5a84667b18f388e626a2a9e8)If it uses continuous memory then insert an element in between will be time cconsuming

9214

[16:43](#msg5a846719e217167e2c83f261)solve problem first, optimize later

[16:43](#msg5a846746b3c4a0d376222d3f)IIRC block is something in-between of array and linked list

greggirwin

[17:34](#msg5a8473277084124a3478f263)

```
Red [
    title:   "Tiny Priority Queue"
    file:    %tiny-priority-queue.red
    author:  "Gregg Irwin"
    email:   gregg@pointillistic.com
    date:    "Ported from circa 2007 Rebol code"
    version: 0.0.1
    purpose: {
        Provides functions, and an object def that uses them, to treat
        a series as a priority queue. When you insert items, you give
        them a priority (higher numbers mean a higher priority). In the
        actual series, the priority is stored along with the value, so
        you should always use the pq* functions to access them, to make
        things easier. 
    }
]

; Standalone PQ funcs, usable outside PQ objects
pq-insert: func [
    series [any-block!] "Series to insert value into"
    value "The value to insert"
    priority [integer!] "Higher numbers have higher priority"
][
    sort/skip/reverse repend series [priority value] 2
]
pq-first: func [series [any-block!]] [pick series 2]
pq-take:  func [series [any-block!]] [pick take/part series 2 2]

; PQ Prototype
priority-queue: make object! [
    data:   copy []
    insert: func [item priority] [pq-insert data item priority]
    first:  does [pq-first data]
    take:   does [pq-take data]
]



pq: copy []
print pq-insert pq "A" 1
print pq-insert pq "B" 10
print pq-insert pq "C" 100
print pq-insert pq "D" 1000
print mold pq
print pq-insert pq "CC" 100
print pq-insert pq "CCC" 100
print pq-insert pq "D" 1000
print pq-insert pq "CCCC" 100
print pq-insert pq "CCCCC" 100
print pq-insert pq "CCCCCC" 100
print pq-insert pq "CCCCCCC" 100

print ""
while [not empty? pq] [print pq-take pq]

pq: make priority-queue []
print pq/insert"A" 1
print pq/insert"B" 10
print pq/insert"C" 100
print pq/insert"D" 1000
print mold pq/data
print pq/insert"CC" 100
print pq/insert"CCC" 100
print pq/insert"D" 1000
print pq/insert"CCCC" 100
print pq/insert"CCCCC" 100
print pq/insert"CCCCCC" 100
print pq/insert"CCCCCCC" 100
while [not empty? pq/data] [print pq/take]
```

## Friday 16th February, 2018

planetsizecpu

[17:42](#msg5a87180910f501211af36236)Do some one know if there is a way to redirect stderr from console to a view widget, let's say box or area?

9214

[17:43](#msg5a871831d786ce546e71482f)from console?

planetsizecpu

[17:44](#msg5a87186f76ced47639ef8d60)Y es I want to output errors inside my app

9214

[17:44](#msg5a871894cc9e4b536ecf4669)you mean Red console? i.e.

```
>> 1 / 0
*** Math Error: attempt to divide by zero
*** Where: /
*** Stack:
```

planetsizecpu

[17:45](#msg5a8718ad6017bf221a747c2b)Maybe un system/console mmm... Have to test

9214

[17:45](#msg5a8718cbd786ce546e714d06)you can catch `error!` objects with `try`

```
>> probe try [1 / 0]
make error! [
    code: 400
    type: 'math
    id: 'zero-divide
    arg1: none
    arg2: none
    arg3: none
    near: none
    where: '/
    stack: 5474656
]
*** Math Error: attempt to divide by zero
*** Where: /
*** Stack: probe
```

rebolek

[17:45](#msg5a8718d16017bf221a747cdf)@planetsizecpu Red errors or system errors?

9214

[17:46](#msg5a8718e310f501211af3672b)and `call` has `/error` refinement for stderr redirection

rebolek

[17:46](#msg5a8718eed786ce546e714e07)Red errors don't go to stderr

9214

[17:46](#msg5a87190276ced47639ef9278)yes, so you'll need to dispatch on them manually

planetsizecpu

[17:46](#msg5a871909d786ce546e714eb3)Yes you have a do ... And want to display eventual errors

[17:47](#msg5a871929cd1c60032335564f)In a red widget not console

9214

[17:48](#msg5a87197ccc9e4b536ecf4bfd)@planetsizecpu the

```
*** Math Error: attempt to divide by zero
*** Where: /
*** Stack: probe
```

part?

planetsizecpu

[17:48](#msg5a87198a76ced47639ef959c)@rebolek red errores

9214

[17:49](#msg5a87199917b16a23775702ea)as @rebolek said, these messages don't go to stderr

planetsizecpu

[17:49](#msg5a8719a217b16a2377570326)Y es

[17:50](#msg5a8719d717b16a2377570567)Thx I'll investigate

[17:52](#msg5a871a546017bf221a74883b)Today I pushed some improvements to my forms app

rebolek

[17:52](#msg5a871a5d6017bf221a748871)@planetsizecpu ,

planetsizecpu

[17:53](#msg5a871a86cd1c600323356090)And have to display errors on view

rebolek

[17:53](#msg5a871a97da468f7539f5f8cc)@planetsizecpu `try` is your friend

9214

[17:53](#msg5a871aa376ced47639ef9e36)in simplest case you can just display `formed` id

planetsizecpu

[17:53](#msg5a871aab10f501211af37663)I will test thx. Sorry on phone...

9214

[17:54](#msg5a871ab86017bf221a748a30)

```
text
>> form get in try [1 / 0] 'id
== "zero-divide"
```

planetsizecpu

[17:54](#msg5a871af3cc9e4b536ecf5b00)Please test the app forms in my repo to see

rebolek

[17:55](#msg5a871b2317b16a2377570f15)I will take a look later, I'm on tram now

planetsizecpu

[17:56](#msg5a871b406017bf221a748da5)Ok :smile:

9214

[17:59](#msg5a871be617b16a23775716c2)@planetsizecpu nice! Unfortunately I was able only to add/delete one button, after that (or somewhere in between)

```
*** Script Error: path FontSel/color: is not valid for none! type
*** Where: set-path
*** Stack: view do-events do-actor do-safe FormFontChange 
*** Script Error: VID - invalid syntax at: [none 255.228.196 0.0.255]
*** Where: do
```

planetsizecpu

[18:02](#msg5a871ca876ced47639efae06)Ahh I will test tomorrow, still alpha :smile:

[18:06](#msg5a871daada468f7539f60ea3)@9214 thx

## Saturday 17th February, 2018

snotbubble

[07:12](#msg5a87d5cd8f1c77ef3a18a7a9)quick question, what's the simplest way to do this:

```
make date! "1-feb-2018"
```

rebolek

[07:15](#msg5a87d68da2194eb80d740456)@snotbubble

```
>> type? load "1-feb-2018"
== date!
```

snotbubble

[07:18](#msg5a87d7330202dc012e463a8f)@rebolek perfect thanks!

rebolek

[07:18](#msg5a87d75d6fba1a703a60bcba)@snotbubble you're welcome :shipit:

greggirwin

[07:26](#msg5a87d9378f1c77ef3a18b724)I just saw this on the ML. Should have come here first, but then @rebolek would still have beat me.

rebolek

[07:29](#msg5a87d9ef35dd17022eb556c5)Sorry @greggirwin I'll try to be slower :snail:

snotbubble

[12:46](#msg5a88243735dd17022eb6d6d7)nextquestion:  
how to append the value of a variable to an array:

```
Red []
allofit: copy []
a: "one"
b: "two"
aa: copy a
bb: copy b
append allofit [a b]
append allofit [aa bb]
print["allofit=" allofit]
```

returns: allofit= a b aa bb

9214

[12:47](#msg5a88245ca2194eb80d758e07)@snotbubble use `reduce` on your "array"

[12:48](#msg5a882488888332ee3a94c098)

```
text
>> a: 1 b: 2
== 2
>> append [][a b]
== [a b]
>> append [] reduce [a b]
== [1 2]
```

viayuve

[12:49](#msg5a8824d48f1c77ef3a1a300a)@rebolek like this slow http://t3.gstatic.com/images?q=tbn:ANd9GcSAtyN8WekENjc7QkkTzkRkwenCiDDwDshh0YryDNGcnVjt4Oxf

snotbubble

[12:50](#msg5a88250a888332ee3a94c3c8)@9214 great thanks!

[12:50](#msg5a882517e4ff28713a8b7685)its 'block' not array right?

Phryxe

[13:11](#msg5a8829f6a2194eb80d75af1e)Yes, `block!`

viayuve

[13:12](#msg5a882a506fba1a703a626523)damn I got scarred lol that fly though notification lol :smile:

[13:17](#msg5a882b5f35dd17022eb6fd66)idt(Interrupt Descriptor Table) with red/system right ?? :confused:

snotbubble

[13:23](#msg5a882cbe35dd17022eb703f2)how to append an intact block:

```
Red []
allofit: copy []
a: "one"
b: "two"
append allofit reduce [a b]
c: "three"
d: "four"
append allofit reduce [c d]
foreach i allofit [ 
	print[i/1] 
]
```

returns:

```
o
t
t
f
```

however I'm after:

```
one
three
```

trying to replicate:  
allofit\[\["one","two"]\["three","four"]]

9214

[13:24](#msg5a882cfa0202dc012e47e7fe)@snotbubble `append/only`

viayuve

[13:25](#msg5a882d48a2194eb80d75c38e)@9214 any guess on my issue IDT

9214

[13:29](#msg5a882e1e8f1c77ef3a1a60c5)IIRC address of IDT is stored in IDTR register

[13:29](#msg5a882e3a6fba1a703a627a14)and per R/S specification, only following registers are accepted as of now  
&gt; IA-32: eax, ecx, edx, ebx, esp, ebp, esi, edi

viayuve

[13:30](#msg5a882e6c8f1c77ef3a1a61df)damn you know everything can you link me page

[13:33](#msg5a882f0e888332ee3a94f929)found it thanks http://static.red-lang.org/red-system-specs.html

[13:34](#msg5a882f5e888332ee3a94fb21)@9214 so red support only 32 bit ??

9214

[13:39](#msg5a8830a08f1c77ef3a1a6c8d)currently yes

viayuve

[13:45](#msg5a883213888332ee3a950bc7)@9214 is it possible to write kernel in red/system

[13:46](#msg5a883235e4ff28713a8bbf22)just using r/s without asm

9214

[13:47](#msg5a88327a6fba1a703a628ff7)I'm not qualified enough to give you a definite answer on that

viayuve

[13:50](#msg5a8833096fba1a703a629245)@rebolek do you know ??

grazil

[15:57](#msg5a885104888332ee3a95bf9e)Is it possible to modify the HTTP headers when using `read` or `load`?

9214

[15:58](#msg5a88513a0202dc012e48b958)@grazil \[this](https://github.com/red/red/wiki/Guru-Meditations#how-to-make-http-requests)?

grazil

[16:01](#msg5a8851c56fba1a703a63446c)yes! thanks a lot! :)

[16:06](#msg5a8852eb8f1c77ef3a1b2cf0)I see, this is the `/info` refinement witch is not documented in the `read` and `write` helps. Do you think i have to open an issue for that, to clarify this point ?

[16:08](#msg5a885379a2194eb80d76a2f3)@9214 sorry, i forget to mention your name

9214

[16:08](#msg5a885383c3c5f8b90dca1e77)@grazil and what should be added to docstrings?

grazil

[16:11](#msg5a88542be4ff28713a8c7d57)@9214 in the version 0.63, the docstrings is empty... What about writing the link that you gave me ? Or the example (but it would be too long i supprose) ?

9214

[16:11](#msg5a88544ee4ff28713a8c7fc5)@grazil as I understand it, `/info` refinement should be multi-purpose, and should be extended in the future versions

[16:12](#msg5a88545a0202dc012e48ce89)i.e. it's not restricted to HTTP requests only

[16:12](#msg5a88547235dd17022eb7e1ae)usually when something is not documented, it means that this feature is experimental or a subject to change

grazil

[16:13](#msg5a8854a8a2194eb80d76ac18)@9214 Ok, i see. thanks again for your lightning speed answer !

9214

[16:13](#msg5a8854c1c3c5f8b90dca2516)you can open a ticket for that I think, nothing scary will happen ;)

[16:14](#msg5a8854d2e4ff28713a8c8263)or we can wait for @greggirwin and he'll tell us something more specific

grazil

[16:15](#msg5a88551e6fba1a703a6357c9)Yes, i will wait, for is answer before opening a ticket.

greggirwin

[16:36](#msg5a885a00c3c5f8b90dca40b2)`/info` is likely not documented, because it could change when we get full I/O. Most other refinements came from Rebol's design, and are well vetted.

rebolek

[16:40](#msg5a885aeae4ff28713a8ca70a)@viayuve I think that theoretically it should be possible.

viayuve

[16:50](#msg5a885d69e4ff28713a8cb48e)@rebolek than I will try that theory ;) I will let you guys know how it goes

rebolek

[16:57](#msg5a885f14a2194eb80d76eb43)@viayuve that sounds cool :clap: but if you're not successful, don't blame it on me :worried:

viayuve

[16:59](#msg5a885f72a2194eb80d76ee82)Okay but in processes I might eat some of best red personal brain is that OK ;)

[17:00](#msg5a885fa6e4ff28713a8cc0cb)@rebolek and @9214 :smile:

rebolek

[17:01](#msg5a885fee8f1c77ef3a1b76a6):fork\_and\_knife:

9214

[17:02](#msg5a88600b8f1c77ef3a1b7759)@viayuve https://www.ops-class.org/

BeardPower

[17:19](#msg5a886412a2194eb80d770ba3)@viayuve If the language allows you to address the hardware directly (interrupts, memory, input, screen, clock,...) then yes. IIRC R/S does not allow you to address everything of the hardware directly, so you need some Assembler. The first thing you need to code, is a bootloader anyway.

[17:21](#msg5a88648f35dd17022eb83e6d)After you have finished your bootloader, you have to decide on the kernel architecture: Monolithic? Micro? Hybrid? Exo?

[17:55](#msg5a886c8935dd17022eb86ab6)I'm also looking forward to the Mill. It would be great to implement a micro-/exokernel for it. The Mill needs no context switches and is a compiler target.

toomasv

[19:25](#msg5a888197e4ff28713a8e16b6)Can sombody remind me: how can dynamically changed function's body be rebound to function arguments?

9214

[19:25](#msg5a8881ace4ff28713a8e16ff)@toomasv :question:

toomasv

[19:27](#msg5a888217e4ff28713a8e188d)Let's say I change functions' body by eg.

```
append clear body-of :func [new body]
```

How shell I bind new body to func's arguments? I.e `spec`

9214

[19:31](#msg5a888301a2194eb80d7849bc)@toomasv ?

```
>> foo: func [x y][x + y]
== func [x y][x + y]
>> foo 1 2
== 3
>> foo: func spec-of :foo [x - y]
== func [x y][x - y]
>> foo 1 2
== -1
```

[19:33](#msg5a888395e4ff28713a8e20b0)I don't get what do you mean by "bind body to func's arguments"

[19:34](#msg5a8883aa8f1c77ef3a1cd72f)you can't bind anything to it

[19:34](#msg5a8883bd0202dc012e4a7695)argument block is just a block, it's not a context

[19:34](#msg5a8883cc0202dc012e4a76d8)jeez, gitter lags like hell

[19:38](#msg5a8884a98f1c77ef3a1cdc21)`bind [new body] :foo` perhaps

[19:38](#msg5a8884d26fba1a703a650c82)

```
text
>> foo: func [x y][x + y]
== func [x y][x + y]
>> foo 1 2
== 3
>> append clear body-of :foo [x - y]
== [x - y]
>> foo 1 2
*** Script Error: x has no value
*** Where: -
*** Stack: foo  

>> append clear body-of :foo bind [x - y] :foo
== [x - y]
>> foo 1 2
== -1
```

[19:39](#msg5a8885026fba1a703a650d74)aah, yes, now it makes sense

[19:40](#msg5a88852d0202dc012e4a7de4)here I'm binding to a context that doesn't exist, but appears once `foo` is called

toomasv

[19:44](#msg5a88860cc3c5f8b90dcbc738)Thank you @9214 :exclamation:

9214

[19:44](#msg5a888623888332ee3a977ea9):pray:

toomasv

[20:13](#msg5a888cf16fba1a703a653706)@9214 See into gui-branch in few moments - it's thanks to you!

9214

[20:14](#msg5a888d3e0202dc012e4aa64c)@toomasv I'm already feel myself too dumb and stupid after everything you showed there :older\_man:

toomasv

[20:15](#msg5a888d690202dc012e4aa797):flushed:

9214

[20:15](#msg5a888d7ea2194eb80d787f33)my wrinkly :peach: won't handle another round of coolness

## Sunday 18th February, 2018

raton3062015

[09:22](#msg5a8945ee888332ee3a9aabcc)

```
a: 'b
```

[09:24](#msg5a89465de4ff28713a917d63)how can i convert lit-word to string?

```
Length? form a
```

[09:25](#msg5a8946806fba1a703a686188)&gt;&gt; 2

rebolek

[09:26](#msg5a8946e2c3c5f8b90dcf18ee)`'b` gets evaluated to `b`, so you have `word!` in `a`, not `lit-word!`

[09:27](#msg5a8946fb0202dc012e4dc6ed)also, `form` converts to \*human readable* form, so you need to use `mold`:

```
>> a: 'b
== b
>> type? a
== word!
>> a: quote 'b
== 'b
>> type? a
== lit-word!
>> form a
== "b"
>> mold a
== "'b"
```

raton3062015

[09:29](#msg5a89478d8f1c77ef3a2028c2)sorry. a: 'b'

rebolek

[09:30](#msg5a8947cac3c5f8b90dcf1d3c)So you want `b'`?

raton3062015

[09:34](#msg5a8948bc6fba1a703a686be9)How to convert 'b' to "b"

rebolek

[09:35](#msg5a8948fd6fba1a703a686cf3)Ah, there are no single quotes.

[09:36](#msg5a8949328f1c77ef3a203382)`'` before `word!` means `lit-word!`, `'` after word is just part of word, you can have word like `a'b'c'` for example

raton3062015

[09:40](#msg5a894a0835dd17022ebced78)Thanks

9214

[09:47](#msg5a894ba36fba1a703a687a19)

```
text
>> form/part 'b' 1
== "b"
```

rebolek

[09:47](#msg5a894bc1e4ff28713a91970d)@9214 you \*can* do it, but that does not mean you \*should* ;)

9214

[09:48](#msg5a894bd90202dc012e4ddf72):japanese\_goblin:

ralfwenske

[11:12](#msg5a895f9635dd17022ebd53ec)I am processing some csv data (csv.red) which returns strings in a block.  
I then process each item like this:

```
num: dataitem
try [num: to float! dataitem]
```

this works: num is either float! or string!  
trouble is when dataitem is "" ‚Äî&gt; Red seems to hang in an endless loop instead of returning error.  
Run this:

```
num: to float! ""
```

could someone confirm this please?

Ungaretti

[11:26](#msg5a8962f135dd17022ebd61ec)I get an error:

```
>> num: to float! ""
*** Script Error: cannot MAKE/TO float! from: ""
*** Where: to
*** Stack:
```

ralfwenske

[11:33](#msg5a896499888332ee3a9b3c49)I tried again and have to ^c to get out of it:

[11:35](#msg5a8964e835dd17022ebd6b91)

```
>> about
Red for macOS version 0.6.3 built 27-Jan-2018/14:34:08+10:00
>> num: to float! ""
^Cmacmini:red-crypto ralfwenske$
```

I will download the latest and try again‚Ä¶

[11:57](#msg5a896a376fba1a703a6913a8)@Ungaretti I tried on Windows as well and with 0.6.3 built 25-Jan-2018 I get:  
`Red GUI Console has stopped working`. This is strange - what Red version did you run it on?

9214

[12:00](#msg5a896aee888332ee3a9b5ac6)

```
text
>> about
Red for Linux version 0.6.3 built 22-Dec-2017/23:01:43+05:00
>> to float! ""
Segmentation fault
```

[12:01](#msg5a896b09c3c5f8b90dcfca64)same with version from 25 Jan

[15:55](#msg5a89a20ec3c5f8b90dd0fbda)@ralfwenske as a temporal workaround, you can use `load` instead of `to float!` and check for an empty `block!` in case of empty `string!`

```
>> load "4.2"
== 4.2
>> load ""
== []
```

Ungaretti

[18:43](#msg5a89c95da2194eb80d7e6814)@ralfwenske Interesting:

```
>> about
Red for Windows version 0.6.3 built 18-Oct-2017/20:58:24-02:00
>> to float! ""
*** Script Error: cannot MAKE/TO float! from: ""
*** Where: to
*** Stack:
```

but version 0.6.3 built 10-Dec-2017 crashes! Seems like a bug.

[19:01](#msg5a89cd99a2194eb80d7e885b)Please, how do I make my program constantly listen to keys pressed?  
In other words: how do I listen to a "key pressed" event when my program's window (not just a face) is on focus?  
And how do I get the value of the key pressed?

greggirwin

[20:10](#msg5a89ddb08f1c77ef3a235806)@ungaretti, use the `actors` object or a global event handler.

```
win: layout []
win/actors: make object! [
	on-key: func [face event][
		? event/key
		if event/key = tab [return probe 'done]
	]
]
view win
```

or  
https://doc.red-lang.org/en/view.html#\_global\_event\_handlers

Ungaretti

[20:30](#msg5a89e24f35dd17022ec03db6)@greggirwin Thanks!

gltewalt

[23:13](#msg5a8a088dc3c5f8b90dd34a79)Why does `empty?` return true is a series is at its tail? The data still exists - the series isn't empty

[23:14](#msg5a8a08cb35dd17022ec11804)Why not just have `tail?`

[23:22](#msg5a8a0acda2194eb80d7ff093)

```
>> s: "hi"
== "hi"
>> s: next s
== "i"
>> s: next s
== ""
>> tail? s
== true
```

[23:23](#msg5a8a0ae40202dc012e5214e8)`empty?: func [val][val: head val tail? val]`

[23:24](#msg5a8a0b13c3c5f8b90dd35644)

```
>> empty? s
== false
>> s
== ""
>> head s
== "hi"
```

## Monday 19th February, 2018

greggirwin

[01:48](#msg5a8a2cf86fba1a703a6d3764)The semantics are slightly different for `tail?` and `empty?`. You can use `empty?` on `none!` values, which is convenient. Beyond that, it can be a more meaningful word, depending on what you're doing. Which of the following reads better to you?

```
if not tail? s: ask "Ready?" [print s]
; or
if not empty? s: ask "Ready?" [print s]
```

Or consider this.

```
blk: [1 2 3 4 5 6]
blk-ref: at blk 4
while [not empty? blk-ref][print take/last blk-ref]
```

Seems OK, yes? What about this then? (WARNING! This will hang your Red session.)

```
empty??: func [s][tail? head s]  ; == yours above
blk: [1 2 3 4 5 6]
blk-ref: at blk 4
while [not empty?? blk-ref][print take/last blk-ref]
```

gltewalt

[03:56](#msg5a8a4ad0888332ee3a9fe74b)Oh yeah. `empty? none`

[03:57](#msg5a8a4b426fba1a703a6db834)Actually, I'd rather use `if not tail? s: ask "Ready?" [print s]` because `empty?` doesn't always mean there's nothing there

greggirwin

[04:12](#msg5a8a4ec66fba1a703a6dc64d)When would it not mean that in the case of `ask`?

gltewalt

[04:17](#msg5a8a4fcee4ff28713a96ebfb)Oh it would, but I‚Äôm general I‚Äôd rather stick with `if not tail?`

[04:17](#msg5a8a4fd535dd17022ec24378)In general

snotbubble

[04:41](#msg5a8a5582888332ee3aa016db)another question: how to use a block as data for a text-list?

```
Red [ needs 'view]

sampledata: {title;fn;args;amt
one;weekly;2.15;100
two;monthly;3.1;100}

sd: split sampledata "^/"
print ["sample data:^/" sd]

view [
	Title "test"
	below
	srclist: text-list 700x300 data [sd]
]
```

prints the block 'sd' in the console, but no-show in the UI.

[04:58](#msg5a8a596c0202dc012e536440)nvm

```
srclist: text-list 700x300 data sd
```

greggirwin

[05:39](#msg5a8a62f46fba1a703a6e1fa8)You got it. :^)

snotbubble

[05:45](#msg5a8a645ca2194eb80d8167de)hmm now if I split, pad and rejoin the strings it won't display in the UI:

```
Red [ needs 'view]

sampledata: {title;fn;args;amt
one;weekly;2.15;100
two;monthly;3.1;100}

sd: split sampledata "^/"

bd: copy []
foreach s sd [
	cc: split s ";"
	append/only bd cc
]

foreach i bd [
	i/1: pad i/1 6
	i/2: pad i/2 10
	i/3: pad i/3 5
	i: rejoin i
	print [i]
]

view [
	Title "test"
	below
	srclist: text-list 700x300 data bd
```

greggirwin

[06:02](#msg5a8a6877888332ee3aa06ca5)Note that you now have sub-blocks in `bd`.

[06:05](#msg5a8a693e6fba1a703a6e3b92)So you can do something like this:

```
sampledata: {title;fn;args;amt
one;weekly;2.15;100
two;monthly;3.1;100}

sd: split sampledata "^/"

bd: copy []
foreach s sd [
    cc: split s ";"
    append bd rejoin [
        pad cc/1 6
        pad cc/2 10
        pad cc/3 5
    ]
]

view [
    Title "test"
    below
    srclist: text-list 700x300 data bd
]
```

dsgeyser

[06:13](#msg5a8a6b038f1c77ef3a25fb35)Rebol has the 'anim' style whereby a series of images in a block can be played back at a given rate, resulting in an animated gif.

How can this be done in Red?

greggirwin

[06:19](#msg5a8a6c7bc3c5f8b90dd50ac9)There's no built in style for that in Red yet. Red uses native widgets, so that may be more work across platforms. You could roll your own using the `base` style and a `rate` though.

dsgeyser

[07:00](#msg5a8a75f8c3c5f8b90dd53d8f)@greggirwin Thanks

snotbubble

[07:13](#msg5a8a791b6fba1a703a6e8ec6)@greggirwin perfect thanks!  
is there a way to print data as-is?  
eg: show a series of blocks as a series of blocks?

9214

[07:14](#msg5a8a796ca2194eb80d81d941)@snotbubble `probe`

snotbubble

[07:24](#msg5a8a7bad888332ee3aa0cff7)@9214 got it thanks

rebolek

[07:38](#msg5a8a7f096fba1a703a6eb311)@dsgeyser Here's simple `anim` type, it's really easy to do:

```
Red[]

random-image: function [size][i: make image! size forall i [v: random 255 i/1: make tuple! reduce [v v v]] i]

images: collect [loop 12 [keep random-image 100x100]]

view [
    style anim: base 
        on-create [
            face/rate: 12
        ]
        on-time [
            face/image: first face/data
            face/data: next face/data
            if empty? face/data [face/data: head face/data]
        ]
    anim data images
]
```

planetsizecpu

[11:20](#msg5a8ab30fe4ff28713a9935a5)here is another example:

Red \[Needs: 'View]

Scr: [ size 350x250  
pad 5x5  
proRed: progress 100x200 red data 0.5 rate 3 on-time \[either random 2 = 1 \[push\_up proRed] \[push\_dn proRed]]  
proGre: progress 100x200 green data 0.5 rate 3 on-time \[either random 2 = 1 \[push\_up proGre] \[push\_dn proGre]]  
proBlu: progress 100x200 blue data 0.5 rate 3 on-time \[either random 2 = 1 \[push\_up proBlu] \[push\_dn proBlu]]  
return]

push\_up: func \[prg] \[if prg/data &lt; 100 \[prg/data: prg/data + 0.01]]  
push\_dn: func \[prg] \[if prg/data &gt; 0.0 \[prg/data: prg/data - 0.01]]

view/no-wait Scr

toomasv

[12:10](#msg5a8abea4888332ee3aa29015)@planetsizecpu :+1: Seems that colors are not showing up in W10. All are green. (Can also use `random true` or `random false`)

Phryxe

[12:11](#msg5a8abed8c3c5f8b90dd73d18)@planetsizecpu All green also on Win 7.

planetsizecpu

[12:19](#msg5a8ac0b8e4ff28713a999501)I know that, seems colours are locked for a while due to red/view works  
@toomasv Thx! I will test true/false values

[12:22](#msg5a8ac17dc3c5f8b90dd74f21)Also I haven't defined `func [prg] ...` as object!, but it seems red know what I wanted :clap: bravo for red!

toomasv

[12:37](#msg5a8ac4efc3c5f8b90dd76871)@planetsizecpu But `prg` argument refers to object.

[12:39](#msg5a8ac5776fba1a703a70a7b9)@rebolek Beautifully simple!

planetsizecpu

[12:42](#msg5a8ac61be4ff28713a99bcea)This is one of the things that I like about red, kindness, no need to specify everithing.

rebolek

[12:44](#msg5a8ac6a335dd17022ec521a7)@toomasv thanks, I believe it can be improved and made much more complicated ;)

Phryxe

[14:14](#msg5a8adbc6e4ff28713a9a644f)I'd like to see a minimal `draw` animation, plz. Thnx. :astonished:

rebolek

[14:19](#msg5a8add028f1c77ef3a28fb01)@Phryxe here you go:

```
Red[]

view [
    style anim: base 100x100 
        on-create [
            face/rate: 12
            face/extra: 0
        ]
        on-time [
            face/draw/3: face/draw/2 + as-pair 50 * cosine face/extra 50 * sine face/extra
            face/extra: face/extra + 5 // 360
        ]
    anim draw [line 50x50 0x50]
]
```

Phryxe

[14:21](#msg5a8add52c3c5f8b90dd82844)@rebolek :thumbsup:

toomasv

[14:23](#msg5a8addf0888332ee3aa37caf)

```
view [
   box 200x200 rate 10 
   on-time [square/2: square/2 + 1] 
   draw [square: rotate 0 100x100 [fill-pen brick box 50x50 150x150]]
]
```

Phryxe

[14:26](#msg5a8ade91c3c5f8b90dd830ee)@toomasv :clap: Thank you both. Now I have something to study.

toomasv

[14:26](#msg5a8adea26fba1a703a715c99)@Phryxe You are welcome!

dsgeyser

[19:27](#msg5a8b253635dd17022ec7df52)@rebolek @toomasv @planetsizecpu Many thanks. Need to play with the examples. Came home late.

toomasv

[19:29](#msg5a8b25ab53c1dbb7434d5399)One more:  
!\[flower](http://vooglaid.ee/red/animation5.gif)

greggirwin

[19:48](#msg5a8b2a290202dc012e58fddc)@toomasv &lt;he he&gt;. That's fun. Thanks to @rebolek and @planetsizecpu as well, for nice examples.

toomasv

[20:04](#msg5a8b2dbe888332ee3aa5a4de)Oops! Forgot code :flushed:

```
system/view/auto-sync?: off
t: 0
view/tight [
	box 200x200 all-over cursor hand 
	draw [crv: curve 100x50 100x125 100x200 flr: translate 0x0 [rotate 0 100x50 fill-pen red polygon 100x50 95x48 90x35 97x40 100x30 103x40 110x35 105x48]]
	all-over 
	on-down [
		face/rate: none
		show face
	]
	on-over [
		if event/down? [
			crv/2: event/offset 
			flr/2: event/offset - 100x50 ;
			diff: crv/2 - crv/3
			flr/3/2: 180 / pi * (arctangent2 diff/y diff/x) + 90
		] 
		show face
	] 
	on-up [
		d: 100x50 - crv/2 
		dst: max absolute d/x absolute d/y
		face/rate: 25 show face
	] 
	on-time [
		t: t + 1
		d: 100x50 - crv/2
		crv/2/x: crv/2/x + round/to d/x / to-float dst 1
		crv/2/y: crv/2/y + round/to d/y / to-float dst 1
		flr/2/x: flr/2/x + round/to d/x / to-float dst 1
		flr/2/y: flr/2/y + round/to d/y / to-float dst 1
		diff: crv/2 - crv/3
		flr/3/2: 180 / pi * (arctangent2 diff/y diff/x) + 90
		dst: dst - 1
		if dst = 0 [face/rate: none]
		show face
	]
]
```

## Tuesday 20th February, 2018

snotbubble

[00:17](#msg5a8b691be4ff28713a9de2f5)how to do this:

```
idx: to-integer! reduce atextlist/selected
```

I'm getting idx = to-integer!  
or none! if doing reduce only

[02:30](#msg5a8b88298f1c77ef3a2cd631)having a problem where 2 blocks are becoming entangled somehow,  
block somedata contains the raw data,  
block rd is for display in a list.  
When I pad the display data the source data is also padded...

```
Red []

rd: copy []

renderdata: function [d] [
	clear rd
	foreach i d [
		append rd rejoin [
			pad i/1 10
			pad i/2 5
			pad i/3 5
		]
	]
]

somedata: [["one" "32" "xx"] ["two" "23" "ee"]]
print["^/data before render:^/"somedata]
probe somedata
print["^/padding data..."]
renderdata somedata
print["^/render:^/"rd]
probe rd
print["^/corrupted data after render:^/"somedata]
probe somedata
```

[02:48](#msg5a8b8c61a2194eb80d88c228)nvm. copy/deep

```
Red []
rd: copy []
renderdata: function [d] [
	o: []
	foreach i d [
		append o rejoin [
			pad i/1 10
			pad i/2 5
			pad i/3 5
		]
	]
	o
]
somedata: [["one" "32" "xx"] ["two" "23" "ee"]]
print["^/data before render:^/"somedata]
probe somedata
print["^/padding data..."]
clear rd
copyofdata: copy/deep somedata
rd: renderdata copyofdata
print["^/render:^/"rd]
probe rd
print["^/data after render:^/"somedata]
probe somedata
```

9214

[03:08](#msg5a8b912fc3c5f8b90ddc4898)@snotbubble either `to-integer` or `to integer!`

greggirwin

[03:11](#msg5a8b91ca6fba1a703a756aea)@snotbubble, gets everybody at times. If you haven't seen it, https://github.com/red/red/wiki/Why-do-I-have-to-copy-series-values%3F is a great explanation.

snotbubble

[04:45](#msg5a8ba8066fba1a703a75c420)@9214 got it thanks!

ralfwenske

[05:47](#msg5a8bb674a2194eb80d896ca7)@Ungaretti @9214 @PeterWAWood Thanks for helping and also #3227  
btw I like `load "4.2"` even better.

abdllhygt

[08:15](#msg5a8bd9248f1c77ef3a2e3d97)hi!

[08:16](#msg5a8bd96f53c1dbb74350b393)I have a problem about installing red on my new os (elementary os)

[08:20](#msg5a8bda570202dc012e5c5707)

```
error while loading shared libraries: libcurl.so.4:
 cannot open shared object file: No such file or directory
```

rebolek

[08:28](#msg5a8bdc23888332ee3aa8e072)You need to install curl

abdllhygt

[08:30](#msg5a8bdcbc0202dc012e5c63c6)i have curl but i use x64

9214

[08:35](#msg5a8bdde535dd17022ecb6130)@abdllhygt http://www.red-lang.org/p/download.html

[08:36](#msg5a8bddfb53c1dbb74350cfc5)read instructions below "Download" section

rebolek

[08:37](#msg5a8bde33c3c5f8b90dddb3e6)You need to install 32 libs, see @9214 's link

abdllhygt

[08:37](#msg5a8bde51c3c5f8b90dddb4ba)i look now, and fixed, thanks @9214 @rebolek

planetsizecpu

[09:31](#msg5a8beb02a2194eb80d8a77c9)@greggirwin I have read this wiki at least five times in the past, every one you make me feel newbie in red, so probably I am :)

snotbubble

[09:43](#msg5a8bedcc8f1c77ef3a2eb410)getting this error:

```
Compilation Error: Windows target requires View module (`Needs: View` in the header)
```

but have the header:

```
Red [needs 'view]
```

Am I missing any additional files?

9214

[09:44](#msg5a8bede1e4ff28713aa050a3)@snotbubble read error message \*\*really\** carefully

snotbubble

[09:45](#msg5a8bee370202dc012e5cc2ae)@9214 k thanks allgood, was reading help here: https://ungaretti.gitbooks.io/red-language-notebook/content/hello-world-run-and-compile.html

[09:47](#msg5a8beea153c1dbb743512db5)what difference does the ' make in this case?

9214

[09:47](#msg5a8beea635dd17022ecbc005)@snotbubble what is needed

```
Red [needs: 'view] ; or Red [Needs: View], [needs: view], etc
```

what you have

```
Red [needs 'view]
```

[09:47](#msg5a8beebe6f8b4b9946997b87)`'` makes no difference AFAIK

snotbubble

[09:50](#msg5a8bef628f1c77ef3a2ebc83)lol win10 thinks the exe is a trojan, is this normal?

9214

[09:51](#msg5a8bef8d0202dc012e5cc993)it's a common rite of passage, to fight with poorly tuned AV software either for your compiled exe or for Red toolchain itself ;)

[09:52](#msg5a8beff8c3c5f8b90dde1682)you probably should flag it as false-positive and send a report to vendor

[09:53](#msg5a8bf013c3c5f8b90dde1769)in the worst case scenario just exclude your working directory from antivirus scanning

snotbubble

[10:05](#msg5a8bf2cdc3c5f8b90dde28c7)getting this error when running the exe via cmd:

```
*** Runtime Error : access violation
*** at: h
```

what tools/process should I use to to find out what went wrong?

9214

[10:06](#msg5a8bf3246f8b4b99469993b5)@snotbubble compile with `-d` flag and `probe` places where error occurs, output should be displayed in shell window after compilation

[10:07](#msg5a8bf3440202dc012e5ce0a2)or try to compile with `-e` flag and see if problem disappears

snotbubble

[10:12](#msg5a8bf4a235dd17022ecbdfb1)@9214 thanks got it: had an uncommented probe, allgood now.

9214

[10:13](#msg5a8bf4cbe4ff28713aa07d6a)@snotbubble you should fill a ticket on issue tracker if possible, I don't think access violation should happen because of that

snotbubble

[10:20](#msg5a8bf65f0202dc012e5cf15d)@9214 ok sent.

[10:23](#msg5a8bf71c8f1c77ef3a2ee74a)Is there any way to speed up the text-list? I'm getting lag with mousewheel scrolling, but no lag when dragging the scrollbar.

9214

[10:24](#msg5a8bf772a2194eb80d8ac131)I'm not aware of any such ways, maybe @qtxie or @greggirwin can say something if they have time

JohnPeoplefox

[13:26](#msg5a8c221e8f1c77ef3a2fe0e8)first attempt at Red/System, trying to display a message box. here is the code

```
Red/System []

#import [
   "user32.dll" stdcall [
       msgbox: "MessageBox" [
           hwnd [integer!]
           text [c-string!]
           caption [c-string!]
           type [integer!]
           return: [byte!]
       ]
   ]
]


msgbox 0 "Hello" "Welcome" 1
```

The error message is

dates.exe - Entry Point Not Found  
The procedure entry point MessageBox could not be located in the dynamic link library C:\\red\\toolchain\\red\\dates.exe.  
OK

Of course, I have no idea what I'm doing :-(

PeterWAWood

[14:07](#msg5a8c2baf53c1dbb743528d9e)@JohnPeoplefox The name of the MS Function should be MessageBoxA to use the ANSI version or MessageBoxW to use the Unicode (UTF-16 version).

Your code above will work if the use MessageBoxA.

JohnPeoplefox

[14:59](#msg5a8c37ba888332ee3aab1069)@PeterWAWood oh thanks, much appreciated

greggirwin

[18:54](#msg5a8c6ed70202dc012e601fff):point\_up: \[February 20, 2018 3:20 AM](https://gitter.im/red/help?at=5a8bf65f0202dc012e5cf15d) @snotbubble, how many items in the list? I just tested with 1'000 items and mouse scrolling is fast.

[18:56](#msg5a8c6f7b0202dc012e6025a4):point\_up: \[February 20, 2018 2:31 AM](https://gitter.im/red/help?at=5a8beb02a2194eb80d8a77c9) @planetsizecpu, there are still times when I am coding away and realize I've forgotten how Red really works, because it's so well hidden. Then I hit a bit where I think "this should be easier", and remember.

snotbubble

[23:24](#msg5a8cae33e4ff28713aa52c32)@greggirwin might be a system setting in win10, will check...  
ok no lag when scroll is set to 1 page at a time, lags when set to x lines at a time. Probably a win10 feature.

## Wednesday 21st February, 2018

snotbubble

[00:00](#msg5a8cb68aa2194eb80d8f9ef6)is there a way to read/write to tab-panel tab text?  
tried this with no luck

```
tab-panel/pane/1/text
```

rebolek

[00:06](#msg5a8cb803c3c5f8b90de33373)@snotbubble `view [t: tab-panel ["a" [button "change"[t/data/1: "bflm"]]]]`

snotbubble

[00:11](#msg5a8cb9446f8b4b99469e7b54)@rebolek got it thanks!

[00:13](#msg5a8cb99b6f8b4b99469e7c73)what's the best way to construct strings like this?

```
"item count is " + to-string length? somedata + " items."
```

dander

[00:20](#msg5a8cbb37888332ee3aae6ace)@snotbubble `rejoin ["item count is " length? somedata " items."]`

[00:21](#msg5a8cbb7ee4ff28713aa565ad)`rejoin` stands for "reduce and join", so everything in the block is evaluated then joined together

snotbubble

[00:22](#msg5a8cbbbb6fba1a703a7c4401)@dander thanks, so no need for to-string...

[01:49](#msg5a8cd00d888332ee3aaec43b)is there a way to change a drop-list selection (via code) without triggering its on-change event?

toomasv

[04:20](#msg5a8cf39835dd17022ed1d2eb)@snotbubble

```
>> view/no-wait [
   drp: drop-list data ["one" "two" "three"] select 1 
      [sel/text: pick face/data face/selected] 
   text 50x20 "Selected:" 
   sel: text with [text: pick drp/data drp/selected]
]
== make object! [ ...
>> drp/selected: 2
== 2
>> drp/selected: 3
== 3
```

!\[drop-list](http://vooglaid.ee/red/example1.gif)

snotbubble

[06:55](#msg5a8d17f635dd17022ed279f6)@toomasv Thanks Toomas,  
having trouble translating it to what I'm doing:

Selecting from a list changes faces below it (getdata),  
Changing the faces below changes the data (setdata),  
Changing the data updates the list (renderdata).  
Setdata and renderdata are being needlessly triggered by getdata.  
(sorry for long example)

```
Red [needs: view]

renderdata: function [] [
	print["        renderdata: ... "]
	o: copy []
	foreach r sampledata [
		rr: copy/deep r
		append o rejoin [
			pad rr/1 10
			pad rr/2 10
			pad rr/3 10
		]
	]
	o
]

getdata: function [d x] [
	print["    getdata [d x]:" d x]
	huh: (pick d x)
	tf/text: huh/1
	td/selected: index? find fndata huh/2
]

setdata: function [x t f] [
	print["    setdata [x t f]:" x t f]
	sampledata/(reduce x)/1: tf/text
	sampledata/(reduce x)/2: fndata/(reduce f)
	rendereddata: renderdata
	tl/data: rendereddata
]

sampledata: [["one" "fn1" "100"] ["two" "fn2" "200"] ["three" "fn3" "300"]]
fndata: ["fn1" "fn2" "fn3"]
rendereddata: renderdata

view [
	Title "test"
	across
	text "tl" 20x20 right
	tl: text-list data rendereddata
	on-change[print["tl on-change triggered..."]
		getdata sampledata (reduce tl/selected)
	]
	return
	text "tf" 20x20 right
	tf: field
	on-change[print["tf on-change triggered..."]
		setdata (reduce tl/selected) tf/text (reduce td/selected)
	]
	return
	text "td" 20x20 right
	td: drop-list data fndata select 1
	on-change[print["td on-change triggered..."]
		setdata (reduce tl/selected) tf/text (reduce td/selected)
	]
]
```

toomasv

[07:44](#msg5a8d2343e4ff28713aa72790)@snotbubble  
1\. Selecting item in `tl` triggers its `on-change`  
2\. `tl`'s `on-change` calls `getdata`  
2\. `getdata` changes `tf/text`  
3\. Changing `tf/text` triggers `on-change` for `tf`  
4\. `tf`'s `on-change` calls `setdata`  
5\. `setdata` sets both first and second field of selected `sampledata`  
6\. Only then `td/selected`is set in `getdata`, i.e. already changed data.

I suggest to split `setdata` into two -- one for `tf`the other for `td` and call them separately in respective `on-change`actions.

(Also, I think you can use simpler syntax instead of parens, e.g. `sampledata/:x/2: fndata/:f` instead of `sampledata/(reduce x)/2: fndata/(reduce f)` and just `getdata sampledata tl/selected` instead of `getdata sampledata (reduce tl/selected)`)

snotbubble

[08:06](#msg5a8d288d6f8b4b9946a06c61)@toomasv got it:

```
tl: text-list data rendereddata
    on-change[
    amsetting: False
    getdatafor sampledata (reduce tl/selected)
    amsetting: True
]
```

then put everything inside `if amsetting [...` in `setdata`...  
Thanks for syntax suggestions, still very new to Red so appreciate it!

toomasv

[08:07](#msg5a8d28d3888332ee3ab0574c):+1:

loziniak

[12:28](#msg5a8d65fc0202dc012e6555bc)

```
Red []

test: function [
	callback [function!]
][
	callback 12
]

f: function [
	param [integer!]
][
	print ["param: " param]
]

test :f
```

i have no idea why it's not working. do you?

[12:38](#msg5a8d68376fba1a703a7fca81)to be more specific (i discovered it just now): it's working with interpreter (`>> do %code.red`), but not when compiled (`red -c -o code code.red`)

rebolek

[12:45](#msg5a8d69d00202dc012e656e02)it's too dynamic for compiler, I guess. Try changing it to `do [callback 12]` or `do reduce [callback 12]`.

loziniak

[12:47](#msg5a8d6a73c3c5f8b90de6cf2a)`do [callback 12]` worked. weird stuff :-)

rebolek

[12:48](#msg5a8d6a896f8b4b9946a20934)`do` switches to interpreter

loziniak

[12:49](#msg5a8d6adf888332ee3ab1eb71)doesn't switching to interpreter make some performance penalty?

rebolek

[12:50](#msg5a8d6b016fba1a703a7fdf9a)that's the price of the dynamic code

[12:50](#msg5a8d6b27c3c5f8b90de6d39e)anyway, if you're not doing some critical computations (and you probably would switch to R/S anyway) then I don't think it's a problem

loziniak

[12:52](#msg5a8d6b716fba1a703a7fe2aa)sure, because callbacks are used mostly in time-costly operations anyway

[12:53](#msg5a8d6bc3e4ff28713aa8f0f1)but a little error message could be helpful in understanding what's going on.

rebolek

[12:53](#msg5a8d6bda53c1dbb74359d368)what does the compiler says

loziniak

[12:54](#msg5a8d6bf953c1dbb74359d40b)nothing, everything seems fine. just nothing is printed when I call `./code`

rebolek

[12:54](#msg5a8d6c1935dd17022ed48925)oh

ghost~5680c5f416b6c7089cc058a5

[13:14](#msg5a8d70cfe4ff28713aa91609)This issue should be solved and compiler would be able to run the code as it is whenever the dyn-stack branch is finished and merged to master.

[13:16](#msg5a8d71176f8b4b9946a232fb)A bit of performance penalty would still be there I think. But performance will increase with an optimizing backend and JIT which are scheduled after 1.0

loziniak

[22:08](#msg5a8dedc86f8b4b9946a55e3e)Guys, now i'm trying to figure out how to return data from red/system to red. I have an external library which uses callbacks, so I need a way to convert arguments between Red and R/S. Is it easier to construct `red-object!` in R/S or maybe `red-binary!` is simpler to construct in R/S, and then could be decoded in Red into an object?

rebolek

[22:11](#msg5a8dee7e888332ee3ab54040)@loziniak I would construct `red-object!` at R/S level, but I'm afraid there are no docs, you should take a look at Red sources, how it's done.

loziniak

[22:13](#msg5a8def1d8f1c77ef3a3a9fb6)I'm trying to, but there is so much going on there, hard to figure it out.

[22:17](#msg5a8df002a2194eb80d96bb4e)for example - is \*ctx* in red-object! definition a pointer to red-context! or a r/s context?

rebolek

[22:19](#msg5a8df055a2194eb80d96bcc8)I guess red context, there are no contexts in r/s

[22:19](#msg5a8df0756f8b4b9946a56cf9)I haven't worked with r/s for some time,

loziniak

[22:20](#msg5a8df09b6fba1a703a83649e)there are namespaces: http://static.red-lang.org/red-system-specs.html#section-7.3

rebolek

[22:21](#msg5a8df101a2194eb80d96c01d)right, but they not contexts, so I think it's pointer to red context

loziniak

[22:28](#msg5a8df2990202dc012e690c24)ok

rebolek

[22:42](#msg5a8df5d053c1dbb7435d49f6)I haven't used r/s for some time, so I can't be of more help, sorry

## Thursday 22nd February, 2018

snotbubble

[01:50](#msg5a8e21f20202dc012e69ea58)just ran into the libcurl error on linux, before I install it: why is it required for a red program that doesn't access the internet ?

ne1uno

[05:04](#msg5a8e4f4e888332ee3ab6ea49)guessing it's hard to know if a program will use net access

[05:04](#msg5a8e4f6335dd17022ed9ab29)sounds like a good option to turn off the requirement though

snotbubble

[05:27](#msg5a8e54dca2194eb80d98890d)tab-panel/selected is returning the previous selection in its event, regardless of on-change or on-select. Is there a way to get the currently selected tab?

9214

[07:17](#msg5a8e6ea6a2194eb80d990cc2)@snotbubble rtfm https://doc.red-lang.org/en/view.html#\_tab\_panel

snotbubble

[07:43](#msg5a8e74b8c3c5f8b90decbaeb)`Occurs when user selects a new tab. event/picked holds the index of the newly selected tab. selected property is updated just after this event.`  
so selected update is just laggy? is there a timer on it?

rebolek

[07:44](#msg5a8e74d16f8b4b9946a7d76f)Not laggy.

[07:44](#msg5a8e74e235dd17022eda6718)The value is the during the lifetime of the event.

[07:45](#msg5a8e75140202dc012e6b6545)So you can have access to both old and new value.

9214

[07:45](#msg5a8e75300202dc012e6b65a3)&gt; `event/picked` holds the index of the \*\*newly selected tab\**

@snotbubble is that what you want?

snotbubble

[07:47](#msg5a8e75ada2194eb80d9934cb)

```
*** Script Error: cannot access event in path tp/event/picked
```

where tp is the tab-panel

rebolek

[07:48](#msg5a8e75e1888332ee3ab7ad28)just `event/picked`

9214

[07:48](#msg5a8e75e2888332ee3ab7ad2c)it's not the facet, you should use `even/picked` inside block

snotbubble

[07:49](#msg5a8e7618a2194eb80d9936a8)works thanks!

greggirwin

[08:17](#msg5a8e7c826f8b4b9946a7fe99):point\_up: \[February 21, 2018 6:50 PM](https://gitter.im/red/help?at=5a8e21f20202dc012e69ea58)  
&gt; just ran into the libcurl error on linux, before I install it: why is it required for a red program that doesn't access the internet ?

We don't have modular compilation yet.

JohnPeoplefox

[12:04](#msg5a8eb1e2a2194eb80d9aa1f2)ok, here's my first experiment with Red/View. It's just a few blocks scrolling up and down. I'd appreciate any comments on the code

```
Red [needs: 'view]


scroll: function [square] [

    pos: square/offset/y
  
    switch pos [
        280 [square/data: "up"]    
        1 [square/data: "down"]
    ]
    
    switch square/data [
        "down" [square/offset: square/offset + 0x1]
        "up" [square/offset: square/offset - 0x1] 
    ]    

]

view [
    
    panel 150x300 [
    
        across
    
        a: base 20x20 green data "down" rate 20
            on-time [scroll a]
            
        b: base 20x20 blue data "down" rate 40
            on-time [scroll b]            
            
        c: base 20x20 red data "down" rate 60
            on-time [scroll c]            

        d: base 20x20 yellow data "down" rate 80
            on-time [scroll d]  

        e: base 20x20 gray data "down" rate 100
            on-time [scroll e]  
            
    ]
]
```

rebolek

[12:18](#msg5a8eb50753c1dbb74360fa89)@JohnPeoplefox nice!

JohnPeoplefox

[12:19](#msg5a8eb5500202dc012e6cecc8)@rebolek Thanks!

rebolek

[12:19](#msg5a8eb55e8f1c77ef3a3e8333)you can simplify the code a bit, like for example:

```
square/data: switch pos [
        280 ["up"]    
        1 ["down"]
    ]

    square/offset: square/offset +  switch square/data [
        "down" [0x1]
        "up" [0x-1] 
    ]
```

[12:22](#msg5a8eb61f888332ee3ab92baf)Also, you can write your own style to make thing simpler a bit:

```
Red [needs: 'view]


scroll: function [square] [

    pos: square/offset/y

    switch pos [
        280 [square/data: "up"]    
        1 [square/data: "down"]
    ]

    switch square/data [
        "down" [square/offset: square/offset + 0x1]
        "up" [square/offset: square/offset - 0x1] 
    ]    

]

view [
    panel 150x300 [
        style mybox: base 20x20 green data "down" rate 20
            on-time [scroll face]

        across
        mybox green rate 20
        mybox blue rate 40
        mybox red rate 60
        mybox yellow rate 80
        mybox gray rate 100
    ]
]
```

9214

[12:23](#msg5a8eb643c3c5f8b90dee4fcd)@JohnPeoplefox WIP factored version

```
Red [
    Title: "Simple animation"
    Author: @JohnPeoplefox
    Needs:  View
]

scroll: function [square][
    square/data: any [
        select [280 "up" 1 "down"] square/offset/y
        square/data
    ]

    switch square/data [
        "down" [square/offset: square/offset + 0x1]
        "up" [square/offset: square/offset - 0x1] 
    ]    

]

view [
    size 160x300
    style box: base 20x20 data "down" on-time [scroll face]

    box green rate 20
    box blue rate 40        
    box red rate 60          
    box yellow rate 80
    box gray rate 100
]
```

[12:23](#msg5a8eb657888332ee3ab92e3a)I'd also generated `box ...` stuff

JohnPeoplefox

[12:34](#msg5a8eb8ca53c1dbb743611462)oh great, thanks all!

9214

[12:45](#msg5a8ebb7e53c1dbb743612311)

```
text
Red [
    Title: "Simple animation"
    Author: @JohnPeoplefox
    Needs:  View
]

scroll: func [box][
    box/data: any [
        select [280 up 1 down] box/offset/y
        box/data
    ]

    box/offset: switch box/data [
        down [box/offset: box/offset + 0x1]
        up   [box/offset: box/offset - 0x1] 
    ]    

]

colors: [green blue red yellow gray]
canvas: [
    size 160x300
    style box: base 20x20 data 'down on-time [scroll face]
]
boxes: collect [
    r: 0
    forall colors [
        keep reduce ['box colors/1 'rate r: r + 10]
    ]
]

view append canvas boxes
```

rebolek

[12:48](#msg5a8ebc1153c1dbb743612994):+1:

JohnPeoplefox

[12:49](#msg5a8ebc3e888332ee3ab9524c)Thanks, I'll have to experiment with it

9214

[18:33](#msg5a8f0d088f1c77ef3a40d41f)is it possible to search for a given `object!` by its class identifier?

```
>> class-of object []
== 1000003
```

rebolek

[18:36](#msg5a8f0dcbe4ff28713ab2dbf6)How did you even find this stuff.... I was working on some unique identifier of object for my ultramold and well, it exists.

9214

[18:39](#msg5a8f0e54a2194eb80d9d1cb6)@rebolek I'm not sure that it should be used that way, it's a WIP feature of ownership system

[18:39](#msg5a8f0e6653c1dbb7436361b9)just had a little idea for esolang, or rather esodialect

rebolek

[18:39](#msg5a8f0e76c3c5f8b90df0b606)Hah, cheating

```
>> class-of system/words
== -1
```

You can't expand objects, unless you are the author of the language.

9214

[19:10](#msg5a8f15bc35dd17022ede88ff)@rebolek was it addressed to me?

rebolek

[19:54](#msg5a8f1ffee4ff28713ab354b3)@9214 no, just general observations

[19:58](#msg5a8f20e46f8b4b9946ac1bfc)or was it you who made object non-extensible? :)

loziniak

[21:11](#msg5a8f31ecc3c5f8b90df18f33)Hey, guys. I'm back with another problem.

```
Red []

test1: function [
	num [integer!]
	cb_arg [function! [param [integer!]]]
][
	cb: function [
		param [integer!]
	][
		do [cb_arg param]
	]

	#system [
		print "function "
		#call [cb 12]
;		print num ;; *** Compilation Error: "undefined symbol: num"
	]

]

test2_r: routine [
	num [integer!]
	cb [function! [param [integer!]]]
][
	print "routine "
;	#call [cb 14] ;; *** Compilation Error: "invalid #call function name: cb"
	print num
]

f: function [
	param [integer!]
][
	print ["param: " param]
]

test1 66 :f
```

[21:12](#msg5a8f325735dd17022edf3e29)i'd like to do both things: call a function and access an argument . is it possible?

greggirwin

[22:02](#msg5a8f3df2888332ee3abca374)@JohnPeoplefox nice!

[22:03](#msg5a8f3e146f8b4b9946acc848)And welcome to the great Red optimizer, where distributed wetware comes to play.

[22:05](#msg5a8f3e908f1c77ef3a420463)@loziniak, the first thing I see is that `[function! [param [integer!]]]` isn't valid in a Red func spec. That is you can't, currently, match on a func arg's spec that way.

[22:08](#msg5a8f3f5cc3c5f8b90df1de0c)Is test2\_r there for a reason? Does't appear to be used.

[22:13](#msg5a8f409c35dd17022edf9787)I'm happy to be corrected but I also think that your `num` compilation error is because `#system` doesn't magically know the Red func arg names.

## Friday 23th February, 2018

virtualAlan

[00:39](#msg5a8f62cb6fba1a703a8ba8b1)Hi, had a message on my site asking how to get a Licence key for Rebol SDK 278-3-1- can anyone help ?

greggirwin

[03:56](#msg5a8f90eb8f1c77ef3a436d37)They no longer sell license keys, but we want to find a general solution that will help more people build Red on their own. Nothing set yet, but it's a goal.

ne1uno

[07:40](#msg5a8fc57b35dd17022ee1de9b)the red build without sdk/keys does not work correctly?

rebolek

[07:43](#msg5a8fc61cc3c5f8b90df4454f)It does, you just need SDK keys to build Red exe (not to use compiler, compiler works perfectly fine without keys).

9214

[07:44](#msg5a8fc6486fba1a703a8d487e)Red toolchain contains encapped Rebol interpreter, and it's possible to embed it only with SDK

rebolek

[07:45](#msg5a8fc6848f1c77ef3a445d1b)I have SDK key, but never used it for building Red, compiler is good enough for me.

ne1uno

[08:05](#msg5a8fcb39a2194eb80da0d2a8)still sounds like a no, it doesn't work correctly

9214

[08:06](#msg5a8fcb70e4ff28713ab694e6)@ne1uno what do you mean by "doesn't work correctly"?

[08:06](#msg5a8fcb7553c1dbb74366f45a)`-c` bug?

ne1uno

[08:07](#msg5a8fcbbf8f1c77ef3a44766e)if I can't embed the rebol interpreter what I build is not the same as the official distribution somehow? and how could it not matter?

rebolek

[08:08](#msg5a8fcbec888332ee3abf1efb)It depends on what you're trying to achieve. Do you really need Rebol interpreter embedded in your build?

9214

[08:08](#msg5a8fcbfe6fba1a703a8d67e8)Why should it matter? You have all functionality that Red toolchain provides even without encapped Rebol

[08:08](#msg5a8fcc10e4ff28713ab6976a)ah, wait

ne1uno

[08:08](#msg5a8fcc11888332ee3abf1f94)I noticed someone mention the sdk on the arch download page linked from the red download page. it's probably confusing people there too

9214

[08:09](#msg5a8fcc1f6f8b4b9946af4156)@ne1uno you're building your Red from source, right?

[08:09](#msg5a8fcc24c3c5f8b90df467e9)and then you get cryptic `-c` error?

ne1uno

[08:09](#msg5a8fcc3fe4ff28713ab69882)yes. and it seems to work ok except for commandline processing

9214

[08:09](#msg5a8fcc49888332ee3abf20b0)that explains everything I suppose

[08:10](#msg5a8fcc5ae4ff28713ab6994f)since you can't embed Rebol, and current compiler is written in R2, you can't compile your scripts

[08:10](#msg5a8fcc69888332ee3abf21c2)so you need to stick with official builds

ne1uno

[08:10](#msg5a8fcc6c53c1dbb74366fa25)they custom build on the arch page is also getting the error. so I guess we have the problem

9214

[08:11](#msg5a8fcc976f8b4b9946af4339)yes, because whoever ships this custom builds doesn't have SDK key and can't embed Rebol inside toolchain executable

ne1uno

[08:11](#msg5a8fcc988f1c77ef3a447a10)I ran a linux vm with a nightly the other day and that worked ok. cross compiling an exe

9214

[08:11](#msg5a8fccbe53c1dbb74366fb60)@ne1uno I encourage you to check if compilation works with \*official* build on Win7

ne1uno

[08:12](#msg5a8fccdbe4ff28713ab69bb7)it's not only compiling, even --help fails

9214

[08:12](#msg5a8fccdc8f1c77ef3a447b81)if what I've said is correct, then everything should work out of the box

[08:12](#msg5a8fcd0253c1dbb74366fd4d)yes, because embedded R2 is called whenever you invoke toolchain with command line argument

ne1uno

[08:12](#msg5a8fcd06888332ee3abf249f)one of the nightly will probably work ok. thanks for the answers

9214

[08:12](#msg5a8fcd086fba1a703a8d6d42)no Rebol - no functionality

ne1uno

[08:13](#msg5a8fcd2f6fba1a703a8d6e35)have to find a better way to explain it on the download page. it mentions building red but doesn't tell you there will be consequences

9214

[08:14](#msg5a8fcd4d8f1c77ef3a447d5d)we probably need to document this in readme and come up with more adequate solution for custom builds

[08:14](#msg5a8fcd5153c1dbb74366feff)@ne1uno yes

ne1uno

[08:40](#msg5a8fd39635dd17022ee22bef)wonder now why lepinekong\_twitter was getting the args error? I don't think he has custom built red. maybe something in his commandline was off?

9214

[08:41](#msg5a8fd3b68f1c77ef3a44aa7b)@ne1uno IIRC he mentioned that he used some custom cmd shell

ne1uno

[08:49](#msg5a8fd58ae4ff28713ab6d239)ok, I thought I remembered he was averse to custom build

[08:51](#msg5a8fd5ff53c1dbb74367311b)with nightly -c -t windows just makes a dll, -c -t msdos create an exe but it's not working well, prints a bunch of gibberish and then access violation. this is way harder than you all make it look

9214

[08:51](#msg5a8fd62b6fba1a703a8da0da)makes a dll..?

ne1uno

[08:52](#msg5a8fd64e53c1dbb7436733a8)the exe built from the same day linux nightly worked ok

9214

[08:53](#msg5a8fd673a2194eb80da11652)what about `-r` flag?

ne1uno

[08:53](#msg5a8fd68153c1dbb743673476)no executable, just the dll and calling code. -t Windows, I guess that is a shared lib?

9214

[08:53](#msg5a8fd6956f8b4b9946af8646)are you talking about libRed dll?

ne1uno

[08:54](#msg5a8fd6c08f1c77ef3a44bca7)libRedRT.dll defs &amp; include too.

9214

[08:55](#msg5a8fd704888332ee3abf5e4d)I recall that there was some cryptic Draw-related error during compilation on Linux, even though I just compiled empty script

ne1uno

[09:01](#msg5a8fd859888332ee3abf64b9)was that wine? I have better luck with utf8 encoding, anything but pure aschiii in the file gave me an error, copy &amp; paste from anywhere these days is likely not 100% aschii

[09:04](#msg5a8fd92c6fba1a703a8db1dc)I had verbose 3 when I compiled -t windows, way too much output for the scrollback. maybe there was an error I missed why it didn't make an executable

9214

[09:05](#msg5a8fd952a2194eb80da1238d)no, IIRC I didn't use Wine

[09:06](#msg5a8fd9780202dc012e73583a)try `-r` and `-r -e` flags

ne1uno

[09:08](#msg5a8fda04c3c5f8b90df4bbbf)using -r, there was an error, windows target needs view. I may have had a dll in that dir already and it just rebuilt it using -c

9214

[09:08](#msg5a8fda2135dd17022ee254b3)extend your script header to `Red [Needs: View]`

ne1uno

[09:09](#msg5a8fda340202dc012e735d04)not 'view

9214

[09:10](#msg5a8fda7535dd17022ee25782)there's no difference

ne1uno

[09:15](#msg5a8fdbac8f1c77ef3a44d86e)I think rocket science is simpler

[09:16](#msg5a8fdbd953c1dbb743674f49)-r makes a windows exe but it doesn't do anything when run

9214

[09:16](#msg5a8fdbec53c1dbb743674f91)and what should it do?

ne1uno

[09:21](#msg5a8fdd03a2194eb80da1385a)print, just tried it again, no errors in the compile but bad exe. probably someone else would have noticed a problem by now. this was a nightly from a few days ago

[09:28](#msg5a8fdea08f1c77ef3a44e75f) -t msdos or -t windows produces corrupt exe but without -t the msdos exe seems to be ok

9214

[09:31](#msg5a8fdf8a8f1c77ef3a44edd8)@ne1uno https://github.com/red/red/issues/3221

ne1uno

[09:33](#msg5a8fdfd835dd17022ee277ed)thanks, missed that one

9214

[09:33](#msg5a8fdfe7a2194eb80da148f7)try something like `view [text "test"]` instead

ne1uno

[09:34](#msg5a8fe035c3c5f8b90df4dd46)how does that travis tester or whatever not catch this? wouldn't tests break right away?

9214

[09:36](#msg5a8fe0986f8b4b9946afc23c)If I'm not mistaken, most tests target interpreter, not compiler

rebolek

[09:36](#msg5a8fe0b10202dc012e738772)they should target both, IIRC

9214

[09:37](#msg5a8fe0f26f8b4b9946afc438)@PeterWAWood ? :point\_up:

ne1uno

[09:38](#msg5a8fe0faa2194eb80da151a6)it may be looser on compile error reporting? tests would avoid errors or be fixed

[09:43](#msg5a8fe238e4ff28713ab7246b)@9214. view text works. will just have to remember compiler not 100% done yet

9214

[09:44](#msg5a8fe2600202dc012e7392ef)@ne1uno if compiler limitations get in your way, you can always use encap mode (supply `-e` flag among with `-r` or `-c`)

PeterWAWood

[09:53](#msg5a8fe492a2194eb80da16c9b)@9214 The tests are written to run under both the compiler and the interpreter. Each tests in run twice, once compiled and once interpreted.

A small number of tests are coded to only run under the compiler and a similar number are coded only to be interpreted.

9214

[09:54](#msg5a8fe4ee6f8b4b9946afdc89)thanks @PeterWAWood

PeterWAWood

[09:55](#msg5a8fe4f70202dc012e73a69e)Compiling a Red script does not mean that it will be completely compiled to machine code. Parts of the program, normally the most dynamic parts, will be be compiled to machine code.

9214

[09:55](#msg5a8fe515888332ee3abfb8d3)you mean "won't be compiled"?

rebolek

[09:56](#msg5a8fe530888332ee3abfb93d)for example anything in `do []` is not compiled but interpreted

PeterWAWood

[09:56](#msg5a8fe5350202dc012e73a80e)Yes, I meant won't be compiled.

[09:57](#msg5a8fe588c3c5f8b90df4fba8)In fact, we simply insert `do [` at the beginning of each test source and `]` at the end and then compile the test to run it under the interpreter.

ne1uno

[11:35](#msg5a8ffc976fba1a703a8e7f5c)it's probably not testing every dumb combination of options a user will

## Sunday 25th February, 2018

dreamyToto\_twitter

[10:24](#msg5a928ec8c3c5f8b90d018667)Hello, sorry to post here, where can I post a question on Rebol-based Cheyenne server, on its ability to process REST GET requests ?

9214

[10:50](#msg5a929510c3c5f8b90d01a0e0)@dreamyToto\_twitter I believe it's the right place for your question, but @dockimbel (author of Cheyenne) is on a vacation now and won't be able to answer to you in full detail

[10:51](#msg5a92951c6f8b4b9946bc2b15)maybe @greggirwin or other old-timers can help

dreamyToto\_twitter

[11:05](#msg5a9298748f1c77ef3a516b5d)@9214 Thank you. Great that Nenad is in vacation, considering all the personal investment on Red during last years... No problem, but if anyone knows Cheyenne server, I will be glad to have some help.

[11:33](#msg5a929efc6f8b4b9946bc54aa)Is Rebol-based Cheyenne server able to process REST GET requests like ¬´ /product/1234¬ª (with data in the URL, not as parameters) ? It could be possible if Cheyenne redirects URLs with wildcards like ¬´/product\*¬ª or  
¬´/product/\*¬ª and to a single RSP page. Is it possible through configuration ? Thanks

[11:48](#msg5a92a28b888332ee3acc46fe)I've done a few tries without success

[11:56](#msg5a92a48b53c1dbb74374291c)Sorry, wildcards don't appear at the end of the 2 URLs

[12:10](#msg5a92a7cec3c5f8b90d01f399)REST URLs like '/product/&lt;productId&gt;'

abdllhygt

[15:14](#msg5a92d2cc458cbde557c67493)hi!

9214

[15:14](#msg5a92d2e835dd17022ef030b8)hi @abdllhygt, how is your scripting language going? :)

abdllhygt

[15:15](#msg5a92d3190202dc012e817cca)aaah i don't have time and motivation :( :)

9214

[15:15](#msg5a92d3288f1c77ef3a526db6)welcome to the club :D

abdllhygt

[15:15](#msg5a92d32fe4ff28713ac4a7c7):D :D

[15:16](#msg5a92d35135dd17022ef031e5)we can do somethings maybe :)

[15:17](#msg5a92d386888332ee3acd22a1)how can i run console code? so "echo 'hi'" bash code in red?

9214

[15:17](#msg5a92d39d458cbde557c67706)@abdllhygt use `call`

abdllhygt

[15:18](#msg5a92d3c0458cbde557c67768)thank you, i will try now

9214

[15:19](#msg5a92d40a53c1dbb74374fb8e)`/console` refinement works only for CLI

```
>> call/console "echo hi"
hi
== 0
```

[15:20](#msg5a92d42d6f8b4b9946bd4bd2)see `? call` for details

abdllhygt

[15:20](#msg5a92d438e4ff28713ac4ac99)thanks!

[15:20](#msg5a92d4526f8b4b9946bd4c79)i run red "./red-063" in linux

[15:21](#msg5a92d464888332ee3acd2706)i want to run "red" like python or ruby

[15:21](#msg5a92d46b6fba1a703a9b77e5)can i do?

9214

[15:21](#msg5a92d4968f1c77ef3a5272d6)open a REPL in console or just execute a script?

BeardPower

[15:22](#msg5a92d4a235dd17022ef037ee)Is there some timer facility in Red? Like the `rate` for facets, but for general usage?

9214

[15:22](#msg5a92d4c36fba1a703a9b7938)@BeardPower a counter of some sort? I don't think so.

abdllhygt

[15:22](#msg5a92d4ce0202dc012e8184d4)@9214 both

9214

[15:23](#msg5a92d4d8c3c5f8b90d02c3a0)well, maybe somewhere in `system`

abdllhygt

[15:23](#msg5a92d4e36f8b4b9946bd4e69)so i want install

9214

[15:23](#msg5a92d4ed6fba1a703a9b79b7)@abdllhygt to launch REPL, just type `./red-063` when you're in a working directory

BeardPower

[15:23](#msg5a92d4f26f8b4b9946bd4eb6)@9214 Yes. Does not need to be a high-precision timer. I see.

9214

[15:24](#msg5a92d512888332ee3acd29cf)@BeardPower maybe you can use `now`

[15:24](#msg5a92d53bc3c5f8b90d02c52c)@abdllhygt and to execute a script, `./red-063 your-script.red`

BeardPower

[15:25](#msg5a92d558c3c5f8b90d02c5b2)@9214 Yeah, thanks. That would work.

abdllhygt

[15:27](#msg5a92d5ea0202dc012e8189e8)@9214 i know this :) i want to execute a script `red my-script.red`

[15:28](#msg5a92d6186fba1a703a9b7f51)i run python `python my-script.py`, so i don't use `./python..`

9214

[15:28](#msg5a92d63b35dd17022ef03ea1)I see, you'll need to add red to your $PATH for that

abdllhygt

[15:29](#msg5a92d653458cbde557c682ee)how? can i find in google?

9214

[15:29](#msg5a92d65a6f8b4b9946bd55d1)@abdllhygt sure

abdllhygt

[15:29](#msg5a92d6600202dc012e818c3a)thanks!

9214

[15:29](#msg5a92d670458cbde557c68365)https://unix.stackexchange.com/questions/26047/how-to-correctly-add-a-path-to-path

[15:30](#msg5a92d69353c1dbb743750713)though on \*nix there's another program named red

[15:30](#msg5a92d69be4ff28713ac4b7eb)some version of `ed` I presume

BeardPower

[15:31](#msg5a92d6da0202dc012e818e4d)Creating an alias would be a solution.

9214

[15:32](#msg5a92d70553c1dbb743750921)@abdllhygt in my case it was

```
isheh@sam ~/dev/red $ PATH=$PATH:~/dev/red/
isheh@sam ~/dev/red $ red-063
--== Red 0.6.3 ==-- 
Type HELP for starting information. 

>> print "hello!"
hello!
```

[15:33](#msg5a92d74ae4ff28713ac4bb8b)yes, or add an alias to your bash config

abdllhygt

[15:36](#msg5a92d7e06f8b4b9946bd5d96)i can't do it, after i will try

BeardPower

[15:37](#msg5a92d84a0202dc012e81943a)Is this a limitation of the REPL? It does not print out anything. loop 4 \[print now] just prints the output, when the loop ended.

[15:38](#msg5a92d860458cbde557c68e35)

```
forever [
    print now
]
```

9214

[15:38](#msg5a92d86a8f1c77ef3a528463)@BeardPower https://github.com/red/red/issues/2627

abdllhygt

[15:38](#msg5a92d87fe4ff28713ac4c209)now i want:

```
call/console "value=hi"
call/console "echo $value"
```

BeardPower

[15:39](#msg5a92d8ab0202dc012e8195be)@9214 Jesus, are you storing these links somewhere? Faster than light :smile:

9214

[15:39](#msg5a92d8c035dd17022ef04952)@abdllhygt I'm not a bash guru, but does it support syntax like that?

[15:39](#msg5a92d8cbc3c5f8b90d02d635)ah, I see `$` now

abdllhygt

[15:41](#msg5a92d93ec3c5f8b90d02d83d)yes it's working now in bash

[15:42](#msg5a92d94c6fba1a703a9b8e74)but doesn't work in red call

[15:42](#msg5a92d95b458cbde557c69349)i guess red doesn't support console session

9214

[15:42](#msg5a92d95c53c1dbb7437512ac)@abdllhygt is it possible in other languages though?

[15:42](#msg5a92d971e4ff28713ac4c621)@abdllhygt https://stackoverflow.com/questions/48790877/setting-persistent-environment-variables-between-multiple-calls-in-rebol-or-re

abdllhygt

[15:42](#msg5a92d97b53c1dbb74375132b)i don't try in other languages

9214

[15:43](#msg5a92d9ae8f1c77ef3a5289c7)

```
text
>> set-env "value" "test"
== "test"
>> call/console "echo $value"
test
== 0
```

abdllhygt

[15:44](#msg5a92d9f3e4ff28713ac4c7de)this is good thank you :)

9214

[15:45](#msg5a92da0b0202dc012e819b87)@BeardPower  
https://www.youtube.com/watch?v=0FSKTndbwVo

BeardPower

[15:45](#msg5a92da2a53c1dbb743751629):+1: I love that series!

[15:47](#msg5a92da7e888332ee3acd427c)I wished I could do the same.

9214

[15:47](#msg5a92daae53c1dbb743751786)@BeardPower you have Doodle Palace instead ;)

[15:48](#msg5a92dac1c3c5f8b90d02ddba)new face for each memory

BeardPower

[15:49](#msg5a92db02888332ee3acd4478)Off to the DP then :)

rgchris

[16:08](#msg5a92df6d53c1dbb743752c7f)@dreamyToto\_twitter There is a StackOverflow tag for \[Cheyenne](https://stackoverflow.com/questions/tagged/cheyenne) questions.

dreamyToto\_twitter

[16:25](#msg5a92e36fe4ff28713ac4f6f8)@rgchris thank you.

[16:28](#msg5a92e44935dd17022ef07f76)I will check it

rgchris

[17:19](#msg5a92f03c0202dc012e821167)It's a good place to get the attention of any Cheyenne users that aren't Doc, and to leave the question (and answers presumably) where they can be found by others.

dreamyToto\_twitter

[18:24](#msg5a92ff40888332ee3acdf327)@rgchris Thanks. I've posted my question there.

greggirwin

[19:48](#msg5a93131135dd17022ef1713c)@dreamyToto\_twitter, maybe @x8x will show up and offer some advice. @PeterWAWood may also know if Cheyenne can handle REST args like that.

abdllhygt

[20:04](#msg5a9316c90202dc012e82d347)hi!

rebolek

[20:09](#msg5a9317ea0202dc012e82d9c8)@abdllhygt hello!

abdllhygt

[20:30](#msg5a931ce035dd17022ef1a278)i fixed the problem, goodnight :)

rebolek

[20:30](#msg5a931cf7e4ff28713ac61a14):D

dreamyToto\_twitter

[20:36](#msg5a931e4b6fba1a703a9ce839)@greggirwin Thank you !

x8x

[21:42](#msg5a932dce26a769820b2a0ea9)@dreamyToto\_twitter In `httpd.cfg` where you configure your domain, add `on-status-code` like below:

```
www.domain.com [
	default [%index.rsp]
	on-status-code [
		404 "/index.rsp"
	]
	;your other settings here
]
```

`index.rsp` will get all requests for any url  
Use this to get the requested url inside `index.rsp`:

```
url: select request/parsed/headers 'internal-referer
```

greggirwin

[22:06](#msg5a9333716fba1a703a9d5578)Thanks for jumping in @x8x!

x8x

[22:32](#msg5a9339602dfcfffd2b2ac9a0)Cheyenne is an amazing piece of Art! Can't wait for a Red version. :sparkles:

dreamyToto\_twitter

[22:40](#msg5a933b5e35dd17022ef23a82)@x8x thank you very much ! Playing with 404 for that, great idea ! I will try this tomorrow morning. I use Cheyenne as a simple REST web service mock on a project. Yes, Cheyenne, Mysql driver, of course Red...all what Doc does is kind of ¬´simple and beautiful¬ª, and powerful for sure ! Future Red-based application server should be way more powerful...

## Monday 26th February, 2018

rgchris

[03:45](#msg5a9382ec6f8b4b9946c05da6)Getting a bit of weirdness using a function from within an object in an INCLUDE'd file in a compiled program. Anyone else having this problem?

[03:47](#msg5a938350c3c5f8b90d05ed05)`file-1.red`

```
Red []
obj: make object! [
    foo: "Foo"
    bar: func [arg][probe foo probe arg]
]
bar: get in obj 'bar
```

`file-2.red`

```
Red []
#include %file-1.red
probe bar "Baz"
```

[03:48](#msg5a9383778f1c77ef3a5598c1)Instead of getting `"Foo" "Baz" "Baz"`, I'm getting the source of the function.

[04:01](#msg5a93867f35dd17022ef36c3d)Looks like this is pertinent: https://github.com/red/red/issues/924

greggirwin

[06:05](#msg5a93a3a20202dc012e852fc2)Sounds like you need to use get-path! syntax for now. The ticket at least has a really good explanation.

[06:48](#msg5a93adaf53c1dbb74378ca49)@rgchris et al, I started a page where we can collect notes on compiler limitations: https://github.com/red/red/wiki/Compiler-Limitations

rgchris

[16:11](#msg5a94319d6f8b4b9946c43b25)It'd be helpful to have a primer somewhere on how the compiler, um, interprets code (if this exists, I do apologise for overlooking it). Perhaps just a few examples of code that works differently when compiled vs. interpreted. I can't figure out after a few hours why my USE macro breaks the compiler or under what conditions a function doesn't operate properly (it's not just the above ticket).

[16:12](#msg5a9431ea53c1dbb7437bff70)I've tried building a function from blocks contained within an object and have the same result.

rebolek

[16:15](#msg5a9432b835dd17022ef74e33)So far the compiler is fine for mostly static code - no fancy stuff as binding, function creation on runtime, etc. The dynstack branch should probably help with this. And you can always use `do` in compiler, when something doesn't work.

rgchris

[16:16](#msg5a9432f2c3c5f8b90d09eb5e)@rebolek Is there documentation on this?

[16:18](#msg5a943366458cbde557cdae14)I'd like to have a stab at getting some things working, but trial and error can be pretty time consuming.

rebolek

[16:20](#msg5a9433eb888332ee3ad447d5)@rgchris I believe that beside what you can gather from blog articles, there's no doc.

[16:21](#msg5a9434236fba1a703aa29d4b)It will be improved eventually, do writing docs would be wasted time, unless some volunteer does it.

rgchris

[16:23](#msg5a9434860202dc012e88b586)@rebolek Are there any insightful blog articles outside of red-lang.org on this?

rebolek

[16:25](#msg5a9434dc35dd17022ef75fcd)None that I know about :(

rgchris

[16:25](#msg5a94350b8f1c77ef3a599bdc)Just looking for any notes that someone might have taken from a similar noodling around.

BeardPower

[16:26](#msg5a943531e4ff28713acbdf02)What about https://github.com/reddoc/develop?

[16:26](#msg5a943551c3c5f8b90d09fa36)https://github.com/reddoc/develop/wiki

[16:28](#msg5a943595e4ff28713acbe215)A lot of useful insights and info.

9214

[16:34](#msg5a94370c6fba1a703aa2b823)@rgchris don't forget that compiled macros currently relies on R2, which isn't 100% compatible with Red

[16:36](#msg5a9437aae4ff28713acbf875)@rgchris I actually have my scars to show which are similar to your problem https://github.com/red/red/issues/2910

[16:38](#msg5a9438056f8b4b9946c46830)solution is to either wrap troublesome parts of code in `do [...]` or to use encap mode

[16:39](#msg5a943837e4ff28713acbfd13)but limitations of compiled macros won't go away until compiler is rewritten in Red (if I'm not mistaken)

rgchris

[16:47](#msg5a943a046f8b4b9946c47532)Appreciate the links, and updated the page Gregg posted.

BeardPower

[16:47](#msg5a943a376f8b4b9946c47605):+1:

greggirwin

[17:56](#msg5a944a4c8f1c77ef3a5a4494)+1

## Tuesday 27th February, 2018

Ungaretti

[10:13](#msg5a952f5b6f8b4b9946ca0832)

rebolek

[10:33](#msg5a9533ec6fba1a703aa874bb)@Ungaretti if you are on windows, compile Red with `-t MSDOS`

xqlab

[10:43](#msg5a953649c3c5f8b90d0fea06)red.exe --cli

Ungaretti

[10:58](#msg5a9539c953c1dbb743820e13)@xqlab @rebolek Thank you! xqlab answer is what I was looking for.  
I was going crazy using "-cli" instead of "--cli".

[11:03](#msg5a953b0a8f1c77ef3a5fbfe5)And is is it possible to write and save a script in cmd, as if cmd was an editor?

rebolek

[11:04](#msg5a953b4535dd17022efd5ce5)It can be done, but I don't think it would be very comfortable.

[11:07](#msg5a953be2e4ff28713ad1eb79)for example you can save console session with `save/header %history.red collect/into [foreach line system/console/history [keep reduce [line newline]]] {} []`

Ungaretti

[11:11](#msg5a953cdb6f8b4b9946ca58e1)@rebolek I see, thanks.  
I'm musing with the idea of creating a little app to teach Red. Embed a full editor is beyond my capacity, but to embed the cmd prompt is quite doable. However, saving a script is a must. I'll play with the code you posted.

rebolek

[11:12](#msg5a953d1dc3c5f8b90d101d4d)@Ungaretti do you know the livecode demo? It may be good fit for you.

Ungaretti

[11:15](#msg5a953dcd888332ee3ada5780)@rebolek I'll search it.

rebolek

[11:16](#msg5a953df035dd17022efd6d31)@Ungaretti see for example here https://gist.github.com/DideC/85d60c99f97f2e4972a6f7b09a1fe630

[11:16](#msg5a953e1d888332ee3ada59b7)it's for wditing VID layouts, but you can easily change it to support all types of code plus add "save" button, the code is very simple.

Ungaretti

[11:17](#msg5a953e486f8b4b9946ca6229)@rebolek Very interesting! Yes, it may be helpful! Thanks!

rebolek

[11:18](#msg5a953e8b6fba1a703aa8bd5d)you're welcome

greggirwin

[16:37](#msg5a95894d0202dc012e90b57c)@Ungaretti you won't be able to easily use the command shell as an editor. The behavior will be different on each platform in how you'd have to try and hook it. There are some other simple IDE experiments people have done, including the one @rebolek linked to above. @virtualAlan, @vulnz, and others have built tools with buttons to compile and run, etc.

dreamyToto\_twitter

[19:25](#msg5a95b0bde4d1c63604a0fa45)@x8x @rgchris @greggirwin by the way, thank you very much for the 404 trick in Cheyenne !

[19:27](#msg5a95b11f0202dc012e91985e)My REST web service mock works perfectly !

[19:31](#msg5a95b2266f8b4b9946cd1deb)The drawback : it's difficult to keep default 404 behavior (by configuration) for another webapp running on the same Cheyenne server, no ? But, it's OK for my mock !

rgchris

[22:53](#msg5a95e16ee4ff28713ad5bcea)I could probably amend my SO answer, but the alternative I believe is to write a service module to replace e.g. CGI with a different handler. It would take a bit more work but may ultimately be a better fit.

BeardPower

[23:43](#msg5a95ed2f0202dc012e92d09e)@rgchris Sorry, but what is a SO answer?

## Wednesday 28th February, 2018

gltewalt

[00:40](#msg5a95fa7935dd17022e01895b)Stack Overflow (website)

BeardPower

[00:44](#msg5a95fb5d6fba1a703aaceaa7)Ah! :+1:

JohnPeoplefox

[08:26](#msg5a9667cb888332ee3ae025b7)I am experimenting with loops. In a repeat loop I try construct a pair! with the index. Here is the code

```
Red[]

coordinates: func [] [
    repeat x 20 [
        to-pair [x 1]
    ]
]

coordinates
```

Here is the error I get

```
*** Syntax Error: invalid construction spec: [x 1]
*** Where: to
*** Stack: coordinates to-pair
```

9214

[08:28](#msg5a966824758c233504ccac20)@JohnPeoplefox try `to-pair reduce [x 1]`

[08:28](#msg5a9668296f8b4b9946d04b68)or `as-pair x 1`

JohnPeoplefox

[08:29](#msg5a966857458cbde557d9d332)@9214 worked thanks :smile:

[10:23](#msg5a968328888332ee3ae0a9d7)ok, after a couple of hours I'm throwing in the towel. I'm trying to plot a sine function. Here is the full code:

```
Red[Needs: 'view]


coords: []

coordinates: func [] [
    repeat i 400 [
        factor: i * 0.04
        s: sin factor
        amplitude: s * 80
        integ: to-integer amplitude
        x: integ + 150
        append coords as-pair x i
    ]
]
coordinates
print coords

view [
    canvas: base 400x300 white
    draw [line 0x150 400x150]
    draw [line coords]
]
```

I'm quite sure I calculated the coordinates right (I printed them). The problem is that the coordinates are in a series (`coords`) and `line` won't accept a series as the argument. The error I'm getting is

```
*** Script Error: invalid Draw dialect input at: [coords]
*** Where: ???
```

9214

[10:26](#msg5a9683d48f1c77ef3a664d3d)@JohnPeoplefox `view compose/deep [... draw [line (coords]]`

JohnPeoplefox

[10:30](#msg5a9684d835dd17022e03e303)@9214 thanks again, works perfectly!

9214

[10:34](#msg5a9685c5e4d1c63604a4cf80)@JohnPeoplefox you also mixed up `x` and `i` near `as-pair`

JohnPeoplefox

[10:35](#msg5a9685da0202dc012e95686b)@9214 yes, figured that out

9214

[10:35](#msg5a9685eb53c1dbb743887e99)and use only one draw block

[10:35](#msg5a9685f8458cbde557da70a6)

```
text
[line 0x150 400x150 line (coords)]
```

JohnPeoplefox

[10:36](#msg5a96862053c1dbb74388801a)@9214 got that one too :smile:

[10:37](#msg5a96867353c1dbb7438881c4)@9214 sorry to bother you again, any resources on changing the evaluation order of math operations, my `coordinates` function is pretty clumsy

9214

[10:37](#msg5a96868535dd17022e03ea1c)@JohnPeoplefox use `math` dialect

[10:38](#msg5a9686966f8b4b9946d0e72a)though it only supports `*` and `/` precedence

rebolek

[10:38](#msg5a96869f888332ee3ae0bc22)don't

[10:43](#msg5a9687b7758c233504cd50de)@JohnPeoplefox

```
coordinates: func [] [
    repeat i 400 [
        amplitude: 80 * sin i * 0.04
        append coords as-pair amplitude + 150 i
    ]
]
```

[10:43](#msg5a9687dd6fba1a703aaf3582)you can do it as on liner also

JohnPeoplefox

[10:46](#msg5a96887f758c233504cd545f)@rebolek I shouldn't bother with `to-integer`?

rebolek

[10:47](#msg5a9688c6e4ff28713ad88d86)@JohnPeoplefox no

```
>> as-pair 3.14 1.619
== 3x1
```

JohnPeoplefox

[10:47](#msg5a9688d78f1c77ef3a66654a)@rebolek oh great

[10:49](#msg5a968943c3c5f8b90d16b3ca)@rebolek Just one more question, can I call `coordinates` in a `do` block within `view` ?

rebolek

[10:50](#msg5a96898735dd17022e03f8dd)@JohnPeoplefox I guess you can, maybe I don'd understand. Do you have some example?

JohnPeoplefox

[10:52](#msg5a9689dac3c5f8b90d16b796)@rebolek something like this

```
Red[Needs: 'view]


coords: []

coordinates: func [] [
    repeat i 400 [
        amplitude: 80 * sin i * 0.04
        append coords as-pair i amplitude + 150
    ]
]

;coordinates

view compose/deep[
    canvas: base 400x300 white
    do [coordinates]
    draw [
        pen green line 0x150 400x150
        pen blue line (coords)]
]
```

[10:52](#msg5a9689f0e4ff28713ad89446)but i get a syntax error

rebolek

[10:56](#msg5a968af2c3c5f8b90d16bc43)@JohnPeoplefox because `draw`must follow style to which it will draw. Move `do` line up:

```
view compose/deep[
    do [coordinates]
    canvas: base 400x300 white
    draw [
        pen green line 0x150 400x150
        pen blue line (coords)
    ]
]
```

9214

[10:58](#msg5a968b6d758c233504cd659e)

```
text
Red [Needs: View]

coordinates: collect [
    repeat x 400 [
        keep as-pair x add 150 80 * sin x * 0.04
    ]
]

view compose/deep [
    base 400x300 white draw [
        line 0x150 400x150 line (coordinates)
    ]
]
```

rebolek

[10:59](#msg5a968b9a6f8b4b9946d0fc2d):+1:

JohnPeoplefox

[11:00](#msg5a968bc46fba1a703aaf4b21)ok guys I won't bother you anymore today that's quite enough for me to process :smile:

9214

[11:09](#msg5a968dd953c1dbb74388a62a)@JohnPeoplefox your homework for today :mortar\_board:

```
Red [Needs: View]

coordinates: collect [
    keep [line 0x150 400x150 line]
    repeat x 400 [
        keep as-pair x add 150 80 * sin x * 0.04
    ]
]

view [base 400x300 white draw coordinates]
```

JohnPeoplefox

[11:24](#msg5a969175758c233504cd8909)@9214 :worried:

abdllhygt

[18:14](#msg5a96f1a235dd17022e064483)hi!

[18:15](#msg5a96f1ca458cbde557dcdc6d)how to `size? [1 2 3]` ?

[18:20](#msg5a96f2dae4d1c63604a74e2e)i find `length?`

rgchris

[18:43](#msg5a96f86d6f8b4b9946d36716)@abdllhygt I wrote a \[series primer](https://medium.com/@rgchris/understanding-rebol-series-d5d6f597a239) (for Rebol, but applies to Red)

abdllhygt

[18:46](#msg5a96f8ed0202dc012e9803f6)thanks @rgchris

[19:44](#msg5a97068a53c1dbb7438b5705)hi again!

[19:44](#msg5a97069b6f8b4b9946d3b3f0)i can't use switch in switch :(

Phryxe

[19:54](#msg5a9708fc8f1c77ef3a692cf2)@abdllhygt It is easier to understand with a short example.

abdllhygt

[19:56](#msg5a970961888332ee3ae39dc0)

```
switch (length? textS) [
            2 [ switch (length? textS/2)  [...
```

is not work, and i use case in switch now, thanks

Phryxe

[20:10](#msg5a970cc56fba1a703ab2281e)

```
x: 20
y: 10
switch x [
	10 [print "x = 10"]
	20  [
		print "x = 20"
		switch y [
			10 [print "y = 10"]
			20 [print "y = 20"]
		]
	]
]
```

This works ...

abdllhygt

[20:20](#msg5a970f0353c1dbb7438b82a3)@Phryxe interesting :) so, error on me sorry

greggirwin

[22:45](#msg5a9730f4888332ee3ae46f82)@9214, you're going to make @JohnPeoplefox's head implode\*! I love it!

\*What happens when Reducers refactor. Things become so dense and powerful that we we create an infrared hole that looks almost black.

[22:46](#msg5a9731500202dc012e993318)The great Redshift if coming.

## Thursday 1st March, 2018

snotbubble

[04:51](#msg5a9786ef35dd17022e08cb00)compiling in Linux with this code gives me this error:  
`*** Compilation Error: undefined word font!`

```
marks: make font! [size: 8 name: "courier new" style: 'bold]
append canvas/draw compose [font (marks)]
```

Is there a different way to do this in Linux?

PeterWAWood

[04:55](#msg5a9787c135dd17022e08cd65)@snotbubble There is no Linux compatible GUI backend in the current Red alpha releases.

snotbubble

[04:59](#msg5a9788a9c3c5f8b90d1bb8db)ah ok, so for windows Red is grabbing its UI from the OS?

PeterWAWood

[05:07](#msg5a978a8a8f1c77ef3a6b3f91)The current Red GUI backends are a native Windows backend and a native macOS backend. Red GUI backends could be written for both native or cross-platform UI frameworks (that have a C-style API).

It is most likely that a GTK+ will be included in the "standard" Red distribution at some stage in the future.

In fact, some members of the community have made a good start on a GTK+ backend.

It is not currently clear when a GTK+ backend will be available. I think we will get the first indication when the Red roadmap is updated to include the Red blockchain dialect.

greggirwin

[05:29](#msg5a978fa36fba1a703ab43ed8)@snotbubble Red runs fine under Wine, if that's an option.

JohnPeoplefox

[11:05](#msg5a97de7d6f8b4b9946d73ee4)I'm trying to recursively enumerate a directory tree. I don't have much code to show, but here it is anyway

```
Red[]


enumerate: function [root] [

    items: read to path! root
    foreach item root[
        is-dir: dir? item
        either is-dir
            [print item]
            [enumerate item]
    ]
]

enumerate %/c/red/
```

[11:18](#msg5a97e199e4d1c63604ab780e)My starting point was this, which works for a single directory:

```
Red[]


items: read %/c/red/

foreach item items [
    print item
]
```

[12:01](#msg5a97ebb4c3c5f8b90d1d73dc)Ok, after some digging through Rebol docs I kind of made it work

```
Red[]


enumerate: function [root] [

    
    items: read root
    
    foreach item items[
        either dir? item
            [
                print ["directory " item]
                enumerate root/:item
            ]
            [print ["    file " item]]
    ]
]

enumerate %/c/red/
```

rebolek

[12:19](#msg5a97efdf888332ee3ae7766f)@JohnPeoplefox if want to add indentation, try something like

```
enumerate: function [root] [
    indent: ""
    enum: func [root][
        items: read root
        foreach item items [
            either dir? item
                [
                    print [indent "directory " item]
                    append indent "    "
                    enum root/:item
                    remove/part indent 4
                ]
                [print [indent "file " item]
            ]
        ]
    ]
    enum root
]
```

JohnPeoplefox

[12:20](#msg5a97f0150202dc012e9c3c63)@rebolek thanks

[12:20](#msg5a97f02a0202dc012e9c3c8a)one quick question. Does Red support TCO?

rebolek

[12:21](#msg5a97f040e4ff28713adf3622)What is TCO?

JohnPeoplefox

[12:21](#msg5a97f057e4d1c63604abc496)tail call optimization to avoid stack overflow

rebolek

[12:21](#msg5a97f060e4ff28713adf36d0)Ah, I see. No.

JohnPeoplefox

[12:22](#msg5a97f0776f8b4b9946d796b8)ok, I'm sure it will at some point :smile:

rebolek

[12:22](#msg5a97f08d6f8b4b9946d79725)We will see :)

BeardPower

[12:25](#msg5a97f1336fba1a703ab604f7)@rebolek Time to mention the "Mill" again. It has TCO out of the box ;-)

rebolek

[12:25](#msg5a97f153888332ee3ae77dd2)hmmm :)

BeardPower

[12:26](#msg5a97f1626f8b4b9946d79b42)I need to rename my myself to "MillPower :smile:

Ungaretti

[14:47](#msg5a98129335dd17022e0b5e50)Sorry, but what is "mill"?

rebolek

[14:48](#msg5a9812acc3c5f8b90d1e54f7)@Ungaretti https://en.wikipedia.org/wiki/Mill\_architecture

Ungaretti

[14:49](#msg5a9812e053c1dbb743900d24)Thanks.

BeardPower

[14:56](#msg5a981486888332ee3ae84592)@Ungaretti There is an error in the wiki page.  
&gt;Registers 33

The MIll does not have any registers at all, it has a belt.

[14:56](#msg5a9814ad35dd17022e0b685e)It can do 33 instructions per cycle.

greggirwin

[18:12](#msg5a98429d53c1dbb74391236b)BlackBeard, BlueBeard, MillBeard. Arrrrrr!

## Friday 2nd March, 2018

JohnPeoplefox

[11:09](#msg5a9930def3f6d24c682a00f3)I have a basic question: Is there a reference about which faces accept which types of events?

9214

[11:11](#msg5a99316f8f1c77ef3a7352af)@JohnPeoplefox no, but it's more or less intuitive  
https://doc.red-lang.org/en/view.html#\_events

[11:13](#msg5a9931dc8f1c77ef3a73548a)also `system/view/handlers`

JohnPeoplefox

[11:16](#msg5a99328e6fba1a703abc50c0)@9214 Thanks!

## Sunday 4th March, 2018

snotbubble

[14:19](#msg5a9c0078e4d1c63604be30d7)are commandline args readable without red-system?

9214

[14:20](#msg5a9c009a458cbde557f3ee1b)@snotbubble `system/script/args` and `system/options/args`

snotbubble

[14:33](#msg5a9c03b4f3f6d24c68360eef)@9214 excellent thanks

[14:33](#msg5a9c03c06fba1a703ac84ff3)also how to block-comment ?

9214

[14:33](#msg5a9c03d36fba1a703ac8509d)@snotbubble can you clarify?

[14:34](#msg5a9c03f6e4ff28713af16cda)there's a `comment` function that just eats its argument and returns (almost) nothing

snotbubble

[14:34](#msg5a9c040a53c1dbb743a151ac)multiline comment instead of using ; on each line

9214

[14:35](#msg5a9c04218f1c77ef3a7f8365)@snotbubble

```
comment {
...
}
```

[14:36](#msg5a9c047453c1dbb743a154c4)you can use `(...)` or `[...]` if you want; as I said, `comment` just receives its argument and doesn't return anything back

[14:37](#msg5a9c048d6fba1a703ac85384)in fact it returns `unset`, but that shouldn't be a problem in most cases

snotbubble

[14:37](#msg5a9c0496c3c5f8b90d30181d)@9214 too easy thanks!

BeardPower

[14:53](#msg5a9c08756fba1a703ac86367)@9214 You posted a stacktrace of a Red program lately. How can did be done?

[14:54](#msg5a9c0893c3c5f8b90d302add)What was the magic command? :)

9214

[14:54](#msg5a9c089e888332ee3afa022c)@BeardPower can you remind me what exactly I posted? :D

BeardPower

[14:55](#msg5a9c08cb8f1c77ef3a7f9a0d)Can't find it on this shitty gitter search... You basically posted a bug of a program and also the stack-trace of it.

9214

[14:56](#msg5a9c09050a1614b712de1794)hmmm, I don't think I used any magic, stack trace was shown during attempt at compilation

BeardPower

[14:56](#msg5a9c092fc3c5f8b90d302da5)Ah, ok. I thought there was something like gdb`st` command for printing the stack-trace.

9214

[14:57](#msg5a9c096cc3c5f8b90d302e8e)@BeardPower if we're talking about compilation, you can play around with `-v` and hight verbosity levels

BeardPower

[15:00](#msg5a9c0a29c3c5f8b90d303354)All clear :)

9214

[15:01](#msg5a9c0a3ef3f6d24c68362f7a)@BeardPower ah, set `system/state/trace` to bigger integers

BeardPower

[15:01](#msg5a9c0a50e4ff28713af189ad)I was just testing the Drawing pad from @toomasv on macOS and wanted to provide the most info.

9214

[15:01](#msg5a9c0a5ee4ff28713af189dd)

```
text
>> 1 / 0
*** Math Error: attempt to divide by zero
*** Where: /
*** Stack:  

>> system/state/trace: 1337
== 1337
>> 1 / 0
*** Math Error: attempt to divide by zero
*** Where: /
*** Stack: launch launch either run while eval-command if either switch either do-command unless case print type? try either = set catch /
```

[15:02](#msg5a9c0a816fba1a703ac86e48)default is `1`

BeardPower

[15:02](#msg5a9c0a8f53c1dbb743a171c3)So what is a high enough value?

9214

[15:03](#msg5a9c0ab035dd17022e1d25b1)depends on how deep you want to go ;)

BeardPower

[15:03](#msg5a9c0ac98f1c77ef3a7fa334)Back in time, of course ;-)

[15:04](#msg5a9c0ae30a1614b712de205d)Maybe I will find @greggirwin 's new blog post :smile:

meijeru

[17:20](#msg5a9c2acec3c5f8b90d30d249)For me, on W10, `system/state/trace: 2` gives the same as your 1337.

OneArb

[20:42](#msg5a9c5a2053c1dbb743a2dcd3)Since I tested the latest build I get strange behaviors even when running the stable release.

I no longer get the console when running a Red executable.

Same when I compile for Windows target.

I get a procedure exec/f\_quit unfound when running an exe I managed to compile.

When spaces in the .red file, the .exe output name only include chars till the first space, so .exe file name is truncated.

I get the following unless I compile in release mode:

```
Target: MSDOS 

Compiling to native code...
*** Compilation Error: attempt to redefine existing function name: red/object/get-values 
*** at line: 1 
*** near: [332x1 
    #import ["libRedRT.dll" stdcall [
            push: "red/object/push" [ctx [pointer! [integer!]] class [integer!] idx-s [integer!] loc-s [integer!] idx-d [integer!] loc-d [integer!] return: [red/red-object!]] 
            duplicate: "red/object/duplicate" [src [pointer! [integer!]] dst [pointer! [integer!]]] 
            transfer: "red/object/transfer" [src [pointer! [integer!]] dst [pointer! [integer!]]] 
            init-push: "red/object/init-push" [node [pointer! [integer!]] class [integer!] return: [red/red-object!]] 
            init-events: "red/object/init-events" [ctx [pointer! [integer!]] idx-s [integer!] loc-s [integer!] idx-d [integer!] loc-d [integer!]] 
            loc-fire-on-set*: "red/object/loc-fire-on-set*" [parent [red/cell!] field [red/red-word!]] 
            fire-on-set*: "red/object/fire-on-set*" [parent [red/red-word!] field [red/red-word!]] 
            get-values: "red/object/get-values" [obj [red/red-object!] return: [red/cell!]] 
            unchanged?: "red/object/unchanged?" [word [red/red-word!] id [integer!] return: [logic!]] 
            unchanged2?: "red/object/unchanged2?" [node [pointer! [integer!]] index [integer!] id [integer!] return: [logic!]] 
            get-word: "red/object/get-word" [obj [pointer! [integer!]] index [integer!] return: [red/cell!]] 
            get-values: "red/object/get-values" [obj [red-object!] return: [cell!]]
        ]]
]
```

Ungaretti

[23:43](#msg5a9c848ee4ff28713af3af8f)I would like to make a script delay it's processing for 0,5 seconds. `wait` doesn't seem to be a good idea, since it doesn't behave well on console. I can' extract milisseconds from `now`. Create a face with a `rate` seems like too much for a silly delay. Any suggestions?

## Monday 5th March, 2018

snotbubble

[01:55](#msg5a9ca38ae4ff28713af42c9e)getting double backslash in paths with:

```
asubdfile: to-local-file/full %ffmpeg/bin/ffmpeg.exe
afile: to-local-file/full %test.txt
probe asubdfile
probe afile
```

```
{C:\1\test\\ffmpeg\bin\ffmpeg.exe}
"C:\1\test\\test.txt"
```

it seems like /full is adding the extra backslash,  
how to get only one backslash?

PeterWAWood

[02:38](#msg5a9cadb3458cbde557f6e7a3)It looks like a bug to me. Using `clean-path` instead of the `/full` refinement should work:

```
>> to-local-file/full %test.txt
== "E:\Red\red\\test.txt"
>> clean-path %test.txt
== %/E/Red/red/test.txt
>> to-local-file clean-path %test.txt
== "E:\Red\red\test.txt
```

[02:40](#msg5a9cae0e458cbde557f6e8ce)@snotbubble I pasted the wrong line ^^^ and have now updated it.

snotbubble

[02:58](#msg5a9cb2406f8b4b9946ec70c1)@PeterWAWood got it thanks!

[03:06](#msg5a9cb430f3f6d24c68391208)also is there a quick way to do something lilke `block/-2` ?

[03:06](#msg5a9cb4428f1c77ef3a8279cf)to get the 2nd last item

toomasv

[04:00](#msg5a9cc0ea0a1614b712e13afe)@snotbubble

```
skip tail block -2
```

snotbubble

[04:34](#msg5a9cc8e36f8b4b9946ecc171)@toomasv

```
b: [1 2 3 4 5]
r: skip tail b -2
probe r
```

returns \[4 5]

```
b: [1 2 3 4 5]
r: pick b ((length? b) - 1)
probe r
```

returns 4, but seems like a lot of work

toomasv

[04:37](#msg5a9cc9a6458cbde557f74db4)Ah, you want to get single item:

```
b: [1 2 3 4 5]
first skip tail b -2
== 4
```

Or:

```
b: [1 2 3 4 5]
b/(-1 + length? b)
== 4
```

Or:

```
b: [1 2 3 4 5]
i: -1 + length? b
b/:i
== 4
```

gltewalt

[04:44](#msg5a9ccb2c35dd17022e2060d0)

```
>> i: (length? b) - 1
== 4
>> b/:i
== 4
```

snotbubble

[04:44](#msg5a9ccb396fba1a703acb9ddb)Thanks Toomas, still a lot of typing compared to b/-2

toomasv

[04:44](#msg5a9ccb4ae4d1c63604c184ff)True, but I guess negative indexes can't be univocally interpreted. Consider this:

```
b: skip [1 2 3 4 5] 2
== [3 4 5]
```

what should `b/-2` return? 4 or 1?  
OK, you can make them return from tail always. But why not from current location as positive indexes?

gltewalt

[04:46](#msg5a9ccbbce4d1c63604c18698)

```
>> reverse b b/2
== 4
```

snotbubble

[04:54](#msg5a9ccd736fba1a703acba687)@gltewalt nice, but have to deepcopy to use the original block later, or keep reversing ?

gltewalt

[04:54](#msg5a9ccd87e4ff28713af4c412)Probably safer to copy

[04:54](#msg5a9ccda0c3c5f8b90d337ae8)Otherwise, yeah you'll have to reverse the block again after you get your value

9214

[05:00](#msg5a9ccee46fba1a703acbaa3e)@snotbubble

```
>> pick tail [a b c d] -2
== c
>> at tail [a b c d] -2
== [c d]
```

gltewalt

[05:12](#msg5a9cd1b235dd17022e20722d)@BeardPower @rebolek Does stack traces

[05:15](#msg5a9cd286e4d1c63604c199f1)@snotbubble The reason why `b/-2` doesn't work is because the pointer is parked at `head` with a new block. -2 is outside the bounds of `b`, so you get `none`

[05:16](#msg5a9cd2996fba1a703acbb497)

```
>> b: next b
== [2 3 4 5]
>> b/-1
== 1
```

[05:17](#msg5a9cd2e1888332ee3afd42a3)

```
>> b: tail b b/-2
== 4
```

[05:21](#msg5a9cd3bc35dd17022e2077f2)

```
>> b
== [1 2 3 4 5]
>> bakurds: tail b
== []
>> bakurds/-2
== 4
```

snotbubble

[05:36](#msg5a9cd753f3f6d24c683989a1)@gltewalt so pointer can't wrap around, understood.

[05:38](#msg5a9cd7ccf3f6d24c68398af5)@9214 can `at head` be used to grab the 1st two items in the block?

[05:49](#msg5a9cda536fba1a703acbcd35)also can rejoin be used to insert a string between items? like "/".join(list) in python.

9214

[07:16](#msg5a9ceeb6c3c5f8b90d33fec7)@snotbubble if you want first two items, you can use `copy/part` or `take/part`:

```
>> block: [a b c d]
== [a b c d]
>> copy/part block 2
== [a b]
>> block
== [a b c d]
>> take/part block 2
== [a b]
>> block
== [c d]
```

[07:16](#msg5a9ceed0888332ee3afdb3f2)as for `rejoin`... you mean like inserting comma after each element?

[07:16](#msg5a9ceee70a1614b712e1ebd3)this idea comes up frequently, I guess someone already proposed a mezzanine for that

[07:31](#msg5a9cf23cf3f6d24c683a03df)@snotbubble for now you can use something like

```
>> rejoin skip collect [foreach item "abcd" [keep [comma space] keep item]] 2
== "a, b, c, d"
```

snotbubble

[07:40](#msg5a9cf47c35dd17022e210990)@9214 excellent thanks!

[07:46](#msg5a9cf5baf3f6d24c683a1845)when joining using to-path, is this the simplest way to get a path string?

```
b: ["one" "two" "three"]
p: to-string (to-path b)
```

9214

[07:47](#msg5a9cf5f7e4d1c63604c23396)@snotbubble

```
>> form to path! ["one" "two" "three"]
== "one/two/three"
```

[07:52](#msg5a9cf728e4ff28713af579ce);)

```
>> replace/all form to path! ["one" "two" "three"] "/" ", "
== "one, two, three"
```

snotbubble

[07:53](#msg5a9cf776c3c5f8b90d342d44)@9214 nice thanks!

9214

[07:56](#msg5a9cf81d0a1614b712e21e39)you're welcome :)

snotbubble

[08:03](#msg5a9cf9baf3f6d24c683a2aa4)one more thing: how to preserve ':' with to-path:

```
b: ["C:" "test" "one" "two" "three"]
p: form to path! b
d: read (to-red-file p)
probe p
```

```
*** Access Error: cannot open: %/C/test/one/two/three
```

9214

[08:05](#msg5a9cfa3635dd17022e2125a8)@snotbubble it is preserved in `string!`, but `file!` has different format

[08:05](#msg5a9cfa5ef3f6d24c683a2e2d)i.e. `%/C/test/one/two/three` path is correct, but since you don't have this folders and file, Red can't open it :)

snotbubble

[10:42](#msg5a9d1f1b6f8b4b9946ee61be)@9214 so no way to keep `:` in `C:` ?

9214

[10:43](#msg5a9d1f3e888332ee3afebc01)@snotbubble ?

```
>> form to path! ["C:" "test" "one" "two" "three"]
== "C:/test/one/two/three"
```

PeterWAWood

[10:56](#msg5a9d226fe4ff28713af6677b)@snotbubble Red, like Rebol, stores file! in POSIX format. The "volumes:" form is not a valid file! value in Red:

```
>> %c:/test.bat
*** Syntax Error: invalid value at ":/test.bat"
*** Where: do
*** Stack: load
```

BeardPower

[10:58](#msg5a9d22bc458cbde557f906ce)

[10:58](#msg5a9d22ce35dd17022e220622)What do you mean?

PeterWAWood

[10:58](#msg5a9d22d6c3c5f8b90d35291d)A valid file! in Red would be `/C/test.bat`. Red accesses file using these POSIX paths.

9214

[10:58](#msg5a9d22db458cbde557f90730)@BeardPower does chat traces ;)

DideC

[10:58](#msg5a9d22f20a1614b712e30c9d)@snotbubble you can handle files path as a string value if its convenient to "see" them like this, but use file! datatype for your program to work with them.

```
lp: ask "Enter file path ?"      ; Enter things like "c:\test\one\two\three"
rp: to-red-file lp
print ["You said:" lp newline " This path" either exists? rp ["is valid"]["does not exist !"]]
print ["This path is made of:" lpp: mold split lp #"\"]
print ["You can recreate it with:" lp2: collect [keep lp/1 foreach item next lp [keep #"\" keep item]]]
print ["Or work with the red syntax:" newline "This path is made of:" mold next rpp: split rp #"/"]
```

BeardPower

[10:59](#msg5a9d2304c3c5f8b90d352980)@gltewalt &gt;@BeardPower @rebolek Does stack traces

rebolek

[10:59](#msg5a9d23088f1c77ef3a84700a)What do I do?

BeardPower

[10:59](#msg5a9d2310c3c5f8b90d352990)What do you mean?

PeterWAWood

[10:59](#msg5a9d231553c1dbb743a6351e)So to preserve the `:`, you need to use `to-local-file`

```
>> b: ["C:" "test" "one" "two" "three"]
== ["C:" "test" "one" "two" "three"]
>> p: to-local-file form to path! b
== "C:/test/one/two/three"
```

BeardPower

[11:01](#msg5a9d237cc3c5f8b90d352ccf)@9214 üòÅ That damn mobile gitter app. Is there a way to create a line feed?

[11:02](#msg5a9d23ca35dd17022e2209f9)@rebolek I don't know what @gltewalt was trying to communicate. ü§î

snotbubble

[11:12](#msg5a9d2636e4ff28713af67f10)@9214 ok so red just isn't finding the path...

9214

[11:13](#msg5a9d2669e4ff28713af68080)@snotbubble yes, because I suspect that you don't have `test/one/two` nesting folders with `three` file at the end ;)

DideC

[11:14](#msg5a9d26a235dd17022e2219c7)Typo in my previous code. Retyped:

```
Red []
lp: ask "Enter file path ?"      ; Enter things like "c:\test\one\two\three"
rp: to-red-file lp
print ["You said:" lp newline " This path" either exists? rp ["is valid"]["does not exist !"]]
print ["This path is made of:" mold lpp: split lp #"\"]
print ["You can recreate it with:" lp2: collect [keep lpp/1 foreach item next lpp [keep #"\" keep item]]]
print ["Or work with the red syntax:"]
print ["This path is made of:" mold next rpp: split rp #"/"]
```

rebolek

[11:31](#msg5a9d2aa6f3f6d24c683b43cf)@BeardPower Ah, ok then :)

snotbubble

[11:52](#msg5a9d2f7e35dd17022e22496c)@DideC got it thanks, seems that to-red-file is adding a backslash before `C:` which is stopping `read`, which is odd as `exists?` says the path is valid...

```
Red []
b: ["C:" "one" "two" "three"] 
print["b = " b]
p: to-local-file form to path! b
print["to-local-file form to path! b = " p]
rp: form to path! b
print["form to path! b = " rp]
d: to-red-file rp
print["to-red-file = " d]
isd: exists? d
print["path exists?" isd]
rd: read d
probe rd
```

9214

[12:02](#msg5a9d31e7e4ff28713af6c0c0)

```
text
>> read %/C/
== [%windows/ %users/ %Program%20Files%20%28x86%29/ %Program%20Files/]
```

DideC

[12:04](#msg5a9d325d8f1c77ef3a84c7a0)To be precise:

```
>> read %/c
*** Access Error: cannot open: %/c
*** Where: read
*** Stack:  

>> read %/c/
== [%$Recycle.Bin/ %Bat/ %program%20Files/]
```

tsebb

[12:58](#msg5a9d3f12c3c5f8b90d35cd69)Hi!

[13:03](#msg5a9d403c0a1614b712e3bf67)Why is `to Integer! "1" == 1` but `to Integer! pick "1" 1 == 49`

rebolek

[13:04](#msg5a9d4063f3f6d24c683bca2b)@tsebb because `pick "1"` returns `char!` and converting character to integer will return its ASCII value

tsebb

[13:07](#msg5a9d411be4ff28713af72440)Thx! On second thought, i'm ok with this semantics :-)

rebolek

[13:08](#msg5a9d414ae4d1c63604c3d5b2)@tsebb ok then :)

tsebb

[13:09](#msg5a9d41978f1c77ef3a8522f4)i expected to have some kind of "ordinal " function for that

BeardPower

[13:12](#msg5a9d424bc3c5f8b90d35e11b)Expect the unexpected :)

tsebb

[13:18](#msg5a9d43bfe4ff28713af73421)How to get the int value frpm Chat Thema

[13:19](#msg5a9d43f1e4d1c63604c3e868)How to get the int value fr om char

rebolek

[13:20](#msg5a9d44178f1c77ef3a852fd0)for example

```
>> load form #"1"
== 1
```

tsebb

[13:20](#msg5a9d44216f8b4b9946ef37ce)Without Cast to String or Substrat 48?

[13:20](#msg5a9d44250a1614b712e3d5b7)Thx!

rebolek

[13:21](#msg5a9d4440c3c5f8b90d35ea64)well this is with casting to string (`form`)

tsebb

[13:29](#msg5a9d462c35dd17022e22d22f)I see, imo `sum: sum + form pick "123" 1` does not "s" good

[13:29](#msg5a9d4649888332ee3aff9e1e)"sound"

rebolek

[13:30](#msg5a9d4670e4ff28713af744a8)@tsebb what exactly are you trying to achieve?

tsebb

[13:31](#msg5a9d46b5888332ee3aff9feb)Sum Up values in a String, If The following Number is the same

rebolek

[13:32](#msg5a9d46f3888332ee3affa167)@tsebb could you show some example of input data and expected output?

tsebb

[13:35](#msg5a9d47960a1614b712e3eb39)https://adventofcode.com/2017/day/1 :-)

rebolek

[13:35](#msg5a9d47ac0a1614b712e3ec8d)Ah! ok :)

9214

[16:42](#msg5a9d73848f1c77ef3a865093)@tsebb we can come up with a solution for first stage together if you want, I think I have AoC snippets somewhere :)

gltewalt

[16:46](#msg5a9d74496f8b4b9946f0537e)First you have to make a circular buffer

9214

[16:47](#msg5a9d74ad6fba1a703acf41d1)they're not necessary for the first part I think

gltewalt

[16:48](#msg5a9d74df53c1dbb743a8344f)@rebolek Beardpower was asking how to do stack traces. You include stack traces often when you find an issue. So, ‚ÄúAsk rebolek‚Äù

rebolek

[18:25](#msg5a9d8b958f1c77ef3a86e69d)@gltewalt oh, do I? It's from from debug version or something that OS prints itself. I'm certainly no expert on that, sorry.

gltewalt

[19:13](#msg5a9d96c78f1c77ef3a872170)Ah, I see

## Tuesday 6th March, 2018

greggirwin

[03:04](#msg5a9e0531c3c5f8b90d39ec43)@snotbubble, et al, on the `path!` topic, I think there's possible confusion in how best to approach this, or how best to leverage Red types. `File!` values are a string type. There are some funcs that work on them, e.g. `split-path` that "know" about path separators, but the datatype itself doesn't. `Path!` values are block values, where each slot can contain a different type of Red value, though not every value type, and most commonly words. One thing they can't contain is a `set-word!` value in any slot other than the last value. If there is a `set-word!` in the \*first* slot, they are currently lexed as a `url!`, which is a different question, but may help explain why you can't treat these types interoperably or convert between them with complete confidence.

[03:06](#msg5a9e059d35dd17022e26bb8f)So, @snotbubble, my recommendation is that you \*not* use `path!` when trying to make file values. What we need are a few more mezzanines to make what you want to do easy and safe.

[03:12](#msg5a9e0717458cbde557fdd21e)@tsebb, here's a trick, and a way of thinking, last one first. In Red, think of how you can make data easier to operate on. Don't take the data as it is and assume you have to do it like other languages do. In this case, you have a bit string of single digits, yes? You could use `parse`, but that might be a little tricky as you're counting. So how to make it easy to just loop on? Here's the trick. Put a space between each digit and use `load` on the result. Now you have a block of integers, which is easy to operate on.

[03:35](#msg5a9e0c82888332ee3a03a7d7)@snotbubble would you please open a ticket for the `to-local-file/full` issue?

tsebb

[08:57](#msg5a9e57eb8f1c77ef3a8a7480)@greggirwin thx for the input

[09:00](#msg5a9e5890e4d1c63604c93e2f)@9214 will post my solutions here, but not before weekend :-(

9214

[09:02](#msg5a9e59188f1c77ef3a8a7bf0)@tsebb :+1:

snotbubble

[13:14](#msg5a9e9421e4d1c63604ca8601)@greggirwin is there a definitive guide to path/file massaging?

something like:

get a path as a string  
from s make a block of path components  
from either, make a red compatible path  
read a block of dir path names  
read a block of file path names  
read a block of file-names

EG:

```
string path......... = "C:/one/two/three/"
block path.......... = ["C:" "one" "two" "three"]
red path............ = %/c/one/two/three/
read dir path block. = ["C:/one/two/three/backup/"]
read file path block = ["C:/one/two/three/file.001.ext" "C:/one/two/three/file.002.ext"]
read file name block = ["file.001.ext" "file.002.ext"]
```

from:

```
C:\one\two\three\
  backup\
  file.001.ext
  file.002.ext
```

maximvl

[13:40](#msg5a9e9a61c3c5f8b90d3cd551)@9214 for whatever reason it's called `clean-path`:

```
>> help clean-path
USAGE:
     CLEAN-PATH file

DESCRIPTION: 
     Cleans-up '.' and '..' in path; returns the cleaned path. 
     CLEAN-PATH is a function! value.
```

[13:44](#msg5a9e9b48e4d1c63604caaf37)it seems like we need a goodies package with "standard" names eg "absolute-path" instead of "clean-path" and others

[13:48](#msg5a9e9c1a0a1614b712ea9e55)em the latest Red builds are from 26 February

[13:48](#msg5a9e9c2253c1dbb743adbcdc)it seems like something broke there

9214

[13:48](#msg5a9e9c338f1c77ef3a8bf0b4)@snotbubble

```
>> path: "C:/windows/"
== "C:/windows/"
>> split path #"/"
== ["C:" "windows"]
>> to-red-file path
== %/C/windows/
>> collect [foreach file read to-red-file path [if dir? file [keep clean-path file]]]
== [%/Z/home/isheh/dev/red/logs/ %/Z/home/isheh/dev/red/inf/ %/Z/home/isheh/dev/red/mono/ %/Z/home...
>> collect [foreach file read to-red-file path [unless dir? file [keep clean-path file]]]
== [%/Z/home/isheh/dev/red/twain_32.dll %/Z/home/isheh/dev/red/win.ini %/Z/home/isheh/dev/red/twai...
>> read to-red-file path
== [%logs/ %inf/ %mono/ %winsxs/ %syswow64/ %twain_32.dll %win.ini %Installer/ %Fonts/ %twain.dll ...
>> collect [foreach file read to-red-file path [unless dir? file [keep file]]]
== [%twain_32.dll %win.ini %twain.dll %winhlp32.exe %system.ini %regedit.exe %explorer.exe %notepa...
```

[13:50](#msg5a9e9c906fba1a703ad4d970)@maximvl standard by what standards? :D

maximvl

[13:50](#msg5a9e9cbbf3f6d24c6842a46b)it's just something people in the industry use, I never heard anybody referring to "absolute path" as a "clean path"

9214

[13:50](#msg5a9e9cbf53c1dbb743adc087)you're asking to do that with language which has Mezzanines and facets ;)

[13:51](#msg5a9e9cdc8f1c77ef3a8bf578)we even have our own definition of Purity

[13:51](#msg5a9e9cf3f3f6d24c6842a623)"and our views about it are Immutable :^)"

maximvl

[13:52](#msg5a9e9d08458cbde55700b2c1)that's great until you want more people to use the language ;)

9214

[13:55](#msg5a9e9dee458cbde55700b82d)I agree with that, but it's always nice to have local slang :)

maximvl

[13:58](#msg5a9e9e69458cbde55700bb24)@9214 let's test it, what do you think `dirize` does, without checking help? ;)

9214

[13:59](#msg5a9e9ebfc3c5f8b90d3cf094)@maximvl makes a directory out of file

[13:59](#msg5a9e9eccf3f6d24c6842b03c)i.e. appends `/` if needed

BeardPower

[14:00](#msg5a9e9ef7f3f6d24c6842b11a)Don't `dirize`me, bro!

maximvl

[14:00](#msg5a9e9efb53c1dbb743adcf48)@9214 what about `ellipsize-at` ?

9214

[14:00](#msg5a9e9f176f8b4b9946f5e694)hmmmm

[14:01](#msg5a9e9f37e4ff28713afe1124)adds `...` or something like that?

BeardPower

[14:01](#msg5a9e9f3e8f1c77ef3a8c04d7)Bingo!

maximvl

[14:01](#msg5a9e9f50e4d1c63604cac486)wat, how do you know

BeardPower

[14:01](#msg5a9e9f556f8b4b9946f5e78e)Truncate and add, it if string is longer than len.

maximvl

[14:02](#msg5a9e9f5f53c1dbb743add1c1)what does this even mean

9214

[14:02](#msg5a9e9f626f8b4b9946f5e814)maybe based on index/length of string

BeardPower

[14:02](#msg5a9e9f7ec3c5f8b90d3cf581)@maximvl What exactly? `...` is called an ellipsis.

9214

[14:02](#msg5a9e9f84888332ee3a0675c7)@maximvl ellipsis is `...`

[14:03](#msg5a9e9f9953c1dbb743add35e)@BeardPower was faster this time :O

[14:03](#msg5a9e9fa8c3c5f8b90d3cf62a)even faster than @rebolek :exclamation:

maximvl

[14:03](#msg5a9e9fb7c3c5f8b90d3cf6e1)I see, didn't know that one

BeardPower

[14:03](#msg5a9e9fc46fba1a703ad4ed1e)It's a term in type setting.

maximvl

[14:03](#msg5a9e9fc8458cbde55700c46c)this is probably what is used to truncate long outputs

9214

[14:03](#msg5a9e9fc935dd17022e29a30e)where's my portion of meldonium?!

BeardPower

[14:04](#msg5a9e9fd48f1c77ef3a8c096d)Have you ever written LaTeX?

maximvl

[14:04](#msg5a9e9fe06fba1a703ad4ed76)I did, but never used ellipsis..

[14:04](#msg5a9e9feb8f1c77ef3a8c0acf)how do you call two dots btw?

9214

[14:04](#msg5a9e9fed0a1614b712eab7e7)but you just used them in your message.. :)

[14:04](#msg5a9e9ff7e4ff28713afe15df)@maximvl ellipsi ? :D

[14:04](#msg5a9ea00153c1dbb743add71b)like `func` and `function` dichotomy

BeardPower

[14:04](#msg5a9ea00a6fba1a703ad4ee38)@9214 Are you into curling? :smile:

9214

[14:05](#msg5a9ea031458cbde55700c66b)nay, I'm more of a board/video game type :neckbeard:

BeardPower

[14:05](#msg5a9ea043888332ee3a067a6a)&gt;@BeardPower was faster this time :O  
even faster than @rebolek :exclamation:

The apprentice became the master and the master the apprentice ;-)

9214

[14:06](#msg5a9ea05d53c1dbb743add99b)even the mighty shall fall...

BeardPower

[14:07](#msg5a9ea0b8e4d1c63604cacaf3)@maximvl &gt;how do you call two dots btw?

Double dot.

maximvl

[14:08](#msg5a9ea0faf3f6d24c6842bd04)@9214 what about `read-thru` ? :D

9214

[14:09](#msg5a9ea115f3f6d24c6842c006)@maximvl `*-thru` functions are cache-related IIRC

BeardPower

[14:09](#msg5a9ea117c3c5f8b90d3cff4c)Reading past the character you specified.

maximvl

[14:10](#msg5a9ea1556f8b4b9946f5f2f0)@9214 what cache?)

BeardPower

[14:10](#msg5a9ea15df3f6d24c6842c154)Mmm, cash related... :+1:

9214

[14:10](#msg5a9ea1666fba1a703ad4f632)@BeardPower :smile:

[14:11](#msg5a9ea1966f8b4b9946f5f4c7)@maximvl \[disk buffer](https://en.wikipedia.org/wiki/Disk\_buffer) I suppose

dander

[18:35](#msg5a9edf6c6f8b4b9946f76a8a)@maximvl \*-thru functions are described in the \[0.6.3 blog post](http://www.red-lang.org/2017/07/063-macos-gui-backend.html)

maximvl

[19:51](#msg5a9ef1326f8b4b9946f7ccc4)@dander thanks, looks like I missed that part

TimeSlip

[20:00](#msg5a9ef37ac3c5f8b90d3f086f)I'm interested in creating a spinning wheel. I've seen at least one JS version which uses a library to do the animation. Since I can't easily see what the library is actually doing behind the scenes, I was wondering what you all think about the best way to spin an object is: 1. Creating a number of images and cycling; or 2: spinning the object programatically? Thanks in advance.

9214

[20:02](#msg5a9ef3ba0a1614b712eca946)@TimeSlip I'd go with second option, just changing elements of the underlying Draw block

BeardPower

[20:13](#msg5a9ef6588f1c77ef3a8e0b22)Me too. Use the Draw dialect. It will be faster, have a lower memory footprint and vector graphics.

[20:13](#msg5a9ef66b458cbde55702dc1d)Not to mention all the fancy animation possibilities and resolution independence.

greggirwin

[20:15](#msg5a9ef6e4f3f6d24c6844d03c)@maximvl, I fully support the goal of making things accessible. What would help here is concrete suggestions. I like `absolute-path` myself, and we can alias that easily if people want, but there's a reason Carl didn't use it. There's a reason for every word choice he made. "Clean" is shorter, that's one thing. Another is the goal of verb-noun naming. "Clean" is more verby. :^) Even `absolute-path` is jargon, yes? Maybe more people know it, but `fully-qualified-path` is even further down that spectrum, yes?

&gt; let's test it, what do you think dirize does, without checking help?

This is a specious argument. Show me a language where anyone can guess how everything works and I'll use it. The fact is that we have `help` and we can (and \*absolutely* should) write docs that help people find their footing when coming from other languages.

BeardPower

[20:18](#msg5a9ef78a53c1dbb743afeb26)@greggirwin  
&gt;Show me a language where anyone can guess how everything works and I'll use it.

Brainfuck? ;-)

9214

[20:19](#msg5a9ef7c2888332ee3a0885d9)J! ;)

greggirwin

[20:19](#msg5a9ef7c36fba1a703ad70bf3)Of course, I always forget that one. ;^)

[20:20](#msg5a9ef8090a1614b712ecc196)Is there an APL/J version of BF? That would be something to see.

9214

[20:20](#msg5a9ef81c53c1dbb743afed52)You mean parser?

greggirwin

[20:21](#msg5a9ef83835dd17022e2bc5b7)No, I mean a new language with BF syntax and J semantics.

9214

[20:21](#msg5a9ef85ff3f6d24c6844d7e2)hmmm, maybe some of multi-dimensional fungeoids

greggirwin

[20:22](#msg5a9ef8798f1c77ef3a8e16da)Should make for interesting dreams tonight.

BeardPower

[20:22](#msg5a9ef89e0a1614b712ecc4b0)I only know of JSFuck.

[20:29](#msg5a9efa29458cbde55702eb5d)@9214 Are you talking about Befunge?

9214

[20:29](#msg5a9efa3f8f1c77ef3a8e1e66)@BeardPower yes, IIRC, there's a class of Befunge-like esolangs

[20:30](#msg5a9efa63c3c5f8b90d3f2d31)https://esolangs.org/wiki/Fungeoid

BeardPower

[20:31](#msg5a9efaad0a1614b712eccd91)People are sometimes just crazy:  
Binary lambda calculus

Binary lambda calculus is designed from an algorithmic information theory perspective to allow for the densest possible code with the most minimal means, featuring a 29 byte self interpreter, a 21 byte prime number sieve, and a 112 byte Brainfuck interpreter.

[20:32](#msg5a9efae3e4ff28713a00304f)Red needs to get down to &lt;100 kB ;-)

greggirwin

[20:43](#msg5a9efd77f3f6d24c6844f45a)@snotbubble, @9214 answered you in code, but maybe we can take some of these snippets and add to https://github.com/red/red/wiki/File-Dir-Path-related-functions.

TimeSlip

[20:44](#msg5a9efdc6e4d1c63604ccfcc5)@9214 @BeardPower Thank you!

BeardPower

[20:45](#msg5a9efde86f8b4b9946f81334)You're welcome.

greggirwin

[20:47](#msg5a9efe48888332ee3a08a759)@TimeSlip check out the recent draw app from @toomasv. He's doing some pretty neat stuff in there with animations and transforms.

[20:47](#msg5a9efe550a1614b712ece169)Chat in red/gui-branch room.

BeardPower

[20:48](#msg5a9efe8b0a1614b712ece2dd)Absolutely! You will get your spinning wheel finished in no time.

TimeSlip

[20:48](#msg5a9efe8b6f8b4b9946f81556)@greggirwin Thanks Gregg, I'll need all the examples I can get.

BeardPower

[20:50](#msg5a9eff13458cbde5570308a0)@TimeSlip And please post your results :+1: (if you can and like, of course :))

TimeSlip

[20:52](#msg5a9eff8ee4ff28713a004921)@BeardPower It's the "Can" part that would stop me from posting. I had a rough time just drawing piecharts!

BeardPower

[20:54](#msg5a9effe935dd17022e2bedb6)@TimeSlip "Can" like in "if you are allowed to". Sometimes someone is not allowed to show stuff, because of some "trade secrets" ;-). Well, let's talk in the red/gui-room about it and your issues you ran into.

TimeSlip

[20:59](#msg5a9f0126458cbde55703165f)@BeardPower I'll let you know when I make some progress (It will not be for a few days until I get the spare time)

greggirwin

[21:06](#msg5a9f02de53c1dbb743b027a9)I added some things to https://github.com/red/red/wiki/File-Dir-Path-related-functions. @snotbubble, feel free to clarify, add more, or pose new questions here that lead to additions that will help people.

BeardPower

[21:09](#msg5a9f039be4ff28713a005ea6)@TimeSlip Sure. Do you want to mimic the spinning wheel of macOS?

TimeSlip

[21:11](#msg5a9f040f888332ee3a08ca60)@BeardPower Actually what I aim to do is take a list of names and place them on slices of the wheel, spin it, and then have it stop at one of the names.

greggirwin

[21:13](#msg5a9f04636fba1a703ad75218)Wheel. Of. Fortune!

BeardPower

[21:15](#msg5a9f04e0c3c5f8b90d3f654b)Ah, I understand. Definitely use the Draw dialect. Challenge accepted ;-)

greggirwin

[21:17](#msg5a9f054c53c1dbb743b0374b)Tickety tickety tickety...yeah, we need audio. ;^)

BeardPower

[21:19](#msg5a9f05ed8f1c77ef3a8e5c1d)clickety click :)

[21:34](#msg5a9f0980c3c5f8b90d3f7c8c)

[21:35](#msg5a9f09926f8b4b9946f85776)\[!\[wof.gif](https://files.gitter.im/red/help/fKTm/thumb/wof.gif)](https://files.gitter.im/red/help/fKTm/wof.gif)

[21:37](#msg5a9f0a10c3c5f8b90d3f7f65)Imagine it has slow-down ;-)

[22:45](#msg5a9f1a1053c1dbb743b0a609)Prizes, prizes prizes!

[22:47](#msg5a9f1a7735dd17022e2c77dd)\[!\[wof.gif](https://files.gitter.im/red/help/aGSB/thumb/wof.gif)](https://files.gitter.im/red/help/aGSB/wof.gif)

[23:08](#msg5a9f1f5a35dd17022e2c8f59)The "A" is also rotated. Compared to the non rotated other letters.

[23:09](#msg5a9f1f96c3c5f8b90d3ff989)\[!\[wof.gif](https://files.gitter.im/red/help/37B5/thumb/wof.gif)](https://files.gitter.im/red/help/37B5/wof.gif)

## Wednesday 7th March, 2018

toomasv

[04:48](#msg5a9f6f396f8b4b9946f9fc4b)@BeardPower :+1: Nice!

greggirwin

[06:53](#msg5a9f8c50c3c5f8b90d41b036)Woohoo! Go @BeardPower, Go!

[06:53](#msg5a9f8c7d6fba1a703ad98acc)I'm just going to sit and watch those gifs for a while.

planetsizecpu

[09:16](#msg5a9faddfc3c5f8b90d42597b)@BeardPower Is the Mill engine beyond this wheel? ;)

BeardPower

[11:35](#msg5a9fce930a1614b712f0a3cc)@toomasv @greggirwin Thanks. Maybe I should put a seizure warning before spinning :dizzy\_face:

[11:36](#msg5a9fced2458cbde55706c713)@planetsizecpu Hehe. Unless the wheel stops between to fields üòÖ

maximvl

[14:10](#msg5a9ff2d935dd17022e307bb5)@BeardPower wow, nice :D

[14:10](#msg5a9ff2ece4d1c63604d18bf5)I encourage you to post under r/redlang ;)

[14:12](#msg5a9ff364c3c5f8b90d43d79d)@greggirwin sure, I understand what you are saying, and of course `help` should be used and stuff, my case is more like you come from other language and you want to get "absolute path", `help` won't help you to find the `clean-path` name, nor the Carl's logic (it makes sense if you know about it, ofc)

BeardPower

[14:13](#msg5a9ff39de4ff28713a04a932)@maximvl Thanks!  
&gt;I encourage you to post under r/redlang ;)

I cannot find this room.

maximvl

[14:14](#msg5a9ff3bde4d1c63604d190d5)it's here :D https://www.reddit.com/r/redlang/

[14:15](#msg5a9ff3f4e4d1c63604d191b3)you can use a `DEMO` tag

BeardPower

[14:17](#msg5a9ff461888332ee3a0d261b)Ahh! Will do. I need to clean up some code. I coded it in the Red IDE (live preview script from the eve live demo). Would be a nice show of, why Red is awesome :)

maximvl

[14:18](#msg5a9ff4c6c3c5f8b90d43de65)ok, it's good anyway you can share a link to a gist and keep updating it as you want :)

BeardPower

[14:19](#msg5a9ff4ffe4d1c63604d19960)Yep, as soon as I have some more spare time. Can take a little.

dander

[18:55](#msg5aa0359fe4d1c63604d335ce)@maximvl It still falls somewhat in the "you need to know about it" category, but `help "path"` and `help "file!"` both find `clean-path` along with lots of other stuff. So it's a bit less focused, but is my go-to next step for broadening the search

TimeSlip

[19:14](#msg5aa03a186f8b4b9946fe3f55)@BeardPower I am hypnotized by your knowledge. Yes, those are exactly what I wanted to do. I think I need to grow some facial hair.

BeardPower

[19:16](#msg5aa03a73458cbde55709618e)@TimeSlip :+1: It's the first step to success. I will clean up the code and release it on a gist/reddit. Try to implement it yourself in the meantime :-)

## Thursday 8th March, 2018

TimeSlip

[18:02](#msg5aa17aa20a1614b712f93e34)@BeardPower I managed a spinning circle but how do you add the text?

BeardPower

[18:09](#msg5aa17c47f3f6d24c68514337)@TimeSlip I used `rotate` with a block of text drawing commands.

TimeSlip

[18:21](#msg5aa17f43458cbde5570fc231)@BeardPower So are the text's in their own block?

[18:22](#msg5aa17f6be4d1c63604d983a1)@BeardPower I mean, separate from the block or arc's

[18:24](#msg5aa17ff853c1dbb743bc830b)or=of

[18:26](#msg5aa18059c3c5f8b90d4c042a)Actually, the more I think about it, I see the error in my thinking. Thanks.

BeardPower

[18:37](#msg5aa182cd6f8b4b9946047326)No, they are in the same rotate block as the arc commands. I will create a gist later.

TimeSlip

[19:32](#msg5aa18fb36f8b4b994604b2a7)OK, block of text now rotating.

BeardPower

[19:42](#msg5aa1923535dd17022e38db8e):+1:

TimeSlip

[19:43](#msg5aa19256458cbde5571024a9)@BeardPower But in separate blocks.

[19:43](#msg5aa192616fba1a703ae41538)(text and arcs)

BeardPower

[19:44](#msg5aa192ab8f1c77ef3a9b0b7d)No need for that, if they are rotated the same. You just have to use fixed positioning or need to push the matrices onto the stack.

[19:45](#msg5aa192cfc3c5f8b90d4c62f1)So you get relative rotation for the texts.

TimeSlip

[20:43](#msg5aa1a08e6fba1a703ae46187)@BeardPower I'll have to see that. I wasn't able to get that to work.

BeardPower

[20:45](#msg5aa1a0d653c1dbb743bd28c9)I'm currently very busy, but I hope I can complete the gist entry, some wiki entries and other stuff over the weekend.

TimeSlip

[20:45](#msg5aa1a107458cbde5571075ef)@BeardPower No problem. I'm close and the test works.

BeardPower

[20:46](#msg5aa1a1136f8b4b9946051195)Are you familiar with OpenGL/DX?

[20:46](#msg5aa1a1336fba1a703ae465d0)Nice.

TimeSlip

[21:35](#msg5aa1ac89888332ee3a15f89c)@BeardPower I'm spacially-challenged so everything that involves coordinates is a like a big black box. :smile: I spent quite some time altering numbers to rotate my labels.

BeardPower

[21:59](#msg5aa1b2496fba1a703ae4ca7d):smile: Things like this, will be easier to pull off in the future.

## Friday 9th March, 2018

prapro

[20:01](#msg5aa2e8226f8b4b99460b4ed5)When compiling https://github.com/red/code/blob/master/Scripts/mandelbrot-fast.redI get an error...  
Target: Windows

Compiling to native code...  
\*\** Compilation Error: undefined symbol: red/image/acquire-buffer

9214

[20:10](#msg5aa2ea4235dd17022e3f4db9)@prapro have you tried `-r` option?

prapro

[20:13](#msg5aa2eadbe4d1c63604e069bb)Of course not! :)

greggirwin

[20:16](#msg5aa2ebae888332ee3a1bea27)That's what you need to do.

[20:17](#msg5aa2ebc0f3f6d24c68584242)I mean, that solves the problem.

[20:20](#msg5aa2ec98888332ee3a1beddd)Should we add a note to https://github.com/red/red/wiki/Compiler-Limitations about this issue with libRedRT compilation?

gltewalt

[20:23](#msg5aa2ed5835dd17022e3f5d22)I though I put the windows example in the Readme?

[20:24](#msg5aa2ed8153c1dbb743c3754a)Maybe -r wasn‚Äôt covered

greggirwin

[20:29](#msg5aa2eea28f1c77ef3aa18d18)The main Red ReadMe? I don't see a note about this, when combining Red and R/S.

[20:33](#msg5aa2efa253c1dbb743c37ffb)@prapro, if that worked for you, would you please add a note about it to the above wiki page? Thanks.

gltewalt

[20:34](#msg5aa2eff135dd17022e3f6a7e)Ok

prapro

[20:38](#msg5aa2f0e3e4ff28713a13a6ef)It worked. Will do Gregg

lepinekong\_twitter

[21:54](#msg5aa3027de4d1c63604e0d9a2)I have installed Windows Linux Subsystem (https://docs.microsoft.com/en-us/windows/wsl/install-win10) which is based on Ubuntu 16 and then Red succesfully. There is no GUI though, how can I call Red or at leat a red script and get back result ?

[21:55](#msg5aa302b70a1614b71200d260)Red console doesn't have (yet) all options that Rebol console had so is it possible ?

[22:10](#msg5aa3063853c1dbb743c3f25b)@BeardPower is it you who make that wheel of fortune is it in Red :smile:

BeardPower

[22:12](#msg5aa306b50a1614b71200e307)@lepinekong\_twitter Yes and yes.

lepinekong\_twitter

[22:26](#msg5aa30a2ae4d1c63604e0febb)@BeardPower :+1:

BeardPower

[22:27](#msg5aa30a5d6f8b4b99460bf307)Everything I post on the channels is done in Red. I just need time to port my stuff to Red :)  
Some looks more complicated than it actually is ;-)

lepinekong\_twitter

[22:29](#msg5aa30ac18f1c77ef3aa2109f)@BeardPower great I like the wheel, I want to tech programming to children it's a good attraction :smile:

BeardPower

[22:30](#msg5aa30af935dd17022e3fee5d)Absolutely. Red is great for live coding and you have hot-reloading out of the box.

[22:31](#msg5aa30b3d6f8b4b99460bf6cd)Instant gratification!

[22:31](#msg5aa30b540a1614b71200f858)And your code does not look cluttered up like in other languages.

lepinekong\_twitter

[22:33](#msg5aa30bce35dd17022e3ff252)&gt;And your code does not look cluttered up like in other languages.  
Yeah but I remark that a lot of you has "c" coding style with no () grouping things it's hard to read sometimes ;)

BeardPower

[22:34](#msg5aa30beb888332ee3a1c7f4a)I find it easier to read because of this :)

lepinekong\_twitter

[22:34](#msg5aa30c0ce4ff28713a142a65)When it is you who wrote the code ;)

BeardPower

[22:35](#msg5aa30c3ee4d1c63604e1086a)Well, it's just a matter of code style. You can use () as well, and you know the syntax in and out, don't you? ;-)

lepinekong\_twitter

[22:37](#msg5aa30c9d6f8b4b99460bfcc1)I hate syntax I want to invent a new high level Cobol :smile:

BeardPower

[22:38](#msg5aa30cc8f3f6d24c6858de50)Why? There is Red :D

lepinekong\_twitter

[22:38](#msg5aa30cf753c1dbb743c411eb)Yes that's why I come to Rebol/Red in the first place :smile: But I

[22:39](#msg5aa30d0b0a1614b712010073)since it can build DSL I want even higher level of abstraction

BeardPower

[22:39](#msg5aa30d1b8f1c77ef3aa21e19)And what do you mean by "high level" Cobol? Cobol is high level.

[22:39](#msg5aa30d3a0a1614b71201011e)Can you give an example?

[22:40](#msg5aa30d77c3c5f8b90d539ebf)loop 3 \[print "yo"] -&gt; what wrong with this level of abstraction?

lepinekong\_twitter

[22:42](#msg5aa30dc66fba1a703aeb6517)Well language that a Business user can speak https://twitter.com/lepinekong/status/972116879568498689

BeardPower

[22:43](#msg5aa30dfb6fba1a703aeb65a7)I see, you want to make a business language DSL.

lepinekong\_twitter

[22:44](#msg5aa30e3253c1dbb743c41810)Not just a DSL, I want to create a kind of "HOOS" for "Human Oriented Operation System" ;)

[22:44](#msg5aa30e4853c1dbb743c41858)Mystypo: Human Oriented Operating System

[22:45](#msg5aa30e88458cbde55717879f)Today the poor end user is having a burnout sometimes trying to cope with many different systems he can't automate because he's not a coder.

[22:46](#msg5aa30eaf8f1c77ef3aa22698)I even met people fall into depression.

BeardPower

[22:47](#msg5aa30eea6fba1a703aeb698e)Similar to MU-TH-UR 6000? :smile:

[22:48](#msg5aa30f256fba1a703aeb6b42)Good luck with your project :)

lepinekong\_twitter

[22:50](#msg5aa30f9e8f1c77ef3aa22a19)No that's more pragmatic, in fact some big sites are surfing upon it like https://zapier.com/ so I want to make integration simpler. In fact even developers will be interested as the java / javascript ecosystems are becoming a nightmare :smile:

[22:53](#msg5aa310576fba1a703aeb6ff9)My goal is also to help people learn : "training on the job" is one of Deming 14 points http://asq.org/learn-about-quality/total-quality-management/overview/deming-points.html

BeardPower

[22:56](#msg5aa3112c888332ee3a1c9a41)Well, you get all the quirks and hacks with every app connected. I don't like bloat being cross-connected. I'm more an advocate of the UNIX philosophy, just like Red:  
&gt;This is the Unix philosophy: Write programs that do one thing and do it well. Write programs to work together. Write programs to handle text streams, because that is a universal interface.

greggirwin

[22:58](#msg5aa311ae35dd17022e400a83)&gt; loop 3 \[print "yo"] -&gt; what wrong with this level of abstraction?

@BeardPower, only that you used an odd number, so your Yo-Yo stays down. :^\\

lepinekong\_twitter

[22:59](#msg5aa311c2f3f6d24c6858f683)@BeardPower no I won't provide every connection to every app, that's why I'm talking about an HOOS: I will provide an infrastructure to do so which is accessible even to non-programmers but also to programmers whatever language it is.

BeardPower

[23:07](#msg5aa313a76fba1a703aeb80af)@greggirwin The issue I always have when playing my Yo-Yo :smile:

[23:10](#msg5aa3144ae4ff28713a144dd0)@lepinekong\_twitter It's very time consuming to support every API. Not every app is following a standard, which makes it a nightmare to support.

lepinekong\_twitter

[23:13](#msg5aa314fd458cbde55717a15d)As I said it's not about supporting every api, it's about helping people building it by themselves more easily. Programmers may help them by providing plugin (because there will be a plugin architecture like for Wordpress so as to make the ecosystem grow) but I want to ensure that even without plugin even an end user can do it.

[23:14](#msg5aa31544f3f6d24c6859054c)So my concept of HOOS is about helping people build their own "ME" system so the domain http://thesystem.me :smile:

BeardPower

[23:17](#msg5aa315eef3f6d24c685907e9)Well, even if they are able to code by "clicking and dragging", like with the google programming language for kids, they need to have a basic understanding of control flow and other programming related concepts.

lepinekong\_twitter

[23:18](#msg5aa3163953c1dbb743c43e5a)@BeardPower clicking and dragging is very limited, It's kind of wizard. The idea of DSL is just that: a specific language to a domain.

BeardPower

[23:18](#msg5aa3165f35dd17022e4020e1)So how do you connect Wordpress with Ghost?

lepinekong\_twitter

[23:19](#msg5aa3168c888332ee3a1cb321)And so Console for me is crucial for productivity. But today Console can only be used by Linux user because it's too geeky.

BeardPower

[23:19](#msg5aa3168ce4ff28713a14572a)e.g. wordpress in html5 ghost out pdf?

[23:20](#msg5aa316bfe4d1c63604e133f3)Are you referring to the Red console or a terminal?

lepinekong\_twitter

[23:20](#msg5aa316c0458cbde55717a8b2)@BeardPower I think some people are going to complain we are chatting too much :smile:

[23:21](#msg5aa316fb458cbde55717a9aa)@BeardPower yes Red console, I wait for the next version.

[23:21](#msg5aa3170d458cbde55717aa4e)As I understand it will be customizable ?

BeardPower

[23:21](#msg5aa3170d35dd17022e40239e)Well yes, but the help channel is open for suggestions and ideas. Maybe some of this is an interesting idea for Red.

[23:22](#msg5aa3173d0a1614b712012b23)Yes, as I understand it, it's based on the Draw dialect, so it theoretically can output everything from it.

[23:23](#msg5aa3178f6f8b4b99460c2f48)So you could also render html, PDF, whatever in the console, as long as the interpreter is spitting out Draw code.

[23:24](#msg5aa317a4f3f6d24c68590e86)My widget examples would run in the console.

[23:25](#msg5aa317e0e4d1c63604e138de)It would offer similar functionality as the Oberon System.

lepinekong\_twitter

[23:28](#msg5aa318afc3c5f8b90d53ccf6)@BeardPower It will be great. Splitting html will be a huge task !

[23:29](#msg5aa318db8f1c77ef3aa25710)@BeardPower for html a more reasonnable solution would be integration with existing chrome component.

[23:30](#msg5aa3190335dd17022e402d30)@BeardPower or you just mean the screenshot of html, that is more feasible.

[23:30](#msg5aa319158f1c77ef3aa25888)@BeardPower for console I also wait for https://gitter.im/red/red?at=5a9ad7ee0a1614b712d97b36

BeardPower

[23:37](#msg5aa31abf6fba1a703aeba0ff)Bringing in a chrome component? No more Electron, please ;-)

If the new console can deliver what's being "advertised", it's very flexible. It's just a matter of coding plugins for it.

prapro

[23:37](#msg5aa31ad76fba1a703aeba14b)@greggirwin Is there an issue# related to the -r switch?

[23:38](#msg5aa31b06888332ee3a1cc5cc)that is the mixed red+R/S -r requirement?

lepinekong\_twitter

[23:44](#msg5aa31c6653c1dbb743c454d2)@BeardPower I didn't say electron ;) Now electron is good Visual Studio Code is made with electron as well as many others like Gitkrachen https://www.gitkraken.com/ which is rather impressive if you like graphics ;)

BeardPower

[23:47](#msg5aa31d2a458cbde55717c342)@lepinekong\_twitter Yes, but chrome is anything but small ;-) Yeah, gitkraken is very nice. You could code something like that for the new console, just like the Zsh stuff I posted, but more impressive ;-)

lepinekong\_twitter

[23:48](#msg5aa31d64c3c5f8b90d53de2e)@BeardPower if you code something for git like Gitkraken in Red for sure Red will boost to the sky as Git is so popular :smile:

BeardPower

[23:50](#msg5aa31dc435dd17022e404105)That's the plan :smile:

[23:51](#msg5aa31e048f1c77ef3aa26c3f)All developer tools just look so "retro".

## Saturday 10th March, 2018

lepinekong\_twitter

[00:00](#msg5aa32000f3f6d24c68592e97)@BeardPower if you can do that I'll be your first user ;)

BeardPower

[00:01](#msg5aa32040e4ff28713a147fde)Anything is possible, right? :+1:

lepinekong\_twitter

[00:01](#msg5aa3206053c1dbb743c46460)@BeardPower sure :smile:

greggirwin

[07:50](#msg5aa38e37888332ee3a1e3c16)@prapro, I don't know of one. The closest thing I found is https://github.com/red/red/issues/2463. It may not be an issue as much as a known and expected limitation.

lepinekong\_twitter

[09:59](#msg5aa3ac7ae4ff28713a16545d):point\_up: \[March 10, 2018 12:37 AM](https://gitter.im/red/help?at=5aa31abf6fba1a703aeba0ff) the worst about Electron is when you download 60 Mb and decompress for double to realize you can't run it :smile: like this one https://github.com/jasonlong/mater

[09:59](#msg5aa3ac8be4ff28713a165476)@BeardPower

[18:47](#msg5aa4282e6fba1a703aefadb8)Is there another function to distinguish betweenhttp url and c:\\ as url? c:\\ also returns true (it was like that also under Rebol):

```
>> url? c:\

== true

>> url? http://google.com

== true

>>
```

9214

[18:48](#msg5aa428638f1c77ef3aa654a0)@lepinekong\_twitter what..?

lepinekong\_twitter

[18:48](#msg5aa42880458cbde5571bcb57)@9214 what what ? :smile:

9214

[18:48](#msg5aa4288b6fba1a703aefaf3a)I don't understand the question.

lepinekong\_twitter

[18:48](#msg5aa4288de4ff28713a185eaa)You don't understand my question ?

rebolek

[18:49](#msg5aa428a10a1614b712052b22)I do

lepinekong\_twitter

[18:49](#msg5aa428a8e4ff28713a185eed)Well c:\\ is normally a folder path under windows, not really an url :smile:

rebolek

[18:49](#msg5aa428b753c1dbb743c83c65)it is url in Red

9214

[18:49](#msg5aa428c46fba1a703aefafc7)syntactically it's `url!`, if you want to represent file path, use `file!`

[18:50](#msg5aa428e235dd17022e441d17)

```
text
>> to-red-file "C:\"
== %/C/
>> type? to-red-file "C:\"
== file!
```

lepinekong\_twitter

[18:53](#msg5aa429b86f8b4b9946104112)Syntactically yes but from windows user point of view it's not. So ok I'll have to detect http:// to distinguish between one or the other.

gltewalt

[20:46](#msg5aa44439888332ee3a212321)http://www.rfc-editor.org/rfc/rfc1738.txt

Search for Specific Schemes

[20:49](#msg5aa444e7458cbde5571c45c1)https://imgur.com/a/j4QMb

## Sunday 11st March, 2018

greggirwin

[00:24](#msg5aa47755458cbde5571d0533)@lepinekong\_twitter, as @9214 says, Red has a datatype specifically for use with files, so use that. Because Red is a cross platform tool, Windows formats (or any OS) don't get special treatment.

sergeantWilson

[01:16](#msg5aa483598f1c77ef3aa7af5e)Hope you can help.  
So, I have a blue box in a window. like this: view \[ box blue ]  
How can I delete or remove the box from the view leaving the view empty ?  
Thanks.

rgchris

[01:55](#msg5aa48c838f1c77ef3aa7cdc6)@sergeantWilson `view [box blue [clear face/parent/pane]]`

[01:55](#msg5aa48c9de4d1c63604e69c0a)(click the blue box to invoke)

9214

[05:08](#msg5aa4b9b0a60157d62fd270db)@sergeantWilson I'd rather

```
view [box blue [face/visible?: off]]
```

since @rgchris's method removes \*all* faces, not just a box, permanently

toomasv

[05:38](#msg5aa4c0ddf3f6d24c685f31de)@sergeantWilson This way you can remove any box individually:

```
view [style bb: box [remove find face/parent/pane face] bb red bb blue bb green]
```

9214

[05:40](#msg5aa4c15535dd17022e462d82)@toomasv :confused:

toomasv

[05:40](#msg5aa4c15f8f1c77ef3aa86b0e)What?

9214

[05:40](#msg5aa4c167458cbde5571de678)just a sec

[05:41](#msg5aa4c1748f1c77ef3aa86b2c)\[!\[Peek 2018-03-11 10-40.gif](https://files.gitter.im/red/help/ta6m/thumb/Peek-2018-03-11-10-40.gif)](https://files.gitter.im/red/help/ta6m/Peek-2018-03-11-10-40.gif)

toomasv

[05:41](#msg5aa4c188888332ee3a22c0a8)Try to copy again :)

9214

[05:41](#msg5aa4c19ac3c5f8b90d59fcd4)ah, ok, now I trust you ;)

[05:42](#msg5aa4c1d3458cbde5571de84a)`exclude` also works fine, just too verbose

[05:43](#msg5aa4c1ff458cbde5571de8a2)@sergeantWilson :point\_up: whatever floats your boat

lepinekong\_twitter

[07:35](#msg5aa4dc4c6f8b4b994612b246)@greggirwin the context of usage is that an enduser that can pass a folder a file an url and when on windows he will copy and paste from explorer or ide so I need to distinguish between the two. Of course internal implementation uses red datatype.

[07:36](#msg5aa4dc6cf3f6d24c685f8df6)What is def ? It didn't exist in rebol so cannot find doc and red help is terse:

```
help def

     default!        typeset!      [datatype! none! logic! block! paren! string! file.
```

9214

[07:37](#msg5aa4dcd127c509a7744c35b0)@lepinekong\_twitter you may also ask "whait is `he`" or "what is `col`", or any other thing without thinking too much

```
>> help col
     as-color        routine!      [r [integer!] g [integer!] b [integer!]]
     collect         function!     Collect in a new block all the values passed to KEEP function from the bo...

>> help he
     checksum        native!       Computes a checksum, CRC, hash, or HMAC.
     dehex           native!       Converts URL-style hex encoded (%xx) strings.
     either          native!       If conditional expression is true, eval true-block; else eval false-blk.
     fetch-help      function!     Returns information about functions, values, objects, and datatypes.
     head            action!       Returns a series at its first index.
     head?           action!       Returns true if a series is at its first index.
     help            function!     Displays information about functions, values, objects, and datatypes.
     help-ctx        object!       [DOC_SEP DEF_SEP NO_DOC HELP_ARG_COL_SIZE HELP_TYPE_COL_SIZE HELP_COL_1_S...
     help-string     function!     Returns information about functions, values, objects, and datatypes.
     hex-to-rgb      function!     Converts a color in hex format to a tuple value; returns NONE if it fails.
     to-hex          native!       Converts numeric value to a hex issue! datatype (with leading # and 0's).
     wheat           tuple!        245.222.129
```

lepinekong\_twitter

[07:40](#msg5aa4dd5f53c1dbb743caa597)@9214 oh ok I didn't remark help could search on partial name :smile:

9214

[07:42](#msg5aa4ddd135dd17022e468f08)@lepinekong\_twitter I didn't either, but somehow I managed to figure it out on my own by experimenting in console ;)

lepinekong\_twitter

[07:43](#msg5aa4de08c3c5f8b90d5a64f7)@9214 yeah it's like discovering gems :sparkles:

[07:46](#msg5aa4def1e4d1c63604e7a2f2)Found a nice and quick tut/tips on error management with try: http://www.rebol-france.org/documentation/articles/gestiondeserreurs

[08:20](#msg5aa4e6db458cbde5571e688e)I have written this function for code markdown to paste on gitter:

````
to-markdown: func [/wrap /local src out][
    if wrap [] 
    src: read-clipboard 
    out: rejoin [
        newline 
        "```" 
        newline 
        src 
        newline 
        "```" 
        newline
    ] 
    write-clipboard out
]
````

Seems there's a glitch with write-clipboard it doubles blank lines so that

```
line1
line2
```

becomes

```
line1

line2
```

[08:30](#msg5aa4e90f27c509a7744c670d)What is routine compared to a function, when I look into write-clipboard:

```
routine [data [string!]][
    logic/box clipboard/write as red-value! data
]
```

[08:31](#msg5aa4e96ec3c5f8b90d5a902a)How do you submit after editing on gitter ?

[08:32](#msg5aa4e9b853c1dbb743cad101)I click on edit but in gitter menu there's only reply ?

9214

[08:34](#msg5aa4ea0f35dd17022e46c038)There's a timeout for message editing, if that's what you're asking.

lepinekong\_twitter

[08:36](#msg5aa4ea8e27c509a7744c6e4f)I edited immediately. Edit button works: I can modify.

[08:37](#msg5aa4eaaf458cbde5571e77e4)I retried with what I just typed, same thing.

9214

[08:37](#msg5aa4ead435dd17022e46c38b)How about hitting Enter after editing, to apply the changes?

lepinekong\_twitter

[08:38](#msg5aa4eb0f53c1dbb743cad638)@9214 yes :smile:

greggirwin

[08:57](#msg5aa4ef90f3f6d24c685fd817)&gt; What is routine compared to a function

`Routine` is Red/System code, and `function` is Red code.

lepinekong\_twitter

[09:22](#msg5aa4f560a60157d62fd34990)@greggirwin ah ok (can't find "redlang routine" google doesn't index well :smile: )

ne1uno

[09:28](#msg5aa4f6d4c3c5f8b90d5ac332)google has a python bias

[09:30](#msg5aa4f7446f8b4b9946131c0e)red-lang or red/rebol probably work better

lepinekong\_twitter

[09:34](#msg5aa4f83de4d1c63604e800cb)@ne1uno because they use python, that's unfair, we should contact FTC for monopoly :smile:

ne1uno

[09:36](#msg5aa4f8a935dd17022e46f5f3)not google the company, the search team at least.

lepinekong\_twitter

[09:37](#msg5aa4f8ca35dd17022e46f68d)@ne1uno happily for them, I'm too kind ;)

ne1uno

[09:43](#msg5aa4fa55e4d1c63604e8070a)we wouldn't have phones that can't update the os if the ftc was awake, don't count on them to help

lepinekong\_twitter

[10:57](#msg5aa50b9f8f1c77ef3aa98178)I don't understand how to use throw-error found here https://en.wikibooks.org/wiki/Rebol\_Programming/throw-error : what kind of arg I should pass :

```
throw-error: func [
    {Causes an immediate error throw with the provided information.} 
    err-type [word!] 
    err-id [word!] 
    args
][
    parse args: compose [(:args)] [0 3 [args: any-function! (
                change/only args copy/deep third first args
            ) | skip]] 
    args: head args 
    throw make error! reduce [err-type err-id pick args 1 pick args 2 pick args 3]
]
```

[10:58](#msg5aa50bce6f8b4b99461362ba)A simple hello world example would be great ;)

9214

[11:06](#msg5aa50d986f8b4b9946136a10)@lepinekong\_twitter `system/catalog/errors`

lepinekong\_twitter

[11:09](#msg5aa50e828f1c77ef3aa98b73)@9214 I'm trying to copy it to clipboard but failed with syntax :smile:

```
write-clipboard mold get 'errors in system/catalog
```

9214

[11:12](#msg5aa50f200a1614b712085ae5)Red has `cause-error` though, you don't need Rebol's mezzanine.

[11:13](#msg5aa50f5bc3c5f8b90d5b2354)@lepinekong\_twitter for a start, examine signatures of functions you're using

lepinekong\_twitter

[11:15](#msg5aa50fc7e4ff28713a1b98a3)@9214 ok will use cause-error but still don't understand what I should pass for args \[block!]

9214

[11:15](#msg5aa50fe3e4d1c63604e85cc7)@lepinekong\_twitter http://www.rebol.com/r3/docs/functions/cause-error.html

lepinekong\_twitter

[11:18](#msg5aa5109553c1dbb743cb6966)Thanks have always used Rebol 2 not Rebol 3 :+1:

[12:57](#msg5aa527a0e4ff28713a1bfd9f)is there a simplistic red code editor with syntax highlighting written in red itself ? I download rededit https://github.com/ldci/RedEdit but I can't see any editor just a console.

9214

[12:58](#msg5aa527ffe4ff28713a1bfeea)@lepinekong\_twitter there's no such editor, though, @vulnz did a \[little IDE experiment](https://github.com/vulnz/redide)

[12:59](#msg5aa52840e4d1c63604e8be52)also https://github.com/AlexanderBaggett/RedIDE

lepinekong\_twitter

[13:02](#msg5aa528d28f1c77ef3aa9f361)@9214 thanks do you know what is Rededit supposed to be ? @vulnz do you intend to implement syntax highlighting ?

hiiamboris

[13:11](#msg5aa52b13c3c5f8b90d5b9534)don't you all think it's kinda wrong that Draw's `text` command is unaffected by `clip`, `translate` or any other matrix transformations?

9214

[13:12](#msg5aa52b35458cbde5571f81a7)@hiiamboris some of us do think so https://github.com/red/red/issues/3225

hiiamboris

[13:13](#msg5aa52b7ec3c5f8b90d5b96aa)@9214 thanks, good to know :)

9214

[13:14](#msg5aa52bc2f3f6d24c6860bf92)@hiiamboris can you leave a comment on this issue wrt `clip` and matrix transofrmations, so that team could check them?

hiiamboris

[13:15](#msg5aa52bea8f1c77ef3aa9fea8)sure

rgchris

[14:58](#msg5aa5440735dd17022e4824a8)@9214 Strictly speaking for \*'leaving the view empty'* CLEARing the pane of the parent face is that.

9214

[15:00](#msg5aa5447be4ff28713a1c7afa)@rgchris let's wait for @sergeantWilson's response :)

rgchris

[15:01](#msg5aa544d78f1c77ef3aaa64f7)To clarify the question, you mean?

9214

[15:02](#msg5aa5451035dd17022e482869)@rgchris yup

rgchris

[15:20](#msg5aa54926c3c5f8b90d5c08ab)Fine, but doesn't make that statement any less true.

rebolek

[15:53](#msg5aa550fee4ff28713a1caf3a)@lepinekong\_twitter you mean something like this? https://i.imgur.com/k4qbgaM.gif

lepinekong\_twitter

[16:00](#msg5aa552a20a1614b712096cf3)@rebolek yeah I want it :sparkles:

rebolek

[16:06](#msg5aa553f3e4ff28713a1cbe69)@lepinekong\_twitter I'm not sure if it's part of Gritter, or if I have't uploaded it yet. If not, I will.

[16:06](#msg5aa55410a60157d62fd4cd11)But don't expect full editor.

BeardPower

[16:23](#msg5aa55803e4d1c63604e98df0)@rebolek What is Gritter?

9214

[16:24](#msg5aa55826e4d1c63604e98e98)@BeardPower https://github.com/rebolek/gritter

BeardPower

[16:37](#msg5aa55b39f3f6d24c68618ab9)Ah, interesting.

nedzadarek

[16:37](#msg5aa55b538f1c77ef3aaac592)Is it possible to break from "higher level loop"?  
For example I have structure like this:

```
while [true] [
 print 'loop1 
 while [true ] [
    print 'loop2
      while [true] [
        print 'loop3
      ]
  ]
]
```

I can control only the most inner loop (`loop3`). When I put `break` there (after `print 'loop3`) it will only break from `'loop3` (so it will be in the `'loop2`).

9214

[16:38](#msg5aa55b6c35dd17022e488711)@nedzadarek use `catch` and `throw`

nedzadarek

[16:42](#msg5aa55c786f8b4b994614b9ea)@9214 but what if I cannot (or don't want to) edit other loops?

rebolek

[16:43](#msg5aa55cb3a60157d62fd4f2df)I wrote it just before @qtxie introduced `text-box!` and then abandoned it, because `text-box!` is much better approach.

9214

[16:45](#msg5aa55d0e458cbde557205e61)@nedzadarek you need to wrap nested loops in `catch` block and place `throw` in the deepest one

[16:45](#msg5aa55d4327c509a7744e413f)

```
text
>> catch [forever [forever [forever [throw 'something]]]]
== something
```

nedzadarek

[16:49](#msg5aa55e1327c509a7744e4519)So I need to edit each loop... I don't like this. Well... thank you.

9214

[16:50](#msg5aa55e508f1c77ef3aaad1ac)you don't need to edit anything, group of loops is just wrapped in a block, their structure remains the same

[16:50](#msg5aa55e698f1c77ef3aaad217)such deep nesting is a code smell though, I suggest you to refactor a problem if possible

nedzadarek

[16:51](#msg5aa55e9027c509a7744e482d)It's not my code. I want to insert some code.

[16:52](#msg5aa55eb3e4d1c63604e9aae6)I have 1 loop to do my stuff. 2-3 loops are possible in normal code

9214

[16:53](#msg5aa55f11e4d1c63604e9ac59)

```
text
catch [
    forever [
        print 1
        forever [
            print 2
            forever [
                throw print 3
            ]
        ]
    ]
]
```

lepinekong\_twitter

[16:55](#msg5aa55f9c27c509a7744e4cab)@rebolek I don't really want full editor in fact I just want to have a simple syntax highliter example ;)

[16:58](#msg5aa56039c3c5f8b90d5c6b6f)@rebolek I just want a simple text box to edit a single red function quickly (much better with syntax highlight).

[16:59](#msg5aa56083458cbde5572070b5)@rebolek so I can do this simple editor (loading / saving), I don't know how to do syntax highlight.

nedzadarek

[17:00](#msg5aa560c735dd17022e48a049)@9214 but it breaks loop nr. 1 and nr.2 What if I want to do something like this:

```
catch [
    forever [
        print 1
        forever [
            print 2
               foo N
        ]
    ]
]
```

Where the `N` is the number of loops to break (e.g. `foo 1` = break, `foo 2` breaks 2 loops: `catch [forever [forever [throw]]` etc)

9214

[17:01](#msg5aa56102e4ff28713a1cf87c)@nedzadarek idk, create external counter and check it in each loop. What are you trying to do, specifically?

[17:02](#msg5aa561306f8b4b994614cefb)you can exploit `halt`, maybe

nedzadarek

[17:04](#msg5aa5618935dd17022e48a478)@9214 https://en.wikipedia.org/wiki/Breakpoint

9214

[17:07](#msg5aa56249e4ff28713a1cfeb7)hmm, that's tricky

nedzadarek

[17:08](#msg5aa56282a60157d62fd50a87)Yes. I could only break from 2nd loop.

endo64

[17:08](#msg5aa5628735dd17022e48a8e1)What about named `catch` and `throw`?

```
catch/name [
    forever [
        print 1
		catch/name [
			forever [
				print 2
				throw/name 1 'outer
			]
		] 'inner
    ]
] 'outer
```

9214

[17:08](#msg5aa5629853c1dbb743ccc2c0)@endo64 yes, just thought to mention that :+1:

endo64

[17:08](#msg5aa56299458cbde5572079ed)This way you can decide whichever loop to break

rebolek

[17:10](#msg5aa562fa8f1c77ef3aaae7fb)@lepinekong\_twitter I will publish the code, probably later today or tomorrow, when I've got some time, but do not expect too much, features like selection are done only partially.

nedzadarek

[17:10](#msg5aa563228f1c77ef3aaae8eb)@endo64 @9214 I'm bit closer. Thank you for help!

lepinekong\_twitter

[17:18](#msg5aa5650153c1dbb743cccbc7)@rebolek thanks a lot. Take your time ;)

[17:19](#msg5aa5651a53c1dbb743cccc1c)@rebolek I don't need any fancy stuff just highlight.

rebolek

[17:35](#msg5aa568f0458cbde557209703)@lepinekong\_twitter highlighting is actually pretty fancy ;)

[17:36](#msg5aa569298f1c77ef3aab01dd)https://i.imgur.com/U24nQ1s.gif

lepinekong\_twitter

[18:17](#msg5aa572cdf3f6d24c6861f35f)@rebolek I rather mean anything fancy apart from highlight that's why I can't do it :smile:

BeardPower

[18:54](#msg5aa57b598f1c77ef3aab50cc)@rebolek Nice.

lepinekong\_twitter

[19:07](#msg5aa57e70e4d1c63604ea3a14)Is there a mechanism to redirect console output temporarily or at least mute it (for example during automated test) and reestablish it (without modifying the function of course) ? Otherwise I'll use a global flag to do so.

9214

[19:25](#msg5aa5829327c509a7744ef258)@lepinekong\_twitter pipes?

hiiamboris

[19:30](#msg5aa583cd458cbde557211464)@9214 found your spoon meditation example - very insightful! best doc on bind probably (:

lepinekong\_twitter

[19:31](#msg5aa583f88f1c77ef3aab752a)@9214 I don't know pipes except for Linux or Windows, does it exist inside Red ? Any doc thanks.

9214

[19:31](#msg5aa58412458cbde5572115d5)@hiiamboris thanks! It's an old one, and IMO a little bit obscure. Feel free to ask any clarifying questions here :)

[19:31](#msg5aa58420f3f6d24c68623ed2)@lepinekong\_twitter I meant OS pipes, yes

lepinekong\_twitter

[19:32](#msg5aa5844e0a1614b7120a4daa)@9214 yes if I call from OS. But I can also call from red console herself.

[19:33](#msg5aa5848c458cbde557211775)In fact even from OS that wouldn't be enough as I don't want to pipe all messages only some.

9214

[19:33](#msg5aa584a435dd17022e493ba7)So you want to suppress interpreter's output from the script itself? I don't think that's possible.

[19:34](#msg5aa584b3e4ff28713a1d9437)... unless you use global flag

[19:34](#msg5aa584c46f8b4b9946156973)and `if flag [print "blah"]`

gltewalt

[19:34](#msg5aa584e26f8b4b9946156a0a)Speaking of examples / articles... @9214 style parse article?

9214

[19:35](#msg5aa584e5458cbde5572119d4)or you can redefine output functions themselves

lepinekong\_twitter

[19:35](#msg5aa584eba60157d62fd5a6b4)@9214 yes I'll have to use global flag then.

9214

[19:35](#msg5aa584ef27c509a7744efd50)@gltewalt I derailed :(

[19:36](#msg5aa585340a1614b7120a51d0)mostly hung up with personal studies, though, I have some stuff drafted

gltewalt

[19:36](#msg5aa5855b8f1c77ef3aab7a3e)Some track has been fixed and the train is back in motion, so might be good timing

9214

[19:37](#msg5aa5858227c509a7744eff35)indeed, the clock is ticking perfectly

lepinekong\_twitter

[19:38](#msg5aa585af8f1c77ef3aab7b96)I have found a flowchart app http://chartmage.com/index.html to try to debug my search script https://gist.github.com/lepinekong/15d78322ecce84cfbcf892ce1cdbda88 but the automatic layout has some difficulty with complex loop :smile: https://user-images.githubusercontent.com/5175342/37257235-aea3e728-2566-11e8-88e3-0642fffbbbf3.png

[19:40](#msg5aa586236f8b4b9946156ff3)I really wish someone implemented grafcet it would be much more clean layout ! I'll try to do it in Red when I'll master Red Graphics ;) https://www.developpez.net/forums/attachments/p141127d1395415751/bases-donnees/ms-sql-server/developpement/faire-modelisation-d-grafcet/grafcet.jpg

[19:46](#msg5aa5879853c1dbb743cd6a3c)&gt; or you can redefine output functions themselves  
@9214 maybe with pre-processor ;)

hiiamboris

[20:33](#msg5aa5929353c1dbb743cd9a53)let's do a contest: "crash Red in as few words as possible"  
my entry will be this: `make face! [bad: self]`

lepinekong\_twitter

[20:49](#msg5aa5965ce4d1c63604eaa11d)a

[20:50](#msg5aa5967a458cbde557216802):smile:

```
*** Script Error: a has no value

*** Where: catch

*** Stack: prin
```

[20:50](#msg5aa596ad0a1614b7120a9ca8)@hiiamboris did I win ;)

hiiamboris

[20:51](#msg5aa596c18f1c77ef3aabc73d)@lepinekong\_twitter nope (: it didn't crash did it?

lepinekong\_twitter

[20:55](#msg5aa597c4458cbde557216dd6)@hiiamboris ah ok read-clipboard %/c/a.png

[20:56](#msg5aa597f4f3f6d24c686299bf)on windows it crashes

hiiamboris

[20:57](#msg5aa5984427c509a7744f4ca1)hmm, mine doesn't  
@lepinekong\_twitter you sure? it seems read-clipboard doesn't accept arguments

[20:59](#msg5aa598b4e4ff28713a1de966)@lepinekong\_twitter shit, you win! (: if you copy an image and then just type `read-clipboard`...

[20:59](#msg5aa598b98f1c77ef3aabcdcc)can't beat that lol

lepinekong\_twitter

[20:59](#msg5aa598c36f8b4b994615c310)@hiiamboris yes you're right so it's just read-clipboard (you must copy an image before)

[21:00](#msg5aa598f26f8b4b994615c3d7)&gt; @lepinekong\_twitter shit, you win! (: if you copy an image and then just type `read-clipboard`...  
First time I would win something at red :smile:

SmackMacDougal\_twitter

[21:00](#msg5aa598f48f1c77ef3aabcf63)Given this:

```
Red [] 

ytlink: define [

    yurl [url!]

][

    ;; strip any list data from the url to get it in this form:
    ;; https://www.youtube.com/watch?v=x6F_S4LbdpE
    if found? find yurl "&" [parse yurl [copy mlink to "&" to end] yurl: mlink]

    ;; get the video id
    parse yurl [thru "watch?V=" copy mid to end]

    ;; define the new end point
    ep: https://www.youtube.com/embed/

    ;; make the new url
    yurl: join ep mid

    ;; define the tag
    itag: <iframe width="560" height="315" src="***" frameborder="0" allow="autoplay; encrypted-media" allow fullscreen></iframe>
    
    ;; embed the url in the source attribute
    change/part find itag "***" yurl 3

    write-clipboard mold itag: head itag
	return itag
]
```

where define: :function

Why does this happen?

```
>> x: ytlink https://www.youtube.com/watch?v=dmckigvz7Hg&t=3s
== <iframe width="560" height="315" src="https://www.youtub
>> y: ytlink https://www.youtube.com/watch?v=t9TrUPoevXI&t=437s
*** Script Error: change does not allow none! for its series argument
*** Where: change
*** Stack: ytlink
```

Since any set-word! should be local to the body of the function, should not itag be re-written with each invocation? On the second call, itag must have the constructed url from the first call and hence find can't find "\*\*\*".

This isn't expected.

meijeru

[21:19](#msg5aa59d57f3f6d24c6862af40)Perhaps `itag: copy`
