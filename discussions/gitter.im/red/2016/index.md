# Archived messages from: [gitter.im/red/red](/gitter.im/red/red/) from year: 2016

## Saturday 5th March, 2016

dockimbel

[05:37](#msg56da708fa5492841166884e2)@c0ldT Depends on how you use it.

c0ldT

[05:39](#msg56da7112817dfa1e41ec8414)Who runs the Try Rebol

dockimbel

[05:40](#msg56da7130b0cc3f1b41503aed)@c0ldT Kaj de Vos.

c0ldT

[05:40](#msg56da7145a5492841166884f3)When I use n: random 29 it returns none

[05:43](#msg56da71ebddfe3d431627d895)For Red and Rebol 2

dockimbel

[05:43](#msg56da71f01263673835711527)@c0ldT Just tried it on \[TryRebol](https://tryrebol.esperconsultancy.nl/), works fine from here.

c0ldT

[05:47](#msg56da72fd19834f3c3534fa04)from phone it has given some "none" results. Weird...

asampal

[06:58](#msg56da839a230d2a051f1f7162)@dockimbel doesn't that code return less than n numbers if duplicates are generated?

dockimbel

[07:37](#msg56da8cafb0cc3f1b41503e05)Yes, it does. The need for returning a given number was not expressed, so I didn't bother implementing it.

c0ldT

[08:05](#msg56da935cb0cc3f1b41503e93)Return 5 numbers. I assumed that could be controlled via when or until

rebolek

[08:16](#msg56da95f268c0777464829ee8)Yes.

```
red>> list: make block! 5
== []
red>> until [alter list random 100 5 = length? list]
== true
red>> list
== [23 67 31 73 63]
```

mikeparr

[08:37](#msg56da9ad468ddef776468ce56)@JerryTsai Hi Jerry - I would be interested in assisting with English - if needed, and depending on how much work it would take. I have written computing books in English.

c0ldT

[09:27](#msg56daa66addfe3d431627ddba)

```
red>> generate-numbers: func [how-many [integer!] max-value [integer!]] [
[          result: make block! how-many
[          until [alter result random max-value how-many = length? result]
[          sort result
[    ]
== func [how-many [integer!] max-value [integer!]][result: make block...
red>> loop 10 [print generate-numbers 5 75]
25 32 42 50 51
9 50 56 65 66
20 32 37 67 73
40 47 65 68 74
3 8 13 57 75
23 56 61 62 74
5 23 46 73 75
27 53 55 57 71
3 4 15 49 72
4 7 50 67 69
red>>
```

JerryTsai

[11:48](#msg56dac7a319834f3c353502bf)@mikeparr Thanks.

nickantonaccio

[13:28](#msg56dadefd817dfa1e41ec8ff9)@JerryTsai I would welcome the opportunity to help translate your book

JerryTsai

[14:39](#msg56daef8eb0cc3f1b415049b1)@nickantonaccio Thanks. That would be my pleasure. But you should write a Red book before I do, because you have been writing lots of Red/REBOL materials. 8-) We need many Red books, not just one. Every book can talk about Red from different angles, such as, Teach yourself Red in 21 days, Red in a nutshell, Red API reference, Red for dummies, GUI programming in Red, Server programming in Red, Red programming for Java programmers.

[14:42](#msg56daf04c68ddef776468d843)Red programming for hardware, Red Dialect design patterns, Red programming for absolute beginners, Red programming for the impatient.

iArnold

[14:49](#msg56daf1f0230d2a051f1f71ea)"The first hundred years of Red development";-)

c0ldT

[15:16](#msg56daf86868ddef776468d9a2)I would like to see something that breaks down the internals, like this book did for lisp:https://www.cs.cmu.edu/~dst/LispBook/book.pdf

[15:54](#msg56db0126817dfa1e41ec9566)Common Lisp: A Gentle Introduction to Symbolic Computation

lispberry

[17:39](#msg56db19cc19834f3c35350f1a)Hi everyone.  
Could you tell me how to create face dynamically and display it on screen?

c0ldT

[17:52](#msg56db1ce61263673835712b15)@LispBerry have you had a look at this? http://redprogramming.com/Short%20Red%20Code%20Examples.html

lispberry

[18:01](#msg56db1eebb0cc3f1b415051ad)yes

## Sunday 6th March, 2016

xaduha

[00:46](#msg56db7df7a54928411668ae32)trying to use/convert this function from https://en.wikibooks.org/wiki/REBOL\_Programming/delete-dir

```
delete-dir: func [
    {Deletes a directory including all files and subdirectories.} 
    dir [file! url!] 
    /local files
][
    if all [
        dir? dir 
        dir: dirize dir 
        attempt [files: load dir]
    ] [
        foreach file files [delete-dir dir/:file]
    ] 
    attempt [delete dir]
]
```

but `dirize` isn't supported by Red. Is there another way?

PeterWAWood

[01:24](#msg56db86c368c077746482c4eb)If you take a look at the source of dirize in Rebol, you will see that all it does is add a "/" to the end of the file name (unless the name already ends in "/"):

```
>> source dirize
dirize: func [
    {Returns a copy of the path turned into a directory.} 
    path [file! string! url!]
][
    either #"/" <> pick path length? path [join path #"/"] [copy path]
]
```

[01:26](#msg56db8756ddfe3d4316280288)The problem that you will face is that the script you are trying to convert uses

```
dir?
```

. In Rebol 2, this actually checks that the directory exists and is a directory. In Rebol3, it simply checks that the name ends in /. The temporary version in Red, also just checks that the name ends in /.

[01:34](#msg56db890f68c077746482c522)The temporary Input-Output in Red 0.6.0 provides very minimal features. Input-Output support is planned for Alpha release 0.7.0.  
Once that is released, you will be able to convert the Rebol function.

[01:35](#msg56db894ba54928411668af8a)(For example, the temporary IO support does not include a

```
delete
```

function.)

xaduha

[01:40](#msg56db8a7668ddef776468f337)This is mostly just for fun, so I'll probably look into using `unlink` syscall with Red/System

PeterWAWood

[02:07](#msg56db90f61263673835714054)@xaduha That sounds great. You will need to convert the filename from a Red

```
string!
```

to a Red/System

```
c-string
```

. This code may help:

```
Red []

red-string-to-c-string: routine [
	s				[string!]
	/local
		len			[integer!]
		line-ends	[logic!]
		sc			[c-string!]
][
	len: -1 								;; Convert whole string
	line-ends: true							;; Convert line endings
	sc: unicode/io-to-utf8 s :len line-ends
	print [sc lf]
]	
	
red-string-to-c-string "Hello"
```

Here is the output:

```
./test
Hello
```

dockimbel

[04:11](#msg56dbae02a54928411668b31b)@LispBerry All faces are created dynamically, either manually or with the help of the VID dialect. Here are two simple examples:

```
view [text "hello"]

view make face! [
	type: 'window
	size: 200x200
	pane: reduce [
		make face! [
			type: 'text
			text: "hello"
			offset: 10x10
			size: 100x30
		]
	]
]
```

c0ldT

[04:32](#msg56dbb2e068c077746482c957)@dockimbel Do you have your journey to Red written down anywhere?

dockimbel

[05:03](#msg56dbba0fa54928411668b422)@c0ldT Not yet, though some people asked me to write it down in order to publish it.

bitbegin

[08:14](#msg56dbe6ed68ddef776468fc47)How to use a variable defined in #system?

[08:15](#msg56dbe71119834f3c35352d27)

```
#system [a: 1]
print a
```

meijeru

[09:24](#msg56dbf7571263673835714a9f)@dockimbel In the main README there is the phrase "The Red toolchain comes as a single \*\*half-megabyte\** executable file...". I think that should be updated to reflect the current size ;-)

PeterWAWood

[10:27](#msg56dc0610817dfa1e41ecbae5)@bitbegin The variable defined in #system is only accessible from Red/System. For example, it can be accessed via a routine!.  
Code:

```
#system [a: 1]

get-a: routine [
	return: [integer!]
][
	a
]
 print get-a
```

Output:

```
1
```

bitbegin

[11:01](#msg56dc0df919834f3c3535316b)I know this way, but it's not simple.

PeterWAWood

[11:22](#msg56dc12f719834f3c35353213)If you already knew how to do it, why did you ask?

dockimbel

[12:04](#msg56dc1cdb19834f3c3535336c)@bitbegin Red/System is a lower-abstraction language compared to Red. In Red, values are boxed in Red and live in a special region of the memory managed by Red's memory allocator. There is no other way to access Red/System data from Red layer other than using routines. Eventually in the future, we might allow a Red struct! datatype to map to Red/System struct values, but that's the best we can do.

[12:06](#msg56dc1d4a1263673835714f06)The difference in abstraction level requires a conversion layer between the two realms.

[12:08](#msg56dc1da5ddfe3d431628125c)@meijeru Indeed. You can submit a PR to change it to `one-megabyte`. ;-)

bitbegin

[12:22](#msg56dc21181263673835714f7c)@dockimbel Thanks!

meijeru

[16:01](#msg56dc545cb0cc3f1b41507e57)@dockimbel I am sorry but I am not on Github that way...

WiseGenius

[16:38](#msg56dc5d05a54928411668c97b)@PeterWAWood How does one go the other way (`c-string-to-red-string`)? How does one do `c-string-to-red-binary`?

[16:38](#msg56dc5d10b0cc3f1b41507fc5)@dockimbel A Red `struct!` would be great!

c0ldT

[18:03](#msg56dc70fa68c077746482e1fe)It's only logical that there should be a different namespace between Red and Red/System

dander

[19:54](#msg56dc8b0268c077746482e71c)@meijeru github allows you to submit simple edits as pull requests without having to do the whole process of forking a repo, checking in a change, and making the PR. It automates that whole process for you

iArnold

[20:00](#msg56dc8c6d983b80d63ef5b6d8)@dander And editing a file on the github site still creates an extra linefeed at the end of the file, which in turn, makes doc reject the PR?

[20:01](#msg56dc8c85230d2a051f1f75b9)It is not that easy ;-)

dander

[20:13](#msg56dc8f6b68c077746482e7d8)Sorry, didn't know about that :/

asampal

[23:20](#msg56dcbb4d689c4ac04a59ff51)@dockimbel is what @iArnold is saying true? If so, couldn't a hook take care of that?

## Monday 7th March, 2016

xaduha

[00:43](#msg56dccea868c077746482f343)@asampal as far as I remember this one dfe7f0d4fe was made using web interface, no problem with a newline/linefeed, it was accepted.

[00:48](#msg56dccffaa54928411668de81)also, there are already 3 empty lines in README.md as of now, so what does it matter? #1675 here we go, easiest thing in the world.

dockimbel

[04:37](#msg56dd05a468c077746482fa8d)@asampal No, it's not (@xaduha just demonstrated it with its PR).

[04:39](#msg56dd060e817dfa1e41ece572)@c0ldT It's much more than namespaces, it's different realms where, e.g., datatypes are not represented the same way (an integer in R/S and an integer in Red are represented differently in memory).

PeterWAWood

[05:13](#msg56dd0df368ddef7764692961)@WiseGenius c-string to red-string is a little more complicated ... I'll have to try and work out who to do it.

rebolek

[05:20](#msg56dd0f8819834f3c35355b5e)@WiseGenius this should work:

```
return-red-string: routine [
	text [c-string!]
	/local
		str [red-string!]
] [
	str: string/load text length? text UTF-8
	SET_RETURN(str)	 
]
```

PeterWAWood

[05:24](#msg56dd1076b0cc3f1b41509dae)@rebolek I'd just worked that out ;-) Though slightly shorter:

```
Red []
		
c-string-to-string: routine [
	return:			[string!]
	/local
		s			[c-string!]
][
	s: "hello"
	string/load s length? s UTF-8
]

print c-string-to-string
```

WiseGenius

[05:24](#msg56dd107fa54928411668e704)@PeterWAWood @rebolek Thanks. I'd already worked it out and was about to post something similar. Now I'm trying to work out to `c-string-to-red-binary` assuming no UTF-8 encoding.

rebolek

[05:26](#msg56dd10f519834f3c35355b85)@PeterWAWood I just copied some code I am using, so there’s the return macro. It’s nice if it’s not needed anymore.

PeterWAWood

[05:26](#msg56dd1114ddfe3d4316283b0a)@WiseGenius Try

```
binary/load
```

from

```
datatypes/binary.reds
```

WiseGenius

[05:27](#msg56dd112619834f3c35355b8b)@PeterWAWood Thanks. I'll try that.

PeterWAWood

[05:27](#msg56dd113968c077746482fbe5)@rebolek I don't think it is required any longer as the program that I listed printed "Hello".

rebolek

[05:27](#msg56dd114ca54928411668e723)Good to know, thanks.

WiseGenius

[05:40](#msg56dd1448ddfe3d4316283b56)This works:

```
Red []

c-string-to-binary: routine [
    return:            [binary!]
    /local
        s            [c-string!]
][
    s: "hello"
    binary/load as byte-ptr! s length? s
]

print c-string-to-binary
```

Was it correct to use `as byte-ptr!` here like this? I'm such a noob!

rebolek

[05:43](#msg56dd150da54928411668e77d)If you look at the source of `binary/load`, it expects `byte-ptr!` value, so yes, it is correct :-)

WiseGenius

[08:19](#msg56dd39adb0cc3f1b4150a36f)The automated builds are linking to "404 Page not found".

iArnold

[08:44](#msg56dd3f73b0cc3f1b4150a4c9)&gt; @asampal No, it's not (@xaduha just demonstrated it with its PR).

Good to hear that. It was probably fixed. It is now also possible to upload files using the browserinterface, that was also a problem before. Good to see things improve here because Github does not bother to support older Mac OS X versions. Lately I found out that has something to do with Apple trying to make sure developers cannot support those versions any longer, but that is a complete other story.

Now my only need is the 'panel type face to support transparancy to finish my version of the game of Xiangqi for Red.

dockimbel

[08:49](#msg56dd409f1263673835717db3)@WiseGenius They all work from here.

[08:51](#msg56dd40f919834f3c35356295)@iArnold Have you tried using a `base` face instead of `panel` as they should now support child faces?

lispberry

[09:24](#msg56dd48bb68ddef776469326e)How to keep any-type in parse?

[09:26](#msg56dd492d817dfa1e41ecf084)for example

```
parse [100] [collect [keep integer! | keep string! ...]]
```

rebolek

[09:37](#msg56dd4bc0a54928411668f118)

```
red>> parse [100 1.1 "ahoj" #nazdar] [collect [some keep skip]]
== [100 1.1 "ahoj" #nazdar]
```

[09:38](#msg56dd4c0819834f3c35356540)Of course, it works with `any-type!` also:

```
red>> parse [100 1.1 "ahoj" #nazdar] [collect [some keep any-type!]]
== [100 1.1 "ahoj" #nazdar]
```

lispberry

[09:53](#msg56dd4f8468c0777464830726)@rebolek, thank you for your help.

rebolek

[09:53](#msg56dd4fa21263673835718185)@LispBerry You’re welcome.

iArnold

[10:19](#msg56dd55c068c07774648308ee)&gt; @iArnold Have you tried using a `base` face instead of `panel` as they should now support child faces?

I have tried with version 5748. With new 5752 it is working with 'base ! (So what is 'panel good for now?)

pekr

[10:25](#msg56dd572b68c077746483094e)IIRC, e.g. in R3 GUI, there were various versions of panels, or something like that. Those were specific layout wise, resizing wise, etc.

justjenny

[12:30](#msg56dd744cddfe3d4316284f37)Hi, I just joined, been trying some red programming, pretty simple stuff so far, can anyone show me how to play .wav files?

rebolek

[12:37](#msg56dd7610a54928411668fb9d)Hi @justjenny, Red is still alpha and there’s no simple way to play WAV yet. AFAIR, @Oldes did some stuff in this area, so maybe he can help.

justjenny

[12:52](#msg56dd799868c07774648311bc)thanks you @rebolek , I will ask him.

Oldes

[13:47](#msg56dd866e68ddef77646941d7)I only did this \[experiment with parsing WAV file](https://gist.github.com/Oldes/2ead960c4134a9799b0a) and had some simple binding with OS api to play raw wav, which cannot find.. nothing special. I'm too busy elsewhere at this moment.

iArnold

[15:26](#msg56dd9dad1263673835719807)Kaj has a SDL binding for Red/System http://red.esperconsultancy.nl/Red-SDL/timeline (you can quickly find it back on contributions page of red-lang.org ) I tried recently. It works, except it has some trouble when the frequency of the file is not what is expected by default. (I had some old wav file laying around that was played much too fast).

kermitaner

[20:07](#msg56dddf9c68c077746483333e)hello, is there an easy way to start the random function ? random/seed now doesn't work yet (OS windows )

iArnold

[20:17](#msg56dde1da5a265f6865899613)There is a now in one of Kaj's bindings.

[20:20](#msg56dde29de3e5123a1dace55e)Or you could read a file you prepare before starting your program. Alpha software requires a bit of creativity to overcome some of the shortcomings.

justjenny

[21:08](#msg56ddede368ddef776469637f)thanks @iArnold I will take a look.

## Tuesday 8th March, 2016

justjenny

[01:08](#msg56de25fea5492841166930fa)

[01:20](#msg56de28c6a54928411669318e)Sorry, I meant SDL ....

ghost~5680c5f416b6c7089cc058a5

[02:02](#msg56de32ae68c0777464834802)@justjenny This repo contains all Kaj's Bindings. Have a look here - https://github.com/kealist/RS-fossil-mirror

[02:16](#msg56de35fa817dfa1e41ed3394)Just Download the ZIP file of the repo \[Direct Link](https://github.com/kealist/RS-fossil-mirror/archive/master.zip) . Extract the zip. Go to `SDL/examples`. Compile `play-SDL-WAV.reds` and run the resulting executable from the command line (command prompt on windows).

[02:17](#msg56de362da54928411669340d)You will need the SDL 1.x runtime library as Kaj's SDL binding is for SDL 1.x

[02:17](#msg56de3657817dfa1e41ed33a8)For SDL2, there is @JacobGood1 https://github.com/JacobGood1/red-sdl-bindings . Though I don't know how complete it is...

JacobGood1

[02:39](#msg56de3b5c817dfa1e41ed347d)@nc-x I would not use mine... broken and abandoned... was creating it for a learning exercise

xaduha

[04:01](#msg56de4e8819834f3c3535ac4d)I'd use BASS  
http://www.un4seen.com/bass.html  
http://stackoverflow.com/questions/7180920/bass-play-a-stream

dockimbel

[04:57](#msg56de5bbe126367383571c8b2)@kermitaner You can just use an online random number generator for seeding:

```
random/seed load read https://www.random.org/integers/?num=1&min=1&max=100000000&col=5&base=10&format=plain&rnd=new
```

iArnold

[08:08](#msg56de888c68ddef77646980cd)&gt; @justjenny This repo contains all Kaj's Bindings. Have a look here - https://github.com/kealist/RS-fossil-mirror

No better use the rebol script provided by Kaj to get all his (latest version of the) bindings (download.r) http://red.esperconsultancy.nl/Red-test/dir?ci=tip

dockimbel

[08:24](#msg56de8c4ab0cc3f1b4150f696)Added first demo \[code](https://github.com/red/code/blob/master/Showcase/livecode.red) in red/code/showcase. Enjoy. ;-)

[08:27](#msg56de8d02ddfe3d4316289591)Feel free to \[capture](https://screentogif.codeplex.com/) a nice session from that demo and send it to us on Twitter, FB, email or just publish it here. We'll include the best one in the blog post for 0.6.0 release which surely will get many views. ;-)

pekr

[08:31](#msg56de8dc4b0cc3f1b4150f6de)The smallest live code editor I have ever seen :-)

rebolek

[08:33](#msg56de8e5b817dfa1e41ed412b)It even fits in a Tweet!

dockimbel

[08:34](#msg56de8e7f68ddef77646981ef)@Pekr As soon as we have a nice gif anim to demo it, I'll tweet something like that. ;-)

[08:36](#msg56de8f2468ddef776469820c)Just be sure to use the latest commit to run it.

rebolek

[08:37](#msg56de8f56126367383571d09d)@dockimbel I tried some simple code: `button "print" [print "hello"]`, the button is added, but pressing on it does nothing.

dockimbel

[08:38](#msg56de8f91a5492841166941d6)@rebolek You should run it from a console (CLI or GUI) in order to see the output of `print`.

rebolek

[08:38](#msg56de8f9f68c077746483566e)@dockimbel I do.

dockimbel

[08:39](#msg56de8fa568c0777464835672)It works fine here. Do you use the GUI or CLI console?

rebolek

[08:39](#msg56de8fd168c077746483567b)CLI console.

[08:40](#msg56de900e68ddef776469824a)Hm, this does not work too: `b: button "x" [b/text: "y"]`

dockimbel

[08:41](#msg56de903a817dfa1e41ed419d)Works fine here...

[08:42](#msg56de906968ddef7764698262)@rebolek Are you using the latest Red commit?

rebolek

[08:44](#msg56de90f3126367383571d0f3)Yes, I just rebuild the console to make sure it’s using latest source, but still the same

[08:46](#msg56de915468c07774648356d1)It’s strange, when I probe the pane, the on-click actor is there.

dockimbel

[08:47](#msg56de91aea549284116694254)I never had any issue with printing from that demo code, I have used it countless time in the last months to demo Red/View to many people here.

rebolek

[08:51](#msg56de928c19834f3c3535b6d2)Hm and now it stopped updating the output.

[08:55](#msg56de939319834f3c3535b6fe)Ok, that was my fault, I redefined `s` :). But the dynamically added widgets do not generate any events here.

dockimbel

[08:56](#msg56de93a9ddfe3d43162896f9)@rebolek Which platform? XP?

rebolek

[08:56](#msg56de93bb68ddef776469832a)@dockimbel W7 VM.

dockimbel

[09:00](#msg56de949a817dfa1e41ed4292)@rebolek I just tried a compiled version of livecode demo and run it on a XP image under VMWare and the events are working fine. Which virtualization tool are you using?

rebolek

[09:01](#msg56de94db126367383571d1b7)@dockimbel I tried the console version under XP VM and same behavior. I will try to compile it.

[09:01](#msg56de94e3b0cc3f1b4150f889)VirtualBox

[09:03](#msg56de9571b0cc3f1b4150f8a1)Hm, compiled version is same.

dockimbel

[09:03](#msg56de957719834f3c3535b76a)We tried on different Windows versions here (both native and virtualized) and the livecode demo is working fine.

[09:04](#msg56de95b0a54928411669432b)@pekr You can relay my message above on FB. ;-)

meijeru

[09:05](#msg56de95c168c07774648357b4)@dockimbel Could changes to the red/code repository show up under "Activity" (right panel on this page)?

rebolek

[09:05](#msg56de95e6817dfa1e41ed42e0)I don’t understand why it shouldn’t work. I am adding faces dynamically in some other code I am working on and it works fine there.

dockimbel

[09:09](#msg56de96ae68c07774648357e3)@meijeru Yes, I just installed a webhook for it on the red/code repo, so next change there should be notified under "Activity" here.

[09:10](#msg56de96eb68ddef77646983ed)@rebolek Are you using the latest version of livecode.red? I pushed a fix after the initial version.

rebolek

[09:12](#msg56de976419834f3c3535b7ef)@dockimbel No, that was it. It works fine now, thanks!

dockimbel

[09:13](#msg56de97bdb0cc3f1b4150f94d)We still have some improvements to make on the base face, to make it work better as a container for native widgets.

rebolek

[09:14](#msg56de97e4817dfa1e41ed4359)So that the faces in `base` do not generate events is a bug, isn’t it?

dockimbel

[09:18](#msg56de990168c0777464835882)@rebolek Looks like a bug, yes. I let @qtxie investigate it, he's the "base" face expert. ;-)

rebolek

[09:19](#msg56de991d68c077746483588a)Ok :-)

[09:19](#msg56de993c817dfa1e41ed43cf)And now I got access violation on things that worked just fine few minutes before. Argh...

dockimbel

[09:21](#msg56de997d126367383571d307)@rebolek Let us know if it's caused by recent commits from last days.

rebolek

[09:22](#msg56de99e7817dfa1e41ed43f1)@dockimbel I guess it’s probably caused by me ;-)

[09:24](#msg56de9a4368c07774648358cf)@dockimbel try `s: slider` in the livecode editor. That crashes with access violation here.

[09:24](#msg56de9a5768ddef77646984e0)However it works, when I replace `panel` with `base`.

dockimbel

[09:25](#msg56de9a6e68ddef77646984e4)Yes, it's a known issue with `slider`, we are looking into it. Other widgets should work fine, even the camera works (though it needs to be (re-)activated on each refresh by setting its `selected` facet).

rebolek

[09:26](#msg56de9ab368ddef77646984f8)Ok, thanks.

pekr

[09:34](#msg56de9c8f817dfa1e41ed44ad)how should I compile the console to get the text output? Whatever I try, it does not print back to the console .... I tried the gui-console with -t Windows, MSDOS, run from CLI etc., still no luck here.

rebolek

[09:34](#msg56de9cb068ddef776469856f)@pekr You are probably also using old version of livecode. Is there `base` or `panel`?

pekr

[09:35](#msg56de9cc619834f3c3535b956)base

rebolek

[09:35](#msg56de9cd2b0cc3f1b4150faaf)@dockimbel This seems like a bug in parse:

```
red>> parse {<title>asdf</title>} [some [thru <title> copy value to </title>]]
*** Script error: PARSE - invalid rule or usage of rule: unset
*** Where: parse
```

Works fine in R3.

pekr

[09:35](#msg56de9cd419834f3c3535b95d)ok, refreshed, got it, will try

rebolek

[09:35](#msg56de9cdc817dfa1e41ed44c2)@pekr change it to panel

dockimbel

[09:36](#msg56de9d0dddfe3d4316289973)@rebolek Oops, we don't have tag! yet. ;-) Just use strings for now.

rebolek

[09:38](#msg56de9d9868ddef77646985c4)Ah, OK :) So you can close #1682

[09:45](#msg56de9f39126367383571d466)It’s great tool for catching bugs ;) Like this one:

```
button "append" [append t/data "d"]
button "change" [t/data: ["x" "y" "z"]]
t: text-list 300x200 data ["a" "b" "c"]
```

"Change" button does nothing.

[09:56](#msg56dea1bc68c0777464835ab8)So, my first demo, RSS reader for NYT :-)

[09:56](#msg56dea1be68c0777464835ab9)http://i.imgur.com/K4uAT5M.gif

PeterWAWood

[09:59](#msg56dea26468c0777464835aef)@rebolek Excellent start :+1:

dockimbel

[10:02](#msg56dea33268ddef7764698758)@rebolek Great! :+1: You should block the looping in the gif-anim or add a delay on last frame, as we don't have time to see the result. ;-)

pekr

[10:04](#msg56dea39268ddef7764698778)Hmm, that's better than what I did - simplest example ever, but wanted to see the source of the livecode too.

[10:04](#msg56dea3c9126367383571d5a2)http://2zone.cz/pekr/red-livecode.jpg

dockimbel

[10:06](#msg56dea41c126367383571d5bd)I hope to see many more demos from everyone here. ;-) Be creative!

pekr

[10:07](#msg56dea45ba549284116694721)@rebolek - are you going to adapt the gifanim as Doc suggests? Or I can take it and cut it in video editor

rebolek

[10:10](#msg56dea50568ddef77646987ca)@pekr I just tried to change the delay on last frames but it doesn’t seem to work. I need to leave for about an hour now, so I can try again when I return, or if you want to, you can fix it (and also remove my mad bracket matching in the middle :) ) Thanks.

dander

[10:15](#msg56dea64519834f3c3535bbe4)I just want to say that this is really cool, and it's a great learning tool! I want to keep playing with it, but it's 2 am here...

meijeru

[10:25](#msg56dea88cddfe3d4316289cd6)See my message on red/red/code (I assume that is where one announces new candidates for Showcasing?).

dockimbel

[10:25](#msg56dea89c68ddef77646988d4)@dander Thanks. I hope this will stimulate users to experiement more with Red and its GUI system.

Cybarite

[12:41](#msg56dec884126367383571df1b)on win7 I am unable to get images to appear on a tab. Is that working for anyone?

rebolek

[12:51](#msg56decac8a5492841166950de)@Cybarite No, this works for me (change file to some other image): `view [tab-panel ["tab" [image %ant.jpg]]]`

Cybarite

[13:26](#msg56ded31e68c077746483671d)thanks @rebolek .... images seem to display only in the first tab.

endo64

[13:40](#msg56ded63f817dfa1e41ed53a7)Great work Doc and Rebolek! It is so much fun to play with it!

dockimbel

[14:14](#msg56dede2e68ddef7764699721)@endo64 Thanks, it is also fun for us to see what users will come up with. ;-)

[14:14](#msg56dede3fddfe3d431628ab22)BTW, the `slider` issue in livecode.red should be fixed now.

jocko-jc

[14:48](#msg56dee63f68c0777464836d81)really nice, Doc ! Go on !

pekr

[14:49](#msg56dee65eddfe3d431628ae28)Published on FB, cut some typos. It was a nightmare to edit. FB does not accept gifanim for pages/groups directly. So far, so good. We will see, if someone comes up with something more sophisticated :-)

[14:49](#msg56dee674126367383571e8bb)Would be interesting to see some draw stuff ...

rebolek

[16:06](#msg56def89119834f3c3535d51e)@Cybarite You’re right, I haven’t checked that. Definitely a bug.

dockimbel

[16:07](#msg56def8bd817dfa1e41ed609d)@qtxie Please have a look at that image issue in tab-panels.

rebolek

[16:40](#msg56df0097ddfe3d431628b805)@qtxie It seems the image problem is not only in tab-panel, I have troubles with images in the livecode also.

[17:00](#msg56df051ea549284116696613)So I heard, you like livecode... http://i.imgur.com/6Y1POZj.gif

pekr

[18:34](#msg56df1b4519834f3c3535e1e7)there is a question, if networking works under linux. Trying now. It works, but when I print read http://www.idnes.cz, it stops print after Title tag, displaying just small box

[18:45](#msg56df1de4b0cc3f1b415123d2)Maybe a unicode/charset problem?

[18:46](#msg56df1e18a549284116696ee2)&lt;title&gt;iDNES.cz �

rebolek

[18:51](#msg56df1f2ea549284116696f51)@pekr Interesting, it reads just 423 bytes (R2 reads 100 374).

pekr

[18:52](#msg56df1f6c68c0777464838264)hmm, the same for Windows.

rebolek

[18:53](#msg56df1fa7a549284116696f81)However, there’s Unicode sign at the position where it’s stopped in Red.

iArnold

[20:08](#msg56df312fd2c380336e680ee8)@qtxie Could you take a glance at my Xiangqi game? The red-to-move indicator is updated but the black-to-move indicator stays in the minimal position and if black move is calculated and last played move indication is shown the moved piece position is (often) not updated so stays in old position unless you move window or click some piece. Moving the black-to-move using offset seems to have effect on black-to-move but changing the size only to make it smaller first time. Looked like it should have been solved by the two issues you fixed earlier today, but strangely this still happens. (Also when computation of move is running and focus changes to other app then pieces-layer gets a black background).

[20:14](#msg56df32a5d2c380336e680ef4)I have no equivalent with a minimal source to reproduce this strange behaviour :-(

endo64

[21:43](#msg56df4775b0cc3f1b41513194)Very nice livecode @rebolek !

[21:44](#msg56df47bd19834f3c3535f105)if I enter below code, window closed immediately:

```
text-list data [1]
```

PeterWAWood

[22:35](#msg56df53c768c077746483936f)@pekr � is the Unicode substitution character suggesting that print came across an invalid utf-8 character. Do you know how the source of the website is encoded?

[22:37](#msg56df540e1263673835720f5a)It seems to be

```
<meta charset="windows-1250">
```

[22:41](#msg56df552d817dfa1e41ed80c2)I suspect that when that Red stopped loading the string when it encountered the invalid (in the eyes of UTF-8) character.

## Wednesday 9th March, 2016

qtxie

[01:47](#msg56df80bb68c0777464839cb7)@iArnold Ok. I'll have a look it today.

dockimbel

[03:23](#msg56df971f1263673835721be3)@endo64 You can open a ticket about it.

[03:27](#msg56df981d817dfa1e41ed8d4c)@qtxie You should rather have a look at the `read` issue from above:

```
rebol>> length? read http://www.idnes.cz/
== 100153

red>> length? read http://www.idnes.cz/
== 423
```

[03:30](#msg56df98e61263673835721c43)@rebolek Love your inception demo! :clap: ;-)

pekr

[04:19](#msg56dfa44268c077746483a260)Am I correct that https is not supported yet?

dockimbel

[04:19](#msg56dfa452817dfa1e41ed8f4c)@pekr It is supported.

pekr

[04:23](#msg56dfa533ddfe3d431628e4fe)Damned, we have switched over to Kaspersky and all we are facing is just problems ...

[04:24](#msg56dfa56868ddef776469cf43)it's blocking communication inside of programs, scans stream and Red just returned none for all reads of http, unless I turned it off

rebolek

[05:39](#msg56dfb6f968ddef776469d205)@endo64 @dockimbel Thanks guys :)

iArnold

[06:31](#msg56dfc32b2ca7725222d312a6)&gt; @iArnold Ok. I'll have a look it today.

Thank you! I think I solved one part of the puzzle, when I just woke up. I think I use BLACK-TO-MOVE as a variable inside the move computing, making black-to-move having two roles. Now I hope this also has influence on the display / show of the moving piece.

jocko-jc

[07:36](#msg56dfd269a5492841166997e9) where can I find info on red string to c-string and c-string to red string conversion ?

rebolek

[07:39](#msg56dfd336126367383572262d)@jocko-jc Have look at posts from 7. March in this chat, there is info.

jocko-jc

[07:45](#msg56dfd4871263673835722686)@rebolek Thanks!

dockimbel

[07:47](#msg56dfd528a5492841166998a2)Actually, the `read http://www.idnes.cz/` above in Red should output an error, as the input is not UTF-8 compliant. One should use `read/binary` in such case to retrieve the document. We should add some builtin codecs for most common legacy encoding schemes.

iArnold

[07:52](#msg56dfd633b0cc3f1b41514d9a)@qtxie Unfortunately that did not even come close to solving the problem ;-/ I'll try and create a minimal source to reproduce.

pekr

[08:05](#msg56dfd95db0cc3f1b41514e52)@dockimbel - I thought that in such a case, we would see malformed content, not cut-off if the read stream?

[08:08](#msg56dfd9e2817dfa1e41ed987d)Just looked into R3 - it reads in binary mode by default. But it has to-string conversion for such cases. When can we expect such conversions in Red? Past 0.7.0?

iArnold

[08:26](#msg56dfde4719834f3c35360f1b)Oh yes, I already did, it triggered the virus scanner and the script run from the console worked like a charm.

dockimbel

[08:30](#msg56dfdf2968ddef776469da1b)@pekr Probably after 0.7.0. Though, you can write your own converters right now and share the code. Or even better, take the available conversion tables for common codepages from R3 or PowerMezz and write the appropriate codecs for Red (we already have a minimal codec API support).

pekr

[08:32](#msg56dfdf94ddfe3d431628ef7e)Then I would have to use read/as? The thing is, that I still think, if unpredictable result is a good solution by default. Most probably I would prefer such read ending with error instead.

dockimbel

[08:33](#msg56dfdfc3a549284116699b13)Maybe you should re-read my post :point\_up: \[March 9, 2016 3:47 PM](https://gitter.im/red/red?at=56dfd528a5492841166998a2), I already said it should output an error in such case.

pekr

[08:35](#msg56dfe04a1263673835722938)OK. Most probably you don't like the R3 way? I mean - to read as binary by default? I know that Red is trying to find a balance between the usefullness and optimal solution. Because - if I am not sure, what encoding particular website uses, I will have to remember to allways fall-back to read/binary ....

dockimbel

[08:35](#msg56dfe055817dfa1e41ed99ff)Yes, you should then use `read/as` or simply `load` if it is possible to accurately determine which encoding is used.

pekr

[08:36](#msg56dfe076a549284116699b4a)I am scared about `load` - it sounds too much like - if there is a Red code, let's run it :-)

dockimbel

[08:36](#msg56dfe0a719834f3c35360fa2)`load` &lt;&gt; `do`.

[08:37](#msg56dfe0e368c077746483ad8e)I don't like the R3 way and I think Red can provide a more useful default behavior.

pekr

[08:38](#msg56dfe0e968ddef776469da9c)So no chance something is going to be evaluated and possibly hurting the client?

[08:38](#msg56dfe0feb0cc3f1b41515056)OK, maybe another question - is there a way to info?/query some webpage first?

[08:38](#msg56dfe11968c077746483ada8)I mean - something like pre-read, determining the encoding, and then use the encoding as a parameter to read/as 'result

dockimbel

[08:39](#msg56dfe1291263673835722987)Again: `load` &lt;&gt; `do`.

rebolek

[08:39](#msg56dfe130126367383572298a)How are you going to determine the encoding without reading the page?

dockimbel

[08:40](#msg56dfe180126367383572299b)@rebolek There is a list of places to check for to determine the encoding of an HTTP resource. If all fail, then we can fallback to binary mode, or just ouput an error.

pekr

[08:44](#msg56dfe278ddfe3d431628f05c)Somehow query the server, http header ....

[08:46](#msg56dfe2fc19834f3c3536103b)There is e.g. a FF extension, called Live HTTP header. Not sure how ti works underneath. IT is a long time since I opened webpage by `open`, submitting it commands manually :-)

dockimbel

[11:04](#msg56e0035268c077746483b88f)I fixed all regressions on ARM hard-float, so you can now enjoy cross-compiling for RaspberryPi again with latest Red version.

pekr

[11:07](#msg56e003ff1263673835723437)Sounds cool. No RPi here, might look up my Beagle Bone. Anyway, was positively surprised yesterday, that generating console (not a gui one of course), copying it to my linux server, it just worked fine, reading websites, etc. :-)

[11:09](#msg56e0045ca54928411669a680)Maybe just one note - if my antivirus/fw blocked red network connections, it returned `none`. Ditto for my linux box on my internal network - without reverse NAT I was not able to see my own domains - again - instead of returning error, it just stated - `none`. Do you plan to turn it into errors later?

dockimbel

[11:10](#msg56e0049668c077746483b8d8)@Pekr Sure, but that will be for 0.7.0.

pekr

[11:12](#msg56e0050c68ddef776469e5b3)can't wait for ports, dunno why, but I always liked that Rebol feature :-)

dockimbel

[12:17](#msg56e0144c68c077746483bcd8)All test passing on ARM softfp too (the ABI we use for Android).

qtxie

[15:03](#msg56e03b30b0cc3f1b41516cde)@iArnold The Xiangqi game is very cool!

[15:11](#msg56e03d2919834f3c35362c30)I am looking at the piece moving issue. In my test, it's updated only the first move.

[15:13](#msg56e03dad68ddef776469f6ee)When computing the move the pieces-layer turn to black background, this is because the the computation is blocking the UI thread.

[15:17](#msg56e03e81ddfe3d4316290d3f)http://7ktpgm.com1.z0.glb.clouddn.com/chess.png

iArnold

[15:33](#msg56e04255817dfa1e41edb95a)@qtxie Thanks! You see the little red box in the right upper corner? That should turn blue again.

[15:48](#msg56e045de68ddef776469fa12)(Ah you saw it, then it explains to the others. Also experiment with the size updates only one time where the lower one will update each time, very strange)

[16:00](#msg56e048b319834f3c35363059)Also when you click the piece or move the window around, the piece will take its new position. (The difference that the program has is the fast move is coming from the opening book, the other slow one is computed the hard way)

fergus4

[16:09](#msg56e04aa6b0cc3f1b41517266)

x8x

[16:24](#msg56e04e4668c077746483d10b)Is there any hashing function or libraries available for Red ?

[16:39](#msg56e051bfddfe3d43162914cb)How would I go about compiling this https://raw.githubusercontent.com/qtxie/red/crypto/runtime/crypto.reds into red binary and using it at red level?

rebolek

[16:41](#msg56e0523519834f3c353633f5)@x8x Rebol has `checksum` function, but that’s not part of Red yet.

c0ldT

[16:42](#msg56e0528b1263673835724e12)Can mouse position be obtained?

x8x

[16:43](#msg56e0529619834f3c3536341a)@rebolek Yes I know about checksum in Rebol, I have a MD5 in Red but thats using call and is slow.. 8-(

rebolek

[16:43](#msg56e052be1263673835724e2e)@c0ldT Yes, it’s `event/offset`in actors.

[16:44](#msg56e052e819834f3c3536343b)@x8x Include it at `#system` level and write a routine that will use it at Red level.

x8x

[16:46](#msg56e0536819834f3c35363471)@rebolek, on trello https://trello.com/c/C6QsZb48/102-checksum-native-support it says "It depends on Binary! datatype. For now, using the Binary! datatype from @oldes ." Do you know where I can get that?

dockimbel

[16:49](#msg56e0540ea54928411669c1fd) @x8x Checksum has been implemented by @qtxie, but not integrated yet. Search in qtxie's branches.

x8x

[16:59](#msg56e0568f5bd94b5e371f001c)@dockimbel Thanks, I found it (see above) just not sure how to to get it working.. trying.. 8-)

dockimbel

[17:00](#msg56e0569e383ddb914ef98141)You need more than just that file.

x8x

[17:02](#msg56e0570d4dc9fadb1b241cc1)@dockimbel well if u have a minute and can show me all I need.. crc32 would be enough if that's simpler :smile:

dander

[18:33](#msg56e06c7f81bce261378abecd)I'd like to try some animation. Is there a recommended way of doing that? Is there a timer-based actor? Threading is not yet implemented, correct?

x8x

[18:38](#msg56e06db179cbb6944e105b45)given this red/system function:

```
MD5: func [
		data	[byte-ptr!]
		len		[integer!]
		return:	[byte-ptr!]
	][..]
```

What would be a routine to wrap it?

[18:39](#msg56e06de14dc9fadb1b242538)at red level, I'd like to pass a string and get a string back

rebolek

[18:57](#msg56e071fd4dc9fadb1b24269f)@dander there’s no timer yet, but it does not depend on threading. My guess is that we’ll get timer device before threading.

dander

[19:42](#msg56e07cb54dc9fadb1b242a1f)@rebolek Thanks, I figured I could do it with one or the other. I guess another option would be to have an endless stream of events, but it sounds non-optimal. Maybe a good stress test of the event handling though...

kermitaner

[22:04](#msg56e09de3618c335373ea61cf)@dockimbel @iArnold , thanks for the suggestions for seeding

## Thursday 10th March, 2016

PeterWAWood

[04:53](#msg56e0fddf0055f8f35a81ced9)@x8x Something like this should work:

```
Red []

#system [
	MD5: func [
        data    [byte-ptr!]
        len        [integer!]
        return:    [byte-ptr!]
    ][..]
]

MD5: routine [
	data            [string!]
    return:			[string!]
    /local
        len         [integer!]
        line-ends	[logic!]
        in			[c-string!]
        out			[c-string!]			 

    len: -1                                 	;; Convert whole string
    line-ends: false                        	;; Don't convert line endings
    in: unicode/io-to-utf8 data :len line-ends
    out: as c-string! MD5 as byte-ptr! in length? in
    string/load out length? out UTF-8    
]
```

dockimbel

[05:09](#msg56e1019a11a3dbf55aca9cc8)@qtxie Could you prepare a PR for `checksum` now that we have binary support?

qtxie

[05:12](#msg56e1022cc7364f7926bd9c4b)That what I am doing since this morning. ;-)

[05:13](#msg56e10268618c335373ea7619)Will make the PR soon.

dockimbel

[05:43](#msg56e109710055f8f35a81d069)@x8x You have `checksum` now:

```
red>> help checksum

USAGE:
    checksum data  /tcp  /hash  size  /method  word  /key  key-value

DESCRIPTION:
     Computes a checksum, CRC, or hash.. 
     checksum is of type: native!

ARGUMENTS:
     data  [binary! string! file!]

REFINEMENTS:
     /tcp => Returns an Internet TCP 16-bit checksum.
     /hash => Returns a hash value.
         size  [integer!] => Size of the hash table.
     /method => Method to use.
         word  [word!] => Methods: SHA1 MD5 CRC32.
     /key => Returns keyed HMAC value.
         key-value  [any-string!] => Key to use.

red>> checksum/method "Hello World" 'md5
== #{B10A8DB164E0754105B7A99BE72E3FE5}
```

[05:43](#msg56e109943194fbd11095b73a)You can thank @qtxie for the hard work. ;-)

PeterWAWood

[06:23](#msg56e112ec11a3dbf55aca9f42)@qtxie Great work :clap: :clap:

ghost~5680c5f416b6c7089cc058a5

[07:54](#msg56e128279f24605773d6d17c)@dockimbel  
(a) From the latest master binaries --  
`cli console`

```
red>> cd %invalid-directory

*** Runtime Error 1: access violation
*** at: 00454D86h
```

[07:57](#msg56e128fd0055f8f35a81d61e)(b) Also, using `ls` in a directory containing a lot of files shows the file names but ends with

```
*** Internal error: reserved for future use (or not yet implemented)
*** Where: <=
```

whereas `ll` works fine.

dockimbel

[08:07](#msg56e12b59618c335373ea7d2b)@nc-x Thanks for reporting!

pekr

[08:16](#msg56e12d4f9f24605773d6d281)@dockimbel - saw your tweet. So how far are we from the release? I can't imagine how long the blog article is going to be ... can imagine splitting it into few in fact :-)

ghost~5680c5f416b6c7089cc058a5

[08:37](#msg56e1323d11a3dbf55acaa541)@dockimbel  
Is `list-dir` supposed to work when compiled? If yes, how? Because I get an error while running the compiled executable...

[08:43](#msg56e133c10055f8f35a81d8a6)In rebol `load %./` gives the list of files in a directory. In Red, it gives

```
*** Script error: transcode does not allow block for its <anon> argument
*** Where: transcode
```

@Can-Anyone-Tell-Me why this is so, and what is the alternative..

rebolek

[08:45](#msg56e134230055f8f35a81d8c3)@nc-x I always used `read %./`

[08:45](#msg56e134429f24605773d6d43a)`load` is for loading scripts, I didn’t even knew you can use it for reading directory in Rebol :)

ghost~5680c5f416b6c7089cc058a5

[08:46](#msg56e134500055f8f35a81d8d0)Thanks

[08:46](#msg56e134523194fbd11095bf60):D

[08:49](#msg56e13535618c335373ea7f96)Well, now what does `Access error: cannot open: /path/to/folder` mean? The path is certainly valid.

rebolek

[08:51](#msg56e135929f24605773d6d4ad)Hard to say. Are there some non-ASCII chars in path, isn’t it on some network disk, ... ?

ghost~5680c5f416b6c7089cc058a5

[08:56](#msg56e136c69f24605773d6d512)No

[08:57](#msg56e136ec9f24605773d6d51b)For eg `read %/c/windows/system32`

[08:57](#msg56e137040055f8f35a81d9d7)

```
*** Access error: cannot open: /c/windows/system32
*** Where: read
```

rebolek

[08:58](#msg56e1373d9f24605773d6d53f)Ah, I see. It does not check if %system32 is directory. Just add `/`

[08:58](#msg56e1374d89dd3cce100527ca)

```
red>> read %/c/windows/system32
*** Access error: cannot open: /c/windows/system32
*** Where: read
red>> read %/c/windows/system32/
== [%0409/ %12520437.cpx %12520850.cpx %7B296FB0-376B-497e-B012-9C450...
```

ghost~5680c5f416b6c7089cc058a5

[08:59](#msg56e13757c7364f7926bda68a)okay... my bad :D

[08:59](#msg56e137826fde057c26856c76)I didn't remember that directories need to end with `/` :D

rebolek

[08:59](#msg56e13786618c335373ea8055)Actually, that’s better than what R3 did here...

```
>> read %/net
== Segmentation fault: 11
```

[09:00](#msg56e1379e0055f8f35a81d9fd)@nc-x I guess there could be some autocheck

ghost~5680c5f416b6c7089cc058a5

[09:00](#msg56e137b889dd3cce100527e5)Yeah... A `File not found` kind of error would be great

[09:03](#msg56e1384c11a3dbf55acaa751)And if you look at `Elm Programming Language` error messages, http://elm-lang.org/blog/compiler-errors-for-humans , http://elm-lang.org/blog/compilers-as-assistants , it also provides Helpful Hints, so something like that beneath the error - saying that `the path you entered is a valid directory but an invalid file` would be even better.

endo64

[09:48](#msg56e142f60055f8f35a81dd79)I just compiled console, list-dir gives the following error (on Win8.1 x64)

```
red>> ls
    %red.exe                 %test.exe            
    %test.red                %user.red            
    %vid.red             *** Internal error: reserved for future use (or not yet implemented)
*** Where: <=
```

dockimbel

[09:50](#msg56e14360618c335373ea842d)@endo64 What is the file name after `%vid.red` which is making it crash?

endo64

[09:51](#msg56e1438c6fde057c26857078)It is the last file.

[09:53](#msg56e1440ec7364f7926bdaaa1)/COL works wierd, whatever number I give result is same:

```
red>> list-dir/col 100
    %...     %...     %...     %...     %... *** Internal error: reser...
```

dockimbel

[09:54](#msg56e1445c9f24605773d6d993)100 is not a good idea for the number of columns. ;-)

endo64

[09:55](#msg56e144843194fbd11095c476)I know :) I tried many numbers from 2 to 100 just for testing, all gives same result.

[09:56](#msg56e144b8c7364f7926bdaae2)Oh, /COL 5 works without internal error.

[09:56](#msg56e144de0055f8f35a81de20)I think the number of files should be dividable to the column (/COL 1 works too, no internal error)

[09:58](#msg56e1452e9f24605773d6d9db)Console window size matters!

```
red>> ls
    %red.exe              
    %test.exe             
    %test.red             
    %user.red             
    %vid.red              
== false
red>> ls
    %red.exe               %test.exe              %test.red              %user.red          
    %vid.red           *** Internal error: res
```

[09:58](#msg56e145620055f8f35a81de49)Above one is a smaller console window, below one is a bigger console gives error.

rebolek

[09:59](#msg56e145706fde057c268570f6)@dockimbel @endo64 The problem with `ls` is that `n` (number of columns) can get greater value than number of files, so then `list/1` is `none` and `max-sz <= none` returns wrong error message (reserved for future use).

dockimbel

[09:59](#msg56e1457b618c335373ea84cf)Got it, the issues are caused by a workaround I made this morning in this function, fixing it now.

rebolek

[10:00](#msg56e145b211a3dbf55acaab94)Adding something like `n: min n length? list` will fix it.

dockimbel

[10:02](#msg56e1464e618c335373ea850f)The bad error message is also caused by `length?` been `none`-transparent... I'm not sure making `none` pass through `length?` and `index?` was a good idea...

xaduha

[10:24](#msg56e14b4711a3dbf55acaad27)`checksum` is very nice to have! Thanks @qtxie !

endo64

[11:29](#msg56e15a8a618c335373ea8ba5)@dockimbel internal error problem solved with the latest build.  
But if the console window is too small list-dir hangs with an endless loop.

dockimbel

[11:41](#msg56e15d5c618c335373ea8c64)How small? Can you `probe system/console/limit` before running `list-dir`?

endo64

[11:43](#msg56e15dd83194fbd11095cbdf)system/console/limit is 21 or below hangs (may be 22, 23 or 24 too, 25 works)

dockimbel

[11:46](#msg56e15e8d3194fbd11095cc0d)Ok, will look into it.

justjenny

[12:35](#msg56e16a09c7364f7926bdb606)Does anyone know why we cant set the size of an image any more .... i.e. image %mypic.jpg 300x300 will not work now.

dockimbel

[12:58](#msg56e16f6b11a3dbf55acab7f9)@justjenny Confirmed, we'll look into it asap.

[15:23](#msg56e191589f24605773d6f074)@justjenny Issue fixed, it should work fine now.

xqlab

[16:12](#msg56e19cd289dd3cce10054808)I think there was already an issue regarding list-dir or ls, but I cannot find it. So I will ask if it is known that list-dir produces just lines like this  
red&gt;&gt; ls/col 10  
%... %... %... %... %... %... %... %... %... %...  
%... %... %... %... %... %... %... %... %... %...  
%... %... %... %... %... %... %... %... %... %...  
if the columns number is high?  
By the way I had already a list-dir that could use a path as argument too. But just now I am not at that pc.

x8x

[17:00](#msg56e1a83f3194fbd11095e45b)@dockimbel :smile: HAPPY BIRTHDAY :smile:

[17:02](#msg56e1a8ab6fde057c268591b8)@qtxie @dockimbel Many thanks for checksum ! @PeterWAWood thank you for the example !

justjenny

[21:22](#msg56e1e5b20055f8f35a8213b0)Thank you @dockimbel

dnmurphy

[21:48](#msg56e1eb913194fbd11095fac4)Hi all, I have just downloaded red for mac, and tried to run it. However it does nothing , whether I enter 'red' and nothing else or red &lt;file&gt;.red. Mac just says "bash: red: command not found

## Friday 11st March, 2016

PeterWAWood

[01:43](#msg56e222c589dd3cce1005704a)@dnmurphy You need to preface the name of an executable program with ./ when trying to run it when you are logged into the directory it is stored in.

I have given an example when closing the issue you raised on Github.

Please realise that Red is incomplete, "alpha" software. There are many missing pieces and a lot of rough edges. They missing pieces will be added and the rough edges smoothed as the project progresses towards version 1.0.

I would ask that in future before opening an issue in Github, you check that you have actually found a bug. You can do that by asking here or on the mailing list.

dockimbel

[04:36](#msg56e24b450055f8f35a8229d6)@xqlab List-dir just tries to print the files over 10 columns, but they cannot fit, so the name get replaced by `...` to indicate truncation.

[04:36](#msg56e24b5511a3dbf55acaf793)@x8x Thanks. ;)

dnmurphy

[07:31](#msg56e2744a9f24605773d72b88)@PeterWAWood thans however it didn't work. I scoured the web and eventually came up with the need to chmod it. Howevr chmod -x didn't work, and eventually had to chmod 755 in that folder. which has now made it work thanks.

rebolek

[08:03](#msg56e27bdcc7364f7926bdfe72)@dnmurphy It’s not `chmod -x` but `chmod +x`

pekr

[10:06](#msg56e2989d0055f8f35a823982)@dockimbel Pretty pretty please, could `pair!` be made case insensitive? I am constantly having troubles (I know, my fault) when prototyping GUI, by using `base 500X500`and wondering for a few secs, why it errors out. R2 accepts even the capital 'X.

dockimbel

[10:26](#msg56e29d503194fbd110961f1d)@pekr Well `X` is the same glyph as `x`, just bigger, so I guess it's fine to support it too.

iArnold

[10:35](#msg56e29f5b3194fbd110961f9d)A lot of children will be happy in future for that decision ;-)

dockimbel

[10:36](#msg56e29fb7c7364f7926be088c)@pekr It's done:

```
red>> type? probe 1X2
1x2
== pair!
```

pekr

[10:39](#msg56e2a05a3194fbd110961feb)not in VID

[10:39](#msg56e2a072618c335373eae394)ah, done, so new commit?

[10:40](#msg56e2a08fc7364f7926be08c7)OK, I can see it now, thanks a lot!

mikeparr

[16:07](#msg56e2ed48c7364f7926be215f)I can't get 'attempt' to work as I think it should. It seems to want a block to work. (I'm guessing it uses 'try')  
\`  
Rebol:  
&gt;&gt; attempt square-root 4.1  
\** Script Error: try expected block argument of type: block  
\** Where: attempt  
\** Near: unless error? set/any 'value try  
;now, use a block  
&gt;&gt; attempt \[square-root 4.1]  
\== 2.02484567313166

Red:  
red&gt;&gt; attempt square-root 4.1  
\== none  
red&gt;&gt; attempt \[square-root 4.1]  
\== 2.024845673131658  
'''

fort-ascension

[16:08](#msg56e2ed8fbb541ac77f4f06a2)yes attempt expects a code block to execute.

dockimbel

[16:24](#msg56e2f15ac7364f7926be22ac)@mikeparr The argument of `attempt` was untyped, it's fixed now.

mikeparr

[16:40](#msg56e2f519618c335373eaff44)@dockimbel , @fort-ascension - - thanks

pekr

[16:54](#msg56e2f8356fde057c2685eb64)Just noticed recent commit. For how long do we have `wait`? It went unnoticed on my radar :-)

raimundasa

[17:21](#msg56e2feb43194fbd110963de2)Hello all. I am new in RED and I can\`t compile this simple test program:

Red\[]  
dogs: ask "How many dogs do you have: "  
print \["So you have" dogs "dog(s)!"]  
ask ""  
quit

c:\\red\\red -c -t msdos test2.red

Output:

-=== Red Compiler 0.5.4 ===-  
Compiling /c/red/test2.red ...  
\*\** Compilation Error: undefined word ask  
\*\** in file: %/c/red/test2.red  
\*\** near: \[ask "How many dogs do you have: " print \["So you have" dogs "dog(s)!"] quit]

meijeru

[17:36](#msg56e30213c7364f7926be2837)`ask` is defined in `%environment/console/input.red` which is not automatically included. You could try `#include %environment/console/console.red`.

raimundasa

[19:00](#msg56e315b33194fbd11096456e)@meijeru I am confused. Now I can compile but I get the Red Console. What\`s wrong?

iArnold

[20:19](#msg56e32843c865ac134331baec)Try it using Kaj's bindings? You can find an example in my xiangqi-console.red program here: https://github.com/iArnold/Xiangqi/blob/master/xiangqi/xiangqi-console.red

[20:19](#msg56e32854c865ac134331baed)(Hope it does not insert the source now..)

c0ldT

[21:40](#msg56e33b323194fbd110965124)Are these introductory problems being accumulated? So a newcomer page could list have to resolve common issues

[21:42](#msg56e33bce11a3dbf55acb3d87)For instance, once rainmundasa issue is resolved, maybe the helper can write up a paragraph on the issue and the solution.

iArnold

[22:05](#msg56e34133c865ac134331bb4f)Perhaps the helped person will do so? The helper already helped and the other is now a happy person in the right mood and can explain what exactly needed to be done to solve, not just the possible vague hint by the helping hand.

c0ldT

[22:19](#msg56e34487c7364f7926be3e6b)Or that. But it might work more consistently if a helper writes it up? Because some of you are regulars and represent Red community.

## Saturday 12nd March, 2016

ghost~5680c5f416b6c7089cc058a5

[03:06](#msg56e387cfc7364f7926be4987)Red-Master-Branches-Binaries-Updater-Script (rebol 2 script) -&gt; `https://gist.github.com/nc-x/041f3db0c660323b8687`

dander

[04:39](#msg56e39d6c89dd3cce1005ca35)Once red gets a little further along, I think it would be great if it could be added on http://exercism.io/

dockimbel

[08:12](#msg56e3cf81c7364f7926be50a4)@nc-x Nice! Why don't you port that script to Red now? ;-)

[08:18](#msg56e3d0df3194fbd110966626)@nc-x I have made a simplified \[version](https://gist.github.com/dockimbel/22d3c007fffab0e3388d) of your code, removing extra code.

[08:27](#msg56e3d2fb89dd3cce1005cf38)@nc-x About Elm and error messages, we have a lot of space for improvement for that in Red. Red being homoiconic, some error reporting features which are trivial in non-homoiconic languages, like reporting the line number where the error occured is surprizingly difficult to implement properly (we need a good solution for that). Though, bear in mind that Red is still alpha and we don't even have proper IO support yet, so the above proposed message stating that "/system32" is a folder and not a file is not doable right now.

pekr

[08:50](#msg56e3d86011a3dbf55acb5310)@dockimbel sorry if already answered in the past (returning to the Red in waves here), but - when can we expect `now`being implemented, plus timers, so that we get `rate`for faces?

[08:51](#msg56e3d8903194fbd1109666f8)Well, IIRC, R3 does not have rate (not sure exactly), but simply the event generated by the timer would be handy.

[08:51](#msg56e3d89a11a3dbf55acb5317)`on-time` anyone? :-)

dockimbel

[09:02](#msg56e3db25c7364f7926be51c3)We'll have an early `rate` support in 0.6.1, timers require a proper event loop, which will come only in 0.7.0.

pekr

[09:08](#msg56e3dc9e0055f8f35a8286a4)Thanks, seems like you have all things properly planned! Will there be any significant changes required for the Android bridge, or is most work for 0.6.1 going to be the Android GUI itself?

dockimbel

[09:12](#msg56e3dd6e618c335373eb2ce0)I think 0.6.1 will focus on bringing many overall improvements to Red language itself, adding some long missing features, plus some View improvements and a prototype Android View backend.

meijeru

[09:26](#msg56e3e0bd618c335373eb2d2b)I had a need for a `now` function as well, and have created a temporary replacement behaving like the Rebol 2 one (the result type is `object!`, so that it can have the appropriate refinements). See \[this gist](https://gist.github.com/meijeru/c1245f19dc8c5196ef18). You must set `time-server`to `http://www.timeapi.org/`, using the standard abbreviations for the time zone, e.g. `est`.

iArnold

[09:41](#msg56e3e44ac865ac134331bbbe)I used the binding by Kaj. It shows the need for these basic functions. Really hoping that the road from 0.6 to 0.7 will be a shorter one than the one we are on today.

dockimbel

[09:45](#msg56e3e52b618c335373eb2d95)@meijeru Nice!

iArnold

[09:47](#msg56e3e5b7f892e2e611ee6aef)It is certainly worth adding this to https://github.com/red/red/wiki/mezzanines

meijeru

[12:57](#msg56e412450055f8f35a828d46)@iArnold It will need a comment inside the source regarding the time-server. Unfortunately, there is no option "local time".

ghost~5680c5f416b6c7089cc058a5

[14:12](#msg56e423cc3194fbd1109670bf)@dockimbel Thanks

[14:15](#msg56e4247911a3dbf55acb5ccc)(A) Regarding porting the script to red, it shouldn't require much changes. But `modified?` is not implemented in red yet. It depends on `query` which further require `ports` so I dunno what to do about it except wait.

[14:16](#msg56e424d7618c335373eb360e)(B) About error messages --

[14:18](#msg56e4253c11a3dbf55acb5cdf)javascript has source maps which transpilers like coffeescript use to produce line number reporting in errors. How feasible would it be in a language like rebol, if at all?

[14:19](#msg56e425580055f8f35a829018)\*"language like red"

[14:21](#msg56e425dd0055f8f35a829027)(C) Is invalid code supposed to give Runtime Error and crash or should it report an error? Because I tried something, I don't even know if it was right, i am sure it was wrong but the cli console crashed. Should I create an Issue on github?

[14:24](#msg56e42699c7364f7926be5b90)(D) How long before 0.6 gets released? :smile:

Arie-vw

[14:34](#msg56e42903c7364f7926be5bdd)Trying to grasp how &gt;&gt; operator works exactly. E.g. what is happening when I do -6 &gt;&gt; 1 vs -6 &gt;&gt; 2 vs -6 &gt;&gt; 3 vs -6 &gt;&gt; 4 under the hood?

dockimbel

[14:49](#msg56e42c5c11a3dbf55acb5dc6)@nc-x (A) It should already possible to implement `modified?` for an HTTP resource using custom headers. There's a temporary way to pass them using `write`:

```
result: write URL compose [
    POST | GET [
        Content-type: "text/x-rebol"
        ;-- other fields here
    ]
    (data)
]
```

[14:51](#msg56e42cd689dd3cce1005da46)(B) "Source maps": locating the text in the source code is trivial, connecting to the LOADed values is the hard part to solve. In Red, it's: text source -&gt; block of values -&gt; compilation | interpretation.

[14:53](#msg56e42d7b618c335373eb3742)(C) It should report an error. Yes, create an issue on github for crashes.

[14:54](#msg56e42d989f24605773d78b21)(D) Just the matter of writing the VID reference document and the blog entry, should take a few days.

xaduha

[15:00](#msg56e42f109f24605773d78b46)@dockimbel not Red related, but http://cheyenne-server.org/wiki appears to be down

dockimbel

[15:48](#msg56e43a53618c335373eb3920)@Arie-vw `>>` is a shorcut operator for `shift`, so it shifts bits to right, propagating the sign bit (bit 31 for 32-bit integers):

```
red>> to-hex -6
== #FFFFFFFA
red>> to-hex -6 >> 1
== #FFFFFFFD
red>> to-hex -6 >> 2
== #FFFFFFFE
red>> to-hex -6 >> 3
== #FFFFFFFF
red>> to-hex -6 >> 4
== #FFFFFFFF
red>> to-hex -6 >>> 4
== #0FFFFFFF
```

[15:49](#msg56e43a9489dd3cce1005dc31)The `>>>` is a logical shift which doesn't propagate the sign bit, so on the left you get zeros inserted when shifting right. See `help shift`.

[15:51](#msg56e43af20055f8f35a829346)@xaduha It's a known issue, the PHP backend for the wiki is unstable...I'll restart it. It's up again now.

iArnold

[16:02](#msg56e43da4c865ac134331bc11)&gt; @iArnold It will need a comment inside the source regarding the time-server. Unfortunately, there is no option "local time".

@meijeru Well, to be honest, I think you are capable of adding a comment to your code? This wiki page is editable by anyone, that is how I added the other example code. ;-)

meijeru

[16:06](#msg56e43e80618c335373eb39e9)@iArnold Sure enough, but I am not particularly in favour of promoting it to mezzanine, not only because of the awkwardness of filling in the time-zone, but also, and especially, as the `read http://...` is not guaranteed to be fast enough to make the seconds accurate, if you see what I mean. I intended this just as a private replacement in order to make some experiments, while waiting for the proper `now` to arrive.

iArnold

[16:27](#msg56e44358f892e2e611ee6b52)Programming in Red means working on workarounds for lacking Red native functionality. You can add this objection as a note too. The binding by Kaj gives me seconds on my Mac, not even tenths let alone thousands of a second. Yet for seeding random for a game it is really good enough.

[16:28](#msg56e443977fefcd2a398c9f8e)The other mezzanines are also workarounds for lacking Red native solutions. It keeps all of us from reinventing the wheel.

[16:29](#msg56e444007fefcd2a398c9f90)I know about how everyone gets warned not to reinvent the wheel. In reaction everyone is inventing the most extreme workarounds for the same thing resembling a wheel, because it was forbidden to reinvent it.

[16:31](#msg56e4446ef892e2e611ee6b54)The thing that went wrong was off course that how to use the wheel properly in the application was not documented, so people needing a wheel felt they needed to create a replacement.

Arie-vw

[16:31](#msg56e44471c7364f7926be6051)@dockimbel Ah ok, that's clear! thx!

iArnold

[16:31](#msg56e44478c865ac134331bc17):-)

meijeru

[16:34](#msg56e445303194fbd1109675cc)@iArnold Well put, but I do have hopes that `now` will arrive soon...

raimundasa

[16:58](#msg56e44ac59f24605773d78fc5)@iArnold thanks for your tip. Finally I can compile my test file and got a small executable file (442 KB) :-)

iArnold

[19:25](#msg56e46d197fefcd2a398c9fef)@raimundasa You're welcome. And someone suggested I now should document my hint...

pekr

[19:58](#msg56e475026fde057c26862f98)is the following a bug? Tried to port short spiral demo to Red, decomposing down to the following problem:

[20:00](#msg56e4756b11a3dbf55acb6af1)

```
red>> pair: 0x0
== 0x0
red>> pair/x: 3.14
== 1374389535
```

[20:02](#msg56e475d489dd3cce1005e774)It somehow "overflows"? I know float support is planned for pair, but here I would prefer using it being converted to integer?

dnmurphy

[20:34](#msg56e47d7089dd3cce1005e8c4)@rebolek thanks for that. So obvious but I missed it.

pekr

[20:57](#msg56e482b711a3dbf55acb6d6f)Temporarily used to integer! on final computation to fix the above case.

## Sunday 13th March, 2016

dockimbel

[04:52](#msg56e4f22511a3dbf55acb7d89)@raimundasa `ask` is not part of Red runtime library yet, it's only available in the console, so if you want to compile a script using it, you need to include the proper files from console code (you can ask here for that someone call help you). If compilation is not mandatory, you can just run your code using the REPL (includes console code) like this:

```
c:\red\red test2.red
```

[05:01](#msg56e4f41f6fde057c26864209)@c0ldT Thanks for your suggestion of making a wiki page of workarounds for newcomers. I think it's a good idea. The thing is that many of this "issues" are just caused by not implemented parts yet in Red or temporary scaffholdings, so such wiki page would need frequent maintenance as we progress in Red which can only be achieved by more community engagement.

[05:02](#msg56e4f46d0055f8f35a82b09c)One thing which would be \*really* useful would be a "Getting started" wiki page for newcomers.

c0ldT

[05:10](#msg56e4f6283194fbd110969088)Yes. It's a battle of pre 1.0 software and keeping newcomers interested. On the one hand many things aren't going to go smoothly or work yet, but on the other hand, you want to attract a user base and have advocacy for Red.

[05:11](#msg56e4f68111a3dbf55acb7ddb)Well, if you wish for Red to gain traction. Maybe it is presumptuous of me to assume that you want it to become famous. If not, I think that's fine.

[05:13](#msg56e4f6e311a3dbf55acb7de8)I take responsibility for not writing down the issues and solutions that I had for Windows 10. I should have kept a journal.

[05:25](#msg56e4f9e56fde057c26864271)@dockimbel I suggest full port of Cheyenne to Red. Call it "Cheyenne Red". Simple, obvious name to us, but a pretty name to the general public.

[05:35](#msg56e4fc0a6fde057c2686429c)(Also a color shade in some industries)

dockimbel

[05:47](#msg56e4fef09f24605773d7ab0f)@c0ldT That's precisely the point. Pre-1.0 is a hard time for spreading, especially for alpha software. And yes, I want to attract the largest possible user base, though in order to achieve that, Red needs to be in "good shape" enough. I think we're almost there, just need the simple GC integrated, I/O from 0.7.0, a Red language manual and a proper web site, and we're ready to spread the red pill everywhere. ;-) If any has better propositions on how to achieve that quicker/easier/cheaper, I'm all ears.

c0ldT

[06:27](#msg56e50867c7364f7926be7d2d)I can't program very well yet. I may never be able to. But I can write up notes and try to maintain a "getting started" page. Or at least help with maintaining.

dockimbel

[06:36](#msg56e50a8111a3dbf55acb7f62)Cheyenne deserves more than a port to Red, it needs to be adapted and modernized. Though, I would like to have a RSP engine emulation, to be able to use the new implementation as a drop-in replacement for existing webapps.

PeterWAWood

[07:11](#msg56e512b96fde057c26864455)@meijeru @iArnold I put together a little test of creating a now map! using my \[Red/System Libraries](https://github.com/PeterWAWood/Red-System-Libs). You should be able to use it to create an object from the map.

It's not too long:

```
Red []

#system [
	#include %../Red-System/Red-System-Libs/DateTime/PWAW-DT-date-time.reds
]	

now: routine [
	return: 			[hash!]
	/local
		red-int			[red-integer!]
		red-now			[red-hash!]		
		system-now		[PWAW-DT-date!]
		
][
	add-field: func [
		now-map			[red-hash!]
		name			[c-string!]
		value			[integer!]
		/local
			rint		[red-integer!]
			rword		[red-word!]
	][
		rint: declare red-integer!
		rint/header: TYPE_INTEGER
		rword: declare red-word!
		rword: word/load name
		rint/value: value 
		map/put now-map as red-value! rword as red-value! rint false
	]

	red-int: declare red-integer!
	red-int/header: TYPE_INTEGER
	red-now: declare red-hash!
	system-now: declare PWAW-DT-date!
	PWAW-DT-now system-now
	
	red-int/value: 9
	red-now: map/make as red-value! red-int as red-value! red-int
	
	add-field red-now "year" system-now/year
	add-field red-now "year" system-now/year
	add-field red-now "month" system-now/month
	add-field red-now "day" system-now/day
	add-field red-now "hour" system-now/hour
	add-field red-now "minutes" system-now/minutes
	add-field red-now "seconds" system-now/seconds
	add-field red-now "microseconds" system-now/microseconds
	add-field red-now "tz-hours" system-now/tz-hours
	add-field red-now "tz-minutes" system-now/tz-minutes
	
	red-now
]

time-map: now       
probe time-map
```

[07:13](#msg56e5132089dd3cce1005fb40)My Red/System Libraries are in need of some attention but the now function and pre-requisites should be okay.

[07:14](#msg56e513449f24605773d7ac69)The routine is a bit of a hack so I wouldn't use it in anything serious.

[07:15](#msg56e5138dc7364f7926be7df9)Here are the results of the test:

```
#(
    year: 2016
    month: 3
    day: 13
    hour: 15
    minutes: 14
    seconds: 56
    microseconds: 315310
    tz-hours: -8
    tz-minutes: 0
)
```

iArnold

[09:10](#msg56e52e8ef892e2e611ee6d72)Nice type! the PWAW-DT-date! :-)

## Monday 14th March, 2016

iArnold

[11:51](#msg56e6a5d36fde057c268686aa)&gt; If any has better propositions on how to achieve that quicker/easier/cheaper, I'm all ears.

My suggestion would be trying to have more small releases. Less feature complete, but working off course. This will get people testing the released versions, less the idea of what is in de branch that is a work in progress.

dockimbel

[12:04](#msg56e6a8b40055f8f35a82f511)Making more frequent releases means more work for us (a new release takes some time to prepare), which defeats the points of trying to "go quicker". Besides, the new features (even not fully completed) once stabilized are available in master branch and auto-builds, so people willing to help, \*can* test them. There's no show-stopper there.

pekr

[12:23](#msg56e6ad4c3194fbd11096d402)I wonder if ppl believe in things only if it has official stickers on its surface? I always work with the latest and gretest and to be honest - I would ditch red.exe altogether. Of course, ppl would have to be taught, how to compile from sources. But I was bitten so many times by official red.exe not being able to work with new stuff, that I let it go for a good :-)

iArnold

[12:38](#msg56e6b0d36fde057c268689be)I forgot what red.exe was used for. red-console is nice to test view scripts.

thinklog

[12:54](#msg56e6b47f3194fbd11096d600)@dockimbel Not to raise an argument, but I for one would be ecstatic if there was an interim release with prototype Android View backend. Something

[12:55](#msg56e6b4ab11a3dbf55acbc464)Like a 0.6.05 release :-)

pekr

[13:07](#msg56e6b78d11a3dbf55acbc54c)It is goint to happen. It is just going to be called 0.6.1, or at least that seems to be the plan :-)

dockimbel

[14:24](#msg56e6c9ae9f24605773d7f8cf)@thinklog We'll probably have something like that in 0.6.1, though it won't be much useful as long as the View backend is not completed.

WiseGenius

[15:19](#msg56e6d69f9f24605773d7fde3)@dockimbel There seems to be a regression with `help`:

```
red>> help "help"
*** Script error: --catch has no value
*** Where: get
```

thinklog

[15:26](#msg56e6d81b9f24605773d7fe92)@dockimbel @

[15:27](#msg56e6d84bc7364f7926bed072)@pekr @dockimbel Thanks, looking forward to it.

tanstaaf1

[19:30](#msg56e7114889dd3cce100662b1)@pekr $9.99 sells much better than $10.00. Used to work at a store where we would put "New Low Price!" signs up every time we raised prices! :-&gt; Worked like a charm!

iArnold

[19:45](#msg56e714f1945348b7763f4137)Where to report false positives by Virusscanners on compiled Red programs? I keep getting them by Norman Endpoint protection (seems to be part of AVG) on a small program.

[19:52](#msg56e71675f6b819d80efed4e8)@qtxie I took a quick peek at your Mac OSX branch, you are a litlle further than just the button "OK" example. Looking good. :-)

pekr

[21:09](#msg56e7287f9f24605773d81f5b)@iArnold so after some time, you are feeling finally lucky? :-)

iArnold

[21:28](#msg56e72ce19a2333a2536d5cf0)@pekr Time to switch to Ubuntu or Linux Mint ;-)

## Tuesday 15th March, 2016

dockimbel

[04:29](#msg56e78f939f24605773d836af)@WiseGenius I can't reproduce that here. It works fine, even when I use the `--catch` option.

[06:05](#msg56e7a60cc7364f7926bf0c7d)FYI, the last tweet about the OS X Red/View port reached 10'000 views now. I think that's pretty good at this point. That's far more than just the people following the red\_lang account.

rebolek

[06:07](#msg56e7a68cc7364f7926bf0c93):thumbsup:

pekr

[06:09](#msg56e7a701618c335373ebe71e)cool!

WiseGenius

[14:42](#msg56e81f546fde057c2686f32b)@dockimbel \[It's](https://gitter.im/red/red?at=56e6d69f9f24605773d7fde3) still an issue here with the latest source, both in GUI and CLI console, on both Windows XP and Windows 7, and even with the automated `red-15mar16-bc3bd23.exe`. It only seems to happen when `help`'s argument is a literal `string!`.  
It seems to have stopped working on the 14th of March, somewhere between 10:51:51 and 11:52:52 GMT.

dockimbel

[14:43](#msg56e81fa8618c335373ec07b7)@WiseGenius I can reproduce it now in the GUI console.

[16:13](#msg56e8348e6fde057c2686fbce)@WiseGenius Should be fixed now.

WiseGenius

[16:20](#msg56e8366911a3dbf55acc34ef):+1:

pekr

[18:39](#msg56e856c711a3dbf55acc40cb)How should I construct a colour back from a separate r g b values? We don't have to tuple! yet. Form inserts stupid spaces there, rejoin is not available.

[19:03](#msg56e85c6711a3dbf55acc42ad)Ported rejoin, but it leads me to the question of Rebol langs' decision to add spaces where I don't ask for them myself in the first place ... I am so glad we bugged Carl to make R2's parse/all default for R3.

iArnold

[19:09](#msg56e85dda6934f58b51ba57d9)@pekr Have you tried something like  
r: 125  
mycolor: 0.0.0  
mycolor/1: r

pekr

[19:11](#msg56e85e4711a3dbf55acc4340)no ... but that might be more resource savy, than porting rejoin and using:

[19:11](#msg56e85e68c7364f7926bf4479)

```
return load rejoin reduce [
        to integer! (r * 255) "."
        to integer! (g * 255) "."
        to integer! (b * 255) "."
        a
    ]
```

iArnold

[19:21](#msg56e860c6fe9a8ad118ea3e23)Everybody needs rejoin: https://github.com/iArnold/Xiangqi/blob/master/xiangqi/utils/red-rejoin.red

pekr

[19:22](#msg56e860ee9f24605773d87265)We need more mezzanines, but - we will most probably have to wait for the precompiled runtime ...

[19:28](#msg56e862473194fbd1109753b6)color: red .... color/4 - R2 returns none, Red returns error. What is the most effective way to test for an alpha channel, apart from error? try \[color/4]

iArnold

[19:29](#msg56e8628bfe9a8ad118ea3e28)Added example REJOIN to the wiki https://github.com/red/red/wiki/mezzanines

pekr

[19:29](#msg56e862a50055f8f35a8377fe)You could add join too :-)

iArnold

[19:30](#msg56e862d9fe9a8ad118ea3e2b)Do you have a source for JOIN ? If I can edit that wiki page then certainly you can ;-)

pekr

[19:30](#msg56e862d989dd3cce1006bc58)Hmm, lenght? color might be more savy than trying to workout the error ....

[19:30](#msg56e862f3c7364f7926bf45b4)Just use source join in R2 console, Luke - use the force!

iArnold

[19:33](#msg56e86387fe9a8ad118ea3e30)I have big time trouble in getting to see the Star Wars movie!! Because I did not have time earlier on to see it, my opitons are now downto 1 cinema and it only plays 1 time a day, at 4 in the afternoon.. 4 at night and I would have a chance...

pekr

[19:35](#msg56e864053194fbd110975445):-)

iArnold

[19:37](#msg56e8646f2f1340a15a08f66a)There is no repend in Red (0.5.4). There is in source of JOIN in R2:  
join: func [  
"Concatenates values."  
value "Base value"  
rest "Value or block of values"  
][  
value: either series? :value \[copy value] \[form :value]  
repend value :rest  
]

pekr

[19:38](#msg56e864a511a3dbf55acc456b)Well, we need R2 emulator/virtual machine in Red then :-)

iArnold

[19:39](#msg56e864e02f1340a15a08f66b)Yes and Nenad can fix the error that is bothering Red development himself, instead of being dependent on Carl to fix it.

[19:39](#msg56e864e68e7a231d2ec4dbaa):-)

pekr

[19:39](#msg56e8650c6fde057c26870cf2)Such project should be called Red Inception then :-)

iArnold

[19:54](#msg56e8687e8e7a231d2ec4dbc0)What about using the popularity of the Eclipse IDE to promote Red? "Eclipse is an integrated development environment (IDE) for Java and other programming languages like C, C++, PHP, and Ruby etc."

[19:55](#msg56e868b6fe9a8ad118ea3e4e)like for example http://www.rascal-mpl.org/start/ ?

pekr

[19:56](#msg56e868db89dd3cce1006be69)Do you want to download it? And IIRc, Google introduced Android studio, or something like that?

[19:56](#msg56e86900c7364f7926bf47c5)But on the other hand - why not, it is an IDE after all ...

iArnold

[20:09](#msg56e86be02f1340a15a08f68d)No just get Eclipse IDE to be able to handle Red compilation even if Red does this simpler and more effective itself. But it would get a lot of attraction.

[20:09](#msg56e86bf8fe9a8ad118ea3e75)Just an idea.

## Wednesday 16th March, 2016

dockimbel

[04:24](#msg56e8e0040055f8f35a8394c0)@pekr I added a few helper functions to creating tuple values (planned to do that since a while).

pekr

[05:15](#msg56e8ebfd9f24605773d89280)OK, thanks. Maybe I would add `as-rgb`next to `as-color`, as we have `as-rgba`

[05:18](#msg56e8ec9589dd3cce1006dabe)In future I would prefer functions being more intelligent, but maybe it is not their role and those are supposed to be basic and fast. E.g., taking a block, so freely using as-color \[255 128 0 0], ignoring the latest argument, or even as-color 255.128.0.0, stripping alpha ....

[05:18](#msg56e8ecb16fde057c26872b6d)Anyway - can save my script from weird conversions via rejoin and loading now ....

dockimbel

[05:24](#msg56e8ee143194fbd110977283)@pekr That is not the purpose of the `as-*` functions. They are helper functions, taking separate components to form an aggregated value. If you need to create a tuple from a block, you can already do that:

```
red>> make tuple! [255 128 0 0]
== 255.128.0.0
```

Remember that the datatype is tuple!, not color!.

pekr

[05:46](#msg56e8f334c7364f7926bf65f4)ah, that is what I have missed. I tried to tuple!, but it reported it does not accept block as an argument ...

[05:46](#msg56e8f34dc7364f7926bf65f6)I know that most of `to`conversion don't work yet, so just tried ...

mikeparr

[09:26](#msg56e926c09f24605773d89ddb)Possible dehex bug, Win7 -red-04mar16-1e9c03a? When the hex pair is at the end of a string, no conversion happens:

```
rebol:
 dehex "%42"
== "B"    ;ok

red:
red>> dehex "%42"
== "%42"    ;no  !!!!!!
red>> dehex "%42Z"
== "BZ"   ;ok
```

dockimbel

[09:29](#msg56e92793c7364f7926bf6fde)@mikeparr Good cath! @qtxie will have a look at it.

In the meantime, if you wish to help more, you can write a few unit tests for it and submit a PR for that (good and easy way to help Red get better). If you need any assistance for the unit tests, @PeterWAWood can help for that.

mikeparr

[09:52](#msg56e92cef6fde057c268737fd)thanks @dockimbel - I will look into it.

PeterWAWood

[10:04](#msg56e92f9f0055f8f35a83a3d0)@dockimbel A couple of questions about dehex:  
1\. Does dehex assume the supplied URL encoded string is UTF-8 encoded? (It seems to in practice)

```
red>> dehex "Fran%C3%A7ois"
== "François"
```

2\. The current behaviour seems to be to ignore invalid UTF-8 sequences. Is this intended? (The alternative being to use the Unicode replacement character - � U+FFFD)

```
red>> dehex "%F3 "
== "%F3 "
```

[10:22](#msg56e933ca6fde057c26873a32)Sorry re number 1. Does dehex assume that the URL encoding is using UTF-8?

dockimbel

[10:24](#msg56e934646fde057c26873a6a)No, `de-hex` is applied to a Red string! value, so it's using Red's internal unicode encoding.

PeterWAWood

[10:27](#msg56e9350489dd3cce1006e94a)I meant the %C3%A7 part - C3A7 being the UTF-8 sequence for ç

[10:28](#msg56e9353b11a3dbf55acc7257)It seems that %XX needs to be part of a valid UTF-8 sequence.

[10:28](#msg56e9356b9f24605773d8a213)ç is U+00E7, UTF-8: C3 A7

dockimbel

[10:29](#msg56e9359f0055f8f35a83a597)Let me check the standard rules for URL decoding...

[10:45](#msg56e939466fde057c26873bd1)It \[seems](https://en.wikipedia.org/wiki/Percent-encoding#Current\_standard) that the encoding of non-ASCII characters in URL should be using UTF-8 before applying the percent-encoding, though, the decision about decoding does not seem very clear, so I guess using UTF-8 as default is our best bet.

[10:48](#msg56e939e19f24605773d8a381)For invalid UTF-8 sequences in percent-encoded strings/URLs, I am not sure which behavior would be the most helpful. Maybe `dehex` should error out on wrong UTF-8 sequences, and provide a refinement for ignoring/replacing such sequences?

PeterWAWood

[11:08](#msg56e93ec511a3dbf55acc7557)@qtxie Quick work on dehex :+1:

```
red>> dehex "%42"
== "B"
```

[11:16](#msg56e9407c3194fbd11097846b)

[11:17](#msg56e940d66fde057c26873e1a)

[11:20](#msg56e9417f3194fbd1109784a6)@dockimbel I think that assuming UTF-8 as the default for decoding url encoded values is the correct action.

[11:21](#msg56e941d7c7364f7926bf77f9)Personally, I think the changing invalid sequences to the replacement character would be the best default option (as that's what most browsers will do when they encounter invalid sequences).

[11:22](#msg56e9420e3194fbd1109784d0)Perhaps a refinement could be provided that would raise an error when encountering an invalid sequence.

dockimbel

[11:23](#msg56e9424ac7364f7926bf7816)I'm not a big fan of letting pass errors by default without notifying the programmer...

PeterWAWood

[11:39](#msg56e945e09f24605773d8a6a9)Given that there is an huge amount of data that is not UTF-8 encoded and some that is badly UTF-8 encoded on the internet, I wonder if it would be worth making an exception for encoding errors?

dockimbel

[11:39](#msg56e9460d11a3dbf55acc7715)Silent encoding errors could make your code do wrong computations.

pekr

[13:20](#msg56e95dae9f24605773d8ad7e)Well, this is a tricky situation, and I can understand both points of view. Just one note - the programmer is not the one, who is going to face the problem. Client will face the problem.

[13:21](#msg56e95dc189dd3cce1006f4af)The example was reading www.idnes.cz

[13:22](#msg56e95e0a6fde057c2687463d)In such case, all oneliners of a page: read http://my-website.com will have to be wrapped in an error catching construct. On the other hand, you might face the network problem, so you might need the error catching construct anyway ....

[13:23](#msg56e95e6e618c335373ec5b59)On the other hand, for quick prototyping, I don't want my code to end-up with identifying encoding first, than using read/as with particular codec. A tough call between what is right and what is practical ...

dockimbel

[14:41](#msg56e970aec7364f7926bf862d)@pekr You are not understanding how codecs work... They are doing the encoding identification for you.

## Thursday 17th March, 2016

dockimbel

[02:26](#msg56ea15d60055f8f35a83e8d6)From Red blog comments: "Can you kindly put some tutorials on Youtube (latest stable) as many people are really interested in this programming language and there isn't too much material available. I think that will gain Red some well deserved interest. Good Luck!"

If you want to help Red spread, this is definitely the kind of thing that would be helpful.

qtxie

[03:55](#msg56ea2aa011a3dbf55accb96d)For reading the webpage, I think the process flow would be like this:  
1\. Request the http header to get the `charset` attribute.  
2\. If there is a `charset` then use the corresponding codec to decode it, otherwise use `UTF-8`.  
3\. If encounter invalid sequences, then changing it to the Unicode replacement character 0xfffd.

dockimbel

[03:57](#msg56ea2b2c0055f8f35a83ec49)@qtxie We still need a way for the developer to know that the page has wrong encoding, if he needs that information.

qtxie

[03:57](#msg56ea2b3811a3dbf55accb980)So by default we tolerate the invaild encoding, if we want the `read` to be strict then we can use a `/strict` refinement.

[04:10](#msg56ea2e3c0055f8f35a83ecc8)Also if the developer use `/Info` refinement, we can put an error in the return block.

iArnold

[08:14](#msg56ea676011a3dbf55accc22c)Very good idea from the blog comments @dockimbel You know how much time making one little youtube movie takes? Preparation, retakes, editing. The hardest part for me always was to have a quiet place for the recording. I am glad I only have a Macbook so making vids for the VID on Windows is not something I can take up now.

c0ldT

[08:45](#msg56ea6e9e618c335373eca00f)@nickantonaccio has already made a bunch of rebol videos - it might not take as much time for him

pekr

[10:05](#msg56ea81663194fbd11097d666)Ah, pretty extensive list for 0.6.1 already :-) https://trello.com/c/11bblhBn/133-0-6-1-android-gui-support

dockimbel

[10:14](#msg56ea836ec7364f7926bfcb7e)We'll probably split it over 2 releases.

rebolek

[10:20](#msg56ea84ec618c335373eca621)I see "Integer/float conversions as R/S intrinsics." there, I’d like to point you to https://github.com/rebolek/user.reds/blob/master/user.reds which has `float-to-int` and `int-to-float` functions available. Feel free to use them.

dockimbel

[10:45](#msg56ea8ae19f24605773d8fb28)That item in the list is for exposing the FPU conversion instructions as R/S intrinsic functions, so that we don't have to write them in R/S as we do now.

rebolek

[10:48](#msg56ea8b836fde057c26879498)Ah, ok :-)

## Friday 18th March, 2016

pekr

[06:36](#msg56eba1daec99d7bd40a09cb4)Shixin (Atronix) created a memory dump function for R3. What is interesting is further visualisation of nodes, which take most part of the memory: http://zengshixin.blogspot.cz/

[06:49](#msg56eba4f6c081db78786b2889)For those who might be interested (sorry for posting R3 stuff again, but I regard it being a chit-chat room in Altme terms here), but here's some attempt at Emscripten R3 port, reported being nearly as fast as the real console. Hopefully Red gets that target too (or WebAssembly in the future :-) http://giuliolunati.altervista.org/r3.html

dockimbel

[07:11](#msg56ebaa062316027b785e6421)"I regard it being a chit-chat room in Altme terms here"...which in other words translates to "I don't care about the topic of this group" ;-)

pekr

[08:24](#msg56ebbb278f56f9a16e0db760)Which in other words means, that I feared of such an reaction. Sometimes I can feel, that Python, Lisp, whatever references are more welcomed here, than our own "family" products, especially whatever R3 related. My only point with above links was to eventually attract some potential low-level guys, who might look into that stuff and eventually start working for e.g. on an Emscripten emitter :-)

iArnold

[08:24](#msg56ebbb432316027b785e6726)A more general group so to say. I think Pekr somehow feels that what Shixin has done for R3 has relevance for Red too.

pekr

[08:25](#msg56ebbb616fbc43bf4099113f)btw - having problems to display properly on my cell phone, in two browsers. Will try to switch gitter back to an old interface.

[08:25](#msg56ebbb698f56f9a16e0db772)Arnold - exactly ....

dockimbel

[08:35](#msg56ebbdd1ec99d7bd40a0a186)@Pekr There's a difference between "reference" and "promotion". Also, Emscripten is a compiler, not a format.

[08:40](#msg56ebbf0fec99d7bd40a0a1da)@iArnold I fail to understand how compiling R3 using Emscripten has any relevance for Red.

Oldes

[08:51](#msg56ebc19e2316027b785e68bf)@dockimbel the relevance probably is, that @pekr want to see something similar using Red. Regarding the memory dumping, I think it would be really nice to have it in future. I'm personally not interested in Emscripten at all. I'm lucky I don't have to code for Web these days.

iArnold

[08:51](#msg56ebc1a0ec99d7bd40a0a28a)@dockimbel Yes that has less relevance to Red, I was referring primarily to his post regarding the memory dump function by Shixin. The interest is a development in a related language and if and how this could be done (already) in Red. But agreed, the SO chat room is Rebol AND Red, this chat room is red/red. ;-)

[08:52](#msg56ebc1c9d37167a26ea0f265)+1 @Oldes well put.

dockimbel

[08:53](#msg56ebc221c081db78786b2e11)@Oldes We would \*all* like to have a JS backend for Red asap, though, I still fail to see how posts like Pekr's one are helpful in reaching that goal.

iArnold

[08:56](#msg56ebc2adec99d7bd40a0a2d4)They certainly help keep Pekr interest in Red development alive ;-)

Oldes

[08:56](#msg56ebc2af2316027b785e690c)I don't know either and also I remember Andreas presented Emscripten R3 port last year on Red meeting in Brno.. wonder why he left it in silence.

dockimbel

[08:59](#msg56ebc384d37167a26ea0f2cb)@iArnold That SO chat room is not an official "Red" channel anymore since the Red team members left it more than a year ago. Therefore, I doubt there's any relevant discussion about Red in such group.

iArnold

[09:00](#msg56ebc393de00745d3dd3a293)He left SO chat on 10th of januari going to bed without any visible argument. He visited AltME last in februari. Though his status now is active today at 9 o'clock.

[09:10](#msg56ebc5f9de00745d3dd3a33c)@dockimbel Correct, not an official channel. Still allowed to talk about Red and all the commits to the repo are still in the feed to keep the followers updated about Red development.

pekr

[10:06](#msg56ebd32fd7d79821324bd5cd)I just got back from the meeting, and all I can read is this .... It is really kind of disturbing to me - what kind of promotion are we talking about here?! So full talks about Lisp and macros are allowed here, but just pointing out to the Rebol family product, so that someone skilled could eventually look into the stuff and plan ahead, is not welcomed? Sorry, but this almost feels like the censorship. I know very well where I am standing, and don't need to be corrected, nor censored. I am out of here till I calm down. I don't really need to be treated like that ....

Arie-vw

[11:06](#msg56ebe14cec99d7bd40a0aba5)@pekr Maybe you take this too heavy. I think @dockimbel wants this group to be very dedicated to Red development and as such is a very serious group. So "chit chat group" does not describe what this group is meant to be. However, I think it can be very relevant sometimes to post a link to a promising "Rebol family advancement". Also Pekr, I do not think you should take this too personally. As far as I am concerned I think you try your very best to promote Red (and other Rebol dialects). Keep up the good work!!!

dockimbel

[11:24](#msg56ebe588375a37736b6f505a)@pekr Invoking "censorship" when you're the one explicitly saying that you don't care about this group's topic, is misappropriate and unfair.

iArnold

[12:05](#msg56ebef08ec99d7bd40a0af58)Perhaps creating a special red/chat group would be the perfect solution here.

dockimbel

[12:06](#msg56ebef560dc674e12a08391f)@iArnold Maybe.

iArnold

[12:09](#msg56ebf007ec99d7bd40a0af92)Pekr can post Rebol related chat subjects and this room can become exclusive domain of development of Red talk again.

thinklog

[12:16](#msg56ebf1a32316027b785e75cc)@pekr and everyone else that participated in this thread. Maybe I'm not understanding @pekr correctly, but it seems to me that the dissonance comes from two entirely different frames of mind regarding red that are not in competition with each other. One - which I'll designate as @pekr's is an interest in red as part of the REBOL family. This is an inclusive view that motivates @pekr to share any excitement that he may feel about any advancement in the REBOL world with everyone on this forum, because he feels that he is talking with kindred souls that will appreciate the information. The other view is perhaps more inclined to see red as an independent, if not even competing product in the REBOL world, and therefore feel that any news about some other REBOL related product is an unwanted ds

[12:16](#msg56ebf1aa6fbc43bf40991ff3)distraction, if not eve

[12:20](#msg56ebf282acb317593df54b4b)even victory for some competing product. I think that if one relates to @pekr's info with this in mind, then one can share his excitement about a new development somewhere in the REBOL world, instead of rejecting it as "missing the topic". In this sense, one must perhaps exercise a little more sensitivity and intelligence to understand where a person is coming from.

Oldes

[13:27](#msg56ec02462316027b785e7a78)Frankly I somehow don't understand what is a problem... I'm completely fine with @pekr's links as I have not much time to follow R3's progress. I don't see R3 as a competitor to Red as probably @dockimbel may do. More offtopic are discussions if some post was on topic or not. I'm in 11 other Red related rooms, which are most of the time quiet as are on topic mostly. And honestly, better to have some discussion even about other languages, than dead silence which I see for example in OplenFL room. End.

moliad

[15:13](#msg56ec1b0ebb4a1731739b0476)I'dd add an official red/chat room in order to keep this one more focused on the actual development of red and any directly related topics such as issues, repo, release notes, wishes, etc. I think this is what @dockimbel wants this room to be. the Red/Chat room would still be about red and probably contain a lot of the discussions currently here. It probably could also serve as the meta room for discussions ABOUT the coding, but not the coding itself. Myself, I'd like more focused rooms like on Altme, especially when some topics generate long discussions... the threadless nature of gitter makes it complicated to follow discussions of several intertwined topics (why I hate SO chat specifically). I think the general support for new users could also go in Red/Chat.

[15:26](#msg56ec1e210d69dfd12220f760)the current thread of what to do where... is a fine example of just what would go in Red/Chat ;-)

iArnold

[17:54](#msg56ec40cd09b9b0dd488fc155)And you would not have to add it to your favorites on the left side. That way we all can chat away without keeping the official developers from work. ;-)

PeterWAWood

[23:43](#msg56ec929b0d69dfd122211ae7)@moliad In case you weren't aware of the \[Red links]( https://gitter.im/red/red/links) group which also links to the \[Red Gitter Room Index](https://github.com/red/red/wiki/Gitter-Room-Index).

## Saturday 19th March, 2016

JenniferLee520

[04:54](#msg56ecdb970425c72f73f13e00)I am making a simple tool on Windows using Red GUI for my company. Once GC is supported, I can release it to my company. Talking about GC, I noticed that there is a "simple GC in 0.6.1" and “full GC in 0.9”. What's the difference between them? Is simple GC good enough for my application? What did simple GC do and not do?

[04:56](#msg56ecdc030425c72f73f13e0c)@dockimbel Would you please answer the above question. Thanks a lot.

dockimbel

[05:45](#msg56ece7967ba1b202355f89b6)@JenniferLee520 The simple GC is just a stop-the-world Mark&amp;Sweep simple implementation. The full GC will be using more sophisticate algorithms, with some generational and incremental collection support.

[06:36](#msg56ecf38a4ff517e906d3444c)@thinklog I think your analysis is correct, though you're missing some background information. Let me give you a different perspective. The last link posted by Pekr is about Ren/C, an hostile fork of Rebol3. That project's leader declared publicly "war on Red" a year ago (among other things), so posts \*promoting* that fork are obviously inappropriate here. We already had a similar "incident" a few months ago here, where I stated clearly that such promotion here was inappropriate. Pekr knows all that well (as we often exchange in private), but chose to ignore it, declaring that he doesn't care about the topic of this group. I don't understand nor approve such behavior. Anyway, case closed for me.

PeterWAWood

[06:49](#msg56ecf68a0d69dfd1222125f4)These Gitter chat groups have been set up with the sole purpose of facilitating communication related to the development of Red. Communication both within the development team and between the developers and users. These open communications benefit us all.

Chat about other topics is distracting and time consuming. We want to avoid the situation where the development team start to communicate privately and stop using the public Gitter channels regularly. Those from the Rebol community may remember how Carl always seemed to withdraw from community discussions once they became "noisy". Personally, I would hate that to happen here.

It would be a great help if we could keep these Gitter groups on topic.

JerryTsai

[11:13](#msg56ed34738680486236c142c0)@dockimbel Can I get a GC-Start event right before the stop-the-world GC starts collecting memory? so that I can show a dialog to users to inform them that they need to wait for a while and that's not system crash. I don't want my application users to be panic for the freezing of the system because of GC.

dockimbel

[11:15](#msg56ed34dd0d69dfd122212b3f)@JerryTsai Why do you think the users would have to wait that long that they need to be informed about it? Did you ever have to do it in Rebol which uses a stop-the-world GC too?

JerryTsai

[11:17](#msg56ed3547dec81665365dcb6b)@dockimbel OK. Now I got the idea. :-)

JacobGood1

[13:34](#msg56ed55490d69dfd122212f19)That would be funny... excuse me, you must wait on the crappy garbage collector to finish... I don't think the user would even know what you were referring to

tanstaaf1

[14:06](#msg56ed5cc9bb4a1731739b3d6f)@dockimbel So what are the circumstances when the 0.8.5/Full GC will be needed or make a noticeable difference in performance? I'm guessing you're going to say when you need 0.9/Concurrency?

[14:07](#msg56ed5d338680486236c14743)Oh, and I've been reading about the Rust language which doesn't have a GC but has implemented some other way of handing memory? Would Rust's system have any relevance for Red's needs?

JacobGood1

[17:26](#msg56ed8bcf654d30d022e46989)@tanstaaf1 probably not

DonaldTsang

[20:26](#msg56edb5dddec81665365dde22)Hi @dockimbel what did I miss for the past few months?

## Sunday 20th March, 2016

JenniferLee520

[03:33](#msg56ee19f9654d30d022e47bff)

dockimbel

[04:33](#msg56ee280b4ff517e906d345ef)@DonaldTsang A few hundred commits. ;-)

[04:42](#msg56ee2a2f09b9b0dd488fc4e0)@tanstaaf1 The "full GC" aims at reducing the workload, so that GC passes get faster, and at making it incremental, so that it can be achieved without long noticeable stops. There are two different use-cases where you need such more sophisticate GC, one is for server code, when you have huge number of allocations in memory (using let's say several gigabytes of memory), and second one is for apps requiring low-latencies (typically games), where a longer pause (let's say 100ms) would cause noticeable glitches. Different use-cases require different methods for managing memory, so I would like the memory manager to be flexible enough in order to provide good performances for all common use-cases. This probably will require implementing different algorithms to cover diverging needs.

[04:56](#msg56ee2d6e9af6ba280ec16b5d)@tanstaaf1 Rust is a statically compiled system programming language and not homoiconic, so it's very far from Red. Eventually, maybe Red/System could take some inspiration from it for providing safer runtime behavior, though, given that Rust, by design, puts the burden on the programmer's shoulders while Red tries to take it away, makes me doubt that we can find there anything usable for us. That said, I still want to drop null pointers in Red/System at some point in the future (we might give it a try in Red 2.0).

## Monday 21st March, 2016

planetsizecpu

[18:16](#msg56f03a82585e688e68367cb6)Come on guys, let's take it easy :) Let the masterminds do his work. Step by step we are reaching 0.6, but what we want is to see the 1.0 cartoon box, so I prefer no to disturb, but encourage the main brains.

## Tuesday 22nd March, 2016

iArnold

[09:24](#msg56f10f518ea88c6726739d67)This only illustrates that we need a channel besides AltMe to communicate. @pekr can you still logon in AltME?

xqlab

[10:29](#msg56f11ea3590ecaef713a890d)@iArnold , I get Invalid username or password.

dockimbel

[10:34](#msg56f11fcafb42f03070c5bfa3)First draft of VID reference documentation \[published](https://github.com/red/red/wiki/VID-Reference-Documentation) for proof-reading and review. A graphic and `react` keyword descriptions are missing in that draft version.

[10:41](#msg56f1216d6965fc0e43c2b967)The documents we publish under "Reference documentation" are, as the title implies, for "reference" and are not suitable as learning documents. User manuals and tutorials should be written from those reference documents. Community contributions are \*mostly* welcome and expected there. ;-)

mikeparr

[10:50](#msg56f1237bfb42f03070c5c093)fourth, fifth argument inaccuracy? Getting help on them says that a series or tuple works - and they do, of course. But it also says that a pair! is accepted. This does not work. Windows 04Mar version.

dockimbel

[10:55](#msg56f12484590ecaef713a8a99)@mikeparr Good catch, fixed now.

mikeparr

[10:55](#msg56f124b3ab8cc6f071f9fe71)@dockimbel thanks (Wow!)

Cybarite

[10:57](#msg56f125340ac0de6626ff9085)@dockimbel do you want updates via wiki changes or gitter messages or ...?

dockimbel

[10:59](#msg56f1259bc0d1b40a431fa0ad)@Cybarite For obvious typos, you can update the wiki page (just be careful with the editing, as the unrolling of changes seems to be broken on Github). For the rest, you can post it here first for prior discussion.

iArnold

[12:20](#msg56f1389b0ac0de6626ff959a)Corrected no-wrap from wrap to no-wrap.

dockimbel

[12:52](#msg56f1401dc0d1b40a431fa810)Thanks!

[14:56](#msg56f15d3a0659325f45148a7d)BTW, we have a new schedule planned for the release: March, 25th. ;-)

iArnold

[16:11](#msg56f16ecd1bf04043459d4dc0)That's a good friday!

Cybarite

[23:29](#msg56f1d569673d92744ee041a8)For the section on Datatypes, I read the string! option to mean that if I follow a face with a text string it will appear on the face. I can only get that to work with button. I thought it would work somehow on a tab or a panel but it does not.

## Wednesday 23th March, 2016

dockimbel

[06:23](#msg56f236541fc61a6101d4cd77)I have add some \[graphics](https://github.com/red/red/wiki/VID-Reference-Documentation#layout) to the VID document to explain the layout methods used by VID.

[06:34](#msg56f238d89adfdd12155a2282)@Cybarite For `tab-panel`, the `text` facet is superseded by `data`(as it needs to specify more than one string), so specifying a string! will have no effect on that component. For `panel`, I am not sure if we blocked it at some point because of rendering conflicts or if we just forgot to add code for painting the text part. Though, you right that the VID doc should mention exceptions if any.

Cybarite

[08:04](#msg56f24df2a80ca7f40ae32f9b)@dockimbel Ok I will add those exception comments as I work through it today.

meijeru

[08:14](#msg56f25048e247956f1e304069)Quote: I have add some \[graphics](https://github.com/red/red/wiki/VID-Reference-Documentation#layout) to the VID document to explain the layout methods used by VID.  
@dockimbel That is very useful. What I still miss in the layout explanations is the use of a \*\*grid\** (mentioned in the Overview as one of the options) as well as the use of an `integer!` with a panel to indicate the number of columns or rows.

dockimbel

[08:26](#msg56f25339673d92744ee05728)@meijeru Using "panel + integer" is how you create a "grid" layout. I should make it more clear in the doc.

Cybarite

[09:07](#msg56f25cc7a80ca7f40ae33327)Dragging via 'loose' works very well on Win/7. I am not following how 'on-drop' is implemented. But view-test.red seems to have it all....

dockimbel

[09:09](#msg56f25d39a80ca7f40ae3334f)`on-drop` event is generated by a global event \[handler](https://github.com/red/red/blob/master/modules/view/view.red#L750) for drag'n dropping support.

[09:54](#msg56f267e40d5edb734e672f7a)Panels syntax is missing from the VID doc, I'm adding it now.

Cybarite

[11:13](#msg56f27a6bddb288721eed4b23)@dockimbel Was it intentional that a panel block could be loaded from a url for example defining a tab's content?

```
"Load Block" http://localhost/load-block.txt
```

where load-block.txt is for example

```
[
	text "Drag Me" loose
]
```

dockimbel

[11:15](#msg56f27ab72d4bbff80a3febed)@Cybarite It's an \[emerging property](https://en.wikipedia.org/wiki/Emergence). ;-)

Cybarite

[11:19](#msg56f27bc7ddb288721eed4b93) @dockimbel Yes very flexible. Useful in prototyping.

dockimbel

[11:20](#msg56f27c18d8f8e9624e75f7ee)@mikeparr I added the link to your Red webpage and IDE to red-lang.org on the "Documentation" page.

mikeparr

[19:16](#msg56f2eb80137455d638d24dbd)@dockimbel - thanks!

## Thursday 24th March, 2016

justjenny

[00:18](#msg56f332588980d78b3c951165)I have a few examples .... what do i do ? .... i'm a programmer, not an i.t. person .... it needs to be more user friendly on here ....

PeterWAWood

[01:09](#msg56f33e345e8594927b8ef6cc)@justjenny You should find the \[Red Mailing List/Google Group](https://groups.google.com/forum/#!forum/red-lang) more user friendly than here. The purpose of these Gitter "rooms" is to discuss the development of Red rather than its use.

[01:11](#msg56f33ead8980d78b3c9513f1)Even though there are less messages on the Mailing List than here, you will find that any question you ask there will be answered pretty quickly.

[01:16](#msg56f33fed2873ab8d3c4466ee)You might want to visit Nick Antonaccio's \[Red Programming site](http://redprogramming.com/Home.html). He welcomes questions about Red at his \[Rebol Forum](http://rebolforum.com/index.cgi?f=home).

dockimbel

[02:16](#msg56f34df65491380278df335c)@justjenny If you have any question about Red, you are welcome to ask here too.

[02:42](#msg56f353fb5491380278df336e)@justjenny Another option is also to formulate your programming questions about Red on \[stackoverflow.com](http://stackoverflow.com), so we can answer them in length and in a focused way (and you'll raise your own SO score ;-)). Just remember to tag them with \[Red] tag, so we can get notified when you post them.

pekr

[08:59](#msg56f3ac5a5491380278df3405)"The purpose of these Gitter "rooms" is to discuss the development of Red rather than its use." - that's the clash / missunderstanding, which happened with me last week here. All I wanted was not to ignore the purpose of this group, but to actually ask, if more Red relaxed topics are welcomed here (was just not able to express myself clearly). I welcome creation of another support channel here, as we have on AltMe. Calling it chat, help, new users, whatever suits us.

[09:00](#msg56f3aca8d1c83c2835956ce8)The only thing I fear is for users to understand what comes where. But really - some welcome channel, where ppl like me wanting to support newcomers, might be handy. But newcomers might be wrong terms, as it would not be supposed to be for skilled programmers, joining the Red effort. Those should end-up directly here.

[09:01](#msg56f3accd53d49c3c39c54bfb)Of course, Google groups are OK too, but we should not exclude ppl from here, if possible ... (and if Gitter should be considered our central support point)

iArnold

[12:15](#msg56f3da6fbbffcc665fa8fa49)And instead of calling it 'chat' I propose to call the hangout room red/red/friends I could only create it in my own userspace. So now I'm stuck with a room iArnold/friends can't delete it ... And I don't even have friends!! ;-)

endo64

[12:31](#msg56f3de33d39de41b495d5e2b)if

```
system/console/prompt
```

is not set to a string! value console closes immediately.

dockimbel

[12:44](#msg56f3e14abbffcc665fa8fc3b)Good catch.

endo64

[13:10](#msg56f3e728e4a8384a1bbba873)I was playing with the latest commit,

```
system/console/prompt: does [random 100]
```

:)

dockimbel

[13:54](#msg56f3f17d6d20f28b42f238bc)We should add an implicit conversion to string!.

[14:12](#msg56f3f5e76d20f28b42f2390f)@endo64 I pushed a fix for that issue. Now the prompt value will be FORMed prior to displaying. Try this:

```
system/console/prompt: does [append to-local-file system/options/path "> "]
```

x8x

[14:16](#msg56f3f6d5e4a8384a1bbbaea1)HEllo, I have a little problem, write on mac and linux write files with CRLF as line endings, is there any way to have it write files with LF instead? Thank you!

[14:19](#msg56f3f789d39de41b495d675c)Oh, if I use write/binary it works ok, but I suppose write should use LF on OSX/Linux

dockimbel

[14:44](#msg56f3fd3e6d20f28b42f239ab)@x8x Yes, it should. @qtxie will have a look at it.

endo64

[15:21](#msg56f405fd11ea211749c19cf7)@dockimbel Thank you it works now. It doesn't handle unset! but no need to waste more time on this.

```
system/console/prompt: does []
```

[15:22](#msg56f40636bbffcc665fa90af0)even though

```
form
```

can handle

```
unset!
```

```
red>> form do []
== "unset"
```

dockimbel

[15:24](#msg56f406a47c18711013e643d0)@endo64 Improving that right now, to avoid the console exiting on such error.

fergus4

[17:25](#msg56f4231bd9b73e635f662cc0) Having trouble figuring out actors on a base widget. Can someone give a short example of how to make a base widget act like a button on click or down?

rebolek

[17:26](#msg56f4235b7c18711013e6451a)@fergus4

```
red>> view [base "click" on-down [print "click"]]
```

fergus4

[18:29](#msg56f43221d9b73e635f6631cd)That's easy! But that's why we like rebol/red... I thought I had to create an actor. Thanks.

iArnold

[19:36](#msg56f441aaaaf8f1a914e65de5)You can create an actor, but that is a difference between View and VID. See how I did that in my Chinese Chess program https://github.com/iArnold/Xiangqi/blob/master/xiangqi/xiangqi-board.red

## Friday 25th March, 2016

rebolek

[07:30](#msg56f4e9147c18711013e64891)What is the format for version string for compiler’s `-V` argument?

dockimbel

[07:31](#msg56f4e94a76b6f9de194b29e4)@rebolek x.y.z

rebolek

[07:31](#msg56f4e9647c18711013e64893)so `-V 1.2.3` should work?

dockimbel

[07:32](#msg56f4e97ce4a8384a1bbbeb88)No, -V has no arguments. I described the output. :)

rebolek

[07:32](#msg56f4e99f6d20f28b42f23ecc)Ah, so it takes version from header?

dockimbel

[07:33](#msg56f4e9c311ea211749c1d380)No, from %version.r file.

rebolek

[07:33](#msg56f4e9dc7c18711013e64895)Hm. And what is format of that file? ;)

dockimbel

[07:34](#msg56f4e9fe8f5147e119f06e26)Same as the output. Have a look at it in the repo: red/red/version.txt

rebolek

[07:35](#msg56f4ea3372bf52bd58e74232)Thanks.

[07:39](#msg56f4eb4e7c18711013e64899)Hm, still can’t run it. When I use `-V`, Rebol quits immediately.

[07:41](#msg56f4eb96aaf8f1a914e66071) `do/args %red.r {-V -t Windows -o /E/Code/some-dir/some-file.exe /E/Code/some-dir/some-file.red}`

[07:41](#msg56f4eb9d72bf52bd58e7423d)This quits Rebol.

[07:41](#msg56f4ebbdaaf8f1a914e66073)`%version.r` is file with value `1.2.3`

dockimbel

[07:42](#msg56f4ebced9b73e635f6656a5)It's meant to be used from the Red binary, and standalone (it's for batch scripts which can test/report the Red binary version).

rebolek

[07:42](#msg56f4ec007c18711013e6489e)So it’s not meant to be used by user to add version to their programs?

dockimbel

[07:43](#msg56f4ec1cd39de41b495da59d)%version.r file value is \[0.5.4](https://github.com/red/red/blob/master/version.r).

[07:43](#msg56f4ec31d39de41b495da5a3)Certainly not. It's a Red toolchain feature. It's a common feature of many command-line tools.

rebolek

[07:44](#msg56f4ec66aaf8f1a914e66079)I see. It should be mentioned in documentation then. It's not clear from current description.

[07:44](#msg56f4ec6a6d20f28b42f23ed4)`-V, --version : Output binary version string.`

dockimbel

[07:44](#msg56f4ec708d2a72471b7a1ba6)User scripts specify their version number in the header, as in Rebol.

[07:45](#msg56f4ec8676b6f9de194b2a6c)I'm updating that description to avoid misunderstandings.

rebolek

[07:45](#msg56f4ec947c18711013e648a2)Thanks.

Phryxe

[10:15](#msg56f50fdb11ea211749c1daff)I have trouble running Red on Win 10. If I click the exe (red-054.exe or automated builds) I get a warning from Windows SmartScreen, but there is an option to ignore the warning. If I choose ignore and click the Red file the exe simply vanishes. I also have Norton Security preinstalled on this new computer. Not sure if there is a log somewhere I can look at.

pekr

[10:20](#msg56f510d5e4a8384a1bbbf3ad)Isn't there some link - more info? Once you press that, new button appears, which allows you to "accept the risk" and run the app ...

[10:24](#msg56f511f0bbffcc665fa948dc)I'am on Win10 here, and no problem running Red 0.5.4 here. But maybe I already white-listed the app in the past, don't remember ...

Phryxe

[10:28](#msg56f512d6d39de41b495dad5d)Yes, as I mentioned I pressed that ignore button. Maybe it is Norton that deletes the file ... but there were no message.

[10:33](#msg56f513e676b6f9de194b32b2)I should mention that I managed to download the files without problem. The problem occurs in Windows Explorer.

iArnold

[10:34](#msg56f5143abbffcc665fa9494d)If Norton is active and Norton quarantined the Red executable, then you must find this back in the log.

[10:36](#msg56f514a5d39de41b495dadd5)Google on "norton security logs quarantine" for more info. You think it happens in explorer, but this only shortly after saving the program when the security checks are performed.

Phryxe

[11:00](#msg56f51a34bbffcc665fa94a9a)I think I have to uninstall this preinstalled Norton crap (with no admin interface) and replace it with F-secure to be able to run Red.

x8x

[11:17](#msg56f51e30bbffcc665fa94b6c)@qtxie @dockimbel Re: https://github.com/red/red/commit/9f548a3c61819ddae17a9767cbea8dd04cf9ae64 Thank you!

pekr

[13:44](#msg56f540a3d39de41b495db6ab)Just looking into the Trello 0.6.1 task list. Man, that's impressive list of features. That deserves to be called 0.6.5, not just 0.6.1 :-)

dockimbel

[14:22](#msg56f549aa7c18711013e64ac4)We'll split it over at least 2, maybe 3 smaller releases. ;-)

JacobGood1

[17:38](#msg56f5777cbbffcc665fa961a4)is today the big day?

dockimbel

[17:50](#msg56f57a797c18711013e64c70)It is, if I don't fall asleep on my keyboard before finishing the blog article...;-)

rebolek

[17:55](#msg56f57b7672bf52bd58e745ae)@JacobGood1 Today is Good Friday, in Czech called Velký pátek. That translates directly to Big Friday, so yes, today is literally the big day ;)

[18:50](#msg56f5888f72bf52bd58e7461e)The wait is over! ;) https://github.com/red/red/commit/a3d70c1aff30f3dae4eb9873d5a2f4977d5d8259

dockimbel

[18:55](#msg56f589876d20f28b42f24308)Please test the new 0.6.0 binaries on Linux and OSX, to be sure they can start properly.

rebolek

[18:57](#msg56f58a156d20f28b42f2430d)@dockimbel Mac binary works.

[18:59](#msg56f58a9baaf8f1a914e6648e)@dockimbel Linux also.

dockimbel

[19:00](#msg56f58ac26d20f28b42f24311)Great, thanks! Maybe finally a release which will go without any glitches. ;-)

pekr

[19:00](#msg56f58ae4bbffcc665fa966ee)Will the blog article be - long? :-)

rebolek

[19:01](#msg56f58b05aaf8f1a914e66491)

```
red>> system/platform
== Linux
red>> system/version
== "0.6.0"
```

and

```
red>> system/version
== "0.6.0"
red>> system/platform
== MacOSX
```

dockimbel

[19:02](#msg56f58b41aaf8f1a914e66493)I'm afraid so, still a few sections to write, though I go very briefly over each one. I think I'll need a few more blog posts in the next days to go into more details for some of the new features.

fergus4

[19:26](#msg56f590efd39de41b495dcd1d)I need time! and date! I know Kaj's libs can be used but I'm not sure which ones and how they are used. Anyone?

dockimbel

[19:29](#msg56f5919c6d20f28b42f24343)Time! will come very soon (a few weeks), for date!, it will take more time, unless someone wants to contribute it by porting R3's code to Red.

[22:40](#msg56f5be6372bf52bd58e74759)Release 0.6.0 is out: http://www.red-lang.org/2016/03/060-red-gui-system.html

[22:44](#msg56f5bf607c18711013e64e37)And now...sleep time! ;-) @PeterWAWood will take care of the typos to fix if any, until I get back.

qtxie

[23:19](#msg56f5c791e4a8384a1bbc215f)@dockimbel Have a good night (day) ! ;-)

PeterWAWood

[23:45](#msg56f5cd80d9b73e635f668c02)@dockimbel @qtxie Congratulations :clap: :clap: :sparkles:

## Saturday 26th March, 2016

JacobGood1

[00:24](#msg56f5d6a476b6f9de194b6256)@dockimbel gratz!

fergus4

[00:33](#msg56f5d8bd76b6f9de194b62a4)Awesome!!!! Another milestone!

[00:34](#msg56f5d92dbbffcc665fa9780f)Once we get Android backend I will start pushing Red hard here in NYC. There are so many groups I can present at. I just want to show the cross compilation of a simple but useful app from windows to android.

[00:39](#msg56f5da378f5147e119f0a673)Just glanced at the blog...can't wait to get the chance to read it!!!!

endo64

[00:54](#msg56f5dddc76b6f9de194b634b)OMG! That is incredible!

rexhit

[01:15](#msg56f5e2bdd9b73e635f668ed2)Finally! Great Job @dockimbel @qtxie @PeterWAWood !

tanstaaf1

[03:58](#msg56f608c98f5147e119f0abf2)Thanks Red Team!! WoooHooo!

rebolek

[06:04](#msg56f626727c18711013e64f07)Wonderful news, @dockimbel ! :clap:

asampal

[06:46](#msg56f63029aaf8f1a914e666cb)Great news guys! Yeah! Time to play! I can hardly wait for this stuff to work on mobile devices.

dockimbel

[06:48](#msg56f630d17c18711013e64f0c)@asampal Me too! ;-)

asampal

[06:49](#msg56f630fa7c18711013e64f0e)You should still be sleeping, Nenad

dockimbel

[06:51](#msg56f6317baaf8f1a914e666ce)@asampal Cannot, too excited this release is finally out. Besides, I have to update many web site pages now that we are getting hordes of new visitors.

asampal

[06:54](#msg56f632426d20f28b42f24546)I find it incredible how you've stuck to this project the way you have. That kind of perseverance by itself is worthy of much respect, never mind the other aspects of the project.

dockimbel

[07:02](#msg56f633ed7c18711013e64f12)@asampal Thank you! Total dedication is the expected minimum when you set yourself on such journey. I wouldn't have started if I didn't know I had good chances to do it and stick to it as long as required, until it is achieved.

Kelendria

[07:04](#msg56f6347011ea211749c2148f)I'm really impressed with everything I've seen so far. I'm definitely going to have to take some serious time to play with this. =D

asampal

[07:04](#msg56f63472aaf8f1a914e666d1)Do you have a good sense that the investor(s) are happy with the rate of progress?

dockimbel

[07:08](#msg56f635677c18711013e64f14)I think they know that it takes time to get such technology to take of. Though, mobile support is still the most important milestone to pass.

asampal

[07:15](#msg56f6371e72bf52bd58e74844)I wonder how the LiveCode guys would react in seeing how far you've come. You're clearly stepping into their territory (among other domains that you do/or will soon do better). The HyperCard style of development suits many people just fine and even in the current version Red is close to satisfying those kinds of needs.

[07:18](#msg56f637db7c18711013e64f1a)Speaking of LiveCode, though, one of the more significant problems that they had with mobile devices was the handling of High DPI. I hope that you guys manage to address that issue from the start.

dockimbel

[07:31](#msg56f63ad96d20f28b42f24551)LiveCode: we already support reactive programming, do they?

[07:32](#msg56f63afa6d20f28b42f24552)HighDPI: what kind of issues did they face?

Kelendria

[07:32](#msg56f63b0de4a8384a1bbc2d99)I've personally only seen reactive programming in two places. Maxim's Steel/Liquid and Red.

[07:33](#msg56f63b2de4a8384a1bbc2d9d)Made me wonder if Maxim has been involved with the design of Red...

pekr

[07:36](#msg56f63c16d9b73e635f66970d)@Kelendria AFAI, Max was not involved in the design of Red, but .... Maxim and related company were doing some decision, where to move next. The serve the Fortune 500 companies league, and Max chose to go with Red as a base for their future products. Very good Max is with us :-)

Kelendria

[07:38](#msg56f63c6476b6f9de194b6c99)Awesome. I think I may have to start playing with my IDE again.

dockimbel

[07:38](#msg56f63c84aaf8f1a914e666f5)@Kelendria Nope, Liquid is using a different approach using explicit node and pipes objects for handling the dataflow, Red's approach is very lightweight in comparison, as it records only the relations between objects (using newly available "observable" objects). Though, Liquid is probably a more generic dataflow framework.

Kelendria

[07:40](#msg56f63cebd9b73e635f669714)I'm definitely going to need to play with it. :smile:

dockimbel

[07:42](#msg56f63d696d20f28b42f24555)Feel free to ask any question here, you should get quick feedback. ;-)

Kelendria

[07:43](#msg56f63da1e4a8384a1bbc2dda)Excellent! So is there just this one chat room for all of Red or do you have any of it broken out into other rooms?

rebolek

[07:44](#msg56f63de46d20f28b42f24556)@Kelendria Press the globe icon to see list of other rooms.

Kelendria

[07:46](#msg56f63e40e4a8384a1bbc2deb)Maybe I'm just blind but I don't see a globe anywhere.

pekr

[07:46](#msg56f63e4ad39de41b495de714)top-right, next to star icon :-)

Kelendria

[07:48](#msg56f63ec6d39de41b495de71e)I see a star. I don't see a globe.

[07:48](#msg56f63ed28d2a72471b7a5e0b)Is there a client for this or just the web interface?

dockimbel

[07:49](#msg56f63f097c18711013e64f26)@Kelendria Try this page: https://gitter.im/orgs/red/rooms/

pekr

[07:49](#msg56f63f0ae4a8384a1bbc2dfe)There's a client for mobile platforms. But I use just the web interface. As for the web interface, there's an upcoming new version one can switch to. From time to time, it is good to reload (F5), as they do improve on Gitter from time to time ...

Kelendria

[07:50](#msg56f63f4b76b6f9de194b6cd8)That's what I needed, Doc. Thanks! =D

iArnold

[08:04](#msg56f642816d20f28b42f24558)We need that new chat room Doc :smile: ! Congratulations on the new release. JIT here in Europe. Very excited you announce a first usable version for MacOSX as well. After MacOSX and Android I miss only Linux (and BSD) are there plans for support or could it be done by a community effort?

asampal

[08:05](#msg56f642b36d20f28b42f24559)@dockimbel , LiveCode doesn't support reactive programming a far as I can see. The problem with HighDPI is that they didn't support it for the longest time and, for mobile in particular, but now for desktop too with super high-res displays, this meant that the apps they produced were very often not scaled properly (too small widgets, or apps with varying scaling as some people hacked some widgets, but not others) across the wide range of devices out there. That doesn't lead to a very polished look.

iArnold

[08:05](#msg56f642b66d20f28b42f2455b)Nice to see my Xiangqi game board too on the demo picture.

dockimbel

[08:09](#msg56f643cb72bf52bd58e7484f)@asampal I get it. We'll need to handle that well too. I guess we'll work on it as we advance on Android support.

gour

[08:26](#msg56f647a9e4a8384a1bbc2e9a)morning. Red language looks great and i wonder what kind of performance one may expect from it, iow. which language(s) might be, in general, comparable with it or is it in the range of other statically-typed languages like Go/D/Nim...?

jocko-jc

[08:27](#msg56f647e611ea211749c21618) Congratulations, Doc, for the huge amont of achievements in this release, and for the nice presentation in the blog article

gour

[08:31](#msg56f648d58f5147e119f0b131)i'm looking for language to write (open-source)multi-platform GUI app(s) and Red looks fantastic in this regard...

dockimbel

[08:35](#msg56f649e17c18711013e64f29)@gour Welcome! Red is not statically-typed, it's a parentheses-less Lisp derivative, so average performances are on par with other scripting languages so far, as optimizations are not handled yet by the compiler. Though, for high-performance code parts, you can write some functions using the Red/System DSL (statically typed) which gives you about the same speed as Go/D/Nim. We call that the "fullstack" approach, as you can code different parts of your app at different abstraction levels combining the best of both worlds (high-level, dynamic and low-level, high performance).

[08:37](#msg56f64a337c18711013e64f2b)For example, a Red user implemented a commercial Windows driver using Red/System DSL. ;-)

[08:38](#msg56f64a75aaf8f1a914e666fc)Though, one constraint of mixing Red and Red/System code in the same source, is that you need to compile the code then to be able to run it (can't be run from the REPL), as we don't have the JIT-compiler yet.

dander

[08:39](#msg56f64aacbbffcc665fa9832e)Congratulations to everyone involved in this release! The blog post alone seems like quite an accomplishment, and will take some time to chew through :smile:

dockimbel

[08:39](#msg56f64ad5aaf8f1a914e666ff)@dander Haha, indeed. ;-) Thanks.

gour

[08:40](#msg56f64af78d2a72471b7a5ef2)@dockimbel what about FFI to call C-libs? how it does compare with Racket in terms of being suitable for creating new DSLs?

dockimbel

[08:40](#msg56f64b1372bf52bd58e74855)@gour You might want to have a look also at another embedded DSL called Parse: http://www.red-lang.org/2013/11/041-introducing-parse.html

gour

[08:41](#msg56f64b4011ea211749c21652)@dockimbel btw, i'm from Croatia and it looks your origins are from the neighborhood?

dockimbel

[08:41](#msg56f64b4272bf52bd58e74857)There's a toy Brainfuck implementation at the end of the article.

[08:42](#msg56f64b5b72bf52bd58e74858)@gour Indeed, my parents are from Montenegro and I have a few relatives also in Croatia. ;-)

gour

[08:42](#msg56f64b6e76b6f9de194b6daa)@dockimbel congrats for your achievement!!

dockimbel

[08:42](#msg56f64b826d20f28b42f2455f)Thank you! ;-)

dander

[08:42](#msg56f64b9111ea211749c21659)I don't see the '--cli' option mentioned in the usage page 'red --help'. Should I open an issue for that?

gour

[08:43](#msg56f64bbad39de41b495de7fd)Haxe is too Java-ish for my taste and many other langs sucks at GUI...Red looks great

dockimbel

[08:46](#msg56f64c516d20f28b42f24562)@dander Yes, you can, we forgot it. You can also submit a PR for adding it directly to README.md and usage.txt files.

gour

[08:46](#msg56f64c5ed39de41b495de80e)@gour is going to read some of the plenty of docs available at the site

dockimbel

[08:46](#msg56f64c6d7c18711013e64f34)@gour That's the feeling of most people who are using Red and Rebol (Red derives from Rebol).

dander

[08:48](#msg56f64cdc11ea211749c2166a)Ahh, even better idea, since that is quite low-hanging fruit. I will do that later. Not tonight though.

dockimbel

[08:49](#msg56f64d2daaf8f1a914e66705)We still are missing core language documentation, though you can always use the \[Rebol one](http://www.rebol.com/docs/core23/rebolcore.html) which overlaps pretty well with the features we have.

SteeveGit

[09:03](#msg56f6505cbbffcc665fa9839d)Congratz Dock

gour

[09:25](#msg56f6557b76b6f9de194b6e79)i looked at few Red presentation's slides and wonder if Red/System can be used to bind some 3rd party C libs required for the end user app?

dockimbel

[09:26](#msg56f655bb7c18711013e64f3d)We are on \[HackerNews](https://news.ycombinator.com/item?id=11364447) by the way, so if some of you want to reply to newcomers questions there, they are welcome. ;-)

PeterWAWood

[09:29](#msg56f65689d9b73e635f66991c)@gour Take a look at the list of Published Work on this page - http://www.red-lang.org/p/contributions.html

gour

[09:32](#msg56f657298f5147e119f0b257)@gour likes to see some projects using Fossil DVCS :-)

rebolek

[09:32](#msg56f6573faaf8f1a914e66706):)

[09:33](#msg56f6575772bf52bd58e74863)@gour You can also take a look here https://github.com/red/red/tree/master/system/library

gour

[09:38](#msg56f658b0d9b73e635f669954)@rebolek thanks. is there any helper tool which could help with producing bindings for C libs?

dockimbel

[09:39](#msg56f658db6d20f28b42f24569)I just created a \[Getting Started](http://www.red-lang.org/p/getting-started.html) page. Let me know if there are typos and how to improve it.

[09:40](#msg56f65913aaf8f1a914e66707)@gour Yes, we have a Fossil fan which is also a prolific Red libraries contributor. ;)

gour

[09:41](#msg56f659418f5147e119f0b28a)is there any ETA when Red ecosystem will become fully free rid of Rebol code, iow. completely rewritten i nRed itself?

[09:41](#msg56f659548f5147e119f0b28c)@gour uses Fossil for all personal projects ;)

dockimbel

[09:42](#msg56f6598f72bf52bd58e74865)@gour Yes, from Red/System you can \[easily bind](http://static.red-lang.org/red-system-specs-light.html#section-15) to any C library.

gour

[09:43](#msg56f659be8f5147e119f0b298)@dockimbel there is some helper to e.g. scan C \*.h and spit out something?

dockimbel

[09:43](#msg56f659bf7c18711013e64f3e)@gour That's the goal of Red 2.0, no ETA for now, as we focus on completing the Red runtime for 1.0 first.

rebolek

[09:43](#msg56f659da72bf52bd58e74867)@gour I don’t know of any helper tool, mainly because it’s so simple that nobody needed to write one ;) See the docs @dockimbel posted.

gour

[09:44](#msg56f65a0211ea211749c21778)oops, forgive me...somehow, i missed that link

dockimbel

[09:44](#msg56f65a106d20f28b42f2456a)@gour There was an early work on such library by @Skrylar IIRC, though I'm not sure if it's yet usable. Though, mapping to C functions/libs is really trivial as rebolek pointed out.

gour

[09:47](#msg56f65aa576b6f9de194b6eec)how is editor support for Red? i'm using Emacs...

[09:48](#msg56f65ae5d9b73e635f66997f)@dockimbel "Now try something more sophisticate:" typo ? "sophisticated"

dockimbel

[09:52](#msg56f65bca72bf52bd58e7486b)@gour Fixed.

gour

[09:55](#msg56f65c8311ea211749c217ab)will Red be available on platforms like Heroku?

PeterWAWood

[09:56](#msg56f65ccb8d2a72471b7a606c)@dockimbel Perhaps the "Getting Started" page could explain that you only need to double-click the Red.exe icon on Windows. But that you need to launch from the terminal on OS X and Linux.

gour

[09:58](#msg56f65d2fd9b73e635f6699ad)i heard for the 'reactive GUI? for the first time when playing with Haskell...with Red it looks much more human

dockimbel

[09:58](#msg56f65d4772bf52bd58e7486f)@gour As soon as we pass 0.8.0, Red will have enough features to be run on such kind of infrastructure.

[10:00](#msg56f65dc8aaf8f1a914e6670d)@PeterWAWood Thanks, improved the working a bit to reflect that.

Arie-vw

[10:11](#msg56f6606dd9b73e635f6699e5)Many congratulations Red team and everybody looking forward to 1.0, 2.0 etc. ;-)

pekr

[10:12](#msg56f660968f5147e119f0b32e)where could demos which we can see at the blog article be found? E.g. a clock?

dockimbel

[10:23](#msg56f6630a72bf52bd58e7487e)I will publish the demos later today and tomorrow on red/code, some of them need deep code cleaning first.

rebolek

[10:23](#msg56f663277c18711013e64f4d)So the news is on frontpage of Hacker News and /r/programming. Nice ;)

ghost~5680c5f416b6c7089cc058a5

[12:11](#msg56f67c74e4a8384a1bbc3310)I am late but anyways  
CONGRATS....  
And  
Thank You @dockimbel @qtxie and others for the hard work... :smile:  
Eagerly waiting for the next release now. :wink:

nickantonaccio

[12:26](#msg56f67fdcbbffcc665fa987f3)@dockimbel Many congrats Doc! Looking forward to your well deserved success :)

dockimbel

[12:46](#msg56f684927c18711013e64fbd)Thanks guys!

ghost~5680c5f416b6c7089cc058a5

[12:57](#msg56f68755d39de41b495ded76)@dockimbel regarding https://github.com/red/red/issues/1715 .  
Why showing two different errors when the same code is run in the console one after the other -

[12:58](#msg56f68763d39de41b495ded7a)\[!\[Untitled.png](https://files.gitter.im/red/red/WY5a/thumb/Untitled.png)](https://files.gitter.im/red/red/WY5a/Untitled.png)

[12:58](#msg56f6877d8d2a72471b7a645a)Same when `[` is used instead of `{`, i get -

[12:59](#msg56f687b876b6f9de194b731c)

```
red>> [
[    ;[
[    ;]
*** Script error: get does not allow integer! for its word argument
*** Where: get
```

JerryTsai

[13:51](#msg56f693d6d9b73e635f669f06)I've Just given a 40-minute talk about Red GUI in a medium-sized conference (about 200 people ) in Taipei. They are very interested in Red GUI programming.

ghost~5680c5f416b6c7089cc058a5

[13:51](#msg56f693f311ea211749c21d44):+1:

[14:17](#msg56f69a0b76b6f9de194b7524)(B) Also, the updated text on http://www.red-lang.org/p/contributions.html is wrong.

[14:18](#msg56f69a3476b6f9de194b7525)(i) `As mentioned above, many Red developers hang out in the Red Development Team Gitter chat, for both project planning and social conversation. There’s no reputation requirement to read the chat messages, but you do need 20 points to speak. Don’t be intimidated—that’s an easy score to get, you can get it in less than 24 hours with very little effort. It’s really just a spam control measure to see if you will have the due diligence to learn how to ask and answer questions in the system (once you do, you'll be hooked!) But if you’re having trouble after you’ve signed up getting those points for some reason, tweet a help request to @red-lang.`

[14:18](#msg56f69a538f5147e119f0b992)Gitter does not require any points

JacobGood1

[14:19](#msg56f69a80d39de41b495def9a)Yea, that is from an older channel on stack overflow

ghost~5680c5f416b6c7089cc058a5

[14:20](#msg56f69ab711ea211749c21e23)(ii) Since the link to the SO chat is removed now, the second point also needs to be edited, since it also talks about SO.

[14:20](#msg56f69aba8f5147e119f0b998)`While the point system might seem a bit "elitist", for the most part we are big fans of the wiki-like nature and ability to improve and refine information on StackOverflow. So if you have a question, it's often best to post it there. But if that's not how you want to talk to us, we do keep a mailing-list (hosted on Google Groups)`

PeterWAWood

[14:25](#msg56f69bd276b6f9de194b7554)The contributions page needs to be updated. Perhaps there will be time to get that done soon.

dockimbel

[14:32](#msg56f69d84aaf8f1a914e667aa)@nc-x See the following post earlier today about `--cli` :point\_up: \[March 26, 2016 4:46 PM](https://gitter.im/red/red?at=56f64c516d20f28b42f24562)

ghost~5680c5f416b6c7089cc058a5

[14:35](#msg56f69e188d2a72471b7a6714)Oh

[14:35](#msg56f69e1b76b6f9de194b75a1)didn't see that

[14:35](#msg56f69e26bbffcc665fa98b4d)So, should I add it to usage.txt also?

dockimbel

[14:35](#msg56f69e457c18711013e6500b)Yes, but not as a note, it should be part of command-line options list.

[14:36](#msg56f69e6b6d20f28b42f24625)I am taking care of cleaning up the obsolete text on Contribution page right now.

ghost~5680c5f416b6c7089cc058a5

[14:39](#msg56f69f05e4a8384a1bbc3741)Is this ok?

[14:39](#msg56f69f1b11ea211749c21ec2)Note: On Non-Windows platforms, the REPL runs by default in CLI mode. But on Windows, the default is to run as gui-mode. To run it in the command line mode, invoke the red binary with the option `--cli`.

dockimbel

[14:39](#msg56f69f3172bf52bd58e7492d)@nc-x Fair enough I think.

giuliolunati

[14:49](#msg56f6a18c76b6f9de194b75fb)Hi all, I'm trying to learn Red VID. Where can I find tutorial and/or demos?

ghost~5680c5f416b6c7089cc058a5

[15:42](#msg56f6adee76b6f9de194b77b5)@giuliolunati you can find some demos here -

[15:42](#msg56f6adf711ea211749c2208d)http://redprogramming.com/Getting%20Started.html

[15:43](#msg56f6ae098d2a72471b7a68fc)And

[15:43](#msg56f6ae0cbbffcc665fa98d4a)http://redprogramming.com/Short%20Red%20Code%20Examples.html

pekr

[16:57](#msg56f6bf6ce4a8384a1bbc3b98)I can see a filename completion is being worked on. That's cool :-) Now console is almost complete, keyboard wise. Even shift + arrows (home, end) works, hiliting the content. If I might ask for a ctrl key support (ctrl + arrow - jump by word, ctrl + arrow + shift - hilite by skip-word) ...

giuliolunati

[16:57](#msg56f6bf82bbffcc665fa98ff0)Thank you so much @nc-x !

pekr

[16:58](#msg56f6bfbcd39de41b495df4fa)hmm, the hilite mode does not work in multiline mode, but most probably that is ok, as you can't move cursor to the above line, so what it does is just history ....

mikeparr

[19:00](#msg56f6dc3dbbffcc665fa99435)'input' problem? Win7 V6.0. the code: print "hi" input is interpreted properly (hangs, waiting for a line to be entered. But when I try to compile it, I get an error to do with 'input'.

rebolek

[19:02](#msg56f6dcbf7c18711013e65126)@mikeparr I guess you do not include console in the compiled version. That’s where `input` is defined.

price-Tag

[19:24](#msg56f6e1d08f5147e119f0c3e1)I saw a code example where Red didn't obey order of operations. Would something like: 3 + 2

[19:24](#msg56f6e20876b6f9de194b800b)Oops, I mean, would something like 3 + 2 * 4 evaluate to 11 or to 20?

rebolek

[19:28](#msg56f6e2d8aaf8f1a914e668d6)@price-Tag 20. There is a reason for that. Math operations in Red (and Rebol) are just ordinary functions. There is no special precedence for them. All functions follow the same rules. So it is same as `(3 + 2) * 6`.

[19:32](#msg56f6e3b1aaf8f1a914e668d8)Some people don’t like this and want to have usual math precedence. It is possible to implement math dialect that would follow all the rules (and there’s lot of them ;) ). But Rebol has been here for more than 15 years and such dialect is still not there (or if it exists, it is not widely used). My guess is that people got used to simpler rules of Rebol/Red sooner than they will make the dialect ;)

xificurC

[20:18](#msg56f6eeb3d9b73e635f66ac29)congrats on 0.6.0! ;)

[20:19](#msg56f6eec8d9b73e635f66ac2d)@dockimbel ^

kookerus

[21:40](#msg56f701e611ea211749c22dac)I can't run red from a different directory. I read the issue on Github, but I can't find it again. Does anybody know what issue I'm talking about?

[21:41](#msg56f7020ce4a8384a1bbc45f9)Ah, I found them, nevermind

builtap

[22:09](#msg56f708a076b6f9de194b8594)Congrats for 0.6.0. When 0.7.0? I/O will motivate me to jump in.

rebolek

[22:47](#msg56f7117f76b6f9de194b86e0)@builtap what kind of I/O are you looking for? There's HTTP(S) and file access already

builtap

[22:50](#msg56f71246d39de41b495e01fe)http/s, ssh, file, smtp - tooling

rebolek

[22:52](#msg56f712a96d20f28b42f247ef)Then you have to wait for ports. But check the repository often, new features are added very fast ;)

[22:53](#msg56f712d8aaf8f1a914e6697d)Hm, ssh...that would be great...

price-Tag

[23:08](#msg56f7166fd39de41b495e028c)@rebolek If you parenthesis like 2

[23:08](#msg56f7168b76b6f9de194b8798)Like 2+ (3\*2), does it function normally?

rebolek

[23:35](#msg56f71cb2bbffcc665fa99dbc)@price-Tag yes, parenthesis force execution of the code

[23:35](#msg56f71cd1d9b73e635f66b2b7)Or, you can change order

## Sunday 27th March, 2016

NfNitLoop

[01:47](#msg56f73bb176b6f9de194b8ba0)Just saw the posting about Red 0.6.0 on Reddit. I hadn't heard of Red before, but I like picking up and toying with new programming language. (D, most recently.) Red seems... different. :p I'm reading http://www.rebol.com/docs/core23/rebolcore-3.html since red-lang.org points to there. It seems some of those examples fall outside of the 95% syntax compatibility. Is there a good place to get a summary of the differences?

ghost~5680c5f416b6c7089cc058a5

[01:56](#msg56f73db0d9b73e635f66b63a)

NfNitLoop

[02:12](#msg56f7417e8f5147e119f0d0ff)http://redprogramming.com/Getting%20Started.html#section-2 seems a bit nicer. Though... is request-file not implemented in OS X? It's just returning none for all the given examples.

PeterWAWood

[02:46](#msg56f749808d2a72471b7a7fab)@NfNitLoop The Graphical User Interfaces (View and VID) have only been introduced for Windows in release 0.6.0.

```
request-file
```

is a GUI function and hence not yet available under OS X yet. Work has started on implementing View and VID on OS X and is planned to be implemented in a 0.6.x release.

NfNitLoop

[02:47](#msg56f749c311ea211749c2367b)aah, OK. Would be handy if the function would error out a bit more verbosely on OSX in the meantime. I thought I was doing something wrong there for a bit.

[02:48](#msg56f749e3d39de41b495e08a9)I did notice that 'view' is undefined in OSX, if I try to run the example. So that was somewhat self explanatory.

ghost~5680c5f416b6c7089cc058a5

[02:51](#msg56f74aa88f5147e119f0d21f)&gt; It seems some of those examples fall outside of the 95% syntax compatibility.

Red is currently alpha and hence is missing lots of features available in Rebol. Hence the code from Rebol docs don't work in Red.

Besides that there are some minimal yet major design differences b/w Rebol and Red due to which Rebol code would probably never directly run on Red. Some changes would be required.

iceflow19

[03:28](#msg56f7535076b6f9de194b8e21)@dockimbel Congrats on the release

dockimbel

[04:30](#msg56f761ea7c18711013e6525f)@NfNitLoop Welcome! In a nutshell, the following datatypes you found in the Rebol doc are missing in Red: email, tag, money, time, date. They will be added in the next releases (0.6.1 should have email!, tag! and time! already).

[06:33](#msg56f77ea36d20f28b42f24874)I am about to delete the \[Red] label for issues on Github. It seems pointless to keep it as almost all issues are for Red and Red/System has its own label. If anyone thinks there's a good reason to keep it let me know now. ;-)

jasoncapriati

[08:27](#msg56f7997b8f5147e119f0d98a)What sorcery is this. What a breath of fresh air. Totally blown away! Since Red 1.0 is coming, is someone already using Rebol in web production sort of scenarios?

rebolek

[08:30](#msg56f79a1f7c18711013e6528c)@jasoncapriati Lot of people use Rebol as CGI, there’s \[Cheyenne web server](http://cheyenne-server.org/) written by @dockimbel and you may also checkout \[Lest](http://lest.qyz.cz/), my templating dialect.

[08:30](#msg56f79a416d20f28b42f248a0)Hm. actually you may not check it right now, because we are currently upgrading our server... :fire: :)

jasoncapriati

[08:38](#msg56f79c0376b6f9de194b94a1)@rebolek Nice. Will check it out.

rotacoder

[08:59](#msg56f7a1048d2a72471b7a878b)Congrats dockimbel on version 0.6, it's looking awesome. I have a question on learning Red; you said somewhere that it's like Lisp without the parentheses, so for someone like me who has only coded in procedural languages would it help to learn a little about how Lisp works in order to get a handle on Red? or would I just be confusing myself? There are some great examples and tutorials available but I prefer to learn a language in a more structured and formal way (principles first).

giuliolunati

[10:06](#msg56f7b0c38f5147e119f0db83)@rotacoder IMO: if you yet know Lisp that may help (or no?) But if not, worth start directly with Red/Rebol. Surely Rebol doc

[10:08](#msg56f7b111d9b73e635f66c0db)http://www.rebol.com/docs.html may help a lot

nodrygo

[13:23](#msg56f7dee876b6f9de194b9b73)Maybe RED is not a good name ;-D  
Did you know that there was already a DOD named RED language in 1979?  
\[RED](https://www.google.fr/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=6&amp;ved=0ahUKEwj565Od-ODLAhWIxRQKHSJGAhIQFghHMAU&amp;url=http%3A%2F%2Fwww.dtic.mil%2Fdtic%2Ftr%2Ffulltext%2Fu2%2Fa219453.pdf&amp;usg=AFQjCNF8Mq0T3-7nRT6ZyusXYBCQruUFvQ&amp;sig2=mN79XZ9U6YFvAAVlPC7MAw)

rotacoder

[13:24](#msg56f7df03d9b73e635f66c59e)@giuliolunati, yes I did consider the Rebol docs but I'm not sure where Red differs and I don't want to learn anything I might have to unlearn later.

0xbsec

[14:46](#msg56f7f22ad39de41b495e18e1)Hi @channel, when testing this example:

```
Red [title: "test" needs: 'view]
view [
    below
    t: text-list data [1 2 3]                ; a text-list labeled 't
    button "Show Selected" [print pick t/data t/selected]
]
```

I get a blank list ( ie. the numbers doesn't show). This code works when I change `1 2 3` to `"1" "2" "3"`. I'm using `red 0.6.0` on windows 10.

dockimbel

[15:01](#msg56f7f5c37c18711013e65335)@0xbsec Thanks for reporting, @nickantonaccio should have a look at it. Indeed, you need to feed the `text-list` with a list of strings.

0xbsec

[15:07](#msg56f7f74b8d2a72471b7a9110)@dockimbel You are welcome. ps. the example is listed in \[redprogramming.com getting started](http://redprogramming.com/Getting%20Started.html)

NfNitLoop

[16:23](#msg56f80902bbffcc665fa9b539)Is there a way to write Red scripts that include a #! line so that they can just be marked as executable?

JacobGood1

[16:36](#msg56f80c06d39de41b495e1c92)@rotacoder I suggest just just learning red, homoiconicism is "the idea" that the languages share that you need to learn. Other than that, your background is irrelevant, lisp/red is no more functional than it is oop, procedural, logical, etc. The big idea that these languages truly share that stems from homoiconic, symbolic programming, is that the language can be programmed in any style that is desired. Go ahead and program in red as if it were c for some time, that is completely fine. Later on, use oop, or maybe functional techniques... it does not matter, you are free to choose the paradigm for the problem at hand. This type of liberation from paradigmatic programming scares some people, others it inspires, over time you will decide whether you like it or not.

dockimbel

[16:40](#msg56f80cfa72bf52bd58e74c71)@NfNitLoop I don't think so, as the Red binary does not have support for reading a source program from standard input yet. Though, that is something we could maybe add in the next release. Please fill a wish describing it on https://github.com/red/red/issues so we don't forget about it.

NfNitLoop

[16:46](#msg56f80e6bd9b73e635f66cb5e)No need to read from standard input. Just need a way to ignore the first (shebang) line.

rotacoder

[16:49](#msg56f80f10bbffcc665fa9b62b)@JacobGood1 thanks for the advice and information. I always thought Lisp was a functional language...

JacobGood1

[16:50](#msg56f80f5ed39de41b495e1d04)@rotacoder lisp is multi paradigm just like red, you decide which paradigm is appropriate

rotacoder

[16:50](#msg56f80f6d11ea211749c24a79)And never tried to learn it because (as I suspect is the case with many), all those parentheses put me off. ;)

[16:51](#msg56f80f86bbffcc665fa9b63e)Multi-paradigm - I like it!

dockimbel

[16:51](#msg56f80f876d20f28b42f249a3)@NfNitLoop If that's the only thing you need, then just provide a "Red \[]" header and everything before that will be ignored.

NfNitLoop

[16:52](#msg56f80fc276b6f9de194ba1e6)Nope, if I add a shebang line before Red\[] I get:

[16:52](#msg56f80fd78f5147e119f0e70b)`** Script Error: Invalid compressed data - problem: -3 ** Near: script: decapsulate if none? script`

gour

[16:53](#msg56f8101a8d2a72471b7a9446)Could \[Minix3](http://minix3.org/) become one of the potential platforms for Red in the future? The OS has some extra cool capabilities...

dockimbel

[16:55](#msg56f8108c6d20f28b42f249a5)@NfNitLoop Let me try...

0xbsec

[16:57](#msg56f810fb8f5147e119f0e736)Is there a way to show an alert box/new window in `red 0.6.0 win` ?

dockimbel

[16:58](#msg56f8111eaaf8f1a914e66aea)@NfNitLoop

```
/tmp$ cat hi.sh
#! 

Red []

print "hi"

/tmp$ ./red-060 hi.sh
hi
```

[16:59](#msg56f811767c18711013e65366)About the invalid compress issue, it is caused by the "encapper" we are using for building Red binaries, combining a Rebol2 interpreter with the Red toolchain code. You can workaround that by wrapping the `red` binary in a shell script. See the last comment at bottom of this ticket: https://github.com/red/red/issues/543

[17:11](#msg56f8145caaf8f1a914e66af9)@nodrygo Yes, I read that RED spec when I researched for a good name in 2011. Well written spec (for 1979) and you could even find some similarities in the goals with Red. I even thought at a point naming Red/System (our system programming DSL), Blue, like in that spec, denoting a different "level" of usage. ;-)

asampal

[17:14](#msg56f8150c6d20f28b42f249be)@dockimbel , could you tell me where in the wiki the use of the non-encapped Red is documented? As in, from Rebol2, executing something like `do/args %red.r %some/path/to/script.red`.

[17:16](#msg56f8158772bf52bd58e74c98)I thought I remembered seeing this somewhere, but now can't find details on it.

dockimbel

[17:18](#msg56f815f8aaf8f1a914e66b09)@asampal Home page of red/red repo on Github.

asampal

[17:19](#msg56f81618aaf8f1a914e66b0b)wow, so blind

dockimbel

[17:20](#msg56f816446d20f28b42f249cb)@rotacoder Thank you for the kind words. Some user prefer learning by example, some by learning the principles first. In the later case, as suggested by @JacobGood1, the core principle of Lisp and Red is their homoiconicity (in layman's terms: everything is data, until it gets eventually evaluated). Red is probably simpler than Lisp to learn, but we still lack good documentation explaining such core parts. You can start by looking through this Rebol \[doc](http://www.rebol.com/docs/core23/rebolcore.html), Rebol being the ancestor language of Red. It's a pratical doc, but you might get some idea about what you can achieve with it.

asampal

[17:20](#msg56f8166d6d20f28b42f249ce)@dockimbel , so if I build the gui-console like that should I be getting two windows when I run the resulting executable?

[17:21](#msg56f8169f6d20f28b42f249d0)i.e. the graphical console and the other a text console where the output is directed to

dockimbel

[17:22](#msg56f816bf72bf52bd58e74c9f)@asampal Yes, if you let the default target. If you want a pure GUI experience, use the `-t Windows` target (or `-t WindowsXP` if you are on XP/Vista). Here is the line I use:

```
do/args %red.r "-t Windows %environment/console/gui-console.red"
```

JacobGood1

[17:22](#msg56f816c18d2a72471b7a9520)How has the traffic been for red since the 0.6 announcement?

dockimbel

[17:23](#msg56f8171a6d20f28b42f249d6)@JacobGood1 We got 30k views on red-lang.org since the release. ;-)

JacobGood1

[17:24](#msg56f81762d9b73e635f66ccb5)Whoa... for a language announcement, that is quite a bit

dockimbel

[17:28](#msg56f8182572bf52bd58e74ca7)@JacobGood1 It's not bad, but we can do much better once we add the remaining missing features, have a complete documentation and a better website. ;-) I have kept the "big guns" for the time we are \*really* ready for spreading Red everywhere. ;-)

[17:29](#msg56f8189372bf52bd58e74caa)@rotacoder Here is some code you can play with from Red console to get a feeling of how different is the Lisp/Red way:

```
red>> a: "hello"
== "hello"
red>> print a
hello
red>> list: reduce [a]
== ["hello"]
red>> list
== ["hello"]
red>> length? list
== 1
red>> insert list 'print
== ["hello"]
red>> list
== [print "hello"]
red>> do list
hello
red>> remove at list 2
== []
red>> list
== [print]
red>> append list [1 + 2]
== [print 1 + 2]
red>> do list
3
red>> list/3: '*
== *
red>> list
== [print 1 * 2]
red>> do list
2
```

What we call "code" in homoiconic languages is just a standard data structure that you can manipulate the same way as any other data.

rotacoder

[18:31](#msg56f826efbbffcc665fa9b967)Thanks doc, that code is quite enlightening. I'm sure I'll get it with a little practice. It's just SO different from any language I've ever used before.

iArnold

[18:51](#msg56f82bbbaaf8f1a914e66b37)Is \["hello"] correct after insert list 'print ??

rebolek

[18:57](#msg56f82d216d20f28b42f24a13)@iArnold Good question. Either it is bug in INSERT function or it’s bug in INSERT description. While the behaviour is same as in Rebol, help string says something different. I prefer what the help string says, return series at head, I never liked Rebol's behaviour.

iArnold

[19:10](#msg56f8302c7c18711013e653b9)@rebolek In this case the insert is at head. If you want to insert more after what you just inserted it is convenient to not have to look up the correct position first.

[19:13](#msg56f830d972bf52bd58e74cd5)But it looks strange like this.

vasudevram

[20:41](#msg56f845868f5147e119f0ef76)Hi, I saw here that compilation of Red programs is currently slow:

[20:41](#msg56f845888f5147e119f0ef77)https://news.ycombinator.com/item?id=11368582

[20:41](#msg56f845978f5147e119f0ef7c)But I was compiling a simple hello world Red program

[20:42](#msg56f8459d76b6f9de194ba9ed)All it does is print Hello world.

[20:42](#msg56f845bee4a8384a1bbc6b23)And I found that the generated EXE size was about 425 KB.

[20:42](#msg56f845c511ea211749c252eb)Is that normal?

[20:43](#msg56f845f1bbffcc665fa9be30)By comparison, a Hello World C program - this is on Windows - using Visual Studio Express Edition - is about 25 KB

[20:43](#msg56f845fd8f5147e119f0ef8d)and a D language program on Windows is about 220 KB.

[20:56](#msg56f8490776b6f9de194baa9c)P.S. Sorry if my question sounded negative - about the generated EXE size for Red programs. It was not meant that way. I like Rebol, have used it a little before, and got to know about Red and am interested in it, and hope the language does very well.

rebolek

[21:01](#msg56f84a266d20f28b42f24a51)@iArnold it doesn’t matter where is the insert. See: \*"returns the series after the insert"* (Rebol) and \*"returns series head"* (Red).

```
red>> insert [b c] 'a
== [b c]
```

This does not return series head. Either the description is wrong, or it’s a bug.

[21:04](#msg56f84aeb6d20f28b42f24a57)@vasudevram Yes that is normal, currently. The compiler runs in interpreter (Rebol 2) and therefore it’s slow. Soon, before 0.7.0, Red should use precompiled runtime, that will improve compilation time dramatically. But still it will be compiled in interpreter. Things will improve once Red will compile itself (2.0).

vasudevram

[21:07](#msg56f84b96e4a8384a1bbc6c5e)@rebolek Ah, that explains it. Thanks.

rebolek

[21:07](#msg56f84bab6d20f28b42f24a5a)@vasudevram about the EXE size - yes, it is normal, because even for simple "Hello world", whole runtime is included.Again, this is because Red is in early stages and the compiler does no optimalizations, so everything is included.

[21:11](#msg56f84c997c18711013e6543c)Just please accept that it’s unfinished product with known limitations. However, it is very interesting and much fun already ;)

vasudevram

[21:14](#msg56f84d25d39de41b495e2718)@rebolek Got it. I was thinking along those lines - that it may be including the whole runtime - just a little before I posted my question. Maybe D removes unused functions from the EXE, like C does (I think - or rather, only includes used functions). I'm sure Red will do it after some time. No problem - I understand that it is an unfinished product. And it definitely is interesting :smile:

JacobGood1

[21:16](#msg56f84da0e4a8384a1bbc6cc8)@vasudevram write the hello world in red/system only, the exe will be smaller

rebolek

[21:16](#msg56f84dac7c18711013e6544c)@vasudevram BTW, I just tried to compile Hello world in Red/System (low level dialect of Red, comparable to C), it took 170ms and executable is 24kB.

[21:16](#msg56f84db7aaf8f1a914e66bbd)@JacobGood1 yes, exactly :D

JacobGood1

[21:16](#msg56f84dc68d2a72471b7a9e18)yea he did it with the high level red code

vasudevram

[21:19](#msg56f84e6fbbffcc665fa9bfce)@JacobGood1 @rebolek Interesting about that difference. Yes, I had used the high level Red code. I named the file hello.red and I compiled it with this line: red -c hello.red

rebolek

[21:26](#msg56f84fecaaf8f1a914e66bc4)@vasudevram Using Red is the way to go, Red/System is too low-level for most cases. But you do not need to compile everything, most code would run fast enough even when interpreted. Just run it from console.

vasudevram

[21:28](#msg56f85068d39de41b495e27bd)Also, I timed the compilation with a Python program I wrote, that does: t1 = time.clock(); os.system('red - c file.red'); t2 = time.clock(); print t2 - t1, ' seconds'.

[21:29](#msg56f8509fe4a8384a1bbc6d86)That program is what gave the number I mentioned above for the Red compiled script EXE file size and compile time - which was about 1.9 min IIRC.

[21:29](#msg56f850d68f5147e119f0f1b6)So the numbers you mentioned above:

[21:29](#msg56f850d78d2a72471b7a9e9f) 170ms and executable is 24kB.

[21:30](#msg56f850ea8f5147e119f0f1b8)are a lot lower than mine - which stands to reason, since you used Red/System.

[21:31](#msg56f85114d9b73e635f66d5a4)In fact that EXE size is comparable to the Visual C one I compiled.

[21:31](#msg56f851388f5147e119f0f1d4)@rebolek Yes. will use the interpreter mostly for now.

rebolek

[21:34](#msg56f851d2aaf8f1a914e66bd0)@vasudevram on my system Hello world in Red takes bit less than 20 seconds and the result is ~440kB.

vasudevram

[21:35](#msg56f8523476b6f9de194bac51)@rebolek Ah. You must have a faster/newer laptop than mine :smile: ) Mine is about 3 years old and a Dell Vostro business one - not a powerful dev machine as such.

rebolek

[21:36](#msg56f8524e6d20f28b42f24a79)@vasudevram Yes, interpreter is really fast for most task. Also, the interpreter is sometimes used by the compiler. Not everything in Red can be compiled and in such situations, compiler will just call the interpreter for such piece of code.

vasudevram

[21:36](#msg56f8524fd9b73e635f66d5d8)@rebolek That may account for the difference.

rebolek

[21:37](#msg56f852817c18711013e65459)Yes, I recently build new desktop. On my laptop which broke not long time ago, the compilation was in the range of 1,5-2 minutes ;)

vasudevram

[21:39](#msg56f8530ebbffcc665fa9c0b7)@rebolek "interpreter is sometimes used by the compiler" - interesting. I was just reading about that in one of the Red intros I was reading. I think it said that there are 3 ways it is done.

[21:40](#msg56f85343bbffcc665fa9c0c0)@rebolek Compile first, JIT, and last is interpreter - something like that . May be a bit wrong on the details. Have to check.

pekr

[21:42](#msg56f853dfd9b73e635f66d619)Inzerpreter is fine for many tasks. Sometimes the speed is overrated. We are not doing 4k video rendering for next gen Star wars episode :-)

[21:43](#msg56f853ffd9b73e635f66d61c)At least not on a daily basis ....

rebolek

[21:45](#msg56f854877c18711013e6545e):D

vasudevram

[21:45](#msg56f8548ee4a8384a1bbc6e37)@pekr "Inzerpreter is fine for many tasks" That's true and I was not claiming otherwise. My question was about compilation time and EXE size. I use Python a lot myself so I know interpreted programs are often fast enough. In fact it is known that many parts of Python run at the speed of C, due to many std libs being written in C.

[21:47](#msg56f8550be4a8384a1bbc6e50)@rebolek A point I thought of because of this chat between us:

[21:48](#msg56f8552ae4a8384a1bbc6e5a)@rebolek Is there any roadmap for when different features of Red are planned for?

rebolek

[21:50](#msg56f85594aaf8f1a914e66be1)@vasudevram Take a look at https://trello.com/b/FlQ6pzdB/red-tasks-overview and http://www.red-lang.org/p/roadmap.html

vasudevram

[21:57](#msg56f85765d39de41b495e290c)@rebolek Thanks, will do.

## Monday 28th March, 2016

ghost~5680c5f416b6c7089cc058a5

[04:24](#msg56f8b1f576b6f9de194bb89c)@dockimbel @PeterWAWood http://www.red-lang.org/p/download.html -&gt; `Install Red using a package manager` -&gt; `Chocolatey` links to `https://chocolatey.org/packages/red/0.5.4` which is an old version. Better change the link to `https://chocolatey.org/packages/red` as it will always show the latest version.

dockimbel

[04:30](#msg56f8b3686d20f28b42f24b47)@nc-x Done.

djrondon

[04:30](#msg56f8b36f8d2a72471b7aab8b)Hi Folks, Hi can I convert types using Red?

[04:30](#msg56f8b373d9b73e635f66e1ca)string to integer

[04:30](#msg56f8b381e4a8384a1bbc7ab4)vice versa, etc

dockimbel

[04:32](#msg56f8b3c872bf52bd58e74e1d)@djrondon `TO` action implementation is not yet complete, so for those cases, use:

```
red>> to integer! "123"
== 123
red>> form 123
== "123"
```

djrondon

[04:32](#msg56f8b3ecd39de41b495e34d4)ok.. thanks Dock.

dockimbel

[04:33](#msg56f8b3fd6d20f28b42f24b4a)@rebolek @iArnold I fixed the docstring for INSERT, as it returns \*past the inserted value* (in order to enable \*chaining* calls).

PeterWAWood

[05:39](#msg56f8c38abbffcc665fa9ceda)@dockimbel The docstring of

```
write
```

says the value being written can be

```
any-type!
```

but the 0.6.0 implementation only seems to support strings.

dockimbel

[06:09](#msg56f8ca9772bf52bd58e74e40)@PeterWAWood The return type should be restricted to `[block! binary! string!]` only.

PeterWAWood

[07:05](#msg56f8d7cd76b6f9de194bbd95)@dockimbel I get a script error when trying to write a

```
block!
```

:

```
red>> write %text.tmp ["one" "two" "three"]
*** Script error: write does not allow block! for its data argument
*** Where: write
```

[07:06](#msg56f8d7edd39de41b495e39b9)Perhaps it isn't implemented yet.

nodrygo

[07:40](#msg56f8dff18f5147e119f10481)just a question (not a criticism or a request)  
Do you have a roadmap for 64bit Version ? is it complex to do or a big job ?

most of OS \*(even modern phone devices)* are now 64bits and in my Linux I have to load and change path for some 32bits libs \*(case for glut demo)* doing something like  
`LD_LIBRARY_PATH=../lib32:$LD_LIBRARY_PATH ./gltriangles`  
not very important just inconvenient

ghost~5680c5f416b6c7089cc058a5

[07:44](#msg56f8e0de8d2a72471b7ab1df)@nodrygo :point\_up: \[January 30, 2016 10:39 AM](https://gitter.im/red/red?at=56ac45a1586242210ae0704d)

PeterWAWood

[07:44](#msg56f8e0ef8d2a72471b7ab1e3)@nodrygo 64-bit support is included in the \[Red v1.0 Roadmap](http://www.red-lang.org/p/roadmap.html) but is not scheduled yet.

ghost~5680c5f416b6c7089cc058a5

[07:44](#msg56f8e0f0e4a8384a1bbc811a)

PeterWAWood

[07:45](#msg56f8e12f8d2a72471b7ab1ed)As the post from 30 January infers, it may have been deferred to Red v2.0 but that has not yet been reflected in the roadmap yet.

dockimbel

[07:51](#msg56f8e26cd39de41b495e3b5b)@nodrygo I understand that it is annoying on Linux 64-bit, though, it's not an issue on other platforms so far. Indeed, the change is a big and pretty complex job (though we haven't yet dug into all the possible solutions, so maybe a simpler option exists), but the need for it is rising more and more, so I don't think we'll be able to wait for 2.0 before supporting it.

nodrygo

[08:02](#msg56f8e508bbffcc665fa9d37b)@dockimbel thanks  
As I said this is not the most important and the roadmap up to 0.9 or 1.0 seem a better priority ;-)

dockimbel

[08:08](#msg56f8e661bbffcc665fa9d3a5)@nodrygo Thanks for your feedback, it is always useful and important for us to now what are the pain points and the practical needs of developers.

mikeparr

[08:29](#msg56f8eb6e11ea211749c269c9)@rebolek you say that I need to include console (to use `input` function) for the compiled version, but not for the interpreted version. Are there different rules for compiled and interpreted code? Any docs on this?

dockimbel

[08:32](#msg56f8ec1de4a8384a1bbc82c1)@mikeparr It's just that the console is a Red script which includes the current `input` ad-hoc implementation (until we get full I/O). So, it's not interpreted vs compiled, but console script vs user script. ;-) Also, notice that `input`has a different implementation for \[GUI console](https://github.com/red/red/blob/master/environment/console/gui-console.red#L30) and \[CLI console](https://github.com/red/red/blob/master/environment/console/console.red#L13). Those are temporary implementations, and will be replaced by a `read console://` once available.

[10:49](#msg56f90c5676b6f9de194bc624)@meijeru Could you please point me again to your %easy-VID.red script for Red?

Zamlox

[11:27](#msg56f915218d2a72471b7aba0e)how can I force a face to move only on a certain direction when dragged ?  
I tried following example:

```
view layout [
        below origin 0x0 space 0x0
        base 20x20 blue
        base 20x100 red
        base 20x20 blue
        at 0x20 base 20x15 black loose on-drag [face/offset/x: 0]
    ]
```

but dragging the black colored face will make it move sluggish.

dockimbel

[12:07](#msg56f91e8a8f5147e119f10ea4)@Zamlox We haven't tried constrainted dragging yet, looking into it right now to see what is the best option for that...

vasudevram

[12:11](#msg56f91f67bbffcc665fa9dc79)Hi people, sorry for this off-topic question about Gitter itself (I am very new to it). I've looked in the UI but do not see an obvious way to turn off notifications. Is there one?

pekr

[12:11](#msg56f91f7a8d2a72471b7abbb9)Had to look-up for `loose`. Being not native english, it is a terrible word imo :-(

vasudevram

[12:11](#msg56f91f7fd9b73e635f66f206)(Just joined Gitter yesterday. Pointing me to any docs on the question is fine.)

[12:13](#msg56f91fead9b73e635f66f216)Or if there is a meta-room for Gitter to ask questions about if, please paste the link for it.

[12:14](#msg56f92020d9b73e635f66f21f)(Asking about a way to turn off notifications because I don't want to get notification for every message posted in this room. Prefer to come to this room once in a while and read them,)

dockimbel

[12:15](#msg56f9204911ea211749c27283)@vasudevram Right-click on last icon on top right of the Gitter window, then "Notifications".

Phryxe

[12:15](#msg56f9205ad9b73e635f66f231)I have notification setting in the upper right corner (web interface)

pekr

[12:15](#msg56f9206176b6f9de194bc94c)At the top-right section, there is an iconf for settings, next to the Star icon. There is a section called Notification, where you can Mute it.

rebolek

[12:16](#msg56f9209a72bf52bd58e74f58)@pekr Also not native english ;) but I like `loose`. Better than `draggable` or some other monstrosity, IMO.

dockimbel

[12:16](#msg56f920b6bbffcc665fa9dcbe)@rebolek +1, that's the point. ;-)

vasudevram

[12:17](#msg56f920bc11ea211749c27296)Thanks @dockimbel @Phryxe @pekr . It worked.

rebolek

[12:18](#msg56f921206d20f28b42f24c7f) @dockimbel Thanks, one day, I will get Red and will be able to do something useful in it :D

pekr

[12:19](#msg56f9213b8f5147e119f10f15)I give it a -1, things should be self explanatory, draggable would be self explanatory. Well, Rebol was alsways expert in introduction of special terms, especially in the GUI section :-)

rebolek

[12:19](#msg56f9216972bf52bd58e74f5f)Face is loose, you can’t expect it to stay in one place. It is self explanatory I think.

dockimbel

[12:20](#msg56f92188d39de41b495e458f)@perk ...and it makes you learn a new English word. ;-)

pekr

[12:20](#msg56f9218fd9b73e635f66f26c)Of course I can live with almost anything, so no worries. The other term I somehow don't like is `on-deep-change*`, but here, not properly understanding what's it all about, I can't suggest any alternative ...

dockimbel

[12:21](#msg56f921b376b6f9de194bc97f)@pekr That's temporary, the object event names will change soon to their final form.

pekr

[12:21](#msg56f921ced9b73e635f66f279)Good to know, thanks. That's whaty I noticed, that some other changes are planned there ...

Zamlox

[12:22](#msg56f92212d39de41b495e459f)meanwhile I was trying a different technique

```
view layout [
    below origin 0x0 space 0x0
    base 20x20 blue
    base 20x100 red all-over
        draw [pen black fill-pen black polygon 0x0 20x0 20x15 0x15]
        on-over [
            probe event/offset
            face/draw/6/y: event/offset/y
            face/draw/7/y: event/offset/y
            face/draw/8/y: event/offset/y + 15
            face/draw/9/y: event/offset/y + 15
        ]
    base 20x20 blue
]
```

which kid of works (when I move the mouse cursor inside the red face, the black polygon will follow the mouse ). But I have noticed that when mouse is moved on the right side of red face, the last event/offset has an y value relative to window not to the red face (check the values prompted with probe in the above example), and because of that the black box is drawn much below as it should be.

rebolek

[12:23](#msg56f9225772bf52bd58e74f62)BTW, `on-deep-change*` is magnificent. Anyway, I wish it could do much much more ;)

dockimbel

[12:24](#msg56f92283d9b73e635f66f292)@rebolek What kind of extra things would you like it to do?

[12:30](#msg56f92402e4a8384a1bbc8bc0)@Zamlox I just pushed a little fix for dragging support in manual mode. By default, View engine will update faces for you, and in the dragging handler, that appends when the new offset is calculated for the face, resulting in conflicting positionning if the user changes the offset manually in `on-drag`too. So, the best option, is to turn off the automatic updating, so that you can get manual control over the face position and it will be refreshed correctly on screen (you need to download the latest automatic build in the Download section to get the fix). Here's the new code which works at you would expect:

```
system/view/auto-sync?: no

view layout [
	below origin 0x0 space 0x0
	base 20x20 blue
	base 20x100 red
	base 20x20 blue
	at 0x20 base 20x15 black loose on-drag [face/offset/x: 0]
]
```

That was an interesting use-case, thanks for sharing it. I'll add it to our tests scripts.

Zamlox

[12:33](#msg56f9247dd9b73e635f66f2d3)all-right, thank you for fast reaction :)

rebolek

[12:33](#msg56f9247e7c18711013e65651) @dockimbel `on-deep-change*` let you modify "setter" behaviour. I know that "getters" are not "change", but it would be great to have something similar also for "getters".

Zamlox

[12:34](#msg56f924cdd9b73e635f66f2e2)@dockimbel can you check also the second issue, related to 'y' value being of the window instead of the face which handles the event.

rebolek

[12:34](#msg56f924d772bf52bd58e74f6b)BTW this is why it is so great to have releases (with blog article), because `on-deep-change*` is something I totally did not noticed in the daily improvements.

dockimbel

[12:38](#msg56f925b2bbffcc665fa9dd70)@rebolek "getter" That's part of the additions I want to make to object events. ;-) Though, such feature shouldn't be used lightly..."with great power, great responsability" as usual. ;-)

[12:39](#msg56f9261376b6f9de194bca2c)@Zamlox Looking into it...Can't fix it now, would you mind opening a ticket about it in our \[bugtracker](https://github.com/red/red/issues) please?

[12:43](#msg56f9270ad39de41b495e466c)@Zamlox Hum wait, maybe we have a solution...

rebolek

[12:43](#msg56f9270caaf8f1a914e66e23)@dockimbel I understand that ;) But when used properly, it will open space to make new "datatypes" with really useful features.

dockimbel

[12:48](#msg56f92803bbffcc665fa9ddc7)@Zamlox Ok, no need for a ticket. The issue you had is cause by the last `over` event the face receives, which signals that the mouse has gone away. You can check that through the `event/away?`flag. So, the following code works as expected now:

```
view layout [
    below origin 0x0 space 0x0
    base 20x20 blue
    base 20x100 red all-over
        draw [pen black fill-pen black polygon 0x0 20x0 20x15 0x15]
        on-over [
            probe event/offset
            unless event/away? [
				face/draw/6/y: event/offset/y
				face/draw/7/y: event/offset/y
				face/draw/8/y: event/offset/y + 15
				face/draw/9/y: event/offset/y + 15
			]
        ]
    base 20x20 blue
]
```

rebolek

[12:49](#msg56f92863aaf8f1a914e66e29)I.E. recently I needed to implement something like Redis' sorted set in Red/Rebol. That was before `on-deep-change*`. I reimplemented it then using `on-deep-change*` and it’s much easier to use, at least at the "setter" side.

dockimbel

[12:50](#msg56f9289211ea211749c273f3)@Zamlox It was a design choice to have that extra "exiting" event in `over` + a flag rather than implementing an extra `away` event. Most of the time, it's more convenient to toggle alternative behaviors from the same function, as it would avoid duplicating code in two events. Though, if it this turns out to not be the best option, we can still change that in the future (the joys of being in alpha stage ;-)). That said, there's still something not right with the `event/offset` value that needs fixing...Ok, final decision: you can open a ticket for it. :-D

Zamlox

[12:57](#msg56f92a2ae4a8384a1bbc8cd5)@dockimbel ok, I will open ticket.

[13:05](#msg56f92c2a8d2a72471b7abe03)@dockimbel is there a way to get the length of a face text in pixels ? like using 'caret-to-offset' in Rebol2

PeterWAWood

[13:23](#msg56f93039bbffcc665fa9df68)Re: loose

[13:23](#msg56f93062d39de41b495e4824)Floating is probably a better description but probably too many keystrokes for @dockimbel

Zamlox

[13:40](#msg56f9345076b6f9de194bcd0a)@dockimbel working like a charm with the fix ;)

pekr

[13:41](#msg56f93476bbffcc665fa9e03c)I like floating ...

dockimbel

[13:48](#msg56f9361872bf52bd58e74f91)@Zamlox `help size-text`.

Zamlox

[14:05](#msg56f93a25e4a8384a1bbc905c)@dockimbel ok,thanks.

iArnold

[14:27](#msg56f93f376d20f28b42f24cc5)loose is fine, not fixed. Floating, flex, flexible. Loose until a better word pops up?

gour

[15:01](#msg56f9474e76b6f9de194bd1cc)when using 3rd party C-lib with Red/System bindings, would it be possible to statically compile &amp; link the whole app for ultra easy deployment?

ghost~5680c5f416b6c7089cc058a5

[15:09](#msg56f94924d9b73e635f66fb2f)@gour not possible yet. Maybe sometime in the future.

[15:10](#msg56f9495411ea211749c27be3)codeCIt would require quite a bit of work in the Red linker to support static linking with C ap

SteeveGit

[15:10](#msg56f9495811ea211749c27be6)re:loose, If it's for dragging purpose, why not just 'drag'?

[15:10](#msg56f94969bbffcc665fa9e603)shorter

gour

[15:11](#msg56f949958f5147e119f118cc)@nc-x ok. thanks

ghost~5680c5f416b6c7089cc058a5

[15:13](#msg56f94a11e4a8384a1bbc9509)Well, the new gitter interface on mobile web messed what i was trying to write :angry: And editing also useless in this interface

[15:13](#msg56f94a22d9b73e635f66fb8b)Btw,

[15:13](#msg56f94a308f5147e119f11905)codeCIt -&gt; It

[15:14](#msg56f94a4abbffcc665fa9e64a)ap -&gt; code or applications

[15:14](#msg56f94a56d39de41b495e4ef0)in that above post

[15:14](#msg56f94a64bbffcc665fa9e652):angel:

gour

[15:14](#msg56f94a698d2a72471b7ac5cf)@nc-x i got the meaning, somehow ;)

ghost~5680c5f416b6c7089cc058a5

[15:15](#msg56f94a8711ea211749c27c63)XD :wink:

gour

[15:16](#msg56f94aebd9b73e635f66fbc7)is there any estimation when 1.0 will be done as well as whether it will include 64-bit support (I'm on lInux...)

ghost~5680c5f416b6c7089cc058a5

[15:18](#msg56f94b398d2a72471b7ac5fd)Read posts starting from

[15:18](#msg56f94b3e8f5147e119f1196a)https://gitter.im/red/red?at=56f8dff18f5147e119f10481

[15:18](#msg56f94b4a76b6f9de194bd323)for 64 bit support.

[15:19](#msg56f94b6b76b6f9de194bd32f)As for 1.0 , a bit more than 1 year i guess.

dockimbel

[15:20](#msg56f94bcb7c18711013e656d6)@gour There's someone working on 3rd-party static library linking for Red (though just Windows format). It could be available pretty soon, though no precise ETA so far. A way to help that come quicker would be contributions from community to write readers for ELF and Mach-o static lib formats (in Rebol2). ;-)

[15:23](#msg56f94c707c18711013e656d9)@SteeveGit `drag` is a View event name, so could cause confusion (`base drag on-drag [...]`). Also, a noun is usually nicer for a property name. For `flex` and `floating`, they are used commonly in web UIs for layout styles, so, better avoid confusing web developers too, as we also have layout commands.

gour

[15:25](#msg56f94cda11ea211749c27d1b)@dockimbel now i ownder how much can one achieve with Red (besides lack of 64 bit support) on Linux \*today* in regard to writing full-fledged desktop app or it is still require to wait new releases converging to 1.0?

dockimbel

[15:30](#msg56f94df972bf52bd58e75005)@gour Missing GUI backend for Linux (we aim at GTK), missing async I/O and networking (besides hardcoded HTTP/S client), missing GC (though, a poor's man one will come in next minor releases). Besides that, I guess you can already do pretty much everything, even Linux kernel drivers writing (though, we might need minor tweaks to our ELF emitter to allow that).

[15:31](#msg56f94e6b6d20f28b42f24d13)0.7.0 should be the starting point for enabling unrestricted apps development, as all the core parts will be there (except high-level concurrent code execution, though you can go pretty far with just async I/O, see node.js) ;-). So, not very long to wait for that, though I won't give any ETA for now on that yet.

gour

[15:34](#msg56f94ef2bbffcc665fa9e7ab)ok, will wait for 0.7 to see how it is going to look. all the best!

dockimbel

[15:36](#msg56f94f8272bf52bd58e7500e)One important point: the more help we get from the community for every possible minor tasks we have to deal with, the faster we can progress on coding the core parts. For example, writing new tests, writing tutorials, helping newcomers, coding demo scripts/apps/libs, or even sending fixes (or at least pointing out issues and providing a good proposition for solving it, especially for GUI backends) is very helpful.

gour

[15:37](#msg56f94fc9bbffcc665fa9e7e8)and to learn Red, one can safely consult Rebol docs?

ghost~5680c5f416b6c7089cc058a5

[15:41](#msg56f950babbffcc665fa9e81c)Rebol docs would certainly help get started with Red. Although there are a few minor incompatibilities and missing features. Also please note that idiomatic Rebol code would not be idiomatic Red code as Red has a lot of great additional features which can help simplify code (for eg. the ownership system) .

[15:42](#msg56f950ebd39de41b495e50f3)As of now, the best docs for Red are the rebol ones (which are plenty).

dockimbel

[15:44](#msg56f951737c18711013e656ff)Unfortunately, we don't have the permission to fork Rebol docs, so we have to rewrite it ourself. Community contributions on that would be a * huge* help, but I'm aware that it already requires to be fluent in Rebol/Red for that.

[15:48](#msg56f95242aaf8f1a914e66ec3)For the discussion about finding a better name for `loose`, have a look \[there](http://www.thesaurus.com/browse/loose?s=t). `movable` could be an alternative.

nodrygo

[16:22](#msg56f95a2fd9b73e635f66ffcb)I wondered what was meaning of `loose` before this thread :-)  
imho `movable` seem more understandable and directly readable for newbie like me

ghost~5680c5f416b6c7089cc058a5

[16:27](#msg56f95b818d2a72471b7acaa0)@dockimbel we can't fork rebol docs but IMHO @nickantonaccio 's huge Rebol docs are much easier to understand and are more indepth than the official docs. If he can put all his existing Rebol docs in a new repo in preferably markdown format, i guess there would be a lot of people willing to work to upgrade them to Red. A single repo for the documentation, if good enough can be promoted as Red's official docs.

gour

[16:28](#msg56f95bb5bbffcc665fa9eae8)it sounds good

ghost~5680c5f416b6c7089cc058a5

[16:35](#msg56f95d38bbffcc665fa9eb5f)Also, the more experienced people can focus on adding new content to those docs, while the newbies could help in doing corrections, providing feedback, adding examples wherever neccessary as well as could help in upgrading the docs from Rebol to Red side by side as they try to learn Rebol (and Red) from the same docs.

[16:37](#msg56f95dadd39de41b495e5482)Or

[16:38](#msg56f95e06e4a8384a1bbc9ae6)If he creates a repo for his new Red docs, a lot of contributions can be done to it as well. (A lot of copy/paste + necessary upgradations can be done from his rebol docs to bring the Red docs up-to-date)

dockimbel

[16:50](#msg56f960ef72bf52bd58e75073)@nickantonaccio What do you think about that?

jasoncapriati

[21:03](#msg56f99c1b8d2a72471b7ae06a)+1 @nickantonaccio introduction is stellar for beginners.

[21:05](#msg56f99cb7d39de41b495e691f)Could be easier on the eyes and I can help there. Take Markdown and create simple web pages with clear typography.

## Tuesday 29th March, 2016

asampal

[06:09](#msg56fa1c166d20f28b42f25084)@dockimbel I know that up until now you didn't think spending much effort on http://red-lang.org was worth it, but I would say that at this point if there are people in the community who have a good eye for design, you should be open to letting them come up with an improved look. The current styling is not too great, IMO, and it likely gives a less positive first impression. @jasoncapriati do you have some examples of work you've done?

dockimbel

[06:31](#msg56fa21416d20f28b42f2509a)@asampal On the contrary, I'm constantly complaining about the web site and my lack of time to bring a completly new one up. I know that it does not give the best first impression. Finding time for putting together a new one is something I couldn't achieve in the last months, always having urgent coding tasks to complete instead. I have a pretty good idea about what I want, I just need to find the time to write it down, and draw a few mockups. Maybe, these post-release days are good time for me to reserve a few hours to kickstart it, before getting into bigger tasks.

gour

[06:56](#msg56fa27318f5147e119f14c3c)@gour is playing with Grav -- PHP-based flat-file-CMS

[06:58](#msg56fa279f76b6f9de194c0587)Otoh, I do not see web site as big obstacle for Red atm...after looking some presentations and seeing some \*\*content\** on the site, it's obvious that Red is preparing extraordinary experience for devs...the fact that Red/Rebol are a bit different languages in comparison with the rest, can not be hidden anyway ;)

asampal

[07:15](#msg56fa2b8672bf52bd58e753ac)@gour for some people aesthetics don't mean much - maybe you're this type, but if so, don't assume that first impressions don't count for others. An answer like "well, people more concerned with style than substance aren't worth bringing into the community" isn't the appropriate answer. I'm sure that even you, if you were presented with two designs where the first was clearly designed with consistency in mind, with proper ergonomics, and with appropriate typography, etc., and the other was just put together in an ad hoc way would prefer the former.

gour

[07:23](#msg56fa2d5ae4a8384a1bbcc9f2)@asampal it's not true that i don't like nicely designed sites, but my opinion is that at the moment, considering the rapid development of Red as well as the number of people working and/or helping it, the current web site is functional enough providing info what it is all about and it would be pity that @dockimbel has to spend his precious hours working on the web site instead of developing the project further. TL; DR: yes, web site is important, but there are many other things with higher priorities ;)

Phryxe

[07:32](#msg56fa2f92d9b73e635f672e00)About cross-compiling apps to iOS. Do you think it ever will be possible to deploy iOS apps from Windows?

dockimbel

[07:41](#msg56fa31b776b6f9de194c07f8)@Phryxe Not sure yet if it's possible, but we'll give it a try for sure. ;-)

jasoncapriati

[07:42](#msg56fa31fabbffcc665faa19e1)I was suggesting working on the amazing documentation by @nickantonaccio. Not the website.

[07:43](#msg56fa32098d2a72471b7afac4)Really enjoying that.

[07:47](#msg56fa332cd39de41b495e834c)@Phryxe I believe one needs a Mac to build and sign an app. Singing in not necessary if you don't plan to release on the App Store. In that case you can side load from XCode.

pekr

[07:49](#msg56fa3383bbffcc665faa1a29)I do remember when Henrik did really nicely designed website for Rebol. It was refused by Carl though. He tried to keep structuring it according to Carl wishes. Then Carl vanished and programmed some automat, to create a website. But - the look is absolutly terrible, just look into it. My take is -never, really never, let programmer do the design, unless such person has some experience there.

[07:50](#msg56fa33bf11ea211749c2b21f)But, in order for anyone to not waste his/here time, Doc would have to align his wishes, but from the functionality point of view (modules, back-end), to the segmentation (wireframe)

Phryxe

[08:11](#msg56fa38bb11ea211749c2b353)@dockimbel @jasoncapriati Yeah, I was afraid you'd have to go via a Mac. Sad ...

dockimbel

[08:12](#msg56fa38fde4a8384a1bbcccca)@Phryxe We'll find a convenient solution for Red users.

mikeparr

[08:38](#msg56fa3f15bbffcc665faa1d79)Q on usage of `has` and `func` . from reading around the red site, I get the idea that `function` is the preferred way of creating functions, and other ways are deprecated, in a sense - true? (Am writing bits for Red-By-Example, hence the question).

dockimbel

[08:49](#msg56fa41ab8f5147e119f1535e)@mikeparr `function` is the high-level constructor, auto-collecting local words for you, `func` is the low-level one where you have manually to specify everything, `does` and `has` are convenient constructor shortcuts for respectively no arguments/locals, and no arguments functions.

pekr

[09:17](#msg56fa481fd9b73e635f673481)Just tried what's coming, nice :-)

[09:17](#msg56fa48208f5147e119f15532)http://2zone.cz/pekr/red-grad-pen.jpg

iArnold

[09:31](#msg56fa4b548f5147e119f1563e)@pekr You need to compile your console again?

pekr

[09:32](#msg56fa4b9176b6f9de194c0f81)Yes, in order to get the new functionality included. It is from @qtxie 's repo. Downloaded .zip archive of grad-pen branch and compiled the console ...

iArnold

[09:32](#msg56fa4baad39de41b495e8a62)Your console says Red 0.5.4....

pekr

[09:32](#msg56fa4bc9e4a8384a1bbcd239)Yes, that's confusing. Most probably because qtxie used the older branch to start with ...

iArnold

[09:39](#msg56fa4d3511ea211749c2b9ad)I use `func` to access "global" variables. `does` and `has` cannot access global variables, sometimes that is inconvenient. (But then I should probably encap these variables in a proper way.)

PeterWAWood

[10:46](#msg56fa5d0fbbffcc665faa25b7)@iArnold

```
red>> a: 1
== 1
red>> d: does [print a]
== func [][print a]
red>> d
1
```

iArnold

[11:45](#msg56fa6ade8f5147e119f15ea8)@PeterWAWood And if compiled? I remember I could not use it for my Xiangqi program. But perhaps that has been fixed since.

xqlab

[14:38](#msg56fa936911ea211749c2cfd1)I do not know, if it makes sense to report issues or different behavior under wine. image of the draw dialect does not work under wine.

nodrygo

[14:57](#msg56fa97e68d2a72471b7b1979)@xqlab I am using \*wine* on \*mint 16* and this code with draw image work well for me  
is it that your issue ? (using last night red-29mar16-3e31e2c.exe )

```
Red [Needs:  'View]
Arial: make font! [name: "Consolas" style: 'bold]
txt1pos:  make pair! [20 20]
txt2pos: 20x20
delta: 0x100
extimage:  load %logo.png

; with compose
mydraw:  compose[
    font Arial
    text (txt1pos)  "MYTEXT1"
    image extimage (txt1pos + 0x10)
    text (txt1pos + delta)  "MYTEXT2"
]
; with reduce 
mydraw2:   [
    'font Arial
    'text txt2pos  "MYTEXT1"
    'text (txt1pos + delta)  "MYTEXT2"
]

save %mydraw.png draw 240x240 mydraw
save %mydraw2.png draw 240x240 reduce mydraw2

exit 0
```

gour

[15:16](#msg56fa9c317c18711013e65df1)

xqlab

[15:18](#msg56fa9cbbd39de41b495ea553)@nodrygo ; does "A simple example of Draw usage:" of the blog work for you?

[15:18](#msg56fa9ce011ea211749c2d3aa)I can draw on base, but not on image.

nodrygo

[15:22](#msg56fa9db4d39de41b495ea5c5)@xqlab no this one doesn't work

xqlab

[15:25](#msg56fa9e7bd39de41b495ea61a)What messages do you get in the linux console using red with wine?

dockimbel

[15:37](#msg56faa13caaf8f1a914e675b1)@xqlab I saw somewhere a report about such image-related issue on Wine, but can't find it anymore...

[15:40](#msg56faa1dfaaf8f1a914e675c2)@gour Nope, but our raw tests show that it's in the same range as other scripting languages, like Python and Ruby. If you use Red/System code, then you can have close to Go/Java performances. Currently, there is no optimization layers at all, so we have a lot of spaces for performances improvements.

gour

[15:41](#msg56faa2247c18711013e65e4e)@dockimbel great. i've managed to make some older guy for Red who likes C, embedded stuff etc. - old school (simialr to me, at least in age :-D)

dockimbel

[15:42](#msg56faa26d6d20f28b42f25425)@gour I used to be a C fan in the 90s, and I have worked on embedded systems also (among a lot of other things). ;-)

gour

[15:43](#msg56faa28a7c18711013e65e52)@dockimbel than you know about it ;)

nodrygo

[15:58](#msg56faa62cd9b73e635f6751c5)@xqlab the console error is

```
p11-kit: couldn't load module: /usr/lib/i386-linux-gnu/pkcs11/p11-kit-trust.so: /usr/lib/i386-linux-gnu/pkcs11/p11-kit-trust.so: Ne peut ouvrir le fichier d'objet partagé: Aucun fichier ou dossier de ce type
fixme:dwmapi:DwmIsCompositionEnabled 0x33fc84
```

note I also use XP on VirtualBox and here work fine

gour

[16:15](#msg56faaa1472bf52bd58e75769)which editors have decent support for Red/Rebol code?

nodrygo

[16:17](#msg56faaa9676b6f9de194c3010)@gour sublimeText work well for my usage

gour

[16:18](#msg56faaab86d20f28b42f25460)@nodrygo thanks. i use Emacs, so wonder about that one...

nodrygo

[16:19](#msg56faaaf98d2a72471b7b2149)@gour sorry Emacs is not my favorite I prefere VIM for console editor ;-) so can't answer

gour

[16:19](#msg56faab197c18711013e65ea5)np. i used to use Vim, but switched to Emacs mostly due to org-mode...now using Gnus etc.

RenaudG

[16:30](#msg56faada18d2a72471b7b224e)Thanks Dockimble (and other contributors) for this Red jewel. No, not Ruby... Red !  
Did some Rebol years ago, then I was bitten by the language stagnation and shifted my focus on other things. Then, I got interested in Red. I slept on that for a while, but now the thing starts to be useable/useful (to me) so I'm back and delighted to start coding in Red.

dockimbel

[17:00](#msg56fab4c9aaf8f1a914e67663)@RenaudG Welcome back! ;-)

RnBrgn

[18:32](#msg56faca46e4a8384a1bbcfcdf)what are the typical compile times on Windows? I compiled a one line script ( request-file ) and it took 31328 ms. This was using the latest build. I'm a NewB to Red and programming

pekr

[18:37](#msg56facb7076b6f9de194c3bea)There are two stages - the first number is the compilation of Red to Red/System, or something like that :-) It takes 1.3 sec here. The other one, is compilation to native code and yes, it takes easily cca 40 sec. In relatively close future, we should get the "precompiled runtime" feature, which should reduce compilation times drastically ...

[18:38](#msg56facb94bbffcc665faa4ade)So far, everything is simply being compiled, again and again ....

RnBrgn

[18:42](#msg56facc7d8d2a72471b7b2d43)Thanks for responding pekr

gour

[19:23](#msg56fad62472bf52bd58e7588f)@dockimbel nice \[interview](https://notamonadtutorial.com/interview-with-nenad-rakocevic-about-red-a-rebol-inspired-programming-language-681133e3fd1c#.g02bmvit9) ;)

rebolek

[19:34](#msg56fad8b472bf52bd58e7589d)@RnBrgn current compiler runs interpreted so do not expect super fast speed even with precompiled runtime.

gour

[19:34](#msg56fad8c872bf52bd58e7589f)considering thatRed is close to Rebol, researching a bit about Rebol - nice \[one]( http://www.rebol.com/why-rebol.html).

pekr

[20:22](#msg56fae4158f5147e119f18aad)@rebolek what do you mean by "compiler runs interprated"? That R2 is interpreted? Well, it is. But the speed change is imo going to be dramatic. It's not about speed of R2 itself. It's about compiling the whole runtime over and over again, instead of just compiling your app/changed stuff ....

rebolek

[20:24](#msg56fae46e6d20f28b42f25600)Yes, that R2 is interpreted. I agree that the speed will be much better for small projects, but you can have program where its code is about the size of runtime or bigger and then difference would be not that dramatic.

gour

[20:51](#msg56faead87c18711013e6606d)i'm on linux64 and attempt to compile "hello world" gives:

```
PROGRAM ERROR: Invalid encapsulated data.
```

Any hint?

RenaudG

[20:59](#msg56faeca0bbffcc665faa559c)@gour I get the same error on windows if just launch red from anywhere (found in my $PATH), but not if i use the red executable in my current directory, or my "global" red (the one in the $PATH) with a /fully/qualified/path/to/red

gour

[21:00](#msg56faecdb6d20f28b42f25622)@RenaudG confirmed. thanks ;)

[21:03](#msg56faedbcaaf8f1a914e677c8)it looks as bug or is it a feature?

[21:04](#msg56faeddbaaf8f1a914e677c9)README.ms says: "Put the downloaded red binary in the working folder."

RenaudG

[21:06](#msg56faee38e4a8384a1bbd08b9)Not a feature, IMHO. I would say it's just some of the temporary rough edges of an immensely complex WIP ;)

gour

[21:06](#msg56faee5baaf8f1a914e677cd)well, considering the size of red binary, it's not a problem to cp it into working directory

[21:07](#msg56faee7a72bf52bd58e75901)otoh, Red/Rebol's "simplicty" is viral and tempting ;)

[21:08](#msg56faeec97c18711013e66093)@gour never learnt nor used Rebol

RenaudG

[21:14](#msg56faf01cd39de41b495ec36d)yep, not he same as copying a full java install :)  
Have you tried to put a renamed copy of the compiled console somewhere in your $PATH and just launch that ? It works for me (on Windows).

justjenny

[21:23](#msg56faf267e4a8384a1bbd0a19)Hi, I believe there is planned support for IOS - If it were possible to actually write and test Red apps on an Ipad, that would be another really unique feature,  
as at the moment coding on the device is limited .... not sure how feasible it is ?

asampal

[23:35](#msg56fb1132aaf8f1a914e678da)@gour I wasn't suggesting that @dockimbel redoes the site himself or that he'd need to spend significant amounts of his time. Now that there are more people coming to take a look, and some of them staying, maybe someone with good design sense can rework the site. Of course it would be with Nenad's input and with the knowledge that things might need updating as Red moves towards release, but, IMO, having a nice-looking site at this point can only be a positive thing.

c0ldT

[23:39](#msg56fb122676b6f9de194c5137)This is a promising sign. Several new names here, recently

[23:55](#msg56fb15e311ea211749c2fad3)justjenny, it is planned, but I'm not sure of timeline

[23:56](#msg56fb164511ea211749c2fae9)Bridges: JVM / Android 90%

[23:57](#msg56fb1655bbffcc665faa6020)objective-c / iOS

[23:57](#msg56fb1665d39de41b495ecd41)CLR / .NET

## Wednesday 30th March, 2016

PeterWAWood

[00:01](#msg56fb174e11ea211749c2fb11)@c0ldT Generating executables for iOS is planned but that doesn't necessarily mean it will be possible to write Red code on an iOS device. There are limitations on apps that run on iOS devices (though I believe that these only apply when the app is distributed via Apple's AppStore.)

c0ldT

[00:13](#msg56fb1a1a11ea211749c2fb90)Thanks for the clarification

justjenny

[00:32](#msg56fb1e89d39de41b495ece54)Just thinking out loud - if a developer could sit in his hotel with his IPad using Red to develop his app - you know what i mean.

PeterWAWood

[01:56](#msg56fb323476b6f9de194c56ae)@justjenny I'm sure @dockimbel would love to find a way for people to write Red on an iOS device. I doubt he will have the time to look until Red is much further along the roadmap.

ghost~5680c5f416b6c7089cc058a5

[02:41](#msg56fb3ce9d9b73e635f677a4a)@gour @RenaudG `PROGRAM ERROR: Invalid encapsulated data.` See =&gt; https://github.com/red/red/issues/543 , https://github.com/red/red/issues/1547

PeterWAWood

[02:49](#msg56fb3eca76b6f9de194c58ec)

gour

[07:24](#msg56fb7f34aaf8f1a914e679f3)@nc-x those are, hopefully, just workarounds, right?

dockimbel

[07:43](#msg56fb83b1d39de41b495eded5)@gour We are bound by the Rebol encapper we are using to building the Red binary, it compresses its payload in such a way that it creates this very annoying side-effect when the Red binary is used from the $PATH. As Rebol2 is closed-source, there's nothing we can do about it. The only option is to ditch Rebol2 dependency, though, we need to rewrite the toolchain in Red for that first, so Red gets self-hosted.

gour

[07:44](#msg56fb83ecaaf8f1a914e67a09)@dockimbel ok, so it's just rebol's legacy and Red won't suffer from it, right?

dockimbel

[07:45](#msg56fb84178f5147e119f1abb5)Right, compiled Red binaries have no issues wrt that, it's a Rebol2 limitation. For now, if we want to distribute the Red toolchain in a single binary, that's the easiest option. Custom made solution would be possible, but we would need to "unpack" some files on user's disk and try to run them in a transparent way for the OS (like using exec() on Unix, but no equivalent on Windows..). This is a PIA, if anyone here knows how to solve that properly, we could fix this $PATH limitation without waiting for the self-hosted Red.

gour

[07:47](#msg56fb84ae72bf52bd58e75b3a)@dockimbel otoh, you're (partly) responsible for my problem...for quite some time i was evaluating different languages for my open-source multi-platform desktop app..from Haskell/OCaml, to Ada, Rust, Go, Nim...I did not want to use C(++)/Java and python wuld be probably too slow. Most of them failed at 'decent-GUI-bindings' test and finally, I thought, I've settled on D which has mature GTK bindings as well as evolving dlangui - native GUI written in D. Then, I found out about Red with its uttermost power &amp; simplicity...and lost my peace...not knowing what to do. :-)

dockimbel

[07:49](#msg56fb850bbbffcc665faa7213)@gour Haha, I know the feeling, Rebol/Red have the bad effect of causing high addiction. ;-)

RenaudG

[07:50](#msg56fb853ad9b73e635f67867b)using "compose" to build a function body seems to have issues: works in interpreter but fail to compile.

```
thing: func [x] compose [x + 10]
```

\*\** Red Compiler Internal Error: Script Error : bind-function expected body argument of type: block  
\*\** Where: comp-func  
\*\** Near: [bind-function body shadow  
body-code: either  
]

gour

[07:50](#msg56fb855a6d20f28b42f2584b)Simplicity is always very highly esteemed virtue which I try to follow in my general life. in computing I'm sick of prolifieration of JS-based-crap infecting everything and complicating even the most simple things with its web-apps technology.

[07:53](#msg56fb85e56d20f28b42f2584d)@dockimbel i still have to find out how are Red/Rebol supposed to handle 'traditional' modular programming, iow. dividing one's app in different modules, then about writing custom libs/modules, type-safety - that's the reason I wanted statically-compiled and type-safe language and about the expressiveness of Red/Rebol when it comes to custom data

[07:54](#msg56fb861daaf8f1a914e67a21)otherwise, having native-GUI available, sqlite3 bindings...that's practically everything i'd need along with 'typical' standard lib which does anyway come along with Red/Rebol

dockimbel

[07:54](#msg56fb861ed39de41b495edf83)@RenaudG Please fill a ticket about it. The compiler is still not very good at processing dynamically created functions, though we are improving that step by step.

RenaudG

[07:55](#msg56fb865ce4a8384a1bbd2699)@gour @dockimbel I know that feeling too! I thought I was cured from my rebol addiction just to relapse with Red.  
@dockimbel OK, I will do it.

gour

[07:56](#msg56fb86caaaf8f1a914e67a28)@RenaudG so, it seems that you're 'lost' without ability to recover ;)

[07:58](#msg56fb87166d20f28b42f25851)D provides almost everything which I need today, but it is a higly \*\*complex\** and/or big language :-(

RenaudG

[08:09](#msg56fb89adbbffcc665faa736e)@gour I'm afraid you're right.  
I also investigated Go, Rust, D, Haskell, Ocaml, Lisp/Clojure, Erlang, Elixir (etc.) to some extent, and often coded in PHP, python, Javascript or Newlisp. Different tools, different purposes, but none had the same effect on me. Some in this list are brilliant tools, but not as addictive as rebol/red.

gour

[08:12](#msg56fb8a6a72bf52bd58e75b51)@RenaudG that sound pretty close to me...i'm in general againsta vaccination, but wonder if Red virus would catch me then. :-) atm, i play with Grav - PHP flat-file CMS and it's nice for my web needs, but for the real stuff...do you consider that Rebol (not to speak about Red which should greatly improve it) is performant-enough as 'general programming language'?

[08:12](#msg56fb8a7faaf8f1a914e67a3b)btw, i'd also like to hear if there are some Red/Rebol users using Emacs along with it

RenaudG

[08:23](#msg56fb8d088f5147e119f1ae3e)@gour A bit slow for computation intensive tasks (same ballpark as python) but this is something Red/System will (mostly) solve. Then there is the lack of libraries for a lot of things... but this will improve with time. In time Red will really be the closest thing to a full-stack-general-programming-language on all fronts. As for Emacs, sorry, i'm mostly a Vim/Sublime guy (you see, i'm REALLY lost without ability to recover).

gour

[08:24](#msg56fb8d517c18711013e662c8)@gour forgot to list Racket as one of the languages

RenaudG

[08:24](#msg56fb8d528f5147e119f1ae4f)I dream of a rebol based editor in the spirit of Emacs... but now i have to swallow my pills a take some rest ;)

gour

[08:25](#msg56fb8d966d20f28b42f2586b)@gour just wonder what editor is used by @dockimbel

RenaudG

[08:31](#msg56fb8ed811ea211749c310e6)Did some Racket too. Nice. But the closest thing i found to Rebol is Newlisp. 8th is kinda cool also, but commercial... and Forth quickly give me headaches past the simplest things. Also to confirm how sick i am, i \*love* Tcl.

gour

[08:33](#msg56fb8f5baaf8f1a914e67a53)@RenaudG haven't seen Newlisp...as far as Tcl, i know that Richard - author of sqlite and fossil (which i regularly use) loves it, so there must be something in it ;)

RenaudG

[08:34](#msg56fb8fa111ea211749c3111d)Yep! Mostly that's homoiconicity (and \*\*VERY\** fast string processing engine)

gour

[08:35](#msg56fb8fed72bf52bd58e75b6a)i must admit that for a potential Red user hearing about your experience with so many languages and \*\*still\** considering Red/Rebol superior to them is higly encouraging

[08:36](#msg56fb901a6d20f28b42f25878)@gour naturallly didn't mention things like Fortran, C(++) in his portfolio :-)

RenaudG

[08:37](#msg56fb905ce4a8384a1bbd29ad)I have great hopes!

[08:41](#msg56fb9137bbffcc665faa75cb)Sorry guys for all the babbling here if it's too much noise. Should we calm down on that, or is it considered OK?

dockimbel

[08:44](#msg56fb91dfe4a8384a1bbd2a39)@RenaudG It's fine, as long as it doesn't digress too much from the main topic here. ;-)

[08:44](#msg56fb91f28f5147e119f1afc1)@gour TextPad and Sublime.

Phryxe

[08:54](#msg56fb945ce4a8384a1bbd2b22)Do I understand this correctly? You can't compile from GUI console and you can only use `#include` while compiling!?

gour

[08:56](#msg56fb94af6d20f28b42f258a5)yesterday i tried compiling 'hello world' on my linux and both linux and windows version (running under wine) worked, but simple GUI example mentioned in 0.6.0 post didn't. is it expected?

jocko-jc

[08:56](#msg56fb94c6bbffcc665faa7710) @dockimbel would NSIS NullSoft answer to your request ? : http://www.digicamsoft.com/cgi-bin/rebelBB.cgi?thread=27Aug2007153653408308200  
:point\_up: \[30 mars 2016 09:45](https://gitter.im/red/red?at=56fb84178f5147e119f1abb5)

Phryxe

[08:58](#msg56fb952211ea211749c31323)Have anyone tried Kaj's JSON binding? Haven't managed to get it to work. Tried to compile his example ...

dockimbel

[08:59](#msg56fb956976b6f9de194c6a52)@Phryxe The toolchain is written in Rebol2, the console is for Red code, so you can't run the toolchain from Red console. Using `do` is perfectly fine in compiled code. For `#include`, there's a \[ticket](https://github.com/red/red/issues/1601) requesting it to be supported by interpreter (it's a compiler directive).

gour

[08:59](#msg56fb958f72bf52bd58e75ba1)executing gui version of 'hello world' i get:

```
*** Runtime Error 1: access violation
*** at: 00421BBDh
```

dockimbel

[09:01](#msg56fb95cf8f5147e119f1b118)@gour You need to include the View module in the header when compiling GUI code in the Red header: `Red [Needs: 'View]`. The crash looks like a regression, you should rather get a proper error message.

gour

[09:03](#msg56fb967172bf52bd58e75bb1)@dockimbel thanks. are such things documented somewhere?

[09:04](#msg56fb968baaf8f1a914e67a8a)(in order not to waste your time here...)

dockimbel

[09:05](#msg56fb96e88f5147e119f1b171)@gour Yes, \[here](https://github.com/red/red/wiki/Red-View-Graphic-System#including-view-component). Though, I would need to add it to the "Get Started" page too (@PeterWAWood would you have time to take care of that?).

gour

[09:07](#msg56fb976eaaf8f1a914e67a8e)@dockimbel thank you. will try to consult docs more...gtk back-end is supposed to happen in 0.7.0, right?

dockimbel

[09:26](#msg56fb9bd8d9b73e635f678d78)@gour Not scheduled yet, but should be in a 0.6.x release.

gour

[09:29](#msg56fb9c836d20f28b42f258ea)even better :clap:

dockimbel

[09:36](#msg56fb9e2811ea211749c315d7)Our work on MacOSX backend for Red/View shows that supporting OSX and GTK could be done very quickly (unlike Windows, and its many API issues and inconsistencies).

pekr

[09:38](#msg56fb9eace4a8384a1bbd2e4c)Yes, yes, and in future we still need another Windows target to support - so called "universal apps". Of course, if Windows Phone platform is not dead sooner, than we plan for it :-)

[09:39](#msg56fb9ec4d9b73e635f678e6a)I was fan of QNX, pity BB gave up on the platform. Well, for Red it means one less platform to support ....

gour

[09:39](#msg56fb9ee872bf52bd58e75bf7)if i got it right, Red will have/use platform's native toolkits (GTK, Cocoa...), but Red/View is kind of GUI-DSL providing something ala wxWidgets, but much more simple due to using DSL instead of API?

pekr

[09:41](#msg56fb9f40e4a8384a1bbd2e7e)I think not. Rebol used custom created/drawn widgets. But Red binds to native ones.

gour

[09:41](#msg56fb9f65aaf8f1a914e67adf)@pekr but Red/View is still kind of common-denominator via DSL?

pekr

[09:42](#msg56fb9f77bbffcc665faa7a58)View is an engine, which ties to low level OS API for GUI. Then there is VID upon that, which should be platform agnostic. Maybe even View itself has some layer of abstraction, so that porting is not that difficult.

[09:42](#msg56fb9f82d39de41b495ee78b)Yes, exactly.

[09:42](#msg56fb9f9811ea211749c31650)View concepts as faces, events, etc., are cross-platform, abstracted.

dockimbel

[09:42](#msg56fb9f9be4a8384a1bbd2e99)@gour Red/View provides the general GUI engine and the face object abstraction. Red/VID is the DSL layer. See the \[overview](https://github.com/red/red/wiki/Red-View-architecture).

gour

[09:43](#msg56fb9fcdaaf8f1a914e67ae5)ok, in any case, one uses DSL to get native-looking GUI...perfect

pekr

[09:43](#msg56fb9fd08d2a72471b7b5e25)Of course, we will see, how it works. As e.g. with more complex widgets, we might differ platform to platform, as e.g. Windows might have (functional/look wise) different widget for tables/grids, etc.

gour

[09:44](#msg56fb9ff972bf52bd58e75c00)but that's 'under the hood' ?

pekr

[09:44](#msg56fba00876b6f9de194c6dd3)@gour - yes .... and if I am not mistaken and understood @dockimbel right, later on, we will also get some "framework", to more easily create custom widgets ... in theory, it might be possible already?

gour

[09:45](#msg56fba03c7c18711013e66361)it sounds (almost) too good to be true :-)

dockimbel

[09:45](#msg56fba04511ea211749c3167e)@gour The DSL is an optional layer, it just avoids you to manually assemble the face tree.

[09:47](#msg56fba0bc8f5147e119f1b49f)@pekr All the pieces for making custom widgets are there, there's just no convenient nor standardized way to achieve it right now. So, we'll cook up something in the next releases for that.

gour

[09:48](#msg56fba0e672bf52bd58e75c06)i get:

```
Access error: cannot connect: http://static.red-lang.org/red-logo.png reason: timeout
```

whne trying GUI example from the post, although it's accessible via web. any hint?

pekr

[09:49](#msg56fba115d9b73e635f678f27)I thought so. But do you agree, that with more complex native widgets, as e.g. list-views, etc., there might not be 100% compatibility? I mean - some platforms might support per column sorting, grouping, freezing, some not, etc.?

PeterWAWood

[09:50](#msg56fba151bbffcc665faa7ad3)@dockimbel I will try to take a look at it tomorrow.

pekr

[09:50](#msg56fba174e4a8384a1bbd2f33)@gour: Works here

gour

[09:52](#msg56fba1ccaaf8f1a914e67af1)Emacs' Rebol mode seems ok...probably mode for Red/Rebol code have less work to do in comparison with those for other languages

[09:52](#msg56fba1f57c18711013e66364)the whole output is here:

```
Executing wine (wineserver32) 1.8.1 on Debian stretch/sid (amd64).
If something goes wrong, please rerun with "WINEDEBUG=err+all wine"
for more detailed debugging output.
*** Access error: cannot connect: http://static.red-lang.org/red-logo.png reason: timeout
*** Where: read
*** Stack: view if set either layout while switch set ctx224~fetch-options until unless either set switch select type? set ctx224~pre-load if set load switch set read
```

pekr

[09:53](#msg56fba22c8d2a72471b7b5ee8)ah, Wine ....

dockimbel

[09:54](#msg56fba27311ea211749c31724)

[10:04](#msg56fba4cabbffcc665faa7bea)@jocko-jc NSIS is not an option, it's a full-blown installer, which we don't need. Unpacking a bunch of files and running an exe is something we can already achieve quite easily. It doesn't solve the problem of running a `red.exe` from $PATH and handling optional arguments transparently.

[10:06](#msg56fba53711ea211749c317fa)@gour That issue is already addressed in #1742.

gour

[10:10](#msg56fba630aaf8f1a914e67b0d)simplicity rules :-D

fergus4

[13:53](#msg56fbda4a8d2a72471b7b7034)When I try to compile kaj's c-lib binding I get the following error: "module not found: %c-library/ANSI.red" I assume this is pointing to the NEEDS in the header as the #include line has the proper path to ANSI.red. It compiles when I remove the NEEDS in the header. Don't remember having this issue before.

[13:54](#msg56fbda9ed39de41b495ef978)Also, I saw mention of possibly allowing #includes in the interpreter. How possible ...how soon?

iArnold

[13:57](#msg56fbdb3511ea211749c32836)@fergus4 (double) Check from the location of the source where that line is from.

fergus4

[14:02](#msg56fbdc688f5147e119f1c6d1)I have not changed the folder structure kaj used. His examples worked before. Are the needs info in the header actually used by the compiler or it just for dev/user FYI?

iArnold

[14:09](#msg56fbddfcbbffcc665faa8d65)Only the Needs: View is used to include the view module and the Icon: default. The rest is basically source information for the developer.  
My money is still on the compiler being right about not being able to find the module. I had this also a couple of times and compiler was right. Did you move the source of the program to a different location?

RiVeND

[14:29](#msg56fbe2bf8f5147e119f1c987)Hi all. I have finally stopped being a lurker and joined gitter! I briefly dabbled with Rebol about 15 years ago and discovered Red about a year ago. Congratulations to @dockimbel for Red turning 0.6.0! Now a question - how do you set the selected item in a text-list when it is created? I couldn't see any online examples of that.

dockimbel

[14:34](#msg56fbe400a63655f024d3a1c9)@RiVeND Hi, welcome to the light! ;-) You just set the \[selected](https://github.com/red/red/wiki/Red-View-Graphic-System#text-list) property (we call them \*facets\*). Here's an example:

```
view [tl: text-list data ["A" "B" "C"] do [tl/selected: 2]]
```

The selection is set in a `do [...]` placed \*after* the text-list definition, so when it is run, the text-list face is available. Maybe we can improve that in the future to make it even simpler.

[14:37](#msg56fbe4b76ed79412644c2632)@fergus4 Kaj's binding are wrongly using the `Needs`field. Just clean all those up from Kaj's files and it will work fine again. Unfortunately, it seems Kaj didn't have time to upgrade them to the newest release yet.

[14:45](#msg56fbe6710ec170ab6d2b3da3)@fergus4 Alternatively, I could filter out those `Needs` definitions which are using string values instead of blocks. Probably easier.

RiVeND

[15:00](#msg56fbea2a8f5147e119f1cc67)Thanks @dockimbel !

dockimbel

[15:52](#msg56fbf6366d1e75a2079d7efe)@fergus4 I pushed a change to ignore the Needs field when invalid. Just grab the lastest auto-build, and it should compile fine now. ;-)

[16:12](#msg56fbfaf6df3f9a7373c5e984)@fergus4 After a deeper look in Kaj's bindings later changes, he seemed to have properly upgraded them to 0.6.0, so the Needs workaround I made should be enough.

Zamlox

[16:21](#msg56fbfd068d2a72471b7b7dea)@dockimbel let me know when you have a new automatic build including fix for #1746

dockimbel

[16:22](#msg56fbfd3c4d518ead3ebab7a6)@Zamlox It takes about 3 minutes for the new builds to appear after a commit on master. There's a post-commit hook that takes care of activating our build farm. ;-) It's available now.

Zamlox

[16:26](#msg56fbfe25d39de41b495f076b)ok, thanks.

[16:34](#msg56fc0014bbffcc665faa9a97)@dockimbel it works well. Thank you for the fix ;)

dockimbel

[16:35](#msg56fc004fdf3f9a7373c5e9a2)@Zamlox Thanks for reporting it, it was a nasty internal memory corruption. It took us many hours to find the root cause. I'm very glad we nailed that one, and grateful you stepped on it and reported it. ;-)

Zamlox

[16:43](#msg56fc02498d2a72471b7b7fcc)I did a small modification on that script and now I got following messages:

```
*** Script error: face is not in the specified context
*** Where: act
```

Modifications I've done: removed line

```
h-scroll-2: make h-scroll []
```

and replaced

```
h-scroll-face-2:    layout/only h-scroll-2/body scroll-panel/2
```

with

```
h-scroll-face-2:    layout/only h-scroll/body scroll-panel/2
```

[16:45](#msg56fc02c3d39de41b495f090f)The idea is that I wanted to use same instance of 'h-scroll' when calling the 'body' function.

dockimbel

[17:04](#msg56fc071cf17795ad326d036c)@Zamlox Looking at it...

[17:18](#msg56fc0a7b4d518ead3ebab81f)@Zamlox Pushed a new fix.

Zamlox

[17:26](#msg56fc0c55d39de41b495f0c26)tested: messages went away, but now when moving first 'h-scroll' black box, it's not following the normal path (on the red box). The new coordinates are not good.

RenaudG

[17:30](#msg56fc0d29d39de41b495f0c62)Where do you get "new automatic build"s ?

Zamlox

[17:30](#msg56fc0d4b76b6f9de194c93c9)http://www.red-lang.org/p/download.html

RenaudG

[17:32](#msg56fc0dad8f5147e119f1d9c8)Thanks @Zamlox ... my bad. I went there but somehow my eyes were stuck on the big red button on top :worried:

dockimbel

[17:36](#msg56fc0ea1df3f9a7373c5ea22)@Zamlox Ah, I saw the misplaced black box, I thought it was a side-effect of your own changes.

[17:37](#msg56fc0ec66d1e75a2079d7fe2)@Zamlox Do you still have the previous Red binary version?

Zamlox

[17:37](#msg56fc0ed78d2a72471b7b840a)I think no :)

[17:38](#msg56fc0ef8d39de41b495f0cda)I've deleted it and replaced with latest version.

[17:39](#msg56fc0f35bbffcc665faa9fbf)behaviour should be same as with the fix for #1746

[17:41](#msg56fc0fd4e4a8384a1bbd5479)somehow the 'y' coordinate is taken from the second panel which is smaller then first one.

dockimbel

[17:45](#msg56fc10c6f17795ad326d03b3)@Zamlox Something is wrong with the binding of `origin` in `face/offset/y: origin/y`.

[17:52](#msg56fc125ff17795ad326d03be)@Zamlox `face/offset/y: origin/y` =&gt; `face/offset/y: (origin/y)` and it will work fine. ;-) `origin` value gets changed on 2nd call to `body`, so that both `on-drag` actors access the same last value set for it.

[17:53](#msg56fc12a54d518ead3ebab858)@Zamlox Bed time here (2am), please post here or in the bugtracker if you find new issues. Have fun! ;-)

JacobGood1

[17:56](#msg56fc13628f5147e119f1db87)I thought some redites might be interested in seeing this(we need a general discussion room or something): http://blog.dustinkirkland.com/2016/03/ubuntu-on-windows.html

iArnold

[18:04](#msg56fc1519f17795ad326d03d2)@JacobGood1 Indeed, should be a piece of cake for the owner of this room. I tried and ended up with a room iArnold/friends which was completely useless ;-)

Zamlox

[18:07](#msg56fc15f4d39de41b495f0f07)@dockimbel thanks for fixes and suggestion. It works now. I'll keep reporting issues while I play with VID. Good night.

gour

[18:49](#msg56fc1fc14d518ead3ebab8b8)@Skrylar hiya. thank you for red.el mode about which i was told today via email. ;) wondering if it fully replaces need for rebol.el?

## Thursday 31st March, 2016

djrondon

[01:58](#msg56fc843d76b6f9de194cb4f0)Folks.. is there any date/time functions ? as we have in rebol like 'now

dockimbel

[03:55](#msg56fc9fbad087756f7c04203f)First Red 3D attempt, reposting the screenshot here from \[red/code](https://gitter.im/red/red/code):  
https://files.gitter.im/red/red/code/NPse/3dviewer.png

[03:57](#msg56fca0351720648112da39ba)@djrondon Time support is scheduled for \[next release](https://trello.com/c/11bblhBn/133-0-6-1-android-gui-support). Date support is not scheduled yet, it is a significant work, not sure when we'll integrate it.

rebolek

[04:21](#msg56fca5dc54b9c4023d23daec)wow

gour

[07:36](#msg56fcd383d087756f7c0420e8)morning

[07:38](#msg56fcd3fe1a1ccc164832a0f3)@dockimbel i do not know whether you plan "The Red Programming Language" or "Programming in Red" book (probably former), but you can put me on pre-order list and please make hardcover edition. ;)

grahamf21

[08:01](#msg56fcd95611ea211749c36bf5)Hi, I'm trying to work out how to add date/time from Kaj's bindings. I've download the fossil repositories, but which one contains the date/time functions?

rebolek

[08:03](#msg56fcd9bcd087756f7c04211d)@grahamf21 IIRC it is C-library binding.

grahamf21

[08:11](#msg56fcdbaa8d2a72471b7bb46e)@rebolek yes thanks, it's ANSI.reds.

account101

[08:16](#msg56fcdcd476b6f9de194cc58b)Is it possible to create something like \[this](https://github.com/charliesome/rustboot) in Red or R/S atm? It will be a good demo of Red's powers.

jocko-jc

[08:28](#msg56fcdfc5e4a8384a1bbd85cb)how to convert string to url ?

rebolek

[08:29](#msg56fcdfead087756f7c042150)

```
red>> to url! "abc"
== abc
red>> to url! "http://abc"
== http://abc
```

dockimbel

[08:29](#msg56fcdffb11ea211749c36e12)@gour Well, several writers have expressed interest into writing a Red programming book, though not sure what the ETA would be.

jocko-jc

[08:31](#msg56fce051d9b73e635f67e41b)@rebolek thanks!

ghost~5680c5f416b6c7089cc058a5

[08:42](#msg56fce2ecd39de41b495f3fe5)@account101 , i don't think it is possible to do it right now.  
Creating something like that would require the code to be compiled with no runtime , which is supported ( `-r` or `--no-runtime` compiler switch) .  
But i don't think the ability to create custom entry points etc etc required to code an OS are there in the linker yet (or are they? @dockimbel ).

[08:43](#msg56fce33dd9b73e635f67e4f0)Also, Red is a high level language and as such cannot be used to code an OS (or maybe, it can be used (see MirageOS)). For low-level tasks, R/S is the way to go...

dockimbel

[08:43](#msg56fce3418d2a72471b7bb6f2)@account101 We could almost do it right now, we just miss ability to link external .o or .a files to our generated executable. Looking into that code, it's really not impressive at all, as the hard work is done by \[hardcoded](https://github.com/charliesome/rustboot/blob/master/loader.asm) assembly code, which is not even processed by Rust, but by NASM... Rust code is filling a memory buffer with a color value, that's all... So, it's just a matter of having a flexible enough linker to integrate each part together.

[08:45](#msg56fce3bf8f5147e119f20d96)@nc-x We \[support](https://github.com/red/red/blob/master/system/config.r#L21) custom entry points.

RenaudG

[09:07](#msg56fce8b48f5147e119f20f10)Is this expcected?

```
Red []

list: []

;; This part works the same in console or compiled
filler: func [val] [ append list val ]
filler "value one"
print list

;; This part DONT works the same
;; console prints "value one value two" but compiled prints only "value one"
setter: func [proc val] [proc val]
setter :filler "value two"
print list
```

PeterWAWood

[09:19](#msg56fcebb1d39de41b495f42b2)@RenaudG I don't think the compiler is can ascertain that the word proc refers to a function yet. @dockimbel is working on something into background to do that.

[09:21](#msg56fcec088d2a72471b7bb99c)If you change the body of setter to

```
do [proc val]
```

it should work in the compiler.

dockimbel

[09:21](#msg56fcec2b8f5147e119f2100e)@RenaudG Yes, the `[proc val]` cannot be statically analyzed as a function call by the compiler (Red, like Rebol, is not statically analyzable in the general case), so you need to wrap it in a `do [...]`, that's the only option at this point. I am working on a new branch called `dyn-stack` which should provide a general solution to the compiler for this class of code patterns. Though, work on it has been put on hold in order to get the GUI out. I'm not sure when I could resume on it, I hope before 0.7.0.

RenaudG

[09:24](#msg56fcecc411ea211749c371fd)OK @PeterWAWood &amp; @dockimbel the workaround works, and I understand the problem. Thanks.

gour

[09:24](#msg56fcecd754b9c4023d23dc6e)does it mean that at the end Red will be statically typed producing natively compiled app...iirc, e.g. Racket can provide stand-alone application, but it's actually bytecode wrapped along with the runtime. is it same with Red?

dockimbel

[09:26](#msg56fced5e8f5147e119f21077)@gour Red is already producing natively compiled, stand-alone apps. User code is compiled to native code (no bytecode here) and relies on a runtime library (also compiled to native code) which is provided in the executable.

[09:29](#msg56fcee16d39de41b495f436c)For static typing, Red will provide in the future a fine-grained "strict" mode (down to function-level), which will impose you to type arguments and locals (at least the ones which type can't be inferred), giving you in return strict compile-time type checking and faster generated code.

gour

[09:33](#msg56fceecc1a1ccc164832a1a2)@dockimbel hmm, how do you manage to provide true cross-compile apps with such a low overhead? it looks as real magic..simple GUI app in Racket produces (via 'raco exe') 9.2M apps, while red's one (for Windows) is 572K

[09:33](#msg56fceeee54b9c4023d23dc7c)@dockimbel so, Red will become pretty close to type-safe language...that's great

rebolek

[09:35](#msg56fcef55d087756f7c0421af)@dockimbel will the strict mode allow something like `arg [type1! type2!]` or only `arg [type!]` ?

gour

[09:35](#msg56fcef7654b9c4023d23dc80)Racket's ecosystem (tools support, docs etc.) is certainly much more developed, but Red's anticipated features really makes it pale in comparison :-)

dockimbel

[09:47](#msg56fcf216e4a8384a1bbd8b57)@rebolek Most probably it will restrict it to single type declaration. Though, it should support meta-types like any-word!, any-block!, any-string!, number!.

rebolek

[09:54](#msg56fcf3bad087756f7c0421c2)@dockimbel it’s not unusual for me to have function that accepts argument of some type or `none!`, so that’s the case I was thinking of.

dockimbel

[09:58](#msg56fcf4cbe4a8384a1bbd8c3a)@rebolek I am not sure we can support an extra `none!` type. Though, some recent statically compilable languages can deal with such cases (like Scala and Rust at least). I haven't dug into that yet to have a clear idea if we can or cannot support it.

gour

[10:05](#msg56fcf67e1a1ccc164832a1b8)@rebolek your use case of 'type or none!' is something like Maybe monad in haskell?

PeterWAWood

[10:06](#msg56fcf6be8f5147e119f21373)@dockimbel Swift has optional fields which may contain a value or not. Though compared with Red the syntax is quite convoluted.

dockimbel

[10:07](#msg56fcf6f18f5147e119f21384)@PeterWAWood Indeed, as usual, we want to keep things as simple as possible for our users.

gour

[10:17](#msg56fcf93954b9c4023d23dca6)@dockimbel haskell's syntax is quite nice...

dockimbel

[10:20](#msg56fcf9fcd9b73e635f67eb31)@gour Is it "simple", as in "simple enough for a programmer with no CS background to easily make sense of it"? ;-)

gour

[10:24](#msg56fcfaed54b9c4023d23dcb4)@dockimbel heh, that's another story...but syntax is simple, not something like C++'s templating one ;)

dockimbel

[10:25](#msg56fcfb3411ea211749c37686)@gour We have a different standard for "simplicity" in the Red/Rebol world compared to most other languages. ;-) For example, we avoid esoteric symbols and ASCII-art, and rather rely on real words instead to keep code as readable as possible.

rebolek

[10:26](#msg56fcfb681a1ccc164832a1d5)@gour I am no expert on monads so I don’t know ;)

gour

[10:27](#msg56fcfba21720648112da3b59)@dockimbel go for it...i recall people writing decent chess programs in the past within 48K, while today users require quad-core cpus and GBs of memory to write 140chars messages and check facebook status :-(

[10:28](#msg56fcfbb51720648112da3b5b)@rebolek https://en.wikipedia.org/wiki/Option\_type

[10:28](#msg56fcfbe054b9c4023d23dcbc)@gour also does not grok monads...that's why he is here :-D

[10:49](#msg56fd00bb1720648112da3b6e)red-0.60.exe works via wine, but having native (gtk) version (with 64bit support) is going to be cool

nodrygo

[10:59](#msg56fd02f976b6f9de194cd0c4)@gour I agree but unfortunately it will probably take a long so we have to wait ;-) Even wine is not perfect so presently I use XP on VirtualBox and this is not really fun .

gour

[11:01](#msg56fd038a54b9c4023d23dce7)@nodrygo isn't gtk port scheduled for 0.70?

ghost~5680c5f416b6c7089cc058a5

[11:02](#msg56fd03d7d39de41b495f49a3)@dockimbel

[11:03](#msg56fd03f0d39de41b495f49aa)&gt; @nc-x We support custom entry points.

[11:03](#msg56fd03f511ea211749c378ef)Cool

[11:03](#msg56fd03ff8f5147e119f21738)Didn't know about that...

[11:03](#msg56fd0417bbffcc665faadb32)But how to use it (lol!)

[11:04](#msg56fd043e8d2a72471b7bc06c)Do we edit the config.r file and then compile using `rc`?

[11:05](#msg56fd0465d39de41b495f49c2)(`rc` or whatever it is, don't remember the name right now)

[11:06](#msg56fd04b811ea211749c37930)If that is the only way right now, then i would prefer a way to create per-project linker-options when Modules support comes in...

[11:07](#msg56fd04f7e4a8384a1bbd90c0)\*per-project linker-options-configuration either through the header or whatever way the package manager supports it...

nodrygo

[11:07](#msg56fd0505d9b73e635f67ee24)@gour except for 64 bits ;-)

ghost~5680c5f416b6c7089cc058a5

[11:09](#msg56fd056a8d2a72471b7bc0e4)@rebolek \[ :arrow\_double\_up:] (https://gitter.im/red/red?at=56fcef55d087756f7c0421af)

[11:09](#msg56fd057ae4a8384a1bbd90f4)Damn... Wrong markdown

rebolek

[11:09](#msg56fd057dd087756f7c042217)@nodrygo I use W7 and XP on VirtualBox and do everything in shared folder, so I code on main OS and use Win just for running stuff. I got used to it, it's not that bad.

ghost~5680c5f416b6c7089cc058a5

[11:10](#msg56fd0598e4a8384a1bbd90fc)@rebolek doesn't compile even now

[11:10](#msg56fd059be4a8384a1bbd90ff)See

[11:10](#msg56fd05a68d2a72471b7bc0f5)https://gitter.im/red/red/code?at=56fc99cbbbffcc665faac386

rebolek

[11:11](#msg56fd05e9d087756f7c04221b)@nc-x It can't, there's error. It's not `[[logic!] [string!]]` but `[logic! string!]`

gour

[11:12](#msg56fd060e1a1ccc164832a202)@nodrygo i can lie with that since i anyway need 32bit libs for wine for some legacy apps...otoh, i plan to start learning rebol/red and try to use it for some small utility apps, otherwise there is no possibility to contribute to the Red project. then i can work on my planned project hoping there will be gui support available, Modules etc.

ghost~5680c5f416b6c7089cc058a5

[11:13](#msg56fd066576b6f9de194cd1ba)@rebolek but it works interpreted :smile:

rebolek

[11:14](#msg56fd068a1a1ccc164832a208)@nc-x Then I'm not sure if it's bug or a feature of the interpreter ;-)

ghost~5680c5f416b6c7089cc058a5

[11:15](#msg56fd06be8d2a72471b7bc14b)Ping @dockimbel ^^^

dockimbel

[11:22](#msg56fd08658f5147e119f21878)@nc-x You can copy the %config.r file, rename it %custom-targets.r and put it in the same folder as Red binary. Then you can edit it and change the settings for any existing target or create new ones. Target from that files take precedence over built-in ones. ;-)

[11:23](#msg56fd089e76b6f9de194cd246)@gour Learning Red/Rebol is a first good step towards contributing to the Red codebase. ;-)

ghost~5680c5f416b6c7089cc058a5

[11:25](#msg56fd091a8f5147e119f218b3)@dockimbel can we place %custom-targets.r in the directory where the source code is placed instead of the red binary directory, so that custom targets work only for a particualr project?

[11:25](#msg56fd093476b6f9de194cd27b)And for other projects the default targets get used

[11:25](#msg56fd093abbffcc665faadca5)????

[11:27](#msg56fd0989d9b73e635f67ef69)(B) read above from https://gitter.im/red/red?at=56fd06be8d2a72471b7bc14b and reply please

dockimbel

[11:31](#msg56fd0a9dbbffcc665faadd1b)@nc-x Same folder as red binary for now. It is not meant to be a per-project setting.

[11:33](#msg56fd0b1076b6f9de194cd302)@nc-x Typing local words is not a supported feature yet. Though the interpreter just skips those declarations, while the compiler seems to choke on them. A ticket for making the compiler happier about it is welcome. ;-)

ghost~5680c5f416b6c7089cc058a5

[11:34](#msg56fd0b3c8d2a72471b7bc267)Okay... Thanks :smile:

[11:35](#msg56fd0b918f5147e119f21977)I was asking for it to be per-project because I wouldn't like all my code to be compiled with a custom entry point such that it never executes :wink:

dockimbel

[11:36](#msg56fd0bc276b6f9de194cd32e)@nc-x You can create as many targets as you wish, then just select them on command-line using the `-t` option.

ghost~5680c5f416b6c7089cc058a5

[11:37](#msg56fd0be076b6f9de194cd334)Oh....

[11:38](#msg56fd0c1ad9b73e635f67f020)I got a bit confused :smile: .... Looks like I had an internal memory corruption issue but I am now fixed. :wink2:

dockimbel

[11:38](#msg56fd0c1fbbffcc665faadd93)@nc-x See the \[README](https://github.com/red/red) about compiling options.

ghost~5680c5f416b6c7089cc058a5

[11:39](#msg56fd0c7776b6f9de194cd357)Now, the only thing required is @fort-ascension 's new linker to create a tiny demo OS... Just hoping that it comes before June, because I think I will have time then to play with Red.

dockimbel

[11:39](#msg56fd0c7ad9b73e635f67f037)Well, I'm not surprised, our toolchain and associated jargon is a bit uncommon. ;-) For example, we don't have "makefiles", we plan rather to provide a "build" dialect you could specifiy in the main script file header.

[11:40](#msg56fd0cafd9b73e635f67f042)@nc-x I think it will come earlier. We also want to have static linking of 3rd-party libraries support asap, so most probably before summer.

ghost~5680c5f416b6c7089cc058a5

[11:40](#msg56fd0cc7bbffcc665faaddc9)Anything's better than a makefile (atleast on windows)

[11:41](#msg56fd0d00e4a8384a1bbd92f5)Oh cool... Summer is coming soon... xD

dockimbel

[11:42](#msg56fd0d36bbffcc665faaddeb)@dockimbel checking the calendar...(--)'

lispberry

[11:43](#msg56fd0d51d9b73e635f67f078)Excuse me.  
How can I do something like this !\[alt](https://a.fsdn.com/con/app/proj/fltr/screenshots/screenshot-hovering.png) using Red?

[11:43](#msg56fd0d7011ea211749c37ba7)It'd be very useful:).

RenaudG

[11:50](#msg56fd0f1ed39de41b495f4cdb)Playing with some poor man "generator" thing implementation to learn Red. Would be cool to have something like this, properly implemented (with secure bindings) in "base" Red! Of course for now it works on interpreter only. Wadyathink?  
https://gist.github.com/RenaudG/af8931b8353454f3a9c4277e73b83c6a

[12:34](#msg56fd193ad9b73e635f67f46b)Still \[learning](https://gist.github.com/RenaudG/dda8bc6c62ab151e6c7a2653b55a8b91), mostly PARSE this time. Any comment to help make the code quicker or more idiomatic is is deeply appreciated.

account101

[12:52](#msg56fd1d8bbbffcc665faae395)@dockimbel (:up: )\[https://gitter.im/red/red?at=56fce3418d2a72471b7bb6f2]

[12:52](#msg56fd1daad39de41b495f51d3)You mean, we can write it in Red without assembly?

RenaudG

[12:55](#msg56fd1e388d2a72471b7bc8b6)With my last sample, i tried to SAVE/LOAD the data map!s ... SAVE is quick but LOAD is \*\*very\** sloooooooow. Much much slower than reparsing all the datas.

pekr

[14:00](#msg56fd2d8cbbffcc665faae97d)I get strange behaviour. I open two gui-consoles. To first one, I paste short code, to display some GUI. Then I switch to the other one, and the pasting does not work ... I then close the GUI windows, and I can paste to the second console ....

nodrygo

[14:56](#msg56fd3a908f5147e119f22b5e)just for fun  
\[Run Bash on Ubuntu on Windows](https://blogs.windows.com/buildingapps/2016/03/30/run-bash-on-ubuntu-on-windows/)

JacobGood1

[15:00](#msg56fd3b758d2a72471b7bd434)@nodrygo yea, I linked that the other day... good stuff imo

dockimbel

[15:04](#msg56fd3c73d087756f7c0423e4)@LispBerry Not sure what are the features you are precisely asking for.  
1\) For text coloring in a `area` widget, we have no direct support for that. Write a set of Draw commands to put an overlay semi-transparent box might work, but that's a lot of calculation to match each word. Alternatively, one could implement a custom area widget, where you can place each words yourself, providing a background box (nice visual result). Though, still quite some work. Anyway, we will support some form of rich-text widget in the future, where such feature could be implemented more easily.  
2\) I guess you are asking for a translation of the word, you need to interface with an online service for that, like Google Translate, which should be fully doable with the current Red features.

[15:20](#msg56fd40451720648112da3d65)@RenaudG Very cool! I do plan for generators support in Red, but not yet sure which form they would take. So far, my plan is to have a `yield` word allowing to exit/resume a function evaluation. But I gave it only little thoughs so far, too many other tasks for now. ;-)

RenaudG

[15:25](#msg56fd416cd39de41b495f60b2)Thaks @dockimbel . `yield` would be great! But I had to hack something without it... and Red is up to the task :)

dockimbel

[15:26](#msg56fd418954b9c4023d23df29)Yeah, it's cool we can do it already. ;-)

gour

[15:27](#msg56fd41e3d087756f7c042423)it looks as that most of the activity happens here, iow. it's more active place than mailing list (btw, i prefer having gmane-available lists)

RenaudG

[15:27](#msg56fd41e4d9b73e635f680430)I like to read (and have it work!) `giveme 10 fibo` then `10 more fibo please`. Hmmm... no... actualy 'please is not necessary.

gour

[15:28](#msg56fd420e1720648112da3d7a)@RenaudG what about 'fibo 50' ?

dockimbel

[15:29](#msg56fd426fd087756f7c042429)@account101 \[Partially](http://static.red-lang.org/red-system-specs-light.html#section-13.8) yes. We plan to support more low-level features like that, so you could \*in theory* write your kernel boot from the comfort of Red/System, though, writing such code might still require to support a full assembler anyway.

RenaudG

[15:30](#msg56fd428dbbffcc665faaf29b)@gour Try it !

```
red>> print giveme 50 fibo
1 2 3 5 8 13 21 34 55 89 144 233 377 610 987 1597 2584 4181 6765 10946 17711 28657 46368 75025 121393 196418 317811 514229
832040 1346269 2178309 3524578 5702887 9227465 14930352 24157817 39088169 63245986 102334155 165580141 267914296
433494437 701408733 1134903170 1836311903 -1323752223 512559680 -811192543 -298632863 -1109825406
```

(it works modulo integer overflow)

gour

[15:31](#msg56fd42c81a1ccc164832a41d)@RenaudG ahh, i was trying factorial example today and getting 0 :-)

dockimbel

[15:33](#msg56fd4366d087756f7c042433)@gour The ML is good for Q/A (though Stackoverflow is even better), and deeper/longer discussions.

gour

[15:34](#msg56fd438bd087756f7c042437)@dockimbel have you thought about subscribing it to Gmane?

dockimbel

[15:34](#msg56fd43a354b9c4023d23df3f)@RenaudG Given how quickly AI is progressing now, `please` might not be useless soon. ;-)

[15:36](#msg56fd43f31a1ccc164832a428)@gour I haven't, but please be my guest and subscribe it there. ;-)

gour

[15:37](#msg56fd443454b9c4023d23df45)@dockimbel ok. i'll do it, but before that consult you in regard to proposed group name

[15:37](#msg56fd444654b9c4023d23df48)@gour is expecting some guests now...

dockimbel

[15:37](#msg56fd4451d087756f7c042445)@RenaudG Did you solve your LOAD speed issue? There might be something we can do about it otherwise (LOAD is written in Red mostly, using Parse, so maybe some optimizations we can do for huge inputs).

[15:38](#msg56fd44811720648112da3d92)@gour Sure.

RenaudG

[15:39](#msg56fd449d8f5147e119f22fc0)@dockimbel ROTFL for IA please! And no, didn't dug further but load seems to be slow.

dockimbel

[15:41](#msg56fd451e54b9c4023d23df58)I suspect some under-optimized blocks pre-allocations slowing it down, I will give it a try with your code.

RenaudG

[15:42](#msg56fd456511ea211749c39116)The save is not in the code, but i simply do `save %usda.db reduce [groups foods nutrients contents]`

dockimbel

[15:44](#msg56fd45da54b9c4023d23df60)@RenaudG Which file contains the right data on this \[page](http://www.ars.usda.gov/Services/docs.htm?docid=25700)?

RenaudG

[15:45](#msg56fd460b76b6f9de194cea3c)ASCII 6Mb

[15:46](#msg56fd466ed39de41b495f6299)parsing is a matter of seconds, LOADing takes minutes

dockimbel

[15:47](#msg56fd467b54b9c4023d23df64)Wow...it shouldn't...

RenaudG

[15:48](#msg56fd46c8bbffcc665faaf41b)my %usda.db is nearly 15Mb, but clearly it should not load so slowly. Maybe i'm not doing the right thing.

[15:50](#msg56fd47498d2a72471b7bd8ee)A function to time the execution of blocs could be cool to have, as well as the ability to call/exec external programs

[15:54](#msg56fd481a8f5147e119f230f0)But i understand how busy you must be ;)  
I waited a long time before 0.6 and a Red usable enough for me. You did something really fantastic, and i can see the magnitude of the task. But now it's very frustrating to not "have it all"... the wait is killing me :worried:

dockimbel

[16:04](#msg56fd4a88d087756f7c04248f)CALL is \[available](https://github.com/red/red/tree/master/system/library/call) as a library you can#include (though, it doesn't yet support Unicode on Windows).

[16:05](#msg56fd4ad854b9c4023d23df87)Timing should come in the next release, along with time! datatype and timers support (though limited to GUI until 0.7.0).

[16:06](#msg56fd4af454b9c4023d23df8a)I can understand your frustration, though, we're \*almost* there. ;)

RenaudG

[16:09](#msg56fd4ba176b6f9de194cec58)Wow i missed the CALL! Nice. Never used #include, that will be a first.

dockimbel

[16:14](#msg56fd4ce11a1ccc164832a475)`#include` requires compilation, it's not (yet) processed by the interpreter.

RenaudG

[16:16](#msg56fd4d57bbffcc665faaf6e1)Yet, that's what i understood. It's a realy useful thing to have as an escape hatch for some things Red can not allready do.

[16:21](#msg56fd4e8c11ea211749c394c5)First Red script using CALL compiled running. Red \*c'est deuuu la bââaaalle !*

[16:24](#msg56fd4f3d8d2a72471b7bdbdc)Now i'm ready to have nice headaches with my code that refuse to compile and CALL that can't run without compilation.

dockimbel

[16:28](#msg56fd50291720648112da3df9)@RenaudG Solving apparently impossible problems is where we get our fun as programmers, haha. ;-)

RenaudG

[16:28](#msg56fd503a76b6f9de194cede5)Very true!

[16:30](#msg56fd508a76b6f9de194cee04)BTW, do you allso have very long LOAD time with my dataset?

dockimbel

[16:33](#msg56fd514dd087756f7c0424d3)@RenaudG About 4 times longer than generating it. Though, the output of LOAD is not correct:

```
red>> load %usda.db
== {[#(^/    "0100" "Dairy and Egg Products"^/    "02
```

It should return a block, not a string.

[16:34](#msg56fd51931a1ccc164832a4a3)(using interpreter only)

RenaudG

[16:34](#msg56fd5197d9b73e635f680a5f)good catch ;)

dockimbel

[16:38](#msg56fd527ad087756f7c0424ea)Also, I get a strange error when applying LOAD on that string. Will debug that tomorrow, sleep time here (Beijing TZ). ;-)

RenaudG

[16:39](#msg56fd52a676b6f9de194ceec3)Good night then. Thanks for everything.

dockimbel

[16:40](#msg56fd52fe54b9c4023d23dfe1)@RenaudG My pleasure. BTW, we also have a \[French group](https://gitter.im/red/red/France) here. ;-)

RenaudG

[16:42](#msg56fd5362d9b73e635f680b0c)I'll look at the french group.  
When i load, it takes ~15 times more than the initial parsing. And this is what i get :

```
red>> set [groups foods nutrients contents] load %usda.db
== [#(
    "0100" "Dairy and Egg Products"
    "0200" "Spices and ...
red>> groups
== #(
    "0100" "Dairy and Egg Products"
    "0200" "Spices and H...
red>> foods
== #(
    "01001" ["0100" "Butter, salted"]
    "01002" ["0100" "B...
red>> contents
== #(
    "01001" #(
        "203" "0.85"
        "204" "81.11"
  ...
```

SteeveGit

[17:34](#msg56fd5f9ae4a8384a1bbdb1f4)could it be slow because of all that map! constructions ?

RenaudG

[17:37](#msg56fd6042d9b73e635f680f96)For sure there is lot of work to build those map!s, but it shouldn't be that slow compared to the time for \[parsing/building the dataset](https://gist.github.com/RenaudG/dda8bc6c62ab151e6c7a2653b55a8b91).

SteeveGit

[17:43](#msg56fd61b8d39de41b495f6c54)Since your builder is essentially filling the maps your way, I suppose the \*\*load\** function is doing the same but in a worst way.

RenaudG

[17:44](#msg56fd6203e4a8384a1bbdb2ba)yep.

SteeveGit

[17:47](#msg56fd62a711ea211749c39b43)I would guess it's something related to map resizing. Perhaps too much memory reallocations. Did you notice abnormal memory growth when using \*\*load\** ?

RenaudG

[17:50](#msg56fd63708d2a72471b7be31d)Not really. The parsing script allready eats ~500Mb

[17:52](#msg56fd63c376b6f9de194cf4b7)I just launched the load, to see if it eats more RAM

SteeveGit

[17:55](#msg56fd648e8f5147e119f23b7e)Wow! one needs a GC in Red asap.

RenaudG

[17:56](#msg56fd64b5bbffcc665faafebe)RAM consumption up by ~0.8 Mb/s About half way now (half expected memory consumption)

[17:58](#msg56fd652e8d2a72471b7be3af)No, memory consumption is less. The parsing script eats ~30Mb/s (and more memory overall)

[18:01](#msg56fd65df8f5147e119f23bed)Et sinon, il fait beau à St-Affrique ?

planetsizecpu

[18:01](#msg56fd660b8d2a72471b7be3f5)@dockimbel congrats! It looks well, made my first compilation also well. I noticed red console window on background, could be hidden?

SteeveGit

[18:02](#msg56fd6621e4a8384a1bbdb414)pas encore le top. Tu connais?

RenaudG

[18:03](#msg56fd6662e4a8384a1bbdb425)j'y suis passé il y a longtemps.

Phryxe

[19:17](#msg56fd77d9e4a8384a1bbdba9e)@planetsizecpu Try to compile with -t Windows.

gour

[20:30](#msg56fd88df54b9c4023d23e1dd)is docs for R3 relevant for Red/Rebol2?

iArnold

[20:48](#msg56fd8d3154b9c4023d23e1f8)Are there more people that like to have the time displayed after finished compilation? I often need to move my exe to another folder. If I forget it I can then easily check if I use last compiled version from the time displayed in the Rebol console. That is why I made #1757

gour

[21:13](#msg56fd92e01720648112da4025)found the answer...

## Friday 1st April, 2016

RnBrgn

[01:13](#msg56fdcb37d478c81e2cbc05ac)

[01:18](#msg56fdcc5311ea211749c3b9b7)unable to "print read " saved %mydata after "print load" error \`red&gt;&gt; print read %mydata ; printed fine  
'bob' 'dave' 'john'

red&gt;&gt; probe read %mydata  
"'bob' 'dave' 'john'^/"  
\== "'bob' 'dave' 'john'^/"  
red&gt;&gt; probe read %mydata  
"'bob' 'dave' 'john'^/"  
\== "'bob' 'dave' 'john'^/"  
red&gt;&gt; probe load %mydata  
\['bob' 'dave' 'john']  
\== \['bob' 'dave' 'john']  
red&gt;&gt; print load %mydaya ; get an error here, I assume you can use load with print  
\*\** Access error: cannot open: %mydaya  
\*\** Where: read  
red&gt;&gt; print read %mydaya ; unable to print read after error above. I could earlier  
\*\** Access error: cannot open: %mydaya  
\*\** Where: read  
red&gt;&gt;  
red&gt;&gt; print read %mydaya  
\*\** Access error: cannot open: %mydaya  
\*\** Where: read  
red&gt;&gt; probe load %mydata  
\['bob' 'dave' 'john']  
\== \['bob' 'dave' 'john']  
red&gt;&gt;

tanstaaf1

[01:57](#msg56fdd59ae4a8384a1bbdd267)@dockimbel If I recall correctly, you once said that red effectively inserts lisp like parens (which are optional) before interpreting code. I may be misinterpreting what you meant way-back-when, but I would love to see a word which would show red code in that form to help in debugging/learning. Any chance?

ghost~5680c5f416b6c7089cc058a5

[03:05](#msg56fde58fd478c81e2cbc0993)@dockimbel @qtxie Since the current simple IO is temporary, should I create more issues on GitHub about them? Because -&gt;

```
red>> print read %"test ing.txt"
it worked...
```

```
red>> print read %{test ing.txt}
*** Access error: cannot open: %""
*** Where: read
```

[03:07](#msg56fde60de4a8384a1bbdd4ca)and

```
red>> write %"dd dd.txt" "hello"
```

```
red>> write %{dd dd.txt} "hello"
*** Access error: cannot open: %""
*** Where: write
```

-\_-  
Well, looks like it is unrelated to IO.

```
red>> %{test ing.txt}
== "test ing.txt"
red>> a: %{test ing.txt}
== "test ing.txt"
red>> print read a
*** Access error: cannot open: %""
*** Where: read
red>> a
== %""
red>> print a

red>>
```

Should I create an issue on Github?

PeterWAWood

[03:08](#msg56fde6118d2a72471b7c04f3)@RnBrgn Did you mean

```
print load %mydata
```

?

dockimbel

[03:18](#msg56fde88d1720648112da4156)@nc-x Yes, you can open a ticket, as it is a lexer issue (an error should be reported for `%{...}` as it's an invalid format).

ghost~5680c5f416b6c7089cc058a5

[03:19](#msg56fde8ded39de41b495f8eae)Ok... @dockimbel  
But shouldn't `%{...}` be also allowed (?) in addition to `%"..."` as -

```
red>> type? ""
== string!
red>> type? {}
== string!
```

[03:20](#msg56fde8f2d478c81e2cbc0a2d)So it makes sense for it...

dockimbel

[03:22](#msg56fde98954b9c4023d23e362)@nc-x No, `{}` denotes a multi-line string, if we allowed it then the following form would be valid too (and we certainly don't want that):

```
%{hello
world
...lof of lines there...
}
```

ghost~5680c5f416b6c7089cc058a5

[03:23](#msg56fde9a311ea211749c3be1d)Okay

[03:23](#msg56fde9b4d9b73e635f68326c)Opened issue - https://github.com/red/red/issues/1768

dockimbel

[03:24](#msg56fde9e11a1ccc164832a844)@nc-x Thanks.

ghost~5680c5f416b6c7089cc058a5

[04:03](#msg56fdf3228d2a72471b7c06f1)@dockimbel  
(A) I thought `prin` was only in Red and not in R/S =&gt;  
`a.reds`

```
Red/System []

prin "1.0"
```

`red -c a.reds` and running the resulting executable gives `1.0`

[04:04](#msg56fdf354e4a8384a1bbdd707)But unlike Red why does R/S `prin` take only `c-string!` as argument ?

[04:15](#msg56fdf5ed11ea211749c3c016)(B) Compiling an empty (or non-empty) R/S file (file contains appropriate header.) with `-r` (no-runtime) on windows compiles the executable but running it gives -  
`Access is denied.` in the command prompt.

[04:15](#msg56fdf5f1d9b73e635f68342d)and it also gives

[04:16](#msg56fdf60376b6f9de194d199a)\[!\[Untitled.png](https://files.gitter.im/red/red/H0br/thumb/Untitled.png)](https://files.gitter.im/red/red/H0br/Untitled.png)

[04:16](#msg56fdf619d39de41b495f90b3)Is it a bug or am I doing something wrong?

qtxie

[04:25](#msg56fdf856e4a8384a1bbdd7c8)@nc-x (A) `prin` is defined as low-level output function in R/S, we also have `prin-int`, `prin-float` and `prin-hex`. The `print` function in R/S will call the corresponding function according to argument's datatype. So maybe we would rename `prin` to `prin-str`.

ghost~5680c5f416b6c7089cc058a5

[04:26](#msg56fdf86b11ea211749c3c06e)@dockimbel  
(C) Creating a file named `--asd.red` with the following content

```
Red []
print 1
```

And then from the Command Prompt -  
`red --cli --asd.red` gives output `1`, i.e. the CLI console interprets `--asd.red` as a file name, instead of an argument.  
But `red --asd.red` produces no output in the GUI Console.

Either the CLI console should interpret `--asd.red` as an argument and show error `Invalid Argument` even if a file of such a name exists.  
Or The GUI console should also give the desired output, i.e `1`.

[04:26](#msg56fdf876d9b73e635f683483)Preferably the first one, i.e error out.

[04:27](#msg56fdf895d9b73e635f68348a)because i have not seen anyone using such a bad naming convention so as to name a file starting with `--` :wink:

[04:27](#msg56fdf8b3d478c81e2cbc0cb8)@qtxie Thanks... I agree `prin` should be renamed to `prin-str`.

[04:29](#msg56fdf931d9b73e635f6834a8)@qtxie Should I create an Issue on github `Wish: Rename prin to prin-str in R/S` or is it not required? :smile:

qtxie

[04:30](#msg56fdf96c76b6f9de194d1a1e)(B) I think if you compling an empty R/S file with `-r` flag, the final executable will contains no code, so if an executable contains no code, how can we execute it? ;-)

ghost~5680c5f416b6c7089cc058a5

[04:34](#msg56fdfa45d9b73e635f6834e2)@qtxie :smile:

```
Red/System []

"AASDAS" ; @qtxie is this also considered empty? It has no executable code but it has a string... Yay!!!
```

`red -r -c a.reds` and running the resulting executable crashes with

[04:34](#msg56fdfa5776b6f9de194d1a36)\[!\[Untitled.png](https://files.gitter.im/red/red/9rdk/thumb/Untitled.png)](https://files.gitter.im/red/red/9rdk/Untitled.png)

[04:34](#msg56fdfa62e4a8384a1bbdd815)This is also expected behaviour, right?

[04:36](#msg56fdfab7d478c81e2cbc0cf8)Then, I can't think of any uses of `-r` flag for me at the moment. Unable to think what can I do without runtime except create an OS (which is blocked on the new linker) :wink:

qtxie

[04:39](#msg56fdfb928d2a72471b7c0827)I don't know. As this functions is only used internally...

dockimbel

[04:42](#msg56fdfc3e1720648112da419f)@nc-x `Wish: Rename prin to prin-str in R/S`No need, we plan to rename printing functions in R/S anyway.

ghost~5680c5f416b6c7089cc058a5

[04:42](#msg56fdfc50d39de41b495f919b)Okay.

dockimbel

[04:43](#msg56fdfc741720648112da41a1)@nc-x `-r`with empty R/S program used to work fine, so it's a regression.

ghost~5680c5f416b6c7089cc058a5

[04:44](#msg56fdfc93e4a8384a1bbdd859)Should I open an Issue for it?

[04:44](#msg56fdfcc4d39de41b495f91a8)

dockimbel

[04:45](#msg56fdfccf54b9c4023d23e39e)@nc-x Yes, you can, though, it will be very low-priority as the need for it is very low.

ghost~5680c5f416b6c7089cc058a5

[04:45](#msg56fdfcdad9b73e635f68352f)@dockimbel Agreed.

[04:45](#msg56fdfce5d9b73e635f683532)BTW this is what I meant by (C) -&gt;

[04:49](#msg56fdfdf6e4a8384a1bbdd890)Well, the GIF not getting uploaded on gitter. let me try elsewhere

[04:53](#msg56fdfebdbbffcc665fab2317)@dockimbel http://i.imgur.com/TGcg0G8.gifv

dockimbel

[04:58](#msg56fdffedd087756f7c042911)@nc-x Thanks for the video report. :+1:

ghost~5680c5f416b6c7089cc058a5

[04:59](#msg56fe0025d39de41b495f9207)Should I create an issue on github will this be enough?

dockimbel

[04:59](#msg56fe0048d087756f7c042915)You should copy/paste your posts above about (C) along with the video.

ghost~5680c5f416b6c7089cc058a5

[05:00](#msg56fe006a8d2a72471b7c08ae)Also `custom-targets.r` placed in the same directory as `red.exe` with a new target named `Custom` in the file and then `red -t Custom -c test.reds` gives `Unknown target: Custom`

[05:01](#msg56fe00a5e4a8384a1bbdd8de)@dockimbel Suggest the title for that (C) Issue please. I can't think of any. :smile:

dockimbel

[05:02](#msg56fe00e21720648112da41ba)"Script filenames starting with `--` wrongly processed on command-line"?

ghost~5680c5f416b6c7089cc058a5

[05:03](#msg56fe011bbbffcc665fab2367)Done

[05:03](#msg56fe0120d9b73e635f6835a5)https://github.com/red/red/issues/1773

[05:04](#msg56fe0149d39de41b495f922c)Now what about this -  
&gt; Also `custom-targets.r` placed in the same directory as `red.exe` with a new target named `Custom` in the file and then `red -t Custom -c test.reds` gives `Unknown target: Custom`

Do I need to use the sources or the Red executable?

dockimbel

[05:06](#msg56fe01be1720648112da41c5)@nc-x Let me check...Hmm, currently the compiler searches in the R/S folder for it:  
`if exists? %system/custom-targets.r [`  
It should search in both current and %system/ sub-folder (when run from sources). I will improve that.

ghost~5680c5f416b6c7089cc058a5

[05:08](#msg56fe025ebbffcc665fab239a)creating a folder named `system` in the Red.exe directory and placing the `custom-targets.r` file within it worked with `red -t Custom -c test.reds`. Thanks :clap:

iArnold

[05:37](#msg56fe092b1720648112da41de)&gt; @nc-x (A) `prin` is defined as low-level output function in R/S, we also have `prin-int`, `prin-float` and `prin-hex`. The `print` function in R/S will call the corresponding function according to argument's datatype. So maybe we would rename `prin` to `prin-str`.

In that case it could become print-int thru print-str with aliases or just print-integer and print-string (because you do not print-flt too)

ghost~5680c5f416b6c7089cc058a5

[05:48](#msg56fe0b9311ea211749c3c2c8)&gt; &gt; @nc-x (A) `prin` is defined as low-level output function in R/S, we also have `prin-int`, `prin-float` and `prin-hex`. The `print` function in R/S will call the corresponding function according to argument's datatype. So maybe we would rename `prin` to `prin-str`.

&gt;In that case it could become print-int thru print-str with aliases or just print-integer and print-string (because you do not print-flt too)

Won't implementing function overloading be better? :wink:  
Though then, neither we nor the compiler would know whether the function has been redefined or overloaded... :D

dockimbel

[06:20](#msg56fe1332d087756f7c042965)@nc-x No need for overloading in R/S for now (reminder: the toolchain code in Rebol2 will be trashed after 1.0, the self-hosted Red toolchain will have a different architecture), R/S supports \[a form of RTTI](http://static.red-lang.org/red-system-specs-light.html#section-6.3.5) which is good enough for our needs.

ghost~5680c5f416b6c7089cc058a5

[07:18](#msg56fe20b111ea211749c3c644)What's the difference between -&gt;  
`view/flags [button "A"] [no-border]`  
&amp;  
`view/flags [button "A"] [no-title]`  
?  
Both are producing the same output for me.

pekr

[07:47](#msg56fe2797d39de41b495f9881)If there is no border, you can't see a title either :-)

[07:48](#msg56fe27c211ea211749c3c7d3)Hmm, no-title should not remove border. It is a bug imo ....

ghost~5680c5f416b6c7089cc058a5

[07:48](#msg56fe27d311ea211749c3c7db)

pekr

[07:48](#msg56fe27d776b6f9de194d216d)Wait - or not. Sorry for confusion.

ghost~5680c5f416b6c7089cc058a5

[07:48](#msg56fe27ddd9b73e635f683b98)Lol

pekr

[07:48](#msg56fe27e0e4a8384a1bbddf81)The difference is one thin line

[07:49](#msg56fe27f411ea211749c3c7de)no-title = no title bar, no border = no border (thin, 1px black line here)

ghost~5680c5f416b6c7089cc058a5

[07:49](#msg56fe281dd478c81e2cbc14a2)Yeah right.... I couldn't see it till now because the console(CMDER) background was kinda black...

[07:49](#msg56fe28228d2a72471b7c0f7e):smile:

[07:53](#msg56fe28ded39de41b495f98d9)Okay, so now  
(A) what's the difference between `system/options/args` and `system/script/args` ?  
`test.red`

```
Red []

probe system/options/args
probe system/script/args
```

`red -c test.red` and then -  
`test.exe a b c d e` gives

```
"a b c d e"
none
```

[07:53](#msg56fe28e8d9b73e635f683bd6)(B) When interpreted -

[07:53](#msg56fe28f211ea211749c3c808)`red test.red a b c d e`

[07:53](#msg56fe28f4d478c81e2cbc14cf)gives

[07:53](#msg56fe28fed9b73e635f683bdc)

```
"test.red"
none
```

[07:53](#msg56fe290f8d2a72471b7c0fb4)i.e. the filename, and none, why not the arguments?

gour

[08:04](#msg56fe2ba7d087756f7c042993)@dockimbel i'm filling out subscription form for Gmane...I left option 'posting allowed' which is default 'cause that's major option allowing people to easily subscribe by replying to Gmane's auth message and unsubscribe by just rm-ing it from their nntp reader. However, I see that the mailing list requires one to 'apply top join', so not sure how it would work with Gmane. I've chosen 'gmane.comp.lang.red' as group's name. Is it ok with you?

meijeru

[08:11](#msg56fe2d41d478c81e2cbc15bd)@dockimbel You asked for %easy-VID.red, but that was not me who made it. I made Red-GUI-tour, see \[here](https://gist.github.com/meijeru/9eb64426290b620abfb4)

PeterWAWood

[08:22](#msg56fe2fadd39de41b495f9a93)@gour We already have a \[mailing list which has a forum interface](https://groups.google.com/forum/#!forum/red-lang) which is relatively easy to subscribe too. Given the recorded problems of other mailing lists \*such as JQuery", we felt this provides a good balance of openness and moderation for Red.

gour

[08:24](#msg56fe30481720648112da424d)@PeterWAWood well, I and many other people prefer using nntp, so Gmane provides interface between mailing list and nntp. Actually, I do follow several maling list and \*\*all\** of them are subscribed to Gmane which means one get automatic arhive, no need create special sorting rules to avoid cluttering my INBOX etc.

[08:25](#msg56fe30731720648112da4250)And If you prefer Googlegroups' UI nothing stops you to continue using it

dockimbel

[09:21](#msg56fe3d9ebbffcc665fab2ff9)'gmane.comp.lang.red' is fine. We do like our ML to be moderated and spam-free, so we manually check for newcomers before allowing them.

gour

[09:34](#msg56fe40bb54b9c4023d23e489)@dockimbel well, gmane does not produce spam, iirc, they use TMDA mechanism, iow. one has to reply to their authorization message before being allow to post to the group, so i'm not sure how it will work with ML moderation, but i can subscribe and see how it goes. the point of gmane-subscription is that one does \*\*not\** have through mailing-lists' subsription mechanism since it's authorized via Gmane itself, but i can submit subscription request and see how it goes. what do you think?

dockimbel

[09:35](#msg56fe40f6d9b73e635f684293)@gour So Gmane acts just as a front-end or replacement to our ML backend?

gour

[09:38](#msg56fe419d1720648112da428d)@dockimbel in usual scenario, Gmane is "bidirectiona gateway" to the mailing list which means one can post either from ml or from nntp group and both users see the messages. at the moment there 15040 mailing lists subscribed and it works pretty well, spam-free. see http://gmane.org/about.php

dockimbel

[09:49](#msg56fe4432e4a8384a1bbde7bd)@gour Can we still ban users if required (happened once only on our ML)?

[09:50](#msg56fe445ed39de41b495fa08f)@PeterWAWood is our ML admin, so if PeterWAWood agrees with all that, then supporting Gmane would be good, I would also prefer reading the ML through my NNTP client.

gour

[09:50](#msg56fe446e1720648112da429e)@dockimbel not sure. will ask in gmane group and report back

[10:34](#msg56fe4ed31a1ccc164832a9b5)@dockimbel would something like \[this](https://github.com/asciidoctor/asciidoctor/issues/89) qualify for your need for "an embedded documentation system for Red/System runtime functions that could extract docstrings automatically from runtime source code." Probably not since you write about 'embedded doc system', but considering that I, otherwise, like AsciiDoc(tor) just wanted to mention it.

[10:36](#msg56fe4f421720648112da42c6)\[This](http://osscourse.sourceforge.net/) project is mentioned in regard to the above issue in \[this](http://discuss.asciidoctor.org/Source-code-extractor-for-asciidoctor-td3087.html) thread.

dockimbel

[10:41](#msg56fe5072d9b73e635f68467c)@gour We already have a documentation system for Red and Red/System functions, we just lack the tools for extracting them. Though, using Parse, it should be pretty trivial to achieve.

[10:43](#msg56fe50df11ea211749c3d2dc)I think that entry in "Contributions" is obsolete now, I'll remove it.

gour

[10:44](#msg56fe50f41720648112da42dc)ok

RnBrgn

[11:57](#msg56fe622ad9b73e635f684afe)@PeterWAWood  
&gt;  
My first statement worked  
"print read %mydata"

I then ran "print load %mydata" and I got an error.  
I then attempted "print read %mydata" again  
and I got error , which was strange becuase it worked before I ran the print load command.

PeterWAWood

[12:02](#msg56fe6371d478c81e2cbc247d)@RnBrgn The code you posted had

```
%mydaya
```

not

```
%mydata
```

```
red>> print load %mydaya ; get an error here, I assume you can use load with print
Access error: cannot open: %mydaya Where: read
red>> print read %mydaya ; unable to print read after error above. I could earlier
Access error: cannot open: %mydaya Where: read
```

jocko-jc

[13:48](#msg56fe7c2a8d2a72471b7c26db)@meijeru your demo "Red-GUI-Tour.red" is very nice and worth to be better known. However, I had to comment some reactors, which do not support objects defined later with my version of red-60. For instance :

```
View [
 progress 100x20 data 50%  react [face/data: slid/data]
slid: slider 100x20 data 50%
]
```

generates an error while

```
View [
slid: slider 100x20 data 50%
 progress 100x20 data 50%  react [face/data: slid/data]
]
```

does not.

dockimbel

[14:07](#msg56fe80bc54b9c4023d23e68d)@jocko-jc I had the same issue recently, it seems like the reactor is firing too early.

iArnold

[14:16](#msg56fe82a711ea211749c3e1ae)@meijeru It has to be compiled? Got an error when doing the script in the GUI console. slid undefined.

jocko-jc

[14:19](#msg56fe836ae4a8384a1bbdf9df)seems that the behaviour is the same with the compiled version

meijeru

[14:44](#msg56fe895ee4a8384a1bbdfc70)If I recall, it once worked, but even with a recent 0.5.4 it does not anymore. Is it a question of binding? And did the reactor processing code change not too long ago?

jocko-jc

[15:03](#msg56fe8ddcbbffcc665fab47ea) as a temporary correction, you can manage to put the declarations before the react blocks:

```
"progress    " [
					text 150 "This slider lets you set"
					at 200x10
					slid: slider 100x20 data 50%					
					return
					text 150 "this progress bar"
					return					
					text 350 "It runs from 0 to 100%"
					at 200x80					
					progress 100x20 data 50% react [face/data: slid/data]
					]
```

and

```
"slider" [
					text 400 "Move the sliders and see the square change"
					return
					pad 25x0
					s2: slider 300x20 data 100%
					return
					s1: slider 20x300 data 0%
					base 300x300 red react [
						face/size/y: to integer! 300 * (1 - s1/data)
						face/size/x: to integer! 300 * s2/data
						]
					]
```

meijeru

[15:06](#msg56fe8e8d76b6f9de194d40f1)I tried that myself and it works, but the rest of the code contains some more of these cases. Ideally, one should not have to do this...

DonaldTsang

[15:07](#msg56fe8e9a8d2a72471b7c2e24)@dockimbel could you include Complex Arithmetic and Primality Testing on the next release of Red?

jocko-jc

[15:09](#msg56fe8f21d478c81e2cbc33c2)with these two corrections, everything works properly, in interpreted and compiled modes

[15:11](#msg56fe8f99bbffcc665fab4888)I agree, one should not to take care of the order, but if it can allow the demo to work for the moment ...

RnBrgn

[15:48](#msg56fe984ed478c81e2cbc3700)Going through some of the online tutorials and getting strange results.  
I don't understand why the append function includes the "ask" prompt text " Your name" in the example below . The name: variable should be the text entered only " Fred" . Not "Your Name: Fred. If you look at the printed result, it includes the ask prompt text "your name"  
&gt;red&gt;&gt; do [  
[ name: ask "Your Name: "  
[ file: request-file  
[ print append append name ", your chosen file is: " file  
\[ ]  
Your Name: Fred  
Your Name: Fred, your chosen file is: /C/red/testred.csv ; should not print "your name' in the append  
red&gt;&gt;

&gt;\_\_\_\_\_\_\_\_\_\__  
I'm also getting a strange results using a variable created using "ask".  
name: ask " What is your name?  
what is your name? Fred  
\=="Fred"  
Now when I try to print the variable name " print name" the REPL quits . Or I'll get something like "nt name"

dockimbel

[16:44](#msg56fea5711a1ccc164832ac9c)@qtxie ^--- It seems the string returned by `ask` has some corruption. Could you please have a look?

[16:45](#msg56fea5ba1a1ccc164832ac9e)@RnBrgn `ask` implementation is a temporary one, until we get full I/O support, so I think you just hit a bug using it. Sorry for the inconvenience, we'll fix it asap.

x8x

[21:41](#msg56feeaf211ea211749c401e1)have to agree with @nc-x , system/options/args available in the interpreter would be pretty useful !

RenaudG

[21:42](#msg56feeb4376b6f9de194d5c05)+1

## Saturday 2nd April, 2016

dockimbel

[00:15](#msg56ff0f3ad087756f7c042e9f)@x8x I missed that discussion, but what makes you think that `system/options/args` is not available in the console?

qtxie

[02:47](#msg56ff32ade4a8384a1bbe2475)@dockimbel Fixed it. Now `ask` in gui conosle should work fine.

ghost~5680c5f416b6c7089cc058a5

[03:04](#msg56ff36bf11ea211749c40e2a)@dockimbel Look at the (A) and (B) here :point\_up: \[April 1, 2016 1:19 PM](https://gitter.im/red/red?at=56fe281dd478c81e2cbc14a2)

qtxie

[03:57](#msg56ff432276b6f9de194d68fa)@nc-x Here is the answer from your friend `google`. ;-)  
http://www.rebol.com/docs/core23/rebolcore-5.html

[03:58](#msg56ff4354e4a8384a1bbe260a)BTW, `system/script/args` is not implemented in Red yet. That's why you get `none`.

PeterWAWood

[04:01](#msg56ff43fe76b6f9de194d6909)@qtxie There is a difference between system/options/args between running a compiled program or running it via the console though.  
I expanded @nc-x 's test to

```
Red []

probe system/options/args
probe system/script/args

do [
	probe system/options/args
	probe system/script/args
]
```

dockimbel

[04:01](#msg56ff440fd087756f7c042f05)@qtxie Great! @RnBrgn Give it a new try with \[newest](http://www.red-lang.org/p/download.html) Red build

PeterWAWood

[04:03](#msg56ff44a4bbffcc665fab7007)When run as a compiled program, system/options/args includes only the supplied arguments, when run from the console it also includes the script filename.

```
mbp:Red peter$ ./test a b c d e
{"a" "b" "c" "d" "e"}
none
{"a" "b" "c" "d" "e"}
none
mbp:Red peter$ ./test-console ../../Code/Red/test.red a b c d e
{"../../Code/Red/test.red" "a" "b" "c" "d" "e"}
none
{"../../Code/Red/test.red" "a" "b" "c" "d" "e"}
none
```

dockimbel

[04:05](#msg56ff4527d087756f7c042f08)@PeterWAWood That's the intended behavior. S/O/A gives you every argument passed to the executable, S/S/A (once implemented) will give you only the script arguments.

PeterWAWood

[04:06](#msg56ff4557e4a8384a1bbe2636)@dockimbel Thanks for the clarification

ghost~5680c5f416b6c7089cc058a5

[04:08](#msg56ff45aae4a8384a1bbe263e)@PeterWAWood How do you get that output???  
Using the red master binaries, interpreting your test script gives me only the file name and not the arguments.  
Manually using the console from the C:/Programdata/red folder gives me `"test.red a b c d e"` instead of your `{"filename.red" "a" "b" "c" "d" "e"}`

JenniferLee520

[04:10](#msg56ff462bbbffcc665fab7029)I always have a question: Is Red/System a DSL? Red/System is good for system programming. That's for sure. But is "System Programming" a domain? If it is, then the C programming language becomes a DSL. Hun? that doesn't sound right. I think Red/System is a dialect, not a DSL. When it comes to "Abstraction Layers" of programming languages, I think there are 4 layers at least, which are, from top to bottom, Domain Specific Programming Layer, General Purpose Programming Layer, System Programming Layer, and Assembly Layer. And I think that dialects can be in any layer, but DSL can only in the top layer. ... Just my 2 cents.

PeterWAWood

[04:13](#msg56ff46ec11ea211749c40f98)@nc-x I got that output using the latest master source of Red on OS X.

dockimbel

[04:14](#msg56ff4742d087756f7c042f0b)@JenniferLee520 Interesting question, I would say that DSL/dialect is defined relatively to a "main language" or "main dialect". So, it makes sense to consider Red/System a DSL/dialect of Red language, while C is just one language.

ghost~5680c5f416b6c7089cc058a5

[04:16](#msg56ff47918d2a72471b7c56ce)@dockimbel

[04:19](#msg56ff4862d478c81e2cbc5d03)http://i.imgur.com/4YpPdsu.gifv

[04:20](#msg56ff489fbbffcc665fab7067)Also note the output I get vs what @PeterWAWood got. `"test.red a b c d e"` vs `{"filename.red" "a" "b" "c" "d" "e"}`

JenniferLee520

[04:21](#msg56ff48c911ea211749c40fbe)A DSL needs a special domain, and its syntax doesn't need to have any relation to any other languages. ... A dialect needs its syntax very close to its main language. ... am I right? @dockimbel

ghost~5680c5f416b6c7089cc058a5

[04:22](#msg56ff48fa76b6f9de194d698e)

[04:23](#msg56ff493dd39de41b495fe0db)

dockimbel

[04:26](#msg56ff4a051a1ccc164832af0c)@JenniferLee520 Yes, you can contrast DSL with "general-purpose language", and dialect with "main language". In case of Red/Rebol, DSL and dialect are overlapping to the point where we often use them interchangeably.

ghost~5680c5f416b6c7089cc058a5

[04:40](#msg56ff4d428d2a72471b7c5745)https://github.com/duckduckgo/duckduckgo/wiki/Programming-IA-Coverage

dockimbel

[04:44](#msg56ff4e441a1ccc164832af0e)@nc-x Yeah, we need a Red entry there, and some custom scrapers too, but even more, we need...Red docs. ;-)

x8x

[05:56](#msg56ff5ef9e4a8384a1bbe285b)not sure what I'm doing wrong, but this is the output form @PeterWAWood script above:  
compiled:

```
./testarg a b c
{"a" "b" "c"}
none
{"a" "b" "c"}
none
```

interpreted:

```
red testarg.red a b c
{"testarg.red"}
none
{"testarg.red"}
none
```

PeterWAWood

[06:31](#msg56ff675bd9b73e635f6884d0)@x8x I didn't use the red binary but a cli console that I compiled from source. If I have time later, I'll try using the red binary.

ghost~5680c5f416b6c7089cc058a5

[06:48](#msg56ff6b5811ea211749c4129f)@x8x It's the same for me. Looks like the red binary isn't passing the arguments to the console executable file.

[07:03](#msg56ff6ed8d9b73e635f688595)@x8x This works -

[07:04](#msg56ff6ee211ea211749c412f7)`red "test.red a b c"`

[07:04](#msg56ff6ef6d478c81e2cbc606f)

```
"test.red a b c"
none
"test.red a b c"
none
```

x8x

[07:10](#msg56ff706576b6f9de194d6d03)@nc-x then it will be looking fo a file named "test.red a b c"

```
red "test.red a b c"
*** Error: cannot access argument file
```

gour

[07:21](#msg56ff72e21a1ccc164832af54)@dockimbel @PeterWAWood i got reply on my inquiry in regard to Gmane: https://bpaste.net/show/dff232e7e05d if you're happy about it, i can proceed with submitting request?

ghost~5680c5f416b6c7089cc058a5

[07:26](#msg56ff743ad39de41b495fe4bd)@x8x well, it works for me...

[07:29](#msg56ff74e1d9b73e635f688622)@dockimbel :point\_up: \[April 2, 2016 9:33 AM](https://gitter.im/red/red?at=56ff44a4bbffcc665fab7007)  
&gt; @PeterWAWood That's the intended behavior. S/O/A gives you every argument passed to the executable, S/S/A (once implemented) will give you only the script arguments.

Then the compiled executable should also display filename when S/O/A is used else the output of S/O/A when the file is interpreted or compiled will be different which will lead to undefined behaviour in the script and will be a cause for bugs.

[07:32](#msg56ff7585d478c81e2cbc6118)There should be consistency between the interpreter and compiler else will lead to lots of bugs.

dockimbel

[07:34](#msg56ff75f7d087756f7c042f7a)@nc-x Agreed.

ghost~5680c5f416b6c7089cc058a5

[07:42](#msg56ff77f1d478c81e2cbc6143)@dockimbel Should I create a Github Issue for that?

dockimbel

[07:43](#msg56ff782154b9c4023d23ea6b)I prefer we don't open issues for already planned features. They clutter the tracker and can stay there for a (very) long time. ;-)

ghost~5680c5f416b6c7089cc058a5

[07:43](#msg56ff78278d2a72471b7c5b22):smile:

[07:58](#msg56ff7b8fd39de41b495fe576)A question @dockimbel  
Compiling this (`red -c test.red`) -

```
Red []

vi []
```

gives at compile time

```
-=== Red Compiler 0.6.0 ===-

Compiling /C/Users/ABC/Desktop/test.red ...
*** Compilation Error: undefined word vi
*** in file: %/C/Users/ABC/Desktop/test.red
*** near: [vi []]
```

But when -

```
Red []

view []
```

is compiled, there is no error at compile time but it gives the error at runtime.  
Why so?

gour

[08:17](#msg56ff800f1a1ccc164832af78)@gour is unsubscribing from some language-based newsgroup, uninstalling some compilers...everything due to newly interest in Red :-D

[08:28](#msg56ff82afd087756f7c042f98)is Kaj de Vos working on GTK+ bindings visible here (sometimes)?

iArnold

[08:54](#msg56ff88cc54b9c4023d23ea82)Kaj is mostly on AltMe. Once or twice a week at least.

gour

[08:55](#msg56ff88fc1720648112da47cd)@iArnold haven't use AltMe. is it active?

dockimbel

[09:01](#msg56ff8a54d087756f7c042fa0)@nc-x Good catch! Should error out at runtime in both cases.

iArnold

[09:11](#msg56ff8cc91a1ccc164832afa1)@gour Just before the Red release it was really active ;-)

gour

[09:47](#msg56ff954ed087756f7c042fc8)@dockimbel have you noticed my Gmane-releate msg?

[09:52](#msg56ff967354b9c4023d23eaa9)@iArnold I see that AltMe is more related to Rebol, right?

iArnold

[10:29](#msg56ff9f211720648112da4800)@gour Red is improving on R2.

mikeparr

[10:34](#msg56ffa03ad478c81e2cbc6589)Possible `load` error? The /part refinement specifies an integer or string. (0.6, Win7 ). Here I try an integer:

```
red>> list: load/part %music-types.txt 2
*** Script error: get does not allow integer! for its word argument
*** Where: get
```

PeterWAWood

[10:42](#msg56ffa232d478c81e2cbc65be)@gour @dockimbel I don't think that a decision to turn a private message exchange into a fully public one can be taken so lightly. If you could answer, the two following questions, I will seek the views of the current membership of the Mailing List/Google Group on their views of publishing future messages on the internet.

The questions are:

1\. Can the email addresses of Mailing List members be securely hidden and not viewable via gmane?  
2\. Can messages be removed from the gmane archive by:  
a. The author of the message.  
b. A mail list moderator  
c. both

Once we have conclusive answers to both. I will consult with existing ML members. (Given my current schedule, I would expect that will take about a week).

gour

[10:59](#msg56ffa617d087756f7c042fd7)@PeterWAWood @dockimbel  
1\. \[spam](http://gmane.org/faq.php) section  
2\. see \[expiry](http://gmane.org/expiry.php) section

[11:03](#msg56ffa6fb1a1ccc164832afd9)@PeterWAWood btw., i do not consider that mailing list should be considered 'private exchange', but, of course, it's your policy

[11:04](#msg56ffa7231a1ccc164832afdb)since it's described as "Primary communication channel for Red programming language"

PeterWAWood

[11:48](#msg56ffb1928d2a72471b7c6192)The mailing list is currently private to its members. It is not a matter of conjecture.

gour

[11:54](#msg56ffb2f754b9c4023d23eadd)@PeterWAWood private in the sense that mailing list is not revealed, only names, but the same thing is with Gmane

SteeveGit

[16:56](#msg56fff9b4d9b73e635f68987c)

gour

[16:56](#msg56fff9c81720648112da48fa)@SteeveGit got it. thank you ;)

[16:57](#msg56fffa001720648112da48ff)the aboce msg i can edit, but not the previous one. is there some time limit after which one can't edit msg any longer?

SteeveGit

[16:58](#msg56fffa3be4a8384a1bbe3cd5)you can edit while yours is the last one in the chat

gour

[16:59](#msg56fffa7b1a1ccc164832b0b2)i'd say it was possible to edit even when it was not...moreover, my msg was the last one and still not edit-able

SteeveGit

[17:00](#msg56fffa9576b6f9de194d7f7d)hum... then I don't know more

gour

[17:00](#msg56fffab954b9c4023d23ebb7)anyway, thank you for assistance ;)

SteeveGit

[17:01](#msg56fffb01e4a8384a1bbe3cef):+1:

gour

[18:31](#msg57000ffc1a1ccc164832b0ea)how is R2/Red suitable for writing i18n-ed apps?

[18:53](#msg5700150c54b9c4023d23ec14)again, my msg is last one, but not editable :-(

[18:53](#msg5700152b1720648112da4955)it looks as time limit is involved

pekr

[19:18](#msg57001aebd39de41b495ffcbc)there is definitely time limit involved

RnBrgn

[22:35](#msg57004915bbffcc665fab94ea)@dockimbel @qtxie ,using newest build, ASK function worked under Red gui console. Thanks for that quick fix. It fails when you try to compile from source, but i'm sure you knew that and I understand build 0.7.0 will have an updated io. Thanks again.

qtxie

[23:27](#msg5700554dd478c81e2cbc83ca)@RnBrgn The `ASK` function is only exist in console for now and we'll have it in 0.7.0. It is defined in \[%input.red](https://github.com/red/red/blob/master/environment/console/gui-console.red)(for CLI) and \[%gui-console.red](https://github.com/red/red/blob/master/environment/console/gui-console.red)(for GUI), You need to include it in you program in order to use it.

PeterWAWood

[23:54](#msg57005bb111ea211749c43736)@gour It seems that I had forgotten that the Mailing List archive is accessible via the web interface. So there is no need for me to consult with existing mailing list members. When you submit the form to gmane, please make sure that members email addresses will be protected.

## Sunday 3th April, 2016

RnBrgn

[00:37](#msg570065d7d478c81e2cbc85aa) I may have come across another bug in the gui console. when you run the same command which contains the append function, it keeps appending the results from the previous entry. I pasted the sequence below... I'm not sure if your interested in seeing these type of issues , knowing it's temporary, so please let me know ,, Thanks &gt; red&gt;&gt; name: ask "what is your name: "  
what is your name: Fred  
\== "Fred"  
red&gt;&gt; file: request-file  
\== %/C/Red/mydata  
red&gt;&gt; print append append name " , you chose file: " file  
Fred , you chose file: /C/Red/mydata  
red&gt;&gt; print append append name " , you chose file: " file  
Fred , you chose file: /C/Red/mydata , you chose file: /C/Red/mydata  
red&gt;&gt; print append append name " , you chose file: " file  
Fred , you chose file: /C/Red/mydata , you chose file: /C/Red/mydata , you chose file: /C/Red/mydata  
red&gt;&gt;

SteeveGit

[00:43](#msg57006749bbffcc665fab98c2)Nothing wrong here, you keep adding data to the same variable \*\*name\*\*.  
Check usage of the \*\*append\** function -&gt; help append

RnBrgn

[01:02](#msg57006bc111ea211749c438f6) I see, I assumed append worked like concatenating strings and or strings and variables together. I did not expect it to append data to the variable name. Thanks

SteeveGit

[01:08](#msg57006cf78d2a72471b7c7fd3)Actually, it's not appending data to the variable \*\*name\** itself, but to the string \*\*referenced\** by \*\*name\*\*. Strings are mutable.

RnBrgn

[01:29](#msg570072158d2a72471b7c8054)

[01:43](#msg5700754d76b6f9de194d9357)How would you join strings and strings and variables in a print statement without modifying the string referenced by the variable? (print name " your chose file" file ) does not work..

SteeveGit

[01:44](#msg57007579d9b73e635f68abe4)append append copy name ...

btiffin

[03:01](#msg570087a276b6f9de194d97ba)@RnBrgn That concept is powerful, and better once conquered. Surprises may abound until then:

```
red>> word: func [][print a: []]
== func [][print a: []]
red>> source word
word: func [][print a: []]
red>> word

red>> insert a "abc"
== []
red>> source word
word: func [][print a: ["abc"]]
red>> insert a "def"
== ["abc"]
red>> source word
word: func [][print a: ["def" "abc"]]
```

Blocks are pretty cool, but can be surprising.

[03:02](#msg570087cdd478c81e2cbc897e)Congrats on 0.6 by the way.

[03:02](#msg570087d3d9b73e635f68adef)Go Doc go!

[03:08](#msg5700891e8d2a72471b7c82b9)By the by, there hasn't been an official REBOL of the Year award for a while now, but I'm wondering about a Red User Group of some sort. The honour could be an annual Red Head award.

ghost~5680c5f416b6c7089cc058a5

[03:17](#msg57008b4dd9b73e635f68b067)&gt; How would you join strings and strings and variables in a print statement without modifying the string referenced by the variable? (\_\_print name " your chose file" file\__ ) does not work..

@RnBrgn \_\_`print [ name " your chose file" file ]`\__

x8x

[04:03](#msg5700961be4a8384a1bbe5447)Is there anyway to replace a line in the console with another one? Let say I want to show progress and want to replace in place:

```
10%
```

with:

```
20%
```

and so on..

dockimbel

[04:47](#msg5700a0491720648112da4add)@btiffin Thanks, great to see you there Brian! :smile:

[04:48](#msg5700a0a154b9c4023d23edd0)@btiffin Be my guest for setting one up. If you organize an "Red award", we'll sponsor the rewards. That is someone I wanted to do anyway later this year. ;-)

[04:51](#msg5700a1521720648112da4ae0)@x8x Not yet, though positioning in console is planned for the console:// port. That said, you can ask @SteeveGit to hack you something, as the console is written in View, you could leave some blank space using some `print lf` and put an overlay face with text you can control (actually you could display it anyway inside the console).

x8x

[04:56](#msg5700a289d478c81e2cbc8dbe)Thanks for the details, will wait for console:// then 8-)

PeterWAWood

[05:13](#msg5700a67c8d2a72471b7c859d)@x8x If it's the last line in the console, you can use prin and carriage-return to update it.

```
Red []

 do [
    prin "The current number is 0"
    foreach n [1 2 3 4 5 6 7 8] [
    	wait 1
    	prin ["^MThe current number is" n]
    ]
    print ""
]
```

[05:14](#msg5700a6b7e4a8384a1bbe55ca)This is the final output:

```
mbp:Red peter$ ./test-console ../../Code/Red/test.red
The current number is 8
```

[05:24](#msg5700a903d9b73e635f68b344)It doesn't seem to display the intermediate results as prin doesn't seems to be buffered until these is a carriage return.

btiffin

[05:40](#msg5700acc68d2a72471b7c861d)Well then, I'm going to pester the board here about favourite names for a user group; then I'll ask where the social chats are supposed to be. RUG, Red User Group. Red Users, Computists, Engineers; REDUCE. Red User Community Executive,. Red Developers, Engineers, Researchers, Redder. ?? Others? And yeah, is there a room more appropriate for these discussions? Does gitter have a feature, by any chance, where the social room could have a read only copy of the technical room? So the social room gets the feed and can stay in context, but doesn't lower the signal to noise ratio of the actual work once the chatting and drifting starts. Is there an API to look into? Cheers, all.

gour

[06:58](#msg5700bf061a1ccc164832b2d0)@PeterWAWood @dockimbel so, you're ok with gmane subscription?

ghost~5680c5f416b6c7089cc058a5

[07:47](#msg5700ca79d9b73e635f68b6ac)@gour I think the answer is yes :point\_up: \[April 3, 2016 5:24 AM](https://gitter.im/red/red?at=57005bb111ea211749c43736)

gour

[07:53](#msg5700cbec1a1ccc164832b2e7)@nc-x i also think so, but being noob here, want to be sure before submitting request since there were some questions in regard

iArnold

[08:02](#msg5700ce0bd087756f7c0432c6)&gt; @btiffin Be my guest for setting one up. If you organize an "Red award", we'll sponsor the rewards. That is someone I wanted to do anyway later this year. ;-)

I'll stop using red to avoid to become the someone that will be done later this year ;-)

PeterWAWood

[09:19](#msg5700e011d39de41b4960157f)@gour I am happy to try the gmane subscription.

gour

[09:19](#msg5700e03154b9c4023d23ee3c)@PeterWAWood ok, i'll submit request and inform you in regard

mikeparr

[10:04](#msg5700eaa1e4a8384a1bbe5ccf)Logic!/true/false terminology: on the Red site, it says (implies?) that booleans are literal values, but in fact we can assign any type to the words true and false.

dockimbel

[10:18](#msg5700ee061a1ccc164832b336)@mikeparr Correct. If you can point me to the places where it is not clearly expressed, I'll fix them asap.

mikeparr

[10:48](#msg5700f51476b6f9de194da330)@dockimbel - logic! - http://www.red-lang.org/2011/04/update-on-redsystem-progress.html - 5th bullet - thanks

dockimbel

[11:55](#msg570104cc1720648112da4b5d)@mikeparr That article is about Red/System, where true/false are boolean literals. There is no datatype!, nor word! in Red/System, nor evaluation process transforming a `true` word to a `true` logic!. The type system is different in Red and Red/System.

StephaneVeneri

[11:57](#msg570105368d2a72471b7c9010)Are there a way to execute a script without compile it from:  
`do/args %../Red/red-MacOSX-GUI/red.r "%3dviewer.red"`

ghost~5680c5f416b6c7089cc058a5

[12:02](#msg5701064dd9b73e635f68be12)@StephaneVeneri Do you mean to INTERPRET the file instead of COMPILE it? If yes, you need to first compile https://github.com/red/red/blob/master/environment/console/console.red and then `console 3dviewer.red`

StephaneVeneri

[12:02](#msg5701066cd39de41b49601a50)@nc-x Thanks

ghost~5680c5f416b6c7089cc058a5

[12:03](#msg5701067611ea211749c449a9)Or you can download the latest master binaries and use `red 3dviewer.red`

[12:03](#msg570106a2d9b73e635f68be1f)As the red binaries compile the console and then use it to interpret. (better than manually compiling console)

[12:05](#msg570106f4d39de41b49601a61)If you go the manually compile the console mode, you can compile https://github.com/red/red/blob/master/environment/console/gui-console.red for the gui-console and use it (if your platform supports it :D)

StephaneVeneri

[12:05](#msg570107108d2a72471b7c905c)The aim is to use the qtxie’s MacOSX-Gui branch ;-)

[12:13](#msg570108f8d39de41b49601aa7)Perfect, I compiled the console and it work fine (and without wine).

x8x

[13:26](#msg57011a1e11ea211749c44c39)@PeterWAWood as you say "It doesn't seem to display the intermediate results" but thanks for trying! 8-)

PeterWAWood

[23:25](#msg5701a680bbffcc665fabc73d)@dockimbel @qtxie

```
print
```

in Red/System appears to be buffering its output until a line feed is received. I guess this is the reason for the

```
prin
```

trick for updating the last line in the console not working.  
If you compile and run this code, you will see that print only outputs it's input once a linefeed is encountered. (I've only run this on OS X.)

```
Red/System []

crude-wait: func [
	/local
		j	[float!]
][
	j: 0.0
	until [
		j: j + 1.0
		j > 1000000000.0
	]
]

print "The original text"
crude-wait
print ["^(0D)The intermediate text"]
crude-wait
print ["^(0D)The final text          " lf]

print ["The original text" lf]
crude-wait
print ["^(0D)The intermediate text" lf]
crude-wait
print ["^(0D)The final text          " lf]
```

## Monday 4th April, 2016

mikeparr

[08:50](#msg57022aefd478c81e2cbcc802)Problem with `max` function? Rebol vs Red:

```
;Rebol2
>> max [1 1 1 1] [1 1 1 1 1 2]
== [1 1 1 1 1 2]

;Red 0.6
red>> max [1 1 1 1] [1 1 1 1 1 2]
== [1 1 1 1]
```

Working from the left, first 4 equal, I would expect the longer series to me the max.

dockimbel

[08:52](#msg57022b6611ea211749c476d5)@mikeparr Good catch, please open a ticket.

WiseGenius

[08:54](#msg57022bbe1a1ccc164832b781) It seems Red goes with whichever is on the left side:

```
red>> max [1 1 1 1 1 2] [1 1 1 1]
== [1 1 1 1 1 2]
```

mikeparr

[09:16](#msg57023100e4a8384a1bbe8f7e)@dockimbel @WiseGenius - max ticket raised

ghost~5680c5f416b6c7089cc058a5

[11:17](#msg57024d2f11ea211749c47f9f)I see a lot of gtk3 stuff in qtxie's fork...

[11:17](#msg57024d56bbffcc665fabe3c0)https://github.com/qtxie/red/commit/9c978bbb0c8c996a9efc277f8bd4f3cdea3b15c8

[11:18](#msg57024d6fbbffcc665fabe3c6):smile:

[11:33](#msg5702510fd9b73e635f68f59d)https://github.com/qtxie/red/tree/temp-code/modules/view/backends/gtk3

pekr

[11:37](#msg5702520ce4a8384a1bbe97e8)how is that it is not normally visible in the commit branch list?

[11:38](#msg5702523cd478c81e2cbcd28f)ah, it is, as a temp-code

mikeparr

[12:07](#msg57025903d478c81e2cbcd458)@WiseGenius Re max of 2 series, how about series of characters, i.e. strings? Required dictionary order:

"aaa" "aaaa" "ab" "abaaa" "abc"

Zamlox

[12:13](#msg57025a7ce4a8384a1bbe99ef)@dockimbel found a new crash situation for GUI: ticket #1785

JenniferLee520

[14:07](#msg57027537bbffcc665fabef94)It seems that everyone is peeking QtXie's forks to guess what will happen next. @qtxie

qtxie

[14:14](#msg570276bdd478c81e2cbcdede)@JenniferLee520 :laughing: `view [button "ok"]` is working on GTK3 backend now.

iArnold

[14:34](#msg57027b61d39de41b4960607c)@qtxie Well! Great progress already! Is it as straightforward as @dockimbel expected it to be? You finished up all OSX too? ;-)

RnBrgn

[15:51](#msg57028d98e4a8384a1bbeacf0)How come I'm allowed to append an empty variable to a block of data? It allows me to add it but I get an error when I try to print it... Is there a reason we can add empty variables like that? &gt; red&gt;&gt; items: copy\[]  
\== \[]  
red&gt;&gt; append items "orange"  
\== \["orange"]  
red&gt;&gt; print items  
orange  
red&gt;&gt; append items \[apple]  
\== \["orange" apple]  
red&gt;&gt; print items  
\*\** Script error: apple has no value  
\*\** Where: print  
red&gt;&gt; apple: "apple"  
\== "apple"  
red&gt;&gt; print items  
orange apple  
red&gt;&gt;

SteeveGit

[16:26](#msg570295a98d2a72471b7cdf62)

asampal

[16:38](#msg5702988d1720648112da5228)@mikeparr when it comes to Unicode strings, ordering is not a simple thing because collation can (should) be considered. I don't know how @dockimbel will deal with it wrt things like `max` and sorting.

SteeveGit

[19:33](#msg5702c197e4a8384a1bbebfb2)  
'arg &amp; `:arg` in the proto of a function are interchanged in Red over R2. Possible Correction here: \[coucou](https://github.com/SteeveGit/red/commit/8ea04e00084c9acb28a95282e136b47b2628452a) What do you think?&gt;

iceflow19

[20:34](#msg5702cfbb76b6f9de194e0b3c)@SteeveGit I think that was a design choice.

SteeveGit

[20:35](#msg5702d02abbffcc665fac10d8)A strange one since it's not adding any feature but only confusion.

[20:38](#msg5702d0dce4a8384a1bbec544)I bet on distraction.

## Tuesday 5th April, 2016

dockimbel

[02:46](#msg570326f01a1ccc164832bdf1)We used the same semantics as Rebol3 for that, though, it is worth re-examining, as I'm not totally satisfied with it too.

jocko-jc

[08:27](#msg570376dbd39de41b4960a3ca) jpeg images with 8 bits per pixel seem not correctly displayed

dockimbel

[09:18](#msg57038303d9b73e635f6948f9)@jocko-jc Can you share the jpeg image giving incorrect results?

[09:41](#msg57038839d9b73e635f694a80)I just created a new \[red/welcome](https://gitter.im/red/red/welcome) as a landing place for newcomers. If you are willing to help guide newcomers in their first steps in Red and answer any questions they could have, please join that group. I'm also linking that group directly on red-lang.org site, as a very visible button.

pekr

[09:43](#msg570388b311ea211749c4d7c5)Finally I've got a place to post my stupid questions to :-)

[09:44](#msg57038901bbffcc665fac3878)Hmm, twitter repost to FB gathered quite a bunch of likes. We are keeping ppl interested!

dockimbel

[09:46](#msg5703897ed478c81e2cbd2a15)@pekr Just avoid off-topic questions, as that chat room content is displayed on the Red web site. ;-)

iArnold

[09:51](#msg57038a9f8d2a72471b7d1de3)@dockimbel You placed the Fork on Github to the left upper corner now?

jocko-jc

[11:46](#msg5703a5785386a9152533751a)

```
view  [image http://www.ece.rice.edu/~wakin/images/lenaTest1.jpg]
```

gives a correct result while

```
view[image %lenaTest1.jpg]
```

(after downloading the image)  
gives a result with few gray levels

dockimbel

[11:52](#msg5703a7018eec5313252e32b7)@jocko-jc Ok, I can reproduce the issue.

Zamlox

[11:56](#msg5703a7e7ad40c3877fa9617f)for me

```
view  [image http://www.ece.rice.edu/~wakin/images/lenaTest1.jpg]
```

crashes the console, but maybe because I'm behind a proxy.

dockimbel

[11:58](#msg5703a84aad40c3877fa961a3)@Zamlox Crash how? Is it just "freezing"?

Zamlox

[11:58](#msg5703a85af504b375561b4bf6)when I execute that command the console closes itself

[11:58](#msg5703a864f504b375561b4bf9)and nothing is displayed

Bitsoma

[11:58](#msg5703a86a8e22137808cc1e66)Hi, I am new to Red (but have some Rebol) experience. I am testing Red 0.6.0 and noticed that 10 \** 10 produces 1410065408. This doesn't seem quite right. Is there a way to officially report bugs like that or to some way to lookup whether this error has been reported already?

Zamlox

[11:59](#msg5703a8a9ad40c3877fa961c5)would it be possible that in such situation to display a dialog with the source of the error instead of having the console closing without any message.

dockimbel

[12:00](#msg5703a8d5ad40c3877fa961cf)@Bitsoma You can report it here: \[https://github.com/red/red/issues](https://github.com/red/red/issues). Notice that `10.0 ** 10`will display th e expect result. There is a missing implicit conversion of integer! to float! there.

Bitsoma

[12:00](#msg5703a8de15b4d27b083ecf45)Thanks!

dockimbel

[12:02](#msg5703a96c8e22137808cc1eb8)@Zamlox It's most probably a native crash, and in such case, it would not be very helpful to you anyway (as this kind of crash should not happen). You can see the error message by recompiling the console in debug mode and run it from the DOS shell. If you have Red sources and a Rebol interpreter, then, the command-line is:

```
rebol -s red.r -d environment/console/gui-console.red
```

Zamlox

[12:03](#msg5703a986f504b375561b4c4c)ok, thanks.

[12:49](#msg5703b44f8eec5313252e36cc)ok, I executed and now I got error message and stack trace. Error message:

```
*** Runtime Error 1: access violation
*** in file: /D/dev/Red/source/red/runtime/datatypes/common.reds
*** at line: 38
***
```

Do you want me to create a ticket and add the stack trace there ?

dockimbel

[12:50](#msg5703b491f504b375561b4fe8)@Zamlox Yes, please.

Zamlox

[12:50](#msg5703b49515b4d27b083ed2bf)ok

[12:53](#msg5703b5658e22137808cc224e)done. Ticket: #1790

[12:59](#msg5703b6cdad40c3877fa96670)for my curiosity: if I would like to debug such a stack trace where I should look for info how to do it ?

dockimbel

[14:00](#msg5703c51a5dbc98bc19ce9d28)@Zamlox First thing would be to \[learn Red/System](http://static.red-lang.org/red-system-specs-light.html), which should just take a few hours/days if you know C already. Then, you would need to dive into Red \[runtime code](https://github.com/red/red/tree/master/runtime) to understand the big picture of the interal code organization and architecture (asking questions here about that is also welcome).

Zamlox

[14:02](#msg5703c56aad40c3877fa96c10)ok, thanks. I will take it slowly. I have C\\C++ background.

[14:03](#msg5703c5b95386a91525338038)and about 2years of Rebol

dockimbel

[16:32](#msg5703e889488f66e00debe385)@Zamlox Then I think it shouldn't be a big deal for you. Feel free to ask questions here about Red/System if needed, many people here have good experience with it already.

mikeparr

[18:43](#msg57040746f7d63d897f238a3c)View: multi-line `area`. Possibly this is under development, so, sorry for mentioning it, if this is the case. I can't display multiple lines from a program. The following shows as "abc" on one line:

```
lines: {a
b
c}
;..omitted code
the-text/text: lines   ; the-text is an area
```

However, I can paste in multi-line text.  
Also, filling the area with multi-line text does not cause scroll-bars to appear.

SteeveGit

[18:50](#msg5704090b8e22137808cc41eb)

```
lines: "line1^M^/line2"
```

mikeparr

[19:05](#msg57040c5f15b4d27b083ef34d)@SteeveGit thanks - works - stillno scrollbar appearance though (Windows)

SteeveGit

[19:14](#msg57040ea18eec5313252e5865)Currently the area widget is too frugal to do such

pekr

[20:00](#msg570419728e22137808cc4766)Which encodings are going to be supported for some later releases? Trying to parse some CSV from SAP, it is UTF-8, but once again - invalid char is reported ... \*\** Access error: invalid UTF-8 encoding: #{FFFE5400}

[20:01](#msg5704199ff7d63d897f239033)When I save the file as ANSI, R2 can read it, but Red reports just the same (most probably because it does not change the fact, that it tries to read is as an UTF-8 file)

dander

[20:22](#msg57041e8f15b4d27b083ef927)@pekr , isn't FF FE a little-endian UTF-16 byte-order-mark? I thought UTF-8 couldn't start with FF

[20:23](#msg57041ed25386a9152533a137)maybe I misunderstood your question

Zamlox

[20:45](#msg570423fa8e22137808cc4af8)how do I execute a Red/System script within console ? When I try something like 'do %test10.reds' I got following messages:

```
*** Script error: word! type is not allowed here
*** Where: do
```

The content of script is:

```
Red/System []

s: as float32! 3.1415927
print [
   as float! s lf
   as integer! s
]
```

SteeveGit

[20:48](#msg5704248cdc7a737756978e9d)you can't run .reds (aka red/System) files in the console (interpreted). They need to be compiled first.

Zamlox

[20:49](#msg570424dd8e22137808cc4b52)ok, thanks.

SteeveGit

[20:49](#msg570424e4ad40c3877fa98f58)Red and Red/system are 2 different language

[20:50](#msg5704250ef504b375561b7902)Even if they are similar

Zamlox

[20:50](#msg5704251ead40c3877fa98f6d)right. I thought the interpreter is able to execute also Red/System

## Wednesday 6th April, 2016

kickscondor

[04:19](#msg57048e5ddc7a73775697a385)anyone know where the 8-bit AVR target (arduinouno) code is these days?

dockimbel

[04:35](#msg57049207ab6502a50341b516)@kickscondor I didn't push it online, as it was just a very limited proof of concept (just for blinking a LED). Though, the Intel Hex backend is there in the code base, for the AVR-8 code emitter, here's the code in a \[gist](https://gist.github.com/dockimbel/d8fcdbf16a44b8e04085a3fe57197527), though, it won't work with the current Red version, you need to pull a version from late 2011. I didn't push it further for two reasons:  
1\. AVR 8-bit platform is not a great match for Red/System which is 32-bit, so, it requires some changes in the compiler and even lexer to properly handle the constraints.  
2\. 32-bit embedded boards are rising in popularity, so the future for 8-bit boards is uncertain.  
3\. A specific DSL of Red/System with its own compiler, tailored for very constrainted 8-bit platforms is probably a better option.

kickscondor

[04:44](#msg5704941f8e22137808cc6204)wow - thank you!

[04:44](#msg5704942bf7d63d897f23aa58)i agree with your points - this is simply a curiosity :)

[04:44](#msg57049442f7d63d897f23aa5b)you have done phenomenal work with red - keep it up

endo64

[13:29](#msg57050f3d258be6da0d40f835)Following line crashes the console (

```
*** Runtime Error 1: access violation
```

)

```
to string! #{CF}
```

dockimbel

[13:31](#msg57050f9508313f6c11c31133)Please don't report `to` crashes until it is officially supported. The current implementation is partial and will likely changed once we really support it.

[13:32](#msg57050fd508313f6c11c3113a)For converting values to strings, use `form` or `mold`.

endo64

[13:33](#msg57051030258be6da0d40f894)Ah.. again I forgot

```
to
```

is not ready yet, sorry. I constantly forget and report this :)

Skrylar

[13:41](#msg570511ffb4484e2a1ec25192)congrats on 0.6

dockimbel

[13:47](#msg5705136c0b5dcce3240079f7)@endo64 Don't mind, it will be added for the next release.

[13:47](#msg570513770b5dcce3240079fb)@Skrylar Thanks.

mikeparr

[15:41](#msg57052e1276b97d2831c8d074)'Tired' - a Red editor in 35 lines of Red - just a bit of fun. At http://www.mikeparr.info/tired.html

## Thursday 7th April, 2016

dockimbel

[02:55](#msg5705cc2f3bc1aed55b5b65e1)@mikeparr Nice!

iArnold

[07:35](#msg57060dce82aae5fc279a23fc)@iArnold Leaving into lurk mode for some time, probably next release. PM me if you need me.

gour

[11:46](#msg570648aa3bc1aed55b5b6889)someone on IRC just asked me whether Red(System) protects against faulty-pointer arithmetic?

Oldes

[12:02](#msg57064c3e82aae5fc279a3506)No

gour

[12:02](#msg57064c6861a76d49251c1a53)@Oldes but pointer arithmetic is available on in Red/System, right?

Oldes

[12:03](#msg57064c93d62e7a1918de8379)Yes, it is.. but I guess this is a little bit early to ask something like that.

[12:04](#msg57064cb9b17e698d5ef1a1ae)Remember that current compiler written in Rebol will be replaced with a new compiler written in Red.

gour

[12:04](#msg57064cc48e8278b11452628e)well, there are Red language features which are attractive to folks...

Oldes

[12:05](#msg57064d0eb12cb51618d2d89b)Red itself should be quite safe to use as it is higher level than Red/System

[12:07](#msg57064d6c799f8c895eb53c9b)But as Red is still not in even in version 1, I guess one could find security issues in it, like everywhere.

gour

[12:07](#msg57064d733bc1aed55b5b68ad)@gour nods

Zamlox

[13:49](#msg570665769ef9b99902aed95d)how should I interpret a stack trace like:

```
***   stack: gui/update-z-order 02671C28h 00000000h
***   stack: gui/OS-update-view 025A40B0h
***   stack: ctx220~update-view 025A40B0h
***   stack: show
```

if I check 'gui/update-z-order' function, I cannot see a direct call to 'gui/OS-update-view' (I assume stack trace = call stack)

[13:51](#msg570665d39ef9b99902aed988)ok, is the other way around: 'OS-update-view' calls 'update-z-order'

Oldes

[13:53](#msg5706665b82aae5fc279a3f02)@Zamlox you must read it from bottom -

```
show
```

calls

```
OS-update-view
```

and that calls

```
update-z-order
```

.

Zamlox

[13:53](#msg57066667799f8c895eb54636)all right.

[14:44](#msg5706723182aae5fc279a43e6)where I can find definition of 'GET\_BUFFER()' ? (it is used in 'gui/update-z-order')

[14:48](#msg570673279ef9b99902aedeef)I found it: runtime/macros.reds

[15:34](#msg57067e08f5db499c021882eb)where I can find definition of types like: red-value!, red-block!, ... ?

[16:02](#msg57068495d62e7a1918de9955)got it: runtime/datatypes/structures.reds

## Friday 8th April, 2016

djrondon

[07:09](#msg5707593c2a2f4d427612a393)Folks, can I make a 'post using https.. Can you give me a tip how to do it using red? Or is it just supporting get ?

[07:34](#msg57075f081ee04bd23b7672ce)are the http/https protocols supporting cookies ?

mydoghasworms

[07:42](#msg570760e0f55f5c717feb3bd3)When running a Red View app, is it possible to get rid of the Red Console window that comes up with it?

[07:42](#msg570760e88b7b2f457634c459)And more importantly: how?

Phryxe

[07:43](#msg57076137f55f5c717feb3bf6)@mydoghasworms Have you tried compiling it with -t Windows?

mydoghasworms

[07:56](#msg57076438ddb5a2cf3bba8071)@Phryxe Oh yes, that works splendidly, thanks.

[07:56](#msg57076449ddb5a2cf3bba8079)What if you want to distribute your app as a script though?

SteeveGit

[08:00](#msg570765082a2f4d427612a687)@mydoghasworms (for GUI console) Currently, there is no global reference but all GUI faces can be accessed through `system/screens`.  
The console face is hidden there:

```
system/view/screens/1/pane/-1/visible?: false
```

ghost~5680c5f416b6c7089cc058a5

[08:00](#msg5707652d1ee04bd23b76747a)@djrondon For post request just

```
write https://website.name "whatever you want to  POST"
```

[08:01](#msg570765578b17927458e28954)For cookies, see dockimbel's answer at http://stackoverflow.com/questions/36100920/red-programming-language-how-to-get-cookies-from-a-webpage

djrondon

[08:07](#msg570766baddb5a2cf3bba8123)ok. thanks

mydoghasworms

[08:08](#msg570767008b17927458e289e6)@SteeveGit Thanks, that worked. You still see the console coming up and disappearing when it starts up, but that is OK.

Oldes

[08:12](#msg570767e1ddb5a2cf3bba818a)@mydoghasworms when you want to compile just your Red app and don't need Red console, you can just simply exclude the console code from your app, cannot you?

dockimbel

[08:46](#msg57076fe72a2f4d427612a9ac)@mydoghasworms If you want to get rid of the DOS console flashing, you can use the following function:

```
red>> help flip-exe-flag

USAGE:
    flip-exe-flag path

DESCRIPTION:
     Flip the sub-system for the red.exe between console and GUI modes (Windows
only).
     flip-exe-flag is of type: function!

ARGUMENTS:
     path  [file!] => Path to the red.exe.
```

djrondon

[08:46](#msg57077001c65c9a6f7f27d35d)I was trying to read using https protocol, I received this error message:  
ERROR: Peer certificate cannot be authenticated with given CA certificates

dockimbel

[08:47](#msg570770062a2f4d427612a9b3)It should work with any executable (not just red.exe).

[08:51](#msg57077115c65c9a6f7f27d39f)@djrondon Trying to read on which site from which OS?

mydoghasworms

[09:15](#msg570776b1c65c9a6f7f27d528)@dockimbel Thank you, let me give it a try.

[09:19](#msg570777a18b17927458e28ea4)@dockimbel This unfortunately does not solve the problem of bringing up the console window in the background when I run the View app as a script. The solution @SteeveGit proposed works for me though, thanks.

dockimbel

[09:20](#msg570777eaf55f5c717feb4286)@mydoghasworms Ah, sorry, I thought you were talking about the DOS console instead of the GUI console.

mydoghasworms

[09:21](#msg5707780fddb5a2cf3bba8627)At least the issue has been fixed that when you click inside the console window that the app closes. For that I am grateful (y)

djrondon

[11:52](#msg57079b80f55f5c717feb4bac)Doc, I'm trying to use read from Linux , Ubuntu 14.04

[11:52](#msg57079b8b1ee04bd23b7682d7)but it's working for other sites.. the https

[11:54](#msg57079bd82a2f4d427612b536)I tried to read this url https://gru.inpi.gov.br/pePI/servlet/PatenteServletController?Action=detail&amp;CodPedido=684596&amp;SearchParameter=Universidade

[11:55](#msg57079c431ee04bd23b768310)see this is the form to search

[11:55](#msg57079c448b17927458e2978b)https://gru.inpi.gov.br/pePI/jsp/patentes/PatenteSearchAvancado.jsp

[11:55](#msg57079c4f74d45a71586e88c9)searching for patents

[11:57](#msg57079ca31ee04bd23b768326)you can activate the button 'Depositante' and search for titular = 'Universidade'

RenaudG

[11:58](#msg57079cc9c65c9a6f7f27ded5)@djrondon Do you have an error message ?

djrondon

[11:58](#msg57079cf174d45a71586e88f9)red&gt;&gt; a: read https://gru.inpi.gov.br/pePI/jsp/patentes/PatenteSearchAvancado.jsp  
ERROR: Peer certificate cannot be authenticated with given CA certificates  
\== none

RenaudG

[11:59](#msg57079d05c65c9a6f7f27deeb)OK. I have the same.

[11:59](#msg57079d14c65c9a6f7f27def0)And you'll get it too ifyou wget your URL

[11:59](#msg57079d338b17927458e297cf)It's not a Red problem

djrondon

[11:59](#msg57079d36f55f5c717feb4c17)you mean to try with wget ?

RenaudG

[11:59](#msg57079d3b1ee04bd23b76834a)yes

djrondon

[12:00](#msg57079d6eddb5a2cf3bba8fa0)I can try using Curl, does red have any system/call to make an external call of Curl ?

[12:01](#msg57079da81ee04bd23b768364)that's the request using Curl

[12:01](#msg57079daaddb5a2cf3bba8faa)curl 'https://gru.inpi.gov.br/pePI/servlet/PatenteServletController' -H 'Pragma: no-cache' -H 'Origin: https://gru.inpi.gov.br' -H 'Accept-Encoding: gzip, deflate' -H 'Accept-Language: en-US,en;q=0.8,pt-BR;q=0.6,pt;q=0.4' -H 'Upgrade-Insecure-Requests: 1' -H 'User-Agent: Mozilla/5.0 (X11; Linux x86\_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/49.0.2623.110 Safari/537.36' -H 'Content-Type: application/x-www-form-urlencoded' -H 'Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,\*/\*;q=0.8' -H 'Cache-Control: no-cache' -H 'Referer: https://gru.inpi.gov.br/pePI/jsp/patentes/PatenteSearchAvancado.jsp' -H 'Cookie: JSESSIONID=3695628C21226FBBBBA07077D8AF6C38.tecod; \_ga=GA1.3.551976525.1460096986' -H 'Connection: keep-alive' --data 'accordion-1=on&amp;NumPedido=&amp;ListaNumeroPatente=%A0&amp;NumPrioridade=&amp;CodigoPct=&amp;DataDeposito1=&amp;DataDeposito2=&amp;DataPrioridade1=&amp;DataPrioridade2=&amp;DataDepositoPCT1=&amp;DataDepositoPCT2=&amp;DataPublicacaoPCT1=&amp;DataPublicacaoPCT2=&amp;ClassificacaoIPC=&amp;CatchWordIPC=&amp;Titulo=&amp;Resumo=&amp;accordion=on&amp;NomeDepositante=universidade&amp;CpfCnpjDepositante=&amp;NomeInventor=&amp;RegisterPerPage=20&amp;botao=+pesquisar+%BB+&amp;Action=SearchAvancado' --compressed --insecure

[12:03](#msg57079dfc74d45a71586e8941)then I could make an external call to get the results back

RenaudG

[12:03](#msg57079e072a2f4d427612b5bf)Yes, Red have that, but it'n not well "integrated" yet

djrondon

[12:03](#msg57079e14ddb5a2cf3bba8fc8)ok

RenaudG

[12:04](#msg57079e3e1ee04bd23b76838c)You would have to do something like :

```
Red []

#include %./master/system/library/call/call.red

call/wait/console "dir"

out: ""
call/output "dir *.red" out

print "I get that :"
print out
```

[12:04](#msg57079e5774d45a71586e895b)And this needs compilation to work (so, not useable in REPL)

djrondon

[12:05](#msg57079e711ee04bd23b76839c)ok

[12:05](#msg57079e8674d45a71586e896a)I tried with wget and it worked. I had an error, but with one more option it worked

[12:05](#msg57079e891ee04bd23b7683a7)wget https://gru.inpi.gov.br/pePI/jsp/patentes/PatenteSearchAvancado.jsp --no-check-certificate  
\--2016-04-08 09:04:31-- https://gru.inpi.gov.br/pePI/jsp/patentes/PatenteSearchAvancado.jsp  
Resolving gru.inpi.gov.br (gru.inpi.gov.br)... 200.149.34.18  
Connecting to gru.inpi.gov.br (gru.inpi.gov.br)|200.149.34.18|:443... connected.  
WARNING: cannot verify gru.inpi.gov.br's certificate, issued by ‘/C=BR/O=ICP-Brasil/OU=Certisign Certificadora Digital S.A./CN=AC Certisign Multipla G5’:  
Unable to locally verify the issuer's authority.  
HTTP request sent, awaiting response... 200 OK  
Length: 5194 (5.1K) \[text/html]  
Saving to: ‘PatenteSearchAvancado.jsp’

100%\[======================================&gt;] 5,194 --.-K/s in 0.003s

2016-04-08 09:04:31 (1.71 MB/s) - ‘PatenteSearchAvancado.jsp’ saved \[5194/5194]

RenaudG

[12:05](#msg57079e8c8b7b2f457634d45f)Here it's to call "dir" command on Windows. Could be "ls" or more complex command.

[12:07](#msg57079efd2a2f4d427612b5f8)Yes, but for now AFAIK you can't work around this from Red, as the IO is rudimentary for now. Maybe @dockimbel could give you more info later.

djrondon

[12:08](#msg57079f2f74d45a71586e89a0)ok. I'll wait, no problem.. thanks my friend.

RenaudG

[12:08](#msg57079f46c65c9a6f7f27df80)my pleasure.

djrondon

[12:17](#msg5707a16a8b17927458e298ed);)

ghost~5680c5f416b6c7089cc058a5

[12:20](#msg5707a2021ee04bd23b7684b4)Well .... Even opening that website in chrome gives me

[12:22](#msg5707a2751ee04bd23b7684cf)NET::ERR\_CERT\_AUTHORITY\_INVALID

[12:23](#msg5707a2a71ee04bd23b7684d9)But, agreed that in the future IO there should be way to access such sites.

Oldes

[12:25](#msg5707a356ddb5a2cf3bba9216)Red on Windows is using WinHttpRequest object.. so you must find a way, how to pass specific options like here: http://stackoverflow.com/a/12081003/494472

[12:28](#msg5707a3dd74d45a71586e8b2a)Somewhere in this function https://github.com/red/red/blob/master/runtime/simple-io.reds#L1316

[12:38](#msg5707a64174d45a71586e8c0d)I guess only @dockimbel and @qtxie has enough knowledge about using Windows classes in Red/System to do that. There is no documentation about it and requires pretty deep OS knowledge.

qtxie

[12:46](#msg5707a8397b0bca5e3ed20d00)@djrondon On Linux, red use `libcurl` to do the http(s) request. And for now we don't provide a sophisticated way to handle the certificate.

Arie-vw

[13:04](#msg5707ac60c65c9a6f7f27e403)@btiffin Maybe we could start a Dutch Red Users Group (DRUG) pun intended, because Red is addictive ;-)

djrondon

[13:20](#msg5707b028ddb5a2cf3bba9634)ok qtxie.. thanks. I'll be here waiting.. :smiley:

btiffin

[16:27](#msg5707dbfeddb5a2cf3bbaa6d3)@Arle-vw Agree, on the last part. But I imagine the first international conference of DRUG would cause far too many rubber glove issues.

@dockimbel Is it worth trying to build Red from source on 64bit Xubuntu (15.10 kernel 4.2.0-35) with an old REBOL/Pro license for 2.5.6.4.2 ? I'm getting a path error after a build, and when straced, a decapsulate Invalid compressed data problem. (That only happens under strace, straight up it's Invalid path -- error/) I put in a ticket for an encap-fs.r typo, but I'm willing to wait, if the issue goes deeper with a 2.5.6.4.2 and 64bit Xubuntu build setup.

[16:31](#msg5707dce28b7b2f457634eb23)Oh, and I only changed build.r to account for no `unless` in 2.5.6, so that could be a thing as well. Again, willing to wait it out.

[16:57](#msg5707e316ddb5a2cf3bbaa909)And now the bigger issue. I got shot down near the end of the good ole REBOL 2 days when I asked Carl about adding a typeless `text!` datatype (I actually called it `junk!` at the time, and that may have put people off), so LOAD would always work, regardless of the input. Now I'm leaning toward a `tacit!` datatype name, with run time semantics very similar to `string!`. Mentioning this as I believe Red could rule the roost with non-programmers in the Humanities and big data domains if any and all text could be LOADed as values. Carl mentioned it was a possibility but programmers did not like the idea of tainted the purity. I see that point of view, but it excludes a huge user base that want to do data analysis, and not just script loading. Carl even mentioned his pleasant surprise at how many non-tech people are using REBOL for word analysis after the last REBOL convention in Montreal. I'll opine that Red could get a nice boost in usage if there was a (n intelligent) LOAD/ANY refinement. Key on some simple delimiters like space, quote and end-block, and make a `tacit!` data item instead of throwing syntax errors, then continue loading. It would allow for things like LOAD/ANY %mybook.tex and give the power of typed data for most things, with the odd `tacit!` data (that could be cleaned up with a utility perhaps, for deeper analysis).

Just a suggestion. And not implying this would be the default semantics for LOAD, just explicit load of data. Code could still require pure and syntax error free Red types. This may only make sense when you drop a computer scientist point of view, and think like a plumber. There are a lot of plumbers. I do believe it would up the pool of potential users, by orders of magnitude. And a few smart programmers could deliver a few scripts to weed out `tacit!` data for the plumber types, but still let plumbers get raw data counts when experimenting with large pieces of text.

moliad

[17:06](#msg5707e52f2a2f4d427612cf7c)I was always on your side of this debate, but I'd use a different function name which uses most of the same lexical native code. The World language has such an "unknown datatype" type called kwatz! . There are different scenarios to consider. Some characters like "," have quite loaded meanings in various data files. if such an import-any-text-file function existed, it probably should have quite a few options to determine how to deal with some real world issues like decimal representation format ("." or "," or both) , things like recuperation characters or patterns (what do you want to use to detect when invalid data ends). its not a simple function, but having access to the internal lexical analyzer outside of proper sourcecode is a nice feature to have without a doubt.

[17:09](#msg5707e5d02a2f4d427612cfbf)@btiffin why not use 2.7.8? AFAIK the sdk licenses aren't tied to specific versions, and R2 definitely runs on 64 bit Linux.

btiffin

[18:10](#msg5707f40e1ee04bd23b76a0cc)@moliad I can't find an encap download link for 2.7.8 that isn't coming back with a server error. \*Never tried that hard actually, as I passed the 'older than a year' and haven't ponied up the $50 for an upgrade, and that doesn't seem quite fair to Carl and Cindy.* :-)

And yes, on making it \*intelligent* if it ever goes in. I agreed with Gabriele's points about purity, and dangerous if this LOAD semantic was used for code, but I still think it opens a door for Red (and REBOL) to support plumbers and not just computer scientists. And for that, simple is better than complex, so default rules would be a charset akin to REBOL `parse` with a `none!` rule. If a LaTeX book load ended up with more `tacit!` data than necessary, that could be fixed once the data is loaded, if the word smith felt like more accurate analysis, instead of the current, sorry no load for you, syntax error mode. At the time, the one that really got me was the 'invalid money!' error message. So close, REBOL even knew the data was aiming at `money!`. :-) In which case, perhaps `tacit!` data is more complicated than `string!` and would have a sub-type of \*closest Red type as guessed by the pure lexical scanner* attached to it.

dockimbel

[18:36](#msg5707fa1c05e328bb386d0216)@btiffin SDK 2.7.6 will do fine on Red codebase, that's my default version for coding.

btiffin

[18:39](#msg5707fae1c65c9a6f7f27ff14)@dockimbel Thanks Doc, I'll try and get hold of a copy, after I check to make sure that's a kosher thing to do, in terms of legal upgrade path. I'm willing to wait out your later releases if needs be. 0.6 is working out quite nicely as is.

pekr

[19:14](#msg57080333f55f5c717feb6f20)Drunk at the friend's wedding :-) From what I remember, btiffin wanted to be able to load any kind of file. Just two days ago, I had to exclude Red from my short script, analysing SAP vs company Hotline tickets. Read/lines reported wrong UTF-8 content, even if being utf-8 or ansi. I really would like to see dome relaxed mode, though I can understand

Oldes

[19:15](#msg570803361ee04bd23b76a5a1)@btiffin btw... you don't need Rebol encapper to compile Red from sources... it is only needed when you want to provide Red compiler in one file.

pekr

[19:15](#msg57080352c65c9a6f7f2801ad)Eh, sorry for enter, mobile phone ...

btiffin

[20:18](#msg57081224c65c9a6f7f28064a)@Oldes, Thanks, David. I've been out of the loop for a while, rusty, and new to the ways of the Red.

@pekr Yeah, I'm might have to shout Go Doc go! a few times, as I really do think a LOAD/ANY type feature would attract a much larger audience. It goes against \*purity\*, but it opens the door to non-technical users. It seems there are more of the them, than the us. Eh, Doc? Can we? It would take a little thinking, as making things look simple is hard, but I think it would be for the win. And the big data girls and boys might drool over using `set!` words on their random piles of information stash.

## Saturday 9th April, 2016

justjenny

[00:33](#msg57084df02a2f4d427612eaad)hi, I asked this question before, Please could someone show me how to trap/detect the close event (X) when closing a Red gui from the title/drag bar - also I notice that the 'Alt+F4' keys do not close a Red window.

dockimbel

[04:02](#msg57087ee705e328bb386d0525)@justjenny Alt+F4 should close the window, it's a bug. For the close event, just add a `on-close` actor to the window face (VID does not support yet setting window's actors):

```
view/options [text "hi"][
    actors: object [on-close: func [face event][print "closing"]]
]
```

[04:28](#msg570884e4afe21a92130d134f)@btiffin I think a`load/any` with a \*junk* datatype is the wrong solution for some probably real needs. It just gives you the \*illusion* of being able to load anything, while messing up your loaded content in \*unpredictable* ways. It would quickly disappoint any newcomer when they would realise that they can't use that approach to obtain reliable results. Though, I would be very interested in understanding the real needs for such feature. If it's about \[NLP](https://en.wikipedia.org/wiki/NLP), then a NLP library would a way better option. If it's about covering other needs, I would be glad to see them defined clearly (because again, the "can load anything" will never be true, it's an illusion in the same class as "perpetual motion"). I would very much like to see real use-case examples where a `load/any` approach is supposedly better, and study them. If `load/any` would then appear as the best option despite its shortcomings, I would be ready to consider it.

btiffin

[06:18](#msg57089ebbc65c9a6f7f281b3b)Use case; LOAD/ANY %gcfaq.rst, (it's 1150 pages) count the number of url! and find them. If the list is off by 20 (or more) entries, I'd still be happy, especially if there is a way to dump out untyped items, to make refining the data block an easier task. Not talking about setting up data that would run a financial transaction, only interested in rough counts, to satisfy a curiosity. Like most Humanities work. How many words in a file, how many numbers, how many email addresses. Along with a count of untyped data, would give a curious data researcher a very good start. These are not computer science task use cases, more a plumber willing to put up with a few drips but still let people on the second floor get a drink of water during initial construction. Drips can be found and fixed, while at the same time, people on the second floor get fluids. With syntax errors aborts, you get all or nothing. Not really NLP. It could \*lead* to NLP, but only if you can LOAD/ANY find junk, fix junk, rinse repeat. All the while, the data is in a block! with most items properly typed, but maybe not all of them. This would not be a programming feature, it would be a curious end user doing some console research. Maybe plumbing isn't the best analogy. A puzzler, starting with random pieces and slowly organizing the complete picture, might be a better way of looking at it. The unpredictable items can be left as junk, until dealt with, but with a great tool to assist in building up the pieces. Even while the puzzle is incomplete, a query might be, how many blue ones so far, or how many left to do. Perhaps leading to an end game scenario of, how many pieces in this box aren't actually a part of this puzzle, now that there is a complete picture.

SteeveGit

[08:31](#msg5708bde0ddb5a2cf3bbacd4d)@btiffin basically, you're asking for the implementation of `transcode/next` which is still lacking in Red?

[08:33](#msg5708be4ff55f5c717feb8b77)Looking at the source of transcode, it doesn't seem to be a hard feature to implement.

meijeru

[09:20](#msg5708c96f2a2f4d427612f62e)@dockimbel I looked up the source of `transcode` as well, and have two remarks: (1) why isn't it global as in REBOL? This could be useful even without `/next`; (2) it is defined as a `function` but still has a (long) list of locals -- the danger of inconsistency is lurking here ;-)

SteeveGit

[09:27](#msg5708caf0ddb5a2cf3bbace9e)@meijeru Load is the wrapper for transcode you're asking for at this point. I understand why Doc didn't feel the urge to do such.

[09:29](#msg5708cb6ff55f5c717feb8ceb)Without the need for /next refinement, I also don't see the point.

meijeru

[11:14](#msg5708e402c65c9a6f7f2821e7)@SteeveGit Then the question arises: why did R3 make it global? Does anyone know??

SteeveGit

[11:14](#msg5708e432ddb5a2cf3bbad13e)Still , system/lexer/transcode works

[11:19](#msg5708e5451ee04bd23b76c484)IIRC transcode in R3 doesn't use parse and legit rebol rules. Perhaps for performance concerns.

meijeru

[12:32](#msg5708f675f55f5c717feb9178)@SteeveGit So much is certain: `transcode` in R3 is a `native!` value.

justjenny

[13:38](#msg570905ce8b7b2f4576351abb)@dockimbel thanks you for the help.

btiffin

[14:37](#msg5709139c8b7b2f4576351c86)@SteeveGit kinda, but not really. I'm suggesting a catch-all data type instead of syntax aborts. Very few large pieces of text can be LOADed by REBOL or Red, but these large pieces may still hold valuable treasures of insight for a data miner.

Again, I would not expect script loading to allow this level of lax data typing. This is a data as data thought experiment. And giving non-technically minded people the power of LOAD. The types of people that may not care about the nuances between `issue!` versus `tuple!`, but would still like to analyze some Shakespeare in `block!` form. And run something like

`probe intersect hamlet othello`

from the console. If that was off by even hundreds of words, a professor might still be quite delighted with the results. Using a tool that only required two load commands and a probe. If that result was part of a published article, it could end with "23,000 words in common; within a margin of error of 3%".

They might then pass that off to the computer science class and ask their colleague to have some students, that actually do understand data types, to massage the data blocks to get the margin of error down to 0. But that would not be needed to get the initial article of interest published. That interest may well spiral into more refined word analysis, Red at the core, and English majors happily publishing papers, with little concern over the amount of hard work Doc had to put in to make that possible.

SteeveGit

[15:00](#msg570919158b7b2f4576351d2f)It's not that hard to code a `while` loop and trap all syntax errors from a `transcode/next` function until the end of a code block. But it's for red like syntax only. I can't see why you mix this feature with NLP ones (e.g. hamlet) which need specific parsing rules ???

btiffin

[15:28](#msg57091fb88b7b2f4576351e43)It's not that hard to code a while loop, \*for a programmer\*, I'm talking about opening the door to completely non-technical people. This is where the debate ended up the first time around. Purists won the day. And maybe that's a good thing, but I firmly believe it severely reduces the number of active users of REBOL, and the pool of potential users of Red. Casual users that is. In the use case above, the specific parsing rules are word! and junk! (tacit!, kwatz!, a good name would help, junk is too negative) data and allowing LOAD to work with real world text files. As data, not as scripts or computationally important information, just \*bits of information\*, floating in a `block!` structure. In Starship Troopers speak, "and it's still 87 percent combat effective".

SteeveGit

[15:53](#msg5709258e1ee04bd23b76ccf5)It's still not clear to me. You're describing interesting features but why do you need to clutter the load function with thing unrelated to Red syntax debugging. Just write a separate function and if it's good enough, people will use it... no?

PeterWAWood

[16:10](#msg57092980ddb5a2cf3bbada4a)@btiffin It's good to see you here Brian. You clearly haven't lost any of your zeal for a catch-incorrect-data datatype. You may get some initial support by posting here on Gitter but your arguments will all too soon scroll off into the distant past. I think that it would be better for you to develop a long-lasting proposal in the Red GitHub wiki. We have a \[Red Enhancement Proposal Process ](https://github.com/red/red/wiki/Red-Enhancement-Proposal-Process) just for this type of request.

btiffin

[16:39](#msg5709302c2a2f4d4276130318)Cool, thanks Peter. And yeah, I don't really want to pollute the tech discussion channel, anymore than necessary.

@SteeveGit, one last one. I'm talking about out the box Red being able to load any and all text files into block! form. It seems like an enticing feature, to me, in particular, for non-programmers. Programmers are either going to "get Red" and love it, or not get it, and ignore it. LOAD/ANY would dangle the juicy Red carrot in front of a much larger audience. Programmers could then assist with purifying the non-programmer routines, that they start playing with. That potential audience is huge, relatively speaking.

moliad

[16:41](#msg570930caddb5a2cf3bbadb6c)@meijeru IIRC transcode ... it was to be the base for native-speed dialects. but after usage and real-world use, wasn't a good fit for that specific purpose. Though its a good low-level function to have IMHO. As a commercial and professional Rebol coder, I like having access to the low-level stuff even if its only used rarely. When it is used, it generally allows you to create a new paradigm for your code/project and scales Rebol above other languages and dev platforms.

[16:44](#msg5709317e74d45a71586ed6a5)With Red, I like having access to R/S so seamlessly.

tanstaaf1

[16:57](#msg57093496ddb5a2cf3bbadc08)@PeterWAWood When you first proposed the formal Red Enhancement Proposal I thought it was a good idea. I still do. However I've noticed there aren't a lot of people taking the time to file their formal proposal -- I don't think that means there aren't plenty of good ideas. So, I think there needs to be a place to collect INFORMAL suggestions and make them easy to find, peruse, debate, and augment at a later date. The better end results from that process would then, ideally, frlow into your formal proposal process? What do you think?

gour

[19:57](#msg57095e9360118d7902ca7619)@PeterWAWood i got answer from Gmane admin...

Zamlox

[21:57](#msg57097adcc65c9a6f7f283a4f)is it possible to dump a stack trace on the console within a Red script ? If yes, how ?

PeterWAWood

[23:34](#msg57099168c65c9a6f7f283de9)@tanstaaf1 The Red Wiki is the correct place for people to develop there proposals. They can start with a blank page and then turn it into an acceptable proposal. Why do we need anything else?

By the way, the Red Enhancement Proposal process is not "mine", I simply entered into the wiki on behalf of the Red team.

## Sunday 10th April, 2016

gour

[06:54](#msg5709f8a6afe21a92130d1807)

[07:16](#msg5709fdcc28c142303968cc9d)@dockimbel @PeterWAWood here is reply I got from Gmane admin: "Subscription messages for the requested mailing lists have been sent. The resulting groups will be created when the first message arrives from the mailing lists."

[07:16](#msg5709fde6afe21a92130d180d)so, if someone of you send some (test) message to the mailing list, Gmane should trigger. ;)

[07:18](#msg5709fe3aafe21a92130d1811)moreover, it should be that mailing list moderator should act in regard to the above-mentioned "subscription messages" in order to subscribe Gmane to the list

PeterWAWood

[08:34](#msg570a100af55f5c717febb7c7)@gour I have approved the Gmane subscription to the Red Mailing List.

gour

[08:35](#msg570a103fafe21a92130d1827)@PeterWAWood thank you very much. it means that from now on it should be possible to post via Gmane...let me check its hierarchy...

[08:38](#msg570a10eeafe21a92130d182b)but someone should send some post to the list first to trigger creation of the group

SteeveGit

[11:12](#msg570a3514ddb5a2cf3bbafc14)

kermitaner

[11:39](#msg570a3b6c8b7b2f457635430f)`Red [] arr: copy [] loop 5000 [ append/only arr [1 2 3 4 5 6] ] loop 1500 [ foreach a arr [ c: [2 3 4 5 6 7] l: length? intersect a c ] ] print "finish"`

[11:41](#msg570a3bcec65c9a6f7f284e56)im getting a runtime error ( 97 ) from this code, reason is probably from the intersect function ?! ( win 10, compiled with current red.exe )

SteeveGit

[11:46](#msg570a3d211ee04bd23b76f102)define RED\_ERR\_VMEM\_OUT\_OF\_MEMORY 97

kermitaner

[11:50](#msg570a3e23c65c9a6f7f284ea0)yes, out of memory but is this supposed to happen ? ( script is running ok with rebol interpreter ) or is this a problem of the garbage collector ?

SteeveGit

[11:51](#msg570a3e252a2f4d4276132557)Remember, there's no GC in Red for the moment,

kermitaner

[11:51](#msg570a3e2b8b17927458e30773)ah , ok

## Monday 11st April, 2016

JenniferLee520

[02:12](#msg570b0801c65c9a6f7f28710a)By using "React" function, we can achieve "Reactive Programming", which makes out code sort and clear. But React function is just a part of the Red View engine, I guess we cannot use it outside of GUI programming. Can you make it more general, so we can use it even outside GUI? Thanks. @dockimbel

meijeru

[06:57](#msg570b4ae9f55f5c717febe8b7)@JenniferLee520 I understand that the `on-change/on-deep-change` facilities as explained in the latest blog article are fully usable outside GUI programming.

JenniferLee520

[07:49](#msg570b56f874d45a71586f26e3)@meijeru I am not talking about on-(deep-)change\*. I am talking about reactive programming. They are different.

[07:53](#msg570b5805f55f5c717febeb58)On-change* is a way for the system to notify you so that you can make the change or whatever by yourself. React is a way that you declare a data formula for the system to keep so that the system can maintain it without notifying you.

fordguo

[08:35](#msg570b61bf8b7b2f45763572c8)Hi, guys. How install the JSON library : http://red.esperconsultancy.nl/Red-JSON

[08:36](#msg570b621eddb5a2cf3bbb2cce)@dockimbel  
&gt; Have anyone tried Kaj's JSON binding? Haven't managed to get it to work. Tried to compile his example ...  
Do you resolve it?

Phryxe

[08:55](#msg570b66748b7b2f457635741a)@fordguo I think you are quoting me. No, I didn't get it to work. Maybe I missed some dependencies (common, c-library etc).

meijeru

[10:17](#msg570b79a6f55f5c717febf44a)@JenniferLee520 So true, but you could already have (some of) the effect by developing your own DSL for this purpose (strong point of Rebol/Red!). I suppose you could also specify your needs to @dockimbel and have the DSL made into part of the system, but someone else might need something slightly different...

[10:20](#msg570b7a818b17927458e33e8a)Remember the `react` facility of View/VID is very specific to the GUI.

Phryxe

[10:44](#msg570b8007ddb5a2cf3bbb3464)@fordguo I also tried the SQLite lib, but no luck there. If someone has a working example of either of these with Red 0.6.0 ...

fordguo

[11:07](#msg570b858d8b17927458e34110)@Phryxe Thanks, I will try again :(

Arie-vw

[11:09](#msg570b86008b7b2f4576357c08)@dockimbel Is load in simplest form not yet implemented? I get "\*\** Script error: get does not allow integer! for its word argument \*\** Where: get"

rebolek

[11:14](#msg570b870328c142303968d29e)@Arie-vw `load` works fine AFAIK. What exactly are you trying to do?

Arie-vw

[11:17](#msg570b87cf2a2f4d4276135fb0)@rebolek Just trying to load a data block from a file. Will check if something in my work env is incorrect then ...

[11:19](#msg570b88408b17927458e341b8)Found it. It is quite a large structure and I missed a quote! Thx for help!

rebolek

[11:21](#msg570b88b860118d7902ca7e24)You're welcome :)

ghost~5680c5f416b6c7089cc058a5

[11:42](#msg570b8d9a8b7b2f4576357dd9)@meijeru @JenniferLee520 Well, there are libs for reactive programming for a lot of programming languages for eg. see http://reactivex.io .. If Red has them, its gonna help adoption. Reactive programming helps in certain kinds of problems...

PeterWAWood

[11:53](#msg570b9041c65c9a6f7f288b6f)I'm sure that widening the reactive programming support in Red is something that @dockimbel would like to do. It's not currently identified in the roadmap so will most likely be addressed after Red 1.0 has been released. It would be of great help if you could put together a Red Enhancement Proposal to widen Red's reactive programming support. It would help clarify what is needed.

ghost~5680c5f416b6c7089cc058a5

[12:03](#msg570b927a74d45a71586f369e)@Phryxe @fordguo Download this file -

[12:03](#msg570b9283f55f5c717febfab6)http://red.esperconsultancy.nl/Red-test/artifact/d44ebe7e78ed591d

[12:03](#msg570b92a8c65c9a6f7f288c2e)And fossil -

[12:03](#msg570b92abc65c9a6f7f288c32)https://www.google.co.in/search?q=fossil&amp;oq=fossil&amp;aqs=chrome..69i57.2294j0j4&amp;sourceid=chrome-mobile&amp;ie=UTF-8#q=fossil+scm

[12:04](#msg570b92b48b17927458e344e4)Damn, wrong link

[12:04](#msg570b92c7c65c9a6f7f288c3c)This -&gt; http://fossil-scm.org/index.html/doc/trunk/www/index.wiki

[12:04](#msg570b92d4c65c9a6f7f288c43)Keep them in same folder

[12:05](#msg570b92fbc65c9a6f7f288c50)And then from rebol2 console -

[12:05](#msg570b930cf55f5c717febfae4)`do download.r`

[12:06](#msg570b9339c65c9a6f7f288c66)It will download all of Kaj's Red bindings and libs, all in the appropriate paths.

[12:06](#msg570b93591ee04bd23b772d6a)Then try to compile the JSON examples from their directory.. It should compile and work.

[12:07](#msg570b9388f55f5c717febfb0a)Sorry `do download.r` should be `do %download.r`

[12:09](#msg570b93dd8b7b2f4576357feb)`download.r` file downloads the latest version of his libs which have already been updated for Red 0.6.0

fordguo

[12:46](#msg570b9cb02a2f4d4276136597)@nc-x Thanks

Phryxe

[14:22](#msg570bb327f55f5c717fec058f)Thank you @nc-x , but I don't think I want to install Fossil to use these libs.

ghost~5680c5f416b6c7089cc058a5

[14:35](#msg570bb616f55f5c717fec06a2)@Phryxe Well fossil is a DCVS (you can compare it to git) . It is a single executable which is only used to clone the repos which contain the source of those libs. The libs as such have no dependency on Fossil.

[14:36](#msg570bb65e1ee04bd23b7739db)Fossil is a single "portable" executable requiring no installation.

[14:40](#msg570bb76074d45a71586f437e)Well, there is @kealist 's GitHub clone of all Kaj's bindings. https://github.com/kealist/RS-fossil-mirror

[14:41](#msg570bb7882a2f4d4276136f52)You won't require fossil to use them. You can just download the source on Github directly.

[14:41](#msg570bb7a174d45a71586f43a2)But well, these are outdated and won't work with Red 0.6.0

[14:42](#msg570bb7bac65c9a6f7f289963)So, to use those libs, the only option currently is to use Fossil.

gour

[19:32](#msg570bfbc433c1787228d46349)fossil is great and easy to use

rebolek

[19:39](#msg570bfd7976450ea64ad304a6)the web ui is really confusing

gour

[19:41](#msg570bfde776450ea64ad304ad)@rebolek you can just use cli ;)

[19:41](#msg570bfe05bb2950c027439654)@gour does not understand what's confusing in web ui

pekr

[19:47](#msg570bff492a2f4d427613894b)It really looks like a piece of crap :-)

[19:48](#msg570bff781ee04bd23b7753d9)I don't really understand, how authors of SQLite could come up with something like this. This is completly and utterly disconnected from an average mortal way of thinking, sorry :)

rebolek

[20:04](#msg570c034dbb2950c027439682)cli version might be fine, but the web ui is confusing and it’s really hard to find something in it

## Tuesday 12nd April, 2016

gour

[05:23](#msg570c8655d2dc1283036fa0b6)@pekr would you mind to explain a bit? what is strange to you?

pekr

[05:32](#msg570c886ff55f5c717fec3fb0)@gour - I don't question the design of fossil. It is said to be clever. But its user interface is so confusing, that many, and I really mean - many ppl, do struggle to use it and are offent lost, not knowing where to find latest stuff.

gour

[05:33](#msg570c88b476450ea64ad30720)@pekr well, i find fossil utterly simple and really do not understand what's the difference between lookin at its web ui and e.g. git's gitk?

[05:34](#msg570c88ddbb2950c0274398bf)e.g what is problem to find? fossil's timeline is mostly linear...

[05:35](#msg570c8920bb2950c0274398c0)iow. showing real example would help me understand..

pekr

[05:41](#msg570c8a961ee04bd23b7770f5)I can see now the design is kind of prettier, but most probably it was a timeline, where I felt lost - http://red.esperconsultancy.nl/Red-SQLite/timeline

[05:42](#msg570c8adfddb5a2cf3bbb7c0d)I have to click some odd hash, or what is that ... only to come to even weirder page. Where real stuff = files, are hidden in "other links" section ...

[05:43](#msg570c8b0674d45a71586f7c59)Maybe that's why Kaj prepared download.r script in the end, which download his latest sources, or something like that

gour

[05:43](#msg570c8b14bb2950c0274398c3)@pekr in any case i suggest to spend some time with the tool which is very powerful, but still much simpler to operate and not to forget that it includes wiki and distributed issue tracker, iow. kind of github-in-a-box as mentioned on the site ;)

[05:58](#msg570c8e7ed2dc1283036fa0c8)btw, Red's mailing list is now subscribed to Gmane (nntp interface) and waiting a new message to be triggered, so if there is some volunteer who is approved poster to send a test message to the list...

Phryxe

[07:59](#msg570caae21ee04bd23b777792)I thought NNTP was dead a long time ago ...

gour

[08:01](#msg570cab4276450ea64ad3079b)@Phryxe check http://gmane.org/ what i see is that web forums are dying and stuff like Discuss are becoming more popular...

PeterWAWood

[08:03](#msg570cabd72a2f4d427613ad7a)Please can we try to keep the discussions related to Red.

fordguo

[09:25](#msg570cbf0974d45a71586f88dc)Hi,All.  
In red lang, how to send a post http request to web server ?

Oldes

[09:29](#msg570cbfde2a2f4d427613b301)@fordguo :point\_up: \[8. duben 2016 10:00](https://gitter.im/red/red?at=5707652d1ee04bd23b76747a) but please note, that this is just temporary solution as IO is planed for 0.7.0 release.

fordguo

[09:33](#msg570cc0df2a2f4d427613b362)@Oldes it helps me. Thanks :+1:

[09:35](#msg570cc1472a2f4d427613b37d)BTW, what's the plan for 0.7?

rebolek

[09:35](#msg570cc17c33c1787228d46711)@fordguo see https://trello.com/b/FlQ6pzdB/red-tasks-overview for roadmap

fordguo

[09:44](#msg570cc39af55f5c717fec4de4)Great! thanks @rebolek !

djrondon

[21:08](#msg570d63ba548df1be102c4803)Folks, Where are the Red milestones for web platform? Is it gonna be RSP, CGI, or services with non block such as nodejs ... Dock, what do you have in mind ?

[21:09](#msg570d63f4548df1be102c480c)Where is Cheyenne on this ?

## Wednesday 13th April, 2016

Cybarite

[01:35](#msg570da248a2a216782eca03fc)@djrondon There is a Cheyenne answer in \[Answers to Community Questions](http://www.red-lang.org/2015/12/answers-to-community-questions.html) which reads like Red 1.0.

kookerus

[03:59](#msg570dc40b3ddb73ba105b863e)When I try running "do %run-all.r" in the rebol interpretor linked to on the red-lang site, I get an error saying:  
Script: "Builds and Runs All Red and Red/System Tests" (none)  
\** Script Error: Feature not available in this REBOL  
\** Where: context  
\** Near: SECURITY\_ATTRIBUTES: make struct! [  
nLength \[integer!]  
lpSecurityDescriptor \[integer!]  
bInheritHandle [int...

[03:59](#msg570dc4304c2125fc3f01dbd0)well, that got mangled. lemme try again.

[03:59](#msg570dc4342c971116643160c1)`Script: "Builds and Runs All Red and Red/System Tests" (none) ** Script Error: Feature not available in this REBOL ** Where: context ** Near: SECURITY_ATTRIBUTES: make struct! [ nLength [integer!] lpSecurityDescriptor [integer!] bInheritHandle [int...`

[04:00](#msg570dc45e3ddb73ba105b864d)`Script: "Builds and Runs All Red and Red/System Tests" (none) ** Script Error: Feature not available in this REBOL ** Where: context ** Near: SECURITY_ATTRIBUTES: make struct! [ nLength [integer!] lpSecurityDescriptor [integer!] bInheritHandle [int...`

[04:00](#msg570dc479b30cfa0f384ade1a)Whelp, guess it'll just mangle it no matter how I type it

[04:03](#msg570dc5132c971116643160df)Anyway, is there a way to fix that error?

PeterWAWood

[05:41](#msg570ddc025ed5a4fd3fe27fc4)@kookerus On Windows you must run the tests with Rebol/View

[05:43](#msg570ddc712c97111664316451)You can run the tests with Rebol/Core under other OS.

iceflow19

[07:13](#msg570df18d4c2125fc3f01e30c)In the 0.6.0 release are routines supposed to be marshalling string! as c-string! ?? If so, shouldn't it also be converting it to UTF8? So far when I try to pass a string it comes out fudged...

[07:34](#msg570df69a5cd40114649ac9f4)Or am I being a ditz and missing something...

rebolek

[07:49](#msg570df9f71c4c9a2c07f200c4)@iceflow19 routines are Red/System level code and R/S doesn't know about `string!`, only `c-string!`. You must do conversion from/to UTF-8 manually (however, it's not that hard, there are support functions to do it and it's one/two lines operation).

iceflow19

[07:56](#msg570dfbc3b30cfa0f384ae7ef)@rebolek What function are you talking about in particular? If its unicode/to-UTF8, tried that already. Doesn't work.

rebolek

[08:01](#msg570dfcdb075bfdca5a8e3e4a)@iceflow19 I use it all the time and works without problem. If you can show me what are you trying to do, maybe I can help.

PeterWAWood

[08:03](#msg570dfd365ed5a4fd3fe28626)

[08:06](#msg570dfdedaf46361038640a25)And this code snippet from @rebolek that I've modified a little:

```
return-red-string: routine [
    text [c-string!]
] [
    string/load text length? text UTF     
]
```

iceflow19

[08:13](#msg570dffaeaf46361038640a9d)I realize what I was doing wrong given the functions. It was that len: -1 and :len business.

[08:15](#msg570e001bb30cfa0f384ae910)I looked back through the revision history of Unicode.reds I wrote a portion of my code back before the GUI branch merge to main. When the functions changed....

[08:18](#msg570e00d5b30cfa0f384ae940)The errors I was getting (because of other issues) were cryptic enough, I was mistaken about what was going on. Probably should have just looked to see if what I was calling had changed at all.

[08:18](#msg570e00db3ddb73ba105b9158)Thanks @PeterWAWood

[08:20](#msg570e014d3ddb73ba105b917f)Because of the addition of a new length argument to unicode/to-UTF8 it was picking up my c-string variable on the next line of my code.

PeterWAWood

[08:42](#msg570e06664c2125fc3f01e887)@iceflow19 Glad to be of some help.

pekr

[08:51](#msg570e08893ddb73ba105b93a9)Maybe a stupid question, but anyway. Yesterday, we've posted an (now reduced to) 80 linec image BW converter done in Red. I just wonder - is the effect interpreted, or compiled? And would it help, writing it in Red/System and having it available via routine for e.g.? https://fotomix.wordpress.com/2016/04/10/red-convertendo-imagens-para-tons-de-cinza-2/

PeterWAWood

[09:19](#msg570e0f20548df1be102c6aab)@pekr You can check yourself using

```
system/state/interpreted?
```

Compile and run this little test to see:

```
Red []
interpreter: system/state/interpreted?
print ["Interpreter? " interpreter]

do [
	interpreter: system/state/interpreted?
	print ["Interpreter? " interpreter]
]
```

[09:21](#msg570e0f91548df1be102c6acb)By the way, don't put system/state/interpreted? in the print block as it will always return true as the print block will be evaluated by the interpreter.

[09:21](#msg570e0fa62c97111664316fe6)The maths should be quicker in Red/System.

SteeveGit

[13:07](#msg570e449a5ed5a4fd3fe29a06)(Red/system) To change the mood, just a funny function, I came across, which doesn't seem to be used at least. Look at the boolean expression. ;-)

```
;-- Set series header flags
;-------------------------------------------
set-flag: func [
	node	[node!]
	flags	[integer!]
	/local series
][
	series: as series-buffer! node/value
	series/flags: (series/flags and not flags) or flags	;-- reset flags bits, then apply flags
]
```

meijeru

[13:23](#msg570e4847548df1be102c7c0b)@SteeveGit Do you mean it is funny that the function does not seem to be used? Because the expression for setting the flags is not funny, but correct: the part between parentheses ensures that the series flags NOT to be set by the `flags` parameter remain as they are, while the OR ensures that the other ones, which have been unset first, ARE now set as they should be.

SteeveGit

[13:27](#msg570e49402c97111664318150)unless I'm missing some magic somewhere, the expression `(a and not b) or b` should be equivalent to `a or b`. That's why it's funny

meijeru

[13:37](#msg570e4b9f4c2125fc3f01fd08)On second thought, you are right ;-)

SteeveGit

[13:38](#msg570e4be53ddb73ba105ba8d4):+1: :;)

dockimbel

[14:41](#msg570e5a9530a23db340afb3ec)@SteeveGit Good catch! You can submit a PR to fix it, though remember to use a proper FEAT/FIX header for the commit log message.

SteeveGit

[14:42](#msg570e5ae4b30cfa0f384b06e5):ok\_hand:

iceflow19

[15:56](#msg570e6c3eaf46361038642f6e)Under what circumstances does a looping construct require evaluation by the interpreter in Red?

[16:00](#msg570e6d073ddb73ba105bb69e)http://stackoverflow.com/questions/36603785/when-do-red-looping-structures-require-interpretation

SteeveGit

[16:07](#msg570e6ecb4c2125fc3f020af4)Strange question. I would say, always with REPL, never when compiled.

[16:09](#msg570e6f20b30cfa0f384b0ea3)But even in compiled scripts ,if `DO block!`is used, then it's interpreted.

iceflow19

[16:21](#msg570e71ff548df1be102c8cfd)So than why not just inline a do whenever the compiler sees a loop function?

SteeveGit

[16:24](#msg570e72b32c9711166431922b)Usually DO is used on a variable, not a static block.

[16:28](#msg570e73a34c2125fc3f020cbd)Sorry, my `DO block!` is confusing

moliad

[22:57](#msg570ecef04c2125fc3f02295d) Am having a lot of fun with Doc this week. We went over a lot of stuff these past 3 days . :-)

[22:59](#msg570ecf675cd40114649b1096)Red is really shaping up, congrats to the whole Red team.

## Thursday 14th April, 2016

asampal

[01:31](#msg570ef304f8160b9c07c16b28)@moliad , what kind of things were discussed?

moliad

[03:06](#msg570f0947b30cfa0f384b39e3)Mainly, going through various issues I have, seeing how red can solve them. We're also reviewing requirements I have for moving my codebase to Red. Doc has been showing off a lot ;-) There is a lot to like about the latest Red!

[03:08](#msg570f09beb30cfa0f384b39f1)today we went over the whole 'PARSE codebase (we may have found that the implementation of the 'THEN keyword has the same semantics as the 'OPT keyword and is useless (same goes for R3) ).

[03:19](#msg570f0c37b30cfa0f384b3a55)we ended with a quick overview of the preliminary work I did to do implement static .lib file linking within Red. The .lib file unpacking for windows platform is well underway, I've probably got about an evening's worth of work to finish the reading of the file, at which point the real work starts... integrating the static code into Red compiled executables.

[03:24](#msg570f0d513ddb73ba105be328)tomorrow we'll do a work session on building a native and highly integrated implementation of liquid within Red. With the discussions we've had so far, it may be much less work than I had previously anticipated, as some of the internals of Red are implemented in perfect alignment to the needs of liquid.

[03:35](#msg570f100fb30cfa0f384b3b09)I think I'll be able to accelerate some of the more processor heavy parts by one or two orders of magnitude. I can't wait to do some benchmarks once I've got a core prototype setup.

pekr

[04:39](#msg570f1eee548df1be102cba84)So Doc is in US (or Canada, or where are you from?). Have a good times, guys!

fergus4

[06:27](#msg570f385aaf463610386462a6)Red liquid! Red glass? Or does reactive vid make glass less enticing?

moliad

[17:51](#msg570fd89e4c2125fc3f026b70)yes, my first project's codename: blood ;-)

[17:52](#msg570fd8d2b30cfa0f384b739d)@pekr I'm in Canada .

pekr

[17:53](#msg570fd8fe4c2125fc3f026b90)Thanks, I thought so. Remembered something like that from the last Rebol devcon times ...

[17:53](#msg570fd915b30cfa0f384b73b5)So your move to the Red is now a sure thing, right? :-)

moliad

[17:55](#msg570fd986548df1be102cf173)@fergus4 Reactive programming is a different model of dataflow than liquid. they are compatible though. especially for the event management, using Reactive programming as the input to a liquid graph is a perfect setup.

[17:56](#msg570fd9cd4c2125fc3f026be2)@pekr With all the discussions Doc and I are having (technical and business wise), Red is the clear winner.

pekr

[17:56](#msg570fd9e8548df1be102cf192)Thanks. That sounds really encouraging!

moliad

[17:58](#msg570fda635ed5a4fd3fe30d95)In fact, not even considering GUI and Compilation, Red is much more advanced (in terms of completion) than it may seem from the outside. A lot of the internals are actually MORE complete and robust than equivalent stuff in R2 and R3.

RenaudG

[18:01](#msg570fdaf0548df1be102cf1fb)Nice! :)

pekr

[18:07](#msg570fdc77af463610386494e7)I really can't wait for stuff like IO, robust event loop, and later concurrency :-)

SteeveGit

[18:16](#msg570fde895cd40114649b55a3)And GC, everyone forget GC :joy:

pekr

[18:30](#msg570fe1b65cd40114649b56bf)Not, not everyone. Simple GC is scheduled for 0.6.1 :-)

alpha123

[18:34](#msg570fe29a4c2125fc3f026f7e)Erm if Red needs a GC I happen to have written several (though I don't actually know Red nor Rebol)

## Friday 15th April, 2016

dockimbel

[00:14](#msg5710325230a23db340afc049)@alpha123 What kind of GC did you implement? We are already working on a minimal GC before implementing a more sophisticate one in a later version.

nickantonaccio

[02:07](#msg57104cce5cd40114649b71f7)@moliad It's great to hear that you're getting more involved with Red!

pekr

[06:28](#msg57108a105ed5a4fd3fe33537)@moliad @dockimbel - would you guys mind posting a summary of what Max posted here, to the Altme, then some kind of aggregate to FB group? I find the cooperation info really encouraging and communication wise, it would imo further strenghten Red's position in ppl's minds. If it would be tweeted, it would get even to SO channel, where some rebollers dwell too ...

gour

[06:44](#msg57108deaf8160b9c07c1755f)i was looking for quite some time for an adequate langauge which is powerful, simple, has decent multi-platform GUI capabilites etc. and now put all my 'eggs' into Red' basket :-D

RenaudG

[14:58](#msg57110180af4636103864df43)I started a small library of utilities for Red, if it can be useful to someone (or if you can help to improve it) ... https://github.com/RenaudG/red-utilities

asampal

[15:01](#msg57110234507f6ddc703cc096)@RenaudG , that functional library looks nice - maybe this, http://www.rebol.org/view-script.r?script=hof.r, could be ported and merged with it.

RenaudG

[15:06](#msg5711036a5cd40114649b9e21)Thanks @asampal I'll have a look. It seems interesting, and it's a lot more complete.

asampal

[15:10](#msg5711045b876ea94b49e59604)A while back I suggested to @dockimbel that it would be great if Red could at some point support the immutability aspect of functional programming. IIRC, he said he'd take a would take a look at some of the immutable datastructures that are available for languages such as Clojure, Scala, JavaScript and so on. Having these available would really help in taking advantage of concurrency while keeping things manageable in a functional approach.

[15:12](#msg571104ea82811d2e18b4bc62)@RenaudG - @greggirwin also had a similar library, I believe, from really early in the life of Red. It would maybe make sense to merge these efforts.

RenaudG

[15:16](#msg571105bfb30cfa0f384bc096)It could be a good idea, yes. But for now i'm writing this mainly to learn, and to get some feedback... \[For sure, I'll learn a lot from hof.r]  
@dockimbel said that we'll have APPLY soon, and USE will most probably be included also.

[15:20](#msg571106a65cd40114649b9f7d)My MAP, FOLD &amp; FILTER don't use the same order as hof.r, as i wanted them to be useful with PIPE, piping a series as first argument... but maybe it would be more consistent to have the series as last argument and rewrite MAP, FOLD etc. in the "standard" way.

asampal

[15:27](#msg5711084b876ea94b49e59621)well, couldn't the pipe operator handle both first and last (wherever the series is) positions for the series? So you could get the effect of the Clojure threading macro, `->`, for example.

RenaudG

[15:28](#msg571108b53ddb73ba105c6c39)It does, depending on the use of &lt;| and |&gt; on a expression by expression basis.... but when i wrote MAP (etc.) i only had |&gt; (piping as first argument) ;)

[15:30](#msg5711092b2c97111664324151)I must add a sample of mixing |&gt; and &lt;| in the demo file

alpha123

[15:41](#msg57110b9a3ddb73ba105c6d43)@dockimbel Two: a simple stop-the-world mark and sweep collector, and a quad-color incremental generational collector

greggirwin

[21:20](#msg57115b0a2c97111664325ce1)@asampal @RenaudG , I do still have my old red mezz stuff, though some is native now I believe. The key is having guidelines for contributing at the mezz level, so we reduce the work of Team Red rather than add to it.

## Saturday 16th April, 2016

RenaudG

[10:30](#msg571214515ed5a4fd3fe38eb4)Thanks @greggirwin, it would be nice to have such guidelines written somewhere.

SteeveGit

[11:13](#msg57121e744c2125fc3f02ef12):question: Réflections about mold/flat on blocks.  
Not implemented currently in Red.  
In Rebol, only the tab spacing is removed, but not the carriage returns. I find it ugly. should it not also remove them, what do you think ?

RenaudG

[11:43](#msg5712255db30cfa0f384bf996)I agree with you, Steeve.

SteeveGit

[18:44](#msg571287f2af463610386529a9)What limitations have parameters on routines:question:  
(I tried to have a parameter of type \[block! paren!]) without success)

[18:45](#msg57128849b30cfa0f384c0980)Rejected by compiler

[19:09](#msg57128df44c2125fc3f030074)One type per parameter only, it seems...

rebolek

[20:41](#msg5712a35f82811d2e18b4c34c)@SteeveGit only Red/System supported types, so no block! or paren!

SteeveGit

[21:29](#msg5712aeac5ed5a4fd3fe3a674)Block! is accepted, it's translated automaticly into red-block! by the compiler (I verified it). Paren! alone is also fine. But together, compilation stops.

[21:32](#msg5712af64af46361038653085)I'm wondering if it's only a bug in the compiler or that's a routine's specification.

[21:37](#msg5712b0b35ed5a4fd3fe3a6d8)Looking at the compiler source... I see that only the first type is checked/translated in the case of a routine. So, bug or feature? I can't really see why it would be a feature...

[22:33](#msg5712bdbd3ddb73ba105cbf03)Ok, after eons, I come to realization that parameters in red/system can't allow multi types. But the compiler's error was unsatisfactory.

## Sunday 17th April, 2016

SteeveGit

[00:55](#msg5712deea3ddb73ba105cc253)Well, I think I got something...  
http://i.imgur.com/vOH0Vr2.gif

qtxie

[01:53](#msg5712ec943ddb73ba105cc3a4)Great! :+1:

SteeveGit

[04:46](#msg571315092c97111664329a11)@dockimbel , @qtxie , I uploaded the sources related to the demo above \[tadaaaa](https://github.com/SteeveGit/red/tree/new-line)

rebolek

[06:15](#msg571329e73066f78f385deb6d)@SteeveGit sorry, I wasn’t very clear, it imports those types as red-\*, but R/S has no direct support to work with them (same for string! that has to be converted to c-string!, tuple! and other types).

PeterWAWood

[10:33](#msg57136682b30cfa0f384c22ac)@SteeveGit I think you can specify any-type! as the type of a parameter for a routine, but then you will need to do your own type checking in the routine.

dockimbel

[13:25](#msg57138eba3066f78f385dec3e)@alpha123 That's interesting, it's precisely what I have in mind for respectively the "simple" and "advanced" GC. Did you rely on read(/write) barriers for the incremental collector? If so, how much overhead did it add to existing codebase and to global execution performances?

[13:30](#msg57138ff882811d2e18b4c5cf)I had an interesting time in Montreal with Max, studying his company's toolchain for NLP. It seems Red has a great future for such kind of usage. From the discussion and review of Red's internals we had, we also spotted some improvements for Parse.

[16:37](#msg5713bbe582811d2e18b4c677)@btiffin :point\_up: \[April 9, 2016 2:18 PM](https://gitter.im/red/red?at=57089ebbc65c9a6f7f281b3b) Thanks the use-case examples. It looks like they all fall into the NLP domain. LOAD is unsuitable for such usage and there are several concerns you are overlooking:  
1\. It is not possible to predict or calculate the error margin in the case of a LOAD/ANY usage, because for calculating the error margin, you need to analyze the content of the \*junk* parts, which may very well contain a lot of the data you are searching for. The core issue is that you can't determine when LOAD/ANY would recover from a syntactic error, it could easily skip 10, 20 or 99% of your input document because of a misplaced `"` or `{` or any other syntactic error. In the general case, you simply could not trust anything coming from a LOAD/ANY, nor do any meaningful analysis without knowing what is in the junk parts.  
2\. You assume that the parsing rules of LOAD are a good match for \*any* content written by humans, it is not the case. Words as defined in LOAD, are a vast superset of the words we used in natural languages, you would end up with many false positives (again with an unpredictable ratio). Same for other datatypes, integers in LOAD cannot parse numbers above 4 billion, nor numbers with space or multiple commas separators for thousands. Even URLs or emails could easily end up in junk parts because LOAD can only recognize a small subset of the URL and email standards.  
3\. Your use-case examples are Latin-languages centric, many other languages (like CJK ones) could not be process that way, as space delimiters are not used in general case.

[16:38](#msg5713bbfe876ea94b49e5a099)@btiffin For doing NLP (even if it's just for making one-liners in console), the only trustable option is to use a NLP library, which is not very difficult to write using a language like Red, thanks to its Parse dialect. However, in order to ease the writing of custom parser which would re-use the existing lexical rules provided by LOAD, I can propose a few options:  
1\. Provide an optional `on-error` callback to LOAD, which would allow just-in-time syntactic errors analysis and recovery (you would still have to write Parse rules or text processing using regular code to determine the recovery position).  
2\. Expose the lexical rules used internally by LOAD, so that you could re-use them for writting your own LOAD alternative function, tuned for your own needs.

Having a LOAD-TEXT function for Latin languages could then be possible to write, in order to have a better match for general texts. It would not eliminate completly all the possible issues, though, it would do a way better job than LOAD.

[16:41](#msg5713bc9d3066f78f385deced)As a side note, and as PeterWAWood already suggested, starting using the \[REP process](https://github.com/red/red/wiki/Red-Enhancement-Proposal-Process) would be a good idea for anyone willing to propose changes or features for Red we haven't planned to include.

[16:53](#msg5713bfa03066f78f385ded05)@meijeru :point\_up: \[April 9, 2016 5:20 PM](https://gitter.im/red/red?at=5708c96f2a2f4d427612f62e) (1) `transcode` is not global in Red, because there is no need for that. `load` can already be used as a pass-thru for `transcode`. In case you need to access it anyway, you still can do using `system/lexer/transcode`. Rebol3 exposes `transcode` because `load` has become a mezzanine function. (2) The locals manually defined in `transcode` are necessary as they cannot be statically inferred by the `function` constructor.

meijeru

[17:16](#msg5713c4d22c9711166432ae9b)@dockimbel Thanks for the explanation. From point 2 I conclude that `function` is not as easy/straightforward as I could suspect (or hope!).

dockimbel

[17:22](#msg5713c64f3066f78f385ded24)@meijeru `function` just collects the set-words, that's the best it can do.

meijeru

[17:31](#msg5713c8655cd40114649c0e08)@dockimbel Worth stressing in the explanation/documentation of `function`...

## Monday 18th April, 2016

mydoghasworms

[05:35](#msg5714722db30cfa0f384c4915)@SteeveGit Just as a matter of interest, following your solution for hiding the console face the other day: How can a block have an index of -1? (As in `system/view/screens/1/pane/-1/visible?: false`)?

SteeveGit

[05:47](#msg571474f05cd40114649c2622)If you shift a block, like: `b: next [1 2 3]`. Then you can access shifted data with a negative index `b/-1`

mydoghasworms

[05:49](#msg5714756e2c9711166432c72e)@SteeveGit ありがとうございました！

SteeveGit

[05:50](#msg571475a0548df1be102dc81d)wakarimasen

gour

[07:08](#msg571487d53066f78f385defb9)morning @all

[07:09](#msg571488273066f78f385defbb)just to inform you that new messages was posted to the mailing list which (finally) triggered creation of Gmane newsgroup: gmane.comp.lang.red...let me try to post from Gmane now

PeterWAWood

[07:20](#msg57148acc5ed5a4fd3fe3e14e)There has been no message posted to the Google grop

[07:21](#msg57148afaaf46361038656c91)group yet today. Th

[07:23](#msg57148b543ddb73ba105cf8e2)There may be one message awaiting moderation but I am not able to check at the moment. Does gmane post messages before they are approved?

gour

[07:25](#msg57148bd2507f6ddc703cce4f)@PeterWAWood i believe that Gmane is waiting to receive auth message before posting it to the list. i've replied to its Gmane message - subject is 'Red-mode for Emacs'

dockimbel

[07:32](#msg57148d77876ea94b49e5a3d9)Here's the link to Red group on gmane: http://dir.gmane.org/gmane.comp.lang.red

gour

[07:35](#msg57148e34507f6ddc703cce5c)i obviously have to wait for moderation, but approved users might try to post via Gmane...

mydoghasworms

[07:45](#msg571490983ddb73ba105cfa35)@PeterWAWood I posted something to the group +- 2 hours ago, and I can see it on Gmane.

gour

[07:46](#msg571490ce876ea94b49e5a3e5)@mydoghasworms that's great to hear. your msg caused creation of the group ;)

[09:56](#msg5714af663066f78f385df0aa)although my post didn't went through (yet), i'm glad seeing that Gmane group does work

PeterWAWood

[22:13](#msg57155bf42c97111664330c51)@gour Posting to the Red Mailing List is restricted to subscribers. You are not subscribed to the list so you message was rejected.

It appears that gmane simply tries to post messages to the list from people who are not subscribed to the list.

xaduha

[23:20](#msg57156bc74c2125fc3f0385b3)Sad state of affairs, https://rosettacode.org/wiki/Category:Rebol has 2 items, https://rosettacode.org/wiki/Category:Red doesn't exist

pekr

[23:27](#msg57156d7c548df1be102e1215)What's that shit? Rosettacode?

btiffin

[23:36](#msg57156f605cd40114649c6fc2)@xaduha Rebol might only have two, but REBOL is fairly well represented. Red should be added.

## Tuesday 19th April, 2016

ghost~5680c5f416b6c7089cc058a5

[02:18](#msg5715957e2c971116643316db)@xaduha https://web.archive.org/web/20131115235819/http://rosettacode.org/wiki/Category:REBOL (this page is from 2013)  
There used to be a lot of items for rebol earlier.  
If I remember correctly, there was a Red page as well (or maybe not). It had only a few items though.

I don't know whatever happened to them.

[02:24](#msg571596f5b30cfa0f384c9b61)Damn what??? The page is different over https

[02:25](#msg57159704548df1be102e1937)Your link https://rosettacode.org/wiki/Category:Rebol shows two items

[02:25](#msg5715970a4c2125fc3f038cb2)Whereas http://rosettacode.org/wiki/Category:REBOL shows many.

btiffin

[03:02](#msg57159fc92c971116643318be)Re: Rosettacode. I'm going to start making some fixes. The Rebol entries will be retagged REBOL to suit, and the REBOL definition page will get a make over, with text from the Rebol page.

[03:10](#msg5715a18b548df1be102e1b06)I take that back. Rosettacode seems to be having some cookie management issues, and logins don't take. Red does deserve a page though, perhaps start with some tasks that set it apart from REBOL.

gour

[04:31](#msg5715b487876ea94b49e5ab60)@PeterWAWood that's lame. the point of Gmane is to allow people to use nntp to read &amp; post (after their reply to Gmane's auth message) and therefore avoid fiddling with mailing list's subscriptions. if i'm authenticated via Gmane, why there is need for another subsctiption?

[04:31](#msg5715b4b9507f6ddc703cd5fc)at the present moment, using Gmane means that one has to authenticate \*\*twice\** :-(

[04:37](#msg5715b5ed507f6ddc703cd5ff)moreover, Gmane \[link](http://dir.gmane.org/gmane.comp.lang.red) says 'posting allowed' which is misleading for potential posters...so, the question is, again, what is the real reason to restrict posting to subscribers? selection who can enter or eliminating spam?

PeterWAWood

[04:54](#msg5715b9f0b30cfa0f384ca0be)@gour The membership and posting options for the Red Mailing List were specifically chosen to both allow selective membership and to reduce spam. That was why you were asked :point\_up: \[April 1, 2016 5:49 PM](https://gitter.im/red/red?at=56fe4432e4a8384a1bbde7bd)

gour

[04:57](#msg5715bac6876ea94b49e5ab88)@PeterWAWood ok. the latter is handled by Gmane as well, but for the former the status at Gmane should be changed to 'requires subscription to post' by some admin contacting Gmane stuff

PeterWAWood

[05:00](#msg5715bb6d3ddb73ba105d4b9b)@RnBrgn A word is very different from a variable in most languages. It is a fundamentally different concept. Perhaps you could try reading the chapter on \[expressions](http://www.rebol.com/docs/core23/rebolcore-4.html) in the Rebol Core guide. The concepts, and nearly all of the examples, are equally applicable to Red.

[05:10](#msg5715bdd04c2125fc3f03928c)@RnBrgn Section 5 of that chapter has an explanation of words.

gour

[05:23](#msg5715c0b4876ea94b49e5ab9e)hmm...red-lang list would be the only googlegroup list i'd subscribe - everything else is just Gmane...maybe i should wait with subscription and just read it using Gitter for support

djrondon

[05:49](#msg5715c6f85ed5a4fd3fe433ca)HI Folks. I think when we have curated list of libraries for Red. We should have do something like https://github.com/ziadoz/awesome-php or https://github.com/h4cc/awesome-elixir Or do something like Perl and R do, CPAN (http://www.cpan.org/) and CRAN (https://cran.r-project.org/) . What do you think ?

dockimbel

[06:08](#msg5715cb633066f78f385df783)@djrondon We have a module system planned for 0.8.0, where we'll try to incorporate the best current practices.

xaduha

[12:47](#msg571628d12c97111664333927)About Rosetta Code - I've edited those so they point to Category:REBOL . Also, Red doesn't necessary need a separate entry there, but Red/System might. There should be plenty of interest for an expressive multi-platform low level language like that.

greggirwin

[16:36](#msg57165ea598c544f1396c8cf6)@djrondon yes, we should. Again, we need to either come up with a plan for Nenand and Co. to approve or work with them to do so, as with mezzanines (which could be an early part of this). Then, and this is important in light of the recent NPM fiasco, we need to make it easy to find and use packages, without going the way of NPM. I've had a lot of ideas about this in the past.

pekr

[16:56](#msg5716634727c0fbf239af7f59)sorry for my ignorance ... but what does NPM stands for?

moliad

[17:03](#msg571664d2599a529856d935fa)its a library manager for javascript node.js IIRC its an acronym for "Node Package Manager"

RnBrgn

[17:07](#msg571665c5b129b59c56d98ae9)@PeterWAWood , Thanks for the references... I guess I've asked too many questions , as I'm not sure which one prompted your response for them..

pekr

[17:24](#msg571669b527c0fbf239af821f)Max, thanks. Now I need to google NPM fiasco :-)

moliad

[17:25](#msg57166a2325b48866362546ee)hehe, yes, half the internet went down when one guy removed one of his files because he wasn't happy about how NPM managed his stuff.. node.js is a company, so they can do what they want with their systems.

pekr

[17:26](#msg57166a3227c0fbf239af8249)thanks Arnold for sending me a link privately ....

[17:27](#msg57166a8c98c544f1396c9199)Max - you did lots of parsing in your products. I mean - heavy weight parsing. Have you put Red into any heavy tests yet? :-)

moliad

[17:29](#msg57166adf3307b26736e2c696)not yet, I have to build a few things first. notably, a native liquid implementation and slim library manager.

[18:15](#msg571675ac599a529856d93c65)But I went over the whole PARSE implementation with Doc last week, and I'm really happy with what I saw. so far it handles everything I need.

pekr

[18:21](#msg5716771425b4886636254bca)That's cool to hear!

alpha123

[19:41](#msg57168a06b129b59c56d99894)@dockimbel yes, the incremental collector uses a write barrier, though it uses a quad-color design instead of the traditional tricolor marking. it stores a 'gray' bit separately from the 'marked' bit, and objects with a dirty gray bit are still on the gray stack and have yet to be marked, thus the write barrier doesn't need to trigger for most objects that are written to in succession. it is essentially Mark Pall's design for the LuaJIT 3 GC: see http://wiki.luajit.org/New-Garbage-Collector (the difference being that mine was a copying collecting, which simplifies a lot)

[19:42](#msg57168a2d5b5164bf56ee0595)@dockimbel and it was a new codebase and virtual machine, so there wasn't any migration issues :p

PeterWAWood

[22:23](#msg5716afc7599a529856d94ffe)@RnBrgn I quoted the references in response to your question about an "empty variable". No, you don't ask too many questions.

I could have provided a short answer - "Because a is an unbound word. Unbound words are valid Red values and can be processed in a Red program. However, if you try to evaluate an unbound word, you will get a script error."

I felt, possibly incorrectly, that referring to a fuller explanation would be of more help to you.

## Wednesday 20th April, 2016

RnBrgn

[02:03](#msg5716e37cb129b59c56d9aeeb)@PeterWAWood , The Rebol docs on words and their usage was informative. Didn't know about :word which can be used to find it's value which can be used to get info on native functions. Thanks again for taking the time..

dockimbel

[07:03](#msg571729d9e27fd84628d41e34)@alpha123 Very interesting info, thank you for sharing. I plan to use a moving collector for Red. Your help/review will be appreciated when we'll start the serious work on the GC, that quad-color design looks very appealing! ;-)

Zamlox

[07:45](#msg571733b53307b26736e2f65f)I try to get components of an object like in Rebol2, but no luck:

```
red>> obj: make object! [a: 10]
== make object! [
    a: 10
]
red>> first obj
*** Script error: first does not allow object! for its s argument
*** Where: first
```

Is it possible somehow else ? If not, is it planned to be added on a later release ?

dockimbel

[07:50](#msg571734c4e27fd84628d41e65)@Zamlox Use the following accessors for objects: `words-of`, `values-of` and `body-of`. The ordinal accessors were abandoned in Rebol3 and Red.

PeterWAWood

[07:50](#msg571734e127c0fbf239afb34a)@Zamlox Use words-of and values-of. \[Further explanation](http://www.red-lang.org/2014/12/050-objects-support.html?m=1).

Zamlox

[07:51](#msg5717351ba3833fbc5669aacc)@dockimbel cool ! thanks.

endo64

[08:52](#msg5717434525b4886636257bde)Probably I should go through `map` documents, but I have some quick questions about MAP and SELECT:

```
red>> m: make map! [a 1 A 2]
red>> select m 'a      ;== 1 OK
red>> select m 'A      ;== 1 OK, no case sense
red>> select/case m 'A ;== none Why?
red>> select/case m 'a ;== none Why?
```

I tried some others like `select/case m first [A]` and `select/case m to word! "A"` they return `none!` as well.

[08:55](#msg5717441c3307b26736e2fc10)Another one is, `extend/case` always extends the map! even if the word is already there. It overwrites the value without `/case` as expected.

```
red>> extend/case extend/case extend/case make map! [] [a 1] [a 2] [a 3]
== #(
    a: 1
    a: 2
    a: 3
)
```

Now there is no chance to get the value 2 or 3. Is it a bug?

rebolek

[08:57](#msg57174460ac0da13a33096712)Looks like bug to me.

[08:57](#msg57174486b9904ae035907e0a)You should open ticket for it.

endo64

[09:00](#msg5717451798c544f1396cc778)Ok, I did.  
What about `select/case` issue?

rebolek

[09:00](#msg5717453cac0da13a33096715)Both things are bugs, I think.

[09:01](#msg5717456fb9904ae035907e0b)OTOH I'm recovering from illness and my mind is still bit foggy, so I may be wrong :)

[09:03](#msg571745cae27fd84628d41ef4)btw I tried it in my console (still 0.5.4, I need to recompile) and `select/case` works fine.

endo64

[09:03](#msg571745db25b4886636257cd4)Ok, here is another one. `set-word!` overwrites the previous value, but `word!` doesn't overwrite the previous `set-word!` value.

```
red>> m: make map! [a: 1 a 2]
== #(
    a: 1
    a: 2
)

red>> m: make map! [a 1 a: 2]
== #(
    a: 2
)
```

I'll wait for @dockimbel 's comment before opening a ticket. It might be extend is not ready for prime time.

rebolek

[09:05](#msg57174653ac0da13a3309671d)@endo64

```
--== Red 0.6.0 ==--
Type HELP for starting information.

red>> m: make map! [a 1 A 2]
== #(
    a: 1
    A: 2
)
red>> select/case m 'A
== 2
red>> select/case m 'a
== 1
```

[09:05](#msg5717465bb9904ae035907e0e)I can’t reproduce it.

endo64

[09:05](#msg57174663599a529856d96e93)&gt; btw I tried it in my console (still 0.5.4, I need to recompile) and `select/case` works fine.  
I just compiled the console.

rebolek

[09:06](#msg57174692d8d113990620f2ba)This is Red downloaded from red-lang

dockimbel

[09:06](#msg571746a4d8d113990620f2bb)They all look like bugs/regressions to me, worth a ticket. @qtxie did the implementation, he will have a look at it.

endo64

[09:06](#msg571746a85b5164bf56ee307a)So the latest build have some regression I guess.

[09:13](#msg57174854a3833fbc5669b15e)Ok, I opened 2 tickets.

dockimbel

[09:19](#msg57174993ac0da13a33096737)@endo64 Thanks.

## Thursday 21st April, 2016

djrondon

[14:04](#msg5718de0a599a529856d9e26c)Folks, Sorry to bother you, I was thinking about memory management and garbage collection. Do you advice to 'unset all the variables to release the memory? Or it is made automatically with the garbage collection, avoiding use of global variables.. What are the best practices?

RenaudG

[14:09](#msg5718df065b5164bf56eea7ff)As of today there is no GC. A basic one should be availlable soon, and the real one is scheduled for 0.8.5

[14:12](#msg5718dfb73307b26736e37077)AFAIK even unseting words do not release memory

djrondon

[14:13](#msg5718e0055b5164bf56eea86e)So, if you want to optimize memory resources, what are the best practices?

RenaudG

[14:20](#msg5718e192a3833fbc566a2987)I have to let this one to someone else, as i'm not knowledgeable enough (can't say more than "avoid allocations as much as you can").

dockimbel

[14:37](#msg5718e5a90fb6021f5f635355)@djrondon Re-use existing series as much as possible, especially using `/into` refinement with `reduce`, `compose` and `load`.

djrondon

[14:48](#msg5718e82f98c544f1396d43c6)Ok. Unset releases variables?

RenaudG

[14:51](#msg5718e8d7a3833fbc566a2cac)It releases variables but don't free memory (don't erase content since for now there is now way for Red to know you didn't do something like `b: a` after puting something into `a` )

dockimbel

[15:00](#msg5718eb01adb17d9c2868a8ab)@djrondon No, that has no effect on memory usage as long as there is no GC.

djrondon

[15:05](#msg5718ec3c5b5164bf56eeadab)Ok

moliad

[16:05](#msg5718fa4f3307b26736e37b73)another good practice is to use make block! with a size

```
data: make block! 1000
```

instead of

```
data: copy []
```

this pre-allocates all the space you'll need once (in above example, up to 1000 items), instead of constantly re-allocating new internal buffers on inserts (once the series buffer is filled up, it has to allocate a new bigger buffer and recopy, the previous buffer still lingers in memory, unused).

[16:07](#msg5718fab43307b26736e37b9a)I assume Red still doesn't have mechanisms to recuperate the old buffers and reuse them. in any case, pre-allocating speeds up insert looping enormously. (its an exponential optimization, the larger the list is).

djrondon

[16:14](#msg5718fc6127c0fbf239b03e61)Ok

moliad

[16:16](#msg5718fcd525b488663625fbbc)the above applies to all Rebol versions. I've had loop run \*\*\*hundreds\*\** of times faster by pre-allocating huge lists which are reused, and copied at the end of the loop.

djrondon

[16:17](#msg5718fd2d599a529856d9ef83)I just wanted to know how to manage the memory to optimize and reduce overheads, but with gc in red 0.8 we'll have more control oh that.

moliad

[16:17](#msg5718fd2f98c544f1396d4caa)at the start of the loop, you just

```
clear data
```

which keeps the buffer, but resets the length to 0. Its essentially a free operation in terms of memory and CPU.

RenaudG

[16:19](#msg5718fd9127c0fbf239b03ee9)Thanks for the tips @moliad

moliad

[16:19](#msg5718fd9d599a529856d9efb2)(btw, just sharing more obscure and important concepts of Rebol, especially on a list with many new users to the Rebol way)

djrondon

[16:20](#msg5718fdd227c0fbf239b03f00)Ok. In R there is rm() to remove that variable from the memory. I thought Unset would do this.

[16:22](#msg5718fe325b5164bf56eeb54a)Thanks for the tips. I think with time and date implementations we will handle more benchmarks

[16:23](#msg5718fe9b3307b26736e37d24)We will evaluate how last each function inside the code

dockimbel

[16:29](#msg5718fffaf44fa24020f584f9)@djrondon Strickly speaking, there are no \*variables* in Red/Rebol, only first-class symbols that can refer to an other value in a given context. In practice, it means that assignment, unlike in many other languages, is just a link between two values (a word and another value) and `unset` will just remove that link, nothing else happens. Also, some values can have multiple references, so removing just one won't help much.

djrondon

[16:55](#msg571905f6599a529856d9f2dd)Ok. 👍

maximvl

[18:00](#msg5719154e98c544f1396d5646)hey guys

[18:00](#msg5719155b25b48866362604e8)are there any plans for linux gui support?

nodrygo

[18:03](#msg571915d725b4886636260519)yes with GTK but still not ready

maximvl

[18:03](#msg571915f798c544f1396d567c)I see, I just checked Trello, and there is Android GUI milestone, but nothing about Linux

nodrygo

[18:26](#msg57191b66a3833fbc566a40bc)@maximvl I am also waiting for Linux/Gtk . there are some premises by qtxie from the Red team but presently not usable.

pekr

[19:10](#msg571925c0599a529856d9ff06)@maximvl - you can watch this, should contain GTK stuff too, me thinks - https://github.com/qtxie/red/commits/MacOSX-GUI

## Friday 22nd April, 2016

cloutiy

[00:24](#msg57196f47b129b59c56da690a)Hi, I would like to know if there is any Red plugin for vim?

nodrygo

[07:34](#msg5719d3e925b4886636262f78)@maximvl there is a lot of missing things in Red/Gtk3 but some basics are working \[look here](https://github.com/nodrygo/DemosRed/blob/master/simpleCAD/images/firstGtkTest.png) ;-)  
unfortunately still too complicated for me to help

gour

[07:52](#msg5719d82f1e0767ea5c0f49c3)@cloutiy i've found only for Emacs - both Red &amp; Rebol modes

rebolek

[07:59](#msg5719d9ff1766a41665b06073)@cloutiy you may try to adapt \[this](https://github.com/Prosumma/vim-rebol).

[08:00](#msg5719da0ffe9f076746b5dfc5)But I don’t use Vim, so I can’t tell you, how complete it is

gour

[08:00](#msg5719da27779ada681d3b9404)@rebolek which editor do you use?

Arie-vw

[08:15](#msg5719dd913307b26736e3b354)I'd like to sort like so: given a blk containing groups of 3 strings each, I'd like to sort on each 3rd string. So I need SKIP 3. But I guess I can't, because PART only allows to specify the number of strings from the start of each string group. Is that correct?

dahu

[08:16](#msg5719ddd63307b26736e3b367)rebolek, cloutiy: that Prosumma/vim-rebol is only for syntax highlighting. But that's a good start.

Arie-vw

[08:17](#msg5719ddfe27c0fbf239b0787d)Example: blk: { "a1" "a2" "a3" "b1" "b2" "b3" "c1" "c2" "c3"] and I want to sort the a, b and c groups on items #3

rebolek

[08:18](#msg5719de3d779ada681d3b941b)@gour mostly Sublime and then one other

RenaudG

[08:18](#msg5719de3e3307b26736e3b387)@Arie-vw have you looked at `sort/skip`?

gour

[08:19](#msg5719de761766a41665b06094)i did ask the other day about Emacs, but no got no reply... :-(

Arie-vw

[08:20](#msg5719deb0a3833fbc566a6d65)@RenaudG Yes. But it is the PART part that does not work as I want I guess.

RenaudG

[08:20](#msg5719dec73307b26736e3b3b9)@Arie-vw `sort/skip/compare YOURLIST 3 3` ?

Arie-vw

[08:21](#msg5719def8b129b59c56da7d44)@RenaudG Yes, that could do it. Will investigate. Thx!

RenaudG

[08:21](#msg5719df1e27c0fbf239b078d0);)

Arie-vw

[08:28](#msg5719e0b5599a529856da279c)Wow. Tested it. This is again a fantastic easy way to do it. Red really rulez!!!

pierstitus

[08:59](#msg5719e7e2599a529856da29ad)Hi all, I'm curious to the flexibility of the Red language, for example is it possible to define your own type notation? For example to support units, so you can do 13.2mm = 1.32cm

rebolek

[09:01](#msg5719e87a779ada681d3b9479)@pierstitus No, there are currently no user-defined datatypes. However, as usual, it’s possible with parse.

[09:05](#msg5719e9511e0767ea5c0f4a43)This is simple example without conversion:

```
red>> numbers: charset [#"0" - #"9"]
== make bitset! #{000000000000FFC0}
red>> delimiter: charset [#"," #"."]
== make bitset! #{00000000000A}
red>> rule: [copy value [some numbers opt [delimiter some numbers]] copy type ["mm" | "cm"]]
== [copy value [some numbers opt [delimiter some numbers]] copy type ...
red>> parse "13.2mm" rule
== true
red>> parse "1.32cm" rule
== true
red>> parse "1.32inch" rule
== false
```

pierstitus

[09:11](#msg5719eab45b5164bf56eef0a8)aha, but parse takes strings always, right? If you define a DSL would it be possible?

Zamlox

[09:16](#msg5719ebf1b129b59c56da814b)@pierstitus not always: http://www.rebol.com/docs/core23/rebolcore-15.html#section-9

[09:18](#msg5719ec5fa3833fbc566a716c)but you cannot have words starting with digits

pierstitus

[09:19](#msg5719ec9a3307b26736e3b7a2)ah, so in this case is would be possible to make 13.2 mm = 1.32 cm valid

Zamlox

[09:20](#msg5719ecf9599a529856da2b3b)yes

[09:22](#msg5719ed5225b488663626369b)

```
red>> parse [13.2 mm = 1.32 cm][float! word! '= float! word!]
== true
```

rebolek

[10:06](#msg5719f7881766a41665b06147)Or you can do

```
red>> mm: func [mm][form reduce [ mm / 10 "cm"]]
== func [mm][form reduce [mm / 10 "cm"]]
red>> mm 13,2
== "1.32 cm"
```

[10:06](#msg5719f7891e0767ea5c0f4a9a):)

gour

[10:06](#msg5719f7c21766a41665b06149)@rebolek wil Red get ability to have user-defined types?

pierstitus

[10:08](#msg5719f80627c0fbf239b07feb)ok, both sensible, both with their own benefits

rebolek

[10:08](#msg5719f81f1766a41665b0614d)@gour That’s a question for @dockimbel . My guess is that yes, in some form, but later than sooner.

gour

[10:09](#msg5719f849fe9f076746b5e092)ok

pierstitus

[10:10](#msg5719f890599a529856da2e93)and custom infix operators? or maybe even custom suffix operators?

dockimbel

[10:11](#msg5719f8ecfe9f076746b5e097)@Gour Yes, just not scheduled yet. We should allow also to extend the lexer in a convenient way to allow your user-defined type to have its own syntax, though don't expect too much from that as the ASCII lexical space is pretty well occupied by existing datatypes.

gour

[10:12](#msg5719f925fe9f076746b5e099)@dockimbel good. that should come before 1.0 ?

dockimbel

[10:13](#msg5719f9431766a41665b06155)Not sure, depends on the timing we decide for 1.0, which will define what will be included and what would go in further releases.

gour

[10:14](#msg5719f99cfe9f076746b5e09d)my understanding was that 1.0 should complete the language, while2.0 is rewrite of the toolchain?

rebolek

[10:16](#msg5719f9fd1e0767ea5c0f4aa0)@dockimbel I don’t care for ASCII space. I want my types to start with :poop: ;)

gour

[10:16](#msg5719fa0c1e0767ea5c0f4aa2)lol

pierstitus

[10:17](#msg5719fa4aa3833fbc566a7580)yes, or €

dockimbel

[10:18](#msg5719fa601766a41665b0615b)@rebolek \[That might work](http://www.emojicode.org/). ;-)

rebolek

[10:20](#msg5719fafb1766a41665b06163)language of the future ;)

pierstitus

[10:21](#msg5719fb16599a529856da2f35)supercool :shipit:

[10:26](#msg5719fc6f5b5164bf56eef5af)are there currently any suffix operators anyway?

dockimbel

[11:18](#msg571a08a11e0767ea5c0f4ae3)@pierstitus Nope.

Zamlox

[11:33](#msg571a0bfeb129b59c56da8a2d)@pierstitus you might achieve something similar using 'parse' command with a rule like:

```
red>> rule: [ [ set value word! | set value path! ] '++ (set value (get value) + 1) ]
```

```
red>> obj: object [value: 10]
== make object! [
    value: 10
]
red>> a: 0
== 0
red>> parse [obj/value ++] rule
== true
red>> obj
== make object! [
    value: 11
]
red>> parse [a ++] rule
== true
red>> a
== 1
```

dockimbel

[11:48](#msg571a0fa2779ada681d3b9568)@Zamlox The power of DSL and dialecting in Red illustrated. ;-)

Zamlox

[11:50](#msg571a1007599a529856da34a9)yep ;) it's amazing how many cool stuff can be achieved using parse.

pierstitus

[11:51](#msg571a1025b129b59c56da8b9d)nice! and then is it easy to make a dialect that can do all Red can plus this ++ suffix operator?

Zamlox

[11:51](#msg571a105b599a529856da34c6)it is possible, but I guess your rule block will be more complex.

moliad

[11:54](#msg571a10ed27c0fbf239b086bb)@pierstitus if you want to do that, then the best approach is to build a system which modifies the block you want to DO. you can still use parse, but you modify the input with CHANGE instead of using Parse to execute code.

[11:54](#msg571a110925b4886636264043)LISP calls this mechanism a Load Macro.

[11:55](#msg571a113498c544f1396d937d)(can use any other function, not just parse, but usually, its the simplest for more complex transformations).

pierstitus

[11:55](#msg571a114625b488663626405b)aha, so you look for all ++ appearances and move them to before the previous literal

moliad

[11:56](#msg571a118098c544f1396d9398)yep. you could also add a precedence, where you do so ONLY IF the following token isn't also a word. so the prefix notation has precedence, when it can be detected.

[11:57](#msg571a11a05b5164bf56eefb5a)you can also insert new code in the block. once you are done transforming it, you just call DO on the block.

[11:57](#msg571a11be27c0fbf239b086f6)you may also want to look at BIND, in order to do some other tricks, which replace the default meaning of some words with your own on the fly.

[12:04](#msg571a133827c0fbf239b0874c)@pierstitus you asked about adding new lexical notations and user types (two different things). These are some of the topics @dockimbel and I discussed last week, cause I have need for both. I am confident these will both be part of the language at some time. I may be contributing on this aspect (cause I need this soon).

[12:04](#msg571a136625b48866362640e5)I will definitely be doing some research on the topic and sharing my ideas and results.

pierstitus

[12:06](#msg571a13d2599a529856da35c1)yes, so lexical notations can be done in a dsl already, but user types really need support added in the language?

moliad

[12:08](#msg571a144c3307b26736e3c236)exactly, if you consider that lexical notations can be achieved by parsing the text directly. (Doc told me that in a future release, the parse rules used by Red itself will be available as first class value in the language, to make this easier).

[12:09](#msg571a149798c544f1396d946b)(first class in the sense that they will be available out of the box in Red, so you could make your own Red LOAD function).

pierstitus

[12:11](#msg571a14eba3833fbc566a7ce9)you're also planning to add new lexical notations to the core? In a way that the standard parser rules can be changed half way the code or so? does that make sense?

Zamlox

[12:13](#msg571a156aa3833fbc566a7d0b)@pierstitus Max proposal it's another good way to achieve what you need. For rapid prototyping I prefer using parse function. Here is a rule to do what you need with one constraint: red expressions to be executed placed in a block:

```
rule: [ any [ [set value word! | set value path!] '++ (set value (get value) + 1) | set red-block block! (do red-block) ] ]
```

```
red>> a: 0
== 0
red>> parse [ a ++ [print "hello"] ] rule
hello
== true
red>> a
== 1
```

dockimbel

[12:20](#msg571a1719a85fca1741d5c8bc)It will possible to customize the interpreter to some extent as soon as we add the support for DO/NEXT. You'll be able to write your own interpreter loop and eventually implement your own semantic rules, adding or replacing the existing ones. Though, for performance, the macro approach is more efficient.

pierstitus

[12:37](#msg571a1afbb129b59c56da8ef1)@dockimbel So the macro approach is to change the code and then execute it?

moliad

[12:38](#msg571a1b32c02fc9365f8407bf)yep

[12:41](#msg571a1c000adf8847512fb0ea)DO/NEXT is a good system for rapid prototyping. especially when you combine it within a parse. you do some look-ahead, decide if you want to manage the stuff yourself or let the default interpreter do it. I've used it a few times in Rebol. To \*\*\*test\*\** an complex idea, its the fastest approach.

[12:41](#msg571a1c147875d8395fbd08c2)(but as noted by doc it can be a bit slow on execution)

[12:44](#msg571a1c970adf8847512fb11c)slow is obviously relative to the task at hand. Are you just parsing files or building a multi client real-time server?. ;-) in many cases DO/NEXT is the best tool to get shit done quickly.

Zamlox

[12:54](#msg571a1f08d2967af10aa6073e)@moliad I would be interested to find out from where it comes the performance gain of the macro approach versus parse function. Is it because it's processing the block once and then executes the processed block (doesn't need to process each time like parse function) or the processing itself is faster then parse function ?

moliad

[13:07](#msg571a21fd0adf8847512fb308)probably both of the above :-) DO/NEXT has a lot of overhead since you're re-launching parts of the interpreter at each item in the block. AFAIK parts of the interpreter get compiled natively, while PARSE is like a specialized VM.

[13:07](#msg571a222fef6a55ef0a09f977)not sure I properly answered your question. did I ?

Zamlox

[13:09](#msg571a22762df9e6153167e430)yes you did. thanks ;)

moliad

[13:09](#msg571a227a7875d8395fbd0b17)It has to be noted that @dockimbel and I talked about the possibility of compiling static PARSE rules. It shouldn't be too hard, since PARSE is a FSM with relatively simple instructions. the real challenge is detecting if a parse rule tree is static or not.

Zamlox

[13:10](#msg571a22c47875d8395fbd0b32)something similar with stored procedures for databases (they are partly compiled for better performance).

moliad

[13:11](#msg571a2313c02fc9365f840ab0)we could just start by identifying broad things which aren't explicitely \*\*\*always\*\** compilable (like parens in blocks, and rule re-assignment), and improve on the analysis from there.

[13:13](#msg571a2362d2967af10aa608d5)I'm also unsure if we can mix compiled and run-time PARSE rules. so it may be an all or nothing deal. We'll know when we try, I guess.

Zamlox

[13:13](#msg571a23620adf8847512fb38b)It would be a good improvement for parse function to achieve that.

moliad

[13:14](#msg571a23b7ef6a55ef0a09fa0b)if we can mix and match dynamic and static rules, it would be an amazing achievement. something like a run-time programmable VM builder tool :-)

[13:15](#msg571a24057875d8395fbd0ba0)I might actually get good perfs running C# code converted to Red internals with a proper C# bridge ( like we already have for java)... so I could give an option of putting C# code within tools I build for other people in the organisation.

[13:16](#msg571a243aef6a55ef0a09fa40)(basically simulating the CLR within my environment, and jumping to the real CLR when calling stuff from .net)

pekr

[13:18](#msg571a249c7875d8395fbd0bd3)who's going to do a .Net bridge though? :-)

Zamlox

[13:18](#msg571a24a71aa9eb4951170097)somebody :)

[13:29](#msg571a27227875d8395fbd0cae)@moliad thanks for explanations.

moliad

[13:29](#msg571a274ad2967af10aa60a2e)Its part of the plans. It may not be in the official roadmap. Many companies cannot invest in new languages if they can't progressively integrate it to their current technology. Its a real concern for Red adoption and Doc is all to aware of this.

[13:31](#msg571a27a7c02fc9365f840c41)in many parts of the world, especially in corporate development, C# is king, if only because microsoft has a real foothold with things like exchange, sharepoint, office 365, azure, to name but a few.

[13:32](#msg571a27f1c02fc9365f840c61)@pekr AFAIK there is already a C# nut somewhere just waiting to get the green light to do it (with books and knowledge of how to do it). But there are other priorities for now.

pekr

[13:35](#msg571a289b1aa9eb495117020f)I agree ....

moliad

[13:38](#msg571a296fc02fc9365f840d21)as a concrete example, the fact that we CAN build a native bridge eventually (and we know its possible with the java bridge) has allowed me to consider Red above R3 and I feel more comfortable proposing it at my company. We may even be able to target compilation directly to the CLR VM at some point. Other languages have done it.

[13:40](#msg571a29e01aa9eb4951170290)I can see how I can include other (non Red) devs into my projects and framewors by coding side-by-side and sharing tools. Execution speed isn't always as important as "getting shit done". (one of my favorite expressions)

[13:41](#msg571a29f51aa9eb4951170292)going back to lurk mode... I've got work to do. ;-)

Arie-vw

[13:54](#msg571a2d0dc02fc9365f840e6b)Can somebody point me to a download site of %input.red?

[14:05](#msg571a2f921aa9eb49511704c0)@Arie-vw Never mind. Found it on Github!

Kelendria

[14:21](#msg571a335547b4c6480ff95c08)`write clipboard://` doesn't appear to work.

dockimbel

[14:24](#msg571a34058910b79b5b65e07e)`clipboard://` along with all other ports are not yet implemented. They'll come in one of 0.7.x releases.

Kelendria

[14:28](#msg571a351af5b6334a5e6ffb44)Awesome. Just wanted to make sure I wasn't missing something simple. LOL

Arie-vw

[14:35](#msg571a36aa0eef754b5ea9825b)When using an integer! or block! parameter for sort/compare should these be 0 or 1 based?

[14:38](#msg571a376cd47413c07dcc5842)I try to use a block for it but don't understand the results.

dockimbel

[14:39](#msg571a37bf11d2855e34012247)@Kelendria You did well by asking here, as still some features are not yet there or just partially supported.

Arie-vw

[14:40](#msg571a37e96e3ae55e37e92370)The docs are not clear about that ...

dockimbel

[14:42](#msg571a3842f638ed830c783f7f)@Arie-vw Good question, I'm unsure, @qtxie did the implementation, I'll let him answer. IIRC, Red's `sort/compare` is missing a feature found in Rebol , which is not yet implemeted, maybe precisely that block mode.

RnBrgn

[14:49](#msg571a39ec47b4c6480ff95e96)@Arie-vw  
I thought you could only sort a flat block based on the first item in your list.  
in this case blk: \["a1" "a2" "a3" "b1" b2" "b3" "c1" "c2" "c3" "c4" ] you would have to sort the three  
groups based on a1. sort/skip blk 3  
If you needed to sort on an item other than the first item a1, you would have to have a block of blocks to do it.  
blk: \[ \["a1" "a2" "a3"]\["b1" "b2" "B3"]\["C1" "C2" "C3"] ]  
I tried sort/skip/compare blk 3 3 , based on your example and it didn't work for me.

moliad

[14:50](#msg571a3a489689a5440f7a942e)oh no a bruins fan! (sorry I just had to ;-) )

Arie-vw

[14:52](#msg571a3aadf5b6334a5e6ffd54)@RnBrgn No, when using skip you don't need sub blocks at all. Use blk: \["a1" "a2" "a3" "b1" "b2" "b3" "c1" "c2" "c3"] instead. The skip 3 does take care of taking 3 elements into account.

[14:53](#msg571a3afb0eef754b5ea983f0)For a more involved sort we need the compare option with a block, where the integers in the block tell which of the three must be sorted first and (optionally which element thereafter etc.

RnBrgn

[15:03](#msg571a3d380eef754b5ea984f4)@moliad i'm not a fan at the moment :(

moliad

[15:16](#msg571a4058d47413c07dcc5b8a)hehe, yeah they got a beating last night. I imagine you guessed I'm from Montreal... and not presently a fan either. The team is torn to shreds, not fun.  
anyhow, back to Red.

Zamlox

[15:29](#msg571a4370f5b6334a5e7000ed)how can I convert a literal word into a string ?

RenaudG

[15:30](#msg571a43a447b4c6480ff96257)`form 'word`

moliad

[15:31](#msg571a43c5f5b6334a5e700113)

```
to-string 'word
```

RenaudG

[15:32](#msg571a43f5d47413c07dcc5cbd)`to string!` do not work for now

Zamlox

[15:32](#msg571a44007469496137b84e3b)@RenaudG thanks ;) I tried:

```
red>> to string! 'a
*** Script error: to does not allow word! for its type argument
*** Where: to
```

moliad

[15:32](#msg571a44017469496137b84e3e)sorry, I just remembered

```
to-string
```

is not yet available in Red

[15:32](#msg571a44094bbb6abf7d5e2d20)hehe.

RenaudG

[15:33](#msg571a443cf5b6334a5e700139)@Zamlox I was bitten by this one not long ago ;)

moliad

[15:33](#msg571a44606e3ae55e37e928c3)note there is a real difference between

```
to-xxx value
```

and

```
to xxx! value
```

in Rebol do not assume they are the same thing.

Zamlox

[15:34](#msg571a44874bbb6abf7d5e2d55)all right

RenaudG

[15:34](#msg571a44a2f5b6334a5e700153)Sorry guys, just found the ORLY parody generator and \[had to try it](https://orly-appstore.herokuapp.com/generate?title=Cure%20anything%20with%20Red&amp;top\_text=As%20seen%20on%20TV&amp;author=Mark%20Andsweep&amp;image\_code=16&amp;theme=6&amp;guide\_text=The%20gluten%20free%20language&amp;guide\_text\_placement=bottom\_right)... :(

moliad

[15:36](#msg571a44f26e3ae55e37e928f6)hehe

Zamlox

[15:36](#msg571a44fb9689a5440f7a9850):)

dockimbel

[17:05](#msg571a59dc01f15fc17a62a38e)@RenaudG :clap: ;-)

## Saturday 23th April, 2016

qtxie

[01:28](#msg571acfa60eef754b5ea9ab5d)@Arie-vw Use `sort/skip/compare/all`, see the example here: https://github.com/red/red/blob/master/tests/source/units/series-test.red#L1347

[01:30](#msg571ad0409689a5440f7abb7a)sort/compare is 1 based.

Zamlox

[04:59](#msg571b01319689a5440f7ac02d)should console have a default catch ? Typing:

```
red>> throw 10
```

will close the console.

dockimbel

[05:05](#msg571b02af01f15fc17a62a693)@Zamlox It does have one, that looks like a regression.

Zamlox

[05:06](#msg571b02d4d47413c07dcc86fb)should I create an issue then ?

dockimbel

[05:19](#msg571b05dff638ed830c7843d1)@Zamlox Yes, please.

Zamlox

[05:19](#msg571b05e8f5b6334a5e702b3e)ok

[05:20](#msg571b06309689a5440f7ac08d)done

gour

[06:04](#msg571b105f01f15fc17a62a6b0)yesterday i asked about the possibility for a user to define new user types and now i see that \[Why Red and Rebol](http://redprogramming.com/Why%20Rebol%20and%20Red.html) doc says: "New complex data types can be created as needed." so I hope same will be possible in Red as well...

dockimbel

[06:21](#msg571b146a11d2855e34012696)@gour Not sure that this quote refers to user-defined datatypes, though @nickantonaccio could shed some lights on what he meant precisely. Anyway, it is a planned to support user-defined types in Red.

gour

[06:26](#msg571b157a8910b79b5b65e514)@dockimbel now i wonder how 'complex data types' in Red/Rebol might be related to just 'records' consisting of simple already-defined types (aka 'product types') as well as ability to have 'sum types'?

[06:26](#msg571b15a101f15fc17a62a6b6)i bet that's requirement for writing more complex apps?

dockimbel

[06:42](#msg571b1944f638ed830c784404)@gour User-defined datatypes as I plan to support, would be a private aribitrary data structure combined with a virtual table for actions (which are the highly polymorphic basic functions of Red). So the new type author can rely on product/sum types to implement the new datatype internally, without necessarily exposing that internal structure to the users.

[06:48](#msg571b1ab311d2855e340126a6)User-defined types are mostly aiming at encapsulating some (shared or personal) libraries and exposing a simpler interface to users. I'm not sure it would bring significant gains in "more complex" apps, compare to the future modules system, maybe just a finer-grained abstraction. Though, such feature was never implemented in Rebol, so we have no pratical experience with it, and how well it would fit in such a language.

gour

[07:11](#msg571b2004f638ed830c78440e)@dockimbel does it mean 'user-defined datatype' allows new type defined along with some kind of DSL for its simple usage?

dockimbel

[07:12](#msg571b204df638ed830c784410)@gour No DSL, the new type will be used like any other built-in type.

gour

[07:13](#msg571b20888910b79b5b65e52f)you mean, no distinction in syntax between built-in and user-defined type? that sounds cool and sign of great design

[07:14](#msg571b20ba8910b79b5b65e530)in any case it seems i've to find time to dive into Red/Rebol to 'unlearn' some things from previous 'conditioning' :-D

Arie-vw

[08:53](#msg571b37f14bbb6abf7d5e5be6)@qtxie Thx. for examples. Still the docs state that the comparator can be an integer! (this works) a function (your example) or a block! My question concerns this block! case. There is no example of it ...

endo64

[10:41](#msg571b515cf5b6334a5e703307)Both R2 and R3 returns `true` for `case [1]` and `case [1 [ ] ]` but Red returns `unset!`.

[10:42](#msg571b51796e3ae55e37e95a86)I mean Red doesn't return a value :)

mikeparr

[10:48](#msg571b52e84bbb6abf7d5e5f1d)Max and max. Not to do with @max moliad!

Red 6.0 Win. max works, and is in the full list of functions when I type 'what'. But 'Max' also works, and is not in the list. Same with Min/min.

[10:50](#msg571b537d9689a5440f7ac831)(Meant to say Red 0.6 of course. Hope I did not excite anyone)

[11:50](#msg571b61784bbb6abf7d5e60b8)modulo function - argument problem? Red 0.6 'help' says modulo accepts \[number! char! pair! tuple! vector!] but anything other than a number! gives me an execution error. Rebol2 accepts: number money time.

endo64

[12:03](#msg571b64a0f5b6334a5e70354e)Probably not implemented yet.

mikeparr

[13:47](#msg571b7cf06e3ae55e37e96024)Nan? crashes on Red 0.6 Win 7 , when I give it a string or char or block argument.

meijeru

[13:50](#msg571b7db94bbb6abf7d5e6453)@mikeparr Red words are not case sensitive; try `equal? 'max 'Max`.

ghost~5680c5f416b6c7089cc058a5

[14:31](#msg571b874c7469496137b886fc)@mikeparr you can open an issue on Github for `nan?` ... All crashes are bugs (unless you are sure that it is a To-Be-Implemented-In-A-Future-Release thing - then it is not required to open an issue i suppose)

mikeparr

[15:59](#msg571b9bdfd47413c07dcc9a38)@nc-x NaN - will do.

dockimbel

[16:42](#msg571ba5f511d2855e34012818)@mikeparr Another thing to do before opening a ticket is to check with the latest master version if the bug is still there or not.

maximvl

[18:49](#msg571bc3c147b4c6480ff9a491)hi, did anybody experience libcurl problem?

[18:50](#msg571bc3fef5b6334a5e7044cd)on a startup:  
&gt;home/maxvel/.red/console-2016-3-26-9662: error while loading shared libraries: libcurl.so.4: cannot open shared object file: No such file or directory

but there is libcurl.so.4 in /usr/lib

RenaudG

[18:53](#msg571bc4977469496137b89277)Are you on a 64bits system? If so, you may need to install libcurl 32 bits.

maximvl

[18:54](#msg571bc4e97469496137b89286)yep, I'm on x64

RenaudG

[18:56](#msg571bc54fd47413c07dcca1d2)Red is 32 only for now, so it's likely the explanaton. You have to install the 32 bit compatibility layer of you OS.

[18:57](#msg571bc594f5b6334a5e70452e)As stated on the download page:  
&gt; If you are using a Debian 7+ or Ubuntu 13.10+ version, you should use the multiarch way:  
&gt; $ dpkg --add-architecture i386  
&gt; $ apt-get update  
&gt; $ apt-get install libc6:i386 libcurl3:i386

maximvl

[19:04](#msg571bc74a0eef754b5ea9cb70)@RenaudG yep, that did the trick, thanks!

RenaudG

[19:05](#msg571bc763f5b6334a5e704572);)

maximvl

[19:08](#msg571bc8266e3ae55e37e96d8d)how do I interate through the object keys? looks like there is no foreach yet

[19:09](#msg571bc88247b4c6480ff9a590)I mean objects are not allowed in foreach

RenaudG

[19:11](#msg571bc8dcf5b6334a5e7045bd)`keys-of` and `values-of`

maximvl

[19:14](#msg571bc98b6e3ae55e37e96dd6)@RenaudG great! how did you know about them?

RenaudG

[19:16](#msg571bc9f5f5b6334a5e7045f9)You mean how i found these functions ?

maximvl

[19:16](#msg571bca0247b4c6480ff9a5cd)yep

RenaudG

[19:17](#msg571bca2d9689a5440f7adae6)Type `what` and enjoy the read. `help`or `?` very useful also.

maximvl

[19:17](#msg571bca4647b4c6480ff9a5db)I see, thx)

RenaudG

[19:18](#msg571bca789689a5440f7adaf7)You're welcome

## Sunday 24th April, 2016

xaduha

[03:11](#msg571c395b47b4c6480ff9b4de)`what` is great, but it isn't as great as it could be. It would be nice to be able to search and filter results somehow. Maybe a refinement that return data, not just prints?

dockimbel

[04:16](#msg571c48abf638ed830c7847c5)@xaduha `help` can search through functions docstrings:

```
red>> help "reflection"
     body-of    =>  Returns the body of a value that supports reflection
     keys-of    =>  Returns the list of words of a value that supports reflection
     reflect    =>  Returns internal details about a value via reflection
     spec-of    =>  Returns the spec of a value that supports reflection
     values-of    =>  Returns the list of values of a value that supports reflection
     words-of    =>  Returns the list of words of a value that supports reflection
```

xaduha

[04:32](#msg571c4c597469496137b8a493)perfect!

rpherman

[07:37](#msg571c77c04bbb6abf7d5e869a)I have heard Red/Rebol called dialects of Lisp. How true is that? I ask, because I would like to see if it could be used in the Spring Lisp Game Jam 2016 in 6 days. I understand it has homoiconicity and implements infix notation, but is it a Lisp at heart!

dockimbel

[08:17](#msg571c811611d2855e34012add)@rpherman Red/Rebol share many semantics and some syntactic rules with Lisp, but I doubt they would qualify as dialects of Lisp, mostly because of the lack of parens delimiters for expressions.

xqlab

[08:20](#msg571c81d5d47413c07dccb940)@Arie-vw A block denotes start and end of the fields to compare as in  
ed&gt;&gt; a: \[1 2 1 2 1 2 3 4 3 4 3 2 1 2 -1]  
\== \[1 2 1 2 1 2 3 4 3 4 3 2 1 2 -1]  
red&gt;&gt; sort/skip/compare a 3 2  
\== \[2 1 2 1 2 1 1 2 -1 4 3 2 3 4 3]  
red&gt;&gt; sort/skip/compare a 3 \[2 3]  
\== \[1 2 1 1 2 -1 2 1 2 3 4 3 4 3 2]

[09:09](#msg571c8d48d47413c07dccbaa7)seems not to work.(

rpherman

[09:23](#msg571c909e9689a5440f7af200)Thx, Nenad.

RnBrgn

[13:47](#msg571cce676e3ae55e37e98d5a)@xqlab The first example looks like it sorted correctly.  
you created groups of three numbers 121, 212, 343, 432, 12-1  
and then sorted them based on the 2nd number in each group.  
212 121 12-1 432 343

xqlab

[14:28](#msg571cd8137469496137b8b489)@RnBrgn Yes, but Rebol  
&gt;&gt; sort/skip/compare a 3 \[2 3]  
\== \[2 1 2 1 2 -1 1 2 1 4 3 2 3 4 3]

Zamlox

[15:35](#msg571ce7a47469496137b8b710)Following code does not work same way as in Rebol2. Is it ok ?

```
red>> f2: func [:f][f]
== func [:f][f]
red>> f1: func [][print "f1 called"]
== func [][print "f1 called"]
red>> f2 f1
== f1
```

In Rebol2:

```
>> f2: func [:f][f]
>> f1: func [][print "f1 called"]
>> f2 f1
f1 called
```

BlackATTR

[16:10](#msg571ceff7f5b6334a5e706bf2)

Vexercizer

[16:22](#msg571cf2bf7469496137b8b8c7)@rpherman Nah. REBOL = Forth + Logo with a bit of SNOBOL inspiration (i.e., parse). This is true even though the first Logo was implemented in LISP.

[16:31](#msg571cf4ead47413c07dccc9bd)@rpherman Oh and the prototypes bit could have been lifted from Self.

maximvl

[17:08](#msg571cfd8947b4c6480ff9ccd4)guys, is there a way to compare several values at once? like a = b = c?

Vexercizer

[17:14](#msg571cfef0f5b6334a5e706eff)@BlackATTR Carl Sassenrath was horrible at marketing. His chief errors: 1) he marketed to nerds instead of front-line business workers à la LOTUS 1-2-3 &amp; dBase II; 2) he failed to see the movement to make Javascript the de facto lang of the DOM and the importance of the DOM; 3) he failed to see that other langs dominated scripting (OS task controlling); 4) he pulled stubborn bonehead moves like AltMe and Reblets.

rebolek

[17:16](#msg571cff56f638ed830c784958)@maximvl you can do something like `all [a = b a = c]`

x8x

[17:16](#msg571cff7bf5b6334a5e706f1e)@xaduha `what` with filter:

```
what: function [
	"Lists all functions"
	/?
		s [word! string! block!]
][
	words: either ? [
		either block? s [
			s
		][
			s: form s
			r: clear []
			foreach w words-of system/words [
				if all[
					find form w s
					value? w
				][append r w]
			]
			r
		]
	][words-of system/words]
	foreach w sort words [
		if all [word? w any-function? get/any :w][
			prin pad form w 15
			spec: spec-of get w

			either any [
				string? desc: spec/1
				string? desc: spec/2					;-- attributes block case
			][
				print [#":" desc]
			][
				prin lf
			]
		]
	]
	exit												;-- return unset value
]
???: func[s [word! string! block!]][what/? s]
```

now, try it:

```
??? '-of
body-of        : Returns the body of a value that supports reflection
data-of        : Return data of a binary array.
keys-of        : Returns the list of words of a value that supports reflection
length-of      : Return size of a C string, excluding null tail marker.
size-of        : Return size of a binary array.
size-of-string : Return C size of a string, excluding null tail marker.
spec-of        : Returns the spec of a value that supports reflection
UTF8-size-of   : Return UTF-8 size of a Red string, excluding null tail marker.
values-of      : Returns the list of values of a value that supports reflection
words-of       : Returns the list of words of a value that supports reflection
```

sorry for the long post.. 8-)

maximvl

[17:18](#msg571cffe10eef754b5ea9f483)btw for some reason I can use blocks as keys in `switch`, but not in `select`

[17:18](#msg571cfffa4bbb6abf7d5e99e6)`red>> switch [a] [[a] [5]] == 5 red>> select [[a] [5]] [a] == none`

Vexercizer

[17:59](#msg571d09750eef754b5ea9f68d)@maximvl Does it make sense to compare SWITCH to SELECT? In a SWITCH, the interpreter returns the result of an evaluated block, if it finds a choice preceding it. In a SELECT, the interpreter returns as-is (not evaluated) the next thing ("value") of a series! if it finds what has been searched upon.

Your SWITCH returns none in REBOL/View 2.7.8.3.1 but returns 5 in Red 0.60. Both return none with the SELECT.

So should Red "look inside" (evaluate it) the choice block or not for a SWITCH? REBOL 2.7.8 does not, it seems.

BlackATTR

[18:39](#msg571d12fad47413c07dccd097)@Vexercizer I won't bash Carl. I wouldn't be in this forum if not for Carl and his skills and ideals. Yes Rebol could have done better in many areas, but it was always against formidable odds. The marketplace isn't much interested in a free-form/functional syntax, and its dislike of dynamic typing is pervasive. This is a real challenge for these languages-- gotta show precisely how a lang with extreme-dynamic typing, contrary to popular perception, is in fact a ninja-level weapon. Simplicity, convenience, small LOC, x-platform-- evidently the marketplace doesn't place much value on these.

c0ldT

[19:18](#msg571d1c126e3ae55e37e99d10)Could Red have been made entirely from assembly language ?

[19:23](#msg571d1d436e3ae55e37e99d4a)@BlackATTR regarding SQL, several languages capable of writing DSLs have done things to abstract away SQL details.

[19:29](#msg571d1e929689a5440f7b08b0)I would guess the reason that no standard abstraction has emerged is because it's too easy to 'roll your own' as needed, and so a 'need' hasn't existed.

[19:32](#msg571d1f3c4bbb6abf7d5ea059)Like the curse of Common Lisp - not much in the way of one library that is prevalent

Vexercizer

[19:46](#msg571d22784bbb6abf7d5ea127)@BlackATTR I have not bashed Carl. Everyone has flaws. Most let their flaws derail them, however. Carl was no exception.

Carl went after the wrong would-be customers because Carl looked for them in the wrong marketplace.

Carl did not understand Corporate America and Chief Tech / Info Officers. CIOs/CTOs have fiefdoms. They grow their own salaries by growing their departments. They grow their departments by having complicated tools and massive capital investment in equipment.

Most nerds who are REBOL fans get caught up in language fights, which is expected of nerds. While smart about computer science, they are stupid about commerce and profits. They end up defending false beliefs because they start from the wrong premises. Carl did as well.

c0ldT

[19:59](#msg571d25a7f5b6334a5e707765)Commerce can wreck your

[20:00](#msg571d25c84bbb6abf7d5ea1f3)... Community. (sorry. hand was bumped by toddler)

Vexercizer

[20:09](#msg571d280247b4c6480ff9d649)@BlackATTR And think upon this as well. Joe College-bound asks the college recruiter if his school teaches Java (salary = US$95k), C++ ($94k), C ($93k), Perl ($93k), XMK ($92k), C# ($91k), Javascript ($88k) at Go-into-Debt U. because those are the langs, which CTO/CIOs approve to defend their fiefdoms.

Thus, college Comp Sci dept heads have no interest in letting their profs teach any languages but those.

Does that mean other languages aren't in use in fields like robotics? No. Forth comes to mind. However, it starts and stops with what the decision-makers (CIOs/CTOs) demand and not what is best or smartest.

BlackATTR

[20:10](#msg571d28434bbb6abf7d5ea2b0)@c0ldT Lots of languages that implement or augment SQL to get data from a DBMS and some other sources (e.g., LINQ). I'm referring to completely unchaining SQL from the relational model and using it for hierarchical (filesystems/xml etc.) data and other user-defined dialects. It's an easy, but fairly rich syntax that is almost universally known.

c0ldT

[20:13](#msg571d28d647b4c6480ff9d67f)Hmm, ok. That will be cool.

[20:16](#msg571d298ad47413c07dccd5e6)EQL -- extended query language

[20:17](#msg571d29f69689a5440f7b0bab)or a general query language

BlackATTR

[20:18](#msg571d2a170eef754b5ea9fded)An example of repurposing SQL:  
Select * "&lt;div class='post-body entry-content'" FROM http://www.red-lang.org  
... returns a block of all the blog posts from the Red Lang home page

[20:19](#msg571d2a5f7469496137b8c59f)and of course you can add the WHERE clause, and u can support much richer parse rules than what SQL supports (just wild cards)

[20:21](#msg571d2ab447b4c6480ff9d6f1)the specific SQL dialect is determined by the data source (the FROM clause), which dictates what datatypes/objects are supported in the SELECT/UPDATE/INSERT INTO clause

c0ldT

[20:23](#msg571d2b3447b4c6480ff9d707)I like the idea

endo64

[20:23](#msg571d2b597469496137b8c5dd)@maximvl

&gt; `red>> switch [a] [[a] [5]] == 5 red>> select [[a] [5]] [a] == none`

This should work

```
red>> select/only [[a] [5]] [a]
== [5]
```

Vexercizer

[20:24](#msg571d2b8bd47413c07dccd66b)@BlackATTR @c0ldT Isn't DOM traversal and SELECTing DOM elements what JQUERY does already?

BlackATTR

[20:24](#msg571d2b8d4bbb6abf7d5ea37f)SQL then becomes a more flexible/adaptable dialect with the power of a shell language (Red!), and with a universal syntax-- or at least an easy starting point for others to create declarative dialects

c0ldT

[20:26](#msg571d2c116e3ae55e37e9a101)@Vexercizer he's talking about one syntax to rule them all

BlackATTR

[20:26](#msg571d2c136e3ae55e37e9a103)@Vexercizer Yes, in that specific use case. Not going to be able to use Jquery like a shell language though. Try traversing any filesystem for XML files with Jquery.

Vexercizer

[20:29](#msg571d2c9b47b4c6480ff9d74c)@c0ldT @BlackATTR Yes, but web page scraping is hard, notoriously so precisely because there are infinite ways to express HTML through classes and IDs.

SQL is a DB lang. DB langs exist mostly to provide views of data. Web pages aren't DBs. You could think of a whole web site as a DB, however.

c0ldT

[20:30](#msg571d2ced6e3ae55e37e9a128)The whole web as a db is where things are heading

BlackATTR

[20:31](#msg571d2d0947b4c6480ff9d768)@c0ldT Well, more like trying to provide a model, a starting point for end-users to develop dialects. Today you need to use java Xtext, Jetbrains or Antlr, and those are technically far out of reach of your average developer. I want to bring a simple dialect to business users. Deliver on the promise of dialects that you don't need a PhD to use.

Vexercizer

[20:31](#msg571d2d2d0eef754b5ea9fe8e)@BlackATTR

&gt; @Vexercizer ... Not going to be able to use Jquery like a shell language though.

So no one can add JQuery at the F12 console? JQuery is merely Javascript.

c0ldT

[20:32](#msg571d2d5c47b4c6480ff9d77e)Right. Leverage basic SQL that tons of folks know, to start

BlackATTR

[20:36](#msg571d2e430eef754b5ea9fedd)There are highly structured data sources, databases, then semi-structured data sources like XML/HTML/JSON/CSV etc., and then completely unstructured data, which is more an NLP problem. I'm aiming for something in that middle space. In my job I work with tens of thousands of XML records, web APIs and content management systems. I've written hundreds of scripts to make things more efficient. But my team members aren't in love with rebol/red (and my IT department is hostile to it) . Much easier for me if I do my work in an adapted version of SQL, which everyone knows, and I can worry less about the syntax and learning curve.

Vexercizer

[20:36](#msg571d2e4bd47413c07dccd712)@c0ldT Most don't know SQL or know it well. If they did, SQL jobs wouldn't pay US$90k.

The whole idea of computing for business is to abstract away all of the hard bits so that few domain-specific people are needed, e.g., the word processor killed the job of secretary.

If someone were smart, she would be trying to abstract away SQL so someone could do this: 'Get me Joe Smith's record. Joe came in the hospital around the 15th of last month for gall bladder surgery.'

c0ldT

[20:39](#msg571d2efa6e3ae55e37e9a1a8)Most de

BlackATTR

[20:39](#msg571d2efcd47413c07dccd732)@Vexercizer Javascript isn't designed to work locally. I know, it depends which javascript lang we're talking about, but frankly, even Javascript is too complex for what I'm describing. SQL can express most of what a business user would want. And of course, no-one is stopping anyone from using the full power of the base language.

c0ldT

[20:41](#msg571d2f964bbb6abf7d5ea471)A lot of it people know basic sql statements

BlackATTR

[20:42](#msg571d2fb10eef754b5ea9ff18)@Vexercizer The basics of SQL can be learned in about 10 minutes, unless the person is an idiot. :) Understanding relational databases, the theory underpinning databases (sets, relational algebra, etc.) and then the vagaries of a specific platform SQL implementation, yeah, that's about being a DBM and of course that's a career path which requires serious experience.

[20:42](#msg571d2fcd7469496137b8c6ce)@c0ldT Yeah, like virtually everyone who's ever used a database or built anything on the web.

Vexercizer

[20:42](#msg571d2fd39689a5440f7b0cf1)@BlackATTR SQL is a specific DB language. It's a DDL, DML and DCL in one.

And it makes no sense to devise something like SQL if one doesn't have discrete data "atomized" (or whatever nerds call it) into tables .

BlackATTR

[20:44](#msg571d30307469496137b8c6e4)@Vexercizer SQL syntax is just this: Give Me This, From This Datasource, Where the 'This' has some specific stuff I want, And show me the results in this order

JacobGood1

[20:44](#msg571d30484bbb6abf7d5ea496) lots of off topic chatter

Vexercizer

[20:45](#msg571d305fd47413c07dccd773)@c0ldT So, you would expect me to believe that most nurses, car salesmen, banking account reps, and so forth, know SQL?

Most people don't know SQL and of those who do, most don't know it well or enough to do anything useful that gains a return for the action.

BlackATTR

[20:45](#msg571d306d6e3ae55e37e9a1ec)@BlackATTR That's pretty much what every developer wants from data, irrespective of the data being in a DBMS, on their filesystem, on a web page or resource, etc.

Vexercizer

[20:46](#msg571d30a69689a5440f7b0d15)@JacobGood1 So? Is anyone chatting at the moment about Red? The exchange seems to be about implementing an SQL-like dialect in Red.

[20:46](#msg571d30be0eef754b5ea9ff4e)

c0ldT

[20:47](#msg571d30ca0eef754b5ea9ff55)I said IT people. But I have to stop OT discussion (forgot about that)

Vexercizer

[20:47](#msg571d30faf5b6334a5e707a22)@BlackATTR

&gt; @Vexercizer SQL syntax is just this: Give Me This, From This Datasource, Where the 'This' has some specific stuff I want, And show me the results in this order

I know SQL and it isn't like that at all. If it were that easy, no one would be paid US$90k/yr to be an SQL specialist. The position simply would not exist.

BlackATTR

[20:50](#msg571d31914bbb6abf7d5ea4dc)I think JacobGood1 is right. I've given enough food for thought, y'all can think about it. SQL has been the #1 or #2 language known by developers for 30+ years. If we can put forth a universal data manipulation dialect out there, it'll be a great foundation. And then, because nobody really cares about languages/syntax but geeks, you need a great x-platform GUI on top of it. So the SQL dialect part is really just the back-end stuff for when geeks like us want to write direct queries. I have a prototype of the syntax, I will post the code when it's more mature.

c0ldT

[20:52](#msg571d32109689a5440f7b0d55)👍🏻

Vexercizer

[20:52](#msg571d3212d47413c07dccd7d8)@BlackATTR Likely with production Red (1.0), it should be easy to write your own and compile it. Maybe you will get rich selling it. There is no reason for it to be part of the Red core.

[21:01](#msg571d3425d47413c07dccd85b)@endo64 Excellent. Tip. It's so easy to forget about refinements to functions.

## Monday 25th April, 2016

PeterWAWood

[03:28](#msg571d8ede0eef754b5eaa0c12)I have put together the first draft of a proposal for a \[View Automation Dialect](https://github.com/red/red/wiki/REP-XXXX---View-Automation-Dialect).

[03:29](#msg571d8f00f5b6334a5e708729)Before I submit the proposal, I would appreciate comments and suggestions.

ghost~5680c5f416b6c7089cc058a5

[04:30](#msg571d9d797469496137b8d5b5)@PeterWAWood Haven't read the complete proposal yet, but why only "View" Automation Dialect and not GUI automation dialect (I mean automating any GUI whether written in Red View or not) ?, something like https://pywinauto.github.io/ or https://pyautogui.readthedocs.org/en/latest/ or \[AutoIt](https://www.autoitscript.com/site/autoit/)

PeterWAWood

[05:08](#msg571da65fd47413c07dcce73c)@nc-x My main reasons are:  
1\. Cross-platform (including Android and iOS)  
2\. Avoiding external dependencies such as requiring Xcode or Visual C++  
3\. The benefits that an internal DSL has over an external one in being able to integrate the automation with the program's code.

[05:11](#msg571da7169689a5440f7b1cc7)I can see the value of having such a GUI automation dialect but I see one as complementary to an internal View Automation dialect. I believe that it would require much more effort to develop an external GUI automation dialect.

dockimbel

[09:32](#msg571de4336e3ae55e37e9bf8d)FYI, the approach I have in mind for automating View UIs is to allow `DO` on event values, which could be recorded or built by user. A dialect on top of that would be welcome, though, not strictly necessary.

PeterWAWood

[10:33](#msg571df290f5b6334a5e709b9f)@dockimbel That sounds good.

Arie-vw

[10:53](#msg571df72047b4c6480ff9fa99)@xqlab Thx. for trying. Will try this as well.

[10:56](#msg571df7d06e3ae55e37e9c576)@xqlab It seems not to work at all. Tried a set of different options.

[10:57](#msg571df805f5b6334a5e709d05)@qtxie Can you shed some light on sort/compare using not an integer! or function! but a block! because it does not seem to work now.

[10:59](#msg571df8a8d47413c07dccfa23)@PeterWAWood Great proposal. This would be very useful and also a must have for bigger companies.

qtxie

[11:02](#msg571df95801f15fc17a62afc5)@Arie-vw Just check the code, We didn't implement it. :joy\_cat:

[11:03](#msg571df96f11d2855e34012f36)So what is the meaning of `sort/compare block`?

Arie-vw

[11:05](#msg571dfa0ed47413c07dccfa7c)@x8x Nice code! I always regretted that Rebol did not return the results on WHAT by default (only displayed them). That way you could programmatically use it. Your code enables returning these results as well if you'd like.

[11:11](#msg571dfb6d7469496137b8eab4)@qtxie Rebol had it. My guess is this. Given: sort/skip/compare \[ 1 3 3 8 2 8 2 5 4 1] 2 \[ 2 1] would sort first on element 2 of each (skip) 2 group and then on element 1, giving result: \[ 4 1 1 3 2 5 2 8 3 8]

dockimbel

[11:12](#msg571dfb986e3ae55e37e9c697)@Arie-vw Extracting function values from the global context is a one-liner:

```
collect [foreach v words-of system/words [if any-function? get/any :v [keep v]]]
```

qtxie

[11:20](#msg571dfd7f0571cff52d2bd4ce)@Arie-vw I see. I'll implement it. ;-)

Arie-vw

[11:46](#msg571e03a89689a5440f7b32f4)@qtxie Great!!! Thx.

[11:47](#msg571e03df0eef754b5eaa250a)@dockimbel Yes, that was kinda what I meant. But thx!

ghost~5680c5f416b6c7089cc058a5

[16:22](#msg571e442bf5b6334a5e70b950)@PeterWAWood Regarding View Automation Dialect vs GUI A. D. - Agreed. Being cross platform should be the biggest priority. Also yeah, implementing GUI A.D. is gonna take a long time and there are better things to focus at right now... But well not my fault, Red/Rebol provides you with so much that you keep on becoming greedy :smile:

greggirwin

[18:38](#msg571e64339689a5440f7b56b8)I recall from past UI automation work that being able to find windows and faces is important. I know this is a draft, but things like watching for dialogs popping up, etc. is stuff I've had to do.

pekr

[18:44](#msg571e65706e3ae55e37e9ef4b)@greggirwin - I do remember using your keyboard navigation simulation dialect, invoking apps, searching for particular windows, filling in the info, pressing buttons :-)

Zamlox

[19:59](#msg571e77366e3ae55e37e9f5c6)what would be the equivalent of Rebol2

```
>> to block! 'x/y/z
== [x y z]
```

SteeveGit

[20:03](#msg571e780747b4c6480ffa294a)It should work the same, but TO type conversions have still to be implemented for the most part of it. It's really starting to be a burden for early coders like us, :worried:

Zamlox

[20:04](#msg571e78557469496137b919f0)In Red same code gives a different result:

```
red>> to block! 'x/y/z
*** Script error: to does not allow path! for its type argument
*** Where: to
```

SteeveGit

[20:05](#msg571e78750eef754b5eaa516a)ah ah, yes it's dfferent...

[20:05](#msg571e788c6e3ae55e37e9f666)but should not

Zamlox

[20:05](#msg571e7894f5b6334a5e70cd36)ok

[20:08](#msg571e793b6e3ae55e37e9f698)till then,I might use something like:

```
red>> split form 'x/y/z "/"
== ["x" "y" "z"]
```

SteeveGit

[20:08](#msg571e794df5b6334a5e70cd6e)not bad ;-)

[20:12](#msg571e7a1ff5b6334a5e70cdb6)

```
Red>> load form split form 'x/y/z "/"
== [x y z]
```

[20:18](#msg571e7ba6f5b6334a5e70ce43)The funny thing is, that a path! is actually a disguised block!. Internally, I think there is no more than few bits of difference in their header.

greggirwin

[21:29](#msg571e8c507469496137b9219d)Looks like most things don't have TO implemented yet. The handler is not set in the source.

x8x

[21:38](#msg571e8e714bbb6abf7d5efe6a)

```
to-block: func[b return: [block!]][append copy [] b]
  to-block 'x/y/z
;   [x y z]
```

SteeveGit

[21:40](#msg571e8ee4d47413c07dcd313e)Thanks, I forgot this neat trick , though, I used it some weeks ago.

Zamlox

[21:42](#msg571e8f404bbb6abf7d5efeb4)@x8x thanks.

x8x

[21:43](#msg571e8f650eef754b5eaa5a07)some more to-.. functions while you wait for the official ones:

```
form-word: func [ {form type? 1 return "integer", this function return "integer!"}
	w
	return: [string!]
	/local s
][
	s: charset "':"
	rejoin parse mold w [collect any [s | keep skip]]
]
to-word: func[w return: [word!]][load form-word w]
to-lit-word: to-lit-path: func [w return: [lit-word!]][load head insert form-word w {'}]
to-set-word: to-set-path: func [w return: [set-word!]][load append form-word w {:}]
to-get-word: to-get-path: func [w return: [get-word!]][load head insert form-word w {:}]

to-block: func[b return: [block!]][append copy [] b]
to-file: func[f return: [file!]][append copy %"" f]
to-url: func[u return: [url!]][load u]
to-decimal: func[i return: [float!]][load append form i {.0}]
```

SteeveGit

[21:45](#msg571e8fe147b4c6480ffa31f9)The problem is that the context (of words) is lost with such methods.

[21:46](#msg571e902847b4c6480ffa3210)load+form is a destroyer combination

Zamlox

[21:47](#msg571e9058f5b6334a5e70d5d3)@x8x can you also give source for 'rejoin' ?

x8x

[21:47](#msg571e90776e3ae55e37e9ff8e)Agree, but as a "temporary solution" those works in most cases

SteeveGit

[21:48](#msg571e90b047b4c6480ffa3240)For rejoin, something like

```
append copy "" reduce [...]
```

x8x

[21:49](#msg571e90fc0eef754b5eaa5a95)taken from @greggirwin mezzanines:

```
reform: function [
	block [block!]
	return: [string!]
][
	form reduce block
]

repend: func [ ;from Gregg's %series.red
	"Appends a reduced value to a series; returns series head."
	series [series!]
	value
	/only "Insert block types as single values (overrides /part)"
	;/part "TBD: In R3, but not R2"
][
	either only [
		append/only series reduce :value
	][
		append series reduce :value
	]
]

join: func [ ;from Gregg's %series.red
	"Returns a copy of a value, with other values appended."
	value "Base value; copied if series, formed otherwise"
	rest  "Value or block of values"
][
	repend either series? :value [copy value] [form :value] :rest
]

rejoin: func [ ;from Gregg's %series.red
	"Returns a new string (or same series type as block/1) made from reduced values."
	;"Returns reduced, joined values."
	;"Returns joined, reduced values."
	block [block!]
	/local op
][
	either empty? block: reduce block [block] [
		; op: either series? first block [:copy] [:form]
		; append op first block next block
		op: either series? first block [copy first block][form first block]
		append op next block
	]
]
```

Zamlox

[21:50](#msg571e911ff5b6334a5e70d618)@x8x thanks ;)

x8x

[21:55](#msg571e9263f5b6334a5e70d68d)I'm curious, shouldn't `rejoin []` return an empty string instead of an empty block?

Zamlox

[21:56](#msg571e929b47b4c6480ffa32e1)In Rebol2 also returns an empty block.

x8x

[21:57](#msg571e92c76e3ae55e37ea0054)yes and I'm curious about the motivation

Zamlox

[21:57](#msg571e92dc6e3ae55e37ea0057)me too :)

SteeveGit

[21:57](#msg571e92ddd47413c07dcd32c9)probably a miss, Rebol is not perfect ;-)

## Tuesday 26th April, 2016

PeterWAWood

[01:26](#msg571ec3d46e3ae55e37ea0a2a)@greggirwin Thanks for the input on the View Automation proposal. I'll try to incorporate something based on it.

mikeparr

[07:45](#msg571f1c7d6e3ae55e37ea1987)Pad function - left/right wrong? Help says:  
Align a string to a given size prepending whitespaces.  
/left =&gt; Align the string to the left side.

```
XAB    X

red>> prin "X" prin pad/left "AB" 6 print "X"
X    ABX
```

'left' seems to be doing a right?

rebolek

[07:47](#msg571f1d15c5496dcf15d099d2)Hm, yes, looks like it is reversed.

SteeveGit

[07:48](#msg571f1d46d47413c07dcd4ba1)rather, rename the refinement /right

mikeparr

[07:53](#msg571f1e694bbb6abf7d5f18f9)pad - also re-write doc, so that no refinement APPends space. (sorry for bad formatting)

dockimbel

[09:48](#msg571f39500eef754b5eaa7cf2)I have fixed the docstrings for `pad` to avoid the align/pad confusion.

endo64

[10:08](#msg571f3e340eef754b5eaa7e82)&gt; I'm curious, shouldn't `rejoin []` return an empty string instead of an empty block?

No, because `rejoin` doesn't always return a string, it keeps the type of the first value:

```
>> rejoin [%file "name"]
== %filename ; file!
```

[10:34](#msg571f4438f5b6334a5e70fbb9)@dockimbel when I encap the latest build I got following warning:

```
Compiling compression library...
Compiling Red console...
*** Warning: type casting from pointer! to pointer! is not necessary
*** in: %/E/Git/red/build/bin/datatypes/series.reds
*** at: [part
    copy-memory temp src part
    either dst >
]
--== Red 0.6.0 ==--
Type HELP for starting information.

red>>
```

dockimbel

[10:41](#msg571f45cf9689a5440f7b8c0d)@endo64 The warning should be gone now.

endo64

[11:33](#msg571f520d39700a78092739b2)Yes it's gone now.

[11:42](#msg571f54202cd01bf9764ac832)@dockimbel I added `/with` refinement to `pad` function to be able to use other chars than space which usually I need to.  
Here is the changed function, if you think it is ok I can make a PR:

```
pad: func [
	"Pad a string on right side with spaces"
	str		[string!]		"String to pad"
	n		[integer!]		"Total size (in characters) of the new string"
	/left					"Pad the string on left side"
	/with c	[char! string!]	"Pad with char"
	return:	[string!]		"Modified input string at head"
][
	c: either with [
		any [
			all [char? c c]
			all [empty? c #" "]
			first c
		]
	] [#" "]
	head insert/dup
		any [all [left str] tail str]
		c
		(n - length? str)
]

;usages:
red>> pad/with "test" 10 "."		;== "test......"
red>> pad/with "test" 10 #"."		;== "test......"
red>> pad/left/with "test" 10 "."	;== "......test"
red>> pad/left/with "test" 10 #"."	;== "......test"
red>> pad/with "test" 10 ""		;== "test      "
red>> pad/with "test" 10 "xyz"		;== "testxxxxxx"
```

dockimbel

[11:44](#msg571f54ac9b4160fa7609e6c3)@endo64 Thanks. Accepting strings for `c` is misleading, as only the first character is considered. I would remove that type, and leave only `char!`.

endo64

[11:46](#msg571f55204ba1347709b518d8)I see. I thought that with char! only we need to convert string! values to char always `pad/with "x" 10 first S` but user need to handle if S is empty or not.

Zamlox

[11:46](#msg571f5532e8a4670f2b5c9287)why padding if empty string is given as padding character ?

```
red>> pad/with "test" 10 ""        ;== "test      "
```

endo64

[11:48](#msg571f55764ba1347709b518f4)otherwise it gives error, if you argument comes from somewhere then you need to handle that case. I tried to make it more useful from user point of view.

Zamlox

[11:50](#msg571f55eb4ba1347709b5191c)I was thinking that might be confusing when code reviewing.

[11:52](#msg571f568f8a90ed791312b73d)If I would read that code I would expect not to pad. It's like 10 x 0 = 0.

dockimbel

[12:06](#msg571f59d64ba1347709b51a70)@endo64 The way the `c` char! is produced is up to the user, the \*requirement* for using `/with c` is \*give me a char! value\*. I don't see any common code pattern where taking the first character of a string for padding would be used. We incorporate extra features in built-in functions only when they cover some common or handy code idioms.

endo64

[12:07](#msg571f5a12e8a4670f2b5c943a)I understand, this will prevent the confusion that @Zamlox mentioned. I'll make the change.

[12:10](#msg571f5ad30f156f102b40d5b0)Ok,

```
pad: func [
	"Pad a string on right side with spaces"
	str		[string!]		"String to pad"
	n		[integer!]		"Total size (in characters) of the new string"
	/left					"Pad the string on left side"
	/with c	[char!]			"Pad with char"
	return:	[string!]		"Modified input string at head"
][
	c: either with [c] [#" "]
	head insert/dup
		any [all [left str] tail str]
		c
		(n - length? str)
]
```

dockimbel

[12:17](#msg571f5c6c8a90ed791312b931)`c: either with [c] [#" "]` =&gt; `c: any [c #" "]` ;-) So, in fact you can inline that expression directly:

```
[
    head insert/dup
        any [all [left str] tail str]
        any [c #" "]
        (n - length? str)
]
```

endo64

[12:18](#msg571f5cb09b4160fa7609e965)Ah yes, already did PR, I'll change it to inline and make another one.

[12:26](#msg571f5e6c39700a7809273d9e)Ok, did another PR.

SteeveGit

[15:28](#msg571f89034da16e7d13d8ee9e)@endo64m @dockimbel about common expectations. I would expect the padding to be at left by default.To take a real use case: If one prints several fields in a row, only numbers are aligned to the right (pad/right). Also, another nice option would be (pad/center). :hamster:

dockimbel

[15:44](#msg571f8cf89c86c12a7f568013)@SteeveGit You can see padding as the reverse of aligning:

```
red>> pad "test" 8
== "test    "
```

Default is padding right, so aligned left. ;-)

SteeveGit

[15:50](#msg571f8e4ce8a4670f2b5caa38):hamster: is confused... In your example, pad is aligned left by default. :worried:

[15:51](#msg571f8e7c9b4160fa7609fe41)ooooh

[15:51](#msg571f8e8b4da16e7d13d8f121)semantics....

dockimbel

[15:58](#msg571f903449d5aaf16db7e880)@SteeveGit Action of \*aligning* and action of \*padding* are not the same thing.

SteeveGit

[16:00](#msg571f90882cd01bf9764ae0dc)Yeah, what did you expect? I'm just a little hamster :hamster:

dockimbel

[16:04](#msg571f9178c388e4fe099a88ae);)

## Wednesday 27th April, 2016

Zamlox

[03:59](#msg5720391939700a780927823c)how may I generate (throw) an error within a function similar to this:

```
red>> find
*** Script error: find is missing its series argument
*** Where: find
```

dockimbel

[04:09](#msg57203b7dc388e4fe099a8b77)@Zamlox See `cause-error` function. Its type and id arguments are taken from `system/catalogs/errors`.

Zamlox

[04:11](#msg57203beb2cd01bf9764b1006)@dockimbel thanks. When I access system/catalogs/errors I receive:

```
red>> system/catalogs/errors
*** Script error: cannot access catalogs in path system/catalogs/errors
*** Where: do
```

dockimbel

[04:11](#msg57203c0849d5aaf16db7eb13)Sorry, it's `system/catalog/errors`. You can browse the system object using `help system`, `help system/catalog` and so on.

Zamlox

[04:12](#msg57203c368a90ed791312fd2d)all right.

[04:16](#msg57203d2c0f156f102b411a85)can you give me a sample code how to use cause-error ?

dockimbel

[04:17](#msg57203d7449d5aaf16db7eb14)@Zamlox Sure:

```
red>> cause-error 'math 'zero-divide []
*** Math error: attempt to divide by zero
*** Where: do
```

Zamlox

[04:18](#msg57203d8a4da16e7d13d920b1)@dockimbel thanks

dockimbel

[04:19](#msg57203ddbc388e4fe099a8b79)The last argument holds optional arguments which might be required by the error block pointed by `system/catalog/errors/:type/:id`. Each error definition can have 0, 1 or more arguments required. That arguments blocks will be reduced by `cause-error`.

Zamlox

[04:20](#msg57203e02e8a4670f2b5cdb4c)May I add my own error object in system/catalog/errors and then use it ?

dockimbel

[04:21](#msg57203e4a9c86c12a7f56832e)Certainly.

Zamlox

[04:21](#msg57203e504ba1347709b560f5)ok,thanks

greggirwin

[07:57](#msg572070eb4ba1347709b56a18)I know PAD is a nice, short word, but I've grown to dislike it because I always seem to guess wrong whether it means pad ON the left, or TO the left. :^\\

[07:58](#msg572071084ba1347709b56a1e)Funny how some little things just won't stick in my head.

rebolek

[08:01](#msg572071ee8d3a974522a504a5)I prefer to use \[LPaaS](http://left-pad.io/) ;)

asampal

[08:41](#msg57207b27c388e4fe099a8c41)@dockimbel have you considered the "unum" format for the floating point representation in Red? \[Here](http://ubiquity.acm.org/article.cfm?id=2913029), it mentions that the format "prevents rounding errors, overflow, and underflow; produces more accurate results than the current standard; saves storage space and energy; and is faster, to boot!"

[08:43](#msg57207bcbc388e4fe099a8c48)I hadn't heard about it before, but it was posted about on \[r/programming](https://www.reddit.com/r/programming/comments/4gj08n/a\_new\_number\_format\_for\_computers\_could\_nuke/) and I thought it looked worthy of consideration.

[08:45](#msg57207c3e8d3a974522a504fb)I guess without hardware support performance would be an issue, though. Maybe it could still be an additional type to be used when needing accuracy.

dockimbel

[08:55](#msg57207e8d2cd01bf9764b1d58)@asampal I know about "unum" format, somebody offered me the book about a year ago. The main drawback, as you noticed too, is the lack of hardware support, making it a no-go compared to IEEE-754 formats which run magnitudes faster with hardware support.

[09:01](#msg57207ff20f156f102b4127f8)For accurate decimal calculations, the money and bignum datatypes will give you that.

asampal

[09:03](#msg5720805fc388e4fe099a8c73)Will Red allow something like that format to be added as a library/module? You said user types would be supported, but would an implementation of "unum", for example, be as "fully integrated" (whatever that means) as the native floating point format? Just curious if alternative implementations of the native simple types would be 2nd class citizens.

dockimbel

[09:13](#msg572082a739700a780927916c)@asampal User-provided datatypes will behave like any other built-in datatypes. Though, if you want to introduce a new "number" type, unless you provide a unique syntax for it, it would collide with other number types.

asampal

[09:14](#msg572082f5c388e4fe099a8c87)Would it not be possible for a user-provided type to completely replace the built-in format in a transparent way?

[09:15](#msg572083189c86c12a7f568440)A mechanism to do so might be nice to have.

dockimbel

[09:17](#msg572083954ba1347709b56f7d)@asampal It's not something I'm officially planning to support, but it should be possible to achieve it already in Red (unlike in Rebol3), by overloading the "actions dispatch table" for one of the existing datatype.

asampal

[09:19](#msg57208434c388e4fe099a8c96)Wouldn't this result in a different build of Red, though? What I meant is for a user to be able to use the official Red runtime, but substitute a different implementation.

dockimbel

[09:20](#msg5720845c9b4160fa760a3cc5)I'm talking about runtime substitution, not changing the source code. The built-in datatypes rely on a internal dispatch table for all their actions, so you could overload any/all of those entries at runtime (you'll need to write your own R/S functions for that, there's no internal API to help you for that, for now).

asampal

[09:21](#msg572084818d3a974522a50544)Oh, so that is currently possible then.

mikeparr

[11:00](#msg57209bd8e8a4670f2b5cf0a6) `put` works fine when the key is found, but when it is not found, an error results. I wonder if it should return `none` ?  
'''  
red&gt;&gt; s: \["a10" "Smith" "a22" "Zing" "a34" "Wilson"]  
\== \["a10" "Smith" "a22" "Zing" "a34" "Wilson"]

red&gt;&gt; put s "2222" "ww"  
\*\** Script error: cannot set none in path none  
\*\** Where: put  
'''

Zamlox

[11:32](#msg5720a35f2cd01bf9764b27df)or maybe it should add the key and the value

dockimbel

[12:22](#msg5720aef49b4160fa760a4950)Right, it should add the key/value pair if the key is not found. Worth a ticket.

PeterWAWood

[13:55](#msg5720c4bc4ba1347709b584a1)@dockimbel It was a

```
block!
```

not a

```
map!
```

.

[13:58](#msg5720c5888a90ed7913132101)

```
put
```

already adds keys to a

```
map!
```

:

```
red>> m: #(a 1 b 2)
== #(
    a: 1
    b: 2
)
red>> put m 'c 3
== 3
red>> m
== #(
    a: 1
    b: 2
    c: 3
)
```

dockimbel

[14:04](#msg5720c6f58d3a974522a50736)@PeterWAWood As we support PUT on any-blocks too, keeping the same semantics as for maps would be the best option I think. So change the value if key is found, else append the key/value pair.

asampal

[14:22](#msg5720cb2449d5aaf16db7ee2f)@dockimbel should the behaviour of a `put` be the same if the block has an odd number of elements as when the number is even? Will `keys-of` also have the semantics as for maps when used with blocks, as well? I notice that it currently errors when used on blocks. If it will act as for maps when used with blocks, should it act differently when the block has an odd rather than an even number of elements?

[14:25](#msg5720cbd38d3a974522a50758)If behaviour for these should be as per use with maps when used with blocks of either odd or even size, then at least the wording of the documentation should change since what is referred to as a key with a `put` would become a value for `get-keys`, when a key is put into an odd-sized block.

[14:27](#msg5720cc3a8d3a974522a5075c)IMO, `put` should error when used on a block with an odd number of elements. As for `keys-of`, I'm not quite sure what should be expected.

Zamlox

[14:52](#msg5720d236e8a4670f2b5d043d)We can take into consideration also this scenario: If the key/value are placed inside the block (not at the end) then last element still is a key on an odd position. If the key/value are placed at the end of block then 'put' might add a 'none' value after the last key which is on the odd position and then add the new key/value. I am wondering if we might consider the value of the last key on an odd position as being 'none' and if this scenario will not have some side effects on doing other operations on the block.

[15:06](#msg5720d56f4da16e7d13d94b45)It looks like a dictionary cannot have a 'none' value:

```
red>> dict: #()
== #()
red>> put dict 1 none
== none
red>> dict
== #()
```

but a block can:

```
red>> a: ["1" 10]
== ["1" 10]
red>> put a "1" none
== none
red>> a
== ["1" none]
```

[15:51](#msg5720dfff0f156f102b414945)I think if 'put' is used with a key/value on a block where the key does not exist then it should error only if the block length is odd (also for dictionary it's not possible to have a key without a value). Because 'none' can be an item of the block it should not be returned if key does not exist or block length is odd. Otherwise the key/value should be added if does not exist or replace value for existing key.

SteeveGit

[16:25](#msg5720e815e8a4670f2b5d0df7)@Zamlox, not agreed... IMO, it would invalidate the design of map! just for this usage. You can use a block in replacement, as it fits better with your use case. Or you can also use a different value (than none!) to indicate that the key has been cleared.

[16:28](#msg5720e8bf4da16e7d13d95409)map! and block! have not to behave like each other, or else, what is the purpose of map! if it's doing the same thing to begin with?

asampal

[16:41](#msg5720ebc549d5aaf16db7ef49)@SteeveGit well, it could be simply that map! is optimized for access using a hash lookup - that's enough of a difference for it to exist, no?

SteeveGit

[16:44](#msg5720ec5139700a780927b7fe)@asampal We already have a hash! block type

asampal

[16:46](#msg5720ecd349d5aaf16db7ef4c)hmm, it seems like there is one too many structures then

SteeveGit

[16:51](#msg5720ee258a90ed7913133209)... no, map! behavior is different from hash!

asampal

[17:23](#msg5720f59cc388e4fe099a8feb)@SteeveGit can you remind me what is the distinction between map! and hash! ?

[17:25](#msg5720f60fc388e4fe099a8ff0)IIRC, R3 got rid of hash! because the new map! did everything hash! did and more (better?)

SteeveGit

[17:39](#msg5720f94c4da16e7d13d95a04)Some people have complained about it when Carl removed hash!, because an associative array (where only keys are hashed) and a simple hashed array have different use cases. But it occurs to me that you already know that very well Mister "Could you remind me?" :clap:

asampal

[17:50](#msg5720fbea8d3a974522a508b3)heh, remember IIRC leaves room for not remembering correctly and, in fact, I only vaguely recall the conversations around this topic, on AltME and the SO chat - so my question was for real

SteeveGit

[17:54](#msg5720fcc79b4160fa760a68b7)Ok, the differerence is that if you don't need key+value but just hashed values (as for a huge english dictionnary of strings), then a simple hash is more compact.

asampal

[17:54](#msg5720fcd48d3a974522a508b6)anyhow, and IMO, when the only difference between associative data structures is an implementation detail (rather than semantics), the solution should be to allow optimization/implementation details to be specified at creation time rather than having two different datatypes

SteeveGit

[18:02](#msg5720fea82cd01bf9764b4b9a)But behaviors are different, it's not a matter of optimization. A map! will auto create a missing key as in `my-map/new-key: "value"`. Not the hash! neither the block!.

asampal

[18:08](#msg572100259c86c12a7f5687e3)k, but that seems a somewhat arbitrary distinction between map! and hash! rather than being "designed-in". Why couldn't hash! behave the same in that respect without any downside apart from maybe legacy considerations , and, if it did, would there be anything else to justify having two types?

SteeveGit

[18:26](#msg5721043f39700a780927c140)As I see it, hash! is a sub part needed to implement map!. Then hash! could be hidden, like R3 guys did choose to do. But hash! has some usages different from map!. So what do we do now? Hide it for the sake of purity? or give it to the user base as a separate datatype? make your bet!

Zamlox

[18:35](#msg5721066c4ba1347709b5a0b3)@SteeveGit well, map! and block! do not behave like each other even if 'put' would work in same way for both because use cases would be different. It is about maintaining consistency of 'put' function for different types it can take the first parameter \[series! map! object!]. I see that it behaves in same way for series! and object! but different for map! (related to non-existent key/value). Are there other functions in Red which behaves differently for different types of parameters (I haven't had chance to use all functions) ?

asampal

[18:47](#msg5721092f49d5aaf16db7efe9)In the name of simplicity and less redundancy, I'd vote for having only one of map!, hash! This is not about "purity" - more like common sense, IMO.

SteeveGit

[19:21](#msg57211138e8a4670f2b5d1e49)It's more in the name of "Some people tried to explain to me that it could be of some interest, but because I know I will never use it, then no one should be able to" People don't call that, common sense, where I come from.

Oldes

[19:40](#msg572115bb4da16e7d13d96493)&gt; hmm, it seems like there is one too many structures then

I don't thing so... I think there is still room for more structures, like linked lists.

greggirwin

[19:42](#msg5721162a4da16e7d13d964b3)@rebolek LPaaS...brilliant.

[19:58](#msg572119e04ba1347709b5a86b)There are arguments both ways as far as number of stuctures. I don't think anyone will argue that the wealth of datatypes is great. They add value because we can express things more clearly. However, non-lexical types are slightly different, and there is no clear "right way". It's up to Nenad to say what his vision is in that regard. More types can lead to more control, but also more confusion where details in behavior matter. For system work, you may want complete control, but for daily work at a high level, even R2 could be confusing where behavior was different for list!, block!, and hash!. You couldn't just change the type and have your code work the same, even though the interface to the type worked.  
If you're a fan of Bertrand Meyer, he wrote about this in depth, but Red is different than Eiffel in that we use return values extensively, versus the command/query model.  
I think block! and map! give us all we need at a high level. And I don't think PUT has to work the same for them. I don't want it to presume too much. Just enough. :^)

[20:00](#msg57211a5f2cd01bf9764b563c)The question is how to support advanced structures. Nenad will say. Since there is no limit to the types of structures, keeping Red simple and allowing user extensions makes sense to me.

SteeveGit

[20:36](#msg572122c4e8a4670f2b5d2558)As I tried to say the hash! datatype (a class of block!, not map!) , is a tiny wrapper to a more fundamental datatype (hashtable) which is used for map!, symbols storage and potentially other deep structures. Getting rid of hash! will simply hide hashstable under the hood. My position is: If you are confused by that datatype, don't use it.

asampal

[20:36](#msg572122ea9c86c12a7f56891b)@SteeveGit , you keep putting intent behind my words that I didn't have. I wasn't saying that the difference you pointed out isn't significant - just that the differences could be hidden behind some creation-time parameters. Why should a user have to remember arbitrary details like "well, if I want space optimization I should choose hash!, but if I want missing keys to be auto-created, I should choose map!. Hmm, maybe I want auto-created keys, but I don't care about size. Now which map-type structure was that one again?"

SteeveGit

[20:40](#msg572123a08a90ed791313459f)@asampal Sorry if I over-interpreted your words, peace :hamster:

asampal

[20:40](#msg572123b4c388e4fe099a914c)I agree with @greggirwin wrt having more types to allow greater expression - where the choice of type reasonably maps to the desired functionality. Not much in either the name map! or hash! tells a user what to expect wrt auto-creating keys or saving space due to only keys being hashed. Those are details that should not have to be memorized per semantically equal types.

Zamlox

[20:50](#msg572126182cd01bf9764b5a6e)&gt; I think block! and map! give us all we need at a high level. And I don't think PUT has to work the same for them. I don't want it to presume too much. Just enough. :^)

Why not work the same for them ? It would help not to change the code which add/update elements using 'PUT' when changing data structure from block! to map! (due to performance reasons).

SteeveGit

[21:03](#msg572129279b4160fa760a793a)&gt;when changing data structure from block! to map! (due to performance reasons).

@Zamlox But they are not transposable. block! and hash! are transposable for performance reasons only. Map! is something else. It's like trying to put an 1-dimentionnal array (block!) into a 2-dim array (map!). Of course it changes everything: index / 2, length / 2. Your code will simply not work anymore.

[21:06](#msg572129e79b4160fa760a797e)So if you want a boost of perfs, you change a block! to a hash! and no need to modify your code.

Zamlox

[21:07](#msg57212a284ba1347709b5ae23)@SteeveGit all right. I see your point. Thanks.

PeterWAWood

[22:10](#msg572138df0f156f102b416aab)@dockimbel PUT also supports object.

## Thursday 28th April, 2016

dockimbel

[04:00](#msg57218ae1c388e4fe099a92b3)Hash! is a series, so it has the semantics of block! (offset, navigability,...). Map! is not a series, more object-like. Hash! allows arbitrary hashed associations, like 1-N, N-1, N-M, map! is stuck with a 1-1 model (where only the key is searchable).

[04:04](#msg57218bbb49d5aaf16db7f213)PUT is the counterpart of SELECT for modifications. Its semantics are only related to the key/value it manipulates, not the content of the data structure. So a block! doesn't need any special constraint in order to use PUT on it (same as for SELECT). For the case of missing key: we can append the key/value pair. For tail key with no value, we can just append the value.

asampal

[07:09](#msg5721b74049d5aaf16db7f23c)@dockimbel if hash! has these useful and different characteristics, do you recall what the reasoning was behind Carl not including it in R3? Was he thinking that blocks would be enhanced to include some of hash!'s optimizations/semantics?

dockimbel

[07:16](#msg5721b8c849d5aaf16db7f245)@asampal I've never seen any rationale from Carl about that change. I think he was just concerned by the extra size of the Rebol binary if keeping both hash! and map!, and also probably happy to drop hash! because of the many bugs it had which were never fixed.

JenniferLee520

[07:26](#msg5721bb4239700a780927eb17)@dockimbel People (including Carl) talked about hash in this blog http://www.rebol.net/r3blogs/0052.html (28-Nov-2006 Change the Hash Datatype in 3.0?) and this blog http://www.rebol.net/r3blogs/0054.html (Hash Datatype Conclusions) "My view is: hash! works, but at the expense of implementational complexity (e.g. it was buggy for "good reason"), additional overhead (strict block order maintenance), and a general impedance mismatch to most usage cases (e.g. dictionary)."

dockimbel

[07:27](#msg5721bb779c86c12a7f568aaa)@JenniferLee520 Thanks for the reminder, totally forgot about those blog entries.

asampal

[07:39](#msg5721be3ac388e4fe099a92ea)@dockimbel in Red, is the behaviour of hash! the same wrt the points Carl described in the first blog post above?

dockimbel

[07:40](#msg5721be638d3a974522a50bad)@asampal No, most of his points are moot points wrt to hash! in Red:  
1\. \*All values are keys, even the content values.* Use `select/skip` to separate keys from value(s).

2\. \*You cannot use keys directly as indices.* You can using `put` for that.

3\. \*You cannot add new values using the key value assignment form.* That's why we have `map!`. Though, `put` addresses that (just not using path syntax).

4\. \*You have no control over case-sensitivity for hashes.* You can in Red (e.g. `select/case`).

asampal

[08:03](#msg5721c3b5c388e4fe099a930c)Nenad, will the rate of development be approximately the same from now until 1.0 or do you foresee the hiring of additional developers? I'm assuming that GUI functionality and IO is something that excites investors to the point where they'd like to see a stable version of Red as quickly as you guys can possibly deliver it and so would push for some expansion in headcount.

pekr

[08:24](#msg5721c8c44da16e7d13d98b36)The question is, where to get a good/skilled and Red understanding developer from. E.g. some old time rebollers are out of question - too busy elsewhere ...

dockimbel

[09:02](#msg5721d18ce8a4670f2b5d4ab6)@asampal Developers with required skillset for such job are extremely rare and difficult to hire.

Zamlox

[09:11](#msg5721d3da2cd01bf9764b7f07)what kind of skills are exactly needed ?

pekr

[09:18](#msg5721d5818a90ed7913136b21)Well, think about the possibility to extend Red, by let's say, a new datatype. Do you know how to do it? If so, you might apply. E.g. Oldes was able to understand the R/S code. Maybe it is not so difficult. It is maybe just about no such other person to appear on the scene ... yet ....

Zamlox

[09:20](#msg5721d5dd4ba1347709b5d23e)all right. So basically is needed to understand Red internal implementation and being able to extend it on demand.

dockimbel

[11:14](#msg5721f0a839700a780927fadf)@Zamlox Solid knowledge/experience of C language, cross-platform system programming, CPU architectures, some knowledge of programming languages implementations (general compiler/interpreter architectures), experience in user application development, knowledge of Rebol, genuine interest in using/contributing to Red. Those are the main requirements. R/S or Red runtime API knowledge are a big plus, but not strictly required, as it can be acquired pretty quickly.

pekr

[11:17](#msg5721f14c4da16e7d13d996b2)Till I read to "genuine interest in using/contributing to Red", I thought Carl could apply :-)

[11:18](#msg5721f1804ba1347709b5da63)That's quite big requirement, but that's just about to be expected ... others might contribute at the user level ...

Zamlox

[15:16](#msg57222943961e8a522e63dbcf)I was wondering for some time why 'find' and 'replace' functions doesn't have a '/deep' refinement (not only in Red). Any reasonable explanation ?

pekr

[15:36](#msg57222de1b018414f2eda1a8e)Perhaps the performance reasons? But I remember talking to Carl and he said that he considered adding the /deep refinement. Not sure if he did decide otherwise, or just it had a low priority and hence did not get implemented ....

Zamlox

[15:41](#msg57222f3e825d9dfd4118d3c9)@pekr thanks. IMO it might be handy to have it.

dockimbel

[16:00](#msg572233abadaeaa1839a9d042)@Zamlox It is trivial to write a FIND/DEEP equivalent using PARSE, and you'll have a much more versatile solution. Also, a deep reference wouldn't give you enough information about how to reach it from the root series, as you can't access parent references from within a series.

xaduha

[16:06](#msg57223516acbf59414aafdaf6)&gt; Solid knowledge/experience of C language

Why would that be required if it isn't written in C?

Zamlox

[16:06](#msg5722351db8068d3e4aca20db)@dockimbel true. I already did a simple implementation using linear traversal and recursion. It is handy when I want to know if a value exists within a series, even if has other series as elements. And I used FIND/DEEP when I implemented REPLACE/DEEP to replace a value for same data structure.

dockimbel

[16:09](#msg572235c2bef58fff1e548cf6)@Zamlox Here is my quick take at it:

```
find-deep: function [spec [block! paren!] value][
	rule: [any [pos: quote _ (return pos) | into rule | skip]]
	rule/2/3: value
	parse spec rule
	none
]

red>> tree: [a b [c d [e f] g [h i j] k] l m]
== [a b [c d [e f] g [h i j] k] l m]
red>> find-deep tree 'i
== [i j]
```

Zamlox

[16:10](#msg57223602825d9dfd4118d6e1)@dockimbel thanks ;)

dockimbel

[16:14](#msg572236f9adaeaa1839a9d063)@xaduha I could ask "Solid knowledge/experience of Red/System", but I doubt many people would qualify. So, C is the closest one. It should only take a few days for a skilled C coder to become fluent in Red/System, as they share pretty much the same semantics. Moreover, we always have to interface with OS API or libraries written in C, so C knowledge is really fundamental.

xaduha

[16:52](#msg57223fd9b018414f2eda224d)There was a period when Pascal and Borland Delphi were really popular, especially in some former Soviet republics, since people there weren't too concerned about licenses. Point being that people can be familiar with low-level programming without really knowing C.

meijeru

[20:09](#msg57226dfd4cd0ac7a27ed5dd9)The announcement on Twitter of a Logo interpreter in Red may have escaped some people's attention. The text is on \[Gist](https://gist.github.com/mydoghasworms/23fff6e454c3ca8b66f76a7b9421e80a). Nice show of Red's power!

greggirwin

[21:34](#msg572281e6c2f9b7fe41cc1407)@meijeru :^) Maybe I should dust off my old one. It was one of my early tests playing with PARSE when I found REBOL.

## Friday 29th April, 2016

asampal

[00:17](#msg5722a82432ba4dcf2a957d80)@mydoghasworms are there rounding errors in your logo interpreter that you're aware of? When I try `repeat 3 [repeat 6 [fd 50 right 60] right 120]` I get \[this](http://imgur.com/Pjd1iGc).

Vexercizer

[01:00](#msg5722b247961e8a522e64075d)Anyone: Is the parse dialect of Red 0.60 the same as REBOL 2.7.8 or as REBOL 3 alpha 111?

asampal

[03:02](#msg5722ced3be59accf3a033ad3)@mydoghasworms - never mind, I see where the rounding errors are happening

dockimbel

[03:27](#msg5722d4b832ba4dcf2a957dc0)@Vexercizer Red's Parse is a superset of Rebol3 alpha 111's one.

Vexercizer

[04:38](#msg5722e560c2f9b7fe41cc2528)@dockimbel Thank you.

dockimbel

[07:36](#msg57230ef6be59accf3a033b6d)@Vexercizer One difference with Rebol3's Parse is the `and` command renamed `ahead`in Red. See \[Introducing Parse](http://www.red-lang.org/2013/11/041-introducing-parse.html) article for more info.

mydoghasworms

[07:40](#msg57230fedb018414f2eda5351)@asampal There are very likely rounding problems, as I am just using the pixel pair integers as co-ordinates.

[07:41](#msg5723104211317a7d27a811b1)@dockimbel Thanks for the pointer to your blog post on Parse. Is it still up-to-date or have you made many changes to Parse since? Is Red's Parse on par with Rebol 2 or 3?

pekr

[08:20](#msg5723195111317a7d27a8144d)The answer's few messages above - Red's Parse is a superset of Rebol3 alpha 111's one.

mydoghasworms

[08:23](#msg572319fd825d9dfd41190d48)@pekr Thank you

dockimbel

[09:10](#msg572324fa11317a7d27a818d9)@mydoghasworms Only bug fixes, no changes on Parse since that article, so all the documentation should still be accurate.

mydoghasworms

[09:12](#msg5723257eb8068d3e4aca5af5)@dockimbel Thanks :+1:

gour

[09:12](#msg5723259432ba4dcf2a957efc)@dockimbel just curious how do you like Lisp in general and/or stuff like Racket? (now) i know that Red is meant to be full-stack languageso, so it's one of the clear advantages...

mydoghasworms

[09:17](#msg5723269db8068d3e4aca5b49)Is there a way to make variables only local to the parse rule body, so that they can be evaluated in the parens, but do not actually set variables outside?  
For example, after running the following, a global value `v2` will have been set:  
`parse [to abc def end] r: ['to copy b2 to 'end (print mold b2) ]`

[09:17](#msg572326bfc2f9b7fe41cc341d)Even when wrapping the evaluation in `function`, it sets it globally.

Zamlox

[09:25](#msg5723287c11317a7d27a819ed)@mydoghasworms try use

```
func
```

and define your variable within

```
/local
```

section

mydoghasworms

[09:28](#msg5723292eb8068d3e4aca5c07)@Zamlox Sheer genius, thank you! :smile:

Zamlox

[09:29](#msg572329654cd0ac7a27ed859e)@mydoghasworms ;)

dockimbel

[09:31](#msg57232a04b8068d3e4aca5c4f)@mydoghasworms Alternatively, you can just insert `b2: none` before your `parse` call, so that `function` will be able to capture it as a local word.

[09:32](#msg57232a3c825d9dfd411912e6)FYI, I wrote a long reply for this /r/redlang \[entry](https://www.reddit.com/r/redlang/comments/4ecs9n/insane\_behavior\_in\_rebol\_lets\_put\_an\_end\_to\_this/d2lt4fi), you might find it an interesting read. ;-)

mydoghasworms

[09:50](#msg57232e4e4cd0ac7a27ed8705)@dockimbel Thanks, that is a good read. Deep down I know that everything you say there is true, but I still cannot help but talk about "variables", instead of "bound words" :laughing: But seriously, do you think there is an argument for adding a refinement like /local to `parse` so that words bound inside the rule body remain in that context?

dockimbel

[09:54](#msg57232f4db8068d3e4aca5db4)@mydoghasworms I think it is fine to use "variables" and "assignment" in daily discussions, as long as you are aware that these are rough approximations. The future Red documentation will provide a dictionary for proper terms to use.

[09:57](#msg57232feeb8068d3e4aca5dde)@mydoghasworms There was a proposition for having a `local` keyword in Parse for creating local contexts. Such feature would not come for free and it would result in a signicative slowdown of Parse performances (as it would need to push/pop such contexts on the stack on every call). I personally never really needed such feature, and I think that the `collect` addition in Red's Parse also diminishes the needs for it. Though, I am not excluding such feature in the future, if the gains overweight the losses.

[10:02](#msg5723314dacbf59414ab01847)@gour What I think of Lisp is best expressed by this quote from Eric Raymond: “Lisp is worth learn­ing for … the pro­found en­light­en­ment ex­pe­ri­ence you will have when you fi­nally get it. That ex­pe­ri­ence will make you a bet­ter pro­gram­mer for the rest of your days, even if you never ac­tu­ally use Lisp it­self a lot.” That said, I consider Rebol and Red as more practical and human-friendlier Lisp versions.

gour

[10:25](#msg572336b707aef8c745a40b8a)@dockimbel thanks for the nice insight...'practical', 'human-friendlier' aka simpler-syntax etc. are very much appreciated here to pursue Red path

dockimbel

[10:29](#msg57233776825d9dfd411916b6)@gour About Racket, it's on my list of language implementations I need to review, as it might contain some useful ideas for Red's compiler.

gour

[10:30](#msg572337b032ba4dcf2a957f85)@dockimbel great. racket-6.5 is out and it looks they improved performance as well as typed-racket

RenaudG

[11:37](#msg572347794cd0ac7a27ed8dbb)Racket is a JIT compiled interpreter, and may be more inspiring for Red 2. Chicken Scheme use a similar pattern than Red 1 : transpiled to C (instead of RS), then compiled... may be interesting to study too.

[11:38](#msg572347d0b018414f2eda646e)But WTF I'm doing! No, no, No NO! Don't do that! Just keep coding until Red 1! ;)

gour

[11:44](#msg5723493332ba4dcf2a957fe6)@RenaudG 'keep coding' in which lang?

RenaudG

[11:49](#msg57234a4d4cd0ac7a27ed8eb4)@gour I don't care: Red, C, Haskell, ABAP, Brainfck... whatever it takes to get Red 1 under my christmas tree at the end of this year. :)

gour

[11:51](#msg57234aabd266e95e23b17655)@RenaudG ahh..good, good ;)

mydoghasworms

[11:52](#msg57234ae1961e8a522e6428bb)Why does the map! literal syntax permit binding via : and without?

```
red>> m: #(one 1 two: 2)
== #(
    one: 1
    two: 2
)
```

[11:53](#msg57234b2cb8068d3e4aca656e)I mean, it's not bad, it's just odd. It even gives me a little tick.

dockimbel

[11:54](#msg57234b794cd0ac7a27ed8f30)@mydoghasworms Binding? Those are just set-words, you confuse syntax with semantics. There are no binding operation in maps. Set-words are used in maps to represent keys, to get a nicer visual representation (we could have used other datatypes, but set-word literals are the best fit). Though for input, maps can be constructed with different type of words as keys, which get normalized for output as set-words.

mydoghasworms

[11:55](#msg57234baf4cd0ac7a27ed8f40)Well, inside the map, the word one is bound without ':' and two is bound with. Same effect, but inconsistent syntax.

[12:00](#msg57234ce84cd0ac7a27ed8fbe)OK, but should 'one' in the example not be a type word! key and 'two' be a key of type set-word! ? I mean, you can conceivably use anything as a key, right? What you are saying is that the set-word! here ('two:') is normalized to a word, correct?

[12:01](#msg57234d33acbf59414ab02014)

```
red>> m: #(one 1 two: 2 "g" 5)
== #(
    one: 1
    two: 2
    "g" 5
)
red>> k: keys-of m
== [one two "g"]
red>> type? k/1
== word!
red>> type? k/2
== word!
red>> type? k/3
== string!
```

So in the above, I would expect to see `type? k/2` to evaluate to set-word! Or is that a technical impossibility?

dockimbel

[12:05](#msg57234e04b018414f2eda6682)Map keys can be any-string!, any-word! or scalar! values (full list \[here](https://github.com/red/red/blob/master/runtime/hashtable.reds#L170)). If the key is of any-word! type, it gets \*normalized* to set-word! on serialization (MOLDing). OTOH, `keys-of` normalize all words to word! values, as it is more convenient for its use-case. Maps are taking control of the any-word keys provided. If you want a type-preserving hashed map, use `hash!` datatype.

Zamlox

[12:08](#msg57234ea5825d9dfd41191da1)@dockimbel can parse provide information about the matched element index so we can use it in a rule ?

mydoghasworms

[12:13](#msg57234fe6acbf59414ab0211e)@dockimbel Thanks for the explanation. You must get tired of explaining the same things over and over to newbies like myself. For that, I humbly apologize.

dockimbel

[12:14](#msg5723500c961e8a522e642a9d)@Zamlox You mean like in:

```
vowels: 0
parse "hello" [some [pos: (if find "aeiouy" pos/1 [vowels: vowels + 1])  skip]]
vowels
== 2
```

Zamlox

[12:16](#msg57235084c2f9b7fe41cc408e)well, more like:

```
content: [ [ a b ] [ c d ] [ e f ] ]
rule: [ any [ set v word! if (v = 'a) (print "first sub-block parsed") | into rule ] ]
parse content rule
```

but I don't want to rely on condition (v='a) because I don't know ahead what words I will have in each block

dockimbel

[12:16](#msg572350a411317a7d27a8259b)@mydoghasworms Certainly not tired, no need to apologize. It is a useful exercise for me too, as it gives me more clues about what parts are more/less intuitive to understand and how to best explain some features. Also, as long as we don't have proper documentation, I will have to do it in an interactive way. So, I should be the one apologizing for not providing yet a proper documentation. ;-)

Zamlox

[12:19](#msg57235168b8068d3e4aca6789)I was thinking on something like:

```
content: [ [ a b ] [ c d ] [ e f ] ]
rule: [ any [ set v word! if (parse/level = [1]) (print "first sub-block parsed") | into rule ] ]
parse content rule
```

where

```
parse/level
```

could be a block of element indexes for different nesting levels: \[2 1] for parsing \[ \[a b] \[c d] ] would mean 'c

dockimbel

[14:17](#msg57236ceedceb86cf46186728)@Zamlox I'm not sure to get what's the use-case for that. Why not just use then:

```
parse content/2 rule
```

if you know in advance which sub-block you want to parse?

Zamlox

[14:31](#msg57237057b8068d3e4aca72df)I have created a 'lambda' function to help me in some repetitive tasks and I thought I can re-write it only using parse. 'lambda' function does the following: takes two blocks as argument, the first one act as a template where some special words are place holders for values from the second block. The second block contains values for the first block. It's usage is something like:

```
lambda [  &1: object [ a: &2 ]  ] [  [ obj-1 10 ][ obj-2 20 ][ obj-3 30 ]  ]
```

this call will create objects

```
obj-1
```

```
obj-2
```

and

```
obj-3
```

. &amp;1 and &amp;2 are place holders by position for elements of sub-blocks from second block parameter. The use case of what I asked is that I always know that first block is a special block which contains place holders and the second block contains values. But first block can also contain anything I want. So I was thinking that if the rule would know in which block it is when parsing is ongoing I could easier make a difference between rules of first parameter and second parameter of lambda function.

dockimbel

[14:32](#msg57237061dceb86cf46186754)@Zamlox Here is an example of how to log the position in the input tree:

```
content: [ [ a b ] [ c d ] [ e f ] ]
level: clear []

parse content rule: [
	(idx: 1)
	any [[		
			set v word! (print [v ":" mold append copy level idx])
			| ahead block! (append level idx) into rule (idx: take/last level)
			| skip
		]
		(idx: idx + 1)
	]
]

a : [1 1]
b : [1 2]
c : [2 1]
d : [2 2]
e : [3 1]
f : [3 2]
```

[14:39](#msg57237209dceb86cf46186775)@Zamlox Are you thinking about using a single Parse pass for processing both `lambda` arguments?

Zamlox

[14:39](#msg572372154cd0ac7a27ed9e1e)yes

dockimbel

[14:40](#msg5723725f839d4ee25ff4b2ba)Looks difficult to achieve. Parse is single-input oriented (though nested series are fine).

Zamlox

[14:40](#msg57237271825d9dfd41192b5a)well the usage with parse function would be:

```
parse [ [  &1: object [ a: &2 ]  ] [  [ obj-1 10 ][ obj-2 20 ][ obj-3 30 ]  ] ] rule
```

with some specific rule.

dockimbel

[14:41](#msg5723729803aba55b39acd5e2)Oh, I see now. Not easy, because you want to parse into two different series at the same time...

Zamlox

[14:42](#msg572372f2825d9dfd41192b88)if it's not possible then I will stick with my current implementation.

[14:46](#msg572373b511317a7d27a83312)I was thinking that if I the rule would know,when matches a word, that it's in first block (with place holders) then I would apply one sub-rule, and for the values blocks I would apply another sub-rule. Parsing would be still sequentially.

dockimbel

[14:46](#msg572373b8839d4ee25ff4b2d0)I would rather use a different approach, more like:

```
arguments: [ [ obj-1 10 ][ obj-2 20 ][ obj-3 30 ] ]
parse [ &1: object [ a: &2 ]  ] rule
```

and make the `arguments` reference walk its block using regular code, while Parse would walk/modify the template block.

Zamlox

[14:47](#msg572373f8acbf59414ab02ebc)this is how I did it currently :)

[14:48](#msg57237435961e8a522e643905)I thought I could re-write it using only one call of

```
parse
```

. Then I will let it like it is now.

[14:48](#msg5723743bacbf59414ab02ecd)thanks for help ;)

mydoghasworms

[15:02](#msg57237795acbf59414ab03014)Why does the following parse return false?

```
parse [a b c] ['a to 'c]
```

[15:04](#msg572377fd825d9dfd41192db1)Surely it should have reached the end of the input?

Zamlox

[15:05](#msg5723783e11317a7d27a83524)@mydoghasworms use

```
thru
```

instead of

```
to
```

. The last one does not include the last element.

[15:06](#msg57237863b8068d3e4aca75f7)

```
to
```

will not match 'c will match until 'c

[15:07](#msg572378baacbf59414ab03090)or you can use

```
parse [a b c] ['a to 'c 'c]
```

mydoghasworms

[15:08](#msg572378e54cd0ac7a27eda0f2)@Zamlox Thanks. I was actually trying to copy the input between two words, and it obviously does that up until the specified 'to' word, so it means for my solution it would be something like `to 'c thru 'c` (if I only wanted to copy b). Cool! :+1:

[15:41](#msg572380c560e2f3e87366088b)Is there a way to make one word "point" to another, so that setting the value of one word changes the other?

pekr

[15:45](#msg5723819fce9e8bce0fd2ec69)Well, in R2, there was an Alias function. It was in R3 too, but was later removed as not needed, at least I do remember some related discussion, but the reasoning ....

RenaudG

[15:46](#msg572381ef9344bbcb0f8b2c83)For now, AFAIK, it's only possble using blocks :

```
a: [ [1] [2] [3] [4] ]
    b: [ [5] [6] [7] [8] ]
    e: reduce [at a 2 at b 3]
    f: reduce [first at a 2 first at b 3]

    print mold e
    print mold f
    a/2/1: 200
    b/3/1: 700
    print mold e
    print mold f
```

mydoghasworms

[15:47](#msg572381fdd407319f67312324)@pekr Thanks. The use case I am thinking of is updating a value on the screen in response to the change of some other value in the program. (Instead of explicitly setting the value each time).

[15:48](#msg57238248d407319f6731233e)@RenaudG The difference there is that you are actually changing the block, not setting the value of the words again, right?

RenaudG

[15:48](#msg57238257ce9e8bce0fd2eca9)yes

mydoghasworms

[15:49](#msg572382839344bbcb0f8b2cb5)So what I am actually looking for sounds like "alias" that pekr describes. That could be quite useful.

[15:50](#msg572382b0ce9e8bce0fd2ecc1)If there is no such thing, perhaps I can open a "wissue" (WISH issue) on GitHub.

RenaudG

[15:50](#msg572382b0d407319f6731236b)what you want to do seems a use case for `react` but i'm not sure it could work with an arbitrary value.

pekr

[15:50](#msg572382c9ce9e8bce0fd2ecd0)there was also the following aproach: print2: :print

[15:50](#msg572382d49afbb99c67e6d93d)eh, the smiley should not be there

RenaudG

[15:50](#msg572382dde472a3e473bf9f0c)Simply linking values is not enough, as Red also have to detect a change occured in order to trigger a redraw of the face.

pekr

[15:50](#msg572382e04a7c24bd61097ed7)`print2: :print`

mydoghasworms

[15:51](#msg57238308d407319f67312398)@RenaudG Good point, although that works for changes in other values, like when you update the data of a list.

[15:52](#msg57238324d407319f673123a8)@pekr I knew what you meant though :p

pekr

[15:52](#msg572383569344bbcb0f8b2d05)It does not work for words. If you reassing a word, it does not point to the earlier value ...

mydoghasworms

[15:53](#msg57238372e472a3e473bf9f39)OK, then perhaps for now the only solution will be to update the field each time. Where can I learn more about `react` though? Are there some examples?

RenaudG

[15:55](#msg572383eb9344bbcb0f8b2d53)http://www.red-lang.org/2016/03/060-red-gui-system.html

[15:57](#msg572384504a7c24bd61097f65)There are some mentions on the Wiki, but the blog article is more helpful

mydoghasworms

[15:59](#msg572384fd9afbb99c67e6da3d)Thanks, I will check it out.

greggirwin

[16:29](#msg57238bd1d407319f673126e9)@dockimbel can't you also use a set-word as the target of COPY? Assuming the parse call is in a func itself.

dockimbel

[16:31](#msg57238c442624e2150740c0a6)@greggirwin Not \[implemented](https://github.com/red/red/blob/master/runtime/parse.reds#L1304) yet, though it's trivial to add it. Still it wouldn't help with recursive rules.

greggirwin

[16:32](#msg57238c8f60e2f3e873660d0b)@dockimbel I still want to get back to ANTLR to see what is to be learned about building tools on top of PARSE.

[16:38](#msg57238df560e2f3e873660da3)@mydoghasworms I'm sure you'll pay Doc back by passing on what you learn. :^) As a additional note, the normalization of word keys is nice, if you ever mix word types. R2 was literal, but not as helpful in this regard

&gt;&gt; blk: \[a 1 b: 2]  
\== \[a 1 b: 2]  
&gt;&gt; blk/a  
\== 1  
&gt;&gt; blk/b  
\** Script Error: Invalid path value: b  
\** Near: blk/b  
&gt;&gt; blk/(to set-word! 'b)  
\== 2

dockimbel

[16:39](#msg57238e48495494d45eac37e8)@greggirwin Good points. ;-)

[16:41](#msg57238e9ede9040f458f2cad9)For ANTLR and a layer on top of Parse, an interesting direction would be to define a DSL for building DSL (something higher-level than Parse, but could compile to Parse rules).

[16:41](#msg57238ec9de9040f458f2cada)@greggirwin BTW, there's a part where you can help a lot I think: the definition of a FORM/FORMAT dialect. ;-)

greggirwin

[16:44](#msg57238f809344bbcb0f8b3196)@mydoghasworms You can use SKIP to avoid repeating the TO match literal:

parse \[a b c] \['a to 'c skip]

[16:47](#msg5723903160e2f3e873660e78)@dockimbel Yes, myh thoughts exactly. I have one of Parr's books here, and there are good ideas in there.

[16:49](#msg5723907f9afbb99c67e6deab)@dockimbel YES! I'm in. Just have to fight features versus size. :)

[16:49](#msg572390ab9afbb99c67e6debc)My old FORMAT is big, but does a lot.

dockimbel

[16:50](#msg572390f32624e2150740c0c3)@greggirwin Does it support string interpolation (à la `printf()`)?

greggirwin

[16:52](#msg57239156d407319f673128f8)No, it formats single values. I did an experimental REFORMAT (bad name) for that.

[16:53](#msg5723917a60e2f3e873660ef1)If you have thoughts on what you want, at a high level, I can hack on it.

dockimbel

[16:55](#msg57239200de9040f458f2cae5)@greggirwin `printf()` from C + `format$()` from VB, on steroids for Red (working on as many datatypes as possible). ;-)

greggirwin

[16:56](#msg57239257d407319f6731296a)@dockimbel e.g. mine has both named and custom formats, and the ability to spec multiple formats for numbers that will be applied based on the numeric value. Think spreadsheets, and right out of VB as well. Mine was heavily VB inspired. Also, the main FORMAT dispatches by type, but all the type specific funcs are available directly as well.

[16:57](#msg5723926b9afbb99c67e6df71)@dockimbel Concise spec. :)

dockimbel

[17:02](#msg572393a9495494d45eac3804)@greggirwin We also want possible column-oriented formatting, to make it easy to ouput tabular data. So a `pad` or `align` command would be required (if not in your spec already).

greggirwin

[17:05](#msg5723943ce10a59c06107315e)Agreed. Not in my FORMAT func. Was a separate TABLEIZE func I think.

[17:14](#msg5723968de10a59c061073238)@dockimbel Do you have an interpolation format already in mind? Or do you want it customizable like REWORD in R3?

mydoghasworms

[17:18](#msg5723977b9344bbcb0f8b347c)@greggirwin Thanks

dockimbel

[17:20](#msg572397cccf0d61086bd25b3a)@greggirwin No, I don't have one yet. Any link about REWORD capabilities? I think Carl proposed one in one of his blog articles, maybe something like `$[...]`, can't remember.

greggirwin

[17:22](#msg5723984460e2f3e8736611b4)@dockimbel It used $ on words, but allowed you to select an alternate char to avoid collisions.

mydoghasworms

[17:23](#msg5723988fe472a3e473bfa7c2)@greggirwin I am already dreaming about writing a book about Red :D And I have already picked a cover: http://cdn.newsbusters.org/styles/blog\_body-50/s3/images/little-red-book\[1]%20(2).jpg

[17:23](#msg57239898e472a3e473bfa7c5)(Hope that's not politically incorrect)

greggirwin

[17:23](#msg572398994a7c24bd61098752)@dockimbel, don't worry about it right now. Work on getting me date! and money! values to work against. ;-)

[17:25](#msg5723990fce9e8bce0fd2f4ec)@mydoghasworms I have some old book outlines for Red if you really pursue it.

[17:26](#msg5723994be10a59c061073331)Maybe the Red library should be a stack of books, large to small, showing how you start with a primer and advance through deeper topics. :)

dockimbel

[17:28](#msg572399b4495494d45eac381c)@greggirwin That's an option, also used in other languages, though, how do you mark the words end if you have sticky content following it, for example:  
`{$id>> |$value|}`  
?

[17:29](#msg57239a092624e2150740c0ec)Hmm, maybe not a problem afterall if you lookup predefined words specifically.

[17:31](#msg57239a5b2624e2150740c0ed)@mydoghasworms Appropriate cover. :)

greggirwin

[17:34](#msg57239b389afbb99c67e6e28a)@dockimbel Good point. Noted.

Vexercizer

[23:34](#msg5723efa1e10a59c061074caa)I've put together a practical write-up of Red for practical types who want to get actual work done with Red. You can check it out here — url: first \[ http://red-rvc.droppages.com/ ]

It's a work underway and thus far from done. It is not really for comp sci majors or grads who are OCD sticklers for comp sci jargon. It is for those who want to be successful using Red and be so fast.

I'd use it to teach my son so I trust it.

## Saturday 30th April, 2016

ietv\_twitter

[03:39](#msg572428dce10a59c0610753e1)@Vexercizer That's a nice resource, thanks? Do you plan to extend that to the View dialect?

Vexercizer

[04:55](#msg57243ac0e10a59c0610755f0)@ietv\_twitter Thanks for the kind words. I have a way to go before I will feel there is enough material there to lead most anyone into using Red as a daily tool along side their MS Excel / Google Spreadsheet.

Without doubt, with the next release of Red, when the networking is done and time permitting, I take notes as I learn the new View.

I have used REBOL for years for hacking type work (e.g., download data, manipulate data, upload data), but I never bothered trying to write a GUI-based REBOL app as that never seemed like the best use of REBOL.

I've been a big fan since I stumbled upon REBOL, maybe in 1998 or 1999. But I never was a fan of the clique at REBOL nor the lazy-mindedness of those behind it. The marketing of it always seemed wrong to me.

Plenty of front-line business workers need messaging and data fetching tools, which they can customize for themselves. Yet, the REBOL people always seem to want to cater to computer science nerds, a population who make up a tiny fraction of the workforce.

Without a doubt, Carl was on the right track, way ahead of his time, with the idea of an abstraction layer (virtual computer) that could facilitate messaging among Internet connected devices. And he thought that way before the advent of iOS and Android. But Carl never seem to grasp that a tiny fraction of workers (the IT dept) could not roll out all of the task-specific apps that front line workers could need.

Nenad's vision is brilliant. Compilation of Red programs will give front-line workers the ability to step up and leverage devices. Not only will many commercial software makers get crushed, but many open-source software projects will go by the way side.

All anyone will need is a compiled Red written http server and an API and they will have the basis for their own platform to be customized for work related tasks.

dockimbel

[06:37](#msg572452c3de9040f458f2ce6d)@Vexercizer Nice work! :+1:

RenaudG

[06:38](#msg572452f59afbb99c67e705d5)@Vexercizer Thanks. AS Nenad said: Nice work! :smile:

[06:42](#msg572453e7ce9e8bce0fd318b6)CS nerds tend to dismiss REBOLfor petty details like lack of lexical scoping or immutability, before even trying to understant how and why it's different.

[07:16](#msg57245bc960e2f3e873663788)Oups!

```
a: 10
c1: context [z: a]  ; WORKS OK
c2: context [a: 10] ; WORKS OK
c3: context [a: a]  ; *** Script error: a has no value
```

Vexercizer

[07:45](#msg572462904a7c24bd6109ada8)@RenaudG @dockimbel Thank you, both. There are many gaps in need of filling in that work, but the goal always is to pull away the curtains to see how the magic happens.

gour

[07:59](#msg572465e52624e2150740c46e)i also hope that Red will become 1st class option for writing desktop GUI apps

PeterWAWood

[10:07](#msg572483dbce9e8bce0fd31e8c)@RenaudG There may be better ways, but this works for now:

```
red>> o: make object! [a: system/words/a]
== make object! [
    a: 10
]
```

RenaudG

[10:09](#msg5724844060e2f3e873663c85)Thanks @PeterWAWood

PeterWAWood

[10:09](#msg572484449344bbcb0f8b5df8)I'm not expecting @dockimbel to introduce the clairvoyant compiler until at least Red 3.0 ;-)

dockimbel

[10:10](#msg572484ad4a7c24bd6109b247)@RenaudG `a` gets bound to the local object context, as `a` is unset by default, the error is legitimate.

RenaudG

[10:12](#msg5724850ae472a3e473bfd260)Now you're breaking all my dreams! I was hoping to write `make/only [mix [twitter github] except [bullshit bloat]] 'better`:(

[10:14](#msg572485939afbb99c67e70bb8)Thanks @dockimbel, that hurts a little, but I understand... will learn to cope with it. :)

dockimbel

[10:16](#msg572485eee10a59c061075ea7)@RenaudG When such word collision occurs, you can get away by providing a relative or absolute access path to the word, like in @PeterWAWood's example for a global context word.

RenaudG

[10:17](#msg5724863bce9e8bce0fd31ed4)Yep, no big deal. Thanks.

mydoghasworms

[11:35](#msg5724989e4a7c24bd6109b51b)Using what I have learned in the last while about parse, I have written an improved logo interpreter that supports, among other things, procedures: https://gist.github.com/mydoghasworms/bd342a10f2b806f050ed903e5be435a0

[11:36](#msg572498b2ce9e8bce0fd32152)A post listing the available commands is here: http://ceronio.net/2016/04/improved-logo-interpreter-in-red/

[11:36](#msg572498d04a7c24bd6109b522)Whoa, that's a lot of lines of code that Gitter has just put in here.

builtap

[12:32](#msg5724a5cfe472a3e473bfd6a7)Will anyone write a nginx red module (as Lua has https://github.com/openresty/lua-nginx-module)? I don't have what it takes yet I'd sure make use of it.

[12:33](#msg5724a604d407319f67315b0f)Link above is broken. Here it is again: https://github.com/openresty/lua-nginx-module

x8x

[15:32](#msg5724d010e10a59c061076928)@builtap not sure anything like that is coming soon. In the meantime you can use http://cheyenne-server.org/ alone or reverse proxy nginx to it. Fast and very stable !

dockimbel

[15:40](#msg5724d1e3495494d45eac3d35)@builtap That would be possible, but our plan is to put our efforts into our own webserver for Red.

mydoghasworms

[18:10](#msg5724f532e10a59c061076f63)@asampal I have fixed the rounding issues if you want to try again using the link I posted earlier to the new version.

greggirwin

[18:51](#msg5724feb64a7c24bd6109c5a3)Nice Logo work @mydoghasworms . Simple approach to procedures. When I did mine many years ago, I dynamically extended the parse rules for each new procedure. Fun as a learning exercise, but not as neat as yours.

## Sunday 1st May, 2016

dockimbel

[03:36](#msg572579b2cf0d61086bd2622b)@mydoghasworms You can replace the following function:

```
loc-pair: func[x y] [make pair! compose [(to integer! round x) (to integer! round y)]]
```

with just:

```
loc-pair: func[x y] [as-pair x y]
```

So actually, you can get rid of that function. ;-)

BTW, `round` seems to be buggy as it doesn't return an integer. I'll open a ticket for that.

[03:50](#msg57257ce8495494d45eac3f5c)@Vexercizer There are a few parts in your description of Red/Rebol which are incorrect:

```
>> word? b
** Script Error: b has no value
** Near: word? b

It should be:
>> word? 'b
== true
```

```
These Do Not Work Outside of Blocks

;; set a word, the word 'a'
>> a: 23
== 23
>> word? a
== false
>> lit-word? a
== false
>> get-word? a
== false
>> set-word? a
== false

It should be:
>> word? 'a
== true
>> lit-word? 'a
== false
>> get-word? 'a
== false
>> set-word? 'a
== false
```

```
>> a: 23
== 23
>> value? a
== true
>> value? b
** Script Error: b has no value
** Near: value? b

It should be:
>> a: 23
== 23
>> value? 'a
== true
>> value? 'b
== false
```

[04:05](#msg5725808b495494d45eac3f63)Other remarks:  
\* Your "RVC" concept is not part of any official Red or Rebol documentation, so it will confuse newcomers when they'll interact with the rest of the community using such concept. Also the definition of Red: \*Red is a virtual computer* is misleading, Red is a programming language.  
\* Your distinction between "direct" and "indirect" interpretation is hard to grasp, especially these two sentences: \*The RVC uses indirect interpretation if valid expression requires the RVC to use user-defined language parsing rules (see: REBOL's PARSE).* and \*In the former, the RVC already knows how to process data when presented with valid expression. In the latter, the RVC must be taught what is valid expression before processing data.*

asampal

[05:43](#msg57259789cf0d61086bd262af)@mydoghasworms looks pretty good now - just a touch of rounding error left. If you try the same pattern I had before, `repeat 3 [repeat 6 [fd 50 rt 60] rt 120]` and do it over and over, you'll see that the lines thicken as the pattern is repeated.

btiffin

[10:57](#msg5725e1129afbb99c67e736d5)@dockimbel Doc, take note of that quote, "Plenty of front-line business workers need messaging and data fetching tools, which they can customize for themselves. Yet, the REBOL people always seem to want to cater to computer science nerds, a population who make up a tiny fraction of the workforce." Add LOAD/ANY and a catch-all datatype. You'll win the internet.

My first attempt at explaining this got spun into a NLP context because I used a book example. Think of a dataset with 1 million numbers in it, two header lines and the header lines have some unloadable value, say a coded company identifier or something with a comma and some dots. It becomes unavailable as block! data because of one string in a million numbers. We nerds could possibly make the edit and put in the braces or quotes, but wouldn't it be nicer to just let a regular user try a LOAD/ANY and end up with a few small pieces of tacit! data as they dig into manipulating the million numbers? Make Red a tool made for people, not just computer scientists, in my humble opinion. You'll increase the appeal by many orders of magnitude by allowing for a MUCH larger, more casual audience. Some few of that casual audience will become hardcore, and produce tools that you may not even envision yet.

mydoghasworms

[11:01](#msg5725e1fe4a7c24bd6109dec7)@greggirwin Thanks. Maybe I can use the Logo interpreter as the basis for a Red tutorial.

[11:02](#msg5725e240d407319f67318321)@dockimbel Ha, that makes it easy! Thanks. It's worth scratching around to see what is available already, although doing it yourself is always a nice learning experience.

[11:09](#msg5725e3d1e10a59c061078a7c)@asampal Are you talking about these two lines:  
https://i.imgur.com/io2zi3r.png

[11:09](#msg5725e3f99afbb99c67e7372f)Oh sorry, I didn't read that you said "over and over". Let me go try again...

[11:11](#msg5725e444ce9e8bce0fd34b47)OK, I see now:  
https://i.imgur.com/PCQxcXZ.png

[11:15](#msg5725e5604a7c24bd6109df41)@dockimbel At what point do you plan to support additional datatypes like money! and date! and time! ? I was just looking at the great resource posted by @Vexercizer and wondering.

[15:09](#msg57261c35d407319f67318af6)Is there a plan to add "big number" arithmetic support to Red at some point?

dockimbel

[15:28](#msg572620b6cf0d61086bd26419)@mydoghasworms We plan to add time!, tag! and email! in 0.6.x releases. Maybe date! could make it too, but it requires significant work, so it might be postponed to a later release. For money!, we need a good BCD implementation, if someone wanted to port the one from Rebol3, that would be helpful. Otherwise, it will need to wait until we can find time to write it. For big numbers, yes, I want to have such datatype in the Red core library, at least a couple of contributors started some work on it, but so far nothing usable emerged yet. So, if it's not contributed, it will probably wait post 1.0 until we add it.

asampal

[16:32](#msg57262fba2624e2150740c9f9)@dockimbel is the current float! precision close to that of the C float type? Will you be adding a type equivalent to C's double at some point? If not, what is your view on how people will deal with C code that uses doubles, in Red and Red/System (both interfacing with or porting)? Will they need to convert to money! and have to accept the headache of that, or should they use float! and somehow account for the significant loss of precision?

dockimbel

[16:33](#msg57262fdc495494d45eac417d)@asampal `float!` == `double`, Red/System also supports `float32!`. We might expose that other float type to Red too (mostly for 3D libs interfacing).

asampal

[16:40](#msg57263199495494d45eac418a)That's good - 3D will play quite an important role from now on with AR and VR becoming mainstream.

[16:56](#msg5726353bde9040f458f2d3bf)@mydoghasworms what's the reason you didn't convert everything to use float! ?

bitbegin

[18:10](#msg572646a2e10a59c061079a07)@mydoghasworms I have port bignum!, and "+-\*/%" can work fine. You can find codes here https://github.com/bitbegin/red/commits/bign.

dockimbel

[18:12](#msg572646f8495494d45eac41df)@bitbegin Ah, nice, thanks. Do you support decimals or is it only for integers?

bitbegin

[18:13](#msg572647504a7c24bd6109ef22)Do they have differences?

dockimbel

[18:17](#msg57264840495494d45eac41e6)@bitbegin They do in the literal representation.

bitbegin

[18:18](#msg57264866e472a3e473c00d4a)Not yet

dockimbel

[18:21](#msg5726490fcf0d61086bd264d2)We would need it, along with conversions support from/to integer! and float!. Anyway, I had a quick overview, great work! :clap: I would be glad to integrate it once it will be ready.

bitbegin

[18:21](#msg57264917d407319f67319299)when the integer is bigger than INT\_MAX, it should be recognized as bignum?

dockimbel

[18:23](#msg57264988495494d45eac41ef)@bitbegin That's good, though we also want a way to turn off auto-conversion when not desirable (when detecting overflow is needed). We'll need to do it in a local way (no global switch). I haven't yet though about the best solution for that.

bitbegin

[18:27](#msg57264a7d4a7c24bd6109efd4)Using "make bignum!" to make bignum! maybe alright.

[18:28](#msg57264acc4a7c24bd6109efe7)auto-conversion is necessary？

dockimbel

[18:34](#msg57264c512624e2150740ca5a)@bitbegin Auto-upgrading from integer/float to bignum!, yes (when they are overflowing). But that can be added later.

bitbegin

[18:38](#msg57264d1de472a3e473c00e62)Red/System cannot compare two unsigned int vars and havenot unsigned int divide, but these functions are necessary.

[18:40](#msg57264da0d407319f673193a0)I have to use subtract to implement uint32 divide, but it is a slow algorithm.

mydoghasworms

[18:56](#msg5726516d4a7c24bd6109f17b)@asampal I did convert the turtle's co-ordinates to floats in the new version. And those in turn have to be converted to integer pairs for points on the screen.

asampal

[19:00](#msg57265264495494d45eac4215)@mydoghasworms what about the direction?

[19:03](#msg572652eccf0d61086bd264fd)and `move-by` and `turn-by` still take integers

[19:04](#msg57265325495494d45eac421d)are you worried about performance?

[19:17](#msg57265640495494d45eac4227)oh yeah, I forgot one suggestion: double click on history item should insert it into the text field

alcuinus

[20:00](#msg57266076e10a59c061079fbf)Hello! I don't like cross-postings, but I did not receive any answer in the Google group and I try here. Simple question: is it possible to call an external program from a RED program? In REBOL, it works, but in RED I found a probably experimental version of CALL. Is a development planned? I would like to call from RED some other programs (both executable and shell scripts). Thanks a lot!

## Monday 2nd May, 2016

PeterWAWood

[01:43](#msg5726b0ca4a7c24bd610a0113)@alcuinus The planned functionality for Red is visible in \[Red Tasks Overview](https://trello.com/b/FlQ6pzdB/red-tasks-overview). It shows that

```
call
```

is planned to be integrated into Red in the 0.6.1 release.

dockimbel

[04:34](#msg5726d8d6495494d45eac43c7)@bitbegin We could add support for unsigned divide, we just need to find a proper syntax to specify it (same for proper unsigned integers support, though you can workaround that using pointer! type, which is unsigned).

[04:37](#msg5726d990de9040f458f2d5e6)@alcuinus It is not yet built-in, though, you can include the \[CALL](https://github.com/red/red/tree/master/system/library/call) lib in your code or in a custom-built console:

```
Red [ ]
#include %system/library/call/call.red
```

Be sure to read the README of the CALL lib first, as the current implementation has some limitations.

alcuinus

[21:59](#msg5727cdd312cceadb7b19f818)Thank you! I tried the CALL lib, and had some problems. Looking forward to seeing the 0.6.1. release!

## Tuesday 3th May, 2016

dockimbel

[08:07](#msg57285c48df1a01ff18fbef09)@btiffin \*"Yet, the REBOL people always seem to want to cater to computer science nerds"* It never felt to me that the Rebol community was excessively academic. On the contrary, compared to most other language communities I know, Rebol's one is rather light on Computer Science. Have a look at the Scala or Haskell forums if you want to see what is really like to be among CS nerds. ;-)

I can understand your motivation, but once again, what you are asking for is IMHO, the wrong solution, as it is "broken by design". I don't think it is helpful to non-programmers, to give them false hopes and broken tools to work with.

About your new dataset example, skipping the two malformed header lines is a one-liner, then you can apply LOAD safely. If you argue that it's too much effort for the users, then I wonder what good could a LOAD/ANY bring them if they can't cop with elementary programming tasks.

Maybe you missed it in my previous answers, but you should be able to implement a LOAD/ANY yourself as soon as we'll expose the lexer's rules. You can make a library from it or build your own Red binaries and distribute it freely. We are not in the RebolTechnologies model of closed-source software here, all the source is available, the license is permissive. If you can show me that hundreds/thousands of new users would start learning Red because of that feature, I would certainly strongly consider it, despite its flaws. ;-)

mydoghasworms

[08:54](#msg57286745944fc7ba04cc8588)@btiffin Though I cannot speak directly to your requirement of the file you are loading, there is another aspect to consider: If you want to create tools that a broader set of workers can use, write them a dialect to cater for their specific need or scenario. Think along these lines: http://www.rebol.com/rebolsteps.html#section-10. I think Rebol and Red challenge us to change our approach to programming altogether by empowering us in a different way than we thought hitherto was necessary.

dockimbel

[09:05](#msg572869ec72798bd77be97ad4)@mydoghasworms Good suggestion. If the needs are basic tokens counting and categorizing, a dedicate (interactive) dialect could do wonders.

Arie-vw

[10:08](#msg572878930149d6bb04b83362)@dockimbel Is it possible to show line numbers with this error (mostly caused by unbalanced parens) "\*\** Script error: get does not allow integer! for its word argument  
\*\** Where: get"

dockimbel

[10:12](#msg5728798812cceadb7b1a1a61)@Arie-vw This error message is wrongly triggered by the lexer, there's a ticket about it IIRC, once fixed, you should get back the "Syntax Error" message with line number info.

Arie-vw

[10:12](#msg572879a2df1a01ff18fbf6a3)@dockimbel Ah thanks!

[10:39](#msg57287fe6474247a946a5bb0d)@dockimbel Is write/lines not yet implemented? Get this error: \*\** Script error: write does not allow block! for its data argument  
\*\** Where: write

dockimbel

[10:39](#msg57287ffedf1a01ff18fbf855)@Arie-vw Not implemented yet.

Arie-vw

[10:40](#msg57288018474247a946a5bb16)@dockimbel OK. Will work around it then. Thx.

[10:58](#msg5728845312cceadb7b1a1d24)@dockimbel Since write/append does also not work not much chance to write a textfile then for now ...

dockimbel

[11:44](#msg57288f0f0149d6bb04b83981)@Arie-vw That one should be working...

mydoghasworms

[11:59](#msg572892a46871c4a646c14a26)When reading a file, e.g. a text file for processing, the memory consumption of the process goes up, even when the result of the read is never bound. Is there a way to free up this memory, or must we wait for GC to be implemented?

dockimbel

[12:14](#msg572896330149d6bb04b83bd3)@mydoghasworms No way for now, you need the GC for that.

xqlab

[13:13](#msg5728a4086871c4a646c14f86)The most recent Windows version produces this error  
\** Script Error: append expected series argument of type: series port  
\** Where: do-cache  
\** Near: append third third :new-line paren!  
when trying to compile itself

dockimbel

[13:14](#msg5728a43fb16b91060f7990c6)@xqlab Thanks for reporting. Fixed now.

mydoghasworms

[14:32](#msg5728b67b72798bd77be9930d)Will Red eventually have two versions, a non-GUI and GUI version, like Rebol? I'm just wondering about people who want to write console or server applications and don't care for the GUI. (Even though there is no penalty, really, with a 1MB download :smile: )

Oldes

[14:35](#msg5728b732d6d0f60219f01d76)just compile console without gui, when you don't need gui, or even any script without console and gui, when you don't need both

rebolek

[15:16](#msg5728c0e6c2a86dcf791948e7)@mydoghasworms do not put `needs: 'View` into header when you compile and you have GUI-less version.

maximvl

[15:43](#msg5728c7286871c4a646c15d42)Hi guys, I'm playing with rebol2, and got confused about set-word! and set-path! types. Looks like only the first one can be used as set argument.

greggirwin

[15:45](#msg5728c782d6d0f60219f0240d)@maximvl that's correct, for setting individual references.

maximvl

[15:45](#msg5728c7a172798bd77be999ea)what is the difference between them? And how do I make set-word in code?

[15:46](#msg5728c7d6d6d0f60219f02425)@greggirwin so, a/2: 7 - is a/2: a set-word or set-path here?

SteeveGit

[15:48](#msg5728c853c2a86dcf7919491d)paths have `/`in their format

maximvl

[15:48](#msg5728c85c6871c4a646c15dc8)em

[15:49](#msg5728c896944fc7ba04cca593)&gt;&gt; b: to-set-word "a/2"  
\== a/2:  
&gt;&gt; type? b  
\== set-word!

[15:50](#msg5728c8ab944fc7ba04cca59a)words have them too

greggirwin

[15:51](#msg5728c8e60149d6bb04b84ea9)@maximvl Using TO you can create values that aren't lexically valid. What is your actual goal here?

maximvl

[15:52](#msg5728c9526871c4a646c15e0f)@greggirwin I have a block, and I want to pass to external code set-word of particular elements so it can change them directly

SteeveGit

[15:52](#msg5728c959b16b91060f799229)@maximvl Actually, what you have done is a forbidden technic. You forcefully converted a path! to a word!. Rebol let you do it, but it only brings confusion.

maximvl

[15:54](#msg5728c99cd6d0f60219f024db)@SteeveGit ok, I don't want the conversion, but set doesn't work with set-paths

SteeveGit

[15:54](#msg5728c99e682b8fdf3c8c8a4a)when, you do so, the word! looks like a path but is not one anymore

maximvl

[15:55](#msg5728c9de944fc7ba04cca615)I mean  
&gt;&gt; set 'a/2 5  
\** Script Error: set expected word argument of type: any-word block object  
\** Where: halt-view  
\** Near: set 'a/2 5

SteeveGit

[15:55](#msg5728c9f4c2a86dcf79194930)Why do you need to use set here?

greggirwin

[15:55](#msg5728c9f8df1a01ff18fc1282)@maximvl You could pass the block and words as separate args, or split the path up yourself. e.g.:  
&gt;&gt; to block! first \[a/2:]  
\== == \[a 2]

[15:56](#msg5728ca2cdf1a01ff18fc129b)If you are using integer indexes, you can just use POKE.

maximvl

[15:57](#msg5728ca596871c4a646c15e7b)@SteeveGit because 'a/2 is not known at that time, it will be a variable

greggirwin

[15:57](#msg5728ca5adf1a01ff18fc12b2)If you have set-word! keys in your block, it is a bit more work in R2, but I have funcs to wrap that need.

maximvl

[15:59](#msg5728cad6df1a01ff18fc12df)@greggirwin ok, separate args, but how do I use them in the end?

greggirwin

[15:59](#msg5728caf612cceadb7b1a36d6) POKE a 2 5

[16:01](#msg5728cb3cdf1a01ff18fc1300)Because you are altering the block, not a word reference \*in* the block, correct?

SteeveGit

[16:01](#msg5728cb47c2a86dcf79194943)@greggirwin , it's really specific to that kind of path! though, it's not generalisable

maximvl

[16:01](#msg5728cb73944fc7ba04cca6be)hm, this looks like making my own set-words

greggirwin

[16:02](#msg5728cb86474247a946a5d493)@SteeveGit Yes, but we just want to help @maximvl with his current need, right?

[16:02](#msg5728cb8ed6d0f60219f025b7)Maybe we need more info to make better suggestions.

maximvl

[16:02](#msg5728cba4474247a946a5d4a8)isn't there a way to use standard ones?

SteeveGit

[16:04](#msg5728cc1db16b91060f79924c)I would construct a block on the fly.  
&gt; do compose \[(my-set-path:) (my-value)]

greggirwin

[16:04](#msg5728cc20d6d0f60219f025fe)You can use DO on a set-path!, if you're not expecting untrusted input:

&gt;&gt; a: \[1 2 3 4]  
\== \[1 2 3 4]  
&gt;&gt; do \[a/2: 5]  
\== 5  
&gt;&gt; a  
\== \[1 5 3 4]

[16:05](#msg5728cc39944fc7ba04cca717)@SteeveGit :)

maximvl

[16:06](#msg5728cc72d6d0f60219f02622)hm

[16:08](#msg5728cd10474247a946a5d540)first one doesn't work actually

[16:08](#msg5728cd1472798bd77be99c1b)&gt;&gt; do compose \[(a/2:) (11)]  
\** Script Error: 1 2 3 needs a value  
\** Where: halt-view  
\** Near: a/2:  
&gt;&gt;

SteeveGit

[16:09](#msg5728cd31c2a86dcf79194958)a/2: must be inside a variable, as you stated...

maximvl

[16:10](#msg5728cd62df1a01ff18fc13eb)&gt;&gt; c: 'a/2  
\== a/2  
&gt;&gt; do compose \[(c:) (11)]  
\** Script Error: c needs a value  
\** Where: halt-view  
\** Near: c:

SteeveGit

[16:10](#msg5728cd7f682b8fdf3c8c8a74)2 errors

[16:10](#msg5728cd8ab16b91060f799257)it's not a set-path!

[16:11](#msg5728cd97aa92b14772cb4cfe)(c) not (c: )

maximvl

[16:11](#msg5728cdc50149d6bb04b850c0)))  
&gt;&gt; c: 'a/2:  
\== a/2  
&gt;&gt; do compose \[(c) (11)]  
\== 11  
&gt;&gt; a  
\== \[1 2 3]

greggirwin

[16:13](#msg5728ce0e72798bd77be99c80)Note that 'c is not referring to a set-path! but a path!

maximvl

[16:13](#msg5728ce14d6d0f60219f026ca)ok, I think I got the idea, gonna look for another way to connect these parts of program

greggirwin

[16:13](#msg5728ce220149d6bb04b850e5)&gt;&gt; c: to set-path! 'a/2:  
\== a/2:

SteeveGit

[16:13](#msg5728ce34c2a86dcf7919495e)or try, c: \[a/2: ]

maximvl

[16:14](#msg5728ce4b474247a946a5d5b5)yep, this works

greggirwin

[16:14](#msg5728ce5412cceadb7b1a383e)R2 is doing some coercion on you there. Or, yes, put it in a block and select it from that to prevent the evaluation.

maximvl

[16:14](#msg5728ce5d474247a946a5d5c5)thank you guys :)

greggirwin

[16:14](#msg5728ce72df1a01ff18fc145c)Happy to help.

maximvl

[16:15](#msg5728ceb6944fc7ba04cca852)some time is needed to get to these concepts

greggirwin

[16:16](#msg5728ced212cceadb7b1a387b)Also, as it applies to porting to Red, TO isn't all in place yet, so FIRST \[a/2:] is what you need to use under Red right now.

maximvl

[16:16](#msg5728cee8944fc7ba04cca861)they aren't something commonly found in other languages

greggirwin

[16:19](#msg5728cfa172798bd77be99d22)Because it's all just data, and we need to think about when and where that data is evaluated. It does require different thinking at times. This fundamental concept is so well wrapped in familiar contexts that we are able to forget about it most of the time.

## Wednesday 4th May, 2016

Zamlox

[04:29](#msg57297ab812cceadb7b1a68a2)@dockimbel why following code returns false ?

```
red>> digit: charset "0123456789"
== make bitset! #{000000000000FFC0}
red>> parse "&1a" [any [remove ["&" some digit] | skip ]]
== false
```

if Iexecute:

```
red>> parse "c&1a" [any [remove ["&" some digit] | skip ]]
== true
```

it gives true

mydoghasworms

[04:32](#msg57297b5d474247a946a602d6)When you compile some source with Red, does it actually compile that script into machine code, or does it just bundle the script with the interpreter into a single executable the way that AutoIT (or something similar) does?

Zamlox

[04:38](#msg57297caa72798bd77be9cc13)@mydoghasworms from my understanding it compiles the script into machine code. You can find supported machine codes at https://github.com/red/red/tree/master/system/formats

mydoghasworms

[04:45](#msg57297e79474247a946a60343)@Zamlox I supposed the message on stdout when you compile should confirm this :smile:

```
Compiling to native code...
```

But why does a simple script, like the following, compile to a 433KB binary?

```
Red []
print "hello"
```

Zamlox

[04:48](#msg57297f1b474247a946a60357)@mydoghasworms that's something I don't know.

PeterWAWood

[04:55](#msg572980b1944fc7ba04ccd7b1)@mydoghasworms The answer lies in Red's two stage compiler. The first stage is to compile the Red code to Red/System code, the second stage is to compile the Red/System code to machine code.

The Red compiler cannot resolve all references at compile time and needs to generate code to handle them at runtime. I suspect that the current compiler, after all it is a bootstrap one, rather crudely compiles rather large chunks of the the runtime.

I suspect it is currently leaving resolution of print arguments to runtime as print evaluates its arguments.

[04:59](#msg57298199d6d0f60219f0574d)In fact, it looks as though the current compiler always includes the Red runtime in any executable, whether it is needed or not. An empty program compiles to 561K on OS X.

[04:59](#msg572981bed6d0f60219f05753)I have no doubt that the self-hosted compiler will not be so heavy handed.

dockimbel

[05:09](#msg572983efc2a86dcf79194e3a)@Zamlox Looks like a `remove` command bug in Parse, please open a ticket for it, I will process it today along with other Parse tickets.

Zamlox

[05:09](#msg57298414d6d0f60219f057aa)@dockimbel ok,thanks. I will open a ticket for it.

dockimbel

[05:23](#msg57298757682b8fdf3c8c8f4a)@mydoghasworms Red compiles to native code, using Red/System as intermediary representation. The interpreter is also bundled within the executable to process the code parts which are evaluated at run-time (e.g. `a: [print "hello"] do a`). The whole core runtime library (datatypes, actions, natives, ops, interpreter, Parse, I/O) is bundled with each compiled Red executables, there is simply no way around that if you want to have the native level code honor the Red language semantics.

[05:25](#msg572987d9b16b91060f799714)In your apparently simple example, it requires: memory manager, symbol table, symbol! type, context! type, word! type, string! type, unicode library, `print` native, `form` native,`reduce` native and output backend support for your target platform (with platform-specific unicode conversion routines). That would probably already be above 100KB, and it's just a `print`. If you put a few more elements in that example, you'll very quickly pull pretty much all of the runtime library through dependencies. Therefore, optimizing the runtime library size at compilation time would cost a lot in internal implementation (actually pretty impossible just to compile the interpreter without most of the runtime library), and giving no practical advantage.

[05:28](#msg57298889b16b91060f79971b)If you require smaller Red executables, you can use compression tools like UPX which can reduce Red executables by 3-4 times.

pekr

[06:00](#msg572990016871c4a646c190c8)Or you can use bare-bones R/S (= no Red in fact) and the executable would be smaller?

rebolek

[07:24](#msg5729a3a3c2a86dcf79194edb)@pekr yes, but then your `print "hello"` can’t be i.e. `print "ahóóój!"` (no Unicode and other limitations).

PeterWAWood

[07:27](#msg5729a46c0149d6bb04b88896)@rebolek Of course it can!!

```
$ ../../Code/Red-System/test
ahóóój!
```

rebolek

[07:29](#msg5729a4dac2a86dcf79194ee8)@PeterWAWood Oh, great!

[07:30](#msg5729a50dc2a86dcf79194eec)It makes sense, when I think about it...

Zamlox

[07:39](#msg5729a71dd6d0f60219f05e81)how can be used collect/keep with Parse function ?

rebolek

[07:40](#msg5729a761b16b91060f7997d0)@Zamlox

```
red>> parse [a 1 b 2 c 3] [collect [some [word! | keep integer!]]]
== [1 2 3]
```

mydoghasworms

[07:42](#msg5729a7d6df1a01ff18fc4bc8)Thanks @dockimbel for the explanation. I guess it makes sense, given the dynamic nature of the code being processed, that you could be feeding anything through and that makes it difficult (or even impossible) to anticipate what may or may not be called :+1:

Zamlox

[07:42](#msg5729a7ef0149d6bb04b88973)@rebolek so collect usually is placed at the beginning of the rule ?

mydoghasworms

[07:43](#msg5729a8120149d6bb04b8897c)@PeterWAWood Thanks for your explanation as well. (Sorry, I am reading from the bottom up)

rebolek

[07:43](#msg5729a81ab16b91060f7997d4)@Zamlox yes, at the beginning of the rule, where you want to collect something. It can be preceded and followed by rules that do not collect.

Zamlox

[07:43](#msg5729a833474247a946a60b3c)@rebolek is it possible to access the result of collect within the rule somehow ?

rebolek

[07:47](#msg5729a903682b8fdf3c8c8ffd)@Zamlox yes, you can i.e. collect into some block:

```
red>> block: copy [] parse [a 1 b 2 c 3] [collect into block [some [word! | keep integer! (probe head block)]]]
[1]
[1 2]
[1 2 3]
== true
```

[07:47](#msg5729a91caa92b14772cb52ab)@Zamlox see the \[documentation](http://www.red-lang.org/2013/11/041-introducing-parse.html) for more info about keep/collect

Zamlox

[07:47](#msg5729a92a944fc7ba04ccdf67)@rebolek thanks ;)

rebolek

[07:48](#msg5729a965aa92b14772cb52ad)you're welcome :)

mydoghasworms

[09:27](#msg5729c088944fc7ba04cce626)@RenaudG @pekr Back to our earlier discussion about having the value of a view field point to another string so that it can automatically update based on some value, it was actually as simple as assigning the /text of the field to another word bound to a string, then changing the string (e.g. with `clear` and `append`) instead of reassigning it. That was in fact all I needed, and the view updates automatically, though I opted not to use that approach in the end anyway.

```
red>> view/no-wait [f: field] s: "" f/text: s
== ""
red>> append s "Hello"
== "Hello"
red>>
```

[12:48](#msg5729ef8012cceadb7b1a84f8)If you pipe data into Red from the command line, is that data available anywhere e.g. under the `system` global somewhere?

```
cat data.txt | red
```

greggirwin

[12:51](#msg5729f06f944fc7ba04ccf37d)system/options/args ?

[12:52](#msg5729f096944fc7ba04ccf38c)There's also system/script/args. but I haven't tried them under Red.

mydoghasworms

[12:55](#msg5729f1246871c4a646c1a9a5)Doesn't look like it. Neither of those two.

greggirwin

[12:56](#msg5729f178df1a01ff18fc5fc5)Probably have to wait for ports then.

mydoghasworms

[12:56](#msg5729f18412cceadb7b1a85c3)Makes sense. Thanks.

greggirwin

[12:56](#msg5729f198944fc7ba04ccf3e4)Under R2 it would be system/ports/input

[12:58](#msg5729f1d80149d6bb04b89d54)system/option/args should work if you pass the data as a CLI arg, rather than piping in.

[12:58](#msg5729f1eb0149d6bb04b89d5a)Not the same thing, I know.

mydoghasworms

[12:59](#msg5729f2266871c4a646c1a9fc)On the topic of args, I see that when you pass more than argument, `system/options/args` seems to contain only the first. E.g.:

```
red -abc -def
```

Then in Red:

```
red>> system/options/args
== "-abc"
```

greggirwin

[13:00](#msg5729f274944fc7ba04ccf445)Confirmed. In the meantime, quote it and parse?

dockimbel

[14:11](#msg572a032caa92b14772cb5601)@mydoghasworms You should be able to get the stdin data by using the `input` function, though you need to include it from `%environment/console/input.red`.

## Thursday 5th May, 2016

Zamlox

[03:35](#msg572abf6b944fc7ba04cd32ef)With latest console for windows (red-05may16-b96024e.exe) I get following error when executing a script:

```
*** Script error: new-line does not allow paren! for its blk argument
*** Where: new-line
```

Script:

```
Red []

rule: [ any [
		mark: set a [ any-word! ] (
			if [ ][ ]
		) | into rule | skip
	] ]
```

Anybody experiencing similar issue ?  
With previous version of console (red-29apr16-c32cd7a.exe) I don't have this issue.

dockimbel

[03:39](#msg572ac06f682b8fdf3c8c9866)@Zamlox I can reproduce it, it's a bug.

Zamlox

[03:39](#msg572ac08a72798bd77bea2940)ok. I'll open a ticket .

[03:45](#msg572ac1f3944fc7ba04cd3329)ticket created

dockimbel

[03:54](#msg572ac3e9682b8fdf3c8c986b)@Zamlox Thanks. Issue fixed now.

Zamlox

[03:54](#msg572ac3fb474247a946a65ef6)@dockimbel thanks.

[05:11](#msg572ad5ed474247a946a6611a)@dockimbel is it possible to insert a value of a word using

```
insert
```

extension of Parse function ?

dockimbel

[05:36](#msg572adbca682b8fdf3c8c98ff)@Zamlox Sure:

```
red>> parse a: [1] [skip insert (red)]
== true
red>> a
== [1 255.0.0]
```

Zamlox

[05:40](#msg572adcba0149d6bb04b8e134)@dockimbel for me doesn't work that well, but it might be because I combine it with

```
collect/keep
```

and

```
remove
```

:

```
red>> a: "X"
== "X"
red>> digit: charset "0123456789"
== make bitset! #{000000000000FFC0}
red>> content: "a&&1&&2&&3m"
== "a&&1&&2&&3m"
red>>  block: copy [] parse content [collect into block any [remove keep ["&&" some digit] (probe head block) insert (a) | skip]]
["&&1"]
["&&1"]
["&&1"]
== true
red>> content
== {aXX^G^@^@^@^@^@^@^@d+?^@^@^@^@^@X^G^@^@^@^@^@^@^@d+?^@^@^@^@^@^G^@^@^@^@^@^@^@X+?^@^@^@^@^@m}
```

dockimbel

[05:52](#msg572adfae682b8fdf3c8c9908)@Zamlox It looks like another ticket would be required. ;-)

Zamlox

[05:53](#msg572adfbc72798bd77bea2d6b)ok ;)

[06:00](#msg572ae161474247a946a662b9)@dockimbel ticket created

meijeru

[08:17](#msg572b01a4474247a946a66888)Yesterday, I submitted two issues that are in fact duplicates of previously reported ones. It is true I did not go through all open issues to check, but the sheer number of open ones does make that difficult. It would seem to me that with the increased usage of Red (to be welcomed!) this duplication may increase too. It would be good if more manpower could be put into fixing issues.

dockimbel

[08:32](#msg572b0520944fc7ba04cd3dc4)@meijeru Agreed. The question is: where do we find "more manpower"?

rebolek

[09:23](#msg572b10fec2a86dcf79195969)What a fun :D

```
red>> do %dot.red
== func [
    value [any-type!] code [block!] /local word rule sub...
red>> dot 4 [add 3 subtract 2 multiply 1]
== 5
```

Arie-vw

[09:29](#msg572b1263944fc7ba04cd40f0)Need some help with parse. This example: http://pastebin.com/LRuznZYh It shouls replace the ## and $$ delimites with HTML code, but it seems the | does not work. What am I doing wrong? BTW how can I insert the neat code inline as @rebolek does?

rebolek

[09:31](#msg572b12ddb16b91060f79a2d4)@Arie-vw for the inline code use \\

```
on separate line followed by code and then again \
```

Arie-vw

[09:32](#msg572b1328d6d0f60219f0c272)@rebolek Ah thx!

Oldes

[09:33](#msg572b1352944fc7ba04cd4122)@Arie-vw there is a Markdown help on the right bottom side of the input field (M with arrow)

Arie-vw

[09:39](#msg572b14e4944fc7ba04cd417f)@Oldes Never tried that; funny ;-) Thx!

SteeveGit

[09:47](#msg572b16acc2a86dcf7919597d)@Arie-vw the `TO ##` rule, makes the `to $$` never reached.Also, try to follow source indentation conventions. Your code is hard to read as it is.

rebolek

[09:50](#msg572b174fc2a86dcf79195981)`TO` and `THRU` are good for fast matching/extraction, but in more complex rules it’s better to avoid them.

Arie-vw

[09:51](#msg572b17b3944fc7ba04cd4220)@SteeveGit @rebolek OK thx. Will try to find another way.

SteeveGit

[09:52](#msg572b17d2c2a86dcf79195989)wait a little, I got something

[10:16](#msg572b1d8c682b8fdf3c8c9a77)@Arie-vw

```
Red []

line: "The ##Test## word $$Kees$$ is $$Arie$$ nice ##Piet## word!" "$$"

parse line  [
	any [ 
		to ["##" | "$$"] [
			[ 
				remove "##" insert {<strong style="color: green">}
           		rollback: to "##" remove "##" insert {</strong>}
			] :rollback
			| [ 
       			remove "$$" insert {<strong style="color: blue">}
          	 	rollback: to "$$" remove "$$" insert {</strong>}
			] :rollback
		]
    ]
    to end
]
print line
```

[10:17](#msg572b1d9cb16b91060f79a32f)Several comments to do:

[10:18](#msg572b1ddeb16b91060f79a335)remove + insert should be replaced with change. But it's not working...

Arie-vw

[10:18](#msg572b1dec72798bd77bea3a16)I just found another solution:

```
line: "The ##Test## word $$Kees$$ is $$Arie$$ nice ##Piet## word!"

repl1: {<strong style="color: green">}
repl2: {<strong style="color: blue">}

parse line 
    [any 
        [ 
            [to ["##" | "$$"] b1: 
                (token: copy/part b1 2 
                        either token = "##" [ 
                            change/part b1 repl1 next next b1
                        ] [
                            change/part b1 repl2 next next b1
                        ]
                )
            ]
            [to token b2: 
                (change/part b2 {</strong>} next next b2)
            ]
        ]
        to end
    ]
print line
```

[10:19](#msg572b1e20df1a01ff18fcb1a2)@SteeveGit Will try yours later. Have to go now. Thx!

SteeveGit

[10:20](#msg572b1e75c2a86dcf791959be)Another thing is the curious rollback var, which allows tags inclusions in other tags

dockimbel

[10:22](#msg572b1ef772798bd77bea3a51)@Arie-vw `next next b1` =&gt; `2`. Also keep the `[` on the previous line, else your code cannot be copy/pasted in the console.

SteeveGit

[10:24](#msg572b1f65b16b91060f79a342)

dockimbel

[10:26](#msg572b1fd872798bd77bea3a7e)@SteeveGit Sorry, wrong person. :)

SteeveGit

[10:26](#msg572b1fe1c2a86dcf791959c5)uhuh ;-)

InvoiceFox

[11:19](#msg572b2c5512cceadb7b1adcdd)Is there any Rebol2 channel or altme world where people are still online (I have some deeper problems with my R2 app and would like to know if anyone else has experienced anything like it)

rebolek

[11:20](#msg572b2c7fb16b91060f79a3c3)@InvoiceFox Rebol4 world on AltME

[11:21](#msg572b2cbbb16b91060f79a3c8)see \[how to join](http://www.rebol.org/aga-join.r)

InvoiceFox

[11:23](#msg572b2d37df1a01ff18fcb54b)If I was on Rebol3 , but I don't have access to 4 .. Thank you

rebolek

[11:24](#msg572b2d76aa92b14772cb5ddd)It’s constantly moving target ;)

SteeveGit

[11:30](#msg572b2eeeb16b91060f79a3cf)Usually after a crash (and logs are lost). Wellcome to a new world with no history of Rebol past! :worried:

InvoiceFox

[11:44](#msg572b3219944fc7ba04cd4883)@SteeveGit is this relating to me?

SteeveGit

[11:45](#msg572b325cb16b91060f79a3e3)No, about the Rebol1, 2, 3, 4 saga on Altme

InvoiceFox

[11:50](#msg572b337872798bd77bea3f4a)Steeve: aha. I understand. I was thinking that you were describing the problem I have :). Has it happened to anyone with R2 on newer linuxes (it started happening to me when I went from ubuntu 10 to 14LTE that with a bigger project and with enough CPU-time rebol process goes to 100% CPU) and you have to kill it? (if you watch it with strace it doesn't touch the OS or anything in that loop)?

SteeveGit

[12:10](#msg572b383cb16b91060f79a409)Did you try to put some wait 0.0001 in your heavy loops, to let the OS inhale?

InvoiceFox

[12:15](#msg572b394d944fc7ba04cd4a81)this doesn't happen in rebol code, but after rebol should quit

SteeveGit

[12:15](#msg572b394fc2a86dcf79195a92)Currently on Ubuntu 64 bits, When I compile Red, Rebol2 goes full throttle at 25% of CPU (100% of one core)

InvoiceFox

[12:16](#msg572b39890149d6bb04b8f535)does this happen while it makes sense (it's compilig) or after it should finish?

SteeveGit

[12:16](#msg572b3998b16b91060f79a40f)while compiling

[12:18](#msg572b3a06b16b91060f79a412)But in fact, it's just a guess since I close it early after that. I should check first ahah!

[12:18](#msg572b3a1aaa92b14772cb5e23)wait a minute....

InvoiceFox

[12:18](#msg572b3a1f12cceadb7b1ae034)but mine never comes from 100% cpu until I kill -9 it

SteeveGit

[12:21](#msg572b3aad682b8fdf3c8c9b55)Ok, no problemo here but I use Rebol2 for windows under Wine

[12:22](#msg572b3b0db16b91060f79a418)I remember, it was perhaps the reason why I switched to wine, to avoid your problem

InvoiceFox

[12:27](#msg572b3c1dd6d0f60219f0cc7c)hm... really?!? maybe we shouldn't talk here about since it's Red group. Were you steeve on Rebol3 world?

SteeveGit

[12:28](#msg572b3c50682b8fdf3c8c9b60)You can go private

[12:28](#msg572b3c67682b8fdf3c8c9b61)And yes I am

djrondon

[15:50](#msg572b6bdb6871c4a646c21181)Hello Folks, is there a compatibility table between Red / Rebol Commands ? I know not all the commands are implemented.

dockimbel

[16:22](#msg572b735dc2a86dcf79195cc0)@djrondon You can find a partial table at the bottom of this \[page](http://red-rvc.droppages.com/).

## Friday 6th May, 2016

ghost~5680c5f416b6c7089cc058a5

[11:31](#msg572c807d944fc7ba04cd9f0c)@dockimbel All links are broken on Red/docs https://github.com/red/docs/blob/master/README.md

[11:33](#msg572c810c944fc7ba04cd9f28)You can use relative links https://help.github.com/articles/relative-links-in-readmes/

dockimbel

[11:34](#msg572c815812cceadb7b1b364a)@nc-x Yes, it's a work in progress, I am trying to export it into gitbook and other similar online tools, so far with little success. Thanks for the relative links, very useful!

[17:16](#msg572cd15eaa92b14772cb6af3)UPDATE: It seems we will be settling for Gitbook for publishing the documentation from the new red/docs repository.

PeterWAWood

[23:37](#msg572d2aaef36daf63798d542f)Given that Red has the 1.#INF and -1.#INF values, why does dividing by zero raise a script error?

[23:42](#msg572d2c03b51b0e29484fe762)Shouldn't

```
1.#INF * 0
```

return

```
0
```

?

```
red>> 1.#INF * 0
== 1.#NaN
```

## Saturday 7th May, 2016

PeterWAWood

[00:02](#msg572d30ac12fa465406eaa11c)I've done a little research and the answer seems to be that infinity multiplied by zero cannot be defined. So Red is correct according to mathematics.

[00:06](#msg572d3180b51b0e29484fe838)Shouldn't

```
1 / 1.#NAN
```

return

```
1.#NAN
```

?

```
red>> 1 / 1.#NAN
*** Math error: attempt to divide by zero
*** Where: /
```

dockimbel

[01:54](#msg572d4ac8b16b91060f79b4cc)@qtxie ^---

[06:15](#msg572d8803aa92b14772cb6fca)FYI: I have created a new room for discussions about Red documentation and more specifically about the new \[red/docs](https://github.com/red/docs) repository. The published version of that documentation is available on \[Gitbook](https://www.gitbook.com/book/dockimbel/red/details). The corresponding pages on the wiki will be removed.

ghost~5680c5f416b6c7089cc058a5

[06:58](#msg572d9233f16c085106617e1c)Does anyone know why Gitter is showing on the sidebar

`abc` commented `#1234`

when the previous comment is edited and no new comment made.  
It's just gonna clutter the sidebar.

dockimbel

[07:05](#msg572d93c4aa92b14772cb6fe7)@nc-x I see no options in Gitter for filtering out events from Github.

[14:35](#msg572dfd3e682b8fdf3c8cade4)@PeterWAWood I think it should return a NaN.

qtxie

[15:28](#msg572e099aed393f3409b0959e)@dockimbel Yes. I also think so.

[15:28](#msg572e09a412fa465406eabcbf)I'm fixing it.

## Sunday 8th May, 2016

PeterWAWood

[02:25](#msg572ea3a0b51b0e2948501c8a)@dockimbel @qtxie What do you think about returning 1.#INF or -1.INF for a zero divide on float! values?

This feature alone is probably the main reason that JavaScript is the most used programming language on the planet ;-)

[02:27](#msg572ea3fba351d8310951e322)

```
JavaScript
V8 version 5.0.71.33 [sample shell]
> 1 / 0
Infinity
> -1 / 0
-Infinity
```

[02:28](#msg572ea461f16c08510661a8b9)Joking aside, it does allow a different programming approach to calculations. People can still check for a zero divisor if they wish.

[02:44](#msg572ea81ab51b0e2948501ce8)Here is a short example of how I would use 1 / 0 is infinity:

```
view [
    dividend: field "0"
    text "÷"
    divisor: field "0"
    text "="
   text react [
        face/text: form (to float! dividend/text) / (to float! divisor/text)
    ]
]
```

[04:09](#msg572ebbe4a351d8310951e590)@dockimbel @qtxie

This looks like a bug to me:

```
red>> 1.00 = 1.#NaN
== true
```

dockimbel

[04:09](#msg572ebbfeaa92b14772cb75c4)@PeterWAWood Agreed. We had a discussion about it a couple of months ago with Qingtian, we decided to postpone implementing that feature, but I must admit I forgot the reason why (@qtxie).

PeterWAWood

[04:12](#msg572ebc9af36daf63798d8cb3)Also this one:

```
red>> 1.#NaN == 1.#NaN
== false
```

qtxie

[04:21](#msg572ebebc12fa465406ead91e)`1.#NaN == 1.#NaN` is right according to IEEE Standard 754 Floating-Point standard.

greggirwin

[04:48](#msg572ec521f9a53a60793cb751)That makes sense. Saying what they aren't isn't the same as saying what they are.

PeterWAWood

[05:02](#msg572ec85b12fa465406ead9e0)@qtxie Thanks for the explanation.

## Monday 9th May, 2016

qtxie

[12:02](#msg57307c54682b8fdf3c8cb70e)Which one is better?

[12:03](#msg57307c7c682b8fdf3c8cb70f)

```
>> x: "123"
>> insert/part x [abc xyz 123] 2
>> x
== "ab123"
```

[12:03](#msg57307c84b16b91060f79c06c)or

[12:03](#msg57307c98aa92b14772cb7b05)

```
>> x: "123"
>> insert/part x [abc xyz 123] 2
>> x
== "abcxyz123"
```

rebolek

[12:22](#msg573080ecb16b91060f79c085)I prefer second version. You can mimic first version easily if you want, but if first version is default, it’s much harder to achieve second one.

pekr

[16:54](#msg5730c0b1f36daf63798dec21)Second version does not make much sense imo. When you use copy/part, you limit it to the amount/size of the copied series, no? And hence insert/part something 2, should limit it to insert just 2 chars/positions. Hmm, R2 seems to insert whole block for the above code ....

greggirwin

[18:10](#msg5730d2aff36daf63798df272)R2 does seem incorrect for strings @pekr, but correct for blocks. The question is whether INSERT coerces values to the series type before or after /PART. As @rebolek points out, we can easily coerce ahead of time ourselves, but not the other way around.

The second approach also seems much more natural to me, when I think of how it will be used with real data. These examples have fixed length values, but real data won't. If you know you need to insert a fixed number of chars into a string, you can coerce first, which lets you express different intents clearly (chars versus values).

RnBrgn

[18:13](#msg5730d353f9a53a60793d1da4)Getting a "compilation error " while running latest build. red-10may16-a1ccc14.exe on Win 7  
"Argument type mismatch on calling : exec/gui/get-text-size"

endo64

[19:35](#msg5730e67df16c085106621b74)Second approach is also consistent with the `string!` series:

```
red>> head insert/part "12" "34" 1
== "312"
```

## Tuesday 10th May, 2016

Arie-vw

[12:22](#msg5731d2a0ed393f3409b1636e)www.red-by-example.org has had an overhaul. Uploading new stuff is now easier, because I wrote a generator (in Red) for specific formatting etc. New words added. Mike Parr has documented a lot of words already with examples, which are partly on the site already. The rest will follow soon. Also XREF info has been added. Please comment if you see fit!

dockimbel

[13:04](#msg5731dc754829bc490748c3f9)"because I wrote a generator (in Red) for specific formatting etc" :clap:

Arie-vw

[14:31](#msg5731f0b5b51b0e294850dc5a)@dockimbel Thx!

RnBrgn

[15:10](#msg5731f9fd3170252648f5b147)@Arie-vw Thanks for the documentation . I noticed a possible typo in one of the examples in the CASE section.  
case all refinement (1) example print output would print "large and none of these"

pekr

[15:31](#msg5731fecff9a53a60793d7a4d)Is there any debugging left over in the latest code? If I press the Tab, it gives me:

```
red>> n: 3
README.md rebol.exe red.r 
n: 27
red>> %re
```

greggirwin

[16:30](#msg57320c9eed393f3409b18053)Looks like tab completion is coming. :^)

pekr

[16:42](#msg57320f7912fa465406eba572)Yes, marked on Trello as done, iirc ... maybe some lat testing artefacts :-)

Arie-vw

[16:43](#msg57320fa6f16c08510662781a)@RnBrgn Indeed! Thx. Will fix asap.

endo64

[19:00](#msg57322fb8b51b0e294850f843)Great work @Arie-vw

## Wednesday 11st May, 2016

dockimbel

[07:22](#msg5732ddb7a351d8310952ebf0)@Arie-vw Some small typos reported from Mark on the ML:

http://www.red-by-example.org/#dir?  
file patt =&gt; file path  
corrct file path =&gt; valid file path

pekr

[09:27](#msg5732fb02f16c08510662b981)Non related question to recent developments, but general question anyway. I always liked the `remove-each`function and its block to evaluate. Would it be usefull to have its counterpart `keep-each`, which is just a negation? And the second one - what about the `change-each`? I thought about e.g. pixel manipulation, submitting it some simple formulas? Maybe it could be faster than using a loop to change such values? I know that most probably you will suggest to use R/S instead, but just asking :-)

dockimbel

[09:28](#msg5732fb38f16c08510662b98f)@pekr `keep-each` How is that different from current `collect & keep` functions? For the other functions, show me a detailed description of how they would work, then we can talk about it.

pekr

[09:30](#msg5732fb9c12fa465406ebe75a)just a counterpart to the `remove-each`, simply the same pattern of usage, whereas `collect & keep`is a bit different syntactically. It just came to my mind recently, no strong opinion on that. Was more interested in the potential of`change-each`, but its use might be limited ....

[09:31](#msg5732fbd712fa465406ebe772)`change-each pixel image [random pixel]`

[09:31](#msg5732fbf5b51b0e2948512b26)Could be faster than using a loop, no?

dockimbel

[09:31](#msg5732fbf7f36daf63798e96ed)Then `keep-each` is just the same as `remove-each`, just invert the passed condition in the block.

[09:32](#msg5732fc423170252648f5fb1b)I don't think it would be any noticeably faster when compiled compared to a `foreach` and a `change`.

pekr

[11:16](#msg573314963170252648f602cb)Most probably we can't do much about it, but just got bitten in how easy it is to hang Red/Rebol in parse :-) `parse "123" [any [skip | end]]` ... I know that once at the end, we can't skip anymore and then `end`applies infinitely :-) In fact, I had a three rules there, char to match, or skip, or end ...

Oldes

[11:34](#msg573318d6b51b0e2948513408)@pekr above just returns `true` in R3 so it's possible to detect such infinite loops.

rebolek

[11:55](#msg57331dbb33328697656261b5)or you can do `parse "123" [any [skip | end break]]`

pekr

[12:06](#msg5733204e3170252648f6067f)thanks for the tip, forgot about the break :-)

Zamlox

[12:16](#msg57332296ed393f3409b1cfc4)when I try to start red from windows console I got: "PROGRAM ERROR: Invalid encapsulated data." Same for older or latest version of red. OS: Windows 7 Professional. Any ideas what can be wrong ?

[12:28](#msg5733255c12fa465406ebf46d)found it: https://github.com/red/red/issues/543

greggirwin

[12:58](#msg57332c8b12fa465406ebf732)@pekr I have old KEEP-EACH, CHANGE-EACH, and CHANGE-ALL (and more) mezzanines. They're easy enough to do, so don't really need to be built in. In general, I'd like things to start with MAP and FILTER and build from there.

pekr

[13:07](#msg57332e9fb51b0e2948513baf)I am not looking for mezzanines, but for speed. We could do even remove-each as a mezzanine, but its purpose was to drastically speed up the execution ...

greggirwin

[13:07](#msg57332eaff16c08510662ca28)Just tested this in the current Red, and COLLECT still fails (Red just disappears) if I try to use it here, in place of the APPEND approach:

```
map-each: func [
	"Evaluates body for each value(s) in a series, returning all results."
	'word [word!] "Word, or words, to set on each iteration"
	data [block!] 
	body [block!]
	/local tmp
] [
	res: copy []
	foreach :word data [
		if not unset? set/any 'tmp do body [append/only res :tmp]
	]
	res
]
```

[13:09](#msg57332ef8a351d831095305a8)KEEP-EACH can be as fast as REMOVE-EACH. It just does this:

```
remove-each :word data reduce ['not to paren! body]
```

pekr

[13:09](#msg57332f04f36daf63798ea7e2)So I thought that change-each or change-all, providing it some formula in a block, or dialected, could be faster, than running a loop and change on each iteration ... As Red is compiled, it might not be true. Well, it might not be related to compilation, I just miss some imagination in regards to language internals ...

[13:10](#msg57332f2ef36daf63798ea80c)Yes, keep-each sounds like it could ....

greggirwin

[13:10](#msg57332f46f9a53a60793dd2fd)I can ask my standard question. How much too slow are they? :-)

pekr

[13:11](#msg57332f813170252648f60bdf)Don't know - just imagine a dragging slider, changing pixel values for a FullHD image. I want it to be realtime, even when interpreted :-)

greggirwin

[13:11](#msg57332f8ab51b0e2948513c26)I do agree that REMOVE-EACH is much higher performance than doing it ourselves, or at least makes the smarter removal logic easier.

pekr

[13:12](#msg57332fbb12fa465406ebf897)What is nice about Red is, that it is compiled. And you can do it in R/S too. And later on, it is going to be even JIT compiled, so most probably not every aproach needs to be fast ...

greggirwin

[13:12](#msg57332fbdf9a53a60793dd32c)Right, my point, as usual with that question, is that we don't know until we try. I've always pressed to do as much at the mezz level as possible.

[13:12](#msg57332fd1b51b0e2948513c50)Let's go for clarity and correctness first.

pekr

[13:14](#msg57333038f16c08510662caf3)E.g. look here - it was posted in the Red FB group by me, adding a question, if the image manipulation would be faster, if compiled. And Doc's answer was, that yes, it would be so (if the compiler would do some optimisations), and drastically faster, if done using R/S: https://fotomix.wordpress.com/2016/04/10/red-convertendo-imagens-para-tons-de-cinza-2/

[13:15](#msg57333076f16c08510662cb18)@greggirwin - I bet you are waiting for a green light to provide us with tonnes of mezzanines, once the Red runtime is precompiled, right? :-) Well, at least I hope so! :-)

greggirwin

[13:16](#msg57333097f36daf63798ea894)AH, I just found that it's the 'body arg name that makes COLLECT not work in that MAP-EACH. The body arg gets bound to the COLLECT body.

pekr

[13:16](#msg573330ca12fa465406ebf919)Well, for me, Red 0.6.0 was a game changer. 0.6.1. is going to be even better. And as for 0.7.0, I will call it full production Red 1.0 in my book of thoughts :-)

greggirwin

[13:17](#msg573330e1ed393f3409b1d587)I do have a lot of stuff @pekr. :) One of the big things is planning a system of evaluation (and testing) to determine what should be standard. Right now, my focus is on a FORMAT func.

[13:17](#msg573330f9f36daf63798ea8b3)Agreed. It's very hard to focus on real work when I hear Red calling me.

pekr

[13:23](#msg5733325d3170252648f60d4f):-)

dockimbel

[14:26](#msg5733411adf0b277f0ecf810d)@greggirwin If you found bugs when playing with your `map-each` code, please report them on the bugtracker.

[14:29](#msg573341df7d20ec91625732df)As you are getting your `*-each` functions ready, we will have to decide (in a not distant future) about the naming convention for those iterators, knowing that we will have some others like: filter, fold, zip, ... coming from functional programming. Do we suffix them all with `-each` or not? That would be the easiest option, but also the most verbose...

pekr

[15:04](#msg573349ec75a64b4532929a0e)I think that remove-each name was choosen, as there is already a remove action itself. There was some proposal, to R3, to rename for-each, to be compliant with remove-each or some possible future iterators. It was found as unnecessary change thoug ...

dockimbel

[15:14](#msg57334c49f6f2bcff2b9c4314)I'm thinking about adding `for-each` and `for-all` aliases in addition to `foreach` and `forall`.

pekr

[15:15](#msg57334c75bce0284832d9903a)That would indeed be a good solution ....

endo64

[16:00](#msg57335717bce0284832d994ea)If `forall` gives error before completing the loop, `'word` references the latest position. This is same for R2 and R3, but I always think that it should set to head as if it could completed the loop. What do you think?

```
b: [1 2 3 4] 
forall b [all [3 = index? b 1 / 0]]
b
== [3 4]
```

greggirwin

[16:40](#msg5733608175a64b453292a4a1)I think the `*-each` name works well when there is a word arg, to match `foreach`. There is no conflict, to me, between `map` and `map-each`, etc. with one having a more purely functional feel and the other being more flexible and...rose-colored (need that term for REBOLish to apply to Red).

[16:55](#msg57336408bad5a8b534f24322)Also, @pekr, I do have a `remove-each` mezz.

[16:59](#msg573364f4bad5a8b534f2438b)It does slow down if you have huge blocks, but it's instantaneous if you only have 20'000 items or so.

[17:00](#msg57336523a410e6902ab2aed4)Takes about 1s to remove 20K items from a 40K block.

[17:02](#msg57336594bad5a8b534f243e9)

```
; This is just conceptual. Basic tests work, but do not consider it robust.
remove-each: function [
	"Removes values from a series where body returns TRUE."
	;"Returns the series after removing all values that match a test."
	'word  [get-word! word! block!] "Word or block of words to set each time (will be local)"
	series [series!]
	body   [block!] "Block to evaluate; return TRUE to remove"
][
	; How many words are we setting on each iteration?
	count: length? compose [(word)]
	; This is a two pass approach, pass 1 marks removal locations,
	; pass 2 removes the values from tail to head.
	marks: copy []
	i: 1
	; Pass 1: Mark locations, using INSERT so higher values are at the head.
	foreach :word series [
		if do body [insert marks i]
		i: i + count
	]
	; Pass 2: Remove values
	foreach mark marks [
		remove/part at series mark count
	]
	series
]
;b: [1 2 3 4 5 6 7 8]
;print remove-each v b [v > 4]
;b: [1 -2 3 4 5 -6 7 8]
;print remove-each v b [v < 0]
;b: [1 -2 3 4 5 -6 7 8]
;print remove-each [x y] b [y < 0]
;b: [1 -2 3 4 5 -6 7 8 9 -10 11 12 13 -14 15 16 17  -18]
;print remove-each [x y z] copy b [y < 0]
```

asampal

[18:08](#msg57337506c5ff2e7e29fdd436)@dockimbel what do you think about adding some text on the download page to encourage people to try the automated builds first and fall back to the stable one only if something doesn't work. There have been quite a lot of fixes/changes since the 0.60 release. "You should consider using the latest automated builds - the really aren't very unstable!"

I've seen encouraging wording like this on some projects where the pace of development is pretty quick and the stable builds rapidly fall behind.

## Thursday 12nd May, 2016

dockimbel

[04:39](#msg57340908f6f2bcff2b9c4962)@asampal The fact that the current automated builds are most stable than the last released version is temporary, as we focused on fixing dozens of issues in the last weeks. As soon as we'll start adding new feature, you can expect some new issues and broken builds. Therefore, for a newcomer, the last release version is the safest one to use, as we spent time testing it and ensuring that all the provided code examples are working fine on it (which may not be the case with the automated builds, not only because of bugs, but also, because of changes). So, for a newcomer, the correct path should be: last released version first, if something goes wrong, try with latest build, then if it's still broken, report it on the bugtracker or Gitter.

asampal

[04:45](#msg57340a812b8be74d2290613e)@dockimbel , sure, if the automated builds aren't stable it makes sense not to suggest them as the first option. I do see people only mentioning the release version when they're having problems though, so maybe what you just said above wrt issue reporting should be spelled out on the download page.

greggirwin

[07:48](#msg573435603a05b11b6a4c336a)`collect` fix looks good. Thanks @dockimbel !

mark-summerfield

[07:58](#msg573437c2bad5a8b534f27c17)are beginner questions ok here? if yes, then how do I join some strings?  
a: "12"  
b: "3456"  
rejoin \[a b]  
\== Script error: rejoin has no value  
(... has no value is the error I get most and it isn't helpful!)

rebolek

[08:00](#msg573438392b8be74d22906268)@mark-summerfield Yes, questions are welcome here :) `rejoin` is not implemented yet (therefore the "no value" error), use `append`:

```
red>> a: "12"
== "12"
red>> b: "3456"
== "3456"
red>> append copy a b
== "123456"
```

[08:01](#msg57343850c5ff2e7e29fdd9eb)(I used `copy` there to not overwrite value of `a`.)

mark-summerfield

[08:04](#msg57343903bce0284832d9d4e6)thanks! I wish there was a special error message "foo not implemented yet" for unimplemented functions so that you could distinguish them from errors since as a beginner I can't tell the difference.

rebolek

[08:07](#msg573439cc2b8be74d22906275)@mark-summerfield That would require setting all those words to some function that returns such error. It’s possible, but it’s additional work.

[08:08](#msg573439e12b8be74d2290627a)Also, here’s some simple `rejoin` implementation:

```
rejoin: func [data][collect/into [foreach value reduce data [keep value]] clear ""]
```

mark-summerfield

[08:12](#msg57343adb75a64b453292dfdc)thanks, I'll try that now

rebolek

[08:17](#msg57343c207d20ec9162573ad9)@mark-summerfield better use `copy` instead of `clear`.

mark-summerfield

[08:18](#msg57343c521254a7206adb394e)ok, i've just replaced clear with copy no other changes. trying now...

[08:20](#msg57343cdea410e6902ab2e887)thanks, seems to work fine:-)

dockimbel

[08:25](#msg57343e1275a64b453292e11b)@mark-summerfield Good suggestion. If someone here could extract the Rebol2 function names that are not defined in Red, we could set them to an appropriate error message.

[08:26](#msg57343e4d7df8adaf347d9ba0)@mark-summerfield I'm working on a more idiomatic version of your currency converter script as I find it an interesting demo script to have in our red/code repo. Currently, it's half the size of the original version. I will make a post on the ML to answer also the questions you put in the source code.

mark-summerfield

[08:29](#msg57343f00a410e6902ab2e932)Hi Nenad,  
I've already made some improvements... oh wow! half the size. OK, in that case I'll leave it for you:-D  
Suggestions: make it select initial currencies (I've posted code that does that); make it output to two decimal places (that's what I wanted the rejoin for).  
Can't wait to see your version!

dockimbel

[08:30](#msg57343f3a1254a7206adb3a56)Select initial currencies: done  
Truncate the decimals output: TBD

mark-summerfield

[08:38](#msg573441117e1f32942aa6a1e0)What does this error mean:  
\*\** Script error: word! type is not allowed here  
\*\** Where: try  
Incidentally, there is not 'try' anywhere in my code so with no line number given in the error it isn't easy to find. (I do know where the error is though 'cos I just added the code that produces it, but even so, line numbers help.)

[08:39](#msg5734414aa410e6902ab2e9e4)Sorry for the bold the original error had stars so I guess that caused it.

dockimbel

[08:49](#msg5734438c7e1f32942aa6a2b2)@mark-summerfield Probably an error coming from one of the functions in the runtime. The error reporting system is not fully finished yet and it has a lot of space for improvement. Though, even the Rebol error reporting is pretty weak, so we'll have to innovate on that part in order to have satisfying errors reporting.

[08:52](#msg5734443ca410e6902ab2ead7)To help locate that error, you can activate the call stack reporting using this setting:

```
system/state/trace?: on
```

mark-summerfield

[08:55](#msg5734450cbce0284832d9d893)Thanks, that produces this (changed stars to dots):  
... Script error: word! type is not allowed here  
... Where: try  
... Stack: launch either either set ctx261~try-do set try either = catch  
r do-events set do-event-loop ctx214~awake unless foreach set do-safe if  
y handler if if check-reactions unless while if do-safe if print = type?

Basically it arises when I call fixed-point result with 0.0

fixed-point: function \[amount] [  
set \[whole fraction] split form amount "."  
append fraction "00"  
rejoin \[whole "." copy/part fraction 2] ; From Boleslav  
]

[08:56](#msg5734453c7df8adaf347d9d89)As you can guess, this is to get 2 decimal places for the currency app.

dockimbel

[08:59](#msg5734460fbce0284832d9d8e2)@mark-summerfield Try with the Rebol2 version of `rejoin`:

```
rejoin: func [
    "Reduces and joins a block of values."
    block [block!] "Values to reduce and join"
][
    if empty? block: reduce block [return block]
    append either series? first block [copy first block] [
        form first block
    ] next block
]
```

mark-summerfield

[09:01](#msg573446821254a7206adb3c9e)That works!

[09:02](#msg573446c0a410e6902ab2eb94)Thanks:-)

dockimbel

[09:05](#msg5734474b3a05b11b6a4c3904)@mark-summerfield If you have time, could you please try to isolate the minimum code to reproduce the error using the other `rejoin` implementation and open a ticket on our \[tracker](https://github.com/red/red/issues)?

[09:06](#msg5734478c7df8adaf347d9e3d)@rebolek Have you noticed any issues before with your `rejoin` implementation?

rebolek

[09:10](#msg573448727d20ec9162573b3e)@dockimbel I used different implementation, I came up with this one today, so it’s not tested.

dockimbel

[09:13](#msg5734492ebce0284832d9d9e8)@rebolek I made a fix on `collect` today, so it could be a regression (unlikely but possible).

mark-summerfield

[09:24](#msg57344bd21254a7206adb3e60)@dockimbel I got it down to 42 lines, issue: possible rejoin problem #1896

dockimbel

[09:25](#msg57344bef3a05b11b6a4c3a6d)@mark-summerfield Thank you very much!

[09:30](#msg57344d29bad5a8b534f2833e)@mark-summerfield I just remembered that we can use `round/to` to do the decimal truncation, just provide `0.01` as second argument. ;-)

mark-summerfield

[09:39](#msg57344f4dbce0284832d9dc25)That works perfectly. But if \*you* can't always remember, what hope for the rest of us? I've tried using what but the output is a bit overwhelming; wish it was grouped series functions, numeric functions, or similar.

[09:40](#msg57344f74bce0284832d9dc30)Did you need a ticket for the drop-list bug or did Peter Wood already do that?

dockimbel

[09:42](#msg57344ff83a05b11b6a4c3bf6)@mark-summerfield Well, `round/to` is a late addition to Rebol, so I don't remember using it more than once before. ;-) Anyway, we do lack documentations a lot...

[09:43](#msg57345058bce0284832d9dc79)@mark-summerfield Which bug are you referring to?

mark-summerfield

[09:44](#msg5734508475a64b453292e73d)@dockimbel yes, it is frustrating to use the Rebol 2 docs esp. since they seem to me to work best for reference rather than learning.

[09:45](#msg573450c5bce0284832d9dc96)Personally, I'd try to have everything "documented" in the sense of every type, function, etc., at least has its name in the doc tool chain so is visible as soon as it goes into the code base even if it just shows a default text of "not yet documented".

dockimbel

[09:46](#msg573450f1bad5a8b534f28471)Indeed. I've started writing some pieces of a purely reference \[documentation](https://www.gitbook.com/read/book/dockimbel/red), hoping someone will write a learning doc from it.

mark-summerfield

[09:46](#msg5734510b1254a7206adb4004)Yes, I used that.

[09:47](#msg5734514375a64b453292e772)I used that for currency.red and I'll be reading more for my next app.

[09:49](#msg573451913a05b11b6a4c3c71)You seem to have written it in a very pure reference style. Personally I prefer a less pure approach with little examples too small to bother experts but v. helpful to beginners. And this is esp. poss. in Red given how succinct it is. Anyway, that's my 2c;-)

dockimbel

[09:49](#msg573451a67e1f32942aa6a736)@mark-summerfield We have written some tools to extract the docstrings from existing functions, they should be almost ready for deployment, we will put them online asap.

mark-summerfield

[09:50](#msg573451e57e1f32942aa6a745)Excellent -- I look forward to that.

dockimbel

[09:52](#msg57345240a410e6902ab2ef5e)@mark-summerfield Your advices wrt documentation management are mostly welcome. :sparkles:

mark-summerfield

[10:08](#msg57345610a410e6902ab2f0a6)@dockimbel the big picture is obvious: search for experienced people; browse for beginners. I think the Qt 4 docs work well and also Python 3's docs, meeting both needs (except I'd have more tiny examples in the Python 3 docs).

I think Red has two hurdles to get over regarding docs.

First \*concepts\*. Red works differently from any other language I know (apart from Rebol), so those differences need to be explained. Most programmers nowadays know Python or Java (most US colleges teach Python now), so a "Red for Python Programmers" and a "Red for Java Programmers" would be really helpful. These would show where concepts overlap; where they differ; and give examples of common operations comparing and contrasting.

Second \*language/library\*. ISTM that the Red language is pretty large and many of its words don't correspond to other languages/libraries. The "Red for..." documents can help, but once people are into Red itself I think you need to provide: a simple alphabetical list of every word and library (like what's output, but also libraries); grouped lists, e.g., string handling (which would also include appropriate series functions).

Anyway, I guess you'll have your own doc toolchain in Red. Extracting docstrings is good, but you also need to integrate overviews etc.

dockimbel

[10:17](#msg573458377e1f32942aa6a91e)That makes sense and it's in line with what I have in mind. The \*concepts* indeed need special care and separate documentation. Though, they might be best taught using an interactive Red learning app.

mark-summerfield

[10:19](#msg573458c5bad5a8b534f286f5)@dockimbel There is no one right way to teach, so while an interactive learning app would be good, you also need lots of commented examples for people who learn best by copy/paste/change, and tutorial docs for people who learn best by reading. As a programmer, naturally a learning app appeals to you but some people really do learn best from paper!

dockimbel

[10:27](#msg57345a9f75a64b453292ea6e)Agreed. I personally like to read the full documentation and get the complete picture before starting to use a new language or framework.

mark-summerfield

[10:29](#msg57345af475a64b453292ea80)@dockimbel me too. And I also like to see little examples, not just pure syntax since I find that helps me relate better to the language.

dockimbel

[10:29](#msg57345b0e7e1f32942aa6a9e7)@mark-summerfield Here is my \[version](https://gist.github.com/dockimbel/468f669234d6887911e7664d1cfcc2c7) of your currencies converter script, and a \[variant](https://gist.github.com/dockimbel/db2f07c392dc84020e993481d5feffcf) which encapsulate all words in a context (aka object), while inlining the data processing part in the VID code directly.

[10:30](#msg57345b43bad5a8b534f2878d)I have a lot of comments to make about the changes I did compared to the original version. I will post them on the ML (after a good coffee break). ;-)

[10:32](#msg57345bc8bad5a8b534f287b1)@mark-summerfield With your persmission, I would like to put that script in our red/code repo, as it could be a good example of how to leverage the power of DSLs (Parse and VID) in a single page of code.

mark-summerfield

[10:38](#msg57345d32a410e6902ab2f2b6)@dockimbel the code is yours &amp; you're welcome to change the license to whatever you use normally. I'll look at it shortly...

dockimbel

[10:39](#msg57345d62bad5a8b534f2882d)Note that those scripts require the latest Red builds as I had to extend the reactive analyzer for the processing the paths with nested paren expressions.

[10:40](#msg57345d991254a7206adb4394)Thanks!

mark-summerfield

[11:08](#msg573464227e1f32942aa6acca)@dockimbel I've looked at it now. Things I hope you'll explain in the ML: why func [/local... rather than function; what the extract &amp; store last quote line is doing; why you prefer a list to a map. Anyway, pretty amazing to make it half the size and still mostly readable by a beginner.

xqlab

[11:18](#msg5734669e7e1f32942aa6ad96)You should at least do some error or value checking or it will break when editing the value field e.g.  
&gt; if any \[empty? value/text not attempt \[load value/text]] \[append value/text "0"]  
before computing the result

dockimbel

[11:22](#msg57346773bce0284832d9e3be)@xqlab Sure, there are many possible improvements, I just stuck with the original script features. For your error-checking expression, you could write it in shorter form: `any [attempt [load value/text] "0"]`.

xqlab

[11:24](#msg573467f53a05b11b6a4c4309)That's not enough. load "1." produces an error, loading an empty? produces a block, that can not be part of a multipication

dockimbel

[11:32](#msg573469b77e1f32942aa6aeb0)@xqlab Right, should have been `any [attempt [load value/text] 0]`. For the "1." form, it is currently forbidden by the Red lexer, there's a wish \[ticket](https://github.com/red/red/issues/1642) about it, though I haven't formed a final decision yet.

xqlab

[11:40](#msg57346ba77e1f32942aa6af42)loading an empty? should read "loading an empty string"

mark-summerfield

[11:49](#msg57346ddfa410e6902ab2f804)Tiny typo? https://dockimbel.gitbooks.io/red/content/gui/Draw.html  
y axis: increasing from \*up* to bottom of the display  
change \*up* to \*top\*?

dockimbel

[11:51](#msg57346e45bad5a8b534f28d57)@mark-summerfield Indeed. You can send a fix as a pull request against the \[red/doc](https://github.com/red/docs) repo or report it as an new issue on the tracker of that same repo.

mark-summerfield

[11:53](#msg57346ed27df8adaf347daa67)Also, for anti-alias you don't say whether the default is on or off?

I have no idea how to do a pull request. The only VCS I use is mercurial. I know I should learn how to use github but I've never had the time...

dockimbel

[12:02](#msg573470d33a05b11b6a4c45a4)Actually, it should be pretty easy as Github offers ways to do the changes online, without having to install a git client. Basically, the process is:  
1\. Fork the red/docs repo  
2\. Edit the files online from Github (there's an Edit button when you open files)  
3\. Once ready, you can click the "New Pull Request" from your repo.  
4\. We get the PR and can merge it with the root red/docs repo.

[12:03](#msg573470f43a05b11b6a4c45af)(Just in case you want to give it a try, otherwise someone else will do it).

mark-summerfield

[12:08](#msg5734722575a64b453292f1e2)@dockimbel ok, I think I've done it?

BTW Any way to turn stop the github cursor from blinking?

dockimbel

[12:15](#msg573473e17df8adaf347dabdc)@mark-summerfield PR merged, thank you! :+1:

[12:18](#msg5734749f7e1f32942aa6b20b)@mark-summerfield About the `anti-alias` defaut value, it's indicated in the \[Default Values](https://dockimbel.gitbooks.io/red/content/gui/Draw.html#default-values) section.

mark-summerfield

[12:19](#msg573474c475a64b453292f2c0)@dockimbel oops, missed that; thanks

[12:30](#msg5734775a7e1f32942aa6b2f3)Bye for now; hope to be back next week when I try to use Draw.

dockimbel

[12:31](#msg573477aa75a64b453292f3bc)@mark-summerfield See you next week then. Thank you for your interest in Red.

pekr

[13:04](#msg57347f64a410e6902ab2fdc1)Looking at the Trello board, nice to see it updated. As for 0.6.3, which states OS-X support. Does it bring Linux support too? I thought that experimental OS-X branch contains also a Linux variant? But maybe I did understand it incorrectly ....

[13:07](#msg57348028bad5a8b534f2932a)A small duplication - both 0.6.1 and 0.6.2 contain REMOVE-EACH native support ...

[13:20](#msg5734830c3a05b11b6a4c4bcd)Note - Gitter somehow messed the keyboard shortucts, I can't type back-ticks on the Czech keyboard anymore - it opens the Search section instead. I visited their HQ channel and some other users (e.g. from Sweden) are reporting similar problems ...

djrondon

[13:27](#msg573484d37df8adaf347db189)Folks, Will 'read async be implemented in Red.

pekr

[13:31](#msg573485953a05b11b6a4c4ca0)Most probably it will, just with the proper IO, which is scheduled for 0.7.0. You can look at the Trello board for the planned features.

dockimbel

[14:01](#msg57348cb3daa81d3b5fe595a9)@pekr My keyboard shortcuts gets atrocely messed up too today, was very painful (still is) to post on Gitter. Can you point me to their issue tracker if you have the link? I want to report it too.

[14:02](#msg57348d00cddf42d55edf0784)@djrondon Async IO will be implemented, though the final API is not yet decided.

djrondon

[14:07](#msg57348e2217fd777827db0de9)Ok.. thanks. I'm waiting anxiously for Async, Date/Time and Complete full implementation of http/https handling everything. Cool!!! ;)

dockimbel

[14:07](#msg57348e3dcddf42d55edf079e)@pekr Just got an update of Gitter here, keyboard issues are fixed for me.

pekr

[14:08](#msg57348e54925e1a0066661417)Yes, it got confirmed half an hour ago ...

[14:09](#msg57348e9fe44f74fa65bd55f8)I used the Search facility here, typed Gitter, and they have Gitter/HQ channel, where it was already reported. They devs seem to be there. Not sure about the issue tracker ...

endo64

[14:41](#msg573496241794136a7d08000e)Problem still exists here, I cannot type `[` or `]` characters, when I try I go to Red-data/Ren room :worried:

nodrygo

[16:47](#msg5734b394831fd2d97d9dda6d)@dockimbel playing with currency converter but is it problem with my virtualbox windowsXP or a bug?  
the `drop-list` (lack of scroll?) don't show all the 63 lines in the list  
do not see EUR converter :-)

dockimbel

[16:58](#msg5734b61bfeb8cb327ee1d47f)@nodrygo Use up/down arrow keys. Scrollbar is missing for now.

nodrygo

[16:58](#msg5734b62ee2996a5a42c7ca8c)@dockimbel ah ok thanks

RnBrgn

[21:58](#msg5734fc95e2996a5a42c7e3a6)compilation errors. Anyone else getting this error while trying to execute latest windows builds?  
Compiling Red GUI console...  
\*\** Compilation Error: argument type mismatch on calling: exec/gui/get-text-size  
\*\** expected: [struct! [  
header \[integer!]  
padding \[integer!]  
x \[integer!]  
y \[integer!]  
]], found: \[integer!]  
\*\** in file: %/C/ProgramData/Red/red-console.red  
\*\** in function: exec/ctx224~size-text  
\*\** at line: 1747  
\*\** near: \[pair]

## Friday 13th May, 2016

x8x

[00:40](#msg5735229664dbdadc7deb9882)`trim` description in rebol: "Removes whitespace from a string. Default removes from head and tail."

```
trim "^/abc^/"
;   "abc^/"
```

Althought in red the description is different, `trim` behaves the same.  
Is a newline considered a whitespace?  
Then it should remove newline from head AND from tail.  
Isn't removing the newline only from head misleading?

qtxie

[03:29](#msg57354a33eea93e5742d17578)

dockimbel

[04:21](#msg57355653feb8cb327ee1d974)@RnBrgn Just tested right now, downloading the last version, compiles and runs fine here.

mydoghasworms

[06:41](#msg5735771ec61823687d3b73dc)Why is the condition for `while` required to be in a block, but for `if` it's just a single expression? It seems to lack -- what is the word -- congruence. You expect them to be used in the same way.

[06:41](#msg573577331794136a7d083d57)I see it's the same way in Rebol, so is there some logical reason behind it?

Arie-vw

[07:05](#msg57357cb1e2996a5a42c7f915)@endo64 Thx!

[07:05](#msg57357cbeeea93e5742d17d81)@dockimbel Done.

[07:06](#msg57357d050cb634927f7e755e)@qtxie Get a crash on some this sort:

```
Red []

xwords: [
    ">>"                none    ["bit"]                 ["x" "g" "q" "a" "w" "c"]
    ">>>"               none    ["bit"]                 []
    "not"               none    ["bit"]                 []
    "or"                none    ["bit"]                 []
    "or~"               none    ["bit"]                 []
    "xor"               none    ["bit"]                 []
    "if"                none    ["bra"]                 []
    "<<"                none    ["bit"]                 []
    "and"               none    ["bit"]                 []
    "and~"              none    ["bit"]                 []
    "complement"        none    ["bit"]                 ["x" "g" "q" "a" "w" "c"]    
    "case"              none    ["bra"]                 ["x" "g" "q" "a" "w" "c"]
]

; Crashes Red ...
sort xwords
```

[07:10](#msg57357dd6eea93e5742d17dbc)@mark-summerfield Could not find the typo "patt" on the site. Other corrections done. Thx for telling!

Oldes

[07:46](#msg5735863cae26c1967f9e11c9)@qtxie @Arie-vw confirmed, this is more simplified test:

```
xwords: [
    ">>" none none none
    ">>" none none none
]
sort xwords ;still works

append xwords [ ">>" none none none]

sort xwords ;crashes
```

qtxie

[07:52](#msg573587ac2867f61b7b26ab7d)Thanks. I'm fixing it...

Arie-vw

[07:52](#msg573587bfae26c1967f9e1236)@qtxie Thx!

Oldes

[07:53](#msg573587f4ae26c1967f9e1240)@qtxie or this:

```
sort [none none none none none none none]          ; still works
sort [none none none none none none none none]     ; crashes!
```

iArnold

[08:00](#msg573589ad1794136a7d0841ef)&lt;/lurk&gt; @mydoghasworms Read why on http://www.rebol.com/docs/words/wwhile.html "The first block will be executed each time, and if it returns true the second block will be executed. Both blocks can include any number of expressions. " So the block can do more than just evaluating an expression. &lt;lurk&gt;

mydoghasworms

[10:05](#msg5735a6e764dbdadc7debb2e4)@iArnold I have been thinking about this a bit and it occurred to me that the expression after `if` is evaluated only once, but for the `while` it needs to be evaluated repeatedly. While you can simply retain the reference to the block for repeated evaluation, there is no reference necessary for the `if` condition, as it is evaluated only once, so it only needs a `logic!`.

[10:06](#msg5735a7250cb634927f7e811f)So while it makes perfect sense, it's a bit quirky in that a newbie (me for example), thinks that if he knows how to use `if`, he would know how to use `while`. It kind of violates the principle of least surprise, but when you dig deeper, it all makes sense, I guess.

dockimbel

[10:08](#msg5735a7b20cb634927f7e8153)@mydoghasworms Good analysis. I think our `while` docstrings might be misleading, we need to change it to something better.

[10:11](#msg5735a8611794136a7d084b02)@mark-summerfield I forgot to push the `react` fix for correctly running my %currencies.red script, now it's done, you can get the latest build to try again if you experienced issues with it.

mydoghasworms

[10:11](#msg5735a866c61823687d3b819d)@dockimbel `? while` does in fact tell you that you need a `block!` for the condition. It's just a bit confusing, at first, as to why the conditions for `if` and `while` differ.

[10:16](#msg5735a997831fd2d97d9e18ae)When you pass a series (like a block) into a function, and you modify it, it changes it, understandably, because the reference is bound to the function argument. However, this does not happen when passing a `tuple!`. Why is that? Aren't you just passing a reference as well? Or is the tuple copied instead?

```
red>> mod1: func[v] [v/1: 80]
== func [v][v/1: 80]
red>> b1: [20 30 40]
== [20 30 40]
red>> mod1 b1
== 80
red>> b1
== [80 30 40]
red>> t1: 20.30.40
== 20.30.40
red>> mod1 t1
== 80
red>> t1
== 20.30.40
red>>
```

[10:21](#msg5735aa9c64dbdadc7debb435)OK, so binding a tuple copies it? That is interesting.

```
red>> t2: t1
== 20.30.40
red>> t2/1: 80
== 80
red>> t2
== 80.30.40
red>> t1
== 20.30.40
```

dockimbel

[10:26](#msg5735abe3e2996a5a42c8066e)Tuples are scalar values, so they are passed \*by value\*, while series (and objects) are passed \*by reference* (this is not a totally accurate, but good enough approximation).

[10:27](#msg5735ac0bae26c1967f9e1d4a)Binding only applies to words, it has no effect on other values.

[10:35](#msg5735ade9eea93e5742d18b1a)A more accurate description would be: everything is passed \*by value\*, even series and objects, the differences lies in values able to fully fit into a stack/memory slot (scalar! types) vs values which need an external buffer in addition to the slot (series!, object!, ...) . For the latter category, when pushed on stack, their value slot is copied, but the external buffers are not.

[10:37](#msg5735ae51831fd2d97d9e1a07)Useful reading to have a better grasp at the Red types hierarchy: https://github.com/red/red/blob/master/environment/scalars.red#L35

mydoghasworms

[10:38](#msg5735ae88831fd2d97d9e1a1c)@dockimbel Thanks

[10:42](#msg5735af9bc61823687d3b83cb)The following code updates a little image with random-coloured pixels. It keeps refreshing the image, but after a while Red freezes up and becomes unresponsive. (This is on Windows). Any ideas why?

```
i: make image! 50x50
view/no-wait [image i]
forever [
  while [not tail? i] [
    i/1: as-rgba random 255 random 255 random 255 0
    i: next i
  ]
  i: head i
]
```

dockimbel

[10:45](#msg5735b064eea93e5742d18bc2)@mydoghasworms Your code is not processing any events, so your app becomes unresponsive. Add a call to `do-events/no-wait` in the loop to allow events to be processed.

[10:49](#msg5735b155eea93e5742d18c03)@mydoghasworms Also, your version is running in the default auto-refreshing View mode, which means that your image is refreshed on screen for every pixel modification. For such app, you want to control manually the refreshing, resulting in magnitude faster performances:

```
lisp
system/view/auto-sync?: no

i: make image! 50x50
view/no-wait [img: image i]
forever [
  while [not tail? i] [
    i/1: as-rgba random 255 random 255 random 255 0
    i: next i
  ]
  i: head i
  show img
  do-events/no-wait
]
```

mydoghasworms

[10:56](#msg5735b2ec64dbdadc7debb682)@dockimbel That's awesome (and it goes so fast!). I need to go read up to understand the GUI parts better. Can you set auto-refreshing selectively on faces or is it s system-wide setting only?

dockimbel

[10:57](#msg5735b30464dbdadc7debb68c)System-wide for now, though it would not be difficult to change it to support it selectively.

mydoghasworms

[11:03](#msg5735b4751794136a7d084e91)Man, I haven't had this much fun programming since picking up Ruby. Thanks @dockimbel !

dockimbel

[11:07](#msg5735b5751794136a7d084ec6)Haha, glad to hear it, that's the reason why we work hard on Red. ;-) BTW, if you want to tweet it, I'll be glad to share it. ;-)

iArnold

[11:15](#msg5735b769eea93e5742d18d6e)&lt;/unlurking again :-( &gt; I tried this from the red gui console. If I close the window it hangs the console. &lt;back to lurking mode again really!&gt;

dockimbel

[11:21](#msg5735b89dae26c1967f9e205f)@mydoghasworms Thank you very much! ;-)

mydoghasworms

[11:22](#msg5735b8daae26c1967f9e2076)@dockimbel With pleasure!

[11:40](#msg5735bd3464dbdadc7debb91e)@iArnold I was curious about the &lt;lurk&gt; &lt;unlurk&gt;. How is that to be interpreted?

pekr

[11:45](#msg5735be50831fd2d97d9e1e20)I think that iArnold just announced some time ago, that he is taking some time off, just lurking and observing a development. So he just unlurked himself and provided his reaction :-)

mydoghasworms

[11:46](#msg5735be9de2996a5a42c80b46)I know everybody is thinking this, so I am just going to say it: I wonder what is the Markdown equivalent of &lt;lurk&gt; and &lt;unlurk&gt;.

RnBrgn

[11:48](#msg5735bf09e2996a5a42c80b58)@dockimbel I've been getting that compilation error on two different machines ( Win 7 and Win 10 ) . The last version that seemed to work for me was downloaded on 5/3. I started getting these errors starting around 5/9. Must be doing something wrong. thanks for checking.

dockimbel

[13:19](#msg5735d4482867f61b7b26ad2b)@RnBrgn Try to clear all the cached files from `C:\ProgramData\Red\`, download the latest build and launch it by double-clicking on it.

greggirwin

[16:19](#msg5735fe8d0cb634927f7ea0c6)I only get a white image box, with no updates, when pasting Martin's/Doc's sample code above.

[16:20](#msg5735feb6e2996a5a42c8235c)Martin, you've been infected now, and there is no going back to other languages without pain. ;^)

[16:26](#msg57360030c61823687d3ba154)Martin, when in doubt, you can use `series?` to check a values mutability. And then you can writ the reverse: `scalar?: func [v] [not series? :v]`.

dockimbel

[16:30](#msg573601212867f61b7b26af94)@greggirwin Type an extra ENTER after pasting ;-)

greggirwin

[16:33](#msg573601c2eea93e5742d1a810)Ah, had two of them and the GUI that was updating had hidden. Thanks! Yeah, this is fun stuff.

[16:33](#msg573601dd64dbdadc7debd3f2)Also, I commented on #1896. Let me know if more digging will help.

[16:35](#msg57360239831fd2d97d9e3760)And, while I've been swamped, `format` design is still in the works.

dockimbel

[17:03](#msg573608ed8b845b284193f060)@greggirwin Great! It will be a very useful addition.

[17:05](#msg573609450f07acdc7a042345)@greggirwin I was too busy with other fixes today, will process #1896 tomorrow.

asampal

[23:17](#msg5736606c0f07acdc7a04269c)@dockimbel with your version of @mydoghasworms 's code I still see things slowing down after a few seconds - CPU use also goes up

[23:17](#msg573660768b845b284193f3a6)this is on Windows 10

[23:17](#msg57366096feb8cb327ee1e238)have you let the code run for 20-30s ?

[23:18](#msg573660ab0f07acdc7a0426a4)It's fine at first - runs really fast.

## Saturday 14th May, 2016

dockimbel

[01:22](#msg57367dedfeb8cb327ee1e2f3)@asampal I just ran it for 60s, no noticeable change in speed (Windows7). Can someone else make a similar test on a Windows 10 box?

yoffset

[03:01](#msg573695101794136a7d088e10)Running 5 minutes on Windows 10 - works fine.

[03:12](#msg57369785ae26c1967f9e5f75)@dockimbel Belay that - Running @mydoghasworms code produces a fine graphic. Closing the graphic leaves the console still running and heating up my CPU. Windows 10 - running May 4 build.

dockimbel

[03:13](#msg573697c5feb8cb327ee1e342)@yoffset It works as expected, as it is an infinite loop with no exit condition (see the `forever` in the code).

qtxie

[05:32](#msg5736b8741794136a7d089143)

```
system/view/auto-sync?: no

i: make image! 200x200
win: view/no-wait [img: image i]
buf: i/rgb
while [win/state][				;-- exit when close window
  while [not tail? buf] [
    buf: change buf as-color random 255 random 255 random 255
  ]
  buf: head buf
  i/rgb: buf
  show img
  do-events/no-wait
]
```

[05:33](#msg5736b895c61823687d3bc897)This version will run a bit faster.

pekr

[05:41](#msg5736ba99ae26c1967f9e627b)I can see just a white box

[05:44](#msg5736bb54ae26c1967f9e628a)"For such app, you want to control manually the refreshing, resulting in magnitude faster performances" - instead of a global switch `system/view/auto-sync?: no`, couldn't it be made a face property? Similar as in R2, we had `all-over`or something like that ...

[05:45](#msg5736bb7f831fd2d97d9e5d9f)Ah, sorry, has not read subsequent discussion. The QA was already provided ....

qtxie

[07:18](#msg5736d148ae26c1967f9e652e)@pekr You need the latest version. ;-)

pekr

[07:22](#msg5736d2331794136a7d089481)I think I had the latest version from the time of posting pint of view. Will resync

[07:24](#msg5736d2c8e2996a5a42c84cde)Are we talking a master branch? Still the same - white box ...

dockimbel

[07:26](#msg5736d33964dbdadc7debfd81)@pekr Press ENTER key after pasting code in the console...

pekr

[07:31](#msg5736d43d1794136a7d0894be)uh, what an amateur gotcha, thanks :-)

asampal

[08:49](#msg5736e6b40f07acdc7a0428c1)@dockimbel the slowdown for me is not consistent. Typically, on my laptop, this program uses about 15% of the CPU (average value, this is a quad core i7 with hyperthreading, so effectively 8 cores). As the program runs, I've seen the temperature rise from about 70 deg Celsius to 93 deg. I'm guessing that when it gets just a bit higher than that, there is thermal throttling and the program starts stuttering badly and finally stops refreshing. The whole laptop becomes quite unresponsive until I kill the process.

[08:51](#msg5736e7220f07acdc7a0428c5)Sometimes the program can run without the eventual stop happening, maybe because other concurrently running processes aren't also consuming too much CPU.

dockimbel

[08:52](#msg5736e735c61823687d3bcdda)@asampal Probably related to your power saving settings, I always set my laptops to "High Performances" to avoid such issues.

asampal

[08:52](#msg5736e7468b845b284193f5ed)I have mine set to high performance, as well.

dockimbel

[08:52](#msg5736e75dc61823687d3bcde1)Then the overheating looks like a possible explanation.

asampal

[08:53](#msg5736e776feb8cb327ee1e44e)I very seldom see the temperature rise like this with other heavy apps.

[08:53](#msg5736e78e8b845b284193f5f4)For anyone trying to replicate this, make sure you're using the latest source, as I am.

pekr

[09:00](#msg5736e93bae26c1967f9e67d7)Here it uses 28-29% of CPU and is constant, not much fluctuating ... Other usage - 1.8 MB of memory

dahu

[09:01](#msg5736e984ae26c1967f9e67e3)What's the idiomatic way of joining a block of strings with a fixed string, so that the fixed string appears between each element of the block of strings, but not at the head or tail positions?

[09:14](#msg5736ec75e2996a5a42c84fc1)I have:

```
repeat x (length? names) - 1 [ insert/only at names (x * 2) "and" ]
```

But that feels awkward

[09:17](#msg5736ed15ae26c1967f9e683b)(using Rebol2) I tried the much simpler:

```
forall names [append/only names/1 "and"]
```

But that appends "and" to each string, despite the explicit use of `/only`. Clearly there's much I'm missing.

greggirwin

[15:18](#msg573741afae26c1967f9e753c)Barry, there was a lot of old R2 discussion about adding a `/with` refinement to `rejoin`. Here's a simple version of that idea:

```
rejoin: function [data [block!] /with dlm][
    if empty? data [return copy ""]
    collect/into [
        keep first data
        foreach value next data [
            if with [keep dlm]
            keep value
        ]
    ] copy ""
]
```

[15:28](#msg5737442beea93e5742d1e15d)Another possibility is to add a `/skip` refinement to `insert`, though that may require more thought.

I have an old `delimit` func, which I ported to Red and posted to https://gist.github.com/greggirwin/323ae43a738134fc4300fcc709a83d0b, including supporting mezzanine funcs that aren't in Red yet. It's a bit more involved, which came out of the need to do things like adding newlines to split data at fixed line lengths, formatting GUIDs, hex dumps, as well as the simple use cases.

dockimbel

[16:13](#msg57374ea82867f61b7b26b791)@dahu I can't see anything better than your first proposition, just this:

```
forall names [names: back insert/only next names "and"]
take/last names
```

If you know some features in other languages which can do that elegantly, let me know.

Arie-vw

[17:48](#msg573764d4ae26c1967f9e7bd0)Was bitten by forgetting to use copy. Carl wrote "Be sure to use COPY on any string or block literal values in your code if you expect to modify them." Good advice indeed :-)

ratfactor

[18:02](#msg57376825c61823687d3be282)Hello, I'm new to Red and am experimenting with some file path manipulations. I am okay with `to` not wanting a block!, but shouldn't the following error message be complaining about `spec` argument, not the `type` argument?

```
red>> to file! ["foo" ".txt"]
*** Script error: to does not allow block! for its type argument
```

fergus4

[19:07](#msg573777780cb634927f7ee584)@ratfactor to file! rejoin \["foo" ".txt"]

[19:10](#msg5737780de2996a5a42c866d7)You need to experimnet with all the rejoin, reform, form, join etc to see how they work. to file! expects string

[19:11](#msg5737785c831fd2d97d9e7a8c)another way: to file! join "foo" \[".txt"]

[19:12](#msg573778a1c61823687d3be5a2)rejoin is used when a word needs to be evalutated: &gt;&gt; t: ".txt"  
\== ".txt"  
&gt;&gt; to file! rejoin \["foo" t]  
\== %foo.txt

ratfactor

[19:26](#msg57377be00cb634927f7ee65d)@fergus4 Thank you. I did figure the string concatenation part out shortly after. It's the error message itself that I'm perplexed about.

rebolek

[19:35](#msg57377e0f2867f61b7b26b883)@ratfactor The reason for this error is that `to` conversions are mostly not done yet.

greggirwin

[20:15](#msg5737874bc61823687d3be883)Also, when possible, use file! values directly. e.g. `append %file %.txt`

[20:26](#msg57378a09ae26c1967f9e82a7)Or, since `rejoin` came up recently, we could extend the current prototypes of that to coerce the result to the type of the first value in the block, like R2 does:

```
rejoin: function [data [block!] /with dlm][
    if empty? data [return copy ""]
    res: to type? first data copy ""
    collect/into [
        keep first data
        foreach value next data [
            if with [keep dlm]
            keep value
        ]
    ] res
]
```

red&gt;&gt; rejoin \[%file ".txt"]  
\== %file.txt

[20:28](#msg57378a7f0cb634927f7ee94a)@fergus4 Red doesn't have `join` yet, just FYI.

## Sunday 15th May, 2016

ratfactor

[00:19](#msg5737c0760cb634927f7ef272)@rebolek @greggirwin

[00:19](#msg5737c088eea93e5742d1f79e)Thanks!

dockimbel

[02:02](#msg5737d8c42867f61b7b26ba68)@ratfactor The error message for `to` are buggy as `to` is only partially implemented. This will be resolved once the work on `to` is completed.

[02:07](#msg5737d9f5feb8cb327ee1e940)About the `rejoin`, `join` and all other similar string concatenation/forming functions, if they are not yet part of the Red standard lib, it's because we need to see if we can clean them up and reduce their number, while maybe improving their features. It's also related to the design decisions on `make/to string!` semantics, we'll need to work on all that in parallel. For example, I never ever had the need for `remold`, but maybe others do? If we would drop it, then maybe we could also drop `reform` and make `form` reduce its argument (giving it some added value compared to `to string!`). Another related topic is also strings interpolation and formatting. In order to make good design decisions in Red, we need to put all those features on a map and get the big picture right, before getting into implementation details.

ratfactor

[03:39](#msg5737ef611794136a7d08c067)@dockimbel thanks. Great to see the design of the language being planned with care and I'm very impressed with the helpful community response here!

dahu

[04:21](#msg5737f94664dbdadc7dec2a32)Thanks, @greggirwin for the rejoin code.  
@dockimbel Several languages I've worked with have a way to join the elements of a list together with a given delimiter.  
I am very new to rebol and red. This is my first ever time to code in these languages, so I am sure I am making idiomatic mistakes:

[04:22](#msg5737f96be2996a5a42c8795e)Rebol

```
rebol [Title: "Generate Anki cards for students"]
cd ( system/script/parent/path )
pics: remove-each file read %. [ %.jpg != suffix? file ]
entries: copy []
foreach file pics [
    parse file [ copy class integer! "_" copy names to ".jpg" any skip]
    names: parse names "_"
    repeat x (length? names) - 1 [ insert/only at names (x * 2) "and" ]
    append entries rejoin [
        form names " " class tab class tab rejoin [ {<img src="} file {" />} ]
    ]
]
foreach e entries [ write/append %sdju_201516.txt rejoin [ e newline ]]
```

Red

```
Red [Title: "Generate Anki cards for students"]
join: function [data [block!] /with dlm][
    if empty? data [return copy ""]
    collect/into [
        keep first data
        foreach value next data [
            if with [keep dlm]
            keep value
        ]
    ] copy ""
]
pics: copy []
foreach f read %. [ if %.jpg = suffix? f [ append pics f ]]
integer: charset "0123456789"
entries: copy []
foreach file pics [
    parse file [ copy class some integer "_" copy names to ".jpg" any skip]
    names: join/with split names "_" " and "
    append entries compose [
        ( names ) " " ( class ) tab ( class ) tab {<img src="} ( file ) {" />} ( newline )
    ]
]
write/append %sdju_201516.txt join entries
```

[06:30](#msg5738177d64dbdadc7dec2cf9)Interestingly, the `newline` needed to be wrapped in parentheses inside the `compose` but the `tab`s didn't.

pekr

[06:35](#msg573818cdeea93e5742d20077)Late to the discussion, but with all those iterators, we forgot about the R2 `forskip`

[06:37](#msg573819460cb634927f7efb72)`insert/skip`sounds a bit weirdly imo ....

dahu

[06:40](#msg573819d6831fd2d97d9e9041)@greggirwin , the `rejoin` code you provided earlier... is that missing the `re` part? How would that best be added in?

ghost~5680c5f416b6c7089cc058a5

[06:49](#msg57381bf664dbdadc7dec2d51)@dockimbel @qtxie Currently in Red -

```
red>> %\d\
== %\d\
```

whereas in rebol -

```
>> %\d\
== %/d/
```

In Rebol -  
&gt; The standard character for separating directories is the forward slash (/), not the backslash (\\). If backslashes are found they are converted to forward slashes.

Either Red should behave like Rebol or it should raise an error, but it just accepts wrong path separator.

greggirwin

[07:46](#msg5738294264dbdadc7dec2e8e)@dahu , indeed, writing on the fly leads to mistakes. :^)

```
rejoin: function [data [block!] /with dlm][
    if empty? data [return copy ""]
    data: reduce data
    res: to type? first data copy ""
    collect/into [
        keep first data
        foreach value next data [
            if with [keep dlm]
            keep value
        ]
    ] res
]
```

And, per Nenad's comment, mezzanine solutions posted here, \*especially* if they are standard names from R2 that we expect will make it into Red, should not be considered final in any way. Many decisions to make. e.g. the `incr` func I put in a gist uses a lit-word! arg, which has pros and cons.

dahu

[09:08](#msg57383c971794136a7d08c8bc)Thanks, @greggirwin. I notice that with `res: to type? first data copy ""`, I get an error when trying to do `write/append %sdju_201516.txt rejoin entries` -- `Script error: write does not allow file! for its data argument`. Doing `write/append %sdju_201516.txt rejoin ["" entries]` works but feels wrong.

[09:10](#msg57383cff1794136a7d08c8c4)I'd also like some feedback on `parse file [ copy class some integer "_" copy names to ".jpg" any skip]`

[09:11](#msg57383d4b1794136a7d08c8d2)the string for that parse looks like: `1511_Mary_Celia_Jane.jpg`

Arie-vw

[09:48](#msg573845d60cb634927f7f003a)Minor issue with console in Windows. Normally in Win you can close a window pressing the close icon of the preview when you hover the mouse above the Red icon in the taskbar. With the console you can't.

dahu

[09:55](#msg57384790eea93e5742d20587)Playing with Red's parse:

```
class: compose [some (charset "0123456789")]
name: compose [some (charset [#"a" - #"z" #"A" - #"Z"])]
file: "1511_Mary_Celia_Jane.jpg"
parse file [collect [keep class some [sep keep name] ".jpg"]]
```

pekr

[10:09](#msg57384af6ae26c1967f9e9a06)it crashes on `sep`

[10:10](#msg57384b160cb634927f7f00ec)Here's my atttempt:

```
file: "1511_Mary_Celia_Jane.jpg"

integer: charset "0123456789"
class-separator: charset "_"
name-chars: charset [#"a" - #"z" #"A" - #"Z"]
file-separator: charset "." 

class:  [keep some integer]
name:   [some name-chars]
names:  [some [class-separator | keep name]] 
suffix: [file-separator keep to end]

parse file [collect some [class | names | suffix]]

red>> parse file [collect some [class | names | suffix]]

== ["1511" "Mary" "Celia" "Jane" "jpg"]
```

[10:10](#msg57384b1fae26c1967f9e9a11)More verbose. Note - I am not a parse guru :-)

[10:13](#msg57384bbd831fd2d97d9e9619)As filename has some rules (class first, suffix last), the parse expression could be simplified/narrowed to `parse file [collect [class some names suffix]]`

dahu

[10:17](#msg57384cd3ae26c1967f9e9a40)Thanks, @pekr -- gives me more to play with :-)

qtxie

[11:10](#msg573859168b845b284193fc85)@nc-x Good catch. :+1:

Arie-vw

[11:15](#msg57385a5f1794136a7d08cc94)red-by-example.org is now at version2.  
Improvements are:  
1\. column oriented display of lists of words  
2\. all Red words appear on the site now  
3\. more xref possibilities  
Still a lot needs to be done:  
1\. categorize some words better  
2\. a lot of words not yet documented  
3\. specify "related words" for a lot of words  
Mike Parr already did great work. A pile of docs is waiting for me already ;-)  
If someone could help with the last 3 points mentioned, we would be \*very* glad.  
You can contact us here.

[11:18](#msg57385b170cb634927f7f031c)@dockimbel I very much enjoyed using Red heavily last week:  
1\. already \*very* stable  
2\. the sheer simplicity of a lot of things  
3\. lol about all the bloatware out there; gigs of disk space; Red is better !!!

The only thing I tend to forget sometimes that Reds' series! are NOT immutable ;-)

djrondon

[11:49](#msg5738622eeea93e5742d208da)Hi Folks, in my ISP, Dreamhost, I'm having some problems to run. As I don't have sudo, it's a VPS, I've downloaded Red and I receive this message error:  
Library error: /libc.so.5: cannot open object file: No such file or directory  
\** Where: context  
\** Near: libc: load/library libc  
sys-call: make

$ &gt; whereis libc  
libc: /usr/lib/libc.a /usr/lib/libc.so /usr/lib64/libc.a /usr/lib64/libc.so

Is there any way to fixed, or should I have to ask them to make the symbolic links to libc.so.5.

Maybe it's happening with other ISP's too.

ghost~5680c5f416b6c7089cc058a5

[13:14](#msg5738762764dbdadc7dec37d0)@qtxie should i create a Github issue for it or is it not required?

dockimbel

[14:01](#msg57388148feb8cb327ee1eb5a)@djrondon You should install (or ask your admin to install) 32-bit supporting libs, as indicated on the Red Download page.

[14:13](#msg573884112867f61b7b26bcb8)@Arie-vw Thank you for the nice feedback! Glad you had a smooth experience using it. :+1:

djrondon

[14:17](#msg573884e1ae26c1967f9ea202)ok. I asked . they said they updated the libraries.  
When I use whereis libc.so.5  
libc.so: /lib/libc.so.6 /usr/lib/libc.so /lib64/libc.so.6 /usr/lib64/libc.so

dockimbel

[14:20](#msg573885c98b845b284193fd2a)@djrondon Can you do a `ldd red`? You can see \[here](https://github.com/red/red/blob/master/red.r#L80) the list of libc file versions which are searched by Red.

djrondon

[14:22](#msg57388625c61823687d3c0991)ok.

dockimbel

[14:22](#msg573886390f07acdc7a043040)

djrondon

[14:24](#msg573886ace2996a5a42c889fd)ldd red-060  
linux-gate.so.1 =&gt; (0xf7743000)  
libm.so.6 =&gt; /lib32/libm.so.6 (0xf770b000)  
libdl.so.2 =&gt; /lib32/libdl.so.2 (0xf7707000)  
libc.so.6 =&gt; /lib32/libc.so.6 (0xf75b2000)  
/lib/ld-linux.so.2 (0xf7744000)

[14:27](#msg57388768e2996a5a42c88a1e)at /lib32/, it doesn't exist libc.so.5

[14:28](#msg57388776831fd2d97d9e9e54)just libc.so.6

[14:28](#msg573887aaeea93e5742d20e58)should I try to copy libc.so.6 to libc.so.5?

[14:30](#msg573888080cb634927f7f0958)I don't have permissions..

dockimbel

[14:34](#msg573888ed0f07acdc7a043057)No, have a look at the link I provided above. See the line: `exists? libc: %/lib32/libc.so.6`

[14:35](#msg5738893cfeb8cb327ee1eb9d)Try a `ldd /lib32/libc.so.6`, it might have a missing dependency which could explain why the load is failing.

Arie-vw

[14:56](#msg57388e37831fd2d97d9e9f91)If I have a Red word as a string, e.g. "function", how can I get the type? for function out of that? Tried a lot already.

dockimbel

[15:02](#msg57388f918b845b284193fd76)@Arie-vw You need to `load` the string, then you can inspect the value type created by the lexer.

Arie-vw

[15:08](#msg573890ffc61823687d3c0ba6)@dockimbel Ah yes, of course! Thx.

djrondon

[15:11](#msg5738919b1794136a7d08d555)@dockimbel ldd /lib32/libc.so.6  
/lib/ld-linux.so.2 (0xf7792000)  
linux-gate.so.1 =&gt; (0xf7791000)

dockimbel

[15:14](#msg5738924afeb8cb327ee1ec06)@djrondon Then I don't see what's wrong. If you have a Rebol SDK license, you can try loading that library directly using rebpro or rebcmd to see if it works or errors out. Maybe other Linux users from the community could help here.

djrondon

[15:15](#msg57389284e2996a5a42c88c30)Unfortunately, I just have Rebol SDK for windows, nor for Linux. :-(

dockimbel

[15:16](#msg573892c30f07acdc7a0430b7)@djrondon You can reuse the license key, just download the Linux version of the SDK.

djrondon

[15:16](#msg573892c5c61823687d3c0bde)Any way @dockimbel , thanks for your attention, I know your very busy.

[15:16](#msg573892cdeea93e5742d21058)yes w

[15:16](#msg573892cfc61823687d3c0be1)?

[15:16](#msg573892d664dbdadc7dec3ccc)I didn't know that

[15:16](#msg573892df1794136a7d08d589)where can I get the it ?

[15:17](#msg573893251794136a7d08d5a0)I didn't see it for a long time, because it was at rebol.net/downloads

[15:18](#msg5738932b831fd2d97d9ea06c)but it's not working anymore

dockimbel

[15:21](#msg573893e18b845b284193fdab)@djrondon I tried with http://www.rebol.net/builds/, doesn't work either.

djrondon

[15:21](#msg573893f6ae26c1967f9ea4bf)yeah. :-(

pekr

[15:21](#msg573893f80cb634927f7f0b72)wiki is gone again too

greggirwin

[16:21](#msg5738a1f2831fd2d97d9ea36a)@dahu, `write` is very new, so not complete. For now, you can just convert your data to a string. e.g. `write/append %sdju_201516.txt form entries`

[16:22](#msg5738a2320cb634927f7f0e2a)`write/append %sdju_201516.txt to string! entries` works as well of course.

[16:57](#msg5738aa75e2996a5a42c890aa)Should `parse` fail silently if a rule isn't defined?

```
red>> dig=
*** Script error: dig= has no value
*** Where: do
red>> parse "123" [some dig=]
== false
```

[17:01](#msg5738ab730cb634927f7f0fb0)Is there a global 'p leak in 0.6.0?

```
--== Red 0.6.0 ==-- 
Type HELP for starting information. 

red>> p
== "red>> "
```

rebolek

[17:25](#msg5738b1078b845b284193fef1)@greggirwin That PARSE problem should be fixed: https://github.com/red/red/issues/1413

greggirwin

[17:27](#msg5738b17164dbdadc7dec42ad)Ah, indeed! Thanks @rebolek . I was testing the official 0.6.0. My local build does catch it.

[17:28](#msg5738b1a2831fd2d97d9ea62a)Looked in issues, but didn't find it as open. :-\\

asampal

[18:01](#msg5738b95d8b845b284193ff12)@Arie-vw what do you think of allowing words to be classified by multiple labels/tags? There are quite a few words that should really be in more than one category. For example, some of the words in the `series` category should also go in the `string` category (which should maybe be called `string manipulation` as many people would likely search for something like that).  
Also, words in your category `exiting` should also be in `branch` (which often would be called `conditional`). There are others like these. You'll find that once you let go of fixed classification you get quite a lot of freedom.

Another suggestion is to remove the redundant `Red words in category` text which prefixes each category. You could just have the tags/labels above the group of words and I'm sure it would be clear what these are.

Arie-vw

[18:49](#msg5738c49eae26c1967f9eae37)@asampal already words can be in multiple categories. Just need some assistance in assigning. Category headers can be cleaner indeed. Will do that. Thx!

[18:49](#msg5738c4b9831fd2d97d9ea9cc)Are you willing to help assign categories?

[19:04](#msg5738c851ae26c1967f9eaefb)@asampal also do you think that we can get rid of the 'related words' section? Because the categories can cover that already?

InvoiceFox

[19:08](#msg5738c924eea93e5742d21abc)I posted really really small working binding with red/system and onion (library for building http servers) here .. if anyone wants to add to it you are welcome. https://github.com/InvoiceFox/Red-onion-http (onion is this: https://github.com/davidmoreno/onion)

asampal

[19:54](#msg5738d3f5feb8cb327ee1ee03)@Arie-vw if the source mappings for the words are kept in a form that's easily manipulated by Red I could help with the tagging. A simple tab or comma separated text file with a word per line followed by a block of labels/categories and another block of "See Also" words would be nice. What do you currently use as the raw input for this page?

I might even be interested in creating a GUI to allow easy modification of this list by dragging/dropping words and tags around. You could then have this GUI upload the modified list somewhere. If the list was alphabetized, you should be able to easily diff new versions and decide if you want to incorporate the changes into your web page.

[19:57](#msg5738d4992867f61b7b26bf69)I think `related words` is not as useful as a `See also` section. The former can be seen by just jumping to the category, as you mentioned. A `See also` section, on the other hand, could include words that don't necessarily share the same tag, but which a user might want to look due to being related by some higher-level concept.

RnBrgn

[20:23](#msg5738dadb0cb634927f7f190c)face

dahu

[21:42](#msg5738ed3ceea93e5742d221ae)Thanks, @greggirwin . Are you saying that future Reds will not accept: `write/append %sdju_201516.txt rejoin/with entries newline` . To use `form` I needed to move the `newline` to the entries creation code.

greggirwin

[21:52](#msg5738ef92eea93e5742d2221c)`rejoin/with` is not guaranteed to become standard, if that's what you mean.

dahu

[21:59](#msg5738f15164dbdadc7dec4f37)No problem. I was foolishly asking about future `write` not taking the `rejoin` result, but that's just a string. D'oh.  
It's probably more of an indication to my way of thinking (as opposed to a more rebol way), but I have used your `rejoin/with` in three separate places in my 40 line script. So, I for one would urge some form of "join with delimiter" remain in future Red.

greggirwin

[22:00](#msg5738f160ae26c1967f9eb709)`delimit` is an alternative, whether it becomes standard or not. I have a \*lot* of R2 mezzanines I rely on which never became standard. The only big problem I had was when `collect` became standard, but with a different interface than mine. In hindsight, `collect-each` would have been a better name for mine, but I have lots of old code, some of which runs on older R2 versions where the standard `collect` doesn't exist.

[22:04](#msg5738f271ae26c1967f9eb73b)One of the great and things about the Redbol community (sometimes known as "the optimizer"), is that it isn't easy to add stuff to the core that doesn't need to be there. It can be frustrating, too, because I think everybody should want \*my* functions in there. ;^)

dahu

[22:08](#msg5738f372eea93e5742d222c8)When `collect` became standard, that shouldn't have affected your old code, right, because your own definitions would overwrite those in the core. Right?

[22:26](#msg5738f787831fd2d97d9eb3c9)Ah, I forgot that new core code might also be relying on the new `collect` interface. How is this problem usually solved in rebol/red?

PeterWAWood

[22:48](#msg5738fcbceea93e5742d22462)@dockimbel In the Introducing Parse blog,

```
not
```

is listed as a matching rule. In use, it appears not to act as such:

```
red>> parse "aa" [copy temp some [not  #"b"]]
== false
red>> temp
== ""
```

Is this the intended behaviour?

## Monday 16th May, 2016

dockimbel

[01:26](#msg573921de0f07acdc7a0434ca)@PeterWAWood It is, same as in Rebol. `not` does not advance input, so it makes `some` exit (anti infinite loops protection). You can replace `some` by `while` to see the infinite loop in action (`while` is the \*unsafe* version of `any`).

[01:27](#msg573922100f07acdc7a0434cc)@greggirwin There was a leaking `p` from the console code in 0.6.0, it was fixed since then (though no ticket was opened).

greggirwin

[01:45](#msg57392629831fd2d97d9eba1d)@dahu, right, it became a conflict because only my code knew about my interface. It was never solved in R2, but Nenad was around while all the module work was done for R3 and knows about Go's model, as well as Maxim's work. R2 was not designed for Programming in the Large, but Red will be. The trick is to create a system that works well for both (PitL and PitS), with minimal compromises.

PeterWAWood

[02:35](#msg573931e5e2996a5a42c8a61e)@dockimbel Can "(does not advance the input)" be added after

not rule : invert the result of the sub-rule.

in the Parse blog article?

qtxie

[02:36](#msg573932420f07acdc7a0434f7)@nc-x Yes, please.

ghost~5680c5f416b6c7089cc058a5

[03:21](#msg57393c9fae26c1967f9ec16d)@dockimbel @qtxie  
(A) In red -

```
red>> print: hello
*** Script error: hello has no value
*** Where: print
```

But if I initialize print with another value before this then -

```
red>> print: 1
red>> print: hello
```

It doesn't give error "hello has no value". Is this expected?

(B)

```
red>> set: 1

*** Runtime Error 1: access violation
*** at: 00000000h
```

Should I open a ticket on GitHub?

(C)

```
red>> try: 1
== 1
red>> ; write anything and press enter
*** Script error: tail? does not allow integer! for its series argument
*** Where: tail?
```

Bug? or some feature missing? Should I open a ticket?

dockimbel

[03:36](#msg5739402d64dbdadc7dec5a34)@nc-x (A) It has nothing to do with redefining `print`, but the fact that `hello` word is undefined:

```
red>> hello
*** Script error: hello has no value
*** Where: do
```

ghost~5680c5f416b6c7089cc058a5

[03:37](#msg5739408bae26c1967f9ec1e5)Regarding (A ) Yes but then this should also error out

```
red>> print: 1
red>> print: hello
```

[03:37](#msg57394091eea93e5742d22d41)but it doesn't

dockimbel

[03:39](#msg573940e10cb634927f7f280a)(B) Well, you can, but the core issue is that some part of the console code are interpreted, so they are sensitive to the changes in the environment. So you get what you ask for, though, we should find workarounds to protect better the console code, until we get modules support.

[03:40](#msg573941111794136a7d08f295)@nc-x Actually it does, but you redefined `print`, so the error cannot be printed anymore. You get what you ask for. ;-)

ghost~5680c5f416b6c7089cc058a5

[03:40](#msg5739411f831fd2d97d9ebdb6)Oh!

dockimbel

[03:41](#msg5739416ac61823687d3c291b)(C) `try` is used in the console code, redefine it and the console will go crazy. ;-)

ghost~5680c5f416b6c7089cc058a5

[03:41](#msg5739417e64dbdadc7dec5a69)Regarding (A) But it gives error in Rebol :smile:

dockimbel

[03:42](#msg57394197e2996a5a42c8a82c)In Rebol, those issues did not arise, because the console code was written in C, not in Rebol itself. In Red, it's a mix of Red/System for interfacing with the OS and Red for the console loop, multi-line input and error reporting.

ghost~5680c5f416b6c7089cc058a5

[03:42](#msg573941a1831fd2d97d9ebdc7)Ok...

[03:42](#msg573941bd0cb634927f7f2826)So no way to protect myself if I accidently redefine these things?

dockimbel

[03:43](#msg573941e4eea93e5742d22d65)@nc-x You can redefine them, just don't do it in the console for now. ;-)

ghost~5680c5f416b6c7089cc058a5

[03:44](#msg5739420b1794136a7d08f2b3):smile:

dockimbel

[03:44](#msg57394234ae26c1967f9ec212)One simple improvement would be to move the interpreted code in console to a separate function, so it will get properly compiled and so less exposed to global redefinitions of native functions.

[03:45](#msg57394274ae26c1967f9ec21d)For the crash above, I think it is worth logging as a ticket, I'm not sure what it causing it, so I need to investigate it.

ghost~5680c5f416b6c7089cc058a5

[03:46](#msg57394293c61823687d3c293f)Already done... :wink:

dockimbel

[03:46](#msg5739429e64dbdadc7dec5a93)@nc-x :+1:

x8x

[06:25](#msg573967dee2996a5a42c8ad40)

```
unique [[1][1]]
;   [[1] [1]]
```

Should I open a ticket?

qtxie

[06:33](#msg573969c3feb8cb327ee1f045)Yes, please. :accept:

[06:34](#msg573969e92867f61b7b26c16c)In Rebol 3:

```
>> unique [[1][1]] ; [[1] [1]]
** Script error: block! type is not allowed here
** Where: unique
** Near: unique [[1] [1]]
```

dahu

[06:36](#msg57396a680cb634927f7f2dd4)@greggirwin cool. I look forward to seeing Red's accommodation for PitL while maintaining its PitS utility and not becoming a PITA. :-p

InvoiceFox

[07:41](#msg573979bdc61823687d3c3163)that tiny binding w/ red/system I linked yesterday now also has a working websocket demo (https://github.com/InvoiceFox/Red-onion-http ).

[07:45](#msg57397a8a64dbdadc7dec62b3)I get "Compilation Error: variable loop1 not declared" if I compile with red-060, while with 054 it works. Did anything about declaring pointers change in the meantime?

```
loop1: declare pointer! [ integer! ]
    loop1: onion-new O_THREADED
```

PeterWAWood

[10:04](#msg57399b4b831fd2d97d9ece0f)@InvoiceFox I believe that the rules for declaring local variables was tightened in 060. You will need to change

```
does
```

to

```
main: func [
    /local loop1 urls 
][
    print "Now starting.\n"

    loop1: declare pointer! [ integer! ]
    loop1: onion-new 0 

    urls: declare pointer! [ integer! ]
    urls: onion-root-url loop1
    ....
```

InvoiceFox

[10:21](#msg57399f3dae26c1967f9ed3ad)Thank you! This is very good change ... now it works with 060

[10:23](#msg57399f85e2996a5a42c8b91a)I mean the change to when variables need to be determined and don' just leak all around

mark-summerfield

[10:37](#msg5739a2d9eea93e5742d23eba)I have a view with this line:  
board: base 360x360 draw \[...]  
where ... is a list of draw commands. I want to replace this list with a function call so that I can compute the draw commands dynamically -- or is there a more appropriate way to do this?

[11:00](#msg5739a83264dbdadc7dec6d31)Anyway, I've posted the code I'm working on etc., to the mailing list.

Arie-vw

[11:30](#msg5739af53c61823687d3c3dbe)Get an error when trying to access an object via path using a var called xpage:

```
print xfiles/:xpage/blk
```

and get an error. Can this (already) be done?

[14:10](#msg5739d4cd0cb634927f7f480e)red-by-example had a big update again. Have a look!

mark-summerfield

[14:15](#msg5739d5f31794136a7d0912c0)Is that http://www.red-by-example.org/ ?

InvoiceFox

[14:45](#msg5739dd081794136a7d09157d)@Arie-vw very helpfull resource. If you by any chance want it, I can tweak the css a little to get a more uptodate look .. for example http://refaktorlabs.com/d/scrn\_red\_by\_example.png

[14:48](#msg5739ddab64dbdadc7dec7c77)(with custom non-bold fonts for headers it would also look better)

[15:09](#msg5739e2b0e2996a5a42c8cc09)or while I am at it .. like this: http://refaktorlabs.com/d/scrn\_red\_by\_example\_2.png

Arie-vw

[15:19](#msg5739e4e764dbdadc7dec7f1b)@InvoiceFox I am indeed not a HTML /CSS expert. I'll talk to you in private about it.

pekr

[15:48](#msg5739ebb1e2996a5a42c8cf43)the above screenshot looks really nice!

planetsizecpu

[15:55](#msg5739ed770cb634927f7f5158)@Arie-vw Good job!

greggirwin

[16:56](#msg5739fbac831fd2d97d9eec1d)Great work Arie!

[17:53](#msg573a0912eea93e5742d25ec3)@dockimbel, just FYI, the new `collect` change also fixes the old `split` code, if you want to include that in Red. `collect` was shadowing `/into`, though I'd consider changing that refinement name now that `/into` has a different, standard meaning.

[17:55](#msg573a099ae2996a5a42c8d9a9)`map-each` works with `collect` now as well.

[18:07](#msg573a0c451794136a7d0926b8)

```
map-each: function [
	"Evaluates body for each value(s) in a series, returning all results."
	'word [word! block!] "Word, or words, to set on each iteration"
	data [series! map!] 
	body [block!]
] [
	collect [
		foreach :word data [
			if not unset? set/any 'tmp do body [keep/only :tmp]
		]
	]
]
map-each v [1 2 3] [2 * v]
map-each v "IBM" [v - 1]
map-each [k v] #(a 1 b 2 c 3) [append form v k]
```

[18:13](#msg573a0dd8831fd2d97d9ef274)Should `value?` return the same result as Rebol for `get-word! | set-word!` values? Right now it returns `true`, where Rebol returns `false`.

[18:17](#msg573a0e9d0cb634927f7f5cf1)This is also an interesting error message for a malformed get-word!:

```
red>> value? first [:xxx:]
*** Script error: get does not allow integer! for its word argument
*** Where: get
```

endo64

[18:57](#msg573a1809831fd2d97d9ef5a2)@Arie-vw great work again!  
Just a note, `view` looks under the `Type Checking` category.

rebolek

[19:25](#msg573a1e998b845b2841940703)@greggirwin +1 map-each :clap:

mydoghasworms

[19:36](#msg573a213a1794136a7d092e1b)In terms of (strict) left-to-right evaluation, why does the following cause a problem?

```
red>> to integer! "22" = 22
*** Script error: to does not allow logic! for its type argument
*** Where: to
red>> (to integer! "22") = 22
== true
```

[19:39](#msg573a21ea64dbdadc7dec9465)When the interpreter comes across `to`, and knows there are two arguments required, wouldn't it evaluate that expression first before moving on to the `=` and then evaluate it using the left and right arguments? Meaning, why do I have to use those parentheses there?

rebolek

[19:51](#msg573a24a88b845b2841940749)@mydoghasworms lexer checks for infix operators, so `to integer! "22" = 22` is interpreted as `to integer! ("22" = 22)`

mydoghasworms

[19:52](#msg573a25191794136a7d092f7d)@rebolek Yes, that is how it seems, but I thought that there is a strict left-to-right evaluation policy, meaning that `to` should have been evaluated before `=`, and therefore parens should not have been necessary. :confused:

rebolek

[20:03](#msg573a27a38b845b284194077c)@mydoghasworms there is, but it’s bit complicated. You have to take in mind that `to` function takes two arguments, first argument is type, `integer!` in this case and second argument is value. Lexer finds `"22"` as second argument, but it has to check if it’s not function or part of infix evaluation.

mydoghasworms

[20:04](#msg573a27e1831fd2d97d9efb1c)So while scanning through the code, it will first find infix operators and evaluate those first, is that correct?

rebolek

[20:05](#msg573a28002867f61b7b26c733)And in your case, it is part of infix operation, so it has to finish all evaluation before passing the result back to `to`. In other words, `to integer! "22" = 22` is same as `to integer! equal? "22" 22`

[20:05](#msg573a28198b845b2841940780)@mydoghasworms not just infix, but everything.

[20:08](#msg573a28d72867f61b7b26c73f)@mydoghasworms I found that the easiest way to avoid this kind of problem is to put the simplest argument as first. In your case, I would write it as `22 = to integer! "22"`, or `equal? 22 to integer! "22"`, because I tend to avoid infix operator when not doing math, but that’s just my personal preference (IIRC it was faster in some older version of Rebol I used on Amiga, but that’s so long time ago, that I am most certainly wrong ;) )

[20:12](#msg573a29a62867f61b7b26c74d)So the evaluation is strictly left to right, but infix operations puts some symbols bit to right and the lexer has to check for it.

[20:13](#msg573a29dd2867f61b7b26c752)You have to get used to it or go full Forth and be able to understand things like `+ - * / 1 2 3 4 5`

mydoghasworms

[20:13](#msg573a29eec61823687d3c66f1)It's a pity in a way, not understanding the lexer rules prevents very natural (for humans, anyway) expressions like the following:

```
red>> 3 = 5 or 4 = 4
*** Script error: = does not allow integer! for its <anon> argument
*** Where: =
```

Is there any way that this expression could be ambiguous or misinterpreted? (To a human, anyway)

rebolek

[20:18](#msg573a2b0b2867f61b7b26c766)To human, probably not. But we are talking about computer language here. It’s possible to write parser where `3 = 5 or 4 = 4` would yield the result you expect it to. The question is, if it would be able to parse more nuanced expressions. Red/Rebol has simple rules that may seem counter-intuitive with some simple examples, but when you try to do something more complicated, you will find that the simple logic gives you more freedom.

mydoghasworms

[20:18](#msg573a2b0c831fd2d97d9efc2f)At least with Forth (from the little I know), there is some consistency in that once you know that you are pushing values on to the stack and then calling functions and have to get used to RPN, then there is little room for misinterpreting what is going on. (So it's more like `1 2 3 4 5 + - /`).

rebolek

[20:18](#msg573a2b2c0f07acdc7a043bac)@mydoghasworms yes, sorry, It’s postfix, not prefix, my mistake.

[20:20](#msg573a2b750f07acdc7a043bb5)Anyway, for your last example, `or` is not used very much is such expressions, `any` is what you are looking for:

```
any [
    3 = 5
    4 = 4
]
```

mydoghasworms

[20:23](#msg573a2c36831fd2d97d9efc9e)&gt; To human, probably not. But we are talking about computer language here.

But computer language with friendly, human face is the ideal we are after!

rebolek

[20:23](#msg573a2c460f07acdc7a043bbb)Yes :)

pekr

[20:24](#msg573a2c710cb634927f7f66e3)I never found Rebol's precedence rules logical, it was like a gotcha for most newcomers imo.

rebolek

[20:24](#msg573a2c720f07acdc7a043bbe)But this is not Holy Grail(TM). It’s just step in right way :D

[20:25](#msg573a2ca00f07acdc7a043bc3)@pekr They are strictly logical, unlike what people are used to.

pekr

[20:25](#msg573a2cb50cb634927f7f66f7)it goes agains the precedence rules we are taught at schools

rebolek

[20:25](#msg573a2cbc2867f61b7b26c786)Yes.

[20:25](#msg573a2cd2feb8cb327ee1f693)Why has multiplication bigger priority?

[20:26](#msg573a2cfdfeb8cb327ee1f696)(than addition)

pekr

[20:26](#msg573a2d09ae26c1967f9f0087)Don't ask me, ask those who teach it in schools. If there is anything to hate Rebol like languages about, it is exactly the precedence rules. No benefit

rebolek

[20:27](#msg573a2d37feb8cb327ee1f69e)There’s big benefit. But I ask you, because you have to ask yourself: Why I am used to this? Does it make sense?

[20:29](#msg573a2d9c8b845b28419407cb)@pekr You say there’s no benefit, just look at these \[15 rules](https://www.wikiwand.com/en/Order\_of\_operations#/Programming\_languages). There is just one in Red/Rebol.

pekr

[20:29](#msg573a2da11794136a7d09324a)My take is, that we should be either 100% left to right, or do the full precedence rules

rebolek

[20:30](#msg573a2dd50f07acdc7a043bdb)100% left to right would be to much hard core. I find Red/Rebol’s rules good middle ground.

[20:30](#msg573a2de4feb8cb327ee1f6a7)100% left to right means no infix operators.

pekr

[20:31](#msg573a2e280cb634927f7f6784)I know ...

mydoghasworms

[20:32](#msg573a2e530cb634927f7f678d)What about just doing one look-ahead to the next symbol to see if it is an infix operator? You could still do left-to-right while supporting infix and cater for 99% of use cases. (Or perhaps not).

rebolek

[20:33](#msg573a2e84feb8cb327ee1f6b5)@mydoghasworms But it does one look-ahead. Check your example.

mydoghasworms

[20:34](#msg573a2ec11794136a7d0932b0)Indeed.

[20:39](#msg573a3017831fd2d97d9efdec)What about defining precedence for conjunctive and comparison operators so that you can correctly evaluate `3 < 5 and 8 = 8` for example?

[20:40](#msg573a303de2996a5a42c8e62f)(And what other classifications of operators are there?)

rebolek

[20:41](#msg573a30812867f61b7b26c7a9)

```
all [3 < 5 8 = 8]
```

[20:42](#msg573a30af8b845b28419407e9)The underlying logic is same, it’s just different description.

[20:43](#msg573a31070f07acdc7a043bec)IMO more powerful, it let’s you chain command with ease:

```
all [
    x > 1
    x > 2
    x > 3
    x: x * 2
]
```

mydoghasworms

[20:44](#msg573a3124e2996a5a42c8e672)Agreed, but the other way reads much more natural. "Middle-of-the-road" sounds like too much of a cop-out. "Holy Grail(tm)" is what we must pursue. :trophy:

rebolek

[20:45](#msg573a31622867f61b7b26c7af):D

[20:47](#msg573a31f70f07acdc7a043bfc)@mydoghasworms AND and OR are wonderful for bitwise operations, but for program logic, it’s much better to use ANY and ALL.

PeterWAWood

[21:52](#msg573a410d0cb634927f7f6d3f)@mydoghasworms Boron has strict left to right evaluation as it does not support infix operators. The argument for infix operators is usually made on the grounds that it makes all but the most simple calculations long and strewn with parentheses.

[21:54](#msg573a41891794136a7d09383c)Personally, I would have liked Red to have adopted strict left to right evaluation witha built in dialect for calculations.

greggirwin

[22:14](#msg573a4637e2996a5a42c8ecac)What Bolek said. I almost never use `and` or `or`. Logical `any` and `all` are two of the things I love most in Redbol. I also appreciate, even though the words are longer, the set oriented functions, `union` et al.

Precedence in Redbol does take some getting used to. All languages have their quirks. I occasionally found things to disagree with in Rebol's design. In almost every case, an explanation of what it worked the way it did showed me that I hadn't thought as deeply about the issues as the designer(s). Nenad as been around through all this as well, and I think he is \*very carefully* considering changes that break Rebol compatibility with the big picture of Red's design.

[22:22](#msg573a48130cb634927f7f6f28)Core language changes may sound simple on the surface, and seem to be easy improvements that will foster adoption, or seem more natural when compared to other languages, but the onus really has to be on the advocate of such changes to prove their case. This is also true of mezzanines proposed as standards. It can be frustrating, at least for me, when everyone else doesn't see how brilliant my suggestions are ;-), or to work through design and implementation issues people find with my code, but this is also one of my favorite things about the Redbol community. We work together and cordially, if sometimes ruthlessly, fight to make our language the best it can be.

## Tuesday 17th May, 2016

dockimbel

[01:25](#msg573a73262867f61b7b26c98a)@mydoghasworms Evaluation is done left to right with priority to infix expressions.

[01:47](#msg573a78422867f61b7b26c99d)Indeed, using `or` and `and` for conditional expressions is the not the idiomatic way. You can also have a look at my \[reply](https://groups.google.com/forum/#!msg/red-lang/7DCP9985jBU/TAw8nuS\_BQAJ) for a related question on the ML.

mydoghasworms

[04:45](#msg573aa1f7e2996a5a42c8fe5b)Thanks Nenad and Gregg.  
Is it necessary, though, for the lexer to actually do look-aheads? Wouldn't you simplify matters enormously by keeping a reference to the last evaluated value, so that when you do encounter an infix function, you can use it as the left operand?  
Then you can write things like `to integer! "20" = 20`, which is more natural than `(to integer! "20") = 20`.

[04:48](#msg573aa2a3ae26c1967f9f19ae)That being "True left-to-right evaluation, without any favoritism to some operators that believe they are more special" :smile:

[04:55](#msg573aa45ce2996a5a42c8fea8)@greggirwin Thanks, I take your comments to heart. As a casual observer it is not my place to stir things up, though I am looking at it from the point of view of a newcomer trying to learn a language. And in the spirit of what Carl was trying to achieve, it seems to me that simplicity and consistency should always triumph. (Forgetting the `and` and `or` debacle, but thinking now of why there is even \*any* operator precedence).

[05:01](#msg573aa5afe2996a5a42c8fedc)Wait, I think I meant 'debate' and not 'debacle'. You know what I mean.

greggirwin

[07:53](#msg573acde1eea93e5742d28be2)All good Martin. :^) It's important to question things. Why there is \*any* operator precedence is, as Bolek said, a compromise based on Carl's experience as a language designer. The only way to know if an alternative is better is to implement it and see what other issues come up. It's all trade-offs.

WRT `to integer! "20" = 20` being more natural, "natural" is a very soft concept, and we have to look at the big picture as well as individual cases. Speaking from experience, I've been bitten by getting precedence wrong in Rebol, but not often. And I have also chosen to use parens at times, rather than switching things around (`20 = to integer! "20"`), but not universally.

What I can say is that I have almost never been stumped by how precedence rules created an unexpected result. When things go wrong, with the current rules, it's easy to see why. Of course, Red is flexible enough that we can create impossible-to-debug code if we want, just in much more interesting ways. :^)

DideC

[08:59](#msg573add70eea93e5742d29013)Precedence rule: as usual you use the simple example with `+` and `*`.  
But what is the rule for `cos 30 * 2` ? Is this `(cos 30) * 2` or `cos (30 * 10)` ? Make a survey and I doubt the results is as sure as with + and * operators.

[09:02](#msg573ade2a0cb634927f7f8df6)Redbol rule is much simpler and very easy to remember. When it is, you never have to wonder again, not like C or Java hell's rules.

mydoghasworms

[09:10](#msg573adffdc61823687d3c906c)@DideC There is nothing different or more complex in your example than what we have been discussing: `*` is an infix operator, and `cos` is a function. So, according to the rules that have been explained to me, the infix operator will be evaluated first, and then the result applied to the function. Doing away with precedence and following a strict left-to-right approach, however, would result in the first of your alternatives, which to me looks very wholesome, like bran for breakfast.

Oldes

[09:51](#msg573ae996c61823687d3c93b2)I prefer to have the second result in @DideC 's example and here is my reason:

```
print 30 * 2
```

mydoghasworms

[11:55](#msg573b06a61794136a7d09656e)@Oldes That is an excellent point.

DideC

[12:46](#msg573b12b3ae26c1967f9f3685)Sorry, I was not clear.  
My example wanted to point the mathematical rules : `*` versus `+` precedence is clear for most of the average people, but the `cos` versus `*` precedence is not as well known to people, IMO.  
So rules is just rules for something and differs in some areas. It is the same in programming languages.  
\*But simple rules is easier to remember than complex ones.*  
To be clear : I like the redbol precedence rules like it is, even if it's not the mathematical ones.

[13:08](#msg573b17c70cb634927f7f9f0b)@Oldes This is the point that show that not only mathematics rules are in concern here.

greggirwin

[13:31](#msg573b1d4d1794136a7d096ca4)Something to consider. While not as short as the infix ops, we do have equivalent functions that allow you to write things that evaluate strictly left-to-right. This is an important design element that comes up a lot. It's like having functions that `reduce` or `copy` their args, rather than having the user do it. When that's the case, there is no way for the user to change the behavior, but by \*not* doing it, the user has the option.

In this case, if Red went strictly left-to-right, or used more complex precedence rules, what would it take in order to implement the current behavior at the mezzanine level? As it stands, without changing things, you can have any evaluation order you want, if you're willing to write a small expression dialect for the basic math ops.

Maybe we can ask it this way: Is there a big, clear, objective "win" if it changes from how it works today? And is the benefit enough to break \*lots* of existing code?

Arie-vw

[16:38](#msg573b48ff64dbdadc7dece560)Getting totally rid of infix operators would be the easiest solution I think ...

greggirwin

[17:53](#msg573b5ab2ae26c1967f9f547b)Nobody says you have to use them. :^) I think they are a good compromise. Without all the precedence rules, Red keeps things simple. Of course, I'm all about concrete examples. If someone wants to write or find non-trivial code that does real work and supports the case to change things, that would help convince me.

Arie-vw

[18:14](#msg573b5f970cb634927f7fbdd9)@greggirwin personally i found the Lisp way easiest, no precedence, always clear. But I can live very well with Red's way of doing it now. One should be aware of the pifalls. But hey, that is the case in any language :-)

greggirwin

[20:37](#msg573b80f8c61823687d3cccc6)Agreed.

Zamlox

[22:55](#msg573ba161eea93e5742d2d4c9)how do I iterate a block! parameter inside a routine, if I want to print the elements:

```
test: routine [ b [ block! ]  ][
...
]
```

## Wednesday 18th May, 2016

Zamlox

[05:42](#msg573c00bbeea93e5742d2e3f8)got it. It looks like

```
block/rs-head
```

and

```
block/rs-tail
```

must be used.

mikeparr

[15:32](#msg573c8b22831fd2d97d9fa773)remove/part error? The help says that the part can (among other things) be a series. I get an invalid argument message for series. Not sure if the problem is me, or the help info, or remove itself.

dockimbel

[16:16](#msg573c956691405af564743f3b)@Zamlox This is the skeleton code for iterative over a block in R/S:

```
test: routine [
	b [block!]
	/local 
		value [red-value!]
		tail  [red-value!]
][
	value: block/rs-head b
	tail:  block/rs-tail b

	while [value < tail][
		...
		value: value + 1
	]
]
```

greggirwin

[17:58](#msg573cad380cb634927f801fe3)@mikeparr , are you referring to the same base series? You can't refer to a different series in the `/part` arg.

```
red>> blk: [1 2 3 4 5 6 7 8 9 10]
== [1 2 3 4 5 6 7 8 9 10]
red>> a: at blk 3  b: at blk 7
== [7 8 9 10]
red>> remove/part a b
== [7 8 9 10]
red>> blk
== [1 2 7 8 9 10]
```

mikeparr

[19:44](#msg573cc62ee2996a5a42c9a1c2)@greggirwin - thanks - must be the same series (the help info did not say that) - I get it now!

## Thursday 19th May, 2016

Zamlox

[04:25](#msg573d404d64dbdadc7ded7582)@dockimbel thanks.

rebolek

[05:36](#msg573d50ee40f0f34870b38741)@dockimbel There is difference between KEEP in normal code and KEEP in PARSE. See this example:

```
red>> x: [1 2 3 4 5] collect [foreach v x [keep reduce [v]]]
== [1 2 3 4 5]
red>> x: [1 2 3 4 5] parse x [collect [some [set v skip keep (reduce [v])]]]
== [[1] [2] [3] [4] [5]]
```

[05:37](#msg573d51041effc6fe3f3fbbb2)I would prefer same behaviour and optional `keep only ...` in PARSE. What do you think?

pekr

[05:58](#msg573d55fd64dbdadc7ded78d6)Hmmm

[05:59](#msg573d564364dbdadc7ded78e5)The first example is the typical example of how Red block works. The /only is needed in the first example too. How would you do it? :-)

rebolek

[06:00](#msg573d568ad487435d7928435b)@pekr Not sure, if I understand your question. There is `keep/only`:

```
red>> x: [1 2 3 4 5] collect [foreach v x [keep/only reduce [v]]]
== [[1] [2] [3] [4] [5]]
```

[06:02](#msg573d56efd487435d7928435d)But in PARSE, `keep` works as `keep/only` you can’t change that behaviour.

pekr

[06:03](#msg573d57280cb634927f804952)Other than that, I still have strange feeling about the collect/keep combo in general. It feels like the dialect mixture with the regular code, which is something I don't like. I can understand e.g. `secure`dialect, but then I tend to think about it as about the dialect. As `keep` is the enclosed function, you can't get it via `help collect`nor `help keep`

[06:03](#msg573d57481794136a7d0a15a1)sorry, did not know about the keep/only, just found it via sourcing a collect function

rebolek

[06:05](#msg573d57bb1effc6fe3f3fbbbe)\*dialect mixture with the regular code* that’s probably what it is, but it’s useful.

[06:06](#msg573d57ced487435d7928435e)And of course, you do not have to use it :)

dockimbel

[06:07](#msg573d5819d487435d79284360)@rebolek That's a planned feature, `keep only` in Parse has not been implemented yet, we made the current `keep` default to a keep/only in the meantime.

rebolek

[06:07](#msg573d5830ba3114e37335bcbf)@dockimbel ok, thanks for info.

pekr

[06:18](#msg573d5ad1ae26c1967f9fe1cf)@rebolek It's more about documenting features. I do remember talks with Carl, on how to allow `help`being "pluggable", allowing docstrings for dialects, etc. No conclusion was made back then ...

rebolek

[06:44](#msg573d60e21effc6fe3f3fbbd4)@pekr I see. I am all for improved help.

dockimbel

[07:47](#msg573d6f94d487435d792843c9)@pekr The problem is not extending `help` function, that's just coding, the problem is where/how do you document dialects?

pekr

[08:18](#msg573d76e30cb634927f80507b)I know - there were some proposals, but I don't remember it. One of the solutions was related to the module system, and extension of objects by the config block, or something like that. Feature proposed, but not implemented. Waiting for Red to take us to the future :-)

[08:20](#msg573d775aae26c1967f9fe82e)http://www.rebol.net/r3blogs/0350.html , btw - typed objects variables - I didn't remember that was proposed ... http://www.rebol.net/r3blogs/0016.html

[08:21](#msg573d7789831fd2d97d9fe585)I know it is unrelated to have documented dialects avaiable, just found it interesting. Apparently there is still lots of possibilities, how to take Red (Rebol) language family forward in future ...

greggirwin

[11:42](#msg573da6a7eea93e5742d35dcc)@dockimbel one old idea was to treat dialects like OS commands that have a --help switch. The issue, then, is having a larger doc string embedded, which grows the exe. Another approach is what Carl did in R3 with the `docs` command, but to add an arg that takes you to detailed docs for a func.

Arie-vw

[16:36](#msg573debabf240e50046a081b2)@dockimbel it would be nice if split would have a refinement to be able to split on strings instead of on one char only.

[16:37](#msg573debe3ff441ca333d30f30)Red by Example has now added xref from within docs themselves.

meijeru

[19:56](#msg573e1a62e675315635f82e9b)@Arie-vw Do `help split`- the delimiter CAN be a string! already...

greggirwin

[20:47](#msg573e267a5b4261a6333c485d)Nenad kindly set up a mezz room for chatting about mezzanines, which I will prime shortly with some leading questions. In the meantime, consider the `split` func from R3. It is fairly complex, but was designed by community members (one being me, full disclosure) and is very flexible. See http://www.rebol.com/r3/docs/functions/split.html.

The same design approach has worked well for `round`. It reduces the surface area of how many functions you need to know and makes `help` include related functionality. It's not a free lunch, as we need to consider how heavily overloaded a single function can be while still being easy to use and clear in its intent and purpose.

[20:56](#msg573e2888ff441ca333d325ea)Let your brains simmer on the concept of having some functions, not all of course, work like this. Refinements, smart type handling, and dialected interfaces are powerful tools at our disposal. Though they can also be abused. Think about related functions that are often separate. e.g. ceil, floor, trunc, etc. are all \*types* of rounding, as `split` in R3 supports different types of splitting. It doesn't mean we can't have single-purpose functions as well.

## Friday 20th May, 2016

ghost~5680c5f416b6c7089cc058a5

[05:55](#msg573ea6e0e675315635f84df7)@qtxie @dockimbel

[05:55](#msg573ea6e25b4261a6333c638d)A. Why does gui-console allow vertical scrolling even though the scrollbar is disabled?

[06:01](#msg573ea8545b4261a6333c63d3)B. `forever [print 1]` makes \_\_gui-console\__ go \_\_NOT RESPONDING\__ and does not display output (whereas this problem is not there in CLI console). Is this due to lack of gc? If yes, then why this issue is only on GUI-Console?

[06:01](#msg573ea855d3f431720bb211da)\[!\[a.gif](https://files.gitter.im/red/red/dGSZ/thumb/a.gif)](https://files.gitter.im/red/red/dGSZ/a.gif)

[06:02](#msg573ea8777aab25fb459d157e)The above image is part of (A) . IDK why it got uploaded late...

rebolek

[06:36](#msg573eb06d4c282c3d3bf6cab5)@nc-x My guess for \*\*B\** is that when you are in `forever` loop, events can’t be processed, so nothing is displayed and you can’t break the program. In standard console, this is handled by system, so you you can interrupt the process.

[06:46](#msg573eb2b345017a487fd40ddb)Smells like regression:

```
flatten-tree: function [
	tree 	[block!]
] [
	out: copy []
	rule: [
		some [
			ahead block! into rule 
		| 	set value skip (keep value)
		]
	]
	collect [parse tree bind rule 'keep]
]

red>> flatten-tree [1 2 3 [4 5 6]]
== [1 2 3]
```

This code worked with older version (returned `[1 2 3 4 5 6]`), after recompiling console I get this result.

endo64

[07:37](#msg573ebed5dce4845b35eb8acd)@rebolek I wrote this function before for R2, it works on Red too:

```
flatten: func [b [block!] /deep /local r value rule] [
	either deep [
		local: make block! length? b
		rule: [
			into [some rule]
		|	set value skip (insert tail local value)
		]
		parse b [some rule]
		local
	] [
		r: make block! length? b
		head any [foreach v b [insert tail r v] r]
	]
]
```

[07:38](#msg573ebef4ff441ca333d34579)

```
red>> flatten/deep [1 2 3 [4 5 [6]]]
== [1 2 3 4 5 6]
red>> flatten [1 2 3 [4 5 [6]]]
== [1 2 3 4 5 [6]]
```

rebolek

[07:43](#msg573ec03093b62f482a7987bf)@endo64 Yes, I changed `collect/keep` to `append` to custom block and it works fine this way. However with the `collect/keep` combo, I got the above problem.

Arie-vw

[08:08](#msg573ec5e6dce4845b35eb8c8f)@meijeru Thta's what tripped me. You cannot split on a multi char string. Instead the string contains the individual characters on which split will split! So, with a string ";," split will split on ";" and also on ",".

DideC

[08:12](#msg573ec7015b4261a6333c6ae7)@dockimbel @qtxie I were looking at image.reds to familiarize a bit with R/S code.

[08:14](#msg573ec751e675315635f85581)In `serialize` func, there is a `part` word where is substracted all chars (bytes) appended to the string! buffer.

[08:16](#msg573ec7db7aab25fb459d1d40)There are 2 places where it append `lf`to format the hexa values in multilines, but the `lf`length is not substracted from `part`.

[08:21](#msg573ec8f3dce4845b35eb8d7f)And at the end, there is a `part: part - 2` that account for the final `}]` but if there is alpha part, the final `}` of the RGB hexa is not accounted : the `part: part - 5` that account for the space + `#{^/` at the beginning of the alpha block code must account the previous `}` too, soo count must be 6.

[08:21](#msg573ec904ff441ca333d34860)It's the way I understand it, but I could be wrong.

qtxie

[08:33](#msg573ecbc5dedd334a28d6f295)@DideC You're right. There are some mistakes in those code.

[08:37](#msg573eccba4c282c3d3bf6cb4a)@nc-x For \*\*A\*\*, I didn't notice that when I implement the mouse scrolling. :worried: So should we disable it ?

DideC

[08:45](#msg573eceba08a18f700b82093a)@qtxie good to know I'm not wrong. I don't have the big picture but I suppose the `part`is used somewhere to see if the buffer is large enough. So it can be a problem if its count is wrong.

dockimbel

[08:59](#msg573ed2014c282c3d3bf6cb6f)@DideC Glad to see you here. ;-) Thanks for spotting bugs! That `part` counter is used for `/part` refinement of `mold` and `part` (something Rebol doesn't have).

[09:00](#msg573ed22f93b62f482a798848)@rebolek Something is wrong with Parse engine during the iteration in your flatten function, I'm looking into it right now. Though, you should really replace your `collect/keep` function calls with the eaquivalent `collect/keep` Parse commands, will simplify your code significantly.

rebolek

[09:03](#msg573ed2e193b62f482a79884d)@dockimbel Thanks for looking into the issue. I use `collect/keep` function there, because my code requires `keep only` that’s not present in `parse` yet. This code is simplified to demonstrate the issue.

dockimbel

[09:04](#msg573ed308dedd334a28d6f2c2)@rebolek Got it, I guess it's the good time to add support for it then. ;-)

rebolek

[09:04](#msg573ed330dedd334a28d6f2c4)@dockimbel Actually, it’s `keep`, not `keep only`, but I guess you know what I meant ;)

pekr

[09:20](#msg573ed6d1d3f431720bb21e21)wow, a Red PR from Ladislav, nice :-)

dockimbel

[09:23](#msg573ed7824c282c3d3bf6cb84)@pekr Should I tweet or make a new blog entry about it? ;-)

pekr

[09:24](#msg573ed7cfdce4845b35eb923c)Not sure. With HF (sorry for mention) stopping his work on R3, it seems that to many Red is going to be the only alternative anyway. OTOH Ladislav is capable enough to carry on with his own Rebol-like language, if it would be his priority ...

dockimbel

[09:24](#msg573ed7dbdedd334a28d6f2da)@PeterWAWood Could you please pull Ladislav's PR to a local branch and see which adjustment to make to Quicktest, I'm pretty sure we'll have to update it for running on Windows.

pekr

[09:24](#msg573ed7e8e675315635f85a83)There's now only Sam to cure on the forum, for you not understanding, that AGG would be a win :-)

[09:25](#msg573ed806d3f431720bb21e88)btw - on that forum you kind-of announced some new stuff coming next week?

dockimbel

[09:27](#msg573ed88adedd334a28d6f2dd)@pekr You have any link? I vaguely remember...(been offline almost a week due to our company's annual accouting work).

pekr

[09:29](#msg573ed8dd7aab25fb459d227f)"Hope this helps understand Red/View better. Though, we'll provide many examples in the next week which will make my points more obvious to everyone. ;-) "

[09:29](#msg573ed8e77aab25fb459d2282)http://rebolforum.com/index.cgi?f=printtopic&amp;topicnumber=39&amp;archiveflag=new

dockimbel

[09:33](#msg573ed9e793b62f482a79886a)Didn't have time to push more of the demo scripts we have at office, they need some cleanup before posting to red/code.

DideC

[10:06](#msg573ee1a5d3f431720bb221bb)@dockimbel I would hope having more time to play with Red, but not. So from time to time I force me to read code and increase my understanding. Small steps.

[10:06](#msg573ee1bee675315635f85dd9)Glad to help, anyway.

dockimbel

[10:07](#msg573ee1e193b62f482a798894)@DideC Have you played with Red/View already?

DideC

[10:44](#msg573eeaa9f240e50046a0c296)Not much. I had a quick look to the code anyway.  
I want to add `view/option my-layout [opacity 200 keyed magenta]` as an exercise ;-)

[10:46](#msg573eeaf1d3f431720bb22420)(yes, translucent window and transparent color)

[10:47](#msg573eeb48ff441ca333d35328)But I first have to jump in the github train (never used it). And many over things to learn. So much to do, so few time to do it...

[10:48](#msg573eeb8ed3f431720bb2243f)Do you know if this options could be cross platform (Linux: I guess yes, Mac too, Android: not sure, others: ?) ?

ghost~5680c5f416b6c7089cc058a5

[10:49](#msg573eebb408a18f700b821212)@qtxie Preferably disable the scrolling, until the text reaches the bottom of the console screen, because only then the scrolling has any meaning...

dockimbel

[11:27](#msg573ef4b1789c4f6627e7203a)@DideC That approach won't work as the `/options` refinement expects facets in `[facet: value ...]` format. You should rather try extending the `backdrop` VID command.

DideC

[12:31](#msg573f0389e675315635f867a7)Ah yes. it's the Rebol syntax. It seems you use a `/flags`instead.

[13:33](#msg573f1210f240e50046a0cf1d)While doing it with Rebol (translucent face), I used the `flags` facet to store some values.

[13:38](#msg573f133de675315635f86d62)Ie: the following code to retrieve or find and store the window handle:  
`hdl: any [all [flag-face? win 'handle win/flags/handle] last append flag-face win 'handle GetActiveWindow]`  
I found that a modified `flag-face` func with a `/with` refinment to store a value next to the word, and the corresponding `flag-face?/value` to read it, would be a usefull enhancment. And it would allow to store some values without much problems or appending facets.

rebolek

[13:41](#msg573f13f55138fa4a0f12927b)What’s the right way to read genius and verbose Windows folders?

```
red>> read %/c/Documents%20and%20Settings/
*** Access error: cannot open: %/c/Documents%20and%20Settings/
*** Where: read
red>> read %"/c/Documents and Settings/"
*** Access error: cannot open: %/c/Documents%20and%20Settings/
*** Where: read
```

DideC

[13:50](#msg573f16267aab25fb459d35c3)Reading a path with space works here.  
OS ? It's no more this folder since Vista.

rebolek

[13:55](#msg573f1735d571894808fd7aae)@DideC Hmmm

[13:55](#msg573f17552c81cbd76cc832fa)OS is W7, please, try `read %/c/`, that’s where I get it.

[13:56](#msg573f1770d571894808fd7ab0)But I can’t see it in Total Commander.

[13:57](#msg573f17cad571894808fd7ab2)Nor in Explorer.

DideC

[13:59](#msg573f1855d3f431720bb2332b)There is no more real c:\\Document and settings\\ in Seven. It could be a hardlink.

rebolek

[14:00](#msg573f189a5138fa4a0f1292aa)I consider this a bug. I am going to add ticket for it:

```
red>> path: %/c/ foreach file read path [read append copy path file]
*** Access error: cannot open: %/c/Documents%20and%20Settings/
*** Where: read
```

DideC

[14:07](#msg573f1a28d3f431720bb233de)Confirmed :

```
C:\>dir /A
 Le volume dans le lecteur C s'appelle OS
 Le numéro de série du volume est 0AD0-D7FE

 Répertoire de C:\

07/07/2015  17:05    <REP>          $RECYCLE.BIN
07/03/2012  17:20    <REP>          AMD
20/05/2016  13:00    <REP>          Bat
11/02/2011  22:13             8 192 BOOTSECT.BAK
29/06/2015  13:08    <REP>          Centre de Controle Windev
19/05/2016  16:26    <REP>          Config.Msi
11/09/2013  10:46    <REP>          Debuggers_x64
11/09/2013  10:46    <REP>          Debuggers_x86
14/07/2009  07:08    <JONCTION>     Documents and Settings [C:\Users]
...
```

[14:08](#msg573f1a6c5b4261a6333c863d)Let's see how Red will handle that.

meijeru

[14:41](#msg573f221fff441ca333d3669a)@Arie-vw @dockimbel That would seem to call for an `only` refinement which makes the string the separator, instead of each of the characters in the string. The `only`word is quite idiomatic for Redbol, I would say.

greggirwin

[16:52](#msg573f40d1dce4845b35ebb753)Thought I might add sha256 to `checksum` since it looked easy to do. Maybe not as easy as I thought, since it didn't work the first time out. :^) In the meantime:  
Q1: It looks like `/key` support isn't implemented yet, correct?  
Q2: In %crypto.reds `get-digest`, the hash string buffer is 19 0s, is that correct or should it be 20 for SHA1 results? Just so I know whether to make it 31 or 32 for SHA256.

pekr

[17:15](#msg573f462a5b4261a6333c9746)I

[17:16](#msg573f467be675315635f880cb)Ah, laggy phone interface, sorry ...

## Saturday 21st May, 2016

PeterWAWood

[00:13](#msg573fa8167aab25fb459d6020)@dockimbel I'll take a look at Ladislav's PR and integrate into Quick-Test as appropriate.

greggirwin

[01:07](#msg573fb4c5d3f431720bb25f8c)Has anyone used the Windows Crypt* (e.g. CryptAcquireContext) APIs to calc SHA256. I think I have it all there but the PROV\_RSA\_FULL provider doesn't seem to support SHA256 and quick searching led me to try PROV\_RSA\_AES, which also fails.

ghost~5680c5f416b6c7089cc058a5

[01:27](#msg573fb965d3f431720bb25ff9)@greggirwin The answer over \[here](http://stackoverflow.com/questions/17382176/microsofts-cryptoapi-microsoft-enhanced-rsa-and-aes-cryptographic-provider-se) gives an example.

greggirwin

[01:42](#msg573fbcfbf240e50046a0fd78)Thanks. I saw that article earlier. I'm sure it's something simple I'm missing.

[01:44](#msg573fbd8bd3f431720bb2606e)Simple, as in me not having written any Red/System API mappings before, so can't see it.

qtxie

[02:36](#msg573fc9b5dce4845b35ebd71c)@greggirwin Q1: Yes, we don't implement `/key` yet. AFAIK, Windows Crypt* APIs don't support it. Correct me if I'm wrong.

[02:38](#msg573fca287aab25fb459d6392)Q2: In R/S, a c-string! will automatically added a `NUL` byte in the end of the string. so the string buffer is `19 0s + 1 NUL`.

dockimbel

[03:11](#msg573fd1cbff441ca333d39365)@greggirwin You should have a look at %runtime/crypto.reds file for binding examples.

[03:12](#msg573fd21ddce4845b35ebd7e9)@greggirwin In order to relax you more about it, we will provide a Red-level way to bind to external libs too (R2 style). ;-)

greggirwin

[05:00](#msg573feb57ff441ca333d3969a)Thanks all. It looks like `CryptCreateHash` has an hKey parameter just for HMAC use. Good to know on the implicit null. Is there any benefit (other than saving 1 byte) to relying on that? Or maybe I should ask if there's any issue with \*not* relying on it. e.g., if I know my len can be 16/20/32 (or whatever lengths), I might make my buffers that size.  
I'm working inside %crypto.reds for this right now (along with the associated %natives* files. It's really clean and wonderful. I figured a Red level version would come, but I'm OK with this. Just need to get acquainted with datatype mappings and such. The first time is always the hardest. :^)

[05:28](#msg573ff1ed7aab25fb459d67c7)The Red level FFI binding will save compilation times though, as I experiment. :-)

qtxie

[09:41](#msg57402d63e675315635f8a859)No issue without that. ;-) It is just save 1 bytes. As there is no dedicated way to declare a static bytes array in R/S, most of the we use c-string! to achieve it.

[09:47](#msg57402ea4f240e50046a109ab)Another way to do it is to use the \[Literal arrays](http://static.red-lang.org/red-system-specs.html#section-4.8.6). For example I want a 4 bytes array: `buf: [#"^@" #"^@" #"^@" #"^@"]`.

Arie-vw

[13:17](#msg57405fccf240e50046a1102e)red-by-example.org updated:  
1\. generator V4 already ;-)  
2\. now cross links all over the site  
3\. embedded pictures are now possible (see about page as an example)  
4\. a lot of words added recently

The two of us (Mike Parr and I) are \*very* busy with it and could use more helpers.  
Please let me know here if you're interested. I'll the open a private chat.

greggirwin

[14:32](#msg5740717a7aab25fb459d77ae)Thanks @qtxie. I like having the literal array option as well, because you can use that to make it clear how the buffer is to be used.

[15:31](#msg57407f4af240e50046a11597)I have SHA256 working. It was, indeed, an embarrassing error on my part. And nothing to do with Red/System. Just dispatching on the wrong const when acquiring the context. Had to use CryptGetProvParam and look at the result to see that I wasn't getting the provider I wanted.

Before I ask a couple questions, I have to thank @dockimbel, @qtxie, and Team Red for implementing great error messages. Though the solution ended up being simple, I had to bang around a bit (OK, a lot), get types mismatched, etc. Every time, Red/System gave me a very clear message about what I did wrong. And it wasn't even rude or condescending about it. :^)

[15:48](#msg5740835adce4845b35ebee4a)Q1: The crypto provider that does SHA256 also does more (e.g. SHA384/512). Do we want those added? I haven't thought about export restrictions and such, which will probably make `checksum` more complex.  
Q2: Along the same lines, the original code uses the `PROV_RSA_FULL` provider while SHA256 uses `PROV_RSA_AES`. `PROV_RSA_AES` can also do MD5 and SHA1, so we could use \*only* that one, but that comes back to Q1 on whether it will be universally available.  
Q3: Right now, no API results are checked for failure. The result is that you get back the default buffer "000000..." if something fails. Is that what we want, or should `checksum` return `none` if it fails?

I'll pull the CryptGetProvParam bits out, since I doubt you want those there. I also used GetLastError since I didn't see that available. Clearly it doesn't belong in %crypto.reds where I stubbed it in to debug, but consider including it as standard. It can be very helpful when debugging, at least for us mortals.

Going to clean things up now.

[15:53](#msg5740847b7aab25fb459d7af1)Also, to explain how I dispatched on the wrong value, it was because I used the `type` value as it came in to the func (added to #enum crypto-algorithm!), but that word changes (e.g. from ALG\_SHA256 to CALG\_SHA\_256) when the size is set.

dockimbel

[16:37](#msg57408ed35138fa4a0f129973)Q1/ Depends if it's available on Linux, OS X and Android or not.  
Q2/ I'll let Qingtian answer that.  
Q3/ Right, `none` would be preferable, but only if there are some inputs which cannot be encrypted (or said differently, what are the cases where encryption or hashing would fail?)

greggirwin

[16:37](#msg57408ee308a18f700b826a86)On the `checksum` function itself, how important is R2 compatibility? I ask, being one who wants none of their R2 code broken. ;-) I think I always use `/method` and have never used `/tcp` or `/hash` though I'm sure others have.  
Right now, Red uses CRC32 as the default. How useful is that?  
My thought—just a thought, not a proposal—is that `checksum` could \*always* take a type/method arg, eliminating any default and also the `/tcp` and `/method`refinements. Further, if this is the right place for hashing functionality, does it need a separate size arg? If we always pass an arg, `/hash` implies the arg must be an integer instead of a word.

[16:38](#msg57408f0fdce4845b35ebf054)Q1) OK, but SHA256 is OK, even if my PR is for Windows only?

dockimbel

[16:41](#msg57408fc55138fa4a0f12997d)We need to provide the same features on every platform, you should check if it is available on other platforms, otherwise we'll need to move it to an optional module, rather than in the core library. If it's available everywhere, then it's ok to not implement all the platform backends at the same time. ;-)

[16:52](#msg574092612c81cbd76cc839c4)@greggirwin You forgot also `/secure` in your list (which we haven't implemented yet). I'm not against changing its API if it can simplify its usage. I also always used `/method`, though I might have used `/secure` also for generating UUIDs.

greggirwin

[16:55](#msg574092e8e675315635f8b7f3)SHA256 is supported on all major OSs, but I'll move it to my own area for now, since I don't know what \*every* platform means at this point.

[16:57](#msg5740937ee675315635f8b80b)I have used `/secure` as well. That would just be another method name, if a bit vague. Unless we know the exact algorithm, we can't match it anyway. And if we do, we can name it more specifically.

[17:00](#msg57409415e675315635f8b826)Originally, I thought I would end up porting a direct implementation, which * would* be available everywhere. This was easier though. ;-)

pekr

[18:15](#msg5740a5c2dce4845b35ebf424)Can't a missing feature

[18:16](#msg5740a615dce4845b35ebf433)Can't a potentially missing feature be implemented in code as a fallback, if particular platform does not provide the needed functionality?

[18:18](#msg5740a65808a18f700b826e24)Hmm, neee to try a mobile Gitter version. Hitting an edit field in browser just posts the message ....

greggirwin

[18:56](#msg5740af70dce4845b35ebf5da)Rebol did implement all its own checksumming code (some was open source), so there were no external lib issues, and it was totally portable. I'm all for that in Red as well, with two good reasons not to (given time): 1) It will add to the binary size, 2) In this case, the code is a) not easy to write and b) really important not to get wrong.  
I'm doing it for myself, because I need it. If I can easily contribute it to the mainline, great. If not, I'll still make it available for others.

## Sunday 22nd May, 2016

qtxie

[00:54](#msg5741034508a18f700b827d14)Q2/ I have no problem to use `PROV_RSA_AES` instead of `PROV_RSA_FULL`.

[01:12](#msg574107725b4261a6333ce341)Confirmed all the major platforms (Win, Linux, Mac, Android, iOS) support SHA/256/384/512. I think it's ok to added them into `checksum`.

greggirwin

[01:22](#msg574109f3e675315635f8cae3)Great! Thanks. I will move forward with cleaning my code up, add 384 and 512 if you want, and make a PR.

[01:27](#msg57410af2d3f431720bb28eb0)And I will confirm that `PROV_RSA_AES` works the same for MD5 and SHA1.

luce80

[07:58](#msg574166a7d3f431720bb296d6)I think this is a bug:  
red&gt;&gt; to float! "10.23.4"  
\== 10.23.4  
red&gt;&gt; about  
Red 0.6.0 - 27-Mar-2016/11:51:20+2:00

dockimbel

[08:06](#msg57416869e675315635f8d351)@luce80 `to` function is just partially implemented. We should rework and complete it in the upcoming 0.6.x releases.

[12:04](#msg5741a032ff441ca333d3cfc6)FYI, I have improved the resistance of the console code to user redefinitions of core function names. So now redefining `print` won't affect the console output anymore. It could still affect some interpreted functions though.

x8x

[14:54](#msg5741c80c7aab25fb459da4a7)I'm getting regression from today's changes:  
Linux:

```
./red
[1]    74324 segmentation fault  ./red
```

MacOS:

```
[(LF)
*** Script error: path none is not valid for unset! type
*** Where: >
*** Stack: launch either run while eval-command if either switch either switch-mode set case >
```

(LF) = keying the `return` key  
anyone can confirm?

greggirwin

[17:37](#msg5741ee5dd3f431720bb2a9e6)\[Windows] After merging the latest from Master, the Red console comes up fine, but `foreach` kills it if there's a newline in a pasted block. e.g.

```
algs: [crc32 md5 sha1 sha256 sha384 sha512]
foreach alg algs [print alg]
```

is fine, but this kills Red:

```
algs: [crc32 md5 sha1 sha256 sha384 sha512]
foreach alg algs [
    print alg
]
```

I also don't know if it's a new error, but selecting and copying from the console cuts off the last few chars selected.

[17:45](#msg5741f030ff441ca333d3dce2)SHA256/384/512 PR submitted. @PeterWAWood, I don't see a `checksum` test suite. Where should it go, and what test file should I use as a model?

[20:41](#msg57421972f240e50046a1502f)It looks like `checksum/secure x` is the same as `checksum/method x 'sha1` for R2/3.

[21:17](#msg574221e4e675315635f8f041)Just realized I have some leading spaces in my PR that need to be tabs. Will fix.

PeterWAWood

[22:09](#msg57422dff08a18f700b82a55e)@greggirwin The test file for

```
checksum
```

should go in

```
tests/source/library
```

for now. We'll need to re-organise the tests once we have a lot of submissions.

```
tests/source/units/pair-test.red
```

would be a decent model.

greggirwin

[22:13](#msg57422f25f240e50046a15406)Qingtian, do you have a plan in mind for adding `/key` support to `checksum`? Adding new method options didn't change any interfaces, but it looks like `checksum*` will need to pass the key, changing the spec for `crypto/SHA*`, etc. funcs which in turn affects `get-digest` or requires a new inner func. Seems like the `SHA*` funcs could all be condensed by using the algo type as an arg as well, but I don't want to head too far down a path which may not match your plan.

[22:14](#msg57422f29ff441ca333d3e929)Thanks Peter.

[23:30](#msg57424113f240e50046a15691)On a different topic, I added some `shift` routine descriptions per a request on the ML. Having bit shift ops available is fantastic. My question, @dockimbel , is whether you want `shift` and `rotate` funcs to support series values as well. I have mezz's for both but `shift*` is native. Just thinking ahead.

`take` in Red does what `shift` in other langs do, but mine has a different premise, treating the series as a fixed size and filling shifted slots with an empty value.

qtxie

[23:43](#msg5742442f7aab25fb459db9c2)@greggirwin Thanks. The PR is very good. :+1: For `/key` support and refactoring the `SHA*` functions, I'm ok with your plan.  
You can get the `key` argument in `checksum*` with this line of code:`key: as red-string! arg + _key`, just be sure encode it to `UTF-8` string.

## Monday 23th May, 2016

greggirwin

[01:13](#msg57425924dce4845b35ec325b)Thanks @qtxie.

dockimbel

[02:30](#msg57426b32d571894808fd89fc)@greggirwin `rotate` can be trivially implemented using the new `move` action. ;-) We could add it as a one-liner mezz. For the shifting of fixed-size series, what is the typical use-case for it?

ghost~5680c5f416b6c7089cc058a5

[05:57](#msg57429bc7d3f431720bb2c537)@qtxie  
A. How do I increase the scroll buffer size of the GUI-Console? I am trying to print something but it only displays the lower half...

[06:02](#msg57429ceb5b4261a6333d1bed)@dockimbel  
B. I don't think this is expected -

[06:03](#msg57429d40ff441ca333d3f9c3)\[!\[a.gif](https://files.gitter.im/red/red/XwxM/thumb/a.gif)](https://files.gitter.im/red/red/XwxM/a.gif)

[06:08](#msg57429e53d3f431720bb2c596)\[!\[b.gif](https://files.gitter.im/red/red/2jff/thumb/b.gif)](https://files.gitter.im/red/red/2jff/b.gif)

qtxie

[08:19](#msg5742bd135138fa4a0f12a2e6)@nc-x We'll have some config options in the next versions.

dockimbel

[09:48](#msg5742d1f1f240e50046a17073)FYI, the set-words in actor body blocks in VID are now set as local words, this might break some existing scripts, please have a look at #1922.

LambdaRispoli\_twitter

[10:31](#msg5742dc1a08a18f700b82c726)Hello, are in Red generics available? It's my 2nd day after installing the REPL and compiler on my linux box, and yet I would like to see if I can map a function over a series

dockimbel

[11:09](#msg5742e4ef5b4261a6333d30a9)@LambdaRispoli\_twitter Welcome! Red is a dynamic language, so there is no such thing as \*generics* here, though \[generic programming](https://en.wikipedia.org/wiki/Generic\_programming) is broadly supported. For mapping a function (or more usually a block) onto a series, see the `map-each` implemention there: :point\_up: \[May 17, 2016 2:07 AM](https://gitter.im/red/red?at=573a0c451794136a7d0926b8).

LambdaRispoli\_twitter

[11:28](#msg5742e9767aab25fb459ddacb)@dockimbel The map-each function overflows for me .. It's not a big deal, since the language aims towards a declarative syntax, and map functions are not that human friendly

dockimbel

[11:29](#msg5742e9b07aab25fb459ddae3)@LambdaRispoli\_twitter Overflows? Can you show us how to reproduce that? @greggirwin should have a look at it.

[11:30](#msg5742e9d45b4261a6333d3226)Well, about functional programming paradigm, I agree that it doesn't feel like the most \*natural* one for many programmers. ;-)

LambdaRispoli\_twitter

[11:38](#msg5742ebacd3f431720bb2db61)!alt(file:///home/lambda/Immagini/red/map-each.jpeg)

[11:38](#msg5742ebb8d3f431720bb2db67)oh boy ..

[11:38](#msg5742ebcd7aab25fb459ddb74)\[!\[map-each.jpeg](https://files.gitter.im/red/red/4iC4/thumb/map-each.jpg)](https://files.gitter.im/red/red/4iC4/map-each.jpeg)

dockimbel

[11:51](#msg5742eecf5b4261a6333d33af)@LambdaRispoli\_twitter It seems to rely on a change we made since 0.6.0 release. Please download the latest automated build and try again. With latest version, it seems to work fine:

```
red>> map-each v [1 2 3] [2 * v]
== [2 4 6]
red>> map-each v "IBM" [v - 1]
== [#"H" #"A" #"L"]
red>> map-each [k v] #(a 1 b 2 c 3) [append form v k]
== ["1a" "2b" "3c"]
```

LambdaRispoli\_twitter

[11:54](#msg5742ef6408a18f700b82cd4a)i am using 6.0

[11:54](#msg5742ef74f240e50046a1795e)* 0.6.0 ..

[11:57](#msg5742f024dce4845b35ec52da)which rev should I use then? I can adjust the PKGBUILD for Archlinux

dockimbel

[12:05](#msg5742f20708a18f700b82ce26)The latest one should be dated 23th:

```
red>> about
Red 0.6.0 - 23-May-2016/19:54:05+8:0
```

[12:05](#msg5742f223dce4845b35ec539a)You can get it from \[here](http://www.red-lang.org/p/download.html), under "Automated builds, master branch".

LambdaRispoli\_twitter

[12:06](#msg5742f256e675315635f91a63)Oh .. I have a version which is 4 hours older than yours :D

[12:08](#msg5742f2c5ff441ca333d41247)actually it's a day older

[12:18](#msg5742f51a5b4261a6333d3613)....works like a charm, thanks :)

dockimbel

[12:24](#msg5742f6785b4261a6333d3696)@LambdaRispoli\_twitter You're welcome. ;-)

greggirwin

[14:26](#msg57431326f240e50046a185e3)@dockimbel I have an old `move` func, but it's not compatible with the new `move` action. My `rotate` and `shift` also support `/part` so maybe not a one-liner even with yours. Close though. :^)  
In the past, I've used `shift` for things like history, a memory game, and a bit op simulator. The main thing I've used it for, though, is scrolling data with a fixed number of data points. It's hardly critical though, as the same wrappers I use around it can manipulate the underlying series in a different way. The name just makes the meaning clear.

dockimbel

[14:27](#msg57431354db1e9b4b11fe16cc)@greggirwin `move/part` is supported. ;-)

greggirwin

[14:29](#msg574313e5e675315635f926b3):^)  
@LambdaRispoli\_twitter , sorry about the confusion. I posted `map-each` as we were talking about the fixed `collect` function. Glad you got it working.

[14:41](#msg57431685f240e50046a1872b)Hmmm, looks like the `move` version will not be any shorter. e.g. rotate left:

```
head move/part series tail series range
```

vs

```
append series take/part series range
```

I assume it's more efficient internally, just moving pointers? That would make it worth it.

[15:12](#msg57431de708a18f700b82de45)Also, console works again for multiline pastes. Go Team Red!

dockimbel

[15:47](#msg5743260246fb6493380b76d7)@greggirwin `move` would be more efficient yes, but it requires moving around memory blocks anyway, not just pointers. Though we could optimize it in the future with pre/post series buffers.

LambdaRispoli\_twitter

[18:01](#msg57434571eed2f3f916a40b54)I'm experiencing side-effects on this function (which should return a range from 1 to n)  
If i call for instance

```
iota 1
```

three times, I'll get

```
[1 1 1]
```

rather than  
\`

[18:01](#msg5743458fcaaef2cd4fe9fb1c)\[!\[side-effects.jpeg](https://files.gitter.im/red/red/b4Om/thumb/side-effects.jpg)](https://files.gitter.im/red/red/b4Om/side-effects.jpeg)

greggirwin

[18:05](#msg57434657eed2f3f916a40ba6)Use `ret: copy []`. And `/local ret`. Right now `/ret` is a refinement of `iota`.

[18:05](#msg5743468063e41bd84befb2d1)Not copying series values is one of the first things to bite everyone. :-)

[18:09](#msg5743477328011d9f574b0e9c)You can also use `collect` and `function` in place of `func` will capture locals if you still need them.

```
iota: func [n] [collect [while [n > 0][keep n  n: n - 1]]]
```

LambdaRispoli\_twitter

[18:11](#msg574347c963e41bd84befb33e)Thanks .. So series can go over scope restriction if not explicitly said?

greggirwin

[18:15](#msg574348b163e41bd84befb399)Red uses definitional scoping, but the key here is that functions are like closures. You're diving in deep and fast. :^)

```
red>> iota: func [n /local ret] [
[        ret: []
[        while [n > 0][append ret n  n: n - 1]
[        ret
[    ]
== func [n /local ret][ret: [] 
    while [n > 0] [append ret n n:...
red>> iota 1
== [1]
red>> print mold body-of :iota
[ret: [1] 
    while [n > 0] [append ret n n: n - 1]
```

Notice the `ret:` line when we reflect the body of the function.

LambdaRispoli\_twitter

[18:20](#msg57434a0356ccfef516a014e9)It's not my first programming language, that's why (coming from c++, lisp).. If not already existing or planned, Red should have something like (let ((&lt;id&gt; &lt;val/exp&gt;) &lt;body&gt;) from LISP, so that the programmer has a strong control on scoping

greggirwin

[18:27](#msg57434ba4eed2f3f916a40d8c)See: `bind`

LambdaRispoli\_twitter

[18:35](#msg57434d7ceed2f3f916a40e26)Where can I find some usage of bind ?

pekr

[18:37](#msg57434dec28011d9f574b10e6)I found this very old article, not sure, how accurate it is - http://www.pat665.free.fr/doc/bind.html

[18:37](#msg57434dfc719c119b575b6f01)There is also a Bindology article from our guru Ladislav, will try to find it ...

[18:38](#msg57434e20eed2f3f916a40e5b)https://en.wikibooks.org/wiki/Rebol\_programming/Advanced/Bindology

LambdaRispoli\_twitter

[18:44](#msg57434f9dfce033da4bef3a18)I don't want to have something available outside its parent's scope, I want variables to be completely lost after exiting a given scope by default, like any other normal language would

greggirwin

[18:47](#msg5743505263e41bd84befb614)`function` will automatically capture local words, or you can declare them using `/local` with `func`. Just don't try to turn Red into a "normal" language. ;^)

LambdaRispoli\_twitter

[18:49](#msg574350ae719c119b575b6ffe)So.. I can do this?

```
example: function [n][
    x: power n -3
    n - 3
]
```

greggirwin

[18:49](#msg574350c4fce033da4bef3a7a)Using my example above, you can see that `ret` does not leak. Paste this into the Red console.

```
iota: func [n /local ret] [
    ret: copy []
    while [n > 0][append ret n  n: n - 1]
    ret
]
iota 1
print mold body-of :iota
ret
```

[18:51](#msg5743513efce033da4bef3ab9)Yes, you can.

LambdaRispoli\_twitter

[18:55](#msg57435236cd96cbcf4f6fefe0)What I don't understand is why is /local is not there by default .. Maybe the reason lies behind the curtains of the language, and/or I didn't pay enough attention to the documentation, but every other language's function definition (even closure-based functions like Haskell) I know about creates new variables and destroys them inside the scope. Am I missing something?

pekr

[18:59](#msg5743532c56ccfef516a0183a)Well, those are long time stories. Simply put - it was Carl's decision back then. He thought that for the scripting (e.g. console), it might be more useful for user, to actually not having to declare words ahead, as well as them being global. In fact we can debate, if that created a gotcha for some newcomers, or not, if that is useful, or not ...

[19:01](#msg5743538228011d9f574b12c1)The thing is, that in Rebol/Red, you can create your own function constructor. There are few already. And with the R2 to R3 transition, there was some change. Not sure - func to function. Simply put - now function has all words local.

[19:03](#msg574353f456ccfef516a0187e)Where many users do get caught too, is some concepts of the series ...

[19:04](#msg5743545763e41bd84befb7b2)I am not good in Rebol/Red internals, so I am easily proven to be wrong, as those things tend to have deep consequences, but:

```
red>> f: does [a: [] insert a 1]
== func [][a: [] insert a 1]
red>> f
== []
red>> f
== [1]
red>> f
== [1 1]
red>> f
== [1 1 1]
red>> f
== [1 1 1 1]
```

LambdaRispoli\_twitter

[19:06](#msg574354be719c119b575b717a)You're right, function automatically captures all local definitions and flags them as /local, while func is more "manual" .. Many thanks for such detailed explanation, kudos to you

pekr

[19:07](#msg574354d6719c119b575b7187)`a`keeps its value between the function calls - it is called "indefinite extent", if I am not mistaken ....

[19:09](#msg5743558156ccfef516a018f5)All those things are so deep, that it makes my brain crash each time :) You might not know, but Rebol 1.0 used different implementation, it was done by Joe Marshall and here's some of his critique ... but also a backup by Gabriele - http://arcanesentiment.blogspot.cz/2008/08/better-rebol-info.html

[19:10](#msg574355bccd96cbcf4f6ff12c)To not become more off-topic - you will have to consult Doc about where Red is going to stand. My understanding is, that Doc is not after 100% compatibility to Rebol, so Red might differ in some areas and some good docs might be needed in future ...

greggirwin

[19:14](#msg5743567beed2f3f916a41123)It was a design choice, inherited from Rebol. The thing you're probably missing is that Red doesn't work like other languages, but it can fake it pretty well to make you think it does. This issue has been discussed at length in the past. https://github.com/rebol/rebol-issues/issues/1625 has some very detailed analysis by Brian Hawley, but also a comment from Carl Sassenrath (Rebol's designer) that this was an intentional design choice. There are always tradeoffs. If you want automatic local capture, just use `function`.

pekr

[19:14](#msg574356af28011d9f574b13e4)Right ...

LambdaRispoli\_twitter

[19:16](#msg574356fa56ccfef516a01960)I'm going to do exactly that, thanks .. Red, might be strange to some eyes, but it's photon-fast to be learnt

greggirwin

[19:20](#msg574357eaeed2f3f916a41198)Consider that, at a high level, it's easy enough to look for set-word! values in a function body and collect those to bind them, which is effectively what `function` does. But what happens when you dynamically modify a function body? What happens when you can pass a body in, as with `collect` which may need to bind some words specially?  
There are things that will trip you up, since you're diving deep so fast, and Red is so flexible that you can make your own Heaven or Hell a thousand different ways, but it sounds like you won't be confused for long. :^)

LambdaRispoli\_twitter

[19:28](#msg574359d1caaef2cd4fea020b)Yeah, I got it .. This is interesting, it might come veeeeery useful later on..

## Tuesday 24th May, 2016

greggirwin

[02:07](#msg5743b747eed2f3f916a42821)It appears that enums defined in a context are scoped there, correct?  
Q1: Is there any way to reference them outside the context?  
Q2: Should I be able to `switch` on the result of `symbol/make`. I get an invalid SWITCH syntax error when I do.  
I \*think* I'm making progress. And doing a lot of casting about. ;^)

[02:16](#msg5743b98563e41bd84befd085)Also, `GetLastError`seems worth declaring on Windows. It's helped me with the crypt stuff anyway. And I'm surely missing an easy way to hex format ints in Red/System.

PeterWAWood

[03:35](#msg5743cc06caaef2cd4fea1b5c)@greggirwin There's the

```
prin-hex-chars
```

function in

```
red/system/runtime/debug.reds
```

[03:37](#msg5743cc86cd96cbcf4f700c03)Though it's probably only included in the runtime if you compile the console with the

```
-d
```

or

```
--debug
```

options.

qtxie

[03:38](#msg5743ccd256ccfef516a032fc)Q1: You can access by specify the name of the context, e.g. `ctx1/enum-value`.

[03:42](#msg5743cda3719c119b575b8c1a)For error report, I implement something on Windows: https://github.com/red/red/pull/1292/commits/15016a1325521af20e7939b93c7f595f46ace6c9#diff-fe0cd2815f770fb52fafd9d8d56e43f7

greggirwin

[04:20](#msg5743d68f719c119b575b8d8b)Thanks guys! I think I almost have `checksum/key` support working on Windows. Just have to figure out the cause of the incorrect results. I think it's due to the derived key bit in the wincrypt example I'm working from but, not being a crypto guy, it's just a guess.

dockimbel

[05:44](#msg5743ea59e0d139935736156a)@LambdaRispoli\_twitter Scopes are \[faked](http://stackoverflow.com/a/21964858) in Rebol/Red using \[definitional scoping](http://www.rebol.com/docs/core23/rebolcore-9.html#section-9). Once constructed, the words in object and functions contexts are bound to contexts. Those bindings can be changed at run-time using `bind` function. This means you can dynamically re-shape the "scopes" the way you want/need. I am not aware of any other languages besides Red/Rebol which have this architecture, so indeed, don't expect them to be in the "norm" set by other languages. ;-)

[05:49](#msg5743eb5ddb5352f2224e413b)Rebol2 functions have \*indefinite extent\*, but not Red nor Rebol3 ones. Closures give you that, but they are still not there in Red.

[05:50](#msg5743eba3eef56d88637f4450)Also, you might want to read my deeper \[explanation](https://www.reddit.com/r/redlang/comments/4ecs9n/insane\_behavior\_in\_rebol\_lets\_put\_an\_end\_to\_this/d2lt4fi) about one common pitfall for newcomers that Pekr tried to explain above.

[05:52](#msg5743ec2fe0d1399357361573)@greggirwin Q2: Yes, you can `switch` on arbitrary expressions in Red/System, though the case values need to be literal values (using defines is ok). If that's not an option, then use `case` instead of `switch`.

[05:54](#msg5743eca6eef56d88637f4457)@greggirwin \*And I'm surely missing an easy way to hex format ints in Red/System.* I usually just do either a `prin-hex` or `probe as int-ptr!` if I need to jump a line.

[12:28](#msg57444900719c119b575baba1)FYI, `change` command has been added to Parse. ;-)

rebolek

[12:29](#msg5744492f181a5bb906781dce):thumbsup:

justjenny

[14:29](#msg57446542cd96cbcf4f7037cd)i found this site last night, lots of Red info. and apps .... www.mycode4fun.co.uk

pekr

[14:37](#msg5744671856ccfef516a05f10)Nice!

greggirwin

[15:23](#msg574471fecd96cbcf4f703dbd)Thanks for posting that Jenny! I sent him a note about a typo. He said Red is &lt; 1 GB, which is correct, but I think he meant 1 MB.

[15:27](#msg574472d063e41bd84bf006f1)Amazing what people are already doing with Red's GUI. Well done Alan.

LambdaRispoli\_twitter

[16:32](#msg57448207fce033da4bef90fb)Hello, can somebody show a

```
forall
```

usage example ?

pekr

[16:37](#msg5744834f28011d9f574b6722)

```
red>> blk: [1 2 3]
== [1 2 3]
red>> forall blk [print blk]
1 2 3
2 3
3
```

[16:38](#msg5744837aeed2f3f916a4642d)http://www.rebol.com/docs/words/wforall.html

[16:38](#msg5744838aeed2f3f916a46436)I never liked the function much ...

LambdaRispoli\_twitter

[16:39](#msg574483b128011d9f574b6741)I can see why :D .. Sounded interesting, but

```
foreach
```

will do the trick

rebolek

[16:47](#msg5744859afb784235548ee68d)@LambdaRispoli\_twitter It has its use. For example, you always have actual index:

```
red>> blk: [1 2 3]
== [1 2 3]
red>> forall blk [print index? blk]
1
2
3
```

djrondon

[16:57](#msg574487f5cd96cbcf4f704745)Hi folks, treating errors, do you have any clues?  
If I have a lot of threads that has a timer to deal with such as:

```
do thread1.r
                                 do thread2.r
                                 do threadn.r
                                 wait 360
                               ]
```

Inside each thread using try or attempt to check the errors,  
and inside the forever. Do you have any rules or best practices for treating errors?

greggirwin

[17:04](#msg574489b663e41bd84bf0106b)I rarely use `forall` as well, but its behavior is different enough that it can be justified.

[17:05](#msg574489cf63e41bd84bf01075)

```
red>> blk: [1 2 3]
== [1 2 3]
red>> forall blk [print [blk/1 blk/2]]
1 2
2 3
3 none
```

LambdaRispoli\_twitter

[17:08](#msg57448a70eed2f3f916a4669a)@djrondon I learned quickly that the concept of try/catch can be used, but it shouldn't be used .. I'll rather check with

```
if
```

s, pattern matching, guards, void safety if my code is fine, than using try/catch .. Red by itself it's quite safer than most new programming languages, and since its error are not forgiving, it teaches you to code with a defensive style, which is usually Haskellers and ML programmers gift :D

djrondon

[17:32](#msg5744901863e41bd84bf012a3)Cool @LambdaRispoli\_twitter . I need to use try/catch because as I'm programming crawlers, sometimes the connections are not so good. Even if your code is fine, some information sources can be temporarily offline. I was thinking about instead of using 'forever with 'wait, maybe to use the crontab, to restart the process. Because if you try to 'read some information source and it's offline, I try if it has an error, I can try again and again and catch to break, throw, or exit.  
I'm just worrying to solve these problems with minimum overhead. you know. To first, get it done, then make it better.

LambdaRispoli\_twitter

[17:57](#msg57449620719c119b575bcb71)You can always check if a resource is offline, or if your client is offline, by pinging the target.. It's true that there's always some "entropy" that you can't obviously control, but you can adapt you code to it, in your case by checking if the resource is available. Then you launch a task. What if the resource drops in the middle? Make some "checkpoints" through your workflow, and allow for resuming a task later on .. Since

```
forever
```

is part of Red code, you might want to create your

```
forever
```

version, where you can set a "metric" for your operations, and a timeout reaction code, so that your program doesn't simply stop

djrondon

[18:24](#msg57449c60caaef2cd4fea5da7)Yeah. it's one of the alternatives. I can do that, but what I really like is to do it asynchronous requests, that's why I could set it using the crontab and I can restart the process if it falls, because until time/date functions are not ready in Red, I just have 'wait to use. But as you said, I'll try to measure those process to check its performance .  
I need to program also schedule for the crawlers. I'm talking about more than 1000 sources on intervals of 5 min.  
I'll do some tests to see how it's behavior.

LambdaRispoli\_twitter

[18:34](#msg57449ea1fce033da4bef9b6d)BTW .. If I wanted to upload some example code I made for new entries, where should I put it?

djrondon

[19:41](#msg5744ae73719c119b575bd44e)People drop just small pieces I think using markdown. There is another room also red/code.

greggirwin

[19:44](#msg5744af35eed2f3f916a473cf)@djrondon I recently wrote a crontab parser which works along the same lines. It loads all the cron schedules and waits 0:01 between checks. It's R2 code, but I can look at porting it to Red.

djrondon

[19:46](#msg5744af8f63e41bd84bf01eff)Cool! @greggirwin .

pekr

[19:46](#msg5744af92fce033da4befa1e9)@greggirwin - btw - do you know Doc created a schedule dialect in the past?

[19:47](#msg5744afccfce033da4befa205)Was quite powerfull in expression - http://softinnov.org/rebol/scheduler.shtml

greggirwin

[19:48](#msg5744b009719c119b575bd4fa)@pekr yes. I use it and have extended it quite a bit. Two reasons for the new cron approach. First, the primary user really wanted to use cron specs. They are well known and concise. Second, we have some cases where the timer code from Doc and Gabriele conflict with other things. I have some 0MQ stuff that was very unstable if I tried to combine them.

pekr

[19:49](#msg5744b067719c119b575bd514)OK, thanks for explanation. I mentioned it, as sometimes ppl do forget, that there are some gems out there already :-)

greggirwin

[19:51](#msg5744b0c0719c119b575bd52f)It's very slick, and their timer plan uses the smart algo (can't remember the name) which makes it extremely efficient as well. I'm glad to have doe the cron parser, though, because it's a known target that could also be supported by the scheduler system Nenad will surely add to Red.

djrondon

[20:10](#msg5744b54acaaef2cd4fea66ff)So @greggirwin did you improve it? where can I download it ?

greggirwin

[21:15](#msg5744c48eeed2f3f916a47b7f)I haven't posted it anywhere. @dockimbel , do you have a preference for how to share it?

## Wednesday 25th May, 2016

dockimbel

[02:53](#msg574513bbc672a25a022eb6fc)For sharing code here, the best way is to put in a \[gist](gist.github.com) and share its link.

greggirwin

[02:56](#msg5745144dfce033da4befbb84)I thought it might, but wasn't sure how big a gist should be.

[02:59](#msg5745150afce033da4befbba8)Here you go @djrondon: https://gist.github.com/greggirwin/63471784ace61153763f465c3ea37c98

bitbegin

[03:25](#msg57451b1928011d9f574b9105)the "call" function is not working, can it be integrated in the console?

dockimbel

[04:15](#msg574526e08d7585847f6d5143)@bitbegin It can, but you need to manually #include it. Also, note that the Windows version of CALL does not have Unicode support.

pekr

[05:14](#msg574534b2eed2f3f916a490ca)Does Ladislav's PR improve the Unicode CALL support a bit?

PeterWAWood

[05:51](#msg57453d69fce033da4befc1d7)@pekr Not at all. Ladislav's PR is for changes he has made to the Rebol win-call script that is used in the test suite.

pekr

[06:14](#msg574542b056ccfef516a09b08)Thanks, Peter ...

LambdaRispoli\_twitter

[09:46](#msg57457466fce033da4befd26e)To any newcomer and to veterans, some code examples made in Red for all of you. #go #team #red  
https://github.com/AresAndy/red-examples

PeterWAWood

[11:52](#msg57459207f44fde236e502141)@LambdaRispoli\_twitter Interesting. I took a quick look and will take a longer look during a coffee break.

There was one comment in your code that I wasn't sure about:

```
res: first l ; Just to give it something, and help type inference as well
```

LambdaRispoli\_twitter

[11:55](#msg574592a9ec10ddbb09da7bb8)Since

```
first
```

is void safe (as far as I tried) it will give an element or none, so the compiler knows what type

```
res
```

has, it also might match a pattern in some cases

PeterWAWood

[11:55](#msg574592b7454cb2be094eb9eb)The inference of your comment is that setting a word to the first value in a series gives some insight to the type of the other values in a series.

LambdaRispoli\_twitter

[11:59](#msg57459390a78d5a256e379c43)Series can be heterogeneous, but at that point I might accept an error from the function, because that would be an improper use of the code .. I'm handling basic maths here :D .. If somebody uses

```
vavg
```

over numbers and strings, they should revise their idea of the meaning of

```
avg
```

PeterWAWood

[12:05](#msg574594fc454cb2be094eba9f)I'm not sure you're approach of not checking the type of a value before treating it as a

```
number!
```

would prove to be very robust in practice.

[12:06](#msg5745953aec10ddbb09da7c9f)It might be better to use

```
vector!
```

rather than

```
series!
```

for basic maths.

LambdaRispoli\_twitter

[12:11](#msg5745967510f0fed86f47f2b6)For maths, definitively.  
For other thing (due to its generic nature) probably not. As soon I manage to grab some info on

```
vector!
```

, I'll see if it can do the trick.. Thanks :)

[12:11](#msg5745967dec10ddbb09da7d21)\*things

DideC

[12:31](#msg57459b0980352f204df1ed53)Does Red already have an equivalent for the 'list and 'text-list Rebol/View style ?

dockimbel

[12:35](#msg57459c0f4a49504d6099d633)@DideC \[text-list](https://dockimbel.gitbooks.io/red/content/gui/View.html#text-list), yes. For a `list` style, we might support it in the future as a custom widget.

DideC

[12:43](#msg57459ddda78d5a256e37a019)OK, not bad.  
Why is there this text in the doc "Notes: number of visible items cannot yet be defined by user." ? I think it belongs only to drop-list, no ?

[12:44](#msg57459e136bbc2d1d4dedf876)...as `text-list` is defined by its pixels size !

LambdaRispoli\_twitter

[13:04](#msg5745a2e4454cb2be094ebff8)@iArnold Thanks for the suggestions, added to repository

dockimbel

[13:38](#msg5745aae7a0fc3091611b0078)@DideC Indeed, but it would be more convenient to be able to define the number of visible lines, rather than the height in pixels.

x8x

[17:13](#msg5745dd4880352f204df20b6d)@LambdaRispoli\_twitter you can improve your iota function using `repeat` instead of `loop`:

```
iota: function ["Return a sequence of number from 1 to n"
                n "End limit of sequence"] [
    seq: copy []
    repeat i n [append seq i]
]
```

LambdaRispoli\_twitter

[19:42](#msg5746003b80352f204df21a08)@x8x Nice idea, thanks

## Thursday 26th May, 2016

greggirwin

[02:45](#msg5746634010f0fed86f483c09)@dockimbel , do you want the routine descriptions for &lt;&lt;, &gt;&gt;, and &gt;&gt;&gt; added back in?

dockimbel

[03:05](#msg574667f14a49504d6099dbc8)@greggirwin No need, those routines will disappear from global context at some point in the future (along with few others in that same file). Maybe I should group them and put an appropriate comment.

greggirwin

[06:26](#msg5746972da78d5a256e37edb0)OK, I'll let the guy on the ML know.

endo64

[10:19](#msg5746cdc7a78d5a256e37fdbf)Shouldn't this give `Script error: a has no value` error instead of putting `unset`?

```
red>> parse blk: [1][change integer! a]
== true
red>> blk
== [unset]
```

[10:29](#msg5746d01980352f204df24c31)Are those regressions to `checksum` function?

```
red>> checksum/tcp "test"
== "test"
red>> checksum/hash "test" 255
== "test"
```

dockimbel

[10:44](#msg5746d3786bbc2d1d4dee5641)@endo64 Generating an error in that parse case seems like a reasonable expectation. :-)

qtxie

[10:46](#msg5746d40f4a49504d6099dde6)@endo64 Nope. Those feature is not implemented. Only `/method` is working for now.

endo64

[14:42](#msg57470b64f44fde236e509971)@dockimbel Opened a ticket #1939

[14:47](#msg57470c7dec10ddbb09daf2c1)Making SET-WORD!s in GUI actors local ( #1922 ) breaks some code on Red / Code ( https://github.com/red/code/blob/master/Scripts/spiral.red )

greggirwin

[15:36](#msg57471805f44fde236e509ef8)On `checksum/hash`, is the goal to also have it support `/method` so new hash algorithms can be built in? Or is it intentional to be vague about the exact algorithm (I've never used `/hash` under R2 that I recall). Just wondering what the use cases are. Also still thinking about the idea of reducing the refinement count.

DideC

[15:46](#msg57471a3bda3f93da6f208d0d)#1922 : I don't like the syntax: `... actor [code][local words]`. It break some Redbol principles IMHO. The second block syntax is ackward.  
I suppose that people are accustomated to use `function` (that collect set-word and define them as local) and it's useful, but you know when you use it rather than `func`.  
Here, the function is created by the gui, so we have to choose if it's a `func` or a `function`.  
When I want local word, I explicitly use...`use`, then I know what I'm doing.

dockimbel

[16:01](#msg57471de0548104867b681c16)@endo64 We'll need to fix it for 0.6.1 release. Though, I could maybe open a 0.6.1 branch in red/code...

[16:03](#msg57471e48a0fc3091611b0aeb)@greggirwin I'm leaning towards reducing the refinements on checksum too. Though, it would be good to get a deeper understanding about why they are still there in R3.

rebolek

[19:37](#msg5747507f454cb2be094f4867)@DideC it is a good compromise. Overwriting Global Words is bad option

## Friday 27th May, 2016

dockimbel

[03:13](#msg5747bb5d4a49504d6099e466)@DideC It's `actor [code][external words]`, and the second block is optional. Anyway, both options are IMO not fully satisfying, having local words captured by default is less dangerous for coders who do not master the language.

Zamlox

[21:53](#msg5748c1e9454cb2be094fac27)@qtxie fix for #1920 breaks Red for following code:

```
w: layout/only [base 100x100 blue]
main: layout [base 200x200 30.40.50.255]
main/pane/1/pane: w
view main
```

I will create a ticket

[21:58](#msg5748c31ba78d5a256e389425)ticket created #1942

greggirwin

[22:30](#msg5748ca86454cb2be094fadf6)@endo64 To give my brain a break before diving back into HMAC, I worked up a CRC\_IP func to support `checksum/tcp`. Will submit with the HMAC stuff when I get that working. It will give Nenad a chance to think "Gregg! Learn to use `git stash`!" :^)

## Saturday 28th May, 2016

Arie-vw

[13:32](#msg57499dffa78d5a256e38b2f5)view [  
below text "1" text "2"  
across text "3" text "4"  
return  
across text "4" text "5"  
]\`

[13:33](#msg57499e1d80352f204df2fbf5)Looks odd. Different spacing. Is that normal?

[13:36](#msg57499efa10f0fed86f490aed)

```
view [
    below  text "1" text "2"
    across text "3" text "4"
    return
    across text "4" text "5"
]
```

[13:38](#msg57499f51ec10ddbb09db8f2f)Between 1 and 2 a bigger gap than between 2 and 3. Also a large gap between 3 and second 4 vertically.

dockimbel

[13:53](#msg5749a2d7a0fc3091611b17db)@Arie-vw `text` widget has a default size of `80x24`which is not modified by VID. I guess it should. Perhaps `field`'s size should also be calculated by VID instead of keeping the default.

Arie-vw

[14:48](#msg5749afae10f0fed86f490e07)@dockimbel OK. We'll wait for that then. It only makes some examples on my site look kinda awkward ...

dockimbel

[16:12](#msg5749c36ba0fc3091611b1889)@Arie-vw Just change the default size of `text` type to whatever suits your need. If you want equal spacing, set the default size to a square:

```
view [
	style text: text 24x24
    below  text "1" text "2"
    across text "3" text "4"
    return
    across text "4" text "5"
]
```

[16:15](#msg5749c412a0fc3091611b188c)For the gap between "2" and "3", I'm not sure VID can figure out a right formula that would work in all cases, as you are changing the layout direction. I think it would require tighter control over intra-row/column alignments, which I plan to include in a future release.

[16:21](#msg5749c5964a49504d6099ee33)Also `view/tight` or using `space 0x0` would give better results.

Arie-vw

[17:31](#msg5749d5d6a78d5a256e38bd56)@dockimbel Thx. Will use your tips in the examples!

greggirwin

[19:14](#msg5749ee03ec10ddbb09db9d16)@dockimbel , you said you wanted a list of missing Rebol words, so I worked something up: https://gist.github.com/greggirwin/4948e93c7df3aef301f0d40b299a4aad

Comments welcome. Everyone's priorities will be different of course.

meijeru

[19:28](#msg5749f15a10f0fed86f49199f)I have used `array` a lot in several applications. It is self-documenting and obviates a lot of tedious initialisation code.

## Sunday 29th May, 2016

greggirwin

[01:46](#msg574a49e7454cb2be094fe5b3)I've decided the wincrypt API is just too much of a pain for doing HMAC at this point (me being new to Red/System and also not a crypto guy). For some reason, I thought it would make things easier. :^) So now I'm going to use the hashing parts that already work and do the rest myself. That means having a few 64-byte buffers to set up, and then join with the data and hash.  
The fixed buffers are easy enough to set up (`as byte-ptr! "^@^@^@^@...`), though I don't know if that's the best approach. The bigger question is whether there are nice shortcuts for the joining part, or do I need to `allocate`, `copy-memory`, etc. If there are parts of the red/system code I should use as examples, that works too.

dockimbel

[04:00](#msg574a696ea0fc3091611b1b14)@greggirwin You should rather use `allocate` to set up fixed buffers, unless you need to prefill them with special values (in such case a c-string! or literal array is fine). There are no joining functions in the R/S runtime library, so you have to do it manually. For the wincrypt API, have you seen this \[example](https://msdn.microsoft.com/en-us/library/windows/desktop/aa382379%28v=vs.85%29.aspx) code in C?

greggirwin

[10:24](#msg574ac34210f0fed86f493285)The fixed buffers can have a prefill to xor with, but isn't required.

That example is the main one I was working from, but CryptDeriveKey wasn't working for plain keys, so I moved to trying CryptImportKey which had worked for others facing the same problem, but it was failing too. And since I haven't used the APIs before, and am not a crypto guy, it's slow to figure out what is failing and why. I also have to recompile a lot, because I haven't had to deal with pointers for a long time. ;-)

dockimbel

[10:27](#msg574ac407a78d5a256e38daa2)@greggirwin For fast compilation cycles, just work on a standalone R/S file, and compile it directly, then once ready, you can integrate it with the Red runtime API (longer compilations).

greggirwin

[13:02](#msg574ae84880352f204df327a8)SOOOOO much easier to not use the crypto API. I get correct results now.

SteeveGit

[14:51](#msg574b01d88fba4a053f1b00f4)

```
a@Ubun:~/Desktop/red-master$ ./red-28may16-692ad47.exe 
Compiling Red GUI console...
*** Compilation Error: argument type mismatch on calling: exec/gui/get-text-size 
*** expected: [struct! [
        header [integer!] 
        padding [integer!] 
        x [integer!] 
        y [integer!]
    ]], found: [integer!] 
*** in file: %/C/users/Public/Application%20Data/Red/red-console.red 
*** in function: exec/ctx226~size-text
*** at line: 1750 
*** near: [pair]
```

&gt;

[14:51](#msg574b01fa8fba4a053f1b00f5)On wine (Ubuntu 64x)

[14:53](#msg574b0268548104867b682d43)Seems related to an old fix \[fix](https://github.com/red/red/commit/8f52e5d8a9433209163cc12b41393eaa7df699de)

[14:58](#msg574b03858fba4a053f1b00f9)

dockimbel

[15:53](#msg574b106b8fba4a053f1b011a)@SteeveGit Can't reproduce, looks like your Red instance is corrupted somehow?

SteeveGit

[15:54](#msg574b10c58fba4a053f1b011d)Hmmm !

dockimbel

[15:56](#msg574b11164a49504d6099f220)@SteeveGit The GUI console code gets used on Linux instead of the CLI version, that's the cause of the compilation error.... Ah no, you're running it under emulation...

SteeveGit

[15:57](#msg574b115fa0fc3091611b1c7c)I use wine, it should works with the gui-console.  
I must clean %/C/users/Public/Application%20Data/Red/ perhaps?

dockimbel

[15:57](#msg574b117b548104867b682d67)Yes, that would be a good start.

SteeveGit

[16:02](#msg574b127ba0fc3091611b1c84)nope, nothing...

[16:19](#msg574b169d548104867b682d75)Then, I'll try to recompile the gui-console from sources

dockimbel

[16:24](#msg574b17a64a49504d6099f23c)Try downloading the Red binary again, maybe an issue with our build?

SteeveGit

[16:24](#msg574b17c2548104867b682d77)compilation from source is Ok

[16:24](#msg574b17d1a0fc3091611b1c9a)Will try downloading again

[16:26](#msg574b18414a49504d6099f245)(have to wait for the refresh)

meijeru

[16:36](#msg574b1a8c6bbc2d1d4def3726)I must be overlooking something simple: the following program runs with the interpreter OK, but when compiled does nothing at all:

```
Red [Needs: 'View]
#include %../../sources/environment/console/console.red
print "Here I am"
ask "OK"
quit
```

dockimbel

[16:41](#msg574b1baf8fba4a053f1b0152)@meijeru Here it launches the console, which is what such code is supposed to do.

meijeru

[16:42](#msg574b1bf5454cb2be094fff00)So how do I make it execute the statements that follow, IN the console?

dockimbel

[16:43](#msg574b1c2e4a49504d6099f25b)@meijeru The console is a loop, so your `print` code is never reached (the console will `quit` from an event handler). The current console has no I/O port, and the internal events are not exposed at Red level, though there are probably ways to hack it from R/S.

meijeru

[16:44](#msg574b1c67da3f93da6f215a91)Should I then just open the console, and execute the rest of the statements by `do %some-file`?

SteeveGit

[16:44](#msg574b1c734a49504d6099f25d)@dockimbel Lol, was waiting for a new version id, for nothing. It's ok now. Auto Compile is OK. I wonder what you changed ?

dockimbel

[16:44](#msg574b1c824a49504d6099f25f)@SteeveGit Nothing. Probably the cosmic rays flipping bits in the server's RAM. ;-P

SteeveGit

[16:45](#msg574b1cc0548104867b682d8e):fearful:

dockimbel

[16:46](#msg574b1ce1548104867b682d8f)@meijeru Yes, from the console itself.

meijeru

[16:47](#msg574b1d2f6bbc2d1d4def3796)OK, but the catch is, my really interesting program does not only need `ask` but also some R/S code, and I fear the console interpreter cannot execute those, right?

dockimbel

[16:49](#msg574b1d88a0fc3091611b1cc1)@meijeru `ask` should run from the console, and for R/S code, no problem for running it if it was precompiled as a routine.

meijeru

[16:51](#msg574b1df810f0fed86f493fd5)But (pre-)compilation generates an `. exe` file. How do I start that from the console?

dockimbel

[16:58](#msg574b1f99a0fc3091611b1cd0)You can compile a custom console, like you did above, just include your R/S and Red code before the `#include` of the console code. In the future, it will be possible to extend Red at runtime using precompiled modules (that's for a 0.8.x version).

meijeru

[17:05](#msg574b2154da3f93da6f215b7a)@dockimbel Thanks very much for the tip. I did't realize it was the ORDER of statements.

[18:22](#msg574b335a6bbc2d1d4def3bd4)However, this does not work either. If I have `ask` at top level before the #include, there is an error `ask not found`. If I put `ask` in a function which I call before the #include it still does not do anything.

Zamlox

[20:32](#msg574b51ebf44fde236e5177bb)how do I use

```
change
```

modifier with

```
parse
```

?

greggirwin

[20:57](#msg574b57a4454cb2be09500ab7)How do I get the word used as an argument in Red/System? e.g. I get the `method`passed to `checksum`, and I want to print it out in the error message if it's not supported. I have it as a red-word! (`method: as red-word! arg + _method`) but haven't figured out how to dereference it.

qtxie

[21:37](#msg574b6113f44fde236e517b0b)@greggirwin Use this:

[21:38](#msg574b6142454cb2be09500cc9)

```
method: as red-word! arg + _method
id: symbol/resolve method/symbol                 ;-- get word! internal id in R/S
```

[21:41](#msg574b6213f44fde236e517b51)For error handling, now we should use `fire [TO_ERROR(script invalid-arg) method]` instead `print-line "** Script error: invalid argument"`.

[21:46](#msg574b633bec10ddbb09dbd167)@Zamlox The unit test is always a good place to learn. ;-)  
https://github.com/red/red/commit/c9c124d48b5d4ed80c997c545b6a18a20248ac02  
https://github.com/red/red/commit/7a33c97d07dd8a2b1e9752c8e71574dc8fcf7521

Zamlox

[21:47](#msg574b637df44fde236e517b9e)@qtxie thanks ;)

## Monday 30th May, 2016

TimeSlip

[00:04](#msg574b838cf44fde236e51809c)Is there a Red mysql driver?

qtxie

[01:35](#msg574b98d310f0fed86f49563a)\[!\[red-vscode.gif](https://files.gitter.im/red/red/w4hg/thumb/red-vscode.gif)](https://files.gitter.im/red/red/w4hg/red-vscode.gif)

[01:36](#msg574b991f10f0fed86f495642)Quick hack in weekend. Red VSCode Auto-completion plugin. :smile:

JenniferLee520

[01:40](#msg574b9a2610f0fed86f49565f)@qtxie That's great.

dockimbel

[02:44](#msg574ba926a0fc3091611b1f04)@TimeSlip Not yet, we don't have proper networking support for that yet. Once 0.7.0 will be there, it will be possible to build a native MySQL driver as I did for Rebol.

greggirwin

[03:04](#msg574badd8a78d5a256e390115)Thanks @qtxie ! Nice hack there too.

[03:10](#msg574baf30f44fde236e5185fb)`fire` works great. I tried using `symbol/resolve` but either got an address output or a crash, when trying to print it.

[03:27](#msg574bb317da3f93da6f21753a)`fire` problem?

```
red>> print checksum/key/method data 'key 'sha512
*** Script error: checksum does not allow word! for its size argument
*** Where: checks
```

qtxie

[03:37](#msg574bb56fa78d5a256e39022b)Looks like the typecheck's problem.

dockimbel

[03:40](#msg574bb6198fba4a053f1b0354)@greggirwin Try `checksum/method/key data 'sha512 'key`.

greggirwin

[03:41](#msg574bb64c10f0fed86f495abc)Same error. Always says `size`.

[03:41](#msg574bb65810f0fed86f495abd)I'm intentionally using a bad type to test it.

[03:41](#msg574bb68080352f204df34957)Oh, wait, you switched the refinement order.

[03:43](#msg574bb6cba78d5a256e39024d)But my example above \*should* say `key-value`, correct?

dockimbel

[04:02](#msg574bbb73a0fc3091611b1f4a)@greggirwin Yes, might be related to #1154.

[04:03](#msg574bbb9c4a49504d6099f4b7)@greggirwin I've put my comments on your PR, @qtxie should review it too.

[04:04](#msg574bbbc1548104867b682fb8)We can have a look at that wrong error message after your PR is merged.

greggirwin

[04:09](#msg574bbd0fda3f93da6f217668)Thanks! Commented back.

dockimbel

[04:18](#msg574bbf06548104867b682fbf)@greggirwin Just out of curiosity, do you use `unless` in your Rebol code?

pekr

[05:37](#msg574bd19df44fde236e518a1f)@dockimbel - is the Visual Studio Code support to be officially released? Or just some kind of proof of concept/prototyping?

dockimbel

[05:38](#msg574bd1f24a49504d6099f4f4)@pekr It will be officially released, it's already available on the VSCode store, though it's still incomplete and the color schemes are not final yet. It will be a free plugin.

greggirwin

[05:44](#msg574bd32d454cb2be09501c6f)I never use `unless` in Rebol. As you say in your comment, it's subjective. I've even tried to figure out why it trips my brain up when I see it.

dockimbel

[05:45](#msg574bd382548104867b682fda)It took me a while to get used to it when Carl introduced it first, but now I'm a big fan of it to replace the `if none?` and `if not` patterns in my Redbol code. It squizzes two words into one without loosing meaning, which I find really valuable, as conditional expressions often take significant horizontal space on the line.

rebolek

[05:46](#msg574bd3bd4a49504d6099f4fa)I like `unless`.

greggirwin

[05:46](#msg574bd3c380352f204df34cac)The best reason I've come up with is that I don't use it, and don't normally hear it, as the first thing someone says when they speak. It would be used as a clause in the middle "Do this unless...". And something about `if not` is so not-English-y that I don't think of it that way. It's like `unless` wants to sound more like English, but at the head of a sentence it doesn't. It's like an "uncanny valley" of grammar.

[05:47](#msg574bd3f4f44fde236e518a66)I'll keep trying to get use to it. ;^)

[05:50](#msg574bd490da3f93da6f217973)@dockimbel, how does it save space (re: long lines)?

dockimbel

[05:50](#msg574bd4b2a0fc3091611b1f7e)@greggirwin Interesting insights into English grammar, I guess it explains why non-native English speakers have less trouble adopting it.

pekr

[05:52](#msg574bd5206bbc2d1d4def54e7)oh Facebook - supports gif anims on personal profiles but not in terms of groups :-/

dockimbel

[05:52](#msg574bd525a0fc3091611b1f80)@greggirwin Well, actually very little characters saved, but I find the reduction of two words to one very pleasant, as it allows me to read the code quicker. So, I guess we can say that it increases expressivity (though, sometimes, you \*really* want to test for `none` and not `false`, so you need to pay attention to this edge case).

greggirwin

[05:53](#msg574bd566da3f93da6f217997)That makes sense. Except, for me, when I see it I have to mentally translate to `if not` because the negation isn't clear from it or something. I'm also very bad with directions. :^\\

[05:55](#msg574bd5c9a78d5a256e39060e)Good point on the edge case.

[05:56](#msg574bd61ea78d5a256e39061e)Ack! I just found out why I don't like it: http://www.rebol.com/r3/docs/functions/unless.html "...It has been provided to make PERL programmers happier"

[05:59](#msg574bd6afa78d5a256e39063a)Some night, maybe Carl had too much wine and it seemed like a good idea. Along with `++` and `first+`. ;^)

dockimbel

[05:59](#msg574bd6dd548104867b682fe9)@greggirwin Haha.. I need to ask Carl if he really wrote that line about Perl or was it someone else. ;-) Though, I share your distaste for `++` and `first+`.

greggirwin

[06:00](#msg574bd719454cb2be09501cfc)We can still be friends. :-)

pekr

[06:09](#msg574bd91510f0fed86f495f57)Hmm, strange, but I found `unless`being quite nice word and I like it reading in the source code. Each of us is simply - different :-)

qtxie

[06:44](#msg574be164548104867b682ffa)I always have to mentally translate it to `if not` too. :smile:

PeterWAWood

[08:54](#msg574bffcaec10ddbb09dbea08)Somehow

Zamlox

[09:37](#msg574c09cca78d5a256e3912b1)is it possible to convert a

```
word!
```

into a

```
datatype!
```

? I would like to do something like:

```
type: 'object!
make type []
```

dockimbel

[09:38](#msg574c09fda78d5a256e3912bb)@Zamlox Sure:

```
red>> type: 'object!
== object!
red>> make get type []
== make object! []
```

Zamlox

[09:39](#msg574c0a3480352f204df359a0)@dockimbel Thanks.

DideC

[11:43](#msg574c275e454cb2be09503135)About VS code : this editor looks nice. Do you use it daily ?

dockimbel

[11:49](#msg574c28b6f44fde236e51a034)@DideC I don't, but others do. We chose to support VScode as it's rising very fast to become one of the leading open source IDE.

Arie-vw

[11:54](#msg574c29eda78d5a256e391bc1)Does anybody have a short example of detecting right mouse click in VID?

rebolek

[11:58](#msg574c2aeca0fc3091611b20c5)

```
red>> view [button "right" on-alt-up [print "right click"]]
right click
```

Arie-vw

[12:32](#msg574c32e9ec10ddbb09dbf87a)@rebolek Thx!

[12:50](#msg574c370dda3f93da6f219386)@dockimbel Think I maybe found a bug.

```
view [
	mytext: text 100x25 yello font-size 14 "Default"
    button "Click Me" on-up [mytext/text: "Changed"]
]
```

When I click the button, keep it pressed and move away, the on-up is still fired, which shouldn't be. Now on-up behaves the same as on-click.

JenniferLee520

[15:28](#msg574c5c326bbc2d1d4def7c2b)I Tried VS/Code with Red extension. After Pressing F2, I got 404. ... Apparently, "http://static.red-lang.org/dl/auto/darwin/red-latest" doesn't exist.

## Tuesday 31st May, 2016

dockimbel

[03:39](#msg574d07548fba4a053f1b0a51)@JenniferLee520 Our MacOSX backend sometimes fails to deliver the build on time...I'll try to force a new build.

[04:43](#msg574d1680a0fc3091611b268e)@JenniferLee520 Hmm, actually, the URL is wrong...we'll fix that asap.

greggirwin

[04:51](#msg574d1835ec10ddbb09dc2fd2)Looking at the `parse change` tests @qtxie posted, is it just me or do they not work?

```
red>> parse str: "test" [some [change #"t" #"o" | skip]]
== true
red>> str
== "test"
```

I tried a number of them, and none seem to change the input. Using `remove .... insert only` works.

dockimbel

[04:53](#msg574d18d84a49504d6099fc18)@greggirwin From my console:

```
red>> parse str: "test" [some [change #"t" #"o" | skip]]
== true
red>> str
== "oeso"
```

What does your `red>> about` say?

greggirwin

[04:54](#msg574d1907f44fde236e51dbcc)Red 0.6.0 - 29-May-2016/21:22:59-6:00

dockimbel

[04:56](#msg574d1963548104867b6836a0)@greggirwin Should be working fine... Try downloading the newest build.

greggirwin

[04:56](#msg574d1981da3f93da6f21caf0)Rebuilt the console version and it works. Will rebuild the GUI and check. Sorry for the false alarm.

dockimbel

[06:32](#msg574d30074a49504d6099fc5e)@JenniferLee520 We pushed a fixed version of the VS extension, please \[upgrade](https://code.visualstudio.com/Docs/editor/extension-gallery#\_update-an-extension) to the new version, and give it a new try.

[07:00](#msg574d36a68fba4a053f1b0ace)@rebolek You can try the new reactive API using this example:

```
obj1: make reactor! [value: 20]
obj2: make reactor! [data: 10%]
react [obj2/data: to percent! (obj1/value / 200.0)]
obj1/value: 60
probe obj2/data
```

[07:02](#msg574d36f1548104867b6836e4)Basically, when you create a new object, instead of using `object!`as the type, use `reactor!` and it becomes reactive. ;-) It also has a new way to specify the relations using a function instead of a block, but support for it is not yet completed.

JenniferLee520

[07:02](#msg574d36f980352f204df3a271)@dockimbel It works now.

[07:08](#msg574d388910f0fed86f49b769)@dockimbel I guess that `Face!` is `Reactor!` by default. Am I right?

rebolek

[07:12](#msg574d39588fba4a053f1b0ae0)@dockimbel I switched branch to \*\*reactive\*\*, compiled \*\*gui-console\** and I'm getting

```
red>> obj1: make reactor! [value: 20]
*** Script error: reactor! has no value
```

Do I need to include something there?

JenniferLee520

[07:15](#msg574d3a11a78d5a256e395ddf)@dockimbel Do you have a general name for things like `Face!` and `Reactor!`? They are not datatypes, but they look like datatypes and have certain unique features. Can we call them "Pseudo-types"? or "Pseudo-type" has been used for calling things like `Series!` and `Any-block!`?

pekr

[07:38](#msg574d3f63454cb2be095073b9)What does "generalized reactive programming support" mean? :-)

[07:39](#msg574d3fa910f0fed86f49b988)Does it mean object's `on-change`taking it to the next level?

dockimbel

[08:59](#msg574d527b6bbc2d1d4defb2c8)@JenniferLee520 `face!` has its own special reactor implementation. But, basically, yes, it relies on the same features.

[09:03](#msg574d537c80352f204df3ab2e)@rebolek Did the same on a new box, compiles and works fine here.

[09:07](#msg574d544fec10ddbb09dc3ea6)@JenniferLee520 Strictly speaking, `face!` and `reactor!` are \*classes* we use for constructing instances. Though, such terms would confuse most OOP coders. `series!` and `any-block!` are just typesets. You could also call them "virtual types" or "pseudo-types" if you want.

[09:08](#msg574d5482454cb2be09507ab1)@pekr It means you can use reactive programming for anything you want, not just GUI faces. You just use reactors instead of objects to enable the reactions. It's the Dataflow Programming \[paradigm](https://en.wikipedia.org/wiki/Dataflow\_programming).

pekr

[09:19](#msg574d570480352f204df3ac84)We could call those classes a prototypes maybe? Carl always referred to Rebol's OO as being a prototype based?

[09:20](#msg574d577a6bbc2d1d4defb4cc)@dockimbel not a big deal (no strong opinion here) and I know, that redbol always tries to name stuff accurately, but is it needed to have such a long name - `system/reactivity`? Even if not precisely that, wouldn't `system/react`or `system/reactions`make it?

[09:21](#msg574d57b1f44fde236e51ebe0)Looking forward to see the concept utilised elsewhere apart from GUI ...

dockimbel

[09:22](#msg574d57e880352f204df3accc)@pekr Right, "prototype" is more accurate. Sorry, I'm doing many things at the same time. ;-)

DideC

[09:48](#msg574d5e06a78d5a256e396943)Even if I never use it, does reactor engine has the same usages as Max's Liquid engine ?

dockimbel

[09:49](#msg574d5e39a78d5a256e396954)@DideC They are both dataflow engines, Red uses a \*push* model, Liquid relies on a \*pull* one.

DideC

[09:55](#msg574d5f94a78d5a256e3969b2)I suppose that \*push* model means that a change is propagated imediately to the connected values (in cascade) and that \*pull* model means that the value is compute only when it is accessed.

pekr

[09:55](#msg574d5f9810f0fed86f49c44c)Hopefully it is not going to slow down objects? Looking forward to some non-GUI examples of usage ....

dockimbel

[09:56](#msg574d5fd3a78d5a256e3969cd)@DideC It's roughly that, yes. We could extend the Red engine to also support pulling, though, for now, just pushing should do.

[10:02](#msg574d612d80352f204df3af95)@pekr \*Hopefully it is not going to slow down objects?* Sorry, we do software development, not magic. Run-time features have a cost, if your primary concern is speed, don't use the feature, stick to Red/System only and you'll be happy. ;-)

DideC

[10:06](#msg574d6242f44fde236e51ef55)@pekr I don't now if it will be possible, but imagine that `port!` would be based on `reactor!`. Then you could have a `mailbox: make reactor! [items: 0 ...]` in your program that you connect to the result of the `length?` action on a POP `port!`. So reading the port length change the `mailbox\items` number. And you could also connect your `mailbox\items` to a label or field in your layout so that it is directly change on screen without having to change the value yourself. Just dreaming out loud ;-)

dockimbel

[10:11](#msg574d63646bbc2d1d4defb8f0)@DideC That's the idea, yes. You set up chains of relations between different objects and let the system handle the updates for you.

rebolek

[10:22](#msg574d65caa0fc3091611b27f7)@dockimbel I can get your example working in console, but not in gui-console.

dockimbel

[10:46](#msg574d6b8da78d5a256e396dea)@rebolek Works fine in both consoles here. Try using the newest commit, it allows to use functions also now, so that you can setup dynamic relations more easily (no need to have named objects in this case):

```
obj1: make reactor! [value: 20]
obj2: make reactor! [data: 10%]
reaction: func [a [object!] b [object!]][ a/data: to percent! (b/value / 200.0) ]
react/link :reaction [obj2 obj1]
obj1/value: 60
probe obj2/data
```

endo64

[11:02](#msg574d6f62454cb2be09508404)Below code prints `clicked` when I double click on the text, is it a bug or it should be like this?

```
red>> view [text "click" [print "clicked"]]
```

dockimbel

[11:16](#msg574d72816bbc2d1d4defbdc2)@endo64 It qualifies as a bug.

Arie-vw

[11:30](#msg574d75ec454cb2be095085fd)@dockimbel @endo64 I also noticed that double click on button does not seem to be honored with on-dbl-click

dockimbel

[11:31](#msg574d7622ec10ddbb09dc49c1)@Arie-vw You cannot double-click a button, you will always get `click` events instead of `dbl-click`.

endo64

[11:32](#msg574d7661f44fde236e51f5ad)Ticket opened.

[11:42](#msg574d788b6bbc2d1d4defbf6d)By the way, `find/same` and `select/same` are great.

Arie-vw

[11:43](#msg574d78dba78d5a256e3971bb)@dockimbel Seems logical. Don't saw that mentioned in the docs though ...

dockimbel

[11:43](#msg574d78f980352f204df3b6f6)@endo64 Indeed, I missed them more than once in Rebol. ;-) They perform magnitudes faster than the default comparator on series and objects.

Arie-vw

[11:51](#msg574d7ab5da3f93da6f21e65b)@endo64 Don't see find/same in the docs. Is it bleeding edge code?

dockimbel

[11:51](#msg574d7ac710f0fed86f49ccd2)@Arie-vw Which docs?

Arie-vw

[11:51](#msg574d7ad8ec10ddbb09dc4b1c)Help in repl

dockimbel

[11:52](#msg574d7b01f44fde236e51f722)@Arie-vw Do you have latest automated build? It was merged an hour ago (see right panel logs in this chatroom).

Arie-vw

[11:53](#msg574d7b1f10f0fed86f49ccf1)Not yet. therefore I asked about bleeding edge ;-) Will download ...

rebolek

[12:43](#msg574d86ffa0fc3091611b2897)Has anyone else tried the new reactive stuff? I can’t get it running under gui-console, although it works great in normal console. I wonder if anybody else is having the same problem.

[12:50](#msg574d887f8fba4a053f1b0cb6)Geez, ignore my last message, it’s of course not Red problem, but some crazy VM/filesystem caching stuff.

[12:50](#msg574d8897a0fc3091611b28a7)when I copy gui-console and run it from other location, it works fine.

greggirwin

[17:27](#msg574dc991ec10ddbb09dc6b3b)On the idea of removing `checksum/method`, and just making the method a straight arg, it raises questions (as always).

```
red>> checksum "" 'md5
== #{D41D8CD98F00B204E9800998ECF8427E}
red>> checksum/key "" 'md5 ""
== #{74E6F7298A9C2D168935F58C001BAD88}
```

1\) Should the method come before the data arg? Red standard is target series first, but that puts the method between it and the key when `/key` is used.  
2\) `/hash`. Still needs to be a refinement to make the hash size optional. Then what do you pass as the method?  
We could change `/key` to `/with`, have a `hash` method, and let that arg be string or integer, but that doesn't strike me as a great solution.  
Thoughts?

rebolek

[17:43](#msg574dcd41548104867b683b77)@greggirwin I prefer standard arg order.

greggirwin

[18:47](#msg574ddc3df44fde236e521f88)Me too. The question, then, is whether removing `/method` makes things better.

Zamlox

[20:49](#msg574df8bc6bbc2d1d4deff245)bug ?

```
item: none
dict: #(a 1 b 2)
foreach item dict [ probe item  ]
*** Script error: foreach does not allow map! for its 'word argument
*** Where: foreach
```

but description of foreach say:

```
series  [series! map!]
```

.  
Also the error message is not accurate, it complains about

```
'word
```

being

```
map!
```

which is not the case:

```
item: none
```

greggirwin

[21:16](#msg574dff1f80352f204df3ec0a)The incorrect message may be related to `fire` which @qtxie pointed out not long ago. The error itself seems like a bug, because these work:

[21:17](#msg574dff6c454cb2be0950bc55)

```
red>> foreach [k v] dict [ print [k v]  ]
a 1
b 2
red>> foreach [item] dict [ probe item  ]
a:
1
b:
2
== 2
```

Zamlox

[21:55](#msg574e0843ec10ddbb09dc82b4)@greggirwin all right, thanks.

## Wednesday 1st June, 2016

dockimbel

[01:25](#msg574e397b4a49504d609a0396)@Zamlox We haven't allowed iterating on a map directly, as a map is not a series, it's a 2-dimensional aggregate (same for object, series are 1-dimensional). The fact that it works with a block of words is a side-effect of the implementation we need to fix. The intended way to iterate over map's content is to extract the right series using one of the accessor: `keys-of` or `values-of`:

```
red>> item: none
== none
red>> dict: #(a 1 b 2)
== #(
    a: 1
    b: 2
)
red>> foreach item keys-of dict [ probe item probe dict/:item ]
a
1
b
2
```

[01:25](#msg574e398da0fc3091611b2db8)The inaccurate error message is a bug. Also, if the series aspect is important for your data structure, you can use a hash! instead of a map!.

greggirwin

[02:07](#msg574e435f10f0fed86f4a11a3)"It's not a feature, it's a bug." -- First time I ever heard that. :^)

dockimbel

[02:07](#msg574e43778fba4a053f1b11ea)Actually, the inaccuracy in the error message is not a bug, just a side-effect of letting map! pass.

qtxie

[03:18](#msg574e541d10f0fed86f4a14de)I think it is logical to iterate a map with `key-value pair`, so we can do this:

```
foreach [k v] dict [ print [k v]  ]
```

It is more readable than this one:

```
foreach item keys-of dict [ probe item probe dict/:item ]
```

But we should disable those for map as below:

```
foreach [k1 v1 k2] dict [ print [k1 v1 k2] ]     ;@@ should throw an error
foreach [item] dict [ probe item  ]         ;@@ should throw an error
foreach item dict [ probe item  ]           ;@@ should throw an error
```

dockimbel

[03:38](#msg574e58ab8fba4a053f1b1211)@qtxie You can already achieve that using:

```
foreach [k v] body-of dict [ print [k v] ]
```

Where the map is "flatten" using `body-of`. It avoids introducing a special rule for `foreach`. We can optimize `body-of` for memory usage when applied to a map. Anyway, if you need to navigate through both keys and values at the same time, you should consider using a hash! instead of a map!.

[03:51](#msg574e5bda8fba4a053f1b1219)Also, remember that a map! is not supposed to guarantee any order for its elements. It does have a defined ordered in our current implementation, but we could change that in the future.

qtxie

[03:52](#msg574e5c1780352f204df3feef)Yes. One problem is sometime we cann't control the data structure. For example, I'm using an API and it return a map!, like `json/decode`.  
Another problem is the performance as you mentioned. If the map! is huge, `body-of` will create a huge block!

dockimbel

[03:58](#msg574e5d4aa0fc3091611b2e09)@qtxie ...unless it just returns a reference to the underlying structure...though we would need to "observe" the possible modifications then. JSON is an interesting use-case.

qtxie

[04:05](#msg574e5ef3ec10ddbb09dc9276)Also it's related to the implementation. For now we store all key-value pairs in a block, so we can returns a reference to it. If we seperate them into two blocks later for some reasons, then it's not working....

dockimbel

[04:07](#msg574e5f7ba0fc3091611b2e10)@qtxie Exactly, that's why the accessors are the safer and future-proof option. Though, the memory overhead could indeed be a problem.

[04:08](#msg574e5fc04a49504d609a042d)@qtxie Do you have the need to iterate over maps produced by decoding JSON data?

pekr

[04:21](#msg574e62da6bbc2d1d4df0085c)Hmm, I think that we can expect requests to iterate over maps, as ppl feel it might be natural thing to have. Most of the time reflectors will do it, if the map is not big. I also remember in the past, doing some bridge, mapping some records, I iterated over objects. As with Redbol, you can decide which way you go ...

qtxie

[04:35](#msg574e66276bbc2d1d4df008e0)@dockimbel Nope. Actually I need to iterate it when encoding it to JSON data.

dockimbel

[04:49](#msg574e6974548104867b683e30)@pekr \*doing some bridge, mapping some records, I iterated over objects.* This kind of usage doesn't usually require iterating, just use SET native (can even do selective setting in Red).

Zamlox

[05:12](#msg574e6ebba78d5a256e39bdf7)@dockimbel @qtxie thanks for detailed explanation.

dockimbel

[05:18](#msg574e7036a0fc3091611b2e47)Maybe a good option could be to have a specific iterator for 2-dimensional aggregate structures:

```
extract-each dict [print [key value]]
```

It would need a better name I guess. `key` and `value` would be fixed and bound to a local context. This iterator wouldn't work on series, so we would avoid confusion between series and non-series datatypes. Moreover, we wouldn't need then a special case in `foreach`.

Zamlox

[05:20](#msg574e7091da3f93da6f223293)

```
foreach [k v] dict [ print [k v]  ]
```

works well for my use case. I'm happy with that.

greggirwin

[05:20](#msg574e70baec10ddbb09dc94e6)I was just going to suggest a special `for-map` cookbook model. A quick search tells me that having to use `keys-of` won't be a deal-breaker compared to other languages. Someone might say that X is better because it has a specific `k-v` iterator, but we can build one easily.

dockimbel

[05:21](#msg574e70ea4a49504d609a0455)@Zamlox I pushed a commit (unfortunately on the wrong branch) that would prevent such usage on maps.

Zamlox

[05:23](#msg574e714b10f0fed86f4a1902)ok

dockimbel

[05:23](#msg574e715f4a49504d609a0457)Another possibly better name for such iterator: `select-each`. I think "select" is a relevant choice there as the semantics of `select`action are tied to key/value structures. `for-map` could work, but if we want to extend it to objects too, we might need something more general. Also, I think we will make a convention (if that's not already the case) of using `-each` suffix to denote iteration over something with evaluation of a block of code (I'm thinking about upcoming HOF naming scheme).

greggirwin

[05:25](#msg574e71e0da3f93da6f2232b4)Good point. Nice name.

pekr

[05:26](#msg574e71fcda3f93da6f2232bb)I lack internal Red knowledge to understand the topic. Could you please easily (if it is possible :-) ) explain, why you can see a problem with default iterators to work with maps?

[05:28](#msg574e7260f44fde236e5243cd)It almost seems to me, that Redbol got sometimes caught at its own cage - on one side claiming a multitude of datatypes, but then diverging and breaking polymorphism by introducing do-browser, do-service, whereas I ideally want just one 'do.

Zamlox

[05:31](#msg574e73466bbc2d1d4df00ac9)Another question:  
I have following scenario:

```
obj: object [a: [1 2 [3 4]]]
c: first [a/3/1]
```

How may I set value pointed by

```
obj/a/3/1
```

but using word

```
c
```

(as optimal as possile)?

pekr

[05:41](#msg574e75a36bbc2d1d4df00b25)What is HOF naming scheme, please?

dockimbel

[06:23](#msg574e7f6fa0fc3091611b2e70)@pekr Higher-Order Functions from functional programming, like map, apply, curry, fold, zip, filter,...

pekr

[06:24](#msg574e7fae454cb2be0950d407)Agree with renaming using -each extension. It will not work for `forall`though. But - I hardly remember, if I ever used it ....

rebolek

[06:27](#msg574e80388fba4a053f1b1290)`forall` is great when you need index.

dockimbel

[06:33](#msg574e81baa0fc3091611b2e7c)@Zamlox

```
obj: object [a: [1 2 [3 4]]]
c: first bind [a/3/1] obj

red>> set c 0
== 0
red>> obj
== make object! [
    a: [1 2 [0 4]]
]
```

Though, it works only because the path is in a block. It would be useful (and a bit more efficient) to allow `in`working on a path for such use-cases, so you could also use the following form:

```
obj: object [a: [1 2 [3 4]]]
c: in obj 'a/3/1
```

rebolek

[06:49](#msg574e857f4a49504d609a04a3)That would be really useful improvement.

dockimbel

[06:51](#msg574e860ca0fc3091611b2e90)Please open a wish ticket for it. ;-)

[06:52](#msg574e864b8fba4a053f1b12a8)What about this extension for allowing local reactive rules for reactive object fields:

```
a: make reactor! [x: 1 y: 2 total: is [x + y]]

what-is? a 'total
== [x + y]
```

[06:55](#msg574e86ec548104867b683e8f)This could be a nice syntactic sugar for what you could already do (but more verbose):

```
a: make reactor! [x: 1 y: 2 total: 0]
react [a/total: a/x + a/y]
```

[06:57](#msg574e8772a0fc3091611b2e95)(just thinking loud)

rebolek

[06:59](#msg574e87e44a49504d609a04a8)Can’t comment on this yet, I need to get used to reactive programming bit more :)

pekr

[07:27](#msg574e8e7c454cb2be0950d78b)is `is`a function? Or just some keyword in regards to `reactor!`constructor?

[07:31](#msg574e8f55f44fde236e5249c7)Maybe we could use `as`, as we have such functions already .... but those serve for conversion purposes, so probably not a good idea ...

[07:34](#msg574e900ada3f93da6f2238d5)@dockimbel - `what-is?` reminds me of how nicely (well, to me) R3's `why?`served for thrown errors. Btw, I also like - bugs, demo, docs, help, upgrade, changes words available with R3 console. Some of them might be useful, improving user experience. What do you think about such possible future additions?

Zamlox

[09:03](#msg574ea4c910f0fed86f4a2574)@dockimbel thank you for example. I will try to open a wish ticket for

```
in
```

enhancement in the following days.

rebolek

[09:06](#msg574ea5844a49504d609a051e)@Zamlox you don’t have to, I did it for you already ;) https://github.com/red/red/issues/1952 Feel free to comment with improvements.

Zamlox

[09:06](#msg574ea59bf44fde236e525044)@rebolek thanks ;)

meijeru

[11:15](#msg574ec3e9da3f93da6f224903)On the subject of \*\*ownership\*\*: does the `series-owned` flag apply to bitsets and maps as well? (they are not in typeset `series!`, nor do they inherit actions from the `series!` peudo-type .)

dockimbel

[13:03](#msg574edd10da3f93da6f225186)@meijeru Not yet, but yes, we plan to support them as well. The object events need a new iteration to reach the final API I'm targetting, we'll add support for more owned types then.

greggirwin

[13:32](#msg574ee3f8da3f93da6f22545b)@dockimbel, I like the `-each` idea as I've used it myself. My old `collect` func I now call `collect-each`, I also have `keep-each`and `count-each`. I have a slot for `find-each` but have never needed it in real code.

I do also see the value in non-`each` core HOFs (`map`, `filter`, 'fold/accumulate\`), beyond being a lure for Lisp/Clojure fans. :^) I'm sure you'll be shocked to hear that I have thoughts on the subject. ;)

[13:41](#msg574ee62780352f204df42309)I recently found Rich Hickey's blogs on transducers in Clojure, but had to implement it in Red before it made sense beyond just being a curried `fold` (one big thing being like `/into`for avoiding extra block creation). The importance of `*-each` is that it makes things more accessible (IMO).

[13:49](#msg574ee7d3ec10ddbb09dcb871)`Map` is easy in its basic form: `collect [foreach value series [keep/only fn value]]`

Applying args not included. :^)

But, since `forall` was mentioned, I can tie in the idea of including extra info that is used \*if* the mapped function supports it. The idea came from JS:

```
map-js: func [
	"Evaluates a function for all values in a series and returns the results."
	series [series!]
	fn [any-function!] "Function to perform on each value; called with value, index, and series args"
	/only "Insert block types as single values"
	;/skip "Treat the series as fixed size records"
	;	size [integer!]
][
	collect [
		repeat i length? series [   ; use FORSKIP if we want to support /SKIP.
			keep/only fn series/:i :i :series ; :size ?
		]
	]
]
res: map-js [1 2 3 a b c #d #e #f] :form
res: map-js [1 2 3 a b c #d #e #f] func [v i] [reduce [i v]]
res: map-js [1 2 3 a b c #d #e #f] func [v i s] [reduce [i v s]]
res: map-js "Hello World!" func [v i s] [pick s i]
```

dockimbel

[13:55](#msg574ee96f70ab94ff27a9678d)@greggirwin \*I do also see the value in non-each core HOFs* I'm undecided yet about the naming scheme, I also value shortness of names a lot, especially for core functions.

greggirwin

[13:58](#msg574ee9f510f0fed86f4a3d42)`filter` is interesting. I like `remove-each` because there's no confusion about what it does. `Filter` always makes me stop and think "Is it filtering things \*out* or \*keeping* filtered things?" One solution is to have it do both.

```
filter: function [
	"Returns two blocks: items that pass the test, and those that don't."
	series [series!]
	test [any-function!] "Test (predicate) to perform on each value; must take one arg"
	/only "Return a single block of values that pass the test"
][
    ;TBD: Is it worth optimizing to avoid collecting values we won't need to return?
    result: reduce [copy [] copy []]
	foreach value series [
		append/only pick result make logic! test :value :value
	]
	result
]
```

This would be like adding `any-function!` support to `split`.

[13:58](#msg574eea20a78d5a256e39e2f8)Not proposals, yet, just food for thought.

[14:00](#msg574eea71ec10ddbb09dcb9a5)I prefer short names as well, but I also weigh the name length against the code it replaces.

dockimbel

[14:01](#msg574eeabf3b842359659b43b8)HOFs are often used in piped expressions, keeping the name short will make a difference in readability. For those functions, we also want the best possible performances with lowest memory usage, so the implementation will need to support those goals. That said, your implementation of `map-js` and `filter` are elegant.

greggirwin

[14:05](#msg574eebb3ec10ddbb09dcba30)Agreed. Naming schemes can be very helpful though. One reason I like funcs with refinements (e.g. `round`) is because they create a namespace. Not sure that would work for HOFs though. On performance "First, make it work, then make it fast".

dockimbel

[14:06](#msg574eebe63b842359659b43d0)Also, looking at your code, I think we might want to support two sets of HOFs, the `-each` one, taken a block as body, and "short-named" ones, taking a function as body argument.

greggirwin

[14:07](#msg574eec20da3f93da6f2257c5)Performance was heavily promoted for Clojure transducers. It comes at a cost though. Or at least it does if you use `/into` in Red. It's something you have to plan for, allocate yourself, and know it will pay off.

[14:08](#msg574eec6cda3f93da6f2257e6)Agreed on two sets of names, because the traditional names for the few core HOFs are important I think. Except that `fold` is a terrible name to me. `Accumulate` is too long though, like `absolute`.

[14:10](#msg574eecd36bbc2d1d4df02fb5)`*-each` are more idiomatic in Red. What is the Red term for "rebolish"?

[14:10](#msg574eecec454cb2be0950f7c0)Redder? ;-)

dockimbel

[14:11](#msg574eed273903ce83717af949)Redish? Redic? Redism?

greggirwin

[14:14](#msg574eedb980352f204df42607)Hardest question yet.

dockimbel

[14:17](#msg574eee743b842359659b43f1)Just refreshed my mind about Clojure's \[transducers](http://clojure.org/reference/transducers), I see nothing there which cannot be easily supported in Redbol too.

greggirwin

[14:20](#msg574eef35f44fde236e526a6f)Agreed.

```
accumulate: function [  ; a.k.a. FOLD
	"Combines the results of a function applied to each value in a series."
	series [series!]
	fn     [any-function!] "Must take RESULT and INPUT args, and return RESULT"
	/with "Use a different starting value than the first in the series"
    	value "Starting value; used as accumulator"
][
    default value first series
	if not with [incr series]
	;assert 2 = length? words-of :fn
	foreach item series [value: fn :value :item]
]
reducing-func: func [
	"Make a reducing function that takes RESULT and INPUT params"
	body [block!]
][
	; Reducing funcs MUST return the result
	if not 'result = last body [body: append copy body 'result]
	func [result input] body
]
```

\*(warning, the above uses `default` and `incr` which are not in Red at this time. And they're just experiments.)*

[14:22](#msg574eefba10f0fed86f4a3fc8)Not exactly transducers, I know, since it does use `foreach`. I think his pure view is that they don't do that.

[14:25](#msg574ef053454cb2be0950f947)My understanding may be flawed because...`Hickey+Clojure`. ;^)

## Thursday 2nd June, 2016

greggirwin

[01:57](#msg574f9295ec10ddbb09dcf117)@dockimbel, any thoughts on whether you want to remove `/method` from `checksum`? After making the change, to play with, I'm not convinced it's better, assuming `/hash` stays. We would munge it further, so the "method" arg gets a new name and could be an int if `/hash` is used.  
I have some tests in prep, but don't want to put them out there and then change the interface.

[01:59](#msg574f92fba78d5a256e3a19aa)I still don't think CRC32 as a default is terribly useful.

[02:00](#msg574f932980352f204df45ba8)@qtxie, do you have any tests you want included for CRC32 that you did?

dockimbel

[03:24](#msg574fa6db70ab94ff27a96cbf)@greggirwin I agree that CRC32 by default is not useful anymore, maybe MD5 should be be default? I don't have any strong opinion on `/method`. It would be nice if it could be replace by a mandatory argument though

qtxie

[03:28](#msg574fa7fb80352f204df45f71)@greggirwin Nope.

greggirwin

[04:03](#msg574fb00a10f0fed86f4a7a82)OK, I have it worked up here to take a mandatory arg, which makes `checksum` calls more self documenting as well. Restating from the other day:

```
red>> checksum "" 'md5
== #{D41D8CD98F00B204E9800998ECF8427E}
red>> checksum/key "" 'md5 ""
== #{74E6F7298A9C2D168935F58C001BAD88}
```

1\) Should the method come before the data arg? Red standard is target series first, but that puts the method between it and the key when `/key` is used. (@rebolek likes standard arg order)  
2\) `/hash`. Still needs to be a refinement to make the hash size optional. Then what do you pass as the method? `none`?  
We could change `/key` to `/with`, have a `hash` method, and let that arg be string or integer, but that doesn't strike me as a great solution.

dockimbel

[04:56](#msg574fbc693b842359659b4982)1) Data argument first, method second. I don't see good reasons to break consistency here.  
2\) I'm leaning towards the `/with` option and add `'hash` and `'key` as possible methods. Given how rarely used (the great majority of Rebol users probably never used those options, maybe not even `checksum` ever), I think that solution is good enough.

greggirwin

[06:14](#msg574fceb0454cb2be09513840)OK, thanks. I'll head down that path.

[06:18](#msg574fcfba10f0fed86f4a7fe9)And I have to say, having not done lower level coding in so long, I thought it would be a long process to ramp up. I'm certainly no expert, but the fact that I could mod the interface to the func, and make it all work this early in my attempts, plus the HMAC stuff, is confidence inspiring. While there are times I try to write straight Red in /System, you've created a wonderful language.

dockimbel

[06:22](#msg574fd0a067d168bb68609966)@greggirwin Thanks. ;-) I also think Red/System is a jewel, often overlooked, in the Red's bag of tricks. I have a lot of ideas to improve it further, especially for Red 2.0. We also need to work on cleaning up the internal Red runtime API, in order to make it simpler and more straightforward to use.

greggirwin

[06:25](#msg574fd175454cb2be095138cc)

```
checksum: make native! [[
		"Computes a checksum, CRC, or hash."
		data 	[binary! string! file!]
		method	[word!]	"CRC32 MD5 SHA1 SHA256 SHA384 SHA512 TCP hash"
		/with
			spec [any-string! integer!] "String key for HMAC value (MD5/SHA*), integer table size for 'hash, ignored for TCP/CRC32."
		return: [integer! binary!]
	]
	#get-definition NAT_CHECKSUM
]
```

?

dockimbel

[06:31](#msg574fd2d2a66904962ebbd1d1)@greggirwin Looks fine to me.

greggirwin

[06:32](#msg574fd2e16bbc2d1d4df07041)Great. Thanks.

meijeru

[12:04](#msg575020b66bbc2d1d4df087bf)@dockimbel FYI, I have just completed a review of the datatype-action matrix and have come up with a few suggestions and questions. They are all in the Issues.

dockimbel

[12:11](#msg5750226a80352f204df47f1f)@meijeru Thanks, will try to answer that asap.

mikeparr

[15:10](#msg57504c54da3f93da6f22c4ab)I'm writing some examples about 'sort'. Could someone tell me (very briefly) what the '/stable' refinement does, please?

rebolek

[15:12](#msg57504cf1a66904962ebbd50d)@mikeparr See http://www.red-lang.org/2015/03/051-new-console-and-errors-support.html :  
&gt; Sort uses Quicksort as its default sorting algorithm. Quicksort is very fast, but it is an unstable sorting algorithm. If you need stable sorting, just add /stable refinement, it will then use Merge algorithm instead to perform the sort.

[15:16](#msg57504dd951d28b6243b67b27)Also https://en.wikipedia.org/wiki/Sorting\_algorithm#Stability

x8x

[18:01](#msg5750747dec10ddbb09dd33a0)Wouldn' t `system/react` or `system/reactive` sounds better than `system/reactivity` ?

pekr

[18:17](#msg5750783880352f204df49fb5)That was my suggestion too ...

mikeparr

[18:41](#msg57507de3ec10ddbb09dd36f6)thanks @rebolek re sort - perfect for me.

## Friday 3th June, 2016

dockimbel

[01:42](#msg5750e07851d28b6243b67f35)@x8x We need a noun ("react" is a verb, "reactive" an adjective) for the context name.

yoffset

[02:07](#msg5750e660f44fde236e53049a)reactance is in the dictionary - reactivity isn't.

dockimbel

[02:23](#msg5750ea3b51d28b6243b67f4f)@yoffset It's there in all the dictionaries online, like \[this one](http://www.dictionary.com/browse/reactivity):

```
Reactivity
noun
1. the quality or condition of being reactive.
```

I'm also not the first one to \[use that term](http://lambda-the-ultimate.org/node/2756), in such context.

greggirwin

[02:24](#msg5750ea6180352f204df4bf5a)Speaking out of ignorance, since I haven't built that branch, but... `system/reactions`? Would `system/flow` be too far off the mark? I know "reactive" is a hot term right now, and the "react" stem is everywhere in it.

dockimbel

[02:31](#msg5750ebff51d28b6243b67f55)Let me ask a question to you guys: is the newly proposed reactive framework, which is a total novelty in Rebol world, giving you a modern and I think, very neat way to enjoy reactive programming in Red, so \*uninteresting* that the only topic about it is the naming of the wrapper object for this framework's code?

greggirwin

[02:33](#msg5750ec8410f0fed86f4adcef):-) I am \*TERRIFICALLY* excited about it, but haven't had time to try it yet.

[02:34](#msg5750eccc10f0fed86f4adcfc)I just can't resist suggesting words.

dahu

[02:36](#msg5750ed1880352f204df4bfca)I think that it's possibly just a case of bike-shedding... given that reactive programming is new to rebollers, they (i'm nowhere near achieving membership in that set yet... either set, actually) don't have much to say about it but they're excited for it and you and want to contribute in whatever small way they can. Don't take the naming dance as disinterest. Rather, let's let it play out so that we can move on to the exciting times of actually trying it. Personally as a Linux-only user, I can't wait for even getting graphics in my little Red. :-)

JenniferLee520

[02:43](#msg5750eec1da3f93da6f22f86f)

[02:46](#msg5750ef8dda3f93da6f22f88b)"The user interface for Redbin format access will be provided by `load/binary` and `mold/binary`" , according to \[this link] (https://dockimbel.gitbooks.io/red/content/Redbin.html) . I would like to know in which version this will be supported. Thanks.

dockimbel

[03:32](#msg5750fa52a66904962ebbd955)@JenniferLee520 It's not scheduled yet. There's a decoder implemented already in Red, but the only encoder we have so far is in Rebol, for the Red compiler. We'll probably wait until we have a lighter release to implement the encoder.

x8x

[03:44](#msg5750fd1810f0fed86f4adf9b)I'm totally amazed by this reactivity framework, same for the owner system! I did read about Liquid but never got it, while I'm wondering how many great stuffs this will allow us. More generally speaking, I'm amazed by the whole Red project! I couldn't imagine there could be that much improvements over rebol. Let me tell you how I feal about it: Prorgramming is Art, some people enjoy wandering in museums, I get the same feeling watching Red progress on GitHub. While I don't grasp all that is put in there, there is a visual beauty and elegance in it's form. That said, I don't have much competences to evaluate and comment on the reactivity framework, so I'm left with POW on the name and you know the rebol community is so picky about naming.. I like `system/flow` the most!! 8-)

[03:47](#msg5750fde1f44fde236e530846)@dahu Well explained! That's exactly that! 8-)

pekr

[03:48](#msg5750fe09a78d5a256e3a819b)Doc - the reason is very simple - rebol users were historically taught to care about the namine really very much. What seemed as simple, often turned up in long discussions, so nothing new here and "reactivity" sounds like too long word. On the other hand, it is also easy topic to target - most of us are waiting for some examples of usage. My opinion is, that this topic deserves a separte blog article ....

[03:50](#msg5750fea280352f204df4c279)There is also a scheduled feature called an "ownership system". I am too dumb reboller to have enough of imagination, to understand the topic deep enough. The only thing I think is, that the ownership system is somehow related to reactors too ..... hence once again ... examples, please ....

dander

[04:51](#msg57510cdbda3f93da6f22fd2d)is the VS Code plugin source available, or will it be available at some point?

greggirwin

[04:54](#msg57510da2da3f93da6f22fd49)The jewels in Red (almost want to say rubies ;^) are often under-appreciated. Add to that how many there are, and it's a bit overwhelming. Working on `checksum` in Red/System brought surprises. I expected to be clueless about the magic that is the mapping of Red to /System, and would be begging for help to get anything working. Instead, it makes sense, and looking at other bits of code gave me clues. Early successes gave me the confidence to try other things, and feel the pleasure of them \*not* working the first time. So many new things to learn. Now, as I work on the next enhancement to it, I'm refactoring with confidence. I really thought that getting the basics working would be it, and I wouldn't want to mess with it for fear of breaking things.

I always wanted to help Rebol in this way, but C was too much pain. I'll still push for more things at the mezz level, but with Red/System I \*can* help at the lower levels. I think this will be true for a lot of people.

[04:56](#msg57510e19a78d5a256e3a83ea)I still don't know enough to be dangerous though. :^)

pekr

[05:00](#msg57510ee8a78d5a256e3a8408)Gregg - "redies" :-)

[05:01](#msg57510f2f454cb2be0951988a)Red is not just a language - it is much more - a platform, architecture, ... and one day, it's going to be an OS ...

iceflow19

[05:06](#msg57511059454cb2be095198b6)Hi everyone.

[05:07](#msg575110806bbc2d1d4df0cec6)Having a small issue and I don't know if its a bug or what.

[05:07](#msg575110abec10ddbb09dd5b2d)This is what I'm getting when trying to cross-compile a shared object:

C:\\Users\\Thomas\\Desktop\\Red&gt;red-060.exe -r -dlib -t LINUX-ARM raw.reds

-=== Red Compiler 0.6.0 ===-

Compiling /C/Users/Thomas/Desktop/Red/raw.reds ...

Compiling to native code...  
\*\** Red/System Compiler Internal Error: Script Error : Invalid path value: .data  
\*\** Where: get-address  
\*\** Near: \[layout/:name/address]

[05:10](#msg5751113f6bbc2d1d4df0cede)This is my code:  
Red/System \[]  
test: func \[ i \[integer!] return: \[integer!]] \[i + 1]  
#export cdecl \['test]

[05:11](#msg5751117c80352f204df4c550)Is cross compiling dynamic libs supported?

dockimbel

[05:17](#msg575112e467d168bb6860a0e9)@iceflow19 It is supported, though, I don't remember ever testing it. The correct syntax for exporting symbols is:

```
#export cdecl [test]
```

There seems to be a regression anyway for ARM targets compilaton, caused by a recent commit. I'm fixing it now.

[05:21](#msg575113dda66904962ebbd988)@iceflow19 Pushed a fix, should work now.

iceflow19

[05:21](#msg575113ec6bbc2d1d4df0cf32)Ah yes I missed that typo. Surprisingly enough even with a lit-word in there it still compiles fine.

[05:22](#msg575113feec10ddbb09dd5b9a)@dockimbel Thank you!

[05:35](#msg57511707454cb2be09519999)Hmm, I grabbed a fresh copy of the fixed toolchain off of github, but I'm still getting the same error.

dockimbel

[06:31](#msg5751242667d168bb6860a10e)@iceflow19 Check if your codebase contains this fix: https://github.com/red/red/commit/f0fdda10898bcf5f8d31988730dfd04c8ff07430. BTW, I never got your error here, I've also never seen that part of the code break before, so I'm wondering if your codebase is not somehow corrupted?

dahu

[08:39](#msg5751425c454cb2be0951a3d2)How do I use a variable in a path? In Rebol we can do something like:

```
item: "car"
inventory/:item
```

But it looks like this hasn't been implemented in Red yet... What am I doing wrong? Or, what is the current work-around?

dockimbel

[09:00](#msg57514724f44fde236e53181b)Works fine here:

```
red>> inventory: ["car" 123]
== ["car" 123]
red>> item: "car"
== "car"
red>> inventory/:item
== 123
```

[09:15](#msg57514acd454cb2be0951a6d5)The get-word used in a path has the same semantics as `select` action (you can consider it syntactic sugar for `select`).

RedJosh

[09:21](#msg57514c1aec10ddbb09dd692c)Will there be an OS written in Red? I am excited to imagine such an OS where one can type -- View \[text "Hello World"] in terminal. Enter, and a window saying "Hello World" pops up.

dahu

[09:23](#msg57514c98a78d5a256e3a9311)hmm... the thing I'm trying to access is an object within a block. But the item is a string, as shown in my example. Using the inventory/:item syntax, I get `Script error: cannot access "car" in path inventory/:item`

dockimbel

[09:27](#msg57514d7580352f204df4d413)@dahu What is `inventory`? It works fine with objects too:

```
inventory: reduce ["car" object [a: 123]]
item: "car"
inventory/:item

== make object! [
    a: 123
]
```

dahu

[09:30](#msg57514e3df44fde236e531a3b)And if I have `var: "a"` and I try: `inventory/:item/:var` I get the error.

[09:30](#msg57514e4c80352f204df4d465)I apologise for being vague... \*very* new to rebol :-/

RedJosh

[09:31](#msg57514e8aa78d5a256e3a93c7)red&gt;&gt; inventory: \["car" 123]  
\== \["car" 123]  
red&gt;&gt; inventory/1  
\== "car"  
red&gt;&gt; inventory/2  
\== 123

rebolek

[09:32](#msg57514ec22482004e29f66452)@dahu

```
red>> inventory: reduce ["car" object [a: 123]]
== ["car" make object! [
    a: 123
]]
red>> var: 'a
== a
red>> item: "car"
== "car"
red>> inventory/:item/:var
== 123
```

`a` is not `string!`, but `word!`

dahu

[09:35](#msg57514f6b10f0fed86f4af233)That's getting very close, @rebolek ! Thank you. Now I need to go from `"a"` to `'a`

Zamlox

[09:36](#msg57514fb1454cb2be0951a860)@dahu try:

```
red>> var: to lit-word! "a"
== 'a
```

dahu

[09:38](#msg57515005a78d5a256e3a9447)With that, I get: `cannot access 'a in path inventory/:item/:var`

[09:38](#msg5751502ca78d5a256e3a944f)ah, `to-word!` works

[09:39](#msg5751503af44fde236e531af6)Thank you @Zamlox , @rebolek , @dockimbel

Zamlox

[09:52](#msg5751534eec10ddbb09dd6b88)@dahu I forgot you need to use it in a path :) As you noticed,

```
to word!
```

does the trick.

rebolek

[09:56](#msg5751543d67d168bb6860a200)@dahu why exactly is your source for `a` a `string!` type?

dahu

[10:01](#msg57515587ec10ddbb09dd6c59)@rebolek it was extracted from a `parse`... maybe I'm doing that wrong...

rebolek

[10:02](#msg575155ae2482004e29f6646f)@dahu are you parsing string/text or data?

dahu

[10:02](#msg575155cf454cb2be0951aa94)text

rebolek

[10:03](#msg575155dc67d168bb6860a209)Ok, then this is the right way

[10:03](#msg5751560367d168bb6860a20a)text needs to be loaded first, `to` takes care of it

dahu

[10:03](#msg57515609ec10ddbb09dd6c8e)cool. thanks. good to know. I'm so happy to be using a language with a native parser...

rebolek

[10:04](#msg57515649a66904962ebbdaaf)@dahu I’m happy to help, some things may not be obvious at first look, Redbol is really very different from other languages.

dahu

[10:06](#msg575156b380352f204df4d741)It is different to most languages that I'm used to... but refreshingly so. Well... that's enough Red for today... dinner time. Thanks again for your help. Progress! :-D

Zamlox

[12:06](#msg575172a9a78d5a256e3a9f69)when I create a block containing a map, the result is not quite what I expect:

```
red>> spec: [v: 1 exposed: #(w: make object! [x: 10 y: 20]) f: [][]]
== [v: 1 exposed: #(
    w: make
    object!: [x: 10 y: 20]
) f: [] []]
red>>
```

or

```
red>> spec: [v: 1 exposed: #(w: object [x: 10 y: 20]) f: [][]]
*** Script error: invalid argument: [w: object [x: 10 y: 20]]
*** Where: make
red>>
```

It looks like inside the block the map is evaluated. How can I create such a block without evaluating the map definition ?

rebolek

[12:08](#msg5751735568381c052974d39c)No, it’s not evaluated.

[12:09](#msg5751737f8d6c68ee5a8f2315)Your first example makes it clear, `w:` is assigned `make`, not the object.

[12:10](#msg575173a18193c2621df80571)The error in second example is caused by odd number of values in map

[12:10](#msg575173bd844fe09b12259331)It’s same as:

```
red>> #(w: object [x: 10 y: 20])
*** Script error: invalid argument: [w: object [x: 10 y: 20]]
*** Where: make
```

Zamlox

[12:14](#msg575174b96bbc2d1d4df0ea20)@rebolek you are right. Now I see what happens. I was expecting that

```
make object! [x: 10 y: 20]
```

to be treated as an object, because I was taken it from the definition of an object. I will try to re-post my question.

[12:18](#msg5751757e454cb2be0951b450)I try to create an object containing a

```
map!
```

and I got some errors:

```
red>> obj: object [a: 10 dict: #(b object [x: 10 y: 20])]
*** Script error: invalid argument: [b object [x: 10 y: 20]]
*** Where: make
red>>
```

pekr

[12:19](#msg575175df6bbc2d1d4df0ea82)From a blog article - Keys can be any value among the following datatypes: any-word!, any-string!, integer!, float!, char!

[12:20](#msg575175f1da3f93da6f2319c9)So most probably object can't be a key?

Zamlox

[12:20](#msg57517612ec10ddbb09dd7671)but for

```
dict: #(b object [x: 10 y: 20])
```

key is

```
b
```

pekr

[12:21](#msg5751763580352f204df4e094)aha, sorry ...

Zamlox

[12:21](#msg57517642ec10ddbb09dd767c)or at least this is what I think, or I would like to be.

[12:21](#msg575176496bbc2d1d4df0eaa6)

rebolek

[12:23](#msg575176af8d6c68ee5a8f2331)@Zamlox the thing is, if you use `#(...)` notation, content is not reduced

Zamlox

[12:23](#msg575176c4ec10ddbb09dd7698)right, this is what I was thinking now.

rebolek

[12:23](#msg575176cf844fe09b12259349)So again, you have three values there: two words, `b` and `object` and one block.

Zamlox

[12:24](#msg5751770710f0fed86f4afee2)ok, I got it. I need to do some workaround.

rebolek

[12:24](#msg575177088d6c68ee5a8f2335)

```
red>> obj: object [a: 10 dict: make map! reduce ['b object [x: 10 y: 20]]]
== make object! [
    a: 10
    dict: #(
        b: make object! [
  ...
```

Zamlox

[12:25](#msg5751773b454cb2be0951b4de)@rebolek thanks.

pekr

[12:27](#msg57517799e96484d0692f3ec3)that will not work if you construct including 'a, as reduce would try to reduce it too

[12:32](#msg575178d89be9c5b637f01721)

```
red>> dict: make map! compose [a 1 'b 2 c (make object! [d: 3])]
== #(
    a: 1
    b: 2
    c: make object! [
        d: 3
    ]
)
red>> type? dict/c
== object!
```

greggirwin

[17:24](#msg5751bd47e8163f872c4dbcea)@PeterWAWood or @dockimbel , is there a red/test room for test related chat?

dander

[18:07](#msg5751c759109726792130170a)@greggirwin doesn't appear to be. I think it would be listed here: https://gitter.im/orgs/red/rooms

greggirwin

[18:29](#msg5751cc7b6c75e0cd6958ffcf)I didn't see one either, but I've been known to miss things. :^)

PeterWAWood

[22:54](#msg57520abb6c75e0cd695912f4)@greggirwin There is now - https://gitter.im/red/tests

greggirwin

[22:55](#msg57520ac89be9c5b637f04b50)Thanks!

## Saturday 4th June, 2016

dockimbel

[03:45](#msg57524edba30177644b997d13)@dander In case you missed the announcement on Twitter, we put the sources for our VSCode extension \[here](https://github.com/red/VScode-extension).

ghost~5680c5f416b6c7089cc058a5

[04:16](#msg57525629824488852c4ecd25)@dockimbel can we get filenames autocompletion in vscode please... :smile:

dockimbel

[05:21](#msg57526563a30177644b997d70)@nc-x It's a community project now, so contributions are welcome. ;-) We still have a few features to provide, like debugging support, after that, we'll leave it to the community.

greggirwin

[06:19](#msg575272db9be9c5b637f058d9)Under Rebol, if you spec both `/tcp` and `/key`, `/tcp` is ignored and `sha1` is the default method used. Is there standard behavior in Red for incompatible refinements (i.e. throw an error) or is each case considered on its own? For `checksum`, if you spec either `tcp` or `crc32` as the method, and also `/with`, it can either ignore the `/with spec` arg and still return a result, or it can throw an error. e.g.

```
red>> checksum/with "" 'tcp ""
** You can't use /with for CRC32 or TCP methods.
*** Script error: invalid argument: ""
*** Where: checksum
```

The next question is whether you prefer to print a detailed error line before firing the error, as above, or just fire the general error.

[06:21](#msg57527362813c217c21da112f)I think it's better to throw the error, and note that in the doc string for `/with`, but I'll go with whatever you want @dockimbel and @qtxie.

ghost~5680c5f416b6c7089cc058a5

[06:39](#msg575277b59be9c5b637f0593a)@dockimbel :smile:

greggirwin

[06:40](#msg575277c6e8163f872c4de370)Ah, just found the `ERR_INVALID_REFINEMENT_ARG` macro.

[06:50](#msg57527a1f824488852c4ed11e)Not sure how to use it though. :^\\

dahu

[07:13](#msg57527f80813c217c21da1258)How do I get the current date/time?

pekr

[07:24](#msg57528224813c217c21da1283)`now`function (time/date support) is not implemented yet, but it is scheduled for implementation ...

dahu

[07:24](#msg5752823a824488852c4ed1c7)Thanks, @pekr

SteeveGit

[07:37](#msg5752853dcfb72da835efa1a2) I pushed a FIX in the vscode-extension repo. It's a bug, I got on Linux. It's strange, I'm the only one affected though.

dander

[07:58](#msg57528a0ae8163f872c4de521)@dockimbel somehow I did see the Twitter announcement. Thanks!

dockimbel

[11:05](#msg5752b5eee8163f872c4deaff)@greggirwin It needs a case-by-case treatment. The detail error line is welcome, and would be a good improvement of error reporting, but not as first line. It would need to be part of the error! object (we would need a new field). We would need also to see how it should be handled in the runtime library code in R/S, as a literal string there would need to be internalized first (preferably in a lazy way) before being usable by Red's API. Another concern would be also to be able to optionally discard them during compilation (for saving space in generated binaries, we could extend the purpose of `red-help?` compilation option). You can open a wish ticket about it, so we can have a quick look at it to see how much work it would require.

[11:13](#msg5752b7c1e96484d0692f8722)@greggirwin You can review existing error messages from \[there](https://github.com/red/red/blob/master/environment/system.red#L41). They are the ones used by `TO_ERROR` macro.

[11:56](#msg5752c20b813c217c21da1af6)@dahu You can #include Kaj's \[binding](http://red.esperconsultancy.nl/Red-C-library/tree?ci=trunk&amp;expand) in the meantime, it contains an implementation of the `now` function (Tip: you can compile a custom version of the Red console, including this library, so you don't have to recompile your own Red code every time).

[11:57](#msg5752c21d10972679213042ec)@SteeveGit Thanks, we are reviewing it.

dahu

[12:30](#msg5752c9e4109726792130440d)Thanks, @dockimbel . I will look into compiling my own Red console with Kaj's binding.

SteeveGit

[14:26](#msg5752e51d72e5509b40787d4c)I think, I adopted vsode, thanks to the red extension (I meant, thanks to their authors :+1: ). Also the git support is just amazing (bye bye gedit :hammer: )

dockimbel

[15:53](#msg5752f96bcfb72da835efa2e4)@SteeveGit Glad you like it. ;-)

greggirwin

[16:06](#msg5752fc8b9be9c5b637f06c49)Thanks @dockimbel. I will work on a wish ticket. In the meantime, what should I do for `checksum`? I would like to push this update out (a little more cleaning to do), as it also contains a couple fixes (TCP, and SHA384/512 HMAC).

[16:15](#msg5752fe8f824488852c4ee3d0)Where I'm not clear on usage is what to pass. in %series.reds (1087)

```
ERR_INVALID_REFINEMENT_ARG(refinements/_part part-arg)
```

and in %block.reds, the same but also

```
ERR_INVALID_REFINEMENT_ARG((refinement/load "compare") comparator)
```

I haven't traced through things to see where `refinement(s)` comes from.

## Sunday 5th June, 2016

dahu

[00:06](#msg57536cfe3bdac7ae37b4ad10)oh, joy! I gush... Wanting to pretty-print tabular data but lacking `format`, I stole it from https://github.com/rebol/rebol/blob/master/src/mezz/mezz-series.r and changed `abs` to `absolute` and `first+` to `first` and `next` and... \*it just worked!*

qtxie

[01:28](#msg575380236c75e0cd6959475a)@greggirwin `refinements/_part` is in `runtime/datatypes/common.reds`, and `refinement/load` is in `runtime/datatypes/refinement.reds`.

[01:32](#msg575381466c75e0cd6959477b)@SteeveGit If you want to have rudimental code completion in VSCode, you can try this: https://github.com/yoyocat/red-vscode  
Becuase the plugin use some features not in red/master branch, you need to compile a red CLI console from this branch: https://github.com/qtxie/red/tree/vs-code  
Rename it to \*\*red\** and put it in $PATH

[01:36](#msg57538202813c217c21da38eb)

dockimbel

[04:11](#msg5753a65acfb72da835efa51c)@dahu Nice! ;-)

greggirwin

[04:34](#msg5753abc29be9c5b637f08595)@dahu, well done. I hope to work up a full `format` design proposal that will do more. Tabular formatting is good, but the name is too general for just that. Nenad and I exchanged a couple thoughts on it (think `printf` meets VB's `format$`). It is really nice when things just work. Get used to it. :^)

Arie-vw

[09:08](#msg5753ec0c813c217c21da434e)Can someone tell me what /extern exactly means in function word?

dockimbel

[09:12](#msg5753ecfe6c75e0cd69595280)@Arie-vw It specifies the words which should not be locally defined in the function (only needed for outer words which are set in the function's body).

Arie-vw

[09:12](#msg5753ecffe8163f872c4e14bc)Also: is it possible to define the return type for a function?

[09:12](#msg5753ed0f3bdac7ae37b4ba52)@dockimbel Thx!

dockimbel

[09:14](#msg5753ed869be9c5b637f08c33)@Arie-vw Sure, some \[functions](https://github.com/red/red/blob/master/environment/functions.red) already use it, though, the returned type checking is not implemented yet.

Arie-vw

[09:16](#msg5753edef9be9c5b637f08c3f)@dockimbel So you have to use "return:" followed by block of allowed types in the spec part I guess?

dockimbel

[09:18](#msg5753ee6ee8163f872c4e14f8)@Arie-vw Right, though you don't "have to use" it, it's optional.

Arie-vw

[09:30](#msg5753f1493bdac7ae37b4baea)Last question: should /extern go in the spec block or is it a refinement? When trying I get unexpectd results.

dockimbel

[09:32](#msg5753f1b41097267921306c18)@Arie-vw In the spec block only, same as `/local`.

Arie-vw

[09:50](#msg5753f5ef1097267921306c90)@dockimbel OK. Thx! Need this stuff to create appropriate examples ;-)

mikeparr

[19:42](#msg5754808ce8163f872c4e2abb)Q: shift-logical 64 2 gives 16 (correct) but shift logical -1 2 gives -1. This looks to me like an arithmetic shift (preserving sign), not a logical shift. Any ideas?

greggirwin

[19:46](#msg5754819a813c217c21da5a2a)

```
--== Red 0.6.0 ==-- 
Type HELP for starting information. 

red>> shift/logical -1 2
== 1073741823
red>> shift-logical -1 2
== 1073741823
```

mikeparr

[21:07](#msg5754949f9be9c5b637f0a6dc)@greggirwin shift-logical - not shift/logical

greggirwin

[21:08](#msg575494e46c75e0cd69596c89)@mikeparr, results seem the same, per the above snippet.

meijeru

[21:16](#msg5754969ce8163f872c4e2eae)`shift-logical` is defined merely to be able to define the corresponding shift `op`. @dockimbel shouldn't the `shift-` routines defined in `%environment/routines.red` be protected against global visibility??

## Monday 6th June, 2016

dockimbel

[04:16](#msg5754f91ccfb72da835efa9c2)@meijeru They should, but if done so, defining the corresponding operators becomes a challenge with the current compiler. Though, I extended the compiler recently in `reactive` branch to support for operators definition from local functions/routines, so we could move those helper routines to a hidden context, once that branch will be merged in master.

pekr

[05:52](#msg57550f8b813c217c21da6ec3)Today, is the Iron Maiden day :-)

```
red>> parse "06.06.06" [some ["0" | "." | "6" (prin 6)]]
666== true
```

[05:52](#msg57550f9d3bdac7ae37b4e700)Yes, it's true :-)

rebolek

[06:13](#msg5755149ccfb72da835efaa11)hehe

iArnold

[06:33](#msg5755194e824488852c4f3001)Sorry to spoil it:

```
parse "06.06.16" [some ["0" | "." | "6" (prin 6)]]
66== false
```

rebolek

[06:37](#msg57551a0e434455107d4c7590)So it’s tenth anniversary of the Iron Maiden day ;)

iArnold

[06:41](#msg57551b22813c217c21da7091)Yes and Ed Force One will be landing on Schiphol airport Netherlands this afternoon.

mikeparr

[07:11](#msg575522266c75e0cd6959809c)@greggirwin - thanks Gregg re shift

pekr

[08:09](#msg57552fa9813c217c21da753f)@iArnold - my bad :-) As I love Red's parse, here's some more universal stuff!

```
red>> beast: charset #"6"
== make bitset! #{00000000000002}
red>> saint: complement beast
== make bitset! [not #{00000000000002}]
red>> 
red>> parse "06.06.2016" [some [saint | copy six beast (prin six)]]
666== true
red>> parse "06.06.2016" [collect some [saint | keep beast]]
== [#"6" #"6" #"6"]
```

dockimbel

[08:33](#msg57553545824488852c4f36c3)@pekr Try rather with:

```
limbo: "" parse "06.06.2016" [collect into limbo some [saint | keep beast]] limbo
=== "666"
```

pekr

[09:15](#msg57553f2d109726792130a316)Ah, you see? I did not know I can collect into string :-)

[09:17](#msg57553f9a6c75e0cd695988a1)What is the to string conversion function, which will not produce a spaces? Tried `form [6 6 6]`, but still get spaces ...

dockimbel

[09:24](#msg575541603bdac7ae37b4f2ee)We don't have that yet. The closest is `append "" [6 6 6]`.

pekr

[09:36](#msg575544026c75e0cd69598a21)My question was more general (and the same as related to print). History wise, I got more bitten by having automatic spacing, than the reverse. That's also why I always used parse/all in R2. But - we have better things to do, than such stuff :-)

SteeveGit

[14:03](#msg575582a172e5509b40788724)@dockimbel , @qtxie I experimented with tasks in vscode to add a simple shell commands launcher. Let me know if you want a push in the official repo or elsewhere. \[tasks for red](https://github.com/SteeveGit/VScode-extension/tree/tasks)

[14:07](#msg575583a6434455107d4c77d7)The code is in VScode-extension/.vscode/tasks.json (so it's local to a workspace)

## Tuesday 7th June, 2016

Zamlox

[04:30](#msg57564dcd970521a458398919)when I use

```
copy/deep
```

on an object containing another object, the inner object is not cloned but copied by reference. Is this how it should work ? Example:

```
obj: object [a: 10]
obj1: object [o: obj]
obj2: copy/deep obj1
obj2/o/a: 100
red>> obj1
== make object! [
    o: make object! [
        a: 100
    ]
]
```

greggirwin

[05:31](#msg57565c4fc2a6e42f7e98fa3b)It matches R3. Nested series values in objects are copied, but objects are not cloned, so it is expected behavior.

dockimbel

[05:34](#msg57565cd6666c4ff55aebf8ab)@Zamlox Yes, that's the intended behavior, which is consistent with other semantic rules wrt copying. The goals are:  
1\. Let the user control the copying of nested objects (doing it manually when required). If `copy/deep` was doing it, you couldn't opt out.  
2\. Share-by-default nested objects, as it saves memory, and fits well common use-cases.

Same semantics in Rebol3 (but not in Rebol2, where `copy` cannot be applied to objects).

Zamlox

[05:35](#msg57565d2b970521a458398b88)@greggirwin @dockimbel ok, thanks guys.

dander

[05:37](#msg57565d98662b042b7e59058a)is the correct way of block-commenting red code to wrap it with `comment {` and `}`?

[05:43](#msg57565ef8662b042b7e5905c0)I can't remember the last time I actually wanted to block comment something, but the reason I ask is that the VS Code extension specifies incorrect comment symbols. I just wasn't clear whether this is a foolproof method, or whether it would be better to remove support for it.

ghost~5680c5f416b6c7089cc058a5

[06:06](#msg5756647975a601a158b068ac)@dockimbel Any expected release month for Red 0.6.1 ? Or when will LibRed get merged into master? I have time right now to learn rebol and red and I can do with faster compile times (i like compilers more than interpreters) :smile:

red-eco

[07:12](#msg575673ef970521a458398fc9)@dander "comment \[ ]" is wrong, I fix to "comment { }"

endo64

[07:14](#msg5756745075a601a158b06bda)But `comment` gets any value, so any of these are ok, no correct way:

```
comment { ... }
comment " ... "
comment 30
comment 5 * 6 ; (op! evaluated first)
comment [ ... ]
```

I think it shouldn't be used as a block comment in VScode, instead it should be a normal function.

red-eco

[07:22](#msg5756762d662b042b7e590aa5)@SteeveGit VSCode v1.2 already has the feature, just use Ctrl+\`

dockimbel

[08:25](#msg5756851645cf128e5f1d1591)@nc-x Hopefully, 0.6.1 should be released by the end of this week, though, I've split the previous planned release in two: 0.6.1 (Reactive programming) and 0.6.2 (libRed).

[08:28](#msg575685ae45cf128e5f1d15c0)@endo64 Right, but the most common form for `comment` is followed by a `{...}` or `[...]`, though `{...}` should be the preferred one, as it's lighter on resources.

SteeveGit

[09:00](#msg57568d4b9b49138f128005b2)@red-eco Maybe I missed something, my proposal is to be able to add its own custom shell commands (red related or not) in the most easy way I could think of.

[09:04](#msg57568e2bc6414c76528c0819)The 2 set of commands (red ones and tasks) can be used all together

pekr

[09:16](#msg575690e8970521a458399876)@dockimbel - re your Twitter message about the end of week 0.6.1. Reactive programming release - looking at Trello, there's still many Core items left for implementation. Will those be shifted for later too, or you plan to implement them till the end of the week?

dsgeyser

[11:46](#msg5756b42b17856dc5179afebd)@ dockimbel Many thanks for all the hard work you and your team have put in so far. It looks good. Sometimes one can forget all the sacrifices made to get this far. Looking forward to world domination!

[17:40](#msg5757071c75a601a158b0a33d)@dockimbel I was toying with an idea. It would be great if it was at all possible for you to record key areas of your dev activities along with synced audio. I for one will be prepared to pay for access to your expertise. Only have a burning desire to learn as much as possible about the nuances wrt Redbol. I think now is a great time to do this, as I believe Redbol is on the brink of breaking new ground. I will be thrilled by this...

greggirwin

[17:48](#msg5757090075a601a158b0a3f4)@PeterWAWood (or @qtxie / @dockimbel ), I was adding some `checksum` HMAC test vectors from https://www.ietf.org/rfc/rfc4868.txt and ran into an issue. Some of the values are binary, containing `#{AA}`. `Checksum`'s `key` arg has to be a string right now, but #{AA} is not valid UTF-8 so I can't `to string!` it. One possibility, of course, is to allow `binary!` values for `key`, but maybe I'm missing an easy encoding solution.

tanstaaf1

[22:33](#msg57574b9ec2a6e42f7e994f01)@dsgeyser @dockimbel I second this idea. It is in line with something I posted long ago, and it is even simpler than you keeping a written diary. If you do something like this I suggest you keep daily entries generally very succinct - preserving longer comments for bigger, less frequent decisions. IMO the biggest challenge for red is ultimately going to be whether reasonably intelligent (non genius) people without a rebol history can master it before giving up in frustration or having their heads explode. Your insights properly presented could be one of the key determinants. ("Training wheels" such as subset languages, ability to turn on type safety, or have the IDE add virtual brackets to show how a particular line of code is being interpreted being another). Anyway, I think it is more than historically important that you record your thoughts as things progress. I actually think it is vital for the ultimate success of people who come later, trying to make sense of this very unique creation.

greggirwin

[23:37](#msg57575ab6c2a6e42f7e995235)@dsgeyser @tanstaaf1 , while that would be great, I think it's too much to ask of Doc. It will easily double his workload and pull his head out of the actual work and into explaining things. People will then surely ask questions, or need clarification, which is more work. Yes, he's the best choice to explain Red. His blog entries are excellent. The question is how to extract the important details from his brain and offload the publishing details, while making sure the information stays accurate. Also, since Red 2.0 will be written in Red, not Rebol, how much information will be outdated when that happens?

Having a place where people could post specific questions would be great. If more than just Doc could answer, that would lighten his load. There are a number of community members who could contribute at various levels, even if Doc and Qingtian still needed to address the deepest design or implementation subjects.

[23:39](#msg57575b32c2a6e42f7e995245)As a start, we could set up a wiki page for questions and start a list.

## Wednesday 8th June, 2016

PeterWAWood

[03:09](#msg57578c5445cf128e5f1d6d16)@greggirwin "^(AA)" is a valid string!, chars are Unicode code points. I'm not sure how to

[03:11](#msg57578ccf45cf128e5f1d6d27)I'm not sure whether to string assumes the binary is UTF-8 encoded or not.

pekr

[03:41](#msg575793fe970521a45839eb9c)@greggirwin - we have public Google groups, where ppl can post questions. Not sure right now anything more is needed?

dockimbel

[04:36](#msg5757a0e3c6414c76528c0fed)@dsgeyser @tanstaaf1 I would be glad to produce more learning material for the community, but I can barely find the time to eat and sleep, as in addition to my work on the Red technology, I'm also the CEO of a startup company (which is by itself a full-time job...). I'm working 7/7 and still can hardly squeeze any spare time for extra work on a regular basis (I try to take a few hours or maybe a day off after a new release though). Though, I would be ok to do a short Q/A live session on a weekly basis, but I already spend significant time here on Gitter answering as many questions as I can, so not sure it would be useful... That said, I'm open to suggestions. Maybe someone can gather questions during the week and I can then post answers as a new blog entry (maybe I could try to answer some of them using audio recording too, video that we would post on youtube would also be great, but I have no time nor skills for video production).

endo64

[07:18](#msg5757c6d292fc7c915f57cd16)I think someone could dig Gitter, find questions and then answers from Doc or others, pack them in a good format (categorized etc.) and put it on somewhere (wiki, makedoc etc.). Because Doc answers almost every question on Gitter, but the answers flies up..

rebolek

[07:19](#msg5757c6f807e77197794fff35)I think I can take care of gathering unanswered questions. It won’t be that hard as most questions here are answered very soon :)

[07:20](#msg5757c72b9b49138f12800e78)@endo64 yes, I was thinking about some wiki.

dockimbel

[07:36](#msg5757caf4662b042b7e597275)@endo64 @rebolek Good idea, that would be useful.

iArnold

[07:56](#msg5757cfc845cf128e5f1d7a55)

DideC

[10:00](#msg5757ecb4662b042b7e597e02)in VID dialect (red v0.6.0), does the `select num` command is implemented ? This is what I get:

```
red>> view [drop-down data ["un" "deux" "trois" "quatre" "cinq"] select 1]
*** Script error: VID - invalid syntax at: "[select 1]"
*** Where: do
```

dahu

[10:10](#msg5757ef18662b042b7e597ec5)In a few weeks I will be free on semester break. I plan to learn redbol in that time and I would be happy to donate time towards the documenting project.

SteeveGit

[11:09](#msg5757fcdf666c4ff55aec02d5)@DideC `view [drop-down select 1 data ["a" 1 "b" 2]]`

dockimbel

[11:10](#msg5757fd1075a601a158b0e261)@DideC It's not part of v0.6.0, it's in automated builds.

SteeveGit

[11:10](#msg5757fd3fc6414c76528c1181)Also, use the last built version, not the old 0.6.0

[11:11](#msg5757fd4ec6414c76528c1182)ah!

DideC

[12:29](#msg57580fc117856dc5179b679c)Yes, last build is OK. I see too late that there is a version combo in the red doc site.

[12:31](#msg5758100e662b042b7e5988b3)Bug ?

```
view [origin 50x50 space 25x25 button "centered ?"]
```

left/bottom origin is set to the `space` value, not the `origin` one !

dockimbel

[13:29](#msg57581dc21f8c66c56a8d97a8)@DideC Seems to be fine here:

```
red>> view [origin 50x50 space 25x25 b: button "centered ?"]
red>> b/offset
== 50x50
```

[13:55](#msg575823b7474323c5377bc52e)

DideC

[14:41](#msg57582ea0c2a6e42f7e9989c2)...fine on left and top, yes.

[14:43](#msg57582f0ec2a6e42f7e9989fa)But on the right and the bottom side, it's `space` that is used. It must be `origin`. Try in Rebol (with a larger button).  
(my fault, I say left instead of right in my previous post).

greggirwin

[15:12](#msg575835e4a1be01c01a77f7ed)@bolek or @endo would you like to set up a couple wiki pages, one for questions with answers, another for unanswered questions?

[15:14](#msg5758363e6092456f66322a49)@pekr questions could be gathered from the Google Group as well.

endo64

[15:28](#msg575839962eaa837d71e78029)@greggirwin Under Github wiki? I think one Q&amp;A page is enough, no need for unanswered questions since they are already on Gitter and when they get answered we need to put them on the wiki.

greggirwin

[15:33](#msg57583adc6092456f66322c48)@PeterWAWood thanks for the string char tip. It's `to string!` on a binary! that errors out. I can do the `^(xx)` form for now, though it will make for some very long lines. :^)

[15:35](#msg57583b39064b9e7266f0958a)@endo, I was thinking that Doc could answer here, and one of us would pull those to the 'answered wiki, but some may slip by, which we could put in 'unanswered for Doc to review at his leisure. I'm fine with one if that works better for everybody though.

[15:36](#msg57583b9aa1be01c01a77fa6d)And I think github wiki makes sense, yes.

dander

[18:09](#msg57585f74e20024bd1ad1a287)StackOverflow would be a reasonable place to put questions/answers too. It might have better search and Google ranking than wiki pages, but I'm not sure about that. And you wouldn't need to worry about organization

[18:18](#msg5758616b064b9e7266f0a4d6)might be worth doing both

dsgeyser

[19:55](#msg5758782ca1be01c01a781246)@tanstaaf1 @greggirwin @pekr @dockimbel @rebolek @endo64 @dander - Thanks for your excellent input on this matter.

It is somewhat frustrating and sad when you talk to fellow local devs about the power and uniqueness of Redbol. I mean, being able to write a compiler (toolchain) in Rebol - a language which was developed almost 20 years ago - speaks volumes about its unique abilities, and is a testament to Docs' rare expertise.

I was wondering, after having read Ladislavs' and @dockimbel advance articles about the inner workings of Redbol, whether it is possible to use breakpoints and probe etc. to build a tool which will allow anybody to delve into the deeper stuff and further stimulate their interests.

For instance, keeping a log (kind of like a history) of the output of each word, even if it results in an error. With breakpoints allowing one to step through the traceable history. This will help me a lot. I can use the entries as a basis to tap Docs' and others' minds.  
Wouldn't want to miss out on an opportunity like this. Just a thought. (I know it somehow describes an IDE, but it doesn't have to be that complex - perhaps it can be used as a learning tool)

This can serve as a future reference of where people are struggling and possible workarounds.

Perhaps use the federated wiki concept with a set of simple tools to play with the code.  
(Redbol is based on series. Construct a 3 dimensional puzzle/picture/graphic representation of actual data. Shuffle the pieces with a record of all actions taken. Users then have a visual reference of what is happening while they are trying to solve the puzzle. And more of this along the same lines.)

Each user will have his/her complete progress history on their own personal wiki page. And this type of wiki will allow anyone to drag stuff from other users' personal pages, etc. I know github is sort of the same, but the federated wiki concept is more user friendly wrt the general user.

And studying the users' pages can reveal a lot about problems why people struggle with the concepts. In future this info can point to better ways in getting a marketing/promotional message across and address the audience in the best possible way.

What do you think? Sorry for the somewhat lengthy message.

Sometimes eagerness and exitement gets the better of me. Also partly because my current dayjob sucks, and I want to become the best Red coder I can possibly be.

iArnold

[20:08](#msg57587b2597e1b2d245e0f028)

greggirwin

[20:21](#msg57587e341cf76dd645354848)@dander @dsgeyser the big question is who the target audience is. If we focus on the internals, you'll appeal to hard core devs but may scare off those who want to use Red for quick scripting. With Red, as with Rebol, you can go a long way without understanding the details. There are a few top-level insights that can help people understand early "gotcha!" moments. I can't picture your tool @dsgeyser, but it may take a bit of work and Team Red has to weigh the value. For my money, I think you'll get a lot more traction and excitement out of samples showing the GUI and reactivity elements.

dsgeyser

[20:36](#msg575881c21cf76dd645354998)@greggirwin I was thinking that by using 'probe/ 'print to examine words as you go along, with manually inserted 'halt, can possibly go a long way in understanding what is happening codewise. What is tripping me up is trying to study someone else's code where they substitute blocks and using the words associated with it in later constructs. It is hard to keep track of this. What I tried to describe is a tool of sorts to untangle the apparent mess. (the way it comes across). I understand a lot of concepts, know the value of lisp-like languages, can read most of the code, but sometimes a kind of "writers block" is causing me to not to push into uncharted areas. Hope this makes sense...

[20:58](#msg5758870d97e1b2d245e0f48d)maybe also use `do/next`which is coming soon.

tanstaaf1

[21:44](#msg575891c41cf76dd645354fe9)@dockimbel Perhaps @dsgeyser had something different in mind. For myself, I just thought it would be cool if you would start keeping a personal "diary" of the development process now which you - or someone else you trusted - might reference \*later\*. Nobody else will ever be able to do justice to that story -- and later on even you won't remember half of it unless you memorialize it now. You and the team are doing rather more than just writing one more compiler. I think the value of recording some of your thoughts now for possibly mining or sharing \*later* (always your decision) could be immense. I was seconding the idea of a personal video journal at this time; nothing more. As that, it shouldn't take more than a very few minutes from time to time and might actually help you better think through some of your design decisions. (I have kept such a diary for 30 years, although only in written form).

## Thursday 9th June, 2016

greggirwin

[01:59](#msg5758cd9497e1b2d245e1063e)@dsgeyser "What is tripping me up is trying to study someone else's code where they substitute blocks and using the words associated with it in later constructs." Can you give an example? One of the hard things about not being new to Redbol anymore is that we forget what's confusing when you're new. And while some things might be possible to hack in, Nenad may have an elegant plan (like adding /trace to `parse` so we no longer need to add tracing support into our own rules). In this case, without an IDE, how do you step/watch in a way that is better than you normally would in a REPL. This is where an example would help me think of how to do it.

dahu

[03:15](#msg5758df59064b9e7266f0c643)I have a nested list of objects that I save with `save` and read in another script with `load`. It seems that I need to explicitly evaluate (using `reduce` sub-lists of objects after I `load` it. What am I doing wrong? Is there a better way to persist nested lists of objects across scripts?

PeterWAWood

[04:18](#msg5758ee1b6092456f66325feb)@dahu Using

```
save/all
```

rather than

```
save
```

is a easier way to save and restore objects. It hasn't been implemented in Red yet. Here is a Rebol session showing its usage:

```
>> o: make object! [oo: make object! [ooo: make object! [a: 1]]]
>> save %test.obj o                                             
>> o2: load %test.obj                                           
== [make object! [
        oo: make object! [
            ooo: make object! [
                a: 1
            ]
        ]
    ]
]
>> o2/oo/ooo/a
** Script Error: Invalid path value: oo
** Near: o2/oo/ooo/a
>> save/all %test.obj o                                         
>> o3: load %test.obj  
>> o3/oo/ooo/a         
== 1
```

dockimbel

[04:59](#msg5758f7c9bcc56d2561455542)@dahu `save/all` is what you need, though it needs extensions to the lexer for supporting "construction syntax", which is pretty quick to code, but requires some design decisions about the way to represent some datatypes.

greggirwin

[05:00](#msg5758f7f997e1b2d245e10d4a)Another way, depending on needs, is to just `do` the file, though you don't want to do that where something is untrusted or potentially unsafe.

dockimbel

[05:10](#msg5758fa635eecfbd755f73c5e)@tanstaaf1 I am giving it some thoughs since a few days, I use paper notebooks since the beginning, to write some notes, ideas and research, though it's informal, mostly drawings and code snippets.

dahu

[05:48](#msg57590344a1be01c01a78324e)@dockimbel ah, so `save/all` will be the way in the future, but it's not ready yet?  
@greggirwin I tried `do`... but it seems to be behaving the same as `load`...

dockimbel

[05:52](#msg5759040e1053e216350a41e8)@dahu Right, the `/all` refinement serializes values which don't have a specific literal syntax using a so-called "construction syntax" (basically wrapping them in a `#[ ...]` construct), so that the lexer can load them back properly.

dahu

[05:53](#msg5759044c97e1b2d245e10f0e)cool. I have a work-around for now and it will be trivial to replace that with `save/all`when it lands.

dockimbel

[05:53](#msg575904645eecfbd755f73c79)@dahu `do` option works fine here. How do you use it?

dahu

[05:53](#msg575904712eaa837d71e7b9ad)wrongly, obviously :-/

[05:54](#msg575904b22eaa837d71e7b9b6)I was using `do %saved.file` and it is a list containing nested lists of scalars, lists and objects. The object portions weren't vivified (constructed).

[10:27](#msg5759449b2eaa837d71e7cd12)@PeterWAWood sorry, I didn't see your response earlier. Thank you.

SteeveGit

[11:34](#msg5759544095644abf0a4f9e91)Got a crash of the console when I try `type?/word` on an event!

[11:34](#msg575954581053e216350a4392)Anybody else?

[11:39](#msg575955585eecfbd755f73e17)Try: `view [button "crash" [type?/word event]]`

dockimbel

[11:39](#msg5759557b814a5680714160e1)Confirmed.

SteeveGit

[11:39](#msg5759558dbcc56d2561455742)ok, I post a bug

[11:48](#msg5759577395644abf0a4f9e99)It's possibly a recent one since I think it's worked at some point in my code one month or 2 ago (But not sure)

[11:51](#msg5759584b95644abf0a4f9ea0)@dockimbel Do you have time to correct this bug now? Or must I look at it?

[11:53](#msg575958d795644abf0a4f9ea6)(Though, I'm not confident in my skills with crash matters)

dockimbel

[11:54](#msg575958f8064b9e7266f0e437)@SteeveGit You can have a look, otherwise I will investigate it in the next days. The issue probably comes from the special way %event.reds is loaded (from a module), while the type ID is reserved from the Core. So, the datatype/name-table event! entry might be messed up.

SteeveGit

[11:55](#msg575959301053e216350a43a7)Ok but First, time for a snack :sake:

dockimbel

[12:02](#msg57595adaa1be01c01a784c5d)Bon ap'. :smile:

greggirwin

[12:38](#msg5759632e6092456f66327fbf)@dahu do you have a simple file that shows `do` not working. I tested here, using Peter's example above, saved the object, used `do` on the file, and it all worked.

dockimbel

[13:05](#msg57596994814a5680714168b4)@greggirwin It doesn't work in his case because objects don't seem to be defined at root level of the list: * it is a list containing nested lists of scalars, lists and objects. The object portions weren't vivified (constructed).*

SteeveGit

[13:08](#msg57596a3f1053e216350a443c)@dockimbel Really strange, since form and mold of an event!, all access to the same name/buffer that name/word is also using to construct its word!.  
The name table doen't seem off.  
Aaaaaah, I'm bad with those crash bugs because I use to debug just by reading the source code, not doing trace debug of the runtime code stack.

dockimbel

[13:09](#msg57596a80e20024bd1ad1eb9b)@SteeveGit Maybe a bug in `type/word` code then?

SteeveGit

[13:10](#msg57596abe1053e216350a4440)I looked at it, seems ok, else other types would have the same prob. It's a generic code

[13:22](#msg57596d891053e216350a4458)Sorry no further idea to test. Meanwhile, I will patch my code to avoid this case.

dahu

[14:09](#msg57597881e20024bd1ad1f1ae)@greggirwin My actual saved data structure is quite a mess. I will try tomorrow to put together a simpler failing example.

asampal

[14:22](#msg57597b8f1053e216350a44e6)@dockimbel can you remind me what sort of AOP-like functionality you intend to add to Red? I seem to remember you mentioning some kind of instrumentation of objects and/or functions some time ago.

SteeveGit

[15:02](#msg5759851a95644abf0a4fa078)Now, it's the event? func who is crashing...  
Nut not always...

```
view [button "ok" [event? event] button "crash" [event? 1]]
```

[15:06](#msg575985fa95644abf0a4fa086)The source code in /module/view.red is weird...

```
#system [
	#include %../../runtime/datatypes/event.reds
	event/init
]

event?: routine [value [any-type!] return: [logic!]][TYPE_OF(value) = TYPE_EVENT]
```

The #include + event/init are suspect...what is it used for ??? I see no need.

meijeru

[15:32](#msg57598c05a1be01c01a786182)@SteeveGit Doc has explained to me (in regard to another question) that the event runtime facilities are not included in case there is no View needed. That is why they figure in `view.red`. I could agree with you that this is more error-prone than including them always, but apparently the savings in time and space for the non-View case are considered important. If the issue you have hit upon is not easily solved, I suppose Doc might make events a permanent fixture.

SteeveGit

[15:34](#msg57598c7e5eecfbd755f74062)Hmmm.. .

[15:42](#msg57598e681053e216350a45c7)The truth is that even for the routine event? to fail.  
Such a simple function...  
It's hard to see why a simple test like `TYPE_OF(value) = TYPE_EVENT` would crash?  
Is the compiler in cause then?

dockimbel

[16:08](#msg575994655eecfbd755f7408c)@asampal See the ownership system description in latest blog entry.

[16:08](#msg5759948a95644abf0a4fa118)@SteeveGit I will give it a look. The event! type is currently part of the View module, but it should move to Core once the full I/O implemented. Currently we cannot do that, as the event! implementation has some hard dependencies with the View module.

SteeveGit

[16:19](#msg575996f6bcc56d25614559ea)Thanks Doc, I can't even write a workaround since event? is failing. :ambulance:

[16:20](#msg57599756bcc56d25614559ec)(In fact, I could)

[16:24](#msg5759983795644abf0a4fa131):saxophone: time (where is the cigar smiley when you need it?)

meijeru

[19:34](#msg5759c4d42eaa837d71e7ff8c)The feed from Github which appears on the right site of my screen does not have clickable links to issues anymore! A Github failure?

[19:36](#msg5759c5421cf76dd64535aaec)In fact, none of the many links on this page work anymore !?!

asampal

[20:41](#msg5759d48c95644abf0a4fa326)@meijeru when you hover over the issue link you should get a popup dialog from which you can go to github - I don't recall being able to go directly there by clicking the righthand links

dahu

[22:47](#msg5759f1f6064b9e7266f11890)@greggirwin -- here is an example of `do` failing to load a nested object list... \*or* an example of me failing at it :-D  
`save.red`:

```
a: make object! [
  b: copy []
  new: func [] [make self [append b c/new]]
]

c: make object! [new: func [] [make self []]]

db: [a-list []]
append db/a-list reduce ['foo a/new 1]

bar: select db/a-list 'foo
probe bar
probe bar/b/1

save %test_fail.db reduce [db]
```

`do.red`:

```
db: bar: copy []
db: do %test_fail.db
bar: select db/a-list 'foo
probe bar     ; <- "make" instead of whole object block
probe bar/b/1 ; <- fail
```

[22:50](#msg5759f2b7814a568071419974)I have an erroneous `1` as a parameter to the `a/new` call there because I forgot to remove it when simplifying the example. It doesn't cause an error, surprisingly, and doesn't affect the tested fail case.

[22:51](#msg5759f30a814a568071419984)Haha... ok. It doesn't error because `a/new` knows it doesn't need the arg, so it just gets bundled as another list arg in the `reduce`. Fine.

greggirwin

[23:58](#msg575a02a4a1be01c01a788383)Yes, I see now Barry. This comes back to the concept of "Everything is data until it's evaluated." And you are in control of when things are evaluated. That means more work sometimes, and less automagic behavior. In this case, it means that if you save serialized objects, it's up to you to know when (and how) you want to reconstitute them. e.g. `construct` is the safe version of `context` (or `make object!`) because it doesn't evaluate the spec. Once `save/all` is in place, and you use that, you have \*sort of* chosen to pre-evaluate them for automagic loading when saving them.

I started out doing things the way you are, using `do` extensively. Over time I moved to either storing data as blocks or as spec blocks for creating objects. It does mean more work on our end, but is effective. Maps will help with this too, which we don't have under R2.

Does that help?

## Friday 10th June, 2016

dahu

[00:00](#msg575a0334064b9e7266f11bc9)So, you're saying that I should not save objects, but the data within the objects. I should then re-construct objects in the "reader" scripts, or redesign the readers to work off simpler data structures?

[00:01](#msg575a035e6092456f6632b4a1)I didn't know about `construct` so that will give me something new to play with. Thanks :-)

[00:04](#msg575a03ff2eaa837d71e80dff)What is a "spec block" ?

[00:04](#msg575a042ba1be01c01a7883ea)And by map, you mean map over a block of data to recreate objects from it?

greggirwin

[05:17](#msg575a4d62064b9e7266f127d5)\*Should* is a strong word. ;^) You can do things however you want. `save/all` will probably make everything automagic for you when it's available. Until then, it's a great exercise in understanding evaluation, for the reader.

A spec block is an idiomatic term for a block containing `[set-word! any-value!]` pairs. e.g. the spec param for `context`, like `[a: 1 b: 'test]`.

By map I meant a `map!` value, e.g., `#(a: 1 b: test)`. Sorry for the confusion.

[05:20](#msg575a4e2497e1b2d245e16c7c)I think I used Rebol for almost a year before I heard the loud click in my head WRT evaluation, so I kind of evangelize it now.

dahu

[05:26](#msg575a4f7b2eaa837d71e81a9c)Doing this recent work in Red has certainly clarified a lot for me. A LOT to go, of course. I know I'm only scratching the surface here, but in a few short days I've nearly completely written a tool that I have been anguishing over for the past three years. The anguish being: What language should I write this in? I started with Ruby, dabbled with newLISP, resorted to Tcl and then on the #tcl freenode list Aspect mentioned Red and down the rabbit hole I went. I have thanked him for the mention. Very grateful to have found redbol. Very grateful to Doc &amp; QT (and whoever else is on the core team), and grateful for the good community surrounding it too.

dockimbel

[05:43](#msg575a53975eecfbd755f74475)@dahu Thank you for sharing your story, very interesting and glad Red been helpful to you. Funny you mentioned Tcl, as I'm preparing something for next week after the 0.6.1 release, that should be of interest for Tcl users to look at. ;-)

dahu

[05:45](#msg575a53f0064b9e7266f128ca)cool -- I look forward to it :-D

SteeveGit

[07:51](#msg575a717bbcc56d2561455e8b)# How to debug - A use case by Doc  
\[see the last comment of Doc](https://github.com/red/red/issues/1983)  
See the last comment of Doc.  
Shouldn't this go straight to the wiki?

iArnold

[08:16](#msg575a7746064b9e7266f1308c)(Pst! @SteeveGit , it is a wiki, you too can add that page. +1)

SteeveGit

[08:21](#msg575a78785eecfbd755f7451d)So, no kind soul :smile:  
Will look at it...

meijeru

[08:46](#msg575a7e736092456f6632cbf1)@asampal Thanks, I knew that, but a temporary fault (in Github? in my browser?) did not make anything appear on hovering. It is OK again now.

dockimbel

[11:11](#msg575aa05a1cf76dd64535db83)FYI: `reactive` branch has been merged into master.

Zamlox

[11:12](#msg575aa0ba6092456f6632d670)@dockimbel great ;)

dockimbel

[11:13](#msg575aa0da6092456f6632d679)Still some little work on reactive framework though, including writing the documentation. ;-)

Zamlox

[11:14](#msg575aa130e20024bd1ad2403c)I downloaded latest automatic build and when I run I got following:

```
Compiling compression library...
Compiling Red GUI console...
*** Driver Internal Error: Access Error : Cannot open /C/Users/aa045646/Download
s/environment/reactivity.red
*** Where: read-cache
*** Near:  [any [get-cache file read file]]
```

meijeru

[11:36](#msg575aa6422eaa837d71e83243)@dockimbel Great to see that reactivity is now part of the master branch. Concerning the compilation of the GUI console, I found that this works only in the folder that contains %compiler.r. It used to be the case that this compilation could be done in any folder at all. Is this new?

dahu

[11:37](#msg575aa66a6092456f6632d7ef)@dockimbel I just looked at your git profile... you're in Xiamen? I'm in Shanghai. How long have you been in China?

greggirwin

[13:54](#msg575ac6921cf76dd64535e978)@dockimbel Congratulations! I went to a meeting last night about Android and ReactiveX \*just* so I could start looking at it in Red with some other info in my head. I'm excited. You know I'm a fan of tuplespaces and, yes, I even have a paper copy of Morrison's book Flow Based Programming.

[13:59](#msg575ac7d597e1b2d245e191a4)@dahu nice to hear other's stories.

[14:12](#msg575acadf1cf76dd64535eb7d)@SteeveGit https://github.com/red/red/wiki/Guru-Meditations

dockimbel

[15:12](#msg575ad8dbe42570166a845403)@Zamlox It's caused by missing %reactivity.red file entry in the %build/includes.r list. Each time a new file needs to be part of the toolchain or runtime library, it needs to be added there or the compilation will error out. It's fixed now.

[15:17](#msg575ad9fbe9fbf4267bf35d79)@greggirwin Thanks, I do value that reference a lot. ;-)

[15:18](#msg575ada35c046fa5b2fd53e52)@meijeru I'm not aware of that. Could you provide me a practical test case?

[15:20](#msg575adac437340f6b2fe2630b)@dahu Indeed, I'm in China since 2 years, mostly spent in Beijing before moving my team to Xiamen 8 months ago.

[15:40](#msg575adf67c046fa5b2fd53e85)@greggirwin ReactiveX, like most so-called (functional) reactive frameworks out there, are in fact asynchronous functional stream processors. We don't have streams yet in Red (they don't exist in Rebol), I have some ideas about implementing them once we pass 0.7.0. But for now, what will Red offer is a more fundational approach to reactive programming, actually just extending what was introduced in 0.6.0 for GUI objects only, to any object now. It will allow you to interconnect objects, constituing directed graphs of relations, where the computations are triggered by external events/stimuli. It's close to the raw dataflow programming paradigm, the \[OORP model](https://en.wikipedia.org/wiki/Reactive\_programming#Object-oriented) being the closest I can find to what Red offers. More info in the upcoming documentation and blog article. ;-)

Arie-vw

[15:49](#msg575ae1a0064b9e7266f15653)@dockimbel Hi doc, when I run my docs generator in interpreted mode in last version, it runs a lot faster than e.g. a week ago. Did you work miracles, or has my PC seen the light???!!!

[15:50](#msg575ae1bd064b9e7266f15659)Anybody using Red on Raspberry Pi. I'm planning on using it in the near future ...

dockimbel

[15:52](#msg575ae255e42570166a84545e)@Arie-vw I haven't done any specific speed optimizations, maybe one of the recent bugfixes has removed some unnecessary computations.

Arie-vw

[15:53](#msg575ae28f814a56807141d9d6)@dockimbel Anyway, I am grateful for it :-)

SteeveGit

[16:08](#msg575ae5e1c046fa5b2fd53ebc)@greggirwin I already posted the full comment https://github.com/red/red/wiki/How-to-Debug:-A-use-case-by-@DocKimbel

meijeru

[16:32](#msg575aeb831cf76dd64535f95a)@dockimbel I was referring to the same error that @Zamlox mentioned. Glad to hear it now solved.

greggirwin

[17:15](#msg575af596a1be01c01a78c7a0)@SteeveGit thanks. Wikis are great, until you don't have someone maintaining a TOC. My thought on a Guru Meditations page was that it could be more than just crash-related. Anything that is worth a few quiet moments of focused thought, with insight from those who know.

RnBrgn

[18:41](#msg575b09f61cf76dd6453604c4)@Arie-vw , Is there a Red library available to access the Rasberry Pi GPIO pins? I looked and didn't see any available.

PeterWAWood

[22:03](#msg575b3941064b9e7266f173f5)@Arie-vw @RnBrgn There isn' any library for accessing the RasPi GPIO yet. Red programs can be run on a Rasberry Pi but need to be cross compiled on an Intel machine at the moment.

## Saturday 11st June, 2016

greggirwin

[01:45](#msg575b6d31814a56807142008a)`Put` with an integer key seems to `poke`:

[01:45](#msg575b6d416092456f66331588)

```
red>> blk: [a b #x #y 2 3]
== [a b #x #y 2 3]
red>> put blk 2 4
== 4
red>> blk
== [a 4 #x #y 2 3]
```

dockimbel

[03:10](#msg575b813be42570166a845830)@RnBrgn Accessing GPIO is just about reading/writing given memory addresses, it should be trivial to port for example, the Python's one (in C) to Red/System and make some Red wrapping routines on top of it. I can have a look at it after the 0.6.1 release, if nobody else does it before.

ghost~5680c5f416b6c7089cc058a5

[03:54](#msg575b8b806092456f663318fd)@dockimbel @PeterWAWood http://www.red-lang.org/p/getting-started.html  
still links to the wiki for GUI reference docs. It should point to the gitbook instead.

dockimbel

[03:56](#msg575b8bedc046fa5b2fd542a0)@nc-x Thanks, fixed now.

ghost~5680c5f416b6c7089cc058a5

[04:14](#msg575b900c814a5680714204a5)@qtxie Is this a bug?  
Type this into console -

```
view [text "click" [print "clicked"]]
```

Press Enter.  
Now double-click on the text `click`.  
The text `click` automatically gets copied into clipboard.  
Should i create issue on GitHub?

qtxie

[04:25](#msg575b92a7814a5680714204eb)@nc-x Yes, please.

dander

[04:29](#msg575b93c72eaa837d71e876f9)is reading from stdin supported yet? or is that a .7 feature?

qtxie

[08:18](#msg575bc96ec046fa5b2fd54340)@dander You can now use `INPUT` to read stdin and it expects UTF-8 encoded string.

SteeveGit

[10:35](#msg575be969c046fa5b2fd54368)Someone can confirm this?

```
red>> range: [0 0] range/2: a: b: 1 ?? range
range: [0 1]     <---- Nothing wrong here
red>> range: [0 0] a: b: range/2: 1 ?? range
range: [0 b:]     <---- WTF !!!
```

rebolek

[10:51](#msg575bed29c046fa5b2fd5436d)@SteeveGit confirmed, definitely a bug

dockimbel

[10:52](#msg575bed62a1be01c01a78f611)@SteeveGit Good catch! Please open a ticket, I will process it at once.

SteeveGit

[10:53](#msg575beda2e9fbf4267bf362a4)Man! I bugged on this one for hours because I couldn't believe this line in my code could be at fault.

[10:55](#msg575bee14e42570166a845913)You should trust nothing :japanese\_ogre:

rebolek

[11:02](#msg575befc1e9fbf4267bf362a6)Remember that you are using alpha software :)

dockimbel

[11:02](#msg575befe2a1be01c01a78f663)We are clearly lacking more unit tests for paths.

SteeveGit

[11:02](#msg575befe3e42570166a845914)I know, I'm blaming myself

[11:04](#msg575bf034e42570166a845916)We really see who are really trying to code with Red here ;-)

[11:06](#msg575bf0be37340f6b2fe2683b)btw, bug reported

[11:15](#msg575bf2d0e9fbf4267bf362a8)/playing \*The Doors - Riders On The Storm* :fire:

Arie-vw

[11:40](#msg575bf8c4a1be01c01a78f7b4)@dockimbel Think I found a bug or a "feature"

```
Red []

get-type-1: function [ w ] [
    t: copy ""    ; string!
    tmp: copy {t: type? :}
    append tmp w
    do tmp
    return t
]

get-type-2: function [ w ] [
    t: type? :*  ; datatype!
    tmp: copy {t: type? :}
    append tmp w
    do tmp
    return t
]

print mold get-type-1 "either"
print mold get-type-2 "either"
```

[11:41](#msg575bf8f16092456f663327c3)Ran it in interpreter.

dockimbel

[11:45](#msg575bf9f0814a56807142131d)Please, when it's not totally obvious, explain what is the expected result and what you get. I run the code and can't draw any conclusion from the results as I don't know what it's supposed to return, for that, I need to read every line of code, and decode the author's intentions, that's not a good way to use my very limited time...

[11:49](#msg575bfae4064b9e7266f18f02)I guess that the result of calling `get-type-1` is not what you expected? The string passed to `do` is internally loaded and bound to global context, so that your local `t` word is not set. Manually loading and binding the code will give you what you were expecting (or so I guess):

```
get-type-1: function [ w ] [
    t: copy ""    ; string!
    tmp: copy {t: type? :}
    append tmp w
    do bind load tmp 'w
    return t
]
```

Arie-vw

[12:07](#msg575bfeea064b9e7266f18fa1)@dockimbel Sorry. Thought it was obvious. Thx for explanation!

[12:11](#msg575bffe7814a568071421419)@dockimbel Still I don't get why it DID work in get-type-2 without using bind ...

dockimbel

[12:12](#msg575c00131cf76dd645362ff6)@Arie-vw Because you pre-set `t` with the right value. EDIT: sorry, wrong interpretation of your code... you get `op!` while you expect `native!`, so it doesn't work either, and you got confused by your own code as much as I was. Definitely not obvious. ;-)

Arie-vw

[12:12](#msg575c0023e20024bd1ad2938f)Ah OK!

dockimbel

[12:18](#msg575c0181814a568071421451)BTW, `return` is not required in your above functions, as evaluated blocks always return the result of the last expression.

Arie-vw

[12:19](#msg575c01cae20024bd1ad293d8)Yes, know that. Old habit :-) Must change ...

RnBrgn

[12:44](#msg575c07bf97e1b2d245e1d854)@dockimbel I really don't have an immediate need for a RasberryPi library. I'm sure your plate is full. Though, libraries such as this , make it more attractive for developers to try a new language like Red and RasberryPi is hot right now as I'm sure you know. Could be a great fit with Red's ease and gui and the advantage of a compiled executable unlike Python.  
Posting a simple Red gui example with a button turning on a pin io with three or four lines of code all in a small 1MB executable would open up some eyes I bet.

dockimbel

[12:46](#msg575c081f2eaa837d71e88726)@RnBrgn Indeed, we'll need to wait for our GTK support for View first. Though, GPIO support is really trivial to add, I was expecting such trivial task to be contributed by the community, but nobody did it so far.

dander

[17:15](#msg575c4731a1be01c01a7905c4)thanks @qtxie , but I get this in the latest nightly build

```
red>> ?? input
input: func [][ask ""]
```

is there another `INPUT` I'm missing?

yoffset

[17:33](#msg575c4b6697e1b2d245e1e47d)red&gt;&gt; ? input

asampal

[17:36](#msg575c4c3ae9fbf4267bf36409)Anyone know how indices of type `any-string!` and `block!` are used with `pick`? These types of indices are not there in either Rebol 2 or Rebol 3.

greggirwin

[18:13](#msg575c54b897e1b2d245e1e606)@asampal it looks like they aren't implemented yet. Only integer, char, and logic so far. Anything else is treated as a pick index of 0.

asampal

[18:14](#msg575c5501c046fa5b2fd544fe)@greggirwin do you have any idea how they might be used once they're there?

greggirwin

[18:17](#msg575c55d0a1be01c01a79086d)For blocks, my guess would be supporting multiple integer indexes. That's how my extended version works anyway. For strings, I don't know. It could take each char as an index and muilti-pick those, but that doesn't seem terribly useful to me.

asampal

[18:18](#msg575c560037340f6b2fe269af)yeah, that was my thinking about blocks too

greggirwin

[18:19](#msg575c5627a1be01c01a79087f)It's also possible the blocks could be dialected, but I think Nenad will want to keep `pick` simple and defer that kind of thing to a `cut/excerpt`func.

[21:44](#msg575c864a1cf76dd64536489a)Is it by design that issues can't have `#` as their first char, after the sigil?

```
red>> ##ERR
*** Syntax error: invalid {"##ERR"} at none
*** Where: do
```

[21:48](#msg575c87472eaa837d71e89f27)Ah, it's more than that. Happens at other locations as well.

```
red>> #-##ERR
*** Syntax error: invalid {"#-##ERR"} at none
*** Where: do
red>> #-#ERR
== #ERR
red>> #ERR#
*** Syntax error: invalid {"ERR#"} at none
*** Where: do
red>> #E#RR#
*** Syntax error: invalid {"#RR#"} at none
*** Where: do
red>> #E#RR
== #RR
```

I'll try to nail it down.

[21:52](#msg575c883b6092456f663341e6)At the end, it's probably the lexer seeing nothing after it and not accepting an empty issue.

[21:53](#msg575c88736092456f663341f0)

```
red>> print [#00#01]
00 01
```

[21:55](#msg575c88e5e20024bd1ad2ac5e)Same issue with double ## I think.

```
red>> print [##0]
*** Syntax error: invalid {"t[##0]"} at none
*** Where: do
```

[22:03](#msg575c8a982eaa837d71e89fcd)Best guess is that you can't have an empty issue and the lexer resets on # (if not map!, binary!, char! or serialized (escaped) value syntax).

## Monday 13th June, 2016

JenniferLee520

[06:27](#msg575e525c1cf76dd645369274)Can I use the Red/System functions defined in the simple-io context, such as read-file, open-file, and seek-file? Will these Red/Systems functions be obsolete after version 0.7?

dockimbel

[07:52](#msg575e6638e20024bd1ad2f90a)@JenniferLee520 They will be most probably removed in 0.7, yes. Though, you can still fork %simple-io.reds file and use it in your project, outside of Red runtime if needed.

SteeveGit

[09:17](#msg575e7a3637340f6b2fe27267)To be sure: There is no current way to pass arguments to a script, right?

[09:27](#msg575e7c8a37340f6b2fe2727b)Ah, do/args...

[09:33](#msg575e7defc046fa5b2fd54e26)Hmm... system/options/args or system/options/do-arg don't seem to be set.

[09:59](#msg575e8406c046fa5b2fd54e57)Ha! it was put in system/script/args

dockimbel

[10:01](#msg575e849197e1b2d245e247c5)@SteeveGit You've mixed it up, Red currently only fills system/options/args.

SteeveGit

[10:03](#msg575e850437340f6b2fe272bd)And it was also specified in the `help do`. Instead, I lurked through the source code during half an hour to find how \*\*do\** was acting, dumb me.

[10:04](#msg575e8542e42570166a846381)

[10:05](#msg575e8576c046fa5b2fd54e6f)...

[10:06](#msg575e858fe9fbf4267bf36d69)@dockimbel, I was trying \*\*do/args\**

x8x

[11:45](#msg575e9cd9a1be01c01a797042)@dockimbel Is passing arguments to a red interpreted script supported?  
With `red code.red a b c` `probe system/options/args` will return only `"code.red"`.  
I tried piping like `echo 123 | red` but this will stuck the console.

dockimbel

[11:54](#msg575e9f011cf76dd64536a8f7)@x8x It's supported, but buggy/incomplete. Have you tried `red 'code.red a b c'` or similar variants?

[12:00](#msg575ea0601cf76dd64536a97f)You cannot use piping currently on the `red` binary. Remember it's an encapped Rebol instance which is just a launcher for the Red console app. If you want to do that, you should instead copy the pre-compiled Red console from `$HOME/.red/` to your `/usr/bin` and use that directly. The `red` binary is only really required for compilation and generating a Red console app, once you have it, you can use it directly if you don't need compilation.

x8x

[12:04](#msg575ea15997e1b2d245e250f4)Good tip, althought:

```
red 'code.red  a b c'
*** Error: cannot access argument file
```

but I can probably patch console/engine.red to split arg/1 into multiple values before it tries to execute the script.  
Piping doesnt' work with console app directly, it get stuck.

[12:08](#msg575ea2281cf76dd64536aa24)still compiled scripts do get all args, tried to look at source but couldn't find why console app only return args/1, must be something in R/S .. 8-)

SteeveGit

[15:14](#msg575ecdbffee9fe904a4e123e)Has someone tested list-env on windows?

meijeru

[15:43](#msg575ed4ac6092456f6633b8a7)@SteeveGit Yes, for me it works. It produces a valid `map!` value with the environment variable names as keys of type `string !` and their values as values of type `string!` also. In fact, the map contains more key-value pairs than I have been able to get out of the System Properties window which is reachable through the Control Panel...

[15:43](#msg575ed4bde20024bd1ad322d1)This is on Windows 10.

SteeveGit

[15:49](#msg575ed622c970bbe52668b37e)Sorry, I should have precised, someone can test it on Windows XP ?

[15:50](#msg575ed65dc970bbe52668b37f)since I use wine on linux

[15:52](#msg575ed6a4b0fea4a36b5af18e)There is something really messed up with UTF-16LE conversions.

[16:23](#msg575ede11fee9fe904a4e12fe)I suspect, it's also affecting passing arguments to the gui-console.exe, I can no longer launch \`./gui-console.exe my-script.red. The file! name is not correctly built from system/options/args. It's probably related to a modif some weeks ago. But I failed to track it earlier because I used an old build longer than needed.  
Geez, I don't even know where to begin with, with my tests... It would be good to have some built-in funcs to tests utf conversions in the console without the need to patch and debug the red sources by ourself

meijeru

[16:37](#msg575ee13a814a56807142ad42)@dockimbel Excited about the advent of `time!` and `date!` types and values. However, I read in `structures.reds`:

```
; year:19 (signed), month:4, day:5, TZ:5 (signed)
```

for the structure of the integer that encodes dates. That's 33 bits in all, which do not fit into one word...

dockimbel

[16:52](#msg575ee4c1fee9fe904a4e132d)@SteeveGit Can you reproduce the same issues on a real Windows XP?

[16:52](#msg575ee4ca76109d1f0af536d2)@meijeru Good catch!

SteeveGit

[16:53](#msg575ee507fee9fe904a4e132f)Nah I can't, don't have the config.

[16:56](#msg575ee5d9b0fea4a36b5af250)But I know where to debug. It's just... it takes time I didn't expect to have to put in. Just complaining...

dockimbel

[16:57](#msg575ee5f2c970bbe52668b426)@SteeveGit Could you checkout some older versions and try to pinpoint the commit which causes the issue?

SteeveGit

[16:57](#msg575ee60ffee9fe904a4e133f)It's in the TODO list ;-)

[16:59](#msg575ee66176109d1f0af536df)Unfortunatly, I didn't kept my old versions (something to change in my habits)

dockimbel

[17:00](#msg575ee6c1c970bbe52668b42d)I meant: "git checkout", then recompile the console and test. You can checkout to any commits from the git history. When I do that, I usually use a dichotomic approach to avoid too many tests.

SteeveGit

[17:01](#msg575ee6ceb0fea4a36b5af256)To begin with, if you could give me links to older versions of the gui-consolefrom 1 month ago; and 2 months ago, it would help.

[17:01](#msg575ee6f876109d1f0af536e2)But I will recompile them, if you don't have them.

dockimbel

[17:03](#msg575ee74d76109d1f0af536e5)I don't keep older versions, when I need one, I checkout to the right date/commit and recompile one.

SteeveGit

[17:04](#msg575ee7a5b0fea4a36b5af265)Ok, In fact at this point, I don't even know if I've done something wrong in my OS config. Could be also a wrong Ubuntu update.

[17:05](#msg575ee7ceb0fea4a36b5af268)... Of wine

[17:06](#msg575ee82ec970bbe52668b444)That's why I'm also asking for someone under wine who can also replicate my probs. But, seems I'm alone for now.

meijeru

[17:42](#msg575ef0a02eaa837d71e92508)@dockimbel Is there any reason why the following program should not at least produce some output?

```
>>n: 0 forever [n: n + 1 print n]
```

Never mind it is a meaningless program that only consumes time  
and space but in my console it does not react at all ?!?

dander

[17:45](#msg575ef12fe20024bd1ad32f98)I don't know if this is one of those "obvious to everyone" things, but I recently discovered (based off of hints from this chat) you can do this:

```
red>> save/all %system.red system
```

and open system.red in (for example) VS Code, and browse around, search, use block folding. It's pretty interesting, and good for finding certain things.

meijeru

[17:47](#msg575ef1c41cf76dd64536ce96)@dockimbel My example program started out as a test for the use of ESC to terminate a computation (see issue #2008).

SteeveGit

[17:57](#msg575ef424c970bbe52668b50d)Ok folks, I got it about env-list.  
platform/GetEnvironmentStrings returns an array of UTF-16LE c-strings.  
But when an env variable "var=blabla..." is set to a null string "var=\\0\\0° (seems it may happens, on my config at least, "INSTANCE=\\0\\0"), then it crashs. I will take some times to correct that and push a FIX.

[18:04](#msg575ef5bfc970bbe52668b52f)get-env "INSTANCE" returns none, so well handled here.

asampal

[18:04](#msg575ef5cafee9fe904a4e144b)Is anyone able to build Red from source right now? I just pulled up to c33998adc359d7d009ea8af229f5625be5f69798 and the resulting gui-console that I built crashes on startup on Windows 10 64 bit. I've built with no problems many times before this. There is no message/dialog box when the crash happens. I just see the process start in Process Explorer followed by a WerFault.exe (Windows Error Reporting) child process of that is launched briefly after which both exit.

SteeveGit

[18:06](#msg575ef622fee9fe904a4e1451)You compiled it or used the default build ?

[18:07](#msg575ef64bc970bbe52668b537)because I will not pull it to not compromise my own builds ;-)

asampal

[18:08](#msg575ef6a4c970bbe52668b53e)I compiled it

[18:08](#msg575ef6b376109d1f0af537e7)you can clone to a different dir, no?

SteeveGit

[18:10](#msg575ef711b0fea4a36b5af36a)yeah, if nobody can respond to you I will, but now is meal time.

asampal

[18:11](#msg575ef736b0fea4a36b5af36b)no rush - thanks, @SteeveGit

pekr

[18:18](#msg575ef8eca1be01c01a7998a5)Which branch? Master?

asampal

[18:27](#msg575efb1cfee9fe904a4e147e)@pekr , yes

pekr

[18:36](#msg575efd422eaa837d71e92aba)I can confirm the same ...

greggirwin

[19:05](#msg575f04122eaa837d71e92ded)@asampal , I pulled earlier and built fine. Pulled again just now and all is OK under Win7 here.

@SteeveGit , so I can't help. Only wine open here now is Cabernet.

@dander yes, good trick. Some of us, long ago, also built GUI browsers for the system object, which will be a fun example to see done for Red.

[19:17](#msg575f06cf2eaa837d71e92f2c)@meijeru @dockimbel 5 bits for the zone will only allow a resolution of 1 hour, won't it?

meijeru

[19:30](#msg575f09bba1be01c01a79a0b0)In Rebol3 the zone is -15:45..15:45 in multiples of 0:15, thus 127 values in 7 bits. With 2 bits out of 32 unassigned, and 4 + 5 bits for month and day, that leaves 14 bits for the year instead of 18. Red can use 16 for the year and still have 0:15 resolution for the zone. It's a choice to be made.

greggirwin

[20:14](#msg575f1431e20024bd1ad33f74)I have old notes somewhere on date/time storage (when researching for Ren), but I wasn't up against a hard limit of packing them into a slot. Looks like time! is a float, not a large int as many others do, so Doc probably has an implementation plan in mind.

[20:23](#msg575f16381cf76dd64536de6d)e.g., other systems store days-from-0 as an int and calc from there, but it sounds like he's doing something more like Rebol (which makes sense). I think it's important to allow existing time zones to be supported though.

PeterWAWood

[22:32](#msg575f3474a1be01c01a79b0ae)There doesn't seem to be any time zones with a ±xx:15 minute offset from UTC but there are quite a few ±xx:45 - UCLA +8:45, Chatham Islands, NZ +12:45, Nepal +5:45. There are a larger number of timezones with a ±nn:30 offset from UTC including India, Sri Lanka and parts of Australia.

## Tuesday 14th June, 2016

dockimbel

[02:26](#msg575f6b4cb0fea4a36b5af698)@meijeru The GUI console is a View app, so it requires an event loop for updating windows, try it with:

```
red>> n: 0 forever [n: n + 1 print n do-events/no-wait]
```

[02:30](#msg575f6c4ab0fea4a36b5af69c)@qtxie I think we could provide a GUI console specific low-level output primitives to ensure such updates automatically.

[02:32](#msg575f6cabfee9fe904a4e17b5)@dander You can also explore the system object using help: `help system`, `help system/options` and so on...

[02:33](#msg575f6cfefee9fe904a4e17ba)@SteeveGit Thanks for digging out the env-list issue! :+1:

[02:38](#msg575f6e0ab0fea4a36b5af6a2)@greggirwin @meijeru Good point about the TZ increments. I'm changing the date bits layout accordingly. Time! is internally represented as a 64-bit float, we could switch it to 64-bit integer once we R/S supports it.

PeterWAWood

[02:43](#msg575f6f4097e1b2d245e29c42)I have a \[Red/System 64-bit integer library](https://github.com/PeterWAWood/Red-System-Libs/tree/master/I64). The code may not be useful but it has a set of tests.

meijeru

[08:08](#msg575fbb94814a56807142ecd6)@dockimbel Welcome to `time!`in the master branch. Independent of the decision to make time a 64-bit integer or leave it a float, there are a few worries I have as an ex-physicist :worried: :  
time is NOT a dimensionless quantity, therefore some arithmetic operations cannot be taken over from float (or integer for that matter) by straight inheritance. Example: ideally, dividing time by time should give a float, dividing or multiplying time by number should give time. If dividing number by time, as well as multiplying time by time, and taking the power, should be allowed, one should realise that this makes very little sense. What are your views?

[08:18](#msg575fbdda6092456f6633fc24)@dockimbel Also, I have submitted an issue about `round` for time values, also in relation to `random`.

[08:33](#msg575fc16ce20024bd1ad36803)Some trials with multiplying and dividing time have also given rise to issues. Also exponentiation.

SteeveGit

[09:11](#msg575fca38b0fea4a36b5af856)Can you confirm the crash on Windows systems? Mine is WindowsXP wine emulation.  
&gt; set-env "TEST" ""  
&gt; list-env

But I will post an issue and a FIX anyway, just to confirm it on other systems.

meijeru

[09:14](#msg575fcaede20024bd1ad36b57)@steevegit No problem on W10

SteeveGit

[09:20](#msg575fcc5cc970bbe52668ba64)But do you see "TEST" "" in the resulting list-env ?

meijeru

[09:22](#msg575fccc797e1b2d245e2b1cd)@SteeveGit YES

SteeveGit

[09:25](#msg575fcd89fee9fe904a4e196f)ok, it's really strange, there is obviously something different in the format of the array, but I can't know without doing a dump trace on the returned c-string array. I will amend my issue anyway.

dockimbel

[09:44](#msg575fd1ff2eaa837d71e96420)@meijeru Current time! implementation is incomplete and temporary (as we miss 64-bit integers as I mentioned above). So, in the meantime, we just aimed at the cheapest way to provide as many features as possible, as, in case you haven't noticed, we want to make a new release these days. I just needed time! in order to support time events for faces, so all the maths and other actions support are not strictly required for now. I thought it would still be nice to have at least a few of them, like addition/subtraction and comparisons. As you noticed from the implementation, for maths, it's an all-or-nothing choice. So, do you prefer we remove all maths and other numeric actions from time! type? Because we certainly don't have the time (no pun intended) right now to make a full implementation.

[10:03](#msg575fd66ee20024bd1ad36fa5)We can do only simple corrections on current time! implementation, we don't have the time for deeper changes/fixes.

meijeru

[10:21](#msg575fdab82eaa837d71e9672f)@dockimbel I don't want to obstruct anything. Just let these flaws be remembered for future reference and improvement. You can assign a low priority to the issues... It is useful to look at R2&amp;3 for comparison, later, although I don't say that those implementations are perfect!

xqlab

[10:52](#msg575fe1e2814a56807142f9fa) \[alternative split](https://gist.github.com/xqlab/0d33b32ceed493d0db0c1639f4cf8556)  
red&gt;&gt; split/csv {"123"} ","  
\== \[{"123"}]  
red&gt;&gt; split/csv {1,2,3,"1,2,3",4,,} ","  
\== \["1" "2" "3" {"1,2,3"} "4" "" ""]  
red&gt;&gt; split/csv {1,2,3,."1,2,3",.4,,} ",."  
\== \["1,2,3" {"1,2,3"} "4,,"]  
red&gt;&gt; split/string {1,2,3,,"123",4,,} ",,"  
\== \["1,2,3" {"123",4} ""]  
red&gt;&gt; split {1,2.3,,"123".4,,} ".,"  
\== \["1" "2" "3" "" {"123"} "4" "" ""]  
red&gt;&gt; split {1,2.3,,"1,2,3".4,,} ".,"  
\== \["1" "2" "3" "" {"1} "2" {3"} "4" "" ""]  
red&gt;&gt; split {1,2,3,."1,2,3",.4,,} ","  
\== \["1" "2" "3" {."1} "2" {3"} ".4" "" ""]

pekr

[11:20](#msg575fe8736092456f663409d1)Should elemet, basically a field, containig separator or spaces, be enclosed in a dual string?

[11:22](#msg575fe900a1be01c01a79db59)I think that "1,2,3", should end up as a {1,2,3}, without inner quotes?

djrondon

[12:14](#msg575ff532a1be01c01a79e080)Folks.. How does red deals with REST protocol ? I saw this script from Christopher Ross-Gill. Is Red ready for Rest ?

[12:16](#msg575ff5af6092456f66340f43)http://reb4.me/r/rest-curl

endo64

[14:42](#msg576017bf1cf76dd645372864)There is no port! yet, so I don't think it is ready to write protocol implementations.

[14:42](#msg576017e6e20024bd1ad38a2a)@SteeveGit `set-env "test" ""` and `list-env` works on Win81 x64 too.

SteeveGit

[15:01](#msg57601c6209a91a8d73d6d0a8)@endo64 thanks, still need someone with WindowsXP

[15:01](#msg57601c6709a91a8d73d6d0aa)or wine

greggirwin

[16:34](#msg576031fcda1c26b04535ed49)@meijeru it would be great to put notes in a wiki page or something, so your thoughts don't get lost.

[16:39](#msg5760334fda1c26b04535edde)Is `/any` required for setting unset values? It works without it right now.

```
red>> set 'vv first reduce [()]
red>> type? :vv
== unset!
```

dockimbel

[16:45](#msg576034b209a91a8d73d6d244)@greggirwin Looks like a regression to me...it should require `/any`.

greggirwin

[16:46](#msg576034d1b8ad3d5d7edff434)OK. Do you want an issue for it?

[16:46](#msg576034e436c83a8802057f7a)Also...TIME! Woohoo! :^)

dockimbel

[16:46](#msg576034e7ea84f717479b8791)Worth it, yes.

[16:46](#msg576034fc09a91a8d73d6d24b)@greggirwin And `face/rate` ;-)

greggirwin

[16:47](#msg5760352163ea0987306ab7fe)No way. Oh man. :^) I can't keep up.

[17:12](#msg57603b1b52352c840281f915)

```
red>> 1:2:3
== 1:02:03.0
red>> 0:0:0 + 1:2:3
== 1:02:03.000000000000455
red>> 1:1
== 1:01:00.0
red>> 0:0:0 + 1:1
== 1:01:04.547473508864641e-13
```

@dockimbel what would be the best thing for me to work on at this point? You're busy with a release, and I don't want to distract you. I could start on some time! tests, if Peter isn't, or prep more mezz thoughts for when you recover from the release. Or I can play with new things and see what breaks. :^)

dockimbel

[17:14](#msg57603b5a6111a28c047b6fe7)Time! tests and playing with new features are the most helpful right now.

greggirwin

[17:14](#msg57603b61b8ad3d5d7edff718)I know the above is because of the internal float! implementation, just noting it.

dockimbel

[17:14](#msg57603b8191cdd6673163ec3f)We'll try to improve the rounding issues tomorrow, we just need nano-seconds anyway.

greggirwin

[17:16](#msg57603be77a851b587e6ea84a)Great. @meijeru, time! testing sounds right up your alley. If you want to take the lead, I'll help you, or vice versa.

dockimbel

[17:17](#msg57603c456111a28c047b6ff7)First animation test (bouncing ball):

```
view [
	size 250x200
	ball: base 20x20 draw [pen blue fill-pen blue circle 10x10 9] rate 50 on-time [
		face/offset: face/offset + (face/extra * 3x3)
		if face/offset/x + face/size/x > face/parent/size/x [face/extra/x: -1]
		if face/offset/y + face/size/y > face/parent/size/y [face/extra/y: -1]
		if face/offset/x < 0 [face/extra/x: 1]
		if face/offset/y < 0 [face/extra/y: 1]
	]
	do [ball/extra: 1x-1 ball/color: none]
]
```

x8x

[17:19](#msg57603caa7a851b587e6ea89d)Amiga style? ;-)

greggirwin

[17:19](#msg57603cacf191398330a061c5)John Niclasen may be disappointed that Red doesn't support Planck time. ;-)

dockimbel

[17:20](#msg57603ce909a91a8d73d6d29d)@x8x Kind of, yes, real Amiga-style would be with the ball crossing several windows. ;-)

[17:21](#msg57603d3709a91a8d73d6d2a5)@greggirwin Who needs time! when you have float! for scientific calculations. ;-)

greggirwin

[17:22](#msg57603d3ab8ad3d5d7edff7de)I feel spoiled. I hear Red has time!, I pull the source and compile a new build with 2 clicks, I play in the console with time! and it doesn't crash. Then I paste in a new animation demo and it works perfectly.

[17:22](#msg57603d60f191398330a06215)@dockimbel EEEEEK! Money! first, then Unum!. ;^)

pekr

[17:23](#msg57603d9c63ea0987306abbef)The animation updates even when dragging a window, nice ...

[17:26](#msg57603e3063ea0987306abc34)@dockimbel - don't remember precisely the Amiga demo, so not sure it went thru multiple windows? Wasn't that a QNX demo later? :-) To feel like an amiga, it would need some double buffering to prevent jitter :-)

dockimbel

[17:26](#msg57603e46ea84f717479b8808)Maybe it was the BeOS version then.

pekr

[17:26](#msg57603e537a851b587e6ea94c)... and yes, the progress is exceptional!

[17:27](#msg57603e8763ea0987306abc5e)You see? I was kind of right, when I told Carl, that it is not only about a new stuff, but about the overall experience. Red did really got me with its gui console. And man, most of the time it is simply just - working. No crashes!

meijeru

[17:29](#msg57603ef1da1c26b04535f32c)@greggirwin I have no time or resources to create conforming tests in PWAW's framework. There are two types of issues here: (1) anomalies caused by (imperfect) implementation of time! as float! -- note that they could be in form/mold rather than in the actual computations (but see #2019) (2) operations that do not make sense (and that are forbidden in R2 and/or R3 by the way); from Doc's recent comment to you I guess he is not against limiting computations with time to the strict minimum needed.  
I propose to send you later this week a descriptive list of tests to be done which will elicit anomalies as under (1) while restricting themselves to operations that make sense under (2) -- restrictions which I will also write up.

greggirwin

[17:31](#msg57603f6ddfb1d8aa45a34680)Hmmm. Can't paste code into gitter right now. :^(

pekr

[17:33](#msg57603fd8f191398330a06343)there were at least two new releases today, try to reload the page.

greggirwin

[17:34](#msg57604031f191398330a06362)

```
view [
    size 200x200
    ball: base 20x20 draw [pen blue fill-pen blue circle 10x10 9] rate 50 on-time [
        face/offset: face/offset + (face/extra * 3x3)
        if face/offset/x + face/size/x > face/parent/size/x [face/extra/x: -1]
        if face/offset/y + face/size/y > face/parent/size/y [face/extra/y: -1]
        if face/offset/x < 0 [face/extra/x: 1]
        if face/offset/y < 0 [face/extra/y: 1]
    ]
    ball-2: base 20x20 draw [pen red fill-pen red circle 10x10 9] rate 50 on-time [
        face/offset: face/offset + (face/extra * 4x4)
        if face/offset/x + face/size/x > face/parent/size/x [face/extra/x: -1]
        if face/offset/y + face/size/y > face/parent/size/y [face/extra/y: -1]
        if face/offset/x < 0 [face/extra/x: 1]
        if face/offset/y < 0 [face/extra/y: 1]
    ]
    do [
        ball/extra: 1x-1 ball/color: none
        ball-2/extra: 1x-1 ball-2/color: none
    ]
]
```

dockimbel

[17:34](#msg5760403391cdd6673163ec79)@pekr Oh, so you didn't notice that you could customize now console's font's name/color/size? :smile: We haven't exposed it yet, but there's a config file for the console now, in the same folder as the gui-console binary.

greggirwin

[17:35](#msg5760407652352c840281fb92)Interesting. If the above demo is running in Red, ctrl+&lt;key&gt; combos don't seem to work. Not just gitter, but any app. Couldn't cut/paste until I stopped it.

pekr

[17:36](#msg576040afb8ad3d5d7edff960)I saw it coming in commits. No .cfg file in the gui-console folder though ...

dockimbel

[17:37](#msg576040e009a91a8d73d6d2d8)@greggirwin Running your 2-balls demo now, I can paste in Gitter or my text editor without issues.

x8x

[17:38](#msg576040fdf191398330a063e1)Wine is not friendly!

greggirwin

[17:38](#msg5760410edfb1d8aa45a3472b)Even more interesting. :^\\

asampal

[17:41](#msg576041b709a91a8d73d6d2e3)@dockimbel for me the cfg file gets saved under c:\\ProgramData\\Red, not beside the console binary

greggirwin

[17:41](#msg576041c163ea0987306abde3)It's like the clipboard is interrupted somehow (Win7 here). e.g. in Notepad, Edit|Paste is disabled while the demo runs, can't paste. As soon as I stop the demo, it's enabled.

iArnold

[17:41](#msg576041dcf191398330a0642e)&gt; John Niclasen may be disappointed that Red doesn't support Planck time. ;-)

@Gregg Too good to not reply Two halves is also one Planck time ;-P

dockimbel

[17:42](#msg576041eeea84f717479b8842)@qtxie ^--- What do you think about Gregg's issue with clipboard?

greggirwin

[17:42](#msg576041f136c83a880205852d)Thanks @meijeru! All input will help.

asampal

[17:44](#msg5760426a09a91a8d73d6d2ec)@dockimbel is the timer support working at this point?

greggirwin

[17:44](#msg57604287b8ad3d5d7edffa36)Happens with your original demo too @dockimbel. And ctrl+enter in gitter entered a space instead of posting (multiline mode on).

dockimbel

[17:45](#msg576042b409a91a8d73d6d2ef)@asampal Yes, though, the timers are for GUI objects only until 0.7.0.

greggirwin

[17:46](#msg576042e5da1c26b04535f4e2)@iArnold You mean I could do it in half the time? ;^)

asampal

[17:48](#msg5760435c09a91a8d73d6d300)@dockimbel , looking at the commits, I notice that SetTimer is called with a NULL for the timer ID - according to the docs, that seems undefined. If it does work even with a NULL ID, does this mean that it's not possible to create multiple timers?

[17:54](#msg576044caea84f717479b886e)Also, do you intend to eventually support high resolution timers using the `ExXxxTimer` APIs (https://msdn.microsoft.com/en-us/library/windows/hardware/dn265198(v=vs.85).aspx) defined for Windows 8.1+ ?

dockimbel

[18:02](#msg5760469f09a91a8d73d6d323)@asampal You can use a hWnd or nIDEvent to define your timer. In Red/View, you can have one timer per face. We'll support higher resolution timers in 0.7.x. The current ones have one millisecond of resolution.

greggirwin

[18:31](#msg57604d9c63ea0987306ac2f5)Error setting `origin` before `size`:

```
red>> view layout [origin 5x5 size 100x100]
*** Script error: VID - invalid syntax at: [size 100x100]
*** Where: do
```

[20:32](#msg576069d27a851b587e6ebca4)It's time for Red. https://gist.github.com/greggirwin/0b30c6ec361525cc45b6de50552ce00e

qtxie

[21:50](#msg57607c39da1c26b045360dd7)@dockimbel I think I know the reason, will fix it today.

greggirwin

[22:40](#msg576087c9da1c26b0453611a1)Is there a planned release where integer divides will return a float when needed?

[22:55](#msg57608b71b8ad3d5d7ee0178d)Naming question: Is there a reason, like having an absolute trigger time option in the future, that `on-time` is used as the actor name, instead of `on-timer` or `on-tick`? Just curious.

## Wednesday 15th June, 2016

dockimbel

[03:05](#msg5760c5e491cdd6673163f0db)@greggirwin Yes, 0.6.2, where we'll have better low-level float conversion support and `to` action implemented.

[03:08](#msg5760c6c709a91a8d73d6d787)@greggirwin The event name is `time` (as in Rebol/View) and we name event handlers using the `on-` scheme. An absolute trigger time event would not be a GUI event, so it would be handled differently.

[03:13](#msg5760c7be6111a28c047b74b4)@greggirwin `make pair! reduce [x y]` =&gt; `as-pair x y`

greggirwin

[03:15](#msg5760c83d7a851b587e6ed6de)Thanks!

[03:17](#msg5760c8c9b8ad3d5d7ee02591)Starting on time! tests, but can really only do some basics. Behavior will surely change once float is no longer used, so things like limits and behavior for negative segment values are out of scope right now.

dockimbel

[03:18](#msg5760c91291cdd6673163f0f1)@greggirwin Nice clock, we should add it to red/code repo.

[03:19](#msg5760c94991cdd6673163f0f3)@greggirwin I'll try to make some improvements to time! today.

greggirwin

[03:21](#msg5760c99ff191398330a08ff1)Not sure where demo stuff would fit in the repo, but happy to contribute.

dockimbel

[03:24](#msg5760ca8109a91a8d73d6d795)@greggirwin red/code/scripts should be fine, we reserve `Showcase` for demoing really special features or killer-demos.

greggirwin

[03:25](#msg5760caa2f191398330a0902e)Time! creates fun values when you mess around with extreme numbers. :^)

dockimbel

[03:25](#msg5760caab09a91a8d73d6d798)Though, there are some possible code reductions in your script.

greggirwin

[03:26](#msg5760cacbb8ad3d5d7ee025e4)It's my first Red GUI app. ;^)

dockimbel

[03:26](#msg5760caceea84f717479b8cfd)Are you \*warping* time?

greggirwin

[03:26](#msg5760cadfdfb1d8aa45a37360)LOL! Yes!

pekr

[03:26](#msg5760cb02f191398330a09039)Posted the screenshot to FB group, you are now socially famous, Gregg :-)

greggirwin

[03:27](#msg5760cb127a851b587e6ed754)

```
red>> -1:0:1
== -1:-60:-59.0
red>> 0:0:-1
== -1:-1:-1.0
red>> -1:-1:-1
== -2:-2:-1.0
red>> 0:0:-1
== -1:-1:-1.0
red>> -2147483648:2147483648
== 2111692253:-8:00.0
```

[03:27](#msg5760cb2f52352c84028229dc)@pekr EEEK!

dockimbel

[03:29](#msg5760cba36111a28c047b74c3)@greggirwin See my \[changes](https://gist.github.com/dockimbel/90fb7f067cdfc6f5b99b9b8e5dc07b19/revisions).

[03:32](#msg5760cc6791cdd6673163f0fa)@greggirwin Those negative literal time values could be easily blocked by the lexer.

greggirwin

[03:33](#msg5760cc94f191398330a0907b)Thanks for making that FB channel so active Petr!

pekr

[03:35](#msg5760cd01b8ad3d5d7ee0263f)yeah, that what fits me best. Reminds me being a co-author to Czech Amiga News in the past. We got 100K visits/month back at that time. Hopefully the community will grow. Still thinking where to go next, as many ppl don't like FB ...

greggirwin

[03:35](#msg5760cd04f191398330a0909a)Thanks @dockimbel

[03:36](#msg5760cd2363ea0987306aeb16)@pekr , I'm one of them. Notice I \*just* joined the group.

pekr

[03:40](#msg5760ce1436c83a880205b319)Yes, I approved your access :-) ...

greggirwin

[03:40](#msg5760ce43b8ad3d5d7ee02687)It's nice to know people with power.

pekr

[03:40](#msg5760ce4a52352c8402822a87)You seem to fully jump on the Red bandwagon? Great to see you here and so much active!

greggirwin

[03:42](#msg5760ce9952352c8402822a93)I jumped on, then got knocked off by life for a while. Very glad to be part of the future again.

dockimbel

[03:43](#msg5760cee26111a28c047b74ca)@greggirwin The future soon! ;-)

greggirwin

[03:43](#msg5760cef352352c8402822aa1)Oh man, how did \*I* miss that? :^)

dockimbel

[03:44](#msg5760cf236111a28c047b74cd)You made me discover Coulton with your KS campaign. ;-)

greggirwin

[03:44](#msg5760cf29f191398330a09103)Yeah, I have footage from multiple cameras to try and edit into something viewable. Might need to write a dialect to do it.

pekr

[03:46](#msg5760cfa263ea0987306aeb9d)soon! - it's its own datatype. Should return randomized 'now multiplied by some low constant :-)

ghost~5680c5f416b6c7089cc058a5

[04:13](#msg5760d5e1f191398330a09234)@dockimbel @qtxie shouldn't set-env return an error if it could not set and environment variable?

```
red>> set-env "Testing = Red" ""
== ""
```

`=` isn't a permitted character.  
`list-env` or `get-env` doesn't display the above set variable.

greggirwin

[04:24](#msg5760d871b8ad3d5d7ee02838)Demo distraction.  
@dockimbel the clock could set the draw block markers inline (just saw that I could do this):

```
append draw-blk compose [
	pen crimson line-cap round line-width 4 hour-idx: line 0x0 0x0
	line-width 3 min-idx: line 0x0 0x0
	line-width 1 pen brick fill-pen brick circle (center) 3 sec-idx: line 0x0 0x0
]
```

Which shows a nice feature of the draw dialect. The downside is that they aren't set until DRAW evaluates the block, so the hands won't appear until the first `on-time` event. If we leave that at 1, it's a visible delay. The option there might be to set a high rate to start and have the time event change it to 1.

qtxie

[04:41](#msg5760dc8736c83a880205b5a0)Animation is fun. :smile:  
https://gist.github.com/qtxie/2e4bb07205b7c6f92b7ef1b952970641

pekr

[04:55](#msg5760dfcd36c83a880205b63a)@qtxie nice! :-)

greggirwin

[05:07](#msg5760e29236c83a880205b6c6)I love it! Built in docs and everything.

[05:09](#msg5760e2f3f191398330a09463)@dockimbel I'll fix up the clock to be more of an educational demo.

[05:12](#msg5760e3a5f191398330a09481)@qtxie, I did a similar demo \*many* years ago in VB. Fun stuff.

pekr

[05:13](#msg5760e3e9f191398330a09491)Now I should try to port Cyphre's Particles demo ....

[05:14](#msg5760e435dfb1d8aa45a37797)But first things first ... will try to port my news scroller and compare the smoothness to R2 AGG. Eager to see, where does Windows API stands nowadays (well, I expect it being just the same old good jerky stuff :-)

greggirwin

[05:14](#msg5760e44563ea0987306aef18)My thought as well @pekr, porting old demos. I think we need radial fill for a number of them, but sparks could be a start on the old imagination demo.

[05:16](#msg5760e49736c83a880205b71d)I'll see if I can port the very first Rebol GUI demo that blew me away when I saw it.

pekr

[05:16](#msg5760e4b352352c8402822e59)Imagination is a masterpiece, so smooth, so relaxing. Red's Draw imo can't yet do, what R2 is able to do using AGG (especially in the font area, just look into demo called Cyphre). Hopefully @dockimbel still has Amiga/AMOS in mind, so if Carl said, multimedia is his second name, I hope it's Doc's first name :-)

[05:18](#msg5760e51052352c8402822e7f)I also think we will get there with time .... once we dig more deeply into 3D, accelerated stuff and all such modern interfaces. But Red's View is already great. We just need imo multi-column widget to do useful small DB redlets ...

dockimbel

[05:21](#msg5760e5da91cdd6673163f13a)@greggirwin I think we are missing an `on-show` event handler for last minute actions, just after the face is shown (while `on-create` is triggered just before the face is shown).

greggirwin

[05:24](#msg5760e6a7f191398330a09512)Makes sense. `on-create` doesn't solve this problem.

SteeveGit

[05:25](#msg5760e6c891cdd6673163f141)@dockimbel :+1: Ahhh finally, some people in the chat requested on-show , but you were not convinced until now ;-)

[05:27](#msg5760e73609a91a8d73d6d7d2)but why after the face is shown, should be just before IMO ?

pekr

[05:31](#msg5760e83a7a851b587e6edcd7)yes, we could have on-show and on-hide (to do some cleanup, if needed) ...

dockimbel

[05:32](#msg5760e86a09a91a8d73d6d7d4)@SteeveGit `on-create` is already called just before the face is shown. I plan a "show" event since a while, though it requires a bit of thoughts as there's also the need for an "activated" event (when the windows gets activated/shown after creation or restored after minimization/hiding).

SteeveGit

[05:34](#msg5760e8d509a91a8d73d6d7d6)@dockimbel on-create is called just one time (the first time face is created)

[05:35](#msg5760e9086111a28c047b7504)not each time a face is modified

dockimbel

[05:36](#msg5760e95491cdd6673163f146)Ok, I get what you mean now. ;-) I agree, we need an event handler for that too, I think `on-redraw` would be appropriate there.

SteeveGit

[05:36](#msg5760e978ea84f717479b8d44):+1:

[05:38](#msg5760e9dd09a91a8d73d6d7dc)currently, my intention was to use my own on-update* function to simulate an on-draw

[05:39](#msg5760ea1cea84f717479b8d48)checking the state facet

Phryxe

[06:41](#msg5760f881dfb1d8aa45a37c33)

pekr

[06:43](#msg5760f8f463ea0987306af3cb)I have Win10 here and it works ...

[06:44](#msg5760f969b8ad3d5d7ee02f00)@Phryxe - are you using the latest master branch?

Phryxe

[06:46](#msg5760f9caf191398330a09984)@pekr I used red-15jun16-02cb58c.exe (automatic builds)

[06:47](#msg5760fa11da1c26b045362a59)Maybe something went wrong when I pasted the code. I'll try again when I get back home.

endo64

[06:59](#msg5760fcdc36c83a880205bc99)I just downloaded the latest build and compiled, gui-console crashes, on Win8.1 x64.

iArnold

[07:01](#msg5760fd55b8ad3d5d7ee02ff1)

endo64

[07:02](#msg5760fd9063ea0987306af4d7)But cli console works.

[07:05](#msg5760fe2452352c840282349b)Interesting.. it doesn't recognize `rate` keyword, `*** Script error: VID - invalid syntax at: [rate 50 on-time]`

[07:07](#msg5760fea536c83a880205bd14)Ah ok, I made a fresh checkout and now it works, I think I mess up something in the sources.

x8x

[07:24](#msg576102be36c83a880205be51)just wondering, is `now` available now? I get `reserved for future use`

[07:28](#msg5761038a36c83a880205be90)what about round on time! ?

```
red>> round/to  1:1 - .1 .1
== 1:00:59.90000000000009
```

pekr

[07:28](#msg5761038b7a851b587e6ee3ba)now/time works though

[07:28](#msg576103a636c83a880205be9e)the thing is, that now/date is not implemented yet ...

x8x

[07:31](#msg57610436dfb1d8aa45a37fbc)HA!! yes, thanks! and `now/time/precise` is very precise on \*nix ! :smile:

```
red>> now/time/precise
== 14:30:33.96248999999807
```

qtxie

[07:48](#msg5761084c91cdd6673163f1ea)@pekr I have ported the Particles demo two months ago, will post it on gist later. :smile:

pekr

[07:49](#msg5761086cb8ad3d5d7ee0332a)Without timer support? OK, can't wait :-)

qtxie

[07:49](#msg5761088609a91a8d73d6d8a2)@greggirwin Indeed, lots of fun. :cool:

[07:52](#msg576109526111a28c047b75e3)@x8x It's microsecond precision on \*nix and millisecond precision on Windows.

[07:57](#msg57610a53ea84f717479b8df9)@nc-x I'm ok with current behaviour which simply ignore the wrong variable.

x8x

[07:58](#msg57610aa37a851b587e6ee5e8)@qtxie Great! Thanks for that addition!

iArnold

[07:59](#msg57610ac6dfb1d8aa45a381de)

x8x

[08:10](#msg57610d817a851b587e6ee6ef)@qtxie I'm getting this with latest on macOS (works fine on Linux):

```
% ./red-15jun16-751a543                                                                                                           [15:08:32] !22555
Compiling Red console...
*** Driver Internal Error: Script Error : second expected series argument of type: series pair event money date object port time tuple any-function struct event 
*** Where: emit-store-path 
*** Near:  [unless all [
type = 'struct! 
type2: select any [parent second compiler/resolve-type path/1] path/2 
compiler/any-float? type2
] [emit #{92}]]
```

dockimbel

[08:31](#msg57611246f191398330a0a154)@x8x I can reproduce it, working on it...

x8x

[08:43](#msg5761152952352c8402823cab)probably in this commit https://github.com/red/red/commit/8eb23a2d1006e4b229f5ca6b5ad6225c951fa263

[09:17](#msg57611d2ab8ad3d5d7ee03abe)works now, thx!

DideC

[09:21](#msg57611e14f191398330a0a5d5)@greggirwin nice clock demo !  
I would just change clock color : red and brick are too similar IMHO.

x8x

[09:50](#msg576124eb7a851b587e6ef039)

```
rebol
timer: func [
	code "Block of code to execute" [block!]
	/local t r d
][
	d: either system/platform = 'Windows [5][8]
	t: now/time/precise
	set/any 'r do code
	t: head clear at find mold now/time/precise - t #"." d
	print [
		t ">>"
		copy/part t: trim/lines mold code 80
		either 80 < length? t [".."][""]
	]
	unless unset? :r [r]
]
```

[10:35](#msg57612f7c63ea0987306b064f)is this temporary because of float! use?

```
round/to now/time/precise .001
;   17:38:23.26799999999639
```

I'd love to get `17:38:23.268` instead.

meijeru

[11:30](#msg57613c6263ea0987306b0ab3):point\_up: \[June 15, 2016 5:29 AM](https://gitter.im/red/red?at=5760cba36111a28c047b74c3) About negative times: there are a few distinct points here. (1) having - signs \*\*inside\** a time literal can be forbidden by the lexer; I will make a wish. (2) a - sign \*\*in front of\** a time literal should I think be allowed and lead to a valid negative time value; the current behaviour is a bug and I will make an issue. (3) negating a positive time value also gives a wrong result and I will make an issue

dockimbel

[11:32](#msg57613cb0b8ad3d5d7ee04693)@meijeru Please just make one ticket for all the negative times related issues, there are all unimplemented features.

meijeru

[11:34](#msg57613d2dda1c26b04536422e)I have observed that in adding and subtracting a "mixed" pair of operands (time and number) the result is a time value and the number is interpreted as seconds. If this is considered desirable behaviour it should be documented.

dockimbel

[11:35](#msg57613d8e36c83a880205d385)Your observation is correct and intended behavior.

meijeru

[11:39](#msg57613e7f7a851b587e6ef942)I have made issue #2028

dockimbel

[11:44](#msg57613f84b8ad3d5d7ee047a4)I can see it in the "Activity" right panel on Gitter.

meijeru

[11:53](#msg576141b7f191398330a0b37b)I now notice that even for division, numbers count as seconds. That is fine for the denominator, but for the numerator it still goes against my "physical" intuition.

dockimbel

[12:09](#msg57614592f191398330a0b558)We could normalize all times against Planck scale, it would be more accurate to represent the physical world, not sure it would be more useful for common Red users. ;-)

[12:21](#msg5761485652352c8402824fb3)More seriously, I think we should forbid `number! / time!`.

meijeru

[12:41](#msg57614d05da1c26b0453648de)Yes, and likewise for remainder...

greggirwin

[17:56](#msg576196e6dfb1d8aa45a3bea2)@x8x profiling! R3 calls it `dt` and `delta-time`. I call it `time-it`, but that's not a great name. One difference in mine, from R3, is that I have a `/count` refinement, since some things you want to profile don't register any time taken on a single run.

[17:57](#msg5761970863ea0987306b34c8)I'm also starting on some time! tests, and am sure a lot will change when time! doesn't use float! in the future.

TimeSlip

[18:15](#msg57619b44b8ad3d5d7ee071f1)Gregg, thanks for making the clock available. I've been away for a few days and my Red version wouldn't initially run your code. It's great to see the advancement. You're the best. (James\_Nak)

greggirwin

[20:49](#msg5761bf67dfb1d8aa45a3d081)Thanks @TimeSlip.

## Thursday 16th June, 2016

greggirwin

[01:51](#msg57620632f191398330a10108)Analog clock with informational comments: https://gist.github.com/greggirwin/659e394581ae95b543db76042d3e98a4

PeterWAWood

[02:42](#msg576212257a851b587e6f4a3e)@Gregg Nice! I can see your "Rolex" clock (with a sweeping second hand) 🔮

[03:05](#msg5762176fdfb1d8aa45a3e8ed)@greggirwin ^^^ Wrong Gregg :-)

ghost~5680c5f416b6c7089cc058a5

[04:19](#msg576228e336c83a8802062b4e)Does time! not support AM/PM yet?

greggirwin

[04:21](#msg57622965b8ad3d5d7ee09cfd)Not yet @nc-x. The lexer just handles \[mm:ss.dd | hh:mm:ss\[.dd] | hh:mm]

ghost~5680c5f416b6c7089cc058a5

[04:22](#msg57622985da1c26b04536987b)Okay...

SteeveGit

[07:07](#msg5762502d09a91a8d73d6e436) @dockimbel I got a push which still fails with travis https://travis-ci.org/red/red/builds/137970933  
Travis output:

```
ok - lexer...........................................29 / 29
** - unicode******************************************0 / 1 **
** - run-all-comp1*red********************************0 / 1 **
** - run-all-comp2*red********************************0 / 1 **
** - run-all-interp*red*******************************0 / 1 **
ok - tools............................................7 / 7
** - Red print****************************************1 / 10 **
** - Red run time errors******************************0 / 16 **
ok - Red compile errors...............................1 / 1
** - Red Test Suite**********************************38 / 76 **
       in 0:05:56.851783
```

Mine is:  
&gt;ok - lexer...........................................29 / 29  
ok - unicode..........................................0 / 0  
ok - run-all-comp1.red.............................5029 / 5029  
ok - run-all-comp2.red.............................3442 / 3442  
ok - run-all-interp.red............................8327 / 8327  
ok - tools............................................7 / 7  
ok - Red print........................................9 / 9  
ok - Red run time errors..............................8 / 8  
ok - Red compile errors...............................1 / 1  
ok - Red Test Suite...............................16852 / 16852  
in 0:06:17.143

Any hints ???

[07:10](#msg576250dc09a91a8d73d6e43f)Mine performs 0/0 tests on unicode, isn't that weird?

[07:21](#msg5762538f6111a28c047b8228)Should have put this in /tests, sorry

Cybarite

[10:24](#msg57627e4f09a91a8d73d6e61b)404 on http://www.red-lang.org/p/download.html 16Jun16

dockimbel

[10:25](#msg57627e94da1c26b04536b234)Works fine from here.

Cybarite

[10:35](#msg576280ea6111a28c047b8434)yes works now ... is there a build process in flight that I happened to hit? It failed for about 3 minutes before I reported it.

dockimbel

[10:36](#msg5762811cda1c26b04536b324)No, that page should always be available, regardless of any build in progress.

Cybarite

[10:36](#msg5762812891cdd6673163ff87)ok thanks

pekr

[11:41](#msg57629061b8ad3d5d7ee0bcc8)Why is console cfg being stored in some central location, and not with the executable? Will Red introduce something like user.r, so that we can have per-app/directory config?

dockimbel

[12:32](#msg57629c4e52352c840282c9ea)@pekr You are very confused. The console config file \*is* stored with the console executable. A `user.r` script is \*not* a config file. We have no plan to support it, it is a security risk and not built in R3. Red makes it useless as you can compile your own console, putting whatever you want in it.

pekr

[12:35](#msg57629d0363ea0987306b8754)OK, then I am confused by the following line: `cfg-dir: append to-red-file get-env "ALLUSERSPROFILE" %/Red/`

DideC

[13:03](#msg5762a39ab8ad3d5d7ee0c5aa)BUG? I have downloaded the last build and run it to compile the console. After compilation, the console opened : at this precise moment copy/paste was unavailable on my system until I close Red. Running it again : no more problem. I'm on Windows 7 64 bits.

pekr

[13:05](#msg5762a42adfb1d8aa45a416de)@dockimbel - so as per the code above, with latest sources, the console cfg file is stored in `c:\Program data\Red` and not with the console executable :-)

DideC

[13:06](#msg5762a454dfb1d8aa45a416ee)Seems Related to @greggirwin problem :  
&gt; Interesting. If the above demo is running in Red, ctrl+&lt;key&gt; combos don't seem to work. Not just gitter, but any app. Couldn't cut/paste until I stopped it.

pekr

[13:13](#msg5762a5eab8ad3d5d7ee0c6bc)Red console color scheme named: "Red Inferno" :-) http://2zone.cz/pekr/red-console-red-on-black.jpg

asampal

[13:31](#msg5762aa166111a28c047b8569)@pekr I pointed out the `ProgramData` location for the cfg file when the configuration code was introduced. Maybe Nenad thought that it had been addressed since then.

meijeru

[13:40](#msg5762ac61b8ad3d5d7ee0c9e2)Help! Since I downloaded today's latest build, the `%analog-clock.red` won't execute in the interpreter. It still compiles fine. Nobody else have the same problem?

asampal

[13:44](#msg5762ad2109a91a8d73d6e772)@meijeru , yes, I see an error as well

meijeru

[13:56](#msg5762b00fdfb1d8aa45a41caf)I will make an issue, then. But the problem is to isolate the error. The error message speaks about an `invalid function definition for radius` but radius is just a word bound to `first size / 2` and this works well in isolation. Also, I can't see anything pertaining to this sort of error having been changed since yesterday...

[14:05](#msg5762b2337a851b587e6f7e1f)Got it: it is is a regression on function spec block interpretation. See the fix for #2027.

dockimbel

[14:19](#msg5762b57dea84f717479b9d48)@pekr  
&gt; @dockimbel - so as per the code above, with latest sources, the console cfg file is stored in `c:\Program data\Red` and not with the console executable :-)

The console executables \*are* stored in that same folder. It's really interesting when I'm extremely busy how some people love to waste my time...

[14:21](#msg5762b605ea84f717479b9d4f)@meijeru Will fix it asap.

asampal

[14:41](#msg5762ba906111a28c047b8623)@dockimbel , I made the same assumption as @pekr, i.e. that, in my case, I compile gui-console.exe at the root of the source directory and I run it from there - based on what you had said, I \_did_ expect the cfg file to be created next to that. Sorry that this is wasting your time, but I think it was easy to misunderstand.

pekr

[14:43](#msg5762baf5b8ad3d5d7ee0d164)So just don't reply, it's really difficult for me to constantly fear just to ask some simple question ...

[14:43](#msg5762bb20dfb1d8aa45a42203)It might be answered by some other ppl too. It is exactly as Adrian has put it ... I could not see any wrong logic with what I said ...

dockimbel

[14:49](#msg5762bc7209a91a8d73d6e826)@pekr "the console cfg file is stored in c:\\Program data\\Red and not with the console executable" is a wrong statement, just open that folder and you'll see. Custom compilation of the console is not the common way to use Red. If you don't provide enough information in your statement, the default context is the "common way". When you post statements to me directly, you are asking me to answer, not someone else. When you do so, be very accurate and check your facts before posting, otherwise you'll just waste my time.

[16:12](#msg5762cff491cdd66731640255)@DideC I'm not yet sure if/how Red is responsible for that, though, there's definitely an odd interaction between Red and the clipboard as shown in #1922.

[16:24](#msg5762d2c509a91a8d73d6e907)I've just fixed #1992, @DideC @greggirwin let me know if you get clipboard issues when running Red. (was 1992 and not 1922 in my previous post).

greggirwin

[19:55](#msg57630420b8ad3d5d7ee0f2ac)I think that was it @dockimbel!

## Friday 17th June, 2016

greggirwin

[03:06](#msg57636937b8ad3d5d7ee10df8)@qtxie, in your sparks demo, you have `[sparks one-sixty]` after the `on-time` actor. I couldn't tell what it was for, but I get a `foreach` error if I take it out...and still can't tell what it's for.

What is it for?

Also, just started on https://gist.github.com/greggirwin/b066cee1e9a4119bd0b7a078bd420a04 and wondered if we have alpha blending already or if it's just a porting issue to make it match the look of the rebol version. I'm patient and, really, AMAZED at how little it took to port. Kudos to you and Nenad.

qtxie

[03:23](#msg57636d2a52352c8402831840)@greggirwin It's declaring global variables, otherwise them cannot be referenced in `on-time` actor.

[03:26](#msg57636dd0b8ad3d5d7ee10eb5)Nice bubbles. :+1:

dockimbel

[03:35](#msg57636ff891cdd66731640611)@greggirwin @qtxie I'll revert the local-by-default for VID actors today.

greggirwin

[06:08](#msg576393f336c83a880206a879)@qtxie thanks. I do remember that being mentioned not long ago.

[06:13](#msg576394fcdfb1d8aa45a46785)@dockimbel if I had a good suggestion for an alternative, I would make it. :^\\

Arie-vw

[10:03](#msg5763cb06feaf6cd222ac55bc)

```
red>> ? shift-left
USAGE:
    shift-left data bits
ARGUMENTS:
     data  [integer!]
     bits  [integer!]
REFINEMENTS:

red>> to-hex shift-left 1 30
== #40000000

red>> to-hex shift-left 1 31
== #80000000

red>> to-hex shift-left 1 32
== #00000001
; I expected #F0000000 here
; Sign bit related behavior???
```

[10:04](#msg5763cb1df0528c4c5bb9c69b)The docs above do not state how sign bit is treated.

SteeveGit

[10:08](#msg5763cc0791d56ac9155c4d4d)`#800000000`is already the sign bit, #F is not just one bit

Arie-vw

[10:09](#msg5763cc4b4227fdc92297c9ed)Oh bloody stupid. Of course. Thx.

[15:22](#msg576415b2f0528c4c5bb9e590)The doc website http://red-by-example.org/ is growing steadily. Today the number of terms (words and dialectic parts) dropped below 200.  
I very much hope that the examples are usable and good enough to work with.  
We could use some more help. If everybody here would take the time to check a few docs each day and give us feedback, vast improvements could be made.

[15:24](#msg57641617bd67400679da6582)As you can see above, sometimes I've "lost the way" completely. Maybe my age is at stake (almost 59 now) and stuff that I knew very well now sometimes costs me some struggle :-) Anyway, all help appreciated.

[15:26](#msg576416b16577f032450bf8ae)@dockimbel Hi Doc, again and again I am amazed about all the work you cram into each single day. Many, many thanks for your patience and perseverence. Red is already and will be an amazing language. Keep up the good work!

greggirwin

[16:24](#msg576424284227fdc92297eddf)I appreciate your work @Arie-vw. Is there a way to contribute? Without some way to coordinate, there's no way to know what anyone else might be looking at or whip up a quick example to submit.

[16:26](#msg576424983881bc405b6e4091)Even if we just had a group, here or altme, and a template to fill out for what an example should contain (preferably in loadable Red format), we could post things for you to integrate, and that group would, if done right, then also be a datastore. So we need to make sure we can get the data back out as well.

Arie-vw

[16:50](#msg57642a5a6577f032450c00f4)@greggirwin On the site, under contact, you can e-mail us with any piece of advice, example code etc. I will contact you in private for details. If anybody else is also really interested, let me know here, then I will contact you!

[17:02](#msg57642d0c2a4cd63745ea4d21)@greggirwin I'll think about a way to be able to directly copy example stuff from the site, which currently is suboptimal.

greggirwin

[18:08](#msg57643c93a82a6b0079a6872f)@qtxie , %view-test.red, line 533. Change from

```
image: load %./bridges/android/samples/eval/res/drawable-xxhdpi/ic_launcher.png
```

to

```
image: load %../bridges/android/samples/eval/res/drawable-xxhdpi/ic_launcher.png
```

I did it here, but \*somehow* still can't squash to make clean PRs. :^(

asampal

[18:11](#msg57643d6a4227fdc92297f78c)@greggirwin , are you helping out on the Android stuff?

greggirwin

[18:12](#msg57643d95f0528c4c5bb9f5d6)Nope, but %view-test.red loads that image and I'm working on some view stuff.

[20:21](#msg57645bc32a4cd63745ea5fa3)@qtxie I think I cleaned up OK here and made a PR for it. Way too much work for one dot. :^)

[22:56](#msg576480233881bc405b6e613b)Much nicer bubbles: https://gist.github.com/greggirwin/b066cee1e9a4119bd0b7a078bd420a04

[23:42](#msg57648aeebd67400679da8e92)DRAW doesn't let second box coordinate be less than the first. R2 does. Is this intentional (something to document) or something it should allow?

```
view [base 200x200 draw [fill-pen red box 50x50 100x100 box 200x200 100x100]]
```

## Saturday 18th June, 2016

greggirwin

[01:12](#msg57649ff84227fdc922981449)Paint in red: https://gist.github.com/greggirwin/989cf1909edc0d98cc38bc47e4b6718f

I must be missing something, note the debug bits, but removing items from the canvas draw block and SHOWing it doesn't refresh. If you undo commands, then draw something new, it updates.

dockimbel

[02:50](#msg5764b705e0da7e5838471378)@greggirwin Nice! In your paint app, `move` action does not set the modified bit for the face, so `show` does not refresh it. See my \[patch](https://gist.github.com/dockimbel/01709815cdf32d2c67f0c93175740df6/revisions) to make it work until I fix it properly in View.

[02:52](#msg5764b75fe0da7e583847137d)About the `box` inverted edges order, I didn't know Rebol would accept it, clever and useful trick, we'll add support for it.

greggirwin

[02:56](#msg5764b873feaf6cd222aca557)Thanks @dockimbel! More fun: https://gist.github.com/greggirwin/605e9f6313d4b3b197c3ec5fef903007

dockimbel

[03:01](#msg5764b9a391d56ac9155c5345)@greggirwin Very nice and helpful for creating gradients!

greggirwin

[03:02](#msg5764b9c5feaf6cd222aca59a)Playing around. Experimenting with ideas and learning how things connect. The reactive stuff is \*fantastic\*.

dockimbel

[03:04](#msg5764ba51a7b963c04e7c8163)Yes, using reactive approach, you can often simplify GUI coding. And we're only scratching the surface of the possibilities for now. ;-)

greggirwin

[03:05](#msg5764ba634227fdc922981896)For those new to Red, one of the great things is how interactive it is, which lets you play and learn. In this case, I was working on bubbles, but couldn't see where my gradient was going wrong. With no real idea what effect each parameter has I decided to write a little tool to help visualize their effects.

[03:06](#msg5764ba9ebd67400679da96e1)i.e. I \*use* Red to \*learn* Red.

[03:18](#msg5764bd8ef0528c4c5bba183c)Paint works correctly now. Gist updated. Next up will probably have to be a color requester I suppose.

[03:48](#msg5764c4862a4cd63745ea7858)@dockimbel or @qtxie, what is the design reason for `move` to return the insertion point in the target, rather than the point past the insertion, as `insert` does?

asampal

[06:01](#msg5764e3b5a82a6b0079a6aef2)

dander

[06:59](#msg5764f1592a4cd63745ea7de4)I noticed that if I pipe the output from a red executable i.e. `test.exe > file.txt`, the text encoding is something that looks like little-endian UTF-16. Should that be expected?

SteeveGit

[08:07](#msg5765013fe0da7e5838471480)Right, on linux I do: `test.exe | iconv -f UTF-16LE -t UTF-8`

dockimbel

[08:40](#msg57650900893478f46be115be)@dander Yes, on Windows, Red uses the standard default encoding UTF-16LE.

[08:47](#msg57650aa091d56ac9155c5427)@greggirwin `move` returns the first argument series, as all other modifying series actions (except `poke`, but that might change in the future). As the target series can be different from the source series (first argument), it would be inconsistent to return "past the insertion point", as the insertion happens in the second series, and we need to return the first one. So, the only consistent return value for all use-cases is the source series argument at the removal point.

[08:51](#msg57650ba0e0da7e58384714aa)

SteeveGit

[08:56](#msg57650ccb893478f46be115cc)Agreed. Also, returning the source remove point, allows chaining several moves into different spots.

dockimbel

[09:39](#msg576516c63881bc405b6e78d9)@SteeveGit Right. Though, it seems the return offset is not right currently in `move`:

```
red>> s: "hello"
== "hello"
red>> move s tail s
== ""
```

Arie-vw

[12:19](#msg57653c443881bc405b6e8060)@greggirwin Is it allowed to "steal" (parts of) your examples and use them on red-by-example? They are great!

greggirwin

[12:55](#msg576544db6577f032450c4125)@Arie-vw , of course.

[13:00](#msg576546052a4cd63745ea8c6e)@dockimbel , that makes sense, but `move` doesn't do that. It returns the second argument series, hence my confusion:

```
red>> b1: [a b c]
== [a b c]
red>> b2: []
== []
red>> move b1 b2
== [a]
red>> b1
== [b c]
red>> b2
== [a]
```

dockimbel

[13:01](#msg57654634feaf6cd222acbb65)It needs to be fixed.

greggirwin

[13:02](#msg5765467bfeaf6cd222acbb78)Do you want a ticket set up, or have you got it covered?

dockimbel

[13:03](#msg576546922a4cd63745ea8c84)A ticket is welcome.

greggirwin

[13:03](#msg576546b1a82a6b0079a6bf47)Will do. Thanks!

dander

[16:33](#msg576577d4f0528c4c5bba3960)@SteeveGit @dockimbel , thanks!

greggirwin

[22:10](#msg5765c6f02a4cd63745eaacd6)`backdrop` doesn't work after declaring styles, tuple or word color doesn't matter:

```
red>> view [style btn: button 40x24  backdrop water]
*** Script error: VID - invalid syntax at: [backdrop water]
*** Where: do
```

[22:12](#msg5765c7496577f032450c61a8)Same for `size` and `title` which are processed in the same loop (%VID.red @286]

[22:18](#msg5765c8b8feaf6cd222acdbe1)Ah, I see it now. Those are all globals that have to come first. \*Anything* else (e.g., space, origin, etc.) do it as well. And it's all in the docs. :^\\

[22:21](#msg5765c981f0528c4c5bba4e46)Global as in "container settings" per the docs.

[23:17](#msg5765d670bd67400679dad097)Event/key oddity? Dump of event key and ctrl? value.

```
key #"^M" false         ; Enter
key #"J" true              ; Ctrl+Enter
key #"J" true              ; Ctrl+j
```

## Sunday 19th June, 2016

greggirwin

[00:06](#msg5765e21d4227fdc9229853f0)Starting to learn about event capturing and bubbling:  
https://gist.github.com/greggirwin/5b44de9fa016535d0d2f37bed485a133

qtxie

[01:20](#msg5765f3773881bc405b6ea9af)Console crashes when using image in `style`.

```
img: make image! 50x50
view [style ii: base img ii]
```

[01:21](#msg5765f3a4a82a6b0079a6e6ac)While this works:

```
view [base img]
```

greggirwin

[02:44](#msg5766071c3881bc405b6eac36)Confirmed here.

[19:59](#msg5766f9a02a4cd63745eae167)More fun: https://gist.github.com/greggirwin/7107b80258dfec1fde514c3469429ac6

Pretty sure I don't need to track mouse state myself, using `event/down?` instead. That will be next.

[21:33](#msg57670f8ffeaf6cd222ad1471)Enhanced, with explanatory comments: https://gist.github.com/greggirwin/a1d132b31f15553a9181394ff7a25423

[23:31](#msg57672b48f0528c4c5bba8d31)@qtxie is it by design that a draw block that uses scale-x/y for a fill pen must make sure both are either ints or floats?

```
red>> draw-blk: [fill-pen radial 0x0 0 500 0 1.0 1.0 red blue  box 0x0 500x500]
== [fill-pen radial 0x0 0 500 0 1.0 1.0 red blue box 0x0 500x500]
red>> view [base 500x500 draw draw-blk]
red>> draw-blk: [fill-pen radial 0x0 0 500 0 1 1 red blue  box 0x0 500x500]
== [fill-pen radial 0x0 0 500 0 1 1 red blue box 0x0 500x500]
red>> view [base 500x500 draw draw-blk]
red>> draw-blk: [fill-pen radial 0x0 0 500 0 1.0 1 red blue  box 0x0 500x500]
== [fill-pen radial 0x0 0 500 0 1.0 1 red blue box 0x0 500x500]
red>> view [base 500x500 draw draw-blk]
*** Script error: invalid Draw dialect input at: [0 1.0 1 red blue box 0x0 500x500]
*** Where: ???
```

If you run those, you'll also see that the radial fill doesn't match in the X/Y directions, as I expected it to. Working on a new gradient lab to help visualize these things.

[23:31](#msg57672b686577f032450ca207)Sometimes what I expect, and what is technically correct aren't the same thing. :^)

qtxie

[23:37](#msg57672cd52a4cd63745eaed2c)I think this is a bug. I'm looking at it...

## Monday 20th June, 2016

greggirwin

[00:14](#msg57673580f0528c4c5bba8e9d)Seems to "orbit" a bit with radial fill.

[00:17](#msg57673612a82a6b0079a72051)Maybe this will help debugging it: https://gist.github.com/greggirwin/ec7e2b75bfd96edb45faf966a9e8016b

qtxie

[01:28](#msg576746dafeaf6cd222ad1d63)Thanks. Push a fix.

greggirwin

[01:55](#msg57674d23f0528c4c5bba91ef)Great! Next up, if you open gradient-lab and just change the angle, all else defaulted, is the small motion, what I call orbiting, expected? And do the results look right if you adjust start and end. i.e., for radial/diamond start seems to be just the inverse of end. For linear, it's much more fun, letting us create repeated "bars", kind of like R2 would in repeat mode.

[02:01](#msg57674e6d3881bc405b6ee75a)Not urgent by any means. Getting carried away here. Should get back to time tests. :^)

annonie19345925\_twitter

[11:14](#msg5767cffcbd67400679db32d8)Hi can someone verify if this is a bug red \[needs: view]  
t: 1  
view  
[  
b1: button font-size 20 "&gt;"  
[  
probe t  
if t &gt;= 4 \[prin "\*"]  
t: :t + 1  
]  
]

comment{  
\*\** Script error: cannot compare none with 4  
\*\** Where: &gt;=

This works with earlier version!!!  
}

[11:14](#msg5767d0212a4cd63745eb1435)How can i post code the right way?

SteeveGit

[11:15](#msg5767d06debb74a972351b95f)(ctrl + alt + m)

annonie19345925\_twitter

[11:16](#msg5767d096a82a6b0079a744de)Thanks, I shall use this in the future.

SteeveGit

[11:17](#msg5767d0d5ebb74a972351b967)you can modify your posts, click on the right `...`

dockimbel

[11:18](#msg5767d1044227fdc92298b4ab)@annonie19345925\_twitter The block handlers for VID were switched to local-by-default, though, this will be reverted later today. In the meantime, just add `[t]` after your button handler block, and it will work again.

annonie19345925\_twitter

[11:20](#msg5767d19a2a4cd63745eb14de)Alright, thanks. May i ask if call will be available in the interpreter in a new version? (i mean not using: #include %system/library/call/call.red )

dockimbel

[11:22](#msg5767d1e2f0528c4c5bbab30f)@annonie19345925\_twitter I would have been glad to include it, alas, the Windows version is lacking proper Unicode support, making it problematic to use for many people.

annonie19345925\_twitter

[11:23](#msg5767d22d4227fdc92298b517)Ah, Well, hopefully compile time will be a lot faster in the next version.

dockimbel

[11:24](#msg5767d27bfeaf6cd222ad3fd1)Indeed, I can't wait to have it too, as we make dozens, if not hundreds of compilations each day (including the tests suite).

annonie19345925\_twitter

[11:25](#msg5767d29d3881bc405b6f08ad)Wow, that would take a very long time i suppose.

dockimbel

[11:26](#msg5767d2d1f0528c4c5bbab35d)@annonie19345925\_twitter We have 4Ghz i7 CPUs at office, so it's pretty fast, but still not enough.

SteeveGit

[11:26](#msg5767d300ebb74a972351b97b)@dockimbel How long for the gui-console with such config ?

[11:28](#msg5767d3602309a7ec164c27e7)Around 24s for an i5, here.

dockimbel

[11:31](#msg5767d4124227fdc92298b5c3)Around 26s... Interesting, are you cross-compiling from Linux?

SteeveGit

[11:31](#msg5767d4272309a7ec164c27f0)yes, under wine

dockimbel

[11:32](#msg5767d4402a4cd63745eb15e9)You mean you compile from Wine?

SteeveGit

[11:32](#msg5767d4548d8d1cd959da5eb5)i5 or i7, it's only using 1 core anyway.

[11:32](#msg5767d45c8d8d1cd959da5eb6)Yes from wine

[11:35](#msg5767d4ea233bc24f5cb1c15b)And I didn't even installed my RamDisk on my machine, lol

dockimbel

[11:39](#msg5767d5e2f0528c4c5bbab48c)That's odd...I would expect it to be slower, even if Rebol runs a bit faster on Linux than Windows...

SteeveGit

[11:40](#msg5767d6152309a7ec164c2801)Since I use wine, I don't use the linux version of Rebol2

[11:43](#msg5767d6c5ebb74a972351b991)Time to recheck the duration...Maybe I'm day dreaming ;-)

dockimbel

[11:43](#msg5767d6eb3881bc405b6f0a5b)That's even stranger...

SteeveGit

[11:45](#msg5767d7652309a7ec164c2804)Ok, forget what I said.

```
Compiling Z:\home\a\Desktop\Git\red\environment\console\gui-console.red ...
...compilation time : 1277 ms
Compiling to native code...
...compilation time : 33950 ms
...linking time     : 407 ms
...output file size : 717312 bytes
...output file      : Z:\home\a\Desktop\Git\gui-console.exe
```

[11:45](#msg5767d7712309a7ec164c2805)Dumb me...

dockimbel

[11:53](#msg5767d9572a4cd63745eb17ad)It's still good for a compilation run on a i5 + Wine.

JenniferLee520

[12:09](#msg5767dd103881bc405b6f0c6d)!\[RedAllocator](http://ww4.sinaimg.cn/mw690/006qOXTXgw1f51y44u6m2j30sg0lctb0.jpg)

dockimbel

[12:54](#msg5767e7a1ebb74a972351b9f1)@JenniferLee520 Looks good! :+1: Do you use Draw to render it?

JenniferLee520

[12:56](#msg5767e7f7feaf6cd222ad4792)@dockimbel Sorry, no. It's made by Keynote on Mac.

greggirwin

[14:09](#msg5767f9243881bc405b6f18cb)We don't have arrows in Draw yet, do we?

dockimbel

[14:13](#msg5767fa258d8d1cd959da5fa0)@greggirwin Not yet, but it's on our todo-list.

greggirwin

[14:15](#msg5767fa69feaf6cd222ad4fd8)Good to know. Thanks.

dockimbel

[14:16](#msg5767faa72309a7ec164c28ea)We'll definitely support pretty much all the features of Rebol's Draw, and extend it if necessary to be SVG-compatible. I'd like also to have many more algorithmic shapes built-in compared to Rebol.

pekr

[14:34](#msg5767fef54227fdc92298c87e)btw - but - not to upset you Doc - I noticed really nice demo of Bubbles. Run it along with R2. R2 seemed (just a feeling, no measurement) a bit faster. Red version consumed less memory - 5MB, stable, R2 consumed 8.2MB and fluctuated a bit ...

greggirwin

[14:50](#msg5768029c2a4cd63745eb2a62)That's probably just my port @pekr. I was testing the `rate` facet, which the R2 version doesn't do.

[14:54](#msg576803ba4227fdc92298cad1)I don't know how to do a tight animation loop at this point. `view/no-wait` and `forever` after that don't work as they do in R2.

dockimbel

[14:55](#msg576803ef8d8d1cd959da600e)@greggirwin Use `do-events/no-wait`.

greggirwin

[14:56](#msg57680433f0528c4c5bbac97a)But that still depends on `rate` firing, yes?

[14:58](#msg5768049e3881bc405b6f1e8d)Ah, got it. `do-events/no-wait` \*inside* the `forever`.

dockimbel

[14:59](#msg576804e28d8d1cd959da6018)@greggirwin Not related at all. Just put your frames building code in a loop and ensure that you call it after each frame. If you need keys/mouse interaction, you can even call it repeatedly for 5-10 times in order to process all pending events.

greggirwin

[15:02](#msg5768056d3881bc405b6f1efc)OK, this is what I hacked in just now: https://gist.github.com/greggirwin/6a444d61e4dd2a2d59e430b6d40b25ad

[15:03](#msg576805be4227fdc92298cbf0)\*However\*, there seems to be an issue. I probably have something mixed up. If you run it, it looks fine, moving the mouse over the bubbles makes it go really fast, \*BUT* then close the bubbles window and, here, my system freaks out until I manage to kill it.

dockimbel

[15:03](#msg576805c1ebb74a972351bace)@greggirwin `do-events` has no arguments in Red (for now).

greggirwin

[15:03](#msg576805d6f0528c4c5bbaca42)e.g. other windows don't repaint properly.

[15:03](#msg576805dc3881bc405b6f1f3c)Ah, will fix that.

[15:04](#msg576806126577f032450ce0d6)If you close the console window, all is well. Same with no `[]` after `do-events`.

[15:05](#msg576806462a4cd63745eb2c0f)But you \*can* make it go really fast @pekr.

dockimbel

[15:05](#msg57680651ebb74a972351bad3)Your `forever` loop never quits.

greggirwin

[15:06](#msg57680684f0528c4c5bbaca90)DOH!

dockimbel

[15:07](#msg5768069e233bc24f5cb1c2cc)@greggirwin See how we handle it in this \[clock.red](https://github.com/red/code/blob/master/Scripts/clock.red) script. You should use a flag set when you close the window, and then force the loop to exit.

greggirwin

[15:08](#msg576806f6f0528c4c5bbacabb)Wahhhh. I have never seen this repo. You mean I didn't need to build my own clock? ;^)

dockimbel

[15:10](#msg576807618d8d1cd959da6038)Your clock is very different from mine, so it's very welcome. ;-)

greggirwin

[15:13](#msg5768082ea82a6b0079a75cc9)So, if I have a `forever` that never quits, how is it messing with the system in a bigger way when I close the view window? Worst case it should just eat some CPU, right?

[15:21](#msg576809e4a82a6b0079a75da4)The approach in %clock.red works great. And now I have an example for resizing too!

pekr

[15:21](#msg576809f06577f032450ce29e)What a nice analog clock! Isn't that the one from the Amiga? :-)

[15:22](#msg57680a4a3881bc405b6f213a)Ah, yes, it's written in comments ...

greggirwin

[15:24](#msg57680a9cf0528c4c5bbacc51)https://gist.github.com/greggirwin/6a444d61e4dd2a2d59e430b6d40b25ad updated. Exits cleanly now.

pekr

[15:33](#msg57680ce32a4cd63745eb2f65)@greggirwin - why it gets faster, when I am moving the mouse?

greggirwin

[15:48](#msg57681050bd67400679db4fa1)I don't want to misinform you. Long years since I've had to write a Windows event loop, but I think, without mouse events, the rate is based on WM\_PAINT events the system sends.

[15:52](#msg57681133feaf6cd222ad5b55)The event loop handler is in %modules/view/backends/windows/events.reds (for WIn). Looks like the default just dispatches, while mouse handling does more before that. So it's just pumping more messages and forcing more repaints. @dockimbel or @qtxie please correct where I err.

[15:55](#msg576811ec6577f032450ce6d2)But, \*curses!* Now I have an example for resizing too, so need to make resizable bubbles. ;^)

asampal

[16:08](#msg5768150a2a4cd63745eb33c2)@greggirwin , is the jittery movement of the bubbles (also present in the original, IIRC) due to using too-large, integer increments for the direction changes?

greggirwin

[16:14](#msg5768166e3881bc405b6f279b)@asampal, likely. I didn't analyze the original when I ported it, just tried to get the look close. But now that I am looking more, it can be improved I think.

[16:16](#msg576816db4227fdc92298d457)Need to understand more though. e.g., in looking at making it resizable, and refactoring a bit (Gabriele's code is \*very* clever, but hard to tease apart at times), just by clearing the end of the draw block before adding the bubbles, it suddenly seems as fast as the R2 version without any mouse events pushing it.

[16:19](#msg576817796577f032450ce999)And slows \*just* enough at 1920x1200 to be a nice screen saver. :^) Red \*rocks\*.

[16:23](#msg576818894227fdc92298d52b)Also, there's no "memory" for a bubble's trajectory, so it can jump back and forth randomly at each step, unrelated to how fast it rises.

Phryxe

[16:24](#msg576818d32a4cd63745eb359e)Nice bubbles :+1:

pekr

[16:24](#msg576818dabd67400679db5403)I think it was an intention - bubbless move randomly and in a kind of a jerky/chaotic way imo ...

asampal

[16:25](#msg576818f42a4cd63745eb35af)@pekr have you seen real ones do that?

greggirwin

[16:26](#msg57681947a82a6b0079a76613)Check out the updated gist: https://gist.github.com/greggirwin/6a444d61e4dd2a2d59e430b6d40b25ad

What do you think now @pekr? And it's resizable. Not cleaned yet, just hacked.

asampal

[16:27](#msg576819626577f032450cea98)@greggirwin I can understand the x direction change which is to have x go a random amount centered around the current x position, but the y doesn't really make sense, IMO. Why would a bubble ever go down, which can happen with the current code?

pekr

[16:28](#msg576819922a4cd63745eb3619)@asampal don't want to spam this channel, but when I think of bubbles, I mostly think about this: https://www.youtube.com/watch?v=QseWXpkaGTY

greggirwin

[16:28](#msg5768199cbd67400679db5472)It can't happen in the current code, AFAICT. Y is always a negative change.

pekr

[16:28](#msg576819a8feaf6cd222ad5f63).... is there a way of how to remove a preview?

greggirwin

[16:28](#msg576819be6577f032450cead4)Click `...` then Collapse.

[16:32](#msg57681aadfeaf6cd222ad5fd8)Wow, we need Cyphre to do those bubbles.

asampal

[16:37](#msg57681bbb3881bc405b6f2a83)should there be a red/demo-discuss channel so we don't spam here?

[16:43](#msg57681d2fbd67400679db5660)@greggirwin you're right, I was blind on the Y direction change; the rand is not a +

greggirwin

[16:45](#msg57681d954227fdc92298d7b7)You should have seen me trying to figure out his negative offsets and triple `insert` calls in the bubble adding loop. :^)

[16:49](#msg57681ea16577f032450ced48)Stretched across 4 1920x1200 monitors, it's a good screen saver, but a little jerky because of the simple animation model. @Oldes, any suggestions?

[16:51](#msg57681ef84227fdc92298d86c)On to other work for a while.

SteeveGit

[16:55](#msg57682009614fc1b40abad6df)Btw, about the quadruple insert in the add loop - It's not necessary. It just obfuscates the code. A simple`compose` woulb be... simpler.

greggirwin

[18:16](#msg576832efbd67400679db6044)My thought as well Steeve. I'll work on that.

Oldes

[19:39](#msg576846554227fdc92298e997)@greggirwin try to draw the bubble into image on start and than animate this image in different sizes instead of drawing cpu expensive gradients on each frame. Also its possible not to clear the block on each draw and instead just change position values.

[19:46](#msg57684816f0528c4c5bbae954)@greggirwin for less jerky animation one would have to count with time change between two draws and use this value.. but than just random change would not be enough and some simple physics would have to be used. And of course... using DirectX or OpenGL would speed it a lot I believe.

[19:49](#msg576848c44227fdc92298ea8e)@greggirwin sorry.. on second look, in the code is just change of once generated bubbles. Still wonder if there would be noticeable change if used with images instead of gradient draw circles.

greggirwin

[20:04](#msg57684c3a6577f032450d0168)Thanks Oldes! I think it's the smoothness in the animation that would make it really slick. Performance is certainly tweakable though. I have to research, but the same radial fill for R2 leaves a hard edge in Red (visible in my gradient-lab as well), so I multiply the end by 2, but that makes it slower.

[20:08](#msg57684d32bd67400679db6be6)@qtxie, if you run my %gradient-lab.red (on my gists), can you say if the default is the expected result, where the blue ends in a hard round edge, rather than filling the rest of the box with the gradient end color?

pekr

[20:10](#msg57684db43881bc405b6f407e)I wondered about it too ...

qtxie

[23:45](#msg57688013bd67400679db7cde)@greggirwin I have noticed that when I implemented it. This is the default behaviour in GDI+ which is different than Rebol(AGG). I need to check the gradient on other platforms(Mac &amp; Linux) first to see if we can get the same look in all platforms.

[23:47](#msg576880916577f032450d12ea)For now, you can paint the background first as a workaround.

```
view [
	base 600x400 draw [
		pen off
		fill-pen linear 0x0 0 200 red green blue box 0x0 200x200
		fill-pen linear 200x0 0 200 255.0.0 255.255.0 0.255.0 0.255.255 0.0.255 box 200x0 400x200
		fill-pen linear 400x0 0 200 255.0.0 0.1 255.255.0 0.2 0.255.0 0.4 0.255.255 0.8 0.0.255 .9 255.0.255 1.0 box 400x0 600x200
		fill-pen blue box 0x200 200x400 fill-pen radial 100x300 0 100 255.0.0 0.255.0 0.0.255 box 0x200 200x400
		fill-pen blue box 200x200 400x400 fill-pen diamond 300x300 0 100 30 255.0.0 0.255.0 0.0.255 box 200x200 400x400
		fill-pen diamond 500x300 0 100 30 3.0 1.5 255.0.0 0.255.0 0.0.255 box 400x200 600x400
	]
]
```

## Tuesday 21st June, 2016

greggirwin

[00:31](#msg57688ad42a4cd63745eb617d)Thanks. For now I think I'll just double the radius in bubbles. :^) Good to have a workaround though. Much appreciated.

dockimbel

[07:56](#msg5768f314f0528c4c5bbb160f)FYI, local-by-default policy for VID handlers has been removed.

[12:22](#msg576931894227fdc922992ead)New URL for the Red official documentation: http://doc.red-lang.org (if it doesn't resolve for you, wait a few hours for DNS propagation).

greggirwin

[13:59](#msg5769485ec7061d590d5243cb)Do you like the `compose` approach better here Steeve?  
https://gist.github.com/greggirwin/95a74f7e9cc8ab62f9e5db7183ba38e3 (Peter noted I posted this in Tests by mistake)

dockimbel

[14:14](#msg57694bb8fac963084de1d6c7)@greggirwin @SteeveGit Remember that Red doesn't have a GC yet and that `compose` is creating a new block each time, while the `insert` approach isn't.

greggirwin

[14:16](#msg57694c320ede04dc49034542)So, not suitable as a screen saver yet, with `compose`. Got it. ;^)

[14:21](#msg57694d76c7594b5f0dd127a2)The original seems to consume memory too, though. We should also consider different aspects of demos. The fast update loop model is cool to show speed, but using `rate` is very nice in that the bubbles move while you drag the window.

dockimbel

[14:26](#msg57694e892c45709c2d208544)If you want to use `compose`, try to re-use an existing block using `/into` refinement.

[14:29](#msg57694f572c45709c2d208553)Actually, I'm thinking since a while to extend `/into` refinement to all the functions (including natives) that are implicitly creating new series. I am wondering if we could let the user control accurately the memory usage (when desired), that would benefit many applications.

greggirwin

[14:30](#msg57694f8bc7594b5f0dd128d9)Basically an optional accumulator model.

[14:34](#msg57695077c7594b5f0dd12963)Not sure. I'm against premature optimization, and if it's there, will it send the message that you \*should* use it? And since I just went to plug it into bubbles and it didn't work right the first time (with `compose`), are there risks?

[14:36](#msg576950e8c417e36c69e4bc4b)I know BrianH pushed for it in R3, and I wasn't sure about it then. Important in some environments. Maybe I'm concerned that \*I* will feel like I need to use it. :^)

dockimbel

[14:36](#msg576950ed3b4cb66870349e64)You should see it just as an extra option when you need to have tight control over resources, while maximizing performances (low GC usage). You certainly do not need to use it by default.

greggirwin

[14:37](#msg57695120c417e36c69e4bc66)Right, but who among us can resist wanting to optimize things when it's readily available and seems easy?

SteeveGit

[14:37](#msg576951393b4cb66870349e6b)@dockimbel, I noticed that earlier. I only use| `compose/into` in my "work in progress" widget. And it heavly recycles strings from a custom trash bin when it constructs draw blocks. Also, I don't use `copy`when parsing for the same reason.

dockimbel

[14:39](#msg576951b6648385b8074c32ad)@greggirwin `/into` requires an extra effort from the user, as you need to think about the buffer usage rules (sometimes, you need to change the logic of your code for that). So I don't expect it to be used by many people by default.

greggirwin

[14:41](#msg576952072554bbe049ba13d4)Right, but it \*seems* like an easy win. e.g., you said to try it, so I did, and my code broke, because I was adding the composed block to another block and so had to copy it there.

dockimbel

[14:41](#msg57695236fac963084de1d713)@greggirwin Thanks to `/into`, Kaj was able to write a server in Red (with the help of his bindings) with extremely low memory overhead a couple of years ago, which runs in production...without a GC. ;-)

greggirwin

[14:42](#msg576952675ba3ccaa25b62f16)I'm not saying \*not* to have it there, but if it's ubiquitous, it does need to be clearly explained.

asampal

[14:45](#msg576952f4c7061d590d524a27)If Red's going to be seriously used for game-like apps, I'd say the refinement should be there in as many places as makes sense - but, as @greggirwin said, documented as a potential gotcha.

greggirwin

[14:46](#msg5769532d2554bbe049ba1467)For example, I think HOFs (`map filter accumulate`) will be loved by "functionals" (if I may so describe them), but will confuse some, and they will just avoid using them. I have \*no* idea how `/into` will be perceived. It's quite possible that "average" users will never even know it's there, as with `/deep` and `/only`. So it should be fine. :^)

[14:47](#msg57695396c417e36c69e4bde3)Not just games Adrian, think IoT and scalability.

dockimbel

[14:48](#msg576953d03b4cb66870349e93)@asampal I'd love Red to be a great platform for writing games (among other applications), though, for that we would need to have a DirectX/OpenGL backend first. In the meantime, it will be interesting to see how far we can push the current \*generic* View engine.

greggirwin

[14:49](#msg57695409c7594b5f0dd12bb7)Part of my brain still has to adjust to thinking of Red as truly full stack, and optimizable for different environs. It could do things like Rebol, and go far, as some of us have pushed R2 quite a bit with great success, but Red has no limits. I just have to unlearn a few more things.

dockimbel

[14:51](#msg57695456648385b8074c32d2)@greggirwin You sumed up pretty well my main motivation for building Red: removing all the limits we had with Rebol. ;-)

greggirwin

[14:51](#msg576954740ede04dc49034a2d)Even if a game engine, or layer, was not Red itself, imagine writing everything above that in DSLs. And while big name engined games make loads of money, so do puzzle games and things like Angry Birds, which would all be eminently doable.

SteeveGit

[14:51](#msg5769547e2c45709c2d20859c)Well, I think `/into` is a no brainer for those who have sufficient experience with Rebol. Seriously, it's not a new feature in Rebol. Beginners have hard times with rebol's series management anyway (as my young me). They always think literal series are const like in c).

dockimbel

[14:51](#msg5769548a3b4cb66870349ea7)@greggirwin Exactly.

greggirwin

[14:52](#msg576954cbc7594b5f0dd12c45)Good point Steeve.

dockimbel

[14:54](#msg576955382c45709c2d2085a1)@SteeveGit That can be solved with appropriate documentation materials. We need many docs explaining the core concepts in different ways, suitable for different groups of users.

pekr

[16:02](#msg576965016c39b965695f0f12)If `/into` would not have possible usability gotchas, as you guys put it here, my question would be reversed - why not turn all such funcs into an `/into`by default and introduce `copy`as a reverse aproach ... But not understanding lower level I would say - if it would be suitable, it would be already done :-)

x8x

[20:21](#msg5769a1b86c39b965695f2e4c)Anyone has an opinion on this one? https://github.com/red/red/issues/1846

## Wednesday 22nd June, 2016

dockimbel

[04:53](#msg576a19c6648385b8074c3923)FYI, you can now pass a function reference instead of a block when creating an actor in VID:

```
handler: func [f e][print "clicked"]
view [button "hi" on-click :handler]
```

greggirwin

[06:02](#msg576a29fbc7061d590d52976c)Commented on red/red#1846. (It's long, Doc, wait until you have time)

[06:02](#msg576a2a030ede04dc490394cd)@dockimbel Nice!

endo64

[07:03](#msg576a3846c417e36c69e50d0a)"function reference in VID actors" great now VID codes will be much clearer.

[07:19](#msg576a3bed2554bbe049ba6424)Isn't this work before?

```
red>> ? hex
*** Script error: hex has no value
```

[07:20](#msg576a3c2b5ba3ccaa25b67ee3)I mean it worked before for unset! words before.

dockimbel

[07:31](#msg576a3ee25ba3ccaa25b67fdc)@endo64 Good catch, it's a regression. Fixing it right now...Done.

grahamf21

[12:39](#msg576a86fd2554bbe049ba82cf)Problems with console-call.red on Debian sid 64-bit linux (multiarch)

I am trying to write an application which calls an external program.

Compiling console-call with 'red -c tests/console-call.red' complains that it can't find include file help.red. I fixed this by changing line 87 from #include %help.red to #include %../environment/console/help.red

Then running ./console-call fails saying "error while loading shared libraries: libreadline.so.6" (which is installed.) Installing libreadline.so.6:i386 fixes this and the console starts:

But now typing any command e.g. 'help' gives  
red&gt;&gt; help  
\*\** Syntax Error: invalid value at "^@"  
\*\** Where: do  
\*\** Stack: do-console while unless switch do code load case transcode unless throw-error cause-error do

Now I'm stuck.

dockimbel

[13:50](#msg576a97a73b4cb6687034a77e)@grahamf21 The %console-call script is really lagging behind. I just upgraded it, give it another try.

grahamf21

[14:08](#msg576a9bc10ede04dc4903c06a)Hi Nenad. Thanks for the rapid fix. It's working now.

dockimbel

[14:14](#msg576a9d62648385b8074c3b9d)You're welcome.

pekr

[14:39](#msg576aa32b80f1c6a5257dd5ee)Doc, is release around the corner? Trello tickets seem to be done, so "just" bugfixing and writing a blog article, hence few days more? Thanks ...

dockimbel

[14:48](#msg576aa528fac963084de1e06d)Yes, just need to write the React documentation first, then the blog article.

grahamf21

[15:44](#msg576ab2405ba3ccaa25b6b391)Hi Nenad,  
One small point regarding %call.red. To be able to compile my script, I had to amend the include path for %call.reds at line 17 to be "#include %./system/library/call/call.reds"

dockimbel

[15:49](#msg576ab39f3b4cb6687034a87e)@grahamf21 When you use Red from its sources, for the toolchain to properly work, your working folder should be the root folder of the Red repo.

grahamf21

[15:56](#msg576ab525c7061d590d52d48a)Hi Nenad, Yes, I was just about to delete that post.

## Thursday 23th June, 2016

dockimbel

[07:58](#msg576b96b90ede04dc49043a8e)@greggirwin I've added some of your demos to red/code. Feel free to send pull requests there for fixes and improvements (or new demos). Also, I'll be glad to put there your "commented" versions, as separate scripts from the "uncommented" ones. Would be nice to adopt a convention for naming such scripts using a "-comment" or "-commented" suffix for the names. What do you think?

[08:01](#msg576b976f5ba3ccaa25b71f79)Also, I would like to put in the Readme of each folder, a grid of GIF anims for each app/demo with the script name as caption or overlay. Would someone be kind enough to contribute that?

endo64

[09:31](#msg576bac545ba3ccaa25b73153)`abstraction-diagram.png` file on http://www.red-lang.org/p/contributions.html page gets 404.

dockimbel

[10:05](#msg576bb45a6c39b9656960105d)@endo64 Works fine from here: http://3.bp.blogspot.com/-xhOP35Dm99w/UuXFKgY2dlI/AAAAAAAAAGA/YQu98\_pPDjw/s1600/reichart-abstraction-diagram.png

endo64

[10:13](#msg576bb6440ede04dc4904552e)Ah.. blogspot.com access is restricted here in Turkey. Stupid goverment decisions

tanstaaf1

[11:44](#msg576bcba02554bbe049bb3168)@greggirwin (and anyone else with a lot of larger-scale Rebol experience): What do you think might impede Red's ability to scale? Once the GC and concurrency are working well what will potentially be the main bottlenecks to rapid, large-project adoption? In one way, doc's ability to pull off building Red proves it CAN scales but there were always a few genius, small-team, assembly programmers, for example, who could successfully implement huge, complicated programs due to extraordinary skills (viz the original Lotus 123 developer). Specifically: do you see Red as potentially being weak in maintenance (readability; debugging; modularization, etc.) or any other areas? How about learning curve (the Haskell issue)? So what might be likely barriers to rapidly taking over the world;-)... and how might those be addressed?

SteeveGit

[12:59](#msg576bdd312c45709c2d2098e1)@tanstaaf1 Embedded tools to help developers: Rebol stayed a toy language because the lack of serious tools (with gui) to help developers. Just my opinion.

PeterWAWood

[13:11](#msg576bdfe4c7061d590d537f32)@tanstaaf1 I believe the lack of a testing culture will hold Red back.

dockimbel

[13:35](#msg576be5863b4cb6687034b2c6)@PeterWAWood Are you thinking about Ruby ecosystem? Could you elaborate about that?

[13:35](#msg576be5bafac963084de1eaeb)@tanstaaf1 Good questions! I have some answers, but I would like to see what others think first.

Arie-vw

[13:45](#msg576be7efc7594b5f0dd266ca)Currently there is no help available in the REPL for basic datatypes like integer! But typesets are documented.

```
red>> ? number!
number! is a typeset! of value: make typeset! [integer! float! percent!]
red>> ? integer!
No value of that type found in global space.
```

Would be nice if some simple doc would be available for basic types as well.

dockimbel

[13:52](#msg576be9aefac963084de1eb0b)@Arie-vw There is no specific documentation for raw values like predefined typesets, the help system is just displaying the value:

```
red>> number!
== make typeset! [integer! float! percent!]
```

bitbegin

[13:54](#msg576bea050ede04dc49048173)After run Scripts/mandelbrot.red, then finish draw and close the mandelbrot window, the Red console will can't be input texts.

PeterWAWood

[14:04](#msg576bec5ec7594b5f0dd26b7d)@dockimbel I believe what was perhaps thought of as the Ruby ecosystem has spread very widely. JavaScript now has as many, if not more, tools that are widely used, e.g. Jasmine, Mocha, Karma. Wordpress is a good example of a testing culture.

[14:06](#msg576becf780f1c6a5257e93c5)In the early days of OS X, Apple didn't have a testing culture. There were a couple of independent test frameworks. Now Xcode has both gui and non- gui testing support.

[14:06](#msg576bed035ba3ccaa25b76862)Most modern langu

[14:09](#msg576bed9e0ede04dc490484df)Most modern languages have built in test support. Even Rust, which appears to have a similar simple approach as quick- test, has the test framework built- in to the compiler.

dockimbel

[14:29](#msg576bf260c29eb500034666c7)@bitbegin I can reproduce that issue.

gunnarahlberg

[14:43](#msg576bf58e80f1c6a5257e9c2e)What would a quick-check implementation look like in red?

greggirwin

[15:05](#msg576bfad6c417e36c69e609e5)@dockimbel I'm happy for anything I put out there to be used. And I was thinking along the same lines for commented versions, but have other ideas too. Since the source is right there, you can paste it into a console and the comments will be gone. Right now, they are replaced with blank lines (new-line markers still there I'm guessing), but having a couple tiny scripts that show how to do that give them the tools. Lots of ways to approach it.  
As I push stuff out, if you see a tool, demo, or direction you want me to elaborate on, let me know.

[15:10](#msg576bfbcf80f1c6a5257ea2c5)On GIFs, what specs for them? Any tool recommendations?

dockimbel

[15:12](#msg576bfc4456e9614353f2c4da)@greggirwin I use \[ScreenToGif](https://screentogif.codeplex.com/), but IIRC, @nc-x had a better one? I was just thinking about making a maybe two column grid of GIF of each GUI demo, playing a few seconds only, just to provide an overview/preview of what's in the repo for teasing purposes.

greggirwin

[15:12](#msg576bfc62c7061d590d539caa)Thanks Doc.

dockimbel

[15:17](#msg576bfd74e861779841eefdff)@gunnarahlberg You mean the Haskell tool?

ghost~5680c5f416b6c7089cc058a5

[15:20](#msg576bfe4ac417e36c69e60d3b)@dockimbel ScreenToGif had the weird colours bug which i think has been fixed in the latest version... It still has a lot of bugs, though nothing major. Another alternative is LiceCap. (There are many others as well.)

[15:21](#msg576bfe6080f1c6a5257ea551)www.cockos.com/licecap/

greggirwin

[15:23](#msg576bfee3c417e36c69e60dc7)@tanstaaf1, modules and a package system will be key to adoption. Also, initial tooling. There are two sides to this, one is getting people to try Red and use it for themselves. Those tools need to be easy and friendly. For scalability you need to manage more pieces. In that regard I think one of the most powerful things we can do is build stepping stones in Red itself and make the source available. We can't try to be all things to all people, and we should \*not\*, IMHO try to solve the "large project" problem. At least not right away. We should show ways to make them manageable (cooperating suites of apps that use messaging, services and consumers, etc.), but it will have to grow organically, rather than Team Red dictating it.

[15:25](#msg576bff725ba3ccaa25b77ad7)I think it's also important that we try a lot of things, rather than betting the farm on one killer app idea, and that we just keep building things. This is how you get good, and the more we produce the more there's a chance \*one* thing will catch fire.

Unfortunately, there's no silver bullet. We can't say "Do X and we win."

[15:28](#msg576c0009c7061d590d53a085)I also think building in some of the basics, like a simple test dialect and project/build model, are important. There is always a risk, as with VID under R2, that they will be just good enough to stifle innovation.

[15:28](#msg576c0028c7061d590d53a098)I have a \*LOT* of ideas, as you may guess, and code to go with them. :^)

[15:32](#msg576c01106c39b9656960568b)I also think it's important to have a lot of examples in different areas.

[15:34](#msg576c016dc7594b5f0dd2830e)And something I always wanted to see for R2 were guides for those used to other languages.

[15:38](#msg576c0287c7061d590d53a325)Adoption is hard, but I don't see any technical reasons or limitations that will stop Red. People is the big issue.

dockimbel

[15:38](#msg576c029289c0b3b310de9dde)@greggirwin I'm reviewing your PRs, I have a question: did you run the Red tests suite for `sign?`? (Just checking for regressions)

greggirwin

[15:40](#msg576c02e1c7061d590d53a37e)I ran my tests. Some big values fail for `time!`. I did not run the entire suite (need to look at how to do that).

dockimbel

[15:41](#msg576c032456e9614353f2c540)@greggirwin Just `rebol -s tests/run-all.r` (just the Red tests is enough).

greggirwin

[15:42](#msg576c035cc7061d590d53a404)Running.

[15:53](#msg576c06072554bbe049bb6801)I don't see any failures here.

[15:56](#msg576c06ab80f1c6a5257eac9e)Hang on. I'm on a different branch now. :^\\

TimeSlip

[16:15](#msg576c0b182554bbe049bb6b10)Out of curiosity I ran the run-all on the red-24jun16-cdf703b archive and it passed with no errors.

greggirwin

[16:29](#msg576c0e5b2554bbe049bb6d0e)Seems to be stuck on %cast-test.r here. Restarting.

[16:30](#msg576c0ea92554bbe049bb6d45)Ah, was one dir too high, though not sure why it hung.

Oldes

[20:43](#msg576c49ecc417e36c69e63888)&gt; Ah, was one dir too high, though not sure why it hung.

because some old Rebol bug in call.

## Friday 24th June, 2016

dockimbel

[03:03](#msg576ca30cc29eb50003466cd6)@greggirwin If you're a Rebol 2.7.8 user, you'll have issues with CALL, as it has several bugs in that version. We tried to mitigate that using a custom CALL implementation, though, I'm not sure the custom version is still selected when using 2.7.8... For that reason, I'm a 2.7.6 user (2.7.7 was also buggy) for all my Rebol code.

JenniferLee520

[03:12](#msg576ca50b2554bbe049bba5bf)There is a datatype called POINT!. Is there a literal form of it, such as 0x0x0? Thanks.

TimeSlip

[03:26](#msg576ca86f80f1c6a5257eeaeb)@dockimbel I used 2.7.8.3.1 for the run-all.r. Just lucky I guess.

dockimbel

[03:28](#msg576ca8e0e861779841ef0414)@JenniferLee520 No literal form, it is currently only used internal for storing information on Parse's stack, so it has no actions implemented. I named it `point!` as it would be good to have a future 3-dimensional counterpart to `pair!`, though, I still have no good option for a literal form.

[03:28](#msg576ca8ed89c0b3b310dea346)@TimeSlip Which Windows version are you using?

TimeSlip

[03:29](#msg576ca927c417e36c69e65403)@dockimbel Win 7 Pro (64 bit)

PeterWAWood

[03:44](#msg576cacad80f1c6a5257eebbf)@greggirwin When I run the Red tests on Windows 10, they frequently hang. Josh Shireman also had such problems using Windows 8 (I think). I have not been able to identify the cause of the problem yet.

[03:45](#msg576cacd92554bbe049bba74c)The Red tests use Nenad's win-call under Windows with Rebol 2.7.8

greggirwin

[04:09](#msg576cb2880ede04dc4904ddaf)I'm on Win 7 with 2.7.8. Maybe I'll set up 2.7.6 for this. I got one good pass, but all others have hung so far. I thought it was me.

[04:13](#msg576cb3812554bbe049bba879)FYI, for those who have written GUI apps that have exported global var blocks after action blocks, you'll want to remove those in the new releases of Red. I think the new behavior reverses the old, but am not 100% sure. I had behavior change in a couple apps, so test your code again under the new release.

dockimbel

[04:13](#msg576cb382c29eb50003466d35)We'll eliminate that issue once we rewrite the testing framework in Red itself (as soon as Red/Call is ready). We'll also speed up the test suite by running tests in parallel on multiples cores.

greggirwin

[04:15](#msg576cb3dfc7061d590d53e83c)Yup. NP. Thanks Doc!

[04:16](#msg576cb4140ede04dc4904dde7)Just got a complete pass on the test! It must have heard us typing about it. All passed on my sign branch.

dockimbel

[04:16](#msg576cb43956e9614353f2caed)@greggirwin Thanks! Though, you need to refresh your PR, as it's now in conflict with master (you need to upgrade your PR branch and solve the conflicts).

greggirwin

[04:19](#msg576cb4d3c7594b5f0dd2cae3)The talk I went to today was by Andy Hunt. His new thing is http://growsmethod.com/ but his talk ranged over other stuff as well. He has key points in his new "methodology" that I think directly apply to Red's strengths. More on that another time.

[04:20](#msg576cb4f06c39b96569609c23)Conflicts. grrrr. It was all green lights when I submitted it. Sorry about that.

[04:20](#msg576cb51080f1c6a5257eed37)May have to wait for tomorrow.

endo64

[06:53](#msg576cd8fac7061d590d53ef7f)For screen to gif, there is LICECap also very useful. (http://www.cockos.com/licecap/)

[06:56](#msg576cd9a4c7061d590d53efb4)works on Windows and OSX, very simple interface.

Arie-vw

[10:34](#msg576d0cc02554bbe049bbc3be)I am surprised by how unique/skip works. It seems that it only checks for uniqueness of the first item in a skip group. My guess would be that checking the uniqueness of whole skip groups would be more appropriate?

```
red>> unique/skip "abcdefabcghijklmnoghi" 3
== "abcdefbcghijklmnohi"
```

[10:35](#msg576d0d07c7061d590d540293)E.g. in this example I expected the second "abc" to be not present in the result.

dockimbel

[10:37](#msg576d0d85c7061d590d5402b6)@Arie-vw It's a bug, please open a ticket for it.

Arie-vw

[10:38](#msg576d0daec7594b5f0dd2e5e3)Will do.

[11:08](#msg576d14c30ede04dc4904fb61)Playing in the repl

```
red>> p:  x:5
== x:5
red>> p
== x:5
red>> x:5
== x:5
```

I see that x:5 seems to be swallowed as a valid expression. Is it some special form, or is it a bug?

iArnold

[11:09](#msg576d14fdc417e36c69e674b9)

pekr

[11:18](#msg576d171ec7061d590d54066a)

```
red>> type? x:5
== url!
```

[11:19](#msg576d17256c39b9656960baee)You are missing a space there ...

Arie-vw

[11:19](#msg576d173ec7061d590d540678)Heh! Good catch ... but, is that useful???

pekr

[11:19](#msg576d175f6c39b9656960baf9)Most probably not. I would limit url! to `something://`

[11:20](#msg576d176780f1c6a5257f0b74)But it is compatible to R2 at least :-)

[11:21](#msg576d17b480f1c6a5257f0b8e)We had some talks with Carl in the past, about usefulness of identifying some types, e.g.:

```
>> to-email "nonsense"
== nonsense
>> type? to-email "nonsense"
== email!
```

[11:22](#msg576d180180f1c6a5257f0ba6)How useful is that, e.g. when working with forms? There are email parsers out there. Not sure how would it influence the parser (its speed), to have proper (RFC?) email type identification, but if I can make nonsense into an email! type, it's simply imo not useful ...

Arie-vw

[14:11](#msg576d3f85c7061d590d5418a4)@pekr Was expecting the "miussing space" would trigger an error, instead of accepting this weird thing that is recognized as being an URL!

pekr

[14:14](#msg576d40342554bbe049bbd93a)Well, one thing is, what do we expect, the other one is, how it is internally implemented. Recently, it is not a bug, but a correctly working code. Simply put `x:5`is being recognized as an `url!`type, no matter how useful it is. Once Doc has more time, we can open a discussion about such stuff, as to what is the characteristics of particular datatypes and what should be considered as being (in)valid ...

[14:17](#msg576d410480f1c6a5257f1d88)There is some work being done on the datatypes matrix, for the `to`conversion purpose. And maybe then we can ask, if it is useful to have conversions, which simply don't make sense (as e.g. turning spaced string without the @ char into email, etc.)

[14:18](#msg576d4133c7061d590d541999)From the very old discussion I do remember, that something being of certain type does not mean it is a real-life valid stuff, so we will see, where do we get with such discussions :-)

dockimbel

[15:10](#msg576d4d7ac29eb50003467165)@Arie-vw It's a valid URI (and URL) according to https://www.ietf.org/rfc/rfc3986.txt. Strictly speaking, the datatype should be named `uri!`, but pretty much nobody knows about that, so Rebol and Red are using the much more common `url!` term.

pekr

[15:14](#msg576d4e562554bbe049bbe026)You see? I did not even know, something like that is possible :-)

Arie-vw

[15:22](#msg576d504b80f1c6a5257f24e9)@dockimbel That is an impressive document ...Haven't read it in full yet though :-) Thx!

greggirwin

[17:31](#msg576d6e5cfa3b0de471e8a993):point\_up: \[June 24, 2016 12:53 AM](https://gitter.im/red/red?at=576cd8fac7061d590d53ef7f) Thanks Endo!

[17:50](#msg576d72ffd4fc806241606b0b)For url!, I'm sure we'll have a spec-compliant parser. I should dust off my old ABNF-to-parse converter. For email! the situation isn't as clear, because \*nobody* uses all of the spec. I vote for a simple email format.  
\- http://girders.org/blog/2013/01/31/dont-rfc-validate-email-addresses/  
\- https://tools.ietf.org/html/rfc2822#section-3.4.1  
One of my favorite things in Friedl's regex book was the ~4K long regex for email addresses.

[17:54](#msg576d73c3d4fc806241607b94)I would have to revisit the spec, but I think \[word! #"@" word!] would be a good start.

dockimbel

[18:17](#msg576d795544e6020f13333d18)Parsing urls accurately is complex, we can give it a try, but we'll probably have to accept a broader range. See http://stackoverflow.com/questions/1547899/which-characters-make-a-url-invalid

pekr

[18:19](#msg576d79b50d6f4b664100c4bb)As for email, I have seen rules for php regexp and I liked what it covered. We don't need to be imo fully rfc compliant? But otoh conversions to/from particular dtypes should make at least some common sense ...

[18:22](#msg576d7a4f165412787f1ab3a9)@dockimbel - 0.6.1 is mostly the reactive programming release. Although some GUI stuff got moved for later, some new functionality and demos appeared too. My take is it would be pity to not mention that. Do you plan on posting some demo screenshot at least, or something like that? You know that - ppl like visuals :-)

rgchris

[19:38](#msg576d8c2f9f9132eb71711e06)@pekr Have mentioned elsewhere that some URIs don't use the `://` form: `tel:+1-234-567-8901` `tag:foo.com,2016-06:some/id` `or:machine=tag`

iArnold

[20:33](#msg576d9927165412787f1c8318)Sorry to post this little rant here. &lt;rant&gt;What good is a URI `tel:+1-234-567-8901`? My tel is different from that and so is yours and as a matter of fact the tel of all ppl on this planet except for mr Berners Lee perhaps. The use of such URI seems to me to be restricted to special cases, whereas the url and urn (also BS imho) have a protocol and a unique identifier, giving a unique webpage or document id. The tel: example, what you want from it? Computer calls the number and then? Somebody answers the phone? There are better examples of how to deal with phonenumbers in Rebol than that, a phone number belongs to a person or an organisation and it has a certain format but you do NOT need a URI format for that do you? It is that Tim invented the internet or else I would have considered this a bad joke.&lt;end rant&gt; Sorry again, sometimes there is just a little rebol inside of me.

greggirwin

[21:18](#msg576da3bf9f9132eb717277f8):point\_up: \[June 24, 2016 12:17 PM](https://gitter.im/red/red?at=576d795544e6020f13333d18) Excellent point Doc.

[21:40](#msg576da8bae786e0807f2d2f16)If we want to improve Arnold, we probably need to make concrete suggestions. e.g., do we have url! and urn! as types and uri? as a pseudotype? What benefits do we get from \*not* enforcing // in the lexing? What \*is* the better way to deal with phone numbers?

[21:43](#msg576da9780d6f4b664103a4f7)Looks like URN was deprecated in 2005. One issue solved. :^)

dahu

[22:14](#msg576db0cd165412787f1dc7d5)Without actually knowing the tel: spec, I guess it is flexible such that any "-" and even the leading "+" are optional, which then just leaves a bare string of numbers. Frequently when reading messages on my phone, bad.grammar leads to wrongly linkified urls. And bare strings of numbers are treated as phone numbers. And yes, when I click the linkified number, my "computer" calls the number. Nobody answers. Yet.

## Saturday 25th June, 2016

rgchris

[02:19](#msg576dea2ffa3b0de471ee9bcf)@iArnold it is supported in most browsers. Can be configured to open the likes of Skype, Facetime, etc. \[Sample Number](tel:+1-234-567-8901)

[02:19](#msg576dea4bb619dbcd711e7a3a)I guess it isn't supported by Gitter's markdown though : )

[02:22](#msg576deaceb619dbcd711e7b51)I'm not sure it's the best way to represent a phone number in Ren/Red/Rebol—issue! is the closest in definition to what a phone number is—but it is a \[URI scheme](https://www.ietf.org/rfc/rfc3966.txt) that is used.

iArnold

[06:45](#msg576e28738441a8124d3cfb70)@greggirwin One issue solved, one to go ;-)  
Yes I want to improve too. As we see in Arie's case, in Rebol and Red a space is quickly missed, and even Arie had not recognised the URI. Perhaps it is better to give a errormessage in such a case and demand extra lexical form to distiguish that you really do mean to use an URI? uri:rest:oftheuri

[06:46](#msg576e28db1ac8bd1a4d485804)OTOH the mistake is rather easily spotted by having someone else look at your code.

dockimbel

[07:09](#msg576e2e1e97171715543d9400)@pekr \*My take is it would be pity to not mention that. Do you plan on posting some demo screenshot at least,* What makes you think that I wouldn't do that? Why would I want to hide the demos I've put in red/code?

pekr

[07:10](#msg576e2e63bb1de91c545c3c92)Dunno, just my overall feeling, that reactive programming is a big thing and separate concept worth extra release/post ...

[07:13](#msg576e2efc8c9263ba30e19c9f)Another reason is, that I am stupid :-) Just found out, that red/code is versioned too, and did not see separate 0.6.1 branch, where many new demos are present :-)

[07:13](#msg576e2f2ca0c12d110f7582f0)Oh, my beloved particles demo, looks awesome!

Phryxe

[11:11](#msg576e66e3632b75030f5fdaba)Nice documentation on GitBook. A pity it doesn't support searching for compound words like on-time, do-events etc.

greggirwin

[14:52](#msg576e9ab8bb1de91c54611478)@dockimbel if there are any other demos you think would be good, and can be done quickly, or if there are changes to you to any of my stuff, let me know.

dockimbel

[14:53](#msg576e9af798e8ce5f0588817f)@greggirwin A nice port of your Miner game would be nice, but that's quite some work I guess. ;-) Maybe a form-based simple app would be good, as we mostly have graphic-effects demos.

greggirwin

[14:53](#msg576e9b05a0c12d110f79eba7)Q. Will faces get a `style` facet, so you know what style was used to create them? Looking at another old demo and I see to have used that.

[14:54](#msg576e9b181ac8bd1a4d4d3b5b)Miner game...you mean the minesweeper clone?

dockimbel

[14:55](#msg576e9b44f04fad5c263fa13d)@greggirwin `style`: maybe, but I don't want to add more fields to the face! object unless I don't have other options.

greggirwin

[14:55](#msg576e9b608c9263ba30e620b4)I thought the same, that we have a lot of graphics stuff. But that's kind of a \*Wow!* for people too.

[14:56](#msg576e9b9a971717155441d5a1)`type` seems to have the base name in it for my styled face, but likely I'm missing something.

dockimbel

[14:56](#msg576e9baff04fad5c263fa167)Minesweeper yes.

greggirwin

[14:56](#msg576e9bb8bb1de91c546125c2)NP. I can use `extra` for this I'm pretty sure.

dockimbel

[14:57](#msg576e9bc1c1e0d43143ce8ee1)Yep

greggirwin

[15:05](#msg576e9dabbb1de91c546136d2)As a side note, some of my demos from 2001-2, when I was new to REBOL...use `for`. ;^)

[15:05](#msg576e9dd4265214c1305924d4)Your comment, Doc, about it also being for list comprehensions is still there though.

dockimbel

[17:33](#msg576ec0574a1ee37d4ae5e44e)I used `for` quite often during my first months of learning back in 1999, but when I got used to series semantics, I never used it again.

iArnold

[17:43](#msg576ec2cd1ac8bd1a4d4f5995)(I do translations from `for` to a rebol-loop type for a living Gregg ;-) )

greggirwin

[17:44](#msg576ec3168441a8124d43dcf5)Here's another old (graphical) demo. 15 years old, needs serious refactoring: https://gist.github.com/greggirwin/5da11ee2893f87ccdfc883f670f70368

[17:45](#msg576ec3468441a8124d43dfa9)Hacked \*very* quickly to work under Red. What I need to figure out is why the animation stops if the mouse is over the window. So if you click Go, you need to move the mouse away from the window to see it run.

pekr

[19:40](#msg576ede18bb1de91c5464ab1e)@greggirwin - re your nice gradient lab - the green is kind of divided by a stronger green circle - is that correct? Because red and blue have smooth gradient transition ....

greggirwin

[19:42](#msg576ede91632b75030f6592b4)The effects don't exactly match how AGG did things, so Doc and Qingtian will have to decide what behavior they can make work the same on all platforms.

[19:44](#msg576edf11bb1de91c5464bed3)You can also simulate things like the `repeat` option in R2 by playing with the start and end positions, which (with linear gradients) can make pipes and bars. I think it's very early to say what it should do, but we can play and send example commands we come up with for review.

[19:46](#msg576edfad9717171554453fab)I also don't have a way to remove the third color, so if you want smoother gradients, you need to adjust away from wide variances. e.g.

```
[
    d-fill: fill-pen Linear 0x0 0 500 0 1.015625 1.0 255.0.0 145.92.0 202.131.48 
    box 0x0 500x500
]
```

Though you can't paste in draw commands yet either.

pekr

[20:10](#msg576ee553632b75030f6606c4)I tried with the R2 demo, found in Tools Desktip section, and this problem is there too, and again, with just one color. Maybe it is just some result by its mathematic representation, or something like that?

## Sunday 26th June, 2016

qtxie

[00:01](#msg576f1b54a0c12d110f7fde88)@pekr The gradient in R2 is not correct in some cases. It is fixed in R3.  
http://www.rebol.com/r3/docs/view/draw-setup.html#section-7

[00:08](#msg576f1d00a0c12d110f7ff660)@greggirwin The animation works on my computer, but too fast... :joy:

greggirwin

[02:54](#msg576f43ee1ac8bd1a4d546f4b)Can I borrow your computer to test? ;^)

[03:12](#msg576f4821265214c130609b36)Interesting. The animation stalls here if I have the mouse over the GUI console window as well.

[03:13](#msg576f4846a0c12d110f819e55)And it doesn't work compiled for me at all.

[03:15](#msg576f48d3a0c12d110f81a10e)Surely something I'm doing wrong. I also need to figure some things out, since I dynamically generate the disk face names. Statically declaring them lets me compile, but I'll work on improving this.

x8x

[13:38](#msg576fdae4bb1de91c546e8143)should `in` work on `map!` ? so we could do `m: #(a: 1) in m 'a`

pekr

[13:40](#msg576fdb6b8441a8124d4f4050)Theoretically, it might make sense, as maps are close to objects imo ...

x8x

[13:47](#msg576fdcf11ac8bd1a4d59fb15)Use case is get a value in a saved `map!`:

```
key-value: in load %map.red 'key
```

Now the `map!` need to be assigned to a temporary var:

```
map: load %map.red
key-value: map/key
```

dockimbel

[13:47](#msg576fdd0e86609e810f51778e)No, `in` is for referring to a word or path in a namespace, and maps in Rebol/Red are just key/value stores.

[13:48](#msg576fdd3869f52589486165d0)@x8x Use `select`, see the \[map!](http://doc.red-lang.org/Map!.html) documentation.

SteeveGit

[13:48](#msg576fdd3d53cf814d7273e22b)@pekr  
&gt; as maps are close to objects imo ...

Nope, it's an hash! array, so accessing keys, uses a dynamic look-up algorithm. It Makes no sense to want to bind keys statically.

[13:49](#msg576fdd5d86609e810f51779d)Oups! Nenad was faster.

x8x

[13:52](#msg576fde118c9263ba30f3e031)HA!! didn't know about `select` on `map!` and didn't know about the documentation! Thanks for the link, I somehow missed it.. Looks great!!

greggirwin

[14:52](#msg576fec469717171554504044)@dockimbel and @qtxie, while it's early days for the GUI, it should be noted that nesting `do-events` isn't a good idea. It seems obvious in hindsight, but I couldn't see it at first. e.g., I do this:

```
view/no-wait layout lay
quit?: no
until [do-events/no-wait  quit?]
```

And then want to animate face moves:

```
while [<not in final position>] [
	; move toward final position
	do-events/no-wait
]
```

And it \*almost* works. Well, it \*does* work as long as the mouse isn't over the GUI or console windows, then the face doesn't update, though the offsets are still changing behind the scenes. Though it almost works in my case, I'm sure it's a bad idea. This was porting old R2 code that had `wait` in the loop and forced a `show` on the face.

[14:55](#msg576fecdd9717171554504478)I thought about adapting this to `draw`, but we already have a number of draw examples. The simple loop approach was nice here, for ease of understanding, but I'll rework it. I don't know why it worked for Qingtian without issue.

[14:55](#msg576fecfb8441a8124d501d80)But it was too fast for him anyway. ;^)

dockimbel

[15:02](#msg576feea386609e810f517b2c)@greggirwin Do you have a simple working example for me to test? Technically, when you are using the `/no-wait` refinement, you're not nesting event loops, it's still the same running. I guess it has more to do with the need to process more events per loop than just one.

greggirwin

[15:04](#msg576feeea265214c13067cb1b)https://gist.github.com/greggirwin/5da11ee2893f87ccdfc883f670f70368

[15:06](#msg576fef6c8441a8124d503b81)No idea on the internals, but you'll see that it does update the UI in the final position even if the mouse is over the window, so your theory makes sense.

[15:07](#msg576fef96bb1de91c546f92db)Indeed! If I add more do-events calls, it works!

[15:08](#msg576fefd6632b75030f708f9a)Aside from the other massive refactoring the code needs, is that acceptable for a demo, or do we need to show a better way?

dockimbel

[15:12](#msg576ff0d286609e810f517bb0)@greggirwin Here is a fixed \[version](https://gist.github.com/dockimbel/665487f0971317d24db54ad24daf767c/revisions) which has smooth animations.

[15:13](#msg576ff12486609e810f517bb3)You should wrap the looping on `do-events` into a `pause` function. We may add such function in the View API also, in order to ease animations construction. Though, those are low-level solutions, we'll provide a higher-level option in the next releases.

greggirwin

[15:14](#msg576ff15d8c9263ba30f4d4dc)Thanks, but yours jitters a bit here, quite a lot if I move the mouse over the window. And the animation is really slow, though maybe that was your intent.

[15:16](#msg576ff1c9a0c12d110f889147)Updated mine with just an extra `do-events` in the `while` loops, so you can compare if you want.

dockimbel

[15:17](#msg576ff1f086609e810f517bbc)@greggirwin Yes, I made it pretty slow, I didn't know what was the intended speed. To remove the jittering, just turn off the `async-sync?` mode and uncomment the `show` calls.

[15:18](#msg576ff24686609e810f517bc8)@greggirwin Haha, indeed, your version is flying! :)

greggirwin

[15:18](#msg576ff24c8c9263ba30f4dd8f)Still jitters if I move the mouse.

[15:19](#msg576ff2708c9263ba30f4dfe0)I'll let you say what speed you think is best. Too fast and it will be a blur, too slow and people may think Red is slow.

[15:19](#msg576ff29f8441a8124d506c21)Yours takes ~7-10s for a disk to complete a move here.

dockimbel

[15:20](#msg576ff2d153cf814d7273eaaa)@greggirwin Try raising the loop counter on `do-events` then. The jittering is caused by delays in the event processing, as you fill the event queue faster than you empty it, so some refreshes are missing or done too closely to each other.

[15:21](#msg576ff30d53cf814d7273eaad)@greggirwin Your version is good enough here, very fast and no blurring AFAICT.

greggirwin

[15:22](#msg576ff318bb1de91c546fc012)Odd then. I don't see any jitter with mine, even moving my mouse so fast that friction is melting my mouse pad. ;^)

dockimbel

[15:22](#msg576ff330fd5f24f519be1f62)@greggirwin You mean with your old version or new version?

greggirwin

[15:22](#msg576ff3341ac8bd1a4d5b317d)OK, I'll start the cleanup on that, and we can revisit later if needed.

[15:22](#msg576ff3481ac8bd1a4d5b3196)The new version with just the extra `do-events` in the loops.

x8x

[15:24](#msg576ff3bf1ac8bd1a4d5b39fb)After commit https://github.com/red/red/commit/fdee65883ba7cb0581ce0560f42aec1cfff23738 doing a file will change current working directory.  
So if I want to stay in current directory while doing scripts, will I have to change working directory after doing a script?  
If I have to `do` 3 scripts in 3 differrent folders, the path of the first one will be relative to the current dir, the second one will have to be relative to script 1 dir and the third one will have to be relative to the second's dir.  
Of curse I could use absolute paths for calling the scripts, but I find previous behaviour more predictable and useful:  
keep me in control of current working dir and easier to call scripts in different paths. It's also more in line with how a unix shell works.  
Of curse I'm probably missing something!

dockimbel

[15:26](#msg576ff42769f5258948616d76)@greggirwin In your version, you didn't remove the ending loop, that's the reason there's a difference. Your ending loop is eating all possible events as fast as possible (no waiting time), so no jitter, but at the same time, it's eating more CPU to do the same job (busy looping).

greggirwin

[15:26](#msg576ff443bb1de91c546fce42)Ahhhh. OK. I'll play here.

[15:27](#msg576ff4478c9263ba30f50399)Thanks!

x8x

[15:28](#msg576ff497971717155450a696)what about a `do/stay` ?

dockimbel

[15:31](#msg576ff535fd5f24f519be1f71)@x8x Just use `do load` when you don't want any directory change. The last change on `do` with files is necessary in order to properly manage a script relying on other scripts/files in different folders, so you can access them conveniently with a relative path. Though, Rebol also manages an internal path (system/script/path) which is changed by `do` while system/options/path (the working folder) remains unchanged. This has its pros and cons, so we'll see in next releases what is the best option for Red (currently Red relies only on system/options/path).

greggirwin

[15:34](#msg576ff60e632b75030f70f98d)Adding `do-events/no-wait wait 0.005` in the main `until` loop lets it not eat CPU while just sitting, but use more while animating. I'm OK with the extra ~10% use for this, but we should have some good examples and guidelines to keep people from doing things poorly and blaming Red for either eating CPU or being slow.

[15:35](#msg576ff636bb1de91c546fe67e)But this was yet another fantastic, easy win with a small change. Thanks Doc!

[15:36](#msg576ff678265214c130683337)Maybe somebody will cook up a draw-based scene graph engine. :)

[15:48](#msg576ff95f265214c13068693a)%View-hanoi.red doesn't work when compiled. First disk goes up, then animation stops. Just FYI. Tried both with and without `-t`.

dockimbel

[15:52](#msg576ffa3053cf814d7273eb75)@greggirwin You can open a ticket about it, with a link to the script.

x8x

[15:52](#msg576ffa388c9263ba30f55962)The `do load` trick will make it, thanks! So probably what I wanted is the rebol behaviour, thought I remember being confused at times between `system/script/path` and `system/options/path`. What stand is that previous behaviour was very predictable. I do understand the need for scripts to be able to call other script with a relative path. The actual behaviour make me have to "calculate" in which folder my working dir will end up.. so I'll mostly save current dir, call scripts, restore saved dir.  
What about a `do/follow` for scripts calling other scripts with relative path and working dir not changing? I'm sure Red masters will find the most elegant solution! 8-)

greggirwin

[15:52](#msg576ffa4b8c9263ba30f559b2)Will do Doc.

[15:55](#msg576ffb0ba0c12d110f89126d)`do/follow` doesn't sound good to me. I think we just need to know the rules, document them clearly, and make sure people can, without too much effort, make it work how they want, e.g. with `load`.

[15:58](#msg576ffb92bb1de91c5470455f)i.e. "Here is the default behavior and here are a couple ways to organize and run scripts." A few people have talked about this, so if they could get together and write that up (to help the rest of us :-) ), it would be great.

x8x

[15:58](#msg576ffba4265214c130688930)Ok that's 2-1 ;-) `do load` will make it! Will get used to it!

dockimbel

[15:59](#msg576ffbf053cf814d7273ee5d)@greggirwin I don't like the "double path" handling of Rebol, it has caused me troubles many times, so I need time to study the topic and see if we can come up with a simpler solution, while keeping it as easy as possible for the common use-case(s).

greggirwin

[15:59](#msg576ffbf2bb1de91c54704d80)R2 has `in-dir`, and I had my own mezz for that before it was standard. I think it's an important element that \*could* trip people up.

[16:00](#msg576ffc129717171554512d9d)I know R2 has tripped me up at times.

[16:00](#msg576ffc1c265214c130688ebf)Doc +1

[16:01](#msg576ffc4a265214c1306891a8)Just do that for paths, and a thousand other details, and you're good to go. ;^)

x8x

[16:05](#msg576ffd438441a8124d50fad7)If there was a way for a script to know that it is being called by another script so that it could look for relative paths.. The rebol double path is confusing as I think the new behaviour, in a linux shell you don't change working dir to that of a called script. So new behaviour will have to be learnt by newcomers.

pekr

[16:08](#msg576ffe168441a8124d510127)other alternative would be to use alternative name. But - DO is so basic concept, that using another word would not probably work, so DO LOAD might be better. I had RUN in my mind - highly underutilised in R2, not sure if we have some plans for that, once concurrency is introduced?

greggirwin

[16:11](#msg576ffecf265214c13068a447)I have `run-script` wrappers in R2 that use `system/options/boot` because the system may have a default Rebol installed that isn't what you want for a group of related scripts that need a different version. Lots of details, as those coming from other langs will surely want to launch scripts written in those.

pekr

[16:13](#msg576fff219717171554516702)btw - in regards to above topic - what about CALL? Well, that's used for calling external apps, so most probably unrelated?

greggirwin

[16:14](#msg576fff60a0c12d110f895824)It's in the same family.

dockimbel

[16:29](#msg577002e986609e810f517d4e)@x8x You are reasoning as if all Rebol apps were just made of one file... When you have several files in different folders, relative paths are the only acceptable option. In order for that to work, you have to change-dir into each script's folder, either changing the working folder (as currently in Red) or an internal path (as in Rebol).

x8x

[16:58](#msg577009a98441a8124d51922e)Well after looking again at the commit, I used a bad example that triggered a bug.. the actual code saves the current path, change working dir to that of the folder containing the script, execute that script, change working dir back to saved path. So here I see no problem. Unluckily, I tried the new version with this code:

```
Red []
print 123
```

in a file named `script.red` in a folder named `folder`. I then called that script with `do %folder/script.red` then I check the working dir after executing that script and saw it changed to `folder`...  
The problem is, that script returns an error:

```
*** Script Error: code needs a value
*** Where: set
```

and I realize now that because of the error the saved path do not get restored. Here is the confusion.. sorry for that!  
I suppose the `code: do code` in function `do-file` needs to be wrapped in an attempt or try, so that saved path can be restored even in case of error.

dockimbel

[17:09](#msg57700c52fd5f24f519be21c1)@x8x Yes, that's a possible improvement, but the information of the folder where the error occured is useful for debugging, so that information would then need to be preserved somehow.

x8x

[17:13](#msg57700d281ac8bd1a4d5c9de0)Knowing where the error occurred is for sure usefull. About restoring saved path, I would probably say it would be better anyway. That commit still has a problem with a script returning no value.

[17:23](#msg57700fa89717171554523f91)So well new behaviour is the way to go. I thought the working path would get changed to that of the script's containing folder AFTER the script execution, which is not. So all is good!

[17:31](#msg5770117f8c9263ba30f6a394)Another question, what if I `do` a script containing `change-dir %/` ? The working dir will be at the root only for the executed script. Means there is no way to change working dir by calling a script. I don't see a use case for that, just wondering.

dockimbel

[17:36](#msg577012ab86609e810f517e57)@x8x As said above, if you want to have full control over the working folder, run your script using `do load`. But in such case, you can't have dependent files for that script specified with relative paths, it will need to be a standalone file, or rely on absolute paths for dependencies.

djrondon

[17:41](#msg577013b11ac8bd1a4d5cf02e)Folks, Did you get used with IBM BlueMix Cloud Platform? Do you have any red/rebol applications there? I've received some credits for my Startup there, I'd like to know if anyone have tried that.

greggirwin

[18:24](#msg57701dd0632b75030f73529a)I hadn't even heard of it Rondon. We're using Rebol on AWS, and have tested R2 and Red there as well. I imagine it should all work on any cloud provider and container. Containers still amuse me.

[18:24](#msg57701df78c9263ba30f732bc)Red Towers refactored: https://gist.github.com/greggirwin/5da11ee2893f87ccdfc883f670f70368

x8x

[19:40](#msg57702fa1632b75030f746643)what's the easyest way to save a logic! in a map so that it will load back as logic! ?

greggirwin

[20:52](#msg57704091632b75030f7539eb)Serialized syntax? `#(a: #[true] b: 2)`

[23:14](#msg577061c4632b75030f76b454)@dockimbel, while thinking about mines, or maybe tic-tac-toe, I worked up some grid draw samples. Let me know if you want me to post them as gists. Maybe Peter, Pekr, or others could review first, to save you time and see if anything is worth putting in the code repo. As you say, we have a lot of draw stuff already. Since the games may take more time, I'll look at some simple forms before diving deeper into them.

## Monday 27th June, 2016

greggirwin

[00:03](#msg57706d42bb1de91c5475d249)I don't see a ticket for this. Can anyone confirm?

```
red>> p: 0x0
== 0x0
red>> p/x: 159.8487557524693
== 30598328
red>> p/x: round 159.8487557524693
== 0
red>> p/x: to integer! 159.8487557524693
== 159
```

Anything except `.0` for the decimal part seems to cause the issue, which make the `round` case confusing.

[00:03](#msg57706d601ac8bd1a4d612101)Sorry for the long decimal examples. Pasting from real code.

[00:44](#msg577076e8971717155457350c)@qtxie , should transparent key colors work for images in draw at this point, or is that still TBD?

[01:09](#msg57707cdc265214c1306eb21f)\*Coming soon, the demo that started it all for me.*

qtxie

[01:13](#msg57707db21ac8bd1a4d61d42e)@greggirwin Not yet.

dockimbel

[01:59](#msg5770888e86609e810f51a899)@greggirwin Pair! is not supporting yet float! values, but that's planned. So, in the meantime, don't assign floats to pair elements. ;-)

[02:00](#msg577088acfd5f24f519be5583)@djrondon I know the BlueMix platform, but never tried it.

PeterWAWood

[02:54](#msg577095758441a8124d586dcb)@Dockimbel @qtxie I don't think the current "install settings" of the red binary are quite right. If you try to run a script from the DOS Command line or PowerShell, the script runs but the output is displayed in the GUI console.

This would make it tricky to use Red in a dos batch file or a PowerShell script.

dockimbel

[02:59](#msg5770968286609e810f51adb2)@PeterWAWood That's what the `--cli` command-line option is for. IIRC, there's no way to accurately know if your exe is run from DOS console or clicked from Explorer, otherwise we would have used it. Anyway, users can always compile custom versions of the Red REPL to suit their needs.

PeterWAWood

[03:02](#msg57709755632b75030f794053)@dockimbel Thanks. I have missed the

```
--cli
```

option

[03:09](#msg577098e6bb1de91c5477a513)It works though it looks as though there could be a font or encoding issue with non-ASCII characters:

```
c:\Red>red-060 --cli e:\Red\red\tests\hello.red
Hello, world!
?a??e, ??sµe!
??, ??
Dobrý den svete
```

The output is the same in PowerShell. (Both are using Consolas font).

dockimbel

[03:17](#msg57709ae269f52589486198b7)@PeterWAWood It's not related to Red. DOS console has to be set to a proper Unicode or local codepage and use an adequate font which contains the character sets you want to display.

[05:51](#msg5770bedcfd5f24f519be6d42)@pekr How do you compile `console.exe`? I guess you're wrongly using `-t Windows`, so you get a GUI app.

pekr

[05:52](#msg5770bf2dbb1de91c54796b55)ah, once I started to type it, I spotted my nonsense, sorry .... used rc "-t Windows .... I just rewrote the ending and deleted "gui-"

[05:54](#msg5770bfa097171715545aa6ca)It works, sorry again. So I wonder, if such output should display at least some error? E.g. - can't start Windows executable from DOS prompt?

WiseGenius

[07:08](#msg5770d10553cf814d727434ea)@dockimbel on Windows XP, the gui console has regressed back to \[this behaviour](https://gitter.im/red/red/gui-branch?at=569e5aa33165a6af1a3ca8b2).

qtxie

[08:15](#msg5770e09386609e810f51c68b)@WiseGenius It works fine in my XP VM with the latest version.

Arie-vw

[08:35](#msg5770e543265214c13073ff76)

```
red>> #"A" % 4
== #"^A"
```

% is allowed for char! But what does it mean?

[08:36](#msg5770e58ca0c12d110f948f54)I expected the ASCII value to be divided giving the rest as integer!.

dockimbel

[09:06](#msg5770ecb0632b75030f7d687f)@Arie-vw No ASCII in Red, it's Unicode everywhere. A char! is a Unicode codepoint, so it is an integer value with a Unicode character as literal form.`#"A"` is codepoint 65, so `65 % 4 == 1`, which literal form is `#"^A"`.

maximvl

[09:41](#msg5770f4c28441a8124d5d6c70)hey guys, it's almost half year passed after 0.6, could you give some brief info on plans and progress?

dockimbel

[09:44](#msg5770f5768c9263ba300189a0)@maximvl Hi, just 3 months since 0.6.0. ;-) We're about to release 0.6.1 today or tomorrow. See the "milestones" deck on \[Trello](https://trello.com/b/FlQ6pzdB/red-tasks-overview).

maximvl

[09:47](#msg5770f620a0c12d110f9580f5)@dockimbel cool, is reactive programming related to gui?

[09:47](#msg5770f6398c9263ba30019766)and what is libred?

pekr

[09:48](#msg5770f65b632b75030f7e0cbd)Libred - it should allow you to use Red as a library, e.g. in your C/C++ projects ... hopefully I am not too far off ...

[09:48](#msg5770f6698c9263ba30019818)It should allow also to load dynamic libraries in both Red and Red/System

maximvl

[09:49](#msg5770f691265214c130750488)okey, though I'm not sure why is this more important than I/O for example

pekr

[09:49](#msg5770f6c01ac8bd1a4d67c693)because it is easier to achieve and also a very welcomed functionality?

maximvl

[09:49](#msg5770f6c297171715545d90ce)I tried Red few times, but had to return to Rebol because of some critical things missing

dockimbel

[09:49](#msg5770f6c7265214c130750554)Yes, but not only. 0.6.1 brings a more generalized reactive programming API, so it can be used with non-GUI objects too. LibRed is a library version of Red, so it can be included in any third-party code. It will also allow us to speed up compilation greatly, by avoiding to recompile the whole runtime library each time.

pekr

[09:50](#msg5770f6d7a0c12d110f958ad2)the same could be asked about the preference of Android release ... I belive Doc and the team has it thought out very well

maximvl

[09:50](#msg5770f701265214c1307505ed)@pekr ye, sure, I just want to use write some red code :P

dockimbel

[09:53](#msg5770f78e8441a8124d5d89a7)@maximvl It's not "more important" than I/O, it's only 150 LOCs, we highlight it in the release, as it's in interesting feature for a blog article, but we spent most of the time in the last month fixing tons of issues (GUI and non-GUI ones) and making some necessary improvements to the GUI console, which is our daily tool now.

[09:54](#msg5770f7bf8c9263ba3001a590)@pekr I explained that many times already...

maximvl

[09:55](#msg5770f82a265214c1307515ef)wait, GUI console?

[09:55](#msg5770f82d632b75030f7e263e)I haven't seen that

dockimbel

[09:56](#msg5770f830632b75030f7e2649)@maximvl I would be glad to give you full I/O support right now if it was doable in a few days.

[09:56](#msg5770f849265214c130751632)@maximvl Did you read the 0.6.0 release article?

maximvl

[09:57](#msg5770f8981ac8bd1a4d67d83c)I think I just checked images and code examples)

pekr

[09:58](#msg5770f8d397171715545da83a):-)

dockimbel

[09:58](#msg5770f8df97171715545da8d1)Man, why do I spend hours and hours composing text then... :) Maybe I'm too old, and I should rather just make releases on Instagram ;-)

maximvl

[10:00](#msg5770f93d8441a8124d5d9fed)ha-ha. no, I guess it's just me is too lazy to read everything properly, I'm more like `want to try it right now` person

Arie-vw

[10:17](#msg5770fd22265214c130754895)@dockimbel Thx. learning again :-)

DideC

[10:28](#msg5770ffd8a0c12d110f9618d1)I read the blog entries, so continue to write them ;-)

maximvl

[10:36](#msg577101afbb1de91c547d1790)did anybody get problem with missing libcurl on ubuntu?

pekr

[10:40](#msg577102a98441a8124d5e106c)@dockimbel - sorry to bother you with details, but - re About screen - I can see logo close to text, and also the hanoi tower is somehow distored - aligned to left, looks like F

[10:42](#msg577102fb1ac8bd1a4d685794)http://2zone.cz/pekr/red-about.jpg

WiseGenius

[10:46](#msg5771041286609e810f51d4e3)@qtxie Changing the font (via the `Options->Choose Font...` menu) fixed it, and since then I can't reproduce the error either. All the mono fonts seem to work.  
All I could think of was that `console-cfg.red` must have been corrupted by an earlier build of Red to make it use a non-mono font. However, I keep a copy of every build I've ever had, and I've just gone through and opened and closed every console since they started writing to that file (deleting the file each time beforehand) and yet they all set `font-name: "Fixedsys"` and they all work without exception. So it's a mystery I doubt I'll solve today or tomorrow. :disappointed: Oh well.

dockimbel

[11:08](#msg57710915a0c12d110f96b499)@pekr The position is wrong because of a bug on Win10 for image positionning (@qtxie is working on it). For the logo...it's meant to be an "F", it's the logo of our company!

maximvl

[11:44](#msg577111b8632b75030f7f7a96)wait, is GUI console available only for windows?

[11:45](#msg577111cb97171715545f16eb)this could be the reason I haven't tried it

feetdust

[12:29](#msg57711c3397171715545f942b)@dockimbel The "milestones" deck on \[Trello](https://trello.com/b/FlQ6pzdB/red-tasks-overview) has no mention of "Linux GUI Support" ?

dockimbel

[12:52](#msg57712176a0c12d110f97ffc3)@maximvl Only the Windows backend is ready for now.

[12:52](#msg577121a51ac8bd1a4d6a21e9)@jitendranair We are not sure when to schedule the Linux support (GTK), though it should come shortly after the MacOSX one, maybe in 0.7.1.

maximvl

[13:09](#msg5771259d1ac8bd1a4d6a6fc4)why don't you like linux so much?)

DideC

[13:35](#msg57712b85971717155460a491)I see some artifacts in Gregg's hanoi demo : some disks are not fully drawn on the left post during some turns.

[13:35](#msg57712b96265214c130780ad9)!\[bug hannoi](https://s32.postimg.org/607n84pyd/bug\_hanoi.gif)

[13:38](#msg57712c39a0c12d110f98c441)It's related to the "Close" button. When I remove it, there is no more artifact.

[13:46](#msg57712e41632b75030f818d34)If you change the VID code for the buttons by this one :

```
button "go" 150x30 [start num-disks]
	pad 100x0
	button "close" 100x30 [quit]
```

You see another artifact on the second post.

maximvl

[13:47](#msg57712e54632b75030f818ffe)

```
>parse d [thru <title> copy text to </title>]
*** Script error: PARSE - invalid rule or usage of rule: unset
*** Where: parse
```

parse seems to have some problems too

greggirwin

[13:56](#msg577130a48441a8124d60e976)@DideC I don't see any artifacts here, but I do want to move the buttons a bit.

[13:57](#msg577130dc971717155460f9af)@maximvl we don't have tag! in Red yet, but I get an error related to that, not `unset` here. What does `d` refer to?

DideC

[14:06](#msg577132cca0c12d110f993f2b)@greggirwin could be related to graphic driver maybe. Just want to know if others see it.

greggirwin

[14:07](#msg5771332a265214c13078a137)Very possibly. My card is a low performance workstation card for multi monitors. Not fast, but very stable.

Zamlox

[14:07](#msg577133388c9263ba300528e3)@DideC I can see it too on Win7. Moving mouse cursor from outside window to inside, corrects the artefact.

greggirwin

[14:09](#msg57713383632b75030f81f9a4)Aha! Maybe related to the event processing issue. Try increasing the loop counter in `process-events` and see if that helps.

Zamlox

[14:10](#msg577133ce1ac8bd1a4d6b9735)It might be that correcting operation is only a coincidence. I will try to increase loop counter.

dockimbel

[14:13](#msg57713487fd5f24f519be9f16)@maximvl Tag! type is not there yet, this version works:

```
parse d [thru "<title>" copy text to "</title>"]
```

Zamlox

[14:14](#msg577134b41ac8bd1a4d6bb3ba)@greggirwin for me increasing loop counter solves the artifact (increased to 5). But I have noticed that sometimes disks do not move smoothly during animation

dockimbel

[14:17](#msg5771355d86609e810f51e167)@maximvl  
&gt; why don't you like linux so much?)

Do you think it would be logical to give higher priority to a platform that has only 1.8% marketshare, compared to others which have many times more (both among users and developers), like Android and MacOS X?

greggirwin

[14:20](#msg577136178c9263ba300564d1)I uploaded https://github.com/greggirwin/red-demo-gifs/blob/master/analog-clock.gif but I don't see anything in the clock face in the gif. This was captured using LiceCap. The clock renders correctly and looks fine inside the LiceCap frame while recording. Any ideas? Endo?

[14:20](#msg577136499717171554615fe4)Why would that show my profile pic? :^\\

[14:32](#msg57713917a0c12d110f99b142)Other demos seem to have captured fine. https://github.com/greggirwin/red-demo-gifs

ghost~5680c5f416b6c7089cc058a5

[14:36](#msg577139d2632b75030f8286f5)Is the animations in the gif's laggy or is it because I am on mobile?

greggirwin

[14:37](#msg57713a2fa0c12d110f99c40b)I don't know. They are GIFs, and the default is 8 FPS, if that's what you're seeing. I haven't asked Doc about what params we want to use.

ghost~5680c5f416b6c7089cc058a5

[14:39](#msg57713aac8c9263ba3005a7aa)If I am not wrong, the FPS should be configurable before recording the demos.

[14:40](#msg57713acabb1de91c5480d535)And as for the clock demo, i thought that LiceCap was pretty stable...

[14:40](#msg57713ad7a0c12d110f99cf02)So idk why that issue occured.

[14:40](#msg57713af8265214c1307924da)You can try ScreenToGif, though be ready for lots of randomly occuring nasty issues.

greggirwin

[14:46](#msg57713c2ea0c12d110f99e468)It is. I've done some higher FPS. Really strange on the clock. I have done it a number of times. If I move the mouse over the clock, the cursor is captured but the clock is not.

[14:46](#msg57713c4b265214c130793bd4)Hard to get timing right for some with LiceCap too, if we want them to look professional.

ghost~5680c5f416b6c7089cc058a5

[14:53](#msg57713dda1ac8bd1a4d6c6f6f)There are many other alternative screen recorders -

[14:53](#msg57713df7265214c130795aa3)(never used them, so dunno if they even work or not)

[14:53](#msg57713dfa265214c130795aee)recordit.co

[14:54](#msg57713e0f8c9263ba3005dc85)\** http://recordit.co

[14:54](#msg57713e27265214c13079628d)http://blog.bahraniapps.com/gifcam/

greggirwin

[14:54](#msg57713e2f8441a8124d61e931)Yes, but I don't really have time to install and test a bunch. GiffingTool is next on my list.

ghost~5680c5f416b6c7089cc058a5

[14:54](#msg57713e3c8c9263ba3005e3f5)😂😂😂

[14:54](#msg57713e408441a8124d61e988)Yeah right

[14:55](#msg57713e4c632b75030f82d26a)I will try my luck tomorrow morning.

greggirwin

[14:56](#msg57713e80632b75030f82d686)Thanks.

ghost~5680c5f416b6c7089cc058a5

[14:56](#msg57713e98265214c130796b92)You are welcome :smile:

greggirwin

[14:59](#msg57713f4f632b75030f82e2cc)If GiffingTool works well, I'm happy to pay to save time and effort.

maximvl

[15:24](#msg57714532bb1de91c54818daf)@greggirwin d was a string with html there

[15:25](#msg577145738c9263ba30065e32)@dockimbel &gt;platform that has only 1.8% marketshare  
depends on the market, I suppose that programming language's market is a bit different

greggirwin

[15:27](#msg577145d59717171554628417)This is what I get here Maxim:

```
red>> d: "blah <title> my page </title> blah "
== "blah <title> my page </title> blah "
red>> parse d [thru <title> copy text to </title>]
*** Script Error: PARSE - invalid rule or usage of rule: <title>
*** Where: parse
```

Are you on 0.6.0?

[15:33](#msg57714748632b75030f839558)Re Linux, asking why he doesn't like it implies that he is intentionally not supporting it. That's not the case. Where Linux is big is not in GUIs, is it? It's more important on servers where GUIs are not used as much.

maximvl

[16:04](#msg57714e718441a8124d63450f)@greggirwin hm, try that:

```
red>> d: read http://linux.org.ru
red>> parse d [thru <title> copy text to </title>]
```

greggirwin

[16:05](#msg57714ed7bb1de91c54824685)

```
red>> d: read http://linux.org.ru
== {<!DOCTYPE html>^/<html lang=ru>^/<head>^/<link href='http://fonts.googleapis.com/css?family=Droid+Sans+Mono|Open+Sans:600&subset=latin,cyrillic' rel='stylesheet' 
red>> length? d
== 45885
red>> parse d [thru <title> copy text to </title>]
*** Script Error: PARSE - invalid rule or usage of rule: <title>
*** Where: parse
```

maximvl

[16:06](#msg57714f07bb1de91c54824baf)well

[16:06](#msg57714f091ac8bd1a4d6da40d)red&gt;&gt; system/version  
\== "0.6.0"

[16:06](#msg57714f22a0c12d110f9b2b65)it's from binary from site, not latest git version

greggirwin

[16:07](#msg57714f571ac8bd1a4d6dace4)Ah, that explains the difference. I can dupe that here.

maximvl

[16:09](#msg57714fc8632b75030f844713)anyway, no tags, I got it =)

dockimbel

[16:50](#msg57715972f77c0b5366ea5e7c)@maximvl Here's the breakdown by OS used by visitors on red-lang.org: 53% Windows, 17% MacOSX, 11% Linux, 19% mobile OSes. Linux will be the last served for the GUI, because our resources are limited, and we need to define priorities. My personal preferences are irrevelant there. Though the good news is that the work on MacOSX GUI and GTK is far simpler and faster than the Windows support. ;-)

greggirwin

[21:37](#msg57719c9dbb1de91c54872122)The code isn't all cleaned up, and it isn't feature complete, but this is the demo that started it all for me, so long ago.

https://gist.github.com/greggirwin/c03daa544de2092284a618a899266a23

Thanks Doc.

## Tuesday 28th June, 2016

ghost~5680c5f416b6c7089cc058a5

[03:20](#msg5771ed0197171715546c4796)@greggirwin Is this the code to your analog-clock demo?https://github.com/red/code/blob/v0.6.1/Scripts/analog-clock.red

[03:20](#msg5771ed1abb1de91c548af453)I created a gif of that analog-clock demo using \_\_LiceCap\_\_, and it renders correctly for me.

[03:21](#msg5771ed3c265214c13082f4cc)\[!\[analog-clock.gif](https://files.gitter.im/red/red/D9aX/thumb/analog-clock.gif)](https://files.gitter.im/red/red/D9aX/analog-clock.gif)

[03:25](#msg5771ee2a97171715546c5eb3)I recorded only a tiny demo. Didn't know how long I should record it.  
@dockimbel https://github.com/red/code/blob/v0.6.1/Scripts/clock.red does not run (neither interpreted, nor compiled)

```
λ red --cli clock.red
*** Script Error: VIEW - face not linked to a window
*** Where: do
*** Script Error: cannot access none in path none
*** Where: set
```

I am on latest Red master binary.

[03:26](#msg5771ee648c9263ba300fed96)

dockimbel

[04:41](#msg5771fff9959100c762f0c2a2)@nc-x Does it work without the `--cli` option?

[04:46](#msg577201372fd8c5da2852e1fc)@greggirwin Thank you very much for porting my vintage vector-balls demo! I wanted to do it myself a few days ago, but lacked the spare time. It was my first Rebol/View app, at a time when Rebol ecosystem was so vivid and exciting. I hope we're bringing back those great feelings with Red nowadays. ;-)

greggirwin

[04:49](#msg577201f2bb1de91c548bda7f)Thanks nc-x. Don't know why it wouldn't capture here. If someone knows good guidelines for capture size and length for GIFs, suggestions are welcome.

Doc, I hoped you weren't quietly working on it. I wanted to surprise you. You may guess that I'm pretty excited about Red. And you'd be right. :^)

[05:27](#msg57720aa4bb1de91c548c3ad3)@dockimbel the reactor docs are looking very good. Very exciting! Though it will take some good examples to show it off. The terminology is clearer than some other reactive stuff I've read, though I still have to stop and try to picture the connections in my head. The graphics you created for the View event system helped me a lot for that reason.

dockimbel

[05:37](#msg57720d1015dcfbb65473d7a9)@greggirwin The reactive doc is a reference documentation, so it's a bit formal. I've just updated it with more content and examples. It still misses a couple of graphics I have in mind to set properly the mental picture for the reader. But basically, if you understand Excel's formulas, you understand the reactive programming in Red, the rest is just syntax. ;-)

greggirwin

[05:37](#msg57720d298c9263ba30112b7e):^)

[05:38](#msg57720d3bbb1de91c548c5c23)You might guess what demo I want to do next.

dockimbel

[05:38](#msg57720d4715dcfbb65473d7ae)I will make a more user-friendly presentation in the blog article for the release.

[05:38](#msg57720d5f2fd8c5da2852e63f)@greggirwin I already did it and I plan to make a new blog article about it after the release. ;-) Though, my version is also serving other purposes, so porting your Rebol version is still fine, as the approach I've taken is very extreme. ;-)

greggirwin

[05:39](#msg57720d891ac8bd1a4d780e6a)Shoot! What am I going to do now? ;^)

[05:40](#msg57720dcb8c9263ba30113e44)Is there an emoji for \*ANXIOUS!* ?

dockimbel

[05:41](#msg57720df92fd8c5da2852e644)Maybe: :scream: ;)

ghost~5680c5f416b6c7089cc058a5

[05:41](#msg57720dfc8c9263ba30114155)@dockimbel No, it doesn't work even without `--cli`

greggirwin

[05:41](#msg57720e028c9263ba30114167)&lt;tap tap tap&gt; This is me being patient.

ghost~5680c5f416b6c7089cc058a5

[05:42](#msg57720e28632b75030f8e9809)Will the release blog article will be accompanied by examples of parsing binary files?

dockimbel

[05:42](#msg57720e5b959100c762f0c654)@nc-x Thanks. I can reproduce it. I will retest all the scripts from red/code anyway before the release.

greggirwin

[05:43](#msg57720e731ac8bd1a4d781d28)I \*suppose* I could work on `format` again. ;^)

ghost~5680c5f416b6c7089cc058a5

[05:43](#msg57720e868c9263ba30114aa2)Okay @dockimbel :smile:

dockimbel

[05:43](#msg57720e87959100c762f0c945)@nc-x I haven't planned such examples, though if you or anyone else want to write a nice one, I would be very glad to include it in the blog article.

[05:43](#msg57720e982fd8c5da2852e649)@greggirwin That would be \*great\*!

ghost~5680c5f416b6c7089cc058a5

[05:44](#msg57720eb68c9263ba30114d8f)If only I knew how to parse binary files, i wouldn't be asking for examples :smile:

greggirwin

[05:44](#msg57720eb71ac8bd1a4d78209f)I got distracted by all the fun stuff I could do with GUIs.

[05:44](#msg57720ed5265214c130845ba1)What kind of binary files @nc-x?

dockimbel

[05:44](#msg57720ed815dcfbb65473d80e)@nc-x Maybe @greggirwin could come up with a simple but good example?

[05:45](#msg57720ef415dcfbb65473db85)Maybe extracting meta-data from some common image format would do (as long as the source code is, let say, less than 30 LOC).

greggirwin

[05:45](#msg57720f1597171715546dbd0d)Oh sure, something small and easy like that. ;^)

ghost~5680c5f416b6c7089cc058a5

[05:46](#msg57720f1e1ac8bd1a4d782153)Yup. Anything would do. :wink:

greggirwin

[05:46](#msg57720f46a0c12d110fa530d4)What do you \*need* an example of? i.e., what would be useful?

ghost~5680c5f416b6c7089cc058a5

[05:48](#msg57720faaa0c12d110fa536ba)I just want to learn `Parse` for parsing binary files. So \_\_any\__ small example to get started would be useful for me as well as for others.

greggirwin

[05:49](#msg57720fe81ac8bd1a4d782710)Let me ask this way. What formats are you interested in parsing? Though Doc's idea is good.

pekr

[05:52](#msg5772108297171715546dd2d6)@dockimbel will `transform`be added to draw in some of next versions? Looking into some other demos, it is often used, e.g. Tiger demo, etc.

[05:53](#msg577210d2265214c130847ec0)So far, though, the results are very impressive. I thought, that Red GUI will be mostly about the boring form apps and did not expect, we can have such demos without AGG, as my trust into Win32 API capabilites was really low ...

[05:55](#msg57721135bb1de91c548c98df)As for parsing binary files - maybe a gif anims?

greggirwin

[05:57](#msg577211d88c9263ba30116b3b)I haven an idea for one. Will think on it a bit.

ghost~5680c5f416b6c7089cc058a5

[05:58](#msg577212101ac8bd1a4d783d10)Well, I don't have any ideas right now. I just want to play with Parse :smile:

[05:59](#msg5772122a8441a8124d6d9f6c)Though someday I hope to see extensive docs, something like -

[05:59](#msg57721233a0c12d110fa55527)https://github.com/dmendel/bindata/wiki

pekr

[06:05](#msg577213a8a0c12d110fa5701a)Just wanted to point out some typo in the docs ... I tried to create my first PR using the github web interface, so bear with me, if I did something wrong :-)

Phryxe

[06:09](#msg577214aebb1de91c548cc454) @greggirwin How about bouncing balls with gravitation and collision detection? You could also add mouse-click to bounce 'em higher ... :smile:

greggirwin

[06:10](#msg577214db8441a8124d6dc73d)Go for it! I'd love to see that. ;^)

[06:11](#msg577214fb1ac8bd1a4d78666c)Where's Cyphre when we need him Pekr?

ghost~5680c5f416b6c7089cc058a5

[06:12](#msg5772154b8c9263ba3011949d)@greggirwin Well, a small example could be to convert the code in this article to Red's parse -

[06:12](#msg5772154ea0c12d110fa584b9)http://www.zachtronics.com/yoda-stories/

greggirwin

[06:14](#msg577215e2bb1de91c548cd732)I'm going to tinker on some things, but have a busy week. I like the bindata idea @nc-x.

ghost~5680c5f416b6c7089cc058a5

[06:15](#msg577215febb1de91c548cd74c)Okay

pekr

[06:32](#msg577219e71ac8bd1a4d78a0ad)@greggirwin Not sure about Cyphre. A year ago, he was supposed to be more available at the end of the year. Another 6 months passed, and still nothing - you know how those things go. As for Cyphre, @rebolek and @Oldes might be more informed, as they are all from/around the Brno. Last I've heard is, that Cyphre is working few bits for Reichart (maybe you remember the investment or so website Reichart announced on AltME)

[06:34](#msg57721a621ac8bd1a4d78ac5f)The same way I miss Andreas (Earl). He was present in Brno, visited the Red devcon, but then disappeared almost completly, although he had some concrete R3 plans back then. Pity we can't have ppl like Earl, Cyphre, BrianH here anymore. Well, we need new experts for Red :-)

greggirwin

[06:41](#msg57721c10632b75030f8f7da5)@pekr :^)

[06:47](#msg57721d75632b75030f8f94c3)For binary parsing to be useful, we'll probably want `to integer!` to work on `binary!` values.

[06:50](#msg57721e518c9263ba3012225f)Can probably work around it, but late here so not sure if my idea is any good.

endo64

[06:55](#msg57721f718441a8124d6e57b9):point\_up: \[June 27, 2016 5:20 PM](https://gitter.im/red/red?at=577136178c9263ba300564d1)

@greggirwin Your GIF works fine for me, I see a normal animated clock. What was the problem for you?

ghost~5680c5f416b6c7089cc058a5

[06:58](#msg577220218441a8124d6e5bef)@endo64 This is the new gif which was recorded by me.

[06:59](#msg5772203c1ac8bd1a4d78f65b)The earlier one, recorder by @greggirwin didn't display any clock.

[06:59](#msg57722069632b75030f8fb7bb)Have a look here -&gt;

[06:59](#msg5772206c8c9263ba30124034)https://github.com/greggirwin/red-demo-gifs/blob/0a22bb9848e1adbd993ab81329900d051e0f308e/analog-clock.gif

pekr

[07:05](#msg577221c2a0c12d110fa6362f)Hi Gregg, keep smiling :-)

rebolek

[07:09](#msg577222b12fd8c5da2852f851):)

endo64

[07:12](#msg5772234a265214c1308567d5)@nc-x I see an empty window on your GIF, but the previous one was fine (gregg's version)

[07:13](#msg577223a5632b75030f8fd366)\[!\[blob](https://files.gitter.im/red/red/Ekli/thumb/blob.png)](https://files.gitter.im/red/red/Ekli/blob)

[07:13](#msg577223a88c9263ba30125e0f)When I try to open the GIF file you uploaded with XnView I got an error

[07:14](#msg577223ea265214c130857127)Ah, my fault. It is an HTML file. Forget about my last post.

[07:15](#msg57722417bb1de91c548d8e0d)There is no frames in it. Just one image.

ghost~5680c5f416b6c7089cc058a5

[07:28](#msg5772271d265214c130859bb6)Actually @endo64 , the link I posted is the Gif by @greggirwin .

[07:29](#msg57722756a0c12d110fa68217)And the link which @greggirwin had posted earlier, now points to my Gif (since the link is of master branch).

gunnarahlberg

[08:08](#msg57723075bb1de91c548e1c01)@dockimbel regarding haskell tool - yes there is a haskell implementation of quick check that is considered state of the art by most. Many other implementation exist  
The problem I want to solve is fuzz testing - to set up a test bench were I define the properties of the system under test and let a machine try combinations of input. When one fails, quick check will minimize to the smallest set of input that generate the error  
Let's talk more about this!

maximvl

[08:14](#msg577231ed97171715546f9383)@dockimbel I see, but Linux GUI isn't even in milestones, does it mean it will be implemented after 1.0?

dander

[08:17](#msg57723294632b75030f90a83c)I'm playing around with the reactive stuff based on the Reactivity doc, and it's really nice, and easy to follow. I did slow down a bit in the API/react part, but probably just because it's a lot of concepts all together.  
One thing that I think is worth noting is that I was able to get an access violation by trying to set up a deep reaction when just using `reactor!`. Once I got to the bottom of the doc, and changed it to use `deep-reactor!` it just worked though!  
Is that something that would warrant a bug report?

[08:22](#msg577233c7632b75030f90b723)sorry, forgot to mention this is with build `28-Jun-2016/0:33:06-7:00`

DideC

[09:25](#msg577242849717171554705743)Trying reactive programming, I shoot me in the foot on my first try :-(  
I used the example in "Dynamic relations", but change the `follow` func to this one :

```
follow: func [left right][left/offset: left/offset + right/offset / 2]
```

[09:28](#msg5772433a8c9263ba30142af9)And it did not work as expecting, but goes in infinite loop!  
If that is not possible (it seems it is not, and I understand why), then the doc must advise this.

dockimbel

[09:43](#msg577246d2265214c1308718f5)@DideC I can reproduce the issue, will look into it.

[09:44](#msg577247089717171554708aae)@dander Yes, you can open a ticket about it.

[09:47](#msg577247b89717171554709846)@gunnarahlberg Sounds like a job for a DSL where expressions can be statically analyzed. I'm currently very busy with making the new Red release, so can't go deeper into such discussion now, though feel free to post about it here, some others like @PeterWAWood would probably be happy to jump in.

[09:50](#msg57724855bb1de91c548f4d82)@maximvl It should come shortly after MacOSX support hopefully, though at this point, it would be too speculative to schedule it in any release. In a couple of months, we should have a better visibility on our roadmap for the rest of year, so we should be then able to plan it properly.

[09:51](#msg577248b89717171554709ee2)Tip: I have to SHIFT-reload to see the changes on Gitbook with Chrome, as it seems to be caching content aggressively.

ghost~5680c5f416b6c7089cc058a5

[10:18](#msg57724f0ba0c12d110fa8c061)@dockimbel @PeterWAWood These pages still refer to the gitbook link, instead they should now link to http://doc.red-lang.org

[10:19](#msg57724f208441a8124d70c411)1) http://www.red-lang.org/p/getting-started.html

[10:19](#msg57724f36bb1de91c548fb07e)2) http://www.red-lang.org/p/documentation.html

[10:25](#msg577250a78441a8124d70de87)Also, in

[10:25](#msg577250ac1ac8bd1a4d7b89ce)http://doc.red-lang.org/reactivity.html

[10:26](#msg577250c7a0c12d110fa8dcd3)'which purpose' -&gt; 'whose purpose'

[10:26](#msg577250f0632b75030f9230e0)(It is in the first sentence under Concepts)

dockimbel

[10:45](#msg577255478c9263ba30154270)@DideC Your code should work now.

[10:45](#msg577255549717171554715cac)@nc-x Thanks, will do the fixes.

pekr

[11:16](#msg57725c818c9263ba3015ad76)I know it is late for this release and just a detail. In future releases, I would consider moving About into the right-most section, it is usually called Help/About, or directly About in the top menu. Just my opinion ...

gunnarahlberg

[11:20](#msg57725d87bb1de91c54906fe1)@dockimbel thank you for your time and input. I'll pick up on that later

[11:22](#msg57725dd88c9263ba3015bdb8)http://doc.red-lang.org/reactivity.html has some -ing ends; maybe consider change to active form? "Resulting value" vs "result value" etc

dockimbel

[11:27](#msg57725f2e971717155471d2c7)@gunnarahlberg Not native english speaker here, so grammar improvements are very welcome. Usually, @PeterWAWood or @greggirwin are taking care of it.

[11:28](#msg57725f64971717155471d33b)@gunnarahlberg Feel free to submit pull requests for fixing typos/grammar.

Arie-vw

[12:13](#msg577269eb632b75030f9365a7)Current behavior of split using a multi character string should have a /only refinement. Standard behavior should become splitting on any of the characters in the string.

```
red>> ;  Current behavior of split
red>> s: "abcdefg,hi,;jkl;mno"
== "abcdefg,hi,;jkl;mno"
red>> ; case 1 split on comma
red>> split s ","
== ["abcdefg" "hi" ";jkl;mno"]
red>> ; case 2 split on semi colon
red>> split s ";"
== ["abcdefg,hi," "jkl" "mno"]
red>> ; case 3 split on comma or semi colon
red>> split s ",;"
== ["abcdefg,hi" "jkl;mno"]
red>> ; Desired behavior
red>> ; case 1 split on comma works OK already
red>> ; case 2 split on semi colon works OK already
red>> ; case 3 split on comma or semi colon should be
red>> ; split s ",;"
red>> ; == ["abcdefg" "hi" "" "jkl" "mno"]
red>> ;
red>> ; Also case 3 for current behavior should be kept
red>> ; but using a refinement e.g. /only
```

dockimbel

[12:22](#msg57726bf41ac8bd1a4d7d1036)@Arie-vw

```
red>> split s charset ",;"
== ["abcdefg" "hi" "" "jkl" "mno"]
```

Arie-vw

[12:23](#msg57726c2abb1de91c54912c3c)Changed in 6.1 branch?

[12:23](#msg57726c37632b75030f93939d)Was using 6.0 branch.

dockimbel

[12:24](#msg57726c748441a8124d72696b)@Arie-vw 0.6.1 is `master` branch, there's no 0.6.0 branch, just a v0.6.0 tagged commit.

Arie-vw

[12:25](#msg57726cb5265214c130892b09)OK. Not acquainted with Git (yet).

endo64

[12:57](#msg577274291ac8bd1a4d7d8b17)Current behavior of `split` is very useful.

pekr

[13:14](#msg5772782ba0c12d110fab6406)I am with Arie here - I would not know, how to solve it and `charset` would not come to my mind. You can say - it is my lack of Red knowledge. I would welcome `/only` or `/any`refinement for such case. But at least I know, how to use it with charset ...

[13:15](#msg577278698c9263ba30175027)Now looking forward to the 0.6.1 release and new blog arcticle though :-)

greggirwin

[14:46](#msg57728dd3bb1de91c549354a3):point\_up: \[June 28, 2016 1:05 AM](https://gitter.im/red/red?at=577221c2a0c12d110fa6362f) I smile because I have Red. :^)

[14:48](#msg57728e26971717155474e71c):point\_up: \[June 28, 2016 1:28 AM](https://gitter.im/red/red?at=5772271d265214c130859bb6) Yes, WRT the clock GIF, I pulled the one from @nc-x and noted it was his.

[14:49](#msg57728e91971717155474ef42):point\_up: \[June 28, 2016 2:08 AM](https://gitter.im/red/red?at=57723075bb1de91c548e1c01) I'd be interested in listening in on that conversation, and Peter Wood might as well. Peter wrote the quick-test system used in Red today, and I've written various little test engines in the past as well.

[14:52](#msg57728f41632b75030f961f70):point\_up: \[June 28, 2016 5:27 AM](https://gitter.im/red/red?at=57725f2e971717155471d2c7) Yes, I was going to do some of that. There is some wordsmithing we can do, but nothing was so urgent that I felt it needed to distract Doc during the release. Thanks all for pointing things out though!

[15:06](#msg5772927d632b75030f96632b)The new reactivity graphics are \*great* Doc!

dockimbel

[15:08](#msg577292fa15dcfbb654741d49)@greggirwin Thanks, hope they are helpful. ;-)

greggirwin

[15:08](#msg577293078441a8124d751da9)Very much. Wordsmithing now.

gunnarahlberg

[16:50](#msg5772aae3bb1de91c549567d9)@dockimbel cool I'll have a PROS layer

[17:22](#msg5772b26ca0c12d110fafb5e5)Ouch autocorrect 😀

DideC

[22:13](#msg5772f6811ac8bd1a4d85ec4a)Thanks @dockimbel to have fixed reactor!. Now, I can do that:

```
win: layout [
    size 400x500
    across
    style ball: base 30x30 0.0.0.255 draw [fill-pen blue circle 15x15 14]
    ball ball ball ball ball ball ball ball  b: ball loose
    do [b/draw/2: red]
]

follow: func [left right /local o][all [pair? o: left/extra left/offset: left/offset + o / 2] left/extra: right/offset]

faces: win/pane
while [not tail? next faces][
    react/link :follow [faces/1 faces/2]
    faces: next faces
]
view win
```

[22:14](#msg5772f6aba0c12d110fb3e1d6)Move the red ball ;-)

[22:15](#msg5772f70e8441a8124d7bb252)Q: how do you handle "circular reference" (like in reactivity doc, graph D) ?

[22:26](#msg5772f97d97171715547c0de3)If I add many "ball" in the previous code, I get some

```
*** Internal Error: stack overflow
*** Where: all
*** Near: [func  [left right /local o] [all [pair? o: left/extra left/offset: left/offset + o / 2] left/extra: right/offset] make object! [...
```

[22:32](#msg5772faec8c9263ba3020199d)The error appeared with 26 blue balls. 25 is OK.

greggirwin

[23:47](#msg57730c7ba0c12d110fb51ccb)Limit or not, that's pretty darn fun to drag around!

[23:48](#msg57730cbf97171715547cdf0f)Same limit here BTW.

## Wednesday 29th June, 2016

dockimbel

[02:46](#msg57733694fd8a28fd3d37d8b0)@DideC I can reproduce the issue, will see if it's fixable before the release.

[03:12](#msg57733c990898e10d2395642a)It's indeed the Red stack limit reached from recursive calls used in the reactive engine. Can't fix it today, will look for a way to remove or limit the recursions after the release.

[03:12](#msg57733cb6bff9f48f6a75a025)@DideC About your question, do you mean how does the engine handle it, or how does the user build it?

gunnarahlberg

[11:35](#msg5773b280a0c12d110fbde11f)How do I make a pull request for the documentation?

pekr

[11:37](#msg5773b2f9632b75030fa6cecb)You have to fork the documentation first. Then do some edits, then there's a button to create a PR.

[11:37](#msg5773b30d1ac8bd1a4d8f62eb)I did my first commit to docs few days ago :-)

DideC

[11:41](#msg5773b3f19717171554854c40)@dockimbel How does the engine handle it ?

dockimbel

[11:42](#msg5773b4298441a8124d8539e3)@DideC Reactions are pushed on a stack just before they are evaluated, so the engine can detect cycles in chained reactions and break them before they loop. So, it can update all the nodes in "graph D" without looping, regardless of which node triggers the change.

DideC

[11:56](#msg5773b780632b75030fa6f69c)Nice

dockimbel

[11:58](#msg5773b7cf8c9263ba302958e2)@DideC I still need to get rid of the Red evaluation stack dependency, so you can have hundreds of chained objects in your reactive demo. I'll work on that for the 0.6.2 release.

DideC

[12:18](#msg5773bc8a1ac8bd1a4d8fdb2f)Good.

gunnarahlberg

[12:35](#msg5773c095265214c1309cc2e4)@pekr cool! I guess I should ask for the git url to clone

[12:36](#msg5773c0eb971717155485ddff)I'm not new to git. Just unsure what to clone

Rebol2Red

[13:10](#msg5773c8cc8441a8124d864857)Is this a bug? t: "first second" f: to-block t probe f

[13:10](#msg5773c8cdbb1de91c54a4fc76)gives \*\** Script Error: TO cannot convert block! from: first (ctrl-alt-m for markup code does not work)

PeterWAWood

[13:12](#msg5773c92a265214c1309d484a)@Rebol2Red No, it isn't a bug. The

```
to
```

function has not yet been fully implemented.

Rebol2Red

[13:12](#msg5773c93c97171715548660a7)is there a way to do this?

[13:12](#msg5773c9571ac8bd1a4d90a938)rebol2 gives \["first" "second"]

[13:15](#msg5773c9e0a0c12d110fbf60f0)I need to convert texts to a block

PeterWAWood

[13:15](#msg5773c9f38c9263ba302a46bf)

```
red>> split "first second" " "
== ["first" "second"]
```

Rebol2Red

[13:16](#msg5773ca11a0c12d110fbf63d2)I try this, just a moment...

[13:17](#msg5773ca548c9263ba302a5018)Yes!!! Many thanks

[13:17](#msg5773ca7a8441a8124d866140)Back to programming

endo64

[13:35](#msg5773ce9f632b75030fa83dfb)Or

```
red>>  load "one two"
== [one two]
```

Rebol2Red

[13:36](#msg5773cec98441a8124d86b31f)Is the last one better and maybe you can tell me why?

endo64

[13:36](#msg5773cee6a0c12d110fbfb428)"rebol2 gives \["first" "second"]"  
R2 gives `[first second]` (word! not string!)

Rebol2Red

[13:38](#msg5773cf6bbb1de91c54a5634b)You are right, maybe i saw what i wanted to see :)

[13:39](#msg5773cf998441a8124d86ce35)I will use split, this was what i wanted to do

[14:00](#msg5773d486a0c12d110fc0258c)What about this: write/lines %test.txt \["first" "second"]  
\*\** Script Error: write does not allow block! for its data argument

[14:04](#msg5773d58a1ac8bd1a4d9181b7)This certainly works in rebol2

endo64

[14:13](#msg5773d78c8c9263ba302b2f44)`write/lines` is not implemented yet I guess.

[14:14](#msg5773d7d98c9263ba302b33bf)a quick solution,

```
red>> merge: function [b [block!]] [s: copy "" foreach v b [append s append form v newline] s]
red>> write %file.txt merge ["one" "two"]
```

Rebol2Red

[14:24](#msg5773da358c9263ba302b69d1)This works! Thanks.

dander

[16:01](#msg5773f0e697171715548926b4)@gunnarahlberg the docs are at https://github.com/red/docs look for the "fork" button if you want to clone it to your github account (the suggested way) or you can find the "clone or download" button to pull them down from that depot directly

Beastinlosers

[21:44](#msg5774412c8c9263ba30320c64)Is red fit for programming yet?

greggirwin

[21:47](#msg5774420dbb1de91c54ac8326)Absolutely. It's still missing things like GC, so you can't write long running processes that continually allocate series and such, but there is a lot you can do, even if some of the pieces aren't there.

Beastinlosers

[23:30](#msg57745a24632b75030fb1267c)@greggirwin Thanks! I'll follow the development

[23:31](#msg57745a35bb1de91c54adae63)What language yall writing red in?

dander

[23:45](#msg57745d9c8c9263ba30337f23)Red is currently built in REBOL (the main influence of Red). Following 1.0 release, it will be ported to Red, which should be eased by the similarity between the two

## Thursday 30th June, 2016

PeterWAWood

[00:02](#msg5774619c97171715548f7fb0)Actually, the Red compiler is written in Rebol. The Red runtime (and interpreter) is written in the Red/System dialect. I don't have a lines of code count but the compiler is around 130KB in length and the runtime is about 1.2MB. So the runtime is approximately 10 times bigger than the compiler.

Beastinlosers

[00:13](#msg57746431265214c130a67ecc)What was the purpose of switching from rebol to red

dander

[00:20](#msg577465c28441a8124d8fc9be)@PeterWAWood my mistake...  
@Beastinlosers have you perused http://www.red-lang.org/p/about.html ? I think that page makes for a good introduction.

Beastinlosers

[00:28](#msg5774679aa0c12d110fc9042f)How fast is the development going?

[00:28](#msg577467a38c9263ba303407cb)How is the development going?*

PeterWAWood

[00:35](#msg5774693e8c9263ba30341c77)@Beastinlosers The purpose of the future re-write of the compiler in Red rather than Rebol will be to take advantage of the features of Red that will allow Red's capabilities to be expanded beyond what can be achieved with Rebol. Have you watched the video or read the slides on \[Red's About page](http://www.red-lang.org/p/about.html)?

Beastinlosers

[00:37](#msg577469b0632b75030fb1e4c6)@PeterWAWood Was just looking though it

[00:38](#msg577469ec265214c130a6c792)Is development going by fast?

PeterWAWood

[00:39](#msg57746a3c8441a8124d9000de)As with any project, the speed of development of Red has to be balanced against the quality. It is hard to get that balance correct.

In comparison with other Rebol-like languages the speed of development is super-sonic. Given the size of the team, it is even faster.

Beastinlosers

[00:40](#msg57746a67265214c130a6cd7d)How come rebol didn't go completely open-source

PeterWAWood

[00:41](#msg57746ab2265214c130a6d2c9)Nobody here can answer that. Only Carl Sassenrath can answer that question. Anybody else's answer will be their opinion.

Beastinlosers

[00:42](#msg57746ae61ac8bd1a4d9a5149)@PeterWAWood And your opinion is?

PeterWAWood

[00:42](#msg57746af3265214c130a6d5ad)I don't have one.

Beastinlosers

[00:45](#msg57746bb0a0c12d110fc93578)I think yall should add how you are different from GoLang on your website. Yall are both young languages with lots of development going on,

[00:47](#msg57746c24632b75030fb1fc34)I like this language. I look forward to following your development

JenniferLee520

[01:53](#msg57747b7fbb1de91c54af541a)Congratulations on the 0.6.1 release.

ghost~5680c5f416b6c7089cc058a5

[03:31](#msg577492a98441a8124d91cbe1)Congrats on the release Red Team...

dockimbel

[04:08](#msg57749b23365c901e3f67b0db)@JenniferLee520 @nc-x Thank you!

WiseGenius

[06:18](#msg5774b9bacd7efd771498439c)Yay! Congratulations.

[06:20](#msg5774ba10cd7efd77149843a0)Should the final result of this be `6`?

```
red>> a: make reactor! [x: 1 y: is [x + 1] z: is [y + 1]]
== make object! [
    x: 1
    y: 2
    z: 3
]
red>> a/x: 4
== 4
red>> a
== make object! [
    x: 4
    y: 5
    z: 3
]
red>> a/z
== 3
```

dockimbel

[06:30](#msg5774bc91cd7efd7714984420)@WiseGenius Indeed, looks like a bug. The `is` function has had very little manual testing, as I didn't use it in any real app for now. We have no unit tests so far for that new API, so looks like it's the right time to start writing some. ;-)

[06:35](#msg5774bdbd50501d830ba3df82)FYI, you can activate some reactive debug logs using: `system/reactivity/debug?: yes`

[06:36](#msg5774bdf9cd7efd7714984433)Looks like setting `y` in the first reaction does not trigger the `change` event in the object. Seems like `set`is not triggering object events in all cases.

[06:40](#msg5774bed28a12aa4d563e6e05)@WiseGenius Please open a ticket about it, I should fix it later today.

pekr

[07:05](#msg5774c4c38441a8124d9433e6)Just a typo, but "Particules demo" - should be "particles"?

dockimbel

[07:07](#msg5774c51fcd7efd7714984f0c)Fixed, thanks.

btiffin

[07:14](#msg5774c6da1ac8bd1a4d9e9b1f)Well done, Doc, and team. Exciting times, once again. I've been giving the old rah-rah siss-boom-bah on Red's behalf, on some COBOL forums. Nice.

x8x

[08:03](#msg5774d24e8c9263ba30392597)HA! when you think everything is in there in redbol world and you just wait for Red to get on par with Rebol.. Nenad, surprise you with all new dataflow and ownership apis!! Congratulation Red Team on another great milestone!! Cant' wait to see what other great features Red Team will concoct for the rest of us!

dockimbel

[08:28](#msg5774d8448c9263ba30397919)@btiffi Thanks! ;-) I haven't forgot that I still owe you some extra parse rules so you can implement a `load-any`as oneliner. Maybe next release.

[08:37](#msg5774da671ac8bd1a4d9f9af9)@nc-x I didn't have time to add some Parse on binary examples, sorry for that.

pekr

[08:40](#msg5774dae9265214c130ac6388)@dockimbel - is recent Matrix Draw commit to allow Transform in Draw? That would allow to port some other demos ...

dockimbel

[08:41](#msg5774db1ca0c12d110fcece86)@pekr Yes: rotate, scale, translate, skew, transform, push, pop, matrix, reset-matrix, invert-matrix.

pekr

[08:41](#msg5774db2b265214c130ac6c21)cool, thanks!

btiffin

[08:41](#msg5774db4d8c9263ba3039a43b)You'll own the humanities field if you do that @dockimbel. And stats, and art people, and music fanatics, and financial number crunchers, and curious word smiths and geologists and weather folk, and the magic unicorns that program computers.

pekr

[08:42](#msg5774db698441a8124d95a380)For me, it is kind of surprise, that so many demos popped up ... expected more of some form based stuff. But - that's nice example of ppl wanting to have visual experience.

dockimbel

[08:42](#msg5774db90632b75030fb71add)@pekr Amiga spirit is still alive.

pekr

[08:44](#msg5774dbecbb1de91c54b3fa3f)Will write to Francois. He seems to port OpenCV to Red directly. Impressive. I like the speed of compiled stuff, e.g. the Mandelbrot example (maybe not FJ's, but anyway) ... it would be interesting to have some tracking ... e.g. a face tracking example ...

[08:49](#msg5774dd228c9263ba3039ca9c)Have to do the FB post ... just not in form, my friend celebrated his 40ties yesterday :-)

jocko-jc

[08:59](#msg5774df8d632b75030fb74447)impressive release ! Congrats to the team !

dockimbel

[09:02](#msg5774e0208c9263ba3039e9ec)@jocko-jc Merci ! I was just thinking this morning about the meeting we had with a few other rebolers in Paris, around April 2010, when I talked about maybe starting a new Rebol-like language project...so much happened since then. ;-)

[09:09](#msg5774e1e6a0c12d110fcf2f69)Please upvote: https://news.ycombinator.com/item?id=12005105

pekr

[09:18](#msg5774e3ff8c9263ba303a2f2b)done

dockimbel

[09:25](#msg5774e5a1265214c130ace886)I think we'll probably have someone reposting on HN once the West Coast will wake up, otherwise, this will never be on the frontpage.

jocko-jc

[09:33](#msg5774e77f265214c130acfcb8) @dockimbel sure! so much, and of such quality. I hardly imagine the huge amount of work behind ...

pekr

[09:43](#msg5774e9d7bb1de91c54b4bd79)@dockimbel - in Mandelbrot fast demo you mention, that it could be faster, if R/S would have integer to float conversion. Is that what is meant by the Trello item "Integer/float conversions as R/S intrinsics.", or is that something else?

PeterWAWood

[09:50](#msg5774eb54632b75030fb7f07e)@Pekr It is getting the hardware to do the integer/float conversion.

pekr

[09:56](#msg5774ecb1632b75030fb80038)Thanks ...

gunnarahlberg

[12:11](#msg57750c7a1ac8bd1a4da20a0c)@dander the!

[12:12](#msg57750cb71ac8bd1a4da20d5c)@dander thank you for the help with git link!

dahu

[12:23](#msg57750f5997171715549808a0)wow... I keep getting blown away by the simplicity of rebol... I needed to have nested tables in MakeDoc2 and after only a few minutes of tracing the code it was as simple as changing a boolean in-table flag to an int as depth-count instead. And it Just Worked. I didn't expect it to work. I thought I must be looking at stale mockups, even though I'd re-run my generators and the URL was right.  
I started this current tool using R2 because Red is still lacking a few necessary pieces. I might port it to Red later.  
Meanwhile I get to sit here in envy of the cool kids on Windows and their shiny reactive toys.  
Congratulations, @dockimbel and the core team on your 0.6.1 release. So exciting!

DideC

[14:20](#msg57752a98265214c130b08429)Congratulation @dockimbel for this wonderfull piece of work (... in progress).

[14:21](#msg57752ae9bb1de91c54b84147)Im happy to see that you use our worm demo to demonstrate reactive programming ;-)

dockimbel

[15:03](#msg577534c73da1a2ce671c9498)@DideC Thanks! Yes, that demo is good for visualizing a chain reaction. ;-)

[15:07](#msg577535a3f58c9dea732af634)@dahu Thanks, we are excited too by the possibilities of this new framework! MakeDoc2 was written by Carl, Rebol's creator, and his coding style is very clear and well thought out, as you would expect. ;-)

greggirwin

[15:26](#msg57753a1a265214c130b1a648)@DideC regarding your question about cyclical graphs, I don't know how they work yet, but (also @dockimbel), would it make sense to have some kind of trigger/trace where you could catch/trap the cycle? Maybe the default is that it silently handles it, but I'm already thinking about how we'll visualize and debug reactive chains, because they are so easy to create. I remember the early days of VB, where cycles in event chains would do horrible things, eventually crashing your app.

[15:26](#msg57753a3d97171715549b4449)Sooooo hard to tear myself away to do "real" work. :^)

dockimbel

[15:33](#msg57753bddf58c9dea732af75a)@greggirwin See my answer there :point\_up: \[June 29, 2016 7:42 PM](https://gitter.im/red/red?at=5773b4298441a8124d8539e3). For debugging, you have `dump-reactions` and ability to set a verbose mode with logs using `system/reactivity/debug?: yes`. Though those are still a bit rough tools, we'll improve them as we use more this new framework.

greggirwin

[15:34](#msg57753bff8441a8124d9b5026)Thanks Doc! Missed that.

[15:50](#msg57753fbfa0c12d110fd4cc7b)Ah, the code is so small. Will still take me a bit to understand it to get the details and what is evaluated where. But it looks like it would be possible, even easy, to add a way to check cycles with `on-stack?`. Not even needed in the API necessarily.

[15:53](#msg57754097265214c130b22722)And using `dump-reactions` as a model, we can generate visualizations.

Doc, quit creating so many opportunities! Oh, wait, forget I said that.

dockimbel

[15:59](#msg577541ebf4895a6928666c3d)Could someone reply and help the newcomer in red/welcome?

[16:00](#msg57754214f4895a6928666c49)@greggirwin `on-stack?` is precisely there to check cycles, it's an implemented feature. ;-)

greggirwin

[16:03](#msg577542b7632b75030fbd402f)Ah, I have all these other rooms at the bottom of the list, but never saw new message notifications. Need to \*join* them . ;)

Beastinlosers

[20:24](#msg57757ffe632b75030fc11ea2)I have a question (I'm new). So essentially Red is two programming languages (one scripted, on compiled), with the same syntax, and one 1mb download to work

[20:31](#msg5775819a8441a8124d9ff14c)Also any good tutorials for learning red on youtube or something

[20:33](#msg577582218441a8124d9ffb53)Also any way I could get involved, while I learn the language? Wiki editing, etc

dander

[21:47](#msg577593868c9263ba3044b84a)@Beastinlosers I'm also new to Red/REBOL, and I've found that they are very welcoming to contributions. Wiki editing is probably a good one, general testing and bug reports, as well as the various documentation projects are fairly accessible. I've also been thinking that it might be useful to document the process of learning Red coming from other languages, as that is a perspective that long-time rebolers are probably not as familiar with

RnBrgn

[21:56](#msg5775957d8441a8124da0f81e)@Beastinlosers Best place to look for tutorials , http://www.red-lang.org/p/documentation.html  
Look for the Community Provided Learning Material section ..

Another good resource is , https://github.com/red/red/blob/master/README.md  
Explains the different ways you can run Red..

greggirwin

[22:41](#msg5775a00b8441a8124da17603)@Beastinlosers, welcome! You're description is pretty close. Red is the high level language, Red/System is the low level language (think C level). Both can be compiled, but the compiler doesn't support all the features, like dialects, in high level Red, just yet. You can still work around some of those limitations pretty easily though.

You should be able to ignore those details for the most part, just knowing that if you use Red the runtime will be included in the EXE. If you write pure Red/System it won't.

And, yes, that 1MB EXE contains the entire toolchain.

[22:43](#msg5775a0828441a8124da17b3a)@dander is absolutely right that the perspective of those new to Red is very important and helpful. @Arie-vw and Mike Parr have a lot of stuff on http://www.red-by-example.org/, and would welcome contributions I'm sure. It's a good place for small pieces. Write things up as you learn. Testing and bug reports are always helpful too.

[22:44](#msg5775a0b18441a8124da17bc4)Also, you can look at old REBOL resources for clues, since Red is \*highly* compatible with REBOL.

## Friday 1st July, 2016

Beastinlosers

[00:30](#msg5775b98f1ac8bd1a4dac1a93)@dander @greggirwin I will start keeping a blog/journal about my learning experience. This will allow for both the veterans and novices to nit pick what happens when people start learning red.

greggirwin

[02:49](#msg5775da2cbb1de91c54c1a7eb)Great! Thanks for doing that.

btiffin

[02:59](#msg5775dc8ea0c12d110fdc84be)New to Red? @Beastinlosers There is a nice set of pages describing the trials and tribulation of an old school COBOL programmer coming to grips with REBOL/Red style at http://cobolrebol.com/ Steve did a good job describing some of the problem areas and wondrous discoveries that a change of thought process can bring.

Beastinlosers

[03:03](#msg5775dd6b265214c130b9f245)how come we dont use the red logo for the executable's image

greggirwin

[04:46](#msg5775f5b8265214c130baeb80)Your Red and Red/System apps are compiled with Red, and they \*do* use the Red logo. The current Red binary is built with Rebol (the bootstrap toolchain), and that doesn't let you change the icon. Not important enough, I'm guessing, to take the time for that on each build.

[04:47](#msg5775f5f09717171554a4e5c1)It is possible, but you need something like reshacker in the chain to do it. And that would only work for Windows.

[04:51](#msg5775f6b5a0c12d110fdd7fab)I might have some old code for doing it, but it may never have been completed, as the reshacker solution always worked for me with R2.

dockimbel

[04:55](#msg5775f7d63da1a2ce671d0748)@greggirwin You can change the icon from the header: `icon: %my-icon.ico`. ;-)

pekr

[09:00](#msg57763120bb1de91c54c569ee)@dockimbel I hope you don't mind some questions, even if they might sound stupid?

[09:02](#msg577631959717171554a7a4cd)I still don't full grasp the reactive model, but that might come. What looks a bit confusing for me is, why `react`function is not enough, and why we need `is`as well as `make reactor!`.

[09:03](#msg577631fc1ac8bd1a4db0e5d3)I tried the very basic example of `a: make reactor! [x: 1 y: 2 total: is [x + y]]`and wondered, what the `reactor!`stands for. `type? a`returns an `object!`

[09:05](#msg57763243632b75030fc8d681)Should I consider it being an object of certain (reactive type)? Because so far, and in R2, everything with `!`is a `datatype!`, R3 introduced a `typeset!`

[09:07](#msg577632ee8441a8124da77064)So my question is - is it correct, that `type? reactor! == object!`. As I said, maybe a stupid question, as I can foresee, where it is leading (a new land in Rebol-like languages). Also, if/when user types are supported in future, the question might be related. Should the above return `object!`, `datatype!`or `reactor!`

[09:10](#msg577633958441a8124da7775a)OK, saw some answer in the Welcome group - `reactor!`is not a new datatype ...

dockimbel

[09:29](#msg57763801265214c130be1124)`reactor!` is a template object with reactive properties. If you don't use it as the prototype, you are just making a simple object with no reactive properties.

[09:30](#msg57763850632b75030fc926ab)`is` is an experiment, and it's helpful for building a mental picture by relating to spreadsheet analogy. It's also a syntactic sugar for `react`, so yes, strictly considering it, you can just use `react` if you prefer.

pekr

[09:32](#msg577638b8265214c130be21a9)I will need to use it in console with few examples, it's all new to me ... I will see, how does it shape-up in my mind ...

dockimbel

[09:33](#msg577638f4632b75030fc92964)`reactor!`, like `face!`, can be consider a pseudo-type, as it acts as an object's class, but doesn't have the full semantics of a datatype. Though, we might make those two pure datatypes in the future if there's a need for that.

pekr

[09:34](#msg5776391b265214c130be24ab)So far I would most probably prohibit the direct setting of the reactive field, returning an error. Not sure it is usefull for initialisation purposes, as any change to reactive field will recalculate it. Also some reflector would be nice to have - the ability to probe a formula behind.

[09:34](#msg5776391d8c9263ba304c0573)OK, I get it

[09:35](#msg5776395b8441a8124da7ce89)for datatypes, we have `integer?`etc. Do you think it would be useful to have `face?`and `reactor?`

dockimbel

[09:36](#msg577639a0a0c12d110fe0b6c7)Answered that in red/welcome already :point\_up: \[July 1, 2016 5:19 PM](https://gitter.im/red/red/welcome?at=577635a78441a8124da7a06b).

pekr

[09:36](#msg577639acbb1de91c54c5e55c)Simply put - if pseudo-types could be tested in such a way, and not only via its class-type? (`object!`)

[09:37](#msg577639e28441a8124da7d52a)OK, will experiment further ... as right now my questions migt be incorrect, not deeply understanding the topic.

dockimbel

[09:45](#msg57763bc0a0c12d110fe0dc15)I think `face?`and `reactor?` can probably be implemented in 2-3 lines of R/S code.

grahamf21

[10:04](#msg57764035265214c130be87ea)An observation on cloning a reactor object:

```
start-date: make reactor! [
    date-dash: ""
    year: ""
    year-int: 0
    rule: [copy year to "-" (year-int: load year)]
    parse-date: is [parse date-dash rule]
 ]

end-date: make start-date [
    ;rule: [copy year to "-" (year-int: load year)]
    parse-date: is [parse date-dash rule]
    ]

start-date/date-dash: "2015-12-04"
end-date/date-dash: "2015-12-21"

print end-date/year-int
0
```

I have to uncomment the rule line to get '2015'

[10:17](#msg577643229717171554a8b215)Then I thought I should have 'rule: copy \[]' in the first object but that didn't change the result.

RiVeND

[12:04](#msg57765c52739e06eb2f3ecdc0)First of all belated congratulations to the Red team for 0.6.1! I'm starting to get my head around all this excellent reactive programming malarky! :D Now a couple of questions if you don't mind. When 0.6.3 comes with Android support will Red be able to gain access to live geolocation information on a mobile device? I know there's an app I need to write in the coming months which will require geolocation and, if possible, I'd rather use Red than anything else (especially if the iOS port of Red is not too far away, either). In conjunction with geolocation how possible would it be to integrate/embed a Google Map into a Red programmed app? Given that a GMap requires JavaScript is it even going to be feasible?

pekr

[13:42](#msg5776735a15b5519062d1e59c)Is there currently the ability to load in-script-stored image data in a binary form? Tried `load`and `to-image`, but those don't seem to work with binary data yet ...

greggirwin

[13:51](#msg577675631dceb2373151c118):point\_up: \[June 30, 2016 10:55 PM](https://gitter.im/red/red?at=5775f7d63da1a2ce671d0748) Ah! More things I think I knew and forgot. That doesn't work yet for title or other version info, correct?

pekr

[13:52](#msg577675b46ba19c46139aed51)At what point it is planned to include compress/decompress duo? Just asking ....

greggirwin

[13:59](#msg5776772915b5519062d221ef)What do you need it for Petr? I think general zip support would be better, though `compress/decompress` may be the API for it.

pekr

[13:59](#msg5776774d2abfd64a13b3702e)Well, just looking into some old demos, it contains inlined compressed image binary data ...

[13:59](#msg577677536ba19c46139b16ec)not a big deal, though ....

greggirwin

[13:59](#msg5776775f15b5519062d2258a)@RiVeND, I'm certain geolocation support will be there, though can't say when.

[14:00](#msg57767794ae36df8862ef6c9c)Petr, right, I asked because I don't know that it will be R2 compatible. R2 is soooo close to gzip, but changes just a few things. I vote for compatible with standards if possible.

[14:01](#msg577677b52abfd64a13b37cf9)If there are old demos Doc wants ported, I'll extract and reformat data so we can do that.

pekr

[14:02](#msg577677e51dceb2373151e644)I would prefer some general zip:// scheme too

[14:03](#msg5776782e1dceb2373151e9b0)I thought I might port Tiger demo, decompressed data, looking into it (as the handling code is really short), found out we miss on some draw functionality. I thought only matrix operations were missing (now added to Red), but there's still `move`and mainly whole `shape` subdialect missing

greggirwin

[14:04](#msg577678891dceb2373151eb15)I can look at that at some point. It's a very cool demo. I have some other demos I want to do first though.

[14:09](#msg577679a31dceb2373151fce5)Though I'm holding off on one of them, based on Doc's hints about what he is working on. \*Very* excited about that. I'm glad to see the questions on reactions and such, as it will be powerful to visualize and edit reactive relationships.

pekr

[14:11](#msg57767a131dceb237315204b5)I am curious, what Doc is cooking, hope it is going to be a nice surprise :-)

greggirwin

[14:14](#msg57767ab42abfd64a13b3a28c)It will probably blow us away. I can only begin to imagine using all this, tying active data changes to UI widgets that react and change state accordingly, enabled, decorated with decals, dynamic overlays that themselves are new reactors, etc.

pekr

[14:16](#msg57767b3b6ba19c46139b5057)So far, I am just scratching the surface. Most probably I would prefer, if probe would probe the formula, instead of the value, although it might not be accurate. Would like to see relations more clearly, not hidden (debugging in mind). Hopefully such opinion is easily dismissed by me following more examples and trying stuff in wild ...

[14:17](#msg57767b7315b5519062d25d26)I just hope Doc is not doing a Photoshop clone, making Adobe bancrupt in few weeks :-)

greggirwin

[14:31](#msg57767ebdae36df8862efe79d):^) Having the default show the results is probably best, but having a \*way* to see what's behind (e.g., like using `get` to not evaluate a func in an object) may prove helpful.

dockimbel

[15:01](#msg577685cc5c313d7521cc3fdf)I can hardly see how we could use any of the basic actions/natives to reveal the formulas, though reflection could achieve it, using `body-of` could be a good solution, and the returned block can be used to construct a new reactive object (that's a way cloning of reactive objects could be achieved).

greggirwin

[15:06](#msg5776870b1dceb2373152e86e)If it means using the relations list, that's fine. It's not something everyone will need, so it can be more work to do, as long as it's possible somehow.

[15:07](#msg5776872f7b0ff72231477975)Not knowing much, I don't see how you could do it with the basic actions either.

TimeSlip

[15:47](#msg5776909315b5519062d3d1da)I'm looking for the way to show all the words that Red knows so I can start moving some of my Rebol code over. I thought someone had created one but I can't seem to find it. Something like the Rebol dictionary.

dockimbel

[15:48](#msg577690e65c313d7521cc42b5)@TimeSlip See http://red-by-example.org

TimeSlip

[15:49](#msg5776911f6ba19c46139cdfe4)@dockimbel Thanks Doc - bookmarked now.

[16:12](#msg5776965e2abfd64a13b5543f)If we are looking for a particular word should we create a ticket? It's interesting. I can't live without 'join' but it must be just me or it would probably be there. Anyway, I added it based on the rebol source but Red's 'reduce' (which I assume is used in 'repend') does not allow string! for its out argument. Substituting 'append for 'repend worked. All I wanted to do was experiment with 'a: make reactor! \[x: 1 y: 2 total: is \[x + y] tell: is \[join "the total of X and Y is " reduce \[x + y] ]]' So cool that it works, btw.

greggirwin

[16:24](#msg57769940ae36df8862f1c414)James, we all have different things that are important. A long time ago I wrote a script to analyze function usage in R2, to see what I used most. I'll see if I can find the results. To make it useful to Red, we would need a lot of people to run it.

WRT what's missing from Rebol, we also have this list: https://github.com/red/red/wiki/What-Red-is-missing:-From-Rebol-and-new-proposals

[16:25](#msg57769992739e06eb2f424ee3)`reduce` is used in `repend`:

```
red>> ?? repend
repend: func [
    {Appends a reduced value to a series and returns the series head} 
    series [series!] 
    value 
    /only "Appends a block value as a block"
][
    head either only [insert/only tail series reduce :value] [reduce/into :value tail series]
]
```

Arie-vw

[16:29](#msg57769a5f739e06eb2f4255ad)@dockimbel and team: thx for a very nice release!

TimeSlip

[16:31](#msg57769ad76f0bccf22fb4c801) @greggirwin Gregg. Perfect. Thanks. Fortunately I could fix my join habit easily. That missing list is really helpful. Now if I could only get Henrik to port his list widgets... Thanks for all the work on the demos too. You're quite inspirational.

greggirwin

[16:32](#msg57769b1cae36df8862f1df7c)Red inspires me. :^)

TimeSlip

[16:33](#msg57769b4f6f0bccf22fb4cbfa)I know. It's so exciting.

pekr

[16:33](#msg57769b68739e06eb2f42678c)I agree to `body-of`usage for reactors ...

dockimbel

[16:46](#msg57769e745c313d7521cc4977)@TimeSlip `repend` =&gt; `append reduce`.

[16:46](#msg57769e775c313d7521cc497a)@Arie-vw Thanks! ;-)

[16:48](#msg57769edbe973744150b42422)@TimeSlip This version of JOIN adapted from R2, works fine in Red:

```
join: func [
    "Concatenates values."
    value "Base value"
    rest "Value or block of values"
][
    value: either series? :value [copy value] [form :value]
    append reduce value :rest
]
```

greggirwin

[16:52](#msg57769fbb15b5519062d4e651)Doc, for missing R2 pieces, which you may not want standard in Red, do you want to do an R2-support module people can use when porting? I'm afraid that may cause confusion in some cases, as more bits are added to Red, but maybe worth considering. The value may be low, as well, because the R2 community is small and those porting stuff will probably be motivated to do the work, rather than just expecting them to run perfectly under Red.

[16:52](#msg57769fd3ae36df8862f21a34)That could be a good community project, so you don't have to worry about it.

RiVeND

[16:56](#msg5776a0d06f0bccf22fb5191d)@greggirwin Thanks for that. Any idea on the Google Maps question?

greggirwin

[16:58](#msg5776a11f6ba19c46139e031d)I haven't tried to embed a Google Map in anything, so the first step is to see how other languages do it.

[16:58](#msg5776a1477b0ff7223149045c)There likely won't be a browser with JS built in to Red for quite some time. ;^)

RiVeND

[17:01](#msg5776a1de15b5519062d4fa6a)Yep, that's what I thought :D

greggirwin

[17:01](#msg5776a1fb7b0ff7223149114d)But you should be able to easily use their other web APIs.

tanstaaf1

[17:52](#msg5776adc65c023e194f509276)@greggirwin While waiting for @dockimbel to respond, let me insert that I think that is a good idea. Mainly it might help those using rebol2 books and other documentation to immediately get satisfaction. It would be nice if it could somehow be made obvious you were using a deprecated word and should be looking for a new and improved way to get the same result.

greggirwin

[17:55](#msg5776ae946a8f789e4af91bf8)That's why I think making it, for now, external to Red might be good. e.g., someone sets up a repo and starts it, and those who need it can pull and include it to get started.

[17:56](#msg5776aee55c023e194f50b9b0)A porting guide would be good, too, though it's hard to know what is most important until people complain that it isn't there, and determine how much value versus effort there is.

[17:57](#msg5776af1226ff03984aa02d8e)Most things should be pretty easy though.

Beastinlosers

[20:28](#msg5776d27701d3c8d8790b1ceb)When do you think that file I/0 and network i/o will be implemented. Do we have to wait on something or have we not just gotten around to it

greggirwin

[21:03](#msg5776da9bcdab7a1f4fc174c4)Basic file I/O is there today (e.g. `read %.`) and even basic HTTP reads (`read http://red-lang.org`). The more complete implementations, including network protocols, are just a matter of the team being small and other things taking priority.

[21:04](#msg5776dad2bdf63af92dd347b6)`load` and `save` are also there today.

DarrellBrogdon

[21:14](#msg5776dd4ed4b6d5012ea6b1ca)@greggirwin Enough for building, say, a Slack bot in Red?

greggirwin

[21:18](#msg5776de2901d3c8d8790bb7c5)Having never built one, I can't say.

[21:18](#msg5776de3c35bfead37956d4bc)What would it need to do?

DarrellBrogdon

[21:25](#msg5776dfc8cdab7a1f4fc1beda)Not exactly sure yet. I know they use Websockets so it would have to be compatible with that to maintain the connection. After that its simply a matter of parsing JSON.

greggirwin

[21:26](#msg5776dff66a8f789e4afc282b)Parsing JSON we can do easily. Websockets may be a different story.

DarrellBrogdon

[21:29](#msg5776e0a95c023e194f53e59e)That's kind-of what I was thinking too.

greggirwin

[21:57](#msg5776e74735bfead379575257)Looks like simple I/O is curl based for http use right now.

pekr

[23:24](#msg5776fb9b5c023e194f5500bd)Really? I don't have Curl installed here ...

greggirwin

[23:45](#msg5777009ed4b6d5012ea85380)That's just for Linux, sorry.

[23:46](#msg577700d126ff03984aa4c3ce)Using an API to make the HTTP request under Windows and OS X.

[23:46](#msg577700ecd4b6d5012ea85ee7)And on Linux, it's libcurl, not calling the EXE.

[23:56](#msg5777031c35bfead37958b1ab)Also, for those who are curious, you can set your window title in VID apps with `text` in the `/options` block. `view/options [size 400x400] [text: "Your Name Here"]`

## Saturday 2nd July, 2016

dockimbel

[03:04](#msg57772f24507e526a571261b4)@RiVeND Thank you! Live geoloc: yes, certainly, we'll support all Android important features, though, given our limited resources, it will take several releases to cover all that. We'll provide a google-map component for mobile platforms, for desktop ones, we'll have a webview widget that will wrap it. For iOS support, we'll evaluate after MacOS (or rather macOS now ;-)), how much work it will require (as the APIs are getting closer and closer).

[03:06](#msg57772fab725023b5032b3700)@greggirwin We have a GTK-based \[web browser](http://red.esperconsultancy.nl/Red-GTK-WebKit/artifact/378e0262a72ad473) in Red/System since...2011. ;-) BTW, you should have a look at the VID-like dialect that Kaj made in Red/System, it will blow your mind. ;-)

RiVeND

[10:30](#msg577797b9cdab7a1f4fc8cea5)That's great news @dockimbel and a great relief - I wasn't looking forward to having to tackle things using native Eclipse and XCode!

greggirwin

[17:17](#msg5777f7245c023e194f5f9638)Thanks Doc! I forget about all that's on http://www.red-lang.org/p/contributions.html.

## Sunday 3th July, 2016

dockimbel

[06:41](#msg5778b38201d3c8d8791fae2f)We're on \[/r/programming](https://www.reddit.com/r/programming/) frontpage, please upvote (create an account if you don't have one already):

pekr

[08:27](#msg5778cc796a8f789e4a10f831)It already got some heated discussion .... as is usual with languages though :-)

dockimbel

[08:42](#msg5778d009d4b6d5012ebbadba)Programming language online wars are legendary. ;-)

ghost~5680c5f416b6c7089cc058a5

[08:44](#msg5778d07c35bfead3796c7f0d)@dockimbel

[08:45](#msg5778d09ed4b6d5012ebbaf7e)Regarding the modular compiler and the IR in Red 2.0 -&gt; https://www.reddit.com/r/programming/comments/4r0li7/red\_programming\_language/d4xhpmw

[08:46](#msg5778d0f5bdf63af92de88ac8)And yeah, reddit crowd is much worse than HN. But Red couldn't make it to HN front page this time :worried:

dockimbel

[08:48](#msg5778d170cdab7a1f4fd6cea2)Yep, despite 4 posts at least on HN... Timing of the post is really critical to make it land on the frontpage.

Rebol2Red

[10:55](#msg5778ef2bd4b6d5012ebcdc8b)I want to read files but i get this error: \*\** Access Error: invalid UTF-8 encoding: #{95955454}

[10:55](#msg5778ef3c6a8f789e4a12653e)Is there a way to read or detect if it is a invalid file?

[11:13](#msg5778f36fbdf63af92dea0519)btw. Am i posting questions in the right room?

pekr

[11:23](#msg5778f5bebdf63af92dea15e4)yes, but most probably noone here ...

[11:24](#msg5778f5ef26ff03984ab9abc9)I dunno the answer. I remember though, having problem reading some websites, seeing the same error. Red is picky about not correct UTF-8

[11:26](#msg5778f67a35bfead3796ddcc9)I get the same error, when I try to `read http://www.idnes.cz`

[11:27](#msg5778f69626ff03984ab9b182)I tried with `to string! read/binary http://www.idnes.cz`, but no luck either ...

[11:27](#msg5778f6b7cdab7a1f4fd81a81)there's also `read/as`, but not sure what encodings are currently supported ...

Rebol2Red

[11:28](#msg5778f6ecbdf63af92dea22aa)Yes, i know the command read/as but then the problem is how to find out the encoding

[11:29](#msg5778f72101d3c8d8792205d8)Maybe i can do read/binary and then find out if there is a invalid utf-8

pekr

[11:29](#msg5778f724cdab7a1f4fd81dd7)Well, if I remember @dockimbel's answer, the codec system should take care of that. But it is not yet fully implemented

[11:30](#msg5778f7416a8f789e4a12b805)I wanted Red to work in a more relaxed way, but I can understand, why Doc does not want that.

Rebol2Red

[11:31](#msg5778f79dcdab7a1f4fd81ee7)I understand, but will it be in version 0.6.2 or do i have to wait to version 1.0?

ghost~5680c5f416b6c7089cc058a5

[11:53](#msg5778fca701d3c8d879223ef9)@Rebol2Red Complete I/O support will come in 0.7.0, so it should be there in that release.

Rebol2Red

[12:13](#msg57790184d4b6d5012ebd9147)Thanks, for now i will convert my files outside of red to valid UTF-8

dockimbel

[14:35](#msg577922a626ff03984abba831)@Rebol2Red If you're want to read text files, only UTF-8 is supported for now. You can still read the file as binary using `read/binary` though and then convert it to text using your own routines.

[15:03](#msg57792931bdf63af92dec4411)Parse can be used on binary series now, so it should be also easy to port various text codecs from R3 or from Gabriele's \[Power-mezz](https://sourceforge.net/projects/rebol-power-mez/) libraries.

theideasmith

[15:17](#msg57792c896a8f789e4a153d4a)I'm really excited to start using red, however I'm on a mac and I've heard the GUI kit is not yet ready. Any idea when it will?

SteeveGit

[15:20](#msg57792d3c507e526a57130087)@theideasmith You can follow the Trello board to know when various features will be implemented https://trello.com/b/FlQ6pzdB/red-tasks-overview

theideasmith

[15:21](#msg57792d7926ff03984abc377c)Secondly, how widely used is red? Is it deployed in production? Is it a commonly used lanuage or is there a rather small community around it?

Arie-vw

[15:47](#msg577933afcdab7a1f4fdad287)@theideasmith Red's predecessor Rebol has been / is used in production. Red is in alpha status, so production with it wouldn't be really advisable. That said, the alpha versions are quite solid most of the time! Most current users always take the latest download from www.red-lang.org.

theideasmith

[15:48](#msg577933da01d3c8d87924e17b)Is the Mac 6.4 download available for GUI suppoet

Arie-vw

[16:02](#msg5779372a6a8f789e4a15c183)Don't know. I am on Windows. But just download the latest automated build here http://www.red-lang.org/p/download.html and try it for yourself! I would start using the console functionality to learn Red's fundamentals first and later on try the GUI. For docs check out our site www.red-by-example.org.

gour

[16:10](#msg57793900bdf63af92ded15d5)what is the status of Red'sGUI for Linux?

dockimbel

[16:20](#msg57793b4501d3c8d879254656)@gour A few basic widgets implemented along with a few basic Draw commands.

gour

[16:22](#msg57793bc8cdab7a1f4fdb50ce)@dockimbel what is the schedule/roadmap for Linux's GUI?

dockimbel

[16:23](#msg57793c03cdab7a1f4fdb5178)@gour Not scheduled yet, probably in a 0.7.x release.

gour

[16:26](#msg57793cb35c023e194f6c9fe8)@dockimbel all the best!

theideasmith

[16:30](#msg57793dc035bfead37971515f)@Arie-vw

[16:32](#msg57793e12d4b6d5012ec0d220)I have downloaded red and was wondering if the Mac 0.64 release is out for GUI support. The language itself is really great but I'd like to play around with the reactive language by writing a GUI of some sort

Arie-vw

[16:35](#msg57793ee9d4b6d5012ec0de4f)@theideasmith try examples here http://redprogramming.com/Short%20Red%20Code%20Examples.html

theideasmith

[16:45](#msg5779412401d3c8d87925a358)Thanks. Will do

## Monday 4th July, 2016

greggirwin

[01:19](#msg5779b9b6cdab7a1f4fe1020e)@dockimbel, is there a way to specify static reactive links that work like `react/later`? e.g., you have a reactor! that reacts to a GUI, and vice versa, but the reactors can't forward reference.

```
cur-rec: make reactor! [
	name:   is [f-name/text]
	secret:	is [checksum name 'sha256]
]
view [
	text "Name" f-name: field return
	text "Secret" f-secret: text react [cur-rec/secret] return
]
```

Not expecting magic, just wondering if I'm missing something.

[01:22](#msg5779ba6dbdf63af92df2ba89)I can do it this way:

```
cur-rec: make reactor! [
	name:   none
	secret:	is [if name [checksum name 'md5]]
]

gather: func [rec name] [rec/name: name/text]
;scatter: func [rec secret] [print secret/data: rec/secret]

main-lay: layout [
	text "Name" f-name: field return
	text "Secret" f-secret: text 150 react [face/data: cur-rec/secret] return
	;text "Secret" f-secret: text 200 return
]

react/link :gather  [cur-rec f-name]
;react/link :scatter [cur-rec f-secret]

view main-lay
```

Though I get two events (maybe key dn+up) when probing from `scatter`. I also think I'm missing something, because `/text` doesn't make the face update, but `/data` does.

[01:23](#msg5779ba9c6a8f789e4a1bc0e7)Of course, anyone should feel free to answer, don't want to pressure Doc. :^)

[01:31](#msg5779bc6cbdf63af92df2cdd6)And I'll read the source in %reactivity.red.

[01:40](#msg5779beab6a8f789e4a1bedb4)Error message suggestion:  
`react-not-enough: "REACT - reactive function has not enough arguments"`  
Confused me when I got the error. I thought I wasn't passing enough \*args\*, but really it was the func spec that needs to have at least 2 \*parameters\*. Is this accurate?  
`react-not-enough: "REACT - reactive functions must have at least 2 parameters"`

[01:42](#msg5779bf0ccdab7a1f4fe12be2)Or it could also be:  
`react-not-enough: "REACT - reactive functions must accept at least 2 arguments"`

[01:46](#msg5779bfe935bfead379772942)And while I'm here:  
`react-no-match: "REACT - target arguments number mismatches with reactive function"`  
The docs use the term 'target, but `react` doesn't. It calls the param 'objects. Should they use the same word?

dockimbel

[04:03](#msg5779dffc35bfead3797880fb)@greggirwin Agreed that a delayed initial reaction for `is` would be welcome. As it is an infix function, refinements wouldn't be supported, so I guess the only way is to add another function. Actually, there's a workaroung that using default values for `is` formula. I'll push online this new feature later today.

[04:08](#msg5779e124cdab7a1f4fe279bf)@greggirwin Agreed about the first error message change, you can push a PR for that (`2 arguments` option is fine).

[04:13](#msg5779e250d4b6d5012ec813ff)@greggirwin The docs use `objects` too in `react` function description.

greggirwin

[04:27](#msg5779e5ca01d3c8d8792ca926)Right, but the error message uses `target`, which is only seen in the doc prolog, where the graphs are, and with `react?`.

dockimbel

[04:45](#msg5779e9dabdf63af92df495f9)Ah yes, I overlooked your question. Indeed, the error message should be clearer. So it should be `objects number mismatches with reaction function` or do you have something better?

greggirwin

[05:00](#msg5779ed8501d3c8d8792cfc19)Assuming there's not a good way to add info via `:arg1`, how about this:  
`objects block length doesn't match reaction function arg count`  
or, a little shorter, as that one is pretty long:  
`objects block length must match react func arg count`

dockimbel

[05:28](#msg5779f405cdab7a1f4fe3381f)The second option looks good enough to me. Though, "reaction function" would be nicer than "react func"?

greggirwin

[05:53](#msg5779f9cecdab7a1f4fe36ecf)OK.

dockimbel

[08:50](#msg577a235835bfead3797b8cfd)@dander Do you know why it takes so long to get a Chocolatey package update approved?

Rebol2Red

[10:30](#msg577a3acfbdf63af92df881cd)I need to convert ascii to string (65 should give "A") but i can't find a way to do this (to char! 65 does not work). Maybe i have overlooked something?

dockimbel

[10:39](#msg577a3cc6cdab7a1f4fe6fa6d)@Rebol2Red See:

```
red>> to-char: func [i [integer!]][#"^(00)" + i]
== func [i [integer!]][#"^@" + i]
red>> to-char 65
== #"A"
```

Rebol2Red

[10:40](#msg577a3d1ecdab7a1f4fe6fc21)Thank you!

[12:04](#msg577a50b44bee5c57091bb5ae)

[12:08](#msg577a51d8f06cda5d097c586e)Markdown is not working or i am doing things the wrong way. To post code: Do i first have to switch to compose mode? And then?

[12:23](#msg577a55483ac2a2dc14329837)

[12:24](#msg577a558f64638562096dd56e)Can i test markdown somewhere so i wo'nt clutter up this chatroom?

Phryxe

[13:21](#msg577a62e1584c2e775bd3daee)You have markdown help icon below compose mode icon.

Rebol2Red

[13:23](#msg577a6351ef3990705ba3413b)

[13:25](#msg577a63c04bee5c57091cecdd)

maximvl

[15:00](#msg577a7a2369ed53d81425662c)hey guys

[15:00](#msg577a7a294bee5c57091e84ca)how do I disarm error in Red?

dockimbel

[15:44](#msg577a846aef3990705ba57309)@maximvl Use `try to get the error! object or attempt to discard it, where is a block of Red code to evaluate.`

``maximvl 15:56@dockimbel I don't understand, in Rebol you could get error object into a variable and use it, is there anything similar in Red? err: try [ 5 / 0 ] *** Math Error: attempt to divide by zero *** Where: / 15:57ah, this returns error object to console and that's why I get this message 15:57yeah, got it) dockimbel 16:00@maximvl Yes, if the resulting value is an error!, it gets printed: red>> error: try [1 / 0] none == none red>> form error == {*** Math Error: attempt to divide by zero^/*** Where: /} red>> error/id == zero-divide red>> error/type == math 16:00You can access the error object fields (same as in Rebol), though you can't yet convert it to a real object itself (will come once we have to implemented). maximvl 16:01@dockimbel cool, thanks! aeronavery 17:03Does declare not support alias`d struct! within a context? dockimbel 17:20@darithorn Not sure what you mean... Can you show me a simple example? aeronavery 17:26@dockimbel foo: context [ bar!: alias struct! [ tmp [integer!] ] ] test: declare foo/bar! gives: *** Compilation Error: declaring literal for type foo/bar! not supported 17:26 bar!: alias struct! [ tmp [integer!] ] test: declare bar! works just fine dockimbel 17:45Indeed, I think this could be allowed, please open a ticket on github about it, if it's a showstopper for you, I can give it a quick look tomorrow, otherwise, it will probably be processed later this month. aeronavery 17:51It's not a huge issue, I just turned it into foo-bar! but it would be nice to be able to keep consistency. dander 18:12@dockimbel my understanding is they have an admin 18:15approve each package. My experience had been that it went through pretty quick, but it could be taking longer this time due to the long holiday weekend here in the states. greggirwin 21:18remove-each says it returns the removal count, but I get an unset result here. Something not being how unwind-last expects? 21:20In any case, now that we have remove-each, we can easily do its opposite (while design ideas brew on HOFs in general). keep-each: func [ "Keeps only values from a series where body block returns TRUE." 'word [get-word! word! block!] "Word or block of words to set each time (will be local)" data [series!] body [block!] "Block to evaluate; return TRUE to collect" ][ remove-each :word data compose [not do (body)] ] 22:05Entab/detab are on the list of funcs that Nenad thinks are worth including in Red. I have mezz versions at https://gist.github.com/greggirwin/c56da21b5d2b5536424acff1fdc258a5 and Arnold did native versions as well. Compared to Rebol, I added a /leading refinement, as that's often something editors offer. Does anyone have thoughts? Are my parse-based mezzanines good enough to propose for inclusion, do they need tweaking for performance (or correctness)? Do we need native speed? xaduha 22:34Here's a little something I made as workaround to 32bit libraries requirement on Linux (might be complicated to install them on some distros). Not very useful when compiling, since produced binaries still want those libraries, but for REPL and interpreter it works just fine. https://github.com/xaduha/docker-redlang/blob/master/bin/red SteeveGit 22:40@greggirwin I think you must count spaces and colum positions as well, because as an example: (3 spaces + 1 tab) or (2 sp + 1 tab) or (1 sp + 1 tab) may count as a sole tab and must be converted as 4 spaces depending on colums. I don't know if I'm clear. greggirwin 22:49That makes sense. Good catch. SteeveGit 22:49Well to be clear, detab is not always converting tabs to a fixed size. It depends of the column index. The number of spaces added is more like idx % 4 greggirwin 22:52Darn. I really like those one-liner parse rules. ;^) SteeveGit 23:01 On an other side,I think the /leading behavior should be default (the most common usage). I would prefer an /all option for the current alternative. greggirwin 23:01 entab: function [ "Converts spaces in a string to tabs. (tab size 4)" string [any-string!] "(modified)" /size number [integer!] /leading "Change only leading spaces to tabs" ][ number: any [number 4] n-1: number - 1 parse string [ some [ any [change number space tab | change [1 n-1 space tab] tab] if (leading) [thru newline] | skip ] ] string ] print mold entab { ^-} print mold entab { ^-} print mold entab { ^-} print mold entab { ^-} 23:09 entab: function [ "Converts leading spaces in a string to tabs. (tab size 4)" string [any-string!] "(modified)" /size number [integer!] /all "Change all spaces to tabs, not just leading" ][ number: any [number 4] n-1: number - 1 parse string [ some [ any [change number space tab | change [1 n-1 space tab] tab] if (not all) [thru newline] | skip ] ] string ] 23:14Rebol only does leading on entab and only does all on detab. SteeveGit 23:21Doing /all doesn't make sense as a standard. You just break legit strings. It should use a lexer to make the difference. It completly depends of the syntax of the language..``

````Tuesday 5th July, 2016 dockimbel 03:39@greggirwin I prefer a high-level entab/detab version for now. Also, they are good test-cases for a future Parse compiler, as their rules are static. greggirwin 05:42Sounds good. dockimbel 06:10@greggirwin Have a look at this [gist](https://gist.github.com/dockimbel/a77b15da5c4cd0ecf0fecb3de09db0f5), it shows you how to accomplish your linking of field/text with an external object with the current reactive framework (you need the latest commits for that). You don't need to make the cur-rec object a reactor as the faces are already reactors, so you can setup the relations directly with them and let the object just reference the right series. I have some ideas about how to make that even more straightforward in future iterations of the reactive framework, when applied to faces. Zamlox 06:35@dockimbel I have created an XML parser, code can be found at: https://github.com/Zamlox/red-tools . There are two tests files declared in 'xml/tests', one for console another for compiler. Although the code is same, when I run compiled executable I receive an error, like: *** Script Error: cannot compare none with 0 *** Where: > *** Stack: probe convert if parse get-data parse get-data parse nested-detected > and I don't know why, because console version works. dockimbel 06:38@Zamlox Great! Will have a look at the issue after lunch. Zamlox 06:38@dockimbel ok ;) dockimbel 06:40@Zamlox At first look, your code seems fine, so it might be an issue with if in Parse and compiled functions. Zamlox 06:44@dockimbel ok, thanks. maximvl 11:50guys guys, what about editor/ide in Red? this must be something flexible and hackable to become a nice replacement even to Emacs Rebol2Red 12:03If i compile a program (windows) i get a console window behind the progran. This is not what i want. Can i compile without the console window? SteeveGit 12:11> @nc-x @bitbegin red -c -t windows vid.red This will compile the code for windows target which is for GUI applications without console. By default the code is compiled to msdos target which is GUI+Console. 12:13The Red readme file mention: >MSDOS : Windows, x86, console (+ GUI) applications Windows : Windows, x86, GUI applications WindowsXP : Windows, x86, GUI applications, no touch API But I agree, it's not very clear, since a lot of people asked the same question over and over (including me) Rebol2Red 12:15Thank you very much! I will keep this in mind. dockimbel 12:24@maximvl We're working on different options for that. Some news very soon about it. ;-) maximvl 12:48@dockimbel great! It can be also a good starting point for hacking into the language Rebol2Red 13:11view [ size: 300x200 title: "Main window" button "Opens a second window"[ view [ size: 200x100 title: "Sub window" button "Back to main" [unview]] ]] if you click on the button in the main window a second window will open. if you (when the second window is open) click on the close button of the main window the sub window stays open. How to close all the windows when clicking on the close button of the main window? Has to do with unview/all or on-close event I do'nt know how to do either. Can you help me? SteeveGit 14:24@Rebol2Red see :point_up: [April 9, 2016 6:02 AM](https://gitter.im/red/red?at=57087ee705e328bb386d0525) Rebol2Red 14:57 15:06view/options [ size: 300x200 title: "Main window" button "Opens a second window"[ view [ size: 200x100 title: "Sub window" button "Back to main" [unview]] ]][ actors: object [on-close: func [face event][unview/all]] ] If i do not open a sub window and click on the close button of the main window i get a message that red gui console isn't working anymore. Compiling does works flawless, so thanks. dockimbel 16:01@Rebol2Red Calling view enters an event loop. If you need to open new windows while there's already an event loop running, you should use view/no-wait then, and all will work as expected. ;-) greggirwin 16:22:point_up: [July 5, 2016 12:10 AM](https://gitter.im/red/red?at=577b4f5d64638562097aee5e) Thanks Doc! I made a simple example to show, but was planning more. - Fields update cur-rec - Cur rec is updated from a timer that is just a counter, to show how changes to data update the UI reactively. - Save button adds rec to data block - Data block is in an object with ownership. On-deep-changes saves to disk. - Clicking a rec in a text list of names (made from data) links the selected rec as current for reactive changes. A bit much for a message here, I know. 16:34@maximvl is emacs the best target today? I agree that we should have something along those lines, and Cal Dixon, I think, did a basic one long ago for R2, but the new breed of editors like Atom seem like they would get more attention. Of course, Doc and Qingtian will probably design a core that can be used for both, and also for semi-old-school editors like UltraEdit. 16:35Gitter won't see keyboard shortcuts for me right now. 16:36Anyway, I'm sure it will be ultra scriptable. After all Emacs had to write elisp to build it in, and we already have the base language. Beastinlosers 18:28@greggirwin Go for emacs (as well as plugins for vim and nano). Notepad++ and UltraEdit would be awesome as well. The more editors you can push it to, the more publicity. Rebol2Red 18:31 18:36 18:38@dockimbel with this code: view/options [ size: 300x200 title: "Main window" button "Opens a second window"[ view/no-wait [ size: 200x100 title: "Sub window" button "Back to main" [unview]] ]] [ actors: object [on-close: func [face event][unview]]] I still get the error if i do not open the sub window and close the main window. Is there something wrong with it? greggirwin 18:42@Beastinlosers What I meant was that we should *write* an editor in Red that is *like* the others. Good demo app. Plugins or syntax files for various editors are important as well. Maybe someone can set up a page to host them, or at least save Nenad some work in getting it started. I can contribute the Rebol word file I use for UltraEdit. 18:43@Rebol2Red if you wrap your code in triple backquotes it will be easier to read. Beastinlosers 18:43@greggirwin Good idea. Though file i/o will have to be finished. greggirwin 18:43There are some things that will help, yes. ;^) 18:44Basic file I/O we have today might be enough, at least to play and experiment. Beastinlosers 18:46@greggirwin Well it all starts with a window, user input, saving, a toolbar and access to the file manager. Eventually we could have a 1 click compile feature 18:46What are yall currently using to edit Red code? greggirwin 18:47UltraEdit Studio Beastinlosers 18:47How are you handling code highlighting greggirwin 18:48I use my Rebol word file. Beastinlosers 18:48Thats what I figured greggirwin 18:50@Rebol2Red are you running the latest build? Your code seems OK here. Though if I don't open the sub window, the close button also closes the console. If I do open it, the close button does not close the console, even if I use unview/all in actors. 18:55Oh, wait, unview/all seems to work fine. Closes the console too. Beastinlosers 18:57I was thinking of a name for an editor made for red 18:57I thought of redit and how that was a great name... And then I realised greggirwin 18:58First, the name, then the t-shirts, then build the product. ;^) Beastinlosers 18:59Yep dander 20:15There is a VS Code plugin in the Red repo: https://github.com/red/VScode-extension which supporting syntax highlighting, and running/compiling using the latest red binary from the download page. Rebol2Red 20:16@greggirwin On the newest version i still got the error on closing the main window without opening the sub window, also with using unview/all. But never mind, the compiled version works fine. (red 5-jul-2016 on 64 bits windows 10) dander 20:17It seems like many newer editors are using TextMate syntax definitions (at least VS Code, Atom, Sublime from what I've seen). It would be useful to have a canonical syntax definition that those could be based on greggirwin 20:26I think someone has done Sublime. I have some ooooold bundles from E (the Windows version of TextMate), but they're XML. Ick. Is that what the others are using? dander 20:31does it look like this? https://github.com/red/VScode-extension/blob/master/package/grammars/red.tmLanguage plist seems like a particularly gross variant of XML to me greggirwin 20:35Yup. dander 20:40I wonder how hard it would be to generate the syntax file from Red sources. Know if anyone has made a Parse -> regex converter? 20:41I guess there might be some cases that regex couldn't do? greggirwin 20:43Regex can't do all that parse can do (think recursion), but some things could be done. 20:46The trickier part, I think, is that Red isn't a single, static language, so a *true* syntax aware system will be impossible to do in other systems (except maybe Eclipse, but let's not go there). We can get pretty good highlighting though, for standard stuff and types. Rebol2Red 20:59@greggirwin This seems to work in the red-gui: view/options [ size: 300x200 title: "Main window" button "Opens a second window"[ view [ size: 200x100 title: "Sub window" button "Back to main" [unview]] ]] [actors: object [on-close: func [face event][quit]]] Using quit instead of unview. greggirwin 21:13That makes sense, along with it working when compiled. If you unview but don't quit, it will drop back to the console, though there may be some details that aren't quite finalized yet. Rebol2Red 21:26@greggirwin I wonder if i should use: [unview quit] or just [quit] greggirwin 21:31It can't hurt, but once the process exits, everything attached to it should get cleaned up. When we get to the point of installing global key handler hooks and such, then we'll want to be more careful. DarioX1973_twitter 23:27Wonderfull code, Rebol2Red, to open a second windows (i'm newbie). But, if i have defined yet the second windows in a .red file, how can i read it from the first .red file that contain the main window? 23:28https://snag.gy/rj5y9k.jpg 23:29i would like lo load a "memolink-insert.red" script that is the form ... 23:30obviously i can do "red.exe memolink-insert.red" to have the second form run separatelly if i want. 23:30but olso run it form the first main form Beastinlosers 23:44How do I query user for input, and store it to a variable. 23:46Do I use ask greggirwin 23:58@DarioX1973_twitter save this in %second-window.red size: 200x100 title: "Sub window" button "Back to main" [unview] Then do this view/options [ size: 300x200 title: "Main window" button "Opens a second window" [ view/no-wait load %second-window.red ] ][ actors: object [on-close: func [face event][unview/all]] ] 23:59@Beastinlosers , yes, you can use ask to get user input in the console. Wednesday 6th July, 2016 greggirwin 00:00 red>> answer: ask "Are you sure? " Are you sure? You bet I am == "You bet I am" Beastinlosers 02:29Thankyou ghost~5680c5f416b6c7089cc058a5 03:41@greggirwin @Rebol2Red @dockimbel :point_up: [July 6, 2016 12:08 AM](https://gitter.im/red/red?at=577bfe8e9d3eadd7236b9c5c) In latest red master binary, on pasting the code in CLI console, and then closing the main window, i get a runtime error (If the code is fine, it shouldn't crash. If the code is wrong, it should raise an error, and still not crash). *** Runtime Error 1: access violation *** at: 4505DBE4h dockimbel 05:13@Rebol2Red You're using set-words instead of words in your VID code, this is the proper version: view/options [ size 300x200 title "Main window" button "Opens a second window" [ view/no-wait [ size 200x100 title "Sub window" button "Back to main" [unview] ] ] ][actors: object [on-close: func [face event][unview]]] Not sure why you need the on-close handler for? It would work equally well without it. ghost~5680c5f416b6c7089cc058a5 05:18@dockimbel (A) If i paste your code in the CLI Console and execute it, then also I get the console crashing problem -> 05:22[![an.gif](https://files.gitter.im/red/red/jpnJ/thumb/an.gif)](https://files.gitter.im/red/red/jpnJ/an.gif) 05:26(B) If i run the code without /options refinement, I get this problem (I don't think this is the correct behaviour?) -> 05:28[![an.gif](https://files.gitter.im/red/red/1Qkl/thumb/an.gif)](https://files.gitter.im/red/red/1Qkl/an.gif) 05:30 dockimbel 05:37@nc-x It is the expected behavior as there is no hierarchical relations between windows running in the same event loop. So, maybe not the best default behavior, what do you think? ghost~5680c5f416b6c7089cc058a5 05:51@dockimbel I agree that it is not the best default behaviour. 05:51Is the console crash in (A) also due to this? Or is it something else? dockimbel 06:21Probably related, haven't had time to look at it yet. You can try is again by recompiling the console using -d debug mode to get more info. grahamf21 07:16Hi, I have a problem with filenames in console-call. This command works fine: call/shell "ls -la *.md > md-list.txt" But this command adds a spurious character at the end of the filename: red>> call/shell "md5sum md-list.txt > md5-new.txt" == 13719 Listing files in my OS shell ls md5-new.txt? I'm running Debian 64 bit Linux. DarioX1973_twitter 07:35@greggirwin Wow Greg, it's works! perhaps, because of Delphi background i have, it seems to me to be in another world! it seems to me really incredible ho have a GUI program of different windows converted in an executable and written in so few efforts! :-O 07:37where is the deception ? Red seems already perfect ;-) qtxie 08:02@grahamf21 Thanks for reporting it. I'm fixing it. maximvl 08:51@greggirwin Atom has more attention for sure, but the only reason behind it is that JS is popular and wide spread right now. Emacs, on the other hand, has really good abstractions under the hood. Of course, they may not be very relevant today, but they still work very well. Elisp is Emacs base language, exactly, and this causes a lot of problems today, there were many attempts to rewrite Emacs on CL, Haskell, Racket, you name it. But, as with everything, we should go further and made something capable of all IDE features, like IDEA, without losing extensibility and power of editors like Emacs. Other modern nice things to borrow some inspiration from are http://lighttable.com and, some next-generation uber-thing from the same guy, http://witheve.com/ . He also wrote good articles and shared things he got to while implementing and thinking about editors: http://www.chris-granger.com/archive/ Arie-vw 10:05@dockimbel gave me this oneliner once to extract all Red words wrds: collect [foreach v words-of system/words [if any-function? get/any :v [keep v]]] Is there a similar way to get all the words of the VID or the PARSE dialect in one go? SteeveGit 11:29@dockimbel Looking at the new math function: [2 / 2 * 2] == 0(divide 2 multiply 2 2) should be == 1(multiply 2 divide 2 2) ;-) maximvl 11:31em, shouldn't it be 2? 11:312 / 2 = 1; 1 * 2 = 2 ? SteeveGit 11:32yes sorry maximvl 11:34 red>> 2 / 2 * 2 == 2 11:34and it is) 11:34we need a Red evaluation bot for this channel SteeveGit 11:35yes but the new precedence is meaningful when mixed with +- ops 11:37or not, seems the new math function is experimental ;-) 11:39I should have some exprimental math functions hidden somewhere as well. Maybe it's time to dig in. RiVeND 11:40 11:40 SteeveGit 11:41lol, do you get it @RiVeND ? ;-) x8x 12:27@grahamf21 @qtxie this should show the issue : o: clear "" change-dir make-dir %test123 a: {touch 1} loop 160 [append a " " call/wait a if 1 < length? read %. [print length? a] call/wait {rm -f *}] 16 48 112 ; 0 12:31@grahamf21 @qtxie I also had this one showing the issue but can't reproduce with latest build: o: clear "" a: {echo 1} n: 6 loop 1009 [n: n + 1 append a " " call/output a o if o = {1 ^A^/} [print n]] 16 48 112 240 496 1008 12:31both on Linux and macOS 12:33something to do with the length of the command passed to call when it is a multiple of 16 12:34n * 2 + 16 12:48@grahamf21 your command passed to call is 32 chars in length, try changing the file name with 1 more char and see if you still get the problem call/shell "md5sum md-list.txt > md5-new0.txt" 12:53 13:00I patched call to insert a space to the command passed to it whenever it's length is a multiple of 16, works but hopefully someone will find a proper fix. Still have issues with call/input but didn't find a patch.. Also, some command will return binary data but call/output expect utf8 so it wont load. grahamf21 13:41@x8x yes your suggestion to add a character works here. dockimbel 13:54@SteeveGit Good catch! x8x 13:54you can temporarly patch call.red before building with: source: read file: %system/library/call/call.red patches: [ [{call: func [} {call-fix-cmd-length: func [^/^-s [string!]^/^-return: [string!]^/][^/^-either (length? s) // 16 = 0 [head insert s { }][s]^/]^/^/call: func [}] [{pid: redsys-call cmd} {pid: redsys-call call-fix-cmd-length cmd}] ] foreach patch patches [ replace source patch/1 patch/2 ] write file source 13:55adjust path to system/library/call/call.red dockimbel 15:06@SteeveGit @maximvl I've fixed math using a simpler, but more memory-hungry method. SteeveGit 15:07Ok, will look at it now maximvl 15:12 @dockimbel fixed math? What was wrong with it? SteeveGit 15:16@dockimbel new version is working good here. dockimbel 15:18@SteeveGit Yep, this time I used unit tests. ;-) 15:18@maximvl See latest commit. math [2 / 2 * 2] == 0 was obviously wrong. ;-) SteeveGit 15:19@dockimbel Would be good to have an option to not (do) the final expression. In case, I want to reuse the expression several time. A bit like a compile option. dockimbel 15:20@SteeveGit Could be added, though I don't expect anyone to use this function except for some very special cases. ;-) SteeveGit 15:21It's your fault, puting it in global functions.red, what did you expect? :-) dockimbel 15:24Well, you'll see very soon why I needed it to be globally available. ;-) greggirwin 15:37@SteeveGit I thought I had detab nailed, but still have one failing test case (out of only a couple dozen) that has me confused. Even when it works, though, to try and make it small I'm afraid I'm generating a lot of overhead in order to support /all (copying pieces) and am wondering if a non-parse solution would be better (if not as cool). 15:38Or I might try yet another approach with parse collect into. SteeveGit 15:39Show us your code with the failing case, I'll look at it and see if I can come up we something wizardly ;-) greggirwin 15:41 detab: func [ str [string!] /with size [integer!] /all /local cset chars new ][ size: any [size 4] with: append/dup clear " " space size cset: charset either all [ [not "^-"] ][ space ] new: does [head change copy with chars] ; possible optimization? ;new: does [either all [ head change copy with chars ][ at with length? chars ]] parse str [ any [ size cset | any [change [copy chars 0 size cset tab] (new)] if (not all) [thru newline | break] | skip ] ] str ] SteeveGit 15:41But still, I think the support of /all is not a real use case. Should ask to Doc if he wants it. greggirwin 15:42s: detab/all "^-abc ^-" print [length? s mold s] ; 12 ** SteeveGit 15:44Ok, I see the prob Arie-vw 16:09Anybody???? Is there a way to get all the words of the VID, PARSE or any other dialect? SteeveGit 16:13@greggirwin lisp detab: func [ str [string!] /with size [integer!] /all /local BOL ][ size: any [size 4] with: append/dup clear " " space size parse str [ BOL: any [with | change [0 size space tab] with] [ if (all) [ any [ pos: change tab (skip with (offset? BOL pos) % size) | lf break | skip ] ] | thru lf ] ] str ] 16:14Probaly can be shortened with the if (all) block rule only, since it applies to both cases. Zamlox 16:19@greggirwin a shorter version: detab: func [ str [string!] /with size [integer!] /all /local cset chars new ][ size: any [size 4] with: append/dup clear " " space size rule: [ to #"^-" b: #"^-" change b with ] parse str [ if (all) any rule | rule ] str ] SteeveGit 16:23@zamlox, It's the obvious way we all coded the first time. But a tab is not always substitued by the same number of spaces. It's more complicated ,It depends of the column position. 16:33@greggirwin I missed a global ANY, to handle multi-string source greggirwin 16:37Thanks Steeve. Will test in a bit. People who instantly see what's wrong in parse rules amaze me. I get lost in them like I get lost driving and just can't find my way home. 16:39In this case, I even used parse-trace, for the first time, and couldn't see why it was backtracking into what it had previously changed, or so it seemed. 16:40@Arie-vw, it would require parsing the source if you want to do it automatically to keep it updated, and that may be error prone as well. Do you want me to extract you a list as best I can? 16:43@SteeveGit, yours hangs on detab/all "^-abc^-". Will try more later. Zamlox 16:55@SteeveGit all right, I missed that information, my bad :) SteeveGit 17:21@greggirwin Corrected: detab: func [ str [string!] /with size [integer!] /all /local BOL ][ size: any [size 4] with: append/dup clear " " space size parse str [ any [ BOL: any [with | change [0 size space tab] with] [ if (probe all) some [ pos: change tab (skip with probe (offset? BOL pos) % size) | lf break | skip ] | thru lf ] ] ] str ] 17:24It's strange, I also have the hang-up but not in my first tests. Then I replaced an any by a some and it was fine again. Though, nothing should have been impacted. 17:40Here a generalized function. A little Shorter, but may be a little slower with the default case. detab: function [ str [string!] /with size [integer!] /all ][ size: any [size 4] with: append/dup clear " " space size parse str [ BOL: some [ pos: change tab (skip with (offset? BOL pos) % size) | lf BOL: | if (all) skip | space | thru lf BOL: ] ] str ] 18:01A little gain: replace | if (all) skip ,with | if (all) to [tab | lf] 18:01*not tested* meijeru 19:08@dockimbel Re: blog article announcing 0.6.1. The first link in the article is https://github.com/red/red/releases/tag/v0.6.0 shouldn't that be .../v0.6.1 ? DarrellBrogdon 20:23Ok. I know this is basic but what am I doing wrong here? user-id: 10 print trim/with ["user" user-id "@test.com"] " " Still results in: user 10 @test.com instead of user10@test.com Rebol2Red 20:26 SteeveGit 20:26I suppose you want it in a string, not printed DarrellBrogdon 20:27yeah SteeveGit 20:27> trim/all form reduce [...] DarrellBrogdon 20:27Looking at 'form but that doesn't evaluate user-id. I'm a little lost without 'rejoin :) 20:27@SteeveGit Perfect, thanks! Rebol2Red 20:28@DarrelBrogdon rejoin: func [ block [block!] "Values to reduce and join" ][ if empty? block: reduce block [return block] append either series? first block [copy first block] [ form first block ] next block ] DarrellBrogdon 20:53Thanks! Rebol2Red 21:05 view [ size: 800x600 at 150x100 t: text font [size: 14] {color of this text must change when the mouse is over this text} react[over?: face t font [color: red]] ; This is'nt working!!! ] How to change the color of a text when the mouse is over it and/or clicked on it? Zamlox 21:26@Rebol2Red try this: view [ size: 800x600 at 150x100 t: text font [size: 14] {color of this text must change when the mouse is over this text} on-over [face/font/color: red ] ] Rebol2Red 21:36What If i want the color to restore to the original text color when the mouse is away from it? Zamlox 21:39@Rebol2Red view [ size: 800x600 at 150x100 t: text font [size: 14] {color of this text must change when the mouse is over this text} on-over [either event/away? [face/font/color: black][face/font/color: red] ] ] Rebol2Red 21:44 21:55Why on-dbl-click works and on-click doesn't? (i have read in the manuals: "Left mouse click (button widgets only).") In rebol 2 it is easy to do this kind of stuff so you can make a window with code on it and execute this code while clicking on it. I found this one of the wow things of rebol. Shouldn't Red have this kind of stuff? Zamlox 22:02some widgets receives on-click, some not. Text and base does not receive. But you can use on-down or on-up. greggirwin 22:02This is likely one of the tradeoffs when using native widgets. Doesn't mean we won't have more someday, but it's early days for the GUI system. 22:03As Zamlox says, you may still be able to do most things you want. 22:07You can even collapse the on-over example a bit: view [ size 800x600 at 150x100 t: text font [size: 14] {color of this text must change when the mouse is over this text} on-over [face/font/color: either event/away? [black][red]] ] Rebol2Red 22:09I am not complaining. It was just an observation. I really like Red Anyway I just found out i can do it like this: view [ size: 800x600 Text {Klik on the button to see a text example} return b: button 200x30 {view [text "some text"]} [do b/text] return text {bla bla bla} ] A pitty i can't change the size of the button text or can i? greggirwin 22:12Also, 'size should be a plain word, not a set word. Rebol2Red 22:13Oke, Thanks greggirwin 22:14Should work. 22:14It does here. 22:15 view [ size 800x600 Text {Klik on the button to see a text example} font-size 16 return b: button 200x30 font-size 14 {view [text "some text"]} [do b/text] return text {bla bla bla} ] Rebol2Red 22:23My bad it was a Typo. I always used font [size: 22] but now i see you are using font-size 22 I like this. Always learn a lot over here. Thank you. greggirwin 22:23Some old Rebol habits will die hard. :^) Rebol2Red 22:27Yep. But there are (luckily) so many things which can be done in so many ways. Thursday 7th July, 2016 Rebol2Red 00:55Darn. Why do'nt i get the black code boxes when i use three backticds before and three backticks after my code? greggirwin 01:07Do they have to be on their own line? I don't know but I always do that. 02:45Updated my entab/detab gist: https://gist.github.com/greggirwin/c56da21b5d2b5536424acff1fdc258a5 dockimbel 03:36@meijeru The link is right and the goal was to show how many commits happened since 0.6.0. ghost~5680c5f416b6c7089cc058a5 04:03@dockimbel 04:04:point_up: [July 6, 2016 10:48 AM](https://gitter.im/red/red?at=577c94bfe22c1b816ae536c2) In Debug mode, your code crashes with *** Runtime Error 1: access violation *** Cannot determine source file/line info. *** dockimbel 04:05@nc-x Please open a ticket about it, so we don't forget about it. The number of posts has increased significantly in the last week, I can't keep up anymore. ;-) ghost~5680c5f416b6c7089cc058a5 04:05Okay, will do. 04:10Just checked on debug mode, your code crashes with the same error as -> :point_up: [July 6, 2016 9:11 AM](https://gitter.im/red/red?at=577c7dd751724d8078c0f7f9) 04:10I will open a ticket at once. 04:22I think it is due to using unview in on-close (Though I may be wrong, since I haven't used View/VID much). SteeveGit 05:32@greggirwin Good work on the tests suite. Rebol2Red 06:52 06:52Yes, That was it! 06:55 06:56 07:06Almost like rebol 2 red [needs: 'View] blok: ; leave the follwing text as is!!! { view [ text font-size 20 {yes} on-over [either event/away? [face/font/color: white][face/font/color: orange] ] return button font-size 20 {no} [print "no"] ] } view [ size 900x650 title "Rebol like VID-tutorial (need red version with browse)" backdrop 180.180.180 text 180.180.180 font-size 30 font-color black {Two functions} return text 180.180.180 font-size 20 {Hyperlink example (click on it)} return t: text 0.0.155 font-size 20 font-color white {browse http://www.rebol.com} on-over[face/font/color: orange either event/away? [face/font/color: white][face/font/color: orange] ] on-down [face/font/color: orange do t/text] return text 189.186.189 font-size 20 {View example (click on it)} return a: text 820x360 0.0.155 font-size 20 font-color white blok on-over [face/font/color: orange either event/away? [face/font/color: white][face/font/color: orange] ] on-down [face/font/color: orange do a/text] return text 180.180.180 font-size 20 {The rest of the tutorial...} ] The only thing is: You have to move the mouse at program startup outside of the text faces with the code in it Can i place the mouse somewhere on the screen at startup? 07:32 red [needs: 'View] ; This program has to be called recurse.red !!! view [ size 900x150 title "Recurse" backdrop 180.180.180 text 180.180.180 font-size 20 font-color black {Execute this program: recurse.red} return t: text 0.0.155 font-size 20 font-color white {do %recurse.red} on-over[face/font/color: orange either event/away? [face/font/color: white][face/font/color: orange] ] on-down [face/font/color: orange do t/text] return text 180.180.180 font-size 20 {bla bla bla ...} ] If this can be done, does this automatically means a new version of Red can be made with Red (like freebasic is made with freebasic)? 08:19I know codecs are not ready yet, but to bring it back to attention write/binary %button.gif read/binary http://www.rebol.com/how-to/graphics/button.gif downloaded: %button.gif loaded: load http://www.rebol.com/how-to/graphics/button.gif view [image downloaded return image loaded] Look at the first button. There is a black line under it. Arie-vw 08:25@greggirwin Yes please. I'm also interested in the source code for that! dockimbel 08:59@Rebol2Red Looks very much like a bug, please open a ticket with that test code. Rebol2Red 10:55 11:01I don't know how to open a ticket. I'll have to dive into that. Is this the right place: https://help.github.com/articles/creating-an-issue/ Then what is the main page of the repository? Oldes 11:03@Rebol2Red To open a ticket, just fill this form: https://github.com/red/red/issues/new Rebol2Red 11:09@Oldes Thanks. Ticket opened. Dobeash 13:21Where's the best place for Red mezz code contributions (e.g. an 'invalid-uff? function)? Rebol2Red 13:23@Dobeash If i am right you have a mezz function for invalid utf-8. Can i have it, please. You can send it to rensvanschie [at] gmail.com Zamlox 13:36@Dobeash you might put it in gist and post here the link (like @greggirwin is doing) Rebol2Red 14:00When i need to print an empty line i use: print "" Is there a better way? maximvl 14:01even more better way? 14:01newline: does [print ""] 14:01:) Rebol2Red 14:02 maximvl 14:03ah, newline is global word 14:03you probably don't want to change it 14:05do we have optional arguments in Red? 14:05print could take optional argument to print and make a newline without argument Rebol2Red 14:08I can use nl: does [print ""] maximvl 14:10you can, ye Rebol2Red 14:12Ok, Thanks 14:13Has anyone experienced the github app for windows? I am now using it but typing is very slow. Typing in a browser is as usual so it has nothing to do with a slow internet connection Also the startup is way too long, about 30 seconds I could ofcourse not use it, but sometimes it can be handy 15:00@greggirwin I am trying to learn how to do parse and came upon this code in red/welcome s: {Mise subito mano alla stesura dell'opera, dallo scoppio della guerra, che prevedeva sarebbe stata grave, anzi la più degna di memoria tra le precedenti.} parse s [ ; S is our input string any [ ; Do the following 0 or more times copy t some char ; Copy 1 or more matched charset values into 't ( append r t ; Append the copied chars to our result (r) append r "|" ; Then add the pipe to r ) copy t to char ; We stopped at the last charset match, so now ; we use TO to copy *to* where the next charset ; match starts, so now t contains the things ; between the alpha characters. ( replace/all t "^/" " " ; replace newlines with spaces append r t ; Append it to our result append r "|^/" ; Then add the pipe and newline to r ) ] ] *** Script Error: PARSE - invalid rule or usage of rule: char Is something changed in the last version? SteeveGit 15:32@Rebol2Red You didn't scroll up enough to get the full script x8x 16:28print "" -> prin lf or prin crlf Rebol2Red 17:00@SteeveGit You are absolutely right, sorry Gregg 17:03@x8x I will keep that in mind, thanks x8x 17:25Are there known limitations in Wine? All GUI demos works but not the worm and bigworm. dockimbel 18:24Please upvote if you have a Reddit account: https://www.reddit.com/r/tinycode/comments/4rq3d8/native_reactive_spreadsheet_in_17_loc/ dander 18:47@dockimbel the Chocolatey package for 0.6.1 has been approved now, and it has been marked as 'trusted' so that it doesn't need to go through the manual process going forward :) I was thinking it would be possible to integrate the chocolatey publishing into the build process so that nightly builds could be published too. Then doing a choco install red --pre or cup red --prewould pull down the nightly instead of released version. I can look into the process for automating that if you'd like. 18:47really cool demo, by the way! dockimbel 18:51@dander Thank you! Good news, it was really long this time. For the nightly integration, why not, as long as it requires very little of my time. ;-) dander 18:56Certainly, that would be my intention. Are you using powershell? I was looking at some of the Appveyor output, but it looks like just one piece of the puzzle... I will do some more investigation and get back to you on what would be needed greggirwin 19:59@Rebol2Red nice work! If you put the opening { on the same line as blok: your code can be pasted directly into the console. 20:00@Arie-vw I would just do it manually. No code for now as there's no easy way to identify them, unless we cut those parts out of the code, and that's cheating. ;^) 20:01@Rebol2Red I have had bad experiences with desktop versions of web apps. like Glip. Rebol2Red 20:09Excuse me Gregg, but i do'nt know what you mean by: 'If you put the opening { on the same line as blok: your code can be pasted directly into the console' greggirwin 20:11Sorry. In your code you have blok: ; leave the follwing text as is!!!. If you select all your code and paste it into the console, it won't run. If you change the line to blok: { ; leave the follwing text as is!!!} it will, because the console sees the "{" and knows the line requires a continuation. 20:12I love copying things, and pasting them into a console to play. Rebol2Red 20:12Now i get it. I will use that in the future. lispberry 21:00Hi. Is there any quick and dirty way to add some network functionality to Red (TCP server)? greggirwin 21:30More complete I/O is planned for 0.7.0. If you're comfortable at the low level, you could do it in Red/System. Not sure that would qualify as "quick" though. :^) 21:31With luck, they'll do the heavy lifting and give us both TCP and some tools for building other protocols over it. lispberry 21:33Thank you for your prompt reply:)). greggirwin 21:36The basic I/O in place today is based on high level interfaces for simple HTTP reads on the networking side. Nothing you could hack easily for a TCP server. pekr 21:45@greggirwin - good comment on the Reddit. I am not sure it was worth to do the PicoSheet in 17 LOC. Its maybe about our tastes, but I would prefer it claiming 66 lines of code (which is still impressive) and providing readable code out of the box .... Red/Rebol languages also claim strong need for the code formatting, that's why. I find their code elegant! 21:47On the other hand, it would negate the need to mention Codegolf and the pointer to cool shaped C sources :-) meijeru 22:12 qtxie 22:14@dander Maybe we can use [Appveyor](https://ci.appveyor.com/project/red/red) to do the chocolatey publishing. And yes, we use powershell in Appveyor. Dobeash 22:47 22:48https://gist.github.com/Dobeash/d1ed116067951b3a268cc84fc4e7f884 greggirwin 23:28Nice to see you Ashley! Yours will return the position of the first match it finds, which may not be the first error position. This will return the first error position: invalid-utf?: function [ ; https://robots.thoughtbot.com/fight-back-utf-8-invalid-byte-sequences "Checks UTF encoding; if correct, returns none else position of error." binary [binary!] ][ bad: [ #{C0} | #{C1} | #{F5} | #{F6} | #{F7} | #{F8} | #{F9} | #{FA} | #{FB} | #{FC} | #{FD} | #{FE} | #{FF} ] if parse binary [any [[mark: bad (return mark)] | skip]] [none] ] invalid-utf? #{00000000} invalid-utf? #{C100FF00} invalid-utf? #{000000FF} invalid-utf? #{00FF00F8} 23:37Though yours will be faster. Friday 8th July, 2016 dockimbel 01:32 01:34@Dobeash Nice to see you here. ;-) You could implement invalid-utf? using a Parse rule since 0.6.1, which adds support for parsing binary series. 01:36@LispBerry If you can't wait for 0.7.0, you can wrap the C Socket API using Red/System and expose those features to Red through "routines". Though, you would need a bit of Red internal API knowledge also for that. greggirwin 02:24@SteeveGit, or anyone else, do you think the latest entab/detab gist is good enough to propose for inclusion in Red? If not, what should change? dockimbel 03:20We're on [HackerNews](https://news.ycombinator.com/) frontpage right now, please upvote! ;-) Zamlox 05:10@dockimbel nice PicoSheet demo. 05:11I downloaded latest automated build and for some reason I'm not able to paste code in console. greggirwin 05:14Can you right click and use the context menu to do it? 05:15I had a problem copying with ctrl+C earlier, but can't dupe it now. Zamlox 05:15It looks like for first time running I'm not able to paste it although I'm using context menu. After running it again I can do it. dockimbel 06:44@Zamlox Thanks! ;-) I can't reproduce the issue. greggirwin 06:54collect-values/collect-words mezzanines: https://gist.github.com/greggirwin/aa5615f051ca1b553c952ed460841e02 It could support /ignore for Rebol compatibility, but that appears in the R3 source exactly twice, in the same function, when making modules. I don't think we need it. If we include it, let's please not do it like the R3 code where you have also either ignore unless as four words in a row. DarioX1973_twitter 07:38In Red, what does "mezzanines" mean? basic function usefull for programmers but that are not in the built in Red functions? sorry for stupid question ... greggirwin 07:41Not a stupid question. They are just basic functions. We call them mezzanines to distinguish them as being higher level, different from native functions written in Red/System. DarioX1973_twitter 07:41Anothe newbie-question, Greg. If i want to import your mezzanine that i have copyied into a "greg1.red" file, into my file, how can i do that without executing the final print statements? PeterWAWood 07:42It's use started just as it would be use in architecture to mean "in between". Rebol was written in C, some functions were written in Rebol itself and included in the binary distribution. It distinguished them from user written functions. DarioX1973_twitter 07:42so the print statements can be a test, but when i import, they don't execute ... greggirwin 07:42You can just comment them out in your file. Or delete them if you don't want them as examples or test cases. 07:43Peter's mezzanine description is better than mine. DarioX1973_twitter 07:45Greg, i was thinking of the pythonian way if __name__ == '__main__': main() if there was something similar, in Red. So, there is not? 07:47@PeterWAWood Ah, so Red mezzanines are in Red, but they are in the red.exe ... so, to mean a useful function that i add a my script.red, i can't call it "mezzanine" because is not in the red.exe built in ... i undestrand well? 07:48are made in Red sintax, i mean ... 07:48 07:49 07:49not a problem if __ main __ is not in Red ... :-) only to know ... 08:09@dockimbel On comment on Hacker news. Continue on this way, because capacities of compact a lot of staff in small code, or LOC, is always an objective value can do so many things in a few lines of code . A language that can do so much in a few lines , it can always do it more explicitly into multiple lines , whereas the reverse is not possible. So, go on despide comment like "...but i prefer a better expained code in more lines...". This is pratically true, but a languace that can compact LOC, it smashes! 08:11For example, pascal (Delphi i mean) can't compact too much, so i write a lot, a lot, of lines of code ... to be honest, this is really boring ... Bitsoma 08:11Hello all, PeterWAWood 08:11@DarioX1973_twitter Some people refer to any library function (as opposed to a function used in a single program) as a mezzanine function. rebolek 08:11Hi @Bitsoma DarioX1973_twitter 08:12Also the philosohy of "copy and paste and wow" is very good because with few language can really do it , so another "objective value" to continue to show, in my modest opinion. :-) Bitsoma 08:13Hello all, I am currently transfering scripts from Rebol to Red and I need ftp/sftp. Much to my surprise the on Trello under 'network i/o' ftp is not listed. Will ftp be included with the next 0.7 Network release? dockimbel 08:16@DarioX1973_twitter Thanks for your kind support! ;-) DarioX1973_twitter 08:17@PeterWAWood Ok , so it's basically staff written in Red sintax, and after this, that staff can be external or internal depending of people tastes 08:17thanks peter and greg greggirwin 08:17@DarioX1973_twitter there is no main in Red. It's not needed. dockimbel 08:18@Bitsoma FTP requires significant work, I'm not sure we will add it in 0.7.x, unless someone contributes it. Though, SFTP will be supported as soon as we get SSH support. Bitsoma 08:35@dockimbel Thanks for the info. I will stay patient. greggirwin 08:49VID version of Nenad's PicoSheet: https://gist.github.com/greggirwin/8d0b1c02ccdbd5520d9c77d49ea91ada 08:50Blatantly lifting his actor funcs. :^) luminarious 10:49Hey! I too just saw the picosheet and wanted to try it, but ran into issues on OSX. Namely, how to run the binary? As it is, OSX tries to open it as a text file :/ rebolek 10:51@luminarious OSX doesn't support GUI yet. You have to try it in Windows version, or using Wine. luminarious 10:55That may be, but I would at least like to know how to run a simple hello world? Arie-vw 10:56@greggirwin OK. Alas sometimes it is a bit difficult. At least we have a list of pure Red words. Other terms most of the time then belong to a dialect I guess. maximvl 11:11@greggirwin what does "VID version" mean? pekr 11:25@maximvl - it uses a VID dialect for the gui construction part, not just bare bones face objects .... VID dialect is decomposed into the face object hierarchy structure though. You can use it, or program directly using the low level objects directly ... maximvl 11:26@pekr ok, thanks for explanation 11:26Doesn't Rebol also have DRAW dialect? rebolek 11:28@maximvl It does. Red also has DRAW. maximvl 11:29and how is draw related to VID/faces? rebolek 11:30You can put Draw code into face/draw 11:31@maximvl take a look at [documentation](http://doc.red-lang.org/gui/Draw.html) maximvl 11:36there is a nice picture on architecture page, ye SteeveGit 13:05Ok, I try to debug some routine! of my own. But how can I see the generated source for a specific function. I tried to use the -v option but it's only global, and seems I can't find my way thru MB of compilation output with -v > 1. (-r + --red-only, don't show routine's output, it seems) 13:19Ok, I remembered the use of #verbose in source, Seems it works. It would need a proper documentation though. qtxie 14:59@grahamf21 @x8x I've fixed the call issue and now we can specify a binary! as output, in case the external program output binary. pekr 15:10Is CALL coming to Red soon? That would be cool - would allow to work with DBs too, as some of them offer executables to call and pass the results on ... Rebol2Red 15:22You can't read an invalid UTF-8 encoding site or file with read (or load, which purpose is to load a red file) To avoid reading invalid UTF-8 encoding sites or files so your program does'nt stops with an error: sites: [http://ilse.com http://www.idnes.cz http://google.com] foreach site sites [ ; read site http://www.idnes.cz does'nt work ; *** Access Error: invalid UTF-8 encoding: #{96207A70} f: try [ to string! read/binary site ] either error? f [ print [ site "-->Invalid utf-8" ] ] [ print [ site "Valid site, now you can do (at this place) for ex. print read site" ] ] ; or you can use: ; if not error? f [print read site] ; do nothing when encountering utf-8 error ; instead of either error? f [...] ] Works the same for local files! files: read %./ ; for current map foreach file files [ f: try [ to string! read/binary file ] either error? f [ print [ file "--> Invalid utf-8" ] ] [ print [ file "Valid file, now you can do (at this place) for ex. print read file " ] ] ] (It's a bit difficult to make things clear within the code but hopefully you can get the idea. Feel free to ask for any help) grahamf21 16:43@qtxie Yes it is OK now, thanks. greggirwin 17:14@Rebol2Red, @Dobeash posted a func here, recently, to check for invalid UTF8. tanstaaf1 17:19At some point {whenever @dockimbel has lots of free time:-} I've been wanting to discuss how much, and simply "how", some type safety might be built into red. I've seen a bit of the type system in Haskell and I feel it's the most impressive step-forward in programming in literally decades. Elm, Rust, and some other newer languages have their variations and I would like to see some sort of pretty solid type safety built into Red. Yes, I'm aware that something rock solid like Haskell or Rust has the advantage of compilation. So, I honestly don't know what might reasonably be done in terms of providing some of that guaranteed correctness in Red. I almost feel this (and maybe some other areas of thought) deserve their own room here so the comments might accumulate through time instead of getting swept down river in the 100+ comments a day flood waters. Anyway, I ran across this article which I wanted to share as an opening piece for the discussion. I used to say Haskell had "strong typing" but per this article that is a wrong headed way to talk about what Haskell, Rust, Elm etc. have. Here's the article link: http://blog.steveklabnik.com/posts/2010-07-17-what-to-know-before-debating-type-systems greggirwin 18:32I recently came across http://shenlanguage.org/, which has some interesting ideas in it. Since it's a big topic (and a long article I ended up skimming quickly), how do you see it working, concretely, in Red? Rebol2Red 18:36@greggirwin Sure, i have looked at it and wanted to use it, but you ca'nt. It's a kind of chicken and egg situation: You can't check for invalid-utf because you can't read the file or url in the first place without getting the error. This is why i posted the code greggirwin 18:39It should work if you use read/binary, yes? Rebol2Red 18:39Nope, you get the infamous utf-8 error greggirwin 18:40Ahhhh. Hmmmm. Rebol2Red 18:40If you look carefully at my code you will see how i solved this greggirwin 18:41 red>> b: read/binary http://www.idnes.cz == #{ 3C21646F63747970652068746D6C3E0D0A3C68746D6C3E0D0A3C686561643E0D 0A202020200D0A202020203C6D65746120687474702D65717569763D22582D55 412D436F6D70617469626C65222063... 18:41Seems OK here. Red shouldn't do any decoding if you use /binary Rebol2Red 18:42Huh, I'll check it over again greggirwin 18:42It's the to string! that will fail, which is why invalid-utf8? works on binarys, so you can check before doing that. Rebol2Red 18:48Yes, you can do read/binary but not show the contents of it with read ... greggirwin 18:50You need to check for validity, but you can use invalid-utf8? *instead of* try/error?. Trapping the error may be faster, but it won't tell you where the invalid part is. Rebol2Red 18:52Oke i will rewrite my code.. Can i remove the shown code someway? greggirwin 18:52So, with invalid-utf8? you could show as much valid data as there is, up to the invalid part. That may or may not be useful, depending on your needs. Another aspect is that the read itself may fail, so the site may contain good data, but is just unreachable. 18:53I wouldn't worry about removing it. It provides context for the chat we just had. Rebol2Red 18:55I have to tame my enthousiasm to post (wrong) code ;) greggirwin 18:55Another step, again depending on the need, would be to scrub the data and *make it* valid UTF8, with bad parts removed. 18:56If I tamed that in myself, I might never post anything. ;^) Rebol2Red 18:56lol 19:04Do you think i Should post the corrected code? greggirwin 19:10Sure. Rebol2Red 19:14 greggirwin 19:18Since either is an expression, you can lift print out of your blocks and put it before either if you want. Not a big win here, but sometimes those little savings add up. Not just in duplication, but in showing that the same thing is done to both results. Rebol2Red 19:40The code for handling files was wrong. That's why i removed the code. For handling files it is a must to determine if it's a folder or a file because a folder is a block and a file a binary (at least over here because you do read/binary) The invalid-utf? function does not like blocks So it will take me some time to post the code correctly 20:12 invalid-utf?: function [ "Checks UTF encoding; if correct, returns none else position of error." binary [binary!] ][ bad: [ #{C0} | #{C1} | #{F5} | #{F6} | #{F7} | #{F8} | #{F9} | #{FA} | #{FB} | #{FC} | #{FD} | #{FE} | #{FF} ] if parse binary [any [[mark: bad (return mark)] | skip]] [none] ] urls: [http://ilse.com http://www.idnes.cz http://google.com] foreach url urls [ either invalid-utf? read/binary url [ print [ url "--> Invalid utf-8" ] ] [ print [ url "--> Valid site" ] ] ] files: read %./ ; for current folder foreach file files [ if not dir? file [ either invalid-utf? read/binary file [ print [ file "--> Invalid utf-8" ] ] [ print [ file "--> valid file" ] ] ] ] 20:25I removed ';https://robots.thoughtbot.com/fight-back-utf-8-invalid-byte-sequences' from your function So you can paste the code directly into the console And thank you for your kind support and to show me where i am wrong. I really appreciate it. greggirwin 20:30Nice. I just carried that comment over from Ashley's code. 20:32The note about dirs is a good one. We should make sure that's in doc examples. x8x 23:04> @grahamf21 @x8x I've fixed the call issue and now we can specify a binary! as output, in case the external program output binary. 23:08Thank you very much @qtxie !! call is the one function that make it possible to work around any missing feature in Red ! I've posted some comments on your commit. 8-) Saturday 9th July, 2016 hellcoderz 03:40hi. I am new to Red. I got an error trying to compile a source file in linux/ubuntu 03:40-=== Red Compiler 0.6.1 ===- Compiling /home/hellcoderz/soft/tests/red/read.red ... *** Compilation Error: undefined word ask *** in file: %/home/hellcoderz/soft/tests/red/read.red *** near: [ ask ">" ] 03:40code is: 03:40Red [] ask ">" 03:41Does it require any more dependency? 03:43"ask" is not working otherwise i am able to compile a file dockimbel 03:56You need to download the Red source code, and from the root folder add this include in your source code: #include %environment/console/input.red hellcoderz 03:57got it. thnx 03:57:) PeterWAWood 05:02The dockimbel 06:33@tanstaaf1 Not opening a debate now (because that topic is endless), what I have in mind for Red is defining a subset of the language that can be fully statically analyzed, something like Typed Racket, but with a smooth integration between Red and Typed Red, using gradual typing. xcombelle 07:12launching what in red console I observed that several words lack of description ralfwenske 07:42Hi everyone, the joy I am having with Red reminds me of a similar excitement I had when I learned Assembler on IBM 370/158 (ahem... in 1969). I have great admiration for Nenad and everyone contributing to this milestone in software development. (Too many great aspect to list them all :) Thank You! I encountered the following oddity: am I missing something or is it a bug? ' Red[] x: none m: #(a none b 20) print [ "none? x ==>" none? x x] print [ "none? m/b ==>" none? m/b m/b] print [ "none? m/a ==>" none? m/a m/a] comment { results in none? x ==> true none none? m/a ==> false none ?Should this be: true none none? m/b ==> false 20 Red 0.6.1 - 2-Jul-2016/13:09:03+10:00 } ' pekr 07:44If you want to post a code-block, use 3x ` 07:50Here's a map datatype docs. It seems that setting a key value to none deletes is from map, so not sure none can be used as a valid value? http://doc.red-lang.org/Map!.html 07:56if a none value is specified as value, the key will not be created (see "Deleting keys" section). ralfwenske 08:00@pekr Thanks, will try next time... In markdown help it (also) shows: code 'code' It seems to do nothing ? Thanks for looking into this. I also found following in the doc: 'Trying to access a key not defined in a map will return a none value.' And I verified that: ''' Red[] x: none m: #(a none b 20) print [ "none? x ==>" none? x x] print [ "none? m/b ==>" none? m/b m/b] print [ "none? m/a ==>" none? m/a m/a] print [ "none? m/x ==>" none? m/x m/x] comment { results in none? x ==> true none none? m/b ==> false 20 none? m/a ==> false none none? m/x ==> true none Red 0.6.1 - 2-Jul-2016/13:09:03+10:00 } If none deletes the entry, shouldn't the test be true also (as it is with m/x) ? ''' pekr 08:01You are using wrong char. It is not: ' , but ` ralfwenske 08:02Testing now: Red[] rebolek 08:11:clap: dockimbel 08:54@ralfwenske Thank you very much for your kind words. If you have fun playing with Red, it means we have already reached one of our targets. ;-) 08:57@ralfwenske About your map issue, see this: red>> m: #(a none b 20 c) == #( a: none b: 20 ) red>> type? m/a == word! When using #(...) literal map syntax, the values are not evaluated, so none (a word!), stays a word. Remember everything you see in Red sources is just *data* until it gets eventually evaluated. ralfwenske 09:05@dockimbel OK! The penny has dropped. Particularly as meanwhile I found out that one can set a value to a non-existing key in a map. Carl's original work and your relentless adding to and guiding it - there simply isn't anything like it - as far as I know :clap: dockimbel 09:08@ralfwenske I am standing on the shoulders of giants. ;-) 09:11Just wanted to share with you guys some reactive JS (relying on FRP) [demo](http://cycle.js.org) I've stumbled upon yesterday. I made a Red version doing the same thing. The difference in cognitive load is baffling... what is wrong with JS crowd for producing so incredibly complex solutions? Am I missing something there (let me know in such case)? 09:12[![CycleJSvsRed.gif](https://files.gitter.im/red/red/9MEr/thumb/CycleJSvsRed.gif)](https://files.gitter.im/red/red/9MEr/CycleJSvsRed.gif) pekr 09:14Well, they will tell you, that their demo runs in a browser - the only cross-platform platform for GUI apps :-) 09:14I wonder, if VID apps, running in a browser, would attract ppl and win their attention? 09:15btw - what is the state with WebAssembly - still a young project? Is Emscripten still the only viable tool to "compile for web"? 09:17Good screenshots. I wonder, if it is time to post to HN, Reddit, etc., or is it too early, as Red is still missing some features? Some reactions were quite harsh, but maybe, with language related stuff, it is going to be always like that :-) rebolek 09:34@dockimbel great example Rebol2Red 10:07@greggirwin Even when using your invalid-utf? function i get the dredded utf error on some files If a file passes the invalid-utf test i can read it with the statement read, right? Well, I found this on internet: Not all sequences of bytes are valid UTF-8. A UTF-8 decoder should be prepared for: - an unexpected continuation byte - a start byte not followed by enough continuation bytes (can happen in simple string truncation, when a string is too long to fit when copying it) - an Overlong Encoding as described above - a four-byte sequence (starting with 0xF4) that decodes to a value greater than U+10FFFF So this must be the reason why some of my files passes the invalid-utf test but are invalid though I can send you a invalid file (.txt) and a test program to your email adres at pointillistic to show it to you. Or is there a full test anywhere? 10:12Now i think of it: Your test always returns the passed file or a part of it Maybe your function should return true or false. Then i can test on this (I have tried to do this but i am not good at parsing) What do you think? 11:01Aaaaaarg this is driving me crazy. If i did not needed this badly i would dump it. Your function returns none or position so i could test on none. Which i did. Still got the error. If i copy and paste the tekst from the file into a html file and open it with a browser (browsers skips invalid utf) Then copy and paste the tekst from the shown page into a file i can read it with the statement read. So i think this is the proof there are invalid bytes inside this file and the invalid-utf? function doesn't detect them all 11:14 11:17Can someone test this and show me the result? ;----------------------------------------------------------------------- ; INVALID UTF ;----------------------------------------------------------------------- invalid-utf?: function [ ; https://robots.thoughtbot.com/fight-back-utf-8-invalid-byte-sequences "Checks UTF encoding; if correct, returns none else position of error." binary [binary!] ][ bad: [ #{C0} | #{C1} | #{F5} | #{F6} | #{F7} | #{F8} | #{F9} | #{FA} | #{FB} | #{FC} | #{FD} | #{FE} | #{FF} ] if parse binary [any [[mark: bad (return mark)] | skip]] [none] ] print invalid-utf? read/binary http://rensvanschie.atwebpages.com/test.txt if none? invalid-utf? read/binary http://rensvanschie.atwebpages.com/test.txt [read http://rensvanschie.atwebpages.com/test.txt st.txt] Should give: none *** Access Error: invalid UTF-8 encoding: #{96202053} *** Where: read 11:33 pekr 11:34I get? *** Access Error: invalid UTF-8 encoding: #{96202053} *** Where: read Rebol2Red 11:36Yeaaaaaa, Thank you. This is the proof that the invalid-utf? function is not complete Oops, Now i have a problem. I do'nt know how to check for the other invalid utf codes. Maybe someone can? 11:58It is important to me because i am trying to make a program called find-and-replace This program must do the following: - Read all files in a folder or recursively read all files in a folder and his subfolders. Already working - Search for a tekst in all the files or in files with a partically extension This is the problem, you can't read a file with invalid utf at least not in Red So there must be a test on invalid-utf and when is the file must be skipped 12:23I have found this http://rgxdb.com/r/5A2OX1FG Matches text that is not valid UTF-8. It can be used to replace or remove bad characters from a UTF-8 encoded string. But the site is in beta and uses regexp /(?: [\xC0-\xC1] # Invalid UTF-8 Bytes | [\xF5-\xFF] # Invalid UTF-8 Bytes | \xE0[\x80-\x9F] # Overlong encoding of prior code point | \xF0[\x80-\x8F] # Overlong encoding of prior code point | [\xC2-\xDF](?![\x80-\xBF]) # Invalid UTF-8 Sequence Start | [\xE0-\xEF](?![\x80-\xBF]{2}) # Invalid UTF-8 Sequence Start | [\xF0-\xF4](?![\x80-\xBF]{3}) # Invalid UTF-8 Sequence Start | (?<=[\x0-\x7F\xF5-\xFF])[\x80-\xBF] # Invalid UTF-8 Sequence Middle | (?<![\xC2-\xDF]|[\xE0-\xEF]|[\xE0-\xEF][\x80-\xBF]|[\xF0-\xF4]|[\xF0-\xF4][\x80-\xBF]|[\xF0-\xF4][\x80-\xBF]{2})[\x80-\xBF] # Overlong Sequence | (?<=[\xE0-\xEF])[\x80-\xBF](?![\x80-\xBF]) # Short 3 byte sequence | (?<=[\xF0-\xF4])[\x80-\xBF](?![\x80-\xBF]{2}) # Short 4 byte sequence | (?<=[\xF0-\xF4][\x80-\xBF])[\x80-\xBF](?![\x80-\xBF]) # Short 4 byte sequence (2) )/x Maybe soneone can make a invalid-utf? function out of it? dockimbel 12:24@Rebol2Red I think your coding session should be moved to red/welcome rather. ;-) Or maybe we need another room for such coding session cases, to avoid flooding the main channel. Rebol2Red 12:25Alright i will change channel pekr 12:26This is more a developers's channel. I mean - Red development itself related. dockimbel 12:26Maybe a new red/help room? pekr 12:27Welcome channel is not mostly for newcomers, so it might turn being disturbing a bit too. We should not introduce tonnes of new channels, but this might be helpful. Help is a good one ... 12:27What do we have in term of Altme? dockimbel 12:27Giving some help from red/red is fine, but if it becomes a flood, then it should better be in a another room. pekr 12:28Ah, we have that Rebol school channel. Help is a better name imo dockimbel 12:28"Welcome channel is not mostly for newcomers" It is for newcomers, for asking questions about Red and its usage. But for long coding sessions, it might not be good too. Rebol2Red 12:30Whatever channel you want me to go i'll be fine with it But i must release myself from my code It makes things much more clearer and is easy to copy and paste code into the console to test it red/welcome? dockimbel 12:49I've just opened a [red/help](https://gitter.im/red/help) room. Rebol2Red 12:53Just a few remarks, do'nt be offended. I am NOT a beginner. Coded in rebol and other languages a lot. Maybe my english is not so well. I am dutch. I know very well that my english is not good, maybe sometimes childish. Sorry about that. 12:54@dockimbel Thank you pekr 12:55As Doc said - it is not about moving you to the newcommer/beginner channel. It is about the flood one such deep case creates here. I really think that Red/help is a nice and well named channel to fit the case ... Rebol2Red 12:56I agree. But the room doesn't show up at the left side of the screen. I can go to it with https://gitter.im/red/help Maybe because there is nothing posted yet? pekr 12:59when you switch there, you have to "join" the room, via the button at the bottom left ... Rebol2Red 13:00Well, now it turns up. Thanks. greggirwin 13:58Had to get this out of my head: https://gist.github.com/greggirwin/53ce7d1228422076e142fa5a061e7649 Now we can easily write a lint tool that tells us our funcs have too many args. SteeveGit 15:13I found an old script of mine coded in Rebol but it was damn slow, so I never published it. Now it runs smouthly with Red/system. https://www.youtube.com/watch?v=gvO4e3Vyzrg rebolek 15:15@SteeveGit Nice! I also wrote [texture generator](http://www.rebol.org/view-script.r?script=texture-lab.r&sid=bdcd246iz) years ago, I probably should try to port it to Red also. SteeveGit 15:21@rebolek I remember your script. Is that also based on perlin noise ? rebolek 15:27@SteeveGit It is based on Rebol's random numbers and View's image effects (that are not available in Red/View yet, IIRC). 15:28It generated one noise picture, placed it in 3x3 grid and then repeatedly applied effects like blur, sharpen and contrast. That way it was possible to create seamless textures. dockimbel 15:53@SteeveGit Great work! Will you open source it? SteeveGit 15:54I'm looking to post it on red/code, Should I also propose an .exe since it needs to be compiled (routines inside) dockimbel 15:57@SteeveGit No need for an exe, let people compile it. 15:58@rebolek Texture generators are very welcome. ;-) SteeveGit 16:29@dockimbel I pushed the demo. greggirwin 18:26Very cool Steeve! And I'd love to see Bolek's ported as well. There are some wonderful old demos out there. SteeveGit 19:12For those interested, the source is here: https://github.com/SteeveGit/code/blob/master/Scripts/perlin.red greggirwin 19:21Thanks Steeve! 20:08:point_up: [July 9, 2016 3:08 AM](https://gitter.im/red/red?at=5780bf2159cfbd4c5e597732) WRT FRP, these could be great little blog entries. You don't have to condemn the other guy, just compare; show how its done in Red. I found, with a couple simple tests, that you can get negative offsets if you move the mouse away from a face fast enough. view [ text 500x500 all-over on-over [face/text: form event/offset] ] view [ text 200x24 react [face/text: form evt-src/data] evt-src: text 500x500 all-over on-over [face/data: event/offset] ] 20:11Some time back I went to a local talk on Android, and he focused on ReactiveX. Of course I came up and started whipping up a Red version to play with. I haven't pursued it further (and ReactiveX has all kinds of stuff in it that I think isn't...anyway), but showing what it looks like in Red, or even how you would put a wrapper over it for people moving to Red, with react and object ownership, will be great. 21:02But Doc, look how slick the Cycle.js site is, with its cool graphics and jumbo-tron styling. ;^) Joking aside, it really is a slick looking site. Glancing at the code, it seems clean and well-commented. And the interactive marble diagrams on reactivex.io are pretty cool. So they definitely know how important marketing is. pekr 21:28@greggirwin - when I constructed my 2 websites (2+ years ago), I went via some website construction kits, and what I see with Cycle.js, is just a slick template, where you can find tonnes of those available even for free ... greggirwin 21:29Of course Petr. It's the new look, which means you don't stand out using it anymore. Personally, I find it a big waste of space. I really don't care so much about shiny, but it appears a lot of people do. pekr 21:34I am not much into JS anymore (well, I never was), but the code looks to me far from readable. Well, readable it is, but difficult to understand for me - the whole web coding syntax is just terrible mixture of styling, dom, js, etc. 21:34Btw - Doc plans on new website for Red too. It is just not a priority right now, although on the other hand, Red seems to gain some attraction lately ... which is cool of course! Sunday 10th July, 2016 dockimbel 04:47@greggirwin The biggest issue with Cycle.js is not the framework per se, but that they picked up something very simple as example, and turned it into a monster code. For more complex cases, processing globally events as streams is an interesting approach where FRP can provide a pretty clean solution. I plan to add event streams support at some point, and have similar reactive HOF support, though, Red should be able to achieve it in a much lighter way. I'm pretty sure you could already implement such framework for GUI events in pure Red by just adding a global event handler and creating a reactive stream out of captured events there. greggirwin 12:32Agreed. 12:33Could be a very fun demo, creating a non-native GUI, just a couple styles, and how that could be done. logicalguy 14:56Hi, I'm brand new to red and working through the examples. I'm getting an error while trying to compile a GUI example. rebolek 14:57 @logicalguy are you on Windows? logicalguy 14:58No I'm on linux 14:58Compiling to native code... *** Compilation Error: invalid definition for function exec/gui/GdipCreateFromHWND: [ graphics [GpGraphics!] return: [integer!] ] 14:58the code is Red [needs: 'view] view [button "Hello, world!"] SteeveGit 14:59you must have wine installed logicalguy 14:59is it a prerequisite? SteeveGit 14:59For gui only rebolek 14:59@logicalguy Linux GUI is not yet supported, only Windows and partially OSX. SteeveGit 15:00The backend for linux GUI is not here yet logicalguy 15:00Will we get native GUI in Linux anytime soon? rebolek 15:01We should, but I can’t tell you any ETA. SteeveGit 15:01See https://trello.com/b/FlQ6pzdB/red-tasks-overview for planned milestones logicalguy 15:02ok 15:03Can't see Linux GUI anywhere in that list SteeveGit 15:04Ok, that means it's not planned before the 1.0 release. But it works fine with wine, I'm using it under Ubuntu logicalguy 15:05Ok fair enough 15:05so what do you use Red for? SteeveGit 15:07Well, it's a multi purpose language as Rebol. But the community is mainly trying to help correct and improve internals 15:07Though, some people already construct demos logicalguy 15:08Is it being used anywhere in production? SteeveGit 15:08That, I don't know logicalguy 15:09ok 15:10Thanks people endo64 15:13When click on About menu item on GUI console it gives Script Error: old is missing its word argument. greggirwin 15:43Works fine here @endo. Is that in a fresh console? 0.6.1? Peristyle 15:53Why is there any-list? but not list? meijeru 16:34any-list? tests membership in the typeset any-list! which is defined as make typeset! [block! paren! hash!]. There is no type list!. Peristyle 17:00So one would just use a block when needing a normal list? rebolek 17:18yes dockimbel 17:30@endo64 It's a bug introduced by today's commits, will fix it tomorrow. greggirwin 19:43Does anyone know if gist.github.com can be made to use a condensed view, without the code bits? I just want to see a list of my gists. asampal 21:06@greggirwin , have you used the view you get with https://gist.github.com/{username} ? Is that still too verbose? greggirwin 21:09That's what I use. Only 10 gists per page. asampal 21:11[this](http://stackoverflow.com/questions/2082723/how-do-you-manage-your-gists-on-github?rq=1) suggests GistBox as a way to manage gists greggirwin 21:18Thanks. I was going to clone them, but my std auth is failing. Monday 11st July, 2016 Peristyle 01:14What's happened to for? WiseGenius 01:30@Peristyle It's been accused of not carrying its weight. greggirwin 01:58It was problematic under Rebol, for a number of reasons. I proposed a new one, but it's a pretty dramatic change: https://github.com/red/red/wiki/REP-FOR-loop-function I can send you the source if you want, so it can get some more testing. Peristyle 01:59Happy to do testing, thanks for the info yoffset 04:02small typo - list-dir description says "...given folder or current one." , but it is only given folder. dockimbel 05:21@yoffset It's a leftover from a previous version of list-dir. You can submit a PR for fixing that if you wish. 05:24@Peristyle for is not a great match for Rebol languages, as we have several specialized alternatives (like loopand repeat) which are simpler and faster. Though, if we can come up with a better for than the one in Rebol2, I'm not against including it. WiseGenius 06:10 red>> [{}] == [""] red>> [{{}}] [ 06:12@dockimbel The brackets don't match properly in the second case. 06:14Also, ({{}}) Peristyle 06:18@dockimbel ''' 06:23repeat and some math was sufficient. I've been working on a little prelude to make Project Euler easier and to learn how red evaluates/scopes stuff ''' span: fn [ i s 'j n /local xs v][ xs: lift i repeat v (n - i) / (s - i) [append xs (s - i) * v + i ] ] ''' 06:26I wonder if it will work this time, anyways, so far red has been pretty fun result: 0 ; Uhh? repeat i 999 [if (i % 3 = 0) or (i % 5 = 0) [result: result + i] ] print ["Result A:" result] ; :^) print ["Result B:" sum filter [fn [x] [(x % 3 = 0) or (x % 5 = 0)]] till 999] print ["Result C:" sum filter [or= mod= [3 5]] till 999] print ["Result D:" sum union span 3 6 . 999 span 5 10 . 999] dockimbel 06:37@WiseGenius Worth a ticket. 06:39@Peristyle Glad you have fun with it. ;-) Why the "Uhh?"? Peristyle 06:49It needed parens on the i % 5 =0 and it took me a bit to figure that out. On a side note, what is up with now: ? returns info on it, but using it yields an internal error. Is it not fully finished yet? dockimbel 07:06@Peristyle We have time! support but no date! yet, so now/time works, but not now yet. Peristyle 07:17Note to self: do not put spaces in front of refinements. Thanks for the help Nenad 07:24I'd be willing to help with date!, but I have no idea how to dockimbel 07:30@Peristyle If you are fluent in Red/System and low-level programming, you could port the Rebol3 C code for the date! type to Red. Peristyle 07:46t-date.c? dockimbel 08:56@Peristyle Correct, and also we need to convert the Scan_Date() function to lexer Parse rules. 08:57If you think you can handle that, we can provide an empty date! implementation for you to fill, starting with parsing rules. xqlab 09:00 x: 'a parse [a ] [ to x ] 09:01 x: 'a parse [a ] [ to x ] gives an infinite loop dockimbel 09:03@xqlab Good catch, please open a ticket for it. xqlab 09:43done dockimbel 10:06Thanks. meijeru 17:30Welcome to tag! datatype. In tag.reds I find some remnants of url.reds - surely an oversight. greggirwin 17:35Must be *really* fresh. Fails building consoles here, so likely very much in the works. Tuesday 12nd July, 2016 dockimbel 00:29Console builds fine here with tag!. x8x 04:12 dockimbel 05:05@greggirwin Does your console building still fail? pekr 05:39Will CALL be integrated into the default gui-console, without the need to include it? greggirwin 06:15Build still failing here (assuming Master). Late here. Will investigate tomorrow. *** Loading Error: file access error: %datatypes/tag.reds *** in file: %/<blah>/GitHub/red/build/bin/datatypes/time.reds *** at line: 100 06:15blah is to save path space. :^) x8x 06:16@greggirwin red/build/includes.r is missing %tags.red dockimbel 06:59@x8x Good catch! You can make a PR to add it. pekr 07:07just curious, probably correct, but do we need to expose, that Red is case insensitive? red>> type? a: <afadfa afda af as > == tag! red>> help tag! a : <afadfa afda af as > A : <afadfa afda af as > 07:07I mean - why helpreports both cases? CodingFiend_twitter 08:35Dear Nenad, I wanted to introduce myself, i am working on a new language called Beads, and i know another team in San Francisco that is working on a language called Eve. As designing a new general purpose language is a daunting task, i thought that we should form an informal association, and get to know each other. If you study the history of art and music, all the pioneers knew each other to some extent. 99.9% of people will use existing tools, only a few determined and possibly reckless people dare to build their own. I am located in Oakland, CA, and evidently you are in Xiamen, so it might be a while before we have lunch. If you do happen to come here to California for some reason, please let me know. pekr 08:45Welcome :-) CodingFiend_twitter 08:47why did the chat room insert the words "expired" in the front of my word Beads or Eve? pekr 08:47I can't see anything like that here ... CodingFiend_twitter 08:50i see the google browser got too clever for its own good when viewing this page and translated it from french... which has hilarous results. 08:54The Eve team led by Chris Granger, is a VC funded project, which started out with the purpose of making a new general purpose next gen language, but lately has been working exclusively on graphical tools where you program using a natural language front end for database queries, with lots of dataflow aspects to their project. They do have an interior language, which doesn't seem like it has a published grammar yet. My Beads project is a deductive language, and the reason i bumped into Red is that your latest addition of automatic recalculation does intersect with the deductive model. I consider this latest addition to be one of the greatest things you have added to the Red language. Anyway you are a busy guy, and i just wanted to touch base and connect so that the three team leaders each know each other exists. dockimbel 08:54@CodingFiend_twitter Hello, nice to meet you. I know and follow the work on Eve. I just checked Beads, sounds exciting, the pitch on [Angel.co](https://angel.co/beads-1) could be pretty much our pitch too. ;-) I would be glad to know more about it. I am all for such informal association as I see some common area of research in our respective projects. I plan to come to SF this summer if possible (though we have a heavy coding schedule, so not sure yet when precisely). 08:56I follow Chris Granger's work since Lightable. ;-) 08:56Let's switch to private chat. CodingFiend_twitter 08:57how do you do that? pekr 09:39Cool stuff guys, I just checked on Lightable and Chris Granger'S Eve HyperLoop talk. Seems so similar to the principles Rebol and Red authors seem to follow! maximvl 10:00I just mentioned Eve here like two days ago, and now we have people from it here, nice :) justjenny 12:58Hi, was looking at the reactive spreadsheet on the Red homepage, I downloaded the prebuilt console(version 247 kb) - my anti-virus is warning me it has 'IDP.ARES.Generic' and quarantines it. Not sure you know about it? pekr 13:18Tha happens sometimes. It is advised to report to the AV company and ask for a whitelisting, as it is a false positive reaction ... dockimbel 13:45@justjenny Most anti-virus have poor heuristics for detecting unknown threats, which results sometimes false positives with current Red's toolchain. Our build backends run on Unix, not Windows, so, it's extremely unlikely for them to get a Windows virus that would be transmitted to the generated executables. BTW, which AV are you using? justjenny 14:16@dockimbel Yes i realise that now - I use AVG professional version - It does look like an avg problem. dockimbel 14:17You should be able to whitelist the files that are wrongly detected in AVG, so it won't annoy you with it anymore. justjenny 14:18yes already done it - thanks, sorry for the false alarm . greggirwin 15:16Missing %tags must have been the issue. Builds now. Thanks all! dockimbel 15:54Parsing using tags is now properly supported: red>> parse read http://www.red-lang.org [thru <title> copy txt to </title>] == false red>> txt == "Red Programming Language" pekr 16:28@dockimbel sorry if I am completly stupid, but should the following code work? (works in R3, uses to/thru multiple): red>> parse "this is the test" [copy text to ["." | end] (print text)] == false 16:29The rule is not complete, hence the false, but it should print the string towards the end at least? djrondon 16:31Cool!!!! :smile: dockimbel 16:36@pekr Looks like a bug, worth a ticket. This is the simplest form of it: red>> parse "x" [to [end]] == false pekr 16:36OK, I'll submit ... greggirwin 20:15Go Doc Go! Wednesday 13th July, 2016 Peristyle 01:27Is there a way to check if the script is running compiled or uncompiled? WiseGenius 02:15@Peristyle either system/state/interpreted? [ ;do stuff ][ ;do other stuff ] Peristyle 02:18Thanks, and #include is how to compile additional scripts, or is there a better way? WiseGenius 02:24@Peristyle That's what I've been using. I assume you want to do something like: either system/state/interpreted? [ do %file.red ][ #include %file.red ] There has been a [proposal](https://github.com/red/red/issues/1601) to let the interpreter interpret #include as do. And then you could just write: #include %file.red But also, modules are coming in Red 0.8.0. Peristyle 02:30#including creates a script error for me however Script Error: till does not allow integer! for its spec argument ` 02:30 Script Error: till does not allow integer! for its spec argument WiseGenius 02:49@Peristyle What happens when you compile just the file you #included? Peristyle 02:59Same error Anyways, I found the culprit set 'fn get 'function WiseGenius 03:48@dockimbel Am I missing something obvious? call doesn't work for me at all? In console-call, nothing is ever done, and -1 is always returned. In the following example, no b.txt was created. red>> a: call "copy a.txt b.txt" == -1 When console-call.red is compiled with the -d option, I get: red>> a: call "copy a.txt b.txt" Error Red/System call : CreateProcess : "c" Error : 2 == -1 red>> When console-call.red is tweaked to the gui-console version and compiled with the -t Windows option, call still doesn't do anything, but now it doesn't return anything either. red>> a: call "copy a.txt b.txt" red>> a red>> probe a red>> type? a red>> ?? a red>> Also, the following is not shown at the top: --== Red 0.6.1 ==-- Type HELP for starting information. When compiling the tweaked code with the -d option, the GUI console shows: red>> a: call "copy a.txt b.txt" red>> While the CLI shows: --== Red 0.6.1 ==-- Type HELP for starting information. Error Red/System call : CreateProcess : "c" Error : 2 == -1 All the above behaviour is the same in both Windows XP and Windows 7. 03:52GUI displays: red>> a: call "copy a.txt b.txt" red>> a red>> probe a red>> type? a red>> ?? a red>> b: 1 + 2 red>> ?? b red>> print b red>> While CLI displays: --== Red 0.6.1 ==-- Type HELP for starting information. Error Red/System call : CreateProcess : "c" Error : 2 == -1 == -1 -1 == -1 == integer! a: -1 == 3 b: 3 3 dander 03:55Does a copy exe exist? I don't think there is one on Windows. I think it's part of cmd dockimbel 04:04@qtxie Please have a look at issue above. WiseGenius 04:07OK, so instead of using %tests/console-call.red for the GUI console, I instead tweaked %environment/console/gui-console.red by adding the line: #include %../../system/library/call/call.red And now that displays everything properly in the GUI console, but call still doesn't work: --== Red 0.6.1 ==-- Type HELP for starting information. red>> a: call "copy a.txt b.txt" == -1 red>> a == -1 red>> probe a -1 == -1 red>> type? a == integer! red>> ?? a a: -1 red>> b: 1 + 2 == 3 red>> ?? b b: 3 red>> print b 3 red>> dockimbel 04:14@WiseGenius Does call/shell produce the expected result in your use case? WiseGenius 04:20OK, so call does work for .exe files in the same folder, and /shell works: red>> a: call "copy a.txt b.txt" Error Red/System call : CreateProcess : "c" Error : 2 == -1 red>> a: call "rebol-view-278-3-1 a.r" == 14388 red>> a: call/shell "copy a.txt b.txt" == 14672 red>> a: call "b.bat" == 16200 red>> a: call "b" Error Red/System call : CreateProcess : "b" Error : 2 == -1 red>> a: call "rebol3" Error Red/System call : CreateProcess : "r" Error : 2 == -1 red>> a: call/shell "rebol3" == 2984 red>> rebol-view-278-3-1.exe is in the same folder. dockimbel 04:21@WiseGenius It looks like Rebol2 uses /shell as default option, but I'm not sure it's a good idea. 04:22@qtxie We should have a proper Red error above if the command is wrong. WiseGenius 04:38OK, so I was missing something obvious after all. :blush: Thanks. 04:39It seems Red is skipping the crucial part of the output. The contents of b.bat is: echo "have a nice day" In Red: red>> b: "" == "" red>> a: call/output/shell "b" b == 0 red>> b == {^M^/H:\Work\Red\Tests Red\2016-07-13-12-37-16-red-master\red-master> In Rebol 2: >> b: "" == "" >> a: call/output/shell "b" b == 0 >> b == { H:\Work\Red\Tests Red\2016-07-13-12-37-16-red-master\red-master>echo "have a nice day" "have a nice day" } dockimbel 05:46Also the CRLF => LF conversion is missing (only if the output buffer is a string). pekr 06:39I know this is the same as in Rebol, but what is the quality of parse endmarker? 06:41 red>> parse "x." [to "."] == false red>> parse "x." [to "." "."] == true red>> parse "x." [to end] == true 06:42Generally tomeans - stop before the particular value. That is not true in the case of end 06:43I would probably find the following more consistent, although I have no strong opinion on that, as it works the same as R2: red>> parse "x." [to end end] == true red>> parse "x." [thru end] == true 06:45OTOH I know, that stuff like end, headand tailare special beasts, as they are not a char value .... 07:36@greggirwin as for for, I **very much** like the version similar to recent Rebol, just with args enclosed in a block (could be dialected, but imo not necessary): for [i 10 5] [print i] 07:37It is nicely readable and it is similar to whilein that sense, that first part is the block too ... 07:39That of course leads us to question, if ifcould not be the same, but you can help yourself using allfor e.g. dockimbel 08:04@pekr *"Generally to means - stop before the particular value. "* That's a wrong description, it "means" stop **at** the argument value. The right description would be: to advances the input until its argument rule matches. thru advances past the matched rule. to end means advance until end is reached (more accurately, until tail of the input is reached). thru end does the same, but cannot go past the end, so it returns end position too. x8x 09:09@dockimbel Am I understanding correctly, call with /shell will call the user shell while without /shell it will execute the command with sh? 09:10So without /shell it should be slightly faster, eg won't load the full environement ? dockimbel 09:11@x8x Incorrect, call simply launches the executable you provide, while call/shell launches a shell (cmd on Windows, sh on Unix) to run the command you provide. 09:12Yes, without /shell, it's faster and use less resources. pekr 09:14I just hope callis going to be part of the "default distro" (if there's anything like that with Red). I regard it being really powerful feature (the one its ommision along with missing library module killed R2 popularity), and although its implementation might be quite complex, it is extremely useful for interfacing ... x8x 09:16Agree, @qtxie is kind enough to put some final touch on it! On Trello it says it will be included soon. endo64 09:18 x: foreach x [] [] x will be none! on R2 and R3 but unset! on Red, is it a bug or on purpose? Script Error: x: needs a value x8x 09:19@dockimbel /shell will use the user set shell not sh: ;-- Shell detection shell-name: declare c-string! until [ if null <> strstr system/env-vars/item "SHELL=" [ shell-name: make-c-string length? system/env-vars/item strcpy shell-name (system/env-vars/item + 6) ] system/env-vars: system/env-vars + 1 system/env-vars/item = null ] :-P endo64 09:20Sorry, this one is better: x: foreach v [] [] dockimbel 09:20@endo64 It's not normalized yet, there's a ticket about that. endo64 09:20Ok, thanks. dockimbel 09:21@x8x Thanks, didn't look at the details of the code yet. So, sh is a good approximation, as not many users are changing their default shell. ;-) x8x 09:24I don't know of any distro that has sh as user shell by default! it's mostly bash! ;-) 09:25is there any use case of calling call with /console without /wait ? endo64 09:25I wrote a function to find the first difference on given two string!, find-diff: function [s [string!] e [string!]] [ i: 1 foreach c also p: pick b: reduce [s e] lesser-or-equal? length? s length? e b: first head remove find b p [ unless c = pick b i [return at b i] i: i + 1 none ] none ] s: "test" d: "text" find-diff s d == "xt" 09:27It was for R2 and worked without change for Red, great! (the only change is to put none at the end) 09:28That complicated part is for "pick the shorter one for the loop over and return the other one". dockimbel 09:30@endo64 Nice. You should rather use function is you want your iterator words to be captured, as there's no local context so far for them in Red. 09:30@x8x Right, I just checked on my Linux image. ;-) endo64 09:37Thank you doc! I did. It is not compatible with R2 now but no problem. I didn't know that function captures iterator words. Good to know! Thanks. dockimbel 09:38If you want to keep it compatible with R2, you can just add the iterator words manually to /local. x8x 09:39@dockimbel can u think of a use case of calling call with /console without /wait ? dockimbel 09:40@x8x No. x8x 09:41me too.. but maybe better leave users choose than enforce /wait for /console. Enforcing it would prevent misunderstandements thought. dockimbel 09:44@x8x I'm not the one working on CALL, you should send your questions to @qtxie. x8x 09:49actually call/console/wait will still stream results, the difference is that u get a status code after it finish. 09:50ok I'll keep it with @qtxie .. :-) Zamlox 09:54given following sequence: red>> a: [1 [2 3]] == [1 [2 3]] red>> b: first next a == [2 3] is there a function which applied on b will give as result a ? dockimbel 09:57@Zamlox There's no backreference stored by default (as a series can be referenced by many values), but you can save it somewhere. I sometimes use hidden headers in blocks for such purpose. Zamlox 09:59@dockimbel all right. I was thinking at the same solution but I thought maybe there is a function and I don't know about. Thanks. dockimbel 09:59 lisp red>> a: [1 [2 3]] == [1 [2 3]] red>> a/2: insert/only a/2 a == [2 3] red>> a == [1 [2 3]] red>> b: first next a == [2 3] red>> b/-1 == [1 [2 3]] Zamlox 10:04@dockimbel nice trick ;) xqlab 10:58Will parse get the feature to match datatypes like any-string! ? dockimbel 11:05You mean matching typesets? It already supports it: red>> parse ["a" %a <a>][some any-string!] == true xqlab 12:31My fault. It seems that issue! does not belong to any-string! as in Rebol2. dockimbel 12:38issue! in Red is a any-word! as in Rebol3. Though, we are thinking about bringing back issue-as-string somehow. JenniferLee520 12:44In the current design of Red, Issue has symbol but doesn't have context. Which makes issue less like a word, more like a "constant string". A constant string can only be used to compare, and cannot be modified. dockimbel 12:48Issue! inherits from symbol!, like word!, but cannot be bound. JenniferLee520 12:48Making issue a string will make it not a constant anymore. There are some pros and cons. 12:57Carl talked about issue here: [Rethinking the issue datatype](http://www.rebol.net/r3blogs/0108.html ) 12:59He even thought about rename issue! to key-word!, according to this [article](http://www.rebol.net/r3blogs/0338.html) . Zamlox 13:06Is this a bug ? a: object [ head-buffer: buffer: make block! 4096 rule: [ skip ( process 'ATTR 1 2) ] process: function [ type [ word! ] value-1 value-2 ][ switch type [ END [ buffer: head-buffer clear buffer ] ATTR [ prin "buffer: " probe buffer append buffer reduce [ value-1 value-2 ] ] ] ] test: function [ dummy ] [ parse dummy rule ] ] a/test "abcdef" buffer: none *** Script Error: append does not allow none! for its series argument *** Where: append red>> buffer shouldn't be none If I comment out buffer: head-buffer in END section, then it's ok. 13:28It works also if I replace buffer: head-buffer with set 'buffer head-buffer dockimbel 14:30@Zamlox You got caught by the make-setwords-local-by-default behavior of function (I did too today). You need to declare buffer as an extern (function [... /extern buffer]), otherwise it will be captured as local (because you use it in set-word form inside the function's body). 14:32I find it more and more annoying, and hard to figure out when an unexpected behavior occurs because of it. func is at least predictable and scoping-related issues are easier to spot, because the specification is explicit in the code. Zamlox 14:37@dockimbel ok, I see. Evil function :) Thanks. dockimbel 14:39Evil it is. ;-) pekr 15:12View nor Layout don't evaluate parens? 15:14Trying to port my R2/R3 news scroller, I need the following VID code to work at (as-pair screen-size/x 10). I can compose a layout block, just wonder why R2/R3 don't need that? 15:34Hmm, do we allow direct setting of object values? Something like withor options? 15:37As for docs, my take is, when trying to look at some examples, that it is a bit confusing. I would move the whole View/Face types into the VID. I do remember old View R2 docs, and it contained mostly a pure View coding, objects, window hierarchy. On the other hand, I was looking for styles, and was not able to find them in VID docs ... felt strange ... greggirwin 15:43For now, I'm either composing or setting a word to the values, which is sometimes clearer, though not inline. view/options should work as in R2, but different opts available. For other window options, you can layout first, then set actors and such. ACTOR: func [body [block!]][func [face [object!] evt [event!]] body] canvas: none ; Needed for compiler right now win: layout/tight [ size win-size origin 0x0 canvas: base ... ] win/actors: context [ on-resize: ACTOR [...] on-resizing: ACTOR [...] on-resizing: ACTOR [...] ] 15:44I think Rebol split docs too. The View system will be too low level for some people who just want to start with simple things. pekr 15:47@greggirwin as you are a View/VID guru now :-) I need to move quickly. I ported (in a much hurrying and primitive mode) my old R2/R3 test of a news scroller. The intent is to run them in parralel and compare. It basically displays, but does not animate 15:47Here's the code - http://2zone.cz/pekr/news-scroller-red.red 15:47I calculate the screen, offset, display borderless news ribbon and place the text behind the right screen border. Then it is supposed to appear from right, scroll to left ... 15:49R2 version: http://2zone.cz/pekr/news-scroller-r2.r , R3 version (much faster): http://2zone.cz/pekr/news-scroller-r3.r .... to get the idea of how it is supposed to work :-) greggirwin 16:01I'll take a look when I get a chance Petr. We don't have a regular scroller/scrollbar style yet, but maybe your code doesn't use that. 16:04:point_up: [July 13, 2016 1:36 AM](https://gitter.im/red/red?at=5785ef86064f8287072cc36e) Also, @pekr , if it wasn't clear, my for func supports *all* those interface models in one. pekr 16:04Never mind. Will continue, once at home. Its a news scroller, like in tv :-) greggirwin 16:06Doesn't run under R3 for me here Petr. 16:07 ** Script error: expected command! not font ** Where: size-text do either either either -apply- ** Near: size-text txt win: make gob! compose [ size: (to-pair to... 16:08The first one works under R2. I'll look at that. pekr 16:10Hmm, runs with some old view13 here, sorry for that greggirwin 16:15 Red [ Title: "Simple news scroller" ] ;system/view/auto-sync?: no screen-size: system/view/screens/1/size news-bottom-offset: 0x100 news-height: 0x100 message: "Simple news scroller. Who makes me faster and smoother? ..." ;--- style for draw dialect bold64: make font! [style: 'bold size: 64 color: white] ;--- just to calculate text size .... txt: make face! compose [size: 3000X200 text: (message)] txt/font: make font! [style: 'bold size: 64 color: white] text-size: size-text txt win: view/options/flags/no-wait compose/deep [ backdrop green ;--- we place the text behind the right border of the screen .... at (as-pair screen-size/x 10) news: base 3000x200 0.255.0.255 draw [font bold64 text 0x0 (message)] ][ size: as-pair screen-size/x news-height/y offset: as-pair 0 (screen-size/y - news-bottom-offset/y - news-height/y) ][no-border] forever [ wait 0.001 news/offset: news/offset - 1x0 if (news/offset/x + (first text-size)) < 0 [news/offset/x: screen-size/x] do-events/no-wait show win ] 16:17If you leave auto-sync on, you can remove show win. pekr 16:17ok, to compare with R3 - http://2zone.cz/pekr/view13.exe greggirwin 16:20Just shows me an R3 console. pekr 16:20do you run the r3 console with the r3 version? news-scroller-r3.r? 16:20have to go to the football match :-) greggirwin 16:21AH, I get it now. :^\ pekr 16:21thanks for your help, though so far it does not scroll here and complaints about the backdrop 16:21in your above example, you also deleted a winfor the layout 16:21ah, actually not ... greggirwin 16:23Yes, the R3 version speeds across the screen, but jitters here. pekr 16:24Thanks a lot! Will play with that. Maybe in the meantime, during the coffee break, @qtxie adds some double buffering or something like that, so that we can have an Amiga experience :-) greggirwin 16:25It's interesting, as I have multiple monitors, the text appears *at times* on the monitor to the right, like a pre-viz for what's to scroll on. 16:26Happens once the text hits the left border. 16:28If you make the text not transparent, it goes much faster, but then hangs at times here. 16:29Take out the wait too. pekr 18:08Well, my "trick" was to hide (initial placement) the scroll text at the x-size of the windows + 1. If you have a multimonitor screen, in fact, when you make a print screen, you will realise, it is just one bitmap. So chances are, that it gets visible on the secondary monitor .... Thursday 14th July, 2016 Zamlox 04:48when I compile this: elem: object [ set: func [][] ] I got: *** Compilation Error: attempt to redefine a keyword: set although context of set is elem. Running with interpreter works ok. dockimbel 04:58@Zamlox The compiler doesn't allow you to redefine native and action names. We might allow it in the future, though, if not too costly for the current compiler, otherwise, it will be for Red 2.0. Zamlox 05:02@dockimbel all right. Thanks. greggirwin 05:17@Zamlox, when I found Rebol, I did quite a bit of what I thought was clever re-use of standard names. It ended up not being as helpful as I thought. Sometimes I still *really* want a certain word but, if the compiler is going to complain, it will just lead to creative naming conventions I imagine. Zamlox 06:31@greggirwin In my case I wanted to create objects with same name as some tags within SVG and it looks like few of them has same name as some Red actions or natives. As workaround I named those objects differently but I added some extra code to map tag name with object name. PeterWAWood 06:37I'm greggirwin 06:41That's an important case to consider Iosif. I love using the same names when I can, though sometimes I'll hide them because we have to use names that are limited by other systems. Peristyle 07:00How would one filter through a list of files for those of a specific extension? 07:52God, 'var and :var in function decs are the devil. rebolek 07:55@Peristyle > How would one filter through a list of files for those of a specific extension? red>> files: read %./ == [%all-tests.txt %append-test.red %binding-test.red %bitset-test.red %bugs-test.red %case-folding-test.red %c... red>> foreach file files [if equal? %txt last split file #"." [print file]] all-tests.txt == none red>> Peristyle 07:55Anyways, after debugging pretty much everything. filter [elem %.red] read what-dir Will list every file containing .red in the active directory, if one has already implemented filter and elem 07:56That works too dockimbel 08:02@Peristyle @rebolek Use the suffix? function for that purpose. We'll have filter at some point, though you can use remove-each in the meantime: 08:04 lisp remove-each file files [%.red <> suffix? file] Zamlox 08:06@Peristyle you can try also to use parse like: red>> parse read %./ [collect any [ set value skip if ( find value %.red ) keep (value) | skip ]] == [%svg.red %xml.red] dockimbel 08:11@Zamlox Good one. Here's an alternative Parse approach relying on into to sub-parse the files: parse files [collect any [ keep into [thru %.red end] | skip ]] 08:11Parse is fun. ;-) Zamlox 08:13@dockimbel of course it's fun :) Cool example ;) SteeveGit 08:24@dockimbel > parse files [collect any [ keep into [thru %.red ~~end~~] | skip ]] 08:24;-) xqlab 11:50will we get as in Rebol2 ? >> to block! "1" == [1] >> to string! [1] == "1" Red red>> to block! "1" *** Script Error: TO cannot convert block! from: 1 *** Where: to red>> to string! [1] *** Script Error: to does not allow block! for its type argument *** Where: to pekr 11:51yes. but generally TO conversions are not done yet, though those are scheduled for one of the next releases ... 11:53https://trello.com/c/wJRJhxBz/150-0-6-2-libred -it's there for 0.6.2 dockimbel 12:08@xqlab In the meantime, use respectively load and form to achieve such conversions. xqlab 12:21neither load or form are sufficient as red>> form <1> produces == "<1>" instead of "1" 12:22So I will wait SteeveGit 12:25@xqlab what is the relationship between your 2 complaints ? xqlab 12:27I have a xml library in Rebol2 and I can not transfer it to Red. pekr 12:30Well, hopefully 0.6.2 is some 1-2 months away ... IIRC, Oldes did some TO implementations long time ago, but it was not accepted back then. Maybe it could be used as an interim solution? But - I don't know detials, you would have to ask Oldes .... https://trello.com/c/lZpYCBtT/99-to-action-support SteeveGit 12:30You have to do some code translations. It's really not new between Rebol and Red. Did you have a bad day? ;-) x8x 12:31@xqlab 12:31 to-block: func[b return: [block!]][append copy [] b] 12:32 12:35 to-string: func[b return: [string!]][append copy "" b] Zamlox 12:40@xqlab for xml parser in Red have a look at: https://github.com/Zamlox/red-tools/tree/master/xml x8x 12:42@Zamlox nice! :-) xqlab 12:46My parser works, but my builder crashes.) pekr 13:38@qtxie I know it might not be your priority, so just a pointer. Sometimes ppl are reporting, that GUI flickers. I ported my old R2/R3 news scroller short script to Red. The code might NOT be optimal usage of the GUI engine, so sorry, if I messed things. The script is short and basically uses a long base face, placed at the right border of the screen, so scroll to the left by changing its x coordinate. When I set the base face transparent, I can see rather smooth experience (well, with few slow downs/speed ups, but the text is readable). But then I removed the bg color transparency and got the following experience: http://2zone.cz/pekr/red-news-scroller-flicker.mp4 (Win10 here) 13:38News scroller source is here - quite short - http://2zone.cz/pekr/news-scroller-red.red 13:43Maybe the script could be turned into a small demo (might be useful to some ppl), showing a borderless window animations. It just should not flicker, if possible. I know, that without the DirectX, the animation is not going to be the smoothest, so just wonder, if it can be improved at all ... PeterWAWood 14:08The holdup with TO has been the lack of a datatype matrix to help @dockimbel to make the necessary design decisions. I started one in the docs folder in Red/red. Once @dockimbel is happy with the format, I'll complete the first draft. The trouble is that @dockimbel is so busy coding that he hasn't had time to review the format yet. dockimbel 14:24@PeterWAWood I'll find time for that this weekend, we need to finish that for 0.6.2 anyway. qtxie 14:49@pekr I see the problem, yes, it should not flicker. I'll fix it. pekr 14:50Thanks :-) Hopefully it's not going to be complicated and implementation of double/triple buffering is not going to be needed :-) greggirwin 15:24:point_up: [July 14, 2016 6:40 AM](https://gitter.im/red/red?at=57878844196179690ecd4f5a) @Zamlox Excellent! qtxie 15:32@pekr When I remove transparency, set auto-sync?: no and use show win in the forever loop, then it works better. Though still not perfect. pekr 15:34I do remember discussion with Carl, about animations. I found some blog article, from a former Amiga developer, who concluded, that Windows is indeed a crap, and apart from whatever timers he tried, did not get ideal results :-) The discussion turned down to Windows not supporting v-sync. Double/tripple buffering might help, but will not prevent tearing effect. Btw - mozilla is trying to address that with the project Silk - https://hacks.mozilla.org/2015/01/project-silk/ qtxie 15:38Yes. Windows's window system is not designed to support animation. dockimbel 16:22@Zamlox Re: XML parser, nice work! Your approach (modifying the XML content to make it LOADable) is interesting, as it leads to very short code. It would make a good material to teach Parse and some Red concepts to newcomers. 16:28A general remark: when you like a Github repo, please star it, as it shows your support to the owner, and helps the repo getting more known and trusted by others. It also helps Red indirectly, by supporting Red-powered projects. pekr 16:29Thanks for the suggestion! dockimbel 17:02@greggirwin I'll add support for email! in next days, I would be glad to add ref! (or whatever we'll call it) if we can define it properly. Do you have any draft spec for it? Should it be word-like or string-like? ;-) pekr 17:28What's ref! going to be about, please? x8x 18:12 all [ foreach i [][] 1 ] Will return 1 in red and none in rebol. Reason is foreach b [][] in red doesn't return a value but have a silent true while rebol returns none and breaks the all statement. I think Red got it right and it's a bug in Rebol. greggirwin 18:49@dockimbel let me go through old notes and chat on altme for ref!. One of the issues in Rebol, no pun intended, with issue! becoming a word, was the effect on symbol table space. I think that's what led to the hybrid model. A similar question exists for ref!. If we assume they'll be used as handles for users, only the largest systems probably need to worry if they are symbols. And maybe that's not an issue at all in Red. If we use them for things like cross-reference locations and more general markers, there could be a lot. Then you have to weigh the benefits of each (storage, lookup speed, etc.) and we may just need to note limitations for people to be aware of. 19:00We chatted briefly here as well, I think, but Gitter search isn't finding anything. endo64 21:31Is this deliberately? R2>> form do [] ** Script Error: form is missing its value argument red>> form do [] == "unset" 21:36@x8x I think this behaviour will change in the future, I recently ask a similar question and Doc said it will change. > x: foreach x [] [] x will be none! on R2 and R3 but unset! on Red, is it a bug or on purpose? Script Error: x: needs a value > @endo64 It's not normalized yet, there's a ticket about that. greggirwin 22:19I dumped some quick ref! thoughts in https://github.com/Ren-data/Ren/wiki/Value-Ref-RFC. You'll notice a slight mix of Ren thinking there (Ref v ref!) but don't let that concern you. In Ren it would just be an implied string (as it is today). This was just a handy place to put notes and I didn't want to make it totally Red specific. 22:23I also included problematic examples with # and : in them, though they may stir up some trouble. ;^) All comments welcome. SteeveGit 22:25Just... can you explain what are the benefits, compared to existing datatypes, I don't get it. 22:26Is that a word allowing a different syntax ? 22:29what are the applications, it's not clear to me ? greggirwin 22:32Did you read the wiki page? SteeveGit 22:32Yep, I don't get. greggirwin 22:33Not sure how else to explain it. SteeveGit 22:33> An identifier that, while it can be used in any way, conveys the meaning that it refers to something else. So, a word! 22:34Just give me a use case. greggirwin 22:34Word values fill that need as well, but are more symbolic of references to values rather than people, places, or things. 22:34@SteeveGit is your first use case. :^) 22:35i.e. a reference that is much broader than a value in the "executing" code. SteeveGit 22:36What can I do with this, I can't do with name: "SteeveGit" greggirwin 22:36Other use cases are in the Purpose section. 22:38Absolutely nothing. Just like there's nothing you can do with Red data that you can't do with JSON. But if you have [post to @SteeveGit @gitter about bug #1941 @compiler.red#emit] it might seem more useful. That said, you can say it's not useful and shouldn't be in Red. NP. SteeveGit 22:43I just see some strange delimited strings. But you seem to imply that there is an induced behavior behind this new datatype. That's what I don't understand. Say, they are weird shaped string! or issue!, then what do we do with that ? 22:44Are they evaluated in a different way ? greggirwin 22:45What implies behavior? It's just a datatype. Provide functionality similar to the Issue type, but with a distinct sigil that conveys a different meaning. 22:46start with an at sign (@) and continue until the first delimiting character (such as a space) is reached. SteeveGit 22:46Ok, so that just an issue! version 2. greggirwin 22:47Correct. SteeveGit 22:47Do we need such a thing at this stage ? greggirwin 22:48The big question being whether they should be a string or word type. 22:48 :point_up: [July 14, 2016 11:02 AM](https://gitter.im/red/red?at=5787c5a99f79ee4f2ba85d44) 22:50If Gitter had better @ support, I could have referenced the earlier message with it. ;^) SteeveGit 22:50Well, my concern is that it's far from being a priority compared to important missing datatype. ;-) greggirwin 22:51I can only guess that Doc thinks it will be quick and easy to do, since his head is in that space and will be working on the lexer where @ stuff is handled. I want other missing types, too, but some of those will be a lot of work, while this may be almost free. 22:52i.e., he gets the lexer right and inherits fromissue!. SteeveGit 22:54IIRC, there was a user compositing datatype! planned, allowing to derive basic datatype! to have different syntax (sigil). It would be a perfect use case for ref! 22:54I don't know if it's still in Doc's mind. Friday 15th July, 2016 dockimbel 03:34@endo64 It is because form and mold accept any-type! as argument (so unset! too). Same as in Rebol3. 03:38@SteeveGit I'm adding email! datatype, as it is very useful for dialecting and for presenting Red to people. Email! can be modified to allow @<email> form, but you can't input it directly. This is a pity as such form would be useful for dialects, so if we want to allow it but withouth breaking email syntax too much. Therefore we need a new datatype, as such syntactic form can be used to represent many things: a name, a label, a location, an annotation, etc... It would act as email!, no special semantics, just evaluates to itself, so very quick to implement. pekr 04:06Syntactic form of Rebol like languages could be improved/freed, if we would accept HF's -4 proposal ... but that's for another discussion ... 09:09To explain - actually it was Ladislav's CC ticket, suggesting some changes to "Rebol syntax nad space significance" - http://curecode.org/rebol3/ticket.rsp?id=2094&cursor=4 , when if implemented, could free up the space to introduce another literal syntax. But - maybe that is unrelated ... endo64 12:22> @endo64 It is because form and mold accept any-type! as argument (so unset! too). Same as in Rebol3. Now unset! FORMs into empty string, which is more useful I think. I sometimes need same for none! values to become empty string, mostly for huge db or excel export/import scripts. Changing them to "" takes time if the data is huge. Any thought about it? dockimbel 12:33@endo64 Right, I changed it when I saw that the previous behavior was not helpful. For none decay, yes, I want it too, though, not sure yet which API would handle that the best. virtualAlan 12:53Noticed this yesterday. The new 'call binding' in red.master(14th july), does'nt work with 'red-061.exe' (last stable build) .... If I use red-061.exe(last stable build) and the new red.master(14th July) I get an error when trying to compile to windows. So if I compile like this: >>red-061 -c -t windows myScript.red There will be a ***compilation error: word fonts not defined*** Not a biggy, but i'm guessing most will be downloading the 'red-061.exe (last stable build)' and if they try to use the new 14thjuly call binding using: '#include %system/library/call/call.red' they will get the compile error. endo64 12:57I think in that case they should download the automated builds, may be we can put a note on the red-lang.org/download page if you face those kind of issues please try downloading the auto-build. 12:58I mean promoting the auto builds over stable builds on the download page. greggirwin 14:43@pekr that CC ticket was interesting. I don't know what the other reference is, but fundamental lexical changes are tough. I don't think they come for free. pekr 14:55With -4 it did not seem to be so extreme, as original Ladislav's proposal :-) Surely it is not a high priority right now, if we can proceed otherwise ... greggirwin 14:56From Help room>> @endo, agreed. The recent chat on forming none on altme led to this opt func, which I had always done other ways: https://gist.github.com/greggirwin/579e802222aba609ec2e70bf4fe56a9e rejoin/with has been suggested a number of times through the years. Form *might* be tricky, because it's an action. 14:59Doc would have to say, but I think the simpler we can keep datatypes, the easier it will be to implement and debug them. If an action can be inherited, that helps a lot, but if every type has to form itself, and there are a lot of refinements, that may lead to more code in different places, that is harder to reason about, see, and patch. endo64 15:00opt very interesting function with horrible name :) greggirwin 15:01Happy to get a better one. :^) endo64 15:02default could be an option but there is a function with same name in R2 (which I never use) greggirwin 15:03I actually hope to get a default in Red, because it's cleaner, to me, than the alternatives. The purpose is totally different though, as is the behavior. 15:05I'd have to see who started the thread on it, but the original name was the old ifs that is used in some langs. I hope opt is at least better than that. ;^) 15:07And while defaulting one value is handy, I've tinkered on one that would work more like set, so you could default multiple values. 15:10default, I think, implies the reverse of how opt works. That is, the default would apply if the condition were *not* true. endo64 15:49ifs is worse than opt. You are right that default is different. moliad 15:49I still prefer any [value ""] shorter , works directly on refinement values and obvious when read. 16:01@greggirwin ref! +1 not sure about the name though. I usually call @something an "attribution" which I prefer cause the "at" and "attribution" go hand in hand. "reference" is a bit more abstract, which may be good too. x8x 16:20Are there known limitations in compiled parse vs interpreted? greggirwin 16:28Max, I used any for many years. default is shorter though, and would be even moreso if it can work like set. >> value: any [value ""] == 0 >> default 'value "" If you're not using the value more than once, any is shorter. 16:29I considered a lot of names, at! being the second choice right now. Per my draft notes, the various uses give ref! the edge IMO. 16:30at! is definitely more literal when talking about the lexical form. moliad 16:34problem I have with 'default is that its declarative in style, and it doesn't convey a lot of meaning. when I read the code and I hit the default using style, my brain always stops and has to realize that the word is being used as a variable and will change value. Its also a pain to use in local-words-by-default function builders which require a set-word! to bind locally... 16:34(and the default value isn't always the same word as the one being set ;-) greggirwin 16:39I go back and forth on whether the arg should be a lit-word. I do the same with incr/decr. Funny how our brains each do different things. It never read as declarative to me. My brain puts a little "to" between the word and value. Agreed on things like func builders, but the way around that is default values in func specs, which is not likely. 16:40I don't get what you mean by them not being the same though. moliad 16:41as in value: any [fallback-value ""] or value: any [value fallback-value ""] which happens often greggirwin 16:43Got it. I don't do that much. For things like merging config settings, CLI args, and such, I tend to build a block or object and merge into that for the rest of the app to use. moliad 16:45I guess I use ANY / ALL so much that I've just standardized to their use in many places, which make a lot of my code consistent between patterns. greggirwin 16:46Me too. Kind of like using parse for everything. :^) moliad 16:47ah, isn't it fun to use a language which allows style to be such a big factor in coding, just like human language :-) 16:48yeah, I also use parse A LOT nowadays 16:49(just finished a url! building dialect not 15 minutes ago ;-) ) greggirwin 16:50Yup. Preaching to the choir. I think that's a missing power feature. Teams can adopt a style that works for them and really leverage it. Methodologies, any of them, are *not* universally applicable. Making tools fit *your* needs is. 16:51I sometimes chuckle when other langs talk about their powerful "pattern matching" capabilities. :^) moliad 16:51its soooo hard to wean people from archaic (to me at least) OO philosophies... its insane. 16:52people will tell you that building an object for a specific purpose *IS* "Making tools fit your needs is.", but they don't realize (actually don't even conceptualize) how wrong they are. hehe dockimbel 16:55@x8x Parse is always interpreted, no compiler yet. 16:57@greggirwin As I mentioned once before, one possible way for default is to use it in this form: red>> default: make op! func [w [set-word!] value][unless get to word! w [set w value]] == make op! [[w [set-word!] value]] red>> w: default 1 == 1 That code does not yet work as we don't have to working on set-words yet. x8x 17:00@dockimbel Good to know, thanks! Wouldn't it be useful to have by default some basic charsets like: digit: charset "0123456789" and alpha at least, pretty sure I'm not alone having to define them for parse rules? moliad 17:01@dockimbel I like that version of default. forgot we could build our own infix operations in Red. dockimbel 17:03@x8x Yes, but 1) we need an efficient way to make them available in Parse, 2) your alpha is locale-dependent. x8x 17:06Even better if you could make them available inside parse rules without making them global variables or maybe not, as red fellows like to redefine everything.. ;-) dockimbel 17:13@x8x Why global variables when you have object contexts? my-charsets: context [digit: charset "0123456789" alpha: charset [#"a" - #"z"]] rule: [some digit 3 alpha] bind rule my-charsets parse "2016jul" rule == true 17:18@greggirwin email! is coming, so we need to settle for a final name for ref!. Do we have a short-list already? x8x 17:18@dockimbel Yea well, I meant that the basic ones should maybe be like thru, to, etc.. as part of the parse dsl only. Thanks for the example btw! dockimbel 17:21@moliad I'm still not fully convinced that default is really an improvement, as it needs more thinking to decode than the usual any [...] construct. But maybe it is just a matter of getting used to it. moliad 17:30IMHO, its a style and habit thing. I could replace default with append in the discussions above and then some of my arguments against default would also apply to append, but I'm used to it doing its magic "in-place" (and like @greggirwin , mentally see an invisible "into") so its very subjective. ;-) pekr 17:36not sure what exactly is ref! supposed to be, but from Doc's comment "a name, a label, a location, an annotation, etc.", what about some of them? name!, label!, spec! (as in specification/specify), description! 17:38I can only speculate myself about possible usage, but I like label!most - short enough, self explanatory .... SteeveGit 17:40 To follow the current trend, I propose **pokemon!** moliad 17:41 17:42I like it: make pokemon! "pekr" == @pekr 17:42;-) 17:42sounds like a viable pokemon name to me heh 17:42maybe a bit adult rated, but still ;-) pekr 17:44mark!, badge! moliad 17:45badge! is actually quite nice :-) SteeveGit 17:45And the prefix looks like a **pocket ball**. Well fit. pekr 17:45:-) SteeveGit 17:46I also like **badge!** moliad 17:46that would be a great easter egg, to add pokemon! as an alternate in a typeset! 17:47that would make hilarious live presentations in conferences :-) 17:48and Red IS the color of the poket ball ;-) SteeveGit 17:49Be honest guys; Who tried the **Pokemon Go** game ? 17:50I have, But in my tiny village, there's nothing much to do. moliad 17:51you need to play another game to create data which is used by the pokemon game. can't remember the game's name but its the other game of the same dev team SteeveGit 17:52Ingress? moliad 17:52yep, that's it SteeveGit 17:53Thanks, will try it moliad 17:54don't know how quick the turn around is (or if they're even connected in real-time), but my friend at work saw some of his own ingress interest points being used as spawn points for pokemon go. :-) SteeveGit 17:55Ok, though I'm not expecting much. France, is not officially supported yet. yoffset 19:22tie! meijeru 19:58To change the subject completely: welcome to email!. @dockimbel Before I raise issues: I suppose that random is inadvertently marked as inherited, because it is not appropriate just like for file! and url!. Also, eval-path is inherited simply from string, whereas I would love to have named accessors for the parts before and after the @. I seem to remember that R2 and/or R3 have that. 20:29In R2, these accessors are user and host. 20:31BTW, in make there is a red-tag! which should probably be red-email!... dander 23:26one other option for ref! name could be cite! 23:28though "cite" is a verb, and "citation" is a bit long maybe... Saturday 16th July, 2016 greggirwin 06:52Thanks for the reminder on the set-word! syntax idea for default Doc. Doesn't grab me at a glance. Are you planning any other ops that would work like that? 06:54(old) Alternate names for ref! are now in https://github.com/Ren-data/Ren/wiki/Value-Ref-RFC. I still think ref! is the most general purpose. Reference! is long. At! is still my second choice. pekr 08:31my favourites so far: label!, badge!, cite!, .... and I add quote! dockimbel 13:08@greggirwin The [is](http://doc.red-lang.org/reactivity.html) function is working like that already. Arie-vw 15:36maybe tag! instead of ref! 15:45or handle! dockimbel 16:05Hex values are now also supported in VID for colors spec, check this out: view [v: base #00f base #FF0000 at 60x30 base #00ff0080] 16:06[![blob](https://files.gitter.im/red/red/v8Ka/thumb/blob.png)](https://files.gitter.im/red/red/v8Ka/blob) SteeveGit 16:07Same order as svg format ? dockimbel 16:08RGB or RGBA, same as in HTML. greggirwin 18:45@Arie-vw tag! is taken by <tag> values. handle! is specific to the username use case. @pekr , I don't think label!, badge!, or quote! are good for the username case (I need a markdown datatype keyboard macro). Cite! is nice, but the abbreviated form of citation makes it a verb. 18:46Web devs are going to love hex format support Doc. Probably a very good feature to aid adoption. Also a nice use of dialecting. pekr 19:15@greggirwin The thimg is, I did not fully got the intention. greggirwin 19:16Did you read the RFC? pekr 19:17Oh my, the weak gitter mobile interface. I read it briefly, should read it again. 19:19Well, just from the Purpose section - why something as label is not a good fit? 19:20I do remember, from early days of programming, label referring to some section greggirwin 19:22Label! is fine for the non-username cases, I agree. The username case is the primary driver right now, though I think the others are important. I'll add it to the RFC. dahu 23:27I think At! matches all your proposed use-cases. It's at/to a username. It's at a place in source code; a source code annotation. It's at/on a date for a version string. It's at a location, address, offset. The up-side is that for English speakers, @ is pronounced "at".</myvote> Sunday 17th July, 2016 greggirwin 03:02Yes, there are good things about it. One thing I don't like is how it feels saying it. The old "phone code" test. So, it's good, but is it better than ref!? dahu 03:11Give an example sentence "saying" your @thing dander 03:40I agree with Gregg that ref! seems like the strongest candidate. To me, the benefit over at! is that it conveys more meaning. It _is_ a reference to something, where 'at' is a relationship of one thing to something else. dahu 03:45And the phone test? greggirwin 05:50First we check to see if it's an at value. If it's an at, which we check with at?, not to be confused with asking if a series index set with at is at that position, we're good. If it's not an at?, we make an at out of it. Again, not like make at with a series index. First we check to see if it's a ref value. If it's a ref, which we check with ref?, we're good. If it's not a ref, we make a ref out of it. 05:59If you want, I can also provide an example that makes at look better than ref. :^) 06:01It's a tough call. "At" is certainly more common in everyday speech. PeterWAWood 06:05In essence, isn't it a symbol? 06:09Or perhaps it's a token? 06:10I think it is going to be very difficult to come up with a truly semantic name when its use is potentially so widespread. 06:11 at sounds as though it is an address or location. For any European, ref is a person with a whistle. greggirwin 06:12 blk: [send "Hello!" to @dahu via @gitter about @source.code#add @1234:0030] parse blk ['send string! 'to at! 'via at! 'about at! opt at!] parse blk ['send string! 'to ref! 'via ref! 'about ref! opt ref!] find blk at! find blk ref! if not at? first next find blk 'to [...] if not ref? first next find blk 'to [...] if not at? blk/to [...] if not ref? blk/to [...] 06:13Rebol has a symbol! type, and all values are tokens when lexing. I think you're right that generality is what makes this tough. 06:16At! is a very direct mapping to the lexical form and sigil. Big plus there. If people come up with good, concrete examples, maybe that will help lead us (i.e. Nenad) to a choice. Where is each name strongest, where is it weakest or most ambiguous, and where/how will it be used the most? PeterWAWood 06:18The last one that I can come up with from symbol, token is mark. greggirwin 06:19Not great for the username case though. dahu 06:20What about several names aliased to the same type? greggirwin 06:22I had the same thought recently, as Doc had also mentioned liking the current value of hashtag! for issue!, but I don't know if it's feasible and haven't thought about potential downsides. dahu 06:24Will Red allow user-created types? And user-created aliases to types? greggirwin 06:25I don't know about aliases, or how they might work, but you can create your own types today. dahu 06:26cool. perhaps @dockimbel could advise on type aliases greggirwin 06:33R2 has an alias function, but it's not guaranteed to make it into Red. Even without it, we can probably go a long way. Have to think of all the places to address, and there will still likely be gaps. hashtag!: :issue! hashtag?: :issue? hashtag? #test to hashtag! "test" blk: [#test] parse blk [hashtag!] dahu 06:37if that ends up being flawless, it would make dialect rules even more (semantically) readable greggirwin 06:41It depends on whether internals make this safe. Amazingly, it works for func specs too. Nenad, you amaze me. If it's just a core set of things to alias, it could be alias-type: func [old [word!] new [word!]][...] 06:43Type interrogation won't know about it though. Can't see an easy way around that. pekr 08:27IIRC, alias was removed from R3 for some reason? JenniferLee520 11:13Alias was moved from R3, because it caused problems in implementation (according to Carl), and also because not many people were using it. pekr 11:18@dockimbel A regression with latest hex-color additions? Just wanted to continue with my news-scroller and it errors out. Narrowed it down to: red>> view [base 100x100 green draw [text 0x0 "test"]] *** Script Error: PARSE - matching by datatype not supported for any-string! input *** Where: parse dockimbel 11:27@pekr Fixed. pekr 11:27ok, thanks ... greggirwin 13:05@JenniferLee520, I know I thought alias was a cool idea, and expected to use it for localization, but never did. JenniferLee520 13:59@greggirwin Ditto. I would like to make a Chinese Localization of it, if alias is supported after v 1.0. moliad 14:42there were various security issues with the use of alias in R2, it would require a more restrictive use case. Monday 18th July, 2016 dockimbel 03:28I would like to use a code colorizer for the blog posts on red-lang.org. This Rebol [script](https://github.com/rgchris/PrettifyRebol/) should work, but it's broken. Could anyone with some spare time have a look at it and try to fix it? I changed the outdated Google Prettifier CSS urls, but it doesn't seem to be enough. DarioX1973_twitter 07:41I would refer to the hex values in VID. 1) how can i link to a previous message in gitter (to have the little hand with on finger up)? 2) in wich release or Red there is hex colors support? i have 0.6.1 ... pekr 07:59As for the hex color support - you need to download latest releases. It is a post 0.6.1 .... endo64 08:14A small problem on GUI Console's About window: [![blob](https://files.gitter.im/red/red/dVb4/thumb/blob.png)](https://files.gitter.im/red/red/dVb4/blob) 08:14 dockimbel 12:15Does anyone know about a good free tool on Windows for editing GIF anims? I just try 3-4 ones, and none is able to do a proper job... DarioX1973_twitter 12:23What do you mean with "proper job" ? 12:37However, i would use Gimp as here: https://www.youtube.com/watch?v=mqprw6JMuFw dockimbel 12:40@DarioX1973_twitter "Proper job" = flawless. Thanks for the link, but it's not what I'm looking for, I said "editing" not "building". DarioX1973_twitter 12:44Ah, ok ... I never changed gif of others, i just don't know ... dsgeyser 12:46@tanstaaf1 @greggirwin @pekr - Thanks for your view on this matter. It is somewhat frustrating when you talk to fellow devs about the power and uniqueness of Redbol. I mean, being able to write a compiler in Rebol - a language which was developed almost 20 years ago - speaks volumes about its unique abilities. I was wondering, after having read Ladislavs' and @dockimbel advanced articles abour the inner workings of Redbol, whether it is possible to use breakpoints and probe etc. to build a tool with which anybody can delve into the deeper stuff. For instance, keeping a log of chances to each word, even if it issues an error. This will help me a lot. I can use the entries as a basis to tap Docs' and others' minds. Wouldn't want to miss an opportunity like this. Just a thought, This can serve as a future reference of where people struggle and workarounds. Even posting the current nuggets posted on gitter there, and maybe discussing it futher. All this on a public accessible site - like an tuned down IDE of sorts. pekr 12:49IIRC, Doc plans to introduce some "debugging hooks" in one of the next versions .... dockimbel 13:08https://twitter.com/red_lang/status/755025857572331521 pekr 13:10heh, cool :-) rgchris 13:30Are the hour, min, sec words global? pekr 13:34Most probabyl yes, tried it here ... endo64 13:58Cool demo. it just works :) pekr 14:01Was just confused by hour/2, etc. - not self explanatory .... seems that draw variable refers to a draw block, hence in the case of hour, it is 30. dockimbel 14:03@rgchris Yes, though, it should be trivial to bind all that to an object context. 14:05@pekr It's [documented](http://doc.red-lang.org/v/v0.6.0/gui/Draw.html#source-position) since 0.6.0... pekr 14:06OK, thanks .... it was not obvious looking into source, other than that, pretty clear ... dockimbel 14:07It's exactly the same concept as set-words in Parse, so it should feel intuitive for experienced Rebol/Red programmers. pekr 14:09Btw - just a nitpicking, but attempt/safer... why not just attempt/safe? dockimbel 14:09Because attempt is already a "safe" version of do. rgchris 14:10@dockimbel An observation about values in general in the GUI dialect (albeit mainly experience through Rebol's VID, not Red's) is that it'd be handy if they were somehow bound by default to the base GUI object and not global. Not a specific prescription, but I always found the 'global' default to be unmanageable in larger projects and binding to be a hassle with the general/dialect mix. dockimbel 14:12@rgchris What is the "base GUI object"? pekr 14:13@rgchris Red changed to "widget local", sorry if I confuse it, but we reverted it back ... maybe you meant to bind it to top Window? rgchris 14:14@dockimbel Again not being prescriptive, but some equivalent of: foo: view [thing: field] being accessed by foo/thing/value or foo/get 'thing. 14:14@pekr I guess that is what I meant : ) dockimbel 14:16@rgchris You know that you could trivially write a wrap function that you could use as: foo: wrap [view [thing: field]] to achieve that, or even replace view` function if you really can't live with the default behavior? rgchris 14:16Found thing being global in Rebol's VID to be short-sighted. dockimbel 14:17@rgchris So, Red features are ending at 0.6.1? That's the final version according to you? rgchris 14:18@dockimbel I hope not! Just offering my observation is all... dockimbel 14:19You mean "offering your final statements on Red"? rgchris 14:20No, perhaps I've been misunderstood here. dockimbel 14:20Maybe you should reformulate your statement then. rgchris 14:22Or perhaps you shouldn't read my observations as being antagonistic. I'm only expressing a concern as someone that would like to use Red. pekr 14:24Well, the progress is terrific. We should not feel offended by any claims, I think everyone can see to vital progress Red is making ;-) And it will always be like that - ppl will compare - here with R2, there with R3, elsewhere to Lisp, and ask even stupid questions .... 14:25That stupid question remark was towards some of mine, not Chris' :-) rgchris 14:30@pekr we mortals call things as we see them—I am genuinely impressed with directions Red takes in some areas. I see the (similarly impressive) example above and I note a pattern that I struggled with in Rebol 2. I'm sure the Red v1 answers will be more elegant than I can envisage, but you'll forgive me for asking when my antennae twitch a little. greggirwin 15:56Hey Chris! Nice to see you. I still have all the ASAP stuff we did years ago, as one of the more complex GUIs I worked on in R2. Maybe we can port some of your styles. They were gorgeous. Anyway, I like that Red is starting out simple, like R2. Small scripts are as important as large, and the way it works now is a good fit there, IMO. For PitL, we all know more needs to be done. I hope we'll get more people experimenting and posting ideas of how it might all work. 15:57Hmmm, I guess the styles may not port well with native widgets in use. Have to wait until someone writes an in-Red portable GUI. :^) 15:59Or build them on base. Yeah, we could probably do some stuff. Not sure if an extend effect is in the queue for faces. I always liked that, and the way you used tiny images with it. pekr 16:02Effect pipeline is scheduled for some of next versions IIRC greggirwin 16:28I can't keep up! rgchris 17:30@greggirwin Had a lot of nice features for sure : ) That project certainly shaped a lot of my conceptions of how a more complex GUI system could be organised. greggirwin 17:31Me too. draegtun 19:27@dockimbel re: Google Code Prettify - I've updated http://draegtun.github.io/PrettifyRebol/ to use new CDNs and the examples now all work correctly. Can you see any differences in what you've done? Tuesday 19th July, 2016 dockimbel 02:33@draegtun Thank you, seems to work now. Will try to integrate it with our blog template. draegtun 12:21:point_up: [July 19, 2016 3:33 AM](https://gitter.im/red/red?at=578d91890720fd587a9428c9) Great news! Just shout if you get any issues. WiseGenius 12:43These work: #[action!] #[bitset!] #[block!] #[char!] #[function!] #[get-path!] #[get-word!] #[integer!] #[issue!] #[lit-path!] #[lit-word!] #[logic!] #[native!] #[none!] #[op!] #[paren!] #[path!] #[refinement!] #[routine!] #[set-path!] #[set-word!] #[string!] #[word!] These all give *** Syntax Error: invalid issue!: #[binary!] #[datatype!] #[email!] #[error!] #[event!] #[file!] #[float!] #[hash!] #[image!] #[map!] #[object!] #[pair!] #[percent!] #[point!] #[tag!] #[time!] #[tuple!] #[typeset!] #[unset!] #[url!] #[vector!] @dockimbel Was this already known? btiffin 13:04Nice demo. He said, in a voice that doesn't come across on a text screen. NICE DEMO! Go Doc Go! And it works in Wine, so yayys three times. draegtun 13:15re: Google Code Prettify - Now this has moved from Google code to Github I've created a PR for the Rebol/Red grammar - https://github.com/google/code-prettify/pull/445 13:18The original patch to Google Code was back in Feb 2015 so fingers crossed this gets looked at quicker :) https://code.google.com/archive/p/google-code-prettify/issues/367 dockimbel 13:58@WiseGenius Only a small part of construction syntax is currently implemented. Some design decisions are required for a large part of the datatype before implementing the full support for that. greggirwin 14:38 15:19I know R3 changed remove-each to return the removal count, but I wonder if that's the most useful behavior. You can no longer chain the result. That may be OK for enforcing shorter expressions (though you can always predefine the body), and I know there is currently no other way to get the removal count. One option would be a /count refinement, though that might be confusing. It may look like you *only* want to count matching items, rather than removing them and returning the count. Another option is a count-each function. count-each: function [ "Evaluates body for each value(s) in a series, returning a count of true results." 'word [word!] "Word, or words, to set on each iteration" data [block!] body [block!] ][ n: 0 foreach :word data [if do body [n: n + 1]] n ] ;count-each a [1 2 3] [odd? a] A separate func means processing the series twice if you want both results. I don't think returning both the series and count, even though the result could be destructured, is a good idea, because it still complicates chaining. dockimbel 16:26@greggirwin Isn't it in most cases, as easy as just taking the difference in length of the series before and after the removal enough to get the count? pekr 17:34Should be enough :-) Well, we could be like the BeOS and introduce a query system to query blocks, something like SQL :-) greggirwin 17:41Of course it is. You just have to copy the series first if you know you want the count. SteeveGit 18:21@greggirwin copy the serie before to count ? what for ? measure the length before and after is good enough, or did I miss something ?. TimeSlip 19:18@rgchris Also nice to see you. Your form-date is still being relied on in just about everything I "do". Much respect and thanks. @dockimbel I was reading your reference to the gif editor and wondering what you would need one for. Then I saw the clock demo and wow! BTW, the last time I had to edit gifs was back in the Amiga days. :-) Hard manual work If I recall correctly. That little hex value example is pretty cool as well; especially the alpha value. Thanks for the progress. moliad 19:19:point_up: [July 19, 2016 11:19 AM](https://gitter.im/red/red?at=578e4507841e619d160c8f20)Gregg I hate this change from R3. returning the series at its head is much more useful as we rarely deal in lengths and indices when compared to passing a long series references in Rebol. 19:22I often use remove-each inline with very simple conditions, like datatype filtering or value range ... append results remove-each item copy data [not integer? item] it also reads very well. the number of removed items is something I've never had to do in Rebol. 19:23note that for readability, a keep-each with the same semantics, would often be preferred. pekr 19:24I suggested keep-each, and IIRC it was suggested just to negate a condition :-) Maybe some wrapper could be build around remove-each then? :-) 19:24@moliad - so what's your progress with Red? moliad 19:34I should be much more involved than I am right now. am still doing a lot of consolidation work on current products to allow me to move to Red. Can't move on until its robust enough to live on its own for months without being worked on. It also doesn't help that we have many contracts which force me to upgrade the system continually right now. I did a few little things with it, have looked into the datatype system too. 19:35Hoping to grow the team in the coming weeks, that will help tremendously. greggirwin 21:27@SteeveGit , of course you can measure the length as well. Much more efficient. @moliad +1 @pekr I have keep-each already. Just need time to do more cleaning and add to my gist dump. TimeSlip 22:15@dockimbel, it could be just my monitor/font set up but the area is just a tad too narrow and I have to use the slider to see the last source characters. source: area #13181E 420x300 fixes it on my side. (410 to 420 for the x value.) That gif really serves as a great tutorial, btw. Keep up the incredible work. 22:16@dockimbel I forgot to mention above that I'm referring to the clock demo. Dobeash 22:41@moliad agree with you totally on remove-each. I use code like foreach file remove-each file read %. [%.xlsx <> suffix? file] [...] all over the place and it's more Rebol-like than dealing with a returned count (which I've never had a need for). Wednesday 20th July, 2016 greggirwin 00:18@pekr, I'll add keep-each to my gist, but I have some notes that it needs to be part of the bigger HOF design, WRT naming and behavior. The standard name for that behavior is filter, but when I've used that name in the past, I always have to stop and think "is it filtering things *in* or *out*?" Playing with some ideas there, which I'll post at some point. 00:20And in looking at keep-each I realized my old remove-each mezz matched R2's behavior, and now that we have a native like R3 my tests don't work. We'll see what Doc says. 00:32And for those thinking about HOFs, we have the standard *-each approach in Rebol, with a body block, which is slightly different than the purely functional approach. Very convenient IMO, but we can do the functional approach too. There may be times where is a better fit. If we have both as standard, but with different names (e.g. map vs collect-each), will it be better or worse? Once they get 0.7.0 out, maybe Nenad will have time to take a (short) breath and give us his thoughts on that. dockimbel 04:02@moliad @Dobeash @greggirwin Same here, returning the series is the most helpful behavior for remove-each as well as for all other series iterators. 04:04@greggirwin I already have a rought idea about how HOF could be best supported, I will write a wiki entry about the plans as soon as I find time for that. greggirwin 04:09Great! Thanks. 04:11Right now it seems your time is all spent keeping me behind the curve. I was ready to submit a ticket on something until I figured out tag! support was in place and working, which I had forgotten about. pekr 08:34ah, I really like the comment to the latest blog, which appraises Red, and part of it, could be a marketing sub-claim for Red: "from the metal to the meta" :-) Rebol2Red 09:58When showing this page (https://gitter.im/red/red) on a tablet the left sidebar can't be hidden and is covering a part of the text. Is this a known issue? pekr 10:11Not sure. I moved away from the display of Gitter on the cell phone using a browser. Clicking in the edit text area causes a post, so you can't fix typos for e.g. There is a room for Gitter feedback, so you can report it. I downloaded Android native Gitter app, works better ... moliad 14:17don't see the need for much HOF in Red/Rebol. frankly, I can't see when I'd have used them. 14:23in R2 sort allows functions and it would be simpler if we could use a do block instead. I don't know how the current block comparator is supposed to work, but it's not documented AFAIK. 14:26the fact that we can build/exec blocks so transparently in Rebol makes HOF redundant. most times, we build the func inline anyways... so its not a big improvement (just look at the R2 sort documentation example http://www.rebol.com/docs/words/wsort.html ) 14:45this being said, allowing function! arguments and returning them is useful, and that's all we need for HOF. I don't see what needs to be added to the language? greggirwin 17:04Max, I mostly agree. But if you've ever used collect+foreach you've effectively used map, right? And if you've used remove-each you've done the inverse of filter. I'm totally with you that blocks are nicer than lambdas in most cases. That said, functional is widely accepted now, even if only a few people are really good at it. From a marketing standpoint, having those things there will be good, and show that Red can do everything they can do. It's also like my argument for for. Once they're in, they see that loop and repeat are nicer when you just need int-based loops going forward. 17:08I'm anxious to hear Doc's thoughts on this. Mine are just a few mezzanines, with the design being the trickier part. So nothing new in the language itself. With just map, filter, accumulate we can let the functionally minded people work how they want without affecting much else. I'll also argue, at times, to provide examples, even if not standard built-ins, because people will do these things, whether we want them to or not, and giving them a good starting point may at least keep things on a more consistent track. 17:10I also think this kind of thing could make for great blog articles. "Here's how..." 17:12I posted a map-each before. The body is basically collect [foreach :word data [keep/only do body]] So it's not like we're bloating Red too much with some of these things. ;^) 17:14We can add some nice features, more Reddish, but basic versions are all just a few lines long. moliad 17:17yep, but the detail here is that you are using DO, not a function. its like with OOP. using Rebol and trying to apply OOP paradigms to it is pointless & painful. when I look at a lot of examples on why they have HOF its that they can't have it like we do. greggirwin 17:18That's my Reddish version. The real HOF versions take funcs. Not that you and I would every use them. ;^) moliad 17:19we don't use statements and compilation, we actually bind on the fly. which is the equivalent. The only argument I can see for real HOF may be speed after a compilation phase, but if we can detect that a block is static, it can be compiled and converted to an anonymous function, so that doesn't even hold with a jit compiler in place. 17:22I understand the idea of baiting lispers, but maybe a better idea is to have an HOF tutorial page, which shows them how to build the funcs and why they don't really need to anymore... with comparative Redbolish equivalents. greggirwin 17:22 fold: accumulate: function [ "Combines the results of a function applied to each value in a series." series [series! map!] fn [any-function!] "Must take RESULT and INPUT args, and return RESULT" /with "Use a different starting value than the first in the series" value "Starting value; used as accumulator" ][ if 1 = length? series [return series/1] default value first series if not with [incr series] ;assert 2 = length? words-of :fn foreach item series [value: fn :value :item] ] filter: function [ "Returns two blocks: items that pass the test, and those that don't." series [series!] test [any-function!] "Test (predicate) to perform on each value; must take one arg" ;/only "Return a single block of values that pass the test" ][ ;TBD: Is it worth optimizing to avoid collecting values we won't need to return? result: reduce [copy [] copy []] foreach value series [ append/only pick result make logic! test :value :value ] either only [result/1][result] ] map: func [ "Evaluates a function for all values in a series and returns the results." series [series!] fn [any-function!] "Function to perform on each value; called with value, index, series, [? and size ?] args" ;/skip "Treat the series as fixed size records" ; size [integer!] ][ collect [ repeat i length? series [ ; use FORSKIP if we want to support /SKIP. keep/only fn series/:i :i :series ;:size ] ] ] 17:23Just quick examples. moliad 17:23do these work in R2? greggirwin 17:24function spec is different in R2 [spec vars body], but I could test and port real quick if you want to play. moliad 17:27its ok, I'll look at them... map is the one I'm most interested in looking at. 17:27(no need to convert to R2) greggirwin 17:31Too late. :^) 17:32 collect: :reb-collect accumulate: func [ "Combines the results of a function applied to each value in a series." series [series! map!] fn [any-function!] "Must take RESULT and INPUT args, and return RESULT" /with "Use a different starting value than the first in the series" value "Starting value; used as accumulator" ][ if 1 = length? series [return series/1] value: any [value first series] if not with [series skip series 1] ;assert 2 = length? words-of :fn foreach item series [value: fn :value :item] ] blk: [1 2 3 4 5 6 7 8 9 10] mean-red: func [res val][ res/sum: res/sum + val res/count: res/count + 1 res ] accumulate/with blk :mean-red [sum 0 count 0] filter: func [ "Returns two blocks: items that pass the test, and those that don't." series [series!] test [any-function!] "Test (predicate) to perform on each value; must take one arg" /only "Return a single block of values that pass the test" /local result ][ ;TBD: Is it worth optimizing to avoid collecting values we won't need to return? result: reduce [copy [] copy []] foreach value series [ append/only pick result make logic! test :value :value ] either only [result/1][result] ] filter [1 2 3 4 5 6 7] :even? filter [1 2 3 4 5 6 7] :odd? filter/only [1 2 3 4 5 6 7] :odd? filter [/only /dup 3] :refinement? map: func [ "Evaluates a function for all values in a series and returns the results." series [series!] fn [any-function!] "Function to perform on each value; called with value, index, series, [? and size ?] args" ;/skip "Treat the series as fixed size records" ; size [integer!] ][ collect [ repeat i length? series [ ; use FORSKIP if we want to support /SKIP. keep/only fn series/:i :i :series ;:size ] ] ] res: map [1 2 3 a b c #d #e #f] :form res: map [1 2 3 a b c #d #e #f] func [v i] [reduce [i v]] res: map [1 2 3 a b c #d #e #f] func [v i s] [reduce [i v s]] res: map "Hello World!" func [v i s] [pick s i] 17:51A quick note on the inner part of map, since it may not be clear how it works to those new to Red. It may look like variadic (variable arity, or a func that takes a variable number of args) magic, but it's not. You can use any func that takes *up to* the number of args map passes it when it does keep/only fn series/:i :i :series The only magic here is that when fn is called, it will consume as many arguments as it needs (this is how Red's free-ranging evaluation works) and return its result for keep to consume. Any args fn doesn't consume are evaluated but then just ignored and not used. If your func (fn) takes *more* args than expected, the end of the repeat body block is hit and you will get an error that your func didn't get enough args. Zamlox 21:52 justjenny 23:22@pekr music is easy to play in Red - I been using this and it works without problems - not perfect, but until we get the real thing then its ok by me - if it dont work then make it work ! http://www.mycode4fun.co.uk/red-sound-engine Thursday 21st July, 2016 justjenny 00:34sorry, above post should have been in the red/gui-branch dockimbel 06:01FYI, I have started using the "status.contribution" label on Red's [issue tracker](https://github.com/red/red/issues) to mark tickets where the code could be easily contributed by the community. Take it as a chance to score some PR and learn more about Red, while helping building it. ;-) pekr 06:02Well, with my skill level in coding, I can at least fix some typos and cosmetic stuff :-) greggirwin 06:14The contribution label will help Doc. Good idea. xificurC 07:30the published work section in http://www.red-lang.org/p/contributions.html with contributions from Kaj De Vos (that is almost everything) points to a non-working site :( pekr 07:41Maybe it's temporarily down? I will try to reach Kaj via altme ... xificurC 07:53maybe pekr 08:06OK, whole esperconsultancy.nl is down. Dropped Kaj an email ... maximvl 08:50@justjenny hey, you have some nice apps on your website 08:50@justjenny it says they are written in Red, though I can see rebol binary in invaders game archive 08:55so, are they written in Red or Rebol? are the sources open for studying? xificurC 09:09with b: ["a" 10 20], to calculate 10 / 20 = 0.5, I got to (second b) / (third b) (without the parens it was yelling at me :( ) but that gives 0. What I got to work is (second b) / (make float! third b). Is that the simplest way? 09:14I'm trying to work out [this code golf](http://codegolf.stackexchange.com/questions/86056/how-to-weight-loss-easily) (without worrying about the "no-floats" rule for now) pekr 09:26Red float support is still lacking. Once it will be there, you will get your result as you expected it ... 09:28as for second b / third b not working as expected - it is related to the operators precedence in Red (Rebol), so it takes b, which is a block, and tries to divide it by third b, which is correct 09:29In Rebol (btw - it does not work in Red, maybe a bug? @dockimbel ): >> 1 + 2 == 3 >> + 1 2 == 3 09:31... are the same operations. The second example is more "lispy", pure functional (prefix), Rebol tried to go more for readability, so there's also allowed infix form of 1 + 2(I might not be correct in properly naming the concepts, sorry for that) SteeveGit 09:36@xificurC data: [["fencing" 15 85]["billiards" 60 102]["basketball" 15 119]] first sort/compare data func [a b][0.0 + a/3 / a/2 * b/2 > b/3] > == ["basketball" 15 119] rebolek 09:39@xificurC Red’s division returns same type as the numbers you used: red>> 10 / 20 == 0 red>> 10.0 / 20.0 == 0.5 pekr 09:41I am not sure that's intuitive and expected ... 10 / 20 simply is not zero. I did not ask it to round automatically ... so I just hope this is just temporary result ... rebolek 09:42In integer math, it IS zero. With 10 as remainder. pekr 09:43While true, if it is going to stay that way, it is going to be another user gotcha ... rebolek 09:44I agree it’s not the most intuitive thing. pekr 09:45Yes ... simply put, sometimes, even if the intention is good ... it might confuse ppl, even if you put it into docs ... you know ppl and reading the docs relation :-) maximvl 09:47please, don't do it as in Python dockimbel 09:48> Red float support is still lacking. Once it will be there, you will get your result as you expected it ... AFAIK, Red float support is complete. pekr 09:50@maximvl - what do you mean? How does Python treat that? SteeveGit 09:53I don't see where the confusion is. The type of the result is controlled by the type of the first term in a math expression. 09:54So, yes it's different from other languages or even from Rebol. So what ? you have to adapt. pekr 09:54You must come from academic scene, if you don't recognise, where is the confusion for end users, no? 09:54No, I don't have to ... I will try to vote for a change ... SteeveGit 09:57When people learn Red, there is lot of thing they have to change in their way of thinking to code properly. Seriously, this math thing is a joke. It takes seconds to grasp it. pekr 09:57You know - there are certain patterns. With Rebol langs, it was mostly a series and few other gotchas. I remember, that RT in the past even tried to collect gotchas, to see, how to address it. Of course you can do so via docs, education, forums. But if the thing is repeated again and again (we will see, how we are going to do here), then we should consider if that is correct aproach ... rebolek 09:57I don’t know what is better. Both approaches have their advantages. If I have to choose, I think that Red’s behaviour is bit better than Rebol’s, even if it is not that intuitive. pekr 09:57Carl always proposed practical usage aspects, before the language purity ... rebolek 10:05Both approaches have their practical benefits. pekr 10:09Looking at repl.it , Python is like R2, Ruby like Red ... maximvl 11:02@pekr python2: > 10 / 20 => 0 > 10 / 20.0 => 0.5 python3: > 10 / 20 => 0.5 11:04@dockimbel float support is complete? I remember where was a porblem with #NaNs in decimal part 11:05this one https://github.com/red/red/issues/847 dockimbel 11:18@maximvl Complete doesn't mean bug-free. ;-) I need to check with @qtxie on that one, if there's anything to change there, we should do it in 0.6.2. 11:21For the auto-promotion of number types, I would like to support it by default, but have a way to disable it when not needed. Not sure yet if/how we could achieve that. xificurC 11:53@SteeveGit thanks for the snippet :) I wasn't sure what does sort/compare expect as comparator. It says it can take a block! as well, care to give an example? dockimbel 12:07@xificurC sort/compare with block! is not implemented yet. xificurC 12:09@dockimbel Hi. I see. Still I can't imagine how would a block! work, coming from different languages :) How would you define a block! that behaves like the defined function! above? It takes 2 arguments and returns something, how can a block! take anything (or how would one refer to them)? qtxie 12:10@xificurC Here is the documents: http://www.rebol.com/docs/changes-2-5.html#section-72 xificurC 14:28@qtxie thanks, the example there seems rather cryptic though sort/skip/compare a 3 [2 reverse 3] 14:30the function one I get, it receives the 2 arguments and you have to return which is less than/greater than the other. I wouldn't know how to write the above comparator function @SteeveGit sent with a block 14:47this is the shortest definition I have for the codegolf f: func [x][r: sort/compare x func [a b][.0 + a/3 + a/2 * b/2 > b/3] r/1/1] but it doesn't honor the "no float" rule greggirwin 14:50WRT math, what is the benefit of *not* auto-promoting (besides performance)? And is that benefit worth the subtle bugs it will lead to (IMO)? If there's a good rationale, and explanation, that will need to be out there, as with operator precedence. That's confusing to new people, but it has a solid rationale behind it by reducing cognitive load. Non-promoting math, I think, will add that, because you have to keep careful track of types, or cast to ensure consistent behavior. SteeveGit 15:17@xificurC without float! conversion func [a b][a/3 * b/2 > (b/3 * a/2)] xificurC 19:07@greggirwin I guess there's a case for both sides. Someone expects "if I give 2 integers I should get an integer" and someone else "the result of a computation will be as precise as possible". The usual way I see it in languages is - strongly typed languages won't promote, dynamic languages promote. 19:09@SteeveGit thanks, I knew the expression just couldn't get the parens right :disappointed: justjenny 22:46Hi @maximvl its not my website, wish it was - and I also looked at it and its pure Red except for sound which is Rebol .... 23:05@maximvl ask him - he's a nice guy - he's always willing to chat - and loves Red . Friday 22nd July, 2016 PeterWAWood 00:02@greggirwin "WRT math, what is the benefit of not auto-promoting (besides performance)?" The bigger question is what do you auto-promote too? Big Integer? 00:06Perhaps auto-promote is the wrong phrase. Is the question more should Red have full support for integer arithmetic or should it freely mix integers with binary floating point numbers? (Perhaps the question "should operations on integer values that have non-integer results return binary or decimal floating point numbers?" greggirwin 01:05Last question first: Yes. Rewording my question: "Why wouldn't you?" First question, though it isn't bigger IMO ;^): Promote to what allows the most accurate and useful result in the majority of use cases. I'll override or do something else if that's not what I want. Counter-arguments can be made in either direction. I have a guess about the rationale, but I'll wait to see what Nenad says. PeterWAWood 02:43I feel that automatic conversion of integers to float 02:47makes life easier for beginners but will cause headaches for somebody trying to use Red at the low level end of the spectrum. It will also make it more cumbersome for the runtime when interfacing with OS functions (eg View). 02:49Even for beginners, things can be tricky. For example, '''font-size 15 / 2''' yoffset 02:51 Experienced beginners will adapt. Absolute beginners don't know anything different, so they will learn that way. greggirwin 03:51I'm not sure what makes your example tricky. But as I said, we can make arguments either way. files: read %. repeat i ct: length? files [[copy-file ...] print [to percent! i / ct 'done]] I don't think it make life easier just for beginners, but YMMV. 03:56I will say, pending Doc's rationale, that if it means I am more encumbered in order to make the runtime's life easier, I will gladly buy it a beer if it steps up and does the extra work. :^) xificurC 08:20is this really the way to write a sum function? sum: func [a [block!] /local x] [x: 0 forall a [x: x + a/1] x] (taken from rosetta code's REBOL solution). It's rather wordy compared to a lispy (apply + lst) dockimbel 08:33@xificurC HOF were never standardized in Rebol, so not part of the runtime library. Though, defining apply would be a one-liner. xificurC 08:43@dockimbel I see. I saw some discussions here from a day or two ago about blocks vs. functions and the (no-)need of HOFs in red, although I fail to see what would be a more concise way to write such things. apply, fold/reduce, map, filter, extract, these are all very expressive HOFs dockimbel 08:51@xificurC Agreed about the higher expresivenesss of HOF, though, they also require more efforts to understand for beginners, or people not used to the functional mindset. xificurC 08:58@dockimbel sure, for those coming from OO background 09:14@greggirwin your fold example uses several things I don't seem to have defined, at the very least default and incr maximvl 09:21@nickantonaccio hey Nick, is it your website http://www.mycode4fun.co.uk ? dockimbel 10:14@xificurC That's the vast majority of developers out there. ;-) xificurC 10:15@dockimbel unfortunately, yes :) 10:15still, having the HOFs in the base language wouldn't really hurt anyone, would it? dockimbel 10:15@xificurC Certainly not, I missed them in Rebol. xificurC 10:16@dockimbel so you're gonna implement them (soon tm)? 10:16@dockimbel another favorite question of mine - do you have an *extremely rough* estimate for 1.0? You've done a great deal of work by now so I guessed you might be able to take a guess :) 10:17(as in 1 year or 5) dockimbel 10:18Our planning is already very packed. I have some little design & research work before we start implementing it, as I would like a good support for them in the compiler. Implementation part should be trivial (as shown by @greggirwin), though the compiler support might require some more efforts. In other words, it should arrive soon, in one of the 0.6.x version. ;-) 10:19@xificurC It very much depends on how much of the planned features we want to put into 1.0. I would say, if we exclude concurreny, that a 1.0 is doable for Q2 2017 (very rough estimate). pekr 10:21For many, 0.7 is going to be a 1.0 ;-) Red has really imo got one "disadvantage" - it really feels so solid (hardly remember any hard crashes), that users are demanding for more features to use it productively. Kudoz to the recent state of the implementation! 10:22I especially love the gui-console sessions ... dockimbel 10:24Many crashes in previous releases were due to missing internal features (like some typechecking) and assert calls in Red/System code instead of high-level Red errors. xificurC 11:48I'm awaiting GUI for linux to start playing with it, not much of a windows fan 11:49@dockimbel thanks, that doesn't sound too bad. I usually double these estimates, so I'll expect it for mid 2018, which is still pretty reasonable :) 11:50@dockimbel for HOF - I understand. Happy to hear you're planning to include it soon :) greggirwin 16:15:point_up: [July 22, 2016 3:14 AM](https://gitter.im/red/red?at=5791e40a2efeede810c0bc4d) @xificurC , yes. Just examples here. I have a gist up with both of those mezzanines in it. 16:16https://gist.github.com/greggirwin/d0412f0c3d8e1ce4dfe26afc643742f1 16:20And when you see lots of imperative things in the mezzanines (e.g. sum), it's because they largely came from Rebol and weren't all redesigned. We also don't have HOFs yet, so consider them easy-to-understand if nothing else. :^) I'm sure Nenad will include TCO if humanly possible (and maybe even if it isn't), so a lot of recursion concerns from Rebol go away. 16:42@xificurC you could also pull the lines out of the R2 versions I posted for Max, to replace default and incr if you want. Saturday 23th July, 2016 rhencke 02:32Hey folks - I noted there's pre-compiled Red available on Mac/Windows/Linux(x86)... is there any way to the Red compiler running on Linux for ARM? dockimbel 03:17@rhencke Hi Robert, no binary version of the toolchain for ARM targets, but you can run it from sources using the Rebol [build](http://www.rebol.com/downloads/v278/rebol-view-278-4-8.tar.gz) for Linux/ARM. You can also just cross-compile your Red code from any other OS. You can have a look to "Running Red from the sources" section from [this page](https://github.com/red/red). rhencke 03:19@dockimbel Ah - okay, thank you! Red looks really interesting and it looks like a nice and lightweight/small way to have a nice language on embedded systems. I will give that a try. :) 03:20(I was trying to find the REBOL/SDK for sale but it looks like it may no longer be available - your way is much easier) 03:31@dockimbel That worked perfectly! Thank you. :) dockimbel 03:31Unfortunately, the Rebol/SDK doesn't seem to be available anymore. We'll see if RebolTech is willing to make it a freeware. 03:32@rhencke Good! Feel free to ask questions here or in red/help rooms. Have fun. ;-) rhencke 03:32@dockimbel Okay - thanks so much! dsgeyser 07:06Very true and could see the frustration on the average coders' face: 07:06"If you lie to the compiler, it will get its revenge" Arie-vw 12:34red-by-example is steadily growing. Today a separate page about series has been added. Any positive feedback appreciated! RnBrgn 16:17@Arie-vw The new series section is great. Clear and reads well. Thanks RiVeND 17:01@Arie-vw - Red By Example is becoming a very useful reference. Thanks 17:02Oh, I did notice a typo at the bottom of Series section 4.1 - it has "heaqd" instead of "head". xificurC 21:18@greggirwin thanks. @dockimbel planning on TCO as well? Neat Sunday 24th July, 2016 pekr 09:26latest PRs fail on Travis. The most probable reason - rebol.com is down? 09:33what is this! type in terms of the R/S code? just an alias to some other type? qtxie 09:38It's a struct! define in COM.reds. this!: alias struct! [vtbl [integer!]] pekr 09:44thanks .... lispberry 10:45 red <<: make op! :append [h] << [ha] breaks Red interpreter without raising any error:). dockimbel 10:57 10:58@LispBerry An error message is missing at creation. Function with refinements are not supported. Please open a ticket on github about that crash. lispberry 10:58ok dockimbel 10:59@LispBerry If you wrap the source function into a 2-arity function with no refinements, it works fine: red>> app: func [a [series!] b][append a b] == func [a [series!] b][append a b] red>> <<: make op! :app == make op! [[a [series!] b]] red>> [h] << [ha] == [h ha] lispberry 11:05Yes. You're right. It works properly with actions without refinements:) <>: make op! :swap [1] <> [3] ifgem 11:33It's weird:)) <<: make op! does [] << ; missing arguments. 10 << 20 ; Script Error: << does not allow integer! for its <anon> argument dockimbel 12:27@ifgem Dragons' territory. ;-) make op! is missing checks to only allow 2-arity functions. ifgem 12:29Yes:)). tanstaaf1 15:34Dumb question: What, exactly, is "libred"? I don't see a definition on trello. I thought it might be mezzanine functions, but that doesn't make sense either. Anyway, it's kind of bothering me to be eagerly awaiting something when I don't know what I am awaiting! ;-/ 15:37@dockimbel As you know, and I found out the hard way(4/1/2016 really was "April Fools Day), the date function - yet to be implemented - is looking only for "international" format...which isn't used in the two largest economies: the US nor China. Any chance this can be configured in red? If not, can the error reporting at least make explicit. I wasn 15:39It's such a small thing, in a way, but it has big repercussions if you don't get it OR bad data is being input by a user! pekr 15:49Libred is a branch, which should bring features expected in 0.6.2, nothing more. It is typical, that devs start some new branches, to develop various concepts ... 15:50It will allow Red to be loadable as a library, which might be needed for Android, or something like that ... tanstaaf1 15:52So it's just sort of a catchall for additional features which don't fit neatly into one of the major themes of development? Then are there likely several "libreds" in the process of rolling out red? Thx @pekr pekr 15:53Maybe it's also about allowing runtime loading of dynamic libraries in R/S and in 0.6.3 in Red too ... or both ... better wait for gurus to properly answer that :-) greggirwin 20:25@tanstaaf1, how would you make it configurable, and how would it error check valid data? It's easy enough to write parsers and formatters (I have both which I'll port at some point), but how would Red's lexer know? tanstaaf1 22:15@greggirwin Indeed, that is the issue. But my question is who assumed the HUMAN would know - because in the US "international" date format isn. Excel knows VERY well what I mean when I type in 4/1 or 4/1/16. My first response when I encountered this was WTF? Then disbelief. Then PeterWAWood 22:29@tanstaaf1 Whilst Red is user friendly, it is first and foremost a programming language not an application. Even Microsoft uses the same Year Month Day order for its programming languages. (https://msdn.microsoft.com/en-us/library/system.datetime(v=vs.110).aspx) The ISO standard is to stores dates in Year Month Day order. As Gregg pointed out it is not difficult to write application code that handles Year Day Month input and output. tanstaaf1 22:30Short answer: I suggest a config file. I doubt this is going to be the only case where that would be useful. Choice of radians vs degrees for default might be another. Hex vs decimal, another. And then there are going to be things such as default directories, etc, right? Anyway, I suggest the default is NOT acceptable -- not if getting US and, from what I read, Chinese on board is desirable. 22:36@PeterWAWood Storage is one thing; input is another. Red is assuming an input standard -- and it is "wrong" in the US and China. Reminds me of the definition of Assume: makes an ASS of U and ME. Red *shouldn't* assume in such a case. greggirwin 22:37Config options are always possible, but that assumes you're always going to get data in the same format. tanstaaf1 22:37My alternate solution would be the FIRST time red is tempted to throw an error when someone puts in 1/23/16 it, at least, give a helpful error message and try again instead of what rebol currently does. greggirwin 22:38While I agree that having it work correctly for me, and making my life easier, is most important ;^), I recognize that we have things like Unicode support and international standards for a reason too. 22:38I'm not sure what you mean by "try again". PeterWAWood 22:39As I said Red is a programming language not an application, the console is an application. You are requesting one of two things: (1) That Red has user configurable literal values or (2)The Red Console has configurable literal values for some datatypes I'm not sure which you are asking for. greggirwin 22:40How do you disambiguate valid values? PeterWAWood 22:40And whilst the Red console is an application, it is not really an end user application greggirwin 22:42It's been a long time, but I do recall wanting mm/dd/yy support when I started with Rebol, and ended up writing my own. Now I use d-mmm-yyyy format every time I write a date, even by hand. tanstaaf1 22:44I mean the error message could at least explain that it was expecting dd/mm/yyyy. What R2 does currently on such an input is throw an error...but halting with an "nonsensical" error when a US user puts in 1/23 or 12/25/16 (xmas) is not a way to "win friends and influence people" in the US. And, as I said, apparently not in China either. So...what is wrong with a configuable date standard and an error message which makes crystal clear what was expected? greggirwin 22:45Q. What date is 7/6/2016? tanstaaf1 22:48Not trying to be a pain... I won't personally make this mistake again with rebol/red. But while we are working on taking over the world we might as well show we are friendly regardless of county or personal preferences of date standard. "You can be right - or you can be happy" is one of my favorite sayings. 22:49July 7 2016 obviously...to me. ;-) greggirwin 22:49To *you* being the key. It's not that to Peter. It's ambiguous. 22:50So, how do you solve that? tanstaaf1 22:51That's my whole point. In general rebol's assumptions are correct -- urls, decimals, etc. But date is tricky and in the US rebol is, unequivocally, WRONG. greggirwin 22:51No, you're asking Red to assume that your assumption is correct. :^) 22:52How about Red just disallows all-numeric dates as a lexical form? tanstaaf1 22:53As I said, ASS U ME. Better to allow (A) configuration and (B) much clearer error messages. greggirwin 22:54> How about Red just disallows all-numeric dates as a lexical form? tanstaaf1 22:55Or disallow if a middle way can't be found in this case. But don't ASS U ME, nor insist, US and Chinese citizens change their way to the rebol standard if we want to win. greggirwin 22:55How does configuration solve the problem with data you didn't write? 22:56I'm not calling you an ass, but you are the one assuming here. You're assuming that Rebol (since Red doesn't have it yet) was intended for use only in the US and China. 22:58So you config for US format. I post 7/6/2016 to you in a message, meaning 7-Jun-2016, because that's *my* config. What happens? 23:03Note that I'm not saying it can't do what you want. I'm saying that if you want it, you have to answer the hard questions and show how. I don't happen to have those answers, so I can't help. Monday 25th July, 2016 tanstaaf1 00:27Greg, I didn't bring up this issue in order to start a pissing match. Rebol is obviously not as smart as a human or it would figure it out. But humans adapt and compromise. I've suggested several ways I think the dilemma could be handled better. IMO, choice is better than no choice and, certainly, more helpful error messages aren't asking for much? greggirwin 00:53I'm trying to help, but you're not answering the direct questions I'm asking so we can't come to a conclusion. Your solutions aren't (yet) solutions. >Rebol is obviously not as smart as a human or it would figure it out. What I'm saying is that it can't. Not when they're ambiguous. Neither you or I could figure it out either. > You config for US format. I post 7/6/2016 to you in a message, meaning 7-Jun-2016, because that's *my* config. What happens? How do you solve that? tanstaaf1 01:23If you tell me the meaning of 7/6/2016 I can adapt so we can communicate. Why isn't it reasonable to tell rebol the meaning and have *it* adapt? This could be done with a config, a header line, or maybe a refinement? It's an ambiguous case, obviously, so there is no perfect answer - I'm just suggesting there are *better* answers than what rebol is doing. Part of a better answer is that when the interpreter chokes on an input it should give some more useful suggestion than what R2 currently gives it could, for example, improve the status quo considerably by merely saying "Input does not fit dd/mm/yy format." when presented with 12/25/16. Country of origin of the communication would also help suggest an interpretation (that is part of context in human communication). Also, why can't both "Dec 25 2016" and "25 Dec 2016" be understood instead of just one? I don't claim to have all the perfect answer here, @greggirwin. I'm mostly saying that the current answer isn't too hot and AT LEAST the error messages red might offer should strive to be better than those given by R2. I'm bringing this up now in the hope that it might help lead to something a little better. R2 brags about how "flexible" it is in handling dates...but it is, in fact, not so flexible ... not so well thought out... at all. How else could this be handled? I pointed out the ambiguity so it would at least be considered. If the US and China were insignificant countries in the programming arena we might just disregard them. My guess is the US + China are rather more influential in the tech arena than the rest of the world combined. In any case, the ambiguity *is* going to cause a lot of grief which might be diminished by at least acknowledging the problem and attempting something different. greggirwin 02:47How about the suggestion, then, to not allow ambiguous date formats? Big questions are hard, that's why I try to start with small ones, and work our way up. If you can't answer my simple question above, how can we move forward? Alternatively, provide a concrete solution. Write the parse rules that do what you want and show that it all works. I'm not trying to be difficult, but I don't think I'm helping here. Rebol has flaws, I agree, but it is *enormously* well thought out. In general, and it is a generalization, if someone proposes a good idea, that seems feasible to implement, and is in line with Red's designer's goals, it will be considered. If an idea gets pushback, it means more thought is required or a better argument made. I am not Red's designer. I'm just a community member like you. My hope is, by asking questions and pointing out gaps in an argument, that good suggestions will get stronger and Red will be the better for it. 02:51I don't believe what you want can be achieved with a config, header, or refinement. It's that simple. pekr 05:26As Peter have said - Red is a programming language. I asked for some locale support too, but found out, it is not all that easy. Why do you talk about dates only? What about the floats? In CZ locale, we don't have 10.5, we have 10,5 .... I am not sure that has an easy solution. Also for dates, we have 25-Jul-2016 form. Should we allow 25-cer-2016 form? All that looks easy on a surface. I think that localisation support is a responsibility of particular app author ... 05:27Hmm, now thinking about it more - I do remember, in VID, some guys tried to provide a field type wiget, which contained some formatting __.__.____, and allowed only num values to be entered, etc. I wonder if it is going to be possible with native widgets? 07:49Sorry for uneducated question - what will float-to-integer conversion in terms of R/S allow? Is that only about a needed feature itself, or might it mean speed-up of some code, etc.? endo64 08:15There is a difference between R2/R3/Compiled-Red and Red Console on the following code: f: func [x /a y /b z] [x * any [y z]] f/b/a 5 2 5 == 10 (on Red) == 25 (on R2/R3 AND Compiled-Red) dockimbel 08:25@endo64 It's a know bug: https://github.com/red/red/issues/1154, caused by bad handling of unordered refinements in interpreter. PeterWAWood 08:27@pekr @tanstaaf1 I think it would be good to have some locale support. To support things like Turkish uppercase i, "," as a decimal separator and, even dates. However, I believe providing location support is going to be very difficult in Red as values are so fundamental to the language. Clearly, it is difficult, if not impossible, to "localise" the Rebol values. If the literal (or molded) values are localised and then become ambiguous, how would you know under which "locale" they had been molded. For example, if Rebol allowed "," to be used as a decimal separator in addition to ".", does 123,456 mean 123456.00 or 123.456? You cannot tell without knowing under which "locale" the numeric literal was created. 08:29I think introducing locale support in Red will consume a lot of @dockimbel's brain cycles :-) ifgem 09:23@ifgem s 09:24Q pekr 09:26I would keep the topic for later, there seem to be more important things for 1.0 :-) PeterWAWood 09:46@pekr I think it's one of those things where it I best to decide how to do it as early as possible as working out how to do it later will be much more difficult. The implementation can, and probably should, be deferred. 09:48I was a little lazy with one of my examples. What I should have written was: If Red allowed a user to configure the thousand separator as "," and the decimal point as "." (e.g. 100,000.00) and vice versa (100.000,00), what number is 123,456? xificurC 10:08Internally the number is represented differently, so where is the problem? When actually reading from an external source? That's a common (and unsolvable) problem everywhere. Either you provide the locale information or you make a guess. Red has a toplevel block where one could define it perhaps? My 2 cents though: we are programmers, not the ones who are going to read the final report that needs localization. If . is for decimal separation than that's what it is. Who is questioning the choice of "" and {} syntax for strings? Or do we want to allow people how to write blocks, to perhaps use {} for blocks to get that Java feel? (and then solve the clash with the string syntax). pekr 10:10So you prefer your script to fail, because it can't decide, what was the source of original molded representation? 10:10we would have to rethink mold, and provide it with the locale setting PeterWAWood 10:20 10:21> @xificurC "Internally the number is represented differently, so where is the problem? When actually reading from an external source? ". Traditionally, Rebol (and following on Red) has used its literal value formats as the way to communicate both code and data and typically the literal values formats are used to achieve "code is data, data is code". Doing so has the advantage of being more readable. I guess that these uses could be superseded by use of the Redbin formats but I feel that it would be a significant change of approach. xificurC 10:28homoiconicity has nothing to do with *choices* of representation. There is a function that shows (prints or w/e) your code in a format that can be parsed back by the language. That function is the one one should use to go code -> data. As for data -> code, I prefer to have one format, unambiguous. 10:29so if I want to **write code** I have to use the one, unambiguous format. If I am **reading input** from a textbox or w/e I can parse it w/e way I like. PeterWAWood 10:42Typically people use literal values to achieve that: >> code: load [today: 21-Nov-2015 tomorrow: today + 1] == [today: 21-Nov-2015 tomorrow: today + 1] >> do code == 22-Nov-2015 >> mold code == "[today: 21-Nov-2015 tomorrow: today + 1]" >> do mold code == [today: 21-Nov-2015 tomorrow: today + 1] >> do load mold code == 22-Nov-2015 xificurC 10:49@PeterWAWood to achieve what? I'm not sure I got your example, sorry. First you are loading code, which is data -> code, where I said to prefer 1 unambiguous representation. Then you are molding it so that it can later be read back, which is the code -> data path, which again I think should be unambiguous. Localization should be a representation concern, but not a code representation one. I.e. one can have options to print a date value in localized format but in order to store it for later reloading one should use the tools (functions) that are designed for that. 10:50So if moldis the standard way to "store" code for later reloading then I would like it to be not changed. If one wants to tinker with the printing there should be a separate function for that PeterWAWood 10:58@xificurC I was trying to demonstrate in the current implementation that there is a single representation for both code and data. The earlier request was to introduce localisation into this single representation. Doing so would introduce ambiguity into the representation which as you point out is a non-starter. xificurC 10:59@PeterWAWood I see. Then we agree :) PeterWAWood 10:59Yes :-) xificurC 11:02parts of the [rebol core guide](http://www.rebol.com/docs/core23/rebolcore-8.html) don't open for me, while [others](http://www.rebol.com/docs/core23/rebolcore-9.html) do pekr 11:08rebol.com seems to be down ... xificurC 11:09ah, so the ones I could open were just cache hits? Funny pekr 11:09not sure, but might be .... or broken web server, or something :-) xificurC 12:59parse dialect is pretty nice :) Here is my attempt at a crude csv parser quoted: [{"} collect into quot [to [not {\} skip {"}] skip] {"}] ;" split-line: [collect [any [keep [quoted | to ["," | end]] skip]]] ; test-line: {hi there,"this is quoted","this has \"escaped\" quotes",etc} ; parse test-line split-line ; == ["hi there" {"this is quoted"} {"this has \"escaped\" quotes"} "et... 13:02I wonder why is it {"this is quoted"} and not just {this is quoted} 13:05 red quoted: [collect into quot [to [not {\} skip {"}] skip]] ;" split-line: [collect [any [{"} keep quoted {"} | keep to ["," | end] skip]]] ; test-line: {hi there,"this is quoted","this has \"escaped\" quotes",etc} ; parse test-line split-line ; == ["hi there" "this is quoted" {this has \"escaped\" quotes} "etc"] 13:06I'm spamming to get code review. Will stop now dockimbel 13:24@xificurC What is collect in quoted for? (it has no nested keep) xificurC 13:25@dockimbel Hi :) I thought collect into collects everything the rule matches dockimbel 13:26@xificurC Hi, nope, it collects selectively only what you want to keep. ;-) xificurC 13:27@dockimbel I see, thanks :) the into part doesn't make much sense there anymore anyway 13:27but I just found out that to escape a double quote in CSV one should you 2 double quotes, so I'm changing the definition :) 13:31that even simplifies it to quoted: [any [{""} | not {"} skip]] greggirwin 16:14+1 on unambiguous lexical forms. I like ' as the numeric group separator in Rebol, but I'm not sure how well it fulfilled the goal of letting people use both , and . as the decimal separator. dockimbel 16:47**Quick survey: is there anyone here using Red on a pre-Pentium 4 machine?** 16:49I will be uping the requirements for Red on x86, to have a SSE3 unit, which was introduced with the P4. A fallback is available for older CPUs, though. pekr 17:26If there is a fallback, what's to worry about? Tuesday 26th July, 2016 jouborg_twitter 04:04+1 @pekr justinthesmith 05:54If Red doesn't input and output ISO 8601 dates out of the box, just forget about the whole thing. Seriously. Can't believe we're still arguing about this in 2016. That's 2016-07-25 to be exact. pekr 06:39@jthsmith well, the situation repeats and is so natural with language developments. Each of us, coming to the new language, will try to assure, that it supports our feature, being dragged from other environments. So we've got some lisp users here, who try to suggest some Lisp features, but in the end, who knows, if those folks would use Red at all? I think it's a question for the language designer (Dockimbel) and his close team, to think things thru and keep the language consistent ... 06:40As for dates - it's like it is. Looking into the nowfunction, you have plenty of options to decompose it to its elements and build any helper functions you like: 06:40 >> help now USAGE: NOW /year /month /day /time /zone /date /weekday /yearday /precise DESCRIPTION: Returns the current local date and time. NOW is a native value. REFINEMENTS: /year -- Returns the year only. /month -- Returns the month only. /day -- Returns the day of the month only. /time -- Returns the time only. /zone -- Returns the time zone offset from GMT only. /date -- Returns date only. /weekday -- Returns day of the week as integer (Monday is day 1). /yearday -- Returns day of the year (Julian) /precise -- Use nanosecond precision 06:40R2, for example, has a function called to-idate: 06:41 >> now == 26-Jul-2016/8:38:27+2:00 >> to-idate now == "Tue, 26 Jul 2016 08:38:34 +0200" >> source to-idate to-idate: func [ "Returns a standard Internet date string." date [date!] /local str ][ str: form date/zone remove find str ":" if (first str) <> #"-" [insert str #"+"] if (length? str) <= 4 [insert next str #"0"] reform [ pick ["Mon," "Tue," "Wed," "Thu," "Fri," "Sat," "Sun,"] date/weekday date/day pick ["Jan" "Feb" "Mar" "Apr" "May" "Jun" "Jul" "Aug" "Sep" "Oct" "Nov" "Dec"] date/month date/year to-itime any [date/time 0:00] str ] ] 06:42I think there's a plenty of options to make it just what you want it to be .... endo64 09:07When I type '* '+ '- '/ on console the first three works but the last one gives Syntax Error: invalid value at "'/" error, same for all R2/R3/Red, what is the reason? pekr 09:19Maybe because / is used as a path separator too, so not allowed in words? Arie-vw 09:24@RnBrgn @RiVeND Thanks! endo64 09:46@pekr thanks, probaby yes. same for '% '' ') etc. xificurC 13:12rebol.com still down. Does anyone have a copy of the rebol core guide? It's tiring to search for it through the web archive ifgem 13:32Is there a function that allows me to get each pressed key(in console) in Red? xificurC 13:34looking through the rebol guide's datatypes I have 2 questions: 1. what is the time complexity of insertion, deletion and lookup for blocks, lists and hashes? This is pretty important information that I cannot find 2. is money! going to be represented with floating point numbers in Red as well? Because it is generally thought of as a [bad idea](http://stackoverflow.com/questions/3730019/why-not-use-double-or-float-to-represent-currency) pekr 13:36IIRC, R3 used new implementation for the money! type. It was based upon the BCD (binary coded decimal), or something simillar, to get some precision ... dockimbel 13:39@xificurC 1. As you would expect: Block insert/remove/lookup: O(n), List insert/remove: O(1), lookup: O(n), Hash insert/remove: O(n), lookup: O(1). 2. Certainly not, we'll use a BCD format. The money! implementation in Rebol2 is unusable. PeterWAWood 13:39@ifgem I don't think there is such a function with the current temporary IO support. I would expect it to be part of the Red Alpha 0.7.0 release. ifgem 13:42@PeterWAWood pretty sad :). dockimbel 13:42@ifgem If you know a bit about system programming, you could easily implement it yourself. ;-) xificurC 13:45@dockimbel hm, I thought hashes have insert/remove amortized O(log n), but I might just remember incorrectly. Thanks. One more thing I cannot find anywhere is a definition of action! and native! 13:48oh wait, block!s have O(n) for insert and remove? Using forall, forskip etc. one gets the feel that it is O(1) like for list!s dockimbel 13:49@xificurC As the implementation is closed-source, it's hard to know, but my guess is that it uses a hashtable + a block in order to provide all the series actions support, so the cost is risen by the need to update the block as well as the hashtable. Though, it is also possible that the implementation uses a smarter way to achieve it, a quick benchmark on a big hash vs block insertion should reveal the internal nature of it. xificurC 13:51actually not that much from the looping constructs as from the fact that a block seems to store a few pointers - head, tail and current position. Especially the current position makes it feel O(1). Or is the insertion/deletion O(1) when already "being" there but O(n) when not? 13:52I thought Carl open sourced R2 pekr 13:52No, Carl open sourced R3 only. xificurC 13:52so R2 is free but closed source pekr 13:53yes xificurC 13:53... dockimbel 13:53@xificurC Blocks are just dynamic arrays, so it's O(n). native! means "function coded in the underlying language", so C for Rebol, Red/System for Red. action! is a variant of native! that is defined as a *method* of a datatype class. So all datatypes are internally built using a OO model, actions being their "methods". xificurC 13:53why not open source it, I mean what difference does it make for him today? pekr 13:54There were some investor obligations, or something like that. Noone really knows, apart from Carl. It is imo a lost battle. E.g. one year ago Carl promissed new release, fixing important GC bug. It was still not realeased yet. The sooner Red bootstraps, the better ... but so far, Red can work with R2. xificurC 13:54@dockimbel I see, thank you for the explanation pekr 13:56you are welcome. Rebol history is indeed quite interesting, but we are looking into the future, which is - Red :-) xificurC 13:56looking forward for bootstrapped 2.0 then :) dockimbel 13:56@xificurC For the insertion/deletion, you need to pay the cost of sliding all the right values to left/right direction. It is still fast enough in most use-cases, so list! was abandoned, as nobody was using it (anyway it can be easily simulated by nesting block references). For insertion/removal at end, you usually get some free slots, so you can amortize it. For head insertion/removal, Rebol3 does insert free slots to get similar benefits IIRC, Red does not do it yet. xificurC 13:58@dockimbel oh no list! in red? Ok. If blocks are dynamic arrays why is lookup O(n)? dockimbel 13:59@xificurC No list! in Red for the same reasons as in Rebol2. Though, if we really need it, it's not a problem to add it. ;-) Most of times, you can easily construct a (single or double) linked-list of blocks which would give you the same benefits. For blocks, you need to iterate from head to tail to find a value, hence O(n). Anyway, once we have the basic types done, we can work on some more efficient data structures. xificurC 14:18@dockimbel to find a value sure, but lookups for arrays usually refer to index lookups. E.g. for singly linked lists you need to traverse each cell, therefore to find the 100th element you need to make 100 hops. For an array it's just 1. So I guess block/100 is O(1) but finding a value is O(n) 14:18@dockimbel re more efficient data structures: sounds nice. I'm already imagining functional data structures :) greggirwin 14:31Index lookups for blocks are O(1). xificurC 14:56I would expect ret to be always initialized with [] [here](https://ptpb.pw/eTAg), so obviously I'm missing some Red concept that is not present in other languages 14:59changing ret: [] to ret: make block! 0 seems to do the trick pekr 14:59please use copy [].... xificurC 14:59seems tricky at first glance though pekr 15:00That's one of the gotchas - aka concepts ... of Rebol like language. Not sure it was called and indefinite extent (most probably I am wrong here), but functions remember values between the calls. xificurC 15:00@pekr care to explain the gory details? I read ret: [] as "set the variable ret to an empty block" pekr 15:01Or the explanation could be - you are creating a reference ret to the empty block [], so once you call function again, it refers still to the same block ... 15:02so either use make! or write above example as ret: copy [] xificurC 15:03is there a use case why this is the way it is? pekr 15:06dunno - saving the memory? In Red, we don't call retbeing a variable, but a word, referring to the value, or a slot, where value is stored ... 15:08in that sense: red>> a: [1 2 3] == [1 2 3] red>> b: next a == [2 3] red>> insert a 0 == [1 2 3] red>> b == [1 2 3] red>> head b == [0 1 2 3] 15:08Think about that as about pointers ... xificurC 15:11I wouldn't expect b to "move" after that insert :worried: pekr 15:12I would not too. Well, that's one of the gotchas I like to explain to ppl and have to remind myself about. After some time, it feels natural, but ... 15:13b simply referred to some position 15:13 red>> index? b == 2 15:13So in fact, it did not "move" ... xificurC 15:17if you think about it as "second in a" then no. I imagine the block as a linked list where b points at 2: [ 1 | -- ] -> [ 2 | -- ] -> [ 3 | NIL ] a b 15:17after an insert I would still expect those pointers to be there. Which means the way I think about it is wrong 15:19from what I learned today it seems block! is an array and these word!s refer to a *position* in that array pekr 15:25yes, you might be right. Imagine the following case - you want to store a looked-up position: red>> b: find a 3 == [3] red>> insert a 0 == [0 1 2 3] red>> b == [2 3] 15:26which, after of later modification of a, was not true anymore .... and is a little bit difficult to grasp ... dockimbel 16:02@xificurC @greggirwin Sorry, forgot what "lookup" meant in that context, right, it's O(1) for indexed access. 16:06@xificurC Blocks are *series* (strings, paths,... are also series) which is a combination of array and an implicit index. So, you are correct that it's the *position* index which is recorded and not a slot pointer. 16:13@xificurC *I would expect ret to be always initialized with [] [here](https://ptpb.pw/eTAg), so obviously I'm missing some Red concept that is not present in other languages* Indeed, the concept you are missing (like Pekr) is called *homoiconicity* (core concept in Lisp languages), which translates in layman terms to: "code is data, data is code". So, everything you are looking at in a Rebol or Red source is *only* data, not code. Therefore, there are not such thing as "initializating", ret: [] just makes the word ret refer to the value following it (empty block in this case). If you modify that block, next time you evaluate that expression, ret will be set to the same block, with whatever it currently holds. So, a dynamic construction is required in such case (achieved by make block! 0 for example), rather than using a literal block value, unless you want to use it for caching values across calls (similar effect as a *static* allocation in other languages). Longer explanation in this [/r/redlang post](https://www.reddit.com/r/redlang/comments/4ecs9n/insane_behavior_in_rebol_lets_put_an_end_to_this/d2lt4fi) (using string instead of a block, but both are series, so behave the same). 16:20Here is a simple illustration without using a function: red>> code: [b: []] == [b: []] red>> do code == [] red>> b == [] red>> insert code/2 3 == [] red>> code == [b: [3]] red>> b == [3] 16:22Once you grasp that, many other "odd" features or behaviors in Rebol and Red will suddenly make sense. ;-) People previously exposed to Lisp will find that trivial, but it takes more time if you never used an homoiconic language before. It's a bit like crossing the mirror in The Matrix, after ingesting the *red* pill. ;-) Wednesday 27th July, 2016 djrondon 03:53Hi Folks, 03:55I'm trying to use high order functions such as: Red [ Title: "Function Argument" Author: oofoe Date: 2009-12-19 URL: http://rosettacode.org/wiki/Function_as_an_Argument ] map: func [ "Apply function to contents of list, return new list." f [function!] "Function to apply to list." data [block! list!] "List to transform." /local result i ][ result: copy [] repeat i data [append result f i] result] square: func [ "Calculate x^2." x [number!] ][x * x] cube: func [ "Calculate x^3." x [number!] ][x * x * x] ; Testing: x: [1 2 3 4 5] print ["Data: " mold x] print ["Squared:" mold map :square x] print ["Cubed: " mold map :cube x] print ["Unnamed:" mold map func [i][i * 2 + 1] x] 03:56it works in Rebol, in Red how can I pass a function inside another function ? greggirwin 04:051. Remove list! from the spec block. Red doesn't have it. 2. Make the inner part of your map body: repeat i length? data [append result f data/:i] 04:05I posted some HOFs recently: :point_up: [July 20, 2016 11:22 AM](https://gitter.im/red/red?at=578fb36a841e619d161f92ca) tanstaaf1 04:06@jthsmith ISO 8601 is the only format which makes dates trivial to manipulate and compare and calculate, so I second you there. I'm expecting to do a lot of text processing, though, and so that's what's being discussed. DD/MM/YYYY and MM/DD/YYYY have nothing to recommend one over the other without locale knowledge, but they are common in text processing. I wish I had a better answer but I'd personally prefer there be NO date assumption if red can't adapt to locality. It would be sort of like having only euros or yen be understandable as a currency ... just and endless headache as I am not going to be able to get 330 million people in this country to start using euro format for dates any more than I could get them to start speaking Japanese. 04:07Anyway, I've expressed and will shut up now! :-> greggirwin 04:08@tanstaaf1, going by your signature, you understand that nothing comes for free. The tradeoff would be that you have to have the locale info at *every* instance of a date! value. So I think the approach of making Red strict in what is standard, and pre-processing ambiguous stuff, is the way to go. 04:09The ISO model makes a whole lot of things easier. 04:11And there will surely be some standard date parsing to assist. tanstaaf1 04:15@greggirwin how about date-euro! and date-usa! and maybe date-china! (or whatever)? I picked up this gauntlet because I found out about the "weird" date interpretation the hard way and then encountered another newbie running into the same problem and wasting their time in turn. I'd rather have NO date assumption (I think one of your suggestions) than what exists because at least then I - and plenty of others - wouldn't be misled. I could live with no date assumption by red...I'd know I just need to create my own types and parsing from the get-go. So I'm good with that as well. I work with ISO 8601 when I have a choice. greggirwin 04:16The problem is still, how does Red know whether 6/7/2016 is date-usa! or date-china! ? 04:17A parser that is make locale-aware, and a formatter on the flip side, give you all the control you should need. Unfortunately, Red can't assume in the case of ambiguous data, so has to work hard to disallow it, which makes some design decisions really hard. 04:18Making things easy for you and I might make other things completely impossible. :^\ 04:19As you point out, there are some lessons we can learn from Rebol in that regard. tanstaaf1 04:19Ok. Well if I can't give it context it doesn't. I agree with you there. I'm not trying to be difficult...just trying to forestall difficulty for newbies most of all.. greggirwin 04:21NP. Things are easy in the scope of me and my clients (just give me ASCII :^), but when you consider Red as a data exchange language, the lexical forms take on more importance. 04:22It's great, now, because when we get date! and work on formatters and parsers, you can be their champion! 04:24It never ceases to amaze me how easy most things are in Redbol, but when I go to write general routines, to be considered for standard inclusion, there are *so* many details to consider. Hundreds of tiny decisions that can each lead to beauty or terror. 04:28Believe me when I say I feel your pain. So many times I've thought I had a great idea, or an elegant piece of code, only to show it to the community and have all its flaws and things I didn't consider pointed out. It's humbling, terrible, and wonderful. JenniferLee520 05:43out xificurC 06:10@dockimbel thanks for the follow-ups, I wasn't around yesterday anymore. I did homoiconic languages before (as in CL, Clojure, Racket, Scheme, Picolisp), so I'm fine with the notion of "code is data". Reading your reddit post I think the biggest difference is variables vs. bindings. Even in lisps if you write (let ((foo ""))) inside a function definition it will behave as foo: copy "" in Red. So I guess in lisps I would read it "set this local variable to an empty string", whereas I don't know how would I say it in Red. One is used to having a function definition static whereas here if you look into the body you suddenly see that the definition itself changed. It's like the function can mutate itself, which I haven't seen in any other language. Now that I know it though I'll try to remember it. Just out of curiosity though, is this behavior a direct result of the language's design? Does the design *bind* you to keep it this way? Or could both concepts be used but Carl decided this one has more benefits? If so what are those benefits? x8x 06:30How did I miss this interview with Nenad ?? :-) http://pastebin.com/raw/JJUBGBWm dockimbel 07:00@x8x Ah, we got interviewed by a few newspaper when we arrived in Xiamen last December, they were curious about why we came here, from Beijing to a small city (only 4M inhabitants). ;-) xificurC 07:074M is small? My *country* has 5M 07:10what does one use as a key-value store? hash! seems to work like a set. Using block! with select works fine but there's no updateequivalent, i.e. I have to get to the correct position with find and then change second that, which is ugly mostly because find doesn't hop, it looks at the whole block PeterWAWood 07:29You are probably looking for map! which Rebol 2 doesn't have. dockimbel 07:30@xificurC put is the *write* counterpart of select in Red. Most of the time, I use blocks for key-value stores, I only switch to hash! or map! if the number of values is more than a few dozens and that I want maximum lookup speed. xificurC 07:32@dockimbel thanks I couldn't find that one in the Series chapter of the rebol guide 07:32@PeterWAWood is that documented somewhere for red? PeterWAWood 07:35@xificurC The introduction in [this blog entry](http://www.red-lang.org/search/label/map) may be enough to get you started. The Wiki page that it links to seems to have disappeared. dockimbel 07:35@xificurC Rebol does not have such action, it's part of of new features introduced in Red. The only mention of put in our limited docs so far is in the [map!](http://doc.red-lang.org/Map!.html) description. It should work the same on blocks (and derivatives), modulo bugs. ;-) PeterWAWood 07:36@xificurC The Map! Datatype Wiki Page has been moved [here](http://doc.red-lang.org/Map!.html) xificurC 07:38thanks @dockimbel and @PeterWAWood 07:41is there a more idiomatic way to write something like reduce [key reduce [d]]? dockimbel 07:59@xificurC Can't think of anything simpler, a longer alternative: repend/only reduce [key] [d] xificurC 08:01@dockimbel ok thanks dockimbel 08:01@xificurC Even in lisps if you write (let ((foo ""))) inside a function definition it will behave as foo: copy "" in Red. Red and Rebol series are mutable by default. You manually copy them when immutable behavior is desired. Let me try to explain the Rebol/Red behavior using a step by step approach: 08:10Let's start with a very simple case: b: [""] append b/1 "a" b == ["a"] Now a let's embed the mutating action in b itself: b: ["" append b/1 "a"] do b b == ["a" append b/1 "a"] Now let's just make a word refer to b/1 string before doing any change: b: ["" append b/1 "a"] s: b/1 s == "" do b b == ["a" append b/1 "a"] s == "a" Let's now move the word setting inside b: b: [s: "" append b/1 "a"] do b b == [s: "a" append b/1 "a"] s == "a" All the behaviors you are seeing in those examples are coming from the basic evaluation rules of Rebol/Red. When you create a function, the body block is just *a block*, behaving exactly the same way as the block in the example above. The only difference is that some words will be bound to the function context, instead of the surrounding context. So, if we use the above block as a function body, you'll get the exact same behavior: foo: func [/local s][[s: "" append s "a"] foo == "a" body-of :foo == [s: "a" append s "a"] :foo == func [/local s][s: "a" append s "a"] xificurC 08:14ok so the function doesn't have a *definition* per se, it is just data that we can mutate. dockimbel 08:15@xificurC Precisely, yes. It's the simplest way you can create functions from the basic Rebol/Red semantics. As said in my Reddit post: *Such property is often leveraged in functions to implement local caches for free, though you could figure out many other applications (like code hot-swapping, live debugging a running program, etc...).* xificurC 08:17unwrapping it with a lisper's eye do is eval dockimbel 08:17@xificurC Right. xificurC 08:18so the nature of red is more dynamic than of lisps. Closer to picolisp probably 08:19sorry for comparing to lisp so much, but that's where I'm coming from :) dockimbel 08:19@xificurC Right, you have more "freedom", especially with the dynamic *binding* of words (using bind you can change the binding of any word individually, anywhere). 08:20@xificurC No problem, comparing with what we know already is how we learn. And we are close cousins of Lisp languages, so that's a good place to start in order to grasp Rebol languages deeper. xificurC 08:21@dockimbel looking at it from a broader perspective I guess the dynamism (if that's a word) does open many opportunities. You probably have more in common with picolisp (if you know the language) 08:21@dockimbel yeah tell me, I miss my parens :( dockimbel 08:22@xificurC Rebol languages are really like *languages construction kits*, that great freedom and flexibility is there to help you design a broad range of dialects (embedded DSLs). 08:23@xificurC Dropping parens was a necessity in Rebol in order to make the syntax more "human-friendly" and broaden the scope of possible dialects, without having them all looking like s-expressions. xificurC 08:23@dockimbel yes homoiconicity does bring in the metaprogramming capabilities. It's the single feature I cherish the most since many languages trade it for random syntax and complicated AST etc 08:24@dockimbel I like s-expressions a lot so I'm on the other side, but I understand the choice of course 08:26@dockimbel thank you for the explanation, it's much clearer now :) I will let you work now dockimbel 08:26@xificurC I also can't think about coding in anything other than homoiconic languages now, though, it comes at a price also: we have less freedom in the syntactic choices, as each syntactic form needs to denote a first-class datatype (modulo some LOAD-stage limited syntax transformation, as you would do with someread macros in Lisp). 08:27@xificurC You're welcome, thanks for all the good questions about a very fundamental topic. xificurC 08:27@dockimbel I think that's a reasonable tradeoff. Whatever syntactic shortcuts another languages could get can't compare with the shortcuts you get from homoiconicity WiseGenius 10:17@xificurC I too prefer s-expressions, and yet appreciate the Rebol/Red syntax as a complementary idea to be explored. xificurC 10:50can one add an object variable dynamically? Something along the line foo: make object! [] add foo "bar" "baz" and then be able to access it as foo/bar? 11:03on a similar note how does one convert a string to a word or set-word? make word! "foo" doesn't work and to-word isn't defined SteeveGit 11:07> load "foo" Arie-vw 11:08@xificurC red>> to set-word! "foo" == foo: xificurC 11:08@Arie-vw thanks I didn't know of to Arie-vw 11:09red>> to word! "baz" == baz 11:10@xificurC on my site red-by-example.org there are a lot of docs already. But still very incomplete. Maybe it could help you at some stage :-) xqlab 11:13I@xificurC I remember a few Rebol2 versions once having the ability to add new members to an object. It was abandoned for security reasons. PeterWAWood 11:15@xificurC You cannot add a word to an object directly in Red yet. (You can in Rebol3 but I'm not sure of @dockimbel's plans). You can achieve a similar effect with: red>> o: make object! [a: 1] == make object! [ a: 1 ] red>> o/a: 2 == 2 red>> o: make o [b: 3] == make object! [ a: 2 b: 3 ] SteeveGit 11:16"security reasons" = Too much work. I don't want to do it ;-) xificurC 11:20@PeterWAWood I figured from the examples one can do that, I was just wondering if there is a built in way to do it. Thanks 11:35 red red>> parse "one,two,,four" [collect [any [keep to ["," | end] skip]]] == ["one" "two" "four"] can this be changed so that the result is ["one" "two" none "four"]? 11:37or literally anything instead of skipping the empty entry dockimbel 11:38@xificurC A quick take at it (could maybe be done in a shorter way): parse "one,two,,four" [collect [any ["," keep (none) | keep to ["," | end] skip]]] 11:53Any printf format expert around who wants to score a PR for https://github.com/red/red/issues/2135 ? xificurC 12:00@dockimbel thanks that did the trick xqlab 12:46@xificurC red>> split "one,two,,four" "," == ["one" "two" "" "four"] and the source of split yoffset 13:27@dockimbel Please excuse me, but there is an error in the displayed code of the July 7 spreadsheet post. A single space is required at charset "0"repeat (first to second line). As it is, there are problems working with it in the console. xificurC 13:35why no forskip? :( 14:00C-c in red console currently kills it. The expected behavior (on linux at least) is C-c to interrupt and C-d to kill it. This is how python, irb, or even bash behave. Do you think this could be implemented @dockimbel ? Right now if I enter an endless loop I cannot interrupt dockimbel 14:31@xificurC The Rebol console uses esc key for that purpose, Red should do the same. 14:34@yoffset *As it is, there are problems working with it in the console.* Could you be more specific? I can copy/paste the code in the Red console as is, and launch the demo with no issue. yoffset 14:58Now there is a space. Thank your helper and continue considering me mistaken. greggirwin 16:42:point_up: [July 27, 2016 7:35 AM](https://gitter.im/red/red?at=5798b88500c8ebdd0e281292) I have forskip in my (work in progress) mezz dump gist. https://gist.github.com/greggirwin/d0412f0c3d8e1ce4dfe26afc643742f1 16:44:point_up: [July 27, 2016 1:38 AM](https://gitter.im/red/red?at=5798650a8fb4820a46678412) If you need to do a lot of reduces, compose may be a better choice. 18:36Insert bug? red>> blk: copy [] == [] red>> insert/dup blk 0 3 == [] red>> blk == [0 0 0] red>> insert/dup blk 1 2 == [0 0 0] red>> blk == [1 0 0 0 0] The value only appears once, at the head, while (count - 1) items from the head of the series are duplicated. xificurC 19:14@greggirwin [here](https://gist.github.com/greggirwin/d0412f0c3d8e1ce4dfe26afc643742f1#file-greggs-mezz-red-L574) you refer to size but I don't see it defined. And [here](https://gist.github.com/greggirwin/d0412f0c3d8e1ce4dfe26afc643742f1#file-greggs-mezz-red-L587) you seem to have used ' instead of ; greggirwin 19:36Thanks @xificurC ! Quickly cutting things in as I find moments, and mixed 'size from the forward-only version (which is old). 19:37Fixed. 19:38Nope. Hang on. The size check was for the other version. 19:40Just checks for zero width now, to prevent infinite looping. ifgem 20:12Sorry for silly question. How can I get last matched value (parse/trace) in callback function? greggirwin 21:15I haven't done this, but just played a bit, and first input may be all you need, when you get a match event. That may be too naive though. Perhaps @dockimbel will have a spare moment to confirm. I imagine they're hammering hard on 0.7.0 though. 21:20on-parse-event leaks p-indent. red>> parse-trace [a b c] [some word!] match: [some word!] input: [a b c] --> ... <-- return: true == true red>> p-indent == "" 21:21Worth a ticket? 21:27Seems to be by design at the moment. Trying to localize it crashes the console. Something to note about being a callback I imagine. ifgem 21:30And also I need to add some new keywords to parse dialect Now, I just wrote a little function that generate colorize [red word | blue delimiter] ;=> [copy m word (high "red" m) | copy m word (high "blue" m)] ; just a prototype:). ; may be I should write this function parse-keyword colors [:high :to-string name match] ;that would generate generator for me:)) 21:31@greggirwin perhaps, there's a much better way to do it?:)) greggirwin 21:32What is the goal? ifgem 21:35I'm writing syntax highlighter(kind of) and I think that writing something like [red delimiter | black variable] would be better(?) than something else. greggirwin 21:38Really hard to say with so little to go on. :^\ i.e. without knowing how the rest of your design is intended to work. Simple suggestions I can do. :^) 21:40I have written a number of helper generators myself, so it's a valid plan. ifgem 21:41ok, thank you for your answers:)) Thursday 28th July, 2016 dockimbel 05:15@yoffset I've added a space at the end of the first line in case it fixes something, though I still don't know what problem you had. Giving a description instead of "doesn't work" would be helpful. 05:17@greggirwin Please open a ticket for insert/dup issue. For the parse-event function and dependencies, they should be wrapped in a context (was not possible when Parse was added, should be doable now). greggirwin 05:21I tried the context trick. Didn't work here. Will do on the ticket. Rebol2Red 18:44The distance between the first line and the second line is too big. Is this intended? I thought Red would set the distances dependent on the chosen font size. Or must i use something else instead of return? (I can ofcourse use at but then i have to calculate the distances) view [ text "first line" return text "second line" ] mikeparr 18:54Q re: char variable in bitset path. The following was pasted from red-lang.org: bs: charset [#"a" - #"z"] c: #"z" bs/:c ; will return true *** Script Error: char! type is not allowed here On a recent 0.6.1 Win. Any ideas? greggirwin 19:29@Rebol2Red, there are a couple things at work here. One is the default size of the face, which depends on the style and perhaps OS limitations or defaults. Another is the default spacing in VID. See if these examples help. view [ text "first line" red yellow return ; def size is 80x24 text "first line" 80x16 red yellow return text "second line" ] view [ space 4x2 text "first line" return text "first line" 80x16 return text "second line" ] You can also use pad to adjust where things fall, relatively, when VID creates the layout. 19:37@mikeparr I can't say if it's a design change or a regression. Right now, bitsets only allow integers in their paths. The default, for *all* other types is the error you see. It possible that casting ints just hasn't been implemented yet. In the meantime, if needed, you can convert the char to an int and us that. 19:38to integer! does work on char values today. Friday 29th July, 2016 dockimbel 06:25@mikeparr That feature was never implemented, so I removed it from the article. mikeparr 07:49@dockimbel @greggirwin thanks. meijeru 09:28@dockimbel I noticed the Travis builds error out, whereas the Appveyor ones are OK. In Travis, rebol.exe is downloaded from rebol.com, whereas in Appveyor, rebol.exe is stored on red-lang.org. Why this difference?? dockimbel 09:29@meijeru Because it was done by different people. pekr 09:29 Noticed that too (with Travis) and thought it might have something in common with the licensing. If not, it should be easily fixed? 09:30Last time rebol.com went down, it was only about the restart of the virtual server. Pity Carl is not more active. Bo has notified him few days ago already ... meijeru 09:56Conclusion: we're better off without reliance on rebol.com! Since updates of R2 are not likely to be forthcoming, let us use a local copy of rebol.exe. dockimbel 10:04@meijeru We rely on rebol.com for the documentation, that's where we're sending all newcomers for learning Red basic concepts. meijeru 10:19Yes, but that is now a fragile resource... dockimbel 12:13@meijeru What alternative do you propose? Carl has firmly expressed that Rebol documentation is copyrighted RT and he doesn't want to share it, so I guess this excludes hosting a mirror. The best I could do in short term is switch to the web archive mirror link or just wait for Carl to fix his server. maximvl 13:28the best one is to have our own docs ) meijeru 14:05I had previously copied the entire Rebol doc (50-odd .html files) on my own laptop; when you say "copyrighted" does that mean you cannot host a copy on red-lang.org? 14:06Or can you host a copy which explicitly says "copyright RT"? greggirwin 14:56I believe Red *could* host it, but doing so runs the risk of upsetting Carl. If a face-to-face meeting can take place, maybe that could be ironed out. dockimbel 15:04@greggirwin We were several to ask him about that in Montreal for the Recode conf in 2013, he clearly said that Rebol docs cannot be shared nor reused. xificurC 15:05wow... just wow dockimbel 15:06It's not a problem though, as we'll have our own Red docs at some point. xificurC 15:06keeping the code closed source, not allowing to share the docs, way to embrace the community 15:07@dockimbel well sure but the guy could be excited people like you are trying to build on top of his work dockimbel 15:08@xificurC We haven't talked about that since then, maybe he would be more willing to help us now. xificurC 15:08@dockimbel it's not a big issue I guess, just smells pekr 15:09@xificurC Carl could see Red as being a competing effort :-) He never liked "clones" and Doc does not continue with his work (R3) in that sense ... 15:10But true - he might be more relaxed about it after all those years dockimbel 15:11@xificurC I plan to meet him in the next months, so we'll talk about that too. pekr 15:12Interesting info and good luck in US :-) Rebol2Red 15:35Should i put this into issue's of Red? I could not find it over there. What do you think? print number? "1" == false print help number? USAGE: number? value DESCRIPTION: Returns true if the value is any type of number. number? is of type: function! ARGUMENTS: value [any-type!] REFINEMENTS: Remarks: Help says any-type! What is the sense of checking a number which is already a number? Btw: I use this from rebol2: numeric?: func [x][not error? try [to integer! x]] dockimbel 15:46@Rebol2Red See this example: list: [2 "a" 3.6 hello world 5 b/c/d] remove-each item list [not number? item] list == [2 3.6 5] Rebol2Red 16:08Is'nt it inconsistent that number? only works inside blocks and for instance integer? outside of a block or is it because of the evaluating of numbers in Red? I am just curious. greggirwin 20:13It's consistent. You need to load strings to evaluate them. Until then, they are just a series of char! values. Rebol2Red 20:16That explains it. Thanks. xificurC 20:49@pekr not like Carl is working on R3. I mean he should be happy if anyone keeps working on anything based on his work (I know I would be). Not a big deal though, if Nenad is fine with it greggirwin 20:49@dockimbel, should reactors work in a style? view [ below s: slider text react [face/data: form s/data] style sld-mon: text react [face/data: form s/data] sld-mon sld-mon ] 21:10I'll dig in more at some point. I can generate my layout spec dynamically (noting that you need to copy your reactor block as you do. When I do that, the reactive targets don't update when I first view the layout, but if I copy the generated layout spec and just paste that into the console, they do. Freezerburn 21:17Do we have any idea when rebol.com is going to actually be up again? Or if there's an R2 binary anywhere else? greggirwin 21:19We don't. I imagine Team Red is working on logistics for internal builds, to remove the dependency on rebol.com. Freezerburn 21:21`Bleh. Of course as soon as I start trying to work with Red, the binary that builds it becomes unavailable greggirwin 21:24Sorry about the timing. You can still use the pre-built versions. DideC 21:25@Freezerburn If you can read french, there is a [french translation of R2 Core manual](http://www.rebol-france.org/documentation) available. 21:26Oh no sorry, forget it. Only this page, french docs are also host on rebol.com. Freezerburn 21:27I don't read French, so those wouldn't have helped much anyway :) Rebol2Red 21:28http://www.codeconscious.com/rebol/articles/rebol-concepts.html greggirwin 21:29There are also some old wikimedia pages in various states of completion. And Arie and Mike's Red work that continues to move forward. Freezerburn 21:30Thanks for the link! Though right now I'm mostly looking for the actual R2 binary Rebol2Red 21:32core or view or both ? i will send it to you if you give me your emai address. Do not write it out over here! Freezerburn 21:33How can I give you my email address? Wouldn't mind both Rebol2Red 21:35You can sent an email to my email address at rensvanschie [ at ] gmail dot com Then i sent it to you as a .txt which you must rename to .exe and extract to your disk <-- This is wrong, see the next mail i sent to you and the next post Freezerburn 21:37Alright, sent 21:37And will do 21:37THanks! Rebol2Red 21:42@freezerburner I sent it to you, but you must rename the .txt to .zip and then extract it Freezerburn 21:43@Rebol2Red Done, thank you very much! Rebol2Red 21:43Your welcome. asampal 22:22I'm not sure I recall what was mentioned wrt being able to build UWP apps (for Windows) using Red - does anyone remember? Saturday 30th July, 2016 pekr 04:38UWP - wouldn't it require having a complete different backend? asampal 06:31@pekr , likely. The thing is that if you think about the timeframe for the release of Red, I would say that targeting the UWP would be more forward-looking (when talking about Windows support) than win32. 06:34In particular, if you want to develop for HoloLens, that would be on top of the UWP and, IMO, this is going to be a really hot area. pekr 13:02I claimed that too, but that would require .NET bridge, no? I know that @iceflow19 was working on some bits ... otoh, for more embedded area, you will still see even WinXP nowadays ... 13:03It's imo a separate project, and Windows Phone is mostly non-existant (market share wise), we will see, what future brings ... Sunday 31st July, 2016 ghost~5680c5f416b6c7089cc058a5 04:21@dockimbel @qtxie (A) In __CLI__ console, using help shows a _read-input but using it crashes the console - _read-input "This is going to crash" Now type anything into the console - *** Runtime Error 1: access violation *** at: 77B418B6h I think the reason is that_read-input is a routine and the console cannot execute R/S code, so that is why it is crashing. But if that is the case then it should not be available in the console. 04:26(B) In __GUI__ Console, in About, there is some problems with the text. I don't think this is expected -> 04:29[![Untitled.png](https://files.gitter.im/red/red/thumb/Untitled.png)](https://files.gitter.im/red/red/Untitled.png) dockimbel 07:53@nc-x (A) Interpreter can call compiled routines, it just can create new ones (requires compilation). The console gives you access to the global context of Red, where you can find all globally defined words. Only a subset of them are useful for users, the rest (like this function) are temporarily exposed there until we can move them in some other contexts. 07:53(B) We know about that. ghost~5680c5f416b6c7089cc058a5 08:49okay... But why the difference between Gui and Cli console? that function is not available in gui console. dockimbel 09:35@nc-x It's part of the CLI console code. Arie-vw 10:52@Freezerburn @greggirwin meant this site: www.red-by-example.org meijeru 16:49:point_up: [July 29, 2016 11:56 AM](https://gitter.im/red/red?at=579b28404536c1f33fd64a07) I am happy to see that the Travis build now also uses rebol.exe on red-lang.org, BUT the repository main page still says Travis errored. What is happening? Vexercizer 18:13 virtualAlan 23:18Hey, I saw someone was looking for the Rebol programmers guide. I have it here if you need it: http://www.mycode4fun.co.uk/About-Red-Programming Monday 1st August, 2016 PeterWAWood 00:51I think that they were looking for the Rebol Core User Guide. Olivier and I have made the [The Rebol Programmers Guide](http://www.lulu.com/shop/olivier-auverlot-and-peter-william-alfred-wood/rebol-a-programmers-guide/ebook/product-17515075.html) a free download from Lulu.com. Olivier has also made the original - [Guide de Programmeur](http://www.lulu.com/shop/olivier-auverlot/rebol-guide-du-programmeur/ebook/product-17510224.html) free for download. virtualAlan 01:09@PeterWAWood Ah ok - sorry my mistake - May i say your rebol programmers guide is superb, I use it all the time .... PeterWAWood 02:15The credit is due to Olivier, I merely translated to English. BlackATTR 02:16I refer to the Programmers Guide (English Edition) as well. It's a keeper. JacobGood1 02:57Does this crash the repl for anyone else? taxonomy-of-prototypes: make map! [] prototype-ids: make map! [] proto: function ['name [word!] spec [block!] /with prototypes-to-be-mixed [block!]] [ id-num: [0] if taxonomy-of-prototypes/:name [ extend taxonomy-of-prototypes compose [(name) none] ] either with [ setup: compose/only [parents: (prototypes-to-be-mixed) children: []] ] [ setup: [parents: [] children: []] ] taxonomy-of-prototypes/:name: make map! setup temp-spec: compose [id: (id-num)] temp-object: object spec make temp-object temp-spec ;to lit-word! mold name ;make reactor! temp ;set name make reactor! spec ] proto hi [] ifgem 02:59Yes, it does. JacobGood1 03:04@ifgem ok, thanks, maybe well get some feedback as to why that is... ifgem 03:11 make temp-object temp-spec line crashes red. 03:15Wow. 03:16I've just met a red dragon:))). 03:18 ` ts: [10] t-o: object [] make t-o ts works fine ts: [id: 10] t-o: object [] make t-o ts crashes Red runtime 03:18can't format it properly:)) greggirwin 03:19Are you intentionally redefining to? 03:20Or does it just stand for 'temp object". JacobGood1 03:20I doubt it ifgem 03:20:)) JacobGood1 03:23I rearranged the above code through many combinations to try and get it to stop crashing, so I figured I would just post it to get some feedback qtxie 03:27Looks like a bug. ifgem 03:27I just opened a ticket 03:27:)) JacobGood1 03:29I have not played with Red for months now... come back for just about 30 mins and I hit a bug. I was reading on here where people said they kept the repl up for days without having any issues; I guess I have a "gift", lol. ifgem 03:30You're cool:)) greggirwin 03:30Maybe an internal reliance on spec-of with make on an object? 03:30Well, it's not like you're trying any dark magic or anything. ;^) JacobGood1 03:34If I am I did not realize I was doing so<so many references to nerdy crap could be inserted here> greggirwin 03:35I mean, you're *only* trying to implement multiple dispatch on prototypes. :^) 03:37Would something like this work for you? taxonomy-of-prototypes: make map! [] prototype-ids: make map! [] proto: function ['name [word!] spec [block!] /with prototypes-to-be-mixed [block!]][ id-num: [0] if taxonomy-of-prototypes/:name [ extend taxonomy-of-prototypes compose [(name) none] ] either with [ setup: compose/only [parents: (prototypes-to-be-mixed) children: []] ][ setup: [parents: [] children: []] ] taxonomy-of-prototypes/:name: make map! setup object append copy spec compose [id: (id-num)] ] proto hi [] JacobGood1 03:39@greggirwin I guess you found the sufficient combination to confuse it into working, I will see if it works with more stuff... thanks =) greggirwin 03:40<he he> My sufficient trick was to not create objects, where the current make bug seems to lie. PeterWAWood 11:13I'm dockimbel 12:25@JacobGood1 1. The crash you've encountered should be fixed now. 2. Have a look at class-of function, it should ease what you try to achieve. In a nutshell, each object in Red holds a class ID value, which loosely links it to all its siblings, cloned from the same prototype object. No association with original prototype object is stored, so if you want it from the ID, you need to store the associations yourself. gour 13:54@Oldes hello, do you actively use Red package for ST? i recently purchased ST3 license and, of course, interested to use Red in the future... WiseGenius 14:47Looks like the wrong error message: red>> f: function [x][result: 86400000000] *** Syntax Error: missing #"]" at "[x][result" *** Where: do dockimbel 15:08@WiseGenius Indeed, though we are working on improving long numbers loading support right now. Shorter case: red>> [864000000000000] *** Syntax Error: missing #"]" at "[864000000" *** Where: do maximvl 16:09@gour what's ST? ifgem 16:11@maximvl sublime text. 16:12@gour I use it. Emacs mode is way better. gour 16:45@ifgem two times i experienced wrist pain with Emacs, so will not try any longer asampal 17:28@gour did you try modifying the key bindings? Also, re-mapping the caps lock key to control can help with this kind of problem. gour 17:34@asampal i did swap ctrl-caps, but it was simply too much chording for me, now i run vim for light usage and ST3 for other purposes...also switched from orgmode and other emacs-related pkgs to other alternatives...i can imagine that emacs mode would be better since Emacs really has advantage of using the whole Elisp, but i hope that with the increased popularity of Red, ST3 package will get more love ifgem 17:56I rebound space to ctrl with xcape. Happy:) asampal 18:07@ifgem under Windows I use TouchCursor for that and more (this is the utility that I use the most since it works across all apps). Karabiner could be used with OS X. In any case crappy default key combinations shouldn't be a reason to drop Emacs. 18:09I'm not saying that there aren't other reasons one might prefer other editors over Emacs. @gour have you tried the Red package for Visual Studio Code? gour 18:12@asampal no, didn't even try VSC itself...still a bit suspicious about Microsoft and their free offerings ;) asampal 18:14You should take a look - it's OS, available for all platforms and is pretty nice. gour 18:16afaict, it's similar to Atom using Electron as well? asampal 18:16it's more responsive, IMO, compared to Atom 18:16not sure if it uses Electron gour 18:16that was one of the reasons why i have decided for ST 18:18[wikipedia page](https://en.wikipedia.org/wiki/Visual_Studio_Code) says: "Visual Studio Code is based on Electron, a framework which is used to deploy Node.js applications for the desktop running on Blink layout engine." asampal 18:19yeah, just saw - pretty snappy despite that gour 18:20btw, anyone knows what is used by main Red hackers like @dockimbel, @qtxie etc.? pekr 18:21notepad? :-) gour 18:22@pekr they develop on Windows? pekr 18:24it was a joke, I don't know :-) gour 18:27@pekr same here...i assume Mac OS X is more popular platform for devs these days...but there is some truth in your joke - Red code can beprobably written even with Notepad 18:34today i was looking at Trello board, but didn't notice what is the schedule for 64bit Linux support? pekr 18:36not sure what the 64 bit schedule is overall JacobGood1 19:11@dockimbel appreciate the help as always Doc, thanks =) Tuesday 2nd August, 2016 WiseGenius 03:03 red>> {"{data}"} { @dockimbel Should I open a new ticket, comment on #2104, or neither? dockimbel 03:54@WiseGenius A new ticket for that is welcome, with a mention of #2104 in it. 04:04@gour We code on Windows 7, I use Textpad mostly, and Sublime2. Qtxie is using Everedit. Though, Notepad would be fine too. ;-) I could code Red on any OS, though, for native GUI work, you really need a native OS instance, a VM is sometimes not accurate enough (visual glitches, timing issues, etc...). Another reason is because of great tools like IDA Pro, which work best on Windows. We don't code on laptops, as they are not fast enough, we use small desktops with 4Ghz+ i7 and 16GB of RAM to be able to run several VMs at the same time. We also have a couple of RaspberryPi for testing/debugging ARM code (QEMU is not good enough for that). gour 04:44@dockimbel thank you for sharing...let's hope there will be more Red hackers in the future using Linux as native platform to ensure it's "first-class citizen" :-) geekyi 04:53@gour what are you using? 04:55FYI, there is rebol3 version if you really need 64bit on linux gour 04:55@geekyI i'm on x86_64 Debian (Sid) 04:55how close is to Red? geekyi 04:55I was able to get this to work on NixOS 64bit https://www.rebolsource.net/downloads/experimental/r3-linux-x64-gbf237fc-static gour 04:56i see Red as a future and would like to avoid 'unlearning' :-D geekyi 04:56Red is based on rebol2, so pretty close, it's the official opensource 04:57I think you wouldn't have to unlearn anything really, it's worth it gour 04:57i have i386 support on my machine due to some prop. apps, but wonder about Rebol3's GUI? that probably won't work geekyi 04:57I was.. am? a newbie too gour 04:58rebol.com is (still) down? geekyi 04:59Yeah, I am using rebol2 till red matures.. red almost works now tho. I heard of red (and rebol) this year.. gour 04:59one of the interesting thing about Red is "built-in" multi-platform GUI and ability to ship simple executable which is supposed to overperform Python code :-) 05:01i'm also just (slowly) starting with Red...found some binaries [here](http://www.rebolsource.net/) 05:04@geekyI last commits more than 2yrs ago? pekr 05:49Ÿou are referring to Rebol 3, not Red. R3 is mostly a dead project. I mean, R3, as it was open-sourced. gour 06:09@pekr ahh, that explains it...I read that R3 was/is not as popular as R2, but was not aware there is not much live in it any longer...otoh, Red is in full swing, so not much to worry about pekr 06:29The reason is, R2 was full toolkit, supported. R3 rewrite simply took too much time, and it missed on some crucial features, hence devs were reluctant to make a switch. Although some of those features are available now, there's mostly noone left to push the original R3 C codebase further, even if sources are available ... xificurC 06:43re editors: I'm (slowly) continuing Skrylar's work on emacs red-mode he named red.el. Any tips welcome :) As for @gour - I use spacemacs for everything nowadays. It brings the vi(m) editing experience and the absolute extensibility of emacs together. And you almost never need to use ctrl or alt thanks to their new approach to binding keys. gour 06:45@xificurC i tried to use spacemacs, but it brings another layer (of complexity) and for some things - e.g. Gnus/org-mode, it was kind of strange mix...anyway, not being full-time coder, i believe ST3 is optimal editor for me xificurC 06:47@gour yeah, the entry to spacemacs can be more complex, although the abstractions they have simplify emacs in the long run. I haven't tried ST, since it's not FOSS gour 07:43@xificurC i also like prefer FOSS, but still like to support nice piece of software (e.g. VueScan) which provides great functionality dockimbel 08:19@xificurC Let me know when you have a significant milestone for emacs red-mode, I'll be happy to tweet it. xificurC 08:21@dockimbel Hi Nenad. Ok, will take a while as I don't have much spare time, but will let you know if I get it into a presentable state. Skrylar made most of the work already but I understand he didn't like the order of red's priorities. 08:22I'm not sure if there's a way to query red for a list of defined words? Would be of great benefit if a list of functions, actions, operators etc. could be retrieved programmatically from red. Then one can just run a script to update the font locks 08:22@dockimbel :point_up: dockimbel 08:25@xificurC No order of priorities can satisfy everyone. We try to order the features for optimizing growth and ensuring viability, which includes being able to convince non-programmers that Red is worth existing, and investing in. 08:26@xificurC There are some scripts around, help implementation partially does that already. Also extracting info from Red source code is also an option for making such lists. xificurC 08:27@dockimbel will take a look at help's implementation once I get to it, thanks dockimbel 08:28@xificurC Here is a code snippet to get you started: foreach w words-of system/words [if find any-function! type? get/any :w [?? w]] xificurC 08:29@dockimbel thanks :) maximvl 09:39what is ?? ? 09:39ok, there is a help for that, no worries) 09:40@maximvl can't get used to idea that things like ?? are just words/functions, not "special syntax" xificurC 09:52I'm writing python at work right now. People say it's easy to read, like pseudocode. My take is - the less syntax the better. I keep guessing what to write until the on-the-fly syntax checker is happy pekr 09:54My take is, that Basic like languages are easier to read for most ppl. Well, maybe because Basic was my first language? There is definitely some barrier to get into Rebol like languages. But - once there, it is mentally difficult to go back :-) geekyi 10:00I'd thought python was the best language out there, after having used basic and c like langugaes 10:01That was until I found haskell 10:01Then I found factor, and now.. dockimbel 10:01@geekyI "Best" at what? geekyi 10:02The syntax was much simpler and more concise 10:03Yes, all of them syntactically speaking are in my opinion better in that order, to be precise 10:09Rebol/red is one of the strangest languages I've encountered.. in that it's almost really familiar to mainstream, yet when you look closer, so much conceptual difference 10:10It seems to take familiar things and make use of that to do advanced stuff 10:13And I've used J. Hated it at first for the syntax, but it is beautiful and terse when you are familiar. Harder to read though 10:19Red/rebol is definitely one of the most pragmatic.. for quick prototypes nothing beats it. So.. rebol, frink and j are in the list of languages that I use on a daily basis.. whenever I need to do a calculation or a small hack xificurC 11:11imo haskell is hard to write and hard to read, but very powerful and interesting. factor looks simple but it feels like a deception geekyi 11:26I do find well written haskell code easier to read (types are helpful!) as long it doesn't do too much magic or abstractions 11:30And factor is too different to be practical. But it is also nice conceptually. Has one of the best built in IDEs I've seen. In the help system, every word is linked (think html links, but for each word in red) Most pleasant experience reading source code for me. 11:30Those are the 2 things I miss in red.. types(a way to get the functions given types, like in https://www.haskell.org/hoogle/), and a good IDE(well.. better introspection capabilities actually) to write it in.. xificurC 11:33@geekyI I get lost in all the operators and type abstractions in haskell. Sure if you keep at it for a year or two you *get it*, but it's certainly not simple. 11:34@geekyI I toyed around with factor. The IDE is nice and the language kind of forces you to write simple and reusable code. But it also has a steep learning curve and the stack is the programmer's burden to keep in head and remember meijeru 11:37@geekyl If you miss types in Red, you are probably thinking of typed "variables", since type checking of function arguments IS provided, and every value does have a type which is lexically determined. I did put "variables" in quotes, because Red does NOT have variables in the sense you may be accustomed to. It is important to grasp the notion of "binding" in Red, to which you can find copious references in earlier parts of this chat. geekyi 11:47@meijeru do you refer to typed variables as in haskell? i.e. a -> [a] where 'a' is a typed variable, and e.g. 'Integer' would be a type without the qualification of being variable 12:00@meijeru searching for 'binding' gives me the api/ffi results, which isn't what you meant I guess? But there is this question I've seen on SO: [about definitional scoping](http://stackoverflow.com/questions/21964110/is-there-a-overall-explanation-about-definitional-scoping-in-rebol-and-red/21964858#21964858), have to admit, I'd a hard time wrapping my head about the concept, especially when it gets to meta programming 12:05 @xificurC @meijeru It all boils down this actually: I have a type, and I want to know what functions there are to act on it, and I'm not sure how to go on about searching for it meijeru 12:09@geekyl I was referring to the notion that in many languages an assignment to a variable, e.g. a := 1 requires (or implies) that a has type integer. In Red, a: 1 means that the *word* a is bound to the value 1, until it gets bound to some other value. dockimbel 12:09@geekyI Searching by type will return a lot of results, as polymorphism is very high in core Red functions. You can use help with a Red type argument passed a a string for that: red>> help "time!" % => Returns what is left over when one value is divided by another * => Returns the product of two values + => Returns the sum of the two values ... geekyi 12:12@dockimbel awesome! I didn't know that! Rebol doesn't have it.. and you need quotes? This should be more prominent pekr 12:12Please remove the need for quotes :-( 12:13It is a constant gotcha for new and even old users ... and not compatible with R2. If there is no other technical reason for it have it that way, I pretty pretty please ask for the modification :-) dockimbel 12:13@geekyI The quotes are for switching to a full-text search mode. Passing a word will search for a definition of that word. geekyi 12:15I see.. dockimbel 12:16@pekr We'll certainly not do that. Both modes are useful, type help add and help "add" to see the difference (both in Red and Rebol). geekyi 12:21Actually, I've been using both.. with and without quotes, but mostly in rebol as it didn't have missing functions. The difference seems to be due to the typed nature of red 12:22Actually, because rebol definitions lack an ! I feel a bit stupid now.. (Correction: no rebol doesn't seem to do a full text search.. e.g. with ? "series" it doesn't show e.g. append for rebol) WiseGenius 13:32I'm still just a n00b, but here's my understanding: Some similarities: 1. Both Rebol and Red's help have a “full-text” search mode and a “definition” search mode. 2. Both Rebol and Red's help use “full-text” mode when the argument is string!. A difference: * Red's help uses “definition” mode when the argument is a word!. * Rebol's help uses “definition” mode only when the argument is a word! with a set value. If word has no value, Rebol's help reverts back into “full-text” mode. An example of the above difference can be seen by typing help type in both Red and Rebol. 13:34@pekr, When you say “Please remove the need for quotes”, do you mean “Make Red behave like Rebol when the word has no value” as in the difference above? If so, note that the quotes are still needed, even in Rebol, just not all of the time. 13:34@dockimbel, If this is what @pekr is referring to (rather than NEVER needing quotes), then I don't see how what he's asking takes away any of the modes. In Rebol, if the word type in the above example has no value, and there are still search results, the user can see that the word musn't have had a value, and they don't have to search it again with quotes as they would have to in Red. This makes using Rebol slightly more efficient. Am I wrong? pekr 13:45@WiseGenius - I am not describing situation of word having no value, but mostly a partial search. In R2, just tyhe: help to- 13:46And you get all to-* variants as an output ... and that's what I want ... 13:47I have seen myself caught by the search, as well as few other users. Maybe, after some time, I will get used to it. But the quotes requirement I can see a bit inconvenient :-) 13:48As for R2, it seems to me, that the partial search is being done in just the terms of the function name? E.g. try: help char (in R2), vs help "char" (in Red) 13:49So maybe if the Red non-quotes search would be extended to cover the "find anywhere in the function name", it would be sufficient for me ... and full text search using quotes could stay ... geekyi 13:50@pekr Ah, so R2 retries with a full text search if an exact match fails pekr 13:51IMO not with a full text search, but only with the inside the name search ... 13:52Red's fulltext returns lots of results for help "char"for e.g., as it seems to do a real full text search, whereas R2 does not search types, etc. Zamlox 14:05What can be wrong with following code: block: [if x = 'V [append buffer [1 2]] ] obj-1: make object! compose/deep [ f1: func [buffer [block!] x [word!]][ (block) ]] obj-2: make object! compose/deep [ f1: func [buffer [block!] x [word!]][ (block) ]] obj-1/f1 copy [] 'V *** Script Error: buffer is not in the specified context *** Where: if buffer is not known in obj-1/f1 after creating obj-2 dockimbel 14:39@Zamlox The same block is bound again by obj2/f1, so you get a rightful error when running obj1/f1. You need to deep copy the block, so each of the copies will be bound to the right function's context: block: [if x = 'V [append buffer [1 2]] ] obj-1: make object! compose/deep [ f1: func [buffer [block!] x [word!]] copy/deep block] obj-2: make object! compose/deep [ f1: func [buffer [block!] x [word!]] copy/deep block] obj-1/f1 copy [] 'V Zamlox 14:47@dockimbel thanks ;) WiseGenius 14:55@pekr I think you've misunderstood me, and I think that's my fault. Never mind that for now, then. Let me start over. What do you think of this proposal? Red should have 3 help search modes: 1. When help's argument is a string!, do a full-text search within all definitions, and return a list of matches. * This is already what Red and Rebol 3 would do in that situation. 2. When help's argument is a word! with a value, return only the definition of that word. * This is already what Red, Rebol 3 and Rebol 2 would all do in that situation. 3. When help's argument is a word! with no value, search only within the names of the entries and return a list of partial matches. * This is already what Rebol 2 would do in that situation. Actually, each of those isn't quite what they currently do, in that they don't “return” the results. Rather, they only print them. But I've always thought that should change. They should print and return them. pekr 15:00Yes. I do especially miss the 3), whereas I find 1) as the least useful WiseGenius 15:04@pekr Haha! I use the results of 1) all the time, and have never had a use for the results of 3). Each to his own. ;) pekr 15:05really? :-) 15:05Go to R2 and run: help to- DideC 15:05Partial search (if word is not define) is usefull. Think also tab completion in console (pretty the same thing). I'm used to the 3) and like it. I would like to see it in Red too. pekr 15:05And now please mimick it with Red (well, we don't have those funcs yet, so just imagine that). 15:06I need a grep for Red's full text search then :-) WiseGenius 15:10@pekr Really! Go to R3 and run help to-. You'll see there aren't that many more results than Rebol 2 to clutter up what you were after. Maybe you have a better example than to-? I'm sure there probably is. pekr 15:10so run: help "char" 15:11I don't want to see all functions, accepting char! as a datatype, or do I? 15:11We imo need all three modes ... WiseGenius 15:12Yes, help char is a much better example. 15:16So in case it isn't clear, in the above proposal, help char would return what it would in Rebol 2, and help "char" would return what it would in Rebol 3 (and currently what it already does in Red). pekr 15:16Is the 3) mode difficult to get implemented? I would like to state, that it is not a big priority for me, but I get caught by missing it from time to time ... 15:17To your above statement - I agree ... dockimbel 15:17 @pekr In case you missed it, you have TAB-completion in Red console which does almost the same as 3) already. pekr 15:19Of course I know that ... I just wanted the option 3) for help, that's all ... I can bet I am not the only one, who would find it useful ... dockimbel 15:20@pekr You are welcome to implement it. ;-) pekr 15:21And as we are talking tab completion .... just one idea .... but not sure any environment works like that ... imagine you start typing chan, it provides you with the two results recently: change change-dir. Would anyone found it useful, if (after some mysterious key-press), it would fill in the lowest denominator, so change? 15:21Please beware, that as a Notepad user, I am not much fluent with tab completion stuff :-) x8x 16:10@pekr FYI there is a ticket about that already https://github.com/red/red/issues/1165 pekr 16:13Thanks. Good to know someone thinks in similar terms. Looking forward to its future addition .... WiseGenius 16:16I just thought I'd note that 3) is different from Red's current TAB-completion in at least 2 ways: 1. TAB-completion on to gives to to-hex to-local-file to-paren to-red-file to-image. * This same list cannot be obtained with help, since to has a value, and so help to would print the definition of to as it does now. * In this situation, only TAB-completion is useful for @pekr's purpose. 2. TAB-completion does nothing with each because no word begins that way. * With 3), help each would list foreach and remove-each. * In this situation, only 3) is useful for @pekr's purpose. pekr 16:20I can see a tab completion as a separate thing ... WiseGenius 16:30@dockimbel In the Red source, why are some files licensed under BSL, and some under BSD-3? ifgem 17:11F dockimbel 17:12@WiseGenius Because BSD-3 was too constraining for runtime library in binary form (we don't want to burden Red users with legal constraints because they use Red's runtime library), so we picked up BSL, which suits well binary code distribution. So, the toolchain code is BSD-3 and the runtime library (included in all compiled Red programs) is BSL. Basically, if you just use Red toolchain (in binary or source form) to write code in Red, you don't have to do anything and you're free to do whatever you want with the source or compiled code you wrote. If you distribute a derivative version of the Red toolchain, you have to include the licenses files unchanged. That's all. ;-) ifgem 17:16Will Red get rich text widget soon? WiseGenius 17:17@dockimbel Thanks. What would be the disadvantage if all of it was under BSL? dockimbel 17:20@WiseGenius I thought about that when we included it, but didn't do it mainly for marketing reason: nobody knows BSL, everybody knows BSD. ;-) Also, if someone distributes a derivative of Red's toolchain, I like the fact that they have to include the license files, so the origin of the code gets preserved. WiseGenius 17:28@dockimbel Thanks again. KirillTemnov 19:24Hi folks! I've try to implement basic functionality for template engine similar to slim (http://slim-lang.com/). The first thing I'm gonna implement is block nesting. And here are the troubles: Instead of using curly braces template engine must use indents, and I'm stuck again with parse( The input is test: {foo bar buzz} The output **must be** [foo [bar [buzz]]] Can someone help me? ifgem 19:254 space? KirillTemnov 19:26a multiple of two spaces ifgem 19:26ok Oldes 19:49@gour yes, I'm using Sublime Text 3 on Windows and MacOSX too... actually the main reason is the cross-compatibility. Before I was using Notepad++. Unfortunately I still don't have time to play with Red, so I just silently watch sometimes. greggirwin 20:26@KirillTemnov, this is ugly, but might get you started. input: {foo bar buzz} output: copy [] target: output level: 2 emit: func [v][append/only target v] dent: [level space (level: level + 2 target: last emit copy [])] text: [copy =text to [newline | end] (emit =text) skip] main-rule: [any [dent | text]] parse input main-rule 20:28You'll need a stack of some kind to move back to less indented levels, and rules to go with it. KirillTemnov 21:00Thanks! I'll try to move further ifgem 22:03Is it ok? test: [a: 10] test/a ;=> 10 test: make hash! [a: 10] test/a ;=> none cool:) test: make hash! [a: 10 a 20] test/a ;=> 20 -------------- test: [a: 10 a 20] test/a ;=> 10 Wednesday 3th August, 2016 greggirwin 03:15Should you be able to make a typeset! *from* a typeset!? You can't currently, so I did a quick wrapper for myself. Just didn't know if that was something others would want. dockimbel 04:32@ifgem Indeed, that difference is annoying, please open a ticket about it. In the meantime, you can use select for the lookup: red>> test: make hash! [a: 10 a 20] == make hash! [a: 10 a 20] red>> select test first [a:] == 10 04:33@greggirwin make is lacking many constructors, as they are overlapping with to action, so they should come once to is ready. ifgem 05:33Pretty odd, I guess. string!: 10 "wow" ;=> Script Error: append does not allow integer! for its series argument. ;------------------------- integer!: "wow" 10 ;=> Script Error: make-number does not allow string! for its type argument. LOL string!: "hell" test: func [hello [string!]] [print hello] test "helm" ;=> Script Error: test does not allow string! for its hello argument. LOL:)))) integer!: string! append 10 10 ;=> Script Error: append does not allow percent! for its series argument; percent! you say:)) ------------- ;normally returns Script Error: append does not allow integer! for its series argument. 05:44 LOLx3 integer!: block! 10 => 10% string!: block! "hello" => #"o" char!: block! #"mo" ;=> Script Error: skip does not allow integer! for its offset argument ;--------------- usually returns Syntax Error: invalid char! at {#"mo"} block!: string! [] ;=> Script Error: transcode does not allow string! for its <anon> argument. ; same for block: integer string!: red "hello" ;=> Script Error: cannot MAKE 255.0.0 from: 5. "hell" ;=> Script Error: cannot MAKE 255.0.0 from: 4. pekr 05:54So you redefine dtype and wonder, that further on, it does not work? :-) ifgem 05:54:)) 05:55I'm crying:)) percent!: integer! 20% + 20.0% => 220 05:56@pekr sometimes, it works:))).In pretty odd way, though pekr 05:56 red>> +: :- == make op! [[ "Returns the difference between two values" value1 [number! char! pair! tuple! vector! time!] value2 [number! char! pair! tupl... red>> 5 + 5 == 0 ifgem 05:57it's obvious. but 20% + 20.0% => 220 isn't. dockimbel 06:00We don't have words protection nor modules yet, which would prevent from corrupting the environment (unless you explicitly allow it). ;-) ifgem 06:01It seems to behave oddly sometimes. Is it a bug or I just shouldn't do it:)? geekyi 06:02Is there a way to prevent redefinition of built-in words? ifgem 06:03Especially, I adore new percent! behavior. 20.010% + 20.2010% => 222020:))) dockimbel 06:08@geekyI Not yet. dander 07:27I think it's a feature, rather than a bug :smile: ifgem 07:29@dander feature developed for fun?:))) pekr 07:33no, you just simply seem to miss, how the language works deep-down ... well, me too, but I was educated by gurus ... not that I would understand much of it :-) 07:33if they say, it is a feature, it just is :-) 07:35I would not make fun of Red, especially in a situation, when many features are still not implemented ... dander 07:35@ifgem I was mostly joking, but it sounds like it is "by design". It probably won't be like that forever though because there will be some protection on core words like that, as doc said. 07:36I would say that "fun" is a feature of Red though :smile: dockimbel 08:19 @ifgem > Will Red get rich text widget soon? No ETA for now, we haven't investigated it much so far. There are several options on the table: 1. Use native widgets, quickest way, but we'll need to lower down the features for cross-platform compability. 2. Use a webview (big work) 3. Make a custom rich text component using our Draw dialect. mikeparr 08:19Rebol.com is back, just in case you did not know. ifgem 08:20@mikeparr hooray. 09:13Another funny bug:)). https://s32.postimg.org/qwh6ph3x1/funnybug.gif https://s31.postimg.org/48t2ccwor/funnybug1.gif dockimbel 09:20@ifgem It's a known issue with double-width characters. I let @qtxie answer that. ifgem 09:36Does Red have a function similar to Ruby's source_location? dockimbel 09:37@ifgem I don't know that Ruby function. ifgem 09:38It returns the Ruby source filename and line number containing this method. dockimbel 09:40We don't have such feature. gour 09:45hello, have problems with Eve-like demos under wine - here is e.g. the [link](http://pasteboard.co/pCWGx2FB.png) for clock demo. anyone having success with wine? ifgem 09:53What do you think about writing help function that can also take a file as an argument help %match.red and returns either help information from the header or none? SteeveGit 10:07@gour I also use Wine. Removing **transparent** solves the issue. > base 200x200 ~~transparent~~ rate 1 now draw [ gour 10:20@SteeveGit thanks, confirmed with both (worm & clock) demos ;) 10:20@dockimbel ^^^ dockimbel 10:26@gour Good! I've seen that fix before, but totally forgot about it. ;-) geekyi 10:26@ifgem what is your use case? Doesn't it already show you the relevant documentation? What e.g. do you want shown with help %match.red? 10:29Also, with source_location, it might be a bit hard with metaprogramming, e.g. do [b: func [a] [a + 1] b 3] 10:30I vaguely remember reading a blogpost? about it somewhere gour 10:33i am ignorant about Rebol, but wonder whether you conside that writing full-fledged (iow. not just some scriptie) desktop application - e.g. something which would be usually written in C++/Python using (Py)Qt is approriate target for Red? (I'm aware that Red aims at full-stack language, but not sure whether Rebol was used for similar things or more for quick scripting only?) 10:33in any case, learning Red's GUI seems much more fun and/or productive than diving into e.g. (Py)Qt... geekyi 10:56@ifgem Just FYI, I found that in rebol you have protect-system to stop redefinition of built-ins ifgem 11:44@dockimbel can't wait for 0.7. I like your plan [:))))](https://youtu.be/ErcV8vlKexE?t=4m) dockimbel 11:50@ifgem When you take the Red pill, there is no turning back. ;-) pekr 11:55@gour - yes, Red's GUI should be OK to use for the desktop apps. It uses native widgets, it just needs to wrap more of them, which is planned for some future versions ... gour 12:03@pekr i'm aware of the gui-status, just wondering in general about supposed Red's suitability for the task... qtxie 12:30@ifgem The console works fine in my Window 7. Looks like it's caused by the Chinese font is not fixed width. What's OS version are you using? ifgem 13:47@qtxie Windows 10:)) 15:25@qtxie I tested it on Windows 8 and it doesn't work properly as well. greggirwin 16:15@ifgem, to do more help-like things, we need a plan for what the data will look like. i.e. standards for what is in a header, or other data in a file, that can be extracted and processed. It will be exciting to see what ideas people come up with for this. WiseGenius 16:19Some code: f: none do [f: does [print "I don't get printed when compiled." false]] either f [print f][print "Neither do I."] Result when interpreted: I don't get printed when compiled. Neither do I. Result when compiled and run: ?function? @dockimbel I'm currently exploiting the above difference between interpreted and compiled behaviour in a project, and I'm wondering how long I have until the compiled behaviour changes and my code breaks? Is the difference a bug? Should I open a ticket? How long would you estimate I can rely on it staying this way? greggirwin 16:22@gour, we need a few more styles, like a table/grid, but people wrote full apps and systems in R2, so it's more than possible. It should actually be a lot better than using C++, because C++ is a system level language that wasn't designed for use at the application level, certainly not GUIs. ;^) 16:23@WiseGenius, I would never rely on difference between interpreted and compiled unless they are doc'd as "by design". 16:24The fact that you just pointed it out probably means it will be fixed soon...and break your code. ;^) WiseGenius 17:15@greggirwin Haha! I hope so! I'm not so much questioning IF my code will break, but WHEN. I'm thinking the difference may be a known issue which won't be fixable until after a certain X feature, milestone, etc. If that's the case, I'd like to know. I'd rather use certain Y features, but they won't be implemented for a long time. So if it looks likely that X won't happen until after Y, then there's no point sitting on my hands when I can exploit while waiting for Y. 17:15Although I only discovered it today, this difference looks familiar. It's very possible I've pointed it out before and forgotten about it. I briefly looked through some old chats and issues, but couldn't find anything. gour 17:30@greggirwin i did C(++) long ago . time of Zortech C++ and now looking for some higher-level language with some type-safety in order to avoid fiddlings with pointers and to have some fun ;) Red looks good ifgem 17:47@dockimbel Sorry for the delay. I'd like to have a more beginners-friendly, convenient scripting support in Red. I think, that it can be archived by adding property(?) to header(tutorial) and defining tutorial(or teach-me) function in Red. file.red Red [ ; simple dialect for quick tutorial writing:)): tasks, tests, highlighting important parts. tutorial: { > magic-number is magic mybelovedfunc 10 10 => 20 } ] magic-number: 9 mybelovedfunc: func ["adds one number to another" a b] [] Repl > help %file.red magic-number => 9. mybelovedfunc [a b] => adds one number to another. > tutorial(teachme) %file.red (or block!) ... 17:56@dockimbel what do you think? maximvl 17:58guys, are there any conferences about Rebol ? 17:59last ones I can find were at ~2013 ifgem 18:01*achieved:) greggirwin 19:24@maximvl , Nenad is going to try to come to the US I believe, and try to have an informal gathering. Nothing else planned. 19:27@ifgem , no need to make it a string. Make it a block in the header for easier processing. I suggest prototyping your idea as a separate function, outside of help to see how it works. 19:28We'll also have some kind of module help I'm sure, when that feature is added. maximvl 19:35@greggirwin ah, I don't think I can come to US for informal gathering though 19:35the EU one would be nice :) ifgem 20:36@greggirwin ok:)). x8x 20:37@pekr I pasted a function in red/code that gets you the missing help to- ifgem 21:02Is there a better way to get Red definitions from the string!, file? while [not tail? script] [ element: load/next script 'script if set-word? element [ value: load/next script 'script either value = 'func [ probe load/next script 'script script: next script ][ probe value ] ] ] It's not beautiful:)) 21:03Parse, of course!!!:))) 21:11Hack:)) object load {"something" hello: func [] [] cool: 20} 21:11Love Red:) Thursday 4th August, 2016 dockimbel 06:34@WiseGenius @greggirwin do is, by design, invoking the interpreter, so its block argument is just data for the compiler, therefore, the compiler cannot see that f is set to a function, at run-time. This behavior is unlikely to change until Red 2.0, where the JIT compiler could blur the lines between compiled/interpreted code. 06:40@ifgem We can add support in help for a tutorial: field once a tutorial dialect really becomes available. In your above example, it's just regular Red code, a tutorial dialect would be a framework with a specific structure. Though, having such dialect could be very helpful for beginners. If someone starts designing it, please make it not dependent on console as output, as we could also have it wrapped in a GUI (in addition to the console). 06:43@maximvl I should come to EU in fall this year, maybe we could organize a conf in Paris, if there are enough people interested. 06:44@ifgem Parse is the right option for such job. ;-) gour 07:00@dockimbel JIT in Red-2.0 is just for the interpreter part, while there will be still native static compilation available? geekyi 07:26@gour that's the goal I believe.. have you looked at red/system? gour 07:30not yet dockimbel 07:49@gour It's for dynamically constructed code, which could be run through the interpreter or the JIT compiler. AOT compilation will still be available. ifgem 07:55Red console isn't working on my friend's computer:)). Compiling compression library... Compiling Red console... dyld: Library not loaded: /System/Library/Frameworks/CFNetwork.framework/CFNetwork Referenced from: /Users/LispBerry/.red/console-2016-8-4-31595 Reason: image not found logout (Mac os 10.7.5) gour 07:55@dockimbel cool...us usualy, Red does "best of both worlds" ;) dockimbel 09:04@ifgem That's odd. Can you check if that library exists on 10.7.5? ifgem 09:05ok. dockimbel 09:07It seems the lib is located in another framework in pre-10.8. ifgem 09:08I'm not familiar with mac os: Is it what you want? The file /System/Library/Frameworks/CFNetwork.framework/CFNetwork does not exist. dockimbel 09:13@ifgem Yes. We are working on a fix for that... 09:36@ifgem Can you give it a try with this [new build](http://static.red-lang.org/dl/auto/mac/red-04aug16-e19f63a)? We don't have a pre-10.8 macOS here, so we can't test if the patch works or not. ifgem 09:40@dockimbel it's working:))). dockimbel 09:40@ifgem :+1: :sparkles: 16:02FYI, the out-of-order refinements with arguments issue within interpreted code has been fixed and merged to master. SteeveGit 16:16 Any aftermath? Like a little slow-down? dockimbel 16:22@SteeveGit Not measured, but from the code changes, it affects only those specific cases (no performance impact for ordered calls), and the overhead is very minor. The compiler deals with it more easily and produces optimal code regardless of the refinements order. SteeveGit 16:23good 16:28It's funny, probably because I just watched some sci-fi manga, But I read your formal answer with an IA-like voice echoing in my head. dockimbel 16:29@SteeveGit I wish I was an AI, building Red would be so much easier and faster. ;-) Which one did you watch by the way? SteeveGit 16:30Are you in Manga? It was Suisei no Gargantia dockimbel 16:33@SteeveGit Mostly in the mainstream ones. Graphics from SnG look nice. SteeveGit 16:36Well this one is good if you like mecha and sci-fi plots. [VF streaming](http://www.mangacity.co/watch.php?stream=R2LaOjavb5F19tzxs8seb401WMmoChxk9alOjlakhFcg0CDiBWnCSeuERGTkPhuP) ifgem 16:54Do we have Red REPL for Android? I want to continue playing with it while being on the road. greggirwin 16:59Go Team Red! SteeveGit 17:06Sorry @greggirwin , I can't betray the team Blue. (if it's Pokemon Go related) geekyi 18:02@SteeveGit was expecting a manga, got anime instead :smile: ifgem 20:00I don't like this Red/Rebol behavior:). [;] => Syntax Error: Missing ] 20:00Don't know if it's a bug. pekr 20:08anything behind the ; is a comment, so you really miss an ending ] ifgem 20:16I understand it, but ... 20:19Was playing with function definition - opened 3 tickets :sparkles: SteeveGit 20:30@ifgem Some behaviors are taken from R3. #2154 is not a bug in that regard. 20:31neither #2153 ifgem 20:32Didn't know it. SteeveGit 20:32You did for **parse** right? ;-) ifgem 20:33Yes:)) 20:33and compose 20:33Love magic:)) 20:34@SteeveGit difference between op! and functon! behavior #2154 seems to be a bug. SteeveGit 20:37I would say a miss, but yeah! ;-) ifgem 20:38Saved one bug:))))))))) 20:38Found another "miss". SteeveGit 20:39:smile: ifgem 20:39Because of my ... keyboard:))) 20:42@SteeveGit what version of Rebol do you use? SteeveGit 20:43REBOL/View 2.7.8.3.1 1-Jan-2011 20:47 ifgem 20:49O my english:)) (an error:(() SteeveGit 20:53Not an error, since it allows post redefinition of custom types red>> test: func [h [integer!!]] [h] == func [h [integer!!]][h] red>> test 10 *** Script Error: integer!! has no value *** Where: test red>> integer!!: integer! == integer! red>> test 10 == 10 ifgem 20:54test: func [h [10]] [h] 20:54And then test it in Rebol2, Rebol3 20:55They all work differently:)) 20:55It's not true SteeveGit 20:56You know, Nenad never said he would duplicate excactly Rebol or R3. Some time his version adds interesting improvements. Btw, When people are in the chat, I think it would be better to test proof your findings first with us before opening tickets. ifgem 20:58But I like Rebol3 approach:). 20:59And Having 3 different ways to handle this is seems to be quite ugly. At least, it has to be documented. 21:09@SteeveGit AFAK, most of the people in this room including me use rebol/core guide as the main reference and this difference might shock them. Also, it might interfere with porting rebol2, rebol3 scripts to Red, even though I haven't seen much scripts using this "feature". Again, it should be at least documented [here](https://github.com/red/red/wiki/Differences-between-Red-and-Rebol). SteeveGit 21:10You also can contribute to the documentation. 21:15Regarding #2155. I see it like an interesting (unespected) feature, not really a "miss" since it doesn't interfere with porting Rebol or R3. ifgem 21:23I have got to sleep, but I don't want to:)) SteeveGit 21:24keep that fever to find new bugs tomorrow ;-) ifgem 21:28@SteeveGit soon, I'll find my 10th bug:)).Should I celebrate it?:))) SteeveGit 21:33If it's a real one perhaps, wait for Nenad and his magical wand, he will erase some of your findings before you can incant a protective spell. ifgem 21:38@SteeveGit https://i.imgsafe.org/3b5e6af646.gif 21:39the first one building date's 27 jule. the second one's today. 21:40They fixed #2139, but I still don't like its behavior. 21:43But it seems to be reasonable. SteeveGit 21:45What is that you don't like ? ifgem 21:46I understand that 1's 100%, but ... SteeveGit 21:47it makes sense 50% is 0.5 in decimal ifgem 21:48definitely:) 21:56@SteeveGit the latest build: 1 + 10% => 110% 10% + 1 => 110.0 reminds me Ruby, where '+' is just a method of certain class:)). 27 jule: 1 + 10% => 1.01 10% + 1 => 1.01 Rebol3: 1 + 10% => 1.1 10 %+ 1 => 1.1 22:02In Ruby it makes sense, in Red it doesn't. SteeveGit 22:03You perhaps found something interesting, the resulting type should be of the type of the first argument by default as far as I remember. But Nenad seems to want to change the way of promoting resulting types in math operations. I don't know the current situation of his position in that regard. 22:04He will probably give you an answer tomorrow. ifgem 22:06@SteeveGit the latest build: 1 + 1.0 => 2.0 1.0 + 1 => 2.0 SteeveGit 22:06I don't have preferences. I just want it consistent enough to not have to change my code every month. Oldes 22:07@SteeveGit do you remember that Red is still not even in beta state? SteeveGit 22:08I still have dreams :-) ifgem 22:09Bug. red + 10% => 255.0.0 red - 10% => 254.0.0 red * 10% => 25.0.0 red / 10% => 255.0.0 The first and the last one. Oldes 22:09_resulting type should be of the type of the first argument by default_ is what I would expect. But with integer and decimal it makes sense to have always decimal.. probably. Hard decisions for language designers:) SteeveGit 22:11Agreed, Oldes ifgem 22:13@Oldes what do you think about the last snippet? SteeveGit 22:15ifgem red + 10% => 255.0.0 (ok) red - 10% => 254.0.0 (perhaps a bug, something with not rounding the result with the nearest integer) red * 10% => 25.0.0 (ok) red / 10% => 255.0.0 (bug) ifgem 22:16@SteeveGit red + 10% => 255.0.0 (ok) Why do you think it's ok? SteeveGit 22:16same as red + 0.1 Oldes 22:16I'm not sure if it is a bug... it is because it deals with percents like with decimal values.. where: 22:17 >> 255 / 10% == 2550.0 >> 255 / 0.1 == 2550.0 22:18and instead of overflow error it leaves the maximum greggirwin 22:19The tricky thing is that percents, in lexical form, look like "whole" numbers. The fact that they are floats internally leaks out. It can work either way, but what is the most useful and least surprising behavior? SteeveGit 22:19Oldes, intersting point of view. So it's maxed. I see use cases where it will be useful. Oldes 22:19the second is bug.. and is inconsistent with Rebol 3 ifgem 22:21definitely red>> red - 2% == 254.0.0 red>> red - 20% == 254.0.0 red>> red - 200% == 253.0.0 red>> red - 2000% == 235.0.0 red>> red - 20000% == 55.0.0 SteeveGit 22:22Well, it seems that tuples are always maxed: > 200.0.0 + 300 = 255.255.255 Fine, fine, fine. greggirwin 22:24What prompted my ticket was working on an incr func, where the default increment value is 1. If you pass in a percent, 1% does not produce 2%. 22:25Well, it does now because I added logic to do so, but if the design says that 1% + 1 = 101%, I need to take that out and you would always need to specify a step value for percents. 22:26And while we might want more magic, sometimes the best answer is to doc the behavior and "fix it with language." 22:26Making one thing easier often makes another harder. 22:31Once you have a bunch of calcs, and the order of the args determines the result type, that should not produce different results in the case of float and percent. The current behavior, while not immediately intuitive for some args, may be best. ifgem 22:32Yes, you're right. Oldes 22:39 I'm still not sure if percent! datatype should be just an _alias_ for decimal! as it is now. 22:41I can imagine (for special types) having: red - 50% == 128.0.0 red - 0.5 == 255.0.0 SteeveGit 22:43but red * 50% = 128.0.0 is the correct math operation, I think. maximvl 22:45guys, in rebol, find takes an element to searh 22:45but how do I search by predicate? Oldes 22:45I know, but somehow don't know, why to have percent! datatype as I can always use just 0.5 instead of 50% maximvl 22:46you can also always use strings instead of dates 22:46use strings instead of everything 22:46but it makes no sense 22:46everything 22:46you can even program in brainfuck SteeveGit 22:47Wow wow, I think it's time to go to my bed ;-) maximvl 22:47why do you want a language to be convinient ifgem 22:47@maximvl odd question, I guess maximvl 22:48to me this question is the same as why have percent datatype if one can use fractinos 22:49because, if I think with percents, I'd like to use percents Oldes 22:49anyway... 255 - 50% does not make sense. maximvl 22:49I don't want to translate my thoughts into something for a computer 22:50it totally does SteeveGit 22:50Good Idea, we should add a fraction! type like 1/3 ifgem 22:50@SteeveGit of course:)) maximvl 22:501/3 is treated as date! in rebol ifgem 22:51without literal:( Oldes 22:51it does not when you don't specify what 50% you want to subtract. maximvl 22:52btw, lisps do have exact arithmetic, and it's also pretty convenient in many cases SteeveGit 22:52Its doing symbolic maths ? maximvl 22:52@Oldes I would say 50% of 255, but yeah, it's not clear how to make this happen 22:53@SteeveGit its like CL-USER> (/ 2 3) => 2/3 22:53not 0.6666666667 22:54and then you can also do all the match you ever wanted: CL-USER> (* 2 (/ 2 3)) => 4/3 SteeveGit 22:54even with results of math operations with fractions ? maximvl 22:54nothing gets rounded or ceiled SteeveGit 22:54ok 22:55I think we could do that. It's not rocket science and algorithms are well known maximvl 22:55until you want it, of course: CL-USER> (float (/ 2 3)) => 0.6666667 22:56@SteeveGit true, funny thing is this was done before IEEE standard, so it's more or less unique in lisps ifgem 22:57@maximvl :))) of: make op! func [howm [percent!] what [integer!]] [ to integer! what * howm ] 50% of 100 => 50 Oldes 23:01When thinking a little bit more about percent! datatype, it makes pretty big sense in DSLs, like in VID. Must go sleep. SteeveGit 23:01Agreed ifgem 23:03@Oldes fraction! would be useful as well: 1/3 of the screen not 33.3333333% Oldes 23:04I have nothing against fraction!, just do it! :) ifgem 23:06I'm waiting for utype!:))) maximvl 23:07yep, shouldn't be hard to add: https://en.wikipedia.org/wiki/Rational_data_type 23:08@ifgem cool ) Oldes 23:08@maximvl last thought... if makes sense: 255 - 50%, with the same logic, would this make sense? $0 + 100% maximvl 23:10well, not exactly $0, but other numbers would do 23:10like calculate income without taxes: $500 - 5% 23:10but again, I don't see an easy way to parse the logic here ifgem 23:12@maximvl it makes sense.I like it:) maximvl 23:12or, with variables it looks much better: gross: $500 tax: 5% net: gross - tax 23:12@ifgem ^) greggirwin 23:13:point_up: [August 4, 2016 4:45 PM](https://gitter.im/red/red?at=57a3c56ce2ff9ec76e57957e) You have to write it yourself @maximvl. I have various flavors, but Doc says he has a general plan for HOF design coming as well. maximvl 23:13@greggirwin what's HOF? ifgem 23:14Hot Official Fraction?:))) maximvl 23:14:D ifgem 23:14That'd be ... hot:) maximvl 23:16btw, today a lot of new languages claim that they are here to make programming fun again, but I found that fun only in Rebol/Red ifgem 23:17@maximvl fun in various ways:)) dander 23:17@maximvl HOF = high order functions (in response to your question about passing in a predicate) maximvl 23:18ah, I should had guessed it 23:18@dander thanks) 23:20it's good to know that such things have a design dander 23:20I'm excited about that feature too :smile: greggirwin 23:25Here's a quick one for you @maximvl find-all: function [ "Returns all values in a series that match a test." series [series!] test [any-function!] "Test (predicate) to perform on each value; must take one arg" ][ collect [forall series [if test series/1 [keep/only series/1]]] ] red>> find-all [1 2 3 4 5 6] :odd? == [1 3 5] red>> find-all [1 2 3 4 5 6] :even? == [2 4 6] red>> find-all [1 2 q 3 #x 4 /c 5 6] :any-word? == [q #x /c] 23:26Hang on. Just hacked that and the doc string doesn't match my hack. maximvl 23:27@greggirwin collect, keep, something new, thanks :) greggirwin 23:27 find-all: function [ "Returns all positions in a series that match a test." series [series!] test [any-function!] "Test (predicate) to perform on each value; must take one arg" ][ collect [ forall series [if test series/1 [keep/only series]] ] ] find-all [1 2 3 4 5 6] :odd? find-all [1 2 3 4 5 6] :even? find-all [1 2 q 3 #x 4 /c 5 6] :any-word? 23:28Fixed doc string for the first one. maximvl 23:28mm do you really return positions? 23:29or, does position mean value here?) greggirwin 23:29To match how find works, yes. maximvl 23:29ye, I think the word is just confusing, I would think that position means index greggirwin 23:30But find returns the position. It was a design choice. maximvl 23:31oh, do you mean find in Red? 23:31because in Rebol it returns values: >> find [a b c] 'b => [b c] 23:34btw, is there continue for loops in Rebol/Red? I can see break only greggirwin 23:36find in rebol returns the position in the series where the value was found. 23:37I don't believe continue is in place yet. maximvl 23:37ye, position in original series, that's good enough =) 23:40false and (integer? print 5) => 5 - no short circuit evaluation? 23:42* this is in Rebol greggirwin 23:44Use all. 23:44 red>> all [false integer? print 5] == none maximvl 23:45ah, cool) greggirwin 23:45And any is shortcut or. Friday 5th August, 2016 dockimbel 00:58@maximvl @greggirwin continue is available, but poorly tested, so watch out for bugs. maximvl 00:59@dockimbel I was looking for continue in Rebol dockimbel 00:59A rational datatype (ratio!) is on our todo-list. I think that parsing 2/3 as a date! is not a feature anyone will miss. ;-) OTOH, a ratio! will be useful both for maths and dialects. 01:00@maximvl In Rebol, it was introduced in Rebol3. maximvl 01:01ok, thanks for answers) 01:02just a few hours, but I made it :3 https://gist.github.com/maximvl/6bcf182a105ee9443118248255f0fab5 01:04for some reason things like copy/part are paths, not functions in Rebol 01:05this is something I can add later, time to sleep now ) dockimbel 01:05@maximvl Very interesting. You should output parens instead of blocks, so the resulting code could be easily evaluated with do. 01:06@maximvl copy/part is a path, copy is a word, functions are all anonymous. ;-P maximvl 01:08oh, that makes a lot of sense! WiseGenius 03:00@dockimbel :+1: Yay for ratio!!!!! How will it relate to bignum!, or is that yet to be decided? dockimbel 03:31@WiseGenius Not decided yet, it's open to propositions. greggirwin 05:06On other lex notes, I was going to ask if 1::2 would be a problem. WiseGenius 06:03@greggirwin In what way? I'm curious: What plans do you have for 1::2? pekr 06:14range? ifgem 08:39I'd like to have Ruby-like range syntax I.e 08:401..10 - from 1 to 10 including 1,10 and 1...10 excluding 1, 10 dockimbel 08:50@ifgem If you really want a feature to be part of Red, you need to make a case about it and explain with evidences how it would make Red better. We happen to have also a REP [process](https://github.com/red/red/wiki/Red-Enhancement-Proposal-Process), though, we haven't used it yet. 08:52@ifgem Remember that Red is an homoiconic language (unlike Ruby), so literal syntax always denotes a datatype (because everything is just data in Red). maximvl 09:34@ifgem this is something very easy to implement as a dialect 09:34don't push this into the language greggirwin 10:08Just thoughts @WiseGenius. Doc mentioned ratio!, for which 1:2 would be good, but that's time!. If we had datatype alias names, it could be both, but then you also have the issue of extra path name accessors. Something we could work around to some extent at the mezz level. The 1..2 range notation has come up, and I used it in my bounds and range dialects, but it's a hack on tuple! which is fun, but limited. We will also want IPv6 addresses at some point. And 1::2 almost looks like it has little corners of a box between the values. I try to think of the different ways we can use what we have now, their limitations (e.g. byte ranges and 12 segments on tuples), and what the most useful things might be in our ever-tightening lexical space (or do we consider Unicode for some things?) Ren is always on my mind as well of course. dockimbel 11:18Nice Red pitch to Lispers: https://www.reddit.com/r/programming/comments/4vhm76/red_by_example_a_website_providing_example_code/d5z3uv6 maximvl 11:37hey guys, how do I parse numbers in a block? >> digit: charset [#"0" - #"9"] ; >> parse [15] [any digit] => false SteeveGit 11:46Parsing a string or a block of litterals needs different rules: > parse "15" [some digit] => true parse [15] [integer!] => true meijeru 11:53Functions which conceptually take a *range* as argument could quite easliy be implemented by specifying the range in a block [lower upper]. That way no new literals are necessary . dockimbel 12:04@meijeru You can even re-use pair! for that. ;-) maximvl 12:04@SteeveGit great, thanks! 14:18what am I missing here? >> parse [a <- b] ['a (to-lit-word "<-") 'b] => ** Syntax Error: Invalid tag -- <- 14:32>> parse [a] ['a] => true >> to-lit-word "a" => 'a >> parse [a] [(to-lit-word "a")] => false but why? endo64 15:05Are you on Rebol? On Red to-lit-word has no value. 15:05 red>> to-lit-word "a" => 'a *** Script Error: to-lit-word has no value 15:15The error comes from the first part [a <- b] as <- is invalid. maximvl 15:17@endo64 ye, this is Rebol 15:17@endo64 but, this is a block, it is not evaluated, how can anything inside be a problem? endo64 15:19It is loaded by the interpreter, it is not like a string: >> [%] ** Syntax Error: Invalid file -- % greggirwin 15:19Don't confuse evaluation with loading. 15:19Semseddin, faster than me again. ;^) maximvl 15:23@greggirwin @endo64 but how do I use '<- in a dialect then? 15:23can I? greggirwin 15:25You can't right now, or maybe ever. One of the tradeoffs of a dialect (eDSL) versus string parsing an external (xDSL), is that your data must be valid, loadable Red. maximvl 15:27@greggirwin oh, I see, at least I will not spend hours trying to do it =) meijeru 19:27@dockimbel The advantage of a block for a range is that you can add an (optional) step value... xificurC 19:42I can't guess how is to used, in the meantime I got 19:42 red>> to 'me "string" *** Runtime Error 1: access violation *** at: 0805FB70h 19:43I want to convert a word! to a string! DideC 19:54If to was fully implemented you would write to string! 'wordand it would give you == "word"(try it in a Rebol console). 19:56But to conversions are not implemented (just a few of them). So actually the better way to convert to a string! is to use form. xificurC 20:07@DideC I see. Thanks raimundasa 20:08The buttons does not change color. This is a bug? Red [title: "test buttons" needs: 'view] view [ button red "Red" button green "Green" button blue "Blue" ] greggirwin 20:30@meijeru, you can still specify a step value, even if we have a range notation. You just have a range function with a /skip refinement or as another arg in the block as you say. My old range func supports a number of values, including blocks. 20:32Not a bug @raimundasa. The issue is that native widgets may not support all facets yet (or ever). Colors work on other styles. Red [title: "test buttons" needs: 'view] view [ base red "Red" base green "Green" base blue "Blue" ] Saturday 6th August, 2016 dockimbel 03:26@raimundasa Changing background color of button widget is not yet supported. You can create a custom button, using the base face type, where you have more control (but need to implement all behaviors yourself). ralfwenske 04:08Is this behavior right? Wrong type annotation? 04:10 Red [needs 'View] f1: func [w [face! object!]][print ["f1: type? w" type? w]] f2: func [w ][print ["f2 type? w" type? w]] win: layout [size 300x300 title "Regression?"] print ["type? win" type? win] f2 win f1 view win returns type? win object f2 type? w object *** Script Error: invalid type specifier: make object! [type: 'face offset: none size: none text: none image: none color: none menu: none data: none enable?: true visible?: true selected: none flags: none options: none parent: none pane: none state: none rate: none edge: none para: none font: none actors: none extra: none draw: none ] *** Where: f1 red>> about Red 0.6.1 - 6-Aug-2016/12:48:52+10:00 red>> 04:14'f1 win' gives this result - (typo) dockimbel 05:19@ralfwenske face! is not a datatype (though it might become one in the future), it is just an object, so you need to remove face! from the type declaration in the function. I've pushed a fix yesterday for stricter checking of type declarations, so now, it can contain only a valid datatype (in word! or datatype! form). ralfwenske 05:41Got it! Thank you @dockimbel ifgem 08:00So, what do you think about adding op! overwriting? It can help me to add range! to Red as a simple object! maximvl 09:36hey guys, can I set object field inside parse in Rebol? >> o: make object! [x: 5] >> parse [15] [set o/x integer!] ** Script Error: Invalid argument: o/x dockimbel 09:37@maximvl Not yet, but that would be a nice enhancement. You can open a wish ticket for it. maximvl 09:38@dockimbel hm, what is the preferred way to collect data from parse then? 09:39like, all examples in tutorials just print values, but something useful should collect and process them dockimbel 09:39Though, you can easily achieve the same by properly binding your rule block: red>> o: make object! [x: 5] == make object! [ x: 5 ] red>> parse [15] bind [set x integer!] o == true red>> o == make object! [ x: 15 ] maximvl 09:41@dockimbel ok, that will work, but maybe I'm using this because I'm not aware of normal way of doing this 09:42if I want to parse 10 values from a block, should I have 10 local variables in function? dockimbel 09:51@maximvl Use collect/keep commands combo for that: red>> parse [3 a Z 5 b] [collect any [keep integer! | skip]] == [3 5] maximvl 09:52@dockimbel is it available in rebol? dockimbel 09:53Exclusively on Red.;-) maximvl 09:53okey, I'm still using rebol to understand things since it has docs and examples in the internet) dockimbel 09:54Though in Rebol, you can achieve the same using the collect/keep functions (available in Red too): collect [foreach v [3 a Z 5 b][if integer? v [keep v]]] == [3 5] 09:55But it's much less efficient than the Parse approach. Moreover if you need to do it deeply in nested structures, then the collect function approach requires much more efforts. maximvl 09:55but parse example didn't work for me dockimbel 09:56It didn't work in Red? maximvl 09:57in rebol) >> parse [3 a Z 5 b] [collect any [keep integer! | skip]] => false 09:57the second one with foreach worked though dockimbel 09:59:point_up: [August 6, 2016 5:53 PM](https://gitter.im/red/red?at=57a5b38448422f8b4973cbff) It's only in Red. maximvl 10:03anyway, here's my try to implement list comprehensions dialect :) 10:03https://gist.github.com/maximvl/400a2bc40fa9a536c4d068e48c9b7fa7 10:04LC in ~30 lines of code 10:05I would never believe if somebody tell me there is a language which can do this 10:37@Rebol2Red "1" is not a number, the function checks for a value, of course it makes little sense running number? 1, but what makes sense is number? x dockimbel 11:12@maximvl Very nice, congrats! It's a nice application of metaprogramming in Rebol. In Red and Rebol3, you could replace [block! | paren! | word!] with a typeset definition. As soon as you have a Red version, I'll be happy to tweet it. ;-) 11:26You could also replace the double either by a case: e: case [ block? i/2 [i/2] paren? i/2 [do i/2] 'else [get i/2] ] lepinekong_twitter 12:04Tried this and it fails 12:04red>> read http://google.com *** Access Error: invalid UTF-8 encoding: #{E9636F75} *** Where: read SteeveGit 13:30@maximvl Playing with your lc function, I got this light version: lc: function [rule][ parse rule [ some [ s: word! 'in skip (in: last reduce/into ['foreach s/1 s/3 make block! 4] in) | 'if skip (in: last reduce/into ['if to-paren s/2 make block! 4] in) | skip '| (res: s/1 fun: in: make block! 4) | (reduce/into ['reduce/into res 'tail 'out] in) break ] ] has [out] compose [out: make block! 10 (fun) out] ] Then run: x-set: [1 2 3] r: lc [[x + y ] | x in x-set y in [10 100 1000] if [ x <> 2]] r 13:32> == [11 101 1001 13 103 1003] 13:34Note that **ls** builds a function (Acts like a compiler). ?? r r: func [/local out][out: make block! 10 foreach x x-set [foreach y [10 100 1000] [if (x <> 2) [reduce/into [x + y] tail out]]] out] xqlab 13:48@maximvl this works in Rebol and should also work in Red 13:48 collect [ parse [3 a Z 5 b] [ any [set x integer! (keep x) | skip]] ] meijeru 14:52@lepinekong_twitter FYI, the 30-Jul-2016 build on W10 has no error when reading google main page. maximvl 15:46@SteeveGit oh wow, give me some time to parse that =) dockimbel 15:51@lepinekong_twitter read only supports UTF-8 content in text mode for now, we should add a few common encoding formats like ISO-8859-1 soon. You can still access the resource in binary mode if needed and then convert it manually: red>> page: read/binary http://google.com == #{ 3C21646F63747970652068746D6C3E3C68746D6C206974656D73636F70653D22 22206974656D747970653D2268747... red>> page: collect/into [forall page [keep make char! page/1]] make string! length? page == {<!doctype html><html itemscope="" itemtype="http://schema.org/WebPage" lang="zh-TW"><head><meta ... 15:51@SteeveGit :clap: :sparkles: Though, list comprehensions have many possible rules, so a full support will need much more work. But yes, it should be possible to build a dialect for it entirely processed by Parse only. 15:53@meijeru The content served by google.com is not the same for everyone, and it changes often. x8x 17:00should split have a /into refinement? split: func [ {Break a string series into pieces using the provided delimiters} series [any-string!] dlm [string! char! bitset!] /into "Insert into a buffer instead" blk [block!] /local s num rule ][ num: either string? dlm [length? dlm] [1] rule: [copy s [to dlm | to end] keep (s) num skip] parse series either into [[collect into blk any rule]][[collect any rule]] ] maximvl 17:11@SteeveGit ok, I got it, your approach is very Rebolish, I tried to come up with something like that, but finally made a lispy one, with code generation 17:13@SteeveGit the way you juggle with pointing in to the right block is awesome ) 17:13@dockimbel feel free to tweet @SteeveGit 's version ) SteeveGit 17:24@maximvl Before tweeting about it ;-) and If you feel it, feel free to enhance my version to include other rules as Doc stated. ;-) 17:25It's not in my to-do list actually maximvl 17:25but 17:25I don't know what to add here.. 17:26all LC implementations I've seen so far had multiple sources and filter, that's pretty much it SteeveGit 17:27me neither. I didn't look at list-comprehension docs. I just used your script as source. maximvl 17:27https://wikimedia.org/api/rest_v1/media/math/render/svg/8cc639ecfd1200a7fa8c18ed8624443b6f550ace greggirwin 17:29@x8x a better split will be coming, though I often wonder about the value of having /into everywhere. Yes, it becomes a standard accumulator pattern, but I've often felt it was tacked on, to aid performance, rather than being designed in, in a nicer way. x8x 17:43I never used /into before, but as we have no GC at the moment, using /into saves some memory. 17:56@lepinekong_twitter While @dockimbel conversion solution is a wonderful oneliner, it wont get you a proper result. Here is a Linux/macOS solution using call: read-url: func[url /local e o][ o: {} call/output reduce [{curl -IL} url] clear o parse o [any [thru [{Content-Type: } thru {charset=} copy e to lf]]] call/shell/output reduce[{curl -L} url {| iconv -f} e {-t UTF-8}] clear o o ] read-url https://www.google.com/ ; {<!doctype html><html itemscope="" itemtype="http://schema.org/Web... 18:23Is stats updated in real time? If not, can I force update it or do I have to wait x seconds? ifgem 18:46U 19:05I hate mobile version of gitter. 19:14Just found gitteroid. Open source, beautiful. maximvl 19:15@SteeveGit btw, is there any reason for your version to return a function, instead of just result? ifgem 19:16Still miss the ability to play with Red on Android. SteeveGit 19:19@maximvl Not really. Except you can reuse it, skipping the compilation stage. maximvl 19:19@SteeveGit but you can also reuse the value itself ) SteeveGit 19:22 yes, but in the case you parameterized the input rule (like with x-set), it may ouput different results. Sunday 7th August, 2016 dockimbel 08:33Some thoughts about list comprehensions in Red: * They can be trivially implemented (couple of lines) using a combination of map and filter once we add them to the core language. * Having an option to produce a generator instead of a final list would be very helpful to deal with large lists. It is possible to implement generators in Red already, though, it will be more efficient once we integrate concurrency support. gour 08:34btw, what about pattern matching in Red? i liked them and they are quite powerful in e.g. Haskell & OCaml dockimbel 08:37@greggirwin What is your proposition for improving /into? I plan to spread it as broadly as possible, as it provides a useful way control the destination series of a series modifying/creating function, which also gives the ability to tightly control memory usage when needed (like for soft realtime systems where a GC, even incremental one, can be a problem). 08:53@gour Pattern matching can be achieved trivially in Rebol languages using case, parse or just the core language. We could add a specific function for destructuring assignement support. Such function could be written in Red trivially already. meijeru 09:37The most basic destructuring assignment already exists: set right? 09:47@dockimbel I was prompted by a recent issue to look up the call files. In system/library/call there is a file call.red but the README says there should be a console-call.red also. Where is that actually? dockimbel 10:03@meijeru Right, but working on nested structures would be useful. We could even add type-checking using optional type specifiers. That README is obsolete, call will be integrated in the Red runtime as an optional module for 0.6.2 release. meijeru 10:24Right, so call cannot now be used together with the graphic console? dockimbel 10:25@meijeru Only if you compile a custom version of the console. You can still use tests/console-call.red wrapper if you prefer. JacobGood1 14:15@gour pattern matching is not that useful in a language like Red. I have mulled over these ideas myself before, I concluded that pattern matching is more useful in languages that are immutable, inflexible and rigid. The way blocks are are manipulated in Red code makes them trivial to deal with. geekyi 14:15> map and filter once we add them to the core language. Yes! More functional constructs I like! Personally, I'm perfectly fine without list comprehensions as long as those are there 14:16Btw, I'd thought map-each is equivalent to map in e.g. haskell? 14:18I can achieve the same thing except.. there isn't support for partial functions or currying in red? JacobGood1 14:20@geekyI There is no currying, you can create a dialect for it if you want geekyi 14:21@JacobGood1 I don't know enough about red to know if it is .. possible? gour 14:21@JacobGood1 ok, good to know, but have to learn more Re(bol)d JacobGood1 14:22yes it is easily possible 14:22well, "easy" depends on the syntax you decide to use geekyi 14:24@JacobGood1 what am I missing here, it's not.. 'clicking' for me.. I'm not too familiar with red's higher order functions.. 14:26Does writing variable free code need only a change of syntax.. JacobGood1 14:27Red is a programmable programming language like Lisp. It does not really matter what Red is missing, you can add it through dialects. 14:28@geekyI what do you mean by variable free? You mean immutable? geekyi 14:28Point-free style gour 14:28@JacobGood1 are you familiar with Racket? do you like it? JacobGood1 14:28Oh like Haskell 14:29@gour yes, no. gour 14:29:question: JacobGood1 14:29I do not have good reasons for not liking it though, most of them are just subjective preferences. geekyi 14:30@JacobGood1 yes, [Function-level programming](https://en.wikipedia.org/wiki/Function-level_programming) gour 14:30@JacobGood1 ok ;) geekyi 14:31@gour I'd also missed pattern matching before in red.. but learnt to 'workaround' it gour 14:33@geekyI what is your recommended 'literature' to learn Red? geekyi 14:35@gour I'd recommend what I wrote in the other help channel here.. but if you are referring specifically for functional programming, I'm still learning about the approaches taken by rebol gour 14:36@geekyI i did play with Haskell/OCaml in the past...now i'm thinking just Red JacobGood1 14:36@geekyI I have a lot of experience with functional programming languages, I found that they have their own pitfalls. Here is a neat blog discussing a lot of the issues that I discovered after years of immutable programming: http://prog21.dadgum.com/36.html geekyi 14:36@gour Whereas everything is a function /expression in functional programming languages, everything is data in rebol gour 14:37btw, i'd be happy seeing **less** Red-related rooms...considering it easier to follow x8x 14:52It's "strange" gittter doesn't provide the ability to set a header for a room.. that would help a lot! 14:53Oh.. maybe it does, this channel does have "Red Programming Language" on the right of its name. dockimbel 14:54@gour That's not an option. We started with one channel and it quickly became impossible to use, as too many unrelated discussions were multiplexed there. I don't understand why you find it difficult to follow when you have a left bar which shows you how many new messages you have in each room you subscribed to... gour 15:04@dockimbel i should wrote 'to follow', iow. to be sure where does each discussion fit the best :-D JenniferLee520 15:06I've noticed that drawing lines with ARROWs has been done by @Qtxie in one of this forks. I would like to know when it will be merged into master branch. Thanks. gour 15:07otoh, i also hope that with increased popularity of Red, mailing list will be used more geekyi 15:09@gour was thinking the same too (most other communities have one or 2, but it does enable one thing.. long-lived discussions: harder to create threads in gitter conversations. There are pros and cons for each approach gour 15:11@geekyI true, but for that i prefer mailing list or, even better nntp (gmane) JacobGood1 15:20I was one of the reasons they made more Red rooms, I was spamming the snot out of this channel not too long ago dockimbel 15:33@JenniferLee520 I'm not sure, you should ask him directly. geekyi 15:33@x8x @dockimbel seems like a good idea to add a header to the rooms missing one? dockimbel 15:33@gour I hope too, we used to have a great ML for Rebol, 17 years ago. ;-) 15:34@geekyI Agreed. Let me have a look at them... geekyi 15:34red/red/code seems to be named bad? dockimbel 15:35@geekyI Gitter is primary a chat system for github's repositories. That room is for red/code repo. geekyi 15:36ditto red/red/system (altho we don't have a repo for this, so I'm not sure about this one) 15:36@dockimbel but when I click, it goes to red/red on github, should be red/code instead dockimbel 15:37@geekyI When you click on what? geekyi 15:38[![blob](https://files.gitter.im/red/red/b3N2/thumb/blob.png)](https://files.gitter.im/red/red/b3N2/blob) 15:39when I click the room title @dockimbel 15:40also repo info on the right reflects this.. on the other hand, red/docs is perfect 15:43while we are on the topic, maybe red/help would benefit from stackoverflow integrations? greggirwin 15:46> btw, what about pattern matching in Red? We can do this in a lot of ways, as others said. I have one example (set...) in my mezz gist. The hard part is the design. dockimbel 15:46@geekyI Indeed, it wrongly points to red/red, instead of red/code repo... let me see if I can fix that. Can't change it, the title bar leads to the wrong repo, but from the right menu, the "Open in Github" option leads to the right one... geekyi 16:04@dockimbel open in github leads me to a 404: https://github.com/red/red/code 16:05My gitter client.. is a web-based one I think (it's a google chrome app), what are you using? greggirwin 16:06@dockimbel :point_up: [August 7, 2016 2:37 AM](https://gitter.im/red/red?at=57a6f3506bf4dff61d3a58ee) I understand the reason for /into, but don't have a concrete suggestion yet. It's one of those "gut feeling" things. Having an accumulator func, and saying that's the optimized approach, is one idea, but I'm not thrilled with that. It does make it clear that you're writing code with that need in mind, but also might be less Reddish and not mix as cleanly with other code from a style standpoint. So I imagine what code might look like that uses /into, just making stuff up. e.g. collect/into [ foreach rec recs [ compose/into [extract/into blk wd buff] buff ] buff ] And asking whether I like that, or how else would I do it. I also wonder if, as a design pattern (because if Red does it as standard, everyone else should too), it works well, or if people will look at doc strings and think they *should* use it, even if they don't need it. i.e., it becomes a widely advertised "feature". x8x 16:15Should system/platform for macOS be changed from Darwin to macOS ? We will have iOS in a near future ;-) so better change it sooner than later. greggirwin 16:16I'm not, in any way, saying we shouldn't write efficient code, and Red has wider goals than Rebol, but I have never needed this feature myself. I guess my proposal is to think about what the goals of /into are and see if there's an elegant solution that helps make the intent clear when it's used, is easy to work with, and localizes those decisions if possible. That is, if you're writing code that needs this, you may need it everywhere, which means having /into everywhere in your code. Of course, you can reverse the argument and say that will make calls that don't use it stand out. Some time back I looked at the idea of transducers in Clojure, and I think that came partly from this kind of need. x8x 16:23I have to agree with @greggirwin that having /into everywhere wouldn't look very nice. In rebol I never had memory problems, probably meaning that the GC was doing a good job. I started using /into with Red to lower memory consumption. Althought I like having control and the cleaness of it, I wonder if in most cases the GC should take care of memory use. So mixed feeling here.. I guess I wouldn't use it if not forced to, but would use it extensively if writing an app for some IOT device with limited memory. dockimbel 16:56@x8x system/platform should return MacOSX on Mac, unless there's a bug. x8x 17:01@dockimbel Humm yeap sorry, I mean from MacOSX to macOS that would be future proof. ;-) geekyi 17:06@greggirwin >transducers in Clojure just read about it.. was underwhelming somehow.. feels just like isomorphisms to me greggirwin 18:48@geekyI, not to imitate them directly, though I do think implementing features from other languages as examples can be useful in explaining Red. I mean taking the idea of an accumulator and making it a pattern. maximvl 18:59guys 18:59if I have a block in Rebol, how can I get word value from it's context? 19:00bind doesn't bind to a block 19:03oh wait, block has no context, doesn't it? 19:03until I eval it in some context JacobGood1 19:04Im no Red expert but I think blocks are just data so there would be no context 19:04first [x: 1] == x: maximvl 19:05ye, and looks like do evaluates block in current context if block is not binded to any JacobGood1 19:06I am probably wrong though, hardly programmed in Red... maximvl 19:14there is a function called bind? which Returns the context in which a word is bound. 19:15though it works strange: >> found? bind? 'does_not_exist_for_sure => true SteeveGit 19:48each word in a block has its own context (so, potentially different from the other words) lepinekong_twitter 20:19@dockimbel about 'read only supports UTF-8 content in text mode for now, we should add a few common encoding formats like ISO-8859-1 ' I don't understand why would google use ISO-8859-1 which is deprecated in favor of UTF-8 ? 20:21@x8x: thanks for your suggestion for read-url but I got this error 20:21*** Script Error: call has no value *** Where: read-url x8x 21:49@lepinekong_twitter call will be integrated in Red in 0.6.2, meanwhile it is available as a library, so you have to compile it into your script. Search for call.red in this room for how to do that. maximvl 22:31@SteeveGit I tried to implement yield in Red/Rebol, though it turned out this is not a simple thing, like LC 22:33to make something like i: iterate [foreach x [1 2 3] [yield [x + 1]]] 22:34and then print next i => 1, print next i => 2 etc 22:34I can save context of block and reuse it, but words like foreach will rebind and start from beginning JacobGood1 23:01I would transform things like foreach into some sort of fsm object and then refer back to that on each "iteration" 23:05@dockimbel did you ever see this hashing algorithm? http://cyan4973.github.io/xxHash/ I read a while back that you settled on murmur... just curious SteeveGit 23:07@maximvl , I don't see a smart way to do this. It will be a lot of work. You can either rewrite an interpreter (slow as hell) or write a compiler. In both cases you have to rewrite all the control flow instructions of Red: if, either, all, loop, foreach, repeat, etc... to support stop/resume execution. Monday 8th August, 2016 qtxie 00:35@JenniferLee520 IIRC, It's not finished yet. Let me have a look... geekyi 04:56@JacobGood1 also, http://cyan4973.github.io/zstd/ by the same author finally seems like a good replacement for zlib dockimbel 05:02@JacobGood1 Didn't know about that one. Twice as fast as Murmur3, that's a nice achievement. If someone wants to make a Red/System implementation of it, we could use it in Red's runtime library. 05:05@maximvl As said by others, you would need to replace the control flow functions by a custom implementation in order to achieve that. Maybe in the future we can consider using continuations for implementing control flow functions in Red, though Rebol 1.0 gave up on them because of very bad performances. 05:12@lepinekong_twitter That is on our roadmap, we'll try to get it done for the 0.6.2 release. 05:15I was searching for a way to show how metaprogramming in Red is different and how far you can go with it. So I implemented a short specialize function, able to specialize an existing function on one or several of his arguments. Here is the implementation: specialize: function [fun [function!] defs [block!]][ spec: copy/deep spec-of :fun body: copy/deep body-of :fun foreach [arg value] defs [ arg: to word! form arg pos: find spec arg remove/part pos pick [2 1] block? pos/2 parse body rule: [some [change only arg value | into rule | skip]] ] func spec body ] 05:16Here are some usage examples: red>> foo: func [x y][x + y] == func [x y][x + y] red>> bar: specialize :foo [x: 5] == func [y][5 + y] red>> bar 10 == 15 05:17 lisp red>> pad8: specialize :pad [n: 8] == func ["Pad a string on right side with spaces"... red>> pad8 "hello" == "hello " 05:18 lisp red>> entab: specialize :replace [pattern: space value: tab] == func [series [series!] /all /local many? len pos][many?: any [system/words/a... red>> entab " hello^/ world" == "^- hello^/ world" red>> entab/all " hello^/ world" == "^-^-^-hello^/^-^-^-^-world" 05:22You can use source on the specialized functions to see that the source code is rewritten. Many improvements are possible, like specializing on refinements and optional arguments, or folding constant expressions resulting from fixing arguments. What do you think about that? Is that a good enough showcase for Red abilities? geekyi 06:48Sweet! Currying is that trivial to implement? 06:48I can see now how you can easily do functional programming in red.. I think.. dockimbel 07:55@geekyI Currying should be trivial to implement yes, though no one tried it so far, as we have other ways to achieve similar goals, as shown above. x8x 08:16Why is to-hex 32 returning #00000020, an issue! instead of 20h? I would expect: append #{} to-hex 32 ; #{3030303030303230} to return #{20} instead. What about 20h having its own type hex! and keep showing as 20h instead of being an integer! and getting evaluated to 32? 08:28 2020202020h *** Syntax Error: invalid integer! at "2020202020" Error message missing the h dockimbel 08:31@x8x 20his just syntactic sugar for integer! values expressed in base 16, it's not a datatype: red>> [20h] == [32] 08:32to-hex works the same as in Rebol. 08:34Adding an hex! datatype is an option, though, it's not the only one. meijeru 08:36@x8x @dockimbel What about producing a hex representation which is a string, by form/hex, thus form/hex 32 => "20". Having an issue! as output from to-hex is just a heritage from Rebol, it is not necessarily the most logical choice. dockimbel 08:37@meijeru to-hex was only added because we needed it, I am not very fond of it and we will have much better ways to handle integer values in different bases in the future. maximvl 12:53@dockimbel any idea why is this happening? https://github.com/red/red/issues/2157 dockimbel 14:03@maximvl Sure, the result of that specific operation (-2147483648 / -1) cannot fit on signed 32-bit, the CPU will then trigger an integer overflow exception. Once we have support for 64-bit integers or big numbers, we could just promote the operation to a wider type. maximvl 14:53@dockimbel looks like number literals starting from -2147483648 silently converted to floats: red>> type? -2147483648 == integer! red>> type? -2147483649 == float! red>> print -2147483649 -2147483649.0 14:54@dockimbel was it made on purpose? x8x 15:03Should this rise an error? func[a/b][] dockimbel 15:10@maximvl As they cannot fit into a 32-bit integer, the lexer promotes them to wider type (currently float!), that's intended. greggirwin 16:54Specialize is very cool, and a nice example. I would be sure to note that it's just *one* way to do it in Red, and maybe show some others as well. I know blog entries take time and need to be kept short, so you could just describe other, more traditional approaches. Tuesday 9th August, 2016 maximvl 12:53@dockimbel hi, do you see any application of Red in embedded programming? dockimbel 13:11@maximvl Red could be a companion high-level scripting language for low-level ones, like C or C++. Being able to embed Red into a foreign language could be especially useful to extend existing apps with new features at a low cost (like GUI support). maximvl 13:16@dockimbel ok, but I'm talking about embedded environment without OS 13:16since Red's runtime is so small and we have Red/System I though there are some plans for this type of programming too dockimbel 14:06@maximvl Well, it's there for someone to pick it up and write a loader for Red/System code, we could add some more features to Red/System to cover it fully. If you want to run Red in such scenario, you still have some extra work to do for writing the few functions we import from C lib (the math ones are significant work). Red code and even toolchain can easily run already on Intel Edison IoT board. 14:08Writing micro-kernels for all the small boards around is beyond our current resources, it's up to the community to do that. DarrellBrogdon 21:06Is it possible yet to convert a string into a block in Red? 21:07I tried parse {"foo" "bar" "baz"} none and parse {"foo" "bar" "baz"} [] but that didn't work. 21:07Rebol's to-block doesn't work either. SteeveGit 21:12 21:20red>> load form load {"foo" "bar" "baz"} == [foo bar baz] DarrellBrogdon 21:26@SteeveGit Thanks! SteeveGit 21:44Alternative: red>> load replace/all {"foo" "bar" "baz"} {"} "" == [foo bar baz] Wednesday 10th August, 2016 dockimbel 02:48@DarrellBrogdon The splitting feature of Parse in Rebol has been moved to split function in Red. DarrellBrogdon 02:53Thanks @dockimbel. I actually just happened upon that a few minutes ago. planetsizecpu 10:29@dockimbel It seems to work fine, area is reacting to changes, I will continue work of learning! thx 10:31[![blob](https://files.gitter.im/red/red/ySKN/thumb/blob.png)](https://files.gitter.im/red/red/ySKN/blob) dockimbel 10:45@planetsizecpu Good! :+1: gour 16:13im' reading docs about Rebol's Objects...it looks to me like prototype-based OOP ala Javascript (as much as i know about JS), is it (including Encapsulation etc.) same in Red? greggirwin 16:22Yes. The original design model came from Self. gour 16:23thanks 16:40.red | .reds are standard suffixes for Red|Red/System files? JacobGood1 16:46@greggirwin would you not say that there are nuanced differences from javascript? Such as the fact that altering a prototype in js will filter through all objects generated from that prototype. Also red objects can be used for binding contexts... one of those easy yet hard concepts to learn. 17:22Is there a synonymous function in Red to USE from Rebol? 17:39Is there a way(a clean way, I thought of a dirty way) to bind words in a block selectively? For example: bind [x y z] object [x: 1 y: 2 z: 3] in this example x y and z would be bound to 1 2 3 respectively. I would like to only bind x and exclude the other words. bind/exclude [x y z] [y z] [x: 1 y: 2 z: 3] SteeveGit 17:52Bind can take a word! as argument. JacobGood1 17:53guess I could have looked that up myself... thanks 17:54also meant to write bind/exclude [x y z] [y z] object [x: 1 y: 2 z: 3] but I am sure yall knew that =) SteeveGit 17:59**exclude** already does that. So, there is no need for /exclude refinement. >> bind exclude [x y z] [y z] [x: 1 y: 2 z: 3] It does what you expect. JacobGood1 18:02I did not know there was an exclude, ty SteeveGit 18:05Well, pretty half the "Thanks" I get: It's just pointing out already existing functions. Easy won Karma ;-) geekyi 19:00I was looking at different techniques of binary visualization (and making sense of it in general); I usually use http://binvis.io by https://corte.si Came across this: https://www.youtube.com/watch?v=4bM3Gut1hIk Seems to be an amalgamation of different techniques.. hoping to have something similar in RED in the future 19:05In summary; it uses the same techniques as [conti](https://www.blackhat.com/presentations/bh-usa-08/Conti_Dean/BH_US_08_Conti_Dean_Visual_Forensic_Analysis.pdf) - digraphs; and [cortesi](http://binvis.io) - hilbert curve for cluster analysis and using techniques like entropy. He then further extends it to higher dimensions 19:07More links on [reddit](https://www.reddit.com/r/ReverseEngineering/comments/1izity/cantordust_a_binary_visualization_tool) lepinekong_twitter 19:56@dockimbel I think that for people foreign to red like me (and not an expert at coding) it would be great to have comparison of red examples side by side with how other languages would do like this guy did for javascript http://genius.com/Mat-brown-javascripts-purer-object-orientation-annotated JacobGood1 20:14@lepinekong_twitter the only other language that would be decently comparable would be lisp, which, would probably be counter productive for code example comparison greggirwin 20:22:point_up: [August 10, 2016 10:46 AM](https://gitter.im/red/red?at=57ab5a62ae838f6f56948a63) > would you not say that there are nuanced differences from javascript? Absolutely. I was trying to answer the question in general. 20:23:point_up: [August 10, 2016 11:22 AM](https://gitter.im/red/red?at=57ab62f116b0696856aa1b54) use: func [ "Defines words local to a block evaluation." vars [block!] "Words local to the block" body [block!] "Block to evaluate" ][ ; Renaud Gombert's simple approach do has vars body ] 20:28@JacobGood1, maybe what @lepinekong_twitter is thinking is "Red for JS programmers" or "Red for C# programmers". Things to help them get started, based on a language they know. djrondon 23:15Cool Greg!!! 23:16👍👍 greggirwin 23:41@geekyI, that data visualization video is amazing. Thanks for posting it. Thursday 11st August, 2016 DideC 09:33In his presentation, it use [IDA](https://www.hex-rays.com/products/ida/) to reverse engenering program. It's not my tea cup, but this kind of tools might be awesome for one that build a compiler ;-) 09:58...if this guy is rich! IDA pro + all the 5 decompilers in named licence for windows platform ~= 8000 USD. dockimbel 11:56I do use IDA since the beginning of the work on Red, it's a great tool, but the selling process is the oddest one I've ever seen (you need to use a PGP key to send your order by encrypted email to the author....). Given also the very high price, I stick to the trial version, which is enough for my needs. gour 12:17ok WiseGenius 12:21@dockimbel Trying to open the latest build of Red gives me the following message: 12:21[![D2D1.PNG](https://files.gitter.im/red/red/xGnY/thumb/D2D1.png)](https://files.gitter.im/red/red/xGnY/D2D1.PNG) dockimbel 12:24@qtxie ^--- You need to conditionally import the DirectX lib, excluding WinXP. WiseGenius 12:37I think this error is about the wrong refinement: red>> x: copy/types y [map! object! block!] *** Script Error: copy does not allow block! for its /part argument *** Where: copy maximvl 13:44there are a lot of builtin datatypes in Rebol, but how practical this appoach is? 13:45for example: there are dates, and one can do days arithmetic with them. but what if one wants to add/subtract months? years? 13:47okey, I just tried and this worked: >> d: 10-Aug-2016 == 10-Aug-2016 >> d/month: d/month + 5 d == 10-Jan-2017 WiseGenius 15:08@qtxie I can use the latest Red again now, thanks! dockimbel 15:29@WiseGenius copy/types: might be caused by the fact that /types is not implemented. What is the type of y? For series argument a "not implemented" error should occur, but for other types, that fallback might be missing. WiseGenius 15:44@dockimbel It was map! red>> m: copy/deep/types #() map! == #() Yes, I did notice map! was the odd one out among the few I tried: red>> s: copy/deep/types "" string! *** Internal Error: reserved for future use (or not yet implemented) *** Where: copy red>> o: copy/deep/types make object! [] object! *** Internal Error: reserved for future use (or not yet implemented) *** Where: copy red>> b: copy/deep/types [] block! *** Internal Error: reserved for future use (or not yet implemented) *** Where: copy meijeru 15:50@dockimbel The name of the /types refinement suggests that more than one type can be specified, hence the corresponding argument could be a typeset rather than a single datatype, wouldn't you agree?? @WiseGenius probably thought the same when he supplied a block of types, but that is of course much less efficient than a typeset. WiseGenius 16:06@meijeru In Rebol 3, /types accepts both datatype! and typeset!. I expect Red will too. I might have used typeset! in my example but I wanted to rather draw attention to the error message just in case it was related to #1154. Doesn't look like it, though. meijeru 19:26@WiseGenius I commented on your wish re copying #2169. Friday 12nd August, 2016 WiseGenius 04:32> make does not perform a copy so a/a and b/a are bound to the same value. @PeterWAWood @JacobGood1 Although make doesn't copy inner map!s and object!s, it does copy inner string!s and block!s: Given the following code using make: o1: make object! [a: "1" c: #(d 1) e: [f 1] g: make object! [h: 1]] o2: make o1 [] o2/a/1: #"2" o2/c/d: 2 o2/e/f: 2 o2/g/h: 2 Current result: red>> ?? o1 o1: make object! [ a: "1" c: #( d: 2 ) e: [f 1] g: make object! [ h: 2 ] ] This is the same behaviour as the current copy/deep. See the result of o1 in [my wish](https://github.com/red/red/issues/2167). 04:44@meijeru Thanks. 04:46@greggirwin Probably because I've never used tail, I'm having trouble seeing why chaining it with my version of copy in [my latest wish](https://github.com/red/red/issues/2169#issuecomment-239264875) would not work. Would you mind please giving me an example? greggirwin 05:25Tail only works on series values. If copy transparently returns any type passed to it tail will fail on any non-series type. Or, if *it* doesn't fail, what should the result be? e.g. x: tail copy 3 WiseGenius 06:23@greggirwin x: tail copy 3 *should* fail. But it should fail because of tail, and not because of copy in the same way that x: tail 3 would fail. PeterWAWood 06:38@WiseGenius Thanks for that clarification WiseGenius 08:01@PeterWAWood [My latest comment](https://github.com/red/red/issues/2167#issuecomment-239384787) clarifies things a lot better. PeterWAWood 08:55 09:04@WiseGenius Your wish is requesting a significant change in behaviour. I'm sure that much thought was given by Carl before deciding upon the behaviour of copy/deep and that Nenad has not just followed that design but has also given much thought to the matter. I am not saying that your proposal is without merit but that the arguments both for and against need to be fully considered. I feel that a [Red Enhancement Proposal](https://github.com/red/red/wiki/Red-Enhancement-Proposal-Process) would be more appropriate for your proposal in this case. pekr 09:55Not sure it is related (pressed for time here), but Carl devoted some 3 blog articles to that topic. Here's his "conclusion" one: http://www.rebol.net/r3blogs/0241.html PeterWAWood 11:35@pekr Thanks. You have a fantastic memory. pekr 11:52Well, I really don't know, why do I remember stuff I don't even properly undestand :-) JacobGood1 13:12@WiseGenius yea, I noticed that make copied other mutable structures but excluded objects. I would like to hear Doc's opinion on the matter. ifgem 16:26context: #2171. Don't know if it's ok. quote1 quote1 => quote1 quote1 (quote1) => missing an argument geekyi 16:31 red>> quote2: :quote1 == func ['val][val] red>> quote1 (quote2) *** Script Error: quote2 is missing its 'val argument *** Where: quote2 looks fine to me, unless that's not how it's supposed to work? ifgem 16:33I guess it's fine:). geekyi 16:33Oh, you are actually trying to quote () ? I think it's not possible meijeru 16:48Yes, quote () => () with type paren! 16:49 type? () => unset!> ifgem 16:50Didn't know about it:)). 16:51 Vexercizer 17:01Can someone explain the design rationale behind COLLECT as: COLLECT/into body collected? Other functions adhere to a consistent principle: WORD series value. Examples: write destination data, append series value, insert series value, alter series value, repend series value. The current design of COLLECT adds to the cognitive load of learning RED. Should not it be this: COLLECT/into collected body? Design consistency is elegant. COLLECT as it stands is inelegant. greggirwin 17:25Collect is like a map function, in that it returns a new series by default. Being able to collect into an existing series is an optimization. Since the target series is a parameter of the /into refinement, it can't come first. i.e., it's an optional argument. 17:29Nenad has thoughts on an HOF design model for Red, and there has been some discussion about that. e.g., should it use a standard accumulator model? It's really nice that people pay attention to these details and raise questions like this. Vexercizer 17:33 18:25@greggirwin All right. So one should see COLLECT/into as a MAP-EACH this but without the data and the body? MAP-EACH 'word data body /into output temp: copy [] map-each/into x [[1 2 3] [4 5 6] [7 8 9]] [apply :reduce maximum -of x] temp I see MAP-EACH as thus: for each thing of a things block, do an undeclared function, i.e., a block of code, to the thing. It seems powerful but I have yet to come across of a way to use it. What is the real advantage of using COLLECT? When I use COLLECT, in my mind, I must think "it is a reverse foreach where undeclared function goes first and a word goes after. Here are two snips of alternative versions of code that do the same thing for me. foreach [o1 o2] sub ;; omitted code ... temp: collect/into [ keep o1 keep either isnt? o2 none [ reduce [ round/to o2 / dval .0001 ] ][ 0 ] ] temp ;; omitted code ... ] ;;-foreach and forall b [ temp: copy [] ;; omitted code ... either isnt? temp/2 none [ dval: temp/2 / 100 append final round/to b/1/2 / dval .0001 ][ 0 ] ;;- either ;; omitted code ... ] ;;-forall I know that you wrote a COLLECT script and shared it to REBOL.org. I assume that is how it made its way into the REBOL exec. In your commentary you called this a dance: temp: copy [] foreach j block [append temp j] MAP-EACH seems to fit with the pattern of FOREACH and REMOVE-EACH: FOREACH word data body, REMOVE-EACH word data body In succession, it seems easy to recall these by groups: forever body until block forall word body forskip word skip-num body while cond-block body-block The odd one out for me, besides COLLECT/INTO is: for word start end bump body. Likely, that is why rarely, if ever I use it. COLLECT body does not seem like FOREVER body or UNTIL body. And COLLECT/INTO does not seem like MAP-EACH/into. 18:56 19:01@greggirwin To clarify the foregoing, I do not see COLLECT as a MAP-EACH at all. Is COLLECT mapping a function over a series? Is not COLLECT parsing a dialect as it traverses a series looking for a COLLECT dialect word KEEP and saving what follows? COLLECT seems that it should work like WRITE, INSERT, APPEND, REPEND, ALTER. If I have this: red>> a: [red green blue black] == [red green blue black] red>> collect [ keep first a] == [red] red>> collect/into [ keep first a] temp *** Script Error: temp has no value *** Where: collect I still seem forced to do this: red>> temp: copy [] == [] red>> collect/into [ keep first a] temp == [red] red>> temp == [red] or red>> temp: Copy [] == [] red>> collect/into [ keep first a keep third a] temp == [red blue] Maybe I do not get it at all. rgchris 19:03@Vexercizer Presumably collected would be a block you already have that might have other values from a previous collection or aggregation. Where it'd spare some repetition is here: collection: collect [foreach thing source1 [keep thing]] collect/into [foreach thing source2 [keep thing]] collection If you were to append collection collect [foreach thing source2 [keep thing]], you'd be creating a whole other block before doing your append. greggirwin 19:03> So one should see COLLECT/into as a MAP-EACH this but without the data and the body? No. collect is much more flexible in that you can call keep | keep/only anywhere in the body. Where map-each collects the result of the body block's evaluation. i.e., map-each is easily implemented with collect like this: map-each: function [ "Evaluates body for each value in a series, returning all results." 'word [word! block!] "Word, or words, to set on each iteration" data [series!] ; map! body [block!] ][ collect [foreach :word data [keep/only do body]] ] But you can do anything in your collect body, without any iteration at all. I think of collect as a way to gather things into a result without having to track the series I'm appending into. e.g., in your example code you have a final series you append into, but I don't see it defined. As you change code, it's easy to put things in the wrong place, or to have to repeat the series name in every append call. collect helps with that. I should add that I very rarely use /into, and my original design used a set-word! rather than the implicit keep function. I still have my old one, which I now call collect-each. 19:09So, yes, /into is simply an optimization, using a series you already have as an accumulator, to avoid allocating a new one. Vexercizer 19:09@rgchris Thanks. I would need to put real data in your example to see what is happening. greggirwin 19:10 data: [a b c] collect/into [keep 'x] data rgchris 19:12@Vexercizer source1: ["red" "green" "blue"] source2: ["yellow" "purple" "brown"] out: copy [] collect/into [foreach item source1 [if find item "r" [keep item]]] out collect/into [foreach item source2 [if find item "w" [keep item]]] out probe out Vexercizer 19:12@greggirwin Oh I see, so the example of COLLECT I found on stackoverflow is useless. The way to use COLLECT is to embed a conditional loop inside it, that is, to get the most from it? rgchris 19:15What is the example? greggirwin 19:18Same question as Chris. Vexercizer 19:21@rgchris http://stackoverflow.com/questions/21812601/rebol-collect-keep-the-order-of-the-source-data-in-a-loop Answer (3) beginning with : >All functions in Rebol which use the /into option use insert semantics. We added that option to allow incremental building without needing to make as many intermediate series, and to allow you to pick the type of target series, preallocate, and all sorts of other power user tricks. The /into option uses insert semantics because insert doesn't lose as much information as append. Running your foregoing example @rgchris, collect/into seems to append and not insert, If it were an insert as stated by Brian Hawley, then would not your example result in this: ["yellow" "brown" "red" "green"] rgchris 19:23**append** is kind of a shorthand for **insert tail** (although it's somewhat optimised these days). 19:25**collect** is a mezzanine though, so you can do **source collect** to see what's actually going on. Vexercizer 19:26@rgchris And that is the kind of cognitive overload I see to avoid. I do not think of weights as everything is an ounce and a pound is merely 16 ounces. I think of a pound as a pound. So, I think of append as add to the end. I think of insert as add to the front. rgchris 19:28Actually, the Rebol version does use **insert**, it's just that it sets the output block to the position after the insert for next round. Effectively an **append**. 19:29Except—unlike **append**, Rebol doesn't start at the tail. The new values are added at the beginning. Red uses **append** from the outset which is likely to offer fewer surprises. 19:32Sorry if that doesn't make sense, you can see the difference if you *compare* this in [Try Rebol](try.rebol.nl): out: copy [] collect/into [keep "one" keep "two"] out collect/into [keep "three"] out collect/into [keep "four" keep "five"] out probe out Vexercizer 19:37@greggirwin @rgchris Thanks much for your replies. I will play with COLLECT now in different ways than I had understood it. Maybe it is the word COLLECT that has thrown me off. From your fine explanations and examples I see it as this: Using the contents of an existing block, either conditionally enrich, compound, inject into it or into another block, or extract from it into another block. FILTER would have been a better word for me. In fact, likely I will alias it in my code to FILTER. Thanks. rgchris 19:39**Filter** may be appropriate if that's all you'd use it for (be a good synonym for **Remove-Each**). I use **Collect** in some cases to build a block of code to evaluate. do collect [keep 'print either now/time > 12:00 [keep "Good Afternoon"][keep "'Morning"]] (yeah, there's other ways to do that, but has more subtle applications). Vexercizer 19:55> I use **Collect** in some cases to build a block of code to evaluate. So really, COLLECT it is more like CATCH and THROW with the /into refinement identifying a new series. It is not really like MAP-EACH at all. HOARD, AMASS, GRAB would have been alternative words. red>> j: 55.55.55 == 55.55.55 red>> hoard/into [if not-equal? H/1 j [keep j]] h == [11.11.11 22.22.22 33.33.33 44.44.44 55.55.55] As an alternative, KEEP should have been the function name and GRAB or THIS should have been the word identifying what should be kept. rgchris 20:02I'd a similar pre-collect function called **gather**. Vexercizer 20:06@rgchris Nice. English of Old English is so much nicer than ugly Latinate English (e.g., gather (OE) vs collect (OF) by way of Latin). 20:10@greggirwin @rgchris All right, so ... red>> a == [red green blue black] red>> catch [if equal? A/1 'red [throw a/1]] == red and red>> collect [if equal? A/1 'red [keep a/1]] == [red] red>> So why COLLECT at all? Couldn't CATCH have gotten an /into refinement? rgchris 20:11Doesn't really work the same way: catch [foreach thing source [throw thing]] Vexercizer 20:13@rgchris Yes, I see, but why was not CATCH and THROW modified to do what COLLECT does rather than add COLLECT to the language? rgchris 20:13 lisp parse [blue] remove collect [ foreach colour [red green blue][ keep '| keep to lit-word! colour ] ] *(don't know how to currently do to lit-word! in Red, perhaps load join "'" colour)* 20:15@Vexercizer Ah, like **catch/all** : ) Maybe... Vexercizer 20:15@rgchris Yes! Gotta catch 'em all!™ greggirwin 20:47Collect/keep are fine words for this, IMO. Catch/throw have an entirely different purpose (non-local flow control). Filter has a specific meaning in functional circles, and I would avoid aliasing a well known func to it. I have various filter funcs, but all of them work on the same basic premise of iterating over a series and applying a predicate func to produce a filtered result. The doc string for collect states its behavior clearly. Vexercizer 21:13@greggirwin You believe those are fine words because you created it. Those are not fine words if those words fail to lead to intuitive understanding. And that is what happens exactly. There is nothing intuitive about COLLECT with KEEP As far as COLLECT goes from a user perspective, the function works exactly the same as CATCH and THROW, except it gathers results into a block. Sure, it lets one modify the acted upon block as well. However, it matters not what the internals are. REBOL failed because Carl pandered to computer science nerds instead of businessmen. LOTUS 1-2-3, Excel and dBASE II all succeeded because the makers devised these tools for commercial men and women. Had someone only said to me, "COLLECT and KEEP is merely CATCH and THROW that modifies the same block and that /into lets you write a new block," I would have gotten it instantly. Instead, a bunch of dummies all over the Internet who have tried to pass themselves off as erudite by spewing jargon needlessly have only revealed their own intellectual failings. It matters not if RED actually allocates a new C user-defined object and puts data into a slot to track things. I do not know REBOL/RED internals. I do not need to know how Carl and now Nenad have written the interpreter to use interpreter and the high-level language to make that interpreter work as a virtual computer layer over my actual computer. And so the problem that plagued REBOL people persists in RED people. The goal should be to develop and explain a language so those of modest, but usable intellects (IQ 115 to 120) can grasp the language and do real world business programming in days. Real word people do not speak words such as *iterating* or *predicate*. Few care about comp sci and philosophy department buzzwords. Most of us focus on results and not meaningless jargon nerd fests. @rgchris is right. An \all refinement added to catch would have been so much clearer providing such could have been done internally. Anyway, thanks for your help, Gregg. greggirwin 21:14Also @Vexercizer, I have a for REP out there, since you mentioned that earlier. pekr 21:19Lotus 1-2-3 and dBase II succeeded? Maybe you should add FoxPro or other successful technology to the equation. You attack Rebol/Red, its creators, yet you admit you don't understand its internals? :-) 21:22@Vexercizer - I tend to be a direct person, so - your remarks are plain arrogant, sorry. If you want to attack ppl here, please go elsewhere. SteeveGit 21:23@Vexercizer Hmmm... CATCH and THROW are already used for something else, standardized in many other languages besides Rebol. Also, Rebol didn't fail to **COLLECT** users because of its usage of weird names. First time I hear something so blatantly false. pekr 21:23I've probably never read such amount of disrespect in one longish post here ... greggirwin 21:24@Vexercizer, I'm sorry if I offended you. Right now, there is a lot of deeper technical discussion about Red, and we don't know what level anyone is at when we first meet. When I'm here, I'm in technical mode and try to use language that will help us discuss things efficiently and accurately. We're all about dialects. :^) If someone says they're new to programming, we try to point them to resources that will help. Am I biased about words I choose? You bet. So ignore my vote. Consider that collect passed muster, as a word for this behavior, and became part of Rebol. No small feat. We battle the merits of words more than any other language I know. You may note that my original *design* for collect did *not* make the grade. I think it was Gabriele Santilli who devised the keep approach, and it won. 21:26When you say that collect is the same as catch/throw, it's just not true. Their behavior and purpose are completely different. pekr 21:27I don't know what would I do, if Gregg was not here? The wise force :-) greggirwin 21:28I'm like the Incredible Hulk, from the old TV series here in the US, where he would say "Don't make me angry, you wouldn't like me when I'm angry." ;^) pekr 21:29:-) Vexercizer 21:30@greggirwin > Consider that collect passed muster, as a word for this behavior, and became part of Rebol. No small feat. REBOL 3 was horrible. Product couldn't be delivered. I can rely upon 2.7.8 > When you say that collect is the same as catch/throw, it's just not true. Their behavior and purpose are completely different. I did not say anything. I wrote something. Specifically, I wrote: *"COLLECT and KEEP is merely CATCH and THROW that modifies the same block and that /into lets you write a new block," I would have gotten it instantly.* And by those words, clearly, I meant *is merely like.* There is no better analogue to explain how COLLECT and KEEP works in RED/REBOl than CATCH and THROW. Clearly, each function has it is own underlying code. Conceptually, the functions are alike. greggirwin 21:30And I appreciate your directness Petr. I can waste a lot of words sometimes. 21:32@Vexercizer, to see if we can reach some agreement on this, do you understand the concept of non-local flow control? pekr 21:32My friend thought of a new movie with hell boy - you know he has a strong arm ... and who was the first one on the moon? The arm-strong ... it really all connects :-) Vexercizer 21:33@pekr > Lotus 1-2-3 and dBase II succeeded? Maybe you should add FoxPro or other successful technology to the equation. You attack Rebol/Red, its creators, yet you admit you don't understand its internals? :-) You are a dummy. You are a toady who is sucking up to the group by trying to attack an outsider. Mitch Kapor and George Tate became rich from those products. Their file layouts are still in use worldwide by millions of computer installations. I did not attack the creators of REBOL and RED, dummy. Good luck dummy. greggirwin 21:35Nevermind @Vexercizer. pekr 21:37You are talking to the guy, who used DB II in its early days, later on Clipper, Foxpro, CA-Visual objects, meet its creators, talked at devcons. If you call me a toady, it just shows how you really behave. What's wrong with you? There's a bunch of cool guys here (well, maybe except of me), so please - calm down ... Vexercizer 21:38@pekr > @Vexercizer - I tend to be a direct person, so - your remarks are plain arrogant, sorry. If you want to attack ppl here, please go elsewhere. You are the only dipshit who has attacked anyone. @greggirwin, @rgchris and I were having a discourse over a function in RED as graciously, they were trying their best to explain something to me. 21:39@pekr And the reason why you attacked me is a lame effort to gain status among the group. You must be the weakest one here among them. pekr 21:39>> parse "dipshit" ["dip" skip "hit"] == true 21:40Enjoy talking to guys here. We've got some Lispers and/or other lang ppl here, having various arguments, but I rarely remember any such remarks ... greggirwin 21:41Petr is cool. He has been around a long time and has nothing to prove. pekr 21:41I don't want to hurt Red here, so maybe guys can be of some help to you. Vexercizer 21:41@pekr You gives a flip what you remember? Seriously, why so narcissistic? SteeveGit 21:41Petr don't feed the Troll, I offer you a "demi" , sounds like a "dummy", but actually it's a half of beer in France. Serve yourself. pekr 21:42:-) Vexercizer 21:42@SteeveGit > Petr don't feed the Troll, I offer you a "demi" , sounds like a "dummy", but actually it's a half of beer. Serve yourself. There is no trolling here. You are another dummy. Thanks for revealing yourself. pekr 21:42:-) greggirwin 21:42:point_up: [August 12, 2016 3:13 PM](https://gitter.im/red/red?at=57ae3beeaee33d7241e903b2) contains some inflammatory language @Vexercizer. Petr sometimes intervenes when he feels my blood pressure rise from 6'000 miles away. :^) SteeveGit 21:43We are the ~~champion~~ dummy pekr 21:44@Vexercizer - I can take all the blame, really. I am a former Amiga Review columnist, know the history of Rebol, ppl related, but I have rather shallow internal lang knowledge. But - please, don't call Steeve a dummy. He might be a cool guru next to your doors :-) Vexercizer 21:44@greggirwin I do not need to backtrack. You know I started off by asking for the rationale of COLLECT and as you replied and @rgchris replied, I asked questions to gain understanding. It is that simple. Those other two dummies seem like a-holes with Asperger's. SteeveGit 21:45It's fun to read insults when it's not your first language. They have half their power ;-) pekr 21:47You started off by just asking? What about this? "Real word people do not speak words such as iterating or predicate. Few care about comp sci and philosophy department buzzwords. Most of us focus on results and not meaningless jargon nerd fests." ... next to mention of Carl and Nenad? Vexercizer 21:47@SteeveGit > It's fun to read insults when it's not your first language. They have half their power ;-) So you have taken to bragging? Let me know when you can speak French, German, Dutch and Spanish. Also, let me know if you ever scored with a woman. 21:48All of you seem to be off topic. Who is here to talk RED? pekr 21:48@Vexercizer I tend to inclide, that you are a real idiot 21:48What's that? Score to woman? 21:48Are you really the one to talk Red here? 21:49If so, please let's keep it to Red from now on SteeveGit 21:50I wait for tomorrow and the shit storm when Nenad will log in. ;-) pekr 21:50I think we will have to wait fot Nenad, to answer the collect/into 21:50Well, I don't. I am going to be exterminated :-) greggirwin 21:50Who has redact power on gitter? ;^) pekr 21:52I respect what Nenad says, even if I don't fear expressing my own pov. It was me who started to drag it into the personal level. But - I can't stand the personal attacks to the Red/Rebol authors or the members of the community, for no apparent reasons (to me) Vexercizer 21:53> @Vexercizer I tend to inclide, that you are a real idiot Someone here is an idiot, @pekr but that one is not me. 1. Inclide is not a word. 2. Could anyone be an artificial idiot? One can be an idiot or not. Clearly, you do not talk RED here. 21:56> You started off by just asking? What about this? "Real word people do not speak words such as iterating or predicate. Few care about comp sci and philosophy department buzzwords. Most of us focus on results and not meaningless jargon nerd fests." ... next to mention of Carl and Nenad? Do the names *Carl* or *Nenad* appear anywhere in that context, dummy? If anything, one with decent reading comprehension would have concluded that I took a shot at @greggirwin because he wrote those words. Damn, you are swift in a daft like way. Good luck! pekr 22:00Well, swift and damn - two words I had to look-up, as my lack of the english knowledge is simply working against me .... Vexercizer 22:00@SteeveGit > I wait for tomorrow and the shit storm when Nenad will log in. ;-) You seem like a coward who fears a group, its leader or leaders. No matter. Nenad will continue working for me for free. I will leverage his thousands upon thousands of hours to earn from his efforts without ever paying him. He is free to ban me or block me, but I will get all the answers I need from various sources should I need any. You and the rest of your dummies will continue with your circle jerk here. Better luck next time! pekr 22:00Why should Nenad or anyone block you? SteeveGit 22:02It may be a First though :-) rgchris 22:02Almost. Vexercizer 22:02@SteeveGit > Petr ... it's a half of beer in France. Serve yourself. French? That explains everything — argumentative, effeminate and always surrendering. 22:03@greggirwin > Also @Vexercizer, I have a for REP out there, since you mentioned that earlier. Would like to tell me about it and share the code since those dummies do not talk RED? SteeveGit 22:04Sure. I made my bet. Probable around 25 pekr 22:04@Vexercizer man, where are you from? What do you like? I am a heavy metal honcho, I like being around Amiga/Rebol/Red communities for 20 years. SteeveGit 22:04He's 25, at most. pekr 22:04I still can feel, that we can get along. I am just like you - I never give up :-) Vexercizer 22:04@petr > ... I am a heavy metal honcho... Most metal guys are males trying to project masculinity to hide their true effeminate selves. I'm more into Lefty Dizz, Pat Hare, Charley Booker, Frank Lee Sims, Goree Carter, Joe Hill Lewis, Bobo Jenkins, Jimmy Nolen. pekr 22:05Well, he had serious questions about collect/into ... I am not the one to answer those ... greggirwin 22:05@Vexercizer , my for REP is in the Red repo wiki. Vexercizer 22:08@greggirwin Thank you. Where is that? greggirwin 22:09https://github.com/red/red/wiki/REP-FOR-loop-function Vexercizer 22:15@greggirwin > :point_up: [August 12, 2016 3:13 PM](https://gitter.im/red/red?at=57ae3beeaee33d7241e903b2) contains some inflammatory language @Vexercizer. Petr sometimes intervenes when he feels my blood pressure rise from 6'000 miles away. :^) If you believe talking about others in the abstract and labeling them nerds is inflammatory, you are a special precious snowflake. Nerddom is a badge of honor in the 21st century for many. Good luck! Saturday 13th August, 2016 PeterWAWood 01:21I 02:13On behalf of the Red team, I am requesting that people show more restraint when posting in this and other Red Gitter rooms. There is no place for personal attacks, name calling and snide remarks here. Vexercizer 03:01 03:03 On behalf of the Red team, I am requesting that people show more restraint when posting in this and other Red Gitter rooms. There is no place for personal attacks, name calling and snide remarks here. @PeterWAWood Then why do not you set the example for others? Your comment seems to be little more ad hominem by innuendo. What are your credentials that you can prove to others that you know what is a snide remark or name calling for that matter? It's people like you who need to shut up in this world. Had you wrote nothing, you would have gotten no reply. Do you see how cause to effect works? Good luck. > greggirwin 05:09On the subject of information for those new to Red and Rebol, Chris Ross-Gill has some intro material at http://rebol.info/rebolsteps.html 05:12And since typesets came up in the chat about a clone func, here is a little mezz to help with creating them. Collect-values can be found in my gist of mezzanines if you want to use this. ; You can't append to a typeset! ; You can't make a typeset! *from* a typeset! ; You have to make them from datatypes, and union typesets together. typeset+: function [ "Returns a typeset that is the union of all datatype! and typeset! values in spec" spec [block!] ][ result: make typeset! collect-values spec datatype! foreach set! collect-values spec typeset! [result: union result set!] ] 05:13I don't have a better name for it, since it's just a working idea. I often give things intentionally questionable names when experimenting. dockimbel 08:26Interesting discussions happening here while I was travelling. :-) Our Red rooms are moderated, trolls and troublemakers have no place here, so @Vexercizer has been properly shown the exit door. About his collect question, the basic form is collect body which as no consistency issues whatsover. /into is a refinement for providing an optional aggregation series, instead of having a block created by collect, so the refinement's argument follows the mandatory ones, that is how it works for all functions in Rebol languages, so it's fully consistent. The examples he showed have no need for a /into refinement, the basic collect was enough. I think he was trying to understand collect by focusing on the meaning of the function and refinement names, rather than the semantics. SteeveGit 08:27"while I was travelling" - It's a coup. ifgem 10:10@pekr 20 years? Unbelievable:))). pekr 10:28Well, really scary. I do remember, when Carl left Viscorp (Amiga), did not accept Gateway's proposition to join their Amiga team and went for his own project - LAVA, soon renamed to REBOL. Back at those times we claimed - we are not like Perl etc., those languages are here for 20 years ... Unbelievable, that Rebol is that old now. Even Red gets into some 4-5 years territory (if we don't count its Rebol heritage) meijeru 15:01@Arie-vw In Red-by-example, in the explanation of the minus operator, you say The infix operator - where all other operators are introduced with The infix word ... . For consistency, they should all be word I think. geekyi 15:15@pekr I think it takes time for these things, for things to mature, for communities to build. At least 5+ years to even start gaining traction. Back then, the pace of change was faster I think, as communities were small and niche, adoption rate was high. Now, since computers (and even programming!) is so mainstream, there is a lot of overhead and bureaucracy 15:16All this is just observation, I'm not that experienced, and I don't know what will happen.. would things change in the next 20 years, or would machine learning take over? JacobGood1 16:13lol, reading all of that was funny greggirwin 16:48There are so many lanaguages out there now that I can't keep up. Chris Granger is doing interesting stuff with Eve. It's interesting, though I'm not trying to learn it right now, to see a language that is very different, not understanding it right away. When one of the team commented that you won't really need functions like you do in other languages, I have a hard time seeing it. And I need to remember that's how many people see Red when they find it. 16:51I only recently learned about Spry (http://sprylang.org/) and want to look into that more, since it lists Rebol as an influence. It's built in Nim (http://nim-lang.org/) which I found some time back. gour 16:53@gour was interested for Nim, but it seems that development slowed down a bit... greggirwin 16:54Language adoption is hard, and requires luck. JS is winning right now, while Rust seems to have faded from its peak, Go is still working hard to gain traction, and Swift is being pushed hard. If Mozilla, Google, and Apple can't make change happen quickly (or the many MS languages), we can't expect smaller efforts to "make it so" on demand. 16:56How *do* you do the little purple comments Gour? I can't find a "comment in the third person" button. ;^) gour 16:57Sure...but Red seems to be doing qutie well...as far as Spry, its designer/main-dev is former Smalltalker and he did inspired me to take look at Pharo after playing with Digitalk's Smalltalk looong ago...Pharo/Smalltalk is cool, but it looks it's still kind of slow, strange deploying/version-control, so I'm now looking at Red, although Smalltalk's language simplicity is cool... greggirwin 16:58+1. Shen is another one I became aware of recently. 17:00Many languages have great strength in one area, but are more difficult in others. I think there's room for all, if we can make them more like applications, specialized and easier to use. This is another area where I think Red will be helpful, because it's a language construction toolkit. gour 17:01I could tolerate some of Golang's gotchas, but it is, imho, not very suitable for desktop apps and I'm 'old-school' still want to avoid having everything running in browser :-( greggirwin 17:03Old school here too. Go hasn't grabbed me as being a leap forward in any way. 17:04I am, admittedly, biased. :^) gour 17:05Right. Go just brijngs some security and simplicity on top of regular C...not bad, but not enough as well greggirwin 17:11I do think Nenad has been wise to make R/S comfortable to those who know C. Very important in this bootstrap phase. I'm already anxious to see what R/S 2.0 looks like. I don't have any inside information, but I imagine it will be designed as a more modern systems level language. 17:12First we have to get to Red 1.0 though. I have my plate full of things to try and help with that. geekyi 17:17I also like Nim over Go and Swift. Rust.. feels like it's in a separate domain like C and R/S (embedded and systems programming, altho Nim comes close). Julia looks pretty interesting and popular these days, I wonder if it will get to the top 10 17:18I hope it does, the community feels very friendly and really open to new ideas 17:19I like communities which aren't afraid to try new things, and even change their ways of thinking fundamentally, which is part of the reason I'm attracted to Red 17:19Rethinking everything gour 17:31Red is one of the rare 'modern' languages, considering that desktop GUI is still viable platform Monday 15th August, 2016 ifgem 08:09#2173 action!, word with value as well. maximvl 08:27hey guys, what is this? https://github.com/red/red/issues/2174 PeterWAWood 08:34The issue was not genuine and included a number of insults. Issues cannot be deleted from Github so the text was removed and the issue was closed. maximvl 08:47@PeterWAWood however I agree with the original thing - why do we have / as integer division, instead of normal one? rebolek 08:48@maximvl it is not integer division: red>> 5.0 / 2.0 == 2.5 maximvl 09:01@rebolek I disagree: red>> 5 / 2 == 2 rebolek 09:01If both args are integer, then the result is integer also. red>> 5.0 / 2 == 2.5 red>> 5 / 2.0 == 2.5 maximvl 09:02@rebolek ye, this is the problem 09:03having x and y in your code, what will x / y do? 09:03just to remind you, this was a huge problem in Python2 and one of the first things to change in Python3 09:04if I want an integer result, I can trunk, floor, ceil or whatever I want with the result rebolek 09:05@maximvl so you prefer how Rebol does it? maximvl 09:05moreover, I'm sure that normal division used much more than the integer one 09:05>Returns the first value divided by the second. 09:05pretty much yeah 09:07@rebolek I, personally, would prefer the Common Lisp approach, where division creates a fraction if result is not integer 09:08so you have both, the integer part and the remainder, and you can make a float out of it if you want rebolek 09:09I see maximvl 09:10python3 has / for true division, // for integer division and % for remainder, which is also ok if there is no fraction type in the language ifgem 09:20@maximvl I like CL approach as well:)). maximvl 09:23@rebolek I wonder what are the reasons behind this decision ifgem 09:28@maximvl user-friendly? maximvl 09:32@ifgem how is x / float y more user friendly than x / y ? geekyi 10:24@maximvl is there a survey on the reasons for and against? I was expecting more and couldn't immediately find on search PeterWAWood 10:38 @maximvl It is intended that divide and / will return a float! value when the result of dividing one integer! by another is not integer!. I'm not sure when this will be implemented but I suspect that it will be after the to function has been fully implemented. 10:41It is quite possible that an integer division function will be added to Red though it is hard to find good names. @dockimbel isn't keen on using ÷ for an integer division as it is hard to find on some keyboards. Though I can manage :-) geekyi 10:47https://github.com/red/red/wiki/REP-XXXX---Add-mathematical-and-time-functions @maximvl 10:47@geekyI wonders how best to link to wiki content PeterWAWood 10:48 text [text](URL of Wiki page) geekyi 10:48From rust https://mail.mozilla.org/pipermail/rust-dev/2013-April/003738.html , advocates not using / at all for integers PeterWAWood 10:50Please not that the proposal to add mathematical and time functions has not been submitted, is not yet in the correct format to be submitted and does not yet contain the correct information to be submitted. geekyi 10:52From my cursory look at various langs I use, the approach almost universally used is to convert to floats (same as @maximvl ). Some 'more modern' ones use rationals by default instead maximvl 11:33yeah, I guess this is what you want in ~70% of cases, and in other 30% you can have a different op for a integer division dockimbel 14:23@maximvl The decision we took is to have / give the most accurate result while // would keep the same datatype. Keep in mind that not all design decisions have been made, and not all decisions have been implemented. We should log somewhere all that, though I'm not sure what would be the most practical form for us. maximvl 14:47@dockimbel no problem, I understand that things are not in their final form yet, just in the ticket the answer was like "It was decided to be so" without mentioning that this is subject to change pekr 17:35The discussion was hel here already, but my take is rather radical - 5 / 3 returning 1 is simply absolutly unacceptable to me, no matter what reasoning is given. 17:37We are talking higher level language here, not a computer nerds one. Noone should be pushed to know anything about types, to use Red effectively imo. I know, that we want Red to be used on the low level and I am the one who pushes for as much of Red 2 Red/System compatibility (e.g. print/prin), so it is tricky, but .... gour 18:05@pekr Pharo (Smalltalk) and Racket (iirc), give as result (5/3) ;) pekr 18:07Well, there seems to be no pattern there. Checked with some via the repl.it. Ruby, C#, JAVA return 1 as a result to 5 / 3. PHP. Python3, JS, Rebol .... and even LUA return 1.66666 18:12Forth's like Red, Scheme's like Rebol :-) 18:13So far, I don't buy advantages, over the inconsistency of results we can get, depending upon one of the type of the arguments .... 18:15It can get confusing pretty fast ...e .g. using a variables, which are result of other computations. You will have to convert all the time, to be sure. I would prefer difference via using different ops, instead of what we have now ... 18:15enough from me for now ;-) mikeparr 18:39Red has make-dir and also create-dir. Make has more capabilities. Is there a preferred usage for these words, or is create-dir redundant? meijeru 19:45Look at the sources: make-dir is a function (source available) and it calls create-dir which is a routine containing low-level (Red/System) code. Thus make-dir is the one to use, unless you know exactly what create-dirdoes. 19:46 geekyi 20:51@mikeparr to add to that: red>> type? :create-dir == routine! red>> type? :make-dir == function! red>> ? :create-dir routine [path [file!]][ simple-io/make-dir file/to-OS-path path ] is a routine red>> ? :make-dir func [ ... create-dir path ... 20:53? and source are one of the most useful functions in red. I don't even have to refer to anything else most of the time mikeparr 21:04@geekyI @meijeru - Thanks re make, create-dir Tuesday 16th August, 2016 rgchris 19:52Is this a bug in Red? Should it work at all? acc: take stuff: collect [keep :keep] acc 1 19:54The response I get is: *** Runtime Error 1: access violation *** at: B76CB036h (that \*\*\* AT line can vary) greggirwin 21:21Well, you're taking keep that is local to collect and calling it outside that context, where collected was created locally. I don't think it should work at all. xificurC 22:33@/all the emacs mode for red is as good as it will be for now (unless some PRs come in). @Skrylar did most of the work, I just added a few things I missed. Check it out [here](https://github.com/xificurC/red.el). You can e.g. M-x load-file the red.el file and open any .red file after that. As a test I tried opening @greggirwin 's gist with it and it seemed to color it just fine. Peek away Wednesday 17th August, 2016 ghost~5680c5f416b6c7089cc058a5 04:47@rgchris Please open a ticket. All __crashes__ are bugs whether the code should run or not (because the compiler/interpreter must not crash ever). greggirwin 04:56@nc-x, agreed. maximvl 08:53@xificurC nice! does it have repl in emacs? xificurC 09:19@maximvl no, it's basically just syntax highlighting, indentation 09:19getting the repl to work wouldn't be too much work I guess, but I've never done one and don't have the time or need to study the internals 09:22PR's welcome of course :) 09:29tgg Thursday 18th August, 2016 JacobGood1 02:53is there a word in parse that matches anything? parse [1] [anything] == true PeterWAWood 03:27 skip assuming that you want to advance the input. red>> parse "a" [skip] == true red>> parse [my-word] [skip] == true greggirwin 05:37For block parsing, you can also use any-type! ghost~5680c5f416b6c7089cc058a5 05:55I had some free time on hand today, so was planning to try to implement xxHash algorithm in R/S. There is no documentation on xxHash algorithm, only source code. I had a brief look at its source, and found that xxHash32 uses 32-bit unsigned integers and xxHash64 implementation requires 64-bit unsigned integers. R/S has neither 32-bit unsigned integers nor 64-bit signed/unsigned integers. I am new enough to programming so don't know any possible workarounds. Are there any workarounds? or Do we have to wait for R/S 2.0? 06:07or will they be implemented sometime soon? SteeveGit 06:13Except for some machine instructions and math operations, there is no physical difference between signed and unsigned integers (same footprint in memory). I don't see why you couln't port your algorithm. 06:17What I meant, is that you can adapt and algorithm based on unsigned integers to signed ones. 06:19The MAXINT (if used) constant wouldl need to be redefined as a (2 complement) negative value. What else... PeterWAWood 06:19Red/System treats int-ptr as unsigned 32-bit integer. Zamlox 07:13@nc-x values of unsigned int 32bit are between 0..4294967295. You can work with a smaller range of unsigned values: 0..2147483647 by setting to 0 the signed bit. One way to do it is making a bitwise 'and' with mask 2147483647. Create a function which takes as parameter an integer! and returns a smaller range unsigned value. Use that function where you need it. geekyi 07:49:point_up: [August 18, 2016 7:53 AM](https://gitter.im/red/red?at=57b523105a4ad61056847924) @JacobGood1 [wikibooks](https://en.wikibooks.org/wiki/REBOL_Programming/Language_Features/Parse/Parse_expressions) has the best documentation for parse that finally led me to actually understand it JacobGood1 12:13ty @greggirwin for the direct answer and @geekyI @PeterWAWood for ancillary answers meijeru 13:36The wikibooks reference is for R2/R3 -- would it be worthwhile/possible to adapt it for Red? 14:01 greggirwin 15:57There will be some differences. I've got a partial port of Doc's parse blog entry, to MD, done. The big issue is figuring out whether we want to go with MD for now, or wait and convert official docs to AsciiDoc, which we all need to ramp up on. xificurC 18:59@greggirwin org mode :) geekyi 19:26@xificurC what about it? You are suggesting we convert docs to that format? I didn't know people wrote docs in org mode.. 19:43@meijeru @greggirwin is there a lot of differences? From what I know, the feature additions in Red are: * parsing as datatypes * collect and keep greggirwin 19:52The old doc is a very useful starting point. Changes may be subtle, which requires care to ensure we don't lead people astray. into may have different behavior as well. geekyi 19:53I know I'm still new to the community, and learning about github and red. However, I don't feel there is that much of a difference between the different versions (R3 and Red is less documented, true). In the beginning, I shared the sentiment with most newcomers that I'd have to "unlearn" rebol2, but I now I feel as using rebol2 view is a worthwhile experience. I can better understand the rationale for some of the decisions in red (and perhaps r3?) Perhaps it is important for other newcomers to know this too? But, on the other hand, there is a *lot* of content (literature, code, libraries) for rebol2, and there is the tendency to get overwhelmed? Partly caused by the different approaches taken by different groups (this in particular caused by the flexibility offered by rebol and lack(?) of a central package management system) greggirwin 19:55The fundamentals are the same, which has huge value. No reason for people not to look at R2 for that. VID and View will be different enough that we should warn people from expecting compatibility there, except for *very* simple cases. geekyi 19:56Just some of my (raw) thoughts, sorry for the noise.. these, along with a way for programming in the large (package sharing, collaboration) are my biggest concerns 19:58@greggirwin thank you for the confirmation, yes it's really great there is not much difference, thanks to rebol2, I was able to quickly get to production er.. testing level code from scratch within a month Friday 19th August, 2016 maximvl 08:31@greggirwin >or wait and convert official docs to AsciiDoc 08:31does it mean there are official docs already? PeterWAWood 08:40@maximvl The [official docs](http://www.red-lang.org/p/documentation.html) as they stand. meijeru 08:43 Please note that my Red/System grammar is out of date, badly in need of an update. xificurC 14:03@geekyI of course, org-mode is very full featured (probably overfeatured), compared to asciidoc or markdown it's *huge*. I love it for documenting. Arie-vw 14:28@meijeru Sorry for late reply. Agreed! 14:29Fixed in next update. JacobGood1 22:19@dockimbel here is a recent talk on asm.js https://www.infoq.com/presentations/webassembly?utm_source=infoq&utm_medium=videos_homepage&utm_campaign=videos_row1 I know you are probably too busy to think about asm.js but I know that you mentioned it as a potential target. Saturday 20th August, 2016 Arie-vw 10:24@dockimbel Do you use Prism for syntax highlighting in Gitter? If so, could you point me to the Red syntax highlighter definition? Sunday 21st August, 2016 Dobeash 01:11An interesting option for MD is something like http://strapdownjs.com which lets you embed MD directly into an HTML page. It's quite nice to be able to go "view source" in the browser and actually see a human readable MD document! :) greggirwin 05:17Interesting Ashley. Also interesting that xmp still works in modern browsers. Old tricks die hard. geekyi 08:22[HTML Example Element (<xmp>)](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/xmp) greggirwin 18:34@SteeveGit, thinking about clone, I hadn't considered blocks of sub-objects. The /types option is nice, for more control, but we probably need to look at how to provide control while also making it easy for the common case. For example, maybe a dialect is the way to go, so you can specify words or types to clone or ignore, whether to deep clone them, etc. Nenad may have thoughts, and @moliad may as well. I know he's pushed objects hard under R2. Monday 22nd August, 2016 mikeparr 07:06Usage of cause-error or make error! - is there a preference? I'm guessing that make is the modern way. PeterWAWood 08:14 cause-error calls make error!. (Try source call-error in a Red console.) I'm not certain whether cause-error will be visible in the global context once modules are introduced. meijeru 14:23@dockimbel This ^ gave me a reason to look at cause-error. I think it does not need the locals that it has... maximvl 16:06@dockimbel you may have heard about pony language 16:06fyi: https://www.linkedin.com/pulse/end-causality-constantine-goulimis?trk=hp-feed-article-title-publish greggirwin 16:20Thanks for posting that Maxim. I hadn't heard of Pony. Plenty of reading to do there. maximvl 16:48@greggirwin they claim to have superior implementation of actors compared to Erlang and Akka, which is very interesting x8x 17:46Is MIPS support planned? Would that be a big task? greggirwin 20:10MIPS is probably a big task. Remember, Red has a custom code generator for every platform/architecture. 20:14Skimming Pony info, it has some things in common with other modern langs, and are common with Rebol even if not directly taken from it. But because it's super strict (no loadable code), it's quite different as well. Everything is async, so doing anything sync is a bit of work. The idea of a cooperative scheduler, using one thread per CPU core, is kind of a standard model now. Nice that actors only have a 256 byte overhead, so are very lightweight. Of course, the more you can lock things down, the more the compiler can optimize. Tuesday 23th August, 2016 Zamlox 07:54math operations with percentage! are not commutative: red>> 10 + 3% == 10.03 red>> 3% + 10 == 1003% red>> 3% * 50 == 150% red>> 50 * 3% == 1.5 Is this intended ? maximvl 08:03 red>> 3% * 1 == 3% red>> 1 * 3% == 0.03 08:04I guess so 08:05though 3% * 50 == 150% makes sense, 3% + 10 i would expect to be 13%, not 1003% DideC 08:063% = 0.03 maximvl 08:06@DideC when the percent is on the right side ) DideC 08:07Sorry, I mean that % sign is just use to represent fraction of 100. 08:073% = 3 / 100 = 0.03 (no Red code here, just math) maximvl 08:08@DideC then why keep percent type if the percent is on the left? 08:083% + 10 should be 10.03 then Zamlox 08:08I would expect to be commutative regardless of operands type. What would be the rationale of not being commutative ? maximvl 08:09well, this is something people from Red team can answer :) DideC 08:10no, because 3% + 10 means 3 / 100 + 10 = 10.03 or 1003 / 100 or 1003% 08:10Red just cast to the first operand type when it stay logical. Zamlox 08:12that explains the behavior, but it's not correct. DideC 08:13why? Zamlox 08:13well, math operations are usually commutative. DideC 08:14mathematically it is, isn't it? Zamlox 08:151 + 3 = 3 + 1 but 3% + 10 <> 10 + 3% DideC 08:15not what red says: `red>> (3% + 10) <> (10 + 3%) == false Zamlox 08:17so, 10.03 == 1003% ? DideC 08:19what does Excel think of that ;-) 08:23If you use a calculator to compute VAT, you type: amount * rate / 100 but when you speak, you say rate% and if you write in a sentence what the rate is, you write rate%. It is in Red what it is in general : just a visual representation of rate / 100 ! Zamlox 08:26all right, I see what you mean. I was actually expecting to have same result type (either float! or percentage!). It's a bit confusing to have two different types as result. DideC 08:29I understand your expectation. Maybe it could be changed (@dockimbel ?) but I'm not sure we can have a concensus on the correct behaviour. mikeparr 08:38Q about make error! with an error argument. For example, the script no-value error has 1 argument. I have: make error! [script no-value ['some-name]] and I get: *** Script Error: none has no value Any suggestions please? geekyi 08:59My personal opinion is % in the meaning of e.g. 10% = 0.01 is not so useful (can simply write 0.01, takes just 1 character more). I believe it should be eliminated maximvl 09:04> no, because 3% + 10 means 3 / 100 + 10 = 10.03 or 1003 / 100 or 1003% 09:04I didn't get it 09:04how did you get 1003 / 100 from 3 / 100 + 10 ? 09:04@DideC ^? geekyi 09:08 09:10 red>> 3 / 100.0 + 10 == 10.03 red>> 1003 / 100.0 == 10.03 red>> 1003% = 10.03 == true 09:10@maximvl are you familiar with the precedence rules (or lack thereof) in Red? Zamlox 09:20I haven't found a function to convert from percentage! to float!. But I created one based on operands positions: percent-to-float: func [value [percent!]][0 + value] maximvl 09:32@geekyI yep DideC 10:39@maximvl That was not meant to be read as Red code, but mathematical expression. [Percent is just n / 100](https://en.wikipedia.org/wiki/Percentage) cybermav_twitter 12:14How to implement encrypt and decrypt routine in red? SteeveGit 13:06**Trying to use parse/trace with a custom callback function.** parse-trace is Ok, wich is a compiled version of parse/trace serie rule :on-parse-event. But trying to mimic parse-trace in interpreted mode will emit a strange Error. *** Script Error: invalid type specifier: [event [word!] match? [logic!] rule [block!] input [series!] stack [block!] return: [logic!]] *** Where: parse Then, looking at the definition of the routine **parse**, I got: parse: make native! [[ input [series!] rules [block!] /case ;/strict /part length [number! series!] /trace callback [function! [ event [word!] match? [logic!] rule [block!] input [series!] stack [block!] return: [logic!] ]] return: [logic! block!] ] #get-definition NAT_PARSE ] See? The callback definition? Rather strange right? Never saw sub specs definition inside specs before that. 13:08Seems the interpreter does not like it. greggirwin 17:40On percent! behavior: https://github.com/red/red/issues/2164 17:57:point_up: [August 23, 2016 2:38 AM](https://gitter.im/red/red?at=57bc0b8c6981f5f2690e8c30) @mikeparr red>> make error! [type: 'script id: 'no-value arg1: 'x] *** Script Error: x has no value *** Where: ??? 17:58I just looked at what cause-error does. 18:00:point_up: [August 23, 2016 6:14 AM](https://gitter.im/red/red?at=57bc3e176981f5f2690f5f86) @cybermav_twitter, could you be more specific? Red doesn't have a crypt port, yet, like Rebol, but you can write whatever funcs you want. 18:03@SteeveGit, interesting. Something must have changed because that used to work AFAIK. I don't remember seeing the spec inline either though. mikeparr 18:23@greggirwin - thanks re make error! Wednesday 24th August, 2016 ifgem 16:02This is the first time I tried heavy magic in Red. Don't know why fn becomes paren!. when: func [e] [compose [_p: (e) :_p]] expr: [fun | skip] take-move: func [pattern /local result] [ result: copy [] parse end [set result pattern end:] return result ] fun: [ begin: set fn word! end: ( fn: get in system/words :fn if function? :fn [ probe :fn ; => func [e][compose [_p: (e) :_p]] args: copy [] parse spec-of :fn [ word! (append args take-move expr) ] probe args ;=> [paren!] probe :fn ;=> paren! change/part begin (fn args) next end ] ) :end ] test: [parse [when paren!] expr] 16:04I got it:))))) paren! is a word so... 16:04Thank you, guys :) greggirwin 16:51Happy to help. ;^) Sometimes you just have to tell someone. jeffmaner 18:00I think this relates to red/red#2009. red>> 3797883801856 * 9 * 13 * 10000 *** Syntax Error: invalid value at "3797883801" *** Where: do 18:03I tried truncating back to 3797883801 and casting to float!: red>> (to float! 3797883801) * 9 * 13 * 10000 *** Syntax Error: missing #")" at "to float!" *** Where: do greggirwin 21:55My build from the latest source works with that. red>> (to float! 3797883801) * 9 * 13 * 10000 == 4443524047170000.0 Thursday 25th August, 2016 jeffmaner 00:15@greggirwin Thanks. That's good to know. I'll pursue that. rgchris 15:02Is it intentional that the WORD argument of FOREACH is set outwith the loop? red>> foreach value [foo bar][] red>> value == bar rebolek 15:04yes, that’s intentional currently 15:05Doc said that keeping it local would slow down Red considerably rgchris 15:06So currently and indefinitely? rebolek 15:07Not sure if indefinitely, there may be some way to have the word local and not slown down Red. rgchris 15:07Cool, good to know. 15:11Should perhaps mention the loops by name on [this page](https://github.com/red/red/wiki/Differences-between-Red-and-Rebol) so that they're searchable. rebolek 15:14true SteeveGit 15:18I use the syntax foreach [var:] [...] to have var automaticly set as local inside a functiondefinition. rgchris 15:27Chokes in Rebol 2. 15:29Updated [SimpleDiff](http://reb4.me/r/simplediff) to work in Red (works also in Rebol 2 and 3). It needs a custom ASSERT function, and the dates in the header prevent it being DOne directly, but otherwise works. 15:32 lisp assert: func [cond /local res][either res: do cond [res][make error! "Make Error! won't get this far yet"]] (should be enough to get it working) 15:49Or use [this tweaked version](http://reb4.me/x/simplediff.r). greggirwin 16:33If you use function rather than func, Red should capture the foreach word in funcs, even without Steeve's trick. SteeveGit 16:34NO, only set-words are "captured" greggirwin 16:36It won't leak from the func, but it will leak from the loop. red>> fn: function [] [foreach val [1 2 3][] val] == func [/local val][foreach val [1 2 3] [] val] red>> fn == 3 red>> val *** Script Error: val has no value *** Where: catch 16:37I think this is a more recent change, and maybe not doc'd anywhere yet. 16:39I'll have to check that out @rgchris. I did an LCS/diff func many years ago. One of the few things that wasn't fast enough in Rebol for me. SteeveGit 16:39My!, another miss from my part. Thanks Gregg Friday 26th August, 2016 greggirwin 16:53A number of languages have take-while/drop-while functions. It surprised me how prevalent they are, since I've only ever needed that functionality a small number of times. Not even enough to write mezzanines for it. But I'm a single case, not a clinical study. Needing a short break, I decided to build them in Red. 16:53Naming: take-while is fine, but we don't have drop, so I call that remove-while. 16:54My first approach was to count items, then call take/remove on the series, with /part and the count. Imperative, easy, and struck me that it really should be a more functional approach. Functional (non-recursive) versions ended up with bodies like this: remove-each while [all [not empty? series test pick series 1]][remove series] take-each collect [ while [all [not empty? series test pick series 1]][keep take series] ] 16:56While I rail against premature optimization, I didn't like that we were dealing with one item at a time in the modifiers when that was so easy to avoid. So I went back to the imperative approach, but realized the bodies matched, except for the final call (take or remove), so I broke that out into find-while, which could be used in many ways, because of how series indexing works. 16:58Here are the current versions. find-while: function [ "Find leading items that match test; return last found index; zero if no matches." series [series!] "(modified)" test [any-function!] "Test (predicate) to perform on each value; must take one arg" ][ n: 0 repeat i length? series [ either test pick series i [n: n + 1][break] ] n ] remove-while: function [ "Removes items from series head that match test, until one fails; returns series" series [series!] "(modified)" test [any-function!] "Test (predicate) to perform on each value; must take one arg" ][ remove/part series find-while series :test ] take-while: function [ "Takes and returns items from series head that match test, until one fails" series [series!] "(modified)" test [any-function!] "Test (predicate) to perform on each value; must take one arg" ][ take/part series find-while series :test ] e.g. [ b: [1 2 3 4 5 6] find-while b func [v][v <= 3] ?? b b: [1 2 3 4 5 6] remove-while b func [v][v <= 3] ?? b b: [1 2 3 4 5 6] take-while b func [v][v <= 3] ?? b ] 16:59There are other ways this could be done, and we could even make a generalized wrapper for other funcs that can use /part effectively. The ultimate question isn't how concise we can make them, but how useful we can make them in clearly expressing intent, and also what patterns we find to help keep Red consistent. 17:00I also run the risk of going too far at times. When I see multiple functions that are almost identical, including interfaces, but have different doc strings and bodies, I think about turning to function generators (with some pending examples on that as well). 17:01Using Red as a language construction kit is great fun, and extends all the way down to tiny dialects and special cases in Red itself. Saturday 27th August, 2016 pekr 10:10Looking into Trello (and Github), it seems OS-X backend is making some nice progress. It almost seems, that it will come before Android and maybe even Libred release? ifgem 11:26Incorrect Red header:). https://github.com/red/red/blob/master/tests/source/units/parse-test.red 11:28Want to write some tests for Parse:)). geekyi 11:29fRed :laughing: 11:29Is that on purpose? ifgem 11:30Dunno:) geekyi 11:31On commit red/red@657f571110268068c70680b713bca3a1afe46898, @dockimbel might have made a mistake ifgem 15:44Not a bug, but a little difference between Red and Rebol2,3 that should be mentioned. ^: 10 works fine in Rebol, but doesn't work in Red. greggirwin 17:32We probably don't want that to work. With some current chat on security, the escape char is something that needs clear docs, and care, so it can't be exploited. ifgem 17:37@greggirwin started writing an app in Red - found 4 bugs:))). greggirwin 17:38You have the magic touch. Keep reporting them, :^) 17:42Being new to a lang helps with that, because you try things old-timers won't. For example, I've never used a paren+lit-word in path access that I recall. 17:46And each one of these cases needs to make it into the test suite. ifgem 17:53@greggirwin about your last comment: it's odd:)) 17:57@greggirwin so after writing issue I should write something like this? --test-- "blk-ext55" --assert parse ["hello"] ["hello" set test opt "world"] --assert test = none --test-- "blk-ext56" --assert parse ["hello"] ["hello" set test any "world"] --assert test = none greggirwin 17:57I think so. If we find a bug, and write a test for it, that catches regressions. ifgem 17:59Should I mention issue in test name? greggirwin 18:00https://github.com/red/red/issues/2182 might be good in leading to other possible bugs. With a lit-word! arg, the standard type checking isn't enough. That sees the word is an arg, which is it, but doesn't check that is safely casts to a series. 18:00It couldn't hurt to mention the issue in the test case. ifgem 18:02Thank you for answers, I'll write test for all open issues that I've written before:)) tomorrow greggirwin 18:03At a glance, it looks like forall is a special case. All other natives use a lit-word as a word to set (e.g. repeat). ifgem 18:06@greggirwin should test for #2173 look like this?: --test-- "#2173" --assert not parse [] [return] --assert not parse [] ["test"] --assert not parse [] [red] --assert not parse [] [append] --assert not parse [] [help] --assert not parse [] ['symbol] --assert not parse [] [10.0] --assert not parse [] [10%] --assert not parse [] [h:] greggirwin 18:12Sure. Nenad may have suggestions as well. He wants to keep tests as lean as possible right now, but these are all separate type/crashing cases. endo64 21:37@greggirwin About your *-while functions, wouldn't be better name *-all? find-all, remove-all, take-all? They are short for take-all-that-satify-the-condition. geekyi 21:39@endo64 It's the way written in functional languages like haskell 21:42But that's not a good excuse. Consider, remove-while vs remove-all, can they be so easily swapped? greggirwin 21:42@endo, as geekyl points out, they don't take all, only until a value fails the test. 21:44We have remove-each, and take-each would be easy. I have a number of HOFs, with various ideas and approaches. Still waiting for Nenad to post his thoughts on how he wants to do them in Red. endo64 21:44Ah, I see. greggirwin 21:45It's interesting to me how many languages have them, so these are more of a "how to" for people, rather than a REP. ifgem 21:46I hate current version of replace: it's not beautiful and useful at all. I'd like to have something like Ruby's gsub! (especially it's elegant work with block). 21:46What do you think? geekyi 21:46@greggirwin I like those snippets of HOFS, any suggestions of how you organize your code and work with them? greggirwin 21:47I'll have to look at gsub. I do have an old R2 func that's like succ which I like a lot. geekyi 21:47It doesn't really mind me the core language doesn't have those right now, when I now see how easy it is to add them 21:48I thought you couldn't do functional tricks at first when I saw rebol greggirwin 21:51For general mezzanines, I have them grouped by category, for lack of a better term: general, math, series, HOF, funcs, control, etc. And am just building my big gist of them for playing right now. Have to see how modules will work in Red. In past R2 projects I tend to build up a company specific mezz file (very general), then system specific mezz files which lots of things in the system can use. 21:52Redbol has a more approachable spin on them. e.g., remove-each, collect. You don't have to be hard-core functional. But I agree that they should be there. And there are a lot of ways we could do it, which will make it tough. 21:55I imagine Nenad has plans for a better replace, since he renamed the param to pattern. Replace is easy if you think about replacing values, rather than patterns. 21:55What don't you like about it? geekyi 21:57A lot of things are different than I'm used to.. I need to try out collectand keep. Might find them more useful when I'm more familiar ifgem 22:01@greggirwin because I can't replace more than one value at once(pattern?) special: charset "abc" ;I'd like to replace "abcabc" special ["\" special] => "\a\b\c\a\b\c" replace "street 10" number [++ to integer! number] => "street 11" greggirwin 22:03And use the matched pattern in the replacement. Got it. ifgem 22:06What do you think? May be there's a better way to archive it? greggirwin 22:07Things to consider: - Compatibility with Rebol. Replace is used a lot. - How to say a pattern isn't a value to match - Dealing with string and block series types 22:10It's a great thing to mock up. A refinement might allow it to be added to replace, or a new func could be added. ifgem 22:14sub is a good name, I guess:)) geekyi 22:15@ifgem substitute ? greggirwin 22:16Except that "sub" could also mean *subtract* 22:16Substitute seems like a good starting name. ifgem 22:51@greggirwin substitute "10+20 30*40" [set first number "+" set second number] [inc first inc second] ;=> "11+21 30*20" substitute "password=wow password=man" ["password=" set p word] [p: "[***]"] => "password=[***] password=[***]" geekyi 23:09:point_up: [August 28, 2016 2:51 AM](https://gitter.im/red/red?at=57c20b47e353af447b36266b) let me know when you have the gist. It's a bit hard to search for Red related code right now (Or I'm ignorant about the ways) 23:10@greggirwin https://gist.github.com/greggirwin/53ce7d1228422076e142fa5a061e7649 I was just about to write my own arity-of! 23:12Sorry for the spam, better move this to red/code ? Sunday 28th August, 2016 greggirwin 01:31My mezz dumping ground is https://gist.github.com/greggirwin/d0412f0c3d8e1ce4dfe26afc643742f1 ifgem 06:52 sub "102030" "20" "!!" => "102030" sub "102030" "20" ["$" _1] => "10$2030" sub "abcabc" charset "abc" ["\" _1] => "\a\b\c\a\b\c" ; rule ; 1: ability to set type in rule. sub "1{1}3" ["{" copy i integer! "}"] [(here i is word that value is integer so) i: i + 1] => "123" ; /part: change only set words sub/part "1{1}3" ["{" copy i integer! "}"] [i: i + 1] => "1{2}3" sub/part ... dockimbel 09:08@ifgem Thanks for the bug reports, I'm looking into them. ifgem 09:19@dockimbel https://github.com/red/red/blob/master/environment/console/gui-console.red wrong Version in header. dockimbel 09:21@ifgem You can submit pull requests to fix simple typos or bugs like that, I'll be happy to accept them. ifgem 09:22I'll be happy to help you as much as I can:) 09:35By the way, do we have the guide that can tell me how to format parse rule properly? dockimbel 09:37@ifgem What do you mean by "properly"? Red/Rebol, are free-form (because they are data format), you can format Red sources as you wish. Some guiding rules for a common ground are provided [there](http://doc.red-lang.org/style-guide.html). For dialects, you can apply the same rules, though, they shouldn't be taken too strictly. ifgem 09:39common, readable 09:41f.e parse example [ "hello" | "100" | "200" | "300" ] ; or parse example [ "hello" | "100" | "300" ] dockimbel 09:43As you prefer. I tend to put the | in front, so it's easier to see where alternative rules begin. ifgem 09:45I think we should write something like gofmt because there're a lot of places in Red source where code's formatted ugly(?). 09:48By the way, I wrote simple tool for my purpose, that checks if header is correct or not(formatted, includes only set-word! value pairs). dockimbel 09:50@ifgem Red and Rebol are data formats (unlike Go and most other languages), you cannot statically decide what is code and what is data, so you cannot write a tool like gofmt that will work reliably. Being free-form is an important feature of the language, because of dialects and instrinsic meta-programming abilities. We can define common coding style rules, though, we cannot enforce them. 09:53@ifgem Can you show me an example of what you consider "ugly" in the Red source code. I know a few places where the formatting could be improved, though I'm curious if that matches your findings. ;-) ifgem 09:54@dockimbel not everything but some parts of codebase can be formatted nicely(for example tests, some function definitions) by gofmt like tools. 09:55https://github.com/red/red/blob/master/tests/source/runtime/unicode-test.red not ugly but uncommon:) 10:02 str [series!] cp [integer!] unit [integer!] p [byte-ptr!] tail [byte-ptr!] cur [byte-ptr!] s0 [byte-ptr!] 10:04It's not beautiful at all and it can be easily improved, I think. dockimbel 10:07[![blob](https://files.gitter.im/red/red/4uzU/thumb/blob.png)](https://files.gitter.im/red/red/4uzU/blob) 10:07@ifgem It's formatted properly here 10:08Red sources are using TABs of size 4, as indicated in the header. If your code editor is not properly set for Red, you'll get unaligned code. ifgem 10:10Yes it's my fault:)) but https://github.com/red/red/blob/master/tests/source/runtime/unicode-test.red. Lines: 16-58. 60, 128, 150, 125. dockimbel 10:21@ifgem Yes, minor formatting issues, extra blank lines and missing indentations. ifgem 10:29@dockimbel extra blank lines aren't correct? dockimbel 10:50@ifgem Before ===end-group===, it is not required, as there's an indentation gap already, providing a visual separation. ifgem 11:05what do you think about adding 'number' to VID style ball: base 30x30 transparent draw [fill-pen blue circle 15x15 14] ball ball ball ball ball ball ball ball ball ball ball ball ball ball ball ball return ball ball ball ball ball ball ball ball ball ball ball ball ball ball ball ball return can be rewritten: 2x16 ball ; or 16 ball return 16 ball return dockimbel 11:12That could be possible, but the use-case for that seems pretty rare, no? In that above demo, I wanted a pure VID version (for the sake of the demo), otherwise I would have populated it using an external loop. greggirwin 14:05:point_up: [August 28, 2016 12:52 AM](https://gitter.im/red/red?at=57c28a375b11de77215a17da) @ifgem, nice to you experimenting with examples. Is your { } notation to demarcate targets in strings, since parse doesn't support lexing by type there? If so, that won't work unless you can always control your input. ifgem 14:14@greggirwin the idea: monkey: matcher ["monkey"] [make object! [hp: 100 name: "John"]] sub "I want to eat monkey" [set obj monkey] [either hp > 100 [obj/name " but it's impossible"] [obj/name " and I will"]] 14:19integer, email... matchers are builtin:). greggirwin 14:26Hmmm, Rebol's parse did that in a limited way, but I didn't think Red was going to. Or are you saying you built them in to your subfunc? ifgem 14:28Yes it's pretty useful. 14:29At least I don't have to repeat myself over and over again greggirwin 14:30:^) Dialect design is hard. Good to experiment. I have some format/printf stuff in the works (for a long time) but haven't come up with a combination of elements I'm happy with yet. ifgem 15:12My first contribution to Red:)). geekyi 23:01@geekyI notes there is no Rosetta code page for Red Monday 29th August, 2016 michaelkruska 02:28"'' dockimbel 03:35Yes, we need contributors to add Red scripts to Rosetta, that would be helpful both for learning and spreading Red. ifgem 08:23I think we need something like RubyQuiz either. 08:24I love RubyQuiz mikeparr 14:29 14:31Trailing space is binary literals. Note different response. I guess that the first response is correct, because I need 4 base-64 digits to get 24 (3 x 8) bits. red>> 64#{aaa} *** Syntax Error: invalid binary! at "64#{aaa}" *** Where: do red>> 64#{aaa } ;space == #{} greggirwin 15:37Except space in base-64 should be ignored. It's correct that it's malformed in the first case, but I would say the second case is also malformed, just not caught by the lexer. 15:55Am I missing something terribly obvious? red>> input: [a b c a b c a b c] == [a b c a b c a b c] red>> value: 'a == a red>> parse input [any [thru value] to end] *** Script Error: PARSE - invalid rule or usage of rule: a *** Where: parse red>> parse input [any [thru 'a] to end] == true With parse-trace I can see it getting a not-match after it gets a match on the first 'a in input. Using the literal 'a that doesn't happen. The word value isn't special either. Happens with any word. Works in R2 as well. ifgem 16:00@greggirwin value: 'a I guess we can't do it in Red parse. 16:02@greggirwin am I missing something terribly obvious?:)))))))) why can't I write: switch (type? 10) [integer! [print "!!!"]] greggirwin 16:04You can. type? returns a datatype. Switch doesn't reduce the block of cases, so the first value in it is a word. red>> switch (type?/word 10) [integer! [print "!!!"]] !!! 16:04You could also reduce/compose things in your cases block. ifgem 16:05@greggirwin thank you:). geekyi 17:15@ifgem RubyQuiz looks interesting! I think it could work as a simple series of blogposts? There are lots of resources lying around. But I think the community is too small/busy now..? Either way, I can help find questions ifgem 22:36@greggirwin what do you think about #2185? 22:44By the way, how to get current string! match in parse/trace callback? For block! it's first input because Input's series at next position to match. geekyi 23:43@ifgem have you got a gist of your sub implementation? Tuesday 30th August, 2016 geekyi 00:00:point_up: [August 29, 2016 8:55 PM](https://gitter.im/red/red?at=57c45aecee799d3329ef0a0b) @greggirwin looks like it (errorneously?) tries to parse value as a (sub) parse rule when thru value fails to match? greggirwin 00:26:point_up: [August 29, 2016 4:36 PM](https://gitter.im/red/red?at=57c4b8e889fabaea6bd43080) Commented. 00:27@geekyl, worth a ticket? I just wonder if there's something deeper I'm missing, why it shouldn't work, assuming it was a design choice. geekyi 00:37collect is interesting.. is there some documentation on it? greggirwin 00:38On parse/trace Steeve reported an error, which I get here (Invalid type specifier), which I don't know the status of. The default on-parse-event func just uses the input marker in 'fetch. 00:39@geekyI , collect the func, or the parse keyword? They're roughly similar. geekyi 00:39@greggirwin I think so, without understanding the source of parse, it's hard to say what's wrong greggirwin 00:39Basically, they bind keep as a special collector func in their body, so where you call keep that value is added to the result of collect. 00:42http://www.red-lang.org/2013/11/041-introducing-parse.html mentions collect in that context. geekyi 00:44@greggirwin yeah I read it, but it only mentions briefly there..so collect is 2 different things with the same idea. I feel like I am following a pattern parse "text" [collect ... keep something ... ] , either I'm thinking too narrowly or /collect can be a simple refinement to parse? 00:45the pattern being collect always at the beginning 00:48>(*) If collect keyword is used in any rule in its simplest form, a block will be returned by parse no matter if the root rule succeeded or not. this is another reason for why I think it would be better as a refinement greggirwin 01:04Collect doesn't always have to be at the beginning. And if you make it a refinement, then you need to decide if it should always take an into target, which is optional today. 01:11I haven't use collect in parse much yet. Have to play more, as all is not clear to me either. geekyi 01:23@greggirwin collect sort of reminds me of [Fried quotations](http://docs.factorcode.org/content/article-fry.examples.html) in factor, a functional forth with HOFs greggirwin 01:27Collect, the function, is really simple, and the basic use of collect in parse is as well (e.g. using it at the beginning of your main rule). Fried quotations, seeing them for the first time, look...complex. geekyi 01:33Maybe the analogy is a bit weak (and working in reverse), but I can't help but compare the 2 langs because they are so similar. If you reverse the order in Red and don't treat op! in a special way I think you'd get something similar to Factor 01:36But true, I admit I didn't get fried quotations at first myself, but collect I grokked almost right away.. basically, it does the reverse of what collect does, fillin in the _ 01:39A Red implementation might work like red>> fry [ a b c ] [ _ + _ * _ ] == [a + b * c] greggirwin 01:39Got it. Thanks! 01:53 fry: function [input output][ input: copy input _: [change '_ (take input)] output: copy output parse output [some [_ | skip]] output ] fry [ a b c ] b: [ _ + _ * _ ] geekyi 01:59In Red, everything is so easy.. 02:00Maybe a combination of fry and collect might help @ifgem ? greggirwin 05:42Maybe. Design is hard because we want to keep the base small, but provide all we need to build on. There's always the lure to add just a bit more, to make certain things easy. Figuring out what is general, and worth all the costs, isn't easy. In this case, the return example looks like a really nice wish. Seems easy. So now I need to think about what it looks like if I step back. How does it fit in larger things, with nested rules, partials, and backtracking. Collect seems tricky there too, in my limited experiments nesting around with it in rules. 05:43But we can easily play with ideas, which is one of Red's great strengths. We can try things, and decide what to pursue, either as REPs or just mezzanines and libs. 05:46Parse may be especially tricky, when we look at enhancements, because it can be used for *anything*. ifgem 08:34@geekyI red>> hello: [collect [keep "hello"]] == [collect [keep "hello"]] red>> parse "helloworld" [set h hello "world"] == ["hello"] red>> h == #"h" 08:51Fry sometimes will be very useful:). 09:09@greggirwin could you write collect/keep equivalent of the first return example? SteeveGit 09:39** FRY using replace. Funny attempt. ** Replace can take the result of a function as subsitution value. So in theory we could write. fry: func [in out] [replace/all copy out '_ does [take in]] Problem: red>> fry [a b c][_ + _ - _ ] = [func [][take in] + func [][take in] - func [][take in]] The function is not evaluated at each iteration as hoped (like Rebol). The reason is: Red uses a compiled version of the **replace** function. Compiled functions don't evaluate functions passed as arguments inside their body code. But interpreted functions do so. Reconstructing **replace** from its source will activate interpreted mode. replace: func spec-of :replace body-of :replace Now, we got the expected behavior: red>> fry [a b c][_ + _ - _] == [a + b - c] rgchris 15:44^^ This should be somewhere that won't scroll off in time... dockimbel 15:55The Red wiki is public, anyone can edit it, it's a good place for keeping valuable info. SteeveGit 15:56It would be better to alter the code of **REPLACE** so that even the compiled form handles this specific case correctly 16:01In my opinion ;-) greggirwin 16:29:point_up: [August 30, 2016 3:09 AM](https://gitter.im/red/red?at=57c54d529bac566763713b99) digit: charset "0123456789" number: [some digit] point: [ copy left number #"x" copy right number keep (reduce ["point" left right]) ] expr: [ collect [ point ";" point keep ("expr") ] ] parse "100x100;200x200" expr This puts "expr" at the end. If you put it at the top of the collect body it will always be collected, whether the rest of the rule fails or not. 16:35Steeve's example added to https://github.com/red/red/wiki/Guru-Meditations. 16:37Ah, I see Doc commented on the return wish as well. SteeveGit 16:44Thanks Gregg greggirwin 16:47Fry needs a better name, shouldn't have to copy input, but needs to define what happens if it runs out of values before it runs out of _ placeholders. Also, the target series should be the first arg to match Red conventions. 16:48And should it be generalized, to allow a different placeholder? I've used '? as a formal/placeholder in other funcs similar to this. 16:48I guess I'm saying it needs to be designed now. :^) SteeveGit 16:50Well, I don't think we really need a FRY function since it can be inlined with one line of standard code ;-) greggirwin 16:55I'm not proposing it as a standard mezz, but I think it's a good example. It should go in the *Red for Factor programmers* doc. ;^) SteeveGit 16:55Ok greggirwin 16:59When I started with Rebol, some of the first things I did were to write funcs I used a lot in VB to help me learn the language and transition. SteeveGit 17:01I can't relate, my first time is too old ;-) ifgem 17:16 geekyi 23:35:point_up: [August 30, 2016 9:47 PM](https://gitter.im/red/red?at=57c5b8898635a5ba6c81ac0f) @greggirwin https://gist.github.com/geekyI/844a15e506ce9c6b12a83e78df750295 Wednesday 31st August, 2016 ifgem 09:19place/mark [! + ! + !] [10 20 30] '! 10:27Sorry, how to write "at least 5" in parse? 10:295 #"a" any #"a":)) dockimbel 10:51@ifgem Or you can use an upper limit if it's safe in your use-case, like: 5 100 #"a". ifgem 10:57@dockimbel Also, I miss rebol3's "and" parse keyword(even though,, I think "when" is better name). SteeveGit 10:57"AND" in Red parse, is called "ahead" ifgem 11:14Shame on me:))) greggirwin 15:29Place is a nice word. I keep wanting to use inset for things like this, but it's too close to insert. jeffmaner 15:34 This line of code runs in Rebol, but Red complains that the function (either lowercase or uppercase) is missing its string argument. Is there a new way to accomplish this in Red? do random/only [ lowercase uppercase ] word 15:35I intended to post that to help rather than here. My apologies. greggirwin 15:47I most often word in Redbol at a high level, not being concerned about performance. But there are times you need to care, and I did implement a binary search some time back when I needed it. iterative-binary-search: function [ "Returns the index where a value is (success), or the index of the insertion point as a negative offset (not found)" series [series!] "Pre-sorted series" value "Value to find" ][ if empty? series [return none] low: 1 high: length? series while [low <= high] [ ; Normally I would just use ROUND, but this is one place we do ; care about performance, because this func could get called a ; lot depending on the application. ;mid: round/down low + (high - low / 2) mid: to integer! low + (high - low / 2) ; Pick is faster than path syntax, and just as clear here. cmp-val: pick series mid either cmp-val = value [return mid] [ either cmp-val < value [low: mid + 1] [high: mid - 1] ] ] negate low ] e.g. [ iterative-binary-search [1 2 3 4 5 6] 4 iterative-binary-search [1 2 3 4 5 6] 7 iterative-binary-search [1 2 3 4 5 6] 0 ] 16:01I should note that the above is unchanged R2 code, tested under Red. I have not confirmed that pick is faster than path syntax in Red. ifgem 17:06:point_up: [30 августа 2016 г., 21:29](https://gitter.im/red/red?at=57c5b45589fabaea6bd6fe14) Neither your nor Nenad collect/keep equivalent of the first example do exactly what return does. 17:20Common: digit: charset "0123456789" number: [some digit] Sub is the replace version that takes red parse rule as pattern argument: It has 2 behavior: the first is replace everything that was matched by the pattern with reduced molded value. sub "[100]" ["[" set num integer(it's matcher) "]"] ["{" num + 1 "!" "}"] ;=> "{101!}" the second is sub/part replace only certain parts of the matched pattern with changed parts(do block mold get new values words) sub/part "[100]" ["[" set num integer "]"] [num: num + 1] ;=> "[101]" A matcher is a rule that returns the representation of the pattern. Here's an example of the matcher used above. integer: [ copy int1 number return ( to integer! int1 ) ] 17:28I wrote the issue about the return keyword because it's very useful for the sub implementation. 18:42What do you think about this behavior?: fish: [ (fish-length: 0) #">" #"-" (fish-length: fish-length + 1) ["0>" (fish-name: "J") | "|>" (fish-name: "Q")] return ( object reduce [ name: fish-name length: fish-length ] ) ] ocean: [ set fishes some fish ] parse ">----0>>----|>" ocean fishes ;=> [object [name: "J" length: 4] object [name: "Q" length: 4]] 18:42:)) greggirwin 21:15I don't think Nenad or I said our thoughts were exactly the same as your return proposal. It's worth a REP, but I don' t know how hard it would be or all the ramifications. 21:17switch bug? It doesn't work to have more than one value before the block to be evaluated. switch/default type?/word 'a [ word! block! [print "word|block"] function! [print 'function] ][print 'else] SteeveGit 22:07Yeah, switch doesn't work with several values per action block. Also, confirmed by reading the source code. greggirwin 23:48Do you think it's a design change from Rebol, meaning we need a doc string change, or a bug? SteeveGit 23:51 Well, IIRC red/system's switch allows several values. So I would say it's a miss. greggirwin 23:52I'll ticket it. Thanks. SteeveGit 23:55Sample in Red/system if i < len [ switch type [ OP_AND [fill p + i p + len null] OP_OR OP_XOR [copy-memory p + i p2 + i len - i] ] ] 23:56Would be strange to not have it in Red greggirwin 23:57Agreed. Thursday 1st September, 2016 WiseGenius 04:04Random observation: to integer! "1234" appears to leak almost twice as much memory as load "1234". dockimbel 04:28@WiseGenius to integer! calls load internally as to is not fully implemented yet. 04:29@greggirwin I remember enabling multiple keys for switch in the compiler recently, so I either forgot to update the interpreted version or introduced a bug there. WiseGenius 04:34I'm trying to think of a way to implement to-char 1234 in Red without using load because it's using too much memory. Maybe I'll have to use Red/System or wait until to char! is implemented. dockimbel 04:38@WiseGenius make char! or #"^@" + work. WiseGenius 04:43@dockimbel Both work with no memory problems. Thanks. PeterWAWood 05:44@jeffmaner Try this: do compose [(random/only [lowercase uppercase]) word] 05:46I think that there is some difference in the way the Red's do function treats its input. I think that it has been discussed in this channel but I cannot remember the details. dockimbel 07:05do in Red has fixed arity for now, unlike Rebol2/3. ifgem 07:54it doesn't work save/as %test.redbin [test: "hello world"] 'redbin 07:55Is it a bug or it's just not implemented yet? dockimbel 07:56Only a Redbin decoder has been implemented so far in the runtime library, the encoder is missing. If someone wants to tackle it, the spec and decoder implementation in Red/System is available. Also a Rebol encoder exists in the compiler toolchain. It's not a big work, can be done over a weekend. ;-) ifgem 07:57@dockimbel ok:). 07:58@dockimbel I guess it's very useful for implementing smalltalk-like image? :). dockimbel 07:59Yes, could be used for that too. ;-) ifgem 07:59@dockimbel awesome:) WiseGenius 11:14 red>> "ΑΓΔΖΗΚΛΜΝΞΟΣΤΥΧΨ" = "αγδζηκλμνξοστυχψ" == true red>> "ΒΕΘΙΠΡ΢ΦΩ" = "βεθιπρςφω" == false red>> "Β" = "β" == false red>> "Ε" = "ε" == false Etc. Why? dockimbel 11:24Because we currently use a generic collation table for case-folding, so it does not have all the locale rules. See our Unicode [page](https://github.com/red/red/wiki/Unicode-Issues-with-Proposed-Resolutions) on the wiki. @PeterWAWood can give you more details about it if you need. WiseGenius 11:36Thanks. What generic table is Red currently using? dockimbel 11:36@WiseGenius See [here](https://github.com/red/red/blob/master/runtime/case-folding.reds). WiseGenius 12:09@dockimbel Thanks. An observation: The entire Greek alphabet seems to be in that table (except for final Sigma). For example: 0392h 03B2h ; GREEK CAPITAL LETTER BETA ...is correct. So for the above letters which are not recognized as equal, lowercase works: red>> lowercase "ΒΕΘΙΠΡΦΩ" == "βεθιπρφω" However, the lowercase versions of these letters appear in the table more than once in the second column. For example: 03D0h 03B2h ; GREEK BETA SYMBOL I haven't read the code yet, but it seems that the latter occurrence is the one which uppercase is using, and it therefore doesn't work for those letters: red>> uppercase "βεθιπρφω" == "ϐϵϑιϖϱϕΩ" I'm guessing = is using the same as uppercase and that's why it isn't working for those letters. greggirwin 15:38I had never thought about final sigma. Things would have to be position aware to handle that correctly. dockimbel 15:46@WiseGenius @qtxie did the implementation, so he'll have a look at that. qtxie 22:47We need to make another 'lowercase-> uppercase' table to make it work correctly. Friday 2nd September, 2016 dockimbel 04:07@qtxie @WiseGenius Could we find a better smarter layout for that table to make it work and avoid having two tables? WiseGenius 07:50@dockimbel I tried reversing the order of the generated table for uppercase, and it only improved some of the characters: red>> uppercase "βεθιπρςφω" == "ΒϵΘιϖϱςΦΩ" The choice of which ones this did and didn't fix doesn't seem to be caused by their order in the table, since both ϐ and ϵ appear after both Β and Ε, yet Β is fixed this way and Ε isn't. I'm sure if I read the rest of the code properly, I'd see the reason. Or maybe I made a mistake somewhere. It might be possible to achieve success, as you say, by rearranging both the order of the table and/or some other part of the code. If this doesn't work (and if the concern about a second table is the size of the code), it might be possible to split the existing table into 2 smaller tables: The first table would only have one-to-one, 2-way relationships for uppercase and lowercase. For example, it would contain this line: 0392h 03B2h ; GREEK CAPITAL LETTER BETA And the other table would contain the other 1-way relationships. For example, it would contain this line: 03D0h 03B2h ; GREEK BETA SYMBOL So uppercase would just go --> through the 2nd table, and then go <-- through the 1st table. And lowercase would just go --> through the 2nd table, and then go --> through the 1st table. Of course, this wouldn't cover everything, but I assume we're only talking about a temporary improvement for now, since handling unicode properly could take a lot of work and is not something which should be skimped on in the long run. Final Sigma is the least of our worries. I would just put it in the second table for now: 03C2h 03C3h ; GREEK SMALL LETTER FINAL SIGMA 03A2h 03A3h ; <reserved-03A2> lowercase "Σ" would still become "σ" at the end of a word (as it does currently), but that's fine (simple and predictable) for now. However, uppercase "ς" would also become "Σ" as it should (and doesn't currently). At the very least, it seems strange to me that = seems to use uppercase when lowercase is currently more reliable (having it's own table). dockimbel 07:55@WiseGenius Thanks for the deeper analysis. Yes, we want to minimize the generated code size. Though, having a more compact representation that can be expanded into one or two tables at startup, is also an option. WiseGenius 08:01@dockimbel I assume that by “a more compact representation” you mean shortcuts like adding 0020h to some of the characters' code point values to make them lowercase, etc? dockimbel 08:02@WiseGenius I mean whatever way to represent the tables that takes the less bytes once compiled. Though, if it requires much more code, the gain might be low. In such case, having less code is more important. So, aim at a good trade-off between generated code size vs code size and complexity. dsgeyser 08:11 @dockimbel Just want to know how far out is IO support still? Need to have GUI app talk to web app via Ajax? Btw. Many thanks for the long hours you and your team have put into Red already. 08:15Sorry. Don't know why it was posted like that. On parse/trace Steeve reported an error, which I get here (Invalid type specifier), which I don't know the status of. The default on-parse-event func just uses the input marker in 'fetch. @geekyI , collect the func, or the parse keyword? They're roughly similar. geekyI Aug 30 02:39 @greggirwin I think so, without understanding the source of parse, it's hard to say what's wrong Gregg Irwin Aug 30 02:39 Basically, they bind keep as a special collector func in their body, so where you call keep that value is added to the result of collect. http://www.red-lang.org/2013/11/041-introducing-parse.html mentions collect in that context. geekyI Aug 30 02:44 @greggirwin yeah I read it, but it only mentions briefly there..so collect is 2 different things with the same idea. I feel like I am following a pattern parse "text" [collect ... keep something ... ] , either I'm thinking too narrowly or /collect can be a simple refinement to parse? the pattern being collect always at the beginning (*) If collect keyword is used in any rule in its simplest form, a block will be returned by parse no matter if the root rule succeeded or not. this is another reason for why I think it would be better as a refinement Gregg Irwin Aug 30 03:04 Collect doesn't always have to be at the beginning. And if you make it a refinement, then you need to decide if it should always take an into target, which is optional today. Gregg Irwin Aug 30 03:11 I haven't use collect in parse much yet. Have to play more, as all is not clear to me either. geekyI Aug 30 03:23 @greggirwin collect sort of reminds me of Fried quotations in factor, a functional forth with HOFs Gregg Irwin Aug 30 03:27 Collect, the function, is really simple, and the basic use of collect in parse is as well (e.g. using it at the beginning of your main rule). Fried quotations, seeing them for the first time, look...complex. geekyI Aug 30 03:33 Maybe the analogy is a bit weak (and working in reverse), but I can't help but compare the 2 langs because they are so similar. If you reverse the order in Red and don't treat op! in a special way I think you'd get something similar to Factor But true, I admit I didn't get fried quotations at first myself, but collect I grokked almost right away.. basically, it does the reverse of what collect does, fillin in the _ geekyI Aug 30 03:39 A Red implementation might work like red>> fry [ a b c ] [ _ + _ * _ ] == [a + b * c] Gregg Irwin Aug 30 03:39 Got it. Thanks! Gregg Irwin Aug 30 03:53 fry: function [input output][ input: copy input _: [change '_ (take input)] output: copy output parse output [some [_ | skip]] output ] fry [ a b c ] b: [ _ + _ * _ ] geekyI Aug 30 03:59 In Red, everything is so easy.. Maybe a combination of fry and collect might help @ifgem ? Gregg Irwin Aug 30 07:42 Maybe. Design is hard because we want to keep the base small, but provide all we need to build on. There's always the lure to add just a bit more, to make certain things easy. Figuring out what is general, and worth all the costs, isn't easy. In this case, the return example looks like a really nice wish. Seems easy. So now I need to think about what it looks like if I step back. How does it fit in larger things, with nested rules, partials, and backtracking. Collect seems tricky there too, in my limited experiments nesting around with it in rules. But we can easily play with ideas, which is one of Red's great strengths. We can try things, and decide what to pursue, either as REPs or just mezzanines and libs. Parse may be especially tricky, when we look at enhancements, because it can be used for anything. ifgem Aug 30 10:34 @geekyI red>> hello: [collect [keep "hello"]] == [collect [keep "hello"]] red>> parse "helloworld" [set h hello "world"] == ["hello"] red>> h == #"h" ifgem Aug 30 10:51 Fry sometimes will be very useful:). ifgem Aug 30 11:09 @greggirwin could you write collect/keep equivalent of the first return example? Steeve Aug 30 11:39 FRY using replace. Funny attempt. Replace can take th DideC 08:47(@dsgeyser : Looks like a "copy/pasting too much than what I want", isn't it ? If yes, you can edit your post by clicking the 3 dots on the header line of it) dsgeyser 09:59@DideC using my phone via webapp/site. Post was done differently from what I expected. Sorry, can't edit or use Android app. Android version too old. Will try to update Android. WaBerlin_twitter 12:21I am new to Red, worked on Rebol before. The following appears not to work: str: "abcdefg" print find/any str "c*f" *** Internal Error: reserved for future use (or not yet implemented) Is it correct that the refinement /any is not implemented yet? 12:22Sorry: should read: print find/any str "c*f" rebolek 12:26@WaBerlin_twitter Yes, it is not implemented yet 12:27Take a look at the documentation: red>> ? find [...some text...] /any => TBD: Use * and ? wildcards in string searches. [...some text...] ifgem 14:09@dsgeyser you can use gitteroid:). geekyi 14:34@ifgem remember this? :smile: [September 1, 2016 1:42 AM](https://gitter.im/red/help?at=57c7411eccfcf7147cac5ea6) ifgem 14:55@geekyI forgive me I was awfully sleepy:) pekr 15:03Bobik (Robert) asks on FB, when is a date!dtype scheduled? We now support now/time and I remember, some term for date support was mentioned here, but don't remember the outcome .... geekyi 16:28@ifgem trying gitteroid.. I installed it and accidentally left the room.. overall the features are nice, but a bit buggy with the management of rooms dsgeyser 17:18 @geekyI Confirmed. Buggy with rooms. But thanks @ifgem better than in Chrome. 17:20Android app in 'Play Store' did not install - mixed two up Zamlox 19:03am I missing something ? is this valid ? red>> 10.1x10.1 == 0.1 greggirwin 19:16Pairs with decimal values are still an open design question AFAIK. Right now, the fractional part is ignored. red>> [10.1x10.1] == [10x10 0.1] 19:17Rather, it is lexed separately. Zamlox 19:18well red>> 10.1x10 == 10x10 greggirwin 19:18Yeah. Just don't do that for now. ;^) Zamlox 19:18but red>> 10x0.1 == 0.1 something relatedto operand positions ? 19:19I just bumped into it, I'm not using it. rgchris 19:21 lisp red>> [10x10.1] == [10x10 0.1] Zamlox 19:22all right, thanks. rgchris 19:24There has been strong suggestion that all values be separated by space (except when butting up against '[(])'), but I guess Red doesn't insist upon this—10x10 being a valid pair! and .1 being a valid decimal!. greggirwin 19:30There's a bit going on in the lexer there. integer-rule covers a number of cases, with things like decimal and percent optionally handled before x for pairs. After the x integer-number-rule is used, which does *not* do all that. Then the pair! is created with 0 as the second value in it, *then* the second value is set separately. Whew! Seems a combination of things, current lexing rules, to pair! truncating the first value, etc. The pair! structure for Red says they can be floats, so I think that will probably be allowed in the future. Saturday 3th September, 2016 dockimbel 05:34The lexer pair! rule is left open for supporting floats in pairs. We should add that before 1.0. geekyi 12:06:point_up: [September 3, 2016 12:21 AM](https://gitter.im/red/red?at=57c9d11c958e6f4729e34923) > `lisp @rgchris, just curious why you formatted as lisp greggirwin 14:59I did the same thing @geekyI , to show how Red lexed it, and all the values produced. geekyi 15:04@greggirwin not sure what you mean.. oh yes, you had written the same code I was just talking about and discovered this: > rebol >parse {test} [collect keep to end] > 15:06Damn, I lost formatting, how do you quote quotes? > `red formats with red. Not sure if it's actually formatting as red or something else. Sorry if you already knew I'm still a bit new to github and it's ecosystem greggirwin 15:43Single backquotes for inline, triple for multi-line. Looks like you got it. And Github confuses me too. geekyi 15:50@greggirwin well I actually mean, you can write the lang name at the beginning of the triple backquotes to force the language! Not sure if it works with red, but works with others like python greggirwin 15:50Ah! See, I didn't know that. geekyi 15:51@greggirwin I wouldn't have know if not for rgchris writing the same code as you and the highlighting turned out different :tongue: greggirwin 15:53Aha! Even more info. I hadn't quoted anything in Gitter to see that. Thanks! rgchris 19:50@geekyI Results in no colouring, which to me is better than bad colouring (no idea why lisp code isn't coloured, but it isn't—and I figure if it is ever coloured, it won't be the worst match). geekyi 20:12@rgchris lisp code is actually colored, you are missing parens: (add 1 2) ifgem 20:15 21:02It's 2am(Russia, Ural), I'm playing with Red. What's wrong with me?:) greggirwin 21:16You think you should be sleeping instead? ;^) ifgem 21:52Dunno:))) greggirwin 22:06@dockimbel, for JSON: - Do you want it to *always* return a map! for JSON objects, or do you want an option to return object!s - Do you want it to always return word! keys (assuming map! output), string! keys, or a refinement to control it? 22:07I am looking at Chris and Kaj's versions for ideas, but mainly porting and refactoring %json.r that is on json.org at this point. Sunday 4th September, 2016 WiseGenius 08:29@greggirwin Although my version currently accepts both map!s and object!s when converting **to** JSON, it doesn't currently have the option to make an object! **from** JSON. This is because it always returns string! keys when converting **from** JSON. This is because not all JSON keys can be converted to word!s. However, it does accept both word!s and string!s when converting **to** JSON. But then it needs to check to ensure that a map! doesn't contain an identical word! and string! key with separate values when converting **to** JSON. 09:35Of course, when I say that not all JSON keys can be converted to word!s, I mean that: * Keys which are differentiated only by case are lost, * Keys which contain only digits or other Red syntax become difficult to handle (which is probably why they are invalid word!s in Rebol 3), * Keys with spaces become difficult to handle in Red (which is probably why they are invalid word!s in Rebol 3), It seems to me that JSON should always be loaded as map!s with string! keys. If someone wants to convert that to an object! let there be a separate function for converting map!s to object!s. Why burden the codec with something which may be useful elsewhere anyway? ifgem 15:38Excuse me, is there any way to include resources to Red executable with ability to change them? greggirwin 17:01Good input @WiseGenius. If you have a working version, feel free to send it over. You may have best-of-breed techniques we can use in the official loader. WiseGenius 17:16I doubt it, haha! It's rough and simple, and it doesn't yet handle surrogate pairs, but I'm happy to throw it into your mix. Probably tomorrow though. Where should I put it? greggirwin 17:19A gist? Or I can get you my email privately. 17:20Kaj's doesn't do surrogate pairs yet either. Monday 5th September, 2016 dockimbel 06:14@ifgem See that commit log: https://github.com/red/red/commit/61f90c07af9670296ae3812f956e1fbd505cc639. greggirwin 10:02Thoughts and questions on JSON: - If the codec is accessed via load/as we don't have complete flexibility in the interface to it, unless load is also changed. e.g. adding extra refinements to control loading behavior. - One possibility is to think in terms of lossless and lossy loading. Lossless would mean always returning a map, and always strings as keys. Encoding objects can always be lossless. To ask for lossless decoding, we could leverage the existing /all refinement. - Lossy conversion is subject to conditions like, but not limited to, those @WiseGenius noted above. If you need detailed control (e.g. keys with spaces should have spaces replaced with an alternate character, invalid conversions are handled by...something, etc.). Detailed control is beyond what load could comfortably support in its interface. - Why would we even consider a lossy codec? Because it can make things so much nicer. If lossless is our only option, *any* Red code that has to deal with JSON loaded data will either have to use a separate step (which may be included in Red, and generalized) to get detailed control of the codec, or use the noisier syntax required for string key access. - The question of defaults depends on what percentage of JSON data we think will be problematic (can't find statistics on that :^). It will likely be common that Red is both the producer and consumer, hence in complete control, and JSON is just used to talk to a web service, document store DB, etc. The issue, though, is Red's generality. As much as I want details hidden, and to get Red-friendly results by default, my gut instinct is that the codec needs to be lossless, with extra steps to wordify keys and convert to objects. :^( dockimbel 11:59@greggirwin Map! is there to cover such use-case. geekyi 14:11@dockimbel *just to confirm*, are you saying map! is there specifically for those things that can't be represented as a word!in red? Overall I like @greggirwin 's proposal, especially with regards to lossy vs lossless. Gets even harder to go back to stringly typed after using red :smile: 14:11>The question of defaults depends on what percentage of JSON data we think will be problematic I only have an intuition on this: in general, well designed online apis.. have keys well designed enough for red, while a lot of javascript developer tolls make use of that aspect of json ifgem 16:35@dockimbel I asked about something like http://www.rebol.com/docs/sdk/encap.html greggirwin 18:08@dockimbel, to be clear, you want the JSON codec to losslessly produce a map! with string keys. WiseGenius 18:44@greggirwin I'm not sure I understand your answer to: > Why would we even consider a lossy codec? It sounds like you're saying that until a map! is converted to an object! we can't “get detailed control of the codec”. What do you mean by this? It also sounds like you're saying that the m/("Hello, World!") syntax is too noisy? In the past I've proposed allowing m/{Hello, World!} and m/"Hello, World!". Anyway, I'm not convinced a “noisier syntax” warrents a lossy option. 18:45@greggirwin > The question of defaults depends on what percentage of JSON data we think will be problematic Lossy should certainly not be the default! I not sure if that's what was being suggested, but the only way this question (as I understood it) depends on the percentage of data being problematic is whether or not we can ensure that that percentage is exactly 0. IMO, the JSON spec promises nothing close to that, so we know the answer. 18:45@greggirwin > my gut instinct is that the codec needs to be lossless, with extra steps to wordify keys and convert to objects. I agree with your gut. IMHO, object!s are not a good match for JSON, and if someone wants to load JSON as object!s, they should use an extra step, converting string!-key's to word!s. If they wrote the data from Red, then they probably know the keys areword!-friendly. If they're not sure that the keys are word!-friendly, then they probably shouldn't be using object!s anyway. If they still want to, then they probably have a special use case and therefore would probably want to write their own function to handle the keys and convert the map!s themselves anyway. In fact, I expect that it would be common to write custom converter functions to and from the map!s produced by the JSON codec, depending on what the JSON data represents and how one wants to map that data to Red datatypes. I don't think it's appropriate to try to make the codec do everything. I think simplicity is best here. 18:45@greggirwin I think the real questions arise when deciding how to save **to** JSON, since Red map!s allow not just more types of keys than JSON, but more types of values. I think that any datatypes which JSON doesn't understand/allow should cause an error. It should be up to the user to write their own function for pre-converting the unrecognized datatypes depending again on what the data is about. I regret that my version of the codec I sent you is currently too permissive in accepting datatypes in this direction. That was a mistake which I intend to fix in future versions. Here's what I think should be accepted by default when converting to JSON: Keys: * string! Values: * string! * integer! * float! * map! * block! * logic! * none! In this direction, I can understand an option to allow object!s, in which case word!s would be converted to string!s. However, I doubt that word! keys in map!s should be automatically accepted by default since they can clash with string!s keys in map!s. I could even understand a future option to mold all keys and values and then convert those string!s to JSON strings when saveing to JSON, and reversing the process when loading from JSON, but again I think only the simple way above should be done for now. Let's see how often people actually use such fancy functions in Red before building them into the codec. I suspect unique custom functions will be much more common than that one, but I don't know for sure. And as you've already pointed out, extra options as refinements on save and load would be awkward. 18:46I have some ideas how to map! and to object! should work, but I should probably go to bed soon. It's almost 5AM here, so hopefully I made some sense. greggirwin 20:22By "no detailed control", I mean that the loader is simple, not changing anything about the data. You just get a raw map!. Re: m/("Hello, World!"): I greatly prefer words to strings in paths. But we can do some quick R&D. List 5 big JSON standards or services people want to consume data from (e.g. Twitter, RSS/Atom) and see what their keys look like. There's a great middle ground between doing everything and doing nothing at all. I do have custom adapters, schema application, etc. but also appreciate the encoder simply converting unknown types to JSON strings for me. I'm biased, and can only speak from my own experience and the requests I've see over the years for changes to %json.r. I do like Chris Ross-Gills feature that converts dates to RFC3339 format. That seems useful. Again, that would be a great place to see what big players use on the JSON side. Tuesday 6th September, 2016 WiseGenius 05:50@greggirwin On the contrary, it's simple-and-raw which **gives** detailed control, and automation takes it away. For example, as great as RFC3339 is, if the codec automatically converted dates **to** it, then it would be expected to convert dates **from** it. In that case, the codec would be useless when you don't want it to always do that. IMO, the codec should be simple like a lego block you can build on. Otherwise you have to rewrite it whenever you want something simpler. pekr 05:56Couldn't codec use some kind of a spec/configuration object, which would tailor its functionality? WiseGenius 06:01Another datatype (besides object!) I can understand the codec accepting when converting **to** JSON is hash!. If accepted, that would become a JSON array, but it would still be loaded back as a block!. 06:05@pekr That's an interesting idea. Maybe the /as refinement could accept object!s for more complicated options besides word!s... greggirwin 17:17I don't think we want to override /as too much, but that was my thought about where the detailed control would come in. The alternative, to me, is no options and you do all your processing out of band, once you have a loaded map. WiseGenius 18:32@greggirwin I think I finally see I might have misread what you meant by “detailed control”. I'm sure it's already overly clear that my preference is to work with the loaded map!, haha. rgchris 19:32@pekr That's what my [*validate*](http://scripts.rebol.info/scripts/filtered-import,docs) dialect does—designed to work with URL-encoded values which are only strings, it could also describe a JSON response, though needs a little work to properly describe JSON-level data (but should be doable). 19:34@WiseGenius I don't think there can be an implied transformation back, but I don't think it's unreasonable to automatically form Rebol values on the way in. It really is like trying to force a square peg into a very small, round hole. I think this [article on XML's flaws](http://www.rebol.com/article/0108.html) could also hold for JSON. 19:36It says volumes that the most successful messaging format (arguably) is essentially Rebol redesigned to conform to JavaScript's quirks and limitations. And for now we're stuck with it. WiseGenius 20:42@rgchris I could easily live with unrecognized types being stringified on the way **to** JSON. After all, that's what my own version originally did, until I changed my mind. I currently prefer that they didn't, but it wouldn't get in the way if they did because if anyone doesn't like it they can modify the map! before saveing it. However, I'm very much against the codec trying to convert JSON strings to non-string! datatypes, especially if that's the only option because that can't be intercepted. Yes, JSON is an unfortunately deficient format. rgchris 22:33@WiseGenius Right—I'd say the same. I'd like to see something like my aforementioned *Validate* function as standard so that converting *already loaded* data is a small matter of providing a spec. However, nothing can be implied by default. Incidentally, I assume JSON keys are case-dependent, don't recall. Also don't recall how the map keys case sensitivity question resolved... Wednesday 7th September, 2016 WiseGenius 00:47@rgchris [Solution 5](https://github.com/red/red/wiki/Case-Sensitive-Map!-Keys#5) was chosen: red>> m: #("a" 1) == #( "a" 1 ) red>> set/case 'm/("A") 2 == 2 red>> m == #( "a" 1 "A" 2 ) greggirwin 03:03I'll try to get a gist up before too long, so we have something concrete to base discussions and experiments on. Quite a bit of refactoring done so far. Have some Unicode stuff to look at, along with adding surrogate pair support. Cthutu 11:50Hi there, I've just started looking at red and I was running through the tutorial and was horrified to see that the operator - would be functional when you subtract two vectors but mutable when you subtracted a number to a vector (instead of returning a new vector). I found this to be a huge turn off from the language with this inconsistency. What is the reasoning behind this decision? And if it is about performance, why doesn't v1 - v2 mutate v1 like v1 - n? Could someone give me some insight into this design decision please? geekyi 11:52@Cthutu which tutorial? Short form is, you don't think in terms of functions in red, you think in terms of data Cthutu 11:52 11:52@geekyI the issue I have is the inconsistency, one returns a new vector, the other doesn't 11:53let me link the page 11:53http://www.red-by-example.org/ 11:53red>> v1 - v2 == make vector! [-97 -198] red>> v2 - v1 == make vector! [97 198] red>> v2 == make vector! [100 200] ; v2 is unchanged red>> v1 - 22 == make vector! [-19 -20 -21 -18] red>> v1 == make vector! [-19 -20 -21 -18] ; v1 is altered! geekyi 11:53@Cthutu (also did you know you can edit your post here -->) you may be surprised to know I myself started gitter a month(?) ago :smile: Cthutu 11:54Sorry I am still new to gitter :) 11:55By functional I meant immutable - sorry for the terminology used maximvl 11:57hey guys 11:58any news about next release? Cthutu 11:58For example: v1: make vector! [1 2 3] v2: make vector! [4 5 6] v3: v1 - v2 ;; good v1, v2 unchanged and v3 has expected result v4: v1 + 5 ;; v4 has expected result, but v1 has changed too (wtf?) 11:59I just want to understand the thinking behind this to align my thinking more with the red philosophy geekyi 12:28@maximvl sheesh! can't you see the devs coding as we speak? :smile: 12:28@geekyI motions to the side bar on the right 12:29also, did you see twitter? @maximvl 12:32@Cthutu I didn't know about that behaviour, not to mention vector!s, so had to search for a bit.. couldn't find anything relevant. There is a long discussion on the red/vector channel here.. maximvl 12:43@geekyI not really, can you share the link? 12:44@maximvl is too oldscool for fancy things like twitters geekyi 12:44@maximvl https://twitter.com/red_lang/status/771268451314696193 maximvl 12:44@geekyI oh shit, this is great! 13:13hmm 13:14% is a valid character in file names, at least in unix 13:15 > mkdir 1%1 red>> read %1%1 *** Access Error: cannot open: %1%251 *** Where: read red>> read %. == [%1%251/ ] 13:18and percents are common for example in files names of saved pages from the web browsers meijeru 13:48@dockimbel I think what @Cthutu has found is a bug, i.e. an unintentional effect of the implementation of vector addition. v: make vector! [1 2 3] v + 1 ; => make vector! [2 3 4] v ; => make vector! [2 3 4] I don't believe this is intentional 13:56Do the same with tuples: t: 1.2.3 t + 1 ; => 2.3.4 t ; => 1.2.3 13:56 greggirwin 14:23:point_up: [September 7, 2016 7:13 AM](https://gitter.im/red/red?at=57d0127ccdbf820f7fa47777) Put quotes around the filename: %"1%1" maximvl 14:27@greggirwin okey, thx ) greggirwin 14:27@Cthutu, consistency is *very* important to Red's designer (and all of us). Red does have both mutable and immutable values. I haven't looked at vectors, but it sounds like a bug to me. 14:41@PeterWAWood, per @Cthutu's note on vectors, it doesn't look like there are any vector tests for args mutating in the suite. We should add those for each action. 14:55I glanced at the vector code, and it looks like a bug related to integer vectors. red>> v11: make vector! [1.1 2.2 3.3] == make vector! [1.1 2.2 3.3] red>> v12: make vector! [4.4 5.5 6.6] == make vector! [4.4 5.5 6.6] red>> v11 + v12 == make vector! [5.5 7.7 9.9] red>> v11 == make vector! [1.1 2.2 3.3] 14:56@Cthutu, would you like to create a ticket for that, since you found it? 15:08Note that vectors *are* mutable, and are also series! values. red>> v11/1: 7.7 == 7.7 red>> foreach v v11 [print v] 7.7 2.2 3.3 meijeru 17:05@dockimbel In contrast to what @greggirwin suspects, it also goes wrong with float vectors v: make vector! [1.0 2.0 3.0] v + 1.0 ; => make vector! [2.0 3.0 4.0] v ; => make vector! [2.0 3.0 4.0] greggirwin 17:49Good catch. It looks like reverse problem of int vectors and a scalar arg. meijeru 19:42I have a mind to make the ticket myself, unless @Cthutu will do so shortly. DideC 19:55About JSON, discussion could have its own whannel IMO. 19:58In Rebol, some protocol have parameters (like FTP passive mode for example. I think a JSON codec could also have some kind of parameters and some of them could be functions that converts values to or from. So they could be changed by others func if the standard behaviour is not what is wanted in a particular case. greggirwin 20:05The catch is that it looks like JSON will be loaded via load/as which doesn't give us extra interface elements to attach to (right now). 20:05Agreed on having a channel for it though. geekyi 21:04Talking about channels, isn't it a better idea to have more generic, topical ones data-types, data-exchange instead of specific ones like vector map, json yaml (not sure about redbin)? maximvl 21:07@geekyI it's better idea to concentrate on development rather than channel naming geekyi 21:08Well.. it reduces the number of channels I have to join (also better for new comers). Most other github organiztions don't have that much.. 21:09@geekyI also isn't sure where to talk about exchange formats 21:11specifically, I'm curious about approaches taken by the red community to deal with exchange formats.. 21:12hmm.. I guess I could say I'm talking about formats for load/as greggirwin 21:46load|save/as is Red's extensible codec mechanism. It can be anything, but there is only dispatch to encode|decode funcs, so extra control isn't possible today. It wouldn't be hard to make the codec info a dialected block though, so default formatting could be just the name and a block would mean the name was the first one, and the codec gets the rest of the block as an arg. Cleaner than trying to add system/options in an extensible way. 21:48On JSON, years ago I added pretty formatting to the encoder in %json.r. Is that worth keeping? My instinct is to strip things down, starting fresh. Thursday 8th September, 2016 netroby 06:33Hello. 06:33I wonder to know any success stories about red language. 06:33Who using red on production or business production. PeterWAWood 07:50@netroby Red is in development. It is not ready for use in production. As it is not ready for production use, there are not any success stories yet. Red is currently at version 0.6.1, it will be ready for production once it reaches version 1.0.0 netroby 08:02Thanks for let me know DideC 08:26system/codecs is a map of object!. encodeand decodeare the interface, but nothing is preventing us to have parameters block! in it. Ie: like a table of type / encoding or type / decoding pairs used by the interface. Or something like this. There could also be utility functions in the object to help parameterized the encoding/decoding. So you will use system/codecs/json/parameterize/decoding [what you want] (where parameterize is the func and \decodinga refinment). Just a rought idea. meijeru 13:30I explored system/codecs and found a curious inconsistency in the behaviour of ?. See the latest issue #2215 . Cthutu 14:49@greggirwin So v1 shouldn't change in my example? 14:49@meijeru Did you submit a ticket? I don't know how to do it yet. meijeru 14:56@Cthutu I did not, but will do now. Cthutu 14:56by ticket do you mean github issue? 14:56thanks Rudolf geekyi 15:00@Cthutu #2216 greggirwin 15:49@Cthutu, correct. I think you found a bug. 15:50@netroby, Red isn't production ready, but Rebol has a number of success stories, and the same rules apply to Red, plus a lot more capabilities. Rebol has been applied in a lot of areas, and Red will be too. We just have to be a little patient. 15:52:point_up: [September 8, 2016 2:26 AM](https://gitter.im/red/red?at=57d120cf89655972304c966e) @DideC, we *could* do that, but it seems inelegant to me. I'm sure we can find a better way. Even if it means having a separate load-json func that mirrors load/as. Friday 9th September, 2016 raimundasa 07:40@Arie-vw If an iteration counter in repeat is not local then description on website [title](http://red-by-example.org/index.html#repeat) is wrong. 07:40http://red-by-example.org/index.html#repeat geekyi 08:51@raimundasa this? > Warning: 1. the count variable can only be referred within the block!; so, if before the repeat a variable exists with the same name, that variable will be untouched after repeat 2. when repeat introduces a unique name for count, that name cannot be referenced anymore after repeat raimundasa 09:11@geekyl Yes a: 33 repeat a 3 [print a] print a ; = 3 meijeru 11:08Conclusion: red-by-example needs to be corrected. The statements given there are applicable to Rebol, not Red. This is a significant difference! See the [Wiki](https://github.com/red/red/wiki/Differences-between-Red-and-Rebol#local-contexts-for-loops). DideC 13:44@greggirwin for sure. There is how it is done, and how we use it. It can be done like I said, then interfaces could be added to make it easier to use. But there is so much to do that, if we do that for all things, Red will grow and grow... pekr 15:49Wow - interesting tweet - first sneak peek at LibRed support: https://twitter.com/red_lang/status/774269983253639168 maximvl 15:50yeah, good Friday news! ifgem 16:31Awesome. Just awesome:))))))). Cthutu 18:13What is LibRed? geekyi 18:20>faster compilation >tiny executables Yes!! I've been waiting for this maximvl 18:24@Cthutu it is some kind of minimal runtime/interpretator of Red(System?) to embed Red into native executables / other programs 18:25written in C geekyi 18:26 meijeru 18:35I think @dockimbel should explain it and give a timeframe for its availability in release 0.6.2. greggirwin 19:11Exciting stuff! Go Team Red! geekyi 21:04TIS-100: (warning: distraction!) teaching (fake?) assembly with a game: [walkthrough](https://www.youtube.com/watch?v=cLfwMXTnhtc), [shorter 1 min version](https://www.youtube.com/watch?v=ZkUHGvy2pNU). Seems to be a simulation of a https://en.wikipedia.org/wiki/Connection_Machine JacobGood1 21:10@pekr This is great news! I got a little burned out when I was messing around with using red to bind to csfml(and other bindings) because of the super long compile times... Saturday 10th September, 2016 PeterWAWood 00:07@maximvl LIbRed is not written in C. geekyi 00:17@PeterWAWood perhaps he is implying the interoperatability of Red/system with C? PeterWAWood 00:41@geekyI LibRed has nothing to do with the interoperability of Red/System with C either. geekyi 00:42well.. ok :smiley: PeterWAWood 00:43I'm not sure if it is embeddable in other programs, it may be. geekyi 00:43so I guess libred isn't ready yet? In my excitement I tried to compile from sources the libRed branch 00:44there is a reference to a /c/dev/red/libred-include.red file which I don't have obviously (REBOL/View 2.7.8.3.1 1-Jan-2011), trying >> do/args %red.r "%tests/hello.red" ghost~5680c5f416b6c7089cc058a5 05:02@geekyI if you extract the latest source in c:\dev\red\ then compilation works fine. If you extract it somewhere else, then it has problems accessing the path /c/dev/red . But the output of the compiled executable is not something we expect, after compiling and running %tests/hello.red we get this output - make typeset! [datatype! unset! none! logic! block! paren! string! file! url! char! integer! float! word! set-word! lit-word! get-word! refinement! issue! native! action! op! function! path! lit-path! set-path! get-path! routine! bitset! object! typeset! error! vector! hash! pair! percent! tuple! map! binary! image!] make typeset! [block!] make typeset! [integer!] make typeset! [word!] And View/Vid applications refuse to compile. For eg. Compiling /C/dev/red/tests/vid.red ... *** Compilation Error: undefined word view (I am not sure if I am doing something wrong or if it's the compiler bcos I am touching Red after a long time) dockimbel 05:30@nc-x The output is wrong because currently the index in %redbin.r needs to be manually adjusted after compiling libRed. 05:33libRed is just the externalization of the Red runtime library, allowing to embed it in third-party software (using a new API to be added), and avoiding the cost of recompiling the runtime library each time, so (much) faster compilation and very small executables as a result. This compilation model will be available in a default "development" mode, a "release" mode will compile & link everything together as usual. 06:27@Cthutu @meijeru About the addition operator behavior for vector/vector and vector/scalar, it is just how it was implemented, the precise semantics are not defined yet, it's open to debate about which behavior is the most helpful. In contrast to most other datatypes, vector! has appeared only in Rebol3 and was never really finished, so it needs additional design work, especially wrt to math operations. Note also that we plan to add a matrix! datatype based on vector!, so this would need to be taken into account too. For the vector math ops, there are two aspects colliding: a) Vectors are series, so mutable. The usual rule is to mutate the series when applying a transformation, so that immutability can be manually controlled through copy usage. b) Maths operations apply only on scalar values (so mostly immutable, except for pseudo-scalars like pair!, tuple! and typeset!) in Redbol world. ifgem 09:16Just started playing with image!, found 3 bugs. What's wrong with me?:))) 09:17#2219 it doesn't work in Rebol either. But it should at least raise an error, I think. rebolek 09:29@ifgem nothing’s wrong with you :) Red is still alpha and some bugs are expected. Especially in corner cases like this. Zamlox 10:56 geekyi 16:25@nc-x I'm going to try the new sources. I did change the locations in the source to relative paths (%./../) and try, libRed.dll and libred-defs.red were built but something still needed access to libRed-include.red which wasn't built for some reason (I think it worked once tho). 17:34ok, I managed to get it to compile :smile: (file paths were wrongly edited last time) and then Avira Cloud protection started acting up. After much tinkering I figured out what to disable.. and now it works! :sparkles: greggirwin 18:36@ifgem, these are great edge cases to find. Keep up the good work! :^) Sunday 11st September, 2016 PeterWAWood 14:48Stuffed 14:49The wonders of predictive text and gutters mobile ui ☺️ greggirwin 20:04Some time back I posted remove-while/take-while examples, but gitter doesn't make tracking history easy, so I decided to put them in a gist: https://gist.github.com/greggirwin/9fc085a8b6b2ca38f756e9285c389674 21:47Here's a fun little func I ran across while looking through old code. Quick job to port it to Red. It might seem like just a party trick, out of context. The goal is not "look how we can twist the language around!". Think, instead, of how you can use the language to most clearly express intent in different domains, or for different users. Quite often, when a user wants a different way to express things, we can accommodate them. It's also true that we can suggest a form that exists natively in Red, and they will be just as happy. Don't twist the language because you can. But don't be afraid to when it helps. ; Interpolate tuple tup: function ['tuple [word!]][ words: split form tuple #"." forall words [change/only words to word! first words] make tuple! reduce words ] e.g. [ r: 0 g: 128 b: 255 print tup r.g.b set [a b c d e f g h i j] [1 2 3 4 5 6 7 8 9 10] print tup a.b.c.d.e.f.g.h.i.j ] 21:48I don't have an untup func, but now I want to see how that might work... 21:52Just blockify the values of the tuple segments? untup: func [tuple [tuple!]][ collect [repeat i length? tuple [keep tuple/:i]] ] e.g. [ set [r g b] untup 0.128.255 print [r g b] set [a b c d e f g h i j] untup 1.2.3.4.5.6.7.8.9.10 print [a b c d e f g h i j] set [x . y . . . z] untup 1.0.2.0.0.0.3 print [x y] ] Monday 12nd September, 2016 Cthutu 13:59@dockimbel I just think that having a single operator be immutable or mutable depending on the parameters is asking for trouble. + in every language returns a new value. It's weird that it doesn't in red but only if the parameters are of a certain type. Do you see where I am coming from? gunnarahlberg 14:17Is red-12sep16-a45f9b5.exe broken? Compiling Red GUI console... for the longest time now meijeru 14:53@Cthutu +1 pekr 15:02I thought the path issue for the libRed was already resolved? I was able to compile hello.red, but once again I get following: 15:02Compiling to native code... *** Driver Internal Error: Access Error : Cannot open /c/dev/red/libred-include.red Tuesday 13th September, 2016 geekyi 06:26@pekr I guess doc accidentally reversed my change in a merge conflict red/red@6531d70 06:28best wait for it to get stable I guess pekr 06:56It seems so. One further question anyway. Does the compiler somehow recognises, there was some code change in the backend itself, so that it should recompile libRed.dll? So is there any other way, than to manually delete the library, letting the system to generate a new one? geekyi 06:58@pekr I do is delete the files.. 07:02@pekr I think it is possible to set up a system to auto delete.. based on the modification date.. but I have a question now.. 07:03Is this a major workflow in developing red.. generating files? Otherwise I'm wondering where the build output should be put pekr 07:05My WFL is the double-clicking the red.r and using rc "-t MSDOS %tests/hello.red" geekyi 07:05Red sure makes the line blurry.. between what should be generated/what is source code rebolek 08:56Does anyone have older versions of Red? pekr 10:21@rebolek do you mean red.exe? Ah, sorry, false positive - I've cleaned my downloads section, so older versions are gone ... rebolek 11:13@pekr no problem, it’s easy to compile specific version from tagged releases and version from (I think) 0.4.0 can be downloaded from red-lang.org WiseGenius 13:05 @rebolek If you're still looking, I have some from red-042.exe onwards for Windows and from red-050 onwards for Linux, almost 100 automated builds for each, and over 200 copies of the source code timestamped since over a year ago. Anything you're after specifically? rebolek 13:43@WiseGenius Thanks, I was looking for 0.3.0 or 0.3.1 version, but it’s easy to download tagged versions from [GitHub](https://github.com/red/red/releases?after=v0.4.1) and build them. WiseGenius 13:51I probably had never heard of Rebol or Red that far back, or maybe I had just discovered them, haha. rebolek 13:59:D Wednesday 14th September, 2016 maximvl 10:03 It will be 2 months without any updates soon rebolek 10:05@maximvl do you mean on the website? there are regular updates on [Twitter](https://twitter.com/red_lang) maximvl 10:08yep, the twitter is more for sharing progress, but people are waiting more or less big news ;) rebolek 10:09There is sneak peak for libRed, so I guess 0.6.2 is around the corner :) maximvl 10:15or, let me turn it another way 10:16the red core guys can have fun time playing with red 10:16but other people also want to have fun 10:17and I'm still not sure what the libRed is about rebolek 10:19@maximvl libRed will provide precompiled Red runtime, so compilation times will shorten *significantly* maximvl 10:21@rebolek so its a dynamic library, right? And right now do we have whole runtime to be statically compiled into executable? rebolek 10:24@maximvl I don’t know the details of the implementation, I haven’t looked at it yet, but basically yes, right now you have to compile whole runtime. PeterWAWood 10:33@maximvl :point_up: [September 10, 2016 1:30 PM](https://gitter.im/red/red?at=57d39a67d274dbdf3505a719) geekyi 11:40@maximvl what do you mean there aren't any updates? lot of activity here on github, and I'm already having fun playing around.. aren't you? :smile: maximvl 11:43nope, I need at least sockets support, GC of course would be great rebolek 11:58@maximvl IO will be there in 0.7 11:58and when the compile time will get from 20 seconds to just one, you can also expect much faster development ;) maximvl 12:33I hope so, because 6.2 is already delayed for 2 months rebolek 12:40There should be some law to forbid estimates in software development. 12:41"yeah, that’s a quick fix, it will be ready in 15 minutes" two weeks later... maximvl 12:42ye, I know what you're talking about 12:43but on the other side you have customers, you have sponsors, they need estimates to understand what's going on rebolek 12:44I know that very well. maximvl 12:44and in your example after 15 minutes programmer should have come up with a new estimate which will be much closer to the final one rebolek 12:46*in the case he isn’t absorbed by solving the problem* 12:49Anyway, Red team has great history of delivering, it may not be always when expected, but the releases are here and sometimes with some unexpected goodness. Like the whole reactive system or, as it looks, OS X (or is it MacOS now?) GUI right now. maximvl 13:11true, I believe Red already has no alternatives in cross platform native GUI rebolek 13:13It has, but look at them... Tcl/Tk? Java? maximvl 13:14Java is 70Mb of dependencies 13:14Tcl/Tk - does not compile to native rebolek 13:15Right. 13:15There’s no other 1MB language with native GUI. Period. geekyi 13:16@maximvl react native, delphi maximvl 13:16delphi is not cross platform geekyi 13:16yes that maximvl 13:16react native is not even funny rebolek 13:16it is funny to me 13:17like haha, how can someone take it seriously maximvl 13:17my opinion is JS not only should not expand on other platforms, but should be removed from the web geekyi 13:18@maximvl I think we are all here because a lot of our opinions match if not exactly :smile: JS what I'm most familiar with, but I agree with your opinion. However, I do think webassembly *is* the way forward for that to happen rebolek 13:18JS has huge mountain of problems but the only other thing that was seriously considered at the time was Visual Basic 13:19so I am all for JS here meijeru 13:19@maximvl Why do you say *react native*? It is a function whose source can be inspected. geekyi 13:20@meijeru Haha, ok I'm going to avoid things unrelated to red now meijeru 13:35Indeed, I hadn't caught on to the fact that there is something called React (Native) out there. I thought you guys were discussing Red's react. rebolek 13:48It was just general discussion about the state of GUI (languages). 13:49It is amazing how GUI and language are disconected today. 13:53There are at least five different GUI systems in use (Windows, OS X, Linux, iOS, Android and then consoles, "smart" TVs, etc...), all of them following basically the same principles, but there is **NO** language, that can use same code for them. maximvl 13:55>It is amazing how GUI and language are disconected today. 13:55this one rebolek 13:55You can hear, *but the targets are different!*. Well, ARM is different from Intel. So what, people are using them basically the same way. As GUI. maximvl 13:55the last attempts to change this were made in Plan9 / Inferno I believe rebolek 13:56+1 for Plan9. Amazing piece of work. maximvl 13:57Smalltalk also have wonderful usage of GUI Cthutu 13:58I write some of my tools using ImGui maximvl 13:58python library? Cthutu 13:58Immediate mode UI writing is much more productive 13:58No, C++ 13:58search for it on github maximvl 13:58oh, I guess I found binding Cthutu 13:59People are doing really cool things with this rebolek 14:01Red is already capable of Android UI. Just look out for the Android branch. This is the game-changer. 14:02But it needs the underlying structure. So we have to wait :D maximvl 14:04yes, it is so cruel that we can see all great things can be done with this GUI, but without I/O, GC nothing can be actually done yet rebolek 14:08There is partial IO and you can avoid GC with reusing memory, but yes, it is missing. 14:09Anyway, Red is still alpha. I/O and GC are planned. FullStack is working on that. It will happen, but it takes time. dsgeyser 15:03@rebolek why do you say React Native is funny? Started looking at it yesterday? Red can be used in a declarative manner. React Native is all about interfaces which are described declaratively. Maybe we can take something good from it. 15:05@rebolek Need your expert opinion. Always welcome. rebolek 15:07@dsgeyser I am not saying it is wrong. I am saying it is funny. It is looking in the right direction, but it puts some unnecessary trees before the eyes. 15:08Just have a look at their first example: import React, { Component } from 'react'; import { Text, View } from 'react-native'; class WhyReactNativeIsSoGreat extends Component { render() { return ( <View> <Text> If you like React on the web, you'll like React Native. </Text> <Text> You just use native components like 'View' and 'Text', instead of web components like 'div' and 'span'. </Text> </View> ); } } 15:09There are two paragraphs and some unnecessary code around it. 15:10That is, why it’s funny. But it’s much better than other options. maximvl 15:11can you use react native for desktop apps? dsgeyser 15:13Its native UI components being controlled by Javascript, so no other syntax to learn. And cannot get away from JS. rebolek 15:14No problem with JS. I like JS, it is no PHP. But Red is better. 15:15But, @dsgeyser , there is one other syntax to learn, HTML. 15:15No problem with HTML also, but it is widely different syntax from JS. dsgeyser 15:16@maximvl Use almost same code as ReactJS, but only Android and iOS - Native Apps. All about mobility. rebolek 15:16And then CSS. Another different syntax. 15:17So you have three languages that are really different to do one simple UI. dsgeyser 15:18@rebolek Can we really get away from from those 3, if you need to develop webapp? rebolek 15:19@dsgeyser I believe that we can. That is why I wrote [Lest](http://lest.qyz.cz) dsgeyser 15:21@rebolek What about seperation of concerns. And scalability? I really do love Redbol, think its the best, and see a lot of Red's future in React as it is now. rebolek 15:25@dsgeyser Separation - the thing is that you can separate, while using the same syntax. It is like using your language to talk about usual things, latin for lunch and mongolian for dresses. It makes no sense. dsgeyser 15:26@rebolek btw what happened to tool (Rebol to emit JS) which you started developing about a year ago? rebolek 15:26@dsgeyser That was not me, sorry. geekyi 15:26@dsgeyser I belive seperation of concerns can be done (conversely there is overlap at times, e.g. interactivity with js & css). Also, I think the best ideas of React can be used in Red, but I don't know what you mean by scalability? rebolek 15:27Scalability: that is question of underlying structure, not language. We will see. geekyi 15:27@dsgeyser (Rebol to emit JS) it exists I think, need to search a bit.. also have you heard of asm.js and it's successor webassembly? Red will probably emit webassembly in the future I think rebolek 15:29@dsgeyser (Rebol to JS) exists, I saw it, but unfortunately it was never released and the author disappeared from Redbol world, so I guess it will never be released :( 15:32Anyway, there is still [Topaz](http://www.colellachiara.com/soft/topaz/try-topaz.html) dsgeyser 15:33@rebolek other frameworks implement JS with HTML syntax. React syntax is more JS syntax. Only one more language to learn. And you can use JSX and/or JS. And one codebase. rebolek 15:35@dsgeyser as I said, I have nothing against React. But I think it stopped half away. Things can be made easier. That is what I am trying to show with Lest. 15:38And it is heavily dependent on [StyleTalk](https://github.com/rgchris/StyleTalk) by @rgchris for styling. 15:39But it uses same (Redbol) syntax. maximvl 15:39@rebolek wtf is this topaz O_o rebolek 15:40@maximvl I guess you don’t know the history of Rebol ports, do you? :) dsgeyser 15:40@rebolek It was Rebol dialect code which emit w2ui framework code. Was started by Bo. rebolek 15:42@dsgeyser You are wrong, Bo wrote different thing. HTML emitter for View. 15:42Topaz was done by Gabriele, it is CLI only. dsgeyser 15:50@rebolek It was Rebol dialect emiiting w2ui framework code - done by Bo. rebolek 15:51@dsgeyser but that was not Topaz. maximvl 15:51@rebolek nope, Rebol is totally new world for me 15:51the thing is 15:51I can't find any js files in the repo 15:52how does it work? rebolek 15:54 15:54@rebolek To be honest, I never knew how Topaz works. It just it does and it exists. 15:56There must be some JS parser to run all the Rebol-like stuff. 15:56At least I think ;) maximvl 15:57ah 15:57in the makefile: wget -O topaz/bootstrap.js http://www.colellachiara.com/soft/topaz/bootstrap.js dsgeyser 16:02 Thursday 15th September, 2016 rgchris 05:21I did a Bootstrap wrapper for *Try Topaz* a while back: http://reb4.me/tt 05:24It's not complete and is tricky to get a handle on how to alter the build (I did manage to hack in a rudimentary **call** that hooked to the host JS, but it wasn't fun). However, aside from an Emscripten build of *<a Rebol 3 branch>*, it is the most advanced Rebol-in-a-browser thus far. 05:26PARSE is limited to blocks, though does have an early implementation of PARSE's COLLECT/KEEP (not sure if Red was inspired by that or other). There were other innovations but not coming to mind... maximvl 12:06guys, guys 12:07is there any websockets support for Rebol? PeterWAWood 13:42Nothing built 13:43Nothing built in but there is this - http://cheyenne-server.org/blog.rsp?view=30 - courtesy of @ 13:43@dockimbel geekyi 14:18@maximvl ah I thought of something else when you mentioned *sockets*. Cheyenne is awesome. It has become my go-to webserver for anything without a large database maximvl 14:54@geekyI do you use it's websockets too? geekyi 14:55@maximvl not really, but there's a websockets demo I tested (chat app) , and it works. I'm using the version from source BlackATTR 16:35@rgchris Any chance Topaz could be rigged to host an interactive fiction UI on a website? I've been itching to try a rebol version of IF-- a command-line text "adventure game" interface. rebolek 16:39@BlackATTR As @rgchrissaid, Topaz's parse is limited to block!s, but for IF UI I guess you would need string! parser. So you either should patch Topaz to support string! or be creative with your IF vocabulary, so it can be loaded and parsed as block!. I think the later option is much easier. BlackATTR 16:46@rebolek Yes, I'd need to parse strings. Also, I'd (probably) need the 'forever function to create a dynamic command-line interpreter. rebolek 16:50@BlackATTR things like "go north", "kick door", "pick up dead trout and smash troll with it" can be loaded and parsed as blocks. Thanks to rich set of datatypes, the amount of content that can’t loaded is surprisingly small. 16:52(For some simple dictionary as in IF. Not in general). 16:55I was always interested in porting the Z-machine to Redbol. BlackATTR 16:57 geekyi 16:57> I was always interested in porting the Z-machine to Redbol. sounds like an interesting project! BlackATTR 16:57@rebolek Yes, Jeff Kreis of Rebol Technologies circa 2000 even provided a nice how-to: https://web.archive.org/web/20120510120959/http://www.rebolforces.com/zine/rzine-1-02.html (how to write a simple, interactive-fiction-style dynamic interpreter, not how to port a z-machine.) rebolek 17:02RebolZine, wow the memories! :) 17:06@BlackATTR if you look at his interpreter, it loads input and parses it as block!. So that is what I described and is possible in Topaz. BlackATTR 17:19@rebolek Yes, cool. Hopefully creating the dynamic interpreter (using forever) won't pose problems. There are some javascript libraries which handle similar functionality (e.g., http://www.masswerk.at/jsuix/ ) but it would be unique to use redbol. rebolek 17:35@BlackATTR definitely. Every example how to simplify software development with Red/Rebol principles is great. greggirwin 18:13I have some old IF stuff too. Fun. imgui looks interesting. Nice link. Re SOC, tooling, etc., I don't think of Red as the end point. Red is a language and tool construction kit. It is the beginning. We will learn a lot by implementing existing framework and design ideas, but that's a reactive approach (no pun intended). Cthutu 18:14I use ImGui to implement a professional editor. It's made UI programming childsplay compared to how it used to be with APIs like Qt and wxWidgets. greggirwin 18:15Perhaps ironically, one of the languages I see as closely aligned with Red in many ways is the Wolfram Language. The irony being that it grew out of "thinking large" (knowledge based programming). There's a lesson there, though. 18:16@cthutu The screenshots look great, and the code is almost VID-like (in C++ clothing). Cthutu 18:16It's declarative and reactive in a way since there are no lifetimes to manage rebolek 18:29@greggirwin nothing against Wolfram, but it’s online-only. BlackATTR 19:09Nice that Wolfram is well integrated for cloud computing though. Anybody thought about getting redbol into Heroku? https://www.heroku.com/languages geekyi 19:35@BlackATTR that is (another) good idea! Not just heroku, other similar systems that deploy.. 19:37I'm currently having a bit of a problem with windows updates.. has used up 10 GBs (!) worth of data this month greggirwin 19:42@rebolek, what I mean by closely aligned is in the idea of symbolic processing. If you look at WDF (Wolfram Data Framework), the underlying text representation isn't far from Red. Only Red is cleaner. ;^) 19:45And as an alternative, as @BlackATTR says, it's well integrated with a cloud concept. The idea that you can create something small, deploy it instantly, and have a URL to that functionality is not far from the idea of Reblets...Redlets...Redbol..ets...Red Bullets? 19:49I hadn't seen Heroku Languages. That's a smart way to promote their service, and valuable where languages are hard to manage and slurp up lots of other stuff. Another good thing to look into, I agree, but also comes back to how Red doesn't really benefit from containers as much as other stuff, because it is already so self-contained. As the infrastructure grows, it may be a better fit, or maybe we can build frameworks and systems that solve the problem containers purport to, but in a much lighter way. 19:51Another summary view, for me, is that we should look at *everything* out there, not only to see what they get right, and not to just redo what they've done, but to look at *why they exist*. Look at the problem they're trying to solve and think, independently, about how best to solve that problem. geekyi 20:29@greggirwin I agree with you there, probably overkill for red (like most things out there). Instead, it's more of a marketing thing, having red everywhere, "one-click deployment" etc. Actually there are lighter methods to deployment in between (for e.g. say.. cheyenne) and full "container orchestration" with VMs; such as NixOS and guix (using functional dependencies). The problem they all are trying to solve in my opinion, (in the most abstract sense) is the *dependency problem* 20:33You could also argue about it dealing with deployment of changes at scale, but that's not needed for everyone.. *and* simple lightweight systems usually scale better (e.g. erlang). Perhaps I may also not be so upto date on the latest requirements and tech BlackATTR 21:08I work for a fortune 500 company where much of our application stack is migrating into the cloud (e.g., SalesForce, Heroku) and big data offerings (MongoDB). Yes this driven by quite a lot of industry hype, but it's a reality. The ability to script in a cloud / big data environment is far more important to my world than to build native GUIs. This trend isn't going away anytime soon. The cloud/big data desperately needs new *simple* languages and customizable syntaxes to cut through all of the complexity in those environments. endo64 21:12:point_up: [September 15, 2016 3:06 PM](https://gitter.im/red/red?at=57da8ee327a8458f7f190de2) I wrote a websocke client six years ago just as an experiment, http://www.moldibi.com/rebol/ws.html Here is the SO link http://stackoverflow.com/questions/3329428/any-simple-standalone-code-sample-for-a-websocket-protocol-ws-implementation-i And additionally I found this on github: https://github.com/WayneCui/rebol-websocket greggirwin 23:03@geekyl, yes. @BlackATTR, I couldn't agree more. Friday 16th September, 2016 maximvl 09:45@geekyi hi, is there any info how to start with Cheyenne? 10:22did anybody use Topaz? I can't even get system/words list =\ rgchris 17:12I've not used it much beyond initial evaluation. 17:12Is there an endorsed Red hashtag? #redlang ? greggirwin 22:25Topaz has always been experimental. Can't say what the future holds, but it shows that Redbol to JS is, in basic form, a solved problem. Saturday 17th September, 2016 asampal 08:32@rebolek Wolfram is the company name, so I'm not sure what you meant by it being online only. The Wolfram Language is not online only, if that's what you were referring to. It's part of the Mathematica products, for example. dockimbel 09:15FYI, as the Mac GUI backend is advancing faster than expected, so we have moved it earlier in our schedule (see https://trello.com/b/FlQ6pzdB/red-tasks-overview). The detail of the work on Mac GUI is there: https://trello.com/c/UgsrhiHf/143-macosx-gui-backend 09:19BTW, we are just recovering from a [class 5 typhoon](https://en.wikipedia.org/wiki/Typhoon_Meranti_%282016%29) that [hit](http://edition.cnn.com/2016/09/14/asia/typhoon-meranti-weather/) Xiamen on 14th, leaving us without water/electricity/food until this morning. Our office suffered also a mild flooding (we're on 3rd floor, but the rain with the help of strong wing, found a way in). That typhoon was in the top 3 strongest ones ever recorded in history! maximvl 09:23oh wow 09:27looks like there was a lot of damage pekr 09:28@dockimbel you were not here, so you might missed the talk about a possible regression? IIRC, the hardwired path was fixed? Most probably the fix got lost during some merge? Compiling to native code... *** Driver Internal Error: Access Error : Cannot open /c/dev/red/libred-include.red *** Where: process *** Near: [write %/c/dev/red/libred-include.red tmpl words: to-block ] dockimbel 09:41Here is our office after the typhoon: 09:42[![mmexport1473988820335.jpg](https://files.gitter.im/red/red/ePDH/thumb/mmexport1473988820335.jpg)](https://files.gitter.im/red/red/ePDH/mmexport1473988820335.jpg) 09:42Fortunately, just the carpet was damaged. pekr 09:433rd floor flooding - unbelievable .... dockimbel 09:44I'm living on the 31st and last floor of my building. During the typhoon, it was tilting by about 40cm for about 3 hours, I was feeling like on a boat. ;-) pekr 09:47Is the 31st floor enough height to have an emergency parachute at home? Just in case? :-) dockimbel 11:48@pekr Could work, though, if used during a class 5 typhoon, I'm not sure on which continent I would land (and in how many pieces). ;-) pekr 11:49:-) dockimbel 11:51:point_up: [September 17, 2016 5:28 PM](https://gitter.im/red/red?at=57dd0ccc27a8458f7f21339d) Absolute paths are required there for now for the compilation process to work properly when source files to compile are located in different folders. It will be replaced once the code is stabilized. Just put your own local paths if you want to test it. Remember it's a development branch, so it is a work in progress. 11:52Almost all the unit tests are passing now, only compilation of object inheritance is broken (used in %reactivity-test.red). pekr 11:52Yes, it is just that it worked, or so I think .... 11:56from geekyi > @pekr I guess doc accidentally reversed my change in a merge conflict red/red@6531d70 11:57but I can easily wait, no worries .... greggirwin 15:52@dockimbel, most important is that you and @qtxie are safe. 15:53And it looks like *great* progress on the OS X GUI. JacobGood1 15:53@dockimbel was that frightening, did you think your building might fall? greggirwin 18:39Here is a basic version of a handy function, when you need to extract one or more fields from records (obj/blk/map): gather: function [ "Gather the specified values from each item in the block" block [block!] "Block of items to gather data from" keys "One or more indexes or keys to gather" /only "Insert results as sub-blocks" ][ keys: compose [(keys)] ; blockify keys for consistent iteration collect [ foreach item block [ vals: collect [ foreach key keys [keep/only item/:key] ] either only [keep/only vals] [keep vals] ] ] ] e.g. [ blk: [[1 2 3] [4 5 6] [7 8 9]] gather blk [1 3] gather/only blk [1 3] gather blk 2 blk: reduce [object [x: y: z: none] object [x: 1 y: 2 z: 3]] gather blk [x z] gather/only blk [x z] gather blk 'y blk: reduce [#(a: 1 b: 2 c: 3) #(x: 4 y: 5 z: 6) #(a: 1 b: 22 z: 33)] gather blk [a z] gather/only blk [a z] gather blk 'b ] As a standard mezzanine, it would need some design work, but even this basic version is very usable. raimundasa 19:30This is a bug? a: [1 2 3 4 5 6 7 8 9] b: at a 5 append/part b a 4 print b ; = [5 6 7 8 9 1 2 3 4] print a ; = [1 2 3 4 5 6 7 8 9 1 2 3 4] ??? Sunday 18th September, 2016 PeterWAWood 01:19@raimundasa It isn't a bug, but is the expected behaviour: red>> a: [1 2 3 4 5 6 7 8 9] ; bind word a to the value [1 2 3 4 5 6 7 8 9] == [1 2 3 4 5 6 7 8 9] red>> b: at a 5 ; bind a to the same value with the index set to 5 == [5 6 7 8 9] red>> a/8: "eight" == "eight" red>> b ; show that b and a are bound to the same value == [5 6 7 "eight" 9] mikeparr 09:41I think that b is a reference to the 'a' series. There is only one series in memory, currently. Expected. PeterWAWood 10:48P maximvl 12:13should we expect Linux GUI to be finished fast too? endo64 13:06Hi @greggirwin I've made some small changes on gather function now it can append the values into an existing block, gather: function [ "Gather the specified values from each item in the block" block [block!] "Block of items to gather data from" keys "One or more indexes or keys to gather" /only "Insert results as sub-blocks" /into output "Provide an output series instead of creating a new one" ][ keys: compose [(keys)] ; blockify keys for consistent iteration unless into [output: make block! (length? block) * length? keys] collect/into [ foreach item block [ vals: collect [ foreach key keys [keep/only item/:key] ] either only [keep/only vals] [keep vals] ] ] output output ] What gather function does is very similar to extract, so may be we can merge those functions under one, better in extract, for example if the width parameter is is integer then it works just like extract if it is a block then it works as gather. What do you think? mikeparr 16:01zity geekyi 16:01@maximvl [gtk on trello roadmap](https://trello.com/c/aoO1zUGr/156-gtk3-gui-backend) I'd expect libred to be next on the list 16:03glad that doc and qtxie are safe :smile: greggirwin 17:29Thanks @endo64. I had that in my original version, but removed it for simplicity. And our code for pre-allocating the block is almost identical. :^) I go back and forth about whether I think /into is a good thing. While I like the idea of control (and, indeed, an HOF accumulator model comes up in more and more things I look at), it adds this small element of complexity *everywhere*. It means that, if we want consistency, *every* series function should support it, right? And that means every new series function I write should also support it. And it's not hard to get it wrong (IMO). It also means all calling code has the optional /into, which adds another thing you can get wrong. Monday 19th September, 2016 greggirwin 03:16I should add that a compelling case for /into is to collect into a string instead of a block. dockimbel 07:49We're on HackerNews, please upvote! https://news.ycombinator.com/item?id=12526263 07:51@maximvl Now the Mac GUI backend is almost completed, we can make a better estimation for the work on GTK. We expect it to take 2 to 3 months to achieve. Though, full I/O is higher-priority, so we'll open a 0.7.0 branch as soon as the Mac backend is released. pekr 07:54Eager to see, how Mac community feels about the GUI :-) dockimbel 07:55@JacobGood1 Well, a little yes, as construction quality standards are pretty low in this part of the world. ;-) rebolek 08:090.7.0 right after Mac backend? That sounds really great! maximvl 08:15wait, but this post already was on HN rebolek 08:19It was, twice, once with 5 points and once with 2 points. Now it’s on 61 points. I don’t think it’s the first time something has been posted on HN more times by different people :) dockimbel 08:53It is common on HN to re-post, at a more favorable time, older posts that didn't make it on front-page. rebolek 09:04It seems that the timing was much better now :) pekr 09:05@rebolek I can see Android being still before the IO, so we will see, how Doc decides on that ... Many ppl want IO first, but Android was mentioned several times as being a strategic priority. We will see ... rebolek 09:06@pekr there is work on both MacOS GUI and libRed now, so I guess this can be case with Android/IO also. maximvl 09:06the thing with IO is Red will become more or less practically usable 09:07so more people will start learning Red, even with a console applications and scripts 09:08Android support will not give you that 09:08it is more like people will say "wow, you can write cool gui in Red", and return to their usual programming in python/java/etc WiseGenius 09:11IMHO, Red's current temporary IO is already usable enough for beginners to start learning Red and to stick with it. maximvl 09:12it has no documentation, so it's hard to talk about current temporary IO ) 09:13besides, people might not understand that this IO is temporary and leave before realizing this WiseGenius 09:18AFAICT, code using the temporary IO will still work with the future IO. CMIIW, but I don't think beginners need to be aware of the rewrite unless they want to use IO in a more advanced way. ifgem 11:180.7 after macOs gui that's almost done? Is this the real life? Is this just fantasy? endo64 12:03I'm a bit confused on the below issue: red>> to integer! first "^(41)" == 65 (correct) red>> to integer! first "^(0D0A)" == 3338 (incorrect?) R2>> to integer! first "^(0D0A)" == 10 12:08Ah got it, ^(0D0A) is not a correct syntax. PeterWAWood 12:20It is correct ;-) just not what you wanted !! 12:22 "^(0D0A)" is a valid string containing the "MALAYALAM LETTER UU" 12:23Here it is in all its glory --> ഊ maximvl 12:24:D raimundasa 19:20q 19:28Sorry. I finished playing with Red not there rebolek 19:34:D pekr 19:41Good thing is, that Gitter's not written in Red, or we would not be here anymore :-) maximvl 19:45hey guys 19:45I'm reading sources of Cheyenne 19:45what is thing called encap-fs? There is also similar module in Red repo 19:55so far I can see it writes files structure into one file 19:55but I don't get overall idea greggirwin 20:08I haven't read the source for it, but "FS in a file" is an old idea. Windows called it "structured storage" in the OLE days. maximvl 20:09but what is the reason for one? greggirwin 20:11So you didn't have to use a database for simple, structured data. Remember, not everyone has load and save. :^) maximvl 20:12but it just contains list of files 20:12I mean, you can read %dir to get it greggirwin 20:12And you didn't have to litter the file system with separate files, any of which the user might mess with and cause your app to crash. maximvl 20:13here is example of what's there greggirwin 20:14And you have to name and manage all those files, which may mean mapping internal names to safe names for the FS, etc. The alternative may have been a save/load model with individual files. I can't say. maximvl 20:14 REBOL [] encap-fs/cache: [ %HTTPd.r [#include %HTTPd.r] %httpd.cfg #include-binary %httpd.cfg %misc/conf-parser.r [#include %misc/conf-parser.r] %misc/debug-head.html #include-binary %misc/debug-head.html %misc/debug-menu.rsp #include-binary %misc/debug-menu.rsp %misc/mime.types #include-binary %misc/mime.types %misc/system.r [#include %misc/system.r] %misc/os.r [#include %misc/os.r] greggirwin 20:16If Nenad built it, there was certainly a valid rationale behind it, but I can't say what that is without seeing how it all works. tomsw 20:41In Rebol there is something called "use". What's the equivalent in red? I'm trying to understand how scopes work. As a lisp enthusiast, http://blog.hostilefork.com/rebol-vs-lisp-macros/ seemed an interesting place to start greggirwin 20:44There are a number of articles that discuss binding in Rebol, and its model of definitional scoping. Red mimics it very closely, though may differ in some details. Here's how you can write use in Red, as a quick stub: use: func [ "Defines words local to a block evaluation." vars [block!] "Words local to the block" body [block!] "Block to evaluate" ][ ; R3: apply make closure! reduce [to block! vars copy/deep body] [] ; Renaud Gombert's simple approach do has vars body ] tomsw 20:49Thanks. A propos, is there a red dictionary similar to the rebol one? Googling for "use" or indeed "has" is a no-hoper greggirwin 20:52http://www.red-by-example.org/ is working some things up, and you can still use a lot of Rebol docs for reference. If there's a func you need that isn't in Red yet, folks here can often help out. tomsw 20:56That's really useful :) Tuesday 20th September, 2016 dockimbel 04:25@maximvl encap-fs is an old little framework I wrote a long time ago to allow having a Rebol2 codebase to be encapped (using Rebol/SDK) while still being able to run it from source (running the main script with do) without any change (this is not possible by default with the SDK). It works by creating a memory cache where files are requested from, when run from an encapped instance. 04:27@endo64 Remember Rebol2 is not Unicode-aware, Red is: R2>> "^(0D0A)" == "^/" red>> "^(0D0A)" == "ഊ" ^(0D0A) is one codepoint only, maybe you wanted "^(0D)^(0A)" rather? maximvl 08:12@dockimbel hi, but what does files are requested from mean? dockimbel 08:45@maximvl It means: when you access files using the encap-fs *-cache API, which should be then used instead of the standard file I/O functions. Basically, you just replace in your code the file I/O calls, define which files you want to cache, and the framework handles the rest for you. You can then encap your codebase or run it with do with no further changes. maximvl 08:55does it mean you have content of all these files in memory, and load it from there? dockimbel 09:05@maximvl Precisely, yes. That's how the red executable works, it pulls source files from memory and runs them using do. maximvl 09:06@maximvl just not used to idea that one may need to load same file several times dockimbel 09:22It is just loaded once, through a memory cache. maximvl 09:24@dockimbel I mean, since you put file into cache you want to do it several times during program execution dockimbel 09:28No, that memory cache is not meant for *reducing* disk accesses, it is for *suppressing* all disk accesses from an encapped codebase for the cached files, so that it becomes self-contained and does not pollute the disk with temporary files. It acts like a poor's man virtual filesystem where the files are pulled from memory and not from disk, when in encapped code. This is a specific workaround for the Rebol/Encap constraints. The Red executable could be made to dump its own source code to disk, using a specific command-line argument (to be added), and then let you run the codebase from the disk instead of from memory. ;-) maximvl 09:33@dockimbel but it just contains lines like %misc/conf-parser.r [#include %misc/conf-parser.r] 09:33does #include load file content into the block on start? dockimbel 09:34@maximvl It loads cached files content on *encapping*, which is when the executable is generated. maximvl 09:35but Rebol doesn't generate executables, does it? dockimbel 09:35Generating executables is the purpose of Rebol/Encap product (part of the Rebol/SDK). maximvl 09:36ah, I see, thanks, a lot of things to think about here dockimbel 09:38The encapping process is just a way to add a compressed version of the source files to a special version of the Rebol interpreter, creating a standalone executable, which loads and runs your code on start (uncompressing the files from the executable in memory and running them from there). geekyi 09:38@maximvl :point_up: [September 20, 2016 1:14 AM](https://gitter.im/red/red?at=57e04713c8af41d45f2bae47) where is the code from? maximvl 09:39@geekyi from Cheyenne I'm running dockimbel 09:40You'll find similar code in red/build/ folder. geekyi 09:41@dockimbel there's been some questions by newcomers about rebol/sdk, on it's requirement to dig deep into the low level guts of RED 09:41My intuition is it's not really necessary, can you clarify tho? dockimbel 09:41@geekyi Rebol/SDK is not required for using or running Red, it is only used for generating a standalone Red executable, including the whole Red toolchain and runtime library in it. You can run the whole Red toolchain from sources using the basic Rebol interpreter. The standalone Red executable is just provided for convenience. maximvl 09:42the thing is this is the only system you can learn to get some understanding of Red/Rebol geekyi 09:42@maximvl latest source? (I'm unable to find that exact code using search but whatever :smile:) maximvl 09:43@geekyi yep, from github geekyi 09:48@dockimbel I think that needs to be in the faq somewhere, it discourages contributions as a lot of people assume that is needed to compile from source. e.g. [September 11, 2016 2:43 AM](https://gitter.im/red/red/welcome?at=57d47e94b8d4c1384082fb28) and [September 4, 2016 5:56 PM](https://gitter.im/red/red/welcome?at=57cc19e3928ae0e7347680cb) dockimbel 09:50@geekyi The Red homepage on Github and the "Getting Started" page on red-lang.org are already covering that, showing how to use the Red toolchain from sources with the basic Rebol interpreter. Maybe what is missing is an explanation about the lack of "building" need in Red, as the toolchain runs on a interpreter (though it is implied in the above pages). geekyi 09:53@dockimbel I think https://github.com/red/red/blob/master/build/README.md is the problem 09:53>Prerequisite >You need a Rebol SDK copy with a valid license file in order to rebuild the Red binary, this is a constraint from using Rebol2 for the bootstrapping. Once selfhosted, Red will not have such constraint. 09:54more emphasis there, that it is not necessary to work with sources dockimbel 09:55That part is correct. The missing part is that you don't need to rebuild the Red binary for doing whatever you want with it. So, maybe we should reformulate that. Many developers are coming with preconceived ideas about what is a programming language toolchain. geekyi 09:55Yes 09:59:point_up: [September 20, 2016 2:41 PM](https://gitter.im/red/red?at=57e1046233c63ba01a191243) @Dimonax, @randrew randrew 11:06yeah :) i'm just using rebol2 to learn right now. was busy the last couple of weeks so i didn't get to dive in, but i am now. dockimbel 11:06@randrew Feel free to ask any questions about Red/Rebol here or in the red/help room. randrew 11:07thanks, i will. 11:38red/system reminds me a lot of terra. seems nice. TimeSeriesLord 18:20Could someone explain the gist of UNLESS beyond the "appeal to Perl programmers?" Should not an UNLESS be the opposite of EITHER rather than a short cut for IF ! FALSE. Would not a true design for an UNLESS mean this: UNLESS (this is true) [DO THIS][OTHERWISE DO THAT]? If so, is not that merely an opposite EITHER? EITHER true [DO THIS][OTHERWISE DO THAT]? DideC 20:07Having an opposite to either is not very usefull. What is the gain to just put the block in another order? dander 20:48:point_up: [September 18, 2016 10:29 AM](https://gitter.im/red/red?at=57decefac8af41d45f266c64) @greggirwin It seems like it would be great if /into could be generalized for things that write into a series (outside their methods). I can't imagine how it would be accomplished, but maybe it is possible... greggirwin 22:24@TimeSeriesLord, I agree about unless. Wednesday 21st September, 2016 pekr 09:15I don't agree. UNLESS (this is true) might be too close to UNTIL (this is tru) iterator, no? I like what the UNLESS does currently ... maximvl 09:33"appeal to Perl programmers" ? unless is more or less standard macro in lisps since the beginning of times and what it basically means is (unless x body) => (if (not x) body) rebolek 10:01@maximvl http://www.rebol.com/r3/docs/functions/unless.html maximvl 10:03yep, this is what I'm talking about 10:04I mean, unless has no else branch rebolek 10:04I was just pointing out where does the "appeal to Perl programmers" comes from. maximvl 10:05because if you need a else branch - just revert your condition and write with if, this will be much more readable 10:05s / if / either / rebolek 10:05Anyway, I don’t think that UNLESS will be changed and I like it this way. DideC 10:31if it appears that you write a either NOT something [do this][do that] then you just have to write either something [do that][do this]. So having unless with two block is just the same that either: it would be completely useless. Like it is today it is equal to if NOT something [do this]. The gain is only to remove the NOT from the epression, but it is a (small) gain : unless something [do this]. dockimbel 11:42FYI, libRed can now properly handle View module, so re-compiling a View script takes just a couple of seconds on an average machine now. It also means that libRed is now fully functional (embedding Red's runtime + modules). Next step is cleaning and improving the changes, then cleaning-up the internal Red runtime API. DideC 11:45Nice nice nice ! dockimbel 11:45It also mean that very soon, you'll have a C-level API for embedding Red in any 3rd-party software. ;-) pekr 11:46@dockimbel - great news! Just a question - how does the toolchain recognise, that the libRed part was changed and needs a recompile? Is it OK to just manually delete the library file, or will there be any automatic way of how to achieve that? DideC 11:46I hope life is coming back to normality after the typhoon !? pekr 11:46Can I post that to FB? :-) Sounds exciting! dockimbel 11:47@DideC We're back to normal since the beginning of this week. Except for some short power cuts and trees/garbage everywhere on the streets, it's fine. 11:48@pekr There's no automatic updating system yet, for now I just delete it manually when I want a refresh one. When the work on 0.6.2 will be completed, it will be transparent for users. Sure, you can post on FB. Let me make you a screenshot. 11:50[![blob](https://files.gitter.im/red/red/DURL/thumb/blob.png)](https://files.gitter.im/red/red/DURL/blob) 11:51I should be able to shave some 10-20KB more from the executables relying on libRed, in a few days. pekr 11:56"When the work on 0.6.2 will be completed, it will be transparent for users." - what do you think by that sentence? That the system will somehow recognise there was a change in the backend and hence marks the library for recompilation? Is that even easily (with recent toolchain) possible? I can imagine new switch to compiler to force the recompilation, hence not needing to delete it manually? Thanks ... dockimbel 11:58It means that most (maybe all) users won't have to care about it. rebolek 12:00Wonderful news! Zamlox 12:03excellent ! maximvl 13:58>When the work on 0.6.2 will be completed 13:58this will be something to celebrate by itself greggirwin 16:45More fantastic progress from TeamRed! Very exciting. TimeSeriesLord 23:30> @TimeSeriesLord, I agree about unless. Right on. I see no worth to it when someone can type: IF ! ... or IF NOT I whipped up this. I doubt I will use either one though. Likely, there are 50 better ways to do it too. _unless: func [ "If the logic test is false do the first block otherwise do the second block" logic-test b [block!] c [block!] /local ][ ;; if block? logic-test [reduce logic-test] either all [not true? logic-test][ do reduce b ][ do reduce c ] ] 23:42@greggirwin Ha! I didn't get my edit done in time. It seems that if the word unless belongs as a built-in, it should have something to do with asynchronous programming, e.g., p-code: UNLESS the server (or client) responds negatively, keep processing the next response 23:45@maximvl > "appeal to Perl programmers" ? unless is more or less standard macro in lisps since the beginning of times and what it basically means is (unless x body) => (if (not x) body) Yeah, the whole drive of Carl with REBOL was not to walk on the same worn paths as all of the other inefficient dullards. In that sense, Carl was much like Chuck Moore (Forth). REBOL/Red aren't LISP, btw. 23:51@DideC > if it appears that you write a either NOT something [do this][do that] then you just have to write either something [do that][do this]. So having unless with two block is just the same that either: it would be completely useless. Because having UNLESS isn't (completely) useless? Can anything be partially useless? Isn't it clearer? If not false do something ... Thursday 22nd September, 2016 TimeSeriesLord 00:03In any case, the nice thing about Red, is that one need not avail himself of all of the built-in words. There is no reason for anyone to get bent about it in gitter. greggirwin 01:29I'm partially useless. Some of us translate unless into if not in our heads every time we see it. At least Qingtian and I do. The reason I care about it, without getting too bent, is that the more it's used in standard code (e.g. built-in Red mezzanines), the more other people will use it. There may be certain cases where it makes code clearer, which is what I care most about. TimeSeriesLord 02:34Unless is a language wart. Was it one of those pet things backported by the 3.0 crowd into Carl's 2.x work? jeffmaner 02:39@greggirwin "I'm partially useless." Lol! Reading others' thoughts and opinions on programming usually leaves me feeling either righteously indignant or thoughtlessly dumbfounded. Rarely does it make me laugh out loud. Thank you for the laugh! I stand up as another partially useless one. 02:41Although I seem to fall on the side of those saying unless doesn't need an unless not clause. But I'm happy to let the bigger brains battle it out and then use whatever they decide is warranted. TimeSeriesLord 02:46@jeffmaner Yes, Jeff, that has been a great thing about REBOL and now Red. There are many ways to get results. The best bit about REBOL and Red has been having your own custom dictionary of words (functions, parsesets) to do work and solve programming challenges according to how you think and see things rather than how a typical language designer saw things when he designed his syntax and what have you. That is what makes REBOL and now Red special. Both embrace the Chuck Moore philosophy of a virtual computer controlled by one's own custom dictionary. And that is why a better way to use REBOL and Red is simply to write your own dictionary atop the standard. For that reason, there is little reason to pollute the standard with superfluous words like has been done with unless. Unless would be useful if REBOL and Red lacked not. Only today, after seeing a tangled mess of a script on Rebol.org, I wrote my own version of what that other writer had been trying to achieve. I did so by leveraging parse. Yet, to someone else, my well-documented code (see my github) might seem a mess. All the same, unless is a stupid word in the standard. It's a language wart. REBOL and Red have at least a couple of those. The sad bit though is that Red needs none. That's Nenad's decision to keep those warts. jeffmaner 03:33@TimeSeriesLord Very well put. I for one like unless as an abbreviation for if not, but that might just be the novelty of having unless available in Red where it's not available in C-style languages. And I'm thrilled to see Chuck Moore's Forth cited here. The languages that have, for better AND for worse, formed my problem-solving programming mentality--LISP and FORTH: it just feels like home. 03:34Damned Android Gitter. I don't mean to Post when I press Return. Alas. 03:36I like unless; [ and | but ] I don't feel like unless needs an unless not clause. As usual, I find myself on the fence, in the middle between two very well argued sides of the debate. Which is why, again, I am happy to let the more well spoken of those two sides debate openly, and, hopefully, come to a well reasoned, wise decision. ;) rebolek 03:54I am used to UNLESS, I would miss it :cry: dsgeyser 04:01@TimeSeriesLord Link to your github account? Want to have a look at your parse example. dockimbel 04:28@TimeSeriesLord Are you the same person as "Vexercizer"? Your arrogant and condescending tone looks a lot like his. pekr 04:56I like unless. It is exactly the case, which makes language elegent for me. The same goes to eitheras a replacement for if/else ... 04:57Its existence is very little to care about. We have much important things to finish to get to 1.0 ;-) rebolek 04:58Exactly. greggirwin 05:25@jeffmaner :^) endo64 06:50+1 for @pekr , I also waste a little computing time when reading/writing code with unless as English is not my main language, but it took only a few weeks, now unless is one of my most used words just like either, but Red team has many other more important thing to think about. DideC 08:06Yeah, speacking of unless is... useless. I would just add that there is probably a key in your car to unscrew the weel, as in anybody car. But not everybody use it, just a few, from time to time. Same as unless: use it if you want, but its there if one day you need it. Or just let the mechanic use it ;-) maximvl 08:16@TimeSeriesLord >Carl with REBOL was not to walk on the same worn paths as all of the other inefficient dullards Without these dullards you wouldn't have computers, internet and Rebol itself >REBOL/Red aren't LISP, btw. Rebol took from lisp it's nature - code is data, so, rebol is pretty much a lisp, btw DideC 08:21Carl said that Rebol was strongly inspired by FORTH, and a bit by LISP (don't know these two language myself, but they are similar AFAIK). maximvl 08:29@TimeSeriesLord you probably don't know, but GC was created by Lisp developers, so why does Carl use GC in Rebol? Why does he walk the same path here? dockimbel 09:38The Eve clock demo now works on Mac (though still some details to fix): 09:38https://files.gitter.im/qtxie/yvn4/eve-clock.png rebolek 09:41:+1: Time to check my View scripts on Mac ;) pekr 09:41Cool. I can see only a grad-pen is missing from Mac Draw version maximvl 09:42Good job :thumbsup: pekr 09:42Based upon OS-X port experience - what's the work estimate for the Linux version? 2-3 months? Not saying it should be a priority now ... maximvl 09:43I guess in Linux you can experiment under Wine dockimbel 09:44For GTK, it's 2-3 months of work, yeah (2 if we are lucky and not hitting any GTK bug or API issue). pekr 09:45Can you see any demand for a Linux version? Personally I think that OS-X is going to be well received, we will see. Then ppl are most interested in IO (0.7.), while Android is still being a strategic option ... maximvl 09:46yes, please, GTK backend can wait, IO is really important 09:47(I'm a Linux user) 09:48@dockimbel but I can spot some differences, like lines thickness and Mac version has a line around circle DideC 09:50@maximvl > The Eve clock demo now works on Mac (though still some details to fix): 09:51I guess its the details Doc speak about. endo64 10:59My test.red has only one line halt. When I execute red.exe --cli test.red output is (halted)but console quits. If I execute with gui console red.exe test.red console stays open as expected. Is it a bug on CLI console? It wasn't like that before if I remember correctly. maximvl 11:12shouldn't it also have Red [] line at least? endo64 11:32Sure it has already. Sorry didn't mention that as it should be default. jeffmaner 13:08@DideC FORTH and LISP seem to me two opposite ends of a spectrum. I'm not sure I've ever seen them conflated as similar. Rebol and Red remind me more of LISP than FORTH. LISP without the parentheses and the prefix notation, basically. Whereas FORTH is very close to the metal, all about stack manipulation, and uses postfix notation. Both languages are very dear to my heart, though. ;) maximvl 13:11Rebol looks like FORTH in idea of words, however computation model is totally different dockimbel 13:38@endo64 Add --catch on command-line, it will force the console to stay open, even on errors. It's the intended behavior, so that you can run Red scripts through interpreter from shell scripts, without being annoyed by the console staying open on errors. The GUI console lives in a different environment, where it needs to stay open, otherwise you can't see error messages. endo64 14:17Thank you for the explanation Doc. I tried but console still quits? E:\Git\red\build\bin>red.exe --catch --cli user.red (halted) E:\Git\red\build\bin> user.red file is Red [] halt TimeSeriesLord 14:22@dsgeyser It is not a parse example in as much as it leverages parse. [urls.r](https://github.com/TimeSeriesLord/rebol/blob/master/urls.r) 14:23@dockimbel Who? You seem to have me confused with someone else. 14:28@maximvl >Without these dullards you wouldn't have computers, internet and Rebol itself >Rebol took from lisp it's nature - code is data, so, rebol is pretty much a lisp, btw Dude, I'm not going to nitpick with you over silliness. Carl alone knows from how many 100s of books and languages he swiped ideas. > you probably don't know, but GC was created by Lisp developers, If you like LISP so much, why are you here? Why attack me over your undying love for LISP? You seem rankled over nothing. Anyway, Carl had genius and I am glad for him and his work. Nenad seems to be the same. Thank God for both of them. Unless is still a language wart that added nothing to REBOL and added nothing to Red. pekr 14:34Ok, don't use it or just put unset 'unlessin your scripts. Can we move on now? :-) maximvl 14:34btw TimeSeriesLord 14:34@pekr > Ok, don't use it or just put unset 'unlessin your scripts. Can we move on now? :-) I mentioned that many comments above — not every word of the standard must be used by someone — and I have already. maximvl 14:35@pekr if you do unset 'unless will it affect all code executed after? 14:36or, in other words, can I change word only for current scope? TimeSeriesLord 14:43@jeffmaner Yeah, Chuck had genius. Have you checked out [REBOL on Rosetta Code](https://rosettacode.org/wiki/Category:REBOL) ever to see how REBOL/ Red solutions stack up to other langs? jeffmaner 14:57@TimeSeriesLord I'm not sure I have checked that out. I shall. Thanks! Yeah, years ago I was stumped by something in colorForth, and I emailed Chuck my question. He responded. I was incredibly impressed that such a giant would not only respond to a newbie question, but also would be sincerely helpful. TimeSeriesLord 15:33@jeffmaner Chuck is one of the greats. colorForth always looked so cool to me. Anyway, I've always looked at REBOL as FORTH-like in the sense that if one builds a custom dictionary of words (functions, parsesets), one controls (scripts) the VM (interpreter). As far as LISP goes, there are many who worship LISP, but John McCarty stole his ideas for it from IPL (1956), which already had list manipulation, virtual machine, dynamic memory allocation, and functions as arguments. It took a guy named Steve Russell to write the first LISP interpreter as McCartney didn't know how. LISP AST as parenthesized prefix notation is pure accident as McCarthy desired but was incapable of compiling from his goal: Fortran-like syntax. So he was stuck peddling his quirky syntax to this day. And of course, every language truly descends from FORTRAN. maximvl 15:35@TimeSeriesLord is there any public info about this IPL story? TimeSeriesLord 15:37@maximvl > @TimeSeriesLord is there any public info about this IPL story? Yes. maximvl 15:37I found the wiki article TimeSeriesLord 15:40> I found the wiki article Wikipedia? That's for kids. 15:43Oh and I forgot that McCarthy lifted ideas from the FLPL group at IBM who worked alongside John Backus' FORTRAN group at IBM. Again, all HLs descend from FORTRAN. greggirwin 17:25First, I would like to move away from saying designers "stole" from previous language designs. If they are trying to take credit for an innovation or discovery that wasn't theirs, that's a different story. We all stand on the shoulders of giants, and it had to start somewhere. Carl wrote a wonderful Foreword to REBOL: The Official Guide where he lays out languages that influenced him, and REBOL's design. Lisp and Forth are prominently noted, and Logo as well, which I think of as a bridge between the two in some ways. It eliminates Lisp's parens, uses the term *word* heavily, and focuses on building up vocabularies and explore like Forth. REBOL borrows implementation elements from both as well, though they are quite different. It's nice, and a little funny to me, when I see some of REBOL's ideas (which may have been independently discovered elsewhere as well) show up in other languages. People are still tentative about them, even in simple cases, but Carl and Nenad can be proud when future programmers argue about where their modern language features came from. And they will. TimeSeriesLord 21:13@greggirwin Did you first state that "designers stole?" If you have not then how can you "move away from" something that you have not stated? I've been on record many times that REBOL is a mash-up of LOGO and Forth with pattern-matching from SNOBOL. Many hype McCarthey and his LISP, but facts remain. 1) He lifted his ideas from IPL. 2) He hoped for a FORTRAN-syntax like language but could not implement it. 3) Steve Russell, who was not even a collabator of McCarthy, read an abstract article written by McCarthy with an AST and implemented the world's first LISP interpreter because McCarthy did not know how to do it himself. 4) Daniel Edwards was the first to code garbage collection. There is nothing worse than toady, sycophantic worship of individuals. McCarthy is like that plagiarist musician, Jimmy Page of Led Zeppelin. I'll be back when people want to discuss Red. Friday 23th September, 2016 matrixbot 05:06irx As much as I would like a gtk version, IO is more important to me. And I'm a Linux user. JacobGood1 05:48All this Lisp talk does not belong here, a lot of it is factually vacuous as well... rebolek 06:22@JacobGood1 right, there is https://gitter.im/red/red/lisp exactly for this tanstaaf1 11:57@TimeSeriesLord et al. As with Forth, Rebol encouraging so many words on top of words is a two edged sword. It tends to encourage a tower of Babel and the lack of obvious distinction between foundation words and pure syntactic sugar (e.g., "unless") tends to make learning a lot more intimidating. It would be nice if non-essential words could be somehow easily distinguished. Maybe a color distinction in the built in IDE? Anyway, it is one of my worries about red getting the acceptance it deserves. DideC 13:08There is rarely used words in every languages. I mean real languages, like english, french, whatever, not only computer languages. I probably nether have used the word "idiosyncrasie" in my living, but is this a reason to remove it from the french language? Rebol was just about that: have a language more human readable and more expressive, and so it have more words to learn. It's what make Rebol different on so productive. But its at the cost of a more complex vocabulary. But if you think of it a minute, in most computer languages, you have to learn tons of libraries API or class methods. It's also a long learning curve. BlackATTR 14:58One of Rebol's ultimate goals was to enable a gentle-slope to domain-sepecific languages, i.e., dialects. Sadly it never got very far down the path to gain notoriety for it, but the foundations are there. So if you don't prefer Rebol's syntax, make your own-- the underpinnings are there to present a higher-level or more focused syntax / 4GL. See: Tim Berners-Lee - The Rule of Least Power tanstaaf1 15:36@DideC @BlackATTR Those are the 2 edges: power vs non-gentle slope. I think a lot can be done to ease the slope and I believe @dockimbel has that in mind. I (and a few others) are thinking the IDE might ease much of the slope - that's where I was coming from with the earlier comment. There was also earlier talk of a beginner's or training-wheels-included variant. I don't know exactly how that would work but if any language can pull it off it would probably be red with the imaginative red-team. Rebol has a number of words which may improve readability (a worthwhile goal) for experienced programmers but mainly add to the thicket for others, especially newbies. I learned "unless" because it was in the table of control words and never thought about how it was redundant...or non-essential. The whole 'to-" series of words is, I believe, similar...they add NOTHING in function but arguably improve readability. The cost? IMO, 20+ words of sheer distracting *noise* for the person who is trying rebol on.... It's sort of like instead of learning C++ and then sampling libraries you need to learn C++ PLUS all the libraries at the same time....except worse in that the word nature of rebol tends to elevate everything to the same level of prominence. Anyway, I'm a big fan of red (as I was of Forth) even though I am, and fear I may remain for some time, "only an egg". BlackATTR 16:16I think it's relative. I don't think that the noise from unecessary words is significant. I think Carl designed parts of Rebol to be like Logo, i.e., friendly for education, personal programming and PITS. There are things in Rebol that you could jettison if you don't care about these audiences, but doing so might not gain much-- I mean, you likely aren't going to win many converts from the curly-brace world in any event. The developer audience voted with their feet; they don't much care for free-form expressions which read like a bowl of word-soup. Purging unnecessary words, synonyms or syntactic-sugar seems more of a purity exercise than practical measure. rgchris 16:48Not sure I get the lack of love for UNLESS. I recall when it was introduced the relief that I could junk all the clunky IF NOTs that littered my code like a sore. greggirwin 18:00Language is subjective, and Forth/Red are much more subject to feelings about words than most because they are much more personal. There are words I like, and words I don't. Just look at how much discussion naming gets in Red, compared to other langs. 18:03One of the big challenges is how to scale dialects and the personal feel of things. It's not a technical problem, but a design and mindset issue. Saturday 24th September, 2016 PeterWAWood 12:01I'm getting an error when running the tests on Windows: Making /e/Red/red/system/tests/source/units/auto-tests/dylib-auto-test.reds - it will take a while ** Script Error: either expected true-block argument of type: block ** Where: deline ** Near: parse/all/case either binary? string [as-string string] I guess its caused by the changes to win-call.r Any suggestions? greggirwin 19:14If deline is the error, then likely so. 19:20Do I need to run all tests to duplicate the error? Or what is the minimal test case that seems to do it? Not sure if I can just call the func from %compile-test-dylibs.r from a test script. 19:26%make-dylib-auto-test.r can't find %call.r if I run it directly. 19:32I hate looking at code that appears obviously correct, but isn't. 19:48Can't reproduce in simple scenarios yet. Patching it in to 2.7.6 works fine out of context. 23:05Found it. %quick-test.r redefines binary? as a logic value, overriding the standard action of the same name. dahu 23:09Is there (or could there be) a facility in Red to show a list of overridden built-ins? PeterWAWood 23:26@greggirwin Thanks for finding that. I'll change it. greggirwin 23:28@dahu, it may be possible in the future. Rebol has a query func, which you can use to find words you've introduced. Red doesn't have it yet, but I imagine Nenad has a lot of notes on that, namespacing, and modules in general, to facilitate PitL. dahu 23:29cool PeterWAWood 23:35@Gregg I'm puzzled that the built-in binary? is getting overridden as the binary? defined in quick-test.r is defined inside the qt context. greggirwin 23:40I wondered too. I'll open things up again and see if I can figure it out, but assumed it was because of the way call was created as a path and do was used on it from inside the context. PeterWAWood 23:49@greggirwin I've found the problem run-all.r also overwrote binary? 23:49Thanks for your help. greggirwin 23:49Ah! I was trying to figure out why I saw it as logic! in the console, but I had worked in a session from %run-all.r. Whew! dahu 23:54I saw this video about the Elm project yesterday and the live debugger and interactive IDE looked nice. Red's reactive GUI would, I assume, allow for such niceties. https://www.youtube.com/watch?v=DSjbTC-hvqQ&feature=youtu.be&t=981 23:55He shows later on in the video another debugger feature he's recently working on, where he can capture a session and export/import it between other sessions. Sunday 25th September, 2016 greggirwin 00:43Even without a reactive GUI, we could do this. Red makes this kind of thing relatively easy, because it's all just data. It's a good talk, and I'll finish watching it shortly, but I got to the export/import part and decided to update Red Paint real quick: https://gist.github.com/greggirwin/989ca6ffcec29f0700f54a0f3331d7eb It's a quick hack, but shows the concept. Draw, save, quit, load, and you can pick up right where you left off, with full undo capability from your previous session. 00:45He has a lot of thought about language development and community as well, which is nice to see. 00:52I want to see, and experiment with, persistent data structures in a larger context. I have probably watched 3 or 4 To Do List examples of it now, all very cool and steps in the right direction. Exciting stuff. Now, what happens when your app is running for longer periods, and your data structures are all immutable? We need push stuff out, mark milestones, skip large chunks and find the interesting signals in the noise. The important thing, at least one of them, is that people are pushing this line of thinking forward, and we can as well. We can make the internal state of our apps visible, and then write tools to analyze it, live, replayed, analytically, and perhaps even predicatively. 00:53Thanks for posting that @dahu! dahu 01:01You're welcome. I was happy with the talk too and thought it would be well received here. As you said, it's beneficial to us to pay attention to those thinking deeper about languages and communities. I look forward to the emergent thinking such crossover provides. geekyi 09:13@dahu talking of graphics, I think these are interesting too: [g9](http://omrelli.ug/g9/gallery/) (something I found today on hn) and [Sketch & sketch](http://ravichugh.github.io/sketch-n-sketch/) 09:16Both of these are about combining programming languages and vector graphics. Would be a good exercise to implement them in red (and in my opinion, it's pretty suited for it) 09:17*Vector graphics*, *direct manipulation* and *constratined programming* dahu 09:28Thanks, @geekyi . I hadn't seen either of those before. Very cute. I used to do a lot of manual svg work (in Inkscape). Very cool that these tools are able to so easily programmatically generate interactively modifiable graphics. greggirwin 19:30g9 looks great. JacobGood1 20:21I have a question about objects in red... In c++ if one nests objects inside of other objects, there is no real penalty for digging into the inner objects as long as they are not placed using a pointer. See this post, for example: http://stackoverflow.com/questions/3731623/are-there-any-performance-penalties-when-using-nested-structures Is it the same case for red? Could one do this without worry of cache penalties: a: object [b: object [c: object [d: etc...]]] a/b/c/d/etc... greggirwin 20:57Red is high level, so you're talking about references, not fixed structures. I can't say what the compiler will do, now, or in the future. A test wouldn't be hard though. In the interpreter, a 4-level deep reference like you have above causes a ~0:0:0.03s hit, over a keyed block access, on 1M iterations in a loop, for me. ~.15s vs ~.12s. Indexed block/vector access is ~.09s for the same 1M iterations. Same when compiled. JacobGood1 21:19that was an infinite level deep reference btw greggirwin 21:53Well, I had to stop somewhere. JacobGood1 22:18That is what I told my calculus teacher =P 7hi4g0 23:55I'm trying to make a syntax file for Red. Can I find all reserved words somewhere? Or the complete Red syntax? Monday 26th September, 2016 jeffmaner 00:08@7hi4g0 http://www.red-by-example.org might be a good place to start. Throw a screen-scrape into vim, eliminate duplicates. I'm sure there's a smarter way, but that's my first though. greggirwin 01:07@7hi4g0, a good place to start is probably one of the existing syntax files for Rebol, or the VSCode bit that @qtxie did for Red. I can get you my syntax file for UltraEdit, and @rebolek, I think, knows of others. A number of us have parsers for Redbol values as well, if that might help. 01:08There are no reserved words in Red, so the common approach is to use standard functions (incl. natives and actions, and maybe ops) for the word list. 01:09@JacobGood1, you threw me a curve with that one. ;^) PeterWAWood 01:20@7hi4g0 There aren't really any reserved words in Red. Try this code: equal?: func [a b] [a <> b] print equal? 1 2 You are probably looking for a list of the words that are bound to Red's built-in functions (which many people think of as reserved words). This is a simple way to get a list of those words; in the Red console: red>> ? op! % => Returns what is left over when one value is divided by another * => Returns the product of two values ** ... ... red>> ? action! absolute => Returns the non-negative value add ... ... 7hi4g0 01:23@greggirwin Yeah, I'm basing myself on a Rebol syntax file. 01:24@jeffmaner Thanks! I'm gonna take a look at that. 01:25@PeterWAWood I forgot about that. I'll also try the red console. Thanks! PeterWAWood 01:29@7hi4g0 You would probably also need to look at the "mezzanine" functions that are defined in red/environment/functions.red rebolek 04:12@7hi4g0 I am using this [syntax file](https://github.com/Oldes/Sublime-REBOL), maybe it can help you a bit. dockimbel 08:47FYI, libRed now properly works on Linux, next one is MacOSX. maximvl 08:48@dockimbel great, is there any example of usage? dockimbel 08:50No, it's transparent for users. For now, libRed is just used to speed up compilations. The API for embedding it in third-party software is not yet there. maximvl 08:51ah, ok rebolek 08:52@dockimbel great news! 08:58@dockimbel when trying libRed under Windows, I get this when compiling: Compiling to native code... *** Loading Error: file access error: %macros.reds dockimbel 09:00I'm aware of that. It works fine when compiling from red/ codebase root folder. rebolek 09:03I was compiling %test.red that is placed in Red root folder dockimbel 09:04Try compiling scripts located in %tests/ folder. rebolek 09:07Wow. 09:09That is amazing. qtxie 13:30@rebolek I created one can work properly last week. Let me push it online. TimeSlip 14:30Can Red windows version play sound files? rebolek 14:33Not natively. But you can access Windows sound subsystem with few calls in R/S. TimeSlip 14:41Thanks Bo (Sure I can...:-) ) rebolek 14:42:) 14:43I haven’t experimented with sound yet, so I can’t give you more detailed answer, sorry. Tuesday 27th September, 2016 endo64 00:12> @7hi4g0 I am using this [syntax file](https://github.com/Oldes/Sublime-REBOL), maybe it can help you a bit. I use this one for Editplus: https://www.editplus.com/dn.php?n=rebol2.zip Wednesday 28th September, 2016 TimeSlip 00:29@rebolek Well, Bo, can you point me to a fairly simple example of an R/S library implementation? I've been looking around and kind of have an idea. What I also don't understand is the relationship of something I might create in R/S and using that with R, if that makes sense. greggirwin 00:38@TimeSlip, you can write routines in Red, which are kind of like inline R/S. %red/system/tests/shared-lib.reds shows how to write an SO/DLL. TimeSlip 00:41Thanks Gregg. I'll take a look at that now. 00:49Gregg, have you ever seen the Beatles movie "Help"? I'm the mad professor's assistant who says "I'm moving my left foot. I'm moving my right foot." I basically have to see something step by excruciating simple step. Nothing is that obvious to me even after all these years. 00:51So what I am trying to do is, as far as I know, is to import an mp3 library (I'm looking at Nick's R2 example) so I can play a sound file. greggirwin 03:09I'm the same way James. Maybe look at %red/runtime/platform/win32.reds to see how functions from DLLs are declared. The syntax is just a little different than in R2. Or if you have the DLL and declarations for it, maybe someone here can help translate a concrete example. TimeSlip 03:11Since my last post I've managed to get a program compiled but I'm not hearing anything yet. 03:12I looked at hello.reds and Oldes iMagick.reds. I'm thinking that perhaps the "play" call gets stopped once the program exits. 03:14What I still don't know is the relationship of my .reds file is to a non-Red/System file. How do I use what I have in a program? 03:16In other words, how do my new functions become part of my app. 03:29Hey, I hear sound. OK, so I had to loop 100000000 [print "playing"] but I'm desperate. 03:30So now all I need to learn is how to actually use the code in a program. 03:36In case Doc or others are around, I have successfully written a Red/System prog that uses the libwmp3.dll library via #import, and plays an mp3 file. What I don't know how to do is use those routines in the app I want to write. 03:38I used to use load/library and make routine! in R2 but how does Red do it? Thanks in advance...I'm pretty excited. 04:00To be clear, I wish to use those routines in a Red (non-/System) application. pekr 04:03Have you try to define a routine, which should allow just that? TimeSlip 04:04I was just looking that up, pekr. :-) 04:16@pekr After looking at files that included "routine" I'm still not sure how that works with a .dll. Well, sleep time. pekr 04:32Routine can't work with DLL directly imo. You need to define a wrapper to the R/S function, which might wrap some DLL functionality? But hey, I am no expert on low level ... ifgem 06:03Sorry, how to call com file in Red?:)) pekr 07:26com file? mikeparr 08:16 endo64 10:10Doesn't .com file is a normal executable on Windows (DOS)? (https://www.wikiwand.com/en/COM_file) If you can run it on command line then you should be able to run it from Red using call, If it doesn't work that way then try to execute like call "cmd.exe /C file.com" geekyi 10:16@endo64 call doesn't exist for me in the interpreter in Red rebolek 10:18@geekyi Right now, you need to manually add it to interpreter and recompile it. 10:21Add line #include %../../system/library/call/call.red at the beginning of %console.red or %gui-console.red and recompile it. geekyi 10:22@rebolek I see, thanks.. that was one thing I was missing from rebol.. maybe there is a reason for that design? I would mostly use it from scripts, but hadn't because I thought it wasn't there yet rebolek 10:23@geekyi The only reason is that call is not finished yet ;) pekr 11:33I hope call is going to be a default part of the distro, not an option ... too usefull for console session prototyping to be missed imo .... PeterWAWood 12:10For those people who have been logged in to this room for a long time, a code of conduct has been added to the welcome message to new visitors: These are the values members of the Red rooms on Gitter should aspire to: * Be friendly and welcoming * Be patient * Remember that people have varying communication styles and that not everyone is using their native language. (Meaning and tone can be lost in translation.) * Be thoughtful * Productive communication requires effort. Think about how your words will be interpreted. * Remember that sometimes it is best to refrain entirely from commenting. * Be respectful * In particular, respect differences of opinion. It is important that we resolve disagreements and differing views constructively. * Avoid destructive behavior * Derailing: stay on topic; if you want to talk about something else, start a new conversation. Respect the room's topic. * Unconstructive criticism: don't merely decry the current state of affairs; offer (or at least solicit) suggestions as to how things may be improved. * Snarking (pithy, unproductive, sniping comments). The following actions are explicitly forbidden: * Insulting, demeaning, hateful, or threatening remarks. * Discrimination based on age, disability, gender, nationality, race, religion, sexuality, or similar personal characteristic. * Bullying or systematic harassment. * Unwelcome sexual advances. * Incitement to any of these. The Red rooms are moderated, unrespectful behavior will lead to banning. ##Acknowledgements This document was based on the Code of Conduct from the Elixir and Go projects with parts derived from Django's Code of Conduct, Rust's Code of Conduct and the Contributor Covenant. 12:17On behalf of the Red team: It was unanimously agreed to ban user TimeSeriesLord following the behaviour demonstrated in both public and private conversations. maximvl 12:22well, his behaviour wasn't nice, but the guy definitely knows a lot pekr 12:37I can see path issues for libRed should be resolved? I still get an error, probably wrong path composition? Cannot open /C/!rebol/!Red/red/system/system/config.r ... system is there doubled? dockimbel 12:37@maximvl It's the same guy we banned a couple of months ago for insulting pretty much everyone he talked to here, including the Red team members. I franckly don't care how much he knows when he displays such inacceptable behavior. His understanding of software technologies seems quite limited to me, and he definitely doesn't understand much about Rebol and Red. From the documentation he wrote, many statements are wrong or misleading, like assigning contexts to blocks... maximvl 12:39ok, I think you are right here pekr 12:39Is that the former vexerciser? His rhetoric seemed just similar ... I've learned lots of dirty words and insults, that's all :-) dockimbel 12:41@pekr Yes he is, he advertised for this TimeSeriesLord web site on HN with his former nickname: https://news.ycombinator.com/item?id=12536720 maximvl 12:41well, I never heard about IPL before 12:42and all these names related to lisp, ibm and so on pekr 12:43yes, it might be interesting from a history perspective point of view, but it does not help you a bit. That guy wrote me privately some time ago and used some really rude words towards some of guys here ... 12:44I am too not interested in such distractions ... maximvl 12:44I see, this is really unacceptable dockimbel 12:47Well, at least next time he shows up under a new identity, we should be able to spot him more quickly now. TimeSlip 12:48@dockimbel I know I'm being selfish, but could you look at my question from last night? Thanks as always my friend. 12:48BRB dockimbel 12:50@TimeSlip Sure, let me find it... meijeru 13:12I noticed there is now a "Project" on Github, called 0.6.2 (empty for the moment). Is the Project facility of Github intended as a replacement for Trello?? maximvl 13:13looks like it is intended to catch up with GitLab TimeSlip 14:13@dockimbel, Here's the deal: I wanted to add sound to a Red application. I managed to create an R/S test that works but what I don't know how to do is use that in a Red app. Does that make sense? For me, it's the difference between Red System and Red that I can't seem to bridge. In R2 I would use load/library and define the routines so I'm looking for the equivalent so to speak. Again thanks. rebolek 14:16@TimeSlip At Red level, include the R/S script, then do something like call-to-rs: routine [ args ] [ rs-args: when-needed-convert args rs-function rs-args ] TimeSlip 14:19Bo, first, thank you brother. I have some questions though. 14:19This include is the #include ? rebolek 14:19Yes. 14:19routine works in compiled scripts only, not in interpreter. TimeSlip 14:20OK, and the routines are the redefinition of the, you know, functions in the DLL? 14:22Or no, I'm looking at your code. It looks like I can simply use those functions. rebolek 14:22@TimeSlip see for example [how CALL is implemented](https://github.com/red/red/blob/master/system/library/call/call.red) TimeSlip 14:22Is there any counterpart that will run when interpreted? rebolek 14:23Line 17: #system [ #include %call.reds ] TimeSlip 14:23Oh, that is interesting. 14:24OK, I'll play around with that and let you know (because I'm sure you are interested) rebolek 14:24Then there is routine redsys-call TimeSlip 14:25redsys-call ? Is that like R2 call? rebolek 14:25Look at that file, it is defined at https://github.com/red/red/blob/master/system/library/call/call.red#L20 14:26then at https://github.com/red/red/blob/master/system/library/call/call.red#L92 it calls system-call/call function 14:26And system-call/call is Red/System function defined in https://github.com/red/red/blob/master/system/library/call/call.reds TimeSlip 14:27I see, it is what I was using in R2 when I had to launch some dos program. OK, I'll give this a shot. I would have not been able to figure this out myself so thank you. rebolek 14:27So routine let’s you write R/S code that can be used at Red level. 14:28You’re welcome. let me know about your progress! TimeSlip 14:29I will. I'm hoping this will allow me to port an R2 app whose bitmap display is driving my students and I crazy! 14:29I=me rebolek 14:29:) dockimbel 14:49@TimeSlip > Can Red windows version play sound files? We have no support for sounds in the runtime library for now, but you should be able to achieve it using the [SDL binding](http://red.esperconsultancy.nl/Red-SDL/artifact/61c37fa2afc0657a). JacobGood1 15:24I have a semi implemented 1/2 crap binding to sdl2... I think red makes bindings pretty easy considering I had never even attempted a binding (or even wrote a pointer in my life) until I used Red. 15:26I got a little annoyed trying to implement it because I started playing with Red calling RedS, the compile times were too long for me. rebolek 15:28@JacobGood1 libRed is just around the corner, the compile times are *much* shorter with it :) JacobGood1 15:28Doc was super helpful, basically taught me how to do low level programming, not that I am some expert now but I can bind stuff just enough to be dangerous 15:28@rebolek yea I know, very interested in that TimeSlip 15:30@dockimbel , Doc, my problem was how to incorporate R/S code with Red [] code. Bo gave me some pointers which I will try. dockimbel 15:44@TimeSlip Routines are what you want. You declare them in Red code, the argument specification is like for Red function (except limited to one type per argument), but the locals and body block are pure R/S. Red will marshal some types that have direct correspondance between Red and R/S, and for the rest, you get red-* structures used by Red runtime library internally to implement Red types using R/S. Then, you need to learn from the existing examples, the Red internal API, so you can manipulate those structures. TimeSlip 18:13@dockimbel Sounds like fun. Thanks. 19:11@dockimbel after playing around a bit I can't seem to get the library to work. Do you have a simple example of a routine that is referencing a .dll AND that is Red? rebolek 20:18@TimeSlip do you have an example how you access dll from R/S? TimeSlip 20:40Red/System [ title: "Sound" ] #import [ "libwmp3.dll" stdcall [ Mp3_Initialize: "Mp3_Initialize" [ return: [integer!] ] Mp3_Destroy: "Mp3_Destroy" [ initialized [integer!] return: [integer!] ] Mp3_OpenFile: "Mp3_OpenFile" [ class [integer!] filename [c-string!] nWaveBufferLengthMs [integer!] nSeekFromStart [integer!] nFileSize [integer!] return: [integer!] ] Mp3_Play: "Mp3_Play" [ initialized [integer!] return: [integer!] ] ] ] initialized: Mp3_Initialize res: Mp3_OpenFile initialized "Space Ghost - Brak - Mashed Potatoes.mp3" 10000 0 0 ; Then start playing: Mp3_Play initialized loop 150000 [print "playing"] print "done" 20:41Bo, it didn't transfer all the chars but you get the idea. geekyi 21:06@TimeSlip you can use a [gist](gist.github.com) 21:08for simpler code: <code> (can't seem to get this to work, check markdown help(Ctrl-shift-M)) 21:11and best post to red/help or red/system channel so everything is organized TimeSlip 21:44@geekyi Thanks. Thursday 29th September, 2016 TimeSlip 01:09@rebolek @dockimbel OK, I was able to make a RED compiled version with "routine" to demonstrate that the routines work. The next step was a compiled version with "View." I'm listening to an mp3 as I type launched by a "Play" button. Lastly I will attempt a Red-non-compiled version. Thanks for all your pointers and help. 01:10https://github.com/red/red/wiki/Red-tutorial-for-newcomers-English-version btw, was the life-saver. That c-string! funkiness was a killer to figure out. I'm still a bit shaky about it but it works. 01:16I guess I can't do a non-compiled version but that sound stuff was (I hope) the big hump to climb to move my R2 app to Red. How cool. Thank you gentlemen! WiseGenius 02:26Here's a crude map-each function I've been using until it's implemented natively in Red: map-each: function [ {Evaluates a block for each value(s) in a series and returns them as a block.} 'word [word! block!] "Word, or words, to set on each iteration" series [series!] "The series to traverse" body [block!] "Block to evaluate on each iteration" ][ result: copy [] foreach :word series [append result do body] result ] This seems to work fine when interpreted, but when compiled: *** Compilation Error: duplicate word definition: word It seems to have added :word to the locals: *** near: [ map-each: function [ {Evaluates a block for each value(s) in a series and returns them as a block.} 'word [word! block!] "Word, or words, to set on each iteration" series [series!] "The series to traverse" body [block!] "Block to evaluate on each iteration" /local result :word ] [ result: copy [] foreach :word series [append result do body] result ] #pop-path ... Should it have done this? The interpreter only puts result in the locals: red>> probe :map-each func [ {Evaluates a block for each value(s) in a series and returns them as a block.} 'word [word! block!] "Word, or words, to set on each iteration" series [series!] "The series to traverse" body [block!] "Block to evaluate on each iteration" /local result ][result: copy [] foreach :word series [append result do body] result ] So I compiled the above func code, and got: *** Red Compiler Internal Error: Script Error : add-symbol expected name argument of type: word *** Where: comp-foreach *** Near: [add-symbol word: pc/1 add-global word ] Should I be going about this in a totally different way? 02:32Also, remove-each seems to be already implemented, but not checked off in [Trello](https://trello.com/c/may3KBGh/50-natives). dockimbel 04:11@WiseGenius The compiled version of function is not handling the :word value properly, please open a ticket about it. As the first argument to foreach is supposed to be a literal word (so unevaluated), your interpreted version should not work (worth a ticket too). greggirwin 05:06@WiseGenius, I have a similar func, but use collect in it. One thing to consider is whether you want to use /only when you collect each value. I think it's better to do so, as you can always flatten the final result in the caller. dockimbel 08:46I would like to get rid of the red/links room here, and replace it with a wiki page rather (IIRC, we already have it). The issue is that we have no way to remove messages from rooms, so it's unsuitable for hosting links, when anyone can post there any spam, and we can't do anything about it. rebolek 08:49Makes sense to me. WiseGenius 09:19Gets my vote. PeterWAWood 09:36I agree dockimbel 10:10Done. Index of Red rooms on Gitter can be found here: https://github.com/red/red/wiki/Gitter-Room-Index geekyi 10:14I see the wiki pages for older REPs have been moved from [proposal] ... to REP XXXX ... I'm not sure if I should edit the wiki home page to reflect this 10:16If I were to, should I move to Stage 1 - Developed or should there be a Stage 0 - Developing? 10:18What I'm trying to say is I'm wondering if the proposals should be complete when submitting to Stage 1, if so where do we dump uh.. Stage 0? 10:19Also wondering if we can use the new github project features? dockimbel 10:26@geekyi We should host the REPs as files in a git repo, indeed. The processing workflow could be then implemented using issues and their tags. DideC 12:20> Done. Index of Red rooms on Gitter can be found here: https://github.com/red/red/wiki/Gitter-Room-Index 12:20In the list there is a red/red/sets room that seems to be 'private (that's what Gitter said). ghost~5680c5f416b6c7089cc058a5 13:40@dockimbel 1) Is libred support complete on Windows? Because I get error when trying to compile gui-console from the libred branch. >> rc "-t windows %environment/console/gui-console.red" -=== Red Compiler 0.6.1 ===- Compiling C:\Users\ABC\Desktop\red-libRed\environment\console\gui-console.red ... ...compilation time : 359 ms Target: windows Compiling to native code... *** Compilation Error: undefined context gui *** in file: %/C/Users/ABC/Desktop/red-libRed/environment/console/terminal.reds *** at line: 1538 *** near: [ with gui [ #script %/C/Users/ABC/Desktop/red-libRed/environment/console/windows.reds ps: as tagPAINTSTRUCT 0 hdc: as handle! 0 mdc: as handle! 0 mbmp: as handle! 0 timer: as handle! 0 (etc etc etc) 2) Once libred branch gets merged into master, and I use automated builds, then wouldn't there be this problem of incompatible dll's? dockimbel 15:52@nc-x 1. libRed compilation mode does not work currently with Red scripts containing R/S code (like the GUI console script). 2. No, libRed will be refreshed automatically when the Red toolchain changes (in binary form). 15:54Moreover the GUI console script does rely on the gui context defined in View module inside libRed, so it will probably need some specific changes. ghost~5680c5f416b6c7089cc058a5 16:12 pekr 16:20I just hope that we will be able to compile it (gui console) manually, once merged? I always work from sources and don't want to be dependant upon the downloadable .exe stuff :-) geekyi 16:23@pekr pfft! I usually use the nightly builds because it's faster :tongue: Friday 30th September, 2016 PeterWAWood 04:04The first complete Red Enhancement Proposal has been submitted. It is [REP 0101 - For Loop](https://github.com/red/red/wiki/REP-0101---For-loop-function), submitted by @greggirwin 04:11If you have any comments or suggestions about the proposal, please make them here or on the [Red ML](https://groups.google.com/forum/#!topic/red-lang/w239OCl9MgI) pekr 07:59My only comment is - I like the proposal ;-) dockimbel 09:08REP 101 is good food for thought. Using loop for such function would be nice and would free for name for list comprehensions. pekr 09:14I am still debating myself between - let's do, what is innovative and fits best ... vs - don't be so much special and do what ppl expect ... newcomers will naturally look for foras a loop construct. We will see, I am open on that ... dockimbel 09:17for is not a verb, so not consistent with our naming scheme for functions. maximvl 09:25I feel like we can just copy CL's loop and thats it 09:25its a looping dialect which is the most powerful out there pekr 09:26I can easily agree ... maximvl 09:26to show you the nice example dockimbel 09:26@maximvl Any link? maximvl 09:26 (loop for i from 1 to 100 if (evenp i) minimize i into min-even and maximize i into max-even and unless (zerop (mod i 4)) sum i into even-not-fours-total end and sum i into even-total else minimize i into min-odd and maximize i into max-odd and when (zerop (mod i 5)) sum i into fives-total end and sum i into odd-total do (update-analysis min-even max-even min-odd max-odd even-total odd-total fives-total even-not-fours-total)) 09:27@dockimbel link for usage or implementation details? dockimbel 09:27Usage. maximvl 09:27this one is great intro http://www.gigamonkeys.com/book/loop-for-black-belts.html dockimbel 09:27Thanks. Ah, I have bookmarked it already before. :-) maximvl 09:28very likely, CL has two famous built-in dialects: loop and format 09:29the second one is print on steroids, with it's own looping support and it's even extensible 09:31there was a nice example of adding directive to format numbers in Roman style to format 09:31I'll try to find it dockimbel 09:31We do have plans for a format and print dialects too. maximvl 09:32good, actually they have a lot of features which are more or less outdated and could be skipped to simplify implementation 09:32like printing tables with specified columns size in characters dockimbel 09:33For a print dialect, we'll wait to have the console:// port implemented first. maximvl 09:34sure, no rush here ) DideC 09:35> for is not a verb, so not consistent with our naming scheme for functions. Nor foreach, forall, while or until !! 09:35So not a good enough reason to me ;-) dockimbel 09:36The less exceptions, the better. ;-) DideC 09:36It's already 5 exceptions (actually), and all for loop construct! So one more, one less: they would be all in the same chapter in the doc. maximvl 09:37loop is a verb ;) DideC 09:38Yes, and repeat too. maximvl 09:38it's just my opinion, but since I understood basics of CL's loop I never used any other looping constructions in CL (and it has many) DideC 09:39Redbol have different loop functions, and some of them have strong usage cases. maximvl 09:40like foreach? Cl also have do, several map's pekr 09:41if, either, while, untill are not verbs for eg., so not sure if we have to be such strict ... maximvl 09:42also, since loop is a macro, it does some compile time optimizations, ending up using collection-specific looping/accessing functions, so it's very likely will be faster than your hand-made loop 09:56@dockimbel FYI format intro: http://www.gigamonkeys.com/book/a-few-format-recipes.html ghost~5680c5f416b6c7089cc058a5 09:59Well, i prefer golang. It has a single looping construct which can be used for everything. 10:00Instead of having for, foreach, while, etc etc a single for loop for everything. 10:00I :heart: simplicity. maximvl 10:06so you have to deal with indexes and everything every time you need a loop over collection geekyi 10:07:+1: I'd also prefer just one word!/construct for looping / ranges. For & co. is useful only for programmers who are used to such things. For newcomers, it will more than likely confuse things for them maximvl 10:08there are a lot of languages for newcomers DideC 10:09@maximvl @nc-x Redbol, is not just a computer language. It as several words for things that seem similar just to be more precise or more concise, cause they are similar, not identical. Like in any speaking language (eg: love / like). maximvl 10:09can we have at least one for people who can deal with more than one looping construction? 10:10 10:12it's just looks like after Go was mentioned discussion turned to be: make it simple or make it good DideC 10:15If everything is a for something [do-that] you have to know how something will be "understand" by the interpreter/compiler. So it happens that you have to learn syntax rather than words (but you have to learn anyway). Having different words for different syntaxes, make it easier to remember as our brain is more taillored for that. maximvl 10:19@DideC >you have to know how something will be "understand" by the interpreter To chose the right word for each case you also have to know what you are doing and with what 10:20>Having different words for different syntaxes, make it easier to remember as our brain is more taillored for that. This is your personal opinion until you show us researches in that area PeterWAWood 10:30I feel that the interface for the proposed function has a level of complexity beyond that of the functions supplied with Red. It's interface falls midway between the "core" functions (insert, copy, until, etc.) and the builtin dialects (view, parse). It doesn't feel to be a natural fit. I also feel that as It is seems to be based in a procedural programming paradigm and whilst it may be familiar to many people, it could also serve to delay a deeper understanding of Red for such people. I'm not convinced that it fits naturally with Red's rich datatypes (rich when compared with a pointer addressed block of memory). Traditional for loops are now being seen as an opportunity to introduce error. Even the conservative Apple removed them from Swift 3.0. I do see this flexible for function being attractive to many people so would suggest that if it is adopted, it is adopted in an additional module not the core distribution. pekr 10:37I don't like the "additional" module attitude. At least not for the stuff, which makes the part of the language syntax. User scripts/target apps are a different matter. I don't want to come into the dependency hell, by someone using forand publishing the script without the link for the dependency. The I prefer not to have such function at all. dockimbel 10:54The underlying question is: how do we handle (series) ranges? DideC 12:02There are foreach, forall and forskip for that, and names are pretty expressive. To me, for stay bind to looping in a range of numerical values, not traversing series. maximvl 12:06@dockimbel with the dialect looping this is not a problem, in CL, again this looks like: (loop for x from 0 upto 100 do ...) (loop for x in items do ...) dockimbel 12:09I am asking the question because ranges (if handled explicitly) would not be limited to loops usage. If we can define how to best handle ranges, it would answer some questions about what looping constructs we really need. 12:10@DideC I wrote (series) ranges, and not series ranges to imply ranges not limited to series. maximvl 12:12@dockimbel do we have some kind of iterative interface? 12:13well, simple solution is to use it in loops, so any kind of iterative thing will do the job geekyi 12:14(sorry for the length) **Edit**: After writing all this, I realized this may be a design for a range construct? (mentioned in http://curecode.org/rebol3/ticket.rsp?id=1993) If so, there seems to be 2 goals here: 1. Cater for programmers from other languages 2. Design a range construct # Original: I like the proposal overall, gregg has put in all the features that I'd probably want. (Except for some like looping over collections map-each, foreach, multidimensional arrays, .. :tongue: ). That said, would I use it? My intuition is.. probably not.. except to use some of the features (like rebol for). I want to ignore the syntax and talk about the semantics (is that the right word?) for the moment. ## Symantics ### Current workflow I tend to to work with series functional programming style, directly working on the data / collection type if possible. I do use loop and sometimes repeat, but it's mostly foreach and collect if there already is data (series) to work on. I miss map-each and fold being built-in. Handling collections may be out of scope for this? >The idea is to support mainly numeric loop constructs. Working like foreach and forskip is also possible #### Advantages of a single word! for looping I'll be easily able to refactor my code from loop to repeat to for without changing the syntax much (Hmm.. would that be as easy as I think it is?) 12:16### Future workflow? I'd like to talk about 2 languages which handles "looping" very much the way I like. They have quite different implementations tho #### Julia Is very similar to redbol. Has 2 [words](http://julia.readthedocs.io/en/latest/manual/control-flow/#man-loops) for and while and uses a range syntax start:optional_step:end. For is nicely combined with [comprehensions](http://julia.readthedocs.io/en/latest/manual/arrays/#comprehensions). It all works well for upto 2-3 dimensions. For higher ones you have to explicitly reshape #### J Is very much different. It transparently handles the cases for multiple dimensions. The basic operator for ranges is i. so for example, i. 2 _5 gives 4 3 2 1 0 9 8 7 6 5 It doesn't have explicit looping, but uses other simple operators to get the result you want. It is an extreme case of trying to simplify things (which I personally like) ## Use case The motivation for this seems to be to ease adoption for people from other programming languages? I think @PeterWAWood and @Arie-vw raises raises good points. Would this help adoption like @greggirwin says or introduce more complexities? I'm more inclined to agree with Ptere here. I myself am a bit conflicted. I'd still use loop, but perhaps for for most others, and then functions to operate on collections rebolek 12:17@geekyi you should put it on GitHub, it will be lost here. maximvl 12:17>It doesn't have explicit looping, but uses other simple operators to get the result you want 12:17I don't like this, there must be a fine-grained low-level control over looping 12:18at least from performance perspective rebolek 12:19http://www.rebol.net/cgi-bin/r3blog.r?view=0058 geekyi 12:22@maximvl not exactly sure what you mean, array languages (MATLAB, j, Julia) are usually faster, especially for parallelism. But it actually does have loops as fallback for those who want control flow constructs PeterWAWood 12:27@pekr I don't believe Red modules will cause the equivalent of "DLL" hell. As far a I can tell, the compiler will statically link the modules into a single executable. maximvl 12:28there must be a very neat module/dependencies thing for such extensible language as Red is 12:29in a way that everybody can have their own loops and it will still work ;) geekyi 12:34@greggirwin you mention there is an implementation already? If it is small enough, I don't think it would be a problem including it and avoiding DLL hell 12:41@rebolek > http://www.rebol.net/cgi-bin/r3blog.r?view=0058 I like that, but what about steps? 2..10,3 "2 to 10 step 3". Or floats!? 2.2..10.5,0.1? maximvl 12:44the question is do we want a separate visual representation for ranges 12:45make-range! [2 to 10 step 3] is fine for me 12:48it actually could be nice to have filters here, like [2 to 10 step 3 if [X % 2 = 0]] 12:49like list comprehensions, lazy numbers comprehensions pekr 12:53IIRC @greggirwin had some proposal for ranges too? Don't remember exactly, was it a datatype? 1..10? maximvl 12:57btw what is the key difference between lambdas in other languages and Redbol blocks? 12:59I feel like sometimes they are used for the same thing, but block is much more generic concept rebolek 13:01@geekyi I don’t know. It was proposal for R3 that was never implemented. But there are some good ideas worth looking at. geekyi 13:02@maximvl lambdas are *expression* based, but blocks are data.. blocks based? rebolek 13:03code is also data ;) ifgem 13:51Funny function:) hack: func [tag] [ to word! to string! tag ] def: function [block] [ args: copy [] parse block [ any [ pos: set word tag! ( word: hack word append args word ) change pos word | skip ] ] func unique args block ] sum: def [<x> + <y>] sum 10 20 => 30 15:23J JacobGood1 16:05we should have both fine grained control and nice abstractions... this is red after all greggirwin 17:12@ifgem def: :does ;^) Yours is a good example, though, of how we can use different datatypes and transform things. 17:13:point_up: [September 30, 2016 6:53 AM](https://gitter.im/red/red?at=57ee6061c512d9653a56fc0b) @pekr, on ranges: http://www.rebol.org/ml-display-message.r?m=rmlGGHC 17:15I just skimmed the messages here, but it will take me a bit to assemble thoughts in response. Thanks to all for contributing to the process! Saturday 1st October, 2016 mikeparr 09:04Error in remove-each - or maybe in its spec? The help info says that it returns the number of removed items, but in my tests it returns nothing. Example: red>> s: [1 2 3 4 5] red>> n: remove-each i s [i > 1] *** Script Error: n: needs a value meijeru 09:17Where do you find the help info saying that it has a return value? The actual code in /runtime/natives.reds says stack/set-last unset-value. mikeparr 09:42@meijeru - by typing: ? remove-each. It also tells me that the first argument is a 'word, when I think is should be just a word. (Works OK, just questioning the help info) 09:49@meijeru Sorry - have tried latest, help doc is fine - my fault meijeru 10:02OK. As regards the type of the first argument, the expression 'word just means that the first argument is not to be evaluated. greggirwin 18:39@mikeparr, this has been noted in an issue: https://github.com/red/red/issues/2126 The doc string changed, but the issue is tagged with review. I don't know if that means the behavior may change in the future. R2 returned the series, R3 changed to return the count. Red may be undecided. While returning the count may be helpful sometimes, it means you can't chain calls and use the result of remove-each. 19:15Also @mikeparr (and @Arie-vw), I hadn't been to http://www.red-by-example.org in a while. Wow! You have a ton of material there. Keep up the great work! mikeparr 20:06@greggirwin Thanks Gregg. greggirwin 20:51REP 101 comments: https://gist.github.com/greggirwin/5526e07cafa97e2c3e3b283f113dd121 geekyi 21:48@dockimbel :point_up: [September 29, 2016 3:26 PM](https://gitter.im/red/red?at=57ecec42783fe9b945a7f569) >host the REPs as files in a git repo [..] The processing workflow could be then implemented using issues and their tags. I think a seperate repo would be a good idea, so we don't pollute the main red repo activity. Also, more freedom can be given to community in that case? REPs can then be managed with the new project features. I have some ideas. For instance, the math functions REP should have label "needs-split" (and the parent labelled as "meta") So.. how can I help to move this forward? 21:49@geekyi is also looking at the new gitter topics feature 22:25@geekyi mostly agrees with gregg's comments and finds there's nothing to add to.. other than nitpicking about using the word forand having too many overloaded features 22:26@geekyi would use loop for the simplest loops and for for the range like features if it get's introduced pekr 22:29I thought some ppl proposed to use the REP, but not to use for as a name, and use loopname instead. I don't agree with removal of whileor other funcs ppl are used to ... Sunday 2nd October, 2016 greggirwin 01:02@greggirwin wonders why @geekyi refers to self in the third person. Or is Gitter reading @geekyi's mind and bot-posting? geekyi 01:33@greggirwin use /me blah blah. Gitter was definitely reading @geekyi's mind and bot-posting :smile: wolframkriesing_twitter 14:01hi, I am currently playing with red, reading through trello to understand what's state of the art, and found out those diffs: - the email type seems to be implemented, is marked as not-done in trello and - I/O support is not ticked off in https://trello.com/c/BW1SPeOU/48-i-o-support, but read http://... works fine I am on Mac OS X, using rebol from the source (cloned the repo, etc.) Is the trello not the right place, or am I just not patient enough to wait for it's update? :) 14:02but first and foremost, its amazing to see red coming about, more every day, congrats to keeping up the spirit for such a long time and building such a tiny+efficient thing that everybody would expect to be at least 100MB big ... wow!!! rebolek 14:20@wolframkriesing_twitter read http:// works fine, but that does not mean I/O is ready ;) Full I/O support will be there in 0.7.0 wolframkriesing_twitter 14:26@rebolek ah ok, what else is required for the http part of I/O? #curious 14:29running the danger that this question was asked million times: how come that red can be so tiny (1MB) with support for things that other languages don't even ship? I am digging the source for a couple days now and see what is being done and two things burn on my mind: 1) how can it be so tiny? AND 2) How hard will it be to keep red up to date, when going so low-level? E.g. when a new MacOSX, Android, etc. version comes out, how much effort will red require to catch up? rebolek 15:05@wolframkriesing_twitter Current http uses Curl. 0.7.0 will have native implementation. wolframkriesing_twitter 15:05@rebolek ah thx rebolek 15:06Also, right now there is no port, read and write are natives. This will be abstracted. wolframkriesing_twitter 15:07abstracted? but they stay natives, right? pekr 15:07hello @wolframkriesing_twitter - Trello mostly reflects actual state of the affairs. Red recently contains so called simple-io, which is supposed to be replaced by full IO stack in terms of the 0.7.0. wolframkriesing_twitter 15:07awesome, thx pekr 15:07ad, sorry, came in from the offline mode and did not see earlier answers ... rebolek 15:08@wolframkriesing_twitter Yeah, they will stay natives, but you would be able to do read basicaly-anything-here://.... You can’ do that now. wolframkriesing_twitter 15:08ah got it, currently it is directly bound to curl #assuming rebolek 15:08In Rebol, you can add your own protocols (ftp://, mysql://, smtp://, redis://, ...). This will be possible with Red also. pekr 15:09Not sure it is Curl on all platforms, Windows version uses no such dependency? rebolek 15:09@pekr Yes, you are right I think. wolframkriesing_twitter 15:09aha, i see https://github.com/red/red/blob/master/runtime/simple-io.reds#L1981 rebolek 15:10@wolframkriesing_twitter *How hard will it be to keep red up to date, when going so low-level? E.g. when a new MacOSX, Android, etc. version comes out, how much effort will red require to catch up?* 15:10Usually, not much changes on low-level. 15:11Well, in Windows, it does ;) 15:12But if you take a look at Rebol2, latest version is from 2011 and works fine on latest Windows, Linux, OSX. wolframkriesing_twitter 15:12@rebolek I will have to dive deeper into it, now I am intrigued ... wanna see and understand the implementation behind "We rebel against the idea that modern software must be large and complex" #like rebolek 15:14@wolframkriesing_twitter *how can it be so tiny?* - the right question is: how can other languages be so large? wolframkriesing_twitter 15:16absolutely. /me doing JS the last 15 years this is something that is a burden and pain, so I am really glad to see red challenging the status quo rebolek 15:22:+1: 15:23It is always great to see someone interested in Red/Rebol core values. wolframkriesing_twitter 15:24are there any cross compiling efforts towards JS going on? I am still home on the web and having red/rebol as a language that can compile for the web would be awesome imho pekr 15:26it is a long term plan ... not sure it is scheduled pred 1.0 though ... rebolek 15:28@wolframkriesing_twitter you can take a look at [Topaz](https://github.com/giesse/Project-SnowBall) - Rebol like language compiled to JS. wolframkriesing_twitter 15:45seen it too. if one would build it, would you add it just like another platform? or would there be a better/preferred way? geekyi 15:57@wolframkriesing_twitter I think the way forward is with "webassembly". Have you heard of it? wolframkriesing_twitter 15:59of course, that's what the JS world is doing to come down to all platforms :) but I guess you mean to generate webassembly, right? yeah thought so too. geekyi 16:06@wolframkriesing_twitter yes greggirwin 18:03@wolframkriesing_twitter, welcome! All Bolek said +1. The tiny size comes from its Forth heritage, an elegant design, and much discussion about what is worth including. On the one hand, having "batteries included" in modern parlance, makes it widely usable without external dependencies. On the other, the more batteries we include, the bigger it gets. It's also a decision about what to write in Red/System, which may be more verbose, versus how much of Red is written in Red, which may impact performance. A tough balancing act to be sure. The finale of the balancing act, which is part of your second question, is that Red is a self-contained toolchain. Huge benefits there, but also means that new back ends will increase the size of the standard runtime. There will surely be options to omit it, as Rebol had the /base interpreter option, but Red has a clean architecture WRT platforms, targets, an formats. Keeping these up-to-date will affect some layers more than others. The ELF and PE formats aren't going to change. ARM and IA-32 targets are stable, but may get optimizations. GUIs and mobile OSs are moving targets. Much work there, but Red gives us a huge advantage in being self-contained, with a full cross-compiler. And all that is there today. wolframkriesing_twitter 18:52thanks for the info @greggirwin ... esp. the last part is the most interesting one Monday 3th October, 2016 rebolek 04:51This message was send from Red 04:51Wow, it works! :D qtxie 05:14So we can make a gitter client in Red. └(^O^)┘ rebolek 05:14Yes. 05:15Also a bot. geekyi 07:23@rebolek can I haz code? rebolek 07:25@geekyi Of course, once it moves from total mess to something others will be able to use ;) geekyi 07:25@rebolek do you know of https://apigee.com/abhisekp/embed/console/gitter ? might find it useful rebolek 07:25The first message is something I had together in an hour, it’s really easy, just take a look at https://developer.gitter.im/docs/welcome 07:26@geekyi Thanks, I take a look 07:29So I downloaded all messages from this room and wanted to do some stats, unfortunately, the file is ~20MB and Red can’t load it. geekyi 07:31Testing.. This is sent using that 07:35**Markdown** *works*, @rebolek? (writing text as usual.. duh) 07:47Ratelimit resets in 4 months.. rebolek 07:594 months? That’s not what I see. geekyi 08:06 X-RateLimit-Remaining: 99 X-RateLimit-Limit: 100 X-RateLimit-Reset: 1475479753895 08:07Wait.. that's actually in the past.. 08:09Or my search engine isn't reporting it correctly.. rebolek 08:18Hm, it’s strange date. geekyi 08:18SO it's actually milliseconds rebolek 08:19Even then it’s strange. geekyi 08:20The one right now is 1475483044825 rebolek 08:20http://www.epochconverter.com/ 08:21it seems like the limit resets in just one minute matrixbot 08:24irx How did you post to this room? As far as I know Red can't do https or POST and PUT at the moment. rebolek 08:27Red can do https and POST (with write/info). However right now I am using call to curl. 08:29HTTPS: red>> read https://www.gitter.im == {<!doctype html>^/<html class="no-js " lang="en">^/ <head>^/ < dockimbel 09:02@wolframkriesing_twitter Welcome! Email! and tag! datatypes were added in the current master branch, we mark then as done in the "Road to 1.0" only when released officially. Note that in the "0.6.2 LibRed" card, they are marked as done though. To answer your other questions: *1) how can it be so tiny?* It is mostly because we have no external dependencies other than the OS (with exception to libCurl on Unix platform until 0.7.0). We've built our own toolchain and runtime library implementing only what is really needed. Moreover, as the toolchain is coded in Rebol, it is a testimony of how productive and efficient Rebol languages are. ;-) *2) How hard will it be to keep red up to date, when going so low-level? E.g. when a new MacOSX, Android, etc. version comes out, how much effort will red require to catch up?* We rely mostly on core OS APIs which are not changing between OS versions to another, so I can't recall we had to change anything inside our code because of a new OS update. Basically, if an OS will change its core API enough to break Red compatibility, you can expect most other software on that platform will be broken too, so unlikely to happen, except for major OS changes (like MacOS 9 => OS X). matrixbot 09:54irx @Boleslav Březovský: On which platform are you, I get a segmentation fault on the exact call. 09:54irx @Boleslav Březovský: On which platform are you, I get a segmentation fault on the exact same call. rebolek 09:55@matrixbot OSX. geekyi 09:58@matrixbot irx read https://www.gitter.im Windows 10 works for me with latest(?) red binary PeterWAWood 09:59Please don't flood this channel with chat about Gitter bots. It would be best to open another chat channel. Let me know if you have difficulty doing so. geekyi 10:01@PeterWAWood sorry, "Geeky's tests/Lobby" for anyone who wants to test DideC 11:15@geekyi A link would be easier ! geekyi 11:17@DideC How do you link to rooms? DideC 11:24Simply put the URL, no? 11:25Got it, thanks to your mention : https://gitter.im/geekyi/Lobby mikeparr 12:07zity maximvl 14:12@dockimbel wat, the Rebol toolchain is one thing, but what makes the final binary? rebolek 14:13@maximvl Rebol. maximvl 14:14does it mean that Red binary contain Rebol interpreter inside? rebolek 14:14@maximvl No, compiler is written in Rebol. 14:14It takes Red source and emits executable. 14:15Rebol interpreter compiles Red source. maximvl 14:16then I don't get this: >Moreover, as the toolchain is coded in Rebol, it is a testimony of how productive and efficient Rebol languages are 14:16the size of Red binary is a result of compiler written by Red team rebolek 14:17You can take a look at the compiler [here](https://github.com/red/red/blob/master/system/compiler.r) 14:19@maximvl what do you not get about it? The toolchain - compiler, linker, etc. - is written in Rebol. geekyi 14:19@maximvl > the size of Red binary is a result of compiler written by Red team Yes, currently written in rebol2 because it's stable. Only a temporary measure. It would get replaced by Red eventually maximvl 14:19yes, but 1M binary result is because the compiler is good 14:20you can write same compiler in any language rebolek 14:20Yes, you can. 14:21It will be rewritten in Red eventually. maximvl 14:38well, yeah, my point was that it is a compiler has a good design and implementation, rather than Rebol's direct feature wolframkriesing_twitter 15:11@dockimbel thx for the answer, actually my question 1) was rather a rhetorical one, I read all info I could find on the web and am following/playing with rebol/red since >5years ... now I am trying to dive in a bit more, hoping to keep up. Great work everyone!!! Keep it up 15:14rebol/red is one of the things that really excite me on the web, sure I am using all the hippest shit, JS, react, react-native ... but they are all not really game changer, but red feels like it could be. PeterWAWood 22:23@maximvl I don't think that the bootstrap compiler is considered to have good design. I believe that it is monolithic and difficult to extend. The real Red compiler, that @dockimbel has in mind, will be well designed, modular and easy to extend. greggirwin 23:21Good design relative to Doc's ideal versus good design compared to most software? ;^) Tuesday 4th October, 2016 greggirwin 05:48I haven't posted any mezzanines lately, so here's a little one that uses the random function in Red, along with a few subtleties to keep in mind. sample: func [ "Return a random sample of series values" series [series!] size [integer!] "How many elements to return" ][ ; Copy the series so it isn't modified, but don't use copy/part ; on the random result, since we don't need to copy again. head clear at random copy series size + 1 ] red>> b: [1 2 3 4 5 6 7 8 9 10] == [1 2 3 4 5 6 7 8 9 10] red>> sample b 3 == [3 6 5] red>> b == [1 2 3 4 5 6 7 8 9 10] red>> s: "abcdefghijkl" == "abcdefghijkl" red>> sample s 4 == "klhd" red>> s == "abcdefghijkl" Note that the series arg is copied. That's because random will modify it in place. If you haven't used random, you may be surprised that it can operate on a series rather than just reproducing a random number. It's a handy function, and is far more flexible than in languages where it only returns a value between 0 and 1. e.g. red>> random 1:0:0 == 0:45:04.20318372 And if you want it to select only a single random item from a series, use random/only. 05:59And there's a lot going on in that one line. At first glance, especially if you're new to Red, it may take a minute to scan. Free ranging evaluation doesn't always give you clues about arg application, though you can use parens if you want. And as you write more Red, you'll find yourself building up lines like this step by step. Notes: - We could use copy/part after using random on the series, but that's an extra copy we don't need. If that's clearer to you, there's nothing wrong in doing it that way. - Instead, we use clear in combination with at. At specifies an offset in the series and clear removes everything after that. - Series! indexes are 1-based. Size + 1 is used to start clearing just past the number of items we want. - Clear returns the new tail of the cleared series, but we want to return the head of it. dahu 09:15That 09:15meh 09:16That's cool, @greggirwin . Now we need combination / permutation mezs. 09:17And I've been meaning to ask if you've ever taken a look at NewLISP? It has built-in Bayes functions. maximvl 09:18@PeterWAWood in terms of size of resulting binary it's quite good, I'm not talking about extensibility or anything like this PeterWAWood 09:50The binary includes a copy of Rebol so the self-hosted binary may well be smaller. geekyi 10:06@dahu [NewLisp](http://www.newlisp.org/downloads/manual_frame.html) , a 2.8MB [Install](http://www.newlisp.org/downloads/) on windows, implemented in a [single file!](https://github.com/kosh04/newlisp/blob/develop/newlisp.c) of 7k LOC C. dahu 10:07@geekyi I like newlisp; Lutz has put a lot of love into it over the years geekyi 10:26@dahu So bayesian inference is done using 2 words, bayes-train, and bayes-query[Manual](http://www.newlisp.org/downloads/newlisp_manual.html#bayes-query), [wkibooks](https://en.wikibooks.org/wiki/Introduction_to_newLISP/Working_with_numbers#Bayesian_analysis) (bayes-train list-M1 [list-M2 ... ] sym-context-D) (bayes-query list-L context-D [bool-chain [bool-probs]]) In redbol syntax would that be: bayes-train [list1 list2 .. series!] /into context! bayes-query other-list context! /bool-chain bool-probs I don't know enough about bayesian inference to know what bool-chain does. In addition, it also support logic programming, and the api is pretty well documented in the online manual dahu 10:40I'm not up on the mathy-theory side of Bayes either, but from reading the manual, the bool-chain flag controls how non-existent tokens are considered and (presumably) activates the non-default chain-bayesian algorithm. The context is newlisp's namespace, object and hash/tree data structure. PeterWAWood 11:03There is a separate chat room for Lisp related discussions - https://gitter.im/red/red/lisp matrixbot 13:15irx I haven't posted any mezzanines lately, so here's a little one that uses the random function in Red, along with a few subtleties to keep in mind. sample: func [ "Return a random sample of series values" series [series!] size [integer!] "How many elements to return" ][ ; Copy the series so it isn't modified, but don't use copy/part ; on the random result, since we don't need to copy again. head clear at random copy series size + 1 ] red>> b: [1 2 3 4 5 6 7 8 9 10] == [1 2 3 4 5 6 7 8 9 10] red>> sample b 3 == [3 6 5] red>> b == [1 2 3 4 5 6 7 8 9 10] red>> s: "abcdefghijkl" == "abcdefghijkl" red>> sample s 4 == "klhd" red>> s == "abcdefghijkl" Note that the series arg is copied. That's because random will modify it in place. Ifven't used random, you may be surprised that it can operate on a series 13:16irx Sorry this text somehow ended up in my textbuffer on mobile. 13:17irx I tried to delete it, but :-( greggirwin 14:29:point_up: [October 4, 2016 3:15 AM](https://gitter.im/red/red?at=57f3732f91d6af115229bec9) @dahu, something like this? recombine: func [ "Returns a block containing all possible combinations of sub-block values" blocks [block!] "Block of sub-blocks whose values you want to combine" start [block!] "Used as an accumulator" ][ collect [ either tail? blocks [keep reduce [start]] [ foreach val first blocks [ keep recombine next blocks append copy start val ] ] ] ] red>> x: [[a b c] [1 2 3]] == [[a b c] [1 2 3]] red>> recombine x copy [] == [[a 1] [a 2] [a 3] [b 1] [b 2] [b 3] [c 1] [c 2] [c 3]] red>> x: [[a b c] [1 2 3]] == [[a b c] [1 2 3]] red>> y: [[yes no] [-4.0 -5.0]] == [[yes no] [-4.0 -5.0]] red>> z: [[! & ?] ["" {} []]] == [[! & ?] ["" "" []]] red>> recombine reduce [x y z] copy [] == [[a b c yes no ! & ?] [a b c yes no "" "" []] [a b c -4.0 -5.0 ! & ?] [a b c -4.0 -5.0 "" "" []] [1 2 3 yes no ! & ?] [1 2 3 yes no "" "" []] [1 2 3 -4.0 -5.... mikeparr 16:03I uploaded a new version of the Ride editor (http://www.mikeparr.info/redlang.html), now with pretty-printer. BTW I included a version of R2 in the zip - is this legal? greggirwin 17:13Thanks Mike! I think you're OK as you link to the download page as well, and you're not including a license key for a paid version. 17:21This Red room has the most people, but for those new to Red, or wanting to ask questions, there are also https://gitter.im/red/help and https://gitter.im/red/red/welcome. Don't hesitate to ask questions there, or ask a question on SO and put a link here so someone can answer there. rebolek 21:10I know that IO is not finished, but there is some simple IO already and it seems there is POST for HTTP. Should I expect it to work? Should I report bugs for it? Wednesday 5th October, 2016 dahu 00:28That looks good, @greggirwin , for combination. dockimbel 05:39@rebolek HTTP POST should be working fine. Yes, you can report bugs for it. rebolek 05:47@dockimbel Thanks for info, I will. 05:53@dockimbel also, can you give me some example of POST, so I can be sure I am doing it right? ;) 06:13See #2256 and #2257 qtxie 07:30@rebolek The bugs are on Windows? rebolek 07:50@qtxie Yes, I tested that on W7 VM. 07:52@qtxie I just tested it on OSX and I get crash in both cases. qtxie 08:04For issue #2256, Seems it works on my OSX VM. 08:04 red>> probe write/info http://api.gitter.im/v1/rooms/ [ [ POST [ [ Accept: "application/json" [ ] {{test}} [ ] [403 #( Etag: {W/"15-BOD3e569EKnzuMK5eYTqnA"} Server: "nginx" Content-Type: "application/json; charset=utf-8" X-Powered-By: "Express" Content-Length: "21" Date: "Wed, 05 Oct 2016 08:03:33 GMT" Vary: "X-HTTP-Method-Override" Set-Cookie: {connect.sid=s%3AdoCCMGc3Oq_rnyY2GKGzojJfCkynIlbJ.5neoNP9yrjlwGiQE5BBrkhJZRIhrjYF5QhxX%2BIcZx5g; Path=/; HttpOnly} Connection: "Close" ) {{"error":"Forbidden"}}] maximvl 08:15 red>> print write/info http://httpbin.org/post [POST [Header1: "text1"]] *** Runtime Error 1: access violation *** at: 08081372h 08:16 red>> system/platform == Linux red>> system/build == "5-Oct-2016/10:13:25+2:00" rebolek 08:17@qtxie when pasted to console, I get same behavior as you (I haven’t inspected it with Wireshark yet, so I don’t know if it’s sending headers), when I run it from script, I get the crash I posted. 08:18Tested with Wireshark, no headers, as in Windows. pekr 09:26Good news from the RedCV camp - Francois got an PhD student involved in the project, new documentation is also in the works! maximvl 09:27@pekr is RedCV is just an FFI for OpenCV or it's own implementation? pekr 09:30I think that Francois started with the OpenCV wrapper for the 3.0 library. It still can be found on Github. Later on, he started to port OpenCV function to Red/System, providing it 1:1 Red routine wrappers. 09:30I did not look (nor am I able to properly understand) into the low level, but R/S port might be quite straighforward, as the language is close to C in its nature? rebolek 09:31AFAIK it is completely done in Red(/System), not a wrapper. pekr 09:31Of course there might be some disadvantages - some speed panalty of R/S code vs C, plus - once the OpenCV library evolves, someone has to adapt RedCV too. But - in the case of wrapper, you have to adapt the wrapper too, so ... 09:32It is imo nice to have native R/S implementation - should show some Red + R/S power! maximvl 09:33yep, this is one of the cool things - reducing amount of native dependencies which your app may require pekr 11:48re renaming libRed to libRedRT (RT: runtime) ... couldn't we call it just Red/Runtime, libRT, libRed, libRuntime? I mean - do we need to free libRed for some other usage? libRedRT looks/sounds a bit cumbersome ... dockimbel 12:09@pekr The answer is in the commit log. pekr 12:11OK, thanks, got it ... mikeparr 15:16you greggirwin 16:54/topic types and type names 16:54Moving from red/help dockimbel 16:55@wolframkriesing_twitter We have plans to allow extending the Red lexer in an easy way (if possible), so when we'll add support for custom types, you should be able to define a new type entirely from high-level user code. greggirwin 16:56tag! is a nice name, but so general I sometimes wish it had been called markup!. 16:58Remember at-tag! was a proposed name, though I still like ref! better. I think the *-tag! idea isn't something we want to extend across sigils. dockimbel 17:00@greggirwin Did we have a page somewhere summing up the naming options for such new type? greggirwin 17:00I don't think so. Mainly old chat on altme and some here, or maybe in the Ren room. 17:02I can set up a Ren room for it if you want, to avoid more channels here. dockimbel 17:03@greggirwin It's fine here for now. greggirwin 17:05My resistance to hashtag! is that it has a very specific meaning in current internet culture, and we want Red-as-data to last beyond Twitter and the hashtag fad. 17:06OTOH, this is a computer centric format, so we should define things in that context as well (e.g. tag!). 17:09And issue! is multipurpose, as ref! will be. 17:17note! is one I hadn't thought of before, as an alternate name for issue!. A common theme in its uses is to denote something. dockimbel 17:18@greggirwin note! could be valuable for a multi-line oriented type, maybe something using triple quotes. greggirwin 17:20Ick. ;^) I suppose it's as valid as Heredoc though. 17:21But if ''' is used (or some other syntax), what distinguishes the contents from a regular string? dockimbel 17:23@greggirwin We would need an optional unique sequence to identify the ending (when needed). IIRC Python's Heredoc has such feature. greggirwin 17:24That's the Heredoc spec, right? dockimbel 17:24IIRC, yes. greggirwin 17:26<sigil+><marker string> content... <marker string> 17:28I considered $$$ in the past, because it's as close as you can get to § with a normal key. But I don't like conflating the currency symbol. 17:30Getting into much bigger design questions though. wolframkriesing_twitter 18:35i like tag! too, but this discussion is opening up lots of directions :) Thursday 6th October, 2016 pekr 08:50@dockimbel - sorry for my lack of knowledge, but - what are "compilation directives at Red level" good for? dockimbel 09:20@pekr A preprocessor for Red source code. maximvl 12:19@dockimbel why do we need a preprocessor? 12:19to me it sounds like a practice from C times dockimbel 12:48@maximvl Because we have a compiler, so we want to take advantage of compile-time to modify the code when needed. maximvl 12:48is this somehow different from macros? dockimbel 12:51@maximvl Macros will be part of the preprocessor. maximvl 12:54@dockimbel are you aiming for C-like string insertion macros, or Lisp-like AST ones? dockimbel 12:54@maximvl The latter one. Preprocessing source code in string form, is trivial to do already. maximvl 12:55that's interesting, so we will have metaprogramming capabilities in both, runtime and compile time dockimbel 12:56Precisely. ;-) maximvl 12:56I see, great! :) JacobGood1 13:06@dockimbel hello Doc =), nice discussion here... are we able to compile something like: ;hypothetical code func [code] [ create-some-system-code-here: parse code manipulate-code-rule do system create-some-system-code-here ] I asked this question a while ago but I have not kept up with things maximvl 13:14@JacobGood1 do you want something here to happen in compile time? JacobGood1 13:15I want to be able to manipulate and compile reds code from red, even in the repl =) maximvl 13:17ah, I see 13:17good question, is the R/S code available in runtime? meijeru 14:05Can the REPL handle R/S code at all? rebolek 14:05no, R/S code must be compiled right now. 14:06You can compile your own REPL with required R/S code. meijeru 14:08So what Jacob is asking for is being able, in the REPL, to invoke the compiler on a (fragment of) Red + Red/System code and then to execute the resulting compiled code. That seems like a tall order. rebolek 14:10Well, it is possible, but not easy. 14:10You must compile REPL with call support, so you can run Rebol from Red. 14:11Then you can call Rebol to compile R/S function and import resulting DLL. meijeru 14:12I suppose he was thinking of a more "built-in" way, and others might wish the same, but it is clear that that is not (yet?) on the books. rebolek 14:16Current compiler is written in Rebol. So you can’t expect it before the compiler is rewritten to Red. maximvl 14:17yep, makes sense dockimbel 15:13@JacobGood1 Hello! Not yet, though libRed allows you to compile Red + R/S code very quickly now (just wait a couple more days for libRed branch to be merged into master). Arie-vw 15:26@raimundasa Sorry for late reply. Please be more specific on repeat problem. AFAICT the docs look OK ... In first example a value is returned. In second example an error occurs because x is local. In third example value of y is only printed, so not used outside repeat. pekr 15:31@dockimbel some time ago we used an embedded programming environment (Ubicom, now Qualcomm), which provided a GUI tool, where you simply clicked/ticked modules/parts you want to have available. Do you think we could have a visual tool, which would allow us to (de)select, what goes inside the runtime, etc.? dockimbel 15:38@pekr Certainly, but for now, the optional modules are limited. maximvl 19:13fyi: modern cool terminal in JS/HTML/CSS: https://hyper.is/ 19:14download size is ~35MB 19:14do you think Red can do better? ;) rebolek 19:40I made few fixes to JSON parser by @dockimbel , now it converts tabs too and array conversion is fixed (it included last value twice). You can get it here: https://gist.github.com/rebolek/93d7e958a0abde838b72890d1692d86b 19:51Ignore my last message, I introduced new bugs and now I can’t delete it. rgchris 20:27@rebolek I know you said ignore, but is there any reason why **hexa** doesn't include 'F' ? qtxie 22:41@rebolek I also improved it when I made the VSCode plugin. I also add encode function. :-) 22:42https://gist.github.com/qtxie/445dff8fba8a9eb8b82df7f3a055841d Friday 7th October, 2016 JacobGood1 00:02@dockimbel thanks, sounds good! rebolek 02:33@rgchris good question, I didn’t even notice :) 02:33@qtxie great, thanks for sharing! 02:35@qtxie However your version still has the array bug: red>> json/decode {["a","b"]} == [["a" "b" "b"]] rgchris 02:38Any chance this is an issue with **collect** honouring a **keep** from a failed branch? rebolek 02:39@rgchris that’s what it exactly is 02:39array: [#"[" collect opt [any [ws value #","] ws value] ws #"]"] rgchris 02:39I'd say this is the weakest part of the collect/keep implementation as-is. 02:40 rebol parse ["a"] [collect [keep "a" keep "b" | keep "a"]] 02:44It may be a case of *user beware*, but I can't shake the sense that **keep** should only stick if part of a successful branch. 02:45At least in this case, you can switch around to say: array: [#"[" collect opt [ws value any [ws #"," ws value]] ws #"]"] rebolek 02:47True. 02:47But it makes sense that keep should work only with successful rule. dockimbel 03:00**keep** behavior is consistent with how backtracking works in Parse, as it only affects input and rule positions, all other changes are final. Including arbitrary state changes in backtracking seems not only very complex and expensive to implement, but I'm also unsure if it can be made accurate in all cases (as related state changes might happen in the environment due to (future) concurrency). rgchris 03:24You do lose out in expressivity though and definitely needs to be marked as *user beware* (see above JSON bug as an example where even seasoned users are tripped up). dockimbel 05:55@rgchris I had a quick look back at Parse implementation, it seems there is a way to include keep in the backtracking process. I should give it a try later today. rgchris 06:00Cool!—Definitely worth the look to see if it's feasible. rebolek 06:00That would be nice. DideC 14:23I wondered many times why the [Red updater script](https://gist.github.com/dockimbel/22d3c007fffab0e3388d#file-red-updater-r) always updates, even if run just a second ago on my system. I found today : modified? on URL does not set timezone, so the date/time comparison is wrong. So I patched my script with this lines, and now it works fine: path-to-red-executable: %/path/to/folder/filename-without-extension timezone: 8:00 ; Xiamen, China TZ if environ/win? [append path-to-red-executable ".exe"] update-required?: does [ t: modified? site t/zone: timezone t > modified? path-to-red-executable ] maximvl 15:41I think it makes sense to add timezone conversion to date/time compare functions ghost~5680c5f416b6c7089cc058a5 15:56@dockimbel any plans to have text based ui backend for view - something like DlangUI has (see in this blog post) - https://dlang.org/blog/2016/10/07/project-highlight-dlangui/ maximvl 16:01why would you want one? dockimbel 16:02@nc-x It would be nice to have, though, as you know, we don't have the resources for that in the Red team currently. Hopefully, after a few more GUI backends, it should be relatively easy for someone to pick up such task, and contribute extra backends. maximvl 16:02the only reason I see for text UI is you can use it with applications running remotely matrixbot 16:24irx Or on a raspberrypi which doesn't GUI installed. greggirwin 17:23IoT devices with limited displays? rebolek 17:39Not sure about displays, but security is well know limit of IoT devices ;) endo64 22:19There is a small difference in new-line function on Red and Rebol, red>> new-line/skip [1 2 3 4] true 2 == [ 1 2 3 4 ] R2> new-line/skip [1 2 3 4] true 2 == [ 1 2 3 4 ] Saturday 8th October, 2016 dockimbel 03:17@endo64 Looks like a bug, /skip is not honored. 05:26@endo64 Issue fixed now. mikeparr 08:11Q on return type of round. I was expecting it to always return an integer type, but it normally returns float! - unless the arg is an integer!. Red 0.6.1 - 1-Oct-2016/10:43:56+1:00 red>> type? round 1.5 == float! red>> type? round 2.0 == float! red>> type? round 2 == integer! rebolek 08:14@mikeparr it makes sense, see this: red>> round/to 3.14 0.1 == 3.1 endo64 09:23Thank you Doc, both /skip and crash issue solved now. henrikmk 13:34hi, all. been a while. does Red have object support yet? pekr 13:34Hi Henrik. Yes, for quite some time already ... 13:35http://www.red-lang.org/search/label/objects henrikmk 13:40thanks, pekr pekr 13:42Notice objects in Red have broader functionality - offering on-change callback .... 13:43Red also introduced so called reactive programming support ... henrikmk 13:57is there anything that Red can't do with objects that R2 can? pekr 14:00I think it is just the same, but not sure about the details ... Object support is available since 0.5.0, which was released a long time ago, hence objects are not experimental, but should be fully supported feature ... 14:02You can read Future evolutions part of the blog post - http://www.red-lang.org/2014/12/050-objects-support.html mikeparr 14:04@rebolek - re round - I see your point. Thanks henrikmk 14:25thanks, pekr. contemplating continuing VID Junior development with R2 as the starting point and object manipulation is the key feature in it. if I could bring it directly to Red without changes, that would be a big step. pekr 14:26how far is your projects? 14:27underlying View engine differs though. Red provides native widgets mapping, although it has identical drawing primitives as R2 henrikmk 14:35hasn't really moved since last I talked about it on AltME. I figured, it's better to code than talk. So Red has a View engine now? pekr 14:37:-) 14:37Yes, it does ... 14:38Along with reactive programming - look at the demo - http://www.red-lang.org/2016/07/eve-style-clock-demo-in-red-livecoded.html 14:38it also has very nice gui console, coded in Red View 14:39just read few blog posts on the red-lang.org site henrikmk 14:42I just need, for now, a basic way to convert a face tree to graphical regions. greggirwin 16:01https://doc.red-lang.org/gui/View.html http://doc.red-lang.org/gui/VID.html http://doc.red-lang.org/gui/Draw.html http://doc.red-lang.org/reactivity.html Sunday 9th October, 2016 maximvl 10:05not sure if it's a bug or not, but by default view field/text has none value, but if you type and delete text it becomes empty string dockimbel 11:34@maximvl Not a bug. View will not create a string until you start putting something in the field. You can use it to check if the field has been previously used or not. mikeparr 18:27zity 20:27sorry - random keypressing above! endo64 22:44? function doesn't mold strings, o: context [a: "te^/st"] ? o `o` is an object! of value: a string! te st Monday 10th October, 2016 dockimbel 06:08@endo64 Should be easy enough to fix by a contributor. ;-) dahu 06:28Ackerman function causes stack overflow in Red: https://gist.github.com/dahu/66989ec585654726b97bb4124deb9713 dockimbel 06:42@dahu It's possible that Rebol's stack is deeper by default, we can increase Red's one to match it. dahu 06:42Yeah. I assumed it was a trivial (albeit internal) fix. endo64 07:46> @endo64 Should be easy enough to fix by a contributor. ;-) I know I tried to fix but my f**** government blocks access to whole github so I cannot even pull the latest sources :( (they blocked dropbox, gdrive, onedrive too) 07:47I cannot even see gists, how stupid government officers we have.. sorry for the bad words, but they really are. rebolek 08:01Wow. That’s sad :( maximvl 08:16@endo64 wow, which country is it? Oldes 08:41@maximvl turkey - https://turkeyblocks.org/2016/10/08/google-drive-dropbox-blocked-in-turkey/ endo64 08:59Turkey :( when ever some people put some files, documents etc. on some platform, that government thinks that they related to terrorism (sometimes they are probably) they block the whole access to the system, it happened to twitter, Facebook or file sharing platforms time to time. The stupid thing is blocking the whole system, not just the file or subdomain.. Anyway its not the place to chat here. maximvl 09:12ok, in Russia we had similar thing, but Github ban had too much impact on IT companies, so they pushed government to unblock it back endo64 09:20Here people and companies cannot push government to not look like they are on the same side with terrorists. So we just wait. dockimbel 12:16@endo64 Time to install a VPN. ;-) 12:17I have just merged libRed branch to master. The toolchain now behaves differently, so here is a brief overview: 1. Compilation of Red scripts now has two modes: development and release. 2. Development mode (or just "dev mode") is the default one, release mode is achieved with an extra -r or --release compilation option. 3. Dev mode will first build the Red runtime as a shared library (libRedRT) and reuse it across compilations. It will put it in the working folder, along with some other temporary libRedRT* files. You can freealy delete them at any time. 4. Dev mode provides much faster compilation time, by compiling only user code and not the Red runtime library. 5. If your Red scripts contains R/S code and relies on Red runtime API, you should compile once with -u option, to force a custom update of libRedRT (takes a bit of time), then you can compile as usual and enjoy fast compilation too. 6. Pure R/S scripts are unaffected by those changes, so they are handled as usual. There are still some details we need to work on, but it is already very usable as is. maximvl 12:20@dockimbel great thanks! 12:20@dockimbel about #5 - will that R/S code go directly into libRedRT? dockimbel 12:22@maximvl Nope, user code stays in the executable (as you need to recompile it often, which is why the runtime is precompiled in a shared library). LibRedRT is only for Red's runtime code + modules. Currently the list of modules is fixed, but it will be possible to set it manually soon. On Windows, you get View module precompiled in libRedRT. 12:24If you want to get back to old toolchain behavior, just specifiy -r on command-line. endo64 12:46great work! now really need a vpn to get those changes :worried: 7hi4g0 13:53red -c does not work for me on Linux. It always give me *** Error: cannot access argument file. 13:53Bug? dockimbel 14:17We haven't much tested the binary version of the toolchain, just from sources. Let me give it a try. 14:32@7hi4g0 I cannot reproduce your error with the latest auto-build, I get a libRedRT-related error rather. 7hi4g0 14:46@dockimbel I tried running from the Rebol console and it compiles alright. pekr 14:52Can we compile gui-console from R2 console via rcalready? dockimbel 14:53Gui-console can only be compiled in release mode (-r), it cannot use libRedRT, due to some tight coupling with the runtime library (mostly because of printing functions mutual dependencies). Tuesday 11st October, 2016 TimeSlip 03:12@dockimbel , Thanks for the help in red/help. BTW, how's the Android version coming along? ghost~5680c5f416b6c7089cc058a5 04:20@TimeSlip Android version will be part of next release, not this release. So no work has been done on it yet. TimeSlip 04:20@nc-x Thank you for the update. ghost~5680c5f416b6c7089cc058a5 04:21@dockimbel Red scripts containing preprocessor directives work when compiled but give error when interpreted. Is the preprocessor a WIP and this will be fixed before release? or Is this expected behaviour? dockimbel 04:30@nc-x It should work. Any example code? ghost~5680c5f416b6c7089cc058a5 05:00@dockimbel Never mind, it was something wrong with my code :smile: endo64 07:25Github access is working now, in Turkey. rebolek 07:26Great! Do they monitor this channel? ;) endo64 07:35I hope not :smile: dockimbel 08:54Food for thought: anyone willing to write an article for Red covering the same topic as: https://www.pubnub.com/blog/2016-09-26-4-tutorials-create-language-in-less-than-200-lines-of-code/ ? rebolek 08:56Hm, that sounds interesting. maximvl 08:58this must be interesting 08:58not sure if I have enough knowledge to do it 09:00>Ohm is based on years of research into making parsers easier and more flexible. VPRI’s STEPS program (pdf) created many custom languages for specific tasks (like a fully parallelizable graphics renderer in 400 lines of code!) using Ohm’s precursor OMeta. 09:00OMG VPRI's work wasn't wasted 09:04I wonder how OMeta/Ohm is different from Redbol's parsers dockimbel 09:47@maximvl Maybe some interesting features in Ohm for Red's Parse, worth having a deeper look. maximvl 09:50@dockimbel there are should be some, have you heard about TCP/IP stack in 300 LoC? dockimbel 09:51@maximvl Yes, but vaguely. maximvl 09:52let me find a post then 09:52@dockimbel http://www.moserware.com/2008/04/towards-moores-law-software-part-3-of-3.html dockimbel 10:23@maximvl Very interesting. I had some ideas about a protocol framework similar to that. maximvl 10:25fyi: this is the final report after five years of VPRI's research and development: http://www.vpri.org/pdf/tr2011004_steps11.pdf BlackATTR_twitter 15:40A few of us in the red community from the mid-atlantic states of the US just started getting organized as a Red user group. We've been discussing community resources, documentation etc. I'd like to propose that our group take a shot at this Dialect article. Of course, some of us are somewhat new to Red, so we may ask for some feeback in the appropriate rooms here. pekr 16:22Welcome :-) Any prior Rebol background? greggirwin 16:43I'll have to read more on Viewpoints. Alan Kay seems to be part of it. I did an FSM dialect many years ago and built a few versions where I generated code before I realized I didn't need to generate code. I could just interpret the spec dynamically and directly. I think building a protocol dialect, that uses an FSM dialect could be great. Those two concepts are in a lot of what we do, but they are implicit, spread out, and not truly specified in our code. I always wanted more of Rebol to be written in Rebol, which is part of why I like Red so much. But I think we can go even further, as they seem to be trying to do. The TCP stuff looks like a combination of Forth and Lisp concepts, which is also what I think makes Red powerful. 16:44Thanks for the links @maximvl. BlackATTR_twitter 17:26@pekr all longtime rebollers geekyi 18:09:point_up: [October 11, 2016 1:54 PM](https://gitter.im/red/red?at=57fca8e34fde72031428a31c) @dockimbel @maximvl >I wonder how OMeta/Ohm is different from Redbol's parsers From https://ohmlang.github.io/ : >The Ohm language is based on parsing expression grammars (PEGs) That means it basically uses the same underlying concept as Rebol's parse? (I'd thought rebol 's parse was based on PEGs, need to find a proper source) 18:11From [wikipedia](https://en.wikipedia.org/wiki/Rebol#parse): >The parse dialect belongs to the family of grammars represented by the *top-down parsing language* or the *parsing expression grammar (PEG)* greggirwin 18:26Thanks for taking the lead on that @BlackATTR_twitter! Wednesday 12nd October, 2016 Zamlox 04:46missing now from libRedRT: Compiling to native code... *** Compilation Error: undefined symbol: red/natives/now* dockimbel 04:50@Zamlox Needs to be added to libRedRT-export.r file. Zamlox 04:51@dockimbel all right, thanks. henrikmk 09:12@greggirwin Thanks for those links dockimbel 12:09Can anyone reproduce the Travis [crash](https://travis-ci.org/red/red/jobs/167021342) on the interpreted tests? My Linux image runs the tests just fine. PeterWAWood 12:58@dockimbel Sorry. The tests run successfully on my Ubuntu 32 VM. Zamlox 13:04@dockimbel running well on Ubuntu 16.04 LTS 64bit rcqls 13:09@dockimbel everything fine also on Ubuntu 14.04.5 LTS 64bit dockimbel 13:13@PeterWAWood @Zamlox @rcqls Thanks for testing it! So now we need a way to figure out why is it failing on Travis... Looks like the [only way](https://docs.travis-ci.com/user/common-build-problems/#Troubleshooting-Locally-in-a-Docker-Image) is installing locally a Docker image. rcqls 13:37Do you expect to have more expressive return with the docker travis container? signify failure ~~~started test~~~ run-all-interp *** Runtime Error 1: access violation *** at: F7763A15h Zamlox 13:51@dockimbel you can try to eliminate tests (using half-interval method) from run-all-interp.red and run it individually. Eventually you will find the culprit, but it will take time. PeterWAWood 13:58@dockimbel You could change the Travis run-all command to use the --each command line arg. It will then run the test files individually and should show which file contains the failing test. 13:59(Though it's a long time since I used the --each argument, hope it still works.) rcqls 14:18@dockimbel I can confirm the problem with the docker travis container. Zamlox 14:32@rcqls try to run as @PeterWAWood suggested to see which test fails. rcqls 14:33@Zamlox Exactly what I am doing after commenting the two first long tests Zamlox 14:34@rcqls ok ;) rcqls 14:35@docimbel @Zamlox And the winner is ** - interp-checksum**********************************0 / 1 ** Zamlox 14:35@rcqls great :) rcqls 14:37The error in the log is the same that I mentionned before Zamlox 14:40@rcqls if you have time you can play by eliminating tests from that file and running until you find the test which gives the error. rcqls 14:42@Zamlox how do I test only this test file? Zamlox 14:45@rcqls I don't know yet, I'll try to find out. rcqls 14:57@Zamlox I think I have a solution by removing all lines except checksum-test.red in all-tests.txt Zamlox 14:57@rcqls yep. Just found out same thing ;) dockimbel 15:13@rcqls @Zamlox Thank you for pinpointing the culprit. rcqls 15:21@dockimbel @Zamlox --test-- "PRF-1-HMAC-SHA-256 «  is the first to fail 15:22The next test is failing too. I guess all tests in the same group are the culprits qtxie 15:31Maybe it is caused by we use the kernel crypto feature on Linux which is not available in docker? rcqls 15:36Commenting only the PRF tests , there is no more failures in the docker travis container dockimbel 15:41@rcqls Does installing libcrypto in your image solve it? apt-get install libssl-dev rcqls 15:43I'll give a try qtxie 15:48@dockimbel We don't use libcrypto on Linux, we use the [Kernel Crypto API](http://www.chronox.de/crypto-API/). 15:49It's strange that the compiled version works fine on docker.... rcqls 15:49No, it does not fix the problem. This libssl-dev was already installed 16:05@dockimbel @qtxie It seems more complicated since fectching the last red binary and executing the test (in the travis container) does not fail. 16:06The only difference is then that the code is not executed in the console 16:09By the way, libcrypto.so is available in the travis container IngoHohmann 17:18I am unable to compile the console on linux. 17:18Target: Linux Compiling to native code... *** Compilation Error: undefined symbol: red/unicode/decode-utf8-char *** in file: %/red-master/environment/console/POSIX.reds *** in function: exec/terminal/fd-read *** at line: 235 *** near: [ unicode/decode-utf8-char utf-char :len ] 17:18This is what I get. dockimbel 17:38@IngoHohmann Console, like any other Red app embedding R/S code, needs to be compiled once with -u to build a custom version of libRed for it. Alternatively, you can build in release mode directly using -r option. See my post about libRed :point_up: [October 10, 2016 8:16 PM](https://gitter.im/red/red?at=57fb868370fcb5db0c444edf). IngoHohmann 17:39I see, I had a slight feeling that something like this might be happening ... 17:40Thank you dockimbel 17:40Just to make things clear: simply use -r command-line option, and the compilation process will work as before. x8x 18:50I'm having path problems on macOS, compiling with -r or -c -u wheres it was compiling fine before, any one else on macOS having similar problem? Thursday 13th October, 2016 7hi4g0 02:52I'm noticing some locale bugs while building from the GTK branch. I believe this is caused due to GTK automatically setting the system locale on start. 02:53Is there any way to compile from that branch without view? 02:53I want to test this before opening a bug. qtxie 03:43@7hi4g0 Just remove Needs: View in the Red header of the console.red. dockimbel 05:14@x8x Please open a ticket with an example code for that issue. I will recheck the changes today wrt to output path. 7hi4g0 05:43@qtxie Ok. Will make some tests and open the issue. endo64 10:01Shouldn't --catch arg catch halt and not quit after executing user.red file? E:\Git\red\build\bin>red --cli user.red ok (halted) E:\Git\red\build\bin> E:\Git\red\build\bin>red --cli --catch user.red ok (halted) E:\Git\red\build\bin> dockimbel 12:01@endo64 It's meant for error catching, for debugging purposes. We could catch halt also I guess. maximvl 14:01guys, about this one: https://github.com/red/red/issues/2267 14:01do we really want screen size to return relative value? 14:02and is there a way to get absolute screen size? dockimbel 15:08@maximvl Absolute size. It should be possible to get it from the system. mikeparr 15:15 maximvl 15:28@dockimbel hm, discussion there ended on accepting whatever OS returns 15:29which is wierd dockimbel 15:32@maximvl I noticed. I plan to rework that part once we add DPI handling to View engine. maximvl 15:45is there a recursion limit in Rebol? can I change it? rebolek 16:21@maximvl Yes, there is: >> i: 0 == 0 >> f: func [][i: i + 1 f] >> f ** Internal Error: Stack overflow ** Where: f ** Near: f >> i == 1334 dockimbel 16:49@maximvl It's hardcoded for now, we need to expose it as a compilation option. rebolek 17:05@dockimbel He asked about Rebol, not sure if that was a mistake or not. dockimbel 17:23Ah, sorry, overlooked it. AFAIK, no way to change it in Rebol2. rebolek 17:26But maybe it was a typo. Having it as compilation option for Red makes sense IMO. x8x 20:17Thank you @dockimbel . I tried to make a short example reproducing the error but failed. I'll have to reduce the problematic code to get an example. Will open an issue then. 20:23It would be helpful if following error message: Compiling to native code... *** Loading Error: file access error: %definitions.reds *** in file: %/red/master/system/library/call/call.reds *** at line: 26 would actually return the full path of where it is looking for the %definitions.red file. Friday 14th October, 2016 geekyi 05:12:point_up: [October 13, 2016 7:01 PM](https://gitter.im/red/red?at=57ff93a1614116a2567db897) @maximvl it's the resolution the user wants, so why not? What use case have you in mind instead? maximvl 09:05hi guys, yes, I was going to try to implement Knuth's man-or-boy compiler test 09:05and I found that python version sets recursion limit explicitly to pass it 13:26every time I'm looking at datatype/register I wonder if Red should have keyword arguments pekr 15:11I can see ref!datatype on a Trello card for 0.6.2 release - what is it going to be about? Some kind of pointer? greggirwin 15:56@pekr, ref! would be a value like @pekr. 16:03@maximvl, keyword arguments in Red/System would be a big change, but if you have a concrete proposal for how to do it, or other improvements to R/S, now is the time to propose them. dockimbel 16:50@maximvl You mean Red or Red/System? Saturday 15th October, 2016 7hi4g0 03:40Implementing the GTK backend for view I'm needing to use some convoluted C macros. My two options are port the macros to Red/System or write the code in C and link together while compilation. 03:40So my question is: Is there any way to compile C code together with Red/System? qtxie 04:04Red can only link with shared library for now, cannot static link with C library. 7hi4g0 04:42Thought so. That's unfortunate. :disappointed: ghost~5680c5f416b6c7089cc058a5 05:00IIRC someone was working on static library linker. How far has the work been done? qtxie 05:12I don't know who was working on it. :question: 05:19@7hi4g0 Even though we can link with static library, we should avoid introducing C code into view. We'll depends on the C toolchain which we were trying to get rid of from beginning. ghost~5680c5f416b6c7089cc058a5 06:20 06:20@qtxie it was @moliad who was working on the static linker. 06:25[see here](https://gitter.im/red/red?at=570f0c37b30cfa0f384b3a55) 06:25Agreed about not introducing dependencies on the c toolchain though. DonaldTsang 06:29@everyone LONG TIME NO SEE! 7hi4g0 06:35@qtxie I agree that it wouldn't be the best option. DonaldTsang 06:42Does anyone here know kdb+ from Kx Systems? They have two compressed programming languages called K and Q (based on J and APL), that I think Red/Dialect could get a few ideas from. dockimbel 07:57@7hi4g0 Can you give me a link to those GTK macros which are expensive to convert to R/S? DonaldTsang 08:10@dockimbel long time no see! 08:12@room long time no see! rebolek 08:13Hi @DonaldTsang 7hi4g0 08:15@dockimbel The ones listed in this page and in the pages linked there: https://developer.gnome.org/gobject/stable/howto-interface-implement.html pekr 08:15re the following post - https://github.com/red/red/pull/2270 , are we going to use GtkCssProvider or GtkStyleProvider? 7hi4g0 08:15I'm not sure but I suspect these macros actually call other macros. 08:17@pekr For now GtkCssProvider. To implement GtkStyleProvider we need to port some macros from GObject to Red/System. 08:18I'm looking into it but any help is welcome. :smile: maximvl 09:05@dockimbel I would like to have keyword arguments in both, but did you consider having keyword arguments? what was the decision? dockimbel 09:54@7hi4g0 Thanks. It seems that we can just use function calls directly to read/write objects properties, instead of the macro calls. 10:01@maximvl It's in my wish-list for Red since the beginning, though, I haven't come up yet with a satisfying enough syntax for supporting it. The closest thing I got in my notes for that, relies on introducing a new word datatype which literal form would be name:: with a sticky or non-sticky argument following it. maximvl 10:02@dockimbel but Rebol has refinements, aren't they similar to keyword args? dockimbel 10:04@maximvl Refinements are extra arguments, they don't replace them. maximvl 10:05syntax can be something like func f [a b /keyword [c 1] [d]] ... 10:05like /local in Rebol 10:05where c will be default to 1 and d to none dockimbel 10:07@maximvl I'm not sure we are talking about the same thing. I was talking about [named arguments](https://en.wikipedia.org/wiki/Named_parameter), where the labelling of arguments happens at functions call sites. maximvl 10:09yes, this is what I'm talking about, I'm thinking how to do it on function call site dockimbel 10:10@maximvl So your code above was a function definition or a function call? maximvl 10:10CL has special symbol's package called keyword which is used to separate names from arguments 10:10@dockimbel definition 10:11but we have no packages in Red dockimbel 10:13I'm not sure if "separating names from arguments" is relevant in Red/Rebol where symbols and the values they eventually reference are separated by design. 10:15Here is how I see it: foo: function [a b][a - b] foo a:: 5 b:: 2 == 3 print foo b:: 2 a:: 5 == 3 10:15Though, I don't find that syntax elegant enough for my taste. Moreover, it wouldn't work with nested calls unless extra syntax/punctation is provided. maximvl 10:16it's same in CL, the simplified logic looks like this: (function arg1 arg2 :key1 k1 :key2 k2) * arg1 and arg2 are "ordinary" symbols, so they will be replaced by their symbol-value * :key1 and :key2 are keyword symbols, so compiler looks for keywords in function definition and puts values of k1 and k2 into appropriate places 10:17and function definition in CL would be like (defun function (arg1 arg2 &key key1 key2) ...) dockimbel 10:17@maximvl That makes it more clear, thanks. maximvl 10:17so it combines positional arguments with keyword ones 10:18(and also with optional and accumulation) dockimbel 10:19@maximvl You can simulate it with refinements then. maximvl 10:20@dockimbel the trick here is every symbol which starts from : is a keyword, so reader puts these symbols into specific package, which is really like a separate datatype DonaldTsang 10:27@dockimbel So how is the progress on Red? maximvl 10:34@dockimbel I think I can try it on user level, write a wrap to define functions which will convert func [a [x 1]] [..] into func [arg-spec] [ parse arg-spec .. call original body]and call it later as f [1 [x 10]] 10:37it will not look like something builtin, however will not bloat language with new syntax constructions / function call rules DonaldTsang 10:39@room please delete my comments in this room 10:39I moved it to red/red/lisp dockimbel 10:43@DonaldTsang Hi, for progress, you can read the Red blog and look at our Trello [board](https://trello.com/b/FlQ6pzdB/red-tasks-overview). rcqls 11:36@dockimbel @maximvl Very interesting discussion. As an R user, I would propose /name: instead of name:: since, name is for me both similar to refinement and word. foo: function [a b /c: 3 /d: 1][a * d + b * c] foo 5 2 == 21 print foo /b: 2 /a: 5 == 21 foo /c: 4 /b: 2 /a: 5 == 28 or even lighter foo: function [a b /c 3 /d 1][a * d + b * c] foo 5 2 == 21 print foo /b 2 /a 5 == 21 foo /c 4 /b 2 /a 5 == 28 But, actually, since I am not really experimented in Red it is likely that my thought is just irrelevant. 11:51Sorry for the second try some delimiter as @maximvl suggested is missing foo: function [a b /keywords /c 3 /d 1][a * d + b * c] since it is regular red. dockimbel 12:14@rcqls Yes, those are probably nicer looking options, though, they still won't work with nested calls. rcqls 12:17Do you have an example? Piority is not from left to right? dockimbel 12:29@rcqls With nested calls, you get ambiguous expressions: foo foo /c 3 /d 2 Could be: foo (foo /c 3) /d 2 or foo (foo /c 3 /d 2) or foo foo (/c 3 /d 2). 12:31(I've dropped the mandatory arguments for sake of simplicity) rcqls 12:34Thanks! Ok, now I understand better your comment about ponctuation. The last one is a bit weird for me. In fact, I prefer my first version since I understand that you need to be a bit esoteric to be recognized by the parser like you did with name:: dockimbel 12:36@rcqls Same issue with my name:: syntax, nested calls would be problematic too, I don't have a simple and elegant solution for that. rcqls 12:37That’s interesting. Some food for me to think about redbol. Thanks again! 12:45@dockimbel I don’t understand the last ambiguity but between the two remaining the second one is the one corresponding to the default one. The first one needs parentheses, the rule being that keyword is attached to the closest (to the left) function call. geekyi 12:46@maximvl what's the use case for keyword arguments? Usually, you can use /refinements for most, and things are simpler when you break down into smaller functions, or use an object! to store defaults /configuration? 12:48@rcqls :point_up: [October 15, 2016 4:36 PM](https://gitter.im/red/red?at=580214ab30abd7997187c876) actually, I'm not sure what the value add is here for kwargs over refinements(ok, maybe I get it, or not.. still not sure how it can be more useful , need to think about it) rcqls 12:53@geekyi I am just trying to mimic R that's why I prefer my first version. In R, combining named arguments and default value is a powerful ability to avoid definition of multiple functions in the same family. 13:04I am not an expert in redbol but refinement is in my opinion equivalent (at least in R) to a named argument with logical value. That's why I think refinement is elegant avoiding a boolean parameter. In my first version, I extended the concept of named argument since it is similar to refinement /param. With default value, it becomes /param: 2 for example. PeterWAWood 13:21@dockimbel Could $ be used as a prefix to the name of the arg? It shouldn't interfere with the use of $ as a prefix for a fixed decimal number if you want it for that (unless you were to allow $ to be followed by a hex number). foo: function [a b][a - b] foo $a 5 $b 2 == 3 print foo $b 2 $a 5 == 3 Though it does look like PHP :-( geekyi 13:28For context (and to help me understand) there are 3 concepts: (related concepts: in [python](https://docs.python.org/3.4/tutorial/controlflow.html#keyword-arguments) and [julia](http://docs.julialang.org/en/latest/manual/functions/#varargs-functions) ) ## Varargs Not in rebol or red (not wanted?) ## Optional Args Refinements in redbol: a boolean /only, or a "parameter" /param 2 positional in most other languages (I'm thinking python *args for e.g.), but not in rebol ## Keyword Args Can't we do this with refinements already? What's the extra value add? (same as python **kwargs, splats or spreads in ruby and [javscript](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_operator) ...args) 13:32@rcqls test: func [a /b barg /c carg][ ?? a ?? barg ?? carg ] >> test/b/c 1 2 3 a: 1 barg: 2 carg: 3 == 3 >> test/c/b 1 2 3 a: 1 barg: 3 carg: 2 == 2 rcqls 13:39@geekyi I made a mistake with refinement which can have additional arguments attached to it. However, no default value for the attached arguments. That the main points in my opinion in the current discussion. 13:40@geekyi do you know R? geekyi 13:41@rcqls Not used it 13:42In matlab and julia, some constructs are similar, so I *think* I know what you are talking about rcqls 13:47I think that a key point in redbol is that you know exactly the number of values to fulfill in the function call depending on the definition of the function depending of course of the refinement in the call. With default values in the definiiton of function, the number of values to fulfill in the function call can vary. I think this is what I think very interesting and that I miss in redbol. Maybe, I am wrong... geekyi 13:48@rcqls I think I see what you mean, a simpler syntax in refinements for default values rcqls 13:51@geekyi Something like that! But I am not still very clear. In R, refinement would be replaced by a boolean parameter and the attached parameters to each refinement would be simple parameters with possibly default values. geekyi 13:56>or even lighter foo: function [a b /c 3 /d 1][a * d + b * c] ; but not /a /b foo 5 2 ;hmm.. :-( == 21 print foo/b/a 2 5 == 21 foo/c/b/a 4 2 5 == 28 Maybe there is a possibility of using the specified argument to a refinement as a default if it is a literal value instead of a word! 14:02:point_up: [October 15, 2016 4:36 PM](https://gitter.im/red/red?at=580214ab30abd7997187c876) rcqls 14:09I do not get it. It is the same code as I wrote before in the definition of the function. Right? You mean that this could be possible in red? geekyi 14:11@rcqls slightly different syntax, not currently possible, but I think you may be able to write your own which behaves as you want rcqls 14:12What I do not like too much is the constraint to put the refinement attached to the function. Objective-c does not with the message concept and I prefer it. Refinement in redbol is ok when attached to the function name. Named argument with value to provide could be in the arguments list like objective-C. geekyi 14:15:point_up: [October 15, 2016 6:47 PM](https://gitter.im/red/red?at=58023361891a53016310f340) > With default values in the definiiton of function, the number of values to fulfill in the function call can vary. There is a problem with varargs, of ambiguity and readability Same as doc said :point_up: [October 15, 2016 5:29 PM](https://gitter.im/red/red?at=58022134614116a25686ca76) rcqls 14:18Yes except if you require priority rule. The example given by doc is not so common… In some tricky example you cannot avoid parentheses even in regular redbol. geekyi 14:19@rcqls Actually it is very common, you don't nest functions at all? I see, you thought it is not possible to avoid parentheses 14:21@rcqls Or maybe there is and I'm wrong, can you give an example where parens are required? 14:22When I first started with rebol, as a beginner, I had a problem with reading code, as refinements meant funcctions can have a variable number of arguments. In haskell for example, you have fixed number of arguments (actually just 1), and just by glancing at the type signature, you can easily grok what the function does 14:22Haskell code with monads is usually not readable tho 14:23I've come to accept that refinements are a trade-off between simpler functions and simpler apis rcqls 14:24@geekyi I am just trying to follow the spirit of rebol which as a literal language try to avoid parentheses. In a verbal language you do not use commonly nested expressions. It is supposed to be bad expression. geekyi 14:26@rcqls that is just a deficiency of that programming language, in functional languages, you commonly use nesting and function composition; because there are no drawbacks, and in my opinion, helps readability too rcqls 14:27@geekyi when you do mathematics you can’t avoid parentheses. In English or French, you do not have to use parentheses (except for comment like this one). 14:28@geekyi you're right geekyi 14:28@rcqls because mathematics has order of precedence, rebol doesn't 14:30@rcqls aww I was hoping you were going to say something profound :wink: rcqls 14:31@geekyi redbol when used in literal mode you do not have to. But in programming mode, you have to as any programming language even if redbol minimizes this use. 14:31@geekyi Not at all profound! greggirwin 14:48Some time back I experimented with how to refine function calls. Let me find it. 14:56I have two interface approaches currently. The first takes the func name and a block of all args, but doesn't yet reorder fixed args that may come after refinements. I think it's OK to require them to be first in the block, but something to be aware of. do-refined 'append [[] [a] /dup 3 /only] do-refined 'append [[] /dup 3 /only [a]] ; error, args out of order The second uses 2 blocks, one for the fixed part, and one for optional args. do-refined [append [] [a]] [/only /dup 3] do-refined [append [] [a]] [/dup /only 3] 14:57A third model could use a single block but work like #2. 14:59My goal was not to support keyword args, but to make it easier to propagate refined function calls. That's a pain point for me in R2. rcqls 15:02@greggirwin Is your example related to the example given by @dockimbel answering @maximvl question? pekr 16:37Not read all this discussion yet, but refinements don't work with nested function calls too - how do you distinguis in foo/bar/baz path notation, if the parameter is a refinement to upper function, or the nested function? But sorry, if I am consused .... rebolek 16:44@pekr How? For example: red>> foo: object [bar: object [baz: 1]] == make object! [ bar: make object! [ baz: 1 ] ] red>> type? :foo/bar == object! red>> foo: object [bar: func [/baz][]] == make object! [ bar: func [/baz][] ] red>> type? :foo/bar == function! 7hi4g0 16:56@dockimbel At the end it's all functions. But there are a lot of them and is cumbersome to define all of them manually. That's why GTK, through GObject, relies heavily on macros. It's possible to define it all in R/S, but it will be a good amount of work. 16:57Regarding the /refinements x keyword discussion: Is it possible to pass more than one refinement in a function call? 16:57I was under the impression that you can only call one refinement. rebolek 17:01@7hi4g0 of course you can call function with more than one refinement: red>> f: func [/ref1 /ref2][reduce [ref1 ref2]] == func [/ref1 /ref2][reduce [ref1 ref2]] red>> f == [false false] red>> f/ref1 == [true false] red>> f/ref2 == [false true] red>> f/ref1/ref2 == [true true] 7hi4g0 17:03@rebolek That's new to me. But I'm also new to Red. Thanks :smile: pekr 17:03@rebolek what if your refinement and nested function have identical name? The thing is, that you can't distinguish that by path syntax ... rebolek 17:05@7hi4g0 You’re welcome :) You can also change order of refinements. 17:05@pekr How would that work? How can you have two things that have same name? 17:06(in same context) 17:08@7hi4g0 you may be new to Red, but you already wrote GTK binding for View. Well, that’s quite an achievement IMO. 7hi4g0 17:10If we can call multiple refinements, then I don't see the need for keyword args. That's already covered by /refinements, like it's been said already. 17:12@rebolek Thanks! But most of the foundation was already set by @dockimbel and @qtxie. I'm just filling in what's missing. rcqls 17:12I think the misunderstanding comes from the fact that a good thing with keyword args is to offer default values too. 7hi4g0 17:13@rcqls That could definitely be an improvement to refinements. 17:15About @dockimbel point of ambiguity earlier. Is it possible to write Red like Lisp, that is, wrapping all functions in square brackets? rcqls 17:16@7hi4g0 I just think that one can define a priority rule to decide what has to be evaluated. 7hi4g0 17:16I know the proposal of Revolution and Red is to minimize the use of parentheses or square brackets, but sometimes I miss the simplicity of knowing where the function arguments ends. pekr 17:17@rebolek foo/bar/baz can be legitimate representation of those two cases: foo function, refinement /bar, baz sub-function .... or foo function, bar subfunction /baz refinement ... or three nested function and zero refinements .... it's not about identical naming of refinement vs sub-function, but about inability to visually distinguish by path notation itself ... The question is, if it is a big deal at all ... 7hi4g0 17:17@rcqls I believe that's already a priority rule, even if implicit. I just don't know what it is. rebolek 17:18@7hi4g0 It’s possible to wrap all functions in parenthesis. rcqls 17:19@7hi4g0 In the example I proposed before, the rule was that the named argument is attached in priority to the closest function to the left. I thought it was the more natural in literal mode. rebolek 17:19@pekr Now I understand. You’re right that visually you can’t distinguish them. 7hi4g0 17:19@rebolek It would work. But it's not the same thing. rebolek 17:20b: make block! append b 1 is same as (b: make block!) (append b 1) 17:21@pekr but with right IDE, it can help you to distinguish them even visually ;) 7hi4g0 17:22@rcqls Maybe. But I think refinements are already a pretty good option. 17:24@rebolek But if I were to be crazy enough to write Red code pretending it's Common Lisp, the mixture of parentheses and square brackets would be even more annoying than the parentheses in Common Lisp. rcqls 17:26@7hi4g0 I think we are not talking about the same thing. In my example, default values are attached to parameters. A refinement is like a logical. Some parameters with other names can be associated to refinement but I think it is different of named parameters with default values. rebolek 17:26@7hi4g0 you’re probably right. I was just pointing out that it’s possible ;) 7hi4g0 17:28@rcqls What I'm saying is that we could implement refinements with default values nd that would be pretty close to named parameters with default values. 17:29And since Red already has refinements, the easier route is to change it to allow default values. 17:30@rcqls Got it? :wink: rcqls 17:30@7hi4g0 The default value of refinement would be true or false. If we accept other values, it is no more refinement IMHO. Refinements are very elegant since it alter the function call. rebolek 17:32@7hi4g0 actually, refinement arguments can have default values already: red>> f: func [/ref val][unless ref [val: "default value"] val] == func [/ref val][unless ref [val: "default value"] val] red>> f == "default value" red>> f/ref "not default value" == "not default value" 17:33moving this to spec is not that hard, you can define your own function constructor rcqls 17:34@rebolek well done! But it is a bit tricky to do that for every parameters. 17:35@rebolek What about if there are many variables attached to the refinement? rebolek 17:36@rcqls It doesn’t change much, you just define them all in the same unless block, but as I wrote, it’s possible to invent better syntax for this and make special function constructor. 17:37Let me find something... rcqls 17:38@rebolek Thanks! I understand that you finally manage to mimic the behavior of default value with refinement. Redbol is very flexible. 7hi4g0 17:41@rcqls Yes. That's what I was talking about. But I guess I needed to give an example like @rebolek did. :wink: 17:42@rebolek I was talking exactly about creating a syntax sugar for default values.I think it would be a great addition to the language. rebolek 17:45@7hi4g0 It’s pretty easy to write your own function generator, I wrote an article about it, but now I can’t find it... Damn... 17:45So you can have that syntax sugar even if it’s not part of the language (yet?). 7hi4g0 17:47@rebolek If you find it I would be interested in reading the article. rcqls 17:47@7hi4g0 I still miss the fact to call the argument in its named form like objective-C (message concept) and like in the example given by @dockimbel . It is much more readable when you have ten parameters with default values. 7hi4g0 17:48@rcqls I see what you mean. rebolek 17:56@7hi4g0 If only I could remember the name of the website where I published it... I let you know, when I find it. 18:04@7hi4g0 Ok, so that website does not exist anymore. That’s the joy of using third-party solutions... I will try to find the source, I hope I have some backup. 18:08Fortunately I have. I will publish it later today, time for dinner. 20:04@7hi4g0 Here’s the description how to make your own function generator. You can addapt it to add default values for refinement args. http://rebol.qyz.cz/dependent-types.html 20:04It was written for Rebol, but it’s basically the same in Red. 21:08Also note that currently, /local is refinement as any other: red>> f: func [/local word][word] == func [/local word][word] red>> f == none red>> f/local 3 == 3 21:10This is IMO problematic. Local values shouldn’t be accessible from outside. 7hi4g0 21:25@rebolek I agree it's strange. But it's a cool thing. 21:50@rebolek and thanks for the article :+1: greggirwin 22:58@rcqls, yes, related to named args. Though there's another approach I'll post about sometime soon. Basically, in some JS circles there is a trend in using objects as single "container" args to funcs. Not an entirely new idea, and comes with its own problems. My son started using it some places and then wrote a little module to vet objects, ensuring contents, types, etc. I thought I'd port it to Red, but am putting a twist on it compared to his. 23:00:point_up: [October 15, 2016 10:56 AM](https://gitter.im/red/red?at=58025fa578bd0d0363c71ae3) Depending on the source, we might be able to generate the code without too much effort. Or it may be a lot of effort. If you want to pursue that, we could team up. 23:02@rcqls, default arg values and keyword args are two different things, though often conflated I suppose. We can address default values much more easily by extending the func spec dialect. 23:27@7hi4g0, WRT writing everything in blocks, remember that evaluation, and controlling it, is an important concept in Red. If you implicitly evaluate every block, you lose that control. Doesn't mean you can write something to do it. e.g. ;!! Not a real Lisp-in-blocks system !! :^) block-lisp: func [code [block!]][ forall code [ either block? code/1 [block-lisp reduce code/1][do/next code 'code] ] ] block-lisp [print 1 + 1] block-lisp [print 1 + 1 [blk: append copy [] 'xxx]] 23:35On the subject of default values: default: function [ "Sets the value(s) one or more words refer to, if the word is none or unset" 'word "Word, or block of words, to set." value "Value, or block of values, to assign to words." ][ def: func [w "Word" v "Value"][ ; We're setting one word, so don't need to use set/only. if any [not value? :w none? get w][set w :v] get w ] ; CASE is used, rather than COMPOSE, to avoid the block allocation. case [ word? :word [def word :value] block? :word [ collect [ repeat i length? word [ keep/only def word/:i either block? :value [value/:i][:value] ] ] ] ] ] default a 1 default [a b c] [2 3 4] default f :append default [g h i j k l m] [1 2 [3] 4 5 6 7] default [g h i j k l m n o] [. . . . . . . .] The core, if you only want to default single values is the inner def func. 23:37This is just a named approach to Bolek's unless example, expanded to support multiple words, as @rcqls noted that can become a bit of work. 23:38@rebolek , your afunc example is *really* cool. qtxie 23:45@7hi4g0 Maybe we can just define what we need. I search though the swt source code, find that actually just a few places use CSS styling. (it uses CSS since GTK 3.16) So I think we can use CSS for now, if it's really slow, then we can change it later. [Check here](https://git.eclipse.org/c/platform/eclipse.platform.swt.git/tree/bundles/org.eclipse.swt/Eclipse%20SWT/gtk/org/eclipse/swt/widgets/Button.java#n921) and [here](https://git.eclipse.org/c/platform/eclipse.platform.swt.git/tree/bundles/org.eclipse.swt/Eclipse%20SWT/gtk/org/eclipse/swt/widgets/Button.java#n696) for how SWT handle the styling. 23:48Also for font handling, we should use pango as we need to query the information of the font. (e.g. font height, width) Sunday 16th October, 2016 7hi4g0 00:17@qtxie I'm not sure if using pango directly will work. From what I understood reading the code, the pango context is handled by GTK and anything directly set may be overwritten. I will check these codes you send me. 00:18@greggirwin Wow! Really liked this default function. I would propose for it to become part of the core language. :+1: 00:20About the block-LIsp, is not possible with raw Red then? That's ok. It was more of a curiosity. 00:21On the C macros, I'll have a look at them and if I consider it too much effort I'll come here asking for help :wink: 00:31@qtxie I'll continue the discussion on GTK implementation and wheter to use CSS or not to the red/gui-branch room geekyi 00:56@rebolek :point_up: [October 16, 2016 1:04 AM](https://gitter.im/red/red?at=58028bd094b459a576dcdb74) that's an interesting read about dependent types rcqls 01:16@greggirwin Thanks for completing your explanation about default args. greggirwin 06:09@7hi4g0, for blocks to work like parens, taking their place, they have to auto-evaluate, correct? That is, it would have to implicitly do this: red>> do [blk: do [append do [copy []] do [1 + 1]]] == [2] It's a good thought experiment, and easy (if tedious) to play with. Write some code, and everywhere you have a block, put do in front of it. For example, instead of red>> fn: func [blk [block!]][print mold blk] == func [blk [block!]][print mold blk] red>> fn [a b c] [a b c] You would have == func [blk [block!]][print mold do blk] red>> fn [a b c] *** Script Error: a has no value *** Where: do endo64 20:33I just pulled the latest master branch, build the red.exe on Win10, but it gives error during compilation, for GUI console: *** Driver Internal Error: Script Error : Out of range or past end *** Where: parse-options *** Near: [if cmd: select [ "clear" do-clear ] first] for CLI: C:\Users\endo\Documents\Red\red\build\bin>red --cli Compiling compression library... Compiling Red console... *** Loading Error: file access error: %comdlgs.reds *** in file: %/C/Users/endo/Documents/Red/red/build/bin/modules/view/backends/windows/draw.reds *** at line: 46 20:39It looks FEAT: use manifest file in DLL on Windows commit fails on Travis CI. geekyi 21:22@endo64 looks like it was failing on travis long before that? Can you see the activity side bar to the right -> 21:29Were you able to trace failure down to that? 21:29I dont' really know about travis, but it looks like travis builds only for linux and OSX? 21:33I can see windows succeeds build on [appveyor](https://ci.appveyor.com/project/red/red/branch/master) for the commit you mention @endo64, and there is a build on the website.. hmm 21:34Yep, the website build gives me the same error :point_up: [October 17, 2016 1:33 AM](https://gitter.im/red/red?at=5803e415614116a2568c482d) greggirwin 22:31Same error here. geekyi 22:32@endo64 I can build a lot of the demos (hello.red and demo.red) endo64 22:34Sorry it's too late here. I'll go to sleep now. geekyi 22:34Some of the demos in %red/tests do not run tho (vid.red, view-test.red) 22:35*but the build time is damn fast now with libred!* :smile: endo64 22:35But if you can build demos probably one of last commits cause problems building of console. 22:35hmm may be we should rebuild with libred? geekyi 22:36@endo64 what do you mean? endo64 22:36with -r option. 22:37there is an option to build the libred instead of using the last build, I didn't try with that option. geekyi 22:38@endo64 not sure if tha will solve the problem, I'm using a fresh libred build from latest commit, but will try endo64 22:39ok tomorrow I'll test as well. geekyi 22:40@geekyi well, that worked 22:41do/args %red.r "-r %environment/console/console.red" 22:44still, view doesn't work, maybe a problem with that.. from git I can see there has been a lot of refactoring recently in preparation for mac. Might be the cause 23:16~~ok, running the tests are taking too long (or they are stuck), but I suspect they won't fail just like on appveyor :point_up: [October 17, 2016 2:29 AM](https://gitter.im/red/red?at=5803f11dfa6b78846e260156)~~ 23:17Found the problematic commit https://github.com/red/red/commit/44c24d1f401f249c8ee171a13b4509dd4e462465. Looks like rebol is choking on clear? Monday 17th October, 2016 geekyi 00:21Actually the commit is red/red@076afee4ef2af2919a8bb048175cc4b59a8c43cf , caused by introduction of clear command, for the case when there are no args to the compiler. Wasn't able to find out the cause of the other problem tho 00:23 cmd>vid.exe *** Runtime Error 1: access violation *** at: 5E2609AFh 00:25(with red/red@076afee4ef2af2919a8bb048175cc4b59a8c43cf reverted, on top of latest master) greggirwin 05:03:point_up: [October 15, 2016 6:17 PM](https://gitter.im/red/red?at=5802c712614116a25688f573) @7hi4g0 (and anyone else), should a default func take args that match set's interface, as I did above, or should it be word-value pairs in a single input block? e.g. default [a 1] default [ a 2 b 3 c 4 [d e] -1 ] 05:10With a set model, having a large number of defaults won't be as clear, though you could still break them out into separate default calls. The word-value pairs won't *force* you to split them over lines, but it reads much more like documentation that way, and eliminates the redundant default word on each line. For single values, the set approach seems clearer to me. endo64 06:42I prefer set style args, we usually set default values for a few words not many of them at the same time. 7hi4g0 06:51The word-value pairs seems like a better option to me. But given that set is already part of the language it could be better to maintain consistency. endo64 09:45@geekyi after building red.exe, try red.exe -r this solves the issue above. maximvl 10:07hey guys 10:07 print parse [a b] [any word!] ; => true print parse [a test] [any word! 'test] ; => false 10:07why does the first one work and second one doesn't? 10:14this one works too print parse [1 test] [any number! 'test] dockimbel 10:18@maximvl any word! consumes all the words in the input block, so when 'test is reached, the input is at tail already, resulting in a mismatch. any number! consumes all the numbers, so 'testwill match the remaining part of the input. maximvl 10:22@dockimbel hm, how do I prevent any form consuming everything? 10:23it feels like there is a common pattern which I'm not aware about ;) geekyi 10:33@endo64 that's what I meant by the issue with the arguments, does view work for you tho? 10:34will test later myself 10:35@maximvl depends on what you are trying to accomplish,to end works for you? maximvl 10:37@geekyi nope, I want to have an order and parse some words until a specific one, and then use another rule 10:38I understand now that any! is greedy, but there should be a way to stop it 10:38something like (this doesn't work, but) [any [not 'test word!] 'test any next-rule] 10:40I'm thinking in the same way as in regular expressions, like [^t]*t ... 10:40and maybe I shouldn't ) Zamlox 11:16 parse [a b c d test] [thru 'test (print "matched 'test")] 11:17@maximvl you can use to or thru Arie-vw 11:38Today we celebrate the first anniversary of the Red-By-Example website. We are still adding lots of documentation there. Any help or comments appreciated! maximvl 11:46@Zamlox but doesn't thru just skip everything until it finds match? dockimbel 11:47@maximvl You can do it using a more verbose rule: parse [a test] [any [ahead 'test break | word!] 'test] Though, a more idiomatic way would be to put your rules following 'test nested after matching it (you would need to be more careful with the termination rule then): parse [a test] [any ['test <rest of rules> | word!]] maximvl 11:49@dockimbel I was thinking about second one, but it doesn't force the order dockimbel 11:51@maximvl It does if you write the <rest of rules> properly to enforce it. For example: red>> parse [a test] [any ['test break | word!]] == true red>> parse [a test b] [any ['test break | word!]] == false maximvl 11:52@dockimbel hm, very interesting, let me try it, thanks! dockimbel 12:02Though, conditional loops may be an interesting addition to simplify Parse. BlackATTR_twitter 13:53Parse is already great, but any additions to improve robustness/clarity of Parse for supporting dialects would be welcome! dockimbel 14:03@BlackATTR_twitter Indeed, we plan for better support of dialects building using extensions of Parse, or maybe another dialect on top of it, we'll see. Zamlox 14:12@maximvl yes, it does skip. > I want to have an order and parse some words until a specific one, What do you mean by order ? maximvl 14:15@Zamlox I wanted not just skip, but proceed only if the type is word!, by order I mean that any [a | b | c] does not work for cases when c can only go after b and b only after a geekyi 14:16@Zamlox check the red/help channel Zamlox 14:16ok, I see. BlackATTR_twitter 15:13@dockimbel Would like to be part of that discussion, when the right time arrives. dockimbel 15:39@BlackATTR_twitter We'll probably publish some specs for discussion before implementing it. greggirwin 16:33Thanks for the input @endo64 and @7hi4g0 . rebolek 16:34Some people may find the stack nature of Red unnatural, especially when coming from JS, where you can do something.doThis().doThat().whatever().somethingElse() or what is the syntax, but in Red, you have to write things in reverse, like something-else whatever do-that do-this something. So I wonder - would people be interested in something like: red>> b: [1 2 3 4 5] == [1 2 3 4 5] red>> dot b [tail back remove head] == [1 2 3 4] as an alternative to red>> b: [1 2 3 4 5] == [1 2 3 4 5] red>> head remove back tail b == [1 2 3 4] ? 16:36This is actually very simple code as there is no support for arguments, but adding them wouldn’t be that hard. greggirwin 16:45I've done something similar Bolek, just as an experiment. rebolek 16:45Yes, it’s just an experiment. 16:46I just wonder if it’s useful. greggirwin 16:48 ;!! PROTOTYPE IDEA! ; series "walker" dialect - perform named ops on series at the ; "current" location. ; skip 4 remove 2 copy 6 skip 3 reverse 2 copy 3 insert <value> walk: func [ series [series!] cmds [any-block!] /local result ][ rules: [ any [ ['skip set val integer!] (series: skip series val) | ['insert set val any-type!] (series: insert series val) | ['remove set val integer!] (series: remove/part series val) ; if REVERSE behavior changes, this will need to change too. ;old REVERSE behavior | ['reverse set val integer!] (series: reverse/part series val) | ['reverse set val integer!] (series: skip reverse/part series val val) | ['copy set val integer!] ( append/only result copy/part series val series: skip series val ) ] ] result: copy [] parse cmds rules either empty? result [head series] [reduce [head series result]] ] b: [1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20] walk b [reverse 4 skip 10 remove 2 reverse 3 insert [x y z]] 16:49I wrote it many years ago, but only used it a couple times. It may be useful in dialects targeted at users who aren't programmers that use Red regularly. rebolek 16:52Exactly. I'm not going to use it myself, but others may find it useful. 16:53Version with arguments (but not refinements yet): dot: function [ value actions ] [ action: none args: none out: reduce [value] word-rule: [set action word! (insert out action)] arg-rule: [set action word! set args block! (insert out action append out args)] parse actions [ some [arg-rule | word-rule] ] do out ] 16:54 red>> b: [1 2 3 4 5] == [1 2 3 4 5] red>> dot b [skip [3] remove append [6]] == [1 2 3 5 6] greggirwin 17:01*Nice.* mikeparr 17:34In Red are the terms 'error' and 'exception' synonymous? rebolek 17:42@mikeparr I guess so. Do you have any example? greggirwin 18:47Congratulations to the red-by-example team on their 1 year anniversary! JacobGood1 19:04dot is referred to as the arrow macro in lisp, it is used very often 19:05essentially allowing one to read from left to right instead of right to left or inside out 19:07dot is one of the reasons I argued for macros in previous discussions rebolek 19:18@JacobGood1 I used dot because it is often referred as dot syntax, but any other name is as good as this one. Anyway, as you see, no macros needed ;) JacobGood1 19:21If you don't want a perf hit they are needed, if all you care about is semantic equivalence then it is fine as you have constructed it. rebolek 19:26Perf hit - you mean when compiled, do you? 7hi4g0 19:43@greggirwin About that default function. Since it's very similar to set, it could be added to set as a refinement. Like in set/default [a b c] [1 2 3]. rebolek 19:50That’s a good idea. JacobGood1 20:02@rebolek fearing that we are about to talk too much about Lisp, I will say that we have tread this territory once before, we should discontinue our conversation or move it to the Lisp channel. Lispers do not see any real distinctions between compiling, interpreting, reading, etc. See previous comments in the Lisp channel. geekyi 20:38@rebolek dot looks like you have moved back to forth :p maximvl 21:10>Lispers do not see any real distinctions between compiling, interpreting, reading nonsense, of course they do greggirwin 21:25@7hi4g0 , interesting idea. Might be confusing if used with /some. That's a good question for @dockimbel. 21:35Using @rebolek's example above, the overhead of his dotfunc for 10K calls is ~0:00:00.082. I can live with that. 21:39However, I'm getting some unexpected errors in the console after running it. red>> 0:00:00.089000001 - 0:00:00.007000001 *** Script Error: .089000001 has no value *** Where: - red>> 0.089000001 - 0.007000001 *** Syntax Error: invalid integer! at "0.089000001 - 0.007000001" *** Where: do red>> ? - USAGE: value1 - value2*** Script Error: PARSE - matching by datatype not supported for any-string! input *** Where: parse Tuesday 18th October, 2016 endo64 07:16@greggirwin walk function is really nice, I've made some small changes on it, added take and paren! support, walk: func [ series [series!] cmds [any-block!] /local result cmd ][ rules: [ any [ ['skip set val integer!] (series: skip series val) | ['insert set val any-type!] (series: insert series val) | ['remove set val integer!] (series: remove/part series val) | ['reverse set val integer!] (series: skip reverse/part series val val) | [set cmd ['copy | 'take] set val integer!] ( append/only result do reduce [pick [copy/part take/part] cmd = 'copy series val] series: skip series val ) | [set cmd paren! (do cmd)] ] ] result: copy [] parse cmds rules either empty? result [head series] [reduce [head series result]] ] red>> walk [1 2 3 4] [take 1 (print "ok") copy 1] ok == [[2 3 4] [[1] [3]]] dockimbel 07:43@greggirwin Please fill a ticket for that odd behavior. mikeparr 08:19@rebolek -The red-lang site talks about exception-handling, but the word used have names such as error! cause-error, etc. Maybe it is for Rebol compatibility? Its not a big point, just that I am writing about it, and wish to use the correct terms. dockimbel 08:50@mikeparr From the user perspective, errors and exceptions are distinct concepts (errors are unwanted, exceptions are intended). From implementation perspective, errors are just a sub-category of exceptions. mikeparr 09:01@dockimbel Thanks! greggirwin 16:00@endo64 Thanks! @dockimbel Will do. 16:04In archiving your version, @endo64 , I found another old one, very similar, called with-series that I probably did around the same time as walk. Not worth posting since it's almost the same. 16:28@dockimbel https://github.com/red/red/issues/2277 dockimbel 16:32@greggirwin Oh, so it's a collision with the predefined dot... I'm not sure we can do anything about it for now in such cases (same as redefining print or other core words in the console). We need to wait for modules for a clean solution to that. greggirwin 16:36Shouldn't dot be protected in the lexer context though? 16:37Or maybe it's a global dot somewhere else. 16:37It is a global. Hmmm. 16:40In %scalars.red 16:42Probably safe to say "don't do that" for now, for that small set of chars. rebolek 16:46I don’t know. Having predefined dot may be useful in parse. I should’ve checked if that word isn’t already taken :) 16:47But it was just an experiment done in five minutes. greggirwin 17:21+10 on having predefined parse rules for common needs. djrondon 17:39is there anyway to detect the encoding of a document automatically in red or rebol ? greggirwin 22:43What do you mean by "encoding"? e.g. BOM or file type from magic numbers. Wednesday 19th October, 2016 TimeSlip 02:31@Arie-vw Thank you for your work. I have relied on your site a lot with my first R2 to Red conversion. qtxie 05:39Just upgraded vscode extension for red: https://marketplace.visualstudio.com/items?itemName=red-auto.red 05:40Needs latest red binary to make autocompletion work. dander 07:46@qtxie this is terrific! Quick question though. It used to have a set of commands for running/compiling the current file. Do those still exist? I'm not seeing them. qtxie 07:53Nope. I temporary remove it as it's trival to do with Task(and more flexible). We'll add features such as interpret red script in later versions. dander 07:58Okay, thanks! I think this will be really helpful to learners. qtxie 08:00Yes. I agree. We'll add it back soon. :smile: dander 08:14I actually meant the auto-complete and usage tooltips will be very helpful (for me included). I think I've mostly figured out the tasks thing, but now it's time for bed :smile: Thursday 20th October, 2016 qtxie 12:04@dander I have added the commands for running/compiling the current file back. :smile: Zamlox 15:53 dander 16:25@qtxie cool, thanks! x8x 16:42 Friday 21st October, 2016 TimeSlip 02:03@dockimbel So Doc, how close are you all to an Android Vid? pekr 07:25@dockimbel - what kind of macros will we get? Re your tweet ... :-) dockimbel 09:09@pekr The one macro-proponents here expect. ;-) pekr 09:15Will it be runtime macros, or compile time, preprocessor, both, all of them? Sorry for the lack of insight :-) 09:15I am usually excited about any kind of Red news ;-) dockimbel 09:18Runtime macros are trivial to implement in Rebol languages, and not that useful. We are talking about compile-time macros. maximvl 09:42I think parse covers all cases for runtime macros BlackATTR_twitter 13:47I'll be curious to see if there will be better (port) handling for very large files/streams of data in Red. Rebol had been designed to make simple things easy, but sometimes that simple thing was "i need to copy a 2GB log file" or a rich-media file, which then abruptly is no longer a simple thing. greggirwin 15:30Copying large files in R2 was only hard if you needed to do other work while it was going on, though it wasn't a one-liner of course. But I'm sure Red will have a more advanced model, with an eye on how easy it should be to write new schemes. Saturday 22nd October, 2016 dockimbel 08:47@maximvl The regular Red language can already handle all cases, parse is just sugar. ;-) JacobGood1 15:55Yea, parse makes it easier but it is not necessary... parse is a dialect of red itself i believe Sunday 23th October, 2016 rebolek 18:10You can take a look at my Gitter client at https://github.com/rebolek/gritter 18:11It’s a work in progress, so do not expect anything fancy. greggirwin 19:29Can't wait to play with it Bolek! rebolek 20:21Not much to play with, you can switch rooms, read and send messages. IMO the best part is rich text viewer with word wrapping and active links (on-over only right now). 20:24Here’s a screenshot: http://i.imgur.com/FXYQLtp.png fergus4 20:27Very Cool Bo! Sending this with your client... 20:28I dont' like the gitter web client that much and I really dislike their app on android. Lets see what Red can do!!! rebolek 20:33@fergus4 nice to see it works not only on my computer ;) greggirwin 22:56Works here too @rebolek! Monday 24th October, 2016 geekyi 03:37@rebolek A bit laggy on my computer(especially noticeable if you drag windows). Maybe because of the continous network updates? greggirwin 04:27Same here @geekyi, but it's early days for it, and only simple IO in place right now, so I think your guess is correct. dsgeyser 08:34@rebolek How long did iy take you to get client to this stage? 08:34From scratch geekyi 09:20@dsgeyser at least Oct 3, when he was playing with the api rebolek 11:42@geekyi Yes, IO is blocking and there is some bug in the client that forces constant updates. It should update only on new message, when you switch to different room, it should be better. 11:42I will fix the bug, so it will be much better. With async IO, it will be even better. maximvl 11:43+1 for the IO rebolek 11:46@dsgeyser as @geekyi said, I started playing with it around 3. October, but it’s not like I am working on it full-time :) Basic client took one or two days (gitter API plus basic GUI), most of the time I was working on the Rich Text viewer which is really great thing in itself. Plus some time for basic Markdown parser. geekyi 12:51(btw, doesn't work on red stable 0.6.1 from august due to missing rejoin) 12:52just fyi rebolek 13:24Thanks for info, I’ll add it. DideC 13:48Dumb mode enable: I don't get how to get a "Gitter token" ? rebolek 13:51@DideC go to http://api.gitter.im and login 13:51(upper right) 13:52I wasn’t able to get OAuth running yet, so you have to use this method now. 14:00I’ve added [room for Gritter](https://gitter.im/red-gitter/Lobby) so we do not pollute this room. matrixbot 14:06irx Is there any chance to get http PUT support into simple-io? geekyi 14:12irx , I think you can manually construct right now? Not sure how hard it would be.. matrixbot 14:19irx No, support for post is coded, and put has branch that is marked no implemented. DideC 14:26@matrixbot In the gitter-api coded by Rebolek, there is some [command that use HTTP PUT](https://github.com/rebolek/gritter/blob/master/gitter-api.red#L104). Is is what you need ? matrixbot 14:49irx That's what I tried, but doesn't work. I get a not implemented error. rebolek 14:51@matrixbot @DideC I have the commands there, but IIRC, I haven’t tested them. It also may depend on OS you are using. 14:52From the source it seems it’s not implemented on Windows, but should be on OSX. matrixbot 14:53irx For Linux, in line 1818 of simple-io.red, PUT is listed, but commented out, so it falls through to not implemented error. 16:11irx I need to do the equivalent of curl_easy_setopt curl CURLOPT_CUSTOMREQUEST "PUT" I get an error, that it expects [pointer [integer!]] What do I have to do to make the string acceptable for curl_easy_setopt? TimeSlip 18:48@rebolek Testing your gritter app. Pretty cool. rebolek 19:14@TimeSlip Thanks. It’s far from finished. Tuesday 25th October, 2016 geekyi 04:32gitter now allows deleting msges! dockimbel 05:13@geekyi Good news. ;-) Wednesday 26th October, 2016 Mufferaw 03:27Hi, if I compile with the debug flag how can I make use of this? dockimbel 03:41@Mufferaw The debugging compilation mode is currently limited to Red/System (though that should change soon). When enabled, you get stack traces and more detailed error info on crashing. It also enables assert expressions and additional debugging [functions](https://github.com/red/red/blob/master/system/runtime/debug.reds) for Red/System code: dump4, dump1 or hex-dump for various hex dumps. Moreover, it also enables extra verbose outputs, for parts of the runtime where verbose is set to a value > 0 (e.g. for [interpreter](https://github.com/red/red/blob/master/runtime/interpreter.reds#L88), or [parse](https://github.com/red/red/blob/master/runtime/parse.reds#L14)). You can search in the Red source code for #if debug? pattern to see all the features unlocked by debugging mode. LGRI 05:04Hi all, if I want to create desktop apps with http data source, does Red programming fit for the development? pekr 06:18I think so - even with recent simple-io stack, you can read/write http LGRI 07:24@pekr Thanks for replying, do you know where can I find an example? mikeparr 08:58Can anyone tell me how to get a list of types that support reflection? Thanks. dockimbel 09:06@mikeparr Search in the Red source code in which datatypes reflect function is defined. mikeparr 09:14@dockimbel Thanks meijeru 13:00As it happens, reflect is defined (or inherited) by quite a few types where it is still --NOT IMPLEMENTED--. Mufferaw 14:05I finally got my ray-tracing program to a somewhat functional state. Thanks to all the help I received here! So far it only draws spheres and two types of materials. https://gist.github.com/Mufferaw/1fab30a52d968fd96defd66d0d61a650 It just outputs to the console so you must pipe the output to a file, raytracer > image.ppm 14:06Camera can be moved and spheres and materials can be edited. 14:09Next step is to try to make a gui for it but I'm not sure if it's possible to mix this with Red because of the structs I'm using...If anyone has advice about that I'd love to hear it! maximvl 14:09@Mufferaw very nice, I'll try it in the evening and post some screenshots ;) rebolek 14:21@Mufferaw It is definitely possible to mix it with Red, what exactly do you need to help with? Mufferaw 14:26@maximvl Great! If you want to add more spheres you'll also have to change line 290. 14:27@rebolek I just started trying but the first problem I ran into was with the structs I am using 14:27I don't know how to put them into Red rebolek 14:29@Mufferaw at Red level you need to add some routines. Routine is written in Red/System but Red sees it as normal function. So it will take Red arguments that can be used to make your structs and call your R/S functions. 14:33If you want to pass numbers and other simple types like boolean values from Red to R/S, it’s pretty straightforward, but for other types, you need to do some conversion. Mufferaw 14:45@rebolek That works, I can't believe it's so easy. rebolek 14:46:D 14:47It is. Do not forget that whole Red is written in Red/System. So technically it is just a layer on top of R/S. All Red code is converted to R/S and then to machine code. Mufferaw 15:21@rebolek I tried this and it works fine vector3: routine[ ][ vector3!: alias struct! [ x [float!] y [float!] z [float!] ] ] dostuff: routine[ /local num flt ][ num: declare vector3! num/x: 0.5 num/y: 10.5 num/z: 1.5 flt: 5.0 vec3-Mfloat num flt print["Num x " num/x lf] ] But when I try to use vector3! as an argument it doesn't vec3-Mfloat: routine [ dest[vector3!] vec [vector3!] f [float!] ][ dest/x: vec/x * f dest/y: vec/y * f dest/z: vec/z * f ] Is it possible to use Vector3! as an argument? rebolek 15:23@Mufferaw No, struct! is not supported under Red (IIRC, ***yet***, it would be). 15:23So you have to pass three floats and make that struct inside your routine. Mufferaw 15:44It seems if I put those functions in the same routine it will work! 15:45That will serve my purposes fine rebolek 15:48Yes, that should work. rgchris 17:07Red's 'About' page causing confusion in [this discussion](https://chat.stackoverflow.com/transcript/message/33694476#33694476). 17:08(willful confusion, perhaps) rebolek 17:53They don’t seem to care match or willing to check it. greggirwin 19:19Not sure how to help clear up confusion, or how much time it's worth, based on the current chat there. 19:20I can post some notes, but don't want to get drawn in to rants. 19:27Done. rebolek 19:29Nice, @greggirwin Thursday 27th October, 2016 7hi4g0 01:42I'm getting *** Compilation Error: undefined word OS on #if OS <> 'Linux. Why is that? 01:43I know this if directive exists in the source code, but it gives me this error if I put it in modules/view/view.red qtxie 03:18#if OS <> 'Linux is Red/System directive, so it cannot be used in Red. (it's allowed in master branch now). dockimbel 03:46In Red's preprocessor, it should be #if config/OS <> 'Linux. 7hi4g0 05:16@dockimbel It compiled but it's giving me errors when I run. *** Script Error: path none is not valid for unset! type *** Where: <> *** Stack: <> 05:20I'm trying to remove this code from Linux: https://github.com/red/red/blob/master/modules/view/view.red#L851 05:21GTK already handles that and it's giving me infinite loop and stack overflow with that code there. If I comment it, it runs fine. 05:27Thinking about it, it doesn't need to be a preprocessor directive. A regular if will do if I there's some way to know which OS I'm running in. 05:30I guess system/platform will be enough. 05:30should this be happening? red>> probe system *** Runtime Error 1: access violation *** at: F7705DE1h Mufferaw 05:50I'm trying to mix red/system with red. In red/system the following is ok Red/System[] number: tan 39.9 print number When I try to put that into a routine in Red I get a compilation error tang: routine[ /local number ][ number: tan 39.9 ] qtxie 06:11@7hi4g0 probe system crashes. It's a regression. 7hi4g0 06:31@qtxie Ok. I'll ignore it then. :+1: qtxie 07:07@7hi4g0 Fixed the crash. 7hi4g0 07:08@qtxie :+1: :smile: qtxie 07:09@7hi4g0 And I'm going to merge master into GTK branch as it has some fixes for libRed. dockimbel 11:44@Mufferaw That routine compiles fine here. Mufferaw 12:06@dockimbel This is what I get 12:06Compilation Error: return type missing in function: red/tan dockimbel 13:16@Mufferaw I can reproduce it now. It seems there's a name clash between the trigonometric routines and C imports at R/S level. qtxie 13:18@dockimbel I know it. I renamed those functions in the macGUI branch. Forgot to change it in master branch. JacobGood1 14:35@dockimbel considering libred and macros are mostly/completely done, is there a new release with a blog post looming? pekr 14:39I think not yet. If you look into a Trello board for 0.6.2, only 11 from 21 tasks are done ... well, unless Doc decides on some interim release .... https://trello.com/c/wJRJhxBz/150-0-6-2-libred JacobGood1 14:43Oh yea, the trello board... thanks @pekr Mufferaw 14:50When using routines is there a way to have 'global' variables? Accessible between routines or between functions within a routine? rebolek 16:12@Mufferaw take a look at #system-global Mufferaw 16:23@rebolek Thanks! dockimbel 16:37@JacobGood1 We are close to a new release. I think we'll move the GUI-related entries to following releases. 16:38@Mufferaw You can use #system if you don't mind your code to be under the internal red namespace, or #system-global otherwise. Mufferaw 16:42@dockimbel Ok, thanks again! JacobGood1 17:09@dockimbel sounds good, a lot of stuff is inc as it is. pekr 18:42Well, if GUI stuff is moving, maybe one item might move downwards the release chain - loading libraries for Red, not just R/S :-) Friday 28th October, 2016 dockimbel 04:47Right, I want to have external libraries binding support at Red level too (same as with Rebol2), though I am unsure if we will have time to implement it for 0.6.2, given the number of new tickets to process. Though, I still want to action to be done for this release, as it's really a PIA to not have it properly supported. DideC 06:49+1 on to action for 0.6.2. I miss that a lot maximvl 09:51what's the reason in having feature in exact release, since everybody still can just download latest build? dockimbel 10:02@maximvl Difference between "stable" (documented/tested) and "development" (unstable) version. Releases are just stable milestones, while master branch is a perpetual work in progress. greggirwin 16:44Should halt prevent compiling? Red [] ; Do stuff halt ... Compiling to native code... *** Compilation Error: undefined symbol: f_halt *** in file: %/D/Red/temp/halt-compiled.red *** at line: 326 *** near: [ f_halt stack/unwind #user-code ] Saturday 29th October, 2016 dockimbel 04:04@greggirwin It should compile fine. I can reproduce the error, will look into it. Seems unsupported by libRedRT, it compiles fine in release mode (-r). maximvl 09:05Chris Granger has some progress on Eve, very impressive: http://programming.witheve.com/ pekr 09:34Well - they are kind of stealing Red/Rebol's thunder re expressivity. I tried their demo yesterday and it did not work in Firefox. We know we should be present in browser too. I just wonder the reverse - can Eve have a native GUI, work embedded in other environments, etc? maximvl 09:35@pekr >can Eve have a native GUI, work embedded in other environments, etc? I really doubt it 09:36from what I see they concentrated on having quick start with browser environment and jump right into implementing their own ideas 09:37Red went the hard way here, but yeah, at least we can use Eve's developers experience Mufferaw 09:38@pekr @maximvl This page talks a bit about their goals http://programming.witheve.com/deepdives/whateveis.html maximvl 09:40@Mufferaw I see, thanks 09:42and especially I love that they are trying to bring back literate programming, which have been forgotten for decades dockimbel 10:48@maximvl Lot of food for thoughts there. I'm personnaly not a fan of literate programming. Rebol makes it trivial to use, and there was at least [one attempt](http://web.archive.org/web/20140330055322/http://www.rebol.it/power-mezz/#section-7) at that in Rebol community, but it never caught up. There are several issues with literate programming, like extra costs and the [double authority](https://news.ycombinator.com/item?id=12818016) problem. 10:53Red is doing it bottom-up, while Eve is rather top-down. We have now almost completed the foundations for building higher-level layers. Implementing a Eve-like environment on top of Red is not a big deal. The question is more: what parts of Eve are really relevant and improve our productivity/efficiency? Eve has still to demonstrate in real world that such model is "better" than existing ones. Ability to have an accurate mental model of how your tool is working is AFAICT, an important part of programming. Red pervasive DSLs approach is trying to help on that by specializing the tools by domain and reducing the cognitive load required to build that mental model for each one. fergus4 13:11It looks simple at first but when I look at how they build their browser GUI it looks like a mess like html. They said it's still only for programmers at this point, perhaps it will be more intuitive on later versions directed at non programmers. dockimbel 13:29@fergus4 Eve has leaky abstractions for GUI, this is not how you make it more suitable for "non-programmers", nor for programmers unfamiliar with the underlying GUI system (e.g. HTML). greggirwin 18:40I'm pulling for the Eve team. It doesn't click for me yet but, like Red, they want to change how we do things, and see many of the same problems we do. Wolfram as well. Their approaches are both very high level though, where Red is building from the ground up, so you have consistency all the way down. Of course people will want XML and JSON libs in Red, and we need to enable interop, but what only Red seems to be addressing (of those 3) is the huge gain from simplifying things. 18:53They both have unifying principles, which I think is important and are tackling things from different angles. I think it's great that all these projects exist. 19:00In some ways, Eve reminds me of Frontier (though it was triple based), which I thought was a cool system, or even Mumps in some ways, being database centric, or even tuplespaces. I think they updated the intro docs, because it's much clearer now. 19:09Reading more, Eve clearly wants to make things simple, just in a different way than Red right now. geekyi 20:10@pekr > I tried their demo yesterday and it did not work in Firefox [this one?](http://play.witheve.com/#/examples/quickstart.eve) works for me in firefox 50.0beta11 windows 10 20:17Eve code looks in some ways very similar to red (the logo like syntax with blocks). [This](https://news.ycombinator.com/item?id=12819365) also says it is based on [datalog](http://ysangkok.github.io/mitre-datalog.js/wrapper.html), which cleared up things pretty much (for me at least) 20:25This sticks out like a sore thumb http://docs.witheve.com/handbook/installation/ : > If you’re running Windows 10, you can install Eve via Ubuntu for Windows. Unfortunately, Eve is not supported on earlier versions of Windows at this time greggirwin 20:49The setup is the "not simple" part for sure. 21:58Here's another Red experiment and essay (ess-periment?): https://gist.github.com/greggirwin/38883ca5109175a60896d2f406ee49f6 7hi4g0 23:16@greggirwin Could you provide links for those projects and languages you mentioned? :flushed: I've never heard of half of them and got curious greggirwin 23:30- https://en.wikipedia.org/wiki/UserLand_Software (I have https://www.amazon.com/Frontier-Definitive-Guide-Matt-Neuburg/dp/1565923839 as well) - https://en.wikipedia.org/wiki/MUMPS - https://en.wikipedia.org/wiki/Linda_(coordination_language) They are older (in order, M/Mumps, Linda, Frontier), but have important lessons for us. I spoke at a couple Intersystems/M conferences many years ago. As an outsider, my view was "How can you even make a system like that scale and maintain it?" Then you watch experts use it and see how powerful it is. Sunday 30th October, 2016 dockimbel 04:51@greggirwin Very interesting reactive experiment. Will look into the kludges you've encountered to see how we can improve the reactive framework. rebolek 07:11How do I join two maps? 07:21Or,more specifically, how do I append one map to another. WiseGenius 08:10@rebolek extend m1 m2 rebolek 08:13OMG...how could I forget that... Thanks. DonaldTsang 10:32@pekr @maximvl @geekyi @geekyi *Red vs Eve! The boxing match of the century!* greggirwin 18:34@dockimbel, I should probably say "workaround", since it all works as intended. :^) 18:37Changed the wording slightly, as "kludge" was really too strong. Monday 31st October, 2016 geekyi 03:01@greggirwin really interesting use of reactivity.. I need to spend more time going over the code 03:03So https://github.com/red/red/blob/master/environment/reactivity.red is the *complete* implementation? It's smaller than I expected.. yoffset 03:52https://milen.me/writings/mac-platform-decline/ greggirwin 05:07@geekyi, that's the complete reactivity part, but it's built on the object ownership system. I think we can count them separately. :^) 05:09I put up a version of the code without all the extra commentary: https://gist.github.com/greggirwin/6745b96d0531ee88f5755d6e62515a9d geekyi 05:20@greggirwin the commentary was helpful! greggirwin 05:23Has anyone else seen *** Error: cannot access argument file recently? I haven't in a long time, but the uncommented version of my BMR app triggers it. Pasting the code into the console is fine. No spaces in the filename, which I think was the issue before. 05:29Interesting. Changing to UTF-8 encoding in my editor fixed it. Though some other 1252 encoded scripts work fine. 05:30Maybe it's the View requirement that is different for this. Will try to make time to confirm. WiseGenius 09:10@dockimbel I notice that [#1601](https://github.com/red/red/issues/1601) is labeled as status.built but is still open. Is this because you are already aware that it currently only works properly within a do block and not directly in red, or should I report it somewhere? Example: Contents of **a.red**: Red [] print "a" Contents of **b.red**: Red [] #include %a.red print "b" Contents of **c.red**: Red [] do %b.red print "c" Result of red a.red: a Result of red b.red: b Result of red c.red: a b c Expected result of red b.red: a b Another example from the console: red>> do %b.red a b red>> #include %b.red == %b.red dockimbel 09:20@WiseGenius It should be working, let me give it a try...Using the latest build: red>> write %a.red {Red [] print "a"} red>> write %b.red {Red [] #include %a.red print "b"} red>> do %b.red a b 09:23The console is not applying the preprocessor to the input, maybe it should, I'm not sure. Anyway, you can invoke the preprocessor using expand-directives if needed. For now, only do will invoke it. WiseGenius 09:31I personally have no use for my second example (typing #include in the console). What is causing severe headaches for me is my first example of running red b.red from the Windows command prompt. Any ideas? PeterWAWood 09:32@yoffset Please post only links relevant to Red in future. dockimbel 09:36@WiseGenius Indeed, it doesn't work if run from command prompt...Let me fix that. geekyi 09:38I've been looking at Eve [alternatives](http://alternativeto.net/software/eve/) , most interesting of those seem to be [carbide](https://alpha.trycarbide.com/#examples) (see also [widgets](http://alpha.trycarbide.com/@bijection/b1542b3b90cc0b80a56f8393afa46821) ) and [kajero](http://www.joelotter.com/kajero/) 09:42- carbide has reactive widgets, and 2-way bindings (modify code from widgets) - kajero, while not as revolutionary, is more of a notebook interface. However, it's better than most scientific notebooks I've seen, in that editing and interaction is better. Also, it has a reshaper library, and looks useful for data manipulation and plotting 09:43Both of those use javascript under the hood like eve WiseGenius 09:43@dockimbel Thanks, that would be awesome! geekyi 09:44@geekyi also wonders the best way to collect and organize these links to projects dockimbel 09:52@WiseGenius I just pushed a patch for it, works fine now from the command prompt. WiseGenius 09:53Trying it now, thanks. dockimbel 09:53@geekyi Thanks for the links, interesting stuff. geekyi 09:56:smile: Rebol2Red 10:01@greggirwin About your really awesome BMR calculator. I am having problems to set the values of the sliders while using the scroll wheel of the mouse. It increments/decrements mostly 2 units but sometimes 3. Can this be adjusted to always be one unit or maybe three units somehow? Note: i know scrollwheels are set to 3 units by default dockimbel 11:15Just having a quick look at Parse to see how to support matching unordered rules (matching each rule once). Seems not difficult to implement, I would just need a good name for the keyword: parse random [hello nice world] [<keyword> ['hello 'nice 'world]] Any proposition? maximvl 11:20@dockimbel what's the difference from any? dockimbel 11:21@maximvl Matching once only, and matching each. Hmm, maybe each would do. ;-) maximvl 11:24@dockimbel how is that different from parse random [hello nice world] ['hello | 'nice | 'world] ? 11:25I would call it once dockimbel 11:25For example, parsing this VID code: button red "Ok" 20x20 is not easy as the widget arguments can be provided in any order. Using any: any [word! | string! | pair!] would match many invalid inputs. 11:26@maximvl Let me rephrase it: matching each rule once. ;-) Though, we would still need a zero or one matching mode it seems... maximvl 11:27 random [hello nice world] == [hello nice world] 11:27I'm confused =) dockimbel 11:28@maximvl It's a valid result. ;-) Set a different random seed first. pekr 11:29for any order | separator would be required? Isn't it identical to parsing a block to [a | b | c]- simply, match what comes first? .... sorry, just very shallow thinking during the meeting ;-) dockimbel 11:29@maximvl red>> random random [hello nice world] == [world nice hello] 11:30@pekr I am talking about unordered matching. 11:32@maximvl red>> random/seed 123 red>> random [hello nice world] == [world hello nice] WiseGenius 11:32Haha! That's a fun coincidence: red>> random [hello red world] == [hello red world] red>> random [hello red world] == [red hello world] dockimbel 11:33Indeed, but valid. ;-) maximvl 12:07@dockimbel unordered matching? that's interesting, would [a b] match first or second block in [[a b opt z] [a b]] ? dockimbel 12:13@maximvl That would be implementation-specific I guess (probably ordered then, so first one), because both rules could match. Better avoid overlapping rules when using unordered matching. 12:18Though, for the VID needs (and in many other use-cases), you want to match each rule zero or once at most. Signifying success/failure then becomes difficult. So, this requires a bit more research. 7hi4g0 15:50I would suggest chain or 15:58Sorry about that :point_up_2: . 15:58Gutter Android app is REALLY BAD. 15:58Let me try again. 15:59I would suggest chain or order, but then I saw it's an unordered rule. 16:00Is there an ordered counterpart yet? rebolek 16:04> Is there an ordered counterpart yet? red>> parse [hello red world] ['hello 'red 'world] == true dockimbel 16:29@7hi4g0 Parse rules are ordered by default. greggirwin 17:55:point_up: [October 31, 2016 4:01 AM](https://gitter.im/red/red?at=581716700e25dbfa117dabdb) @Rebol2Red, we don't have control over the internals of slider today. The workaround would be to increase the data ranges. I also played with using decimal values for the ranges and not truncating during interpolation, but it's a coarse control. Having text fields may be the best way to get exact control. And this is one of those funny areas. I want exact numbers too, though I know getting my exact weight can't happen and doesn't make a difference anyway. 18:16@dockimbel Is all reserved for future use in parse? It seems to silently do nothing right now, but scanning the parse code quickly I don't see it treated specially. That's my second thought. My first thought was take, and the expression for it would be a sub-dialect. e.g. [take [1 3 'hello opt 'red 'world]], where a match for each value "takes" it from the expression, reducing its required count. So the above expr would take 1-3 'hellos, an optional 'red, and 1 'world, in any order. *Way* more complicated, but your need of opt made my brain head down the long path of generalization. Skrylar 20:56Hiyo. 20:57Now is the time where I appear again for a brief period of time to update red.el and see how far things have gone since i wandered off :) 21:00@dockimbel Hrmm. The zipped downloader for linux has a lot of cruft in it. It unpacks to home/dk/static.red-lang.org/dl/auto/linux/red-31oct16-80f57d2 21:03Aaaand it doesn't run :( Gave me errors about libcurl (which actually is installed.) Guess I'll set up a testing container for it and report on it in a bit PeterWAWood 22:33As | is used to denote "one of these sub-rules", perhaps || could be used to denote "one of each of these sub-rules" (obviously unordered as sub-rules are ordered by default). 22:34Alternatively, & could be used. greggirwin 23:06Ooooh, &. 23:10Perhaps, finally, a good use for that small meadow in lexical space. Tuesday 1st November, 2016 dockimbel 03:16@Skrylar Thanks for reporting it, will have a look at the batch script. PeterWAWood 03:25@dockimbel I have a question about collect in parse. If you keep a single character from a string parse appends a char! value to the collecting block: red>> parse "1" [collect [keep to end]] == [#"1"] red>> parse "12" [collect [keep to end]] == ["12"] JacobGood1 03:33Just in case it was missed: http://v8project.blogspot.com/2016/10/webassembly-browser-preview.html 03:38it seems to have been a coordinated announcement... which is good: https://blogs.windows.com/msedgedev/2016/10/31/webassembly-browser-preview/ https://hacks.mozilla.org/2016/10/webassembly-browser-preview PeterWAWood 03:46In many cases, it would be easier to handle if keep appended a string rather than a char. 03:54Also, is this expected: red>> parse "{1}" [collect [keep to end]] == ["{1}"] red>> parse {"1"} [collect [keep to end]] == [{"1"}] dockimbel 03:56@JacobGood1 It seems it will become available by default in 2017. 03:57@PeterWAWood It's correct. What result were you expecting? JacobGood1 03:58yea, interesting times... PeterWAWood 04:18@dockimbel I think the result that confused me was when keep returned the char! value when I was expecting a string! containing a single character. I understand the logic but I hadn't expected the change in datatype from string!. dockimbel 07:16@PeterWAWood keep returns the input matched by the rule following it. Though, I missed your first post about it, the returned char value is indeed not intuitive. You might want to open a ticket about it, so we can see if it can be improved. 09:17@Skrylar Path issue fixed in the source archives. PeterWAWood 09:59@dockimbel done - #2295 JacobGood1 13:50@dockimbel quote from hacker news about web assembly: "The initial MVP of WASM won't have privileged support for any custom runtime services, so in order to run Go code in the browser (or any other GC'd language) you'd have to compile the entire runtime with it and ship it all over the wire to the client. Eventually they do hope to lift this restriction." Bundling the run time would be restrictive for one of my preferred languages(Common Lisp) but I bet it would not be restrictive for Red. How big do you estimate a full Red 2.0 bundled run time would be? RiVeND 13:53@dockimbel @qtxie (and anyone else working on Red JSON parsers). Just found an interesting article on JSON parsing problems along with various edge case tests and results from existing parsers (no parser passes all the tests): http://seriot.ch/parsing_json.html . Could be a useful test resource. Source: http://www.theregister.co.uk/2016/11/01/json_parsers_tested/ greggirwin 16:16Thanks @RiVeND! Wednesday 2nd November, 2016 dockimbel 00:19@JacobGood1 Hard to say how big it would be in webassembly. Based on the current runtime payload, I'd say between 500KB and 1MB uncompressed, and probably around 150-300KB compressed. JacobGood1 01:37@dockimbel haha, amazing, I guess it would be completely feasible to put the whole run time in a web page... You still think it would be that small with a gc? xaduha 02:28Having trouble binding to an imported function which uses void pointer http://static.red-lang.org/red-system-specs.html#section-4.8.8 http://www.un4seen.com/doc/#bass/BASS_StreamCreateFile.html This works though, plays ogg sound from wikipedia just fine http://www.un4seen.com/doc/#bass/BASS_StreamCreateURL.html Red/System [] #import [ "bass.dll" stdcall [ bass-init: "BASS_Init" [ device [integer!] freq [integer!] flags [integer!] win [integer!] clsid [int-ptr!] return: [logic!] ] bass-stream-create-url: "BASS_StreamCreateURL" [ url [c-string!] offset [integer!] flags [integer!] proc [int-ptr!] user [int-ptr!] return: [integer!] ] bass-channel-play: "BASS_ChannelPlay" [ handle [integer!] restart [logic!] return: [integer!] ] ] ] bass-init -1 44100 0 0 null url: "https://upload.wikimedia.org/score/p/t/ptifyyxga0aw4mvdvqyx0rovdi2sidw/ptifyyxg.ogg" handle: bass-stream-create-url url 0 4 null null bass-channel-play handle false while [1 > 0][null] 02:40substitute streaming url e.g. http://ice1.somafm.com/secretagent-128-mp3 for instant webradio, although while [1 > 0][null] probably isn't good dockimbel 03:53@JacobGood1 You mean with using the planned GC provided by the browser through webassembly? I don't think it would be possible to use it, as we wouldn't map Red values to JS objects. 04:19@xaduha Busy looping like that is not good, you need to either use the event loop from BASS if it provides one, or otherwise, wrap the Sleep() function. dander 06:02I think someone may have linked this here before, though I don't remember who. But about 20 min into this presentation, he talks about how the webassembly team wants to provide generic GC support for higher level languages eventually. https://www.infoq.com/presentations/webassembly dockimbel 07:46@greggirwin halt compiles fine now in dev mode (using libRedRt). 07:56@dander Looking at it, such GC API seems to be targetting class-based languages, it's not possible to use it for Red. JacobGood1 11:59@dockimbel No, I meant Red's own gc, jit, the whole deal xaduha 12:03@dockimbel Sure, I'll probably just use wait from Red. It was temporary anyway, the real question is how to pass a filepath to this function from Red/System HSTREAM BASS_StreamCreateFile( BOOL mem, void *file, QWORD offset, QWORD length, DWORD flags ); scureuil 14:55Hi, I'm revising my old rebzip.r and gunzip.r scripts. I managed to uncompress a gzip in 0.61 with the load/as data 'png trick, so the conversion to Red is trivial, but is there a proper compress/uncompress-like or port-based compression interface available in Red, or should I use zlib with the library interface instead? dockimbel 15:21@JacobGood1 A GC for Red adds very little code, so no worries on that side. ;-) 15:23@xaduha Just pass a c-string! reference for file argument with the proper filename (including path if required). 15:26@Scureuil That's very cool! Ports are not yet implemented. You can use zlib, though, on Windows, the library is not available by default. Deflate algorithm is definitely implemented in at least one DLL in Windows, though, it doesn't seem to be exposed. Maybe there is a way to access it, but I haven't found it so far (didn't spend much time digging though). maximvl 15:31@dockimbel >@JacobGood1 A GC for Red adds very little code, so no worries on that side. ;-) how can you be so sure about this? greggirwin 15:54@Scureuil, nice! I tinkered a bit on your scripts some time back, when thinking about doing a binary data parsing demo for Red. 21:16@dockimbel, confirmed that halt compiles now. Thanks! Thursday 3th November, 2016 dockimbel 03:44@maximvl Because I've already implemented a GC in the past (2004), for my first work on an open-source alternative to Rebol. Also, there's a GC branch on github, with an almost complete simple GC, which takes very little code. Why do you think a GC needs to have a lot of code? maximvl 09:44@dockimbel because I've never implemented a GC, and since there are so many problems with GC's, like stop-the-world, GIL, etc and Java has several GC's and so on - that's why I think this is not trivial thing yykav 10:51Hi! Is that wrog code, bug, or why so different output? $ cat test1.red Red [] test: routine [ v [binary!] return: [float!] ] [ 123.456 ] f: test #{0102030405060708090A0B0C} print f print [ lf f ] print test #{0102030405060708090A0B0C} print [ lf test #{0102030405060708090A0B0C} ] prot: make object! [ b: none t2: function [] [ test b ] new: function [nb] [ make prot [b: nb]] ] o: prot/new #{0102030405060708090A0B0C} v2: o/t2 print v2 print o/t2 print [lf o/t2] $ red-061.exe -c test1.red -=== Red Compiler 0.6.1 ===- Compiling g:\os\red\test1.red ... ...compilation time : 1437 ms Compiling to native code... ...compilation time : 42405 ms ...linking time : 406 ms ...output file size : 488448 bytes ...output file : g:\os\red\test1.exe $ test1.exe 123.456 ; print f 123.456 ; print [ lf f ] 123.456 ; print test #{0102030405060708090A0B0C} #{0102030405060708090A0B0C} ; print [ lf test #{0102030405060708090A0B0C} ] ?function? ; print v2 ?function? ; print o/t2 #{0102030405060708090A0B0C} ; print [lf o/t2] $ dockimbel 11:13 @yykav The Red compiler is not able to identify that o/t2 is a function call, so for OO style of programming, you should stick to the interpreter for now, or otherwise, wrap the calls in a do [...] expression: v2: do [o/t2] print v2 print do [o/t2] print [lf do [o/t2]] yykav 11:18Tnaks! Now output is that: $ test1.exe 123.456 123.456 123.456 #{0102030405060708090A0B0C} #{0102030405060708090A0B0C} #{0102030405060708090A0B0C} #{0102030405060708090A0B0C} Why output #{0102030405060708090A0B0C}, not 123.456? dockimbel 11:55@yykav It looks like a bug in routine's return value processing, please open a ticket for it. 12:08@yykav You can use this workaround for now (pushing the returned float value explicitely on the stack): test: routine [ v [binary!]] [float/box 123.456] yykav 13:08Many thanks! It's work! geekyi 14:53somewhat offtopic.. Which gitter clients are *Redusers* using? I *had* been using the official github windows app. The commandline version, *Poshgit* is really nice, for a windows app at least. I'd be happy to replace the gui version with a better, much lightweight solution tho. My major use case for a gui is visualizing the tree of branching and forking ### Context I'd recently bought a new laptop and am slowly reinstalling everything. Meanwhile, since last few days, been having problems with my isp (unable to connect to gitter, etc) Was unable to download the official github client as it does not go to completion (maybe I should try again) dockimbel 16:03@geekyi You mean Which git clients..., right? I use TortoiseGit on Windows, it makes git usage smooth for me. I use Gitbox on OSX and the regular command-line version on Linux. geekyi 16:04@dockimbel Ah yes maximvl 16:25magit in Emacs is awesome 16:25you have to be an Emacs fan, of course dander 16:34SourceTree is a pretty nice gui Git client too. I think it's just Windows / Mac kpeters58 18:32How do I realize a field with masked input, such as a password field? rebolek 18:34@kpeters58 I don’t think it’s possible yet. kpeters58 18:34thanks for confirming this 22:07I have f1.r, f2.r and red itself in the same folder. I can do 'do %f2.r' from the console just fine. When I try to compile f1.r (which has a 'do %f2.r' statement), the compile fails, telling me that the words I defined in f2.r are undefined.... This worked well in Rebol (I am porting an app of mine) - what's going on? Friday 4th November, 2016 dockimbel 03:22@kpeters58 You need to create a custom field face, overloading the key events. 03:26@kpeters58 Words defined in unevaluated blocks are not seen by the compiler, so you need to declare them out of the block, so the compiler can process them. For example: a: [b: 123] do a print b will error out on compilation, because b word is undefined. To fix it, you just set the word to any value before using it, like: b: none a: [b: 123] do a print b 03:27There is also a compiler option to control strict words checking (which is on by default), so you can disabling it from your main script header: Red [ config: [red-strict-check?: no] ] kpeters58 03:57Thanks, Nenad! 05:47@dockimbel Will field input masking show up in a later release or not planned at all? 05:48@dockimbel Is there a performance penalty for disabling red-strict-check? dockimbel 06:09@kpeters58 Input mask: probably as a custom widget, once we define the API for that. 06:10@kpeters58 Unisignificant performance penalty. meijeru 14:45> There is also a compiler option to control strict words checking (which is on by default), so you can disabling it from your main script header: 14:45@dockimbel How many compiler options are settable in the header, and where are they documented?? Shouldn't they figure in the README.MD? 14:55I suppose all compiler options are shown in %system/compiler.r in context options-class, but I suppose also that setting some arbitrary combination of options could be dangerous... Mufferaw 15:29Hi everyone, I finally got my little ray tracer program to presentable state. If you are bored you can check it out. It isn't very useful but it was a great Red learning experience. It has a UI and a text area where you can define your own scene. https://github.com/Mufferaw/Red-Raytracer Thanks to everyone who patiently answered all my noob questions! greggirwin 15:56Wonderful @Mufferaw ! Can't wait to play. rebolek 16:02@Mufferaw what version of Red are you using? I can compile it, but it crashes when I press Render. Mufferaw 16:03@greggirwin Thanks, and thanks for all your help! 16:04@rebolek Red 0.6.1 - 27-Oct-2016/20:57:23+8:00 rebolek 16:07Hm, I have probably bit newer version, I will try to compile in debug mode to see what is going wrong. dockimbel 16:08@meijeru Good guessing. ;-) All compiler options should be settable from the header. There are only documented in source code for now, and there are likely to get renamed and grouped for 1.0. rebolek 16:09@dockimbel BTW, I was just looking at the red-lang.org page to see if I can download that particular version and I found that the number of visitors just exceeded 1 million! http://i.imgur.com/YrHzGVw.png 16:09Congratulations! dockimbel 16:09Yes, 1M views reached on the blog today. ;-) greggirwin 16:10Woohoo! Congratulations! Mufferaw 16:12@dockimbel Congratulations! rebolek 16:16Hm, debug mode outputs nothing. Mufferaw 16:26@rebolek is it the quick exit crash or the windows 'this program has encountered an error' crash? rebolek 16:26@Mufferaw no error, just quick exit 16:26it also happens when I press on some field and press backspace 16:28or any non-number, when not on first position Mufferaw 16:46@rebolek Very strange, I'll have to get the latest build and try it rebolek 16:56@Mufferaw I was using -t Windows when compiling. I removed it and now I get this error: Compiling to native code... *** Compilation Error: undefined symbol: red/image/acquire-buffer *** in file: %/E/Code/redworks/raytracer-gui-test.red *** in function: exec/render *** at line: 326 *** near: [image/acquire-buffer img :handle lower_left_corner: declare vector3! vertical: declare ] Zamlox 16:57@Mufferaw nice work ! 16:58I experienced also a quick quit when pressing 'Render' button. 16:59@Mufferaw you have defined scene-block: [] but parse-scene expects string!. scene-block is updated only if area is modified, if not it will remain block!, that's why is crashing. 17:00still, after initializing with value "redsphere sphere radius 0.5 position 0.0 0.0 -1.0 lambert 1.0 0.2 0.2 0.0" if I press render, nothing happens on the display image. 17:01@rebolek try to compile it with options -c -r rebolek 17:08I tried, but it still crashes silently Zamlox 17:09run executable from command prompt rebolek 17:09I do Zamlox 17:10hmm. interesting. It works for me. rebolek 17:11I’ve also put two prints in the render button to see where it crashes and I don’t see anything printed. That is strange. 17:12But I am working at two things at the same time now, so maybe I’ve overlooked something. Zamlox 17:12this is what I got: [![blob](https://files.gitter.im/red/red/WQxh/thumb/blob.png)](https://files.gitter.im/red/red/WQxh/blob) KenSingleton 17:24> @Mufferaw I was using -t Windows when compiling. I removed it and now I get this error: Compiling to native code... *** Compilation Error: undefined symbol: red/image/acquire-buffer *** in file: %/E/Code/redworks/raytracer-gui-test.red *** in function: exec/render *** at line: 326 *** near: [image/acquire-buffer img :handle lower_left_corner: declare vector3! vertical: declare ] I get this same error compiling using RIDE kpeters58 17:33selector: [ style btn: button font [size: 11] across text "Selection" center 320 font-size 16 return pad 0x10 ; btn "Module A" 100 [ request-file ""] btn "Module B" 100 [] return ] view selector 17:34I can run the above with either button, but not both. When I attempt that, I get: *** Script Error: copy does not allow word! for its value argument *** Where: copy dockimbel 17:39@kpeters58 If I paste your code in the GUI console, it works fine here, with both buttons enabled. kpeters58 17:41Not for me (0.6.1) - just noticed that it might be tied to the term 'btn' (works when I rename the style to btn1 and use that....) dockimbel 17:41@kpeters58 Using latest build? 17:42FYI, the preliminary version of the Red preprocessor documentation is [available](https://doc.red-lang.org/preprocessor.html), including macros description. kpeters58 17:420.6.1 from 2016-11-03 Zamlox 17:44@Mufferaw managed to make it work after using a base facet instead of panel in Display object: 17:44[![blob](https://files.gitter.im/red/red/SzcQ/thumb/blob.png)](https://files.gitter.im/red/red/SzcQ/blob) kpeters58 17:44red>> selector: [ [ [ style btn: button font [size: 11] [ [ across [ text "Selection" center 320 font-size 16 return [ pad 0x10 [ btn "Module A" 100 [ request-file ""] [ btn "Module B" 100 [] return [ ] == [ style btn: button font [size: 11] across text "Selection" center 320 font-size 16 return pad 0x10 btn "Module A" 100 [request-file ""] btn "Module B" 100 [] return ] red>> red>> view selector *** Script Error: copy does not allow word! for its value argument *** Where: copy red>> dockimbel 17:44[![blob](https://files.gitter.im/red/red/NU21/thumb/blob.png)](https://files.gitter.im/red/red/NU21/blob) kpeters58 17:45strange - unless we are using different builds? OS? I am on Win10 64bit 17:46And why would it work for me if I don't use 'btn' but something else? dockimbel 17:46Windows 7 here, but it should not matter for such error. red>> about Red 0.6.1 - 4-Nov-2016/11:28:40+8:00 kpeters58 17:46Oh, so your build is fresher 17:47will try that and see if it goes away dockimbel 17:49To help locate the code causing the error, you can force a call stack trace in the interpreter on errors using: system/state/trace?: on kpeters58 17:54Hmm, restarted the console (still same version) and the issue disappeared. Looks like some corrupt mem maybe from an earlier error?? meijeru 18:18@dockimbel Thanks for documenting the preprocessor (and for making it in the first place!). Macros and conditional compilation make Red more powerful for sure. JacobGood1 18:47@dockimbel I like what I'm seeing in the macro docs, not done reading but it looks really cool so far... I am sure reboler's will love these additions 18:51hehe you even included a max example... nice =) meijeru 18:57@dockimbel Latest Red version (cb3b577) quits without message when called on a Red program in interpreter mode; compilation of this program succeeds, and it is the same program that used to interpret fine. Help! Zamlox 19:55@Mufferaw can you share also the commands you used to define the scene from your example ? greggirwin 23:53The preprocessor doc is excellent @dockimbel. Saturday 5th November, 2016 TimeSlip 01:00@Mufferaw Your Ray-Tracer program looks very nice. greggirwin 02:04@Mufferaw, I get the same error as @Zamlox, just FYI. But the UI is really impressive, what you've done with Draw so far. dockimbel 04:33@meijeru How do I reproduce it? Can you pinpoint which commit broke it? Mufferaw 07:32@Zamlox Thanks for taking a look at it and for the advice, I've fixed the scene-blockand changing the panel to base works much better, it updates properly now. I've also added a file to the github called example.txt with the commands for the example scene. @KenSingleton @rebolek It might work for you now that I've made the changes suggested by @Zamlox @greggirwin @TimeSlip Thanks! Using Draw made it very easy (and fun) to add some 'flair' rebolek 07:40@Mufferaw Nice! Rendering works now. However I still get a crash in field. Zamlox 12:54@rebolek @Mufferaw the crash in the fields are due to casting to integer! or float in on-change events. Either move the castings in render button on-click event or use a validation method (perhaps based on parse). 12:56To make it robust, I would suggest to use a validation method. 13:08@rebolek try to copy/paste values in fields rebolek 13:09@Zamlox No problem, I know ;) I was just reporting bugs, so it can be improved. Zamlox 13:10@rebolek ok ;) rebolek 13:10I love bug reports ;) meijeru 15:18@dockimbel On my problem with the interpreter quitting, I cannot tell you more now. I will try to investigate later. 15:20@dockimbel But a totally different question on config. In the docs you say "Note: when using the preprocessor at runtime (from Red's interpreter), the config object is also available, and will reflect the options used for compiling the Red executable currently used to run the code.". Do I understand correctly that even when you do a file in the console, the config information in the header of the source file is not taken into account? dockimbel 16:12@meijeru That's correct. The config object remains unchanged when used from the interpreter. Though, we could merge the eventual custom config options from source file headers evaluated using do. Sunday 6th November, 2016 dockimbel 05:07@meijeru I just pushed a fix for a quitting issue on preprocessor error. Let me know if it helps with your issue. endo64 16:10compiling raytracer-gui-test.red on Windows with latest build gives *** Loading Error: file access error: %random.reds error. rebolek 23:52Here’s something I’ve been thinking about: http://red.qyz.cz/safe-and-persistent-locals.html Monday 7th November, 2016 JacobGood1 01:02Here is how I create a closure: closure: func [words-and-values-to-close-over [block!] args [block!] body [block!]] [ func args compose [(bind body object words-and-values-to-close-over)] ] red>> hi: closure [hi: 1] [x] [hi: hi + x ] == func [x][hi: hi + x] red>> hi 1 == 2 red>> hi 1 == 3 red>> hi 4 == 7 context binding is pretty cool Mufferaw 04:27@endo64 you'll have to change the path to point to the location of %random.reds . I was able to use a relative path when I was only using Red/System, but when I wanted to use routines in a Red program I also got that error and had to change it to an absolute path. dockimbel 04:38@Mufferaw In a Red program, %random.reds is already included in the runtime, so you shouldn't have to include it. Mufferaw 04:52@dockimbel If I am using the _random call inside my routine is it possible to get rid of the include? dockimbel 05:11@Mufferaw Yes, it's part of the Red runtime already. Mufferaw 05:27@dockimbel I had those _random calls inside #system-global, moved them inside a routine and it's ok now. Thanks!! dockimbel 06:15@Mufferaw You could also keep them in #system-global, you just need to prefix them with red/ (all the runtime library is enclosed in the red/ context). Moreover, you can also use a #system directive, which will place your code under red/ context for you. KenSingleton 08:05@endo64 I had the same error. You just need to change the path at the top of the raytracer file to where the random.reds file is located. It is in the .../red/red-master/runtime/ folder. Mufferaw 08:06@KenSingleton @endo64 I've updated the file on github now so you will no longer have to do that KenSingleton 08:07@Mufferaw Great, thanks! rebolek 08:09@JacobGood1 yes, that’s also a nice way to do it. meijeru 16:42@dockimbel I have now narrowed down the (or *a*) preprocessor error. See [this issue](https://github.com/red/red/issues/2304) greggirwin 19:23@JacobGood1, nice. Perhaps call words-and-values-to-close-over just words and add a doc string? endo64 21:03@Mufferaw red.exe -c -u raytracer-gui-test.red gives *** Compilation Error: invalid path value: _random/init error now, on Win10 with latest build. 21:06If I comment out _random/init in Trace routine I get *** Compilation Error: undefined symbol: red/image/acquire-buffer I think something is missing.. Tuesday 8th November, 2016 Mufferaw 04:03@endo64 I build it with red -c -t windows raytracer-gui-test.red What does the -u switch do? endo64 06:47-u rebuilds libRedRT, it is necessary for Red scripts with R/S code. I'll try with -t windows and let you know, default target is MSDOS I think so that might be the problem. Mufferaw 06:50@endo64 red -c -u -t Windows raytracer-gui-test.red gives the error too 06:51I don't know what to do about that endo64 06:55Ah so I shouldn't give -u every time may be. dockimbel 07:18-u should be used just once, so a custom libRedRT is built for specific Red library functions used by R/S user code. Though, there might be a conflict with -t Windows. maximvl 11:21 red>> now *** Internal Error: reserved for future use (or not yet implemented) *** Where: now 11:21I though now was already implemented, wasn't it? rebolek 11:23@maximvl Only partially. There’s no date! support yet, so you can get just time!: red>> now/time == 12:22:32 maximvl 11:23@rebolek ok, true, thanks dockimbel 12:03@Zamlox What is the state of the SVG to Draw converter? Zamlox 12:07@dockimbel still working on it. I had to refactored my initial implementation and now what I have is: a skeleton of handling SVG elements and attributes, converting coordinate transformations into draw related transformations (this was a bit tricky), started to handle svg and g container type elements. dockimbel 12:09@Zamlox Is your latest code available online? I might give it a try with a few SVG files. pekr 12:10Just a stupid question (no knowledge of SVG here), but - if SVG is kind of standard - do we need to keep backwards compatibility to Rebol? Couldn't Draw be just SVG compatible? Or is SVG more complex? Zamlox 12:10@dockimbel not yet, but I can make it visible on my github repository tonight when I get home. 12:10@pekr SVG is way more complex. 12:11if you look at the standard you will realize of its complexity. dockimbel 12:11@Zamlox Thank you! pekr 12:11OK, thanks ... so the basic idea is to "compile" to SVG and let the target engine to process/display it, right? Zamlox 12:13well, what I was thinking was to be able to read an SVG file and translated into corresponding Draw commands to be displayed. dockimbel 12:13@pekr No, the opposite. SVG is an XML file format. Zamlox 12:14yes, it is an XML file format. pekr 12:14Cool, so Red would be able to display SVG stuff as icons, etc. Zamlox 12:14exactly, an not only. pekr 12:15I remember, in the past, Cyphre stated, that there might be some differences in how are gradients done. Are we compatible here? 12:16(Cyphre is the author of R2 AGG port) Zamlox 12:16I will tell you when I will get there :) pekr 12:16keep up your great work then! :-) Zamlox 12:16;) dockimbel 12:16Qingtian says Red/Draw does support SVG gradients. Zamlox 12:17all right. pekr 12:17cool! DideC 13:38> -u should be used just once, so a custom libRedRT is built for specific Red library functions used by R/S user code. Though, there might be a conflict with -t Windows. @dockimbel Does the library must be rebuilt if the R/S code (in a .red script) is changed ? dockimbel 14:31@DideC Only if it adds new calls to Red runtime API. henrikmk 14:36Is the list of unfinished functions on Trello comprehensive? I couldn't find DISARM in there (if it's planned). DideC 14:46I get Compilation error with the yesterday build and the "-u" : -=== Red Compiler 0.6.1 ===- Compiling E:\REBOL\RED\Github\Red-Raytracer\raytracer-gui-test.red ... ...compilation time : 1620 ms Target: windows Compiling to native code... *** Compilation Error: return type missing in function: red/stack/unwind *** in file: %/E/REBOL/RED/Github/Red-Raytracer/modules/view/styles.red *** in function: exec/render *** at line: 1865 *** near: [ stack/reset ] Processus terminé avec code quitter 1 dockimbel 15:10@henrikmk Errors are disarmed by default in Red. 15:11@DideC Is it a regression? If that's the case, can you tell which commit caused it? henrikmk 15:13@dockimbel ok? I asked, because that didn't appear to be the case: red>> error? set/any 'res try [1 / 0] == true red>> res *** Math Error: attempt to divide by zero *** Where: / dockimbel 15:15The console will FORM the last returned value, including errors: red>> error? set/any 'res try [1 / 0] == true red>> res none == none red>> res/id == zero-divide henrikmk 15:16interesting. I suppose that is a tad misleading, if you come straight from R2, but I guess it will work for everyone else. dockimbel 15:17Same behavior for errors in Rebol3. It simplifies error handling as you don't need to convert it to an object anymore to access its properties safely. henrikmk 15:18yes, I suppose :-) I haven't used R3 for years now. ok, enough of that. I'm wasting your time. dockimbel 15:23@henrikmk Well, glad to see you here anyway. ;-) henrikmk 15:24@dockimbel thanks. I'll be probing around in here and ask some silly questions once in a while. time for me to get acquainted with Red. :-) pekr 15:30Yes ... you can bring-in your VID Junior project too :-) henrikmk 15:40@pekr I'd like to do that. I failed to get as far as making it a community effort, which was my wish. We'll see if I ever get that far. :-) DideC 15:46@dockimbel > @DideC Is it a regression? If that's the case, can you tell which commit caused it? Forget it. Was caused by my code. > @DideC Only if it adds new calls to Red runtime API. What does that means (I'm completely dumb with R/S). greggirwin 17:41@DideC, new actions, natives, changes to parse, etc. Look in %runtime/. If you're not changing anything there, you should be OK. JacobGood1 17:58What should I do when I want to match an exact path? I don't want to use path! I want it to match like a lit-word! would... red>> parse [hi/there] ['hi/there] == false pekr 17:59quote 'hi/there JacobGood1 18:02oh wait a minute this is odd... red>> parse [there] [there] *** Script Error: PARSE - invalid rule or usage of rule: there *** Where: parse red>> parse [there] ['there] == true red>> parse [hi/there] [hi/there] == true red>> parse [hi/there] ['hi/there] == false hmmm, i guess since path! is a datatype that is fine... greggirwin 18:04That's a good thing to make clear in parse docs. Zamlox 18:47@dockimbel I have uploaded SVG related work to my github repository: https://github.com/Zamlox/red-tools/tree/master/svg You can play with different transformations on rectangles, circles. rebolek 19:12:+1: meijeru 20:13Question about image encoding/decoding: Red currently uses GDI+ for this, which recognizes the following image encodings: image/bmp, image/jpeg, image/gif, image/tiff, image/png. Of these, only image/tiff is not (yet?) supported by Red. Will it ever be? If not, why is the constant IMAGE_TIFF defined? qtxie 22:51@Zamlox Cool! :clap: Wednesday 9th November, 2016 dockimbel 07:56@greggirwin @JacobGood1 If we decide to allow paths evaluation in Parse at some point, then we'll have to change those rules to act like words/lit-words. DideC 12:03@dockimbel > -u should be used just once, so a custom libRedRT is built for specific Red library functions used by R/S user code. Though, there might be a conflict with -t Windows. I confirm that the -t windows always rebuild a full .exe (long lasting compilation), but not the -t msdos. Why is this ? dockimbel 12:05@DideC I will need to have a look at it. qtxie 12:09@meijeru We should support it. I'll update the code. Thanks. Thursday 10th November, 2016 PeterWAWood 02:54@dockimbel @qtxie I am trying to write some Red/System tests that capture zero-divide runtime errors. I don't seem to be able to capture them using the [catch] function attribute or the catch statement. Any hints on what I am doing wrong? Code Red/System [] test: func [[catch]] [ print [1 / 0 lf] ] test print ["Zero divide caught by catch attribute" lf] print ["system/thrown: " system/thrown lf] catch 2147483647 [ print [1 / 0 lf] ] print ["Zero divide caught by catch statement" lf] print ["system/thrown: " system/thrown lf]``` Resultstext ../../Code/Red-System/test *** Runtime Error 13: integer divide by zero *** at: 0000242Dh ` dockimbel 04:15@PeterWAWood Runtime errors are not catchable in R/S. catch works only with exceptions created with throw. PeterWAWood 04:52@dockimbel Thanks. maximvl 11:03guys, I'm not sure if you know, but this is something to take into account: http://get.red/ RiVeND 13:40@maximvl Looks like http://www.language.red/ has already been taken! maximvl 13:43yep, I think most generic words have been taken, the domain is there for 3 years already 13:44but we can be creative and make up some names for Red-related resources henrikmk 14:36Red is kind of a generic word. How about renaming it to Smompupsiburp? :-) maximvl 14:37http://red.red/ looks available :P Zamlox 15:22@henrikmk :) Rebol2Red 16:29I need the source code but http://static.red-lang.org/dl/auto/red-10nov16-bb99121.zip gives a 404 error Phryxe 18:23There is a newer file. Friday 11st November, 2016 meijeru 09:02@dockimbel Welcome to the TO/MAKE matrices in red/docs! Do I understand correctly that this is a **plan** for the implementation rather than a description of the current state? BTW I have made a small comment on the commit. rebolek 09:03@meijeru Definitely a plan, you can try what works now :) dockimbel 09:04@meijeru It's a plan we will implement today. meijeru 09:04All in one day? Wow! dockimbel 09:09@meijeru Right, coding is the easy and quick part. ;-) pekr 09:14cool! meijeru 09:57@dockimbel Happy to hear. The matrix is almost as valuable as the implementation, therefore I have permitted myself another comment (use of any-list) as well as a remark on the later commit (any-float!). 10:07Thanks for the explanation on any-list!. The analogous comment as on any-float! applies to this new definition . maximvl 10:16@meijeru what is this matrix you are talking about? pekr 10:20TO conversion matrix - an Excel file - https://github.com/red/red/blob/master/docs/to-datatype-matrix.xlsx maximvl 10:23I was looking inside red/docs repo, but turns out we also have docs in red repo :) 10:23@pekr thanks meijeru 10:36I went through the matrix quickly a first time, and detected what I think is an anomaly: make bitset! integer!should be New bitset with integer slots (rounded up to multiple of 8) preallocated as it is effectively now already. Rebol2Red 17:16Can someone verify this is not working. (It crashes? the console) Select the first item AND then the second item to observe it! Nothing shows up in the console anymore view [ drop-list data ["Dutch" "English"][x: face/selected unview] ] print x I have the latest version. BlackATTR_twitter 17:21Regarding the Datatype Matrix - I was working on an article for Red over the past few weeks, and the intro part includes an introduction to the language. I noticed, however, that some values which were prominent in Rebol are not yet implemented in Red (e.g., email!). Is there a dev roadmap that shows a plan or expectation to implement additional values somewhere? Thanks. Phryxe 17:32No console crash for me (Win 7). The window closes when one chooses one of the items. Rebol2Red 17:42@Phryxe Does the value of x shows up in the console? First select item1 and then item2! rebolek 18:56@BlackATTR_twitter I’m not sure which version are you using, but email! works for me: red>> type? looks@like-ema.il == email! Rebol2Red 19:08 view [text-list data ["1" "2"][x: face/selected unview]] print x view [drop-list data ["Dutch" 1 "English" 2][x: face/selected unview]] ; CODE STOPS HERE! print x view [button "b" [x: face/text unview]] print x 19:34Perlin.red with 0.6.2 code: Compiling to native code... *** Compilation Error: undefined symbol: red/image/acquire-buffer *** in file: %/C/Users/admin/Downloads/code-0.6.2/Scripts/perlin.red *** in function: exec/apply-texture *** at line: 326 *** near: [image/acquire-buffer src :handle s: (as series-buffer! texture/node/value) val: as red-float! ] Line 326 does not exists?! Note: I am not searching for errors, i just want to use Red and look at what can be done with it. BlackATTR_twitter 20:05@rebolek Ah, I was using 0.6.1 20:10@rebolek Which is the current stable version... rebolek 20:13@BlackATTR_twitter 0.6.1 is last release. 20:14But stable version...Red is still in alpha :smile: So I suggest using always the latest version, I build Red from sources few times a week. There's always something new and always some bug fixes. BlackATTR_twitter 20:16I was using the GUI version on Win, which did not have email! rebolek 20:18If you have troubles building your own version, check automated builds here http://www.red-lang.org/p/download.html Saturday 12nd November, 2016 iceflow19 05:47Small question is getting command line args the same as in rebol? For whatever reason I don't get any command line args in system/options when using a compiled exe. PeterWAWood 06:20@iceflow19 There is an existing wish about command line args - #2242 henrikmk 10:59In the issues list, there's a lot of issues that appear to be GUI related, yet have no GUI label. Only 5 issues have a GUI label. I don't know if that's intentional, but it makes it hard to distinguish GUI bugs from core bugs, if you're not interested in GUI stuff right now. dockimbel 11:21@henrikmk The labels can only be set by repo owners. We'll process the (long) list of new tickets as soon as we finish with the Todo-list for 0.6.2 (should be close now). henrikmk 11:21@dockimbel Thanks iceflow19 15:36@PeterWAWood Meaning I'll need to write a routine to retrieve them from R/S PeterWAWood 23:30@iceflow19 Yes, if you need to do it now. Sunday 13th November, 2016 DonaldTsang 07:49@maximvl why not http://red.lang/ ? RiVeND 12:57@DonaldTsang I don't think ".lang" is a valid TLD as yet. See: https://en.wikipedia.org/wiki/List_of_Internet_top-level_domains 12:57But red.lang would be very appropriate if it was! WiseGenius 13:06@dockimbel In the to matrix, why is object!-to-map! forbidden and map!-to-object! allowed? I would have expected it to be the other way around, since map! can have word!s as keys but object! can't have all types of keys as its “word”s. dockimbel 13:13@WiseGenius Good point. object! can have functions with words bound to it, and that context would be lost in the map! leading to undefined behavior if the function would be called. So probably both ways should be forbidden. Senenmut 15:41EVOLVER 20 Bonus Points dockimbel 15:52@Mennohexo ?? Senenmut 17:12hi. have you seen the motion picture EVOLVER ? 17:18It's really fascinating and motivating robot technique and computer algorhytms with artifical intelligence mobile robots. dockimbel 17:23@Mennohexo Can't remember it, but will try to see it, sounds interesting. Senenmut 17:26It's always the imagination and picture in mind , that comes to reallity. Thank you for now and i will be back again with programming issues. 17:43They have uploaded the whole movie. https://www.youtube.com/watch?v=cEx0MgjG8zc , over and out. JacobGood1 20:20@dockimbel you don't have time to enjoy life doc, you have to make red 20:22before any one gets offended I am joking(not sure there's that many Americans in here, so no one was probably offended)... =) Monday 14th November, 2016 dockimbel 03:50@JacobGood1 Building Red *is* a way to enjoy life. ;-) WiseGenius 05:37@dockimbel Concerning object!<-to->map!, I was kind of hoping they would eventually both be allowed. A JSON codec will have the same issues, but this doesn't detract from the value of having one. Currently, I'm the only user of my unfinished JSON codec, so I can trust that I'm not going to do silly things which don't make sense, like converting this map! to either a Red object! or a JSON object: #( a 1 "a" 2 ) If I were to share my codec (though I hope Red will get a native one first so I don't have to), I would give the user the great power and the great responsibility that comes with it to not try to do such silly things either, but I first have to define what will happen if/when they do try such things before I can let them have it. So for now, I see the value of keeping both map!-to-object! and object!-to-map! forbidden with the possibility of adding them later when the behaviour in such abused cases are decided and well defined, rather than providing a feature too early and then removing or changing it later when it becomes problematic, thus breaking people's code which relied on it. I've been using a very small/crude to-map function for Red object!s in my JSON codec, and though it works fine for my purposes, I'm looking forward to replacing it with to map! when it becomes available in Red so that it will have Red's future-well-thought-out behaviour when it gets abused. 05:47@greggirwin My JSON codec equates Red's none with JSON's null. But there is a problem with doing this, because map! keys set to none are removed. For example, when writing to CouchDB's "_replicator", I want to send a document with the following field: "user_ctx": { "name": null, "roles": [] } But in Red: "user_ctx" #( "name" #[none] "roles" [] ) immediately becomes: "user_ctx" #( "roles" [] ) So I get back: #( "error" "forbidden" "reason" "The given `user_ctx.name' is not valid" ) I haven't tested your codec for this yet, but from a quick glance of the code, I suspect it does this too? There are 2 things I'm initially thinking: 1. Should the JSON codec use something other than #[none] to represent null (such as the word! none or null)? 2. Should Red's map! not behave this way, and instead accept #[none] as a legitimate value (which has been frequently suggested before)? I'm leaning towards 2. However, both 1 and 2 would break a lot of my existing code, so I'm not in a hurry to get this fixed any time soon. ;) qtxie 06:51We can use set to set the map!'s keys, can we use unset to delete it? If so, we can get rid of the #[none] way. pekr 07:13I am not sure I like unsethere. I never liked removal of map element by setting it to none. In fact, my first yay came, when object!diverged from series ... WiseGenius 07:16@qtxie Currently, it's the other way around, which I think is silly: red>> m: #() == #() red>> m/a: none == none red>> m == #() red>> m/a: () red>> m == #( a: unset ) See [#2201](https://github.com/red/red/issues/2201). pekr 07:18Soon enough, I might need another conversion-matrix file, to describe various datatype accessors. Append, insert, put, set, get, extend, etc. Novice users might wonder, why to extend map, one can't use append, and has to use extend, if the result is just the same ... Shouldn't we just find the counterpart to put? Pity deleteis too general word, to be used to removefrom maps ... rebolek 07:27I like map/key: none for deletion. WiseGenius 07:33@rebolek Do you have any ideas for how to handle JSON's null when wanting to keep a key with a null value, as in [my example above](https://gitter.im/red/red?at=58295007c2f2cf7275097858)? rebolek 07:36I am afraid I don’t. I understand that this behaviour is tricky in case of JSON conversion. 07:39@WiseGenius you can do something like: red>> m: #() == #() red>> m/null: quote none == none red>> m == #( null: none ) WiseGenius 08:06Yes. I still think it would be tricky to pass this back and forth, though. All the other JSON values I can think of are literal, and this way none (or null) would be the only word!. It would have to be handled with care to ensure it's not accidentally evaluated, etc. And although not really a big deal, but it's no longer so neat to check: red>> either m/null [true][false] == true I also considered using unset!, but this is even sillier, and contradicts the purpose of it: red>> m/null: () red>> m == #( null: unset ) red>> either m/null [true][false] *** Script Error: block did not return a value *** Where: either I personally feel that the purpose of none! is to represent the empty value of a set key or word!, and that unset! is for those that are... unset. I don't think that map is being true to the purpose of those datatypes. However, like I said, a lot of my code would break if it was suddenly changed. I think it would be worth it though, so long as a warning of the plan is given early enough ahead of the implementation. 08:22Although it would break a lot of my existing code, and be incompatible with Rebol 3 (which the #() syntax already is anyway), I think the “proper” way for map! to work is like this: red>> m: #() == #() red>> m/a: none == none red>> m == #( a: none ) red>> m/a: () red>> m == #() However, the last part of that example implies that: a: () should do the same as: unset 'a instead of an error: red>> a: () *** Script Error: a: needs a value *** Where: a This seems logical to me too, but is there a lot of code relying on this error? 08:31@rebolek What do you like about map/key: none for deletion? Would map/key: () fulfil those desires? henrikmk 09:14I don't like map/key: none. It just seems restrictive to not have a distinction between none! and unset!. Rebol2Red 19:28Why not p: copy [] append p make image! 100x100 append p make image! 100x100 view [image p/1 image p/2] Instead of: p: copy [] append p make image! 100x100 append p make image! 100x100 p1: p/1 p2: p/2 view [image p1 image p2] First sample does not work rebolek 20:19@Rebol2Red VID does not accept path! in various places where it accepts word!. IMO this will be implemented later. Rebol2Red 20:40I hope it will. Makes some coding easier. rebolek 20:45Yes. It’s also very easy to add Rebol2Red 20:46You mean at low level? rebolek 20:50It’s not that low level. From a quick look at the source, I think that pre-load in %VID.red needs to support path! also. and that would would be all. Rebol2Red 20:54I see. Maybe there are some drawbacks. I'll wait and see. greggirwin 21:21@WiseGenius, my JSON loader also omits values that are null in objects. The map!/none question is deep. On the surface, requiring something like remove on maps sounds nice, so you can set a key's value to none. @dockimbel will have to say. You can define a literal map! with a none value for a key, but make on a spec block with a none value omits that key. The deeper question, of course, is whether maps are intended to support none values for keys. If not, they aren't good targets for decoded JSON objects. Tuesday 15th November, 2016 WiseGenius 08:06@greggirwin > You can define a literal map! with a none value for a key... I assume you mean the word! none and not an actual none! value?: red>> m: #(a none) == #( a: none ) red>> type? m/a == word! moscati 13:00Hi, For building red from sources, do i really need rebol sdk? rebolek 13:29@moscati Definitely not. Why do you think so? Arie-vw 14:04@TimeSlip Thank you! Sorry for the late response. Too busy :-) moscati 16:28@rebolek From here: https://github.com/red/red/tree/master/build rebolek 16:40@moscati I see. That’s for the Red executable - one exe file that has Rebol inside for compilation. But you don’t need that, to build your own .exe files, you just need standard free version of Rebol and Red sources from Github. greggirwin 17:15@WiseGenius, correct. Sorry my message wasn't clear. Just got in from travelling. geekyi 20:49@moscati That is a source of confusion for many, so much so that it deserves to be in a FAQ :p Only, it is just a *temporary* thing that is used for building Red binaries for the *covenience* of newcomers to red who cannot go through the steps (not *really* their fault) to building red from sources 20:50@dockimbel shouldn't something to that effect be there in the README ? 20:51(under build/ folder) Wednesday 16th November, 2016 dockimbel 05:33@geekyi There's a section in README explaining how to run Red from sources. pekr 05:54red.exe should be abandoned, confusing at best :-) 05:55Just wonder, if "reverse" scenario would work. Distributing red.exe (gui-console.exe), which is now capable to read http, hence download (some kind of read-thru cache) an R2 interpreter and call it via CALLto compile a stuff? dockimbel 08:55@pekr Yes, possible, but more complex. dander 08:57@dockimbel , @qtxie I just checked in a [powershell script](https://github.com/dander/chocolatey-packages/tree/master/automatic/red) which can be used to produce a Chocolatey package given a red executable. It assumes Chocolatey tools and Powershell (at least 3.0 I believe) are available. It doesn't yet have the capability to upload the package to the Chocolatey repository, but that would be pretty easy to add. It just involves setting a user token in a secure variable on the CI configuration, but I haven't worked out how that works yet, and wanted to check with you guys before figuring that out. One detail that would need to be determined is the version format for these packages. Including a hyphen in the name implies that it is a pre-release version, so Chocolatey will ignore it unless you specify the --pre flag. Otherwise, it is treated as slightly lower value than the same version number without any hyphens. I think the existing 1.0.<build counter> number with '-alpha' or '-beta' appended seems pretty sensible. The upshot of doing this is that it makes it pretty easy to keep red updated (while staying in the path) with the command cup red --pre 08:59I don't know how the build artifact gets from the CI server to the web server, so some other pieces may be missing, but I'd be happy to continue on with this project and fill in the missing pieces if it seems useful dockimbel 09:26@dander I'm not sure to understand, you want us to use powershell to generate Red Chocolatey packages? Why not make a Red script for that? dander 09:29@dockimbel that would probably make a lot of sense, but I'm still learning Red, so it's perhaps a bit easier for me to use powershell. Also it's my understanding that the CI server runs a powershell script, so I figured that would be easier to integrate. 09:30I could look into doing it in Red though :smile: dockimbel 09:44@pekr In fact, my first yay came, when object!diverged from series ... Do you understand that objects and series are different data structures? If you want all composite datatypes to have the same API, then you should switch to Lua and use tables for everything. That certainly will make your code much more expressive. Shouldn't we just find the counterpart to put? It's called select and described in [map! documentation](http://doc.red-lang.org/). 09:46@WiseGenius > And although not really a big deal, but it's no longer so neat to check: red>> either m/null [true][false] == true m/null like any other Red value can directly be used as conditional expression, no need to write such verbose code (or just prepend to-logic if you need a logic! value). 10:03@WiseGenius unset! datatype is not a regular datatype, it has no literal value to represent it, so you need indirect ways to produce it (like () or prin ""). It's there only to serve edge cases where we need to test for the *absence* of a value. none! datatype has a single value, which literal form is none. Its purpose is to express "nothing" or "no value", but *with a value*, acting as a place-holder (unlike unset!). WiseGenius 10:12> m/null like any other Red value can directly be used as conditional expression, no need to write such verbose code (or just prepend to-logic if you need a logic! value). @dockimbel In that example if mine, m/null _was_ being used as a conditional expression. The content of the blocks was irrelevant, and was just representing 2 generic blocks of code. The point of my example was that if JSON's null has been converted to the word! none (as in rebolek's example above it) instead of a none! value, then it will be seen as true in expressions instead of false. This is undesirable, but not a big deal. The main problem we were discussing, is that if JSON's null is converted to a none! value, then the key is removed from the map!. This is not the only reason that I'm saying that map!s shouldn't behave this way. Setting keys values to unset! is what should remove them from the map!. Ironically, the current implementation allows map! keys to have unset! values, but that's probably a mistake. Sorry if my English is too lazily concise. Do I need to elaborate on anything else I explained in the discussion above? 10:13> @WiseGenius unset! datatype is not a regular datatype, it has no literal value to represent it, so you need indirect ways to produce it (like () or prin ""). It's there only to serve edge cases where we need to test for the *absence* of a value. none! datatype has a single value, which literal form is none. Its purpose is to express "nothing" or "no value", but *with a value*, acting as a place-holder (unlike unset!). @dockimbel This is precisely what _I_ was arguing! 10:15That's why map! keys shouldn't be removed when being set to none! values, but only when they're set to unset!. dockimbel 10:16@WiseGenius Setting keys values to unset! You cannot do that easily, unset! is not a fully first-class datatype, that's on purpose. "Setting to unset" is an oxymoron in regular code (even though we have an escape mechanism to achieve it when really needed). WiseGenius 10:19Currently, this is what happens: red>> m/a: () red>> m == #( a: unset ) This is what I think should happen: red>> m/a: () red>> m == #() dockimbel 10:21@WiseGenius Actually, m/a: () should raise an error, that's a bug. Same goes for obj/a: (), it should error out. WiseGenius 10:22It's reported here: [#2201](https://github.com/red/red/issues/2201). dockimbel 10:24For representing the JSON null value, I don't have a solution from top of my head, this needs some research. In the meantime, you can try to use hash! which is more flexible than map!. WiseGenius 10:32@dockimbel The following code: red>> m: #() == #() red>> m/a: none == none red>> m currently, gives this result. == #() But I'm saying that that is an illogical exception to the rest of the Red language carried over from an early version of Rebol 3, and that the solution to the JSON null problem and others, is that Red should give this result: == #( a: none ) Since, as you say, nones “purpose is to express "nothing" or "no value", but with a value, acting as a place-holder (unlike unset!).” rebolek 10:33@WiseGenius So, what should this return: m: #() m/a ? WiseGenius 10:37@rebolek My first guess is that It should give an error, just as it does here: red>> a *** Script Error: a has no value *** Where: catch and here: red>> o: make object! [] == make object! [] red>> o/a *** Script Error: cannot access a in path o/a *** Where: catch rebolek 10:38I thought so. But that goes against simplicity and elegancy of map!, where you can test for non-existing values without rising an error. 10:39I understand that for your user-case this is not good, but then you should probably use something else than map!. WiseGenius 10:50@rebolek Checking like that has very little gain compared to what's lost. value? could be used for that. Besides, if a key was expected to exist and doesn't, and code tries to use its value for something (other than just checking its existence), it should give an error and not silently return none, because you might want to be aware of that. Please note, that if map!s were fixed to the way I'm suggesting, it would break every project I've ever written in Red and I'd have to change my code in every one, because I use map!s a **lot**! The reason I'm arguing for this, is that I believe it is the proper way for map! to function to be consistent with the rest of Red. It's currently not using none in the way none was intended, and that causes restrictions on what can be done with map!s. rebolek 11:00I don’t agree that it’s using none it the way it was intended. See this: red>> find "abc" #"d" == none Why does find return none here and does not raise an error? WiseGenius 11:00For me, it sounds like the argument is “Be able to have existing keys with none values in map!s.” v.s. “Have a more elegant way to check whether a key exists than the standard way.”. I see the first one as an obvious win, as having much more power and use than just doing one little thing more neatly. rebolek 11:04Also: red>> b: [a b c] == [a b c] red>> b/4 == none 11:05And if non-existing keys should raise an error, why not using object!? dockimbel 11:06@WiseGenius Having keys set to none to remove them and being able to set non-existent keys in maps to define them, is what makes map! useful. Being able to add/remove key/value couples using a unique expression like: m/key: is very valuable, despite being uncommon in the language otherwise. If those features are removed, we can then simply drop map! datatype, as it would be redundant with hash! or object!, depending on the use-case. 11:16Besides, what is wrong with using a null word to represent the special null value in JSON (especially if you define it as null: none)? WiseGenius 11:18@dockimbel This is what I value about map! too. I'm not arguing against being able to add/remove key/value couples so easily. I just don't think none is the way. I believe that this should work instead: red>> m/a: () red>> m == #() And that this: a: () should do the same as: unset 'a dockimbel 11:20Once again, unset! is not a first-class datatype in the general case, it is meant to error out in general usage, that's its purpose. 11:23You can look at it differently, map! is meant to work like a dictionnary, where each entry has a value. A dictionnary would not contain an entry like: "word: no definition" (which is what none means in map!), that would be a mismatch. WiseGenius 11:35> Besides, what is wrong with using a null word to represent the special null value in JSON (especially if you define it as null: none)? All the other JSON values I can think of have a literal representation. The word null would be the only word!. Unlike the other values, null would have to be handled with care to ensure it's not accidentally evaluated when being passed around, etc., _especially_ if null is set to none, because then the key would be removed if evaluated. Also, the purpose of null is the same purpose of none, and Red functions that use the null value should be able to use it as none. And again, JSON isn't the only reason to have none values in map!s. There are are other uses for it in Red internally, as there are for associative arrays in any language, which is precisely the reason null exists in JSON in the first place. dockimbel 11:35@rebolek Why does find return none here and does not raise an error? Because none represents a possible valid result, while an error represents an invalid or forbidden state, which requires stopping the execution flow, and signalling it to the user. If searching for a value was always expected to succeed, then an error would have been appropriate on failure, but that is not the case. Returning none allows to signal a specific resulting state without disrupting the execution flow. That is also why none is considered the same as false in conditional expressions, this leads to short and elegant code patterns in Rebol languages. WiseGenius 11:37> Why does find return none here and does not raise an error? @dockimbel I think that question was directed at me retorically to make a point. dockimbel 11:38@WiseGenius I wasn't sure, so I answered it anyway, to avoid further comments about it by someone jumping in the middle of the discussion. ;-) 11:41@WiseGenius handled with care to ensure You mean quoting 'null word where due? That is part of regular programming practices. Though, setting it to none might not be the safest option, indeed. 11:46@dander Also it's my understanding that the CI server runs a powershell script Oh, you meant running it on Appveyor to auto-generate new Chocolatey builds. Well, that would be nice indeed, though we are not powershell users/experts here, so can't help you much with it. WiseGenius 11:50> Once again, unset! is not a first-class datatype in the general case, it is meant to error out in general usage, that's its purpose. 1. I'm sure there are other easy/elegant ways to remove keys without using either m/a: none or m/a: (). 2. I don't think a: () doing the same as unset 'a necessarily makes unset! into a higher-class datatype. For example, type? a would still error out if a is unset, rather than return unset!. dockimbel 11:56@WiseGenius 1. Probably, but removing that feature would reduce the added value of the map! datatype, making it a candidate for removal. 2. So setting the word is allowed, but reading it is not, that asymetry doesn't look good and might cause troubles. Note that is already possible to achieve that, by explicitely forcing the support an unset value (required in order to process specific cases where unset can be returned by an expression, but an error is unwanted): red>> set/any 'a () red>> type? get/any 'a == unset! rebolek 12:04@dockimbel @WiseGenius Yes, it was rhetorical question, I was just showing some examples where Red functions return none:) dockimbel 12:08@pekr > Soon enough, I might need another conversion-matrix file, to describe various datatype accessors. Append, insert, put, set, get, extend, etc. Novice users might wonder, why to extend map, one can't use append, and has to use extend, if the result is just the same ... You don't need a matrix for that, a regular documentation would suffice. Different API is required when the datatype semantics differ too much from other ones. For map!, keys need special care wrt casing which cannot be covered by most series actions. Also, map! enforces a key/value structure, so a modifying action like put (as a counter-part to select) is welcome. put also works on any-block! values. set and get are supported by map, because they allow for the convenient path notation to be used to represent /. Last but not least, extend has been introduced because append does not have a /case refinement. I suggest you re-read the map! documentation in detail. 12:11@rebolek Fair enough. ;-) 12:15@WiseGenius I'm currently focusing on libRed coding, though, I'll try to give more thoughts tomorrow on the options for a JSON null representation in Red. WiseGenius 12:20> removing that feature would reduce the added value of the map! datatype, making it a candidate for removal. Back in September 2014, I said, > Anyhow, as soon as the map! data-type has been written, I plan to make Red my primary programming language. And that's exactly what I did. map! was the only thing keeping me in Rebol 3 at the time. I heavily use map!s in all my projects. I don't think I could replace many of those uses with object!s and hash!s. They're not as useful to me as map!s, and it's certainly not because you can remove their keys with none. As I keep saying, though, the change I'm suggesting isn't going to make map!s a thousand times better for me. Actually, it will break all my code at first. I just think it makes it a slightly better datatype, that's all. JSON isn't the only reason, and not having the change doesn't make JSON impossible. I'll just change my codec to read null as 'null, as you wisely suggest. 12:26> I'll try to give more thoughts tomorrow on the options for a JSON null representation in Red. Well, I just hope we don't end up adding a new datatype just for null. That would be a shame and a waste, since it's purpose is basically equivalent to none. ;) dockimbel 13:54@WiseGenius I don't think I could replace many of those uses with object!s and hash!s. Do you have some examples where replacing maps would be an issue or counter-productive? I seldom use maps, so I'm curious about such use-cases. meijeru 16:26@dockimbel I am preparing myself for reviewing the TO/MAKE functions as they apply to all possible combinations of source value and target type. How far are you with these, in other words, should I already start to raise issues or are there many combinations still pending? dander 18:26@dockimbel I don't think I need any help with the powershell stuff. I think all I would need from you is approval of the versioning scheme for pre-release Chocolatey packages, and eventually you or qtxie would need to create a Chocolatey account and get the user-token from there and put it into the Appveyor config, and I'd add that account as a package maintainer so submissions would be accepted (unless you'd rather add me to your Appveyor account, but this seems cleaner). I will work out more of the specifics for doing that. When it is ready, I guess I can submit a PR for updating the Appveyor config to pull that stuff in. I'll see if I can test some things out in Appveyor and get back to you. Thursday 17th November, 2016 greggirwin 00:50Sorry I can't keep up here at the moment. The map/none issue is important, but just comes down to choices as I see it. Having map! remove keys on assignment is different, and we could argue that using remove in all cases is better because of the consistency. However, map! *is* different. Uniformity is a big benefit, but we learned in R2 that it can be difficult. Small differences in block, list, hash behavior could trip you up if you wanted to substitute them blindly. Some people think you should just be able to change one type for another. Blocks too slow now, just change to hash!. Sounds great. Is that Red's goal? If so, what is the cost? Could keys-of/words-of work on blocks? Sure, though the results may not always make sense. Can you think of map! as a series in *some* ways? Yes. In *all*? Not really. If we accept that map, block, object, hash, etc. are different, and have different interfaces, it will make some things harder, others easier. It does mean you may have to think a little more at times, which I'm not opposed to. WRT JSON null values, I think it just means that map! is probably a bad fit for JSON objects. They may seem convenient, but if we have to hack around none! values, it's not worth it. Just use objects. I'll revert my JSON lib to do that unless @dockimbel says maps are the way to go, and offers a solution that fits Red in his mind. WiseGenius 01:05@greggirwin My current projects using JSON can't use object!s because they frequently add and remove values. Also, a lot of the keys have spaces and other syntax which is difficult/impossible to handle in Red word!s. I vagually remember there might have been other issues which we've already discussed. dockimbel 01:08@meijeru We have finished with TO/MAKE for now, and the new code has been merged to master, so you can raise issues if you find some (*issue* as in difference between the specification and implementation). For questions about the specification, it would be better to post them here. 01:10@dander Sounds fine to me (including the proposed naming scheme for releases). We'll create an account today and provide you with the token. 01:13@greggirwin Red objects are unfit for JSON, not all JSON object keys can load as word! values. 01:15@WiseGenius What about using hash!? WiseGenius 01:39@dockimbel Well, it used to be that to get the same effect as: a: #("b" #("c" #("f" "e"))) a/("b")/("c")/("d"): "e" I'd have to write something like: a: make hash! reduce ["b" make hash! reduce ["c" make hash! ["f" "e"]]] if (type? (try [change/only select/only/case/skip select/only/case/skip select/only/case/skip a "b" 2 "c" 2 "d" 2 "e"])) = error! [append select/only/skip select/only/skip a "b" 2 "c" 2 ["d" "e"]] But I'm just playing with hash! in Red right now, and it seems to work differently from Rebol 2? I'll have some more questions in a moment. 01:50Sorry, in that example, I think I meant to start with these 2: a: #("b" #("c" #("f" "d" "g" "h"))) a: make hash! reduce ["b" make hash! reduce ["c" make hash! ["f" "d" "g" "h"]]] 01:55I'm a little confused. In that example, using the hash!, why is: red>> a/("b")/("c") == none dockimbel 01:58Looks like a bug. WiseGenius 01:59Oh, and ignore each /case refinement in my example, too. That example was copy-pasted from a time when I assumed map! keys would be case sensitive by default. dockimbel 02:01@WiseGenius Are you using maps to hold hundreds/thousands of key/value pairs? If not, you'll have no noticeable gains in performance compared to just using blocks. WiseGenius 02:01Thousands, yes. 02:03But why would block!s be any less unwieldy than hash!s anyway? dockimbel 02:04For the lack of literal form, a handy hash function could be added to ease nested hashs construction: hash: function [spec [block!]][ forall spec [if block? spec/1 [spec/1: hash spec/1]] to-hash spec ] a: hash ["b" ["c" ["f" "d" "g" "h"]]] 02:05@WiseGenius Block does not have an internal hashtable to maintain for each modification of its content. So for small sets, like a few dozens values, the overhead of hash/map is not worth it compared to blocks, and lookups would not be noticeably faster. 02:07For the path accessors, hash should behave the same as map (once the above bug you found is fixed). 02:09The only advantages of map, compared to hash, are: 1. Only keys are hashed. 2. Convenient unified path access for setting/removing entries. 02:11Advantages of hash, compared to map: 1. Can contain anything as "keys". 2. Free-form structure, so multiple keys with multiple values are possible. 3. Hash is a series, so can be navigated and modified with series actions. 4. Direct conversion from/to blocks without restriction (map's keys are restricted). WiseGenius 02:18The construction isn't the most unwieldy part. It's the part which replaces: a/("b")/("c")/("d"): "e" with: if (type? (try [change/only select/only/case/skip select/only/case/skip select/only/case/skip a "b" 2 "c" 2 "d" 2 "e"])) = error! [append select/only/skip select/only/skip a "b" 2 "c" 2 ["d" "e"]] That's because once the bug is fixed, the path accessors still don't behave the same way: a/("b")/("c")/("d"): "e" will give a different result, and: a/("b")/("c")/("i"): "e" won't work at all. 02:21 red>> c1: #("f" "d" "g" "h") == #( "f" "d" "g" "h" ) red>> c1/("d"): ("e") == "e" red>> c1/("i"): ("e") == "e" red>> c1 == #( "f" "d" "g" "h" "d" "e" "i" "e" ) red>> red>> c2: make hash! ["f" "d" "g" "h"] == make hash! ["f" "d" "g" "h"] red>> c2/("d"): ("e") == "e" red>> c2/("i"): ("e") *** Script Error: cannot set none in path c2/("i"): *** Where: catch red>> c2 == make hash! ["f" "d" "e" "h"] 02:28When setting "d", it set's what would be considered a value in a map!. Therefore the need for /skip ... 2. When setting "i", it doesn't work because it doesn't already exist. That's why the extra checking, etc. This is why hash!s require such verbose unmaintanable code as in my example when trying to make them behave like map!s. They're just not a good fit to be used as map!s. qtxie 02:53> 2 Convenient unified path access for setting/removing entries. I'm doubting the value of it. Maybe it's just looks elegant in page. It's convenient to set entries using path, then why should I also expect to remove it using path? Also I don't think m/key: none is more understandable than something like remove m/key, If I'm new to Red, I need to read the document to know that m/key: none is meaning to remove a key from a map. 03:06I think another advantage of map!, compare to hash!, is it's provide a more simple and pure model than hash. Hash is a bit hard to understand, it's a series, but also a hashtable, so it's very powerful. If we just want a data structure to presentkey-value pairs, then using map! make the code easy to write and also easy to understand. JacobGood1 05:25Yall know what sucks? When you forget that red works with 32 bit only... just spent about 2 hours trying to get some low level stuff to work with 64 bit... *face palm* greggirwin 05:45@qtxie +1, except that remove m/key won't work. Or will lead to a change in the remove spec that may be confusing. It may be better to use remove/part if the target is a map, but that makes the length param confusing, or hard to rename without being completely generic. 05:47This will surely lead to a nice little doc about each structure and their intended use though. :^) dockimbel 06:12@qtxie Hash is a bit hard to understand, it's a series, but also a hashtable Actually, hash! is very simple, it is just a block with fixed lookup times (instead of linear times for blocks), that's all. The hashtable is an implementation detail that end-users don't even need to know about, in order to use the datatype. The real issue here is that we don't have a documentation for it yet, and that newcomers make wrong assumptions based on the hash name. So, a new name could avoid that, though, naming datatype in Rebol world is notoriously hard. 06:20@qtxie It's convenient to set entries using path, then why should I also expect to remove it using path? For consistency and because map! has been designed from the ground up to have paths as primary interface. Here's an example where the key a needs to be set if b value is even or removed if odd: b: 2 m: #(a: 0) m/a: all [even? b b] b: 2 m: #(a: 0) either even? b [m/a: b][remove-map m 'b] *I have to use a imaginary remove-map function as remove cannot fit the needed arguments* Which interface is the simplest and most elegant one? 06:24Moreover, if none were to be accepted as value for map!, what would failed lookup return? m: #(a: 0 b: none) m/c == ?? select m 'c == ?? 06:28Probably an error, as I don't see other alternative. In such case, extra guard code would be needed each time a key is accessed (unless the key is certain to be found): m: #(a: 0 b: none) either find m 'c [m/c][...key missing case...] either find m 'c [select m 'c][...key missing case...] 06:36@qtxie @WiseGenius @greggirwin Is that really the interface and behavior you want for map? Do you see a better option (in case I've missed something)? 06:44(I've excluded unset! in the above scenario, as it is not a valid value, you cannot "set to unset" using set-words, it is meant to error out. Unset! is not an alternative to none!, it's an implementation glitch which is required for reflectivity purpose, until we find a way to get rid of it.) qtxie 07:49@dockimbel Thanks for explaining the purpose of using path as the interface of map. I may be influenced by my experience in other languages (map in C++, HashMap in Java, dict in python) I used before. I always need to do something like remove-map m 'b to remove a key and either find m 'c [m/c][...key missing case...] to test the existence of a key. Now I have better understand. Actually the hash! datatype is the function interface of a hashtable, like in other languages. The path interface is more elegant than using function, but has it's own limitation. dockimbel 08:19For representing null in JSON, one option could be to use the up-coming handle! type (opaque pointer), set null word to an handle value of 0 (null: make handle! 0) and define a null? function to test for it. If that is an acceptable solution, then we can add that type at once (it's quick and easy to do). meijeru 08:25@dockimbel As promised, the first of a series of comments on TO/MAKE. 08:30to bitset! is forbidden in R2, and in R3 it is equivalent to make bitset! There is no need for the facility in this form (duplication), and it is confusing because to bitset! sets the bit corresponding to the number value, and to bitset! also sets the bits corresponding to the numbers in the list. So I would suggest either to have the implementation which sets the bit, or to forbid it. dockimbel 08:52@meijeru Agreed to forbid it. pekr 09:14@dockimbel , @qtxie - late to the party. Sorry for confusion (wrong word) re "counterpart" to put. In fact what I meant was - If we can have a special word for setting a value put, we could come up with some word to remove a key, which in fact could be a shortcut to setting a map value to none. I am not doubting special mapadvantages. Would having such a func to remove map key go against how mapis envisioned to work? I think not? meijeru 09:19@dockimbel Inconsistency in binary! <-> char! conversion with TO: 09:20to binary! does UTF encoding, but to char! takes the first byte only, which breaks down beyond the ASCII set. 09:36Another inconsistency: to error! is equivalent to make. But to error! is forbidden, it could have the same effect as make. 09:37to float! [ ] is worth documenting. I do not remember having seen it in R2 documentation. 09:41A pitfall: to block! "1 2" == [1 2] but to string! [1 2] == "12"whereas form [1 2] == "1 2" I would plead for to string! and form to both conserve the spaces even though this will deviate from R2 and R3 . Reason: round-trip consistency. dockimbel 09:45@meijeru to binary! Agreed, good catch. to error! should be all forbidden, the matrix needs fixes there. Pitfall: agreed, though I think the reason should be consistency with other to string! conversions, which are using FORM by default. I think round-trip consistency can be broken when more useful/intuitive rules can be defined. meijeru 09:50to any-list! is defined for all but 'image! pair! and error!` types. Why this omission? 09:51Shall I raise an issue for to binary!? dockimbel 09:52@meijeru Yes, you can raise issues for differences between spec and implementation. 09:54to any-list! I think we lost those info during one of the merges, working with Excel files in git is not very safe. meijeru 09:59Finally, I don't understand the point of allowing to any-path! for all types. The *only* type for which this makes sense to me is any-list!. The others will lead to expressions which are not LOADable, thus again the round-trip consistency. dander 09:59@dockimbel no rush. I'm not sure how soon I will be able to get to it, since my time is kind of limited. I won't need the token, but please let me know the user name once you make the account. Thanks! dockimbel 10:09@meijeru It should be loadable if serialized using construction syntax or Redbin. As a composite type, any-paths can be useful as extra *storage* types (in addition to any-block!) for any values, which can be leveraged at run-time by some algorithms. I think it is worth having (R3 supports it too). 10:15@dander Account: redlang. Will send you the API key by pm. 10:23@meijeru Let me amend my answer: having more relaxed rules for paths construction at run-time is necessary (because it can't be avoided anyway), though the to path! conversion rules may not be that useful for non-LOADable values (compared to make path!). The only one I would keep: to any-path! word! and to any-path! any-list!. pekr 11:18Redboot .... sounds like a base for a virtual OS :-) maximvl 12:11interesting discussion about hash! and map! meijeru 16:52@dockimbel Re to any-path! I agree. Thanks @qtxie for quick repair of the issues I raised. Now I will do the same for make. greggirwin 17:19> Moreover, if none were to be accepted as value for map!, what would failed lookup return? Block and hash allow none! values, and return none! on a failed lookup (where R2 would throw an error). Find on a map works to determine the existence of a key. > map! has been designed from the ground up to have paths as primary interface. This is very helpful! The strongest argument I see against this is that it's more work to wrap HOFs or generic funcs around series/object/map args. I don't have a nice design alternative yet, but will think on it. Remove and change are the obvious problematic cases. > Is that really the interface and behavior you want for map? I'm not fixed on a particular interface. I'll try to make time to write up at least a skeleton doc that contrasts the various structures and their interfaces. The current map interface is perfectly valid, and make some things much more concise, per your example. I think the main thing is to lay out the design intent for each type, so people know where to use them. > For representing null in JSON, one option could be to use the up-coming handle! type I like it as much as the unset! idea, meaning I don't. ;^) meijeru 19:59@dockimbel @qtxie in the MAKE conversion table, the description of to char! is still incorrect; the implementation is correct, though. 21:07I have decided to raise an issue for make/to string! [1 2] in spite of your comment. Friday 18th November, 2016 WiseGenius 03:17I don't know if this idea has been discussed, and it may not exactly be my first preference, but I think it's an obvious option to be considered: Rather than give an error, how about having a map! return none when accessing a non-existent key (as it does now), even though none is also a valid value for a key: red>> m: #() == #() red>> m/a: none == none red>> m == #( a: none ) red>> m/a == none red>> m/b == none This might seem strange, but when you think about it, that's kind of how block!s work: red>> blk: [a #[none]] == [a none] red>> blk/a == none red>> blk/b == none One of the advantages of map!s is that you can set keys which don't already exist using path! notation: red>> m/b: none == none red>> m == #( a: none b: none ) red>> blk/b: none *** Script Error: cannot set none in path blk/b: *** Where: catch 03:21I'm interested in everyone's thoughts about this one, especially @rebolek's. 04:18Sorry, I just noticed @greggirwin [just suggested this](https://gitter.im/red/red?at=582de6963f3946057aca80a4). Too little sleep. 05:01Though I'm not still not sure if this is my first choice (I have to think about it further), I should be biassed to it because it wouldn't break much (if any) of my existing code. 05:01I suppose the value of removing a key with m/k: none, also depends on: How often do you actually need to remove the key, when you really just need it to return none when accessed? For myself, I'm guessing I don't actually need to remove keys as often as I thought, but maybe others have to reduce the sizes of their map!s by one key so often that the convenience is strongly desired. What about you, @rebolek? 05:01Anyway, and I know I'm being irritating, sorry, but I still think that removing keys with m/k: () or m/k: print "Red is awesome!" doesn't require the existence of unset! as a datatype!. But maybe that's really for a different discussion about which way to go to make unset! disappear. 05:26Some advantages of map!s over hash!s, are that map!s: 1. Have convenient path! notation for adding non-existing keys with the same syntax as setting them. 2. Have convenient path! notation for setting keys in pairs without needing /skip ... 2. 3. Cannot have duplicate keys. 4. Have a literal notation (though hash! could eventually be given one too, eg. #[...]). I believe that all of the above are necessary for a datatype! which fills the need of dictionaries/associative-arrays/maps/whatever-you-want-to-call-them. Some advantages of map!s over object!s, are that map!s: 1. Can easily add non-existing keys with the same syntax as setting them. 2. Can easily remove keys. 3. Can have string!s as keys. 4. map! has a literal notation (though object! could eventually be given one too, eg. @[...] or @(...)). 5. Can have more than one datatype! for keys. I believe that all of the above are necessary for a datatype! which fills the need of dictionaries/associative-arrays/maps/whatever-you-want-to-call-them, except for 5, which is, for example, something which Python's objects can do that Javascript's objects can't, but even Python can't use both “word!s” and strings together as keys. Note that the worth of map! shouldn't be measured by counting the advantages over other datatypes, but to see if it fills its purpose completely in ways other datatypes can't or are an awkward fit for. Another advantage, which map! has over both hash!s and object!s, which I doubt is necessary for an associative array, but is certainly convenient, is: 1. Have convenient path! notation for removing existing keys with the same syntax as setting them. > Do you have some examples where replacing maps would be an issue or counter-productive? @dockimbel That's a question I'm definitely looking forward to answering properly when I can do it justice, thanks. Unfortunately, I'll have to leave it alone for now. Early tomorrow morning, I'm leaving for a project where I will have almost no access to computers or internet for 2 weeks. I haven't packed yet, and I've been getting 3-hours sleep each night trying to meet rediculous deadlines. Funny how the more I have to get done, the more time I spend trying to be helpful in Red discussions, haha! I guess that must be my favourite way of procrastinating, which I think says good things about the Red community, etc. asampal 07:06Trying to follow the map! and hash! discussion and I see another difference that hasn't been mentioned (I think). Since hash isn't meant to be used with the path notation, primarily, to access keys when keys are integers (this returns a positional look-up into the hash viewed as a series), how are integer keys looked up in a hash!? select can be used, I suppose, but does that method of access use the hashing if the series is a hash! or will look-up be linear time? 07:07Is there a more concise way of getting the value behind an integer key, from a hash!? dockimbel 07:17@asampal No shortcuts, select is the way to go in that case, and for all scalar values, it's constant-time lookups. 07:21@WiseGenius Thanks for the answers. See you in two weeks then. ;-) 07:26@WiseGenius @greggirwin Yes, you can store none values in blocks, though, when creating an implicit key/value store using a block, if none is an allowed value, then all the lookups become more verbose, as you need to search for the key first, and then decide if it is worth retrieving the value or not. It is also error-prone as none can have two opposite meanings ("not found" or valid result), I've been bitten in the past in my early Rebol projects with such approach, and I'm avoiding it totally since then. Another disadvantage is that the "key has no value associated" information becomes more expensive to record and manipulate if it needs to appear as an entry in the block/map instead of just being absent: list: [ a: none b: none c: none d: none ...thousands of similar entries... word: 1 ] vs: list: [ word: 1 ] 07:29map! has been optimized to follow that second approach, an absent key means the key has no associated value. WiseGenius 07:44My first choice was still “lookup on non-existing keys giving an error”. I was wary of the idea of “having both “none” keys and non-existing keys returning none”, but I haven't had a chance to think about what the issues might be with it. Helpful to know that someone has been “bitten” by that in the past. An error is still my first choice for now, then. For me, “an absent key” means the same thing as “the key has no associated value” but that's distinct from “a key having the value none”. meijeru 09:20@dockimbel I have to report that on the homepage, the feed of Recent Commits to Github seems out of order. The latest one is: FIX: issue #2162 (Write/info crashes when a custom header is used) - Invalid Date - qtxie dockimbel 09:38@meijeru Fixed now, I updated the URL used by that component. Though, it seems the component is not able to parse the commits date info. rebolek 09:38@WiseGenius I could probably live with none as value in map!, although I find current behavior much more useful. I am usually treating none as non-value, so removing key with setting it to none is very convenient. meijeru 12:31Out of curiosity, what is the status of the precompiled branch? What is the relation to the work on libRed? maximvl 12:54I have concerns about environments in Red, as it was shown - Red's func, function don't really create separate environment when executed 12:55which makes words leak 12:56also the way function hides assigned words looks very hacky 12:57is there something in the language itself which prevents us having proper environments? 12:59here is, for example, scheme implementation with quite advanced first class environments: https://ccrma.stanford.edu/software/snd/snd/s7.html#environments 13:00they can create/store environments, add/remove bindings on the fly, which looks very similar to bind in Redbol, but done right 13:03and even things like: >let-temporarily (now built-into s7) is somewhat similar to fluid-let in other Schemes. Its syntax looks like let, but it first saves the current value, then sets the variable to the new value (via set!), calls the body, and finally restores the original value. It can handle anything settable: 13:03which I think are not possible in Redbol for now rebolek 13:16@maximvl Contexts (or environments, as you call them) can be "protected" in Redbol language. See protect function or module concept in R3. It’s just not implemented in Red yet. maximvl 13:21@rebolek protected from changes? 13:22I don't see how it helps here, really dockimbel 14:01@meijeru Status is "stalled". It has similar goals as libRed (pre-compiling the Red runtime library), but without generating a final library file, just saving on disk the raw result of the compilation for later linking. It was early research that should become the basis for modular compilation. 14:10@maximvl I have concerns about environments in Red You shouldn't, we don't have environments in Red, we have contexts, and soon enough, modules. Using the right terminology would avoid you comparing apple with oranges. 14:11Red's func, function don't really create separate environment when executed Right, they don't create environments, they create contexts. which makes words leak It is allowed to access words in global context from function contexts and modify their values. 14:14which I think are not possible in Redbol for now It is trivial to write, probably even a one-liner. Why do you think it is not possible? 14:17 lisp red>> set-temp: function [w [word!] body [block!]][saved: get :w do body set w saved] red>> a: 123 == 123 red>> set-temp 'a [a: "hello" print a] hello red>> a == 123 14:25In order to create user contexts (currently just for objects and functions), one has to provide the list of words for that context at creation time. Such list is either explicitly provided by the user, or constructed at runtime by the user or by code (like function). The auto-gathering of words obey some rules (catching set-words), what is not caught is bound to the global context. Once we have module! type (similar to what Rebol3 offers), you'll be able to set up your own "environment" replacing the global context. 14:28Using dynamic binding, you can link any word to any existing context at any time (using bind). This gives you freedom to decide on where each word gets its meaning, on a word by word basis. 14:33If you want indefinite extent for functions, you can either write your own function constructor using objects to create a persistent context, or wait for the closure! function type to be added to the language (as in Rebol3). maximvl 15:36@dockimbel great explanation, thanks! I don't have deep understanding of contexts, that's why I had these questions =) 16:31 red>> with-temp: function [words body] [saved: reduce words do body forall words [set first words saved/(index? words)]] == func [words body /local saved][saved: reduce words do body forall ... red>> a: 5 == 5 red>> with-temp [a] [a: "hi" print a] hi == 5 red>> a == 5 16:32@dockimbel one more question - how does body get access to a in your example? 16:33does it mean anything you do can do basically everything with globals? JacobGood1 16:44> I have concerns about environments in Red, as it was shown - Red's func, function don't really create separate environment when executed which makes words leak also the way function hides assigned words looks very hacky Those are not really questions, they are slightly inflammatory statements that are not true. DonaldTsang 17:44@dockimbel @meijeru There should be a difference between bytes! (bytes and byte arrays, can represent files/blobs/texts) and char! (Unicode characters and its array) 17:47(I am making these up since python and js make those distinctions) (See string.split("") vs [...string] for js... maybe not a good example because js uses utf-16) 18:11If we are using the C definition of char (where it and bytes are the same), then how do we distinguish this and the Unicode code point (i.e.Unicode characters)? geekyi 19:12@DonaldTsang char!is unicode red>> test: #"子" == #"子" red>> type? test == char! DonaldTsang 19:14@geekyi then where is the bytes and/or byte-array data types? Also, what about Unicode Strings? geekyi 19:15@DonaldTsang binary! ? DonaldTsang 19:17@geekyi I meant UTF-8 and/or UTF-16 byte arrays, not binary arrays geekyi 19:18@DonaldTsang I don't know.. maybe you have to make on your own. What's the use case? 19:19The conversion table that was talked about here is pretty useful DonaldTsang 19:20@geekyi take a Universal Unicode String, encode it to UTF8 (singular byte units) or UTF16 (byte pair units), and convert it back to Unicode geekyi 19:23:worried: Unicode terminology is always confusing and tricky. Let's take this to red/help ? DonaldTsang 19:23Good @geekyi Saturday 19th November, 2016 PeterWAWood 07:14@WiseGenius @Gregg Have you considered defining a null word to use for JSON's null: red>> null: 'null == null red>> m: #(a: 1 b: true c: null) == #( a: 1 b: true c: null ) red>> m/c = null == true dockimbel 09:49@maximvl > @dockimbel one more question - how does body get access to a in your example? does it mean anything you do can do basically everything with globals? body just references the block [a: "hello" print a]. There, the word a is by default bound to the global context, though you can change that binding before evaluating body using bind to bind a and eventually other words, to the context of your choice (as long as that context defines those words). 09:51@DonaldTsang string! is Unicode. char! is a codepoint (up to 32-bit). If you need UTF-8 encoding of a string, you just use to binary! string. There is no UTF-16 encoding provided by default, as it is rarely used for data exchange, though, such encoder exists in Red/System and could be exposed at Red level if the need for it arises (maybe through the codecs interface). 10:03@maximvl Here is a shorter version of your with-temp function: with-temp: function [words body] [ saved: reduce words do body set words saved ] 11:23@Zamlox Did you ask me something about Parse's stack limit in one of the channels here? I wanted to reply, but can't find your post anymore. pekr 12:02I remember some message towards the recursion/nesting limit. Was it raised to 10K? The user (don't remember, who it was), reported, it is still only 1K, or something like that .... meijeru 15:03@dockimbel I am inspired by the recent changes concerning ANY-BLOCK?, TYPE_ANY_BLOCK etc. to ask if it would be possible to use the prepocessor to generate such #defines from the typesets as defined in environment/scalars.red. That would have the advantage of ensuring automatic correspondence of the .red level typesets (and their query functions like any-string?) and the .reds level constant definitions. greggirwin 17:48@PeterWAWood, a 'null suggestion was made, but I don't like it so far. We have none! already. If we use a word to indicate that, every piece of code that deals with data that *may* have come from a JSON source (or others that decide to use the new mechanism) has to be aware of that and check differently. Or we write wrappers that cover both bases, but that means the common if and either tests can't be used. Zamlox 17:51@dockimbel it's not a hurry :) Yes, I have asked related to how deep can go parse command. I have noticed in source code a value of 10000 but when I did a test with VID using push, it errored at 1000 (I have noticed you are busy with conversions,so I deleted my question :), but thanks asking me ;) ). So I was curious how deep can go parse command. rebolek 17:56@Zamlox please, do not delete questions. They may not be answered for a while, but it is very important to keep them for reference. Every problem people met may be important some time later. Zamlox 17:57@rebolek thanks,I'll keep that in mind ;) rebolek 18:05@Zamlox you’re welcome ;) As you can see, people remember and want to answer your question. We will have tools to help with it later. Right now, we do not have them yet, so just ask here and do not delete ;) Zamlox 18:49here is the test I have done: red>> orig: deep: copy/deep [push []] == [push []] red>> loop 1000 [insert first next deep copy/deep [push []] deep: first next deep] == [push []] red>> orig == [push [push [push [push [push [push [push [push [push [push [push [push [push [push [push [push [push [... red>> view [base 500x500 draw orig] *** Script Error: PARSE - stack limit reached *** Where: parse 20:33with latest sources I cannot have word name having #":" character: red>> to word! "a:b" *** Syntax Error: invalid character in: a:b *** Where: to is this intended ? rebolek 20:34I hope so. Zamlox 20:36any reason for that ? rebolek 20:37 red>> type? x:y == url! 20:37I think that if something is one datatype, it shouldn’t be other one. Zamlox 20:38true, good reason ;) rebolek 20:38This is really gray area and I can come up with some counter examples, but this is how I feel it. Zamlox 20:41I haven't realized that until my svg project failed with latest red sources. The reason was some elements having names like inkscape:version which I converted from string ! to word!. I have to rethink that part. rebolek 20:45@Zamlox This is something that I heavily (ab)use in my Redis protocol for Rebol (Red version must wait for proper IO). 20:46Redis keys usually take form like blah:blah:blah. 20:47My Redis implementation is heavily parse based and keys like this are parsed to url!. 20:48I allow almost anything as a key, only get-word! is used to get value, but it is nice to have something that Redis uses as default available in Rebol (and in Red later, I hope). 20:50However, if it is word! or url!, that’s up to debate. Is : enough to indicate url!? Zamlox 20:50so if you get an "a:b" string! how do you know to which type to convert ? do you parse it ? rebolek 20:52In the Redis protocol, everything is converted to string!. So "a:b" is same as a:b, but the later variant is just easier to write :) Zamlox 20:52ok :) 20:53I don't know Redis protocol. rebolek 20:53see [here](https://github.com/rebolek/prot-redis) 20:53It is very powerful database. 20:55anyway, my implementation does not make any difference between [key value] and ["key" "value"]. Only thing that makes a difference is [:key :value]. That is handled by parse. 20:56These are the rules I made. Other people may find other way to handle it. That’s the power of parse. 20:57But to be able to use that power, we must be sure what any sequence of chars means. Like if a:b is a word! or url!. 20:58Rebol wasn’t very strict here and you were able to make invalid words, for example. I hope Red’s will be very strict here. 20:59It is not, yet(?). red>> to word! "1" == 1 Zamlox 21:00it is in my case: red>> to word! "1" *** Syntax Error: invalid character in: 1 *** Where: to 21:00you must update to latest version rebolek 21:08Ah, thanks, I will update. 21:15Right, it’s better: red>> to word! "1" *** Syntax Error: invalid character in: 1 *** Where: to 21:15But does it stop me? Certainly no! red>> to word! #1 == 1 meijeru 21:24On the above problem see the discussion in issue #2329 rebolek 21:26@meijeru Thanks, this is the same problem. It’s caused by issue! being based on word!. Which I like and makes much more sense that being based on string!, but brings some yet unsolved problems. Sunday 20th November, 2016 PeterWAWood 04:10@greggirwin I see the advantage of using 'null for JSON is that when accessing a map! either using a path or a function such as select you can distinguish between a null value (~null in JS) and a value that is not present (~undefined in JS). 04:14 text red>> m: #(a: 1 b: null) == #( a: 1 b: null ) red>> m/b == null ;; b was present in the JSON red>> m/c == none ;; c was not present in the JSON red>> select m 'c == none red>> select m 'b == null I don't think there is anyway of making this distinction if null in JSON is converted to none. meijeru 11:29@dockimbel Looking at the recent commits in libRed, I conclude that your aim is twofold: to provide a precompiled runtime for the Red compiler, so that compilation times can be drastically shortened, *and* to provide an interface to this runtime from C. What applications do you see for the latter? dockimbel 11:31@meijeru That's correct. The latter makes Red embeddable in pretty much any third-party software, where Red could be used for scripting, providing a GUI, a parsing engine,... It's up to the Red users to find applications. ;-) meijeru 11:34How big will the API be? So far, only a few datatypes are exposed... Also, is the API usable from other languages than C? dockimbel 11:42@meijeru It just lacks a few more constructor functions and a few more accessors. Maybe a dozen more functions. Though, it's already usable to embed Red efficiently in another app. Yes, the API can be used pretty much from any language that has a C-compatible FFI. 12:26For map!, I am willing to allow *forcing* none as value, when it is really desired. It would not change the existing map! semantics, just extend them in the following way: Setting a key to none: set/any '<map>/<key> none put/any <map> <key> none extend/any <map> <spec> ;-- 'none values will not discard the keys. Deleting a key: unset '<map>/<key> We just extend the existing escape mechanism for invalid values (/any) to none when used on maps. It would also be safe to re-use unset on map keys, as an additional way to remove keys. Moreover, LOADing a serialized map would reduce the none word if present as value. Would these extensions cover the use-cases expressed for none support? pekr 16:44looking into libRed-test.c ... interesting stuff. Confused a bit by redWord("print"), as it seems like getting a pointer to a function, most probably it is doing so, but expected something like redFunc(). greggirwin 16:45@PeterWAWood, there will always be things that don't quite fit. Red already has a null word, which is a char! value and means something different than the JSON null. This is an important distinction. JSON is one case, but we should think about general rules for how best to represent foreign data of various kinds. I will try to get to that structure comparison doc before long, as I think that will help. pekr 16:46So for calling into C, redCall()is used. Is it possible to extend the foreign environment, getting it "first class way"? E.g. in the case of print example, to define a print function in C, which would call into red, using redCall()? greggirwin 16:53@dockimbel, I think your proposal is sound, but also want to make sure you think it's a *good* idea, and fits in the larger Red design picture comfortably. @WiseGenius, the big issue with using hash! is the creation aspect, correct? e.g. we want to be able to extend a hash by adding new elements as we find them in a JSON stream. If that's the only issue, it's simple enough, in this case, to collect the data in a block and convert it to a hash once the structure is closed. To handle streaming conversions, the loader could still emit that it's a hash! coming to the consumer. Monday 21st November, 2016 asampal 07:38@dockimbel , for embedded use (and not only), do you think that parse will be enhanced to allow parsing streams any time soon? When full I/O will be added are you considering any enhancements to parse along those lines? dockimbel 07:40@asampal Certainly. asampal 07:41certainly meaning it'll have streaming pretty soon, or certainly it will have it eventually? :-) dockimbel 07:41At some point in the future. ;-) ifgem 12:33I haven't been here for a long time:)). So happy to be here again. Found a little bug(?): you can't use probe in macors definition as it causes processor overloading, memory leak. #macros integer! func [s e] [probe s] 12:41Should preprocessor Error crash the console? dockimbel 13:07@ifgem A pattern-matching macro needs to return a suitable value (see the documentation). In the above case, you are creating an infinite loop. ifgem 13:21@dockimbel, Magic!!! #macro [ integer! 'times block! ] func [s e] [ change/part s loop s/1 s/3 e next s ] 10 times [ print "hello" ] dockimbel 13:21@ifgem Right. ;-) ifgem 13:22@dockimbel let's port what we love from Python/Ruby:)). dockimbel 13:23Oh my... :scream: :-) ifgem 13:23@dockimbel you've woke the dragon:) dockimbel 13:23It seems so. :) I knew allowing macros would be like opening the Pandora's box. ;-) pekr 13:26Those are compile only macros, right? dockimbel 13:44@pekr No, macros are supported by the interpreter too. Though, you either need to put them in a file and do %file or use the expand-directives function. ifgem 13:47@dockimbel how to solve macros collision?:))) dockimbel 14:07@ifgem Up to you. Order definition matters. You can also use #local when possible. maximvl 14:39@ifgem wow, very nice! 14:40I didn't realize it works like this ifgem 14:41@maximvl now we can implement loop macro by the Red way:)) maximvl 14:43@ifgem I'm not getting the idea of change/part here, why do you nee it? ifgem 14:46@maximvl try to run this code with #trace on. 14:51@maximvl if you don't change it(currently matched pattern), it'll be processed over and over again. #macro [ integer! 'times block! ] func [s e] [ loop s/1 s/3 s ] maximvl 14:52wait, but you skipped next s as result 14:52I though this is what advances the input position 14:54@ifgem what is e, why do you specify it as /part ? 15:04ok, e is environment, but I still don't get whole idea of changing s with /part e ifgem 15:09@maximvl, my macro wasn't correct. Here's correct version #macro [integer! 'times block!] func [start end][ change/part start reduce [ 'loop start/1 start/3 ] end start ] 5 times [ wow: [] append wow "@" probe wow ] 15:09Now it's compiled rather than executed in compile time 15:11As I undestand it, if want to execute what macro generated you need to return start, if you just want to do some computing in compile time without executing generated code you need to return end. 15:15Here's another macro:))). #macro ['for word! 'in series! block!] func [start end] [ change/part start reduce [ 'foreach start/2 start/4 start/5 ] end start ] for wow in [1 2 3 4 5] [ print wow ] 15:16@maximvl change/part start (content) end replaces the result of match with content maximvl 15:29@ifgem i see, impressive :) pekr 15:36What is the macro performance overhead? I can see, we can crete alternative syntaxes, that's nice, while also scary :-), but e.g. when interpreted, the macro just replaces (expand) original source code, so in the end, regular Red code is evaluated? ifgem 15:40@pekr yes. I guess, you only loose some compilation speed as Red has to parse your code using parse dialect. Well, I have an idea to implement list comprehention: ~[ [x + 1] | x in [1 2 3] ] We already have an interpreted version of it, written by Maxim, but now it's possible to compile it into ordinary Red code, that will be executed much faster:)) 15:56@dockimbel omg!!!! #macro ['sum 'of integer! 'and integer! 'named word!] func [start end] [ change/part start compose/deep [ (to set-word! start/7) routine [return: [integer!]] [ (start/3) + (start/5) ] ] end start ] sum of 50 and 30 named wow print wow dockimbel 16:15@ifgem Cool one. ;-) 16:22I think I need to add something to pattern-matching macros to auto-replace the matched input with the returned value by default (like named macros), and optionally support the version where you can do whatever you want with the input/output. greggirwin 16:29That sounds like a nice feature @dockimbel. Nice examples @ifgem. rebolek 16:55Indeed, nice examples @ifgem, macros look pretty cool. ifgem 16:58@dockimbel sorry for silly question, but how can I measure code performance in Red? rebolek 17:01@ifgem for example: red>> dt: func [code /local t][t: now/time/precise do code now/time/precise - t] == func [code /local t][t: now/time/precise do code now/time/precise ... red>> dt [loop 10000 [1 + 1]] == 0:00:00.001147001 red>> dt [loop 10000 [add 1 1]] == 0:00:00.001780001 ifgem 17:02@rebolek thanks:) DonaldTsang 17:37@dockimbel When will Red add support for LLVM on its roadmap (since Emscripten allows LLVM bytecode to compile to asm.js, for use in browsers)? BlackATTR_twitter 17:49@ifgem Whoa! Macros look very interesting for dialects. I need to wrap my head around it to understand pros & cons, and when I would use macros instead of parse (or a combination?). Thanks for those examples. ifgem 18:44Hi JacobGood1 19:25lol, finally the rebolites see the light 19:26@dockimbel those improvements sound great 19:27@ifgem context should allow red to experience less collision problems, well have to see 19:29@pekr the original argument for macros was to eliminate run time over head for certain dsls, so there is no overhead if one does it right. 19:30whoops should have said dialects =P 19:31erm typed... you get the point 19:33I am glad Doc trusts the users of his language enough to use things like this, a lot of languages nowadays are doing everything they can to limit bugs... by handicapping the programmers 19:34@dockimbel I am sure that you are going to make a blog post about this, however, I thought I would ask anyway: does libRed allow for easier interop with C? meijeru 21:25@JacobGood1 please see the conversation starting at https://gitter.im/red/red?at=58318920613368f619d66e6b JacobGood1 21:27@meijeru ty, looks very cool... 21:29@meijeru are there any docs for it yet? meijeru 21:59No there aren't, but as this is one of the main additions of 0.6.2, I am sure that the accompanying blogpost will give the necessary info. Tuesday 22nd November, 2016 ifgem 09:13Just found beautiful Runtime crash:))) Wednesday 23th November, 2016 dockimbel 09:35@JacobGood1 > @dockimbel does libRed allow for easier interop with C? It allows C (or other langs with basic FFI) to embed Red, run Red code and interact with the Red environment. 09:41@DonaldTsang > @dockimbel When will Red add support for LLVM on its roadmap (since Emscripten allows LLVM bytecode to compile to asm.js, for use in browsers)? Why do you think using LLVM to generate asm.js is the best option? I think a direct R/S to asm.js could be very efficient and would require much less efforts. Moreover, it would probably enable a better and more direct matching between R/S language and JS. ifgem 09:44@dockimbel http://www.red-lang.org/p/download.html can't download Macos executable. dockimbel 09:46@ifgem Happens sometimes, our Mac backend is located very far from our main server, and has very little available bandwidth, so it can fail to deliver the build in time. I re-launched the build script manually, the Mac build is available now. 10:01Talking about Mac, is anyone here interested in providing a [brew](https://github.com/Homebrew/brew/blob/master/docs/README.md) for Red? rcqls 10:05@dockimbel At first, I can’t see the usefulness of brew for red install. It is so simple to install? Maybe I miss something. Oh! Maybe to have the executable in some folder in the PATH. dockimbel 10:08@rcqls You're right, it is just for marketing purpose, many newcomers may not be aware that Red is a no-brainer to install (as there's nothing to "install" really), so they might skip it if it doesn't use the mainstream way for installing command-line tools on Mac. rcqls 10:13@dockimbel The point is that I think homebrew is mostly devoted to developers who have no difficulty to install Red. Maybe it is also better to provide macport installer or any other binary installation system. There is nix too which is also useable for both linux and MacOSX. dockimbel 10:16Right, macport support would also be nice, though, it seems brew is the most used one from what I can see. maximvl 10:23it is, Nix is very geeky and few people know about it rcqls 10:23Are u sure? Among developers it is for sure but arround me most mac users are not developers (no xcode installed) and would be really interested in Red for its simplicity. I am pretty busy from now but I can have a look . ifgem 10:26@dockimbel can't launch gui console on Windows 7, cli version works fine:) dockimbel 10:28@qtxie ^--- Please have a look at that. ifgem 10:32@dockimbel it's working(process), but I can't see the console http://imgur.com/a/9ILsz qtxie 11:15@ifgem Terminate all the gui console processes and delete the console-cfg.red file in C:\ProgramData\Red. ifgem 11:22@qtxie thanks. It works now. rcqls 12:27@dockimbel as you suggest the formula below saved as red.rb make the trick onmy computer. I have checked that brew audit works properly. The process for submitting seems to be by cloning the repo and submitting a pull request. To test the formula, just copy-paste it and brew install red.rb. When in the official repo of homebrew, only brew update and brew install red is required (of course). class Red < Formula desc "Next-gen programming language, strongly inspired by REBOL" homepage "http://www.red-lang.org" url "http://static.red-lang.org/dl/mac/red-061" sha256 "afefaa392e5dbc1ec6d8805376ecffe86a1f6d1ce46d426800556f3c4f698693" head "https://github.com/red/red.git" def install mv "red-061", "red" bin.install "red" end test do system "#{bin}/red", "--version" end end ifgem 16:19@dockimbel how can I get the last value matched in parse/trace callback function? dockimbel 16:27@rcqls Great! Thanks a lot! greggirwin 16:30@ifgem, you should, I think, be able to use first input in the match case in your callback. Callback not working for me right now. Getting this error, even with the standard callback: parse/trace "abc123" [some skip] :on-parse-event *** Script Error: invalid type specifier: [event [word!] match? [logic!] rule [block!] input [series!] stack [block!] return: [logic!]] parse-trace works fine. Will try to look into it later. dockimbel 16:34@rcqls > The process for submitting seems to be by cloning the repo Which repo? rcqls 16:35@dockimbel Sorry, the homebrew repo with all the formulas. 16:36see https://github.com/Homebrew/brew/blob/master/docs/How-To-Open-a-Homebrew-Pull-Request-(and-get-it-merged).md ifgem 16:38@greggirwin first input doesn't work for string! parse/trace "@@@@" [4 "@"] my-trace -> none dockimbel 16:42@rcqls How am I supposed to run this on Windows: cd $(brew --repository homebrew/core)? So you need to be on a Mac to contribute a new formula? rcqls 16:43@dockimbel yes I think so! dockimbel 16:43How convenient... rcqls 16:44or maybe not! I’ll check.. 16:50@dockimbel brew --repository homebrew/core corresponds to /usr/local/Homebrew/Library/Taps/homebrew/homebrew-core in a regular brew install. The second section maybe is better. I read it more carefully 16:58@dockimbel I think you can just add the red.rb in the forked repo even on Windows. brew create which generates the first file red.rb puts it in the folder /usr/local/Homebrew/Library/Taps/homebrew/homebrew-core. That’s why brew --repository homebrew/core is mentionned. My only problem is to know how the sha256 is generated by brew create. 17:00As I told you, to be accepted the pull request has to satisfiy brew audit and it was the case with the red.rb 17:08ok, the sha256 field is just shasum -a 256 red061. So you could update easily the red.rb file even on Windows (I think) since you only need to update the red binary. 17:10Of course, this can be done in red. dockimbel 17:16@rcqls Could you please take care of the whole submission process? Reading all the docs and setting up all the tools is just too time-consuming for me. rcqls 17:17@dockimbel No problem! I’ll do it. dockimbel 17:17Thanks a lot! JacobGood1 17:28@dockimbel it definitely does increase interop, very cool rcqls 17:37@dockimbel done! Waiting for acceptance of pull request. We’ll see... Thursday 24th November, 2016 dockimbel 00:51@rcqls Great! Let me know when it's accepted, so I can tweet it (or retweet you if you post). ifgem 08:21@dockimbel is there any way to get word! context? dockimbel 09:25@ifgem context? 'word ;-) meijeru 10:22@dockimbel On macros: as far as I can see the toolchain itself does not use macros yet. Do you see any scope for that? Incidentally, I did this check using my own implementation in Red of (a practical subset of) **grep**, the Unix/Linux utility. dockimbel 10:23@meijeru You mean the runtime library, not the toolchain? We will be adding some soon. 10:25@meijeru I would be curious to see your Red grep code, if you are willing to share it. meijeru 10:26I made a suggestion earlier about keeping typesets like any-string and #defines like TYPE_ANY_STRING in sync by the use of macros. Or maybe you can solve that by #do, I don't know. 10:27The grep works by converting the regexp to a parse rule. I will send it to you by mail first, later today. It is probably not yet mezzanine quality. dockimbel 10:58@meijeru I don't think it is worth the trouble of writing code to sync such sets, as adding members to any-string would affect several files and code in the runtime anyway. Moreover, those R/S macros should be replaced at some point by bitsets lookups. 11:26FYI, I have changed the default behavior of pattern-matching macros, so existing code will not work. Please have a look at the related [commit](https://github.com/red/red/commit/38dd528bc001656d6a009f32cbc06b8db7c7f391) and updated [documentation](https://doc.red-lang.org/preprocessor.html#macro). Basically, by default now, pattern-matching macros returned value is replacing the matched pattern (similar to named macros). You can get back the old behavior by inserting a [manual] attribute in the macro spec. rcqls 16:10@dockimbel The pull request seems to be rejected since homebrew only accepts source-based installation and red is currently a binary. As an alternative there is Homebrew Cask devoted to binary install. Do you still want me to look through this new direction? maximvl 16:53@rcqls source-based installations should have commands to compile binary, shouldn't they? rcqls 16:59@maximvl I agree with you and it is what I tried to explain. They think that binary executable does not look like open-source project. I gave us the link of the github project. I can also understand that binary is risky when considering security issues. Homebrew Cask is maybe more well-suited. I have to check... 17:52@dockimbel I did my best to convince Homebrew members to accept the pull request but they want source installation. They think it is feasible so I have to ask you if you agree with them. I think rebol2 SDK is required from now to create red-061 and soon red-062. Maybe, with your new development you could propose this kind of installation. They also say that you could create a tap (Homebred-red repo with the red formula) but it is not visible for Homebrew users. However, you could use the brew command to install red executable. rebolek 18:20sad and funny :( pekr 18:21Nerds, probably living on some distant, imaginatory planet, with their own rules ... iArnold 20:22<breakout>Brew is an obfuscating process, not suitable for elegant stuff like Rebol and Red. Never ever liked brew anyway and all software I ever installed using brew was a disappointment at most. All selfrespecting software should be able to install itself or not be installed at all.</breakout> greggirwin 20:48@meijeru and @dockimbel, I have some old stuff I haven't ported to Red. A like? func that converts glob patterns to parse rules, file list builders, an AWK dialect, and a grep built on that. I did them looooonnnggg ago, so a rethink would be good. Ultimately, I would like to have CLI tools that are strong enough to be a portable shell. Mine were only built for me. :^\ Friday 25th November, 2016 rcqls 03:58@dockimbel As I told you, an alternative proposed by Homebrew members is to install red through a cask devoted to binary stuff. This is the cask red.rb to possibly propose as a pull request to repo Homebrew-cask avaliable then at [caskroom.io](http://caskroom.io) Maybe it would be better to rename it red-lang.rb. cask 'red' do version '0.6.1' sha256 "afefaa392e5dbc1ec6d8805376ecffe86a1f6d1ce46d426800556f3c4f698693" url "http://static.red-lang.org/dl/mac/red-061" name 'red-lang' homepage "http://www.red-lang.org" container type: :naked binary 'red' preflight do system_command '/bin/mv', args: ["#{staged_path}/red-061", "#{staged_path}/red"] end postflight do set_permissions "#{staged_path}/red", '0755' end end Maybe, it will be also possible to prepare a cask for automated build... dockimbel 05:04@rcqls What command-line would users type to install such cask? rcqls 05:07@dockimbel brew cask install red (or brew cask install red-lang) dockimbel 05:08@greggirwin Having strong CLI tools for Red is desirable (as long as the payload is light enough). 05:09@rcqls Looks good to me, let's use that. Thanks a lot for your efforts and help with that. rcqls 05:11@dockimbel I’ll send a pull request then. red.rb or red-lang.rb? dockimbel 05:32@rcqls Let's try to own the red name, so red.rb. rcqls 05:38@dockimbel done! ERIPECH 12:08how do I safe a pdf file from gui? - thanks for help - BR EP meijeru 12:39For the moment, you can save an image! value as JPEG, PNG, BMP, GIF or TIFF. See help save. You can make an image! value from any face object using to-image. The JPEG etc. file you can turn into a PDF using print to PDF (facility existing on every OS, I think). greggirwin 17:57like + rawk + rgrep = ~330 LoC. The big one is the file-list stuff, that was an experiment in dialect design. It's large because it has sub-dialects for filtering by date, size, and attributes, in addition to globbing on the name. 18:10https://gist.github.com/greggirwin/0e9085af43984f1fdf400498ba8ceb11 is my old like? func. Is yours something like that @meijeru? Or did you go more full regex compatible? I think something like this (not my code, but the functionality) would be both useful and a nice example. meijeru 21:58@greggirwin I now feel somewhat confident to publish my grep implementation: [here it is](https://gist.github.com/meijeru/badcc5184f312aedf51a010b4718a148). It is limited to ASCII regexps, and has only a few options, but should be very practical for answering such questions as: in which lines of any of the files of the toolchain is there a hexadecimal number. That would be e.g. >>grep "[[:xdigit:]{2,8}h" %sources/ It did this, searching ~156000 lines in ~440 files in under 2 seconds. 22:10As you see, it works by converting the regexp to a Red parse rule block, but not by using parse itself for the conversion, but rather a direct traversal of the regexp string. It is probably not foolproof with respect to meta-characters. Comments are very welcome. I sent a slightly earlier version to @dockimbel already, on his request, before I was sure enough of the quality. 22:13The above code should be: >>grep "[[:xdigit:]]{2,8}h" %sources/ 22:14[:xdigit:] is equivalent to 0-9A-Fa-f hence the need for one more pair of brackets around it... Saturday 26th November, 2016 rcqls 04:17@dockimbel Just a question about the name of the latest automated build? The url is http://static.red-lang.org/dl/auto/mac/red-26nov16-cc699fc (for example). Could it be possible to provide another link http://static.red-lang.org/dl/auto/mac/red-latest pointing on http://static.red-lang.org/dl/auto/mac/red-26nov16-cc699fc. Since, red is evolving a lot it would be nice to have a cask (or formula) to install it very easily. We can create a tap (personal repo) Homebrew-red with folfer Casks containing this cask. cask ‘red-latest' do version :latest sha256 :no_check url "http://static.red-lang.org/dl/mac/red-#{version.no_dots}" name 'Red Programming Language' homepage 'http://www.red-lang.org' container type: :naked binary "red-#{version.no_dots}", target: ‘red' end After initializing the tap, you could alternatively install : * stable red : brew cask install red or brew install Caskroom/cask/red (assuming they accept the last PR) * latest automated red: brew cask reinstall red-latest If it is not possible to have download url http://static.red-lang.org/dl/auto/mac/red-latest, one can manually update the tap to the latest interesting version. This is also interesting... dockimbel 04:44@rcqls It's already there, see the bottom of the Download page or just try your URL. ;-) rcqls 07:45@dockimbel Did you add it just after my message? Or am I so stupid to not notice it? Excellent! Phryxe 08:00 Compiling Red GUI console... *** Driver Internal Error: Access Error : Cannot open /D/Program/Red/environment/macros.red *** Where: read-cache *** Near: [any [get-cache file read file]] 08:01With latest automated build on Win 10. The environment dir is missing ... maximvl 08:26^ same on linux 08:27@Phryxe I created this directory and file with Red [], at least repl is not failing now dockimbel 08:45@rcqls It's there since a few months, though not very visible. maximvl 08:50it seems that # is allowed to use without space separation: red>> type?#(1 2) == map! dockimbel 09:02@maximvl It is, because # is not allowed in words, so there is no ambiguity in the syntax, #( serves as a delimiter. Same as type?[] or word(). This broadens the lexical space Red accepts as input, without breaking the lexical rules, which is good for DSLs. maximvl 09:03@dockimbel it's ok, just looks a bit inconsistent 09:06how do I use collect/keep in separate rules? red>> collect [parse [1] [copy x to end (keep x) end]] == [1] red>> rule: [copy x to end (keep x) end] == [copy x to end (keep x) end] red>> collect [parse [1] rule] *** Script Error: keep has no value *** Where: parse dockimbel 09:07@maximvl Whitespaces separating tokens is not a mandatory rule in Red/Rebol syntax. They are mandatory only when there are no other delimiters. Though, most of the time, it is visually more appealing to have tokens separated by a whitespace. rcqls 09:08@dockimbel It makes sense to have it (from few months) and that’s right it is not so visible (so I am not so stupid) but the good news is that it exists. BTW, I am waiting for the final decision about the PR of the cask. After a long discussion, I think Homebrew Caskroom members (in coordination with Homebrew members) now understand that Red is an open-source project. They were hesitating since they did not understand first that red-061 depends currently on Rebol SDK and make install from source impossible or maybe very difficult. I did my best to convince them that soon Red would depend only on Red. When Red can self-bootstrap the cask will become a formula (since red could be installed from source). In terms of visibility, brew search red redirects to the cask so the visibility is mostly the same as a formula. Another point is that when a formula is source-based, it does not mean that each installation of Red via brew is made by compiling the source. It would be the same as copying the red binary. I’ll try the idea to install red-latest from a tap. After, if you agree, you could then create (after my test) a tap repository Homebrew-red where to put the cask and the formula as we wish since a tap does not rely on HB and HBC members. A tap is maybe good also in terms of visibility since people can check on Github every repo with name of the form Homebrew-* dedicated to tap. dockimbel 09:11@rcqls Adding a new red/Homebrew-red repository is fine. maximvl 09:13running this file fails: https://gist.github.com/maximvl/8b520968a1149467ae0c12f5d2e89668 >red analizer.red *** Error: not a Red program! dockimbel 09:14@maximvl keep is defined only inside collect function, therefore, you can't use it outside of the argument block (the argument gets bound to collect internal context). You can use collect/keep from within Parse itself, that would work in such case. maximvl 09:15@dockimbel how can I do that? could you give short example? dockimbel 09:16@maximvl Probably a regression caused by an earlier commit from today. maximvl 09:16@dockimbel should I create issue? dockimbel 09:16@maximvl No need, I will look at it right now. 09:19@maximvl Here are a few examples for collect/keep in Parse: rule: [keep copy x to end] parse [1] [collect rule] rule: [keep set x to end] parse [1] [collect rule] rule: [keep skip to end] parse [1] [collect rule] maximvl 09:19@dockimbel cool, thanks! 09:20probably same commit you mentioned caused this: >red analizer.red *** Syntax Error: missing #"[" at " ]]lines: read/lines %/etc/issuefora" *** Where: do on this code: lines: read/lines %/etc/issue forall lines [ print parse-row first l ] dockimbel 09:21You should re-read [Parse's intro article](http://www.red-lang.org/2013/11/041-introducing-parse.html) for more examples and documentation. 09:21@maximvl Right, it looks related. maximvl 09:22ok, I will, I was using Rebol parse article on wiki as reference, and it doesn't have collect/keep and other new features rcqls 09:22@dockimbel Nice! I’ll try first from my github account to test everything and confirm that everything works properly. Then, you’ll add the cask or formula to red/Homebrew-red. Just to be clear, a tap repo is not visible using brew search or brew cask search since it is not an offical repo. It is mostly like deb url in the apt-get world. dockimbel 09:30@maximvl Red's Parse has a few more features and changed some command names (and => ahead). 09:31@rcqls Do I need to fork an existing repo, or an empty repo is fine? rcqls 09:38@dockimbel I do not know it precisely now but, as an example, I know that people from crystal has a simple repo Homebrew-crystal with simple formulas inside. I am checking for casks integration and I'll tell you more precisely. But I am pretty sure that an empty repo is fine. dockimbel 09:58@maximvl Regression should be fixed now. rcqls 10:06@dockimbel * create red/Homebrew-red as an empty repo * create a folder Casks inside * add the following file red-latest.rb in this folder: cask 'red-latest' do version :latest sha256 :no_check url "http://static.red-lang.org/dl/auto/mac/red-latest" name 'Red Programming Language' homepage 'http://www.red-lang.org' container type: :naked binary "red-latest", target: 'red' end * Now to use it: brew tap red/red # mandatory: to add red/Homebrew-red to your local install brew tap # optional: to check that red/Homebrew-red is in the list brew update # optional: to update brew brew cask search red-latest # optional: to check that red-latest is brew cask install red-latest # mandatory: to install red-latest as red binary In this tap you could freely put every formulae or casks that you want. dockimbel 10:13@rcqls [Done](https://github.com/red/Homebrew-red). rcqls 10:14@dockimbel Ok, I'll test that... 10:17seems to work! Do you have a tip to know that it is the latest version? I guess not dockimbel 10:18@rcqls Type about in the console, you'll get the build date. rcqls 10:18@dockimbel Thanks! It works! dockimbel 10:18Good, so I can tweet it now. ;-) rcqls 10:19@dockimbel Not yet! I think you should wait for official HB PR dockimbel 10:19I'll wait then. rcqls 10:20As soon as I have the answer, I tell you. 10:26@dockimbel Anticipating the official Homebrew cask (or formula but I think it would be a cask), this is how you can switch to the stable red version: brew cask uninstall red-latest brew install red Since, red latest changes very often to install a new latest: brew reinstall red-latest. Of course, no need to do again brew tap red/red since like deb this has to be done only once. dockimbel 10:29@rcqls Got it. I've added your usage info to the README, feel free to send PR to fix/improve it if required. rcqls 10:31@dockimbel BTW, do you know [scoop](http://scoop.sh). It is an homebrew-like (cask) installer on Windows. I found it interesting when installing Windows tools. Msys2 is really interesting too. dockimbel 10:32@rcqls Don't know about it. Though, we have Chocolatey support for Windows, thanks to @dander. rcqls 10:37@dockimbel Yes I know I saw it at the bottom of the download page but I prefer scoop. In terms of visibility chocolatey is a better choice. With scoop you could add a repo in the same way we did with Homebred-red. This is really nice since you are free to offer what you want. I can have a look if you want. The purpose here is not to make red more visible except if I do not realize the impact of scoop today. dockimbel 10:38@rcqls I'm not against supporting a wide range of package managers if that can help spread Red, as long as support for them is contributed, our resources being limited. rcqls 10:46@dockimbel I can do it first. In terms of visibilty, you add on github a repo called scoop-red or scoop-bucket. I am thinking of developers looking at scoop-*on github and seeing red/scoop-*. They can then meet red. Moreover, when you want to fix some installation you are free to do it in your repo. But, we can wait if we need it later and of course I can do it. 11:10@dockimbel whenever I play with red(-061) or red(-latest), about(as you suggest before) gives me the same output. So I can’t see if the switch between version works properly. Could you remind me a tiny piece of code not suppose to work on red-061 to be sure. I think I have to wait more than one minute to see the difference between the two about outputs. dockimbel 11:14@rcqls If about gives you the same output, it means you are running the same Red console (which is hidden in your local %COMMON_APPDATA% folder). You should clean-up that folder if you are switching between Red versions back and forth. 11:15You can try red --help and see if -u option for libRedRT is mentioned (means latest) or not (means 0.6.1). rcqls 11:17@dockimbel Ok, the outputs are differents now. I already removed everything in ~/.red to force recompilation. Test with red —help works. Thanks! dockimbel 11:17@rcqls red/scoop-bucket [created](https://github.com/red/scoop-bucket), feel free to submit PRs. rcqls 11:18@dockimbel Ok! I’ll give a look. PeterWAWood 12:21@rcqls @dockimbel It seems that Microsoft has started developing a package manager - https://github.com/Microsoft/vcpkg - though it might only be targetted at C/C++ libs. rcqls 13:33@PeterWAWood Thanks for this info! 15:35@dockimbel Now, red is officially in Homebrew Caskroom as a cask. So, brew update and then brew cask install red. You can then tweet! Congrats! dockimbel 16:38@rcqls Great! Do you have a Twitter account, so I can mention you? rcqls 16:58Maybe, I have one but it really does not matter! dockimbel 17:13Ok, tweet posted. ;-) rcqls 17:17@dockimbel saw that and I am already in the « likers » ! maximvl 18:33is there a simple way to set value in current index in series? 18:34like forall list [ list/(current): transform first list] 18:35it's change, silly me ) geekyi 19:16@maximvl better question would be, what are you trying to accomplish 19:17foreach or map-each (currently rebol only?) might do the job? maximvl 19:18@geekyi forall is enough =) 19:19 red>> x: #(1 2) == #( 1 2 ) red>> set x 3 5 *** Runtime Error 1: access violation *** at: 0808AB4Ah greggirwin 19:25A map isn't a series. Change will set the value at an index in a series though. maximvl 19:26anyway it shouldn't crash whole runtime :) greggirwin 19:26Agreed. That's a bug. maximvl 19:34how do I apply quoted function/argument? red>> apply: func ['f arg] [get f arg] == func ['f arg][get f arg] red>> apply empty? [] == [] greggirwin 19:39 red>> apply: func ['f arg] [f arg] == func ['f arg][f arg] red>> apply :empty? [] == true 19:40But you don't have to make it a lit-word! param red>> apply: func [f [any-function!] arg] [f arg] == func [f [any-function!] arg][f arg] red>> apply :empty? [] == true maximvl 19:40@greggirwin any way to make it transparent and remove : ? 19:41afaik [:f] in arguments should do that, but it doesn't work greggirwin 19:42Hmmm, I thought so too. 19:45One way around it: red>> apply: func ['f arg] [do reduce [f arg]] == func ['f arg][do reduce [f arg]] red>> apply empty? [] == true maximvl 23:28any way to check if charset/bitset is empty? Sunday 27th November, 2016 maximvl 00:54refinements disappear on some operations: red>> append copy [] 'tmp/1 == [tmp 1] PeterWAWood 03:03@rcqls @dockimbel I installed Red on my machine from Homebrew. It works fine from the account under which I installed it but can't be accessed from other accounts on the machine. (As a precaution, I have an admin account for administering the machine and a user account in which I do every thing else.) This is the message that I get: $ red -bash: /usr/local/bin/red: Permission denied 03:16@maximvl path! values are series! so append is appending each value in the series to the empty block. If you user append/only it will append the path tmp/1 to the block. red>> tmp: [1 2 3] == [1 2 3] red>> append copy [] 'tmp/1 == [tmp 1] red>> append/only copy [] 'tmp/1 == [tmp/1] red>> type? 'tmp/1 == path! red>> series? 'tmp/1 == true 03:20The append help text says /only => Insert block types as single values (overrides /part). which does contradict the behaviour. Probably only @dockimbel can say which is correct - the code or the docstring. rcqls 05:14@PeterWAWood Are your /usr/local with the proper right? Check on Homebrew Website but usually something like that is required to use Homebrew: sudo chown -R $(whoami) /usr/local. Sorry, I realize that I did not read properly your message. In fact, I think it is not usual to have a system-based Homebrew but only a user-based Homebrew installation. Check on Homebrew Website if it possible to have a system-based system. PeterWAWood 05:40@rcqls I'm not sure if it is usual to access software installed with Homebrew from a user account but it works with other languages I install with Homebrew, such as R, Ruby and Lua. I'm not near my machine at the moment but will check the permissions of the executables in /usr/local/bin as soon as I can. rcqls 05:45@PeterWAWood I had a quick look on internet and more often HB is single account installation. There is some fix for multi-accounts installation. What is a bit weird is that execution permision could be allowed for other account even for a single-account installation. I’ll check to create a new account on my macbook. 06:02@PeterWAWood I have checked with a second account and sudo chmod g+w /usr/local/bin/red makes the trick. I guess we can change the permission in the cask. Since the official cask is currently only related to red-061, I think we can wait for the next release if we think that is interesting and feasible. Don’t know if you see red\Homebrew-red repo where we can our own formulae and casks. red-latest.rb is there and I can try to change the exec permission. 06:56@PeterWAWood You were fully right. The problem is that the staged red-061 does have only the executable right for user which seems to be the default behavior. In the red-latest.rb cask proposed in red\Homebrew-red I’ll make a PR to fix that. In the next official cask we will change that too. dander 08:44@rcqls @dockimbel , I hadn't seen it scoop before, but it looks really interesting. I particularly like how it focuses on local-user installation. It seems to have some limitations compared with Chocolatey, but the simplicity gives it a very smooth experience rcqls 08:50@dander I found it when I was looking for Homebrew-like project on Windows. It is actually more HomebrewCaskroom-like. Have you seen that there is a repo red\scoop-bucket to install red and red-latest? You have to check the pull request since I think @dockimbel did not yet accept the PR. But since you are on chocolatey, I think you will not use it. dander 08:56@rcqls I saw the repo, but I didn't see a PR for it. Actually, I don't see a reason not to use one or the other. It doesn't seem like they would conflict with one another, and I like trying out new tools... though it would be a bit silly to install the same software from more than one package manager 08:57actually, the one little step of needing to launch an elevated shell for Chocolatey could push me over the edge to using scoop. But it probably depends on what packages are available 08:58ahh, found your PR rcqls 09:03@dander To test it, you can create your own scoop-bucket or use mine rcqls\scoop-extras. The red.json and red-latest.json are inside my bucket. dockimbel 09:21@rcqls I've merged your PRs. rcqls 09:22@dockimbel Just saw that. Thanks! dander 09:23@rcqls It seems to work great! I did have to manually check out the 'red' branch on your repo where scoop pulled it down. I didn't see a way from the scoop interface to specify a branch to use rcqls 09:26@dander , as @dockimbel merged the PR, you can use the red/scoop-bucket. I guess that you used rcqls/scoop-bucket instead of rcqls/scoop-extras (no need git checkout red). dander 09:37I switched over now, and that is working. I just thought it was an interesting quirk to comment on. 09:42so just to recap, in case others are interested, once scoop is installed, the process is like this: scoop bucket add red https://github.com/red/scoop-bucket.git scoop install red or scoop install red-latest and to update red-latest: scoop update red-latest -f and to switch between the two (because they clobber each-others shims) scoop reset red (or red-latest) 09:42pretty easy rcqls 09:44@dander The first 3 commands are already in the README but you can add a PR to add the 2 other last commands. dander 09:48I forgot to even look at that :-| Perhaps I will, but sleep first. rcqls 09:49README was not visible since in the PR. PeterWAWood 11:17@rcqls I've just got back to my machine ... I too noticed the permissions on the executable in the Cask and have changed them ... the permissions on /usr/local/bin/red were okay on my machine. Thanks for looking into this and especially for taking the time to get Red into Homebrew. rcqls 11:39@PeterWAWood My pleasure! Are you also using the [tap](https://github.com/red/Homebrew-red) red/Homebrew-red? I think it is currently more useful since it installs red-latest as red binary . Thanks to your comment, the execution permissions fix allow any account to launch red. maximvl 13:03what am I missing here? with-word: func [x body /local tmp] [ unless error? tmp: try compose [to-word (x)] body ] red>> with-word "abc" [ probe tmp ] *** Script Error: tmp has no value *** Where: probe Tovim 15:40Hello, some two months ago I´ve started (with Dockimbel´s consent) a transformation of the Red documentation from markdown to asciidoc format, as well as it´s translation from English to Czech language. Please, look at it at the https://github.com/Tovim/new-docs page. 16:01Any ideas and help welcomed - maybe at Google+/ Pavel Dolana in Red-lang-docs community too. dockimbel 16:28@Tovim Hi! Glad to see you here. It is a more convenient place for quick exchanges than email for me (I get about 50 emails a day). The docs look good to me overall (just some details to fix). I think we could consider merging your changes and switching to Asciidoc definitely very soon. @greggirwin @PeterWAWood What do you think about it? 16:31@maximvl You [probe tmp] block is bound to global context after being loaded, so you need to re-BIND it to the function's context (which only exists during the function evaluation, until we get closures). This is how to do it: with-word: func [x body /local tmp] [ unless error? tmp: try compose [to-word (x)] bind body 'x ] with-word "abc" [ probe tmp ] 16:33@maximvl The words in [probe tmp] are bound to global context after LOADing, so you need to re-BIND them to the function's context. Here's how to do it: with-word: func [x body /local tmp] [ unless error? tmp: try compose [to-word (x)] bind body 'x ] 16:37Note that bind body :with-word would have worked also in this case, though the above method (extracting the context from a locally bound word) can work even if no word is referring to the function 16:42Another approach is to pre-bind the body block before passing it (eventually avoiding multiple re-bindings across multiple calls): with-word "abc" bind [ probe tmp ] :with-word Though, as the function's context is only fully available during function's evaluation (default functions are not closures), you would get an error if such pre-bound block would be evaluated outside of the function. 16:56Sorry for duplicate answers, Gitter is very unstable from here (China) right now. stvpwrs 18:06@Tovim @greggirwin @PeterWAWood Hey, I am very new to Red and open source in general, but I would love to pitch in on the docs. maximvl 21:07@dockimbel ok, got it, thanks! I wasn't sure how to use bind dahu 21:38FWIW, I also support using Asciidoc Monday 28th November, 2016 PeterWAWood 01:18@rcqls I'm not using the tap yet as I usually use the source compiler rather than the binary. Having the current "official" release available is very useful. dockimbel 04:23@dahu It's not a real choice, as on Gitbook we are limited to just Markdown or Asciidoc. DonaldTsang 07:40@dockimbel The reason why LLVM should be included in the roadmap is that other programming languages are also ported (e.g. C++) to asm.js that way. LLVM is going the Haxe route of being a "universal translator". dockimbel 08:03@DonaldTsang Red is not written in C, like the "other programming languages" you are referring too. Therefore, the best option for them does not equate to "best option" for Red. pekr 08:26Just curious - is LLVM preinstalled on Windows, Mac and other platforms? I mean - by the OS vendor, hence no need to download? dockimbel 09:11@pekr AFAIK, only preinstalled on iOS. 11:33We have decided to make Red selfhosted for 1.0 release: https://trello.com/c/zUiFKF8B/159-0-9-5-move-the-toolchain-to-red-if-time-permits ghost~5680c5f416b6c7089cc058a5 11:38@dockimbel That's great :smile: dockimbel 11:38Red is already pretty much capable of running the toolchain code written for Rebol2. Though, we need a GC first, make some changes in the toolchain source code (like dropping the %lexer.r file in favor of %lexer.red), and fix the unavoidable bugs resulting from that move. So, we decided to accomplish that before 1.0, in order to drop the annoying dependency, and demonstrate that Red is capable of handling a big and complex codebase flawlessly. Zamlox 11:39@dockimbel excellent ;) rebolek 11:40@dockimbel great decision! dockimbel 11:40Though, the time required for such task is unpredictable. Could be anything between a couple of weeks to a couple of months. If we are not pressured to go 1.0 once we reach 0.9, we *really* want to make that happen. ghost~5680c5f416b6c7089cc058a5 11:41@dockimbel Will the 0.9.5 selfhosted release be the modular toolchain as planned or will it be a direct port of the current toolchain and be refactored later on? dockimbel 11:43Direct port, the modular compiler and toolchain we have in mind for 2.0, is a different architecture from the current one, so it still remains the main goal for Red 2.0. It will be a rewrite from scratch of the toolchain code to fit the target architecture and leverage some Red specific features that Rebol lacks. ghost~5680c5f416b6c7089cc058a5 11:43Okay 11:44BTW how long for the next release? ifgem 11:45@dockimbel how long would it take to release Red 0.7? 11:46@dockimbel by the way, what do you think about translating current documentation into Russian?:) dockimbel 11:47@nc-x We are currently working on demos for libRed and making some last minute adjustments to the libRed API, which should be over in the next days. After that, we need to process the tickets on the tracker before the release. I would like to allocate a week for processing as many tickets as possible before the 0.6.2 release. So the release date should be between one and two weeks from now. ghost~5680c5f416b6c7089cc058a5 11:47That's great... Moves us closer to the android release for which i am waiting for a long time... dockimbel 11:47@ifgem Like for any other coding task involving design and prototyping for something never built before: a certain amount of time. ;-) I think 0.7 is mostly about designing the right architecture, with several layers, rather than coding time. I don't expect a lot of new code for I/O support, so it really depends how long will the design/prototyping take. 11:50@ifgem Russian translation is welcome, but should wait our move to Asciidoc first (which should happen very soon). ifgem 11:50@dockimbel in a matter of days?:))) dockimbel 11:51@nc-x Android: me too! :fire: ;-) 11:52@ifgem You mean the move to Asciidoc or libRed? ifgem 11:52@dockimbel Asciidoc:) rebolek 11:53@dockimbel why was AsciiDoc chosen over Markdown? ifgem 11:53@dockimbel BTW, #2351 why is event/key none on CapsLock? dockimbel 11:55Well, I'm the bottleneck there, so as soon as we merge libRed to master, I'll give it a deeper look and do the switch if there is no show-stopper (@greggirwin and @PeterWAWood help is welcome for that). 11:55@rebolek MD is lacking too many basic features, like section/chapters numbering, and decent tables formatting options. rebolek 11:57I see, thanks. It’s true that the docs for AsciiDoc are much longer than for Markdown :) dockimbel 11:57BTW, I'm writing an article about macros support in Red to be released today or tomorrow. ;-) pekr 12:02that's superb! Re the self-hosting, I expect it being a reaction to the repeated R2 related problems, right? dockimbel 12:19It is, but not limited to that. It's a natural evolution for Red and a good showcase for 1.0. ifgem 12:23@dockimbel how can I use standard curses binding in my Red code? dockimbel 12:25@ifgem As it is a R/S binding only, you need to write a Red layer on top of it, using *routines* to expose the features to Red. You can do a 1:1 mapping between the R/S API and the Red one, or you can merge/abstract some lower-level features to provide a higher-level Red API. I'm pretty sure someone can get you started if you don't know about routines. ifgem 12:27@dockimbel also, why isn't VID extensible? I.e why can't I add some new widgets to it? 12:29@dockimbel I know about them, thanks, I'll try it soon:)))) dockimbel 12:32@ifgem You can easily add new widgets using style keyword, stylize function from @rebolek or just appending new widgets definitions to system/view/VID/styles. There are many ways to extend it, what is lacking, is a built-in framework for defining custom widgets (you can define new ones already using Draw, but it's up to you to figure out how to achieve it and how to integrate it within View). endo64 14:37Encapping the latest master cannot find macros.red : 14:37 Combining all source files together... ** Access Error: Cannot open /E/Git/red/environment/macros.red 14:39Is it missing in the repo? dockimbel 16:08@endo64 Should be fixed now. greggirwin 19:06@Tovim thanks for the work on this so far! @stvpwrs, thanks for the offer to help with docs. Always important, and having a beginner's view helps, because we can't un-learn Red and see it with fresh eyes. Notes: - We need an org plan. Either naming conventions or dir structure. e.g. %overview.adoc is GUI related, but nothing in the name tells you that. - %ownership.adoc appears to just contain a GUI hierarchy image. Should be object ownership, correct? I don't see a reason not to use @tovim's work (and thanks for the annotations section as well!). 19:08And while I'm sorry if R2 problems force your hand @dockimbel, but I'm anxious for Red to be self hosted. :^) 19:14I will track down my old notes on Red docs as well. stvpwrs 19:37@greggirwin what is the best place for doc discussions, Red/Docs? greggirwin 19:45https://gitter.im/red/docs Tuesday 29th November, 2016 dockimbel 04:58@greggirwin Agreed about the org plan for the docs repo. DonaldTsang 11:20@dockimbel @pekr L 11:26@dockimbel @pekr but LLVM allows language compilation from other programming languages, not just C and C++. And those code in LLVM can "decompile" into other languages. Basically LLVM allows transpiling. Zamlox 11:44when I try to add data in a block, each call of append will take more memory than size of data added to block: red>> a: make block! 1000000 == [] red>> loop 1000000 [append a #"a"] takes about 15MB will this be fixed once GC will be in place ? dockimbel 11:50@Zamlox Each Red value is taking at least 16 bytes (128-bit slots, like in Rebol), so the memory usage looks correct. Zamlox 11:55I was experiencing a lot of memory consumption while I worked on SVG module. For processing an svg file of 197KB I had a 30MB memory consumption. And for an svg file of 5MB I had a 800MB memory consumption. I noticed that each append took more memory than the size of data I have added into a block. 11:55perhaps I should reconsider how I transform those path related data into draw commands dockimbel 12:03@Zamlox I noticed that each append took more memory than the size of data If you preallocate the block, appending values should not use any extra memory. maximvl 12:04@dockimbel but even with default-sized block, it shouldn't consume additional memory on _each_ addition, right? dockimbel 12:05@maximvl It shouldn't, until you hit the max allocated size of the block. Zamlox 12:06@dockimbel by preallocating you mean adding as much data as needed beforehand then clearing the block and adding again data into it. dockimbel 12:07@Zamlox No, just preallocating the series with enough slots (like you did above). 12:08I just tried your example code above on Windows, I see a +15MB just on commited memory, then 0 more allocation during the appending. Zamlox 12:09when I do like above a: make block! 1000000 will not take any memory on Windows 7 dockimbel 12:10@Zamlox High memory usages on small datasets are usually caused by many temporary allocations. Zamlox 12:10only when I append the memory will grow dockimbel 12:10@Zamlox If you are using the default memory display from the task manager, you'll get a wrong picture. Zamlox 12:10yes, that's what I'm using. pekr 12:11Is there any profiling in Red yet? something like stats? Zamlox 12:11ok, good to know not to use Task Manager memory status . dockimbel 12:13@Zamlox From Task manager's menu -> View -> Select Columns.. Then select "Memory Commit size". It looks more accurate to me. Zamlox 12:15@dockimbel yes, I tried and it looks more accurate like you suggested. 12:15thanks. dockimbel 12:17Using stats native would also work (it will report the total allocated count from the OS by the Red memory manager). ghost~5680c5f416b6c7089cc058a5 12:50@DonaldTsang 1. Some reasons for not choosing LLVM are given here https://github.com/red/red/wiki/FAQ 2. Besides LLVM support for windows is not particularly good - for eg. Rust and Haskell bundle mingw with them for the linker and some other stuff. 3. Also LLVM was created specifically for C-like programming languages hence its optimisations are well-suited for such languages. On the other hand, Red's performance under LLVM would still suffer just like Haskell's. So performance is not any reason to choose LLVM. 4. Using LLVM means it becomes more work to support both the interpreter and compiler. 5. GC options are pretty much limited on LLVM but some work was being done on this recently, i don't know what it's status is right now. 6. You lose the cross compiling benefits that you have right now in the Red toolchain if you choose LLVM. Cross compiling using llvm and gcc is a mess, just building the cross compiler takes hours. 7. Using LLVM would also mean that the easy-to-use android backend to come soon woudn't have been that easy to use. 8. Using LLVM also means that the red executable is not portable any more. Also it is no longer < 1 mb. Also creating asm.js target in the red toolchain is pretty much feasible, so why not do it? 12:52For me, the points 2, 6, 7, 8 are good enough reasons to stay away from LLVM. maximvl 12:52good points, I agree, LLVM seems unnecessary for Red 12:53it can be optional somewhere in the future, or third-party addon ghost~5680c5f416b6c7089cc058a5 12:55There are many programming languages which have alternative compilers created by the community, so even we can have one in the future. But anyways i would still prefer the red toolchain :smile: ifgem 14:23@dockimbel by the way, can I compile Red/System to lego mindstorm nxt2.0?:) henrikmk 14:42anyone maintaining the Red or REBOL textmate bundle? there's a serious speed issue in mine, but was wondering which one available is the official or most current one. dockimbel 15:12@ifgem If it has an ARM cpu using the standard instruction set (not the Thumb one), then yes. ;-) 15:14@henrikmk I think @x8x might be maintaining it. Oldes 16:08I consider Red having own compiling toolchain without external dependencies as one of main benefits of the Red language (and I'm sure I'm not alone:) rgchris 16:31@henrikmk This is my [latest version](https://github.com/rgchris/rebol-tmbundle). Don't notice any slowdown though—any particular case or conditions I could test? 16:32(I still use TextMate v1) henrikmk 18:02@rgchris If you use TM1, then you probably won't see it. With automatic bracket closing, simply type [[[[[[[. After 30-40 of those, TM2 simply hangs, because of some syntax parsing problem, but generally, files with many []s are slower to process and give annoying typing delays. rgchris 18:06@henrikmk Bracket closing is the weak link in my bundle. While it's infinitely complex, it's still difficult to write even for basic cases: ][ [ ; ] ]][ Would appreciate thoughts and feedback about how to go about this. henrikmk 18:07@rgchris: I see, thanks. I suppose any kind of disabling it will basically make the syntax bundle useless? rgchris 18:07Yep. Or less useful. henrikmk 18:08Allan asked me to take samples of the TextMate process. I did that, but have no idea what I'm supposed to look for. rgchris 18:15I've been using this latterly: foldingStartMarker = '^[^;]*[\[\{\(]\s*(;.*)?$'; foldingStopMarker = '^\s*[\]\}\)].*$'; Not sure if that's what you have in your current bundle, but any line that ends in [({ (with optional comment) opens and a line that starts with ])} (with optional preceding space) closes. Has worked as a compromise. henrikmk 18:17OK, I tried removing the folding markers and a number of other bracket related things and that had no effect. rgchris 18:18Also check the decrease/increase IndentPattern in Miscellaneous. henrikmk 18:24commented them out with no effect, so I'm not sure where else... rgchris 18:29Could try commenting out each of the main pattern groups, see if it's one of those that's offending: patterns = ( { include = '#comments'; }, { include = '#type-literal'; }, { include = '#logic'; }, { include = '#strings'; }, { include = '#values'; }, { include = '#words'; }, { include = '#errors'; }, ); henrikmk 18:50they are all commented out with no effect 18:51in fact, thanks for pasting it, because commenting things out in a bundle, deletes those lines of code on next start of textmate rgchris 18:57Yikes! 18:58I'm trying TextMate 2 and still not getting slowdown. I wonder if there's another variable external to the Rebol bundle at play. henrikmk 19:07now it appears to be gone, no more slowdown. I need to do a diff between your lines and the old ones I had. maybe there are subtle differences. 19:07the slowdown disappeared after pasting your lines into my bundle 19:22OK, got it now. These lines are offensive: increaseIndentPattern = '^([^;]*[\[\{\(])+\s*(\;.*)?$'; decreaseIndentPattern = '^\s*[\]\}\)].*$'; Need to check what they are in your newest release. rgchris 19:25Hm, I have the same. 19:27How about: increaseIndentPattern = '^[^;]*[\[\{\(]+\s*(;.*)?$'; ? henrikmk 19:36So far it seemed to help. Will see if it keeps up. 19:38I can also repeat the problem on my old macbook. greggirwin 19:57Thanks for the LLVM analysis @nc-x. henrikmk 19:58@rgchris on the old macbook, it seems the increaseIndentPattern line alone won't do it. both the folding marker lines must be added too, before the problem disappears. I didn't have those lines before. 19:58alright, sorry for hijacking the chat dahu 21:46@rgchris Couldn't you remove the trailing \s*(;.*)?$ in your increaseIndentPattern for the same effect? rgchris 21:52@dahu I'm looking for a [ that demonstrably occurs at the end of the line—the only possible things succeeding it will be space and/or comment. Omitting this check will create a lot of false positives. dahu 21:56@rgchris right, i see 21:59@rgchris would \s*;? suffice? 21:59bah 22:00i can't test my musings, not being a textmate user, so i should retire now ._. rgchris 22:28@dahu This is an attempt to express it in Red's (and Rebol 3) PARSE: test: [some ["[" any " " opt [";" any skip] end | ";" break | skip not end]] foreach [line expected] reduce [ "[" true "foo [" true "foo [ ;" true "foo [ ; bar" true "[foo]" false "foo ;" false "foo ; [" false ][ print [ expected parse line test mold line ] ] As you can see, I fail in one instance. 22:35And got it: test: [some ["[" any " " opt [";" any skip] end | not ";" skip not end]] dahu 22:37Could you use \s*($|;) (in however textmate expresses that -- I use Vim, which has more backslashes: ^[^;]*[\[\{\(]\+\s*\($\|;\) rgchris 22:41Yep, that works too. dahu 22:46cool. that was the semantics that i was initially aiming for, but failed to correctly express until the coffee kicked in, a clear violation of the No Chatting Before Coffee policy. :-/ Wednesday 30th November, 2016 DonaldTsang 05:12@nc-x Another question, is Parrot a good VM for Red? It has C, Java, Lua, Ruby, Python, PHP, Perl and Lisp/Scheme support. dockimbel 05:14@DonaldTsang Before asking such question, you should make a case about why having a VM would be better than the current architecture. ghost~5680c5f416b6c7089cc058a5 06:43@DonaldTsang Firstly, When you have native code compilation, why would you want a bytecode interpreter? Secondly, parrot was designed to be useful for a wide range of dynamic programming languages and as such neither its design, nor its development went good. Parrot was supposed to be the VM used by perl 6 but because parrot was not good enough due to wrong design decisions as well as it was too slow, hence the perl developers had to move on to other backends like JVM and their own moarvm in the end. (And no, moarvm is also not suited for red as it is built with perl and its object system in mind) . Thirdly, using parrot would make it impossible to use red (r/s) for systems programming which goes against the red's fullstack philosophy. BTW as @dockimbel asked what is your use case for using other backend than the current one? 06:46You can read why some developers left the parrotvm project here - 06:46http://whiteknight.github.io/2015/01/15/parrottheend.html 06:46and 06:46http://modernperlbooks.com/mt/2013/02/goodnight-parrot.html x8x 16:12@henrikmk I use TextMate2 (and love it! ..if only they would integrate libred, and we could write syntax files in red.. :-) ) I have a Rebol boundle, long time not touched it, still have some small issues, but mostly working. If you want to have a look, I could post it somewhere. The only issues I have with TM2 language highlighting speed in any languages, is with files that have very long lines, but I think they improved/fixed that lately. 16:12@dockimbel just curious, why has call status on trello been downgraded to incomplete ? henrikmk 17:19@x8x: thanks, I think I have it working now. the speed issue is nearly gone for me, though I've noticed that opening big files causes slowdowns in other windows. Allan remains unconvinced, so I have to study this a bit more. I recently spent a month in a variety of different text editors, like Atom, Sublime, VIM and a few others to see if there was anything they could improve on, but I ended up back with TM2, because it simply is far above them, except in speed and window organization. x8x 18:04@henrikmk Same here, tried Atom, Sublime and Visual Studio Code, TM2 is indeed in another category. Are you using nightly updates?, Many speed improvments lately, like multi file searches, they fly now. :-) henrikmk 19:07@x8x: I don't use nightly, as I assume there's higher risk of broken builds, but I don't know if you've experienced that? jeffmaner 23:51I have just successfully compiled my red code file for Android. Then I copied the compiled output file to my Android phone. And now I'm a complete n00b again. How do I run this on my phone? My naive hope was to tap the file in a file manager, possibly specify that the phone should run it as an application, and magically see the generated output in some kind of console window. I'm definitely missing something. Thursday 1st December, 2016 maximvl 00:00@jeffmaner since Red compiles to native I would guess that you just need to run terminal and type ./my-program 00:01maybe do chmod +x my-program before jeffmaner 00:24@maximvl Uh... Duh! Where is my head? Lol. Thanks. Now to get a terminal emulator up and running... dockimbel 03:49@x8x We need to decide to either integrate call as a native! or as a module. x8x 05:48@dockimbel is that just architectural decision or would there be differences in speed? 05:52@henrikmk never had issues with nightly, it's a careful team. TM2 has been labeled Beta for a long time. dockimbel 07:32@x8x No difference in speed, it's about deciding if it's part of the integrated core library or if it's an optional module. rebolek 07:36@dockimbel IMO it should be native!, it is too important to leave it just as optional. Others may feel different about it, but if the code is not too big, why move it out. dockimbel 07:40@rebolek It indeed depends on the code size, I haven't yet checked how big is the latest version. pekr 08:51@dockimbel I absolutly don't want to upset you :-) , but I am with Rebolek here. Well, my intention is not have Rebol/Command-everything-inside package, but I do remember, how I wished Rebol would have the lowest common denominator having /Library and CALL interface. Not having one by default might imo have impact on general usefulness of the Red. Just my opinion, nothing more. I know it might be difficult to find the right balance for all those things we would wish for to have inside :-) dockimbel 08:53@pekr I think you are mistaking the Red console environment with Red programs. Besides, on Android, iOS, or a future web backend, call would be useless. pekr 08:54Yes, sorry. So - I wish console to have such environments available at hand ... dockimbel 08:57You should stop looking at Red with the limitations of the Rebol interpreter or SDK. Red has a toolchain for producing a lot of different kind of executables, and this changes a lot about how optional features should be managed. planetsizecpu 12:44@rebolek @pekr + 1 better all on hand geekyi 14:12@jeffmaner did you succeed? 14:14> Yes, sorry. So - I wish console to have such environments available at hand ... This is good enough for me, call within the console maximvl 15:39@MarlburroW38_twitter how is this related to Red? greggy 18:41@maximvl hey ERIPECH 20:34Hallo guys! Is red ready for prime? I am trying to get some orientation and struggled to find the basics. There are many links to rebol examples which are not working and even the red examples are often not working, or just on an old release. Should I start using rebol (is there a lice key around) or is red already the right choice? Or do I have to wait for 1.0 for doing useful stuff. I appreciate your help BR rebolek 20:36@ERIPECH Hi! It certainly depends on your definition of *prime*, but in general, NO. 20:37It is still in alpha. It can do many things, but there are things that still has to be implemented, like GC, proper IO, etc. 20:38So, you can do many useful things with it, if you know the limits. 20:41> red examples are often not working Do you have some links to them? I wonder what examples do not work. > Should I start using rebol (is there a lice key around) First, you do not need license to use Rebol, it is free to use. Second, if you are starting with Red/Rebol, I thing that you can start with Red, it is good enough already. ERIPECH 20:42@rebolek sorry Boleslav I was not ready with my text right now - what I want to e.g: desktop application using excel like spreadsheet and graphs for the data - configuration via textfile, saving data to disk - would this be possible ? I think, but not based on available information; should i try using this chat extensively? - BR rebolek 20:46@ERIPECH > desktop application using excel like spreadsheet and graphs for the data Yes, this is possible. But you have to write the spreadsheet and graphs yourself. It would be fun to do if you are into that kind of stuff ;) > configuration via textfile, saving data to disk That is much easier, basically just load and save and some code around it. ERIPECH 20:47@rebolek - thanks; there ist a spreadsheet around gist.github.com/dockimbel/08e40961e5f7836d29591dd06d1a56f9 which is not working in the new release because of this rejoin error - is there a workaround? or how to overcome such sort of issues? rebolek 20:52@ERIPECH Ja, it throws an error, there’s certainly a workaround. 20:53I will take a look at it, but not today, can you check in tomorrow? ERIPECH 20:54@rebolek of course - many thanks! BR rebolek 20:55@ERIPECH You’re welcome, I would love to fix it. I am just really tired today ;) Friday 2nd December, 2016 dockimbel 03:16@ERIPECH There was a change in the behavior of to action on words. In order to make the picosheet script work, you just need to replace #" " in it by #"_". jeffmaner 13:15@geekyi Thanks for asking. Sorry for my tardy response. I have not succeeded yet. I installed Termux and Jack Palevich's Android Terminal Emulator on my BlackBerry PRIV. I've attempted chmod 555 myapp in both emulators, and they both complain Operation not permitted. I was researching that, finding nothing, when work stood up and demanded the rest of my day. geekyi 13:17@jeffmaner that's ok. Last time I tried, I had a problem because libcurl was required jeffmaner 13:21@geekyi Ach. Bummer. You were able to get your emulator to chmod +x your app, though? I love Linux, the command line, all that stuff. But I hate the way this silly problem makes me feel completely inept. Meh. I'll keep trying. ERIPECH 16:16@dockimbel - many thanks for your help (now working), now I can try to figure whats going on ... @rebolek - what does it mean "write graphs yourself"? JacobGood1 16:16Since browsers are essentially embedded operating systems, would a goal for Red be to be able to run vid(view whatever it is called) in the browser? 16:17eschewing html, css, would be so nice... I might actually build a website for once in my life rebolek 16:39@ERIPECH you can draw graphs using Draw geekyi 17:03> should i try using this chat extensively? - BR @ERIPECH https://gitter.im/red/red/welcome is best for newbie questions, and https://gitter.im/red/help for posting code dockimbel 17:30http://www.red-lang.org/2016/12/entering-world-of-macros.html 17:30I can't find my Reddit password for now, so feel free to post it there. dander 17:35Great! I look forward to reading through this. By the way, if you need a good password manager, I recommend LastPass 18:03> The preprocessing (including macro-time) happens between load and compile phases. It has been designed as a separate phase, with a separate execution context (to the extent allowed by current Red semantics, until we get the module! type implemented) This took a bit of mental stretching for me. Am I understanding this correctly? A special execution context is created for processing the macro to keep its "namespace" (for lack of a better term) isolated from the surrounding code. And that once module! support has been added, that context won't be necessary because that isolation will be provided by the module? dockimbel 18:32@dander That's correct, actually the module! datatype will offer a stronger isolation than regular context (like no way to leak any word and a separate symbol table). rebolek 19:43@dander +1 for LastPass pekr 19:44we use keepass here ... rebolek 19:47@pekr why not, any password manager is better than none :) JacobGood1 19:50Welp, a rebol dialect now has macros, this ought to allow it to score even better on that expression metric test =)... http://dberkholz-media.redmonk.com/dberkholz/files/2013/03/expressiveness_weighted2.png Saturday 3th December, 2016 dockimbel 04:08@JacobGood1 Indeed. ;-) 09:49I've posted on Reddit, please upvote: https://www.reddit.com/r/programming/comments/5g8wg9/macros_the_red_language_way/ JacobGood1 14:49made some comments and up voted, I tried to reply to the language comparison question, I hope I correctly interpreted the essence of red 14:54I would actually prefer that red/rebol funcs be called procs, short for procedure, because I am tired of people using the mathematical name in place of procedures/routines 15:00proc [] [] if anyone likes rpgs this is an exciting idea =) dockimbel 16:16@JacobGood1 Thank you for your help, much appreciated. 16:19About the terminology, in programming languages, "procedure" usually designates a routine which does not return a value, while "function" does return one. See [those](http://stackoverflow.com/questions/721090/what-is-the-difference-between-a-function-and-a-procedure) [links](http://softwareengineering.stackexchange.com/questions/20909/method-vs-function-vs-procedure). In Redbol, all routines return a value (even if it an unset!), so the "function" word usage fits it. JacobGood1 16:24I just like to complain about it because of the confusion with the mathematical definition of a function rebolek 20:36upvoted, it is pretty high (5th position right here, right now) gearss 23:24is there an *.apk that can install Red on android phone? so that user can double-click a *.red file to run it. geekyi 23:56@gearss .apk support is in another branch.. which I've not personally tried yet 23:56Might be still incomplete Sunday 4th December, 2016 metaperl 00:05Hello, is there a short version of ToDoMVC in Red? 00:05I thought I saw one, but I didnt think it could be that short 00:06The 3rd example on this link is a todo app - http://re-bol.com/short_rebol_examples.r greggirwin 01:38From View docs: https://doc.red-lang.org/gui/View.html view [ list: text-list data ["John" "Bob" "Alice"] button "Add" [append list/data "Sue"] button "Change" [lowercase list/data/1] ] maximvl 09:06@greggirwin I think it should be lowercase list/data/(list/selected), however it always changes first element for me geekyi 10:07Trying to compile a program for windows fails for me right now with latest source and last prebuilt binary. Cross compiling to Darwin or Android works 10:08 >> do/args %red.r "-r -t Windows %tests/hello.red" [...] Target: Windows Compiling to native code... *** Compilation Error: invalid #call function name: face? *** in file: %/C/Users/HM/Documents/GitHub/red/red/tests/hello.red *** near: [] 10:09Tried with and without -r, -u 10:12MAybe a problem with https://github.com/red/red/commit/3175be554e4901234f49d1f817ed8e406937b582 ? 10:46What's the best way to do a git bisect of red source? dockimbel 12:06@geekyi Is *compiling* failing or *cross-compiling*? If the latter, what is the host platform? geekyi 12:07Same platform, windows 10 64-bit. -t msdos works @dockimbel 12:12Actually omitting -t works, it only fails on -t Windows. Cross compiling to anything else works 12:12(Omitting -t compiles to msdos by default tho) dockimbel 12:28@geekyi The cause is the missing View module declaration in the header, when compiling to a non-console target like Windows. We could force the View module in for such targets, if the user doesn't provide it, or just output a relevant error message. geekyi 12:30Ah, I see. There is no such distinction in OSX, Android and Linux, so I wasn't getting the error there dockimbel 12:33We'll have such distinct CLI vs GUI targets for all platforms where it makes sense (OSX, Android,...), but not Linux. OSX: darwin/macOS (CLI vs bundled app), Android: android/APK. geekyi 12:35I think the best way for now is to show an error. Fail fast than do automagic correction 12:42The only distinction right now between CLI vs GUI is inclusion of VIew engine, right? 12:44I'm thinking what if the user provides Needs View in header; and then specifies -t msdos. Should probably error out as well (instead of going the route of not including View module then) 12:45Probably overthinking this.. dockimbel 16:30@geekyi CLI vs GUI: it also changes a few low-level features, like where the standard output should be sent to. MSDOS target + View module is fine, as it redirects all output to the DOS shell, which can be very useful. greggirwin 17:31@maximvl That might be a bug. The face refreshes, but always draws the changed data into the first slow. maximvl 17:44@greggirwin should I report it? x8x 18:39are true? and false? supposed to be part of core? I can see them in %libRedRT-include.red: logic: context [ #import [libRedRT-file stdcall [ false?: "red/logic/false?" [return: [logic!]] true?: "red/logic/true?" [return: [logic!]] push: "red/logic/push" [value [logic!] return: [red-logic!]] get: "red/logic/get" [value [cell!] return: [logic!]] box: "red/logic/box" [value [logic!] return: [red-logic!]] ]] ] rebolek 19:15@x8x Do they have to be? I se no need for them. if something [...]and unless something [...] is enough IMO. Skrylar 21:28@dockimbel you madman you actually did it. you made macros :o 21:31@x8x I'm only aware of a scarce few text editors that can integrate with libraries. Textadept and Sublime can, although that's by abusing their scripting languages. 21:31TextMate doesn't run an interpreter IIRC so you can't really hook it like that. 21:35My guess is you would need a customized editor engine to run Red properly. Probably something like LPeg (Lua's PEG parser) with the ability to insert arbitrary sidechains. Like TextMate (and derivatives) understand scope, so they do understand the concept of "this block begins a new dialect." So you'd need something like that, and not the old stuff (vim/emacs are great but their regular ex. based lexers are insufficient for some of the truly crazy things) 21:35Then you'd just have a simplified peg (red's parse could handle that i'm sure) that someone who writes a dialect supplies 21:37The simplified one doesn't need any real logic, it just has to show an example of how the dialect works. So the editor can read it and go "Oh, let me suggest these verbs for you." kind of thing x8x 23:44@rebolek pick [1 2] none *** Script Error: pick does not allow none! for its index argument *** Where: pick pick [1 2] true? none ; 2 23:53@dockimbel Just curious if date! datatype is planned somewhere in the near future :-) 23:54Also curious about save/all, Thanks! Monday 5th December, 2016 dockimbel 00:43@Skrylar Hahaha, hopefully for the best. ;-) 00:45@x8x That is part of the internal Red runtime library API, those are low-level helper functions for compiled Red code. 00:46@x8x pick [1 2] to logic! none greggirwin 03:14@maximvl ask @qtxie if it's worth reporting or if we're just not clear on the behavior. qtxie 04:02@maximvl Yes. It's a bug. Please report it. pekr 06:21@dockimbel @qtxie - surprised by the Prototype .NET bridge. Is that going to be the same level as JAVA one, allowing to instantiate objects, call methods, etc? Or just some simplified one, to allow specific functionality? JenniferLee520 06:26Red .NET bridge! Bravo! dockimbel 07:00It's a pretty advanced prototype, you can instantiate objects, call methods (including static ones) and get/set properties. pekr 07:02Thanks, sounds cool! Did not expect it come before 1.0, so nice surprise :-) dockimbel 07:06It's a toy project of @qtxie ;-) The demo code loads a .Net SVG library, then call it to load/convert a SVG file to XAML, then uses WPF to display it. rebolek 07:21@x8x I see. pekr 07:22Well, a toy project ... might be useful for interfacing in corporate environments, so maybe we are talking enterprise rather than toy :-) dockimbel 07:29Actually, this bridge uses Red as master and .Net as slave. For a real integration with existing .Net-based applications, you would want the converse, so .Net as master, loading libRed. asampal 07:55@dockimbel in your macros post, it might be worth making a little note when using maximum-of that this won't run in the interpreter. You do mention what functions can be used there, lower down, but for people who aren't too familiar with the environment and attempt to paste into the console, it might not be clear why the sample macro you give doesn't find the maximum-of function. Putting a note that, as is, it won't run in the interpreter right by the example would help. qtxie 08:06There are two limitations in current implementation (Using COM to interop with .NET), it cannot create delegate and cannot use enum (Maybe it's possible, just I don't figure it out). The advantage is it's not rely on third party libraries. A fully functional brigde need to use VC++ in /clr mode, create a DLL to expose the native functions we need, like [this one](https://github.com/wnxd/UseDotNet/tree/master/UseDotNet). This DLL is mixed with native code and CIL (.NET bytecode), so maybe it can be used to bind with .NET Core (even on Linux, Mac). Using this DLL we can easily create any .NET datatypes from Red side, using libRed, .NET can create red values, so we can make the bridge completed. HeinzSchmitt12_twitter 10:28Question: I want to do image processing for medical images (quality assurance stuff) - using regions, Pixel calculations, profiles, histograms ....; how far can I use red for this (or use rebol2 or 3 instead?)? - BR Heinz rebolek 10:34@HeinzSchmitt12_twitter see Francois Jouen work: https://twitter.com/fjephe maximvl 10:43@rebolek it is collapsible at least rebolek 10:45@maximvl Thanks, it should be default. ifgem 12:26@dockimbel why doesn't it work? Is it a bug? last-pos: none parse-trace: func [ {Wrapper for parse/trace using the default event processor} input [series!] rules [block!] return: [logic! block!] ][ last-pos: input parse/trace input rules :on-parse-event ] on-parse-event: func [ event [word!] {Trace events: push, pop, fetch, match, iterate, paren, end} match? [logic!] "Result of last matching operation" rule [block!] "Current rule at current position" input [series!] "Input series at next position to match" stack [block!] "Internal parse rules stack" return: [logic!] {TRUE: continue parsing, FALSE: stop and exit parsing} ][ if event = 'match [ either match? [ print copy/part last-pos input ][ print "todo:)" ] ] true ] parse-trace "wow" ["wow"] *** Script Error: invalid type specifier: [event [word!] match? [logic!] rule [block!] input [series!] stack [block!] return: [logic!]] *** Where: parse on: func [e m r i s] [] parse/trace "wow" ["wow"] :on *** Script Error: invalid type specifier: [event [word!] match? [logic!] rule [block!] input [series!] stack [block!] return: [logic!]] *** Where: parse HeinzSchmitt12_twitter 13:06@rebolek Where can I find the documentation for such image processing stuff? PeterWAWood 13:34@HeinzSchmitt12_twitter Try [Computer Vision with Red](https://github.com/ldci/redCV) HeinzSchmitt12_twitter 13:52@PeterWAWood thx man - this is hard stuff; lets see if I could deal with that dockimbel 15:04@ifgem Looking at it... 15:48@ifgem Pushed a fix. greggirwin 16:10Thanks for reporting that @ifgem, I had seen the same thing. Tuesday 6th December, 2016 dockimbel 15:46We got on HackerNews now, please upvote ;-) https://news.ycombinator.com/item?id=13113646 btiffin 21:38Hello all, and congrats @dockimbel and @qtxie on the new 6.1 master. Works the beauty. I don't have a Reddit account, but just read through the latest. Can someone go on there and rebut (perhaps refute) the complaints by dlyund that self hosted Red bootstrapping is taking too long so there must be problems, "Ours took one dev a week to cook up the pudding". Someone asks to see it. "Oh, we'll do a public release in a year or two, the pudding isn't ready yet". Me thinks there are ulterior motives to the complaint. Wednesday 7th December, 2016 greggirwin 06:36Hey Brian! Probably best to let sleeping dogs lie there at this point. At least I doubt it would be constructive. dockimbel 06:52@btiffin Hi Brian, nice to see you around! 06:56@greggirwin Too late ;-) I wrote a couple of replies to, at least, debunk some false statements made about Red and avoid them propagating. It's funny how some people looking at Red from 10'000 ft, not even participating, think they have a strong and definitive understanding. btiffin 08:05Nicely defended. Haters can hate on, and the love will just keep giving. Ah, the love. :-) Especially once we can LOAD/ALL ;-) Word smiths and non-techies will love a block/set/quick'n'easy data muncher that pops out that one magic tally while they sit at a console pondering the fate of humanity and where the cheapest house is. Then giggle with a "take that programmers, see what I just did done". Always a pleasure to see the new blog entries, @dockimbel, and still amazed at what is being packed in the box. Hmm, it is even a box? More like a tardis. And hey @greggirwin, always nice to read your level headed sanity coming from the intertubes. Have good, make well. dockimbel 09:37@btiffin A Tardis it is ("bigger on the inside"), we should expose an API for the time-travelling engine soon. ;-) geekyi 10:31Just found this today: http://www.qemu-advent-calendar.org/2016/ For the second day, there is syllable OS, it is a rebol based Operating System *tldr;* a list of lightweight qemu images to try on everyday of december Qemu is a pretty lightweight (~34mb on windows) cross-platform virtualization engine 10:33Amazing how a few years ago we had functional OSes of just a few KBs dockimbel 11:06@geekyi You might be interested to know that SyllableOS maintainer is Kaj de Vos, who contributed a lot to Red a few years ago (most of the low-level bindings on our Contribution page are his work). ;-) pekr 11:10@dockimbel are you still in contact with Kaj? He somehow disappeared even from AltME? maximvl 11:10his name sounds Dutch, I wonder if he lives in the Netherlands dockimbel 11:10Not since more than a year. 11:11@maximvl Good guess. I went to visit him a few times there, mostly attending conferences. maximvl 11:14@dockimbel oh nice, since I moved to Amsterdam recently it would be nice to meet with you guys here :) 11:16I never heard of Syllable OS, so more interesting stuff to read and learn dockimbel 11:31@maximvl Lucky you. ;-) Kaj lives about an hour from Amsterdam. I went once at the [CWI](https://www.cwi.nl/) in Amsterdam to make a Red presentation a few years ago. henrikmk 18:12@btiffin hi, it's good to hear from you again :-) keesse 20:49 As far as I know, Kaj lives in Amersfoort Monday 12nd December, 2016 endo64 22:17Is this a regression? red>> do %test.red *** Access Error: cannot open: %/C/red/build/bin/test.red/ There is a test.red file and it works by red.exe test.red but not with do. Please note that there is a trailing slash at the end. Tuesday 13th December, 2016 geekyi 01:03@endo64 #2156 ? qtxie 01:41@endo64 Do you have a way to reproduce this issue? endo64 07:09I think #2156 is the same issue. I just tested on my work PC (Win8 x64) it worked. But at home (Win10 x64) it did not. I'll check tonight. dockimbel 11:49FYI, libRed branch has just been merged with master. The API still needs some little extra work, though, it is already usable. You can build libRed using: red build libRed And you can have a look at this [test file](https://github.com/red/red/blob/master/tests/libRed-test.c) for the API (it is a *test* file, not a *demo*). 11:49To build it from sources: rebol -s red.r -r libRed/libRed.r 11:50The API documentation and demos should come soon. 11:51It has been tested on the 3 big platforms. 11:53You can use VID/View from it too (e.g. using C): #include "red.h" int main() { redOpen(); redDo("view [text 24 {Hello from libRed!}]"); redClose(); return(0); } rebolek 11:54:clap: Zamlox 11:54nice work :+1: 11:55where is located "red.h" ? dockimbel 11:56libRed/ folder. It's missing some entries though. Zamlox 11:56ok dockimbel 11:57When using red build libRed, it will extract locally the libRed/ folder for you. rcqls 12:38@dockimbel Nice :+1: ! You meant rebol -s red.r -r libRed/libRed.red instead of rebol -s red.r -r libRed/libRed.r. dockimbel 12:39Oops, right libRed.red, not libRed.r. ;-) rcqls 12:58@dockimbel The example above with VID/View code is it supposed to work on macOS too? I managed to compile a simple print but not the above example as is (even though it compiles). dockimbel 13:00@rcqls View on Mac is a work in progress on a separate branch. We should upgrade that branch with the latest changes in master in the next days. rcqls 13:04@dockimbel Thanks! Nice to see red embedded in C executable. endo64 13:23Great work! greggirwin 16:50Go Team Red! dander 18:44:clap: jocko-jc 19:24nice achievment ! endo64 21:37> @endo64 Do you have a way to reproduce this issue? @qtxie I encapped the latest version and do %test.red doesn't give access error anymore. 22:01@dockimbel @qtxie I think latest build breaks something on GUI side, This was working just before I build the latest version: p: reduce [ make face! [ type: 'base size: 96x40 offset: 0x0 ] ] win: layout [ button "test" ] append win/pane p view win Now it gets *** View Error: CreateWindowEx failed! test\vid.red also gives the same error. 22:07I think it is about transparency: view [ base 255.0.0.50 ; CreateWindowEx failed! base 255.0.0 ; no error ] qtxie 23:20@endo64 Which version of Windows are you using? 23:20It's working fine on my Win7 64bit in gui-console. geekyi 23:36@endo64 @qtxie can reproduce on win 10 64bit Wednesday 14th December, 2016 qtxie 02:30@geekyi @endo64 Thanks. I'll push a fix soon. endo64 08:59@qtxie Error happens on Win10 x64, it works on Win8.1 x64. 08:59Same error if color is none qtxie 08:59@endo64 I have pushed a fix, should be fixed now. meijeru 13:05Am I mistaken, or has that fix not come through? I see it nowhere. dockimbel 15:29@qtxie ^--- 17:21@Zamlox I have fixed the conflicting trigonometric functions names in R/S, so the system/words/ prefix should not be needed anymore in %draw.reds. Zamlox 17:46@dockimbel great ! I will update %draw.reds later. qtxie 23:42@meijeru This one: https://github.com/red/red/commit/1aaa7087fe2ae4770a5014f8e5b83a017482697f Thursday 15th December, 2016 maximvl 11:45I think something is wrong with parse 11:45 red>> parse [1] [1] *** Script Error: PARSE - invalid rule or usage of rule: 1 *** Where: parse red>> parse [1] ['1] *** Syntax Error: missing #"]" at "1] ['1]" *** Where: do 11:46 red>> parse [a 1] [s: 'a (print "after a") [number! :s |]] after a == false 11:46I would expect last one to print twice rebolek 12:48It looks to me that all three examples are working fine. maximvl 12:50@rebolek do you mean this result is expected or you have different results on your machine? rebolek 12:51@maximvl I think this result is expected. I haven’t tried to run the examples. 12:521) integer in rules is count, 2) there’s no lit-integer, 3) it can’t run twice maximvl 12:52@rebolek so parse can match literals but not numbers? rebolek 12:52@maximvl in block parsing no, at least not directly maximvl 12:52em 12:52is there a reason for that? rebolek 12:54As I said, integer in rules is count. You probably can’t have both maximvl 12:54well, literal integer is what I would expect to work, but it just breaks the parser 12:55@rebolek okey, what about last example, why shouldn't it run twice? rebolek 12:56 red>> parse [1] [set n number! if (n = 1)] == true red>> parse [2] [set n number! if (n = 1)] == false 12:56@maximvl this is one way to match integer value 12:57@maximvl why should it run twice? there is no reason to go back. maximvl 12:57@rebolek isn't :s a reason? rebolek 12:58:s stores position in *source*, not in *rules* maximvl 12:58em what rebolek 12:58so you rewind the source with s:, but not the rules maximvl 12:59>:word : resume input at the position referenced by the word. rebolek 12:59 red>> parse [1 2 3 4] [skip p: (print first p)] 2 maximvl 13:00@rebolek ok, then why doesn't this one work? red>> parse [a 1] [2 [s: 'a (print "after a") [number! :s |]]] after a == false rebolek 13:00oh, sorry, my bad. s: stores, :s resumes xqlab 13:02red>> parse [1] [quote 1] == true rebolek 13:02@xqlab thanks, much easier solution :) maximvl 13:03this is not a solution, I would say it's a bug 13:03 red>> (quote a) = 'a == true rebolek 13:03@maximvl hmm, this is more interesting. Here it probably should print "after a" twice. maximvl 13:03 red>> '1 *** Syntax Error: invalid value at "'1" *** Where: do red>> quote 1 == 1 rebolek 13:04@maximvl it’s not a bug, it’s more a limitation of Red’s type system. lit- is not universal, there are only lit-word!s. maximvl 13:04since quote is ' I would expect it to work on all literals 13:05@rebolek doesn't it return literal value of argument? 13:06if it does - literal value of 1 is 1 13:06this is exactly what quote returns rebolek 13:07' denotes lit-word!. It is not some universal syntactic sugar. 13:07You may argue that it should be, but that’s different thing. maximvl 13:08okey, this is something I'd like @dockimbel to comment on 13:08in common lisps ' is a reader-macro which transforms 'thing into (quote thing) 13:09so both are the same, it's just a shortcut rebolek 13:10In Rebol&Red, lit-word! is a datatype and no other types than words have literal representation. maximvl 13:13@rebolek but these things don't intersect - you can still have only lit words and ' working on other values rebolek 13:14I’m not saying you can’t, I am just describing how it is now :) maximvl 13:17my arguments towards change: * you can use it with all literal values in same way you use it for lit-words * quote and ' will be synonyms dockimbel 14:07@maximvl > since quote is ' I would expect it to work on all literals It is not. See source quote. maximvl 14:08@dockimbel hm, ok, but is there any reason why ' can't do the same? dockimbel 14:10@maximvl > in common lisps ' is a reader-macro which transforms 'thing into (quote thing) so both are the same, it's just a shortcut It is very different in Red. ' is part of literal forms of some datatypes, it is not a syntactic sugar. 15:07Quoting has been integrated deeply into the Rebol language through dedicated first-class datatypes (block! vs paren!, lit-word! vs word!, lit-path! vs path!). Beyond those types, the syntactic "quoting" makes no sense, as the values either evaluate to themselves, or denote different semantics (like set-word!, set-path! and any-function!). Anyway, you can always pass quoted values (regardless of their datatype) using lit-word! arguments in functions, or use quote when you need to dynamically block a value from evaluating (only useful for word!, path!, paren! and (eventually) any-function! values). maximvl 15:09@dockimbel makes sense, do you think it also makes sense to allow quoted integers for parse? 15:10oh, well, it's not only integers, it's about any loadable literal value dockimbel 15:11@maximvl Why would you want that when you already have the quote keyword to escape integers? Given how rarely it is needed to match specific integer values in Parse rules, it looks good enough to me. maximvl 15:12for now only consistancy dockimbel 15:13Consistency with what? Lisp? maximvl 15:13with the way you quote words 15:13but ok, if they are different - they are different, I'm fine with it 15:14@dockimbel do you think this is a bug? since it prints only once? red>> parse [a 1] [2 [s: 'a (print "after a") [number! :s |]]] after a == false dockimbel 15:14So you want a lit-integer! datatype? Can you define the semantics for that? maximvl 15:15lit-integer! is integer! 15:16ok, let me show you what I mean 15:16x by default replaced by it's value, and if you want x itself, you want to stop default behaviour you quote it 15:17in parse 1 by default means number of repetitions, so I assume that to stop default behaviour and get just 1 itself I should quote it 15:17at least this is how I think, maybe it's not logical at all dockimbel 15:20> x by default replaced by it's value, and if you want x itself, you want to stop default behaviour you quote it That's how you would describe it in Lisp, but in Red, it would be: "The x word evaluates to the value it references or unset!. The 'x lit-word evaluates to the x word." There is no "default behavior", each datatype has specific semantics related to it. Word is not lit-word (you don't have such distinction in Lisp, as you don't have a first-class quoted word IIRC). 15:23> in parse 1 by default means number of repetitions In Parse dialect, integers denote a number of repetitions of the following rule. That is one of the semantic rules of Parse dialect. There is no "by default". maximvl 15:23there are no lit-words in lisp, you are right 15:23maybe I'm trying to apply my lisp experience too much to Redbol world dockimbel 15:24You can look at it as Lisp quotes migrating to the datatypes themselves in Redbol. The quoting has been "applied by design", there is no need to add another syntactic layer on that. The Parse case with integers is specific to Parse dialect and solved specifically with the quote Parse keyword. maximvl 15:29@dockimbel I'm trying to understand things and this confuses me: red>> first ['x] == 'x red>> type? first ['x] == lit-word! red>> (first ['x]) = 'x; == true red>> y: 'x == x red>> type? y == word! 15:29why y is a word! and not lit-word! ? dockimbel 15:29> lit-integer! is integer! >> 1 + 2 == 3 >> '1 + '2 == 3 Good luck explaning that lit-integer a sound feature of the language to newcomers. ;-) maximvl 15:30@dockimbel ;) * (+ '1 '2 '3) 6 dockimbel 15:31> why y is a word! and not lit-word! ? Because you set y to x word and not a lit-word. You forgot that arguments are evaluated, so 'x becomes x when assigned. What you want is: red>> y: to-lit-word 'x == 'x red>> type? y == lit-word! maximvl 15:32@dockimbel fair enough, but then why does comparison evaluate to true? 15:33okay, it doesn't check for a type red>> (first ['x]) = (first [x]) == true dockimbel 15:35It evaluates to true because = operator (equal?) checks equality loosely between compatible datatypes. Use strict comparison if that's what you want: red>> (first ['x]) == 'x == false maximvl 15:35I see, a lot of things to think about, thanks for explanations :) 15:39no reason to type like this, but trick here is if you want to quote dynamic values in macro, and value can be anything 15:40so you can safely do something like ',x, so if x is a constant it will be constant in the end, or if it's symbol or expression that it will not be evaluated dockimbel 15:40In Red, you would just use lit-word arguments to fetch values withouth evaluating them. maximvl 15:42so this is how it can be used: * (defmacro test (x) `(list ',x)) TEST * (test 5) (5) * (test z) (Z) 15:43without quote the second one will fail because z is unbound dockimbel 15:44@maximvl In Redbol, you would just move the quote inside the function specification: red>> test: func ['x][x] == func ['x][x] red>> test 5 == 5 red>> test z == z 15:46@qtxie Great to have crop for images now! ;-) Such a useful feature! maximvl 15:51@dockimbel this is not exactly what happens 15:52 Red [] #macro test: func [x] [ reduce [x] ] probe test z >red test.red *** Script Error: z has no value *** Where: probe 15:52this is what I'm talking about 15:53question is how you return [z] here 16:01okey, this is interesting 16:01 red>> expand-directives [#macro test: func [x] [ reduce [x] ] test z] == [z] red>> probe [z] == [z] dockimbel 16:02reduce [x] => reduce [reduce [x]] or compose/deep [[(x)]]. maximvl 16:02why does red script fail here? 16:02everything looks fine in repl dockimbel 16:05The two versions are not the same, in the REPL, it should be: red>> do expand-directives [#macro test: func [x] [ reduce [x] ] probe test z] *** Script Error: z has no value *** Where: probe 16:06The probe should be inside the "script". maximvl 16:06@dockimbel where does the do come from? dockimbel 16:07expand-directives just does the expansion, not the evaluation. When you compile a Red script, you get expansion+evaluation. maximvl 16:07oh, after you expand it you evaluate it since it's argument for probe 16:07yeah :D dockimbel 16:07BTW, you can also use do/expand for testing if you don't need to look at the result of th expansion. maximvl 16:10 Red [] #macro test: func [x] [ reduce [:x] ] probe [test z] 16:10okey, now it's correct one 16:14exact translation is (backtick) => compose, , => (:x) and ' => [] 16:15ok, it's enough of meta-programming for today dockimbel 16:16Yes, that would be the accurate equivalent of your REPL version. geekyi 19:51@maximvl this discussion reminds me of when I tried to quote ' :D (was it to do type? ') I think I managed to do it, but don't remember how 19:55Also @dockimbel, correct me if I'm wrong, but red is already pretty powerful/expressive enough for highlevel meta-programming; and the only *really* new thing #macro introduces is performance benefits? 19:55I think you highlighted this in the blogspot, but still think there is a high chance of misunderstanding this feature 19:58That #macro isn't needed to do meta-programming "magic"; especially newcomers might get confused because lisp macros 19:58Maybe veterans too? Friday 16th December, 2016 dockimbel 01:02@geekyi That's correct, the only new thing in Red introduced by macros (and the preprocessor) is the ability to run code at compile-time, so you can improve run-time performance. JenniferLee520 07:51When will "APPLY" be supported in Red? Thanks. @dockimbel dockimbel 08:24@JenniferLee520 It needs a bit of design work as the way it works in Rebol3 is not fully satisfying. Also, we need to consider HOF naming scheme and eventually use a different name than apply. So, not this month as we are already fully booked, but we can work on it in January. endo64 08:52What does modify? I couldn't find info on R3 as well. dockimbel 09:39@endo64 Similar to set-modes from R2. In Red, it has been extended for setting any meta-data on values, like the owner flag (see examples in Red codebase). Saturday 17th December, 2016 dander 09:01In the Rebol docs there is this example, which works the same way in Red red>> sort/compare [100 101 -20 37 42 -4] func [a b][a > b] == [101 100 42 37 -4 -20] It makes me think the func definition could be replaced with :> since the sort help indicates that refinement parameter can be op!, but it doesn't work. red>> sort/compare [100 101 -20 37 42 -4] :> *** Script Error: invalid /compare argument: make op! [[{Returns TRUE if the first value is greater than the second} value1 [any-type!] value2 [any-type!]]] *** Where: sort meijeru 09:21Worth an issue? If not a bug, then at least a wish... dockimbel 11:28https://twitter.com/red_lang/status/810083882729172993 maximvl 14:59@dockimbel great, thanks for this demo! 9214 15:47@dockimbel wow! :O greggirwin 17:25Nice! Sunday 18th December, 2016 maximvl 10:34I've tried to run ballots on wine 1.9.9, interactive elements don't work and this is how it looks: http://imgur.com/a/WHZir 10:39same on 1.9.14 Monday 19th December, 2016 dockimbel 06:19@qtxie What do you think about that? Looks like layered windows are not displayed? 06:22@maximvl Is there any wine settings for switching to a post-WinXP compatibility mode? jocko-jc 06:25works nice here on win10 and osx 06:28only one point: not compatible with my antivirus (Avira) dockimbel 06:38@jocko-jc Thanks for the report. Unfortunately, Avira is one of the few AV with pretty aggressive heuristics for unknown threats. My false positive reports to them have just resulted in whitelisting the particular executable sent and no correcting their detection heuristics. qtxie 07:11@dockimbel Yes. The layered windows are not working properly on Wine. Not sure why... 07:12I'll check it when I process wine related issues. maximvl 07:48@dockimbel yes, so on XP/7 it gives me what was on screenshots, for 8/10 it fails with >fixme:dwmapi:DwmIsCompositionEnabled 0x33fc28 >fixme:d2d:d2d_factory_CreateDCRenderTarget iface 0x141660, desc 0x57e7b0, render_target 0x33f3d4 stub! geekyi 12:36@jocko-jc I'd had the same problem with Avira, which I'd been using for years. It happens like doc says. I was able to workaround before (lowering the heuristics, whitelisting) but at one point my workarounds stopped working :( Had to uninstall Avira and go with the stock microsoft antivirus (defender) jocko-jc 13:54@geekyi thanks for your advice geekyi 13:55@jocko-jc :+1: 13:58But I wonder, will this drive away others who aren't aware of this? Who simply stop when they find that their antivirus reports red.exe or gui-console.exe as a virus 14:00Most frustrating thing is I don't know the cause of it. Initially, I had thought it was due to the encapping (red.exe being stored compressed) but the AV removed the gui-console.exe files too, which AFAIK, aren't compressed 9214 14:00@geekyi yeah, fighting with my antivirus was cumbersome, in the end I've just excluded red-related folder from scanning geekyi 14:01Maybe digitally signing would help? planetsizecpu 17:41@jocko-jc @geekyi @dockimbel The same for avast dockimbel 20:07@geekyi Maybe, yes. Tuesday 20th December, 2016 mikeparr 16:57A lot of new words (including types) have just been uploaded to the Red-by-Example site. Also, I want to mention that @Arie, who created the site and the Red software to generate it, has passed over the main running of the site to me. It is a pleasure to work with him. Suggestions on the site are very welcome. [link](http://www.red-by-example.org/) 9214 18:38@mikeparr :clap: very nice refference greggirwin 18:58Thanks for the update Mike. Wednesday 21st December, 2016 asampal 07:30@mikeparr , I think I might have suggested this before, but it seems to me that the text "Category:" and "Red word:" should not prefix every entry in the respective sections. As it is, I find that they dominate the lines they're on, being large and right at the start. They make it harder to see the intended text on these lines and they just seem redundant being repeated for every entry. It would be better, IMO, to indicate that an entry is part of these sections with some lighter-weight, smaller text that follows the main text you want to be looking at. Another possibility would be to omit the text "Category:" and "Red word:" except for right at the start of the sections, and use a very light background color to indicate the section. Also, think of the ink that could be saved! mikeparr 08:37@asampal - yes, I agree, and will look into it - thanks. pekr 14:04Noticed some work has started upon the Direct2D Draw backend? qtxie 14:15@pekr Yes. But will just implement the features I need for now. (mainly for drawing text) ;-) pekr 14:17OK ... the flicker of the base scrolling is still not going to be easily fixable, right? 14:17Any improvement, is simply an improvement, so glad that those things are coming ... asampal 18:33@qtxie did you say some time ago that a Direct2D backend would be needed for creating UWP apps in Windows? JacobGood1 21:37will the direct2d implementation take advantage of any of the windows 10 updates? https://msdn.microsoft.com/en-us/library/windows/desktop/hh802478(v=vs.85).aspx Thursday 22nd December, 2016 qtxie 00:53@asampal Nope. For UWP apps, we just need to find a way to call the WinRT APIs.(through .Net bridge?) 00:53@JacobGood1 Yes. of course. :smile: JacobGood1 04:55i did not know how much of a concern legacy would be geekyi 20:07Find of the day [theorymaker](http://theorymaker.info/) A versatile online diagram maker. ~~bit like~~ inspired by graphViz (and using the same engine?) for those familiar. DIagrams node graph like things Friday 23th December, 2016 endo64 22:00Changing a font property gives *** Script Error: path none is not valid for none! type *** Where: if error if font used in a draw block: fnt: make font! [name: "Arial" size: 24] view [ b: base 300x300 draw [font fnt text 0x0 "TEST"] button "Test" [ fnt/size: 12 ;error ] ] 22:01If font is not used in a draw block then no error appears. Changing any property gives error, not just size. 22:04Error happens inside the update-font-faces function in on-change* event of font. 22:08 update-font-faces: func [parent [block! none!] /local f ][ if block? parent [ foreach f parent [ if f/state [ ; <<<<<< parent is [none] hence f is none, f/state gives error system/reactivity/check/only f 'font f/state/2: f/state/2 or 524288 show f ] ] ] ] I think the line should be if all [f f/state] 22:25Other issues with font are: Changing a font property doesn't reflect to face even if I call show. A new font object is created for each face. fnt: make font! [name: "Arial" size: 24 color: red] view [ b: base 300x300 font fnt "TEST" draw [font fnt text 0x0 "TEST"] [] button "Test" [ fnt/size: 12 ; <<< no refresh probe b/font/size ; <<< this is different than fnt/size show b ; <<< no refresh even with this ; append last b/draw "." ; <<< any of these two lines makes face refresh and font change is visible ; append b/text "." ] ] @qtxie Could you please check above font issues? Saturday 24th December, 2016 qtxie 02:08@endo64 Yes. I have fixed one of the two issues. See: https://github.com/red/red/issues/2378 02:11> A new font object is created for each face. I'm not sure whether it's a design choice in VID or a bug. I have recorded this issue in here: https://github.com/red/red/issues/2379 02:16As a workaround, you can set the font after created the window instead of set it in VID. fnt: make font! [name: "Arial" size: 24 color: red] win: layout [ b: base 300x300 "TEST" draw [font fnt text 0x0 "TEST"] [] button "Test" [ fnt/size: 12 probe b/font/size ] ] b/font: fnt view win endo64 08:16Thank you @qtxie it works now. (Win10 x64) Monday 26th December, 2016 endo64 06:55> > I'm not sure whether it's a design choice in VID or a bug. I have recorded this issue in here: https://github.com/red/red/issues/2379 I think it is design choice, because VID can apply (merge) other settings to the given font object without changing the original font which is correct way, otherwise it wouldn't be useful at all. fnt: make font! [name: "Arial" size: 24 color: red] view [t: text "Test" font fnt font-size 12] ; text size will be 12 instead of 24 but fnt/size is still 24 07:04But! There is a bug in VID's merging font settings, size and color doesn't overwrite the old value: f1: make font! [name: "Arial" size: 24 color: red] view [f2: text "Test" font f1 font-color blue font-size 22] ? f2/font size block! [24 22] color block! [255.0.0 0.0.255] view [f3: text "Test" font f2/font font-color green font-size 20] ? f3/font size block! [24 22 20] color block! [255.0.0 0.0.255 0.255.0] 08:15I opened a ticket for it #2380 meijeru 09:33I hinted at a resolution, see comment to that issue. MPrieto88011_twitter 18:52Hi guys, I am new to Red. I have a background in other programming languages (Python, Xojo, PHP, Javascript). I saw the roadmap for Red and I immediately became interested. I will be studying hard to get to a decent leve where I can hopefully contribute to the development of Red. 9214 18:57@MPrieto88011_twitter welcome! greggirwin 19:18Welcome @MPrieto88011_twitter. Red can be quite different, even if things look similar on the surface. Don't be afraid to ask questions and we'll help to get you started. Tuesday 27th December, 2016 endo64 23:03@qtxie Can you please check the below code: If a text in a draw block points to a string in the face object itself, changes on the string doesn't refresh the face even if I use show. If the string is at outside of the face (put s: "test" somewhere and change self/extra to s in draw block), then it works. f: make face! [ type: 'base extra: "test" ;<<< this is my string size: 100x100 offset: 20x120 color: red draw: compose [ text 10x10 (self/extra) ;<<< this points to same string in extra field ] ] win: layout [ size 300x300 button "ok" [ ;*** change the string in draw block should be shown on face probe append probe last f/draw random 9 show [win f] ;<<< even this doesn't refresh the face ] button "show" [ probe f/extra ; these both change but face didn't get refreshed probe f/draw ] ] append win/pane f view win Wednesday 28th December, 2016 qtxie 12:54@endo64 A value in Red can only have one owner for now, and it won't change after it's set. (Unless you manully change it by modify function) In this case, the string "test" is bind to the extra field in the face. When changing it, the view engine will know that the extra field is changed. But in current implementation, the view engine will just ignore it and do nothing. 12:55FYI, the view engine will ignore changes in extra and state fields in face! object. maximvl 12:56@qtxie what is this "owner" concept? 12:56does it also come from Rebol? pekr 12:58no, it does not ... maximvl 12:58there is ownership system page in Red docs, but it's empty =) qtxie 12:59@maximvl Search ownership in this blog entry. http://www.red-lang.org/2016/03/060-red-gui-system.html maximvl 12:59@qtxie I see, gonna check out, thanks! pekr 13:00http://www.red-lang.org/2016/03/060-red-gui-system.html endo64 13:00Thank you for the explanation @qtxie pekr 13:00there is some info in the above link, maybe Object chapter might contain some too .... qtxie 13:03@endo64 You're welcome. @maximvl The ownership system is experimental, so it's not well documented. maximvl 13:04but it's still interesting to know what ideas are there endo64 13:21@maximvl There is a good explanation and an example usage in above link, check it out. maximvl 14:10autosorted list of integers 14:10in 10 lines, wonderful 14:11can't wait for 1.0 and documentation :D 9214 16:57@maximvl the whole world will be ours :smiling_imp: 17:08by the way, just remembered Forth haiku project, should be friggin' awesome to organize something like that in Red (I'm pretty sure it's capable of doing such things) http://forthsalon.appspot.com/haiku-about greggirwin 18:47Yes, very doable in Red. maximvl 18:57@9214 looks nice, good exercise :muscle: 21:35ok, I wrote base gui code to emulate this thing, but its *terribly* slow 21:35https://gist.github.com/maximvl/81f31f26b49a7a3a5891b9a63f47171a 21:35I would appreciate some comments on what makes it so slow and how to deal with it 21:37basically if you try to type few letters in input area you will see draw pane blinking because it can't keep up with refreshing 21:38code is based on clock demo Thursday 29th December, 2016 endo64 06:53You could try with system/view/auto-sync?: false to prevent auto refresh of View. So it doesn't refresh while you are typing. 06:57In that case you should put show to refresh you panel. Additionally, I think it would be better to use base instead of panel as panels have some refreshing problems. 07:02Ah you are creating a new layout and put into face/pane each time, it would be much better if you clear the draw block and just generate & insert the new draw block. maximvl 08:34@endo64 I see, thanks, gonna try in the evening dockimbel 14:54@maximvl If you are plotting points, you should use a image! directly. Using Draw would be too slow for that. Also, your code is doing many intermediary block allocations which could be avoided. It should be fast enough when painting on a small image directly, if not, dropping to R/S for the painting loop will bring you back realtime performances. greggirwin 18:59@maximvl, great to see that a quick v1 of it in under 100 lines. maximvl 19:25@greggirwin it could be better, I'm not yet that good with Red ) 19:26@dockimbel thanks, i'll try that 19:43wow, there is very interesting image behaviour on wine 19:46ok, I think it's better to report an issue than paste everything here ) Friday 30th December, 2016 luis-rj 03:42Hi !, is it possible to pass binary data from red to red/system ? PeterWAWood 04:07It is possible to pass data from red to red/system. All data in Red programs is loaded as Red values (each Red datatype! having its own format). 04:09The easy values to pass from Red to Red/System are of the integer!, float! and logic! types as the compiler automatically "unloads" the values: Red [] p: routine [int [integer!]][ print ["The integer is " int lf] ] p 1 p 200 pl: routine [l [logic!]][ print ["The value is " l lf] ] pl true pl 0 = 1 pf: routine [f [float!]][ print ["The float is " f lf] ] pf 3.12345 pf 0.0000000001 luis-rj 04:28Ok, but I need to process arrays of binary! data types i.e. from read/binary %mySound.wav PeterWAWood 04:47You need to "unload" values of other datatypes by using relevant Red runtime api functions. (These are not yet documented in the current alpha version). When accessing runtime functions, you need to compile with the -r command line argument (or build a version of LibRedRT including the functions that you wish to call.) Here's an example of unloading a Red string to an UTF-8 string: Red [] s: routine [ str [string!] /local len [integer!] ][ len: -1 ;; Convert the whole string print [unicode/to-utf8 str :len lf] ] s "a string" 04:56The binary! datatype in Red is simply a series of uninterpreted bytes. When you say "I need to process arrays of binary! types", do you want to process arrays of bytes? luis-rj 05:05Yes, array of bytes. I get i.e. #{5249464686A35C025741564562... from read/binary PeterWAWood 05:40The rs-abs-at function gives an easy way to get at each byte in a binary! value. It returns an integer: Red [] bin: routine [ bin-str [binary!] /local pos [integer!] ][ print ["The first byte is " binary/rs-abs-at bin-str 0 lf] print ["The second byte is " binary/rs-abs-at bin-str 1 lf] ] bin #{0001} meijeru 08:01If you don't need (for other reasons, presumably) to work in Red/System, the same result can be obtained by simple indexing in Red. b: #{0001} b/1 ; == 0 b/2 ; == 1 maximvl 08:38@PeterWAWood does it mean just changing fun to routine makes it compilable Red/System? PeterWAWood 09:12@maximvl A routine! is the way to include Red/System code in a Red program. Routines have to be compiled with the current alpha. (It is probable that they will be JIT compilable with self-hosted Red). 09:21Routines [introduction](http://www.red-lang.org/2013/03/032-repl-release.html) maximvl 10:04@PeterWAWood I don't really get it, so routines have to be compiled, but you can write them in the file with Red code? 10:04or, from another angle, how can I have interpreted part which uses compiled R/S code? PeterWAWood 13:29@maximvl "how can I have interpreted part which uses compiled R/S code?" You can't. The Red code is compiled just as the Red/System code is compiled. maximvl 13:29@PeterWAWood wait, but I can just red script.red and it is not compiled PeterWAWood 13:31and if you red -c script.red, it will be compiled. maximvl 13:32yes, but is it possible to separate compiled part, compile it once and just use in my scripts? PeterWAWood 13:32Not yet. maximvl 13:32because compilation being quite fast still takes more time than just interpretation PeterWAWood 13:37One thing that needs to be made clear about the compilation process. The current compiler cannot compile all Red constructs to machine code. Those that it cannot are interpreted at runtime. (The runtime is included in the executable). 13:39I'm sure that the self-hosted compiler will perform better in this aspect but I believe that it will be impossible to statically compile all Red code. Hence the plans for a JIT compiler. maximvl 13:40okey, I see now meijeru 13:41What about the compiler generating a .dll that one can #import from? PeterWAWood 14:07Yes that should be possible. meijeru 14:30But I now realize that, if the #import should take place in a #system section, we are back to square one :worried: Saturday 31st December, 2016 luis-rj 02:13 02:35 > PeterWAWood 05:48@mp3 To use a similar approach, you need to find the actual address of where the binary data is being stored: Red [] bin: routine [ bin-str [binary!] /local bp [byte-ptr!] fp [pointer! [float32!]] ip [int-ptr!] s [series!] ][ s: GET_BUFFER(bin-str) bp: (as byte-ptr! s/offset) + bin-str/head fp: as pointer! [float32!] bp ip: as int-ptr! bp print ["First byte " as integer! bp/1 lf] print ["First float32 " fp/1 lf] print ["First integer " ip/1 lf] print ["Second byte " as integer! bp/2 lf] print ["Second float32 " fp/2 lf] print ["Second integer " ip/2 lf] ;; a little faster if speed is essential print ["First byte " as integer! bp/value lf] print ["First float32 " fp/value lf] print ["First integer " ip/value lf] bp: bp + 1 fp: fp + 1 ip: ip + 1 print ["Second byte " as integer! bp/value lf] print ["Second float32 " fp/value lf] print ["Second integer " ip/value lf] ] bin #{0100000002000000} mikeparr 10:19@asampal - could you take a look at Red-By-Example please? I took some of your suggestions on board. meijeru 13:01@mikeparr Are you the (or a) maintainer of Red-By-Example? If so, I will send you some comments on the error! entry mikeparr 17:16@meijeru Yes to both - thanks! mikeparr@live.com luis-rj 18:40Peter, you really helped me. Thanks for that!````
