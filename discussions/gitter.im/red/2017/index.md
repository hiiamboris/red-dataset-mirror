# Archived messages from: [gitter.im/red/red](/gitter.im/red/red/) from year: 2017

## Sunday 1st January, 2017

9214

[12:52](#msg5868fba5c02c1a3959d5806b):christmas\_tree: :gift: happy new year everyone!

rubricanis

[17:43](#msg58693fd19d4cc4fc5364c935)Hi everyone!

[17:45](#msg58694052af6b364a291c0a36)I would like to compile and test red but there is a rebol SDK needed. Tryin to f

[17:46](#msg58694071aa6be0472ff501ea)get it, fails. Are there other possibilities than the rebol website?

[17:49](#msg58694146aa6be0472ff50516)I get an 500 server error.

9214

[18:11](#msg58694655aa6be0472ff51b22)I don't think you need SDK to build Red from source, just a Rebol interpreter (see readme file on github)

rubricanis

[18:15](#msg5869472fc02c1a3959d6b666)Hmmm, according to https://github.com/red/red/tree/master/build I need a SDK

9214

[18:17](#msg586947c0c895451b75439917)https://github.com/red/red#running-red-from-the-sources is that what you're looking for?

rubricanis

[18:19](#msg58694816058ca96737b5ac5e)Thanks!

9214

[18:19](#msg586948297a3f79ef5dc4a8cc)np

ifgem

[20:44](#msg58696a189e6f00e74ae65c81)@rubricanis if you're on windows, you can't use rebol core to compile Red from source:). You have to use rebol view instead.

geekyi

[23:37](#msg586992c0af6b364a291d732c)@ifgem that should probably be a bug

[23:44](#msg58699471af6b364a291d776b)@rubricanis  
&gt; Hmmm, according to https://github.com/red/red/tree/master/build I need a SDK

It's a point of confusion for a lot of newcomers. It's for a particular internal feature only. Not needed for building from sources. I've wondered how the wording could be changed to remove the misunderstanding.  
&gt; FAQ: For temporary red team use only. Not needed to build or run red from sources

## Monday 2nd January, 2017

ifgem

[09:41](#msg586a20429e6f00e74ae90de0)@geekyi it's not. See #2178

endo64

[21:28](#msg586ac60f9e6f00e74aec57fc)\[!\[blob](https://files.gitter.im/red/red/uw77/thumb/blob.png)](https://files.gitter.im/red/red/uw77/blob)

[21:28](#msg586ac612aa6be0472ffc208c)`base` face's word wrap works only if the face is transparent,

```
b: make face! [
	type:		'base
	color:		red
	size:		80x80
	text:		{Lorem ipsum dolor sit amet, consectetur adipiscing elit.}
	offset:		0x0
]
view make face! [
	type: 'window
	size: 200x90
	pane: reduce [
		b
		make b [color: none offset: 90x0]
	]
]
```

## Wednesday 4th January, 2017

santoshbn

[17:53](#msg586d368f058ca96737ca4e53)Hi,

[17:53](#msg586d36b6aa6be0472f08f9e9)I am new to red, so this question might have been answered multiple times - is serial port IO available on red 0.6.1?

rebolek

[18:20](#msg586d3cd9db9cafe9183b6440)@santoshbn Welcome. No, serial port is not available yet, however, in Red/System, you can accesss OS functions to deal with serial port. It’s just harder.

geekyi

[19:04](#msg586d47517a3f79ef5dd76834)@santoshbn see also this recent \[conversation about io](https://gitter.im/red/help?at=586c808b058ca96737c62561) Also feel free to post your questions \[here](https://gitter.im/red/red/welcome)

onetom

[21:20](#msg586d670ec895451b75572905)Can't download the latest macOS binary from http://www.red-lang.org/p/download.html  
Who can help to fix it?

```
pair@sloth ~/g/r/red> curl -I http://static.red-lang.org/dl/auto/mac/red-latest.zip
HTTP/1.1 404 Not Found
Server: Cheyenne/0.9.20.dev
Date: Wed, 04 Jan 2017 21:10:49 GMT
Content-Length: 53
Content-Type: text/html
Connection: close
```

[21:21](#msg586d674b9d4cc4fc537814e7)I tried `brew install red` too, but I got:

```
pair@sloth ~/g/r/red> red
PROGRAM ERROR: Invalid encapsulated data.
```

[21:23](#msg586d67ccaf6b364a292f827c)Compiling from source failed too (on the macGUI branch):

```
>> do/args %red.r "%environment/console/console.red"
...
-=== Red Compiler 0.6.1 ===-
...
Target: Darwin

Compiling to native code...
*** Compilation Error: undefined symbol: alloc-cells
*** in file: %/Users/pair/github.com/red/red/modules/view/backends/osx/events.reds
*** at line: 28
*** near: [alloc-cells 4
    char-keys: [
        268485632 -1057030016 -520093825 63487 0 1056964608 520093824 16547640
    ]
    keycode-table: [65 83 68 70 72 71 90 88 67 86 192 66 81 87 69 82 89 84 49 50 51 52 54 53 187 57 55 189 56 48 221 79 85 219 73 80 13 76 74 222 75 186 220 188 191 78 77 190 9 32 192 8 0 27 93 91 16 20 18 17 16 18 17 0 128 110 0 106 0 107 0 12 175 174 173 111 13 0 109 129 130 187 96 97 98 99 100 101 102 103 131 104 105 0 0 0 116 117 118 114 119 120 0 122 0 124 127 125 0 121 0 123 0 126 45 36 33 46 115 35 113 34 112 37 39 40 38 0]
    make-at: func
]
```

[21:24](#msg586d67fcaa6be0472f0a4ab4)I just wanted to try that voting demo I saw in the latest blog entry :(

[21:26](#msg586d6872c895451b75573023)I tried the binary mentioned in the blog entry too, but I just got another error too:

```
pair@sloth /p/tmp> curl -O http://static.red-lang.org/tmp/red-console-osx
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100  256k  100  256k    0     0  52661      0  0:00:04  0:00:04 --:--:-- 58816
pair@sloth /p/tmp> chmod +x red-console-osx
pair@sloth /p/tmp> ./red-console-osx
fish: './red-console-osx' terminated by signal SIGKILL (Forced quit)
```

[21:30](#msg586d6979aa6be0472f0a561e)If I run `/usr/local/bin/red -> /usr/local/Caskroom/red/0.6.1/red-061` from `bash`, then it compiles the console; no `PROGRAM ERROR: Invalid encapsulated data.`...  
Interesting...

geekyi

[21:39](#msg586d6b7cc02c1a3959e9d1d6)@onetom so it works then?

[21:39](#msg586d6baac895451b755743b2)&gt; I tried the binary mentioned in the blog entry too, but I just got another error too:

```
fish: './red-console-osx' terminated by signal SIGKILL (Forced quit)
```

Actually, I think this is a known error with the fish console

onetom

[21:40](#msg586d6bcc058ca96737cbab3e)the brew version runs, but i can't try the voting demo with that and the latest download link is still broken on the download page...

geekyi

[21:40](#msg586d6bdf9d4cc4fc53782da1)https://github.com/red/red/issues/1547 \*maybe* relevant

onetom

[21:41](#msg586d6c08058ca96737cbad2f)ok, i was just about to search the github issues

geekyi

[21:41](#msg586d6c0eaa6be0472f0a647c)Should notify @dockimbel about the broken download

[21:44](#msg586d6cd3058ca96737cbb16d)@onetom btw, see the web page and download the 28-dec automated build?

[21:45](#msg586d6cfc7a3f79ef5dd84a34)No, wait.. that's 0MB for Mac.. I see

onetom

[21:46](#msg586d6d2dc02c1a3959e9d9ce)exactly, but even if it would work, that's probably not suitable for running the ballot demo

[21:47](#msg586d6d857a3f79ef5dd84d9a)but nevermind, thanks for chiming in.

geekyi

[21:54](#msg586d6f2f7a3f79ef5dd85684)@onetom but latest sources should work.. as the cI tests are working? (unless the tests were changed?) Sorry, I can only check on windows

[21:56](#msg586d6f79af6b364a292faa44)I mean \[these tests](https://travis-ci.org/red/red/builds/186471337) .. mac looks green

## Thursday 5th January, 2017

DideC

[10:28](#msg586e1fd7aa6be0472f0dcede)Someone post this very nice \[animation deconstruction article](https://martijnbrekelmans.com/generative-art/heart-deconstruction/techniques.html) in Altme. Its a javascript animation, and you can see \[the code in codepen.io here](http://codepen.io/tvolodimir/pen/wqKuJ)

[10:29](#msg586e2008aa6be0472f0dd036)Here is a first Red version, that works also in Rebol 2. Interpreted mode only at this time.  
https://gist.github.com/DideC/d58d43d3dfeddc19d7a1f980e6930313

RiVeND

[11:11](#msg586e29e59d4cc4fc537b4cb5)@DideC Nice!

rcqls

[11:21](#msg586e2c50c895451b755aa522)@onetom @dockimbel told me that the mac computer in charge of providing latest red is more or less broken. \[`https://github.com/red/Homebrew-red`](https://github.com/red/Homebrew-red) supposed to install latest red is then useless. To install last official `red` from homebrew/cask: `brew cask install red`.

maximvl

[11:49](#msg586e32e69e6f00e74afc5448)@DideC great, can't wait to try it

endo64

[14:07](#msg586e53049d4cc4fc537c1e68)@DideC Great work!

Zamlox

[14:07](#msg586e53349e6f00e74afcfba2)@DideC good work !

Oldes

[14:10](#msg586e53de7a3f79ef5ddc8bad)@dockimbel is there any libRed.dll embedding example available?

[14:11](#msg586e541f9e6f00e74afd008a)Ok.. found the libRed-test.c in tests folder so probably can use it for reference.

[14:22](#msg586e56adaf6b364a2933c081)@dockimbel btw.. .there will be something unusual in the libRed.dll as I was trying to compress it with UPX tool and it fails with Internal error, which should not happen. Not a big issue at this moment I guess.

DideC

[17:10](#msg586e7dfb9d4cc4fc537d1136)@RiVeND @maximvl @endo64 @Zamlox Thanks. Saddly it is not as beautiful as the Javascript one. I have to poke pixels in the image and so this one don't manage alpha value of the point. I have a version that compute the pixel based on the src pixel, the dst color and alpha, but it's a bit slower in interpreted mode (but works nicely).

[17:12](#msg586e7e60af6b364a293496f1)When I try to compile this script (with some small twicks to pass the compilation phase), it error out like this :

```
-=== Red Compiler 0.6.1 ===- 

Compiling E:\REBOL\RED\Tests\heart-animation-comp.red ...
...compilation time : 1487 ms

Target: windows 

Compiling to native code...
*** Compilation Error: undefined symbol: red/natives/sqrt* 
*** in file: %/E/REBOL/RED/Tests/heart-animation-comp.red 
*** in function: exec/f_the-loop
*** at line: 1 
*** near: [
    natives/sqrt* true 
    stack/unwind 
    word/set 
    stack/unwind 
    stack/reset 
    stack/mark-native ~if
]
```

[17:13](#msg586e7e9fc02c1a3959eeaf5b)I need some Guru guidelines in this area !!

maximvl

[17:49](#msg586e872aaf6b364a2934ce4e)@DideC your original script it worked without any problems on Wine, wow! there is a bug in positioning canvas, but this is subject for an issue

[17:50](#msg586e875bda229f8d5be9fee2)http://i.imgur.com/0JS1Tqd.png

pekr

[18:20](#msg586e8e76af6b364a2934f70a)@DideC `poke` on image does not support Alpha value?

DideC

[19:49](#msg586ea32eaa6be0472f1118c6)@pekr If you poke in an image with a color that has an alpha value, you get a pixel that goes tranparent (you see the background under the image). Here the desired behaviour is to "mixed" the new pixel with the one already in the image, so the need to compute this mixing in the script (pick the pixel color, do the math regarding alpha of new color, then poke the result to the image.

[19:50](#msg586ea3689d4cc4fc537de3ef)I just updated the \[Gist](https://gist.github.com/DideC/d58d43d3dfeddc19d7a1f980e6930313) with the version that handle aplha value. It looks better... but is a bit slower.

Zamlox

[20:43](#msg586eaff4da229f8d5beb0ccd)Am I missing something or it's a bug ?

```
red>> start-x: 30
== 30
red>> start-y: 30
== 30
red>> width: 150
== 150
red>> height: 100
== 100
red>> step-x: 10
== 10
red>> pattern-1-size: as-pair start-x + 4 * (width + step-x) start-y + height
== 5440x130
```

wrong value.

[20:48](#msg586eb111da229f8d5beb1800)I am wrong. I was expecting other value:

```
red>> pattern-1-size: as-pair start-x + (4 * (width + step-x)) start-y + height
== 670x130
```

My bad.

## Friday 6th January, 2017

geekyi

[06:34](#msg586f3a82aa6be0472f142d99)@Zamlox Forgot about lack of operator precedence? ;)

Zamlox

[06:35](#msg586f3a987a3f79ef5de15ab9)yep. I was bitten again :)

geekyi

[06:37](#msg586f3b41c02c1a3959f22407)I usually refactor my code so that I don't need to put `(parens)`. May or may not be more readable. Having used a forth-like helps

[06:43](#msg586f3c81af6b364a29380e51)

```
red
pattern-1-size: as-pair width + step-x * 4 + start-x  height + start-y
== 670x130
```

Zamlox

[06:50](#msg586f3e289e6f00e74a0177b4)@geekyi thanks for example, but I haven't used forth, so such syntax might not be handy for me.

dockimbel

[08:40](#msg586f580aaa6be0472f14ac62)I'm back after a long pause offline, Happy New Year to all the Red-ucers! ;-)

[08:45](#msg586f593aaf6b364a293880e9)About the Mac builds issue, we are really unlucky. We have a working Mac mini for handling the builds, but as we are hosting it in the office, we have a issue accessing it from the (real) Internet outside of China, the connection is unreliable, as we need to use a DynDNS service (we cannot have a public IP address as we need the \[ICP](https://en.wikipedia.org/wiki/ICP\_license) licence for that).

rebolek

[09:13](#msg586f5facaf6b364a29389c51)Happy New Year, Nenad!

PeterWAWood

[09:25](#msg586f62977a3f79ef5de2066e)@dockimbel Welcome back.

maximvl

[09:27](#msg586f631eaa6be0472f14e926)@Zamlox it has nothing to do with Forth syntax

DideC

[09:29](#msg586f63799d4cc4fc53812a89)Happy new (occidental) year Nenad and welcome back.  
Are you near 0.6.2 release time?

pekr

[09:30](#msg586f63a8af6b364a2938b062)@dockimbel - how was your journey to Europe (if you were there)? :-)

Zamlox

[09:32](#msg586f643cc02c1a3959f2cd22)@dockimbel Happy New Year to you too.

[09:32](#msg586f64439d4cc4fc53812e05)@maximvl ok

dockimbel

[09:37](#msg586f65529d4cc4fc5381331c)@pekr I was in Europe, yes. It was pretty busy, as usual when I travel to meet with friends &amp; family. ;-)

[09:40](#msg586f66059d4cc4fc5381367f)@DideC Not much left to do, just writing the libRed documentation, make a few examples, and process a bunch of tickets (we'll probably limit it to a week).

[09:41](#msg586f66485ffdeea723123c0e)@DideC Is your compilation error above happening both in dev mode (using libRedRT) and release mode?

DideC

[09:49](#msg586f68195ffdeea7231244f1)@dockimbel Same in release mode (-r).  
By the way, maybe adding the current compilation mode in the output texts (like target) would be helpfull (no need to ask each time).

dockimbel

[09:50](#msg586f686ada229f8d5bee7270)Actually, you get an extra "Using libRedRT..." extra line when in dev mode. I just remembered it now. ;-)

DideC

[09:55](#msg586f6978da229f8d5bee76fc)Yes, I mean that printing the command line arguments in the output would be the simpler. Because the command is recorded in my editor : I just click a button, so I don't type it and can't simply report it when there is a problem (I evn don't see it myself).  
Probably same for others here. Something (more) to think about

meijeru

[10:11](#msg586f6d5bda229f8d5bee8941)@dockimbel Best wishes! I look forward to the libRed explanations. Will save my questions ( I do have some) until then :smile:

maximvl

[10:16](#msg586f6e6baf6b364a2938de96)@dockimbel happy new year, I also added few tickets for you not to be too bored :D

dockimbel

[10:16](#msg586f6e7ac02c1a3959f2fc3a)@maximvl Thanks for the new year gift. ;-)

[10:17](#msg586f6ea0af6b364a2938df5a)@meijeru If you have general questions about libRed, I can answer them here while waiting for the full documentation.

maximvl

[10:27](#msg586f71059d4cc4fc5381680a)how do I start a room? or can you create one for discussions? red/talks?

DideC

[11:21](#msg586f7da7aa6be0472f156fc7)@dockimbel I try to compile code here :point\_up: \[6 janvier 2017 11:27](https://gitter.im/red/red?at=586f71059d4cc4fc5381680a)

meijeru

[11:25](#msg586f7ec1c02c1a3959f34330)@dockimbel Can I profit from libRed while using the GUI console? So far, I notice only usage of `libRed.dll` if I compile for the MSDOS target...

dockimbel

[11:33](#msg586f809dda229f8d5beedd95)@meijeru I'm not sure how you relate libRed with the console. Both consoles already contain the Red runtime library, so what do you need libRed for then?

meijeru

[11:36](#msg586f813caf6b364a29393c2e)To shorten the compilation time -- if I re-compile a program for `MSDOS`, the compiled `libRed.dll` is used, so the re-compilation time is minimal.

[11:39](#msg586f820faa6be0472f158601)... and I need to \*\*compile\** for the GUI console, because my program has `routine`s and cannot be interpreted.

dockimbel

[11:43](#msg586f82feaa6be0472f1589c9)Ok, so you mean libRedRT.dll (which is different from libRed.dll). The current GUI console code cannot be compiled in dev mode, only release mode (`-r`).

[11:45](#msg586f83747a3f79ef5de29caa)@meijeru  
&gt; I need to compile for the GUI console

I'm not sure what you mean by "compile for the GUI console". If you need to compile the View module with your code, that works fine in dev mode (using libRedRT). Though, if you have R/S code and call some functions from the Red runtime API, then you need to force a custom build of libRedRT, which is achieved by compiling once with the `-u` option (then you can compile with just `-c`).

meijeru

[11:52](#msg586f851b9d4cc4fc5381baa0)Thanks, it is precisely that info I was after -- these switches are not explained in the README; unfortunately it is the R/S code that is being developed, so I guess libRedRT will change every time with re-compilation. BTW, what is the switch for dev mode?

9214

[16:33](#msg586fc6e4da229f8d5bf065a7)@dockimbel Happy New Year, Red team! :christmas\_tree:

meijeru

[18:27](#msg586fe186da229f8d5bf1074e)New tweet says Console in 0.6.3 will be multi-color. Will those colors be configurable?

9214

[19:17](#msg586fed479d4cc4fc5383f2a9):rainbow: colors yay

dander

[19:25](#msg586fef2daa6be0472f182694)@dockimbel Regarding the build issues you mentioned, would you want to consider using AppVeyor / Travis for generating the build artifacts and pushing those to the website? If you did that, you'd need to push the encrypted rebol license and your web server credentials for deploying to the website into the public repo. It would imply some level of trust of AppVeyor and Travis, and care to avoid accidentally releasing some sensitive information, but it appears that both CI services support that, and will not perform decryption when running PR builds.

[19:27](#msg586fefab9d4cc4fc538401be)If that seems too sketchy, maybe the build host could poll for changes instead of listening to the public internet. How does it currently know when to start a build?

rebolek

[22:27](#msg587019da7a3f79ef5de5e7f1)@meijeru AFAIK this is very early stage, but my guess is yes.

## Saturday 7th January, 2017

dockimbel

[05:52](#msg5870820a5ffdeea723184740)@dander We considered using those online CI services for that but:  
1\. We cannot secure the Rebol license key nor server credentials that way, as you need to provide a public build script (and public access to all required dependencies) that anyone else can download and use (and so can access easily everything, encryption wouldn't help there).  
2\. The CI jobs are queued and depending on the servers load, can be run in a few minutes up to a few hours after the notification from github, or even time out sometimes (happens more and more often on Travis) because of temporary high load. Basically, they are not very reliable as a daily building backend for binaries.

[05:53](#msg5870826cc02c1a3959f80c56)&gt; How does it currently know when to start a build?

Github allows to set webhooks (basically URLs) for any repo, that will be triggered on every new commit on master (or any branch), and optionally on new PRs.

[05:58](#msg5870836d9e6f00e74a076299)@meijeru Yes, syntax coloring rules will be fully configurable. Moreover, the coloring is just the tip of the iceberg of the new features we plan for the console, but we'll see that after the 0.6.2 release.

[06:02](#msg5870846faa6be0472f1b04b2)&gt; BTW, what is the switch for dev mode?

No switch, it's the default mode. See my \[early post](https://gitter.im/red/red?at=57fb86c184f1db0614998ecc) about the new compilation modes.

[06:17](#msg5870880d9e6f00e74a077180)Sorry, wrong link, this is the \[right one](https://gitter.im/red/red?at=57fb868370fcb5db0c444edf).

dander

[08:24](#msg5870a5bdaf6b364a293e7931)@dockimbel my understanding from reading some of their docs is that both CI services can create a private encryption key that is stored in the CI account. It's possible to encrypt either an environment variable or file, which gets checked into the public repo, but the private key comes from the CI account during the build, so it is not exposed. They disable decryption for PR builds in case of malicious PRs. Still, I would be concerned about making a mistake and leaking something in the log or build artifacts. It also implies some level of trust of that third-party. I just thought it was interesting, and could be potentially useful

dockimbel

[08:26](#msg5870a63faf6b364a293e7bec)@dander Is that feature available for the free CI accounts or paid ones only? It would still not provide realtime builds (see my point 2), though, it would be better than the current state.

dander

[09:19](#msg5870b2b8af6b364a293ea20f)@dockimbel It looks like it is available for the free ones. At least, I didn't see any mention of that anywhere. Here are some docs: https://docs.travis-ci.com/user/encryption-keys/  
https://www.appveyor.com/docs/how-to/secure-files/  
They look fairly similar

[09:23](#msg5870b3ad7a3f79ef5de84b05)I might do some tests with it later to see how it works

meijeru

[15:27](#msg587108df5ffdeea7231a7d1f)@dockimbel I have read the explanations concerning `libRedRT` for which I thank you. The `-r` option used to mean `--no-runtime`, what about that? Should the README not be updated?

## Sunday 8th January, 2017

rhencke

[01:05](#msg5871906baa6be0472f1fc97b)Does anyone know where I could find information on Red's dependency on glibc on Linux? Would that be in the Red/system parts?

geekyi

[05:13](#msg5871ca65aa6be0472f209ea1)@rhencke probably. Well, definitely

dockimbel

[05:32](#msg5871cef5aa6be0472f20ad8a)@meijeru It has been updated in the %usage.txt file which is displayed when invoking `red -h` or `red --help`. The README file at the repo's root needs to reflect the last stable release, it will be updated for the new release.

[05:35](#msg5871cf9aaf6b364a29430b44)@rhencke You can grep on `LIBC-file` and then filter only the files which are related to Linux. Then after `LIBC-file` in each file, you'll find the list of imported functions and variables.

[07:22](#msg5871e8d0aa6be0472f2115be)FYI, we have done some tests on our Mac building backend, and it seems to work fine and fast now. The latest Mac builds are available again now. We are putting it under surveillance during the next days to see if that behavior is stable now.

rcqls

[07:26](#msg5871e9aa9d4cc4fc538bc18e)@dockimbel Nice! `brew cask reinstall red-latest` is back. BTW, best wishes for 2017!

dockimbel

[07:30](#msg5871ea7bda229f8d5bf9cde5)@rcqls Thanks! :smiley:

ghost~5680c5f416b6c7089cc058a5

[15:02](#msg587254a264d5fd7e16908971)After getting a lot of headaches trying to link Rust code with libRed.lib, then getting runtime errors for Red code, finally got libRed working through Rust, and the code is ugly as hell and most probably un-idiomatic.

[15:03](#msg587254bacbcb281770417729)\[!\[libred.png](https://files.gitter.im/red/red/KWA0/thumb/libred.png)](https://files.gitter.im/red/red/KWA0/libred.png)

[15:03](#msg587254d1873d96e16d3fb6e5)\[!\[output.png](https://files.gitter.im/red/red/3YCB/thumb/output.png)](https://files.gitter.im/red/red/3YCB/output.png)

maximvl

[15:06](#msg5872556bcbcb281770417a5b)@nc-x oh wow, I was thinking that Rust becoming something really big and it would be cool to make use of it in Red

pekr

[15:17](#msg587257f9300f220a66c01c92)I am far from skilled in inter-tool interfaces, but I can't imagine you write larger program like that. I can see basically two options - instantiate Red and use RedDo() to call some larger amount of code in Red. Or second - use above aproach to get directly to datatype buffers to use/manipulate data from foreign environment.

ghost~5680c5f416b6c7089cc058a5

[15:19](#msg5872587ccbcb281770418731)The public api in Rust needs to be cleaned up and made more idiomatic by someone skilled in Rust, only then will this be usable for big projects. Until then, this is just for small examples.

[15:38](#msg58725cfb6c1635643cff7205)Uploaded the code to https://github.com/nc-x/libRed-Rust for anyone interested.

maximvl

[15:49](#msg58725f76cbcb28177041ad77)@pekr you are right, it makes little sense to write large programs like that, but using Rust \*fast* and \*safe* libraries is a nice thing to have

rhencke

[17:45](#msg58727abc873d96e16d406e6f)@dockimbel Thank you! This is exactly what I was looking for. I'm trying to see what it would take to target an alternate libc.

## Monday 9th January, 2017

dockimbel

[07:56](#msg5873423161fac5a03db3ff51)@nc-x Nice work!

[07:59](#msg587342fe300f220a66c45f6c)@pekr You are missing the point of the libRed API. It is not meant for writing "large programs", it is a glue for integrating Red into another language. The API is there for exchanging data and invoking code between Red and the host app.

ifgem

[08:00](#msg58734335300f220a66c4604e)@dockimbel can I add my datatype to Red from C program?:)

pekr

[08:03](#msg587343c7cbcb28177045d98d)That is what I meant as 2)

[08:03](#msg587343e264d5fd7e16951611)Sorry for wording, if that was not obvious

dockimbel

[08:06](#msg5873449861fac5a03db4132f)I don't know why your are making a special case for `redDo()`, it's part of the API, like the other functions. The API provides different ways to evaluate Red code, with different granularity levels.

pekr

[08:24](#msg587348b4dec171b811c4934d)Because RedDo(), to us, non-skilled with e.g. C, allows us to falsely believe, that by using just basic C wrapper and 99% of our app bein in Red anyway, we are a C coders :-) Was just spoiled by your earlier C example, which basically called RedDo, surrounded by invoking/closing LibRed. I can easily admit, that such aproach has not much sense, if any sense at all ....

[08:25](#msg58734908873d96e16d4415a8)For most of the time, ppl like me, will stand on the other side of the barrier - writing app in Red, linking to foreign env. libraries for the needed functionality. Few years ago, when even Red did not exist, I wrote our LED screen library wrapper using R/S.

[08:27](#msg5873496d873d96e16d441799)Of course, not everything is available as a library. That's where other bindings are going to be useful. Simply put - Red allows for several kinds of integrations ... well, that's at least my understanding of all of this. Surely I don't want to confuse others ...

dockimbel

[08:27](#msg58734982dec171b811c49692)@ifgem You might be able to hack something, but not easily achieve it as we haven't exposed the required internal API for that at Red level nor in libRed.

DideC

[11:50](#msg587379076c1635643c04fb8f)I updated my \[Heart-animation gist](https://gist.github.com/DideC/d58d43d3dfeddc19d7a1f980e6930313): now with a complete control panel to twick animation parameters.

maximvl

[11:52](#msg5873797861fac5a03db55435):+1:

DideC

[11:53](#msg587379d5074f7be763aaf2c2)@dockimbel It still not compile with last-build! (target: windows / release mode).

ghost~5680c5f416b6c7089cc058a5

[12:04](#msg58737c6364d5fd7e16966a5f)@dockimbel, any reasons why the GUI built using libRed (through redDo() ) looks ancient as compared to GUI's built using Red/View in Red? For eg. look at the buttons in this image :arrow\_down:

[12:05](#msg58737c74873d96e16d454c11)\[!\[Untitled.png](https://files.gitter.im/red/red/xsjN/thumb/Untitled.png)](https://files.gitter.im/red/red/xsjN/Untitled.png)

DideC

[12:06](#msg58737ccf64d5fd7e16966ce7)\[!\[heart-animation.gif](https://files.gitter.im/red/red/xv5d/thumb/heart-animation.gif)](https://files.gitter.im/red/red/xv5d/heart-animation.gif)

ghost~5680c5f416b6c7089cc058a5

[12:06](#msg58737cdccbcb281770473d38)@DideC Looks amazing

DideC

[12:07](#msg58737ceddec171b811c5c663)Very fun to play with ;-)

maximvl

[12:07](#msg58737cee074f7be763ab01fc)oh wow

ghost~5680c5f416b6c7089cc058a5

[12:08](#msg58737d24dec171b811c5c81a)A spelling mistake -`https://gist.github.com/DideC/d58d43d3dfeddc19d7a1f980e6930313#file-heart-animation-red-L207` should be Snapshot

rebolek

[12:23](#msg587380c6db9cafe9183bdf67)@DideC :clap:

DideC

[12:35](#msg58738394cbcb281770476364)Thanks all. @nc-x thanks, I have made the correction.

[12:39](#msg5873849d64d5fd7e16969f82)By the way, I have things that seems strange to me. Please, tell me for you guys.  
Maybe some things to correct ( @qtxie !? ) :  
\- First, the "W" of the check box caption is partly under the check box.  
\- Second, the Snapshot function save an image of the screen region where is `img` face, not the face itself. So here, I obtain a picture of the request-file window part that overlap the face.

qtxie

[12:55](#msg5873882c074f7be763ab4215)@DideC Amazing! :+1: Yes, we need to fix those two issues.

endo64

[12:58](#msg5873890861fac5a03db5b2bc)Is it possible to `save` whole window as an image as we do in Rebol2?

maximvl

[13:00](#msg58738953cbcb28177047857d)@endo64 there is an `/as format` refinement to `save` which mentions images in documentation

[13:00](#msg58738960dec171b811c61105)not sure how to do whole thing though

meijeru

[13:32](#msg587390d661fac5a03db5e169)With `layout` you create a window (`face!` object). With `view` you display this. While it is displayed, you can do `to-image` and obtain a value of type `image!` which you can save with `save/as`. The `format` argument is a word like `jpg` or `bmp` etc.

endo64

[14:54](#msg5873a41964d5fd7e16976746)interesting, that is what I already tried but it failed. I'll try again..

DideC

[15:20](#msg5873aa2fcbcb2817704859b2)@qtxie OK, so there are known, no need to post issue then.

[15:21](#msg5873aa65873d96e16d4668d0)(Heart animation note: I take care of memory consumption. Here, It is very stable)

ghost~5680c5f416b6c7089cc058a5

[16:06](#msg5873b4eb873d96e16d46ab1d)@dockimbel  
(A) :point\_up: \[January 9, 2017 5:34 PM](https://gitter.im/red/red?at=58737c6364d5fd7e16966a5f)  
(B) Is libRed supposed to work on linux because I am not able to compile the \*.so file?

Oldes

[18:43](#msg5873d9c6300f220a66c810ae)@dockimbel when I would like to run

```
view/no-wait
```

from app (not Red) using

```
libRed
```

, what would be the best way to update events? Using

```
do-events
```

would halt processing of the parent app. Also there is quite a lot ways how to kill or stop the parent app using inappropriate code passed to

```
redDo
```

. I wonder if it would be possible to make it more secure... probably using just DSL to pass code to libRed only.

endo64

[19:46](#msg5873e8a6300f220a66c86e66)@meijeru is that should work then?

```
lay: layout [
	button 168x36 "Ok" [
		img: to image! lay
		print img/size
	]
]

view lay
```

`*** Script Error: cannot MAKE/TO image! from: make object! [type: 'window ...`

meijeru

[19:55](#msg5873eabc873d96e16d47ffa9)On my W10 box it works:

```
lay: layout [
    button 168x36 "Ok" [
        img: to image! lay
        print img/size
    ]
]

view lay
194x85
```

endo64

[20:18](#msg5873f033873d96e16d482656)it doesn't work on my W10, I just built red from its source. Did you try with the version from web site?

meijeru

[21:13](#msg5873fd15cbcb2817704a6a79)My version is `Red 0.6.1 - 23-Dec-2016/15:54:29+1:00`

geekyi

[21:21](#msg5873fedd61fac5a03db8b5ee)@endo64 works same as @meijeru on Jan 5 and 8 binaries; will try to compile gui-console from source

[21:43](#msg58740414cbcb2817704a970e)@endo64 I did `do/args %red.r "clear"` before build, but I'm unable to compile with `do/args %red.r "%environment/console/gui-console.red"`

[21:44](#msg5874042361fac5a03db8d677)Windows 10 64-bit

[21:46](#msg587404c164d5fd7e1699e5ed)There's a huge dump of red code in Rebol2/View console ending with:

[21:46](#msg587404c6074f7be763ae50bb)

```
#script %/C/Users/HM/Documents/GitHub/red/red/environment/console/terminal.reds
    ]
    set-buffer-lines: func [n [integer!] /local vt out] [
        vt: as terminal! v-terminal
        out: vt/out
        out/max: n
        out/lines: as line-node! realloc as pointer! [byte!] out/lines out/max * size? line-node!

        edit vt 11
    ]
    set-font-color:
]
```

[21:48](#msg5874051adec171b811c94d5e)Not sure if bug. Does the instructions in the README need to be updated?

[21:58](#msg58740799873d96e16d48b0a0)`REBOL/View 2.7.8.3.1 1-Jan-2011`

## Tuesday 10th January, 2017

TomGrey303

[02:10](#msg5874428a6c1635643c09e239)hi, i tried the 'heart animation' but get ' \*\** Script Error: sqrt has no value' - im a bit new to red so not sure if its me ?

rebolek

[02:11](#msg587442dc96a565f844085cd2)Hi @TomGrey303 what version of Red are you using?

TomGrey303

[02:14](#msg5874438e074f7be763afa993)its a november 2016 auto build

rebolek

[02:15](#msg587443cedb9cafe9183bfa46)@TomGrey303 ok, then you probably should try some newer version from \[here](http://www.red-lang.org/p/download.html). IIRC, `sqrt` is new addition.

TomGrey303

[02:23](#msg5874459b64d5fd7e169b54b3)@rebolek many thanks, yes thats it -works perfectly now

rebolek

[02:24](#msg587445d061e516c1579079a2)@TomGrey303 you’re welcome

dockimbel

[05:10](#msg58746cb86c1635643c0aade0)@nc-x "Old look" for the GUI means the Visual Styles are not active. Visual Styles need to be activated by the host app. Which C compiler are you using?

[05:18](#msg58746e8b300f220a66cb2785)@nc-x Yes, it is supposed to work on Linux, though I haven't tested it since a while there. Are you using `red build libRed` to build it?

[05:19](#msg58746ecc873d96e16d4ab330)@qtxie Please have a look at @endo64 's issue with `to-image`.

[05:20](#msg58746f2c61fac5a03dbaf698)@geekyi You need to use `-c` or `-r` to trigger the compilation, though, when using the toolchain from sources, compilation should be always implied. So, there might be a regression there (please open a ticket in such case).

geekyi

[06:07](#msg58747a1864d5fd7e169c3fdd)@dockimbel I do either of 2 things when compiling from source:  
1\. a. Double click and run `red.r`, where `*.r` files are automatically run by Rebol2/View  
\*or*  
1\. b. Run Rebol/View and `cd` to the red source directory

then,  
2\. a. Run the command in red README: `>> do/args %red.r "%environment/console/gui-console.red"`  
\*or*  
2\. b. Run `>> rc %environment/console/gui-console.red`

[06:08](#msg58747a63dec171b811cb8f2f)Oh wait, I think this is related to the missing View

[06:09](#msg58747a8261fac5a03dbb2992)

```
Target: MSDOS

Compiling to native code...
*** Compilation Error: undefined context gui
*** in file: %/C/Users/HM/Documents/GitHub/red/red/environment/console/terminal.reds
*** at line: 1478
```

[06:09](#msg58747a90300f220a66cb5a83)I'm going to open a bug

[06:19](#msg58747cf7300f220a66cb6324)Ok, I think I'm just encountering a host of minor usability bugs created by introduction of libred.. which I'd tried to debug before and forgot about

[06:36](#msg587480f8074f7be763b0aeac):point\_up: \[September 29, 2016 6:40 PM](https://gitter.im/red/red?at=57ed19b816c37362201235c1) similar problem, but that variation works

dockimbel

[07:01](#msg587486e461fac5a03dbb5fa6)@geekyi Red GUI console needs to be compiled in release mode (using `-r`), dev mode using libRedRT is not supported (it will for the new console engine in 0.6.3).

geekyi

[07:03](#msg5874872c300f220a66cb8f21)@dockimbel the following works:

```
>> rc "-t windows %environment/console/gui-console.red"
```

dockimbel

[07:04](#msg587487606c1635643c0b2a0b)@geekyi Hmm, odd. Will need to investigate that.

geekyi

[07:05](#msg587487b6cbcb2817704d17d7)@dockimbel if you're going to work on it for 0.6.3, then OK. Well, I'm going to post a bug report just in case for future reference

[07:08](#msg587488546c1635643c0b2dfc)@dockimbel I may post a few more minor usability bugs

dockimbel

[07:08](#msg5874886f074f7be763b0cdb5)@geekyi Okay.

geekyi

[07:09](#msg587488bf074f7be763b0ce8f)@dockimbel One more thing, which is better? `rc` or `do/args %red.r`

dockimbel

[07:10](#msg587488fd6c1635643c0b3168)@geekyi `rc` is just a shortcut to the latter form, so it's the same.

geekyi

[07:11](#msg5874891dcbcb2817704d1d1e)@dockimbel there are minor differences which don't work

[07:11](#msg58748938dec171b811cbd324)Another thing is, I'd also been trying to get to compile red sources from commandline, but it gives exit code 1 sometimes

[07:12](#msg5874894461fac5a03dbb6b43)Will post a more detailed bug report for that

dockimbel

[07:12](#msg58748978300f220a66cb9890)@geekyi That's possible, we never use `rc` here (I use build scripts for compiling my Red scripts).

geekyi

[07:13](#msg5874898f300f220a66cb9924)@dockimbel so I shouldn't file bugs for `rc` ?

[07:13](#msg587489a36c1635643c0b3447)`rc clear` doesn't work for example

[07:13](#msg587489b564d5fd7e169c867b)

```
>> rc clear
** Script Error: clear expected series argument of type: series port bitset none
** Where: fail
** Near: rc clear
```

dockimbel

[07:14](#msg587489d2dec171b811cbd70a)Have you tried `rc "clear"`? The system shell and Rebol console are not equivalent, they don't have the same semantics.

geekyi

[07:14](#msg587489e9074f7be763b0d2e5)Ah. Maybe `clear` should output a message: "files cleared"

dockimbel

[07:16](#msg58748a3064d5fd7e169c8827)From what I remember, you can use only a file! or string! value as argument to `rc`.

[07:16](#msg58748a4a6c1635643c0b3694)"files cleared": agreed.

geekyi

[07:18](#msg58748abb6c1635643c0b38c8)@dockimbel Another thing is, console exit:

```
do/args %red.r "--help"
```

[07:18](#msg58748ad3cbcb2817704d24ae)(rebol/view console exits here)

dockimbel

[07:19](#msg58748ae5873d96e16d4b3bcc)Yeah, it should use a `halt` instead of a `quit`.

geekyi

[07:21](#msg58748b8f300f220a66cba31c)@dockimbel here? https://github.com/red/red/blob/master/red.r#L584

dockimbel

[07:22](#msg58748ba4300f220a66cba3a4)Precisely, yes.

geekyi

[07:22](#msg58748bbe6c1635643c0b3dd2)Should I make a pull request, or you'll fix it?

qtxie

[07:34](#msg58748e7661e516c157907e75)@endo64 Need to compiled the Red program with `-t Windows` to make `to-image face!` work.

endo64

[08:08](#msg5874968f873d96e16d4b7852)@qtxie Doesn't work on GUI console? I execute my script using red.exe without compilation.

dockimbel

[08:09](#msg587496b16c1635643c0b7d39)@geekyi You can make a PR, just test it well.

geekyi

[08:10](#msg587496fa6c1635643c0b7f1a)ok

[08:11](#msg5874971761fac5a03dbbb42e)@endo64 :point\_up: \[January 10, 2017 12:55 AM](https://gitter.im/red/red?at=5873eabc873d96e16d47ffa9) works for me on gui-console built from source

[08:12](#msg587497866c1635643c0b8230)\[!\[image.png](https://files.gitter.im/red/red/ij4P/thumb/image.png)](https://files.gitter.im/red/red/ij4P/image.png)

[08:14](#msg587498016c1635643c0b842e)First screenshot is saved by red. Are you pasting code on gui-console @endo64 ? Maybe executing another way doesn't work?

[08:15](#msg5874982264d5fd7e169ccc41)&gt; I execute my script using red.exe without compilation.

Not sure how you would do that..

endo64

[08:20](#msg5874996a6c1635643c0b8c2a)Let me check...

[08:24](#msg58749a41cbcb2817704d7045)Ah! Shame on me! I execute my scripts using my text editors' shortcut which executes with `--cli` option to be able to capture the output. That is why it fails. Sorry guy. Thanks for the help.

[08:35](#msg58749cccdec171b811cc32dd)This is what I'm working on, it is a very easy &amp; fast mockup designer inspired by http://fatiherikli.github.io/mockup-designer

[08:37](#msg58749d4d300f220a66cc034b)\[!\[events.gif](https://files.gitter.im/red/red/nzKK/thumb/events.gif)](https://files.gitter.im/red/red/nzKK/events.gif)

Zamlox

[08:38](#msg58749d94074f7be763b12d63)@endo64 nice work !

qtxie

[08:45](#msg58749f21db9cafe9183bffe8)@endo64 Awesome! :clap:

endo64

[08:47](#msg58749f8b64d5fd7e169cf860)Thanks @Zamlox @qtxie

pekr

[09:02](#msg5874a32adec171b811cc5183)@endo64 Looks cool! Could you post to the Facebook Red group page, if you are a memember?

mikeparr

[09:16](#msg5874a683074f7be763b15df3)@endo64 Looks good! Written in js? Could it be coded in Red? Can I reload generated 'code' (data) into it, and it generates the design form?

pekr

[09:19](#msg5874a72d6c1635643c0bd5ff)@mikeparr my understanding is, that the original is a web form, hence JS, but what Endo is showing, is actually a Red implementation ....

dockimbel

[09:23](#msg5874a82e6c1635643c0bdc37)@endo64 Very cool! :+1: If you want to tweet your screen capture, I'll be glad to retweet it. ;-)

qtxie

[09:51](#msg5874ae9cd99b1dd03d2f8946)@DideC The two issues should be fixed in the master branch.

mikeparr

[10:04](#msg5874b1c8074f7be763b19d14)@pekr Ah, thanks. Even better!

ghost~5680c5f416b6c7089cc058a5

[11:36](#msg5874c72acbcb2817704e705a)@dockimbel I am using msvc compiler. Is there any command line switch that msvc uses for compiling as a GUI? Because I didn't use any and that's the most probable reason for getting such old looking GUI through libred. I will check this out and report back.

[11:38](#msg5874c7ca6c1635643c0c9678)@dockimbel regarding libred on linux, I was trying to cross-compile the .red file from here - https://github.com/red/red/tree/master/libRed . I didn't try using "red build libred" on a linux machine. Is cross compiling to linux libred.so not supported from windows?

endo64

[11:44](#msg5874c924873d96e16d4c841d)Thanks guys. I'll finish all the features I planned (saving as png and custom project format, grid widget, editing widget's text and some other properties) then I'll put the sources to github.  
@mikeparr The original one written in JS using backbone.js and local storage, it's development is not active so I decided to write my own using Red.  
Reloading the generated code will be possible.  
@pekr @dockimbel I'll post it on Twitter &amp; FB when it's ready to use. I want to share the complete version but a half-working code.

DideC

[12:01](#msg5874cd0d6c1635643c0cb4a8)@qtxie Yes they are. Thanks.

[14:28](#msg5874ef90cbcb2817704f6bba)@qtxie @dockimbel Does the clipboard is available to Red code (under Windows) ?

[16:09](#msg587507446c1635643c0e2d10)I updated again my \[Heart-animation gist](https://gist.github.com/DideC/d58d43d3dfeddc19d7a1f980e6930313): new control parameters + reordered control panel + credits.

maximvl

[16:11](#msg587507c961fac5a03dbe678a)@DideC this encourages me to work on my forth-mimic thingy =)

DideC

[16:18](#msg587509426c1635643c0e3bf6)`day-length: day-length * 3 sleep-time: sleep-time / 3` could make the trick ;-)

rebolek

[16:18](#msg5875094e61e516c157908bcf):)

Oldes

[16:36](#msg58750d7d64d5fd7e169f96d8)@dockimbel So now is my AIR native extension for Red language more polished for public review: https://github.com/Oldes/ANERed

geekyi

[18:27](#msg5875279f6c1635643c0f1c40)@Oldes what can you do with AIR these days?

[18:34](#msg5875294bdec171b811cfa78a)@Oldes do you know of Electron? It's what the \*"cool kids"* use these days. From what I know of AIR, it seems to be a competing platform

[18:35](#msg5875296b6c1635643c0f2996)Nothing wrong with AIR support, just saying

[19:05](#msg58753076300f220a66cf66ca)\[Comparisons](https://mobidev.biz/blog/cross-platform\_development\_for\_desktops\_choosing\_the\_right\_technology) of similar platforms

[19:06](#msg587530cb61fac5a03dbf824e)Also a \[perspective](https://discuss.as3lang.org/t/the-best-move-that-adobe-could-do/418)

[19:07](#msg587530f564d5fd7e16a083e9)&gt; The only way I can explain it is that Adobe was too much in advance for its time

[19:08](#msg58753125300f220a66cf6b46)Meaning AIR and Electron are basically same

Oldes

[20:53](#msg587549d16c1635643c10020b)@geekyi I never heard about Electron yet. Regarding AIR, we used it for game Samorost 3 (development started 5 years ago) and I must say, that I still don't know anything else which I could use for all main (no linux) platforms (at least not when we started and had to decide, what technology to use). Now Haxe is more mature, but still not ready for my need. But true is, that AIR is quite heavy for simple utilities... that's why I use Rebol (v2) every day and follow Red development.

Just quick look at Electron site - it is JS with HTML+CSS = I don't want to touch it and it really cannot be same like AIR.

[20:58](#msg58754ad8cbcb28177051c09b)Of course, there is Unity, which could be used now with some afford, but AIR is free and it has all we needed several years back.. so right.. \_Adobe was too much in advance for its time_ . Unfortunately Adobe is not interested in its own technology much. At least not like Unity is. Probably because they have no income from it.

qtxie

[23:05](#msg587568bb873d96e16d507b8b)@DideC Not yet. But I'll implement it soon as I need it for the new red console. :smirk:

## Wednesday 11st January, 2017

dockimbel

[05:57](#msg5875c958cbcb28177054636a)@nc-x MSVC: it should work fine then. You can check if your executable contains a manifest file (XML format) in the resources section, indicating the loading of Common Control library version 6+. If that manifest is not present, Visual Styles are disabled.

[06:03](#msg5875caafdec171b811d31e1b)@nc-x About LibRed cross-compilation, there are a couple of functions in the API which are Windows-specific, so we need to make them optional. Otherwise, cross-compilation of libRed.red should work fine.

[06:09](#msg5875cc2c61fac5a03dc2b6a2)@DideC Clipboard: not yet, we need ports support first for that.

[06:27](#msg5875d04acbcb281770547e3b)@nc-x I've pushed some fixes, it should (cross-)compile fine now.

[06:28](#msg5875d091074f7be763b7a454)@Oldes Cool! Do you have some visual demos using libRed we could see/share?

ifgem

[09:21](#msg5875f925873d96e16d5321f6)@dockimbel sorry for silly question, where can I find the definition of red-value! ?:)

dockimbel

[09:53](#msg587600b5873d96e16d534c33)@ifgem Here: https://github.com/red/red/blob/master/runtime/datatypes/structures.reds#L17

[09:54](#msg587600ef11e7a7f61d7fc6e4)When searching for such definitions, you can grep on `#define` or `:` from the red repo root folder.

ghost~5680c5f416b6c7089cc058a5

[12:36](#msg587626d9cbcb281770563c89)@dockimbel I don't think there is any Common Control library version 6 added by default.

1\) Adding `#pragma comment(linker,"\"/manifestdependency:type='win32' name='Microsoft.Windows.Common-Controls' version='6.0.0.0' processorArchitecture='*' publicKeyToken='6595b64144ccf1df' language='*'\"")` to the c file in which libred api is used.

OR

2\) Using `cl libred-test.c libred.lib /link /MANIFEST` to generate the manifest and then manually editing the `libred-test.exe.manifest` file to add

```
<?xml version='1.0' encoding='UTF-8' standalone='yes'?>
<assembly xmlns='urn:schemas-microsoft-com:asm.v1' manifestVersion='1.0'>
  <trustInfo xmlns="urn:schemas-microsoft-com:asm.v3">
    <security>
      <requestedPrivileges>
        <requestedExecutionLevel level='asInvoker' uiAccess='false' />
      </requestedPrivileges>
    </security>
  </trustInfo>
  <dependency>
    <dependentAssembly>
      <assemblyIdentity type='win32' name='Microsoft.Windows.Common-Controls' version='6.0.0.0' processorArchitecture='*' publicKeyToken='6595b64144ccf1df' language='*' />
    </dependentAssembly>
  </dependency>
</assembly>
```

(This manifest can then be merged with the \*.exe file using `mt.exe -nologo -manifest "libred-t.exe.manifest" -outputresource:"libred-t.exe;#1"`)  
   
This enables the Visual Styles.

[15:13](#msg58764b7d300f220a66d51626)@dockimbel  
For libred on linux, do we need a `libred.a` file?

[17:59](#msg58767265300f220a66d6257c)I think I got the `libred.a` file (using dlltool) and the linking of a sample test file succeeds and gives an executable but running it fails with `(signal: 11, SIGSEGV: invalid memory reference)`.  
Here is the code - `https://github.com/nc-x/libred-rs/blob/travis/src/lib.rs#L296`  
The code works as expected on Windows. Need to check why it doesn't work in linux. Will use a linux vm and test it whenever I have time.

## Thursday 12nd January, 2017

dockimbel

[03:47](#msg5876fc45cbcb2817705b4dda)@nc-x You just need the `.so` file, the `.a`file is for static linking only.

[03:52](#msg5876fd6d11e7a7f61d85d1fd)This is how we compile the C test file with libRed on Unix platforms:

```
$ gcc tests/libRed-test.c -L ./ -l Red -I ./libRed -o libRed-test
```

ghost~5680c5f416b6c7089cc058a5

[04:45](#msg587709fecbcb2817705b81fc)Hmmm... Using just the \*.so file on linux gave me an error - "skipping incompatible libred.so" or something like that. I used the Rust compiler which essentially uses gcc for linking. I will have a look later today.

dockimbel

[06:49](#msg587726f1cbcb2817705bfcf8)@nc-x Forgot to add that if you're on 64-bit OS, you need to use the `-m32` option.

ghost~5680c5f416b6c7089cc058a5

[09:16](#msg5877498acbcb2817705ca62e)I am using the 32 bit Rust compiler so I think it automatically uses 32 bit gcc or -m32 option as appropriate .

[14:49](#msg5877977d11e7a7f61d88e649)On a fresh installation of 32 bit Ubuntu, using `gcc tests/libRed-test.c -L ./ -l Red -I ./libRed -o libRed-test` gives -

```
/usr/bin/ld: errno: TLS definition in /lib/i386-linux-gnu/libc.so.6 section .tbss mismatches non-TLS reference in .//libRed.so
/lib/i386-linux-gnu/libc.so.6: error adding symbols: Bad value
collect2: error: ld returned 1 exit status
```

## Friday 13th January, 2017

dockimbel

[14:39](#msg5878e694cbcb28177065acb1)@nc-x That's really odd, I never seen this error here. It seems like gcc tried to make a static linking instead of a dynamic one... @qtxie Any idea?

pr-yemibedu

[15:37](#msg5878f42711e7a7f61d90dc40)@Oldes atom and vscode a really great editors. they have vibrant communities and lots of plugins to get your work done. the TS/JS part provide low hanging fruit for new comers to add extensions, and the HTML/CSS mean many existing developers can use existing skills to create new and flexible UI components. It is one reason they call themselves (hackable) editors.

ifgem

[17:18](#msg58790bf9dec171b811e61f2e)@dockimbel found two bugs in #macro :)

redxtech

[17:20](#msg58790c4411e7a7f61d9189f9)On windows, does anyone know where the red binary is installed by default? I installed red but when I run 'red' in the console nothing happens.

endo64

[18:54](#msg5879225acbcb28177067360f)Did you check `C:\ProgramData\Red` by default CLI console and GUI console executables created there named like `console-2016-12-14-42993.exe` or `gui-console-2016-12-14-42993.exe`

[18:55](#msg58792299873d96e16d64ed3d)Some virus programs don't allow to create those files, check that out too.

9214

[19:17](#msg587927e66c1635643c261a64)@endo64 \*anti* virus

endo64

[20:41](#msg58793b60e836bf70103ecdc6)@9214 right :)

## Saturday 14th January, 2017

RnBrgn

[01:25](#msg58797e0d074f7be763cb73a1)@RedXTech The installation file is the red binary. You run the install and it will compile the program and place files in c:\\programdata. When the install is finished, run the install file again and you should get the Red console.

dockimbel

[03:40](#msg58799dab300f220a66e6a228)There is no "installer" in Red, the `red.exe` binary is located where you put it. When invoked the first time, the Red console is compiled and saved in `C:\ProgramData\Red\`, though this is transparent for the user and the `red.exe` acts as a proxy, so you don't have to care about this. In a nutshell, you download `red.exe`, you put it where you want and just run it (the first time you run it takes a bit more time), that's all.

pekr

[08:58](#msg5879e83fe836bf701041a265)Guys, you don't stop to amaze me - libRed bidning for VBA, just excellent! https://twitter.com/red\_lang/status/820116853104091136

dockimbel

[09:33](#msg5879f080cbcb2817706ab377)It's just a one code page demo. ;-) I'll publish the code soon with other ones showing Excel/libRed integration. In that first demo, VB is doing the whole work, even updating the position of Red face objects.

meijeru

[09:41](#msg5879f237cbcb2817706ab913)Splendid! Can't wait to see the source!!!

dockimbel

[09:51](#msg5879f4a36c1635643c2974c8)Here it is: \[!\[pong-src.png](https://files.gitter.im/red/red/pzza/thumb/pong-src.png)](https://files.gitter.im/red/red/pzza/pong-src.png)

Zamlox

[09:58](#msg5879f65411e7a7f61d958831)nice demo !

pekr

[10:20](#msg5879fb78e836bf701041e99f)@dockimbel - for me to better understand. Let's say Excel uses it's own "scripting" language. It might be cross-platform. Then me, as not a good coder in Exce terms (well, in any terms :-) ), wants to do some stuff using Red. So I use some example code and do some stuff using Red. How much I am limiting cross-platform usability and/or even Office365 online usability? Is my understanding correct, that we have to compile libRed for each target platform?

dockimbel

[10:24](#msg5879fc4ecbcb2817706ae343)@pekr You cannot use libRed with Office365 online, at least not until we get a JS backend support for Red. For the offline version, yes, you need to provide the libRed version that goes with the OS, though, Office does not run on that many platforms.

ifgem

[13:24](#msg587a2672dec171b811eaef2f)@dockimbel thank you for this craziness:)))  
https://gist.github.com/ifgem/12110ddfb0091d33798a957b09a2f964

dockimbel

[15:01](#msg587a3d63873d96e16d698301)@ifgem Nice Ruby-style macro, you're welcome. :-)

ifgem

[16:18](#msg587a4f39e836bf7010434d5a)@dockimbel now it has a "little" debugger:)))) (OMG I must clean it up:). Especially 228-234l)

## Sunday 15th January, 2017

redredwine

[17:30](#msg587bb1ca873d96e16d6fd76e)@dockimbel , with reference to you explanation about the red "installer" , could this page be updated http://www.red-lang.org/p/getting-started.html to show that something is being put in the c:/programdata/Red folder ? I had the same problem as @RnBrgn and had help from @greggirwin and a couple of folks in the red/welcome room. If this is mentioned in the getting-started.html page, then it will save every new person joining, from having to ask this question, in the forum.

[17:44](#msg587bb4f46c1635643c30f88d)the vba-red bridge will actually be a good way to get a foot inside the corporate world. There are billions of spreadsheets out there, (it's true though that not every one of them is using VBA), however even 1% of a billion is a huge amount of possibilities.

MatthewScholefield

[18:56](#msg587bc5d46c1635643c3156b0)Is there a way to get Red's GUI system? I read \[this](http://www.red-lang.org/2016/03/060-red-gui-system.html) about it but I didn't find a download link and it doesn't seem like it's included by default in the standalone executable.

endo64

[19:29](#msg587bcd8edec171b811f1a23c)@MatthewScholefield It's already included by default, you can simply download the latest binary build and execute demo scripts, you can find many scripts inside the tests folder. If you compile your script into .exe then you just need to include `Needs: View` in your Red header.

MatthewScholefield

[19:42](#msg587bd08edec171b811f1b048)@endo64 I tried running \[the following example](https://github.com/red/code/blob/master/Showcase/tile-game.red) but I got the error: `Script Error: view has no value`.

maximvl

[19:49](#msg587bd264074f7be763d4bcea)@MatthewScholefield are you doing this on windows?

[19:50](#msg587bd27a074f7be763d4bcfd)mac &amp; linux don't have GUI backends yet

MatthewScholefield

[19:51](#msg587bd2b8cbcb2817707293c6)@maximvl Oh, then that's why; I'm doing this on Linux. Thanks!

maximvl

[19:52](#msg587bd2e5074f7be763d4bfea)@MatthewScholefield on linux you can just use wine, it works more or less fine

[19:52](#msg587bd2f4cbcb28177072947f)with windows Red binary of course

[19:52](#msg587bd30f074f7be763d4c218)(this is how I write GUI now :))

MatthewScholefield

[20:44](#msg587bdf13074f7be763d5043a)@maximvl I'll just wait for a Linux GUI backend to be written.

rebolek

[20:45](#msg587bdf73d99b1dd03d3023e2)@MatthewScholefield there is already some work done on GTK version. Nothing is included in the master branch yet, but you can check the GTK branch.

MatthewScholefield

[20:50](#msg587be085873d96e16d70b875)Ok, then I'll check that out (no pun intended :P)

## Monday 16th January, 2017

gearss

[01:20](#msg587c1fe96c1635643c32fae2)I find Red canont print the resultimmediately， is different from rebol.

[01:20](#msg587c1ff4873d96e16d71d770)I run following code:

[01:21](#msg587c2018cbcb28177073f4df)repeat time 100 [  
print time  
xx: read http://phys.org  
print length? xx  
]

[01:22](#msg587c2064cbcb28177073f661)I must wait long time until the codes run for 100 times. How I can see the result of "length? xx" of each running?

[01:24](#msg587c20b711e7a7f61d9eddeb)It seems Red only can read the webpage which is UTF-8 format, how to read webpage in other format, like GBK, or GB3212?

dockimbel

[03:25](#msg587c3d16dec171b811f37b05)@gearss Use `read/binary`. Only UTF-8 decoder is provided for now. For the delayed printing issue, I let @qtxie answer it.

[03:30](#msg587c3e5111e7a7f61d9f614c)@redredwine  
&gt; it will save every new person joining, from having to ask this question, in the forum.

Which question?

qtxie

[05:43](#msg587c5d73300f220a66f1a408)@gearss It's a known issue in the gui-console. I'll have a look at it today.

[05:44](#msg587c5dd3074f7be763d70e54)@gearss FYI, the CLI console works fine. You can try it with `red --cli`.

## Tuesday 17th January, 2017

gearss

[03:04](#msg587d89a1dec171b811fa2ef9)@qtxie , how to run the Red codes on android phone?

[03:05](#msg587d89e9e836bf701051fa1c)do have an apk to install Red on android phone?

qtxie

[03:23](#msg587d8e15d99b1dd03d3049d8)@gearss It's not ready yet. We do have a prototype, not sure if it's still working now. We'll start working on it after 0.6.2 release.

gearss

[03:31](#msg587d900c873d96e16d7951bb)can you send the prototype to me? I would like to test it.

PeterWAWood

[04:02](#msg587d975a11e7a7f61da670af)@gearss The prototype is in the

```
android
```

branch in Github. There is no documentation. It hasn't been updated for a long time so it is unlikely to work now. To give you an idea of state of the android branch, it is nearly 4,000 commits behind the master branch.

[04:03](#msg587d97a4e836bf7010522a17)Just to clarify, the android branch on Github is an experimental branch. It is not at Alpha quality.

gearss

[07:51](#msg587dccf6873d96e16d7a5231)is there a function in Red like the join in rebol? in rebol, we get a string by str: join "ab" "cd", the result is "abcd". is there a function in Red like the alert in rebol? we can use alert('OK") in rebol.

[07:51](#msg587dcd10cbcb2817707c90db)sorry, it sould be alert("OK").

[07:52](#msg587dcd3d11e7a7f61da75518)in Red, the break function is not the same as in Rebol, in rebol, we can writethe code:

[07:54](#msg587dcd9de836bf7010531471)forever \[attempt \[cont: read to-url "http://phys.org" break]]

pekr

[07:54](#msg587dcdbd873d96e16d7a55d2)@gearss First, you can use functions without parens. I am not good at Rebol/Red internals, but my understanding was, that parens have some evaluation overhead. So: `alert "OK"`is just fine.

gearss

[07:56](#msg587dce1a300f220a66f8c90a)but if I writethe code in Red like this: forever \[attempt \[cont: read to url! "http://phys.org" break]], error occured and prompted there is no loop to break. how to solve the problem?

pekr

[07:56](#msg587dce2c074f7be763de44bf)As for join, I think it is not there yet. There was some discussion, which of "mezzanines" (functions written in Red/Rebol itself) are going to be included, and which ones are going to be provided in terms of some mezzanine library. You can use `source join`and copy Rebol's one, should work. Or I remember @greggirwin might have done something in that regard?

[07:57](#msg587dce8211e7a7f61da75aaf)Re `attempt`I don't know - you already seem being more skilled than me anyway, so :-)

gearss

[07:58](#msg587dcec3074f7be763de4672)I use rebol for years.

[08:00](#msg587dcf0e074f7be763de47e8)is possible to read and reply this chatting room in smart phone?

maximvl

[08:05](#msg587dd03311e7a7f61da76661)@gearss you can report this as a bug:

```
red>> forever [ print "1" break ]
1
red>> forever [ attempt [ print "1" break ] ]
1
*** Throw Error: no loop to break
*** Where: break
```

pekr

[08:14](#msg587dd258300f220a66f8db31)@gearss - yes, you can either use Gitter website, it has a smartphone responsive mode, but I found it buggy and am quite happy with the Android app they provide.

[08:14](#msg587dd25ecbcb2817707ca950)I use it on a cell phone daily.

dockimbel

[08:48](#msg587dda71e836bf701053515f)@gearss `alert` is not yet implemented, as we need to decide if we provide a platform-specific version or a cross-platform one... or both. For the `break` issue, it seems `attempt` is catching the exception produced by `break` instead of letting it pass. That is a bug worth reporting on our bugtracker.

maximvl

[09:44](#msg587de790e836bf701053953d)@dockimbel I will

Arie-vw

[12:42](#msg587e1132cbcb2817707e1223)@gearss  
I "stole" this rejoin function somewhere:  
rejoin: func [  
"Reduces and joins a block of values."  
block \[block!] "Values to reduce and join"  
][  
if empty? block: reduce block \[return block]  
append either series? first block \[copy first block] [  
form first block  
] next block  
]

[12:43](#msg587e11596c1635643c3cf935)Sorry for format ...

[12:44](#msg587e11b111e7a7f61da8db08)@qtxie Started using Everedit using your highlighter. THX!

dockimbel

[13:03](#msg587e161a873d96e16d7bf3f2)Until we provide `join` or an equivalent replacement, `join a b` can be simply replaced by `repend copy a b` if `a` is a series, or `repend form a b` otherwise.

greggirwin

[17:05](#msg587e4ee66c1635643c3eacce)Here's my interim `join`.

```
join: func [
	"Returns a copy of a value, with other values appended."
	value "Base value; copied if series, formed otherwise"
	rest  "Value or block of values"
][
	repend either series? :value [copy value] [form :value] :rest
]
```

## Wednesday 18th January, 2017

dockimbel

[07:17](#msg587f1691cbcb28177083d420)Seems like the articles on HackerNews yesterday about the new Pixie Lisp language brought us a lot of traffic on Red sites. ;-)

pekr

[09:07](#msg587f30436c1635643c436b8b)Do you find is as a potential competition?

timeyyy

[09:08](#msg587f307bdcb66e4f7679f6c0)pixie is inactive

pekr

[09:09](#msg587f30b36c1635643c436d5b)I can see someone mentioned Red there, so that's why :-)

[09:12](#msg587f3172873d96e16d823ee1)Quite positive mentions, nice to read!

dockimbel

[09:32](#msg587f362bcbcb281770847aba)@pekr Not a competitor to Red. Anyway, it's a stalled project.

geekyi

[09:35](#msg587f36fa11e7a7f61daf65a2)\*\*tl;dr\** It's a lisp implemented on the python pypy backend that has been abandoned a year ago. As mentioned by the author on that hacker news thread

maximvl

[09:46](#msg587f395c11e7a7f61daf728d)Not a competitor at all

[09:46](#msg587f3966cbcb281770848d11)but I upvoted the comment about Red, yes :D

dockimbel

[09:47](#msg587f39cd6c1635643c439e0c)I upvoted too. ;-)

maximvl

[10:06](#msg587f3e18300f220a66009f1d)@dockimbel is there an shortcut for `first at` ?

[10:06](#msg587f3e2cdcb66e4f767a44cc)to get element by index?

rebolek

[10:07](#msg587f3e5bdb9cafe9183cecfd)`pick` ?

[10:07](#msg587f3e6e96a565f8440955ee)

```
red>> pick [a b c d] 3
== c
```

maximvl

[10:07](#msg587f3e6edcb66e4f767a46ee)@rebolek yes, thanks, forgot about it

rebolek

[10:07](#msg587f3e7961e516c1579161e0)@maximvl you’re welcome

Arie-vw

[10:50](#msg587f4884873d96e16d82c5ba)I'd like to access word definitions in system/words.  
However, so far I cannot get it to work, probably due to the fact that those words have a special meaning.  
`red>> system/words/break *** Throw Error: no loop to break *** Where: break`  
How can I get this kind of info?

dockimbel

[10:55](#msg587f49b2cbcb28177084edb5)@Arie-vw Use get-paths:

```
red>> :system/words/break
== make native! [[
    {Breaks out of a loop, while, until, repeat, foreach, etc} 
    /retu...
```

Arie-vw

[11:09](#msg587f4cf111e7a7f61dafe8e5)Ah OK!! Thx. I tried the get-path for the last element, but that was not ok.  
@dockimbel Is this the right place where you get the help info for words when using the help word? We want to use that help in red-by-example in the near future.

dockimbel

[11:10](#msg587f4d43dcb66e4f767a93b6)@Arie-vw You mean the embedded doc-strings in functions? You can freely extract and use them.

Arie-vw

[11:11](#msg587f4d5011e7a7f61dafea8a)Yes ...

[11:11](#msg587f4d62e836bf70105bbb54)OK. Thx.

maximvl

[11:12](#msg587f4db211e7a7f61dafec4a)@Arie-vw I guess you can use `spec-of`:

```
red>> probe spec-of :at
[
    "Returns a series at a given index" 
    series [series!] 
    index [integer! pair!] 
    return: [series!]
]
```

Arie-vw

[11:13](#msg587f4df6300f220a6600fad9)@maximvl Ah. That is nice! Thx. There are sooo many words to learn :smile:

rebolek

[11:17](#msg587f4edfd99b1dd03d307cd8)@Arie-vw \[Here](https://github.com/rebolek/gritter/blob/stylize/helpr.red#L16)'s the \*\*helpr\** script I showed you, this code gets help string, arguments and refinements and builds draw block from them. With some small changes this can be used to build HTML pages.

geekyi

[11:18](#msg587f4f146c1635643c44174c)@rebolek ooh nice

Arie-vw

[11:20](#msg587f4f6e11e7a7f61daff60a)@rebolek Thx. Bo. I'll dig in. Lots to learn!

geekyi

[11:33](#msg587f5278300f220a660113f2)\[!\[image.png](https://files.gitter.im/red/red/9GgS/thumb/image.png)](https://files.gitter.im/red/red/9GgS/image.png)

[11:34](#msg587f52a9e836bf70105bdb76)@rebolek `helpr` .. I think he may have showed this before, but I forgot

rebolek

[11:34](#msg587f52d561e516c1579164a0)@geekyi Yes, I posted gif here (or maybe in gui-branch channel, I’m not sure).

CodeTortoise

[16:10](#msg587f9391074f7be763e83283)Hello Redsters... I don't know if the community has their own sobriquets yet.

[16:13](#msg587f9436300f220a6602ae8c)I recently rediscovered Red after somewhat dismissing it a few months ago. It seemed like it wasn't really being worked on at the the time, and I didn't know it had a community. I am overjoyed to see it is active. Like, impressively active. The blog and it's many examples more than give me confidence this is a language worth using and getting used to.

[16:17](#msg587f9528873d96e16d84a287)Welp. Now I have 3 incredible languages vying for my full love and attention, the other two are J and Erlang. Can anyone here point me to the best material to begin learning Red? I know there are the hundreds of Rebol examples, but I would rather start learning Red fresh on it's own.

rebolek

[16:24](#msg587f96b961e516c157916fe7)Hi @CodeTortoise, see for example http://www.mycode4fun.co.uk/About-Red-Programming or http://red-by-example.org/ or http://redprogramming.com/Home.html

pr-yemibedu

[16:40](#msg587f9a70873d96e16d84cd13)@CodeTortoise do you know about elixir (http://elixir-lang.org/)?

dockimbel

[16:41](#msg587f9acd11e7a7f61db1ceaf)@CodeTortoise Welcome! :smile\_cat:

pr-yemibedu

[16:42](#msg587f9adae836bf70105dabfa)@CodeTortoise also the https://gitter.im/red/red/welcome is active

CodeTortoise

[17:41](#msg587fa8e3873d96e16d8527ad)@pr-yemibedu Yes, I do know about Elixir! At the moment I find Erlang more accessible, first because I am on a Windows machine and I got WERL, and second because I somehow find the syntax more interesting. I do however, appreciate the Ruby syntax, plus the apparently more consistent library support and metaprogramming.

pr-yemibedu

[17:49](#msg587faa966c1635643c4672aa)you do have to learn erlang to use elixir.

## Thursday 19th January, 2017

theideasmith

[01:58](#msg58801d48dcb66e4f767f6acc)Hey guys I'm wondering if mac graphics support is ready yet?

PeterWAWood

[02:46](#msg58802883cbcb2817708a2472)@theideasmith Working has been progressing well on Mac GUI support. You can take a look at the current state in the macGUI branch in the repository. I believe it is already starting to be useable.

Red Alpha 0.6.2 (LibRed) should be released within weeks. At the moment, Red Alpha 0.6.3 (MacOSGUI) is expected to follow within a couple of months .

dockimbel

[02:51](#msg588029a811e7a7f61db50934)@theideasmith See the `macGUI` branch, the work is almost finished, just needs some polishing and bugfixing.

JerryTsai

[04:48](#msg5880451d11e7a7f61db580fb)@theideasmith I've beeb using macGUI branch. From my experience, I consider it ready.

loganmac

[05:19](#msg58804c466c1635643c49e1b5)@JerryTsai how do I build that branch? I couldn't find any instructions for compiling that branch.

JerryTsai

[05:40](#msg58805154873d96e16d88bcf6)@loganmac In the REBOL 2 console, type in `do/args %red.r "-u %environment/console/console.red"` then you get the macOS console with view functions.

loganmac

[05:43](#msg588051fe873d96e16d88c06a)@JerryTsai ^ That's what I get :/

[05:43](#msg588051fe300f220a66067c0f)\[!\[Screen Shot 2017-01-18 at 10.43.05 PM.png](https://files.gitter.im/red/red/V25a/thumb/Screen-Shot-2017-01-18-at-10.43.05-PM.png)](https://files.gitter.im/red/red/V25a/Screen-Shot-2017-01-18-at-10.43.05-PM.png)

dockimbel

[05:51](#msg588053d811e7a7f61db5ca2b)Should work with just `-r`, `-u` is for dev mode, for forcing a custom recompilation of libRedRT.

loganmac

[06:44](#msg5880606a6c1635643c4a3c3d)Awesome! I just got that to work with the poll demo on the site. :) Really exciting stuff

dockimbel

[07:11](#msg588066a66c1635643c4a57ec)@loganmac :+1: ;-)

geekyi

[08:48](#msg58807d5e300f220a6607557a)@JerryTsai @dockimbel is the `-r` flag required? If so, the README should be updated

[08:48](#msg58807d7a300f220a660755e7)Well, it should be updated anyway for the changes. I may pull request

dockimbel

[09:35](#msg5880886d11e7a7f61db6dcad)@geekyi It is only required for compiling in \_release_ mode. The README should reflect the state of latest stable version (0.6.1). The new stable should be out very soon anyway.

geekyi

[09:49](#msg58808b9c873d96e16d89e8a6)Ok

pekr

[13:30](#msg5880bf8cdcb66e4f7682aca9)So cool once again :-) https://twitter.com/red\_lang/status/822024154681487360

[13:39](#msg5880c19b074f7be763ee55aa)@dockimbel - just a note - test.xlsm does not run on Win10 64 bit (my Office is 32 bit), but I get a message: "Compile error: The code in this project must be updated for use on 64-bit systems. Please review and update Declare statements and then mark them with the PtrSafe attribute."

[13:46](#msg5880c33f074f7be763ee5e84)Was just notified, that it was supposed to run on 32 bit systems, so you can regard above being just answered ...

dockimbel

[13:46](#msg5880c350074f7be763ee5f2e)@pekr Odd, it runs fine on Windows 7 64-bit. I have Office 2010 here. We'll try to get a more recent Office version to test.

pekr

[13:49](#msg5880c3ed300f220a6608e69a)I have Office 2016, 32 bit here ...

[13:50](#msg5880c414dcb66e4f7682c66d)I can see the source and the `Sub`being hilited, so that's where it stopped to work, well, my guess ....

Skrylar

[14:53](#msg5880d2e2dcb66e4f76832c1c)So I keep hearing about this `libRed` thing on the sidebar of the home page, but it's actually difficult to read about it :P You ought to do a special post about it that's mentioned somewhere (at the time I tried to search the site, there was maybe one reference to libRed existing and that was it.)

DideC

[14:57](#msg5880d3cd519afee26b8785ed)`LibRed` is part of near 0.6.2 release. So we will have documentation (blog entry at least) about it when this version will be out.

meijeru

[15:07](#msg5880d63911e7a7f61db8e974)`red/docs` repository contains the current state of libRed API documentation, and this is readable in the \[GitBook](https://doc.red-lang.org/en/)

geekyi

[15:25](#msg5880da79e836bf701064fc4d)Tests fail if rebview is run from a relative path? There is no indication of this. Was a real head-scratcher for me until I figured it out

[15:27](#msg5880dadf6c1635643c4d1cdb)I was doing this on windows command prompt:

```
..\..\rebol\rebview.exe -s tests\run-all.r
```

loganmac

[20:30](#msg588121f2074f7be763f0e72f)Hey guys. I'm trying to do some of the livecoding example clock from the homepage. I have a console that I built from the macGUI branch, and any time I change any of the code in the editor part of the example I get  
`*** Runtime Error 1: access violation *** at: 9EED2013h`  
and it crashes D:

greggirwin

[20:38](#msg588123c7300f220a660b7302)Very cool Pekr!

geekyi

[20:38](#msg588123d7e836bf7010670095)@loganmac looks like macgui is under heavy development. So the bug may go away. If you can get a minimum reproducible code sample, that would be useful to report as a bug

[20:40](#msg588124316c1635643c4f322e)P.S. I'm not on mac so can't verify myself

rebolek

[22:22](#msg58813c1061e516c1579199a7)Sometimes I want to find some string in some directory (like grep can do) but I don’t want to leave red console. So I wrote PAF https://github.com/rebolek/red-tools/blob/master/paf.red that does exactly this.  
Usage: `paf %./ "cossi"` or you can use parse rule: `paf %./ ["co" 2 #"s" #"i"]`. Do not use `to` or `thru` otherwise line counting won’t work. There are also two refinements, `/quiet` to suppress messages and `/only` to just return logic value. I wrote it yesterday so there may be some problems and there’s certainly space for improvements. But it works good enough right now.

PeterWAWood

[22:44](#msg5881414adcb66e4f76861a45)@geekyi Did you look at the log file?

greggirwin

[23:24](#msg58814abce836bf701067eeba)Nice stuff as always Bolek. I use my old `rgrep` script regularly.

rebolek

[23:26](#msg58814b3b61e516c157919ab5)@greggirwin Thanks. And if I knew about about `rgrep` I could save some minutes. But I would also lose some fun doing it :smile:

## Friday 20th January, 2017

dockimbel

[02:41](#msg588178d1300f220a660d2bbd)@qtxie Please have a look at the crash on macGUI with the clock demo code above ^---

greggirwin

[02:43](#msg5881796edcb66e4f7687334b)@rebolek, always good to see different approaches. Mine uses some others, to do file globbing as well. My old file-list/rawk/rgrep is good for me, but I think it ended up too complex and heavy, at least the file-list stuff did. Flexible, but I rarely use the advanced features.

[02:47](#msg58817a55300f220a660d3787)Rgrep is ~50 lines, built on rawk, and only so large because it has 8 refinements, to try and match what normal grep offers. e.g. count, list, quiet, etc.

[02:48](#msg58817a95074f7be763f2c381)When we eventually build Red shell tools, I think it's good to offer what people are used to, but best to start as simple as possible and add features as they are requested.

dockimbel

[03:02](#msg58817dcbe836bf701068edb7)I would be glad to add a grep-like tool to the console environment, though, I would prefer a minimal one to start with, able to print the found matches in the console, or alternatively returning them in a block. For specifying the pattern to search, I think both wildcards and a dedicated dialect (or just Parse) would be nice to have.

greggirwin

[04:01](#msg58818b7ddcb66e4f768785d5)Agreed. The whole shell space is something that sounds simple, but the right design will make all the difference. I'll try to make time to work up some thoughts.

gltewalt

[06:22](#msg5881acaee836bf701069abf2)Which Red channel should be used for newbies? Those who aren't part of the development team, or contributors. Those of us who want to learn something new, or are checking back in on the progress of the language and want to pick their learning back up

[06:23](#msg5881acd6300f220a660dfe8f)I see many Gitter "rooms"

endo64

[06:26](#msg5881ad81dcb66e4f76880bce)@gltewalt red/welcome is a good place for newbies

gltewalt

[06:30](#msg5881ae74cbcb2817709269ae)Ok, I'll post my questions and opinions there, to begin with.

[07:50](#msg5881c12f074f7be763f3e871)The chat link in Getting Started and Contributions on red-lang.org both point to red/red.  
Does this need updated?

pekr

[08:11](#msg5881c616300f220a660e707c)there is also a red/help. I thought it was already directed towards red/welcome. Needs checking then ....

rebolek

[08:26](#msg5881c9c2db9cafe9183d315c)@dockimbel at 70 lines I think it is minimal (but it can be probably smaller, I think) and it prints out to console or return matches in block :) Wildcards are missing, but I think of adding them.

pekr

[09:24](#msg5881d751dcb66e4f7688e268)@dockimbel Saw some changes to Excel demo, still not sufficient here. I might found the solution - https://msdn.microsoft.com/en-us/library/office/gg264421.aspx

DideC

[09:25](#msg5881d78bdcb66e4f7688e39b)@rebolek Very nice en usefull little script.

pekr

[09:26](#msg5881d7d1e836bf70106a8ac7)The strange thing is, I am running 64bit Windows, but 32 bit Office. Anyway - adding `PtrSafe` after each `Declare` statement (in front of a `Function` or `Sub`), might do the trick?

[09:27](#msg5881d7f311e7a7f61dbec002)Well, at least now the code stops with error 48, not finding DLL, but that might be the path problem .... just wondering where is the Excel looking it for, if the lib is in the same dir as the .xlsm file?

rebolek

[09:30](#msg5881d89fd99b1dd03d30c153)Thanks, @DideC

dockimbel

[09:49](#msg5881dd1f11e7a7f61dbedc0e)@pekr The provided demo Excel file is using `ChDir ActiveWorkbook.path` to force Excel to use the current folder as working folder. Maybe that trick does not work in newer Office?

[09:51](#msg5881ddbfe836bf70106aa815)@rebolek That code could work, though, I would prefer an object wrapper instead of a function, which would be more compiler-friendly (dynamically created functions can't be compiled AOT).

rebolek

[09:54](#msg5881de4d61e516c15791a48c)@dockimbel I see. I will try to rewrite it.

pekr

[10:41](#msg5881e95411e7a7f61dbf2922)@dockimbel The debugger stops on `redOpenReal` ... which just seems to be a wrapper to `redOpen()`. Can't find any `ChDir ActiveWorkbook.path`in the displayed code. Sorry if I am confused, have only limited understanding of what is actually going on :-)

dockimbel

[10:41](#msg5881e974300f220a660f38cd)@pekr Which demo/sheet are you using?

pekr

[10:42](#msg5881e9a5cbcb28177093940a)Ah, sorry, there are three sheets ....

[10:43](#msg5881e9d8519afee26b8d7df3)I was at Pong. The code is short ... will try to somehow get it to print the path ....

dockimbel

[10:45](#msg5881ea38e836bf70106aee83)The current folder change happens in the `runPong()` macro which is behind the "Run Demo" button.

pekr

[10:50](#msg5881eb7a11e7a7f61dbf3253)Hmm, the path is correct. Tried both ActiveWorkBook and ThisWorkBook ... the question is, why it does not work ....

[10:51](#msg5881eb996c1635643c531ca2)The path is the same when I just hit enter, without even ChDir.

dockimbel

[11:37](#msg5881f66cdcb66e4f76899d8b)@pekr Those are not the same as "current path" for the process, which is used to search for DLLs. `ChDir` is mandatory.

pekr

[11:37](#msg5881f67ce836bf70106b34b4)Hmm, maybe something wrong with the DLL itself. Used dependencywalker.com

dockimbel

[11:37](#msg5881f697300f220a660f7e48)Did you use the DLL provided in the same folder as the Excel file?

pekr

[11:38](#msg5881f6a3dcb66e4f76899e32)yes ....

[11:38](#msg5881f6b611e7a7f61dbf6e5b)Let me investigate further, to not confuse you .... found also this - http://stackoverflow.com/questions/39610157/vba-calling-c-dll-error-48-file-not-found

dockimbel

[11:38](#msg5881f6cce836bf70106b35ca)Are you sure your Office version is 32-bit and not 64?

pekr

[11:40](#msg5881f73411e7a7f61dbf7086)Well, not anymore. My admins told me, we never use 64bit versions, but mine got downloaded from testing Office365, will check ...

[11:45](#msg5881f84c11e7a7f61dbf7640)Damned, sorry for wasting your time Doc :-( It actually is 64 bit. I should have checked myself, instead of asking admins. My ntb was reinstalled few weeks ago after SSD crash ... I have never ever used 64 bit version before :-(

geekyi

[17:38](#msg58824af9d43728124e81719b):point\_up: \[January 20, 2017 3:22 AM](https://gitter.im/red/red?at=58813c1061e516c1579199a7)  
&gt; Sometimes I want to find some string in some directory (like grep can do) but I don’t want to leave red console. So I wrote PAF

@meijeru also wrote a similar \[grep](https://gist.github.com/meijeru/badcc5184f312aedf51a010b4718a148) tool

[17:38](#msg58824b10074f7be763f709e5)Gotta try them all!

rebolek

[17:46](#msg58824d0cd99b1dd03d30d008)Great!

gltewalt

[20:26](#msg5882726bcbcb28177096b36c)Is there a way to escape into O.S. command line, or interpolate command line into Red code?  
Like maybe a Command! type?

pekr

[20:40](#msg588275adcbcb28177096c70a)There is a `call`fucntion, but it is not automatically included in Red yet. Not sure, if it is fully finished either ....

gltewalt

[20:41](#msg588275df11e7a7f61dc28836)Ok, thank you

[21:27](#msg588280d8d43728124e82beb9)Are these functions constructed with C, or with red/system?

pekr

[21:35](#msg588282b811e7a7f61dc2ea65)It is Red and Red/System: https://github.com/red/red/tree/master/system/library/call

## Saturday 21st January, 2017

meijeru

[10:59](#msg58833f26300f220a66159a8a)My GREP tool finds patterns in strings or text files, not in filenames as PAF appears to do.

ghost~5680c5f416b6c7089cc058a5

[11:30](#msg5883466dcbcb2817709a1bb0)@dockimbel

[11:33](#msg58834726dcb66e4f769029bd)The pong demo doesn't work fine for me -

[11:34](#msg5883473511e7a7f61dc61ed0)\[!\[an.gif](https://files.gitter.im/red/red/PRwy/thumb/an.gif)](https://files.gitter.im/red/red/PRwy/an.gif)

dockimbel

[11:35](#msg58834795300f220a6615c416)@nc-x Did you check the requirements from \[here](https://github.com/red/red/tree/master/tests/libRed)? Can you debug it (VB is probably using a wrong coordinates system due to specfic local settings)?

ghost~5680c5f416b6c7089cc058a5

[11:37](#msg588347e6074f7be763fb90cb)I am on windows 8.1 using 32 bit Office 2010

dockimbel

[11:38](#msg58834823d43728124e85fdc4)Is your desktop set to use 100% font size?

[11:39](#msg58834870dcb66e4f76902f53)\_This demo is optimized for Windows 7, using display font size of 100% and Aero activated. Other Windows settings and versions would need some code tweaking to get the VB form window position and size adjusted (a contributed general solution for that is welcome)._

[11:40](#msg588348a1cbcb2817709a27dc)The VB code might also require tweaking of the coordinate system in addition to the Form position/size adjustments.

ghost~5680c5f416b6c7089cc058a5

[11:49](#msg58834ad7e836bf701071c28f)Font size is 100%. It must be related to coordinate system issue that you said above, but as I have no idea about Excel or its Macros, unfortunately I won't be able to fix the issue.

dockimbel

[11:51](#msg58834b3e11e7a7f61dc63385)Maybe someone else, well versed in VB's intricacies, could help improve the Pong demo code? @asampal interested?

pekr

[13:49](#msg588366d0cbcb2817709aa40d)@dockimbel looking into the libRed docs, I can find only few specific mentions about something being 32 bit. Not understanding the issue properly, I am not sure, where, if at all, should/could it be mentioned, that we are not supporting 64bit? Or are we and the issue is specific to the Office64 bit VBA?

dockimbel

[14:53](#msg588375ddd43728124e86d36d)@pekr Questions about which target can Red toolchain/runtime currently support should IMO best go into a FAQ page.

asampal

[15:21](#msg58837c86d99b1dd03d30deed)@dockimbel , I don't have more than passing VB experience, but I can take a look later today

dockimbel

[16:00](#msg588385a1cbcb2817709b298d)@asampal Thanks!

geekyi

[19:58](#msg5883bd7b074f7be763fda757)previous discussion: by @greggirwin :point\_up: \[rgrep / like / rawk](https://gitter.im/red/red?at=58387b748d65e3830e9d1026) and by @meijeru :point\_up: \[grep](https://gitter.im/red/red?at=5838b6d289d179bf4dc5be79)  
I think it would be a good idea to have at least one of those in the red/code repo?

[19:59](#msg5883bdaf074f7be763fda831)Btw, I tried to add to the wiki there, but have no permission

[20:27](#msg5883c434074f7be763fdcc0e)So did document on my own \[wiki](https://github.com/geekyi/code/wiki)

gltewalt

[21:14](#msg5883cf2ad43728124e8897f4)Where's Pong? I don't see it

SpoonBytes

[21:21](#msg5883d0f2dcb66e4f7692d8fb)Hello everyone. As someone new to Red/REBOL, is there a specific resource you'd recommend to learn it?

gltewalt

[21:25](#msg5883d1af11e7a7f61dc8d32b)This gentlemans contribution looks like it might fit your need.  
http://musiclessonz.com/rebol\_tutorial.html

[21:27](#msg5883d239dcb66e4f7692e0cf)That's for REBOL

[21:29](#msg5883d2c7dcb66e4f7692e315)This might be a better home guide?  
http://redprogramming.com/Home.html

SpoonBytes

[21:37](#msg5883d484dcb66e4f7692eb99)Thank you.

[22:29](#msg5883e0e611e7a7f61dc92657)Is there any reason why whenever I try to compile Red code it claims that the word "ask" is undefined?

gltewalt

[22:38](#msg5883e2e5074f7be763fe5d4f)Do you have input.red?  
You might need to include it like:  
#include %environment/console/input.red

SpoonBytes

[22:39](#msg5883e31be836bf701074948b)Where would that include statement be placed?

gltewalt

[22:39](#msg5883e31edcb66e4f76932c32)oops, forgot about the markdown symbols.  
Pound sign in front of include

SpoonBytes

[22:39](#msg5883e32311e7a7f61dc92f4f)Ah, okay.

gltewalt

[22:40](#msg5883e347cbcb2817709ce4a8)At the top of your script, after the Red header

SpoonBytes

[22:40](#msg5883e351dcb66e4f76932c90)Thank you very much.

[22:40](#msg5883e360e836bf701074957e)I didn't see any documentation regarding include directives. Is that something required for other functionality?

gltewalt

[22:43](#msg5883e427cbcb2817709ce75e)If the functionality isn't currently included in compiler, then the include (from source file) allows it to be compiled

SpoonBytes

[22:44](#msg5883e438d43728124e890777)I see.

[22:44](#msg5883e44111e7a7f61dc93322)Thanks.

gltewalt

[22:44](#msg5883e460300f220a661892f4)I'm just getting started with the newest version of Red, so others may have better answers for you

## Sunday 22nd January, 2017

greggirwin

[00:12](#msg5883f8e2cbcb2817709d3aba)If you scroll back a bit in the red/welcome and red/help groups there are a number of links to resources and some chat about getting started.

`Ask` seems to be tried by a lot of people new to Red. Perhaps it should be included by default. I can't remember if the reason it isn't was a console bootstrap issue.

[00:13](#msg5883f90cdcb66e4f76938d69)And welcome to Red @SpoonBytes !

timeyyy

[10:18](#msg58848705e836bf7010771220)Might need one of those community vurated awesome lists for red

meijeru

[11:33](#msg58849872cbcb2817709f8891)I suppose \*curated* ?

geekyi

[11:34](#msg588498decbcb2817709f89ec)@timeyyy not enough content, but http://www.red-lang.org/p/contributions.html works right now

[11:35](#msg588498ebe836bf7010775e85)As a curated list

[11:35](#msg588498f7cbcb2817709f8a2e)Need more community and contributions

ghost~5680c5f416b6c7089cc058a5

[12:51](#msg5884aac1074f7be763015b6a):point\_up: \[January 22, 2017 2:44 AM](https://gitter.im/red/red?at=5883cf2ad43728124e8897f4) @gltewalt  
Pong is here - https://github.com/red/red/tree/master/tests/libRed (read the README)

mikeparr

[15:50](#msg5884d4c0e836bf7010787509)

[19:44](#msg58850b91cbcb281770a1b9d7)On the www.red-lang.org/p/contributions.html page, around 16 links are not working - the ones that use red.esperconsultancy.nl/

## Monday 23th January, 2017

geekyi

[00:55](#msg58855468e836bf70107ae26a)@mikeparr Kaj seems to have disappeared :/ \*or hasn't been able to renew his website?*

idkjs

[19:20](#msg58865791519afee26ba1d736)hi folks. trying to run red on a mac. getting unknown command. Cant seem to find an issue that addresses. Any pointers?

[19:20](#msg58865795d43728124e95353b)Thanks.

gltewalt

[19:26](#msg588658f0d43728124e9541f2)Is that the full error message?

idkjs

[20:09](#msg5886630ae836bf701080c7c0)started over. looks like i was supposed to also install rebol?

geekyi

[20:34](#msg588668ddcbcb281770a8867c)@idkjs only if running from sources. The recommended way is from http://www.red-lang.org/p/download.html

[20:35](#msg5886692d519afee26ba24c80)I think the automated builds aren't working again @dockimbel

gltewalt

[20:51](#msg58866ceccbcb281770a89afb)ask is included in Red console, or when you run scripts - but not if you want to compile

[20:52](#msg58866d25519afee26ba2615e)(Well, working in VSCode it's that way)

idkjs

[21:52](#msg58867b38dcb66e4f769fe9df)thanks.

justjenny

[23:29](#msg588691ddcbcb281770a964e6)@gltewalt @idkjs yes thats it, i think there's an #include needed to compile with 'ask'

gltewalt

[23:33](#msg588692ac074f7be7630b60b8)There is, but at this point it should be... included. I think.

## Tuesday 24th January, 2017

justjenny

[01:30](#msg5886ae51c19662f1537f1a07)just wondering - The superb and brilliant 'Red' in under one meg in size, but everyone is dribbling over this pimped up text editor that is what, 32 ish meg and then all its dependancies on top of that - what's it all about ? - just a question .

CodeTortoise

[01:37](#msg5886afe5c0de6f017fe20972)Personally, I like VSCode because it is fairly fast load up, is very minimal, and more often than not has a high quality plugin for a language or feature I need. This is in contrast to Atom, which is a lot more fully featured but often slows down, and has a longer start up time. Also in contrast to Sublime, which is great, but is relatively expensive and is not updated as frequently.

justjenny

[01:38](#msg5886b029e836bf7010826bb6)whats the point of having a portable language like Red, and then encumbering it with an over sized resource hungry text editor

CodeTortoise

[01:40](#msg5886b091c0de6f017fe20c6c)I do however agree that a built in editor with syntax highlighting and indenting makes sense to have, and is sort od necessary given the philosophy and ambition of Red being a tiny yet full stack a

[01:40](#msg5886b094c19662f1537f22fe)Language

[01:43](#msg5886b128c19662f1537f254b)Rebol2 has it. I can just type editor none in the console and get an admittedly sparse editor, but it's there.

[01:43](#msg5886b156c19662f1537f25dd)Heck, swipl Prolog has a useful editor built in. So does QT J

justjenny

[01:46](#msg5886b1f6519afee26ba3c19a)yes the Vscode editor is pretty good, but as usual withe ms, at a cost, we have a 'one meg' - tiny and fully functional language - but then we use this over sized text editor - what is the original Red dream ?

geekyi

[03:38](#msg5886cc49074f7be7630c75b2)@justjenny It would be better if we have a tiny editor written in red ;)

[03:40](#msg5886cc93dcb66e4f76a186db)But until then..

[03:41](#msg5886cce7c19662f1537f964b)What I've noticed is the community use a vast number of different editors. I'm using mostly sublime, and try others from time to time

[03:42](#msg5886cd3ccbcb281770aa6568)Also, it's good for marketing when we have integrations in all of the editors and IDEs

[03:43](#msg5886cd4611e7a7f61dd7af04)Diversity is also always good

[03:44](#msg5886cda0cbcb281770aa66b2)Oops, I see the discussion has moved to https://gitter.im/red/red/welcome. Sorry about the noise

gltewalt

[03:45](#msg5886cdc5cbcb281770aa66fb)Console is half there in a way. It has 'what' and 'source' and tab completion. (At least on Windows)  
Just need an edit mode and a few other whistles.  
No?

[03:45](#msg5886cdd4c0de6f017fe27c9f)Ah... oops

rebolek

[06:33](#msg5886f52b61e516c157920424)@justjenny remember that Red is still in Alpha. There are still missing some crucial things for editor like system clipboard. So can we expect built-in editor/IDE? IMO, certainly yet. But when? That’s different question.

timeyyy

[06:55](#msg5886fa61074f7be7630d3107)Might consider embedding neovim like https://github.com/oakes/SolidOak

[06:56](#msg5886fa81c19662f153805c17)All

pekr

[07:28](#msg5887023acbcb281770ab34e8)@CodeTortoise @justjenny I somehow miss the point. One of the fatal mistakes of Rebol, was - let's do it all ourselves. Basice/free variant did not allow you to call into the shell, nor library interfacing. So most of the outer world successfuly ignored it. Chances are, that ppl are alredy using some editor - the more we support, the better imo.

[07:29](#msg58870251519afee26ba51437)Should we not have VBA interface, because - well, MS is evil? That's not a way to go.

[07:30](#msg58870286c19662f153808a71)Should Red provide it's own editor? Well, sure, sometimes in the future, why not? It's not a crucial feature for me though, I want IO and other features first ...

geekyi

[07:47](#msg5887068d519afee26ba5294c)Agree much with @pekr

DideC

[09:26](#msg58871db8074f7be7630dee25)@pekr +1.  
Editor choice is a personnal taste. If not there will not be so much of them in the world. It's probably the most duplicated kind of program out there, like flowers in Nature.  
And actually, Nenad and Quinktian are working on the Red language. I'm pretty sure an integrated IDE will be packed in the .exe in the future, but there is some missing parts that make it not ready to be in right know (mostly I/O and GC for Windows, but needs also View on all platforms to be relevant).

[11:09](#msg588735e1dcb66e4f76a389a3)(`call`is also missing to launch compilation or run a script easily from a red program)

endo64

[11:43](#msg58873dfbc0de6f017fe4b9d6)I personally am waiting for Red version of Cheyenne web server, an object database system on rebin format, a document db holding Red objects in native format and serves them in Red/JSON/BSON/XML formats when necessary. Of course after ports, IO, Networking and GUI.

gltewalt

[15:43](#msg5887762fc19662f153835cdd)In my mind, IO and good debugger would be most important

DideC

[16:13](#msg58877d34074f7be7631049c6)Without a proper GC, that would not be so usefull as you could not use it without eating memory.

[16:15](#msg58877d9211e7a7f61ddbade2)I do program Rebol since more than 10 years without debugger. I could not do that in C.

greggirwin

[19:21](#msg5887a94011e7a7f61ddcf10b)@timeyyy, it looks like NeoVIM is experimental on Windows. Base download is ~6M and neovim-qt is ~18M on top of that. Probably not a good fit for embedding in Red.

timeyyy

[19:41](#msg5887add7dcb66e4f76a693a5)The current milestone is windows support :)

CodeTortoise

[21:14](#msg5887c39fdcb66e4f76a72b8f)NeoVim is a great vim. I wonder how much of a challenge it would be to implement it in Red. Anyways, the philisophy of NeoVim is that vims only necessary feature is it's interface, and not the legacy of it's implementation.

## Wednesday 25th January, 2017

greggirwin

[00:23](#msg5887f00ddcb66e4f76a83a64)Probably not too much of a challenge. The source is compressed on rebol.org, but Cate Dixon wrote an editor for R2 a long time ago: http://www.rebol.org/view-script.r?script=rem-ext42.r

[00:26](#msg5887f0c2c19662f15386acda)And the source for the GUI editor in R2 (`ctx-text`) is viewable, so things could be learned there as well.

DideC

[09:15](#msg58886ca2e836bf70108bdf48)Actually a basic Red text editor can \[look like this](https://gist.github.com/DideC/61138fe905a6950359087a07a374e0d4). But it just handle the basic of loading/saving a file. No fancy features for the moment.

meijeru

[12:45](#msg58889dfd11e7a7f61de244d1)I am writing a text editor with the following features: tab-panel with multiple tabs for sources, interpretation (no compilation, no `call` needed), output capturing and full error reporting, resizable, somewhat configurable. Cannot publish at the moment because of issue #2420 which prevents proper handling of source tabs (editing areas). Is almost operational with exactly one tab. Done in some 300 LOC.

maximvl

[13:42](#msg5888ab59cbcb281770b4129e)there is simple one, in Rebol: https://github.com/ldci/RedEdit

Oldes

[20:09](#msg588905f6519afee26bb036d8)I improved my AIR - Red extension a little bit with simple text coloring.. so it looks like this now:  
https://raw.githubusercontent.com/Oldes/ANERed/master/Test-app-screenshot.png

InvoiceFox

[20:35](#msg58890c0de836bf70108fdf6c)I made a simple binding with red/system, but I can't see any examples on how to make it in red now ... or use it from red well. esperconsultancy is down so I can't see the code for most of bindings. Other I see just red system variants. I know the #system \[] and then routine, but I see I need to compile such script then, can't run it interactively

[20:35](#msg58890c2ddcb66e4f76aee855)is there any example out there that I can look at?

Oldes

[20:58](#msg58891168c19662f1538d47f0)@InvoiceFox cannot you just include your red-system file in the

```
environment/console/gui-console.red
```

file?

[21:00](#msg588911d911e7a7f61de57794)For example here: https://github.com/red/red/blob/master/environment/console/gui-console.red#L23

rgchris

[21:08](#msg588913d5c0de6f017ff008d7)@InvoiceFox Not sure how much the scripts have changed since, but @kealist created a backup repository a while back of the esperconsultancy bindings: https://github.com/kealist/RS-fossil-mirror

InvoiceFox

[21:24](#msg5889177edcb66e4f76af349b)@rgchris thanks for the link! @Oldes ok, I could ... but if I understand, this means that for now for example you can't use Kaj's SQLite binding with the interpreter ./red somescript.r (or console). You have to compile if you use the binding?

## Thursday 26th January, 2017

qtxie

[01:33](#msg588951f0519afee26bb1c1e9)@Oldes Nice! :+1: It's written by AIR?

ghost~5680c5f416b6c7089cc058a5

[05:45](#msg58898cdcdcb66e4f76b1ea40)@InvoiceFox You can't use any R/S script from the interpreter be it a binding or anything else. You will have to compile it. You will be able to use it through the interpreter once JIT is available.

[05:46](#msg58898d2e519afee26bb32978)(I may be wrong but) AFAIK, there are plans to add something like rebol's "load/library" to Red, so then you will be able to write bindings in Red which you will be able to use through the interpreter as well.

InvoiceFox

[07:36](#msg5889a6f1cbcb281770b9fd46)Thanks for explanation @nc-x

meijeru

[09:55](#msg5889c7a011e7a7f61de982b7)Re editors written in Red, I have formulated another issue #2422 concerning the cursor position in an `area` face. I believe that Rebol had the necessary facilities. Anyone meet the same problem? Any solutions already?

rebolek

[09:59](#msg5889c86f61e516c157924b5c)@meijeru if you use the new `text-box!`, you can get cursor position.

meijeru

[10:16](#msg5889cc98e836bf7010943413)Where is that defined?? I don't see it in the documentation.

pekr

[10:23](#msg5889ce38074f7be7631e19a9)It's relatively new stuff, implemented in terms of one of Qtxie's branches ... maybe it is in mainline already, dunno ...

meijeru

[10:28](#msg5889cf4ec19662f15391a599)I will wait then till it becomes available in the main branch AND documented...

pekr

[10:33](#msg5889d089074f7be7631e2818)Some say, that the source code is your best documentation :-) Well, just kidding :-)

rebolek

[10:36](#msg5889d13b61e516c157924c07):)

[10:38](#msg5889d1b0d99b1dd03d316d84)It is not documented yet, but it is really easy to use. New Red (View based) console uses it. I use it to write an editor. It already has syntax highlighting and partial support for multiple selections.

meijeru

[14:48](#msg588a0c36e836bf7010960d0a)Could you point me to the source, please?

rebolek

[14:54](#msg588a0da0d99b1dd03d317557)https://github.com/qtxie/red/tree/red-console

[14:54](#msg588a0dc261e516c1579253b5)also https://github.com/rebolek/red/tree/editor

meijeru

[15:30](#msg588a160dc0f28dd862481401)Thanks, I will wait till doc incorporates it in the master branch.

rebolek

[15:31](#msg588a1643db9cafe9183ddf87)I understand. It’s moving target right now.

## Friday 27th January, 2017

meijeru

[16:02](#msg588b6efec0f28dd8624e0908)It looks like the feed from the Red repository to this room (notifications in right panel) has stopped !?!

ModalSeoul

[16:44](#msg588b7901dcb66e4f76bb3741)Heya, compiling a simple program throws `invalid flag -c`

greggirwin

[20:36](#msg588baf42fba5bfea0697f12d)@meijeru I just commented on #2423, but now I don't remember if comments show up in notifications. If they should, I agree that it stopped working.

[20:36](#msg588baf655309d6b35877a040)@ModalSeoul, can you post the exact example that's failing for you?

meijeru

[21:35](#msg588bbd1b4c04e9a44e3c70cc)@dockimbel We have a serious problem with the feed!

greggirwin

[22:08](#msg588bc4d04c04e9a44e3c9375)He may be traveling. Does anyone know if this is a known gitter issue?

## Saturday 28th January, 2017

geekyi

[06:25](#msg588c39665309d6b35879b0d4)@meijeru @greggirwin :point\_left: \[known issue with gitter](https://gitter.im/gitterHQ/gitter?at=588bb77ffba5bfea06981893)

PeterWAWood

[06:48](#msg588c3eb8e836bf70109f5e35)@ModalSeoul &gt; Heya, compiling a simple program throws `invalid flag -c`

Could you share the command that you used to compile the program as I was unable to locate such a message in the compiler.

greggirwin

[16:03](#msg588cc0e82ff29dec06499166)Thanks @geekyi.

## Sunday 29th January, 2017

endo64

[19:36](#msg588e4429e836bf7010a7a2be)@dockimbel `get` doesn't allow `none` for its argument, but it does on Rebol, is this a intended change?  
It was useful when using like `get pick [word1 word2] 3`

## Monday 30th January, 2017

greggirwin

[02:04](#msg588e9f12fba5bfea06a4167b)I don't know that I've ever relied on that behavior. Tricky choices, because sometimes transparent `none` handling is useful. Other times it hides errors I want to know about.

endo64

[06:59](#msg588ee4592ff29dec06527476)I agree too much relaxing makes difficult to find errors, but some relaxing is useful.  
On R3 `get` is much more relaxed. `get 5 ; >> 5`, `get context [a: 1 b: 2] ; >> [1 2]` which I don't think that much relaxing is necessary.

Oldes

[10:33](#msg588f167f4c04e9a44e4a27a6)@qtxie @dockimbel as I'm forced to use Windows10 with HiDPI resolution, I noticed, that text in Red apps is blurred, probably because using old api. I wonder what must be done to have crisp text as in Windows modern apps and or browsers and so also Red having modern look on this OS?

pekr

[10:40](#msg588f18001e4d4bd962aecc1b)As for the text in general. Windows still did not get scaling right imo. When I use my FullHD monitor, and my ntb monitor as a secondary one, I set ntb to 125%, as FullHD on 14" lcd is not a pleasure to use. I have to relogin or reboot, or some of apps are blurry, including the MS ones as Outlook.

[10:40](#msg588f18184c04e9a44e4a309a)In regards to HiDPI, it might be some other issue, never owned such a monitor :-)

Oldes

[11:18](#msg588f2117dcb66e4f76cadcba)Actually the app is responsible to respond on OS scaling change. Most of them probably don't do that. I guess that most developers are still using FullHD and Windows7 so don't care much.

[11:26](#msg588f22f6e836bf7010abd93c)Red and many other not updated apps is using just simple method, where window is rendered in original size (100%) and than scaled up by OS, so even on HiDPI 200% scaling (recommended and default) it looks ugly.

[13:27](#msg588f3f385309d6b35886ed80)Proper behavior is to have window which is not scaled, but layout defined with the scaling counted.

meijeru

[17:05](#msg588f72662ff29dec0655fd10)Feed from Github seems re-established, but there is a 3-day gap!

## Tuesday 31st January, 2017

Oldes

[11:04](#msg58906f4d4c04e9a44e51446f)@meijeru Isn't the gap mostly because lunar new year in China and Nenad traveling around globe?

gltewalt

[22:20](#msg58910db3dcb66e4f76d5a403)Are there docs on the core mechanism of red (or rebol)? Turns out I've been getting by with misconceptions

[22:20](#msg58910dc95309d6b358910065)\*mechanisms

## Wednesday 1st February, 2017

greggirwin

[00:01](#msg589125544c04e9a44e5598c0)Rebol's designer once said it's like a lake. There are shallow parts but it goes deep. And it's not always a gradual slope. There's a long way you can go without finding a deep spot, then you walk off the edge and flounder around for a while, trying to catch your breath. :^)

[00:04](#msg58912619c0f28dd8626a952f)As far as docs, related to scoping there is http://stackoverflow.com/questions/21964110/is-there-a-overall-explanation-about-definitional-scoping-in-rebol-and-red/21964858#21964858, and a number of old articles by Ladislav Mecir on \*bindology\*.

There are a lot of mechanisms but perhaps one of the main, deeper things to grasp is that everything is data until it's evaluated, and words carry a binding with them, that determines their context when evaluated.

gltewalt

[00:23](#msg58912a85fba5bfea06b2862c)Oh, so it's functional scoping?

[00:24](#msg58912aa0e836bf7010b6fa2d)With a scope goto in Bind ?

[00:24](#msg58912ac8c0f28dd8626aac78)(or State goto)

maximvl

[14:21](#msg5891eedd5309d6b3589549ae)@gltewalt there is no scope at all

geekyi

[14:23](#msg5891ef795309d6b358954bc4)conversation moved to https://gitter.im/red/help

## Friday 3th February, 2017

meijeru

[15:32](#msg5894a2982ff29dec067239c1)Further to the virus discussion: I have a GUI script which, when compiled under W10 with target MSDOS is refused by Norton because of `Heur.AdvML.B` and when compiled with target Windows is accepted.

[15:33](#msg5894a2c81e4d4bd962ce252a)This must be something to do with libRedRT presumably.

## Saturday 4th February, 2017

Skrylar

[01:14](#msg58952af71319d8183eecea1e)@PeterWAWood hm. well the master branch doesn't succomb to #2426 on my system, but it doesn't build the repl.

[01:14](#msg58952b015bc3025608c47aa5)\[whack-a-mole intensifies]

PeterWAWood

[08:16](#msg58958de93f5ec4d00753df89)@Skrylar How did you try to build the "repl" with the master branch?

[08:23](#msg58958f85a5805a273e115aec)This is how I would built the "repl" using the master branch:

```
rebol -qs red.r -o repl environment/console/console.red
```

[08:24](#msg58958fa03f5ec4d00753e7e2)At the moment, I am getting a compile error which I need to investigate.

Skrylar

[23:00](#msg58965d16a5805a273e14ff3c)@PeterWAWood that's what i did too, without the `-o repl` part.

```
[pkgbuilder@UFO red.git]$ rebol -qw red.r environment/console/console.red

-=== Red Compiler 0.6.1 ===-

Compiling /home/pkgbuilder/red.git/environment/console/console.red ...
...using libRedRT for Linux
...compilation time : 245 ms

Target: Linux

Compiling to native code...
*** Compilation Error: undefined symbol: red/unicode/decode-utf8-char
*** in file: %/home/pkgbuilder/red.git/environment/console/POSIX.reds
*** in function: exec/terminal/fd-read
*** at line: 235
*** near: [
    unicode/decode-utf8-char utf-char :len
]
```

[23:01](#msg58965d5aca6c6eb44947bead)that ones for `080ebedffdfc14f732d96874ec69b72d0aea8e54`

[23:18](#msg58966133ca6c6eb44947cd96)0.5.4 says `*** Error: File not found` in response to #2426 while 0.6 still says can't find file

[23:19](#msg589661923f5ec4d007578553)@Skrylar ponders why its doing file I/O for command line parsing

[23:22](#msg5896621f3bcc9b3b25dd85b2)Bleh. Was going to do a bisect but none of the versions before the qtixie-console merge run without a copy of readline that isn't on arch

[23:34](#msg58966504ca6c6eb44947dc89)`1fc6453437b6fac0e8517b0aec3b3718fe464159` is the first commit to break master with unicode decoding errors

[23:35](#msg5896655d3f5ec4d0075791b2)Interestingly, if I run red (master or 0.6.1) through rebol I get working command lines (rebol -qw red.r -h)

[23:36](#msg58966562ca6c6eb44947de18)But not through a standalone

PeterWAWood

[23:36](#msg5896656873e8cb0a091915c5)@Skrylar I finally remembered that the error is caused because the pre-compiled LibRedRT does not include all the functions required by the console. Since the introduction of LibRedRT, the console needs to be compiled using the

```
-r
```

release option.

```
rebol -qs red.r -r -o repl environment/console/console.red
```

Skrylar

[23:38](#msg58966601a5805a273e15219c)@PeterWAWood Using -r works to compile a repl from master (arch.) Compiled version still has #2426, running red.r through rebol work as expected.

[23:39](#msg5896664646101c12098af0f3)@Skrylar bothers @dockimbel to have someone update the compile instructions on the site to include the -r requirement

PeterWAWood

[23:41](#msg589666b55bc3025608c99e74)The documentation on Github reflects the latest stable release, 0.6.1. It will be updated during the 0.6.2 release process.

## Sunday 5th February, 2017

meijeru

[10:16](#msg5896fb6e46101c12098d1ffe)Again, Github feed (right panel) is unstable!

geekyi

[10:58](#msg5897053cca6c6eb4494a3d5b)@Skrylar  
&gt; @Skrylar bothers @dockimbel to have someone update the compile instructions on the site to include the -r requirement

https://gitter.im/?at=5874051adec171b811c94d5e

[11:03](#msg58970691a5805a273e177f40)OK, since that doesn't work right now, archives: https://gitter.im/red/red/archives/2017/01/10

meijeru

[13:37](#msg58972a973f5ec4d0075a6ae9)A curiosity for your Sunday entertainment: `second` is defined on values of type `time!` and yields the minutes :smile: To get at the seconds, you need to apply `third`.

greggirwin

[17:58](#msg589767c46b2d8dd552048239)Fun with words. :^) To clarify @meijeru's comment `second` gets the second value from a time, when you look at a time as 3 segments (HH:MM:SS), but `t/second` returns the number of seconds in the time. You can see this in %time.reds in the `eval-path` function, but that doesn't tell you more than just playing in the console to see how it works.

[18:06](#msg5897699121d548df2ccc34b3)Note that you can also use `pick` to select field values.

[18:08](#msg58976a3b6b2d8dd552048fb2)Here's an old func I wrote for R2, which won't work in Red yet because we don't have a `date!`.

[18:10](#msg58976a9b6018ccd65272d5ae)

```
date-part: func [
    "Return one or more unit parts of a date!"
    date [date! time!]
    part [word! block!] "One or more of the following: date month year day time hour minute second weekday yearday utc zone"
    /local res
][
    res: reb-collect [
        foreach word compose [(part)] [
            keep switch/default word [
                date     [date/date]
                month    [date/month]
                year     [date/year]
                day      [date/day]
                time     [date/time]
                hour     [date/time/hour]
                minute   [date/time/minute]
                second   [date/time/second]
                weekday  [date/weekday]
                yearday  [date/yearday]
                utc      [as-utc date]
                zone     [date/zone]
            ] [none]
        ]
    ]
    either block? part [res] [pick res 1]
]
```

[18:10](#msg58976ab321d548df2ccc3a3f)Gitter having issues just posting messages now too.

asampal

[19:42](#msg58978017fef1d2de52a914a7)@greggirwin are you using the "Next" version of Gitter or the stable release? I'm on Next and haven't had any issues recently.

greggirwin

[19:53](#msg589782a76b2d8dd552050ce8)I haven't specifically selected Next anytime in recent memory. I know the Glip desktop app always wanted me to do that, but I'm only using Gitter in the browser.

asampal

[19:53](#msg589782cafef1d2de52a914e3)I'm in the browser too.

nicolas42

[23:40](#msg5897b7fd6018ccd6527463d5)How do I compile red/system code then access it from red?

## Monday 6th February, 2017

PeterWAWood

[02:20](#msg5897dd5aaa800ee52c583aef)@nicolas42 At the moment you need to incorporate the Red/System code inside a Red program and compile the Red program. You can incorporate Red/System code using the

```
#system
```

and

```
#system-global
```

directives or in a

```
routine!
```

. A

```
routine!
```

allows you to interact between the Red code and the Red/System code.

Here is a trivial example:

```
Red []
i: 1
double: routine [i [integer!] return: [integer!]] [i * 2]
print double i
```

[02:21](#msg5897ddb11465c46a5627b538)

```
integer!
```

,

```
logic!
```

, and

```
float!
```

values are automatically "converted" when passed via a routine, others are not in the current alpha releases.

[02:27](#msg5897df181465c46a5627bb2a)@nicolas42 Please don't double post in multiple threads.

[02:30](#msg5897dfaa6b2d8dd55206baa1)There is no official documentation on using Red/System code from Red yet. The features are introduced in the \[Red Language Blog](http://www.red-lang.org).

rebolek

[09:50](#msg589846ecfef1d2de52a92471)@nicolas42 this is frequently asked, so here is simple guide http://red.qyz.cz/red-system-from-red.html

DideC

[10:50](#msg589854fe6b2d8dd55209553a)@rebolek nice tuto. But it can be expand to show the "all-in-one file" syntax that Peter just put up there.

rebolek

[10:58](#msg589856d34150746b1512bef6)@DideC Thanks for the tip, I add it.

greggirwin

[17:54](#msg5898b8541465c46a562cc74d)Thanks for doing that @rebolek. All the little things add up.

rebolek

[17:55](#msg5898b876567b0fc8138c7ac4)@greggirwin Thanks, I will release updated version tomorrow.

## Tuesday 7th February, 2017

rebolek

[08:48](#msg589989ee4150746b1512de6d)@DideC \[article updated](http://red.qyz.cz/red-system-from-red.html)

Oldes

[11:00](#msg5899a8e5f045df0a22180c04)@rebolek I don't think that conversion of

```
string!
```

and

```
block!
```

is \_something outside the scope of this article_ as you claim. Especially when you say it is \_not hard_ in the same sentence. Actually these more advanced steps are key one.

rebolek

[11:17](#msg5899acce4150746b1512e1eb)@Oldes it is not hard, but it is not easy n the sense that you probably can’t figure it out yourself. It certainly is out of the scope of that article, because I as author think it is ;)

[11:18](#msg5899acff567b0fc8138c9272)Anyway, that one article is not full book covering everything. I will write an article about types conversion later.

greggirwin

[18:18](#msg589a0f6000c00c3d4f0a73b9)Nice update @rebolek. Small typo: "Here is \*na* example"

[18:18](#msg589a0f86f045df0a221a934c)In the `#include` section.

rebolek

[18:20](#msg589a0fec9eb1bd81481bed7c)@greggirwin Thanks, fixed.

## Wednesday 8th February, 2017

dockimbel

[09:54](#msg589aeac46b2d8dd552180140)Back! ;-) Unpiling emails and messages...

rebolek

[09:58](#msg589aebd74150746b151305b9)Welcome! :)

dockimbel

[10:45](#msg589af6c6872fc8ce620acc27)@Oldes IIRC, you can disable the auto-upscaling Windows feature from the executable properties (in Compatibility tab). We will switch to that mode by default when we'll add the (auto-)scaling support to View engine.

[10:54](#msg589af8daf045df0a221f3dfc)@endo64  
&gt; @dockimbel `get` doesn't allow `none` for its argument, but it does on Rebol, is this a intended change?  
It was useful when using like `get pick [word1 word2] 3`

Yes, intended. I don't think such code pattern is nice to use or common enough to justify relaxing `get`. Though, this is open to debate if there are some common use-cases which could benefit from it.

[10:55](#msg589af9306b2d8dd552184f6d)@Skrylar We should update the compilation instructions soon on the red/red landing page, as we prepare for the new release (as soon as we process enough tickets).

maximvl

[10:55](#msg589af9336b2d8dd552184f83)good to see you back :D

dockimbel

[11:01](#msg589afa8af045df0a221f48a8)@Oldes :point\_up: \[January 26, 2017 4:09 AM](https://gitter.im/red/red?at=588905f6519afee26bb036d8) Is that console built using ActionScript?

[11:08](#msg589afc4421d548df2ce01edc)@meijeru :point\_up: \[January 25, 2017 8:45 PM](https://gitter.im/red/red?at=58889dfd11e7a7f61de244d1) Sounds cool! I'm putting #2420 in my top list.

Oldes

[14:35](#msg589b2cac6b2d8dd5521993bc)@dockimbel yes... it is just a simple AS console with binding to Red... I was doing it mainly as a prove of concept, so nothing fancy.

## Thursday 9th February, 2017

9214

[14:42](#msg589c7fd5f045df0a222752df)https://thorstenball.com/blog/2017/02/08/higher-value-tools/  
&gt; There are certain tools that provide incredibly high value. &lt;...&gt; And I think there’s something they all have in common &lt;...&gt; It seems to me what they all have in common, what is close to their center of power, is \*parsing\*.

:wink:

greggirwin

[16:47](#msg589c9d146b2d8dd552217d35)I agree. On a grand scale, it will also drive part of the data science explosion. The flip side to writing useful parsers is having data you can parse, easily.

gltewalt

[22:14](#msg589ce9d1de50490822aad1fa)Strange behavior from Red 0.61 console. Windows 7.

Ten digits of 5 or 9, return a different value.

5555555555

9999999999

All other numbers of ten digits in length error with "Invalid value".

All numbers of 11 or more places in length error with "Invalid value"

[22:21](#msg589ceb856b2d8dd552237011)Well, the lady part is my assumption. I stopped when all numbers of eleven places blew up. I didn't try numbers of more than 11 places.

[22:22](#msg589ceb9f6b2d8dd552237083)s/lady/last

geekyi

[22:43](#msg589cf08bde50490822aafeb5) @gltewalt Works for me with red-25jan17-080ebed.exe Windows 10

```
red>> 555555555555555555
== 5.555555555555556e17
```

[22:44](#msg589cf0d821d548df2ceb6dd9)

```
red>> type? 5555555555
== float!
red>> type? 555555555
== integer!
```

gltewalt

[22:45](#msg589cf10dde50490822ab003c)Also, this isn't Windows from source. It's the one click download for the .exe  
I haven't tested on Windows 10

[22:46](#msg589cf13d1465c46a5644bb2b)I don't recall the date - not on the laptop anymore

geekyi

[22:48](#msg589cf1da6b2d8dd5522399be)I'm using one click download \[\*Automated builds, master branch\*](http://static.red-lang.org/dl/auto/win/red-25jan17-080ebed.exe) binary from http://www.red-lang.org/p/download.html page (Yeah, I can reproduce error with stable 0.6.1)

gltewalt

[22:50](#msg589cf245872fc8ce621637ca)I'll grab the current one

[22:50](#msg589cf250de50490822ab067f)Re download

[23:01](#msg589cf4b4aa800ee52c758ca1)Same issue. Breaks on Win 7 64bit

[23:03](#msg589cf54d1465c46a5644d68c)

```
red>> type? 222222222
== integer!
red>> type? 2222222222
*** Syntax Error: invalid value at "2222222222"
*** Where: do
```

[23:04](#msg589cf597872fc8ce62164ac6)

```
red>> type? 5555555555
== integer!
red>> 5555555555
== 1260588259
```

[23:06](#msg589cf5f400c00c3d4f1ae47c)

```
red>> 8888888888
*** Syntax Error: invalid value at "8888888888"
*** Where: do
red>> 9999999999
== 1410065407
```

geekyi

[23:16](#msg589cf8541465c46a5644e789)@gltewalt Strange.. with latest I don't get the error, can you confirm it's the same build as mine from above link? :

```
red>> type? 12345678901
== float!
red>> system/build/config/build-basename
== %gui-console-2017-1-25-13785
```

Because I do get error if using red-0.6.1 stable:

```
red>> type? 12345678901
*** Syntax Error: invalid value at "1234567890"
*** Where: do
red>> system/build ; only shows date
== "21-Nov-2016/1:06:30+5:00"
```

[23:16](#msg589cf869de50490822ab2972)Report as bug if still errors

gltewalt

[23:17](#msg589cf881aa800ee52c75a00b)Stumbled onto it when testing a Digital Root function.

```
red>> drt: func [n [integer!]] [1 + ((n - 1) % 9)]
== func [n [integer!]][1 + ((n - 1) % 9)]
red>> drt 2345
== 5
red>> drt 234534566
== 2
red>> drt 2345345666
*** Syntax Error: invalid value at "2345345666"
*** Where: do
```

[23:21](#msg589cf99100c00c3d4f1af604)@geekyi I'm grabbing the Stable

geekyi

[23:23](#msg589cf9df6b2d8dd55223c45e)Use the automated builds; they are pretty stable to be fair :point\_up: \[February 10, 2017 3:48 AM](https://gitter.im/red/red?at=589cf1da6b2d8dd5522399be)

[23:23](#msg589cf9f21465c46a5644f12e)On the same page

gltewalt

[23:26](#msg589cfa9900c00c3d4f1af9d6)Yep, automated build works.

Stable blows up.

## Friday 10th February, 2017

marccarson

[04:44](#msg589d451e872fc8ce6217ab84)Hi, I was just trying the Mac OS build 061 from the Red website and I can't seem to compile example code that needs 'view. Any tips on this? It says invalid definition for function exec/gui/GdipCreateFromHWND.

PeterWAWood

[05:00](#msg589d48fa6b2d8dd552250d6a)@marccarson The macOS 0.6.1 build does not include View. Good progress is being made on View for macOS and it is planned to be include in Red Alpha 0.6.3. If you want to try out Red macGUI, it can be found in the

```
macGUI
```

branch in Github.

marccarson

[05:02](#msg589d4973de50490822ac6b08)I see, thanks @PeterWAWood - I might just give Wine a shot with Consolas installed. Looking forward to trying it in Linux tomorrow at work as well.

PeterWAWood

[05:19](#msg589d4d6bf045df0a222ba55d)@marccarson Work has only just started on a GTK+3 based View for Linux. You would need to run Red under Wine on Linux to use the GUI.

marccarson

[05:20](#msg589d4d891465c46a56464f1f)@PeterWAWood OK, Wine is great for now. Thanks.

geekyi

[21:36](#msg589e3256aa800ee52c7c549c)Github has a new feature named \[topics](https://github.com/blog/2309-introducing-topics), which are tags for repos, similar to ones we have in gitter

[21:37](#msg589e329a21d548df2cf23eb5)In other news, they are also adding more trello-like features aka \[activity-view](https://github.com/blog/2311-see-your-project-s-history-with-the-activity-view)

## Saturday 11st February, 2017

dockimbel

[04:56](#msg589e9969f045df0a2232624d)@geekyi We use \[Zenhub](https://www.zenhub.com/) here since a year, it's a more feature-complete version of activity-view.

[04:57](#msg589e99b1aa800ee52c7e13ac)@geekyi I will add some topics, feel free to propose better ones.

zetashift

[04:58](#msg589e99fe1465c46a564d56c3)Hey! I recently got interested in actor based programming languages? Currently Pony and Red has got me really curious; but I can't find anything about actors in Red at all! Is my google-fu just weak or is it a WIP?

ghost~5680c5f416b6c7089cc058a5

[05:34](#msg589ea27eaa800ee52c7e3444)@zetashift Red is in alpha state right now. It is a WIP. Actors are not yet implemented but planned. You can see the current roadmap over here - https://trello.com/b/FlQ6pzdB/red-tasks-overview

dockimbel

[07:49](#msg589ec1fe6b2d8dd5522cabb5)Code for testing if View module is available from the preprocessor:

```
#if modules contains 'View [...]
```

[07:49](#msg589ec21cf045df0a2232f40f)From Red preprocessor:

```
#if find config/modules 'View [...]
```

zetashift

[08:49](#msg589ed00a6b2d8dd5522ce85f)sweet thanks @nc-x

dockimbel

[08:50](#msg589ed049aa800ee52c7edfb2)Oh, I posted in the wrong channel...anyway, this can be useful to others too. ;-) The first one is for the R/S preprocessor.

[09:08](#msg589ed4a91465c46a564e2e0d)FYI, we are starting processing tickets in preparation for the 0.6.2 release.

maximvl

[10:48](#msg589eebf5872fc8ce621ffd3e)guys, do you think this is inconsistent behaviour?

```
red>> load "1"
== 1
red>> load "1 2 3"
== [1 2 3]
```

[10:48](#msg589eec036b2d8dd5522d6af5)`load` sometimes returns the thing and sometimes block

[10:51](#msg589eeca421d548df2cf556b6)integers more than `255` seem not allowed in tuples:

```
red>> 255.255.0
== 255.255.0
red>> 255.256.0
*** Syntax Error: invalid float! at "255.256.0"
*** Where: do
```

[10:59](#msg589eee9f6b2d8dd5522d7620)is there any way to get all refinements of a word?

[11:00](#msg589eeecc872fc8ce62200a1a)for example if I have image, can I find out properties names like `size` etc

endo64

[11:44](#msg589ef908aa800ee52c7f9ee3)@maximvl "refinements of a word" this is only possible for functions, otherwise you should find them in docs or in the sources.

maximvl

[11:45](#msg589ef9421465c46a564ecded)@endo64 well, you know that the state of the docs for now is so-so

[11:45](#msg589ef96df045df0a2233d08d)isn't it possible to add a refinement for each datatype to return list of all it's refinements?

PeterWAWood

[11:46](#msg589ef985de50490822b4b6ad)Datatypes don't have refinements.

endo64

[11:46](#msg589ef99af045df0a2233d0d0)"255.256.0" is evaluated as tuple and 256 is invalid in a tuple.

maximvl

[11:46](#msg589ef99d21d548df2cf58eac)would be nice to have for introspection &amp; live IDE

[11:46](#msg589ef9b3872fc8ce622039e7)@PeterWAWood well, I mean like all images have `size`

[11:47](#msg589ef9c2de50490822b4b7f8)or all series have `at`

[11:47](#msg589ef9e000c00c3d4f24f926)@endo64 yep, so my question is why limit ourselves with 255?

[11:47](#msg589ef9efaa800ee52c7fa226)tuples can be of any type, not just colors

[11:48](#msg589efa011465c46a564ed0d6)or bytes

PeterWAWood

[11:48](#msg589efa02aa800ee52c7fa2ac)

```
at
```

is a function

maximvl

[11:49](#msg589efa2d6b2d8dd5522da611)@PeterWAWood ok, but each series can have it's own implementation of `at`, right?

PeterWAWood

[11:50](#msg589efa6b1465c46a564ed271)There is one implementation of the function which is bound to the word

```
at
```

.

endo64

[11:50](#msg589efa811465c46a564ed2ad)&gt; guys, do you think this is inconsistent behaviour?

```
red>> load "1"
== 1
red>> load "1 2 3"
== [1 2 3]
```

@maximvl try using `/all` refinement:

```
red>> load/all "1"
== [1]
red>> load/all "1 2 3"
== [1 2 3]
```

maximvl

[11:51](#msg589efabdde50490822b4ba9f)@PeterWAWood ok, look, there is a single implementation of `mold` function, but implementation of `mold` for `char` is different from `mold` of `number`, right?

[11:51](#msg589efac96b2d8dd5522daab2)at leas this part of code shows this: https://github.com/red/red/blob/master/runtime/datatypes/char.reds#L132

endo64

[11:52](#msg589efaf000c00c3d4f24fce7)Otherwise we have to use `first` for many cases: `load "print" ; == print not [print]`

maximvl

[11:53](#msg589efb496b2d8dd5522dad0f)@endo64 thanks, didn't know about that one

PeterWAWood

[11:53](#msg589efb50aa800ee52c7fa785)Yes the functions are polymorphic.

maximvl

[11:54](#msg589efb7e6b2d8dd5522dadf6)@PeterWAWood ok, good, so what stops us from having polymorphic function for each datatype which will return it's defined properties?

PeterWAWood

[11:55](#msg589efbbff045df0a2233d9a8)Why would you need a polymorphic function for a single datatype?

maximvl

[11:55](#msg589efbc521d548df2cf59a43)it's useful both now, while docs are not fully ready and then for introspection

[11:56](#msg589efbd2de50490822b4c036)@PeterWAWood why single? I want it for all of them

[11:56](#msg589efbdff045df0a2233d9e9)image, char, string you name it

PeterWAWood

[11:56](#msg589efbfade50490822b4c0a0)Because you said to have a "polymorphic function for each datatype"

endo64

[11:57](#msg589efc1f872fc8ce62204600)I think only `image!`s is a special datatype. Others don't have those kind of properties like an image: /size, /alpha etc.

maximvl

[11:57](#msg589efc1f872fc8ce62204602)ok, to have one polymorphic function and have it's implementations for each datatype?

[11:57](#msg589efc286b2d8dd5522db0b4)is this wording good enough for you?

PeterWAWood

[11:57](#msg589efc46de50490822b4c16e)Then you probably mean for all datatypes. It is not a matter of being good enough it is a matter of being clear.

maximvl

[11:58](#msg589efc7021d548df2cf59d13)yes

[11:59](#msg589efc896b2d8dd5522db1fc)@endo64 well, we will have new datatypes in the future, won't we?

[11:59](#msg589efc9e1465c46a564edc29)and there were ideas about user-defined ones

9214

[18:04](#msg589f5244de50490822b6543d)@maximvl hm, can you wrap user-defined `object!` over `image!` ? Something like that:

```
foo: make my-image! [
    image-src: ... ; image! goes here
    width: ... ; could be calculated from image-src I suppose
    height: ...
    ...
]
```

maximvl

[18:11](#msg589f53e11465c46a56508aa5)@9214 I can, but I don't know all fields, I though of it as quick help for repl, like I use `help` for functions

geekyi

[19:30](#msg589f666900c00c3d4f26f80d)@maximvl multiple dispatch? `? action!`

[19:31](#msg589f669e6b2d8dd5522fbc69)@maximvl Also about the other thing, I think you mean `object!` traversal right?

maximvl

[20:26](#msg589f736df045df0a223602ef)@geekyi yes, but the thing is you can traverse object's fields, but can't datatype like `image!`

gltewalt

[20:58](#msg589f7af621d548df2cf7f983)Doesn't Bind create an object?

[21:40](#msg589f84b600c00c3d4f277bd1)if you type `help object!` in the Red console, it looks like it dumps out the whole environment

[21:51](#msg589f8777aa800ee52c824d7f)@maximvl looks like help is inconsistent? `help action!` `help routine!`  
Those instances appear to emit the available actions and routines.  
`help object!` appears to dump the console source?

## Sunday 12nd February, 2017

koba-yu

[01:57](#msg589fc0fb00c00c3d4f287762)@maximvl  
According to this blog post \[0.5.4: New datatypes, exceptions and set operations](http://www.red-lang.org/2015/06/054-new-datatypes-exceptions-and-set.html),  
Seems there is a plan to extend tuple's value range.

&gt; We are considering for a future release, the option of extending the tuples with 3 or 4 elements to 16-bit values, as the internal storage space allow us to do so.

gltewalt

[03:18](#msg589fd3f7872fc8ce62240065)

```
#alias my-type!: object [ ... ]
```

dockimbel

[05:31](#msg589ff337de50490822b8bea0)`tuple!` in Red and Rebol is a limited sequence of bytes (3 to 12 in Red, 3 to 10 in Rebol).

[05:33](#msg589ff3c2238b1dae57fa9fb1)@gltewalt `help object!` does what it is supposed to do (list existing objects from global context), it's just that the output is unreadable. `help` needs to specifically format the output in that case. You can open a ticket for that.

[05:36](#msg589ff449238b1dae57faa101)@maximvl `load` is optimized for the common use-case, if the input string contains only one value, the value is returned directly instead of been wrapped in a block. `load/all` forces the wrapping block in all cases, when consistent result is needed.

maximvl

[09:14](#msg58a02760de50490822b97848)@dockimbel thanks for explanation!

## Monday 13th February, 2017

gltewalt

[00:47](#msg58a10206f045df0a223c7a14)This is interesting.

```
red>> #alias my-int!: integer!
== integer!
red>> type? my-int!
== datatype!
red>> s: func [n [my-int!]] [ n ]
== func [n [my-int!]][n]
red>> s 1
== 1
red>> s 1.0
*** Script Error: s does not allow float! for its n argument
*** Where: s
```

greggirwin

[05:56](#msg58a14a8fde50490822be9447)You can do all sorts of fun things, which is very helpful when you start creating dialects.

```
red>> hashtag!: :issue!
== issue!
red>> hashtag?: :issue?
== func ["Returns true if the value is this type" value [any-type!]][issue! = type? :value]

red>> hashtag? #test
== true
red>> to hashtag! "test"
== #test

red>> blk: [#test]
== [#test]
red>> parse blk [hashtag!]
== true
```

9214

[06:24](#msg58a1510521d548df2cffe82e)these things happens every day in Redboland ;)

gltewalt

[06:45](#msg58a155f5aa800ee52c8a07fd)😁

geekyi

[06:52](#msg58a157a9872fc8ce622a7e83)&gt;

```
#if modules contains 'View [...]
```

:point\_up: \[February 11, 2017 12:49 PM](https://gitter.im/red/red?at=589ec1fe6b2d8dd5522cabb5)  
Where does `contains` work?

endo64

[06:53](#msg58a15804238b1dae5700bd71)@geekyi It is for the R/S preprocessor.

dockimbel

[07:09](#msg58a15b90f045df0a223dedd7)@gltewalt What is `#alias` for in your code example?

gltewalt

[07:12](#msg58a15c45238b1dae5700d4c3)I saw from red-lang.org entry on objects that pseudo types could be made with alias. I didn't know that it could sort of work with types also.

[07:13](#msg58a15cb41465c46a565952a5)Either that or my-int!: integer! will have the same effect without alias

dockimbel

[07:24](#msg58a15f38872fc8ce622aa0b8)That blog post talks about \*the upcoming #alias directive\*, but that was never actually implemented. So in your above code, it is just an `issue!` value, with no effect.

gltewalt

[07:31](#msg58a160d3238b1dae5700edbe)😞 sorry...

9214

[07:32](#msg58a160f4de50490822befd40)@gltewalt

```
red>> O: 13
== 13
red>> _: :+
== make op! [[
    "Returns the sum of the two values" 
    value1 [number! char! pair! tupl...
red>> o: 37
== 37
red>> (O _ o)
== 74
```

gltewalt

[07:33](#msg58a16158238b1dae5700f03a)That's cool.

dockimbel

[08:08](#msg58a16975aa800ee52c8a6789)@gltewalt No problem, the blog post should have been more clear about that being a possible evolution, not a certain feature.

pekr

[08:16](#msg58a16b4b1465c46a5659a5e2)`#if modules contains 'View [...]` .... English wise, it does not sound right, but that is first a minor point, second - a bit tricky situation. "modules contain" is right ... but then you can call "modules" e.g. "list", and voila `#if list contains 'View [...]` sounds correct :-)

luminarious

[16:01](#msg58a1d84a1465c46a565c4298)Hey, can I ask a really basic question? Doing `choco install red` completed, but didn't actually associate \*.red files with anything. Meanwhile, VSCode extension recommends F6 as the 'interpret file' command, but that just tries to open the .red file, assuming the association already works. I have, unfortunately, no experience with associating file extensions with command-line programs on Windows. How would I go about it?

greggirwin

[16:42](#msg58a1e1f9f045df0a22411dda)@luminarious, right-click on a `.red` file in Explorer. In the context menu, if there's an `Open With` command, choose that and select the "Always use this..." option after you browse to the Red exe. If that option isn't there, go to Properties and the General tab has an "Opens with:" setting. Details depend on Windows version.

Oldes

[16:42](#msg58a1e1fc00c00c3d4f32b8b4)@luminarious on Windows you may use right-long-click on file you want to run and use `Open With` option to assosicate the extension with file. At this moment there are 2 official REPL consoles for Red and one being developed in this branch https://github.com/qtxie/red/tree/red-console .

[16:42](#msg58a1e2101465c46a565c884e):)

greggirwin

[16:42](#msg58a1e212238b1dae5703fd30)What timing! :^)

## Tuesday 14th February, 2017

dockimbel

[05:38](#msg58a297f11465c46a56608bb2)@maximvl  
&gt; is there any way to get all refinements of a word?  
&gt; for example if I have image, can I find out properties names like `size` etc

Only functions have refinements. Some datatypes are exposing some of their properties using path notation, which will be exhaustively described in the documentation for each datatype (once available). The list of such accessors might be exposed through the metadata accessors once implemented (`set-modes`, `get-modes`, ...).

[05:42](#msg58a298baf045df0a2244f621)FYI, thanks to ticket #2411, I realized that the preprocessor documentation about pattern-matching macros was outdated and not reflecting the way it works currently. I am rewriting those outdated parts right now. If you got stuck with such macros or experienced systematic freezing, the documentation is to blame for that. Sorry for the inconvenience.

geekyi

[09:50](#msg58a2d2d321d548df2c088cbd)@luminarious does choco usually associate files? Can you give an example package which does that?

maximvl

[09:53](#msg58a2d3851465c46a5661c011)@dockimbel  
&gt;the metadata accessors

Good to hear you have something planned about this one

pekr

[09:54](#msg58a2d3e9238b1dae57094384)@dockimbel looking at the Trello board for 0.6.2 - do you plan to move GUI stuff to some later release? Or in reverse - are Red/System and Red/Core features going to be added, or moved too, and we are mostly in a fixing stage period, not adding new stuff to 0.6.2 already?

dockimbel

[15:08](#msg58a31d5821d548df2c0a60c1)Please let me know your opinion/feedback about #2391, especially if your code relies on that `keep` feature.

Skrylar

[22:30](#msg58a3851c00c00c3d4f3c957a)I managed to break `copy/deep` .\_.

dander

[22:58](#msg58a38b9300c00c3d4f3cc09e) @geekyi @luminarious usually Chocolatey packages are wrapping an installer, which would do file extension registration. However, the red package just downloads the exe and shims it into the Path. It certainly could do that registration though if that is desirable

## Wednesday 15th February, 2017

dockimbel

[02:53](#msg58a3c2ab21d548df2c0e6baf)@Skrylar How so?

geekyi

[06:02](#msg58a3eeff872fc8ce62397247)@Skrylar sample code or it didn't happen 😂😜

Skrylar

[08:03](#msg58a40b44872fc8ce6239f684)@geekyi minimizer is running

[11:50](#msg58a4408d00c00c3d4f4050d4)

```
Red[]func[[]]mkinduction:[t d[]]mkagent: func[][#()][[]]subtrees: func[][candidates: make block! 2]-crossover-loop: func[e a s here][if here[-crossover-loop rake here/3: first subtrees reduce[copy/deep rake/1]]]crossover: func[t][trees: subtrees rake: reduce[t]-crossover-loop rake candidates trees t]learn: func[t induction /s][probe crossover induction]agent: mkagent
learn agent mkinduction()
```

That is the output of my minimizer, it produces a segfault. The original code is a bit longer and does more stuff.

[11:51](#msg58a440b521d548df2c10f747)Also it seems i need to fix that minimizer because it didn't quite get rid of ALL the irrelevant text :\\

[11:52](#msg58a4411921d548df2c10f9eb)The long version of the code keeps a block with a reference object inside, then a sub-block of that is modified and the reference object is `copy/deep`'d as a silly way of making copies of an object with parts selectively modified without a lot of painful splicing code. It also seems to, well, freak Red out.

meijeru

[12:53](#msg58a44f52f045df0a224e8d99)From the comments on #2420 (I had asked how to find the tab-index of the selected tab inside a tab-panel):

&gt;After some tests, `on-select` would not be useful there (Windows OS does not provide any information for such event), `on-change` is enough anyway.

&gt;So to answer your query, in `on-change`, the `face/selected` property contains the previously selected tab index, while `event/picked` contains the new one.*

I have an addition to make: if the previous and new tab-index are the same,`event/picked`is 0. Something for the guru meditations, perhaps.

greggirwin

[17:17](#msg58a48d4021d548df2c12fb96)Done. Thanks Rudolf.

nicolas42

[22:55](#msg58a4dc6521d548df2c150830)Thanks alot @rebolek!

## Thursday 16th February, 2017

rebolek

[01:28](#msg58a5004821d548df2c15bedb)@nicolas42 I thank you for the question, it helped me to write the article.

meijeru

[08:13](#msg58a55f29f045df0a22544ff1)@dockimbel I notice that the Red header can contain a `config:` field. Where is the handling of that described??

DideC

[08:58](#msg58a569ae872fc8ce6241c577)Nowhere that I know of, actually. Except the mention in this chat above.

opsaaspo

[20:11](#msg58a6078e21d548df2c1baa30)Hello all, I've tried to run run on voidlinux (http://www.voidlinux.eu/) but got some error - .red/console-2017-2-13-60590: undefined symbol: dlopen). Could you give some help - what I've done wrong?

## Friday 17th February, 2017

PeterWAWood

[04:41](#msg58a67edf21d548df2c1e129d)Please could you show the command with which you tried to run Red and the actual error message.

opsaaspo

[08:56](#msg58a6bab70ad50ac3152970d1)@PeterWAWood  
&gt; Please could you show the command with which you tried to run Red and the actual error message.

My output is here:

```
./red-13feb17-e06c7d2
Compiling compression library...
Compiling Red console...
/home/o/.red/console-2017-2-13-60590: symbol lookup error: /home/op/.red/console-2017-2-13-60590: undefined symbol: dlopen
```

FYI: I've tried to run it on 32 and 64 bit version voidlinux. The error was the same.

dockimbel

[09:09](#msg58a6bdcc872fc8ce62493b5a)@opsaaspo What does a ldd report?

```
ldd /home/o/.red/console-2017-2-13-60590
```

[09:10](#msg58a6be03872fc8ce62493c88)BTW, you can just invoke `red` executable, it will proxy the call to the compiled console.

opsaaspo

[09:10](#msg58a6be1400c00c3d4f4e81cc)@dockimbel

```
ldd /home/o/.red/console-2017-2-13-60590
	linux-gate.so.1 (0xf76e0000)
	libc.so.6 => /usr/lib32/libc.so.6 (0xf7518000)
	libm.so.6 => /usr/lib32/libm.so.6 (0xf74bf000)
	libcurl.so.4 => /usr/lib32/libcurl.so.4 (0xf7444000)
	/lib/ld-linux.so.2 (0xf76e2000)
	libnghttp2.so.14 => /usr/lib32/libnghttp2.so.14 (0xf741d000)
	libssh2.so.1 => /usr/lib32/libssh2.so.1 (0xf73ec000)
	libssl.so.39 => /usr/lib32/libssl.so.39 (0xf7395000)
	libcrypto.so.38 => /usr/lib32/libcrypto.so.38 (0xf71db000)
	libz.so.1 => /usr/lib32/libz.so.1 (0xf71c2000)
	libpthread.so.0 => /usr/lib32/libpthread.so.0 (0xf71a4000)
```

Add some later:

```
ls -la ld-linux.so.2 
lrwxrwxrwx 1 root root 19 Feb  6 11:52 ld-linux.so.2 -> ../lib32/ld-2.25.so
```

dander

[09:26](#msg58a6c1e0872fc8ce62494eec)I figure this has already been done, but I just wanted to say that I started reading some of the libRed docs, and it turned out to be really easy for me to get to the "hello world" point calling red from C#. Here's my LINQpad script:  
https://gist.github.com/dander/a02c8837e12e70ec24396da3a18b1168

dockimbel

[09:30](#msg58a6c29b00c00c3d4f4e98f6)@opsaaspo It seems that on your platform, `dlopen()` is located in ld-linux.so instead of libc.so, as in most Linux distros. Red imports it from libc by default. You can change that in the sources to make it work on your distro. We might add a compilation option to let the user configure it more easily.

[09:30](#msg58a6c2be1465c46a56785cf3)@dander Nice! ;-)

koba-yu

[09:34](#msg58a6c39d0ad50ac31529a376)@dander 　  
I also wrote some codes in C#  
https://github.com/koba-yu/LibRedSharp  
It is not tested much, so I am not sure all API import works but feel free to copy if you use.

opsaaspo

[09:52](#msg58a6c7cd872fc8ce624970f4)@dockimbel Do you mean add into red.r code like this ?

```
...
exists? libc: %/lib/ld-linux.so.2
...
```

dockimbel

[09:52](#msg58a6c7f9aa800ee52ca94784)@opsaaspo No, I mean changing the importing declaration for `"dlopen"`, and all the other related functions.

opsaaspo

[09:56](#msg58a6c8c4de50490822dcbbcd)@dockimbel It will be useful. I will be able to test it on my linux installation :).

PeterWAWood

[10:55](#msg58a6d69821d548df2c1fc4eb)I was able to write, compile and run a simple C program that calls libRed on macOS. As libRed is 32-bit, I had to use gcc to compile the program so that it could call libRed. I thought that I post it here in case anybody else wants to try.

Here's the code in file red-in-c:

```
#include "<path to>/libRed/red.h"

int main(int argc, const char * argv[]) {
    redOpen();
    redDo("print {Hello Red}");
    redClose();
    return 0;
}
```

Here's the command to compile it:

```
$ gcc -m32 <path to>/libRed.dylib -o red-in-c red-in-c.c
```

maximvl

[11:06](#msg58a6d947f045df0a225c7500)Hi guys, I have a question regarding compilation, so don't have experience in compilers &amp; linkers, I want to add one more target OS for Red's compiler, the OS uses ELF format, which is already supported, but standard library, syscalls and ABI are different

[11:07](#msg58a6d98f21d548df2c1fd633)how does that affect compiler, how does ABI affect format of binaries?

[11:08](#msg58a6d9bbaa800ee52ca9adce)I checked this https://github.com/red/red/blob/master/system/formats/ELF.r and format doesn't seem to depend on target OS

[11:12](#msg58a6daa41465c46a5678de68)it also feels that I'm missing some theoretical knowledge on this part, feel free to point me to related readings

rebolek

[11:14](#msg58a6db129eb1bd81481d237f)@PeterWAWood nice!

pekr

[13:22](#msg58a6f911872fc8ce624a786b)Guys, what is needed for Red to support 64bit? Is it just a cosmetic change, which needs to be scheduled and not so much important right now, or is that a fundamental change, which is needed?

ghost~5680c5f416b6c7089cc058a5

[14:20](#msg58a706a3f045df0a225d71ea)@pekr It is a fundamental change and as such would require a lot of time for implementing it. @dockimbel had once described what all needs to be done in this room, I will try to find it and link it here.

[14:21](#msg58a706cd1465c46a5679dd4c) https://gitter.im/red/red?at=56ac45a1586242210ae0704d

pekr

[14:21](#msg58a706d5de50490822de0a23)Thanks a lot ...

greggirwin

[20:01](#msg58a75685f045df0a225f6dec)@PeterWAWood @dockimbel, should we have a libRed or bindings wiki page? If so, @dander @koba-yu may we link to your examples from there?

## Saturday 18th February, 2017

PeterWAWood

[00:23](#msg58a793ec00c00c3d4f536c8c)@greggirwin Sounds a good idea to have a libRed wiki page.

[00:24](#msg58a7942dde50490822e121a4)Here's an example of calling libRed from Ruby using the FFI Gem. I ran it on Ubuntu32 as I haven't found the correct combination of 32-bit Ruby and the FFI Gem on macOS yet.

```
require 'ffi'

module RubyRed
  extend FFI::Library
  ffi_lib "./libRed.so"
  attach_function :redOpen, [], :void
  attach_function :redClose, [], :void
  attach_function :redDo, [ :string ], :pointer
end

RubyRed::redOpen
RubyRed::redDo "print {Hello Ruby, I'm Red}"
RubyRed::redClose
```

koba-yu

[01:25](#msg58a7a2741465c46a567d545c)@greggirwin Sure. I hope it helpful for someone...

greggirwin

[02:13](#msg58a7ade5de50490822e1815e)Thanks!

dander

[04:49](#msg58a7d271f045df0a22619489)@greggirwin I certainly don't mind. I mostly posted that because I was impressed at how trivial it was to do... And I didn't even realize, until I saw @koba-yu 's example, that I didn't need to specify the calling convention. Probably the ideal situation would be to have a nice dotnet core library wrapper that includes all the libRed calls, plus some convenience methods for converting certain data types that could be published as a NuGet package. @koba-yu 's project could be a good start for that.

[04:51](#msg58a7d2d021d548df2c25049a)For just playing around with things, LINQPad is nice as a demo though, because you don't need all the Visual Studio / msbuild / .NET SDK stuff

dockimbel

[07:14](#msg58a7f458de50490822e28330)@Skrylar I get na `undefined word rake` compilation error from the source code you provided.

koba-yu

[09:58](#msg58a81aab00c00c3d4f556818)@dander I updated my repo's readme, clarifying that it uses libRed built with stdcall calling convention.

greggirwin

[16:52](#msg58a87be821d548df2c27e505)Thanks @dander!

Skrylar

[21:32](#msg58a8bd7f0ad50ac315336514)@dockimbel weird.

## Monday 20th February, 2017

trosel

[19:15](#msg58ab4059aa800ee52cbf365f)hey all, is there a book in the works to teach red-lang to people that have already programmed in more conventional languages?

[19:26](#msg58ab42ff1465c46a568e6d54)I guess this is the closest thing? http://redprogramming.com/Getting%20Started.html

Just wondering if anyone is looking for help

greggirwin

[21:00](#msg58ab58d200c00c3d4f652889)There are general resources, but no transition book in the works that I know of. It comes up periodically, as it did through the years with Rebol. The most common advice is to just use it. Yes, I know, it helps to have guides that orient you. And any Rebol2 resources are largely valid from a language design standpoint, at least for the interpreter and fundamentals. Only Red has a full cross compiler, macros, and more.

This brings me to your offer of help. Yes! OK, you'll be helping by starting it, but if you see the need, let's get it rolling. People new to Red have the best perspective on what new people need. And how best to explain things, or what to cover, depend on the environment and language you're coming \*from\*. When I found Rebol, I started a "Rebol for VB Programmers" idea, including mezzanines to provide familiar functions.

gltewalt

[21:01](#msg58ab592e00c00c3d4f652aa7)I'd like to see a book in the style of You Don't Know JS

greggirwin

[21:04](#msg58ab59e7872fc8ce62600acc)I love small books. My entire series is called "ALL Things - A Lot of Little Things". :^)

[21:05](#msg58ab5a2ff045df0a22721dc9)Not sure how much effort we want to put into "core mechanisms" though, since that will be subject to change more than high level features and language design.

gltewalt

[21:06](#msg58ab5a4421d548df2c35fba9)Deep diving into semantics would arguably be more important. Semantics have been where I've had the "what the heck?" moments

greggirwin

[21:08](#msg58ab5ac37ceae5376a1735bc)Yup. That sudden drop off into the deep end.

opsaaspo

[21:17](#msg58ab5cef00c00c3d4f65406c)@dockimbel Thanks for your advice. Unfortunately , I'm not experienced in "changing importing declaration for dlopen and etc." Could you please explain how it should be done?

trosel

[21:22](#msg58ab5e1a872fc8ce6260247b)@greggirwin the most confusing part is understanding the underlying paradigm or structure at the core of the language. In Ruby, everything is an object. In Haskell, you have types and functions that operate with them. In Lisp (and REBOL?) you have lists that reduce

[21:23](#msg58ab5e45872fc8ce6260256c)Everything starts to click if you can grasp the fundamental idea, right? But in REBOL and Red, you have objects, but it's not OOP. You have functions, but it's not functional programming.

greggirwin

[21:24](#msg58ab5e75f045df0a22723bb7)Yes, the hard part is that the intro book might be "Everything is data. Sometimes it's evaluated." in its entirety. :^) But that doesn't make any sense when start out.

[21:25](#msg58ab5ee5872fc8ce62602942)You can use it like an OOPL. You can also use it like an FPL. Prototype based and not pure, but you could build those if you want. One key is that is it what you want it to be. With full disclosure you find it's not truly those things at all.

trosel

[21:26](#msg58ab5f147ceae5376a174fe8)@greggirwin To put it a different way, how would documentation look in a language where everything is data? For example, look at the elixir docs https://hexdocs.pm/elixir/Integer.html#to\_string/1

You have modules like Integer and a bunch of related functions inside the modules.

In Red docs, you would have... data?

greggirwin

[21:27](#msg58ab5f2721d548df2c361e04)I think it helps to understand that Rebol was designed as a messaging language, for the exchange of information between people and machines. It just so happens that part of that process is describing what to do with the information, as well as representing it.

[21:29](#msg58ab5fc2872fc8ce62602e6f)Your question makes my point. If we just say "Everything is data." it doesn't really help. I think most Rebolers and Reducers I know used it for some time before having their \*Aha!* moment.

[21:30](#msg58ab5ffb21d548df2c36227c)How do we describe that moment, or what you understand after it, without any prior experience? Yet, with experience from things that are very different.

[21:32](#msg58ab6061aa800ee52cbffa94)The old R2 core guide did a great job, I think: http://www.rebol.com/docs/core23/rebolcore.html

[21:33](#msg58ab60a51465c46a568f301b)I do have some things started, using various books as models.

iArnold

[21:34](#msg58ab60c8de50490822f2a520)&lt;unhide&gt; @WildYorkies check your personal messages more links there &lt;hide&gt;

trosel

[21:34](#msg58ab60f9872fc8ce62603673)The trickiest part about rebol from a beginner's perspective is parsing the code that you're looking at. In other languages it is abundantly clear what words are objects and what words are functions/methods because of the semantic markers

[21:35](#msg58ab611221d548df2c362b1a)rebol has the same learning curve as LISP where you can't immediately tell what is what.

maximvl

[21:37](#msg58ab61a17ceae5376a176308)@WildYorkies you newer can tell what is what, lisp/rebol just brings this to the surface and lets you use this

[21:38](#msg58ab61e51465c46a568f36e4)what is `a + b`? is it a plus b? does it send message `+ b` to a? is it a command which wipes your hard drive?

[21:39](#msg58ab620921d548df2c3630de)interpreter defines what is what

[21:39](#msg58ab6212f045df0a22724f40)not the language

greggirwin

[21:40](#msg58ab624a872fc8ce62603eda)Conversely, it is abundantly clear in Redbol when something is a tuple, file, money, date, time, or other value type with a literal form. Comes back to thinking in terms of data first. Another good point you can include in your beginner's doc (or gist for notes) is that the universal path syntax is an important design element.

[21:44](#msg58ab63487ceae5376a176a12)Free ranging evaluation is another thing that throws people at first.

trosel

[21:47](#msg58ab63f2de50490822f2b799)&gt; what is `a + b`? is it a plus b? does it send message `+ b` to a? is it a command which wipes your hard drive?

You know depending on the design of the language. If everything is an object, you are doing `a.+(b)`. If you're in a functional language, you are doing `(+) a b`.

[21:55](#msg58ab65ba00c00c3d4f6576f8)@greggirwin once you see that something is a tuple, what knowledge does that bring you? Is a tuple an object that you can do things with? How do you know what you can do to a tuple?

greggirwin

[21:59](#msg58ab66a7de50490822f2c659)An excellent question, which leads to what you need to know to use Red effectively: how datatypes behave.

trosel

[22:01](#msg58ab672af045df0a22726f50)And also leads to how to effectively document Red

greggirwin

[22:05](#msg58ab6829aa800ee52cc02f86)Yes, by documenting datatypes.

PeterWAWood

[22:11](#msg58ab69adaa800ee52cc03990)@opsaaspo To just "get it working you need to change two files" - red/system/runtime/lib-names.reds &amp; red/system/runtime/libc.reds.

In the first you need to add an entry for ld-linux in the "default" section. Call it something like LIBLD. In the second you need to add an import section for LIBLD. Then move the dlopen entries (and other functions in ld-linux) from the LIBC import to the LIBLD import.

trosel

[23:10](#msg58ab777d00c00c3d4f65d94d)Are there any examples of documented datatypes? Like a really good example?

## Tuesday 21st February, 2017

PeterWAWood

[01:13](#msg58ab9444872fc8ce626132f7)@WildYorkies There isn't any Red specific document on datatypes yet. I would guess that it will only be written when Red get close to beta status. In the meantime, \[Rebol values](http://www.rebol.com/docs/core23/rebolcore-16.html) covers the same fundamentals and 90% of the details are the same as Red. Not all of those datatypes are implemented in the current Red alpha (e.g. port!, date!, money!), decimal! is float! in Red, Rebol doesn't have map! or vector!.

trosel

[01:45](#msg58ab9bc421d548df2c374b3f)@PeterWAWood Most of the datatypes documented there in Rebol only show how to write the types and how to create them with to-type functions. I would expect to see more ways to operate on them in the documentation. For example, with the File type, why doesn't it show functions for open and close. For Strings, why doesn't it show functions for substring, or capitalize, etc?

PeterWAWood

[01:58](#msg58ab9ec4872fc8ce62615b00)@WildYorkies Values in Red are not objects, they do not have associated functionality or properties (except in rare cases such as image! providing a size property and date!/time! having "methods") \[The creator of Rebol, Carl Sassenrath, always said Rebol was a pragmatic language not a purist one.]

Most Red functions are polymorphic and can be used with most datatypes. The \[Rebol Function Dictionary](http://www.rebol.com/docs/dictionary.html) gives a brief description of the standard Rebol functions. The majority of these are already implemented in the current Red alpha, there are some differences from Rebol.

gltewalt

[03:48](#msg58abb886aa800ee52cc19c63)http://www.rebol.com/docs/dictionary.html

[03:49](#msg58abb8bcaa800ee52cc19f27)Sorry, Peter. Just noticed your embedded link.

greggirwin

[07:21](#msg58abea8700c00c3d4f67e1dc)@WildYorkies, it would be great to have comprehensive documentation, but it will also be a \*huge* undertaking. Coming back to your original question, how is it best to do that? As @PeterWAWood said, there is a lot of polymorphism, and new functions may be added that a type knows nothing about. Add typesets and varying behaviors and you get the usual combinatorial explosion of possibilities. How do we create \*useful* docs without overwhelming the user?  
Because of Red's reflective capabilities, one way would be to enhance the help functions, so you can just ask what funcs take an arg of type X. e.g.:

```
red>> what-takes? string!
a-an           
charset        
checksum       : Computes a checksum, CRC, hash, or HMAC
clean-path     : Cleans-up '.' and '..' in path; returns the cleaned path
debase         : Decodes binary-coded string (BASE-64 default) to binary value
...
```

I'll have to put more work into my quick hack on this (which produced the above) to make it useful, but the concept is the idea.

[07:25](#msg58abeb60de50490822f51c4b)We can also re-implement the Rebol Word Browser, which required tagging things, but was a nice interactive exploration tool. We could combine that with the above. Sadly, I have far more ideas and half-baked notions than time allows me to pursue.

rebolek

[07:32](#msg58abed1221d548df2c38b251)I guess you've seen my `helpr` script, which is similar to Word Browser. It is missing categories that must be added manually, but OTOH has interactive examples.

trosel

[13:23](#msg58ac3f4121d548df2c3a967b)&gt;How do we create useful docs without overwhelming the user?

I believe it would be far more useless to \_not_ have organized docs. I'm just thinking about what a modern developer expects. The first two things would be organized docs and an ecosystem of libraries that they can re-use

[13:24](#msg58ac3f9e7ceae5376a1bdbb4)It looks like http://red-by-example.org/ has words/functions grouped into categories already

rebolek

[13:51](#msg58ac45cef045df0a2276ab18)@WildYorkies http://red-by-example.org/ is great resource and I really want to help Arie and Mike to make it much better. Having an API where you could pull one word's help, etc. could really improve it. Also - user editable tags, comments, examples, ... This is is great thing already and I believe we can make it better together.

geekyi

[13:53](#msg58ac464621d548df2c3ac316)@WildYorkies  
&gt; @greggirwin the most confusing part is understanding the underlying paradigm or structure at the core of the language. In Ruby, everything is an object. In Haskell, you have types and functions that operate with them. In Lisp (and REBOL?) you have lists that reduce

I know where you're coming from. One of the easiest ways to \*grok* a new language is to learn the \*fundamental datatype* of the language. Like \*lists* in haskell and lisp. \*Objects* in most mainstream languages. \*Arrays* in APL and MATLAB

[13:55](#msg58ac46c8de50490822f725ce)I've not found such a construct in Rebol unfortunately.. which may be a good thing from a different perspective

trosel

[13:56](#msg58ac4707aa800ee52cc48e64)Can you even make custom datatypes in rebol? If you can, then the datatype itself would be very important to understand

geekyi

[13:56](#msg58ac472baa800ee52cc48efe)&gt; You know depending on the design of the language. If everything is an object, you are doing `a.+(b)`. If you're in a functional language, you are doing `(+) a b`.

The \*design* of Rebol is to make both of those possible if you really want, is what I've understood

pekr

[13:58](#msg58ac4769f045df0a2276b433)@geekyi the datatype or concept, which should Rebol users learn to master, is a series imo ...

[13:58](#msg58ac477bde50490822f72964)I still think Rebol Core 2.3 manual does a good job in that regard

geekyi

[13:58](#msg58ac47867ceae5376a1c0d95)@pekr I was getting to that :p (still it is debatable if you can settle on just series! at least for me)

[13:59](#msg58ac47c9aa800ee52cc49325)You could also say a `block!` is more fundamental.. (common?) which is a subset of a series

[14:00](#msg58ac47f8872fc8ce6264d84f)@WildYorkies you have to use C as Rebol is implemented in it. (i.e. it's an implementation detail) . In Red there are plans for a design for user types (which would be implemented in Red/System)

rebolek

[14:03](#msg58ac48c1f045df0a2276bd02)@pekr \[Rebol Core 2.3 manual](http://www.rebol.com/docs/core23/rebolcore.html) is must read for anyone thinking about working with Red.

geekyi

[16:22](#msg58ac692d00c00c3d4f6b0489):point\_up: \[February 21, 2017 12:21 PM](https://gitter.im/red/red?at=58abea8700c00c3d4f67e1dc) @greggirwin  
&gt;

```
red>> what-takes? string!
```

`? "string!"` works more or less as you want in this case:

```
what-takes?: func [x [datatype!]] [print fetch-help append form x #"!"]
```

9214

[17:04](#msg58ac730f872fc8ce62662119)@WildYorkies it's all about series of values inside contexts, I think. Heavy emphasis on dialects (DSL), parsing, and data exchange.

[17:44](#msg58ac7c71de50490822f8a3fa)In my point of view, Rebol/Red pushes you to do things with bottom-up approach, creating programs which looks like mini-languages for a specific subsets of problems they solve.

So, instead of asking "What's that mean?" you should ask "What I want it to be?" =&gt; you should create your own contexts for solutions, not trying to squeeze in an existing paradigm.  
That's because syntax is freeform (you decide how to write your code) and language is homoiconic (you decide what is code and what is data); there's free range in valuation (yep, you define the boundaries), oh, and there's beautiful `parse` (you define the meaning of things). IMO, It's about program designer, not language design ;)

Feels like Lisp + Forth (though I don't know Forth that much to clarify, but you definetly can feel Lisp-vibes with your heart, ain't ya?)

JacobGood1

[17:46](#msg58ac7cfd872fc8ce62666987)&gt; @WildYorkies language is homoiconic (you decide what is code and what is data)

[17:46](#msg58ac7d08de50490822f8a787)Everything is code and data at all times, no decision needs to be made

[18:05](#msg58ac8165f045df0a22784374)In lisp there is a distinction but that distinction is not present in rebolville

greggirwin

[18:11](#msg58ac82d2de50490822f8cd81)@geekyi, searching for strings in specs, yes, thanks!

@bolek, I already forgot about `helpr`. Where is it? I don't see it on your github or http://red.qyz.cz/.

Rebol/Red heritage comes from Lisp+Forth+Logo. At the core, we have both blocks and words. As @9214 says, it's about molding it to be what you want. For deep work, knowing how bindings and contexts operate is important, but you can do a lot without that.

rebolek

[18:24](#msg58ac85e2567b0fc8138e3887)@greggirwin it is bit hard to use now. You can get it here: https://github.com/rebolek/gritter/blob/stylize/helpr.red , but let me explain

[18:25](#msg58ac86369eb1bd81481d9088)It needs STYLIZE that I hope would be part of 0.6.2.

[18:27](#msg58ac86949eb1bd81481d908a)Also it needs Rich Text Dialect (everything is in that branch) that currently outputs custom Draw code. It is going to be rewritten with `text-box!`.

[18:30](#msg58ac872ffef1d2de52ab0031)So it is not exactly the easiest thing to run right now, sorry :)

[18:31](#msg58ac878afef1d2de52ab0035)But it shows what is possible with Red (under development).

[18:35](#msg58ac8875567b0fc8138e38bb)I am in contact with http://www.red-by-example.org/ guys to use their data, it is wonderful resource.

greggirwin

[19:01](#msg58ac8e86872fc8ce6266dc16)Thanks @rebolek.

gltewalt

[20:31](#msg58aca3aade50490822f9a075)More like Lisp + Self

greggirwin

[22:09](#msg58acba8b7ceae5376a1f3ddb)Yes, the object system is prototype based, like Self, and Carl noted that influence. He also said the heritage for the language design was primary Lisp, Forth, and Logo.

maximvl

[22:11](#msg58acbb1cde50490822fa2eb7)@greggirwin I've heard very good things about io's object system, wonder what's the difference with Self

greggirwin

[22:14](#msg58acbbde21d548df2c3df3ad)I think it's similar, but supports inheritance via a list of ancestor prototypes.

gltewalt

[22:40](#msg58acc1f9872fc8ce6268284f)Is there one type that is the root type? word! ?

rebolek

[22:44](#msg58acc2e3872fc8ce62682e42)`value!`

greggirwin

[22:44](#msg58acc2e921d548df2c3e2023)Value

[22:45](#msg58acc2f61465c46a569741bc)Dang. ;^)

rebolek

[22:46](#msg58acc32a7ceae5376a1f7809);)

[22:46](#msg58acc331872fc8ce62682f5f)Red script is series of values.

gltewalt

[22:47](#msg58acc39d872fc8ce626831db)And the language is basically a Tree?

[22:48](#msg58acc3af00c00c3d4f6d799b)tree data structure

greggirwin

[22:49](#msg58acc3e8872fc8ce626833cb)No. A series of values. Some of those are, in turn, series, with which you can create nested structures.

rebolek

[22:49](#msg58acc3efaa800ee52cc7dca4)Basically yes, but no ;)

greggirwin

[22:50](#msg58acc429872fc8ce62683559)Datatypes can be grouped by shared behavior, or what we call pseudo-types. Things like series!, any-string!, etc.

gltewalt

[22:50](#msg58acc43421d548df2c3e2aa0)I'm just thinking that it shouldn't be complicated to ask Red itself which words go with which datatype

rebolek

[22:51](#msg58acc45ade50490822fa6563)That is easy, you can use `type?` for it.

greggirwin

[22:51](#msg58acc47221d548df2c3e2bd4)Not sure what you mean, but you can certainly do things like `? tuple!` and get a list of known words in the system. And what Bolek said.

gltewalt

[22:52](#msg58acc4981465c46a56974ae8)Can we do the opposite of that?

greggirwin

[22:52](#msg58acc4abaa800ee52cc7e1dc)What is the opposite of that?

gltewalt

[22:52](#msg58acc4ca21d548df2c3e2d38)I just saw your last entry

[22:53](#msg58acc4ee872fc8ce62683948)? tuple!

greggirwin

[22:54](#msg58acc50e21d548df2c3e2e86)You can also use `help` on datatypes that are typesets, and it will list all the types in that set. e.g. `? series!`.

gltewalt

[22:54](#msg58acc527de50490822fa6916)You propose grouping by behaviour ?

greggirwin

[22:58](#msg58acc62200c00c3d4f6d8802)If you look at the datatypes, you won't see an `any-block!` type. That's a typeset that groups other types.

[22:59](#msg58acc64321d548df2c3e347f)And `typeset!` is, of course, a datatype itself.

rebolek

[23:00](#msg58acc67e21d548df2c3e35d7)Every value has its datatype. There are no keywords, no variables.

gltewalt

[23:01](#msg58acc6e2de50490822fa72d4)what-takes? is a compelling idea. To my beginning brain.

rebolek

[23:03](#msg58acc7377ceae5376a1f8eea)Just start with simple things.

greggirwin

[23:06](#msg58acc801de50490822fa7810)Red will let us do all kinds of things. For example, we can have a site/tool where you say "list all the funcs that take a string as their first arg, and return a string", or "funcs that take 3 args that are ..."

[23:08](#msg58acc889de50490822fa7b57)Ironically, even though we can build all kinds of tools, we, as a community, haven't. There's something about the way we work, the scope we work in, and the kind of thinking Red encourages that seems to have kept us from building tools we see for other languages.

[23:10](#msg58acc8e0f045df0a2279f1c3)We build just what we need. Or have in our Rebol past. Red is changing that mindset, but it will take time.

gltewalt

[23:14](#msg58acc9de1465c46a56976984)I read that Common Lisp had that characteristic, back when I was learning some of that. They said that they just built what they needed as they needed it.  
I'm not sure how true it was.

maximvl

[23:20](#msg58accb5700c00c3d4f6da9c6)@gltewalt you try yo guess things, this will not lead you anywhere, I have experience with very different languages but still had to learn Rebol/Red from scratch

gltewalt

[23:23](#msg58accbef21d548df2c3e5432)Yeah. I like to learn by comparing things to what I already know, and it isn't going smoothly.

9214

[23:32](#msg58accdf8de50490822fa975c)I've found that it's easier to treat datatypes as an indication of what sort of stuff you're allowed to do with some value. So, `series!` indicates that you can traverse it, reverse, append, etc. `number!` means that you can do math, `datatype!`... hm, this is a tough one... type-casting maybe?

[23:42](#msg58acd0687ceae5376a1fc011)Is there a diagram of Red/Rebol type hierarchy btw?

[23:48](#msg58acd1bdaa800ee52cc82765)as for documentation, I really like Clojure Atlas idea: http://www.clojureatlas.com/

[23:50](#msg58acd23baa800ee52cc82a51)all what's left is to stick it into Emacs + Xiki Red IDE ;)  
http://xiki.org/

## Wednesday 22nd February, 2017

greggirwin

[00:04](#msg58acd5731465c46a5697ad5e)@9214, it looks something like this:

```
any-type!
    event!
    unset!
    any-function!
        native! action! op! function! routine!
    any-object!
        object! error!
    series!
        any-block!
            any-list!
                block! paren! hash!
            any-path!
                path! lit-path! set-path! get-path!
        any-string!
            string! file! url! tag! email!
        binary!
        image!
        vector!
    immediate!
        any-word!
            word! set-word! lit-word! get-word! refinement! issue!
        scalar!
            number!
                integer! float! percent!
            char!
            pair!
            tuple!
            time!
        datatype!
        none!
        logic!
        typeset!
```

[00:20](#msg58acd9571465c46a5697be13)At a glance, ClojureAtlas made me a bit woozy. I quickly lost track of where I came from as things oozed around.

rebolek

[00:21](#msg58acd9a27ceae5376a1fee64)Gregg, that is really nice tree!

greggirwin

[00:27](#msg58acdafd872fc8ce6268ac70)Thanks @rebolek.

Xiki reminds me of Oberon, but in text mode. Looks pretty cool, but I'm on Windows so can't play with it right now.

[00:39](#msg58acddd37ceae5376a200376)I like the idea of an extensible system a lot, but it's a sizable code base to dig into for the core design elements, how to hook things, etc.

geekyi

[02:58](#msg58acfe6fde50490822fb647b)&gt; http://xiki.org/

Not loading for me

henrikmk

[11:16](#msg58ad73007ceae5376a22f191) @greggirwin, that would be nice to have direct access to in the console. maybe a TYPE-TREE function.

[11:17](#msg58ad73517ceae5376a22f39b)or a general DESCRIBE function that outputs interesting information about a type or value.

maximvl

[11:18](#msg58ad7377f045df0a227d2659)there is `help` already

henrikmk

[11:48](#msg58ad7aa77ceae5376a232260)HELP displays one thing. DESCRIBE could show different things, like the tree above.

maximvl

[12:10](#msg58ad7fcb872fc8ce626bf918)@henrikmk `help datatype!` can do this

[12:11](#msg58ad7fdbde50490822fdfe5a)in fact it already does:

```
red>> help datatype!
     action!         
     binary!         
     bitset!         
     block!          
     char!           
     datatype!       
     email!          
     error!          
     file!           
     float!          
     function!       
     get-path!       
     get-word!       
     hash!           
     integer!        
     issue!          
     lit-path!       
     lit-word!       
     logic!          
     map!            
     native!         
     none!           
     object!         
     op!             
     pair!           
     paren!          
     path!           
     percent!        
     point!          
     refinement!     
     routine!        
     set-path!       
     set-word!       
     string!         
     tag!            
     time!           
     tuple!          
     typeset!        
     unset!          
     url!            
     vector!         
     word!           
datatype! is a datatype! of value: datatype!
```

henrikmk

[12:12](#msg58ad8049aa800ee52ccbbff6)@maximvl that is not a tree

maximvl

[12:13](#msg58ad807f21d548df2c420689)well, output format can be improved

[12:14](#msg58ad8088aa800ee52ccbc20e)but I still don't see any need for another entity

[12:16](#msg58ad81101465c46a569b25c8)and even more, thinking in terms of Redbol, `help` can be a dialect like `help [builtin datatypes]` or `help [describe string!]`

[12:18](#msg58ad81801465c46a569b28fb)I believe that Red team knows how to fit this naturally and ergonomically into the language, so let's leave this to them :)

geekyi

[13:18](#msg58ad8fb01465c46a569b7f1e)@henrikmk &gt; `that` would be nice to have direct access to in the console. maybe a TYPE-TREE function.

what do you mean by `that`? ClojureAtlas ? Or :point\_up: \[February 22, 2017 5:04 AM](https://gitter.im/red/red?at=58acd5731465c46a5697ad5e)

maximvl

[13:19](#msg58ad8ffc872fc8ce626c6726)btw, guys, it's not 80s anymore, you don't have to type function names in upper-case

henrikmk

[13:23](#msg58ad90b47ceae5376a23b270)@maximvl since REBOL can be very close to English, I find it necessary.

maximvl

[13:23](#msg58ad90df7ceae5376a23b349)but your English is not upper-cased

henrikmk

[13:24](#msg58ad90fb1465c46a569b84cb)that's precisely why I always uppercase REBOL names

maximvl

[13:25](#msg58ad9136f045df0a227dd75d)here you can use backquotes to highlight code

henrikmk

[13:26](#msg58ad916faa800ee52ccc2cad)ok, sorry, I thought you meant in general.

geekyi

[15:26](#msg58adad951465c46a569c4cba)So, the uppercase convention is useful in contexts where you can't escape characters like \\\`

henrikmk

[15:31](#msg58adaee01465c46a569c5714)exactly

9214

[15:36](#msg58adaffaaa800ee52ccd0deb)hats off to @greggirwin !

greggirwin

[17:24](#msg58adc95ade50490822ffe5b0)As cool as it would be to generate the type tree via reflection, in the console, we could just create a string or block to print, which would give us control over the layout and ordering. Then it's just a question of whether it adds value, to determine if it's worth including.

opsaaspo

[21:53](#msg58ae0863872fc8ce626f9a7c)Does anyone know - I might use something like a function call from red console? (For example call/shell some\_command etc.) Now I've got the following output:  
red&gt;&gt; help call  
Word call is not defined

geekyi

[22:10](#msg58ae0c5600c00c3d4f74e838)@opsaaspo it's not yet implemented, but if you know red/system, you can `#include` it yourself

[22:11](#msg58ae0c867ceae5376a2710ce)P.S. the help, or welcome gitter channels are best for questions

opsaaspo

[22:18](#msg58ae0e36e961e53c7f53f72a)@geekyi  
Thanks. My apologies.

geekyi

[22:25](#msg58ae0fcb7ceae5376a272507)#2365 has a code example @opsaaspo

[22:29](#msg58ae10cf7ceae5376a272a66)also https://gitter.im/red/red?at=55f8bdf178514db1064f3ea4

## Thursday 23th February, 2017

zetashift

[15:37](#msg58af01b5de50490822067566)Interested in making a roguelike in Red; Is there a SDL package or a curses lib for red?

[15:37](#msg58af01cd7ceae5376a2c32ff)http://red.esperconsultancy.nl/Red-SDL/tree?ci=trunk&amp;expand (this one is dead!)

maximvl

[15:47](#msg58af03f9de50490822068333)@zetashift hi and welcome

[15:47](#msg58af041ee961e53c7f591b45)I would say it's too early to do such things in Red

zetashift

[15:50](#msg58af04c5e961e53c7f592050)awwh shucks I'll keep it to small GUI programs then for practicing! haha

maximvl

[15:53](#msg58af0574872fc8ce6274d94c)@zetashift practice is always good :) IO and GC are the most important missing parts now

zetashift

[15:55](#msg58af05f31465c46a56a41a72)IO was coming up in the 0.7 update, right?

Oldes

[16:44](#msg58af11817ceae5376a2ca1c4)@zetashift there is some curses code in the Red repository: https://github.com/red/red/tree/master/system/library/curses but don't know if it still works.. I never used it and Red internals are still changing rapidly.

[16:48](#msg58af12631465c46a56a47497)I wonder what happened to Kaj and all his Fossil repositories.

DideC

[17:16](#msg58af18e700c00c3d4f7ab491)Many of us wonder what happened to Kaj !

pekr

[18:43](#msg58af2d50e961e53c7f5a39c3)@qtxie adding back old gradient pen - does it mean the complex pen merge was reverted? Or just unrelated?

keesse

[19:30](#msg58af3866872fc8ce62763433)I tried to contact a friend of Kai, Bas from Esper Consultancy, but got no reply

greggirwin

[20:18](#msg58af43b221d548df2c4cd59f)I saw Bas on AltMe not too long ago I think. We could try there.

iArnold

[20:25](#msg58af4527872fc8ce62768b6f)&lt;unhide&gt;I have sent Bas a message on LinkedIn. I had no contact on LinkedIn from Kaj since Januari 25th. Syllable world is down, all their sites down, Syllable forum spammed rotten. Anybody know where Thiago went since 7th Nov 2016? Perhaps time for a MIA room?&lt;hide&gt;

maximvl

[20:28](#msg58af45f57ceae5376a2e063a)I also talked to Kaj on linkedin in beginning of January

[20:29](#msg58af4633f1a33b62753ef920)we agreed to meet once he visits the Amsterdam

[20:30](#msg58af465e21d548df2c4ce6b4)he didn't ping me afterwards, though

## Friday 24th February, 2017

geekyi

[00:17](#msg58af7b7f00c00c3d4f7d2b14)@zetashift there's a mirror on github: https://github.com/red/RS-fossil-mirror/tree/master/SDL , which you can also now find under Red organization

[00:19](#msg58af7bfc7ceae5376a2f4474)"Whatever happened to Kaj?"

[00:20](#msg58af7c3a872fc8ce6277c48a)I wonder if that repo is the most updated version available?

JacobGood1

[02:29](#msg58af9a847ceae5376a2fcfeb)I was working on some sdl2 bindings a while ago when I was learning reds(prob forgot everything now):  
https://github.com/JacobGood1/red-sdl-bindings  
There is some directx crap in there I was playing around with, you would have to delete that

qtxie

[03:45](#msg58afac64e961e53c7f5d042f)@pekr That means we support both commands in Draw now. :smile:

pekr

[06:44](#msg58afd659872fc8ce62794df4)cool :-)

trosel

[21:26](#msg58b0a50c1465c46a56adbad5)&gt; Red will let us do all kinds of things. For example, we can have a site/tool where you say "list all the funcs that take a string as their first arg, and return a string", or "funcs that take 3 args that are ..."

If a Red version of Hoogle could be made, documentation organization issue would be solved

greggirwin

[21:41](#msg58b0a877f1a33b62754698a3)While a good tool, it doesn't solve the organization issue IMO. We hvae `help` today, though it's not always clear why some things appear in results. And where Haskell is strongly typed, Red funcs don't have to be. We can map based on typesets, but you may get a flood of results that way. Then we could order by strongest type match, but it still doesn't organize things.

It doesn't mean we \*can't* create self-organizing documentation, but I haven't seen one before that we can model on.

trosel

[21:45](#msg58b0a98b21d548df2c54f128)Well my other issue is shareable modules. For example, has anyone worked with oauth1? any module for making a signature? or hmac crypto stuff at least?

greggirwin

[21:47](#msg58b0a9e900c00c3d4f83ddbf)We have `checksum` which covers a bit of ground, but not OAuth.

trosel

[21:58](#msg58b0ac921465c46a56ade8ce)is there a practical way to share work and build large programs from smaller ones?

greggirwin

[22:03](#msg58b0ada200c00c3d4f83f088)Not yet. PiTL was a known shortcoming in Rebol, and Red will address that, but it's not there yet.

[22:03](#msg58b0adcce961e53c7f630fca)So it's low tech approaches, using contexts as namespaces to prevent conflicts, for now.

[22:04](#msg58b0ae0221d548df2c550d3a)And choose to `do` or `#include` based on your design.

trosel

[22:11](#msg58b0afade961e53c7f631999)So like in this file https://github.com/WayneCui/re-scripts/blob/master/2048.red

The game: context \[] contains all of the "exports" for that file

greggirwin

[22:15](#msg58b0b07f7ceae5376a362c71)Right. You can use `set` in a context to make a word globally available as well, so you don't have to reference the context to use it. A number of models were used in R2, and R3 had a module system defined, but we don't know exactly what it will be in Red yet.

[22:16](#msg58b0b0c000c00c3d4f8400ed)Using `set` in a context:

```
red>> ctx: context [a: 1 fn: does [print a]  set 'show-a does [fn]]
== make object! [
    a: 1
    fn: func [][print a]
]
red>> show-a
1
```

trosel

[22:27](#msg58b0b33ade5049082210054a)would an alternative module solution be to `read` in Red files from github urls? :P

greggirwin

[22:58](#msg58b0ba84de504908221028ae)Sure. You can read modules from anywhere. With SHA-1 on the blocks, prepare for git hashes to change. :^)

trosel

[22:59](#msg58b0babc872fc8ce627ec095)@greggirwin is the long term plan to build a package manager into the CLI of Red?

greggirwin

[23:36](#msg58b0c36df1a33b627547257d)Modules are planned for 0.8 with full I/O in 0.7. I don't know details about package management targets, but Nenad knows the history and how others do it now. I have tons of notes with my own thoughts from R2 days, which I'm happy to share.

My guess is that package management will be built in, with modern features like versioning and side-by-side support for modules.

[23:38](#msg58b0c3e1f1a33b6275472716)You can see a hint with the one module we have today, where you put `needs: View` in your script header.

## Saturday 25th February, 2017

henrikmk

[00:44](#msg58b0d3807ceae5376a36cc10)there was quite significant work done on modules for R3. is that work transferrable to Red or will there be different ideas about modules there?

greggirwin

[04:00](#msg58b10178e961e53c7f64797b)We'll certainly learn a lot from it, but I don't know how much of the implementation might be used.

pekr

[04:09](#msg58b1038ede504908221159e7)It was imo an over complicated system noone really used nor understood. There is imo exactly 0 percent chance anything from that might be used directly. Maybe few ideas, but that's imo just it ...

greggirwin

[06:30](#msg58b1249e1465c46a56afe2b4)I'm all for simple, but I think the lack of module usage in R3 was due to...the lack of use of R3.

pekr

[07:37](#msg58b13441872fc8ce62809f73)Well, not only that. The work was done by BrianH. If I remember correctly, it went thru the complete rewrite. Not sure it was revised by Carl, although BrianH consulted it with him. He also missed few features, something along the /protect functionality. Really not sure anymore after such time. IIRC @rebolek got it some try, but found it buggy?

rebolek

[07:39](#msg58b1349ae961e53c7f6549e4)@pekr I won't say buggy but it certainly was very confusing to use.

[07:40](#msg58b134f71465c46a56b0283a)I really wanted to use it but it wasn't worth the effort IMO.

pekr

[07:41](#msg58b1352200c00c3d4f86268e)I remember to talk with Doc about modules and he wanted to get something simpler to use ....

rebolek

[07:44](#msg58b135f6872fc8ce6280a623)Honestly, it would be really something if it can be made more complicated than R3 modules ;) For anyone interested, here is some overview http://stackoverflow.com/questions/14420942/how-are-words-bound-within-a-rebol-module

geekyi

[10:59](#msg58b1639a21d548df2c581451)Off-topic but important: If you aren't already aware about this, \[Cloudflare Reverse Proxies Are Dumping Uninitialized Memory](https://news.ycombinator.com/item?id=13718752).  
Your \*passwords* (tokens too?) could be compromised (since september?) for any websites that use \*specific features* of cloudflare as a proxy (email obfuscation, http to https, Server Side Excludes) and transmit auth data  
If curious, details are on \[cloudflare blog](https://blog.cloudflare.com/incident-report-on-memory-leak-caused-by-cloudflare-parser-bug/)  
You can check \[here](http://www.doesitusecloudflare.com/)  
\*\*tl;dr\** heartbleed like vulnerability in cloudflare (people are calling it cloudbleed)

dockimbel

[11:25](#msg58b169b4872fc8ce62818cde)@geekyi Saw that yesterday, such a mess, and will last for \[a while](https://news.ycombinator.com/item?id=13727279).

greggirwin

[20:04](#msg58b1e34a1465c46a56b38169)I remember that entry on modules. It's very helpful. Thanks @rebolek. I have a matrix of old package system metadata. So old it doesn't have NPM in it. I'll look at that, so there's a reference if needed.

[20:06](#msg58b1e3e300c00c3d4f896a45)We can certainly learn a couple lessons from NPM: Don't nest packages forever (I've had that blow what Windows can handle in the length of a single path name), allow a way around naming conflicts. You can't just tell everyone to use short names and leave it at that. And be clear on the separation of modules/subsystems and packages.

## Sunday 26th February, 2017

trosel

[01:29](#msg58b22f81f1a33b62754d7f01)Definitely need something that locks in a particular version of a module. Rust's `cargo` does this nicely.  
\*But* if you wanted something simple, it could be as easy as using the `read` word to read in a Red file. Then that particular Red file would have various words marked as `export` that would make them available to use.

```
oauth: read www.github.com/red-user/oauth.red
auth: oauth/signature key secret token tokensecret
```

greggirwin

[04:52](#msg58b25ef121d548df2c5ca910)The `export` bit is the key. You also need to `load` the file, not just `read` it. It will come.

geekyi

[10:40](#msg58b2b0aade50490822187f61)@greggirwin  
&gt; I have a matrix of old package system metadata.

That would be very useful!

[10:46](#msg58b2b1e921d548df2c5e0c10)@WildYorkies how is your `read` example different from how it's done now in, for ex :point\_up: \[February 25, 2017 3:11 AM](https://gitter.im/red/red?at=58b0afade961e53c7f631999)?

endo64

[10:54](#msg58b2b3f71465c46a56b6dff1)During compiling the latest Red from its source I saw some warnings,  
Happened only during the first compile, then Red console works without those warnings.  
I just wanted to report here;

```
C:\Users\endo\Documents\Red\red\build\bin>red --cli
Compiling Red console...
*** Warning: VK_SHIFT macro in R/S is redefined
*** Warning: VK_CONTROL macro in R/S is redefined
*** Warning: VK_PRIOR macro in R/S is redefined
*** Warning: VK_NEXT macro in R/S is redefined
*** Warning: VK_END macro in R/S is redefined
*** Warning: VK_HOME macro in R/S is redefined
*** Warning: VK_LEFT macro in R/S is redefined
*** Warning: VK_UP macro in R/S is redefined
*** Warning: VK_RIGHT macro in R/S is redefined
*** Warning: VK_DOWN macro in R/S is redefined
*** Warning: VK_SELECT macro in R/S is redefined
*** Warning: VK_INSERT macro in R/S is redefined
*** Warning: VK_DELETE macro in R/S is redefined
--== Red 0.6.1 ==--
Type HELP for starting information.

red>>
```

dockimbel

[10:55](#msg58b2b417e961e53c7f6c0681)@qtxie ^----

endo64

[11:12](#msg58b2b81bf1a33b62754fae42)I see that there are duplicate definition of those constants in file `environment\console\win32.reds` (on line 21 and 326)

dockimbel

[11:13](#msg58b2b86fe961e53c7f6c19cb)We just need to do a bit of cleanup.

endo64

[11:15](#msg58b2b8d8f1a33b62754fb06e)Ah sorry not in the same file, `environment\console\win32.reds on line 21` and `modules\view\backends\windows\win32.reds line 326`.

gltewalt

[18:39](#msg58b320e8872fc8ce62895408)Might be beneficial for a contributor to look at the Elm way of doing modules

greggirwin

[23:02](#msg58b35e6cf1a33b627552d461)What are the big wins in Elm's module system?

gltewalt

[23:49](#msg58b3698dde504908221c0550)Enforceable semantic versioning, with their package system. (If Red wanted to go that route). Relies on json, but that can be modeled in redbol itself.  
Qualified, unqualified, and aliased imports.

There are other great systems out there, I'm sure - rust was mentioned, but I have no exposure to it

## Monday 27th February, 2017

greggirwin

[00:07](#msg58b36dce872fc8ce628ade00)Some good thoughts in the announcement for Elm's package system: http://elm-lang.org/blog/announce/package-manager

[00:17](#msg58b37029f1a33b6275531e63)Of course, now we'll have to use SHA-2+ for package hashes. ;^)

qtxie

[06:35](#msg58b3c89c1465c46a56bc149a)@dockimbel Fixed. @endo64 Thank you for reporting it.

rebolek

[09:52](#msg58b3f6e89eb1bd81481e1f66)When I parse binary, why can't I use strings?

```
c> parse to binary! "asdf" ["asdf"]
== false
```

dockimbel

[10:21](#msg58b3fdb400c00c3d4f933a1e)Because going from `string!` to `binary!` requires a deep conversion, so they are not compatible types, like in R2. In that above case, a Parse error would be more appropriate. Though, that wouldn't make it convenient for parsing binary inputs.

rebolek

[10:24](#msg58b3fe5efef1d2de52ab912d)what I want is just match the ASCII/UTF8 representation of the string, so what conversion is needed here?

dockimbel

[10:25](#msg58b3fe7d7ceae5376a456aa8)Red strings are not UTF8-encoded in memory.

rebolek

[10:25](#msg58b3fe8c4150746b15151acb)Ah, I thought they are.

dockimbel

[10:25](#msg58b3fe99872fc8ce628d9845)No, that's in R3 only.

rebolek

[10:25](#msg58b3fea7567b0fc8138ec1b8)Ok, now I understand.

[10:25](#msg58b3feab4150746b15151acf)Thanks.

dockimbel

[10:27](#msg58b3feffde504908221ebc29)You can still convert the strings to match upfront:

```
red>> asdf: to-binary "asdf"
== #{61736466}
red>> parse to binary! "asdf" [asdf]
== true
```

rebolek

[10:50](#msg58b40490fef1d2de52ab91bb)In R3 vectors you can decide if the integers are signed or unsigned. Red seems to support unsigned values only:

```
c> v: make vector! [integer! 16 [-1]]
== make vector! [integer! 16 [65535]]
```

Is there a way to get signed `vector!` ?

dockimbel

[11:00](#msg58b406e500c00c3d4f936f16)

```
lisp
r> make vector! [integer! 32 [-1 -5 ]]
== make vector! [-1 -5]
r> make vector! [integer! 16 [-1 -5 ]]
== make vector! [integer! 16 [65535 65531]]
```

That's a bug.

rebolek

[11:03](#msg58b4077b567b0fc8138ec27f)Ah! :)

[11:15](#msg58b40a3a567b0fc8138ec2e2)Also, would it be possible to set vector directly from binary?

qtxie

[11:49](#msg58b412309eb1bd81481e2217)@rebolek Yes. It's a bug. Please open a ticket for it.

dockimbel

[11:52](#msg58b412e5e961e53c7f72f0c6)@rebolek It would be possible to support that, but only using `make`, as it needs additional information in order to build a proper `vector!`.

rebolek

[11:52](#msg58b4130a4150746b15151cc5)@dockimbel @qtxie https://github.com/red/red/issues/2453

[11:54](#msg58b413654150746b15151cd7)@dockimbel Of course, with `make`, I think that `vector!` is basically `binary!` with metadata, isn’t it.

dockimbel

[11:58](#msg58b4146900c00c3d4f93c031)Right.

trosel

[14:10](#msg58b433647ceae5376a46a468)&gt; @WildYorkies how is your `read` example different from how it's done now in, for ex :point\_up: \[February 25, 2017 3:11 AM](https://gitter.im/red/red?at=58b0afade961e53c7f631999)?

I'm not sure. I don't \_know_ how it's done now. I just sort of assumed :smile:

lpvm

[17:05](#msg58b45c75e961e53c7f74df50)This chat is very valuable, full of examples. Is there an easy way to get the whole log of it?

rebolek

[17:10](#msg58b45d98567b0fc8138ecd52)I can get logs (manually) with my Gritter client, I will add simple way to download all messages to new version.

greggirwin

[18:21](#msg58b46e271465c46a56c02027)On `vector!`, some time back, someone posted about a binary reader lib, that used a DSL to describe the data for parsing. I might have made some notes on it, but also thought about the ArrayBuffer idea in JS (a typed interface to raw data). Has anyone used that?

rebolek

[18:29](#msg58b47011fef1d2de52ab9f3f)I must have missed it.

ghost~5680c5f416b6c7089cc058a5

[19:29](#msg58b47e37872fc8ce6290f320)@greggirwin, Was the DSL for binary parsing one of these (or both),  
https://github.com/dmendel/bindata  
http://kaitai.io/

greggirwin

[19:33](#msg58b47f1e1465c46a56c0ad3d)Thanks @nc-x, though I don't think it was either of those. A quick search turned up a lot, but I'll see if I can find the one I noted.

[20:06](#msg58b486cbde5049082222206c)Couldn't turn it up quickly, though there are a lot of them out there. I hadn't seen https://www.protlr.com/, but am a big fan of code generators. With Red, it's also possible to avoid the generation element in many cases. e.g., I used to write state machine generators. In R2, I finally just wrote an FSM interpreter with `parse`.

[20:09](#msg58b4879421d548df2c683e11)Kaitai looks nice, and is an example of something we could use libRed for, rather than generating code in different languages.

Oldes

[20:12](#msg58b48841872fc8ce62913905)I'm using `stream-io` script for all my binary parsing in Rebol2 https://github.com/Oldes/rs/blob/master/projects/stream-io/latest/stream-io.r

[20:13](#msg58b48881de50490822222a15)Here is for example WAV parser https://github.com/Oldes/rs/blob/master/projects/wav/latest/wav.r

greggirwin

[20:15](#msg58b488f47ceae5376a49270f)Nice @Oldes. Using `rebcode` no less!

[20:21](#msg58b48a5bf1a33b6275593643)Kaitai has a nice repo of formats as well. The only thing that doesn't grab me is the layout. I think the YAML format is what makes it stretch so much vertically.

Oldes

[20:23](#msg58b48abee961e53c7f764574)Kaitai looks nice on the first look, but I'm not sure how practical it is, when you need more complex structures. It could get messy pretty quickly.

greggirwin

[20:25](#msg58b48b2e21d548df2c6853e3)Not entirely its fault though. The format may not let you break things up or reformat for clarity, which would be the issue. Good things in there, though, like endian handling.

Oldes

[20:28](#msg58b48c0bf1a33b6275593f81)I think it is pretty limited... that is probably also reason, why they don't have format for something so basic as MP3

[20:29](#msg58b48c29f1a33b6275593fff)I think it is pretty limited... that is probably also reason, why they don't have format for something so basic as MP3

[20:30](#msg58b48c55f1a33b627559418f)Imagine how you would write something like this https://github.com/Oldes/rs/blob/master/projects-rswf/swf-parser/latest/parsers/sound.r#L68 in Kaitai?

[20:35](#msg58b48d9be961e53c7f765ef9)Bindata examples are almost unreadable to me.

maximvl

[20:38](#msg58b48e2e1465c46a56c10cea)@Oldes from what I see there - Red code does some transformations while parsing

[20:38](#msg58b48e4b872fc8ce62915e35)Kaitai only creates parsers which will return you raw data. AFAIK

[20:39](#msg58b48e73872fc8ce62915ef6)so you still have to write code separately to repeat Red version

Oldes

[20:39](#msg58b48e7a872fc8ce62915f11)It is Rebol code, not Red yet:) I know.. but how many times you will use the generator?

maximvl

[20:39](#msg58b48e8521d548df2c686bfb)oh, yep

[20:39](#msg58b48e9a7ceae5376a49501e)@Oldes well, each time your format is changed

Oldes

[20:39](#msg58b48e9d7ceae5376a495023)Don't understand what you mean with \_you still have to write code separately_

maximvl

[20:41](#msg58b48eea21d548df2c686db5)well, your code fills `Bitrate` and `SamplingRate` fields

Oldes

[20:41](#msg58b48ef21465c46a56c1106d)I made my SWF parser in 2007 and still use it.. no need to touch it.

maximvl

[20:41](#msg58b48ef31465c46a56c11073)based os some logic

[20:41](#msg58b48f167ceae5376a4951f5)@Oldes well, SWF format is defined, but maybe you are using your own in your project

Oldes

[20:41](#msg58b48f171465c46a56c111e3)The binary formats are full of conditions

maximvl

[20:44](#msg58b48fb2872fc8ce62916525)@Oldes there is basic support for conditionals and other things: http://doc.kaitai.io/user\_guide.html#\_conditionals

Oldes

[20:44](#msg58b48fba7ceae5376a4956e8)I made own binary format few years ago.. I'm using the same `stream-io` script to write it.. https://github.com/Oldes/rs/blob/master/projects-rswf/pack-assets/divided/pack-assets.r

maximvl

[20:44](#msg58b48fc5f1a33b62755954ab)but it doesn't match the one you can do with Redbol, of course

Oldes

[20:54](#msg58b492237ceae5376a496512)When I read \[Kaitai ksy source](https://github.com/kaitai-io/kaitai\_struct\_formats/blob/master/game/doom\_wad.ksy), I don't have a feeling that it is something what human would write.

maximvl

[20:58](#msg58b49305872fc8ce62917ae6)well, i woudn't say php or perl is something what human would write :D

greggirwin

[21:01](#msg58b493b1e961e53c7f76845c)We can at least agree that there are a lot of tools out there for this, so some people must still need it. JSON hasn't won everywhere yet. :^)

Oldes

[21:03](#msg58b49419e961e53c7f7687b4)Right... I would like to create binary parsing dialect in Red one day.. it could be used to generate the `ksy` source too:)

## Tuesday 28th February, 2017

gltewalt

[08:08](#msg58b52fe5872fc8ce6294b686)`help` behaves unexpectedly if fed a non-empty string

9214

[08:10](#msg58b530837ceae5376a4caf08)I think that's because `help` expecting `word!` value, not `string!`

gltewalt

[08:11](#msg58b530cd1465c46a56c46bd5)It doesn't throw an error though. It emits seemingly random amounts of information.

9214

[08:12](#msg58b530f7de50490822259456)Any code snippets to look at?

rebolek

[08:15](#msg58b531b8fef1d2de52abaf59)@gltewalt when you pass a string to `help`, it searches for that string

[08:16](#msg58b531e7567b0fc8138eddca)

```
c> help "lesser"
     lesser-or-equal? 	=>  Returns TRUE if the first value is less than or equal to the second
     lesser? 	=>  Returns TRUE if the first value is less than the second
     min 	=>  Returns the lesser of the two values
```

gltewalt

[08:16](#msg58b531f5f1a33b62755c9edb)This returns nothing `help ""`  
string with one space appears to return the same info as `what`

rebolek

[08:17](#msg58b5322dfef1d2de52abaf76)It returns all functions that have at least one space in docstrings.

9214

[08:18](#msg58b532567ceae5376a4cb89b)Oh, interesting, can I use glob patterns in it?

rebolek

[08:20](#msg58b532d09eb1bd81481e3d2a)I don’t think so.

gltewalt

[08:26](#msg58b5344fde5049082225a894)That's interesting, but seems an unusual approach to me

[08:27](#msg58b5346fe961e53c7f79d098)Thanks for clarifying it for me.

rebolek

[08:32](#msg58b535acfef1d2de52abb027)@gltewalt In Rebol, you could search just with incomplete word, in Red you must use string for searching. I found Rebol approach more user friendly.

DideC

[12:53](#msg58b572d0e961e53c7f7b6177)@rebolek me too.

[12:54](#msg58b5731bf1a33b62755e2470)@Oldes There is just one help string in your WAVE decoder, and it is wrong : https://github.com/Oldes/rs/blob/master/projects/wav/latest/wav.r#L84  
By the way, `stream-io` is nice !

Oldes

[13:24](#msg58b579f2872fc8ce62968b66)There is second help string in the `open` function and is correct:) It looks I made AVI parser before WAV:)

DideC

[16:02](#msg58b59f04872fc8ce6297a06b)Your are right, I did not notice the `open` one because it's in between the function definition. The second was easier to see ;-) There was no pun intended!

## Wednesday 1st March, 2017

mikeparr

[09:12](#msg58b690787ceae5376a555898)I'm thinking ahead about an IDE in Red (or one that allows Red scripting). Any ideas or code for Red programs/tools which manipulate Red code? A pretty-printer is one, for example. I guess that the code=data concept in Red means that a semantic analysis is meaningless.

dockimbel

[11:38](#msg58b6b2b3de504908222e5ad4)@WiseGenius Could you tell me if this proposition for maps :point\_up: \[November 20, 2016 8:26 PM](https://gitter.im/red/red?at=5831968db563b5516c41e69b) would satisfy your needs?

WiseGenius

[11:53](#msg58b6b64ff1a33b6275657d09)Wow, I can't believe I missed that one! I'll examine it ASAP.

Oldes

[13:48](#msg58b6d14800c00c3d4fa4abb4)Regarding binary parsing dialects... in Red it would be good to use internal structures of the Red/System and not to convert every internal value to high level values... because often just concrete information is wanted... it would be something like \_binary query dilect_ :)

rebolek

[13:53](#msg58b6d23de961e53c7f840e8e)If you want to use R/S structures, just use R/S. It would be nice, if R/S provided some parsing capabilities :)

Oldes

[13:55](#msg58b6d2bcf1a33b62756641a7)Of course.. there is many things I want.

rebolek

[13:55](#msg58b6d2c0872fc8ce629f021d)Red is safe lang while R/S isn't. Making Red unsafe is not a solution IMO.

Oldes

[13:56](#msg58b6d2fef1a33b62756642f4)Don't understand what you mean.. my idea is definitely not making Red unsafe. Never mind.. one day I will make it as it is one of my key needs.

[13:57](#msg58b6d35921d548df2c760349)@mikeparr maybe something like this? https://github.com/qtxie/red/blob/red-console/environment/red-console/highlight.red

rebolek

[13:58](#msg58b6d386de504908222f3608)@Oldes Red does not have GC yet, but imagine it does. How you can use garbage collector on raw memory? You need some metadata that Red provides (would provide).

Oldes

[13:59](#msg58b6d3cd00c00c3d4fa4bf07)You have the raw data in memory while parsing some binary format ... no need to convert everything to Red values.

[14:00](#msg58b6d4107ceae5376a5714f6)You can even just seek the raw data not to read everything.

rebolek

[14:03](#msg58b6d4a000c00c3d4fa4c4db)Ok, I probably misunderstood you somehow, I guess it's the language barrier ;) So you basically want to being able to use R/S integer, float, etc on binary data?

Oldes

[14:05](#msg58b6d50ce961e53c7f842338)I don't know yet... I just know, that until regular `parse` command will not support streaming, for big data it is not the best tool.. that is why I use my `stream-io` and not just `parse`.

[14:06](#msg58b6d55df1a33b627566519e)As you noticed, current `parse` state is not much friendly for binary parsing anyway.

pekr

[14:08](#msg58b6d5c1872fc8ce629f1600)Why is not Red parse friendly to binary parsing?

rebolek

[14:08](#msg58b6d5e400c00c3d4fa4cece)@Oldes We still do not have proper I/O, so `parse` could not work on streams yet.

pekr

[14:09](#msg58b6d6051465c46a56cedf12)Let's assume we have one.

rebolek

[14:10](#msg58b6d658872fc8ce629f1988)@pekr @Oldes must answer this, I have different opinion.

Oldes

[14:11](#msg58b6d6991465c46a56cee30f)I mean this is not much friendly:  
https://gitter.im/red/red?at=58b3f6e89eb1bd81481e1f66  
https://gitter.im/red/red?at=58b3feffde504908221ebc29

pekr

[14:11](#msg58b6d69bf1a33b627566592f)Parse has to support binary parsing - how else do you implement Amiga datatypes system and recreate AmigaOS using Red? :-)

Oldes

[14:14](#msg58b6d729872fc8ce629f1dda)Never mind... maybe I should keep my though personal. Of course I know it is not done \_yet\_.

rebolek

[14:14](#msg58b6d75b00c00c3d4fa4d811)@Oldes yes, it isn't. I thought that strings are stored as UTF8, which makes sense, unfortunately, they are not.

[14:17](#msg58b6d7ea00c00c3d4fa4dad3)@Oldes Please no, your thoughts are very valuable.

pekr

[14:21](#msg58b6d8eb00c00c3d4fa4e302)@Oldes Red needs ANY person, who tries to do some practical stuff. So please - keep on the Red usage and don't hesitate to throw ideas at Doc. I bet Doc welcomes a constructive input.

Oldes

[14:23](#msg58b6d94ff1a33b6275666948)I'm now trying to implement `browser` widget. Don't worry, I'm interested in Red. Binary parsing is not what I want to do now. I was just following the discussion.

[14:24](#msg58b6d9801465c46a56cef8f5)I bet Doc don't have time to follow every input.

pekr

[14:28](#msg58b6daa3f1a33b62756671c7)What component are you going to you for a browser widget?

Oldes

[14:32](#msg58b6db88de504908222f65b3)CLSID\_WebBrowser... but it is mainly for learning purposes so far:)

[14:35](#msg58b6dc20f1a33b6275667a99)Somehow I feel, that having inbuild browser widget would be big addition to Red.. You could even have this chat directly in Red window.

greggirwin

[16:32](#msg58b6f78821d548df2c7720b7)I imagine binary parsing will improve, but even now it works. Strings are not binary, so we can't just treat them as such. Plain binary is fine though.

```
red>> r1: #{FF}
== #{FF}
red>> r2: #{EE}
== #{EE}
red>> parse #{FFEE} [r1 r2]
== true
red>> parse #{FFEE} [r1 r1 r2]
== false
```

Keeping values at the Red/System level would be an optimization, but we should define the goals clearly, and need to think about what it looks like. It could be tricky to get right.

[16:36](#msg58b6f8907ceae5376a583809)@mikeparr: http://www.rebol.net/cookbook/recipes/0042.html

Semantic analysis isn't meaningless, especially for code that doesn't get tricky. One of the tricky things is knowing when you're inside a dialect, and how to deal with that. There is probably a lot we can do, but since I haven't written one, I don't know how hard some of it will be.

[16:44](#msg58b6fa8121d548df2c7736fa)Also, I have an \*oooold* R2 intellisense experiment. It won't work in Red, obviously, and I'd need to see if it still works at all, but we could play with that.

## Thursday 2nd March, 2017

greggirwin

[00:19](#msg58b765091465c46a56d2e719)`Trim` on a string looks like it wants to default to `/head/tail`, but doesn't:

```
red>> trim "  abc      ^/         def  "
== "abc^/def"
```

Looks like it's doing a `trim/with`, defaulting to a space for the `with` value. Using `/head/tail` explicitly works fine.

rebolek

[00:23](#msg58b765f5f1a33b62756a261f)`trim` could be great, but it isn't.

[00:23](#msg58b765fcde5049082232fdb9)

```
red>> trim "abcd^/"
== "abcd^/"
```

greggirwin

[00:26](#msg58b766bd872fc8ce62a3143b)I agree that it should trim in that case.

[00:28](#msg58b7671e872fc8ce62a3165b)Which may happen if the default of `/head/tail`applies.

[00:31](#msg58b767d81465c46a56d2f4dd)It doesn't look like it's setting those as defaults anywhere though.

[00:47](#msg58b76ba400c00c3d4fa8ecfd)@mikeparr, https://gist.github.com/greggirwin/3085f9cbed23f62b37cc5bb4e7095066 is a very quick port of the R2 pretty printer to Red.

JacobGood1

[02:45](#msg58b78759f1a33b62756ac599)Hey everyone, here is some cool news: https://news.ycombinator.com/item?id=13755981

mikeparr

[08:30](#msg58b7d82c872fc8ce62a54a8f)@greggirwin Thanks re the pretty-printer (I use the R2 one, nice to have Red version.)

greggirwin

[18:22](#msg58b862eb1465c46a56d8e5dc)@JacobGood1, any sense of how hard it would be to emit WASM as s-expressions from Red? Seems like it might be easier than the asm format.

JacobGood1

[21:03](#msg58b888897ceae5376a622655)@greggirwin there is also this: https://github.com/WebAssembly/design/blob/master/GC.md

[21:03](#msg58b888a97ceae5376a622744)No, but it is super interesting to think of red running in the browser

x8x

[21:04](#msg58b888ed00c00c3d4faff6c1)+1 for `trim` to `trim/tail` also by default

rebolek

[21:09](#msg58b88a27e961e53c7f8f27a3)@Oldes  
&gt; Somehow I feel, that having inbuild browser widget would be big addition to Red.. You could even have this chat directly in Red window.

You can have this chat in Red window already, even without browser widget.

meijeru

[21:44](#msg58b89258e961e53c7f8f5de2)I have looked at Wasm and the S-expression format ("wast") could probably be generated from Red/System in a rather straightforward manner (wast level is only slightly lower than R/S) \*except* that in the first version (MVP or Minimal Viable Product) there is no support for structures, which is one of the strong points of R/S. This is promised for a future extension.

rebolek

[21:53](#msg58b894457ceae5376a62752c)@lpvm How to get archive of this (and other) room:

1\. get `tools` branch of Gritter: https://github.com/rebolek/gritter/tree/tools  
2\. get your Gitter token at https://developer.gitter.im/docs/welcome  
3\. Run Red console in Gritter directory and do following:

```
red>> do %gitter-tools.red
red>> token: <your-token>
red>> user: user-info
red>> rooms: user-rooms user/id
red>> room: select-room rooms "red/red" ; or other room, see ROOMS for list of your rooms
red>> download-all-messages room/id
```

Messages will be downloaded to file `%messages.red`. It will take some time, this room takes around 23MB.

trosel

[23:02](#msg58b8a4a37ceae5376a62dd53)How similar is Rebol to Forth? It seems like a lot of cross over

[23:03](#msg58b8a4b3f1a33b62757192fa)Is Red's distant cousin Factor?

greggirwin

[23:27](#msg58b8aa7200c00c3d4fb0c56b)Red's heritage, via Rebol, comes from Lisp, Forth, and Logo. And Self for objects. It's similar in some ways. There are no keywords, and you can redefine anything. The importance of words, and the concept of building up a language to write your program in works well, though not a lot of people do that.

[23:29](#msg58b8aac27ceae5376a62fd8e)R/S is where you'll see the stack, which Red doesn't expose as a global mechanism.

[23:41](#msg58b8ada1de504908223a805b)Works great @rebolek.

[23:51](#msg58b8b006e961e53c7f9012b3)If you're patient, Red can even `load` the entire result, though it uses a lot of memory.

## Friday 3th March, 2017

trosel

[02:53](#msg58b8daabf1a33b6275728a2b)What can you do with Red parsing? For example, could you parse a programming language and then execute the AST?

[02:53](#msg58b8dab3872fc8ce62abcd84)Is it fast enough for that?

[02:55](#msg58b8db0ff1a33b6275728bd9)@greggirwin So Red/System uses a Forth-like DSL for doing low level code?

dockimbel

[02:55](#msg58b8db1621d548df2c830d51)@WildYorkies See Parsing examples \[here](http://www.red-lang.org/2013/11/041-introducing-parse.html). Yes, you can Parse a programming language using it. Red's lexer is using Parse.

PeterWAWood

[02:57](#msg58b8dba51465c46a56dbb700)@WildYorkies Red/System is more like C than Forth.

dockimbel

[02:58](#msg58b8dbbd7ceae5376a63e0c3)@WildYorkies Red/System is mostly C-like, but using Red syntax. Red and Rebol borrow some ideas from Forth, but they are not stack-based languages.

trosel

[02:58](#msg58b8dbe67ceae5376a63e161)Thanks! Have any benchmarks been done for Red/System? It's gotta be C under the hood, right?

dockimbel

[03:00](#msg58b8dc3c00c00c3d4fb1b00f)No C underneath, Red/System compiles directly to native code using our own toolchain (written in Rebol). Performances are currently around 4 -6 times slower than C, we don't have any optimizing layer yet.

trosel

[03:00](#msg58b8dc5521d548df2c83123a)Very cool :+1:

rebolek

[05:45](#msg58b90313567b0fc8138f35de)@greggirwin There is certainly room for improvements, storing everything is not necessary. i.e. `fromUser`can be replaced by id and `html` can be removed completely. Just that should reduce the size to ~ 50% IMO.

greggirwin

[06:38](#msg58b90f711465c46a56dcbf30)@rebolek, I had the same exact thought, just didn't post it. :^)

rebolek

[06:41](#msg58b91001fef1d2de52ac0ea6):) I've just implemented it, so let's see how much smaller the file will be.

[07:33](#msg58b91c434150746b151597d4)So it's even more than 50%, in case of this channel it is 58,5%. Nice.

trosel

[18:22](#msg58b9b451e961e53c7f96114e)Has anyone tried writing a chat bot in Red?

[18:22](#msg58b9b4657ceae5376a68f061)Wondering what kind of pattern would be used to "listen" on incoming messages

rebolek

[18:32](#msg58b9b6a3567b0fc8138f4c09)@WildYorkies event loop. Checking for unread messages with time! event i.e. every second.

trosel

[18:33](#msg58b9b6ebf1a33b62757773dd)@rebolek Is there a keyword to make a function call evaluate asynchronously then? Or is the natural flow to be blocking?

rebolek

[18:42](#msg58b9b9099eb1bd81481eafbc)@WildYorkies you can add your own functions to event handler with `insert-event-func`but I think that you can run it with Red/View only.

gltewalt

[18:47](#msg58b9ba4fde50490822403885)reactive programming is all about "Observer". Can reactor! be used ?

[18:50](#msg58b9bb11872fc8ce62b10f90)Is it restrictd to GUI events for now?

greggirwin

[20:40](#msg58b9d4ad1465c46a56e1a73b)It would be interesting to see what a `libuv` binding for Red would allow. I wouldn't want it as the only way to do things though. And the flow-based model of Red's reactive system will likely be integrated with port events when those come. The GUI reactive system is built on the underlying reactive design.

## Saturday 4th March, 2017

maximvl

[00:47](#msg58ba0e9de961e53c7f980873)@WildYorkies it worth repeating that Red has no keywords, because keywords are something expected to be reserved by the language designers and have fixed meaning, in Red every word can be redefined

[00:49](#msg58ba0f2421d548df2c8a1817)@WildYorkies what kind of asynchronous execution you would expect? event in same thread? parallel in separate thread? or green threads?

[00:51](#msg58ba0faa00c00c3d4fb8ae40)this is something to be designed in the future, hopefully all options will be supported, since each have it's own use cases

## Sunday 5th March, 2017

dander

[08:31](#msg58bbcccede504908224909b9)I was just looking at the new behavior described in #2391, and `keep pick` doesn't seem to be working as expected.

```
red>> about
Red 0.6.1 - 4-Mar-2017/23:13:47-8:00
red>> parse [x -- ] [collect [keep pick to '-- ]]
== []
red>> parse [x y -- ] [collect [keep pick to '-- ]]
== []
```

dockimbel

[10:41](#msg58bbeb661465c46a56eab280)@dander Works fine here:

```
red>> parse [x -- ] [collect [keep pick to '-- ]]
== [x]
red>> parse [x y -- ] [collect [keep pick to '-- ]]
== [x y]
red>> about
Red 0.6.1 - 5-Mar-2017/18:35:41+8:00
```

geekyi

[11:42](#msg58bbf9c2f1a33b627580fb4e)@dander working for me too..

```
red>> system/build/config/build-basename
== %gui-console-2017-2-27-48438
red>> system/build/config/OS
== Windows
```

greggirwin

[16:48](#msg58bc416300c00c3d4fc24200)Fine here, too, once I rebuilt.

dander

[17:54](#msg58bc50bc872fc8ce62bc8911)@dockimbel @geekyi @greggirwin I figured out what was going on. I was using scoop to try to update to the latest automated build, but it was using a cached version of the download. What I don't understand is why it was reporting the build version that it did. When I would run red.exe from the scoop shim, it would regenerate the crush.dll and gui-console from 2016-11-26-64912 inside ProgramData, and seemed to be running using those. Does it make any sense that it would report an updated build number if it was so old?  
There is a 'disable cache' flag `-k` on scoop, and when I added that, it successfully updated.

[20:25](#msg58bc744100c00c3d4fc35a4b)Does the timestamp shown by `about` actually represent the time that the ProgramData files are generated? I was assuming they were baked in during the automated build

trosel

[20:46](#msg58bc7928872fc8ce62bd66ad)@maximvl Red does have keywords, though. It has built in datatypes, built in words, etc. Otherwise Red would require you to write absolutely everything from scratch for every program

[21:00](#msg58bc7c64f1a33b6275837d21)What do you all think about Electron and the future of client-side apps? Most Electron apps I've used are quite slow because they use the resource hog (Chrome) in the background. VS Code is nice and fast though, so maybe there is a future with it.

JacobGood1

[21:00](#msg58bc7c74de504908224c4fde)@WildYorkies I think he means keywords in the traditional sense

maximvl

[22:53](#msg58bc96f67ceae5376a764cbe)@WildYorkies give me example of Red keyword

greggirwin

[23:07](#msg58bc9a141465c46a56ee1f7c)@dander the build date is compiled in AFAICT. Sounds like Scoop is doing something funky.

[23:08](#msg58bc9a6821d548df2c958eae)The Electron stuff all seems really big to me. I'm anxious to see how little we need, like Bolek's rich text, as fundamental pieces.

[23:11](#msg58bc9b121465c46a56ee24f8)Red has predefined values for a lot of things, but the language doesn't have keywords. Of course, you can easily break things by redefining them.

maximvl

[23:29](#msg58bc9f65872fc8ce62be21ce)exactly, there are just words and values and some of them are connected

gltewalt

[23:30](#msg58bc9fa4e961e53c7fa38f64)Probably means thing like op!

maximvl

[23:32](#msg58bc9ffc21d548df2c95a807)

```
red>> type? :+
== op!
red>> +: "test"
== "test"
red>> type? :+
== string!
```

nope, not a fixed thing

gltewalt

[23:32](#msg58bca02600c00c3d4fc43998)I know

maximvl

[23:34](#msg58bca07ce961e53c7fa39375)to me this approach is fundamentally different from others, evaluation and everything takes into account values only, and words just point to values

trosel

[23:43](#msg58bca2b1e961e53c7fa39ec8)@maximvl Those values have to come from somewhere...

maximvl

[23:45](#msg58bca32421d548df2c95b6be)@WildYorkies yes, but this has nothing to do with keywords

[23:45](#msg58bca33600c00c3d4fc44af8)keywords, lets say, in JS are `for`, `if`

[23:46](#msg58bca3427ceae5376a768667)do they have value? nope

[23:46](#msg58bca356e961e53c7fa3a1ca)do they give you any flexibility? nope

trosel

[23:46](#msg58bca3671465c46a56ee4c2f)To me, if a word comes built in with a value attached, it's a keyword. It doesn't matter if you can overwrite it. For example, how could Red possibly implement anything like concurrency or asynchrony without shipping with a special word for such a thing? It doesn't matter if you can overwrite it later

maximvl

[23:47](#msg58bca37c1465c46a56ee4c69)@WildYorkies ok, what's the value of `if` in JS?

[23:47](#msg58bca39ff1a33b6275843547)you just said `if a word comes built in with a value attached, it's a keyword`

trosel

[23:48](#msg58bca3b4f1a33b6275843595)@maximvl The value is the result of the expression that follows....

maximvl

[23:48](#msg58bca3b5e961e53c7fa3a31a)following your logic`if` is not a keyword

[23:48](#msg58bca3cc21d548df2c95b9b4)@WildYorkies 1. this is not a value of the word itself

trosel

[23:48](#msg58bca3d8de504908224d08f1)@maximvl I'm talking about red and rebol though. I'm not talking about \_every language ever written_

maximvl

[23:48](#msg58bca3dcde504908224d08fc)2. in JS `if` does not return any value

trosel

[23:48](#msg58bca3e421d548df2c95b9f1)jesus... you have a bad day?

maximvl

[23:49](#msg58bca3f5de504908224d091e)lol what?

[23:49](#msg58bca406e961e53c7fa3a3e7)ok, lets take step back

[23:50](#msg58bca438f1a33b62758437c3)https://en.wikipedia.org/wiki/Reserved\_word

[23:50](#msg58bca4521465c46a56ee4fad)&gt;By contrast, names in a standard library but not built into the language are not considered reserved words or keywords.

[23:50](#msg58bca459de504908224d0af9)this is what i'm talking about

[23:53](#msg58bca4ff872fc8ce62be3d27)terminology is very important, starting talking about things be sure you explained your own versions of words :D

## Monday 6th March, 2017

gltewalt

[00:35](#msg58bcaec2e961e53c7fa3d559)The special words (out of the box) are react and is  
There's an entry about react on redlang

greggirwin

[02:13](#msg58bcc5d41465c46a56eee9fa)&gt; To me, if a word comes built in with a value attached, it's a keyword.

[02:14](#msg58bcc6171465c46a56eeeae6)As Maxim says, that's not the accepted definition. We can call them built-ins, or something else. A keyword/reserved word in a language is one you can't change.

[02:15](#msg58bcc62f7ceae5376a77230d)They are part of a language grammar.

dockimbel

[02:51](#msg58bcceb4f1a33b627584e67d)@dander I suspect an issue with our build server, maybe a silently failing `git pull` would not update to the latest version, generating a build with newer timestamp, but older code...

WiseGenius

[07:42](#msg58bd12c8de504908224ef7fe)@dockimbel \[Your “proposition for maps”](https://gitter.im/red/red?at=5831968db563b5516c41e69b) would definitely work, providing the following details were implied:

\*\*1. Literal maps could contain `none!` values\**  
Eg:

```
red>> m: #(a 1 b #[none])
== #(
    a: 1
    b: none
)
red>> mold/all m
== {#(^/    a: 1^/    b: #[none]^/)}
```

This is because:  
1\. Otherwise, `load`ing a `save/all` or `mold/all`d map would be lossy.  
2\. Otherwise, one couldn't construct all maps in one pass.  
3\. I see no reason for the key to be discarded in this case, as there is no reason for a user to bother including `#[none]` in the construction if the key was unwanted.  
4\. This is analogous to `/case` currently working in `m: #(a 1 A 2)` to keep both keys, which I assume is for similar reasons.

I suppose this would also be the case for `m: make map! [a: 1 b: #[none]]`

However, I don't know about the following statement:

&gt; “Moreover, LOADing a serialized map would reduce the none word if present as value.”

You may have to give an example, but if this means what I think it does, I'm not sure that it would be necessary, and may be confusing (since other values aren't reduced) and even unwanted (especially if a word were intended).  
Is there a good reason for this part of the suggestion that I'm missing here? Otherwise, it seems to me that it's just for a small convenience which would be better met by `none` having it's own default literal form, and thus solving the problem everywhere. I was previously liking `_` for this, but I'm currently hoping for something less likely to be used in words. Maybe `\`. Anyway, that's for a different discussion.

\*\*2. Both keys with `none!` values and non-existent keys would return `none`\**  
I think this is kind of obvious, but I'll make it explicit just in case. Eg:

```
red>> m
== #(
    a: 1
    b: none
)
red>> m/a
== 1
red>> m/b
== none
red>> m/c
== none
```

To check the difference between keys with `none!` values and non-existent keys, I suggest extending `value?`. Eg:

```
red>> value? 'm/b
== true
red>> value? 'm/c
== false
```

This would also extend to objects. Eg:

```
red>> o: make object! [a: 1 b: none]
== make object! [
    a: 1
    b: none
]
red>> value? 'o/b
== true
red>> value? 'o/c
== false
```

Currently, that last line returns:

```
== true
```

However, even if `value?` weren't extended, one could always achieve the same result with:

```
red>> to logic! find keys-of m 'b
== true
red>> to logic! find keys-of m 'c
== false
```

\*\*3. `set`ting a key to `none` without using `/any` still removes keys, even if their value was already `none`\**  
Again, this seems obvious to me, but I just wanted to clarify. Eg:

```
red>> m
== #(
    a: 1
    b: none
)
red>> set 'm/b none
== none
red>> m
== #(
    a: 1
)
```

When you said:  
&gt; “It would also be safe to re-use unset on map keys, as an additional way to remove keys”

I assume you meant `unset 'm/a` as you'd already mentioned just above it, and not `m/a: ()` as in my original proposal. As I see it, neither would be necessary, but the former may be desired.  
However, `unset` may also be expected to work on objects. Eg:

```
red>> o
== make object! [
    a: 1
    b: none
]
red>> unset 'o/b
red>> o
== make object! [
    a: 1
]
```

Should it be possible to remove a word from an object? Is it already possible and I've missed how?

Anything I've missed or misunderstood?

[07:51](#msg58bd151f7ceae5376a78a0b5)Can a `none!` value be used as a key? I vote “yes” until I hear the first good argument against it. Currently it already can.

[07:52](#msg58bd15287ceae5376a78a0d8)Can an `unset!` “value” be used as a key? I vote “no”. Currently it can, but I that's a bug (\[#2201](https://github.com/red/red/issues/2201)).

[07:53](#msg58bd1581e961e53c7fa5a793)@dockimbel Why was \[#2201](https://github.com/red/red/issues/2201) recently labeled as `type.wish`? Is it no longer considered a bug? Which part of it is being considered as a wish?

maximvl

[09:45](#msg58bd2fcb00c00c3d4fc6f7e9)&gt;To check the difference between keys with none! values and non-existent keys, I suggest extending value?

I agree, `value?` works with `unset` and `none` in the same way, even description makes sense: `Returns TRUE if the word has a value.`

[09:48](#msg58bd3057872fc8ce62c0ddd0)and I'm still not sure if we need all three: hashes, maps and objects

dockimbel

[10:27](#msg58bd397b21d548df2c98b040)`Returns TRUE if the word has a value.` A word has a value in a context, maps are not contexts, they rely on keys which are not necessarily words.

maximvl

[10:28](#msg58bd39cd7ceae5376a798297)whoops

```
red>> a: []
== []
red>> value? a
== true
red>> value? a/1
== true
red>> value? a/2
== true
```

[10:29](#msg58bd3a0ee961e53c7fa67dc1)following this logic blocks are not contexts either, and `value?` doesn't work with them

dockimbel

[10:32](#msg58bd3aa521d548df2c98b79b)@maximvl

```
red>> a: []
== []
red>> a/1
== none
red>> value? none
== true
```

maximvl

[10:36](#msg58bd3bb51465c46a56f148af)@dockimbel what was the way to check if block has a value or not in Rebol?

[10:39](#msg58bd3c50de504908224fe0ae)or is this important at all? seems like a lot of functions return `none` which can be both result and absence of result

dockimbel

[10:41](#msg58bd3cbef1a33b6275870f7b)@maximvl What does `block has a value` mean? Do you mean: is it `empty?` or not?

maximvl

[10:42](#msg58bd3cfb7ceae5376a799576)@dockimbel

```
red>> a: [none]
== [none]
red>> a/1
== none
red>> a/2
== none
```

[10:42](#msg58bd3d2c872fc8ce62c12d47)was there a need for such check in Rebol at all?

WiseGenius

[10:47](#msg58bd3e2be961e53c7fa699d0)@maximvl

```
red>> a: [none]
== [none]
red>> 1 <= length? a
== true
red>> 2 <= length? a
== false
```

maximvl

[10:48](#msg58bd3e7f1465c46a56f15a3d)I'm trying to think about similar check for maps

WiseGenius

[10:49](#msg58bd3ed000c00c3d4fc75349)I demonstrated one above:  
&gt; However, even if `value?` weren't extended, one could always achieve the same result with:

```
red>> to logic! find keys-of m 'b
== true
red>> to logic! find keys-of m 'c
== false
```

maximvl

[10:50](#msg58bd3eddf1a33b6275871c84)yes

rebolek

[10:50](#msg58bd3ef84150746b1515d7df)Hm, my console just hanged up again. This is strange problem, It is impossible to reproduce, happens randomly after some hours of use and only way to recover is to close the console, CTRL+C does nothing.

maximvl

[10:52](#msg58bd3f69872fc8ce62c1392f)@WiseGenius also, I think more efficient version could use details of internal implementation

WiseGenius

[10:57](#msg58bd40b000c00c3d4fc75d3e)@maximvl I just remembered `find` can be used directly on `map!`s:

```
red>> find m 'b
== true
red>> find m 'c
== none
```

[11:06](#msg58bd42d3e961e53c7fa6b8b3)Extending `value?` was just a casual suggestion for the convenience of checking using a single `path!` value. There may be a more appropriate `word!` for this. Otherwise it doesn't matter as we already have `find`.

maximvl

[11:19](#msg58bd45ae872fc8ce62c15de1)`$` breaks reader for some reason:

```
red>> [echo $?]
*** Syntax Error: missing #"]" at "$?]"
*** Where: do
```

rebolek

[11:27](#msg58bd47b3fef1d2de52ac50fd)`$` is probably reserved for `money!` type

dockimbel

[12:16](#msg58bd532521d548df2c994d50)@maximvl About `none` as value-in-block vs `none` as result of an out-of-bound access, Red inherits from a change done in Rebol \[a decade ago](http://www.rebol.net/cgi-bin/r3blog.r?view=0008). I still have mixed feelings about that, as I think some ordinal accessors raising an error in such case would still be useful, and not just for beginners.

maximvl

[12:19](#msg58bd53e721d548df2c9951ee)interesting, maybe it even makes sense to have separate block type which raises errors on out-of-bound access,

dockimbel

[12:21](#msg58bd544cde50490822506c53)@maximvl You would need a whole new set of datatypes to cover all series, an alternative set of accessors would be simpler.

maximvl

[12:21](#msg58bd54611465c46a56f1e1be)or this

WiseGenius

[12:23](#msg58bd54b1f1a33b62758798ff)Perhaps functions like `pick` could have a refinement so that they would error when out of bounds, etc.?

rebolek

[14:56](#msg58bd788e4150746b1515df51)This commit https://github.com/rebolek/try\_git/commit/6ff58e098050a0da61582386ac448aec58de95c6 may not look very interesting, but it was done with this line using GitHub API (no local Git used):

```
github/commit 'rebolek/try_git %README.md "Commit from Red"
```

WiseGenius

[15:07](#msg58bd7b3cf1a33b627588975a)@rebolek Nice!

rebolek

[15:16](#msg58bd7d5c9eb1bd81481ee59b)@WiseGenius thanks!

maximvl

[15:18](#msg58bd7dd721d548df2c9a8107)@rebolek no local git used? O\_o

[15:19](#msg58bd7e0fde50490822517e42)@rebolek do you use some kind of commit rest api on github?

rebolek

[15:31](#msg58bd80c7fef1d2de52ac5922)@maximvl yes, exactly: https://developer.github.com/v3/

maximvl

[16:43](#msg58bd91bcde50490822520d5c)@rebolek nice, well done

[16:44](#msg58bd91f17ceae5376a7bde3e)@maximvl is not urging anything, but we need sockets so badly

rebolek

[16:45](#msg58bd9222567b0fc8138f7ec3)wait for 0.7

[16:45](#msg58bd923a4150746b1515e3d2)OTOH with current limited I/O lot of things is possible already

maximvl

[16:47](#msg58bd92a0e961e53c7fa8db3c)it's too limited, I'm working on 9p implementation for Red (writing in Rebol now) and without sockets it's not fun at all :D

[16:49](#msg58bd9328e961e53c7fa8de05)it was surprisingly easy to just insert 9p specs into program and parse them, much easier than I did in lisp in the past

rebolek

[16:49](#msg58bd9333567b0fc8138f7eef):)

[16:50](#msg58bd93649eb1bd81481ee83b)Sockets would be cool, it would make talking to Redis much easier and much much faster than using `call` as I do now.

greggirwin

[18:13](#msg58bda6d9f1a33b627589d309)We'll make things better, but you already show how we can do it today.

## Tuesday 7th March, 2017

rebolek

[00:17](#msg58bdfc1de961e53c7fabae00)Thanks Gregg. Implementing APIs is not that hard, it just takes time. Well, not OAuth2. That beast scares me to death.

gltewalt

[01:31](#msg58be0d6d1465c46a56f6f4e8)The time might be NOW to start generalizing react. It could be nice in network programming and system scripting.

rebolek

[01:35](#msg58be0e64872fc8ce62c6baa9)@gltewalt isn't it already generalized? http://www.red-lang.org/2016/06/061-reactive-programming.html

gltewalt

[01:39](#msg58be0f59f1a33b62758c5911)Maybe I misread it?

""""  
Last release introduced, for the first time in the Rebol world, a reactive programming framework, as a part of the GUI engine. While working on improving it, we realized that it could actually be easily generalized beyond GUIs, with just minor changes to its design and implementation.  
""""

[01:47](#msg58be112521d548df2c9e6e13)the react word only in vid, currently?

[01:49](#msg58be11b27ceae5376a7f3b00)Also, the disagreement over keywords recently... the VID docs has "Keywords" in section 5

JacobGood1

[02:11](#msg58be16ed7ceae5376a7f5404)This is the problem with programming, too much overloaded terminology... keywords usually refer to words that are reserved and cannot be redefined. If a programmer from another language asks what are the keywords of red, the answer invariably has to be that there are none. Thinking in terms of keywords, coming from other languages, is an incorrect way of thinking when learning red. This is why redites take the onus upon themselves to help clarify meaning when someone is new to the language and asks about keywords.

[02:13](#msg58be174ff1a33b62758c7c89)@gltewalt you can create all kinds of react objects right now it is not bound to vid.

[02:15](#msg58be17c621d548df2c9e8760)The odd thing about red is the whole language is super general anyway, generalization is something that just falls out everywhere

gltewalt

[02:15](#msg58be17d31465c46a56f72562)There was just a big disagreement over keyword, and at least one of the Red documents uses the term.

[02:15](#msg58be17ddde50490822553adf)So what to do?

X4

[02:17](#msg58be1848872fc8ce62c6e43c)Hi :)  
What I find awesome about APL and J ist that you can have an immensly concise language that is still performing interpretation faster than an optimized and compiled C solution (most often times, but of course not always). How can we do Array-Programming in Red? What I'm most interested in is to do tensor and matrix operations on very large fields and let the compiler decide if it's run on a DSP, GPU or CPU.

JacobGood1

[02:17](#msg58be184a1465c46a56f72743)Java has fields, c++ has members, common lisp has slots, Dart has properties, Red has words... All of these things are very similar and yet quite different, however, you will hear programmers from every language using these terms interchangeably

X4

[02:18](#msg58be186f1465c46a56f727e1)Can a kind of J get implemented in System/Red that has also access to the GPU?

gltewalt

[02:19](#msg58be18a3f1a33b62758c826b)What's the right thing to do in documentation? Inconsistency promotes confusion and arguments, no?

JacobGood1

[02:19](#msg58be18b57ceae5376a7f5ad5)I think that most people assume that context is key

[02:20](#msg58be19041465c46a56f72b88)If I ask you to write a function in clojure or haskell, and write a function in c... does function mean the same thing in those languages?

[02:22](#msg58be19697ceae5376a7f5ddf)I think at this point things are too far gone in programming land, you just have to learn the lingo of every language, ecosystem, etc.. when programming in them

[02:23](#msg58be19a7872fc8ce62c6eb9c)@X4 anything is possible really, where there is a will there is a way

gltewalt

[02:24](#msg58be19d3f1a33b62758c8927)The argument was @WildYorkies, not mine.  
I recognize the function isn't exactly the same across languages, but there were adamant arguments that Keyword was the wrong term

JacobGood1

[02:25](#msg58be1a181465c46a56f72ff5)I read the arguments, I think that redites were trying to explain that there are no keywords in the traditional sense

gltewalt

[02:26](#msg58be1a58f1a33b62758c8a99)Yes, but he's right as long as there are docs that use Keyword

[02:27](#msg58be1a891465c46a56f731f4)It doesn't matter much to me - I just think a consensus would be beneficial

JacobGood1

[02:28](#msg58be1ae7f1a33b62758c8d03)No, he is not right. I have two friends who are both named Will, when I say Will, come here... which Will am I referring to? Probably the one I am pointing at or gesturing towards. The documentation is using keywords in a different way according to a different context, it is fine to do that, we do it all the time when we speak.

PeterWAWood

[02:29](#msg58be1aedde504908225548ae)@Greg The VID dialect (or DSL) has keywords as do most dialects. They cannot be redefined by the user and have a specific meaning.

[02:33](#msg58be1bffde50490822554d1a)What many people conceptualise as keywords in Red, I think of as pre-defined words in the global context bound to Red standard functions. You can bind such a word to a different value. Unless done carefully, this has the side-effect of access to the standard function being lost.

[02:37](#msg58be1d061465c46a56f73bae)In terms of inconsistency in the documentation, I don't think there is any inconsistency in the use of keywords. The Visual Interface Dialect document does assume the reader understands the difference between the Red language and a Red dialect.

[02:41](#msg58be1de321d548df2c9ea2f4)I guess Red/System is an easier to understand example of a Red dialect with keywords. Trying to compile

```
if: 1
```

will result in

```
*** Compilation Error: attempt to redefine a protected keyword: if
```

X4

[02:42](#msg58be1e1c21d548df2c9ea3bb)Can I already use lapack/blas using Red?

[02:42](#msg58be1e2f1465c46a56f73fd6)I mainly want to implement neural networks (deep-learning etc.)

PeterWAWood

[02:48](#msg58be1f7a21d548df2c9ea949)@X4 Red is still in the Alpha stage (using a bootstrap toolchain) and there is much functionality to be implemented before its initial release. Things such as built-in GPU access are not planned for the initial release and can only be considered once the Red toolchain is self-hosted.

gltewalt

[02:53](#msg58be20c37ceae5376a7f7f77)@PeterWAWood You're a good writer.

PeterWAWood

[02:55](#msg58be210a00c00c3d4fcd2fbb)@gltewalt Thanks.

X4

[02:58](#msg58be21cfe961e53c7fac5f3f)I mainly do large, complex computations and transformations which usually blows code-size up immensely, with mostly boilerplate code, that you can reduce by making most of the code a black-box for new-comers. That's why I find a terse and concise language (like APL/J) very highly favorable over a verbose and celebratory one. Because I'd like implement neural networks without external dependencies. Everyone in Pythonland uses numpy and many ignorantly don't even consider that as a dependency anymore. I think optimized mathematical axiomatic routines should be a core feature of every programming language.

[02:58](#msg58be21ea00c00c3d4fcd334f)If you used ArrayFire, you could immediately go fast now. https://arrayfire.com/why-arrayfire/

[03:27](#msg58be28af7ceae5376a7fa12f)A more lightweight library can be found here, albeit that gives you just CPU optimized primitives https://bitbucket.org/MDukhan/yeppp/

[03:28](#msg58be28c4872fc8ce62c72b29)Both are faster than Intel's MKL

greggirwin

[04:18](#msg58be34afe961e53c7facb4c8)@X4, we can certainly write an array-language dialect, and if those libs have an API that can be called from Red/System, they could be integrated. It needs a champion, as our resources are limited. Whether "optimized mathematical axiomatic routines should be a core feature of every programming language" comes down to tradeoffs. I haven't needed them in my work, and every feature has a cost. As we fight to keep things simple, we have to be open to the most important new features we don't have yet, without including everything. Since Red can be compiled, it will be possible to build a version of Red (NumRed) that does all that, while the general purpose version doesn't. Then we have to fight to keep from proliferating versions. :^)

JacobGood1

[13:24](#msg58beb4a000c00c3d4fd07e00)I just want to know what an optimized "axiomatic" routine is...

[13:37](#msg58beb77dde50490822589280)If any of you likes math this debate is neat... it challenges the idea of axioms in mathematics: https://www.youtube.com/watch?v=WabHm1QWVCA  
Of course, this is the red channel, soooo... \\back-on-topic

lpvm

[17:08](#msg58bee912872fc8ce62cbcea3)@rebolek

```
red>> do %gitter-tools.red
red>> token: <your-token>
red>> user: user-info
red>> rooms: user-rooms user/id
red>> room: select-room rooms "red/red" ; or other room, see ROOMS for list of your rooms
red>> download-all-messages room/id
```

Messages will be downloaded to file `%messages.red`. It will take some time, this room takes around 23MB.

[17:08](#msg58bee928e961e53c7fb12e3f)Do you use this with which version of Red?

rebolek

[17:09](#msg58bee953fef1d2de52ac78a9)It is custom build from 28. January.

lpvm

[17:09](#msg58bee96221d548df2ca36aca)Windows version? Linux?

rebolek

[17:10](#msg58bee968fef1d2de52ac78ab)I guess it should work with latest version, I will check it.

[17:10](#msg58bee96bfef1d2de52ac78ad)OS X.

[17:10](#msg58bee97f567b0fc8138f9c1f)Do you have some troubles running it?

lpvm

[17:10](#msg58bee989de504908225a04a1)With windows version under wine in Linux it gives me red&gt;&gt; user: user-info  
\*\** Access Error: cannot connect: https://api.gitter.im/v1/user reason: timeout  
\*\** Where: write

[17:11](#msg58bee9a400c00c3d4fd20e5d)under Linux, was able to get user-info but then

[17:11](#msg58bee9a921d548df2ca36cdc)red&gt;&gt; rooms: user-rooms user/id  
\== #(  
error: "Bad Request"

rebolek

[17:11](#msg58bee9bdfef1d2de52ac78b2)Hm, I will try on Linux, thanks for info.

lpvm

[17:12](#msg58beea08f1a33b6275914299)I was logged in browser, logged out, but it's the same Bad Request under Linux version

[17:12](#msg58beea107ceae5376a84493c)bbl

rebolek

[17:13](#msg58beea55567b0fc8138f9c3a)Ok, I will try it and let you know. Browser should have no influence on Gritter’s behavior.

X4

[17:14](#msg58beea7f00c00c3d4fd21426)@greggirwin Yes indeed. I am mostly looking for usage of Red for numeric processing on either CPU and/or GPU. NumRed is a cool and descriptive name, R(ed)PL might be even catchier for APLers.

[17:16](#msg58beeae900c00c3d4fd2178f)I think this is still years ahead... Crystal on the other hand somehow flourishes and evolves much faster. But there are rarely such geniuses like red author unfortunately..

JacobGood1

[17:25](#msg58beed25de504908225a1c72)@X4 have you thought about writing a dialect that compiles to Cuda, gets compiled by the Cuda compiler into a dll, then is connected to through red system, and finally consumed in Red?

X4

[17:32](#msg58beeeb8e961e53c7fb1576d)@JacobGood1 Yes, but I hardly trust NVidia and adding such limited graphics support would be unwise. ArrayFire.com is much more suited for any GPU model and also supports the CPU while being faster than Intel's MKL. It works with CUDA too. But to be honest I believe that at this point the language evolves to a mini-kernel. So why not just directly access already existing bindings, or virtualize driver access.

JacobGood1

[17:35](#msg58beef6021d548df2ca397f6)@X4 amd is making a cuda-&gt;compile-everywhere conversion tool: https://github.com/GPUOpen-ProfessionalCompute-Tools/HIP

X4

[17:39](#msg58bef039de504908225a311f)That is true, AMD can't beat the NV marketing, so they gave up and offer this converter. I would still not endorse CUDA, except you've personal experience with it. It has a cumbersome not well thought out API which surely will break a few times in the future.

[17:39](#msg58bef0547ceae5376a8474a5)If you put a red executable into an http://OSv.io container it can run ontop of that hypervisor and access low-level kernel APIs.

[17:41](#msg58bef0b57ceae5376a8476c5)I think such a sandboxed deployment model is better, but due to the osv license I think a reimplementation would be better.

[17:42](#msg58bef0fb21d548df2ca3a46e)That would allow red apps to run without an os ontop of a lightweight Hypervisor that exposes your favorite Kernel's APIs

[17:45](#msg58bef1a4e961e53c7fb16be1)That would end up similar to something like http://smartos.org (just thinking out loud). I know this is far fetched, but a good and future proof way of evolving as os independent red apps

rebolek

[17:58](#msg58bef4bb4150746b15160223)@lpvm reproduced, I will take a look at it, thanks.

JacobGood1

[17:58](#msg58bef4da872fc8ce62cc22a9)@X4 I am not really familiar with those technologies but that stuff looks neat

greggirwin

[18:41](#msg58befebef1a33b627591ca6f)I hadn't seen OSv, but thought SmartOS had a lot going for it a couple years ago when I looked at it. The downside was that you really want to have Solaris experience to move to it. Maybe they've hidden more details now, but we still have to manage a stack of technologies. I'm not a fan of containers. With Red, you can often avoid dependency bloat, so containers don't offer much, and are just added weight themselves.

[18:48](#msg58bf0091e961e53c7fb1d21d)I can only speak for myself of course. In larger environs, where you have a lot of tools in your stack, it will differ. And whether you roll your own. We use CouchDB for some things, and there wasn't an R2 lib for it, so I wrote one. As the ecosystem grows, we'll learn how best to architect systems.

X4

[18:50](#msg58bf00f600c00c3d4fd2aef6)You were recommending CUDA libraries, that would add dependency bloat, no? I think accessing underlying hardware for compute tasks is the hardest nut to crack, because it's so immensly driver dependent.

greggirwin

[18:50](#msg58bf00fb21d548df2ca40abc)I don't think we can just do it like others do. It would work, of course, but would not leverage Red's abilities. We need to learn from them, but not necessarily emulate them.

X4

[18:51](#msg58bf01211465c46a56fca163)I fully agree, that's why Red's way of doing it, should be dependency free and self-hosting like everything else

greggirwin

[18:52](#msg58bf017e872fc8ce62cc7abd)Everything is a tradeoff. If libs offer a lot of value, we should absolutely use them. Doesn't mean they should be a standard dependency though, if they are specialized. It sounds like you're the expert here on CUDA, so you know best what the options are.

[18:53](#msg58bf01b0de504908225aa3d2)I would love for Red to be Red all the way down. It's just a matter of resources, as you note the effort for building it all ourselves.

X4

[18:54](#msg58bf01f2de504908225aa763)That's why I thought going the osv.io route or copying it might help a lot on the way. No more driver dependencies and a solid API to all external hardware (regardless if virtual or physical)

greggirwin

[18:54](#msg58bf01fdde504908225aa7a3)But Red already shows that it's possible. It emits machine code for all target platforms directly. And that's with Rebol as the foundation. When Nenad can do v2 of the compiler, using Red itself, using all he's learned so far, it will be even better.

[18:56](#msg58bf0266872fc8ce62cc8039)Right now FullStack has their targets and goals. As new ideas come up, they either need to align with those directly, or someone has to take the lead on them.

[18:59](#msg58bf030f1465c46a56fcb3f8)I'll try to make time to read more about OSv.io.

X4

[19:00](#msg58bf03401465c46a56fcb562)How do you make SQL queries in Red?

[19:01](#msg58bf03751465c46a56fcb86a)basically is there jet another sql driver bridge or did you implement the whole driver in red?

greggirwin

[19:08](#msg58bf054900c00c3d4fd2d129)No SQL in Red at this time. Drivers will be DB dependent, but we could have a SQL dialect that they share, to help prevent injection attacks and such.

X4

[19:13](#msg58bf06407ceae5376a85101e)I see.. there is sooo much to do :) Go's Approach is this: https://github.com/Go-SQL-Driver/MySQL/

greggirwin

[19:13](#msg58bf066621d548df2ca439e1)Well, we can't do everything. :^)

X4

[19:13](#msg58bf06777ceae5376a851101)Highly appreciate the pleasant conversation with you @greggirwin =) Going for dinner, have a nice day btw. :+1:

greggirwin

[19:14](#msg58bf068f872fc8ce62cca0c9)Likewise. Have a nice dinner.

[19:32](#msg58bf0ac17ceae5376a853129)@X4, Nenad wrote an excellent MySQL driver for R2 many years ago, so that will surely come.

## Wednesday 8th March, 2017

geekyi

[00:16](#msg58bf4d4c872fc8ce62ce72bb):point\_up: \[March 6, 2017 1:25 AM](https://gitter.im/red/red?at=58bc744100c00c3d4fc35a4b) @dander build time last I checked. `system/build/config/build-basename` is more helpful as it has the commit hash

[00:17](#msg58bf4d9b00c00c3d4fd48a97)@X4 and others. If you find any framework or app missing, you can always check to see if there is a rebol version of it. Same for documentation

[00:24](#msg58bf4f277ceae5376a86d354)@X4 you mention `J` and `neural networks` :point\_up: \[March 7, 2017 7:17 AM](https://gitter.im/red/red?at=58be1848872fc8ce62c6e43c) :point\_up: \[March 7, 2017 7:42 AM](https://gitter.im/red/red?at=58be1e1c21d548df2c9ea3bb) . What's wrong with your existing tools? :p (just curious, what can't you do, that you think you can do with red?)

X4

[00:28](#msg58bf50237ceae5376a86d819)I am just incredibly curious 🙈 J already allows access to LAPACK however I prefer to have a full stack language and compiled output, even though interpreted J is most often faster than other languages

geekyi

[00:28](#msg58bf504400c00c3d4fd497b8)The fastest way forward right now may be implementing the whole of `j` primitives as a dialect (your axioms) for the frontend (to get an array manipulation functions), and perhaps interface in red/system to one of the mentioned backends

[00:30](#msg58bf50a300c00c3d4fd499d7)Something like `do-j [ + / % # ] [ data ]`

[00:31](#msg58bf50e7de504908225c851d)Except the semantics of function composition doesn't easily map over.. Needless complex in J, imho

X4

[00:32](#msg58bf513521d548df2ca6066e)That makes sense, but I don't know the Red synthax.. didn't click for me yet. Although I've read every line in the whole sourcecode rigorously and get it. Try to write an n-queens example in J and Red. I am curious if Red is similarly concise.

geekyi

[00:35](#msg58bf51b6de504908225c876e)Red is missing quite a lot of functional combinators, so you have to wait or write yourself \*hint hint*

X4

[00:38](#msg58bf527400c00c3d4fd4a325)@geekyi I even agree on J being needlessly complex. Here''s my favorite take on that https://m.youtube.com/watch?v=gcUWTa16Jc0

[00:38](#msg58bf529300c00c3d4fd4a360)750 line APL compiler with GPU Support

[00:42](#msg58bf5358e961e53c7fb3da22)I have seen weird ways to bootstrap, the weirdest but cooles is APLTAIL https://github.com/melsman/apltail

[00:48](#msg58bf54c5872fc8ce62ce9675)The coolest ist Co-dfns, but Apex really kicks ass when it comes to performance, seriously pure genius in there http://www.snakeisland.com/apexup.htm

geekyi

[00:55](#msg58bf5674e961e53c7fb3e917)The video is \*tl;dw* for me :p

X4

[00:56](#msg58bf56b821d548df2ca61ed5)Indeed, just hit the description there is a link to an AMA and github

geekyi

[01:01](#msg58bf57e921d548df2ca623c8)Co-dfns uses Arrayfire? It looks to be a not so small dependency..

[01:02](#msg58bf581e21d548df2ca624e5)And apex is interesting too, but I'm not sure if it would work on windows..

X4

[01:08](#msg58bf5985e961e53c7fb3f91e)@geekyi yes it does, as I mentioned earlier CUDA is nice if all you ever want is just support for recent NVIDIA GPUs. Otherwise there is no way around ArrayFire, because it gives you CPU, GPU support and optimized math kernel libraries ontop.

[01:12](#msg58bf5a9700c00c3d4fd4cb61)I am all ears on any possible way of adding this to Red without an external library. But I think what I mentioned earlier with osv.io.. ie. exposing a low level API to the kernel via it's hypervisor is the only way I can imagine to getting GPU access without being driver dependant

[01:17](#msg58bf5bba00c00c3d4fd4cffa)How about using Shaders for computation? That would be vendor neutral (I think) and need no other deps. That could already be done without Array Fire, however you still need a dynamic scheduler that is generated via a solver to balance CPU, GPU and IPC tasks.

[01:18](#msg58bf5bd71465c46a56fed100)Probably where the PEG shines

geekyi

[01:26](#msg58bf5dc6de504908225cbe6b)That's an alternative

[01:27](#msg58bf5def21d548df2ca645e0)I don't think you need extreme performance in the first step

X4

[01:28](#msg58bf5e2b1465c46a56fedc1d)Agree

geekyi

[01:29](#msg58bf5e65e961e53c7fb410ce)It took me quite a while to understand how https://github.com/arcfide/Co-dfns was organized. In alphabetical order I suppose?

X4

[01:30](#msg58bf5ea721d548df2ca64c96)I stil need to grasp to code too, but yes

greggirwin

[02:04](#msg58bf66c3de504908225ceba6)&gt; Try to write an n-queens example in J and Red. I am curious if Red is similarly concise.

We would need to write a dialect. J, while described as a GPL, is really targeted at a set of needs and users. Certainly, many of us love a good round of code golf at times (see: Rebmu), but Red's use of special characters in the lexicon means it will probably never be as concise as languages that...use them like J does.

JacobGood1

[02:42](#msg58bf6f8c1465c46a56ff3732)@greggirwin well, theoretically nothing can be as concise as a language that follows the lisp heritage such as red, one just has to be willing to create that concision

greggirwin

[04:09](#msg58bf84037ceae5376a87c881)Not sure. It may be that you can't create a language based on fewer, simpler primitives. Forth can be very concise, and J or other APL-like languages are...dense. I haven't used J for real, so can't fairly say what it reads like to an expert. For me, as an outsider, it's very hard to read. J gurus may see the most transparent expression of a clear and elegant solution, where I see line noise. :^\\

JacobGood1

[04:12](#msg58bf84bdf1a33b6275948bc8)In other news Firefox 52 was released with webassembly support, it came a lot sooner than I thought it would...

greggirwin

[04:12](#msg58bf84be00c00c3d4fd591bd)My old R2 n-queens response to a challenge was, perhaps, intentionally contrary. It returned the answer as instructions for a human to follow. Not concise at all, but still correct. :^)

JacobGood1

[04:13](#msg58bf84fbde504908225d76a1)There is definitely a balance between brevity and clarity... I just do not know what that is(nor does anyone else since it is subjective)

greggirwin

[04:18](#msg58bf860a7ceae5376a87d167)Agreed. A refactor too far.

rebolek

[05:52](#msg58bf9c33567b0fc8138faa20)@lpvm There is strange `compose` related problem that I can reproduce only on Linux so far. I know where it happens, but I haven't been able to isolate it yet.

[05:55](#msg58bf9ce64150746b1516102a)Nice, now I crashed Red.

[06:36](#msg58bfa67dfef1d2de52ac89ef)@lpvm https://github.com/red/red/issues/2470

dander

[07:43](#msg58bfb636de504908225e5b4e)@geekyi Thanks! That's very useful.

lpvm

[13:07](#msg58c002147ceae5376a8a7b63)@rebolek Thank you for all. I'll wait for the correction, no problem, I'm here for the long-term ;-)

rebolek

[13:08](#msg58c0025d4150746b15161697)@lpvm I think you do not have to wait anymore, this \[commit](https://github.com/red/red/commit/485d57b98c3c9e320e30a76db6f6c9db967eb99c) should fix it :)

[13:08](#msg58c002684150746b1516169a)(I haven’t tested it yet)

ghost~5680c5f416b6c7089cc058a5

[13:17](#msg58c00479de50490822601406)@dockimbel @qtxie The latest red automated build gives this error when run on windows

```
λ red
*** Driver Internal Error: Script Error : gui-sys-call expected args argument of type: string
*** Where: run-console
*** Near:  [gui-sys-call exe file]
```

`red --cli` works fine.

It seems the gui-console is requiring an argument to be passed to it always, as it works when `red test.red` is done.

## Thursday 9th March, 2017

mydoghasworms

[07:29](#msg58c10450de5049082266528b)@nc-x Me too

[07:30](#msg58c104a8e961e53c7fbe2e64)Hi guys, I have been absent from this community for a long time, so I feel a bit like a prodigal son showing up here, but I wanted to ask: are there 64-bit builds for Red as well? Reason I am asking is that I want to build a Ruby to Red bridge via Ruby FFI, and using the available build it obviously works for the Ruby 32-bit version, but not for 64-bit.

greggirwin

[08:08](#msg58c10d64872fc8ce62d92d70)Nice to see you again. No 64-bit yet.

mydoghasworms

[08:11](#msg58c10e391465c46a56095aea)Thanks Gregg. Is there any benefit for Red itself to support 64-bit or will it remain 32-bit for the foreseeable future?

rebolek

[08:21](#msg58c110a69eb1bd81481f3136)@mydoghasworms 64-bit version will be there after Red will be self-hosted.

dockimbel

[08:41](#msg58c1155100c00c3d4fdfaa0d)@mydoghasworms Welcome back! No specific benefit except for supporting series with more than 2B elements.

[09:44](#msg58c1240cdd08b4b859a7520d)FYI, `call` is now integrated in the runtime library as a native. Enjoy. ;-)

rebolek

[09:44](#msg58c12416fef1d2de52aca6f0):+1:

maximvl

[09:45](#msg58c1241f1465c46a5609ecd4)`call` ?

rebolek

[09:46](#msg58c124689eb1bd81481f3419)`Executes a shell command to run another process.`

maximvl

[09:47](#msg58c1249b1465c46a5609ef1f)ok, just downloaded a new Red :)

[09:47](#msg58c124a0de5049082267281d)nice to see help is already there

[09:47](#msg58c124a9de5049082267288a)@dockimbel :+1:

dockimbel

[09:47](#msg58c124b17ceae5376a922954)@maximvl See the \[doc](http://www.rebol.com/docs/shell.html). Only the block arguments are not supported, all the other features are there.

maximvl

[09:51](#msg58c1258421d548df2cb1416d)

```
red>> call/input {grep "5"} %/etc/passwd
== 1
```

[09:51](#msg58c12586de50490822672c59)=\\

[09:52](#msg58c125c6de50490822672dc5)I assume this is return value

[09:52](#msg58c125edde50490822672e56)

```
red>> x: copy ""
== ""
red>> call/input/output {grep "5"} %/etc/passwd x
== 1
red>> x
== ""
```

[09:52](#msg58c125fade50490822672e85)how do I use it guys?

dockimbel

[09:59](#msg58c1279e872fc8ce62d9d684)@maximvl Your user has probably not the rights for that operation. Try launching Red using `sudo`.

maximvl

[10:00](#msg58c127c7de50490822673798)@dockimbel should not be an issue:

```
> grep 5 /etc/passwd
sync:x:4:65534:sync:/bin:/bin/sync
games:x:5:60:games:/usr/games:/usr/sbin/nologin
nobody:x:65534:65534:nobody:/nonexistent:/usr/sbin/nologin
systemd-bus-proxy:x:103:105:systemd Bus Proxy,,,:/run/systemd:/bin/false
_apt:x:105:65534::/nonexistent:/bin/false
dnsmasq:x:111:65534:dnsmasq,,,:/var/lib/misc:/bin/false
kernoops:x:115:65534:Kernel Oops Tracking Daemon,,,:/:/bin/false
rtkit:x:118:125:RealtimeKit,,,:/proc:/bin/false
statd:x:122:65534::/var/lib/nfs:/bin/false
```

[10:01](#msg58c127fe1465c46a560a0612)oh wow

[10:01](#msg58c1280300c00c3d4fe0166c)

```
red>> call "echo $USER"
== 8969
red>> call "echo $UID"
== 8988
red>> call "echo $UID"
== 8989
red>> call "echo $UID"
== 8990
red>> call "echo $UID"
== 8991
red>> call "echo $UID"
== 8992
red>> call "echo $UID"
== 8993
red>> call "echo $UID"
== 9022
red>> call "echo $UID"
== 9023
red>> call "echo $UID"
== 9024
```

dockimbel

[10:02](#msg58c12825dd08b4b859a76d14)On my Linux image, I have to sudo or su in order for `call` to access %/etc/passwd.

maximvl

[10:02](#msg58c1282800c00c3d4fe01856)wait, what is return value of `call`?

dockimbel

[10:02](#msg58c1283600c00c3d4fe01921)The PID of the child process, or -1 if it failed.

maximvl

[10:03](#msg58c1287000c00c3d4fe01a1e)

```
red>> call/wait/output "ls -lha /etc/passwd" x
== 0
red>> x
== {-rw-r--r-- 1 root root 2,4K Dec  9 10:56 /etc/passw
```

[10:03](#msg58c1287bdd08b4b859a76f19)I can see it is readable to everybody

[10:04](#msg58c128947ceae5376a923fc9)em, now it works

dockimbel

[10:04](#msg58c128a721d548df2cb151cb)

```
lisp
red>> call/output "echo $USER" s: ""
== 0
red>> s
== "dk^/"
```

[10:05](#msg58c128d67ceae5376a924118)When the `/output` or `/wait` options are used, `call` is blocking and will always return 0.

[10:05](#msg58c128efde50490822673d5b)`/output` implies `/wait`.

maximvl

[10:06](#msg58c12913872fc8ce62d9e125)@dockimbel ok, it's `input` which is not working:

[10:06](#msg58c12928872fc8ce62d9e1b4)

```
red>> call/input/output {grep "5"} %/etc/passwd x
== 1
red>> x
== ""
red>> call/output {grep "5" /etc/passwd} x
== 0
red>> x
== {sync:x:4:65534:sync:/bin:/bin/sync^/games:x:5:60:games:/usr/games:/
```

dockimbel

[10:10](#msg58c12a15de5049082267437b)You're right, I can make it work with Rebol's `call`.

maximvl

[10:11](#msg58c12a4a21d548df2cb15a2c)but what is the reason behind running `call/input` without getting output?

[10:12](#msg58c12a8edd08b4b859a77b03)I mean, in simple cases I can hard-code filename into the command

[10:12](#msg58c12a99de504908226746ae)but this is not always the case

dockimbel

[10:13](#msg58c12ac921d548df2cb15cfb)You don't always need the output.

maximvl

[10:14](#msg58c12af700c00c3d4fe02766)well, to me this doesn't mean we should not support this :D

dockimbel

[10:20](#msg58c12c73872fc8ce62d9f344)Ah, I forgot that you need `/console` option if you want the output displayed:

```
red>> str: "this is a string of text"
== "this is a string of text"
red>> call/input/console "wc" str
      0       6      24
== 0
```

maximvl

[10:22](#msg58c12cddde50490822675330)@dockimbel ok, then issue is exactly with `input` with files:

```
red>> call/input/console {grep "5"} "abc 5 t"
abc 5 t
== 0
red>> call/input/console {grep "5"} %/etc/passwd
== 1
```

dockimbel

[10:25](#msg58c12da21465c46a560a2626)It seems our implementation is missing pre-reading of files and urls:

```
red>> call/input/console {grep "5"} read %/etc/passwd
sync:x:4:65534:sync:/bin:/bin/sync
games:x:5:60:games:/usr/games:/usr/sbin/nologin
nobody:x:65534:65534:nobody:/nonexistent:/usr/sbin/nologin
```

maximvl

[10:27](#msg58c12df6dd08b4b859a78fe7)probably so :D

dockimbel

[10:31](#msg58c12f1200c00c3d4fe0405c)@nc-x Thanks, looking at it now.

maximvl

[10:33](#msg58c12f7d7ceae5376a92653a)@dockimbel it seems urls are not allowed at all:

```
red>> call/console/input {grep Host} read http://httpbin.org/headers
    "Host": "httpbin.org"
== 0
red>> call/console/input {grep Host} http://httpbin.org/headers
*** Script Error: call does not allow url! for its in argument
*** Where: call
```

pekr

[11:30](#msg58c13cdc872fc8ce62da5107)Was there any change to the `red.r`script? In the past (well, old habits), I just double-clicked the file, and in the console I typed `rc "-t Windows %environment/console/gui-console.red"` and got new build of the gui console. Now when I double-click the file, it ends, and `rc`does return some Driver internal error. But maybe I just forgot, how to use it properly or should switch to use the red.exe :-)

geekyi

[11:36](#msg58c13e51de5049082267bc21)@maximvl I've always thought `call` was a bit unintuitive in rebol

[11:36](#msg58c13e5bdd08b4b859a7ec2a)@pekr yeah

[11:37](#msg58c13e7a00c00c3d4fe09adb)It was changed in a commit to enable better scripting I think

x8x

[11:45](#msg58c1403ee961e53c7fbfaaf3)very nice to see a brand new `call`, didn't see that coming as the old one was working fine after @qtxie fixes, thanks a lot for that :smile: !! I rely heavily on `call`.

[11:45](#msg58c14063e961e53c7fbfac21)Is block as argument coming or has the feature been dropped?

pekr

[11:59](#msg58c143ad1465c46a560aa1db)@geekyi I liked `call`a lot with Rebol. It was imo a mistake since day one, that library interface and call were not for free. So easy to plug the language into foreign stuff - run something, get the result into buffer, parse it. There is also SQLite light "protocol" for R2, which simply calls SQLite.exe and parses the output - it just works :-)

x8x

[12:08](#msg58c145ca872fc8ce62da85ae)I mostly use `call` with this user friendly wrapper: https://gist.github.com/x8x/394a5dd3e77451a61f03d4198d9f108e  
Now I'm wondering if there is an easy way to adapt it to the new `call`.  
This function was relying on `redsys-call` from the old `call` that was exposed globally.  
I see a similar function in the new `call*` definition in `runtime/natives.reds`:  
`ext-process/call cmd wait > -1 console > -1 shell > -1 in out err`  
but I'm not sure how and if I can access it.  
A quick guidance on which way to go would be much appreciated.

geekyi

[12:31](#msg58c14b14e961e53c7fbfecb6)Ah, I just tried it

[12:33](#msg58c14b8300c00c3d4fe0e8e8)@pekr I mean as an interface. Maybe the rest of the things in Redbol world being so easy, makes me forget the underlying complexity of calling things

[12:34](#msg58c14bd3e961e53c7fbff007)@x8x what new thing does your wrapper offer? (hmm.. there's block input)

x8x

[12:35](#msg58c14c167ceae5376a930d8d)Looking at the gist, I was actually `reform`ing `block` as argument as it was confusing without it

[12:37](#msg58c14c9ade5049082268098b)@geekyi see the difference:

```
r: make string! 10
;   ""
  call/output "uname" r
;   0
  r
;   "Linux^/"
  ecall/o "uname"
;   "Linux^/"
```

geekyi

[12:45](#msg58c14e6600c00c3d4fe0f963)That's nice! I think that's what I really want

endo64

[14:34](#msg58c167f21465c46a560b79d4)`call` support! Great news!

dockimbel

[14:47](#msg58c16af0e961e53c7fc0b368)@pekr Yes, arguments processing was changed/improved in `red.r` and in many other places. If you see regressions, please open tickets with examples to reproduce the issues.

pekr

[14:51](#msg58c16bdf00c00c3d4fe1bd1f)Of course I could do so, just dunno if it is a bug (regression), or a feature :-) Well, at least `rc` should work, so will report it ....

dockimbel

[14:58](#msg58c16db01465c46a560b9f66)@geekyi Do you have any suggestion to make `call` easier?

[15:00](#msg58c16e1b7ceae5376a93eba4)@x8x You can simply write a `redsys-call` routine that will call `ext-process/call` just passing the arguments, so you don't have to change your wrapper.

[15:01](#msg58c16e4721d548df2cb2fcb6)@x8x Did you ever use `call/input` with a file! argument? I'm asking because your wrapper will prevent that from working properly as it converts such argument to a string!.

[15:37](#msg58c176ce00c00c3d4fe21137)@maximvl I pushed a fix for the `call/input` issue with files.

[15:39](#msg58c1773d21d548df2cb3392c)@x8x The current `call` code is just the integration of the one which was in `%system/library/call`, the features are not changed.

rebolek

[15:44](#msg58c1785b4150746b15163737)Nightly build for macOS leads to 404: http://static.red-lang.org/dl/auto/mac/red-09mar17-aa73d88

JacobGood1

[15:47](#msg58c178f8de5049082269219f)Hey guys I posted a question in red/help, just putting this here to coerce some people that are here to go read it

[16:14](#msg58c17f7bde50490822694c86)There has to be some loser in here that uses windows like me =)

maximvl

[16:17](#msg58c18032dd08b4b859a9965f)@dockimbel that was fast, thanks

dockimbel

[16:27](#msg58c182571465c46a560c32c3)@rebolek Our Mac backend is again unreachable...we'll investigate again this weekend.

x8x

[16:34](#msg58c1842bde50490822696c86)@dockimbel actually no, never used a file with 'call/input', going to fix that, not sure how to write that routine but will try, thx

JacobGood1

[16:45](#msg58c186a900c00c3d4fe286a1)@dockimbel gratz on call btw, good stuff

[16:45](#msg58c186bfe961e53c7fc18829)I was actually just wondering when command line manipulation was coming

dockimbel

[17:45](#msg58c194a600c00c3d4fe2e7cd)@JacobGood1 Thanks!

geekyi

[22:57](#msg58c1ddd3de504908226b9f46)I don't have the `call` code I used before on REBOL2 anymore. (Was on my old laptop, which I don't have atm). But I think one of the problems was rebol2 hanging (and thus unable to be debugged).  
Red doesn't hang so far :smile:

maximvl

[23:31](#msg58c1e5d300c00c3d4fe4f6d0)@geekyi try `call/wait {grep x}` :D

geekyi

[23:37](#msg58c1e71c872fc8ce62deb332)@maximvl Not on unix, but `call/wait {blah}` does hang sometimes as expected. Now to check on unsafe code! :p

## Friday 10th March, 2017

greggirwin

[00:23](#msg58c1f21a872fc8ce62deecc4)R2 had some issues, depending on the version, and whether you used `/show` after they added it. That's why Nenad's `call` replacement was a safer choice.

x8x

[06:53](#msg58c24d6421d548df2cb7e9a0)Anybody know if Kaj repo is a temporary down?

pekr

[07:00](#msg58c24ef621d548df2cb7f0f0)Kaj does not seem to be available, maybe he even left our language ecosystem, there seem to be some indications from private chat.

x8x

[07:12](#msg58c251ce21d548df2cb80114)Well then maybe all his contributions should be temporarily removed from http://www.red-lang.org/p/contributions.html

[07:29](#msg58c255e47ceae5376a9916f3)On the same page, Oldes ImageMagick binding link should be updated to https://github.com/red/code/tree/master/Library/ImageMagick

pekr

[07:35](#msg58c2573c21d548df2cb81bb8)Well, we should somehow check with Kaj, if it is possible to reach him

x8x

[07:43](#msg58c2593edd08b4b859ae38c7)I've sent him a message at Syllable

dockimbel

[08:11](#msg58c25faade504908226ded0a)I've just updated all of Kaj's links to point to the Github mirror repo.

[09:11](#msg58c26da5e961e53c7fc693eb)If you need to preprocess the input to LOAD, you can now do it easily by plugging a function in `system/lexer/pre-load`. For example:

```
system/lexer/pre-load: func [src part][
    parse src [any [remove comma insert #" " | skip]]
]

>> [1,2,3,abd,"hello"]
== [1 2 3 abd "hello"]
```

[09:11](#msg58c26dc3dd08b4b859aeadbf)Translating words on the fly:

```
system/lexer/pre-load: function [src part][
    parse src [
        any [
            s: [
                "affiche"       (new: "print")
                | "si"          (new: "if")
                | "tant que"    (new: "while")
                | "pair?"       (new: "even?")
                | "impair?"     (new: "odd?")
            ] e: (s: change/part s new e) :s
            | skip
        ]
    ]
]

red>> i: 10 tant que [i > 0][si impair? i [affiche i] i: i - 1]
9
7
5
3
1
```

pekr

[09:13](#msg58c26e4edd08b4b859aeb0d6)Heh, that would make Brian Tiffin happy, no? :-)

meijeru

[09:29](#msg58c271f000c00c3d4fe7b67c)Glad to see `call` native! I note that Rebol 3 had a very restricted one. On the other hand, Rebol 2 has an additional refinement `/info` which returns an object containing the exit-code. Would that be worthwhile?

dockimbel

[09:30](#msg58c2725321d548df2cb8b427)@meijeru Yes.

maximvl

[10:08](#msg58c27b3500c00c3d4fe7f495)@dockimbel `pre-load` is nice, it looks like it can be used to implement CL's readtables :D

ghost~5680c5f416b6c7089cc058a5

[10:36](#msg58c281b8e961e53c7fc70e3e)&gt; I've just updated all of Kaj's links to point to the Github mirror repo.

@dockimbel The mirror repo is highly outdated, and I don't think that code works with the latest Red version. IMHO it would be better to remove all the links from the page (temporarily) to avoid confusion.

rcqls

[13:59](#msg58c2b133de504908226fe053)@dockimbel `pre-load` is just amazing! You just created a new language called `Rouge`.

dockimbel

[14:01](#msg58c2b1d07ceae5376a9b65ad)Haha ;-)

endo64

[14:41](#msg58c2bafe00c00c3d4fe98aaf)`pre-load` is cool! It could be nice to have it only during `parse`ing, something like `parse/with [1-] [integer!] func [src part] [trim/with src "-"]` (normally gives `Syntax Error: invalid integer! at "1-]"` )

[14:41](#msg58c2bb2b21d548df2cba7c59)or `parse (load/with [1-] func [src part] [trim/with src "-"]) [integer!]`

dockimbel

[15:15](#msg58c2c32021d548df2cbab9e5)@endo64 Why not just:

```
src: "[1-]"
parse trim/with src "-" [integer!]
```

maximvl

[15:18](#msg58c2c3b1e961e53c7fc8c599)@dockimbel I think he wants to be able to apply `pre-load` only to a specific block

[15:18](#msg58c2c3ca872fc8ce62e38e3f)which totally makes sense as for me

[16:21](#msg58c2d2a1dd08b4b859b12d60)I wonder if it is possible in Red do something like

```
a: 5 
with [a: 6] [print a] ; outputs 6
print a ; outputs 5
```

[16:22](#msg58c2d2c2dd08b4b859b12eb1)in lisps this is made using lexical bindings, but we don't have bindings in Redbol

rebolek

[16:24](#msg58c2d340e961e53c7fc93913)Of course, that is very easy

[16:24](#msg58c2d34cde5049082270cec4)

```
red>> with: function [data block] [do bind block context data]     
== func [data block][do bind block context data]                   
red>> a: 5                                                         
== 5                                                               
red>> with [a: 6] [print a]                                        
6                                                                  
red>> a                                                            
== 5
```

[16:25](#msg58c2d37fde5049082270d021)&gt; we don't have bindings...

Of course we do :)

maximvl

[16:25](#msg58c2d397e961e53c7fc93c7d)@rebolek nice!

[16:26](#msg58c2d3c800c00c3d4fea457a)@endo64 so you can do `with [system/lexer/pre-load: func [...] ] [parse ...]`

[16:32](#msg58c2d5071465c46a5613f62b)@rebolek wait, the change stays afterwards...

```
red>> with: function [data block] [do bind block context data]
== func [data block][do bind block context data]
red>> with [system/words/about: does [print "my about"]] [about]
my about
red>> about
my about
```

dockimbel

[16:35](#msg58c2d5b91465c46a5613fa7f)&gt; @dockimbel I think he wants to be able to apply `pre-load` only to a specific block

You cannot apply `load` or `pre-load` on a block (it's already a loaded value), but on strings only.

[16:35](#msg58c2d5e6de5049082270e327)@maximvl You can look at `use` in Rebol for such usage, it will come to Red too.

rebolek

[16:36](#msg58c2d619dd08b4b859b14469)@maximvl yes, but is different case, you are changing value in `system/words`, not in flat block that can be turned into `object!`

[16:37](#msg58c2d65cde5049082270e6a4)see this:

```
red>> context [a: 5 system/words/about: "pwned"]
== make object! [
    a: 5
]
red>> about
== "pwned"
```

maximvl

[16:40](#msg58c2d6e1e961e53c7fc95472)@dockimbel interesting, but will it work in the cases like `pre-load` above?

[16:40](#msg58c2d6f521d548df2cbb4ee4)so, the trick is

[16:40](#msg58c2d70821d548df2cbb4f27)all the code below lexical bindings uses latest bindings

[16:41](#msg58c2d71c7ceae5376a9c7235)while `bind` in Redbol only binds "first level" words of the block

[16:43](#msg58c2d795872fc8ce62e41ed7)eg:

```
red>> f: func [x y] [x + y]
== func [x y][x + y]
red>> with [+: :*] [ print 3 + 3 print f 3 3]
9
6
```

[16:44](#msg58c2d7f621d548df2cbb54fe)so `+` in `f` is not affected by the change

rebolek

[16:44](#msg58c2d80000c00c3d4fea62f6)Yes, it was bound already.

dockimbel

[16:45](#msg58c2d8251465c46a561409ad)@maximvl `bind` binds deeply.

maximvl

[16:45](#msg58c2d83400c00c3d4fea64ba)

```
red>> with [+: :*] [ print 3 + 3 z: func [x y] [x + y] print z 3 3]
9
9
```

[16:45](#msg58c2d836e961e53c7fc95d4c)I see

[16:46](#msg58c2d86ae961e53c7fc95ee7)@dockimbel so, one step back, the CL shows how lexical rebinding works nice for a lot of different things

[16:47](#msg58c2d88d21d548df2cbb59b5)this is why I'm asking if this is possible

rebolek

[16:47](#msg58c2d8ae00c00c3d4fea6831)@maximvl

```
red>> with [+: :*] [bind body-of :f '+ print f 3 3]
9
```

maximvl

[16:48](#msg58c2d8de872fc8ce62e4279d)for example: `(let ((*standard-output* my-buffer)) (call-some-funcs))`

[16:48](#msg58c2d8f3dd08b4b859b158c2)then all output which would go to STDOUT will be collected in `my-buffer`

dockimbel

[16:49](#msg58c2d90d1465c46a56140fa2)@maximvl Have you read this \[SO entry](http://stackoverflow.com/questions/21964110/is-there-a-overall-explanation-about-definitional-scoping-in-rebol-and-red?rq=1) about scoping rules in Redbol?

maximvl

[16:49](#msg58c2d928e961e53c7fc9646e)@rebolek doesn't look like a solution, you can't rebind every nested function

[16:50](#msg58c2d93c00c00c3d4fea6b92)@dockimbel I did, yes

rebolek

[16:50](#msg58c2d946de5049082270f9e1)@maximvl no, it's not a solution, it is illustration of how it works

maximvl

[16:50](#msg58c2d96f1465c46a56141266)I'm not saying it works wrong or something, I wonder if binding we have can provide similar capabilities or not?

[16:52](#msg58c2d9d47ceae5376a9c8435)are words binded during load?

dockimbel

[16:53](#msg58c2da0b872fc8ce62e43015)@maximvl The SO entry I pointed above should answer all your questions about binding/scoping. In Red and R2, all words are bound to global context on load. Then the various constructors will bind some words to other contexts during evaluation.

maximvl

[17:02](#msg58c2dc2d872fc8ce62e44079)@dockimbel so in CL there are so called "special variables"

[17:03](#msg58c2dc657ceae5376a9c96d9)and their value is found using the runtime bindings, rather than "code" ones

[17:04](#msg58c2dc9fde50490822710f85)So here `foo` returns 1, but `baz` returns 2

```
(defvar z 1)
(defun foo () z)
(defun baz ()
  (let ((z 2)) ; Establish binding Z*2
    (foo)))
```

[17:04](#msg58c2dcb7872fc8ce62e444f8)of course this lookup is slower than direct one

[17:05](#msg58c2dce2872fc8ce62e4466e)but their capabilities are also bigger

[17:07](#msg58c2dd38e961e53c7fc97fc9)using `bind` in Redbol you can't do this

[17:10](#msg58c2ddf0de50490822711849)I suggest to at least take a look at this idea, for example here under `Dynamic, a.k.a. Special, Variables`  
http://www.gigamonkeys.com/book/variables.html

[17:13](#msg58c2deabde50490822711d0a)or more deep one: http://www.flownet.com/ron/specials.pdf

gltewalt

[21:21](#msg58c318cb872fc8ce62e5d2b6)Isn't /local used like let?

JacobGood1

[21:37](#msg58c31c88dd08b4b859b309b4)probably should be speaking about this stuff on the lisp channel

gltewalt

[21:37](#msg58c31ca7dd08b4b859b30a0b)Or am I thinking of use ?

JacobGood1

[21:38](#msg58c31ccf1465c46a5615cee3)local works similar to let, but that is not what he is showing there

[21:41](#msg58c31d9e7ceae5376a9e5422)@maximvl you can set z to any context you choose, make as many objects as you want with z in them, bind the func to any one of those objects

greggirwin

[21:44](#msg58c31e28dd08b4b859b314c1)@gltewalt , not exactly. `Foo`'s body is already using `z` and its global binding. A `let` func would have to create the new context and rebind a copy of the body of every func, or it would have to munge the values of global words, which I think is what @maximvl says CL does.

[21:44](#msg58c31e52de5049082272ac46)'Use\`, in Rebol, keeps words from leaking into outer contexts.

JacobGood1

[21:46](#msg58c31ecbdd08b4b859b31800)

```
red>> z1: object [z: 1]
== make object! [
    z: 1
]
red>> z2: object [z: 2]
== make object! [
    z: 2
]
red>> z3: object [z: 3]
== make object! [
    z: 3
]

red>> ex: func [] head bind skip bind skip bind [print z print z print z] z1 2 z2 2 z3
== func [][print z print z print z]
red>> ex
1
2
3
```

[21:47](#msg58c31ee200c00c3d4fec37f2)just a ridiculous example

greggirwin

[21:48](#msg58c31f1e7ceae5376a9e5bea)@JacobGood1 , beat me. ;^) The CL approach resets the bindings automatically. Give me a minute...

JacobGood1

[21:49](#msg58c31f591465c46a5615de58)yep, but this is just a blueprint to understanding

gltewalt

[21:49](#msg58c31f7bdd08b4b859b31c10)So would nesting func, wouldn't it?

greggirwin

[21:50](#msg58c31f8b00c00c3d4fec3b7b)

```
let: func [spec body /local orig-vals res][
    orig-vals: collect [
    	foreach [word val] spec [keep reduce [word get to word! word]]
    ]
    foreach [word val] spec [set word val]
    set/any 'res do body
    foreach [word val] orig-vals [set word val]
    get/any 'res
]
z: 1
foo: does [z]
baz: does [let [z: 2][foo]]

foo
baz
z
```

[21:50](#msg58c31f9a00c00c3d4fec3bf5)Paste into console to see results.

[21:51](#msg58c31fdfe961e53c7fcb4902)Nesting only works if you control everything.

gltewalt

[21:51](#msg58c31ffc872fc8ce62e5fff1)ok

greggirwin

[21:53](#msg58c3206100c00c3d4fec3f79)While global vars can cause issues, they are sometimes very useful. This would be another tool that allows you to structure your code how you think best, without forcing you to do it in a way that makes the language happy.

[21:55](#msg58c320ce7ceae5376a9e65d4)The above example of a `let` func would need to be robust, catching any errors in `body` and ensuring it resets all words it affects.

[21:56](#msg58c32108872fc8ce62e60656)e.g. using a `try` around it.

[21:57](#msg58c3214ade5049082272be51)Have to think about what other risks it poses, but it shows that we don't need to necessarily alter the core language behavior in all cases.

[22:01](#msg58c3221ddd08b4b859b32b8b)

```
let: func [spec body /local orig-vals res][
    orig-vals: collect [
    	foreach [word val] spec [keep reduce [word get to word! word]]
    ]
    foreach [word val] spec [set word val]
    set/any 'res try body
    foreach [word val] orig-vals [set word val]
    get/any 'res
]
z: 1
foo: does [z]
bar: does [let [z: 2][foo]]
baz: does [let [z: 2][foo 1 / 0]]

foo
bar
baz
z
```

## Saturday 11st March, 2017

btiffin

[03:59](#msg58c37639872fc8ce62e7ab9d)@pekr, Got your note, but my response bounced off SourceForge. Thanks for the heads up. Digging into Red6 latest and trying out system/lexer/pre-load. It's not quite a LOAD/ANY, but it ~~might~~ will lead to some nifty experiments. It certainly ups the ante regarding DSL coding.

Hello, room.

dockimbel

[04:59](#msg58c384221465c46a5617bedc)@btiffin Hi Brian!

[05:00](#msg58c38459dd08b4b859b4e1ea)@greggirwin An alternative implementation:

```
let: function [spec body][
    words:  extract spec 2
    values: extract/index spec 2 2
    forall words [words/1: to-word words/1]
    
    orig-vals: reduce words
    set words values
    also try body set words orig-vals
]
```

It could be made even shorter once we have an `unzip` HOF.

btiffin

[06:13](#msg58c39575872fc8ce62e8336f)@dockimbel, Hey Doc. This masterpiece of yours is getting more and more masterpiece-y. Kudos. And pass that on to qtxie, and Andreas, and David, and Peter, and Gregg, and the rest of the team. It's well past time to back fill the missing rebol of the year awards and start in on the reddite awards. (just looked that up, redite is a poor choice of word, translates to needless repetition), redders? Programmers that partake in software development using the language known as Red? PTPISDUTLKAR awards? Or maybe just reddier, with the award going to the reddiest?

[06:18](#msg58c396bf00c00c3d4fee6430)Normal user, reddy, core team, reddier, winner, reddiest. :-)

rebolek

[06:20](#msg58c39727dd08b4b859b527a4)reducers is the right term, imo ;)

btiffin

[06:26](#msg58c39891872fc8ce62e84019)Nice.

gltewalt

[06:35](#msg58c39aa8e961e53c7fcd91b9)red\[user]

pekr

[07:31](#msg58c3a7cc00c00c3d4feeab63)as for some names, in the past, Cyphre asked me for the name of his JIT R2 tool, and I came up with jitteR or ReJit. ReGit might be for some Git tool.

[09:08](#msg58c3be80e961e53c7fce3247)@dockimbel Happy Birthday! (well, if the FB is right :-)

maximvl

[09:15](#msg58c3c02121d548df2cc00ca2)&gt;While global vars can cause issues, they are sometimes very useful. This would be another tool that allows you to structure your code how you think best, without forcing you to do it in a way that makes the language happy.

Exactly, things like stdin, stdout, parameters of different system facilities can be controlled in this way

[09:15](#msg58c3c0371465c46a5618da96)like `(let ((*read-base* 16)) (print (read-from-string "FF"))) ; => 255`

[09:17](#msg58c3c0981465c46a5618dc48)this is the most elegant solution I've seen

[09:18](#msg58c3c0e2dd08b4b859b5e032)using `bind` one would have to go through all the underlying code in runtime and bind every executable thing to context with new value

[09:19](#msg58c3c1101465c46a5618de13)even if a lot of code branches will not be executed in the end

[09:23](#msg58c3c21b1465c46a5618e1ae)but some parts of code may be constructed in runtime, so this will not work in all the cases, while CL's approach with dynamic lookup seems to be the only possible option

lpvm

[09:30](#msg58c3c3b3de50490822758e60)&gt; @lpvm I think you do not have to wait anymore, this \[commit](https://github.com/red/red/commit/485d57b98c3c9e320e30a76db6f6c9db967eb99c) should fix it :)

[09:31](#msg58c3c3d600c00c3d4fef280a)@rebolek Thank you very much, your application runs fine on Linux now! Have a nice day.

dockimbel

[09:58](#msg58c3ca3100c00c3d4fef4846)@maximvl See the above solution proposed by Gregg, `bind` is not the right tool for such need.

meijeru

[13:18](#msg58c3f9187ceae5376aa247b0)I can't figure out how to make `call` work. See new issue #2475

[15:24](#msg58c4169000c00c3d4ff0e637)Have just received good explanation from @dockimbel. See comments to the issue.

dockimbel

[15:57](#msg58c41e711465c46a561acf9f)https://www.reddit.com/r/redlang/comments/5nx6lg/what\_makes\_red\_so\_small/

[16:00](#msg58c41f1a1465c46a561ad2cf)I think we already processed such question here, so if someone is willing to gather the various answers and post them to /r/redlang, that would be nice. ;-)

pekr

[17:00](#msg58c42d3b7ceae5376aa366bc)`call/console/shell dir`does just the same, what `call/console dir`- returns output of the command, but errors out with `*** Script Error: call does not allow unset! for its cmd argument`

[17:01](#msg58c42d7c00c00c3d4ff16ee6)Using `"dir"`in quotes returns just `0`and no output, for either of above refinement cases

dockimbel

[17:31](#msg58c43456872fc8ce62eb7333)@pekr You cannot pass a word! to `call`. `dir` word is calling a function in Red which displays the content of the current directory. `/console` does not work properly with the GUI console (works fine with the CLI one), as it does not support fully IO redirection.

pekr

[18:49](#msg58c446ab1465c46a561bbc26)Ah, thanks ... did not know about the existence of `dir`, thought all we've got is R2 `list-dir`.... thanks for the explanation ...

## Sunday 12nd March, 2017

x8x

[09:50](#msg58c519da1465c46a561f7d28)`CTR-C` on mac and linux is supposed to terminate current process, in Red Console, it does that as well, unless I have an open square bracket, is that by design?

geekyi

[10:34](#msg58c5241cdd08b4b859bc5eb9)@x8x curious how `ESC` works on mac; windows:

```
red>> 2 + 5
(escape)
red>> test: [
[    
(escape)
red>>
```

[10:35](#msg58c5247c872fc8ce62efc5f1)Escape in windows also.. er.. interrupts `[`

x8x

[10:59](#msg58c52a19dd08b4b859bc7aad)yes, with an open bracket, have to ESC then CTRL-C

ZenoArrow

[13:38](#msg58c54f6add08b4b859bd3a6d)Hi, I've got a really basic question about setting up Red on a Windows box... I've downloaded the Red EXE from the website, ran it to unpack it, and the REPL seems to be fine. However, when I try to compile a hello world script I get the error "cannot access argument file".

[13:39](#msg58c54f8b872fc8ce62f096f9)There also doesn't seem to be a 'red' executable, only the REPL, not sure if that's normal or not.

[13:41](#msg58c550041465c46a56208bbe)So at the moment I'm running... C:\\ProgramData\\Red\\gui-console-2016-6-30-23134.exe -c "C:\\Work\\Red\\RedTest\\test1.red"

[13:41](#msg58c55013872fc8ce62f09937)The path to the test1.red file is definitely valid.

[13:43](#msg58c550681465c46a56208e4a)What's throwing me is there's no 'red' executable that's suggested in the 'Getting Started' page: http://www.red-lang.org/p/getting-started.html

[13:43](#msg58c55081e961e53c7fd5d0b9)Is there meant to be a separate executable for the compiler and the REPL?

[13:44](#msg58c550a4dd08b4b859bd3e84)Thanks in advance for any advice.

koba-yu

[13:46](#msg58c551287ceae5376aa8db34)@ZenoArrow "gui-console-2016-6-30-23134.exe" is not a red executable but red's gui console.  
you may have red-latest.exe or red-061.exe (depends on which link you downloaded).  
If you got red-latest.exe, what you should do is

```
C:\ProgramData\Red\red-latest.exe -c "C:\Work\Red\RedTest\test1.red"
```

ZenoArrow

[13:49](#msg58c551dce961e53c7fd5d7e8)Thanks @koba-yu . I had downloaded http://static.red-lang.org/dl/win/red-061.exe . However, can't see red-061.exe. There's only three files in the C:\\ProgramData\\Red\\ directory...

[13:49](#msg58c551e821d548df2cc7c4b6)console-cfg.red

[13:49](#msg58c551f3e961e53c7fd5d890)crush-2016-6-30-23134.dll

[13:49](#msg58c552001465c46a562094ec)gui-console-2016-6-30-23134.exe

koba-yu

[13:50](#msg58c5522921d548df2cc7c5b2)uh, sorry. Maybe I copyed red-latet.exe to ProgramData by myself.

ZenoArrow

[13:51](#msg58c55270dd08b4b859bd4634)That's okay. That tells me something I can try. One sec...

koba-yu

[13:51](#msg58c55271e961e53c7fd5dbea)you can use downloaded red-061.exe on any path. so you can

```
red-061.exe -c "C:\Work\Red\RedTest\test1.red"
```

ZenoArrow

[13:53](#msg58c552f27ceae5376aa8e4c9)Using the original file I downloaded worked, thank you @koba-yu . Good to know it can run from any directory as well.

[13:55](#msg58c5533ddd08b4b859bd4bc9)Just one more question, if I wanted to import and export to a flat file source (CSV, etc...), are there any recommended libraries for this?

BlackATTR\_twitter

[17:35](#msg58c586f6872fc8ce62f1e748)@btiffin I'm also grateful for the lexer/pre-load, but I'm not sure it's much different from what some of us were probably already doing for certain types of DSLs, which is take input as a string and do our own massaging and loading of the data.

## Monday 13th March, 2017

ghost~5680c5f416b6c7089cc058a5

[04:46](#msg58c6241121d548df2ccc2c3e)&gt; https://www.reddit.com/r/redlang/comments/5nx6lg/what\_makes\_red\_so\_small/  
I think we already processed such question here, so if someone is willing to gather the various answers and post them to /r/redlang, that would be nice. ;-)

@dockimbel done

dockimbel

[06:03](#msg58c6364b00c00c3d4ffb7ffc)@nc-x Thank you!

## Tuesday 14th March, 2017

x8x

[00:30](#msg58c739b4e961e53c7fe16a97)Is Christmas earlier this year?? `call` integration and arguments passing = douple present !  
Thank you Red Team!! :smile: @dockimbel @qtxie

dockimbel

[02:46](#msg58c7597121d548df2cd3e4ef)You're welcome. `call` was pending since a while, and I really wanted to get rid of all those arguments passing issues. Even the `red.r` wrapper script (in encapped form or when `/library` is present) accepts Unicode arguments now. ;-)

pekr

[02:54](#msg58c75b767ceae5376ab52d2b)btw, re `red.r`and its supposed launch by double-click. I can see my ticket already closed with the note that even case 1), launch by double-click, should work. But here, with the 2.7.8 it does not? The security dialog box appears, but then it does not halt and does not end in an R2 console session ....

dockimbel

[03:01](#msg58c75d1f09e7ba8510c107e3)@pekr Did you set up a shortcut as explained in the ticket?

pekr

[03:05](#msg58c75df500c00c3d4f032b58)yes. `C:\!Red\red\red.r halt`

dockimbel

[07:31](#msg58c79c62872fc8ce62fe41ca)@pekr It works fine here using (Win7):  
\* Target: `C:\Dev\SDK\tools\rebpro.exe -s C:\Dev\Red\red.r halt`  
\* Start in: `C:\Dev\Red`

pekr

[07:33](#msg58c79ccd21d548df2cd53ea1)aha, my shortcut is just to the red.r, not the rebol executable. Will change that accordingly ....

[07:37](#msg58c79db2dd08b4b859ca61e6)Works like a charm, thanks a lot ....

dockimbel

[07:37](#msg58c79db700c00c3d4f047ce5)Good.

pekr

[07:37](#msg58c79dd521d548df2cd544ba)Maybe not needed, but for me it is really a convenient way of how to compile from latest sources ....

dockimbel

[08:17](#msg58c7a6fd09e7ba8510c2889b)FYI, we are preparing for the 0.6.2 release. I'm gathering all the info for the blog release article. We still have a few more minor fixes and additions to do, but I'm hoping we can finish all that before the weekend.

pekr

[08:18](#msg58c7a742e961e53c7fe3a61f)That blog article is going to be long, no? :-)

gltewalt

[08:22](#msg58c7a829de504908228a44c7)libRed has errors with unresolved external symbols in visual studio

[08:22](#msg58c7a82cdd08b4b859caa0c0)https://msdn.microsoft.com/en-us/library/799kze2z.aspx

[08:24](#msg58c7a8af872fc8ce62fe8c6b)VC++

dockimbel

[08:29](#msg58c7a9ffde504908228a5013)@gltewalt Which symbols?

[08:31](#msg58c7aa4f00c00c3d4f04cc6b)@pekr There are tons of new features, but it should not be very long as macros have been covered already by an article, so this one will mostly focus on introducing libRed/RT (which has its own documentation already).

gltewalt

[08:36](#msg58c7ab70e961e53c7fe3bf57)All of the library functions.

[08:36](#msg58c7ab9421d548df2cd59b07)Some sort of issue with \_\_cdecl

[08:37](#msg58c7abdc00c00c3d4f04d6fa)Jacob has been investigating. I thought I'd mention it since you said that 0.6.2 is coming soon

[08:41](#msg58c7aca77ceae5376ab6dac3)(function declarations)

dockimbel

[08:47](#msg58c7ae14de504908228a67a0)It looks like a misconfiguration of libRed.lib in his linker's settings. Does anyone else have issues compiling C apps with libRed integrated?

gltewalt

[09:03](#msg58c7b1c4dd08b4b859cae363)I get the LNK2019 errors in VS 2017.  
If I switch the compiler to Compile as C, it builds without error, but will fail as cannot find libRed.dll when I run Debug

dockimbel

[09:05](#msg58c7b257872fc8ce62feca25)Ah, indeed, we haven't wrapped red.h declarations in an `extern "C"`clause... @qtxie

[09:06](#msg58c7b27921d548df2cd5c767)@gltewalt  
&gt; but will fail as cannot find libRed.dll when I run Debug

Is `libRed.dll` file present in your Debug build folder?

gltewalt

[09:08](#msg58c7b305dd08b4b859caebec)No

[09:17](#msg58c7b53a09e7ba8510c2eb00)If I place a copy there and Compile as C code, it throws this exception:

```
Run-Time Check Failure #0 - The value of ESP was not properly saved across a function call.  This is usually a result of calling a function declared with one calling convention with a function pointer declared with a different calling convention.
```

dockimbel

[09:18](#msg58c7b558de504908228a93e1)@gltewalt How did you compile libRed.dll?

gltewalt

[09:18](#msg58c7b5737ceae5376ab70fd6)red build libRed stdcall

dockimbel

[09:19](#msg58c7b5a909e7ba8510c2eceb)`stdcall` is not the default calling convention for a C app, you should build it with: `red build libRed`.  
`stdcall` convention is used mostly by Pascal language, Windows API and MS Office apps.

gltewalt

[09:24](#msg58c7b6d200c00c3d4f051b90)Yes - Placing the .dll in Debug build folder after `red build libRed` and compiling as C code works.

[09:26](#msg58c7b73000c00c3d4f051e51)Compile as C++ does not

[09:28](#msg58c7b7c6dd08b4b859cb09d5)the Compile As Default option also errors but I assume Default is set to c++

9214

[09:31](#msg58c7b86421d548df2cd5edb1)@dockimbel with upcoming `0.6.2` release, be prepared to take fancy screenshot of `1337` stargazers on github (it's `1329` for now) ;)

dockimbel

[09:32](#msg58c7b89bdd08b4b859cb0dd4)@9214 Haha, looking forward to that. ;-)

[09:39](#msg58c7ba4009e7ba8510c308ca)@gltewalt `red.h` should now be usable in a C++ project.

gltewalt

[09:41](#msg58c7bab200c00c3d4f0532d1)Excellent

dockimbel

[09:55](#msg58c7be0521d548df2cd611a0)Note that now, you need to prefix the C++ callbacks used by Red with an `extern "C"` directive.

gltewalt

[09:59](#msg58c7bee7872fc8ce62ff1bfe)Many thanks.

dockimbel

[10:04](#msg58c7c044dd08b4b859cb3fbc)@gltewalt Thanks for pointing out the compatibility issue with C++. ;-)

JacobGood1

[13:01](#msg58c7e9ba21d548df2cd749d2)@dockimbel I thought you knew I was trying to use c++ with it this whole time, lol

Rebol2Red

[23:28](#msg58c87c9309e7ba8510c8c0fa)With latest red (15-3-2017):

```
Red []

;test
```

I get this error:

\*\** Syntax Error: invalid value at ";test"  
\*\** Where: do

File an issue? How could i name this issue?

## Wednesday 15th March, 2017

pekr

[06:51](#msg58c8e466de504908229204c4)What is new handle dtype good for? Kind of a pointer?

dockimbel

[07:05](#msg58c8e7a8e961e53c7febcd3c)It's good for rendering opaque the low-level values which are surfacing at Red layer.

Rebol2Red

[10:03](#msg58c91156872fc8ce6207a6d6)I have isolated the problem with the one line remark:

Only if i use ";test" at the end of my source file and there is no newline after it then the error occurs.

Can someone check this with another editor?

Note: I use geany as editor so maybe the problem is only with geany!

9214

[10:04](#msg58c911ad09e7ba8510cbe2dc)@Rebol2Red ? https://github.com/red/red/issues/2480

Rebol2Red

[10:07](#msg58c9126c21d548df2cdea2b2)Ah, i missed that one, Thanks

rebolek

[17:08](#msg58c9750a05a31d5a4a5d9a7e)So Gitter has been acquired by Gitlab http://blog.gitter.im/2017/03/15/gitter-gitlab-acquisition/

xificurC

[21:33](#msg58c9b3360b2625d0648207fa)hello everyone, after a long long time I'm compiling red again from sources. I cloned the github repo and building the console I got this:

```
>> do/args %red.r "%environment/console/console.red" 
Script: "Red command-line front-end" (none)
Script: "Encap virtual filesystem" (21-Sep-2009)

-=== Red Compiler 0.6.1 ===- 

Compiling /home/bubo/code/red/environment/console/console.red ...
...using libRedRT for Linux
...compilation time : 266 ms

Target: Linux 

Compiling to native code...
*** Compilation Error: undefined symbol: red/unicode/decode-utf8-char 
*** in file: %/home/bubo/code/red/environment/console/POSIX.reds 
*** in function: exec/terminal/fd-read
*** at line: 235 
*** near: [
    unicode/decode-utf8-char utf-char :len
]
>>
```

[21:34](#msg58c9b377b809ca5f4a49d070)looking at the `README` I don't see any steps that I would miss but maybe I'm just blind so posting here before opening an issue

PeterWAWood

[22:42](#msg58c9c35bf7f7d481041e508c)@xificurC With the latest source you need to use the -r compile option to compile the console. The readme will be updated with the 0.6.2 release.

## Thursday 16th March, 2017

onetom

[04:08](#msg58ca0fd3590d72c864d155f4)@rebolek also:  
&gt; This will not only allow the community to give back and improve Gitter for everyone, but will also allow communities to run their own Gitter instances.

dockimbel

[04:54](#msg58ca1aa30b2625d06483f6b3)FYI, the Red consoles default prompt has been changed back to `>>`. We used `red>>` from the beginning to more easily identify if console session snippets where coming from Red or Rebol, though I don't think there is a need for that anymore, and the original prompt from Rebol is the one we've always wanted, as it indents the lines equally to `==`, resulting in a more pleasant layout. As a reminder, you can always customize the prompt using `system/console/prompt`.

x8x

[05:06](#msg58ca1d621c040b8e04ffee54)What about `system/console/result` to be able to customize also the `==` ? :-)

[05:09](#msg58ca1e1ffe6a638b1acde4f6)in `%environment/console/engine.red` change:  
`prompt: "red>> "` to `prompt: "red>> "^/^-result: "== "`  
`print ["==" result]` to `print [system/console/result result]`

dockimbel

[05:25](#msg58ca21d9ac314c8a1a53dc36)@x8x You have it now. ;-)

x8x

[05:37](#msg58ca2497a84f611959ad444f)HA! too quick! Thanks! :smile:

dockimbel

[11:45](#msg58ca7ae4f7f7d4810421e636)\[!\[colors.gif](https://files.gitter.im/red/red/yRio/thumb/colors.gif)](https://files.gitter.im/red/red/yRio/colors.gif)

[11:46](#msg58ca7b04fe6a638b1acfc9d6)You can choose from pre-selected colors now and preview the result at once.

Zamlox

[11:47](#msg58ca7b5ffe6a638b1acfccd7)nice ! :thumbsup:

dockimbel

[11:48](#msg58ca7b9a6d7eb18404d31111)I picked a sub-set from \[Solarized](http://ethanschoonover.com/solarized), plus some custom ones from some vintage terminals. ;-)

pekr

[12:02](#msg58ca7ed9590d72c864d38313)It's getting better and better. Is the console fully View based, so relatively easy to port to other platforms, where Red GUI is available?

[12:04](#msg58ca7f3c590d72c864d38549)My favourite color combinations are `7.54.66 147.161.161`

dockimbel

[12:27](#msg58ca84a605a31d5a4a637750)No, the fully View-based GUI console is for 0.6.3 (same console code will run on all platforms with a GUI backend). I use dark blue background with white font. ;-)

maximvl

[12:28](#msg58ca84fc1c040b8e04020852)is the console written in Red itself?

[12:29](#msg58ca853a590d72c864d3a67d)found it, https://github.com/red/red/tree/master/environment/console, nice :+1:

dockimbel

[12:29](#msg58ca854405a31d5a4a637b23)Most of the current console is written in R/S, and a minor part in Red. The new one in 0.6.3 is only in Red (we have extended Draw with rich-text capabilities to cover the console needs).

maximvl

[12:30](#msg58ca85750b2625d064862757)the console can be application to demonstrate Red features

[12:30](#msg58ca8581ac314c8a1a55fa48)while there are not many others around

dockimbel

[12:31](#msg58ca8597fe6a638b1ad006e7)The Red GUI console can be many things, we plan to extend it much further this year.

maximvl

[12:33](#msg58ca86360b2625d064862bbd)@dockimbel are there any plans for Red editor?

dockimbel

[12:34](#msg58ca864405a31d5a4a637fd9)Yes, a few. ;-)

maximvl

[12:34](#msg58ca864505a31d5a4a638003)I thing console could be integrated into it

[12:34](#msg58ca8666f7f7d4810422277d)but yeah, since it's written in Red it's already possible to hack it

pekr

[12:35](#msg58ca869c05a31d5a4a638270)@dockimbel Do you think that the 0.6.3 / 0.6.4 release cycle could be shorter than 0.6.2? 0.6.2 was imo a big architecture change, no? Mac GUI is almost done, so at least 0.6.3 could come in 2-3 months?

[12:37](#msg58ca87007b3f37e7540293dc)What I miss in Trello, is kind of schedule for Linux GUI. I know there was some volunteer working on it, but seems stalled. Is Linux kind of strategic to Red too? I can see some oportunity for an embedded field, but who knows, especially with the limited resources FullStack has ....

Oldes

[12:38](#msg58ca87302215a08f049180fb)It depends on how many bugs and wishes we submit... Doc like to clean the issue ques before releases.

maximvl

[12:43](#msg58ca8867ac314c8a1a560b83)how many releases are planned before 0.7?

Oldes

[12:53](#msg58ca8ae42215a08f04919534)\[So far](https://trello.com/b/FlQ6pzdB/red-tasks-overview) at least 3 with 0.6.2

[12:57](#msg58ca8ba905a31d5a4a63a038)@pekr Linux is on Trello in section \_work in progress_ (GTK3)

pekr

[13:22](#msg58ca9195f7f7d48104226e9f)@Oldes - it is there but some work was done imo by Thiago. Not sure what the recent progress is ....

ghost~5680c5f416b6c7089cc058a5

[13:54](#msg58ca9906ac314c8a1a5672bb)IIRC, the plan was to work on 0.6.3 and 0.7.0 simultaneously. Also the Linux GUI was planned to be released before or around 0.7.0 and also the time taken for development of Linux GUI is supposed to take less time than the MacOS Gui.

maximvl

[13:56](#msg58ca9977ac314c8a1a5674f2)the IO is the most interesting part :)

planetsizecpu

[14:07](#msg58ca9c1c0b2625d06486b15f)@dockimbel about Red Editor need, today I updated my notepad++ version, and found this on changelog: 1. Fix CIA Hacking Notepad++ issue (https://wikileaks.org/ciav7p1/cms/page\_26968090.html). So I feel it is a very important need by editing in Red, I encourage the whole team to go on ;)

maximvl

[14:11](#msg58ca9d0f6d7eb18404d3daef)you can use Emacs for now :P

[14:12](#msg58ca9d3d05a31d5a4a640ca6)no CIA hacks, RMS guarantees

dockimbel

[14:26](#msg58caa0aafe6a638b1ad0b2c0)Since 0.6.1, we are having two development branches in parallel. 0.6.3 should be short (about a couple of months), as most of the work on Mac GUI has been done. 0.6.4 should start in a few weeks. 0.7.0 will start as soon as 0.6.3 is released.

[14:31](#msg58caa1bbfe6a638b1ad0b959)The work on Linux GUI is stalled because the contributor working on it seems to be gone. So, it will only resume when someone else picks up the work from there. Our internal resources are not enough for handling it in short term. We might resume the work on it if nobody else does, after 0.7.0 or 0.7.1, though iOS being way more important for us, will probably take precedence.

pekr

[14:33](#msg58caa227a84f611959b0004f)Thanks for your comments, those are valuable notes. Could be also a part of the blog article ...

keesse

[18:43](#msg58cadcc4f7f7d48104244baa)@dockimbel where in the milestones will be 64 bit? The last step before 1.0? Will cross-compiling from e.g. Linux 64 bit to Windows 32 bit be possible?

dander

[18:58](#msg58cae066ac314c8a1a582d9b)@keesse it seems to be a post-1.0 feature  
https://github.com/red/red/wiki/Guru-Meditations#why-is-red-32-bit-only

x8x

[18:59](#msg58cae09a2215a08f04939866):point\_up: \[March 16, 2017 7:29 PM](https://gitter.im/red/red?at=58ca854405a31d5a4a637b23) Feels like it will be much easier to hack :smile: Hopefully we'll get all the features needed to work on a red curses library :smile:

keesse

[19:01](#msg58cae11ca84f611959b17b94)@dander thanks, I missed that, 64 bit is still in the Roadmap voor 1.0, it probably will be updated if 0.6.2 is released.

## Friday 17th March, 2017

dockimbel

[05:58](#msg58cb7afb590d72c864d8326e)@keesse @dander We'll add 64-bit support when we'll have a real need for it, which might be in a 0.7.x version, for iOS support (if we decide to do iOS at that time). If we postpone iOS for whatever reason, then probably after 1.0. Cross-compilation in Red is not be affected by the host platform where the toolchain is running on, as we don't rely on any external tool to build executables for target desktop platforms.

rcqls

[06:42](#msg58cb85670b2625d0648af4b4)@dockimbel In the macos world languages (R, julia, nodejs) become (unfortunately) no more universal but 64-bit only. Don’t know really why but I am frustrated to not be able to play with red to interact with such languages since in my opinion red is a really nice master language.

dockimbel

[11:34](#msg58cbc9bb6d7eb18404d96042)@geekyi Great question on SO, thanks! http://stackoverflow.com/questions/42854953/which-are-the-cases-that-make-it-hard-to-distinguish-between-code-and-data

[11:36](#msg58cbca5bf7f7d48104283a53)@geekyi A few typos to fix:  
\* "contexts and dynamic binding makes" =&gt; make  
\* "homiconic" =&gt; homoiconic  
\* "lisp" =&gt; Lisp (just to avoid bashing from purists) ;-)

9214

[11:40](#msg58cbcb15590d72c864d98cf8)\*\*l\** isp?! how dare you, sir! :scream:

dockimbel

[11:41](#msg58cbcb667b3f37e7540883b7);-)

9214

[11:45](#msg58cbcc3c590d72c864d99384)@dockimbel is there infix alternative for `not-equal?` ? Can't find `!=` word :(

meijeru

[11:47](#msg58cbccd2ac314c8a1a5c0d3c)The word is `<>` See:

```
>> :<>
== make op! [[
    "Returns TRUE if two values are not equal" 
    value1 [any-type!] 
    value2 [any-type!]
]]
```

9214

[11:47](#msg58cbcce8fe6a638b1ad600bb)Uh-oh, my bad! Thx @meijeru

geekyi

[11:52](#msg58cbcded05a31d5a4a698cc1)@dockimbel thanks fixed

keesse

[14:35](#msg58cbf44a7b3f37e754095166)@dockimbel thanks for the update on 64 bit support. Good to hear that cross-compilation is not affected, I really find that a very impressive feature :-)

## Saturday 18th March, 2017

dockimbel

[10:18](#msg58cd09711c040b8e040d0a1e)@Zamlox I just noticed that the `close` command from Rebol's SHAPE dialect is not present in the Red version. What's the reason?

pekr

[10:30](#msg58cd0c3ca84f611959ba6baf)re your altme question - I always wondered, if we need a subdialect. It reminds me of the R3 Gob dialect, which Gabriele used to construct compound styles.

dockimbel

[10:31](#msg58cd0c871c040b8e040d14ad)I asked the question because there is quite a big overlap with the Draw dialect.

pekr

[10:46](#msg58cd10156701410e584eb212)Do we need being 100% compatible with R3 GUI here? I regard it being an unfinished attempt at the NG Rebol gfx engine. We should take best ideas and implement. So if such dialect helps to port some stuff, why not. IIRC, I saw it in the Tiger AGG demo, where vectors are stored ...

[11:04](#msg58cd1443590d72c864dec7b0)Just checked - taken from Tiger.r demo: `shape [move 270x287 curve 270x287 258x277 256x273 curve 256x273 269x292 269x299 curve 269x299 272x291 270x287]`- full of `shape` commands .... Not sure it helps with porting an SVG, or it was only mostly to easy the port of an AGG stuff ....

dockimbel

[11:16](#msg58cd17012215a08f049cafb0)\*Do we need being 100% compatible with R3 GUI here?* What has R3 GUI anything to do with that?

meijeru

[12:43](#msg58cd2b5a05a31d5a4a6f1f45)@dockimbel While experimenting for #2486 I noticed that the `#[...]` constructs are handled differently by the two lexers. Is that intentional???

pekr

[13:04](#msg58cd304e7b3f37e7540e272d)Well, a wrong terminology. I just meant, that we don't need to be fully compatible (in upper levels) with the Rebol gfx engines in general ...

dockimbel

[14:26](#msg58cd43a605a31d5a4a6f78db)@meijeru Contruction syntax (`#[...]`) is not officially supported nor implemented yet (except for a few basic types).

metaperl

[15:44](#msg58cd55f16d7eb18404df8959)Hello everyone. I program in Python professionally. But I have been looking for a faster language and one more type-safe. I thought I would settle on Rust. Would you say that Red is as thread-safe as Rust? And will you have many type errors caught at compile-time as in Rust?

[15:45](#msg58cd560f1c040b8e040e246d)By the way, the ability to develop lots of code in short amounts of space in Red is terrifying!

[15:46](#msg58cd564e6d7eb18404df8b15)Would you say that all types can be inferred from textual representation? Isnt there some ambiguity possible? Are comments here relayed bi-directionally with the IRC channel? I'm in #red-lang on FreeNode and I dont see my typing here going there.

[15:47](#msg58cd5677fe6a638b1adc2fb0)Im sorry I didnt realize I was in red/red not red/welcome.

[15:47](#msg58cd5682590d72c864dfbff6)red/help would also be good for me.

rebolek

[18:45](#msg58cd803f4ec6efa73051ae5d)@metaperl Hi and welcome! Comments here aren’t relayed with IRC channel.

tanstaaf1

[19:57](#msg58cd9133ac314c8a1a6311eb)@metaperl The only person who can speak definitively to your question is @dockimbel . I have cajoled for type safety at least as an optional switch but, last I understood, it was not in the plans. Since racket and even python (per a comment I heard from Guido in a podcast) are going to working to support at least some optional typesafety, I expect Red can be modified to do so as well. But, again, I think this is a question for @dockimbel. And his calendar is pretty full, even if it sees it as a desirable and achievable longer term feature. Right now he is working hard for a near term release of 0.62, I think; that's a big achievement.

rebolek

[20:31](#msg58cd9917794f24854d4e0493)@tanstaaf1 @metaperl There is optional type safety already. Rebol had it from the beginning.

meijeru

[22:11](#msg58cdb07fa84f611959bced9e)@dockimbel I understand that construction syntax is not a general feature (yet) but that is no reason why interpreter and compiler should treat them (subtly) differently...

## Sunday 19th March, 2017

greggirwin

[01:36](#msg58cde0a06d7eb18404e183ff)@metaperl, I only glanced at Rust briefly, quite a while back, but Red is very thread safe. It's single threaded. Catching type errors works great, as long as you spec the types and write your code accordingly. The more flexibility you want, the more work you'll need to do. Values are strongly typed, and Red's large array of datatypes means that you can catch a lot of errors other languages can't.

Terrifying indeed. :^) Not all types have a literal form. Lexical space is just too tight for that, without things becoming line noise.

Zamlox

[10:54](#msg58ce63507b3f37e7541250e9)@dockimbel I have implemented only R2 related shape commands.

```
close
```

is not listed as command on http://www.rebol.com/docs/draw-ref.html, so I didn't implement. Let me know if you want to have it in Red and I will add it.

dockimbel

[10:54](#msg58ce6374f7f7d4810432191d)@Zamlox Do you think we need it for SVG support?

Zamlox

[10:55](#msg58ce63a26701410e58532142)Not really.

dockimbel

[10:56](#msg58ce63d3e8800cd70c7984fd)Ok. BTW, are there any show-stoppers for the SVG implementation you would like us to solve? I might add a stream-oriented XML parser soon to Red, which should be very memory-efficient.

Zamlox

[10:58](#msg58ce645505a31d5a4a733a53)well, nothing from your side. Currently I have stopped implementation due to other priorities, but I will try to continue it when I have more free time. I recall I had some issues related to gradients but it was because of the way how Windows implements them.

[11:01](#msg58ce64fb7b3f37e75412576f)the XML parser would be excellent (especially if it's memory efficient).

dockimbel

[11:02](#msg58ce6538f7f7d48104321f4d)@Zamlox Got it. Well, SVG files can be pretty heavy, so streaming the conversion to Draw/Shape should be a big win.

Zamlox

[11:02](#msg58ce6563a84f611959bf04fd)yes, indeed.

[11:07](#msg58ce666505a31d5a4a73422b)@dockimbel I think it might be something you could do. If you can implement a

```
pair!
```

type with

```
float!
```

elements. Drawing would be more accurate.

dockimbel

[11:08](#msg58ce66ade8800cd70c79915d)Extending `pair!` in our plans anyway, I can add it to the 0.6.3 todo-list. (done)

Zamlox

[11:09](#msg58ce66f17b3f37e754125d6d)excellent ! :thumbsup:

geekyi

[11:37](#msg58ce6d7cfe6a638b1adfc238)That maybe useful

WiseGenius

[14:35](#msg58ce9716590d72c864e3e974)@dockimbel Was your AltME question about `shape` as having its own sub-dialect or was it questioning the need for the functionality of that dialect. In case it was the latter, here is my quick/feeble attempt at communicating its importance:

[14:35](#msg58ce972305a31d5a4a73edf9)\[&lt;path /&gt;](http://www.w3.org/TR/SVG/paths.html#PathElement) is SVG's only indispensable \[shape element](http://www.w3.org/TR/SVG/intro.html#TermShapeElement), since can be used as a substitute for any other shape element but it cannot itself be substituted.  
Rebol's `shape` dialect has the same purpose and the same story. Without it, not all shapes can be drawn.

[14:35](#msg58ce972aa84f611959bfb9a6)For example, the following simple shapes were drawn using SVG's and Rebol's `shape`:

[14:35](#msg58ce9737fe6a638b1ae05c95)\[!\[shapes.png](https://files.gitter.im/red/red/ltZo/thumb/shapes.png)](https://files.gitter.im/red/red/ltZo/shapes.png)

[14:35](#msg58ce974a6d7eb18404e3c17e)In Rebol, the \_\_outlines\__ (and inside lines, curves and arcs) of the above shapes can easily be put together using `line`s, `curve`s, and `arc`s. However, AFAICT, there is currently no simple way to \_\_fill\__ them as a single shape onto any given background without using the `shape` dialect. This is the case with most simple (and complicated) shapes.

dockimbel

[15:47](#msg58cea82305a31d5a4a7434f5)@WiseGenius My question was for the latter point as you guessed. Right, the added value is the filling capabilities that cannot be emulated easily using Draw. Thanks for the accurate explanation, that was the last piece I was missing to get the full picture.

9214

[16:40](#msg58ceb495fe6a638b1ae0d82d)Has anyone thought about Red's mascot? Hanoi tower is very smart and symbolical, but I wonder if we can come up with something more... alive? For Rust it's Ferris the crab, Gopher for Go and Glenda for Plan 9, Alien for Lisp, Perl's Camelia, etc etc.

greggirwin

[17:18](#msg58cebd5e2215a08f04a25e23)@9214, I go back and forth on that. I've played with a couple paper sketches of a layer diagram, where the boxes make a kind of square face. A Red ant is another possibility.

mikeparr

[17:29](#msg58cebfedfe6a638b1ae1095e)Red spider, to express limbs extending into other areas. Maybe a spider is creepy for some, though.

rebolek

[17:30](#msg58cec0444ec6efa73051b613)Ant.

pekr

[17:32](#msg58cec09f590d72c864e48857)Be careful. We sometimes use "R" letter for naming stuff. So it might turn into being a RAnt :-)

rebolek

[17:32](#msg58cec0a8794f24854d4e0bc7):)

9214

[17:40](#msg58cec28afe6a638b1ae11495)And Hanoi tower could be ant hill

rebolek

[17:42](#msg58cec313ef369b900482ec3e)Yes :)

9214

[17:42](#msg58cec317590d72c864e491aa)plus all that algorithmic stuff about ant optimization and swarm intelligence

rebolek

[17:43](#msg58cec33fa88e334071079379)Yes, ants are small but powerful, it is ideal IMO.

9214

[17:44](#msg58cec3986d7eb18404e47d71)and that holistic idea that ant colony is a \*system* which is greater than a sum of its parts

[17:46](#msg58cec3e6e8800cd70c7af636)red ants FTW, I'm with @rebolek on that

[17:48](#msg58cec4856701410e58548756)chitin could be drawn as \*blocks* btw ;)

rebolek

[20:01](#msg58cee37ff7f7d48104341c2b)Does anyone have some CSV parser for Red?

greggirwin

[20:04](#msg58cee45a05a31d5a4a752b64)I haven't ported my (very small, old) one to Red. BrianH's work was great, since he did so much research and covered all the bases. Don't know how big we want to go.

rebolek

[20:05](#msg58cee49cfe6a638b1ae19c42)@greggirwin I tried to convert BrianH's one but wasn't successful yet.

greggirwin

[20:07](#msg58cee4f2590d72c864e50f46)Just glanced at mine, and it doesn't even try to handle embedded delimiters in quotes. Mainly it was for clean data with the option to include first-line values as keys in each sub-block.

[20:08](#msg58cee52a2215a08f04a2f927)I think Brian's would be worth having, but Doc may not want anything that complex built in. Certainly it's valuable.

rebolek

[20:14](#msg58cee68fb809ca5f4a5f9af2)Actually it's not that big, loader is some 80 lines with comments and emitter about 30 lines.

greggirwin

[20:16](#msg58cee733590d72c864e5179e)Hmmmm.

rebolek

[20:24](#msg58cee902a84f611959c0fbd1)It just looks big, because there are both R2 and R3 versions and lot of comments.

## Monday 20th March, 2017

dockimbel

[05:48](#msg58cf6d462215a08f04a4aad8)An ant could do, a \[bee hummingbird](https://en.wikipedia.org/wiki/Bee\_hummingbird) could be another candidate. ;-)

btiffin

[05:51](#msg58cf6ddd6701410e5856ada2)Pestering. Can't help it. As ammunition in the argument for LOAD/ANY and a TEXT! (or OTHERWISE-UNCLASSIFIED! as you will) datatype.

http://programmer.97things.oreilly.com/wiki/index.php/Read\_the\_Humanities

And pointing out that is not just about word smithing, or numbering, but making a tool that non-programmer brained people can use to load a dataset, any and all datasets, and have a Red prompt available to slice and dice the information to the best of their abilities. Even for those times that might make a professional computer scientist shudder. I'm still of the belief a feature like that would increase the potential user base by orders of magnitude (even if it takes years to slowly catch on).

rebolek

[05:57](#msg58cf6f5ffa8a98870455eaaf)A bee hummingbird is certainly more photogenic :)

pekr

[05:59](#msg58cf6fb05917e26076b31849)@rebolek not true - you remember Ferda mravenec (Ferdinand ant) from our child era? :-) https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRaGHXeiXNLssqBnkpiCmXXT9f04wwuIN\_kb1-3lzG\_0mOk94b6

rebolek

[06:00](#msg58cf6fee794f24854d4e10df)Of course :D I also remember Brouk Pytlík, he could be mascot for PHP ;)

[06:01](#msg58cf7036ef369b900482f0c7)Ferda also had a nice slogan: Ferda Mravenec - work of all kinds

pekr

[06:01](#msg58cf7052f7f7d4810435d72c)There's something towards what @btiffin says. Not sure if it should be done allowing to load any data source just into the console, but imo protocols could do. I still remember what kind of wonders I got from my colleagues, using odbc:// or mysql:// form @dockimbel . They asked - wait, and now what? That's just it?

[06:02](#msg58cf7076b809ca5f4a614eea)I still hope Red goes strong for IO, even some kind of streamed protocols, etc., allowing exactly stuff like that - providing many protocols to foreign systems ...

btiffin

[06:03](#msg58cf70a65917e26076b31b15)Nice choice of animal by the way, +1 for the bee humming bird. Hits on so many levels. And, cute, so +2.

pekr

[06:04](#msg58cf70eaac314c8a1a692f92)+1 for humming bird too. We can introduce its bad counterpart - human borg :-)

btiffin

[06:08](#msg58cf71d26701410e5856b958)Perhaps the Red version could be pictured lifting a train car (or tanker ship).

dockimbel

[06:31](#msg58cf7735b809ca5f4a61639b)@btiffin We've been through this discussion many times, so I don't want to re-open it, but just to remind you that there is no algorithm for what you ask for. An undefined text segment can start where all the lexer rules fail, but there is no reliable method for determining where such segment ends for arbitrary text inputs. This means that each time we change/fix the lexer rules, you will get a different result from a LOAD/ANY on the \*same* input text. It is the same class of problem as trying to find a compression method for reducing the size of arbitrary data. If you would write down an exhaustive set of parsing rules you want for a LOAD/ANY, that would help (and would also narrow down the kind of text input which could give usable results).

rcqls

[06:44](#msg58cf7a476701410e5856d64c)+1 for bee hummingbird

jocko-jc

[06:52](#msg58cf7c2bfe6a638b1ae371a6)+1 for bee hummingbird

btiffin

[08:53](#msg58cf98807b3f37e75416a6fa)Ahh, but doc, you are thinking as a computer scientist again. Think like a plumber. When data is smooshed into OTHERWISE-UNCLASSIFIED!, all bets are off in terms of reproducibility after a system update. Or even, changing a single comma coming up with a completely different set. The algorithm could be explained as simply, loaded junk (which is triggered whenever a syntax error would be flagged), marked it, and continued from the next character; your use of LOAD/ANY is temporal and not reliable, but here's a block!, go ahead and use it for now, results will always be deemed fuzzy and inaccurate until corrections are made.

That was the point of the link (kinda), provide a tool that a computer scientist may eschew (so they don't use LOAD/ANY) but that a normal person could load any old text file and then get a quick count of how many integer! elements are inside. (Or url! or word!, etc). Perhaps a linter could quickly point out how many elements are normally non-loadable, but still do the load and provide a count. LOAD/ANY would NOT be for code, as it would lead to disaster. But an author loading a markdown file just to get today's count of swear words +/- the weird ISBN number that normally would cause a syntax error and the odd exclamation won't really care (until they need to actually care). Make the algorithm simple. Triggered on syntax error, continue from next character. When one or more UNCLASSIFIED! elements are found, put up a warning of an unreliable load.

Again, I'm not out to make you mad or make you feel like you'd be corrupting or tainting Red, Nenad, I'm just of the belief that providing a tool feature that is less than 100% reliable but very easy to use will make a lot of people very happy. Statisticians rarely get 100% reliable, but they still keep pumping out stats, "accurate within 3.2% 19 times out of 20".

Oldes

[08:58](#msg58cf99b6b809ca5f4a61e915)@btiffin I think you should provide real examples and how they should be handled. As Doc asked: \_If you would write down an exhaustive set of parsing rules you want for a LOAD/ANY, that would help (and would also narrow down the kind of text input which could give usable results)._

[09:02](#msg58cf9abafe6a638b1ae3eef6)For example, years ago, I wanted to be able load \_comma_ so `load "a,b"` would not throw an error, but return `[a , b]`. But it does not make sense, when `1,1` is `1.1`

btiffin

[09:18](#msg58cf9e74fe6a638b1ae3fc9a)It's not really that exhaustive. Trigger on syntax error, continue at next character. Don't try and second guess anything. It's for loading junk.

Example: (surrounded by ~~~)

\~~~  
Code: a2#2.3..4

Here is some text with a number 5 and a dollar amount $12.23 preceded and followed by  
random garbage that some other processor can handle

#$#3.2.1  
\~~~

red&gt;&gt; load %sometext.txt  
\*\** Syntax Error: invalid value at "$12.23 fol"  
\*\** Where: do

So, mark the current token as unclassified! and keep going. This isn't code, just junk that someone wants to count for curiosity sake. If there are requirements for accuracy, then don't use LOAD/ANY. Big data folk (non-programmer types) would love a first round tool like that, no?

But, I'll stop now. Not out to frustrate or anger or sidetrack the dev team. There are too many cool things in the pipeline.

pekr

[09:19](#msg58cf9e9c58ad4eb028323060)Can't find it, but remember World Rebol spin-off language had something like a junk! datatype?

dockimbel

[09:19](#msg58cf9ebdac314c8a1a69e389)@btiffin "Triggered on syntax error, continue from next character. " That is doable, but I still think you overestimate greatly how usable the result can be.

btiffin

[09:20](#msg58cf9ecbf7f7d4810436930d)I

[09:21](#msg58cf9f1f58ad4eb02832323e)I could be wrong, yep. But I'd wager that there are a lot of people that would give it a try. There are a lot of non-programming types that still want to get 3.2% 19 times out of 20. ;-)

pekr

[09:22](#msg58cf9f396d7eb18404e77f62)We've got already `load/as`, there might be some universal mark to load anything, but the question is, if it makes a sense. For foreign formats, I was used to simply use `parse`. If I think about any foreign format, once you eventually load it, you need to know what to do with that anyway ...

[09:23](#msg58cf9f80590d72c864e77485)I can imagine some Amiga like datatypes functionality, simply having some codec, which would handle such case, but - I am highly unskilled, when touching the low level stuff, so feel just relaxed about what I say here :-)

dockimbel

[09:27](#msg58cfa080f7f7d48104369b87)@btiffin \*3.2% 19 times out of 20* I seriously doubt it could be possible to calculate any reliable error margin with LOAD/ANY. If I give you a file of 10GB to LOAD/ANY without information about its structure, you have no way to calculate an error margin. If the structure is known, then you can write a set of parse rules to \*accurately* extract the wanted information. Basically, if you really need reliable stats, you will not use LOAD/ANY.

[09:30](#msg58cfa149b809ca5f4a620896)I suppose you start with the implicit assumption that the "junk" parts will represent a (very) small portion of any given input, which I think is wrong in the general case. So, for a text-oriented content, with very little number of non-loadable forms, you could get a small percent of junk parts, so you could extract some usable stats from it, but such approach would probably not work for non-latin languages (Chinese for example, where the spaces are optional).

pekr

[09:33](#msg58cfa1f15917e26076b3e1ba)I would prefer the ability to read/parse in a stream to any of that. Hope it comes with IO ...

btiffin

[09:37](#msg58cfa2f56701410e5857783f)Oh, that was just for effect Nenad, in reality it would be more like "accurate within 0-100% 4 times out of 50". But it would still let a professor load the combined works of Shakespeare to get a close count of how many times "thee" was used. It they wanted to publish the count and still keep a reputation, they would need to do iterative loads with edits until no unclassified data was found (or look and see that all the unclassified data was reasonable as some form of librarian data or stray commas). But what you may end up with is thousands of professors using Red as a tool of first round analysis. Leading to code that helps them refine the initial rounds, leading to students hearing about it, rinse and repeat.

dockimbel

[09:39](#msg58cfa36f2215a08f04a57ddd)So what you really want is a NLP library, which would be simple enough to use (like a single `load-text` function). That would actually be better for non-programmers, because they know the lexical rules of their language, but not the intricacies of lexical rules of Red/Rebol.

btiffin

[09:44](#msg58cfa469590d72c864e78985)Nope, just an example. It could be geospatial data coming off a web stream, looking for particular lat/longs (and willing on first round to miss a few). Or it might be a spreadsheet with one stray element of unloadable data, which be easy to find and verify by having Red show the unclassified tokens. If that list is too funky, then an edit is required. If not, then you just saved a clerk a boatload of mucking around while racing to get the boss some particular tally.

dockimbel

[09:44](#msg58cfa484f7f7d4810436ae06)Using your own example:

```
Code: {a2#2.3..4

Here is some text with a number 5 and a dollar amount $12.23 preceded and followed by
random garbage that some other processor can handle

#$#3.2.1
```

This would load as: `[Code: junk!]`. The non-programmer using that needs to know that `{` is the beginning of a multi-line string, otherwise, he would not know how to "fix" the input. This is just a very simple case, but there are \*many* cases where one or several symbols would ruin most of the input to load. Imagine such `{` in dozens/hundreds of places in a multi-megabyte (or gigabyte) file...

[09:48](#msg58cfa55c7b3f37e75416dfd5)Your geospatial case is a good use-case for writing a simple Parse rule to extract the lat/long coordinates. `LOAD/ANY` cannot be a general substitute to writing parsers.

[09:50](#msg58cfa5d16d7eb18404e7a06c)@btiffin But I'm willing to implement such feature now, because until you try it for real, you will not realize how unusable it is. ;-)

btiffin

[09:50](#msg58cfa5fc590d72c864e79101)Well, sure. Sitting at the console, Red has more than enough introspective tools to quickly show when a dataset is totally unsuited to purpose, but it will also easily show when the information is close enough to satisfy the boss'es latest wonky request for the average time spent with employee washroom breaks from the new chip sensor data that was just installed on the fourth floor. Header records and trailer records could be safely ignored, and also verifiable as the only data that actually counted as unclassified without having to take the time to make edits.

[09:53](#msg58cfa6b76701410e58578b77)I'm willing to try, and give feedback if you're willing to put it in, Doc. And I'll do my best to wave poms poms at non-programmers so they see what an amazing tool Red is. Perhaps we'll both be surprised (but I'm wagering you might be pleasantly surprised at the uptake and entirely new fields of interest).

dockimbel

[09:54](#msg58cfa6e3fe6a638b1ae421f3)Let's do the experiment then. ;-) Let me finish with the 0.6.1 release and I will implement it.

btiffin

[09:55](#msg58cfa70d58ad4eb028325513)And the crowd goes wild. :-)

[09:55](#msg58cfa71c5917e26076b3f7dd)And no rush, as stated, not out to derail progress.

endo64

[11:34](#msg58cfbe35f7f7d48104371e83)@dockimbel @btiffin Isn't it you are discussing similar to `kwatz!` datatype! in World lang? http://www.world-lang.org/search?updated-max=2011-12-02T00:51:00-08:00&amp;max-results=7

[11:34](#msg58cfbe526701410e5857f477)Not the same thing exactly but it reminds me that:  
`The KWATZ! datatype is used for values, which are not recognized as being of any known datatype. This can be utilized for example in dealing with UTM Coordinates. LOAD can load anything:`

```
w> block: load "17T 630084 4833438"
== [#{313754} 630084 4833438]
w> type? block/1
== KWATZ!
w> to string! block/1
== "17T"
w> type? block/2
== integer!
```

`So it's easier to make dialects, that for example can deal with numbers with units, like:`

```
w> Earth: load "radius: 6,371.0km mass: 5.9736e24kg"
== [radius: #{362C3337312E306B6D} mass: #{352E393733366532346B67}]
w> type? earth/1
== set-word!
w> type? earth/2
== KWATZ!
w> parse Earth [some [set w set-word! set k kwatz! (print [w form k])]]
radius 6,371.0km
mass 5.9736e24kg
== true
```

`The KWATZ! datatype works much like the binary! datatype and can be converted to e.g. binary! or string! for further parsing.`

pekr

[11:40](#msg58cfbfc96d7eb18404e81562)`kwatz!` is a terrible name :-) I would still call it just `junk!`or `whatever!`

endo64

[11:42](#msg58cfc035f7f7d481043726ad)Agreed :)

Oldes

[11:58](#msg58cfc3c958ad4eb02832d5a3)@endo64 's example is nice, but problem is, that it is not junk. Junk is something like mentioned un-closed strings in Doc's example.  
Or: `"radius: 6,371.0 km mass: 5.9736e24kg"`

dockimbel

[12:01](#msg58cfc4896d7eb18404e82f18)@Zamlox I have a hard time understanding how the mode (`replace`, `intersect`, `union`,...) in `clip` command works...

btiffin

[12:05](#msg58cfc59c590d72c864e82365)text! has ring to it

Oldes

[12:08](#msg58cfc6217b3f37e754176651)Anyway... there is interesting difference:

```
red>> load "6,371.0km FOO"
*** Syntax Error: invalid float! at "6,371.0km FOO"
*** Where: do
```

versus:

```
>>  load "6,371.0km FOO"
** Syntax Error: Invalid decimal -- 6,371.0km
** Near: (line 1) 6,371.0km FOO
```

dockimbel

[12:32](#msg58cfcbe458ad4eb02832f9c6)@Zamlox I think I got it, let me know if my \[description](https://doc.red-lang.org/en/draw.html#\_clip) is incorrect.

Zamlox

[12:42](#msg58cfce39a84f611959c43dc1)@dockimbel your description is correct ;) It is between the previous and current.

9214

[13:18](#msg58cfd6c32215a08f04a6650d)Are there any "fundamental primitives" in Red/Rebol? Like the holy seven `car cdr cons cond eq atom quote` ?

rebolek

[13:21](#msg58cfd760b809ca5f4a6303f5)@9214 there are natives, you can think of them as "fundamental primitives". However, they are, as everything, anonymous and their names can be changed.

9214

[13:23](#msg58cfd7cf8fa1633954f97141)@rebolek `help native!` should list everything?

rebolek

[13:24](#msg58cfd8162215a08f04a66d9c)Yes, I think so.

[13:25](#msg58cfd866a84f611959c474f3)Also, some natives are natives just to make them faster. They can be rewritten as functions.

[13:28](#msg58cfd8e1f7f7d4810437a7e5)@9214 also, `action!`

9214

[13:34](#msg58cfda5f58ad4eb028333eb5)@rebolek thanks, I'll try to meditate on that

JacobGood1

[14:28](#msg58cfe6fd6701410e5858b692)Please do not go with a cutesy mascot I hate that, something intimidating, zany... not cutesy. Of course, for marketing, I am sure a "fuzzy wuzzy" character would be popular with the Chinese.

llvm or lisp have cool mascots

[14:29](#msg58cfe7506701410e5858b84f)Dart already has a bird I think, not sure though

[14:30](#msg58cfe7a25917e26076b531bd)I like the ant idea more than the bird, but hopefully it will look cool... not like the previous pic that was linked

9214

[14:37](#msg58cfe93e6d7eb18404e8e203)bird could be for a package/module manager

[14:38](#msg58cfe9765917e26076b53a5e)homing zunzuncito :D

dockimbel

[14:39](#msg58cfe9866d7eb18404e8e3d6)@JacobGood1 What about a Xenomorph then? :-)

9214

[14:39](#msg58cfe99d6701410e5858c339)~~grey~~ red \[goo](https://en.wikipedia.org/wiki/Grey\_goo)

JacobGood1

[14:39](#msg58cfe99f58ad4eb028339312)@dockimbel that would be flat out awesome!

dockimbel

[14:39](#msg58cfe9a9590d72c864e8cdce)Hahaha :-)

JacobGood1

[14:40](#msg58cfe9c66d7eb18404e8e4e3)Can't wait for the next Alien movie

dockimbel

[14:40](#msg58cfe9ef6d7eb18404e8e55e)Hopefully, Covenant should be good.

9214

[14:49](#msg58cfec156701410e5858d00b)In fact Mayans pyramids were built 3k years ago to praise the hanoi tower of Red.

greggirwin

[16:13](#msg58cfff9b6701410e5859309d)On unknown!/kwatz! (agree that it's a bad name), @btiffin if you have some examples, that would help. And maybe see if Wolfram can make sense of them. If Doc can do a quick hack to test, that will be cool.

[16:17](#msg58d0007f8fa1633954fa4e36)On mascot/logo, is the bee hummingbird just tiny, or does it have other attributes we want associated with Red? Think about how a graphic will scale as well. WRT ants, I was thinking just a straight-on, vector, face. Maybe I'm just too attached to turtles and self organizing systems though. :^)

9214

[16:18](#msg58d000d8f7f7d48104387541)Ants are small too! But while small, they do a good job by building complex things.

[16:18](#msg58d000f05917e26076b5b3a1)And bird is just cute and tiny, that's it

[16:19](#msg58d001262215a08f04a742d6)one could meditate on Ant Zen label logo  
!\[ant-zen](https://f4.bcbits.com/img/0006599212\_10.jpg)

dockimbel

[16:34](#msg58d00492fe6a638b1ae5f23a)@greggirwin Hummingbirds can do things other birds wish they could too, like stationary or backwards flight. ;-) For the "bee" species, it has the title of smallest bird in the world.

9214

[16:35](#msg58d004d8590d72c864e9605e)... and rebelling against complexity

DideC

[16:38](#msg58d0057d590d72c864e96414)The humminbird's share

A huge fire ravages the jungle.  
Animals are fleeing in all directions.  
Only a hummingbird, relentlessly,  
Made the return of the river to the brazier,  
A tiny drop of water in its beak,  
To place it on the fire.  
A toucan with an enormous beak calls out to him:  
"You're crazy, hummingbird, you see that it is useless."  
"Yes, I know," replied the hummingbird, "but I do my part" ...

9214

[16:39](#msg58d005a6fe6a638b1ae5f6f3):clap:

greggirwin

[16:57](#msg58d00a08a84f611959c57704)Nice @DideC .

rcqls

[18:03](#msg58d0195c590d72c864e9c80b)@DideC Pierre Rabhi reference! That explains my +1 when @dockimbel proposed it first.

pekr

[18:08](#msg58d01ab38fa1633954fad987)I like some simple kind of gfx. Google for `simple hummingbird tattoo drawing`- some nice ideas ....

gltewalt

[20:21](#msg58d039e2f7f7d4810439a44b)No bees

iArnold

[20:26](#msg58d03ada6701410e585a5c7b)-1abees

gltewalt

[20:45](#msg58d03f757b3f37e75419cc1d)I'm still in the "I don't know what I don't know" camp, but from the surprises I've encountered and the holes I've fallen into while learning about Red so far - one animal that comes to mind - cuttlefish

[20:46](#msg58d03fbd5917e26076b6fdd3)If you have 50 minutes to spare, sometime - https://youtu.be/6SCrRYDOg\_s

greggirwin

[20:49](#msg58d04071a84f611959c688d8)If you just note all the surprises and encounters, that would be great. Some of us don't know what we know anymore. Certain holes you have to fall into yourself, but we forget the bumps new Reducers hit and have to be reminded.

[20:50](#msg58d0408af7f7d4810439c783)A gist is fine, or short list in chat here that we can extract.

[20:50](#msg58d040adb809ca5f4a653507)The octopus/cuttlefish is one of my favorite animals.

[20:51](#msg58d040c858ad4eb028355008)And an apt analogy. :^)

gltewalt

[20:51](#msg58d040d4fe6a638b1ae72c14)Look lol - https://www.amazon.com/Little-Red-Cuttlefish-Henry-Herz/dp/1455621463

greggirwin

[20:54](#msg58d0416ff7f7d4810439cd7b)So cute and...cuttley.

gltewalt

[20:54](#msg58d04197590d72c864ea946f):+1: :smile:

greggirwin

[20:56](#msg58d0420efe6a638b1ae731bf)XenoAntCephalaBeeBirdMorphPod mascot?

## Tuesday 21st March, 2017

gltewalt

[03:48](#msg58d0a29a58ad4eb02836b715)VSCode is irritating me...

```
C:\Users\RedBin>red-play.exe

The sum of cat is:
*** Runtime Error 1: access violation
*** at: 7552A069h
```

```
c:\Users\Old Man\Desktop\My Changes>C:/Users/red --cli "c:\Users\Old Man\Desktop\My Changes\red-play.red"

The sum of cat is: 312

Thanks

c:\Users\Old Man\Desktop\My Changes>
```

dockimbel

[04:01](#msg58d0a5917b3f37e7541b4c35)@qtxie ^----

[04:02](#msg58d0a5d47b3f37e7541b4d45)@greggirwin So a chimera? That would look awesome, but could backfire on us as the analogy might not be the best one in the programming languages realm. ;-)

[04:03](#msg58d0a6257b3f37e7541b4e17)Maybe a rebellious language deserves some rebellious mascot?

qtxie

[04:09](#msg58d0a762fe6a638b1ae8a127)@gltewalt You mean the interpreter works fine, but the compiled code crashes?

gltewalt

[04:17](#msg58d0a9712215a08f04aa05ff)Yes. I think it might be because I moved the red.exe into the root Users folder and there are permissions issues. I'm trying to use VSCODE from C:\\Users\\Old Man\\, but it doesn't read the path correctly from preferences. It only reads C:\\Users\\Old

[04:19](#msg58d0a9b46701410e585bf67d)(or libRed directory has to be in the same directory as red.exe for compiling?)

greggirwin

[04:22](#msg58d0aa8f7b3f37e7541b5c1d)@dockimbel, maybe a shape-shifting amoeba then, which normally looks like a red pill? :^)

gltewalt

[04:28](#msg58d0abe26d7eb18404ec5144)@qtxie When I compile from windows terminal it compiles, but when I double click the .exe, I get this error `The procedure entry point exec/f_quit could not be located in the dynamic link library LIBREDRT.DLL`

[04:32](#msg58d0aceb5917e26076b89653)I'm sorry. That was with -c flag. It's fine with -r flag.

[04:40](#msg58d0aeb92215a08f04aa15ab)It doesn't recognize `ask` or `input` when compiling.

```
Microsoft Windows [Version 6.1.7601]
Copyright (c) 2009 Microsoft Corporation.  All rights reserved.

C:\Users\Old Man>red -r "C:\Users\Old Man\Desktop\My Changes\red-play.red"

-=== Red Compiler 0.6.1 ===-

Compiling C:\Users\Old Man\Desktop\My Changes\red-play.red ...
*** Compilation Error: undefined word input
*** in file: C:\Users\Old Man\Desktop\My Changes\red-play.red
*** near: [
    input
]
```

dander

[04:43](#msg58d0af7df7f7d481043b692c)&gt; Maybe a rebellious language deserves some rebellious mascot?

@dockimbel makes me think "honey badger" :smile:

gltewalt

[04:56](#msg58d0b265590d72c864ec2a8b)Gahhh... :worried:

calling the exe from the command line still has the access violation

```
Microsoft Windows [Version 6.1.7601]
Copyright (c) 2009 Microsoft Corporation.  All rights reserved.

C:\Users\Old Man>red -r "C:\Users\Old Man\Desktop\My Changes\red-play.red"

-=== Red Compiler 0.6.1 ===-

Compiling C:\Users\Old Man\Desktop\My Changes\red-play.red ...
Compiling compression library...
...compilation time : 1076 ms

Target: MSDOS

Compiling to native code...
...compilation time : 29126 ms
...linking time     : 234 ms
...output file size : 556544 bytes
...output file      : C:\Users\Old Man\red-play.exe


C:\Users\Old Man>red-play.exe
The sum of cat is:
*** Runtime Error 1: access violation
*** at: 75529B60h

C:\Users\Old Man>
```

[04:58](#msg58d0b2ee58ad4eb02836e82c)I'm having a bad night, in general :worried:

qtxie

[05:00](#msg58d0b38b6701410e585c13a7)@gltewalt Would you paste your code somewhere, so I can debug it?

gltewalt

[05:18](#msg58d0b7bda84f611959c84391)@qtxie Sent you a gist

qtxie

[05:23](#msg58d0b8cf6d7eb18404ec7a13)Ok. :ok\_hand:

rebolek

[08:51](#msg58d0e99ff7f7d481043c44e7)@greggirwin so I wrote my own `load-csv` because porting Brian's one wasn't very easy, the only difference is that mine's one trims spaces at the end (not sure why, it shouldn't when you look at the rule, but maybe I overlooked something). I don't care much, because it saves me work, I want trimming in my case :)  
I've tested it with messy ~10 000 lines CSV with multiline values and quotes inside quotes and besides the trimming issue, there are no differences in the result.

iArnold

[10:25](#msg58d0ff878fa1633954fe5fe0)Better take your leet screen shot now @dockimbel @qtxie ! You got the 1337 from me ;-P

9214

[10:58](#msg58d1076ca84f611959c9904d)\[!\[изображение.png](https://files.gitter.im/red/red/2B7a/thumb/\_\_\_\_\_\_\_\_\_\_\_.png)](https://files.gitter.im/red/red/2B7a/\_\_\_\_\_\_\_\_\_\_\_.png)

pekr

[11:03](#msg58d1086ca84f611959c994c4)Is that any special number, or what?

rebolek

[11:04](#msg58d108a8590d72c864ed7a2a)@pekr https://cs.wikipedia.org/wiki/Leetspeak

9214

[11:04](#msg58d108acf7f7d481043cdaea)yeah it's kinda trandy

[11:04](#msg58d108d4a84f611959c9972f)will do for PR and twitter

dockimbel

[11:16](#msg58d10b9f590d72c864ed876c)@9214 Ah, we reached the 31337 h4x0r level! ;-)

9214

[11:18](#msg58d10c158fa1633954fe9b9b)@dockimbel there's no level  
:sunglasses: 🥄 :baby:

endo64

[12:54](#msg58d1227ff7f7d481043d4f2f)@greggirwin On kwatz! discussion, my need was to skip (or keep them as a string! or some other format like kwatz!) of non-loadable parts of the string without parsing and changing the input string to fix its format to make it loadable, before load.  
Keeping non-loadables in a different type (say kwatz! or error!) makes it easy to find / skip them or give error if any.  
I know it is error-prone but it also relaxes if I know the data is almost loadable (like csv or similar tabular format, but non-loadable by Red).

JacobGood1

[13:25](#msg58d129c858ad4eb02838d90d)@dockimbel oooh, I like the idea of a rebellious looking mascot.

DideC

[13:52](#msg58d1301f590d72c864ee3809)Honey badger could be fine, but... could be easily confused with a sconse. Not smeeling good !

ghost~5680c5f416b6c7089cc058a5

[15:54](#msg58d14cc3a84f611959caeff6)I created a sample \[\*\*telegram\*\*](https://telegram.org/) bot in Red. https://github.com/nc-x/SampleTelegramBotInRed

It is accompanied with a bit too many comments, so I might remove many of them soon.

It might not be idiomatic Red as I haven't yet got the time to learn Red properly.

I think it more or less works, but if any one finds any bugs, bug reports as well as fixes welcome.

So Pull Requests to make the code idiomatic or bug fixes or any improvements welcome.

[15:55](#msg58d14ceb7b3f37e7541e24a5)\*\*Also, I might write down a blog article on this topic in a few days.\**

[15:56](#msg58d14d2658ad4eb028399e7a)@dockimbel If this is material for Red/Code, then please tell me the branch and any changes that have to be made before sending the PR.

greggirwin

[16:04](#msg58d14eff7b3f37e7541e2f11)@rebolek great!

@endo64 I'm anxious to see what Doc comes up with for experimentation.

@nc-x cool.  
`to url! append append https://api.telegram.org/bot token "/getUpdates"`  
can be  
`rejoin [https://api.telegram.org/bot token "/getUpdates"]`

`append append append append reply {?chat_id=} user-id {&text=} msg`  
can be  
`rejoin [reply {?chat_id=} user-id {&text=} msg]`

Other multi-appends can use `rejoin` as well.

9214

[16:05](#msg58d14f536d7eb18404ef202b)and `while [true]` should be `forever` I think

greggirwin

[16:07](#msg58d14fb1b809ca5f4a697d1b)And if you're initializing empty strings, `copy` them. Otherwise they all refer to the same string. If they will always be set to new strings later, you can set them to `none` to start, and a comment can note what type they should contain later if needed.

9214

[16:09](#msg58d15026f7f7d481043e4b62)

```
reply: 		""
msg: 		""
user-id: 	""
text: ""
```

could be `reply: msg: user-id: text: copy ""` ? IMO this discussion is for a `/code` room

greggirwin

[16:10](#msg58d15073fe6a638b1aeb981d)Red/Code would be better, yes.

dockimbel

[16:12](#msg58d150ee6d7eb18404ef2923)@nc-x Nice work! Could go to red/code, once modified to be more idiomatic.

geekyi

[16:49](#msg58d15989fe6a638b1aebc947)@nc-x that's really cool.. although, I'd rather you have it living separately instead of in red/code repo. Ease of access and all..

rebolek

[16:55](#msg58d15aeb6701410e585f01f0)Is red/code repo somehow harder to access than other repos?

geekyi

[18:22](#msg58d16f66fe6a638b1aec423d)@rebolek no… as a showcase it's OK I guess.. but that code mixed with others is not so accessible

[18:24](#msg58d16fc96701410e585f6b23)Think in terms of simplicity.. if someone was to fork it to create their bot.. they are also cloning this extra code..

[18:25](#msg58d17009fe6a638b1aec4548)If someone searches for a repo for red telegram api, they wouldn't easily find it

9214

[18:25](#msg58d1701da84f611959cbb0e8)can repos on github be cross-referenced somehow?

dander

[18:43](#msg58d1744ea84f611959cbc246)@9214 It appears that feature is called \[git submodules](https://github.com/blog/2104-working-with-submodules). Looks like there are pros and cons associated with it, but it doesn't have to be all or nothing. Maybe larger projects that have a life of their own would rather be a submodule, but toys/demos are better just being a subfolder...

gltewalt

[18:44](#msg58d174805917e26076bc2e94)Do I get points for breaking things?

greggirwin

[19:05](#msg58d179685917e26076bc48d3)@gltewalt, yes.

## Wednesday 22nd March, 2017

dockimbel

[07:32](#msg58d228795917e26076befcff)FYI (especially @btiffin), `load` has a `trap` refinement now, allowing to return some extra information in case of a syntax error. Using it, it is possible to build a `load-any`.

[07:33](#msg58d228d68fa1633954039126)I made a simple \[`load-any`](https://gist.github.com/dockimbel/bffe92eb070b24f5573b677589a94591) implementation:

```
load-any "aaa 456z 3 abc"
== [aaa #junk "456" z 3 abc]
```

Erroneous segments are stored as string prefixed with `#junk`.

[07:34](#msg58d229232215a08f04b051cc)Feel free to fork/improve my `load-any` version.

rebolek

[07:44](#msg58d22b78a84f611959ce9b3d)Cool!

pekr

[07:58](#msg58d22eb27b3f37e75421d833)This week Doc is in a good mood to implement some private wishes. I wonder what favourite feature I would remember to get into Red :-)

[07:59](#msg58d22ee558ad4eb0283d307c)Well, I already got CALL, so nothing more comes to my mind recently ...

rebolek

[08:04](#msg58d2301cf7f7d4810441f4b5)My CSV loader is available \[here](https://github.com/rebolek/red-tools/blob/master/csv.red). I will add CSV saver also, but I do not have any use for it now, so it may take some time. The loader seems to work fine with moderately big (~10 000 lines), messy and UTF-8 files and produces same results as BrianH's `csv-tools`.

dockimbel

[08:14](#msg58d2324af7f7d4810441fe6a)@pekr `load/trap` can be a useful feature for IDE, it's not a private wish.

planetsizecpu

[09:11](#msg58d23fab6701410e5862937c)@pekr I still remember multi-column text-list, do you? But it seems more a task for @qtxie, and I dont want to disturb guru's from their main work :smile:

pekr

[09:13](#msg58d240205917e26076bf5e28)yes, multi-columnt text list is a must for the DB related apps. But - it could also be volunteered by some semi-skilled user. Now where to find one? :-) I could sponsor some bounty for that, the question is, if the code would be good enough to be oficially included into Red. That would be my condition ...

planetsizecpu

[09:18](#msg58d2417b590d72c864f2b4b5)@pekr I encourage you, if you have the time and the skills (that's not my own case) ...

dockimbel

[10:00](#msg58d24b26a84f611959cf298c)I have a question for the web/CSS experts here: the default font used for general text by gitbook looks really bad:

[10:00](#msg58d24b306701410e5862c72e)\[!\[blob](https://files.gitter.im/red/red/Cm1b/thumb/blob.png)](https://files.gitter.im/red/red/Cm1b/blob)

[10:02](#msg58d24bbb6d7eb18404f34b64)See the gaps in words like "following", "method", "not", "horizontal", ... Is it a font problem (in such case which font should we use?) or is it a CSS issue (which can be solved by fixing the \[CSS file](https://github.com/red/docs/blob/master/en/styles/website.css))?

PeterWAWood

[10:25](#msg58d251256701410e5862e2e4)@dockimbel Was that taken from the published docs?

This is what it looks likes when rendered in Firefox:

[10:26](#msg58d2513c5917e26076bfa9cf)\[!\[Screen Shot 2017-03-22 at 18.23.58.png](https://files.gitter.im/red/red/KHbj/thumb/Screen-Shot-2017-03-22-at-18.23.58.png)](https://files.gitter.im/red/red/KHbj/Screen-Shot-2017-03-22-at-18.23.58.png)

dockimbel

[10:26](#msg58d25142a84f611959cf4413)Yes, from published docs, screenshot from Chrome/Win7.

PeterWAWood

[10:28](#msg58d251e76d7eb18404f36735)https://doc.red-lang.org/en/draw.html

rebolek

[10:29](#msg58d251f6fe6a638b1aefeaa8)chapter 2.14.2

[10:29](#msg58d25210fe6a638b1aefeb0f)It looks fine on Firefox/macOS

dockimbel

[10:29](#msg58d252225917e26076bfad24)@PeterWAWood Looks good in FF and IE, it seems to be a Chrome issue with font rendering...

PeterWAWood

[10:30](#msg58d252405917e26076bfadaf)I can never view the Gitbook docs in Safari as the page disappears after ten seconds or so.

Oldes

[10:30](#msg58d252532215a08f04b1073a)I have it ok on Windows 7 in Chrome

PeterWAWood

[10:30](#msg58d252588fa1633954044269)Well the text disappears.

rebolek

[10:31](#msg58d25267fe6a638b1aefec55)@PeterWAWood interesting, let me check it here

Oldes

[10:31](#msg58d25281f7f7d481044294e0)\[!\[blob](https://files.gitter.im/red/red/EsaU/thumb/blob.png)](https://files.gitter.im/red/red/EsaU/blob)

rebolek

[10:32](#msg58d252a1fe6a638b1aefed0f)\[!\[Snímek obrazovky 2017-03-22 v 11.31.21.png](https://files.gitter.im/red/red/ZoIf/thumb/Sni\_mek-obrazovky-2017-03-22-v-11.31.21.png)](https://files.gitter.im/red/red/ZoIf/Sni\_mek-obrazovky-2017-03-22-v-11.31.21.png)

rcqls

[10:32](#msg58d252af7b3f37e754227a04)@PeterWAWood same problem in safari but not in Firefox. Don’t think it is specific to Red doc.

rebolek

[10:32](#msg58d252befe6a638b1aefed82)Safari on macOS and nothing disappears.

btiffin

[10:33](#msg58d252e5a84f611959cf4d1f)@dockimbel, looking and smiling Doc. You'll be having history majors and geologists and sports bookies and maybe even the odd professional programmer all a giddy in no time. Thanks for the update.

COBOL in a block. WOOHOO

&gt;&gt; cob: read %/home/btiffin/lang/cobol/hello.cob  
\== {000100* HELLO.COB GnuCOBOL FAQ example^/000200 IDENTIFICATION DIVIS  
&gt;&gt; dat: load-any cob  
\== [#junk "000100" * HELLO.COB GnuCOBOL FAQ example  
200 IDENTIFI...  
&gt;&gt; help dat  
dat is a block! of value: [#junk "000100" * HELLO.COB GnuCOBOL FAQ example  
200 IDENTIFICATION DIVISION.  
300 PROGRAM-ID. hello.  
400 PROCEDURE DIVISION.  
500 DISPLAY "Hello, world" .  
600 STOP RUN.  
]  
That is some sweet looking help. Effortless start. WOOHOO! Ima go tell. Ima go tell.

Ok, one more before leaving to go tell. WOOHOO!

PeterWAWood

[10:33](#msg58d252f25917e26076bfb0fe)@rebolek I'm using Safari 10.0.3

[10:33](#msg58d253176d7eb18404f36de6)@rcqls I think you are correct, the problem does not relate just to the Red pages.

rebolek

[10:34](#msg58d253186701410e5862ec10)@PeterWAWood me too: `Verze 10.0.3 (11602.4.8.0.1)` . Do you use some extensions?

rcqls

[10:34](#msg58d253248fa16339540447fc)@rebolek @PeterWAWood Maybe a problem when size of browser is too small.

PeterWAWood

[10:34](#msg58d253335917e26076bfb1c4)Maybe Adblocker

rebolek

[10:34](#msg58d253486701410e5862ed21)@rcqls yes, that looks like it is the problem!

[10:35](#msg58d253616701410e5862ed97)I've resized window to make it smaller and now the text is gone.

[10:36](#msg58d253938fa1633954044a13)When I make it big again, the text is back.

rcqls

[10:36](#msg58d253b22215a08f04b10ce7)@rebolek @PeterWAWood when making font size smaller, it is fine.

dockimbel

[10:36](#msg58d253cb8fa1633954044b29)@btiffin Let the experiment start. ;-)

PeterWAWood

[10:39](#msg58d2544ef7f7d48104429c5e)@rcqls Either widening the window a little or reducing the font works for me. Thanks for working that out :-)

[10:39](#msg58d254648fa1633954044e4d)@rebolek Thanks too.

dockimbel

[10:52](#msg58d257558fa1633954045e07)@Oldes So, you don't see those unusually large gaps like in my capture? That's odd... I just checked on another Chrome/Win7 box and the gaps are present, but at different places...

[10:52](#msg58d2577f6d7eb18404f38195)Anyway, the font does not look that nice, does anyone have a suggestion for a better font to use for such technical documentation.

PeterWAWood

[10:53](#msg58d257c26d7eb18404f382d5)@dockimbel I see the gaps on Chrome/Win 7 too.

btiffin

[10:54](#msg58d257ea5917e26076bfc723)&gt;&gt; parse dat \[copy to preprocedure to 'program-id. copy code to end]  
&gt;&gt; parse dat \[copy preproc to 'program-id. copy code to end]  
\== true  
&gt;&gt; help code  
code is a block! of value: [PROGRAM-ID. hello.  
400 PROCEDURE DIVISION.  
500 DISPLAY "Hello, world" .  
600 STOP RUN.  
]  
Just pulled out the procedure division from a fixed format source COBOL program, Doc. Zero effort. Refinements and domain specific tweaks to load-any are going to make this a huge boon, huge. Yeah, there are going to be some early rough edges, and some training to get people comfortable, but this is way cool. Many many kudos.

rcqls

[10:54](#msg58d257ed2215a08f04b11cf7)@PeterWAWood But it is not so convenient….

PeterWAWood

[10:56](#msg58d2586a6701410e586305d7)True.

Oldes

[10:57](#msg58d2589a58ad4eb0283de799)@dockimbel are we checking same page? I was trying https://github.com/red/docs/blob/master/en/draw.adoc

[11:00](#msg58d259496d7eb18404f389eb)I can see the spaces here: https://doc.red-lang.org/en/draw.html#\_fill\_pen

[11:05](#msg58d25a7f5917e26076bfd31a)This is on Github:

```
font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
```

[11:06](#msg58d25aa1590d72c864f325b9)And this on the second page:

```
font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
```

dockimbel

[11:10](#msg58d25b9658ad4eb0283df4ba)I am looking at the rendered result only, on docs.red-lang.org.

rcqls

[11:12](#msg58d25c0f6d7eb18404f396eb)@dockimbel unselecting in the inspector of development tools `text-rendering: optmizedLegibility` makes the text nicer.

Oldes

[11:14](#msg58d25c9e8fa1633954047526)I like the look on Github.

PeterWAWood

[11:18](#msg58d25d846d7eb18404f39c01)Apple now uses the SF Pro Text and SF Pro Display for its online tech docs.

[11:22](#msg58d25e637b3f37e75422ad70)Probably a hassle to use it, even with \[this css](https://gist.github.com/AndrewBarba/2c0f6612ceef30f5f55d).

rcqls

[11:24](#msg58d25ed37b3f37e75422aeef)@dockimbel Don’t know if it works but I would try creating `styles/website.css` to redefine `body`

```
body {
    font-smoothing: antialiased;
    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
    font-size: 14px;
    letter-spacing: .2px;
    text-size-adjust: 100%;
    -ms-text-size-adjust: 100%;
    -webkit-text-size-adjust: 100%
}
```

instead of

```
body {
    text-rendering: optimizeLegibility;
    font-smoothing: antialiased;
    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
    font-size: 14px;
    letter-spacing: .2px;
    text-size-adjust: 100%;
    -ms-text-size-adjust: 100%;
    -webkit-text-size-adjust: 100%
}
```

btiffin

[11:51](#msg58d265536d7eb18404f3c1c1)@dockimbel I had to add an extra

```
next
```

to the second

```
input:
```

as the sample load-any spins with two pieces of junk in a row. But here is a sample of the type of things I think people will be able to do, Doc. And this is just making it up without any current need.

```
== {<!DOCTYPE html>^/<!-- Server: sfn-web-10 -->^/^/^/    ^/^/^/^/^/^/^/^/^/^/^/^/^/^/^/^/^
>> d: load-any a
limiter:  3524
== [<!DOCTYPE html> <!-- Server: sfn-web-10 -->
    <!--[if lt IE
>> length? d
== 3398
>> length? sort unique d
== 1204
```

So a random web page, (with some 50 pieces of junk) has 1200 ish unique items out of some 3400. Took 7 verbs to get a rough count. And zero thinking. I can't see this \*\*not\** being attractive to so many different areas of study. And with a little tweaking, it'll be world domination time.

Oldes

[12:23](#msg58d26cc4590d72c864f37bc5)@pekr  
&gt; yes, multi-columnt text list is a must for the DB related apps. But - it could also be volunteered by some semi-skilled user. Now where to find one? :-) I could sponsor some bounty for that, the question is, if the code would be good enough to be oficially included into Red. That would be my condition ...

I'm giving it a try.. just don't know how far I will get.

pekr

[12:28](#msg58d26deab809ca5f4a6e566d)Is 30 EUR, as a motivation, OK? :-) btw - what widget are you going to wrap? If I remember correctly, there were multiple ones? The question also is - how to do it in a cross-platform like manner - will we see first native, yet incompatible widgets? (I don't mind eventually)

maximvl

[12:43](#msg58d2717dfe6a638b1af07d87)what do you mean by `multi-columnt text list` ?

[12:43](#msg58d271842215a08f04b19e26)a table or?

Oldes

[12:44](#msg58d271a67b3f37e754230a52)I'm trying to implement this one: https://msdn.microsoft.com/en-us/library/bb774735(v=vs.85).aspx

maximvl

[12:46](#msg58d27209a84f611959cfe2bd)hm, looks like a table with different representations

[12:46](#msg58d2722d6d7eb18404f408b0)@pekr are you willing to pay 30 eur for this? :)

pekr

[12:47](#msg58d2725c6701410e586386a2)I pay for much more nonsense in different areas of life sometimes :-)

Oldes

[12:47](#msg58d272618fa163395404dff1)It would be good to have it somehow similar to http://www.hmkdesign.dk/rebol/list-view/docs/list-view.html

maximvl

[12:47](#msg58d27277f7f7d4810443313d)@pekr haha, true, but it's a great idea :+1:

pekr

[12:48](#msg58d27296f7f7d481044331d4)Yes, those two are similar. Wonder about the macOS. Found also a DataGrid control, which is more DB oriented, but that's a different beast. Difficult to guess for me, what is part of the default Windows

maximvl

[12:49](#msg58d272d4b809ca5f4a6e7692)speaking about GUI elements, how do you want to deal with ones which have native implementations in some OS'es but not in the others?

pekr

[12:51](#msg58d27350a84f611959cfee4f)https://msdn.microsoft.com/en-us/library/system.windows.forms.datagridview(v=vs.110).aspx

[12:53](#msg58d273d18fa163395404e692)Well, there are imo only 2-3 ways. 1) Implement it using some draw primitives. Strong Grid, as Henrik's one. That would be cross platform, but more diffitcult to read to change od GUI related Windows settings 2) Use what is available on particular platform, which might mean a different experience for users 3) kind of text-list, which sits in the middle and is for simpler scenarios ...

Oldes

[13:13](#msg58d2788c7b3f37e7542339f2)\[!\[blob](https://files.gitter.im/red/red/ekzR/thumb/blob.png)](https://files.gitter.im/red/red/ekzR/blob)

[13:13](#msg58d278965917e26076c083a5)I'm able to do this... but you know.. it starts to be complex pretty quicky.

maximvl

[13:18](#msg58d279af5917e26076c0898f):clap:

pekr

[13:19](#msg58d279e0fe6a638b1af0ac62)cool beginning, first multicolumnt in Red :-)

maximvl

[13:19](#msg58d279f95917e26076c08c11)grid systems can be pretty powerful, there are a lot of posts &amp; discussions on the web

[13:20](#msg58d27a0d8fa163395405098d)I would read couple of them to find out which approaches are the best for Red

[13:20](#msg58d27a376701410e5863b8a7)and also check Doc's grid implementation

Oldes

[13:21](#msg58d27a3e6d7eb18404f43b12)But I'm not sure, if it would not be easier to do it directly in Red from the primitives.. as dealing with all the possibilities in Red/System is not easy.

pekr

[13:23](#msg58d27ae96d7eb18404f43fd4)yes, most of the time, IS/ERP vendors implement their own. There tend to be very specific requirements. I sponsored one for RebGUI, it was developed by Cyphre. My requirements were - virtual columns, frozen columns, sortable columns, multiline, multi-row/column hilite, keyboard navigation, endless scrolling (buffering - no dataset size limitation), direct block/sql query display without reshufling the dataset (related to virtual columns/rows), etc.

[13:24](#msg58d27b09a84f611959d01b62)@Oldes - that's what I fear. But then we start to draw our own buttons, scrollbars etc. and we are back at the R2 VID league ...

[13:25](#msg58d27b5a2215a08f04b1dcda)If you list properties of the DataGrid Control I posted above, the amount of parameters is excessive. I can't imagine we would wrap all of that ...

dockimbel

[13:58](#msg58d283027b3f37e754236fff)@btiffin  
&gt; So a random web page, (with some 50 pieces of junk) has 1200 ish unique items out of some 3400. Took 7 verbs to get a rough count.

Well, the real number of unique items in the document could be 900 or 1500, you can't know unless you analyze the junk parts. If the input is short enough, you can do a quick visual review and guesstimate an error margin. If the input is big (not possible to review visually), then you need to analyze the junk parts, and calculate a good approximation for the error margin. Depending on the context and structure of the input, this can go from "pretty easy" to "terribly hard/long". But I don't want to diminish your enthousiasm ;-), I'm curious about the feedback of your experiments, and how much it can really help in a corporate environment.

Maybe a kind of "visual lab" tool, for cutting a random input text into pieces, and be able to quickly tweak different kind of analyzers to extract some stats (with semi-assisted error margin calculator), could be a useful tool for some companies.

pekr

[14:00](#msg58d283867b3f37e754237238)Small improvement suggestion for the console settings - when you edit the color related fields, you can change tuples, but hitting Enter only a system sound is played, most probably notifying us, that the change can't be made. But when you change a tuple and close the dialog, the change is reflected after all ...

[14:03](#msg58d2843c2215a08f04b2074b)@dockimbel @btiffin let's say this stuff is "somehow" usefull, can't clearly define it in my head. Wouldn't just writing a parse rule be more precise? I remember parsing some Win server system stuff report. I am not much skilled user, but it was easy enough, and it was precise ... Well, some might say that `parse`is difficult to get info, hence I wonder - could there be some meta-abstraction, or how to call it, for `parse`, to easy the creation of dialects/rules?

dockimbel

[14:03](#msg58d2844e590d72c864f3fbe2)@pekr I can reproduce the beep, not sure why we get it...

pekr

[14:04](#msg58d2847cf7f7d48104439936)Maybe enter is not defined for an editable field? Might be system/widget related ... Difficult to say, where the focus is by default. But once I enter the field, the field gets blueish outline = is in focus. Enter, and e.g. tab keys, both produce a beep ...

dockimbel

[14:07](#msg58d2850a8fa163395405428b)@rcqls I push your proposed fix online, I don't see any effect. I wonder if I shouldn't rather try to tweak the`font-kerning` property, or maybe just switch to a better looking font?

Oldes

[14:42](#msg58d28d456d7eb18404f4a9da)You should use the font-family which is using GitHub

henrikmk

[14:52](#msg58d28fa3a84f611959d09976)@maximvl as I see it, REBOL/Red will continue to have a need for a GUI system with REBOL/Red native widgets rather than OS provided widgets. it is just so much simpler to deal with cross platform issues that way.

pekr

[15:02](#msg58d291ea58ad4eb0283f0e05)@henrikmk - yes and no. We also remember, how difficult it is to get those widgets right, in a system friendly way. To this date, no single Rebol GUI provided that in a finished form. The stuff like focusing, keyboard navigation, accelerator keys, proper OS metrics, ability be visually close to the OS settings, etc.

geekyi

[15:10](#msg58d293c8a84f611959d0b29e)Note that we have a red/GUI channel 😜

henrikmk

[15:18](#msg58d295ca6d7eb18404f4dcf0)@pekr It's not difficult to get them reasonably functional. It just takes time. The problem is that nobody has sat down for a year to do it right. Rather it seemed more important to build UI systems as small as possible, that used a dialect that someone thought very, very hard of, so they could be used by a 10-year old, without consideration about completeness or flexibility.

That works well, if you just want to post screenshots of some UIs and impressive one-liners. It's crap, if you need to develop apps or use REBOL/Red apps. It absolutely kills the development pace, if you want to build and automatically test apps on a larger scale, because you spend 90% of the time debugging.

If you recall all the talks about ATTACH for R3 GUI and how to attach scrollers to other widgets via the dialect, it turns out, this is not useful at all in developing a UI. It's the wrong approach.

With VID, we've probably taken 20% advantage of what R2/View could do. RebGUI, probably 30-40%, as it severely lacks in testing/debugging friendliness and IMHO has an incorrect design foundation.

If you have stupid widgets that are crude and simple, it's because they haven't been developed well enough. It's not because of any fundamental limits at all. Even with R2/View as a baseline, we've never hit the limit for what we can do with UI widgets, except for having to work around some bugs.

Visual similarity to OS is less important, since everyone seem to be doing custom UIs and looks anyway nowadays.

dockimbel

[15:25](#msg58d2977358ad4eb0283f2a9f)@Oldes I tried to inject the github font-family, I can make it work by hacking the CSS from the browser in developer mode, but once uploaded on Gitbook, it does not change the font. I probably don't specify the right classes... Any help with that would be appreciated, \[CSS](http://sadness.dance/img/hell-is-sm.png) is not my cup of tea. ;-)

greggirwin

[15:25](#msg58d29776b809ca5f4a6f470a)@henrikmk, if you look at the underlying View Engine (https://doc.red-lang.org/en/view.html) and Draw dialect (https://doc.red-lang.org/en/draw.html), what features are needed for you to build what you want? Red's default VID will use OS widgets, but that doesn't mean you can't build a portable version as well.

dockimbel

[15:29](#msg58d298666d7eb18404f4eb8c)@henrikmk @greggirwin In fact, we need both. We started with the low hanging fruits first.

greggirwin

[15:29](#msg58d2986e2215a08f04b276e5)`load/trap`. Wow.

Oldes

[15:29](#msg58d298735917e26076c12b95)@dockimbel are you editing correct file? In the page is used this: https://doc.red-lang.org/gitbook/gitbook-plugin-fontsettings/website.css  
Where is still:

```
.book.font-family-1 {
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
}
```

greggirwin

[15:32](#msg58d29908fe6a638b1af14b89)@dockimbel, agreed. Do you think it should/will be built on `base` face being a generic OS window, or only the top level windows will be OS and everything else is managed regions in View?

[15:32](#msg58d2991d7b3f37e75423ec57)Need to revisit QNX Photon. It was interesting as I recall.

dockimbel

[15:38](#msg58d29a61fe6a638b1af15592)@greggirwin `base` is meant for that, if you want to get the most support from the OS, that is what we should start with, as such widget can be then used with native ones. Though, you can also write a full custom GUI system, just using Draw dialect. That is what Max did for Glass.

Oldes

[15:38](#msg58d29a6f2215a08f04b28151)@dockimbel it looks ok with:

```
.book.font-family-1 {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
}
```

Just there are wrong text sizes.. probably because of your changes before.

rcqls

[15:38](#msg58d29a878fa163395405c176)@dockimbel Changing style file does not seem to change the property `text-rendering` of `body`. Have you check with the inspector that unselecting this property solves the problem as it does on my `win7` virtual box ?

dockimbel

[15:39](#msg58d29aa0f7f7d48104441c25)@Oldes I only have access to one CSS file in my gitbook...Though, you're right that the `.book` class is part of another CSS file (not sure if it's loaded before/after the one I have).

[15:41](#msg58d29b19590d72c864f47e75)@rcqls I \[tried](https://github.com/red/docs/commit/b6ff67c8529cfbb10fb2f7099076c9b686d4a8b3) something you suggested.

rcqls

[15:44](#msg58d29bec6701410e586473bb)@dockimbel Yes,but it seems that changing the style file has no effect since I can see that `rendering-text` has the same value after the change you made on `red/docs`. So the first thing to do is to check that changing the value of this property has an effect within the inspector. If it works, we’ll have to fix the problem of the css file.

dockimbel

[15:46](#msg58d29c667b3f37e75423fe38)@henrikmk  
&gt; If you have stupid widgets that are crude and simple, it's because they haven't been developed well enough. It's not because of any fundamental limits at all. Even with R2/View as a baseline, we've never hit the limit for what we can do with UI widgets, except for having to work around some bugs.

Agreed. But we learned that the costs of having a better set of widgets is very high.

[15:47](#msg58d29c9d5917e26076c14546)@rcqls I made many successful changes in the inspector, every one failing once I pushed them online...

greggirwin

[15:47](#msg58d29ca4a84f611959d0e2da)@henrikmk, as you build it, keep in mind some of those handy R2 facets like `stretch/extend` and `edge`. I remember Chris R-G building a beautiful custom GUI with tiny PNGs that were basically just the edges he wanted, with a small center region that was the background. When extended in a button, etc., they looked great.

maximvl

[15:48](#msg58d29cbb2215a08f04b28d40)@dockimbel what is the inspector?

dockimbel

[15:48](#msg58d29cda5917e26076c146db)@maximvl CTRL-Shift-i in your browser's window.

rcqls

[15:49](#msg58d29cfea84f611959d0e464)@dockimbel So that’s a problem with css priority...

maximvl

[15:49](#msg58d29d05b809ca5f4a6f66f0)ah, I didn't follow the discussion, I thought about some kind of Red objects inspector :D

DideC

[15:49](#msg58d29d11a84f611959d0e497)@maximvl In your browser, it's one of the development tool.

henrikmk

[15:49](#msg58d29d14f7f7d48104442a70)@greggirwin, whatever DRAW system is available doesn't matter so much, but it looks to me that the Red/View engine tries to incorporate widget styles directly?

Talking about drop lists that spec is very dangerous, because of how complicated it can be to create this style correctly and you can end up with something that underperforms like VID.

I would separate all talk about face styles out, so the face tree handling doesn't get mixed up with style creation, because that's where all the self-imposed limitations occur, because we think we know what is needed to build a drop list widget. We really don't.

Face objects can of course be of different capabilities if the View engine demands it for performance, so it's fine, if some faces are not supporting text and others not graphics and whatever.

The rest looks OK.

dockimbel

[15:50](#msg58d29d30590d72c864f489da)@Oldes @rcqls It seems the change proposed by Oldes worked! So now we have Github-style Asciidoc text. Looks good to me (and the kerning issue is gone from here).

henrikmk

[15:51](#msg58d29d6ab809ca5f4a6f68ba)@dockimbel I agree, and I think also if you want it done, it has to be done by someone in the background so not to interfere with whatever is being done now.

dockimbel

[15:52](#msg58d29dba58ad4eb0283f4c0d)@henrikmk I'm not sure what you mean by VID underperforming? VID is just a front-end dialect that compiles to a tree of face objects. VID is not constraining anything, as you can always change the face tree how and when you want. You can even build additional dialects if required. What matters are the View engine capabilities, the upper layer(s) can be adjusted easily (it's all Red code).

greggirwin

[15:54](#msg58d29e335917e26076c14e76)`drop-list` is a great example of a tricky widget, because of the dropdown part extending past the original face region. In Windows, that part is actually a child of the desktop window IIRC.

rcqls

[15:55](#msg58d29e8a58ad4eb0283f513d)@dockimbel I confirm that’s it works with @Oldes fix.

greggirwin

[15:56](#msg58d29eb67b3f37e754240c4b)@henrikmk, this is much more your area than mine. If you have suggestions about what is needed at the lower levels to achieve what you want, please share them. I know you worked around a lot with `list-view` for R2, and it wasn't fun for you.

dockimbel

[15:56](#msg58d29ebf7b3f37e754240c5a)@rcqls Thanks. The "Note:" blocks are still using the old font (see in "2.16. Line-join" for example).

[15:58](#msg58d29f42a84f611959d0f1c8)@henrikmk You have a unique perspective on Rebol GUIs, having worked on complex widgets for R2 and on a full GUI system in R3. Your feedback is very interesting and would certainly be helpful to improve Red/GUI. So feel free, to share it here, whenever you want.

henrikmk

[15:59](#msg58d29f792215a08f04b29db9)Before I forget, event throttling should be possible and easy. This is key to having a responsive UI despite low frame rates. Gabriele built something which I used with his permission for VID Extension Kit and it works fantastic.

dockimbel

[16:00](#msg58d29f97b809ca5f4a6f748f)@henrikmk You mean `eat-events.r` script? I used it a couple of times, mostly for faster scrolling.

greggirwin

[16:01](#msg58d29fd26d7eb18404f516e7)I remember eat-events too.

dockimbel

[16:01](#msg58d29fd95917e26076c158b6)@greggirwin Indeed, drop-lists are very tricky to implement properly.

[16:02](#msg58d2a02a6701410e58648d31)@henrikmk  
&gt; \[...] where all the self-imposed limitations occur \[...]

Which limitations are you thinking about?

henrikmk

[16:04](#msg58d2a082fe6a638b1af17886)@dockimbel I used an eat.r script, but it's probably the same one.

dockimbel

[16:05](#msg58d2a0b28fa163395405e563)@henrikmk @rcqls Bullet points and tables are also using the old font... I think I should revert all my changes and just wait until someone more skilled than me makes a better CSS...

rcqls

[16:13](#msg58d2a2c3a84f611959d105da)@dockimbel There is no more problem with uggly space but only with old font. Right?

henrikmk

[16:17](#msg58d2a3805917e26076c1702e)@dockimbel Underperforming, by that I mean, in VID you have a drop list that you can click to open with the mouse, but is limited by window height. There's no keyboard operation possible. You can't use the scroll wheel and you can of course not use touch.

From the developer side, setting it and getting its current setting is laborious because you always use direct values rather than an a key/value block.

This adds code you need to write for localization and for mapping strings to values.

So by self-imposed I mean, it's a neat widget for what it is. What it is, is just not very much.

[16:19](#msg58d2a3fea84f611959d10c3e)and also Carl's incessant "act on mouse down" philosophy adds to its difficulty of use, because of course nobody ever clicks wrong, right? :-) we had many discussions on that, but he never relented.

greggirwin

[16:20](#msg58d2a453a84f611959d10d5b)@dockimbel, in the new `load/trap check`, you use `unless :all`. Are you using a get-word! as a convention if a refinement is a standard system word?

henrikmk

[16:25](#msg58d2a57e5917e26076c17ca7)@greggirwin thanks, I'll try my best

pekr

[16:31](#msg58d2a6d98fa16339540602d9)@henrikmk didn't R3 GUI engine adress most of that? I thought it did. And if it did eventually, the quality of widgets was not great either

henrikmk

[16:44](#msg58d2a9fb590d72c864f4ce1b)@pekr Yes, it did address some of these things and I do think it's easier to use and is also a good demonstration in that a functioning GUI is separate from it being pretty. :-) I really hate its layout system, though, but again, this is because the layout engine is theoretically sound and a well thought out design that is very well tested for accuracy. It just isn't designed to be used.

But an important thing that happened, when Saphirion started working on it, was that some widgets became developed extremely toward specific apps, and other widgets are hardly developed at all.

For example, the table widget has elaborate pivot and filtering features now, and while that may be a good feature to have, the approach taken was to implement that at the cost of the overall design of the table. So as far as I know, you can't do that offline so you can't programmatically set it up, or you can't hook it into an undo/redo system.

I think, this is because the requirement was set by a different person than the person who coded it and with a deadline on it, and neither of them have the big picture of the design of the widget, and you know how that goes.

rebolek

[16:50](#msg58d2ab4eb809ca5f4a6fb12f)&gt; you can't do that offline so you can't programmatically set it up, or you can't hook it into an undo/redo system

Actually, you can do it offline/programmatically. Undo/redo - I'm not sure, this was never tried.  
Regarding the layout system, I think that it needed another layer on top of it to make it easy for user to actually use it. It is very powerful but hard to use.

[16:53](#msg58d2ac145917e26076c19ff7)R3GUI has troubled history, it was based on Carl's original design that showed few widgets and looked great, but actually wasn't that great inside. Maybe rewriting everything from scratch instead of trying to add new features to that system would be better and probably faster also.

dockimbel

[16:54](#msg58d2ac2c7b3f37e754245ac4)@rcqls Right.

henrikmk

[17:02](#msg58d2ae136701410e5864d603)@rebolek apologies for getting it wrong, sorry.

rebolek

[17:17](#msg58d2b1acb809ca5f4a6fd3ee)@henrikmk No problem, it is easy to get it wrong because of lack of documentation and I must admit that it's my fault.

gltewalt

[19:17](#msg58d2cde25917e26076c25f3d)red --cli (windows console) wont allow changing to directories that have spaces in their names.

```
>> pwd
%/C/Users/Old%20Man/Desktop/
>> cd My Changes
*** Access Error: cannot open: %/C/Users/Old%20Man/Desktop/My/
*** Where: do
>> cd "My Changes"
*** Script Error: cd does not allow string! for its :dir argument
*** Where: cd
>>
```

greggirwin

[20:00](#msg58d2d7cb7b3f37e754253e93)`cd %"my changes"`

gltewalt

[20:09](#msg58d2d9f12215a08f04b3e1f5)doh... :worried:

[20:11](#msg58d2da5e6d7eb18404f65b39)It's irregular though? % isn't needed for one word directories `cd docs`

[20:11](#msg58d2da83a84f611959d22da4)When running inside command shell

rebolek

[20:15](#msg58d2db6ab809ca5f4a70bc75)yes, but that's just shortcut for making life bit easier

[20:18](#msg58d2dc005917e26076c2a7d0)changing directory is setting `system/options/path` to new value and it must be `file!`

[20:18](#msg58d2dc2d7b3f37e754255581)could `cd` support `string!` also, so `cd "My Changes"` would work? It probably can.

greggirwin

[20:26](#msg58d2dde2f7f7d4810445909d)Adding word support for `change-dir` was news to me. And since it's a `get-word!` arg for `cd` it could be confusing. Very subtle difference, if you're not paying close attention to which one you're using.

[20:27](#msg58d2de246d7eb18404f66e19)The rationale is surely that it makes `cd` more shell like.

[20:29](#msg58d2deb4f7f7d48104459452)My guy feeling is that it new users may like it at first, because it's familiar, but it will have negative value long term.

rebolek

[20:30](#msg58d2deca5917e26076c2b553)Which make sense, `cd` is for shell-like use, while `change-dir` gives you more power.

gltewalt

[23:12](#msg58d304e66d7eb18404f727f3)

```
>> "^"
*** Syntax Error: invalid value at {"^^"}
*** Where: do
```

greggirwin

[23:38](#msg58d30afa6d7eb18404f740bb)`^` is the escape character.

```
>> "^""
== {"}
```

## Thursday 23th March, 2017

gltewalt

[00:42](#msg58d319d8a84f611959d34c9d)If you type {^} it waits for more input. If you type "^" it doesn't.

dockimbel

[00:54](#msg58d31cdd590d72c864f70550)@rebolek Yes, it should be possible to accept strings.

[00:57](#msg58d31d9758ad4eb02841bf0f)@gltewalt `{` opens a string which can span over multiple lines, it will trigger the multi-line mode in the console until it finds a proper closing `}`. In your example case, as `}` is escaped, it does not count.

gltewalt

[01:04](#msg58d31f046d7eb18404f78fb5)Should escape character trigger multi-line mode?

dockimbel

[02:36](#msg58d3349b6701410e58672745)@gltewalt Nope, multi-line mode is only triggered by unclosed `[`, `(` or `{` characters.

[05:27](#msg58d35ca55917e26076c49c62)@greggirwin  
&gt; @dockimbel, in the new `load/trap check`, you use `unless :all`. Are you using a get-word! as a convention if a refinement is a standard system word?

I used it as an escape mechanism to pass compilation and avoid `all` being recognized as a native. Though, I think nowadays that the compiler should be able to process it properly as a simple word. But it might be good to keep it anyway, as a visual clue for readers that we are not using the `all` native. I am not sure if we need to make it a strict convention, as `next` which is also a refinement in that function, reads fine (at least to me) as a word inside the `case` body. So, it depends on the context, if it can be ambiguous, using the get-word form should be considered a good practice.

[05:37](#msg58d35f32a84f611959d4274a)I reverted all the changes made yesterday on the fonts for red/docs. I'll wait until someone sends a PR to improve the CSS.

[06:06](#msg58d365d458ad4eb02842a491)@pekr For the fields beeping issue, I let @qtxie handle it (there is a SO \[solution](http://stackoverflow.com/questions/3588526/how-to-turn-off-beeping-when-pressing-enter-on-a-single-line-edit-control-under) for that).

[09:37](#msg58d397756701410e586888ea)@btiffin Could you please publish your fixes for `load-any`?

ghost~5680c5f416b6c7089cc058a5

[13:27](#msg58d3cd467b3f37e754292ede)@dockimbel @qtxie Does `read` remove `%0A` from `url!` when `read url` is done?  
Because I had assumed that after the fix to https://github.com/red/red/issues/2491, I would be able to use `^/` instead of `%0A` from \[here]( https://github.com/nc-x/SampleTelegramBotInRed/blob/master/TelegramBot.red#L75) and everywhere else as all this text gets appended and hence converted to a `url!` which is then `read`.  
But that does not work.  
`probe`ing the value just before `read` is used gives the correct url though.

[14:37](#msg58d3dd97590d72c864f9ec7b)&gt; I would be able to use `^/` instead of `%0A` from here

\[This is the link](https://github.com/nc-x/SampleTelegramBotInRed/blob/58ad81f2ecdb6d196982f70536931a279fa89627/TelegramBot.red#L85)

dockimbel

[15:16](#msg58d3e6ea7b3f37e75429b99c)@qtxie ^--- Please have a look at this one.

9214

[16:03](#msg58d3f1b6b809ca5f4a7551ff)should we create new showcase with \[this](http://ncase.me/loopy/), a la explorable explanations?

dockimbel

[16:23](#msg58d3f6928fa16339540bdafe)@9214 I played with it today, it's a nice work, though I don't have time to work on porting that to Red.

greggirwin

[21:31](#msg58d43ebd58ad4eb02846b4bd)@dockimbel, in `load-any` you have `'pos` as the target for `load/next`, but it's never used. It looks like, with `/trap` that the `position` arg for `/next` gets set to `[[values] position error]`, which is the same as the result of `load`. Is that by design?

gltewalt

[22:20](#msg58d44a388fa16339540d830a)"Many have said that one of the biggest problems with lisp is the proliferation of non-standard and incompatible mascots"

## Friday 24th March, 2017

greggirwin

[00:21](#msg58d46696caf143ab66555256)\[!\[to-the-power-R.png](https://files.gitter.im/red/red/Dbcw/thumb/to-the-power-R.png)](https://files.gitter.im/red/red/Dbcw/to-the-power-R.png)

[00:21](#msg58d466a75917e26076c94ee6)To the power of Rebol?

qtxie

[01:46](#msg58d47a606d7eb18404fd6fad)@nc-x No. The `url` won't be changed by `read`.

```
>> url: https://gitter.im/red/red%0A
== https://gitter.im/red/red%0A
>> read url
== {<!DOCTYPE html>^/<html lang="en">^/  <head>^/    <title>Gitter – Not Found</title>^/    <meta cha
>> url
== https://gitter.im/red/red%0A
```

ghost~5680c5f416b6c7089cc058a5

[03:01](#msg58d48c036d7eb18404fda539)@qtxie Then why is it not working for me? :scratches-head:

[03:03](#msg58d48c6a8fa16339540e6d6c)If the url contains "%0A" in sendMessage msg parameter, then telegram shows a newline in the message but no newline is present in message when I use "^/"

[03:03](#msg58d48c8f58ad4eb02847d11a)I will pm you a smaller test case later today.

[03:05](#msg58d48cfa6701410e586cefee)Or you can use https://github.com/nc-x/SampleTelegramBotInRed/blob/master/TelegramBot.red for checking this - "%0A" gives newline in message , "^/" doesn't

[03:05](#msg58d48d03a84f611959d9770c)Or maybe i did something wrong.

KDr2

[08:22](#msg58d4d7492f1f48666ea3a225)Do we hava a x64 version compiler now?

Oldes

[10:07](#msg58d4efee590d72c864fe7bb5)I started rewrite of the current `help` function... I have a question, do we really need to see all the `unset!` values when displaying content of an object? Like when you type:

```
? system/words
```

dockimbel

[10:14](#msg58d4f1878fa16339540fe662)@KDr2 No, it is not a task currently worked on. On which platform do you need it? Do you need it for a particular reason?

[10:16](#msg58d4f20da84f611959daec71)@Oldes Good, the current `help` code needs some dusting off. `help` should not filter any content out, it should give you the content as it is. Knowing which word as a value and which not in the global context is a valuable information.

Oldes

[10:18](#msg58d4f25ef7f7d481044e53af)I consider seeing the unset values quite disturbing, especially for newbies, but as you wish... I already have `dump-obj`... it would not be difficult to add there a refinement to filter out the `unset` values... just don't know, how such a switch would be used with help.

dockimbel

[10:20](#msg58d4f300a84f611959daf06c)@Oldes Ability to see it filtered and unfiltered would be nice. Not sure which one should be the default when using `? system/words`.

[10:21](#msg58d4f323caf143ab6657500a)FYI, I'm writing the release article for 0.6.2 (quite long, as it's an heavy one). We still have tests to run to be sure there is no regression before the release, if no new fixes are needed, the release should come out quickly.

Oldes

[10:22](#msg58d4f372a84f611959daf1f7)My opinion is, that majority users don't want to see the unset values... I can imagine that hard core users may need this info to understand internals.

[10:25](#msg58d4f40ea84f611959daf475)also... I added sort into object word list, I guess that the hard core user would like to see the last added value at the end like it was before, right?

dockimbel

[10:26](#msg58d4f4466d7eb18404ff2698)@Oldes I can foresee questions about newcomers trying to understand binding and failing to find where a global word is defined. ;-) Also, I'm not sure sorting is a good thing, the object words needs to appear in the same order as in the object, otherwise, the difference would be confusing. I can remember one of my worst programming issue was caused by the CUPS (Unix printing system) documentation listing all the C structures with the member names sorted... As we will have `struct!` type in the close future, I don't think that having `help` sort the fields for objects and not sorting them for structs be a good thing.

pekr

[10:28](#msg58d4f4e758ad4eb028495653)oldes - could we have a search for partial words without actually put them in quotes? Just like with R2? Got burned by that several times. I really want just to type: `help to-` and get all conversion functions ...

Oldes

[10:32](#msg58d4f5ca19cdf803632b8721)@dockimbel alright @pekr probably not a problem, but are you aware, that you are creating words using this method?

pekr

[10:41](#msg58d4f7eacbc40f02638bdf61)Well, noticed that few days ago. Simple evaluated word is stored as a word in system/words as an unset value, right? Was that the same with R2, and did R2 filtered out unset values for help?

Oldes

[10:42](#msg58d4f82126c446b31c052e86)Rebol also does not filter unset values

pekr

[10:50](#msg58d4f9e62f7d097c10680ea8)So writing help to- in R2 also adds to- as a word?

dockimbel

[10:52](#msg58d4fa67b2eadab36538b7c1)Yes:

```
>> help to-
Found these words:
...
>> back tail first system/words
== [to-]
```

Oldes

[10:54](#msg58d4fb01155e992759b34fa0)@dockimbel could you please change the Red prompt to `R>`, so indentation would be same and we can see if the code was in Rebol or Red?

dockimbel

[11:02](#msg58d4fce3d660bdf528c5e013)I don't think that is necessary, as Rebol2 and Rebol3 are sharing the same prompt, and it has not been a problem when posting console sessions on AltMe or elsewhere.

Oldes

[11:05](#msg58d4fd84155e992759b35c1b)Red is still not that much compatible. But ok.. it's just me who was fooled twice this today.

[11:06](#msg58d4fdd2cbc40f02638bfe99)@dockimbel is it possible to get width of the console in chars?

dockimbel

[11:10](#msg58d4fe9826c446b31c054c5a)@Oldes `system/console/limit` We should probably rename it to `width`.

ghost~5680c5f416b6c7089cc058a5

[11:19](#msg58d500dc2f7d097c10682eb6)The telegram bot code is idiomatic now IMO, so i posted a tweet https://twitter.com/uninitialized\_/status/845232971267301376

[11:21](#msg58d50144b2eadab36538d6ac)Will write a blog post tomorrow maybe regarding how easy it is to write telegram bots in red.

dockimbel

[11:32](#msg58d503c226c446b31c0563db)@nc-x `if text <> ""`=&gt; `unless empty? text` or `if not empty? text`. Same for `update-id <> ""`.

[11:39](#msg58d505655231ebb865af9670)@nc-x Also I would suggest replacing the `case` with the verbose conditions with something simpler and more efficient, like:

```
get-botname
at-bot: rejoin ["@" botname] 

forever [
...
 
    parse text [
        "/start" opt at-bot (
            ...
        )
        | "/hi" opt at-bot (
            ...
        )
        | "/links" at-bot (
            ...
        )
    ]
```

ghost~5680c5f416b6c7089cc058a5

[12:14](#msg58d50da1b2eadab365390e38)done @dockimbel . Thank You

Oldes

[15:00](#msg58d5347d5231ebb865b08cae)@dockimbel the `system/console/limit` does not provide correct values in the CLI console.

dockimbel

[15:30](#msg58d53b9ab2eadab3653a191b)@Oldes It's only for the GUI console. The default value is not updated for the CLI console (you can ask @qtxie about that).

maximvl

[15:46](#msg58d53f4519cdf803632cee53)@nc-x very nice, can't wait for the blog post!

[15:47](#msg58d53f85d660bdf528c7230b)it's funny how Red repos consist of Readme, License and a signle Red file :D

9214

[15:51](#msg58d5407a19cdf803632cf664)readme and license can be specified in Red header, I think ;)

greggirwin

[16:04](#msg58d54399cbc40f02638d6543)- Please don't sort words when dumping objects.  
\- `/all` to see all values? Unset values won't be normal in most user code.  
\- Nice @nc-x  
\- Now that we can change Red's console color, I don't get confused with Rebol. I think I had the same issue specifically when working on `help` long ago. :^)  
\- Make sure we don't confuse /width in chars vs /width in pixels.

9214

[16:07](#msg58d5445bf91f99f40e6ce8a9)&gt; readme and license can be specified in Red header, I think ;)

or in a preface (text before the header)

greggirwin

[16:11](#msg58d5453b19cdf803632d0f1e)Creating words from partials isn't a big deal in a standalone console, but it could be in an IDE setting, where `help` is used by an intellisense system of some kind. Could `help` run in its own context to prevent global pollution?

dander

[16:14](#msg58d545dd1382fc2b592abc4c)I didn't realize until now that `help` would summarize the contents of an object!. One other thing that I think would be useful for newcomers would be to have some guidance on syntax for various types... though I don't know if `help` is the right place for that

[16:16](#msg58d54645cbc40f02638d7253)but some way of doing `map!` and having an example of the map construction syntax

9214

[16:16](#msg58d5466319cdf803632d14d6)`make`?

dander

[16:18](#msg58d546b95231ebb865b0ebe5)I'm mostly just thinking the lexical rules

[16:19](#msg58d5471e19cdf803632d17ec)like for string! a person needs to know it can be wrapped in `""` or `{}` that the escape character is `^` and so forth. That really starts to border on documentation though, so it's hard to say how much of it should be right in the console

9214

[16:20](#msg58d547422f7d097c1069a1b2)I.e. specify constructors and selectors available for every datatype?

[16:21](#msg58d5478ad660bdf528c74db9)e.g. string is constructed with `""` and `{}`, or `make string!`, and since string is a `series!`, all series selectors can be applied to it to get charaters/substrings/etc

dander

[16:22](#msg58d547cd1382fc2b592ac5ee)yeah, something like that. Enough to get started experimenting without having to fire up a web browser necessarily

9214

[16:22](#msg58d547de5231ebb865b0f1f3)In that case `help` should extract documentation from... hm

[16:23](#msg58d54809155e992759b4c80e)docstrings should be embedded inside every build-in datatype (and for user-defined datatypes, in the future)

[16:25](#msg58d5486b19cdf803632d1ebf)and we should get datatype hierarchy tree to get the whole picture (I think @greggirwin posted it some time ago)

dander

[16:27](#msg58d548fc5231ebb865b0f6ed)Yes, I remember that tree was really nice to see. I don't have enough knowledge to know whether it is a good idea or not. I mean people are going to have a web browser open anyway, but it's nice not needing to context switch

9214

[16:28](#msg58d549351382fc2b592acc84)I'm all for no-web and offline self-contained experience

[16:29](#msg58d54982d660bdf528c757c7):point\_up: \[22 февраля 2017 г., 05:04](https://gitter.im/red/red?at=58acd5731465c46a5697ad5e)

greggirwin

[16:30](#msg58d549a81382fc2b592acfa1)It's a tradeoff. Adding more docs adds more size. Eventually we can build in more navigation and such, but we won't have linking as we do with real docs. R3 added `docs` which took you to a browser page. Still a context switch, but you need this most when you're new to Red, and much less over time.

9214

[16:31](#msg58d549eed660bdf528c75b48)@greggirwin could it be modular?

greggirwin

[16:33](#msg58d54a50155e992759b4d2ac)If it's an external module or tool, it can be anything. R2 had some really nice little support tools along these lines. My \*-lab tools go in that direction as well.

9214

[16:33](#msg58d54a7019cdf803632d289e)yeah, I see

greggirwin

[16:34](#msg58d54a885231ebb865b0fe05)If we want it built in, all the data has to be there all the time, until we have a fixed repo to load it from. That will be easy, once we have data repos. That's the idea behind Redbol and the X-net.

tanstaaf1

[16:40](#msg58d54bfe685a04fd0e9e62cf)@greggirwin Personally I am hoping for a help system which is separate but local (or at least capable of being local). I think of this as a "bolt on" system - which means it can also be abandoned if not needed; like training wheels can come with a bicycle but be abandoned. This would also allow different levels of "help" (training wheels) which I think would be especially fitting and needed with Red (deep lake and all that). I think the biggest problem Red is going to face in general acceptance is restricting its visible complexity for people who are just trying to safely get rolling around the block.

dander

[16:43](#msg58d54ca7b2eadab3653a6ec2)regarding the `unset!` values, how often to people encounter those in normal code? If it's adding lots of noise all the time, it makes sense to hide them. But if not, I would definitely prefer more (unnecessary) detail over being confused by something being hidden. Still, this is coming from a pretty naive perspective. I wish I had the opportunity to use Red for my "real work" so I could more seriously learn it

greggirwin

[16:44](#msg58d54cdccbc40f02638d9529)`Unset` is rare in normal code. `None` is the common case.

pekr

[16:45](#msg58d54d20b2eadab3653a7181)well, anything you mention in your console session and is evaluated, get's in the word list ...

rebolek

[16:49](#msg58d54e2f155e992759b4e674):point\_up: \[24. březen 2017 17:30](https://gitter.im/red/red?at=58d549a81382fc2b592acfa1) we can have docs in (gui) console (probably in normal console also, with some limitations). See `helpr`.

dander

[16:56](#msg58d54fd5b2eadab3653a7f82)so `unset!` values show up all over the place in `system/words`, but that seems like a special case. My guess is that if someone is doing `help system/words`, they are trying to learn more about system internals. That may be a stretch, but if it is the case, I think hiding the `unset!` words would hamper understanding. I don't always look at all the refinements, or understand what they are for. Actually it took me a while to get how refinements work, since they are sort of a unique language feature

gltewalt

[16:59](#msg58d550652f7d097c1069cd6e)@dockimbel @Oldes  
unfiltered should be the default for system/words, in my opinion

9214

[17:00](#msg58d55091155e992759b4f311)Can't get why we need filtering for objects at all :confused:

[17:01](#msg58d550dcb2eadab3653a84ba)`unset`s make perfect sense to me, though I'm not sure that I can claim myself a total newbie

[17:09](#msg58d552d55231ebb865b12c8d)And it's kinda tricky to build a user-defined object with `unset` values

```
>> obj: make object! [a: 1 b: 2 unset 'a unset 'b]
== make object! [
    a: unset
    b: unset
]
```

without filtering:

```
>> ? obj
`obj` is an object! of value:
     a                unset!    unset 
     b                unset!    unset
```

with filtering (?):

```
>> ? obj
`obj` is an object! of value
```

in this case `help` message is misleading, to say at least

gltewalt

[17:10](#msg58d552f0155e992759b501d1)Elaborate help could be stored in red files, couldn't it?  
temp-file: load %string-help.red

greggirwin

[17:11](#msg58d553241382fc2b592b00ae)@gltewalt, of course.

[17:11](#msg58d5535119cdf803632d58e2)That's what Rebol did, and generated the web pages from that, along with being able to use it in desktop apps.

9214

[17:15](#msg58d5544426c446b31c070050)now that's interesting

```
>> /333
== /333
>> back back tail body-of system/words
== [333: unset]
```

gltewalt

[17:16](#msg58d5547ef91f99f40e6d3c18)Easier to fix help message than to wade through a big wall of junk objects

greggirwin

[17:17](#msg58d554b6d660bdf528c790d8)@9214, when you entered `/333` in the console it was added to `system/words`, but not set to a value.

9214

[17:19](#msg58d55506f91f99f40e6d3e10)@greggirwin yes, I'm already seasoned in that stuff, but I thought it should be `/333: unset` ?

[17:19](#msg58d5551e19cdf803632d64a4)or it doesn't work with `refinement!`s?

greggirwin

[17:19](#msg58d5551f1382fc2b592b0a8c)Ah, I see what you mean.

9214

[17:19](#msg58d5553d685a04fd0e9e93d8)because for me it seems that `integer!` `333` is unsetted

[17:20](#msg58d5555d26c446b31c0706e2)and for now I don't think that it's possible to use integers as words

greggirwin

[17:21](#msg58d5558126c446b31c0707e1)Red must normalize refinements to words in contexts.

dockimbel

[17:21](#msg58d555adb2eadab3653aa05c)We might be able to avoid populating the global context in the case of refinements, as they can only be bound to function contexts.

9214

[17:22](#msg58d555c2cbc40f02638dc1b4)@greggirwin or this will happen?

```
>> obj: make object! [/refinement: 1]
*** Syntax Error: missing #"]" at ": 1]"
*** Where: do
```

greggirwin

[17:22](#msg58d555eecbc40f02638dc2fe)Right, there is no such thing as a `set-refinement!`.

9214

[17:23](#msg58d55604f91f99f40e6d4389)and no such thing as a `lit-integer!` ;)

[17:23](#msg58d5560bd660bdf528c796f7)`'333`

[17:23](#msg58d55622d660bdf528c7979b)or, even better, `set-integer!`

dockimbel

[17:24](#msg58d556691382fc2b592b0f5f)@9214 That would make a fun language to work with: `1: 0`. ;-)

greggirwin

[17:25](#msg58d5568eb2eadab3653aa597)@dockimbel, should typesets support reflection?

dockimbel

[17:26](#msg58d556bdb2eadab3653aa6a8)What kind of reflection would that be? A typeset is just a list of datatypes that is trivial to inspect:

```
>> scalar!
== make typeset! [char! integer! float! pair! percent! tuple! time!]
>> find scalar! integer!
== true
```

greggirwin

[17:28](#msg58d55724d660bdf528c79b8f)The types in the typeset. Per the chat above about help. We can work around it, just thinking about reflective tools.

[17:29](#msg58d55768155e992759b51b54)Right now we would do `third load mold`, which is no big deal.

dockimbel

[17:30](#msg58d557a619cdf803632d7218)`all [find scalar! integer! integer!]` should suffice? I'm not sure what is the real need.

greggirwin

[17:31](#msg58d557f4f91f99f40e6d4b30)I'll show you shortly.

gltewalt

[17:48](#msg58d55bec685a04fd0e9eb506)words-of a typeset would be the types that it encompassed , right?

greggirwin

[18:00](#msg58d55ec8f91f99f40e6d6fe5)@dockimbel https://gist.github.com/greggirwin/1495513366febe9bf8019bcb514f19c9

gltewalt

[18:02](#msg58d55f4a5231ebb865b16d83)You could just have everything support reflection

greggirwin

[18:03](#msg58d55f6cf91f99f40e6d72a3)@gltewalt, yeah, or we write a nice `types-of` func that could operate...just typesets for now. If we expand it, we have to define a lot more details.

[18:04](#msg58d55fbd5231ebb865b16efb)Having everything support reflection sounds nice, but what would an `integer!` reflect? `Value-of`?

gltewalt

[18:04](#msg58d55fc72f7d097c106a19f0)If reflection was in one place instead of depending on the object or type. Why is it separated right now?

greggirwin

[18:05](#msg58d55ff71382fc2b592b4294)How does being in one place solve the problem? That place then has to know the details of every type, breaking modularity, yes?

gltewalt

[18:06](#msg58d5601c5231ebb865b17063)Help already has to keep track, or know, about every type. No?

greggirwin

[18:07](#msg58d5607b1382fc2b592b44f6)No. It only need to know about types it introspects.

gltewalt

[18:08](#msg58d560a02f7d097c106a1e6d)Are types objects?

rebolek

[18:09](#msg58d560d4cbc40f02638dfb9b)No, blocks.

[18:09](#msg58d560eccbc40f02638dfbf3)Sorry, typesets are blocks, types are `datatype!`

gltewalt

[18:10](#msg58d5610fd660bdf528c7d13e)If every context is a big object, it feels like words-of should be supported everywhere possible. But I've still a lot to learn, so I will defer to you guys.

greggirwin

[18:10](#msg58d56132f91f99f40e6d79ec)Typesets aren't really blocks though.

```
>> any-block? any-block!
== false
```

9214

[18:11](#msg58d56167fb69977d10eb7d21)typeset is `typeset!`?

greggirwin

[18:12](#msg58d56195155e992759b54b74)Yes. They're special, kind of like a bitset of types internally, at a glance.

9214

[18:14](#msg58d561e8cbc40f02638e0116)

```
>> x: make typeset! [integer! string!]
== make typeset! [string! integer!]
>> typeset? x
== true
```

greggirwin

[18:14](#msg58d561f6d660bdf528c7d5a8)@gltewalt , every type is not a context. i.e. everything doesn't inherit from a base object as in Ruby or other langs.

[18:14](#msg58d56215b2eadab3653ae015)@9214, yes, you can make your own typesets, and use them in function interfaces and such. They are first class values.

9214

[18:15](#msg58d5624126c446b31c0747ad)can anyone point me to articles and posts about datatypes and type system in Rebol/Red by the way?

[18:15](#msg58d56257cbc40f02638e031d)cuz I'm not sure that I get it all

greggirwin

[18:16](#msg58d56297cbc40f02638e04f3)@gltewalt, that said, all datatypes share a common structure and that contains a slot for a `reflect` function. So you can, if you want, implement it for any type.

[18:17](#msg58d562cd155e992759b551d1)But that doesn't mean that all types will support a given reflection.

gltewalt

[18:24](#msg58d564512f7d097c106a2fb7)looks like `datatype!` is the root, of sorts. Should I quit thinking in that way?

rebolek

[18:25](#msg58d5649c5231ebb865b1875d)@greggirwin :point\_up: \[24. březen 2017 19:10](https://gitter.im/red/red?at=58d56132f91f99f40e6d79ec) I actually never tested it , thanks for correcting me.

gltewalt

[18:25](#msg58d564b626c446b31c0752d4)This is probably the wrong room for it.

```
>> help datatype!
     action!
     binary!
     bitset!
     block!
     char!
     datatype!
     email!
     error!
     event!
     file!
     float!
     function!
     get-path!
     get-word!
     handle!
     hash!
     image!
     integer!
     issue!
     lit-path!
     lit-word!
     logic!
     map!
     native!
     none!
     object!
     op!
     pair!
     paren!
     path!
     percent!
     point!
     refinement!
     routine!
     set-path!
     set-word!
     string!
     tag!
     time!
     tuple!
     typeset!
     unset!
     url!
     vector!
     word!
datatype! is a datatype! of value: datatype!
```

greggirwin

[18:43](#msg58d568d619cdf803632dc44a)@9214, I don't know of any articles that talk about the internals.

9214

[18:54](#msg58d56b7019cdf803632dd1b7)I suppose it's time for me to become a Hector, the ~~booty~~ datatype inspector :shipit:

greggirwin

[18:59](#msg58d56c9ed660bdf528c80a9e)\*(gurus please correct anything I get wrong here)*  
\- Everything is a value.  
\- Hence, datatypes are values.  
\- Values go in value slots. Currently 128 bits, each has a cell header (32 bits), but each datatype can use the remaining 96 bits however it wants.  
\- A datatype definition is not the same as a datatype value in a value slot. The datatype definition uses the data in the value slot in its work on a type. i.e. a datatype def needs to know about the value slot structure for that type.  
\- Datatypes get registered with the system, so it knows their type, name, and (importantly) the block of function pointers to dispatch actions on for that type. Function pointers may be null if not needed.  
\- When you define a datatype, you can specify a base type it inherits from. Function pointers may be INHERIT\_ACTION in this case, which does just what it says.

Enough for a start?

9214

[19:00](#msg58d56ceb5231ebb865b1abf1)&gt; everything \*\*is\** a value.

\*\*is\*\*, not \*\*has\*\*?

greggirwin

[19:01](#msg58d56d00cbc40f02638e357c)Correct.

9214

[19:03](#msg58d56d8acbc40f02638e37ea)\*(I'm not sure that newbie apprenticeship is appropriate for `/red` channel)*

rebolek

[19:06](#msg58d56e232f7d097c106a5d51)@9214 yes, \*\*is\*\*.

gltewalt

[19:06](#msg58d56e32685a04fd0e9f0ddc)Sounds like a system object, or system struct

9214

[19:08](#msg58d56ea65231ebb865b1b4f3)so `cell header` specifies type (or it can be called "datatype" ?) of value slot?

greggirwin

[19:09](#msg58d56ee5155e992759b58c10)Correct.

rebolek

[19:10](#msg58d56f1826c446b31c0783f7)@9214 `42` is a value, `info@red-lang.org` is a value, ... Words are values and they can have values. (let's expect that we are in vanilla console) `print` has a value - `function!`, `red` has a value - `tuple!`, `bfmlpsvz` hasn't a value (but is a value in itself).

9214

[19:10](#msg58d56f1d19cdf803632de359)and fuction pointers reside in those 96 bits of value slot?

[19:12](#msg58d56fb019cdf803632de659)@rebolek so, `integer!` is a value, but its datatype is `datatype!`?

[19:13](#msg58d56ff12f7d097c106a6656)and `datatype!` itself is a value with datatype `datatype!` :frowning:

greggirwin

[19:14](#msg58d56ff9685a04fd0e9f15f0)&gt; and fuction pointers reside in those 96 bits of value slot?

No. Datatypes get registered with the system, so all it needs is the type ID. From there the system catalog finds the block of function pointers.

rebolek

[19:15](#msg58d5703d26c446b31c0789f1)@9214 `42` is a value and its datatype is `integer!`. Datatype of `integer!` is `datatype!`, yes.

greggirwin

[19:15](#msg58d57052f91f99f40e6dc08b)`datatype!` is a value of type `datatype!`, correct.

9214

[19:15](#msg58d5706a685a04fd0e9f1769)@greggirwin oh, it's similar to contexts by the way

[19:16](#msg58d570892f7d097c106a688f)except that one can't redefine function pointers at run-time

greggirwin

[19:17](#msg58d570d0cbc40f02638e4ab5)Red/System doesn't have contexts, so it's a combination of `struct!` and `block!`.

9214

[19:19](#msg58d5712526c446b31c078ee0)@greggirwin can I think of that as of datagram, but without networks? :grinning:

greggirwin

[19:20](#msg58d57170d660bdf528c8218a)Best just to look at the source code until the light bulb goes on. ;^)

9214

[19:21](#msg58d5719d26c446b31c0790f4)for every value `32` bits specify unique cell header (aka ID), and in `96` bits reside all necessary data about that value?

greggirwin

[19:22](#msg58d571ddcbc40f02638e502e)https://github.com/red/red/blob/master/runtime/datatypes/structures.reds

[19:23](#msg58d5723a685a04fd0e9f1de1)They have very nicely documented things in comments there.

9214

[19:24](#msg58d5727e5231ebb865b1c7f5)uh-oh, am I right that for any datatype it will be `header: value:`?

[19:25](#msg58d572961382fc2b592b967c)say, for `integer!` its' `header: value:`

rebolek

[19:28](#msg58d57354f91f99f40e6dcc8e)basically yes

9214

[19:31](#msg58d573fb26c446b31c079953)

```
red-word!: alias struct! [
	header 	[integer!]								;-- cell header
	ctx		[node!]									;-- context reference
	symbol	[integer!]								;-- index in symbol table
	index	[integer!]								;-- index in context
]
```

\*Tuvan throat singing is heard from my turned off speakers*

[19:31](#msg58d5741a1382fc2b592ba077)I'm not saying that I see the matrix code

[19:31](#msg58d5741df91f99f40e6dcfb3)but it's all green

[19:36](#msg58d5752bfb69977d10ebd8d2)ok, thanks guys, I appreciate your help, that's enough for today :^) I'll try to tackle with this on my own on weekends

gltewalt

[20:07](#msg58d57c69155e992759b5c99f)@dockimbel There is something weird with the formatting of datatype.reds on github. Not enough horizontal space to read some comments in full

greggirwin

[20:08](#msg58d57cbafb69977d10ebfade)Scroll right at the bottom of the code area?

[20:12](#msg58d57dcad660bdf528c86047)Github always seems to use a tab width of 8.

gltewalt

[20:47](#msg58d585facbc40f02638ead57)Yeah, but is there any way to automagically handle that? If I'm reading a comment near the top of the page, it's a pain to have to scroll all the way to the bottom of the frame

[20:53](#msg58d587495231ebb865b22ac4)`system/console/run` or `system/console/launch` doesn't seem to evaluate.  
(Playing and poking at things, I noticed the following)

```
C:\Users\Old Man>red --cli
--== Red 0.6.1 ==--
Type HELP for starting information.

>> system/console/run
--== Red 0.6.1 ==--
Type HELP for starting information.

>> help
--== Red 0.6.1 ==--
Type HELP for starting information.

>> "test"
--== Red 0.6.1 ==--
Type HELP for starting information.

>>
```

Oldes

[21:15](#msg58d58c6d155e992759b615a8)Is there something what should be modified?

```
>> ? datatype!
datatype! is a datatype.
Found these related words:
    action!            datatype!   Datatype native function (standard polymorphic)
    binary!            datatype!   String series of bytes
    bitset!            datatype!   Set of bit flags
    block!             datatype!   Series of values
    char!              datatype!   8bit and 16bit character
    datatype!          datatype!   Type of datatype
    email!             datatype!   Email address
    error!             datatype!   Errors and throws
    file!              datatype!   File name or path
    float!             datatype!   64bit floating point number (IEEE standard)
    function!          datatype!   Interpreted function (user-defined or mezzanine)
    get-path!          datatype!   The value of a path
    get-word!          datatype!   The value of a word (variable)
    handle!            datatype!   Arbitrary internal object or value
    hash!              datatype!
    image!             datatype!   RGB image with alpha channel
    integer!           datatype!   64 bit integer
    issue!             datatype!   Identifying marker word
    lit-path!          datatype!   Literal path value
    lit-word!          datatype!   Literal word value
    logic!             datatype!   Boolean true or false
    map!               datatype!   Name-value pairs (hash associative)
    native!            datatype!   Direct CPU evaluated function
    none!              datatype!   No value represented
    object!            datatype!   Context of names with values
    op!                datatype!   Infix operator (special evaluation exception)
    pair!              datatype!   Two dimensional point or size
    paren!             datatype!   Automatically evaluating block
    path!              datatype!   Refinements to functions, objects, files
    percent!           datatype!   Special form of decimals (used mainly for layout)
    point!             datatype!
    refinement!        datatype!   Variation of meaning or location
    routine!           datatype!
    set-path!          datatype!   Definition of a path's value
    set-word!          datatype!   Definition of a word's value
    string!            datatype!   String series of characters
    tag!               datatype!   Markup string (HTML or XML)
    time!              datatype!   Time of day or duration
    tuple!             datatype!   Sequence of small integers (colors, versions, IP)
    typeset!           datatype!   Set of datatypes
    unset!             datatype!   No value returned or set
    url!               datatype!   Uniform resource locator or identifier
    vector!            datatype!   High performance arrays (single datatype)
    word!              datatype!   Word (symbol or variable)
```

gltewalt

[21:15](#msg58d58c83685a04fd0e9f9045)Feeding it a single quote produces an error and then it works again:

[21:16](#msg58d58c97fb69977d10ec3c1b)

```
C:\Users\Old Man>red --cli
--== Red 0.6.1 ==--
Type HELP for starting information.

>> system/console/run
--== Red 0.6.1 ==--
Type HELP for starting information.

>> '
*** Syntax Error: invalid value at "'"
*** Where: do
>> help
Use HELP or ? to see built-in info:

    help insert
    ? insert

To see all words of a specific datatype:

    ? native!
    ? function!
    ? datatype!

Other useful functions:

    ?? - display a variable and its value
    probe - print a value (molded)
    source func - show source code of func
    what - show a list of known functions
    about - display version number and build date
    q or quit - leave the Red console

>> 2 + 2
== 4
```

[21:17](#msg58d58ce35231ebb865b24448)@Oldes This makes sense to me? `datatype! is a datatype! of value: datatype!`

[21:24](#msg58d58e9f5231ebb865b24d74)The way help currently explains the value

Oldes

[21:25](#msg58d58eb5cbc40f02638ecfe8)I'm making a new help.

[21:25](#msg58d58edbf91f99f40e6e44c6)btw.. single quote is not valid syntax... it is used for `lit-word!` like `'something`

[21:26](#msg58d58f12f91f99f40e6e457e)

```
>> a: 1 reduce ['a a]
== [a 1]
```

gltewalt

[21:26](#msg58d58f20cbc40f02638ed103)You asked about any modifications. I would use the current way that is describes just before "Found these related words:"

Oldes

[21:27](#msg58d58f5f2f7d097c106aee51)I don't understand.. so you don't want the textual description what each datatype is used for?

[21:29](#msg58d58fc61382fc2b592c1ad6)I was asking for corrections.. like the description for `integer!` as Red does not have 64bit integer yet.

gltewalt

[21:34](#msg58d590f8685a04fd0e9fa7f6)This:

```
>> ? datatype!
datatype! is a datatype! of value: datatype!

Found these related words:
    action!            datatype!   Datatype native function (standard polymorphic)
    binary!            datatype!   String series of bytes
    bitset!            datatype!   Set of bit flags
    block!             datatype!   Series of values
    char!              datatype!   8bit and 16bit character
    datatype!          datatype!   Type of datatype
    email!             datatype!   Email address
    error!             datatype!   Errors and throws
    file!              datatype!   File name or path
    float!             datatype!   64bit floating point number (IEEE standard)
    function!          datatype!   Interpreted function (user-defined or mezzanine)
    get-path!          datatype!   The value of a path
    get-word!          datatype!   The value of a word (variable)
    handle!            datatype!   Arbitrary internal object or value
    hash!              datatype!
    image!             datatype!   RGB image with alpha channel
    integer!           datatype!   64 bit integer
    issue!             datatype!   Identifying marker word
    lit-path!          datatype!   Literal path value
    lit-word!          datatype!   Literal word value
    logic!             datatype!   Boolean true or false
    map!               datatype!   Name-value pairs (hash associative)
    native!            datatype!   Direct CPU evaluated function
    none!              datatype!   No value represented
    object!            datatype!   Context of names with values
    op!                datatype!   Infix operator (special evaluation exception)
    pair!              datatype!   Two dimensional point or size
    paren!             datatype!   Automatically evaluating block
    path!              datatype!   Refinements to functions, objects, files
    percent!           datatype!   Special form of decimals (used mainly for layout)
    point!             datatype!
    refinement!        datatype!   Variation of meaning or location
    routine!           datatype!
    set-path!          datatype!   Definition of a path's value
    set-word!          datatype!   Definition of a word's value
    string!            datatype!   String series of characters
    tag!               datatype!   Markup string (HTML or XML)
    time!              datatype!   Time of day or duration
    tuple!             datatype!   Sequence of small integers (colors, versions, IP)
    typeset!           datatype!   Set of datatypes
    unset!             datatype!   No value returned or set
    url!               datatype!   Uniform resource locator or identifier
    vector!            datatype!   High performance arrays (single datatype)
    word!              datatype!   Word (symbol or variable)
```

[21:35](#msg58d591211382fc2b592c20cc)That's all I was trying to say

Oldes

[22:40](#msg58d5a051b2eadab3653c0248)@dockimbel I found this inconsistency... this simple script does not work compiled, but works when interpreted:

```
Red []

test: function[][
	out: make string! 64
	output: func[value][ out: insert out form reduce value ]
	output ["bla" 42 "bla"]
	head out
]

print test
```

## Saturday 25th March, 2017

gltewalt

[00:22](#msg58d5b83ab52518ed4da497a0)@greggirwin @dockimbel Looks like the github indentation issue can be corrected by editorconfig.  
https://github.com/editorconfig/  
Or by adding `?ts=4` at the end of an url. Like: \`

[00:22](#msg58d5b83e4cb8d0917323b624)https://github.com/red/red/blob/c798eaea3d9e94e48ec4790abd4c217dfe73bf51/runtime/datatypes/datatype.reds?ts=4

greggirwin

[01:11](#msg58d5c3d74cb8d0917323dca0)Nice!

[01:12](#msg58d5c3ebf22385553dd32a7e)Thanks for digging that up.

dockimbel

[03:05](#msg58d5de650e4137042aaa4318)@Oldes Support for compiling functions in functions is currently limited.

[03:14](#msg58d5e0adf22385553dd38279)@greggirwin For manipulating a typeset as a list, you can just convert it to a `block!`:

```
>> to-block scalar!
== [char! integer! float! pair! percent! tuple! time!]
```

[03:15](#msg58d5e0d308c00c092a1259f5)@rebolek A typeset is internally a bit-array.

qtxie

[03:58](#msg58d5ead908c00c092a127974)@Oldes Updating `system/console/limit` according to console's width is only implemented in gui-console.

rebolek

[06:33](#msg58d60f548e4b63533d5f8366)@dockimbel it makes sense, I just never thought about it.

metaperl

[14:32](#msg58d67f6408c00c092a145fcc)So, is it possible to develop a desktop GUI app in Red and then deploy to NodeJS to have it run on the web?

Oldes

[15:08](#msg58d687f90e4137042aac5709)No. Why you think it should? Red is work on progress not a finished product.

metaperl

[15:09](#msg58d6880e4cb8d0917326407c)It sure would be nice...

[15:09](#msg58d68828b52518ed4da7318d)I want an easy fast and fun way to make web apps. I would imagine something like Seaside would exist for Red.

dockimbel

[16:12](#msg58d6970208c00c092a14bfaf)@metaperl We'll get there. ;-)

greggirwin

[21:58](#msg58d6e8207ea420cc4205711a)Per the recent chat about datatype help, I tinkered this up real quick: https://gist.github.com/greggirwin/b3604f2acd6ac70c70691bd54d8a814b

[22:01](#msg58d6e8b60e4137042aade13f)It shows a couple things. 1) We can easily make simple tools to help ourselves. 2) Just showing static data, especially until we get rich text, probably isn't as valuable as spending time helping the www.red-by-example.org team add content. They have a huge amount of information there already.

[22:03](#msg58d6e9378e4b63533d6292bf)What we can do, is use Red more effectively. The simple LiveCode example and the idea of \*-lab tools give us an interactive place to learn and experiment. Of course we can do that in the console as well, but tools can provide extra hints, constraints, and visualizations that make learning faster and easier.

geekyi

[22:33](#msg58d6f03941a045e94dc91cfa)@metaperl red is probably more alpha than you think. But why nodejs.. Why not directly? If you're curious tho.. There's been attempts like world, geomol, boron already in the rebol world. Red will probably web assembly

[22:44](#msg58d6f2ce5982df9373aa5c57)Probably using the red plugin for your favorite IDE is the easy and fast way right now.. Or writing one of it doesn't exist ;)

## Sunday 26th March, 2017

greggirwin

[01:36](#msg58d71b0a8e4b63533d634cf0)@geekyi, I think it's a common belief that new languages will be web oriented, because so many are. SO's annual developer survey has a lot of info in it. It's great that they do that. Not that we don't know the web is where people live, but the trends in different areas aren't always visible.

[01:38](#msg58d71b937ea420cc4206217f)And while it will take some work to add a web back end, Red chose to solve some much harder problems first. That has kept it from being pigeon-holed and lost in the sea of others in that area, but also makes people ask about its web future.

metaperl

[13:29](#msg58d7c2258bb56c2d1144722c)Actually I woke up with a revelation: there is no need for webapps. Just write a desktop app and provide a web interface to the desktop. Have you all seen QEMU - http://www.qemu-project.org/

maximvl

[13:37](#msg58d7c3ff0e4137042ab09fc5)@greggirwin very nice! I'm working on something similar for funcs &amp; values

metaperl

[14:00](#msg58d7c98e4cb8d091732a7d84)Actually something like \[JSLinux](http://bellard.org/jslinux/) that ran X-Windows would elimminate the need for webapps. You would just authenticate the user and then move them over to a Linux/X-windows session

dockimbel

[15:04](#msg58d7d86108c00c092a19155e)FYI, the 0.6.2 binaries are out. The blog article should follow in about an hour. In the meantime, please test the binaries, in case we let a regression pass.

maximvl

[15:05](#msg58d7d8ab5982df9373ad3cc6)great, will test my scripts!

[15:07](#msg58d7d9240e4137042ab0f4b8)I also just found wierd behavior of `function` word, will test it on new binaries as well

[15:09](#msg58d7d98df22385553dda39ef)

```
>> f: function [] [s: [system: true user: false] system/build]
== func [/local s system user][s: [system: true user: false] system/b...
>> f
*** Script Error: path system/build is not valid for none! type
*** Where: f
```

[15:09](#msg58d7d9a40e4137042ab0f66f)@dockimbel is this also a known thing?

[15:11](#msg58d7da26408f90be665991f4)I understand that it goes deep into body and binds every set-word, thus one can rebind something without realizing it

dockimbel

[15:25](#msg58d7dd69408f90be66599e02)@maximvl I don't see any weirdness in your above code. It works as intented, and yes, using `function` means been aware of how it works. In your case, you want `system` to be excluded from the local context, so you should use the `/extern` refinement:

```
>> f: function [/extern system] [s: [system: true user: false] system/build]
== func [/local s user][s: [system: true user: false] system/build]
```

maximvl

[15:26](#msg58d7dd90b402a53211b40939)got it, didn't know about `/extern`, thanks!

9214

[15:49](#msg58d7e2f4b402a53211b41dee):clap: great job Red team!

greggirwin

[16:15](#msg58d7e908408f90be6659d035)@metaperl, yes, there are lots of ways to look at things. RT had an app system call IOS that was sort of a mini desktop browser for reblets.

Thanks @maximvl, anxious to see yours.

[16:16](#msg58d7e9660e4137042ab1322f)Go Team Red! Congratulations on another release.

tanstaaf1

[16:56](#msg58d7f2d4ad849bcf421e6a84)@dockimbel @qtxie etal. THANKS and congrats! You guys seem superhuman to me; or certainly clear enough you are on a great mission! I would label what you are doing as "heroic" and I think that is a legitimate use of the word. Anyway, thank you for your creation.

greggirwin

[17:05](#msg58d7f4cb4cb8d091732b3082)Not related to 0.6.2, but working on a new `help` and am a bit confused. `spec-of/body-of` don't return a copy of what they reflect. Is that by design.

```
>> test-fn: func ["Doc" a "AA" b [block!] c [string!] "CC" return: [integer!] "Return doc string" /local x y ][print [a b c]]
== func ["Doc" a "AA" b [block!] c [string!] "CC" return: [integer!] "Return doc string" /local x y][print [a b c]]
>> test-fn 'a [2] "c"
a 2 c
>> clear spec-of :test-fn
== []
>> test-fn 'a [2] "c"
a 2 c
>> source test-fn
test-fn: func [][print [a b c]]
>> spec-of :test-fn
== []
```

dockimbel

[17:40](#msg58d7fcf75982df9373add17e)@greggirwin Yes, for now, direct access is permitted. We might add control over such feature through a future extended version of the `secure` dialect.

maximvl

[17:40](#msg58d7fd1f8bb56c2d11455406)

```
>> probe spec-of :test-fn
["Doc" a "AA" b [block!] c [string!] "CC" return: [integer!] "Return doc string" /local x y]
== ["Doc" a "AA" b [block!] c [string!] "CC" return: [integer!] "Return doc string" ...
>> system/version
== "0.6.2"
```

[17:41](#msg58d7fd3a8e4b63533d664cd6)@greggirwin looks good in 6.2

greggirwin

[17:41](#msg58d7fd588e4b63533d664d84)But the func itself is not affected if you mod it. Source is changed though.

maximvl

[17:42](#msg58d7fd7bb52518ed4dac38cb)ah, I see

greggirwin

[17:43](#msg58d7fda57ea420cc42091817)We could use it to obfuscate things, but probably not the idea behind it. :^)

dockimbel

[18:35](#msg58d80a08408f90be665a5bca)@tanstaaf1 Thanks! Well, it is indeed a big challenge and a huge work, but step by step, we're getting there. ;-)

tanstaaf1

[18:36](#msg58d80a127ea420cc420954f2)@dockimbel Don't know if it is even worth your time to fix a grammar typo in the release announcement, but you use a word "arised" in the first paragraph and I think correct English would be "arose". Apologize for distracting you with such a little thing, but your English in general is quite elegant - better than mine, and I'm native - so I thought I'd point it out.

iArnold

[18:55](#msg58d80ead408f90be665a7528):thumbsup: for the release!

maximvl

[18:57](#msg58d80f027ea420cc42096f56)&gt;0.6.3 was advancing at the same time, is now almost ready, and will be merged into master in a couple of days (if you happen to have a Mac, it contains the macOS GUI backend for Red!). As soon as 0.6.3 is out, 0.7.0 will start (full async I/O)

Yay! :dancers: :clap:

9214

[19:43](#msg58d819c78bb56c2d1145dcd9)&gt; 0.6.3 was advancing at the same time, is now almost ready, and will be merged into master in a couple of days (if you happen to have a Mac, it contains the macOS GUI backend for Red!). As soon as 0.6.3 is out, 0.7.0 will start (full async I/O)  
&gt; Yay! :dancers: :clap:

\[I can't resist](https://www.youtube.com/watch?v=PUIa7GXGKM8) :dancer:

meijeru

[21:35](#msg58d83426ad849bcf421f865c)Thanks for the clear description of what's new in 0.6.2, it's impressive!

maximvl

[22:13](#msg58d83cfb408f90be665b374c)@dockimbel btw, about false positives on antiviruses, did situation improved or was release binary manually added again? I see only few complains here: https://www.virustotal.com/en/file/2319797046bc653e8ac05a7daf4f44aef37e9e73ae65c831302f5ba5dd41987b/analysis/1490566210/

rebolek

[23:14](#msg58d84b678bb56c2d1146a1d0)Please, be nice to https://news.ycombinator.com/item?id=13962267

[23:16](#msg58d84be2ad849bcf421fdd9a)Also https://www.reddit.com/r/programming/comments/61n2zf/red\_programming\_language\_062\_libred\_and\_macros/

## Monday 27th March, 2017

ghost~5680c5f416b6c7089cc058a5

[02:46](#msg58d87cfd08c00c092a1ba0d5)Congrats on the release

dockimbel

[02:57](#msg58d87fa8b402a53211b683cb)@nc-x Thank you!

[02:58](#msg58d87ff0b402a53211b684cc)@tanstaaf1 I'm unsure about the right version of the verb. It seems "arised" is \[in use](https://en.wiktionary.org/wiki/arised). Could any other native speaker confirm which version is the right one?

[03:01](#msg58d880a77ea420cc420b19cd)@maximvl Unfortunately, there is not much we can do for some (minor) AV vendors which have badly tuned heuristics in their product, and not taken care seriously about our reports. I guess we can just keep sending them reports about false positive until they get bored and do something about it. ;-)

greggirwin

[03:10](#msg58d8828c8e4b63533d685d1f)@dockimbel "arose" sounds better to my eye, or looks better to my ear.

dockimbel

[03:12](#msg58d88314b402a53211b68df4)@greggirwin Oh I see you fixed it already, I didn't refresh my page. Thank you!

greggirwin

[03:12](#msg58d88335f22385553ddcccc6)Not me, must have been Peter. I don't think I have write permissions there.

[03:13](#msg58d88348408f90be665c397f)Maybe a Red bot listening in did it. :^)

dockimbel

[03:24](#msg58d8860b408f90be665c4451)@greggirwin You have full permissions there.

xqlab

[06:48](#msg58d8b5a4f22385553ddd79bb)cudos to Red and the team

dockimbel

[06:53](#msg58d8b6fd0e4137042ab44eaa)@xqlab Thanks. :+1:

maximvl

[07:09](#msg58d8baab8e4b63533d692cd5)@dockimbel what is the state of Android compiler? It compiled me hello world with view, but when I try to run the binary on device it says "only position independent executables (PIE) are supported"

dockimbel

[07:10](#msg58d8bacc8fcce56b20a00a23)@maximvl You compiled with the android branch?

maximvl

[07:11](#msg58d8bb18ad849bcf4221728c)nope, just 6.2 release binary

dockimbel

[07:11](#msg58d8bb357ea420cc420be826)Did you compile in release mode (`-r`)?

[07:12](#msg58d8bb6bb52518ed4daf0a3b)"hello world with view" The current View engine is not supported on Android, only the simple prototype we built two years ago in the android branch could work. 0.6.4 is for bringing the View engine to Android, and improve the ARM support (as it is a bit lagging behind for now).

maximvl

[07:14](#msg58d8bbcdad849bcf422175b0)good, I just was wondering about the size of native compiled binary

[07:14](#msg58d8bbe28e4b63533d69326b)I just saw a new Python tool which compiles 10M hello worlds for Android :D

[07:24](#msg58d8be117ea420cc420bf706)@dockimbel but what we are compiling to is not APK, it's a native, right?

[07:24](#msg58d8be2db402a53211b7640e)I wonder if natives still have access to Android systems &amp; frameworks

dockimbel

[07:25](#msg58d8be7b4cb8d091732e2c25)@maximvl `Android` target compiles to executables directly. So you can't have a GUI that way, but it should run fine from an Android terminal (modulo eventual bugs/regressions). Natives can only access native libs. In order to access the Android API in Java, you need a JNI bridge.

maximvl

[07:27](#msg58d8bec67ea420cc420bf998)so how do we plan to go for fully-featured apps?

pekr

[07:28](#msg58d8bf35408f90be665d136a)I am eager to see, how is View going to perform on Android (ARM), once there :-)

dockimbel

[07:28](#msg58d8bf3ab52518ed4daf1ac3)@maximvl Java bridge.

pekr

[07:30](#msg58d8bfb28e4b63533d6941aa)Not sure if 0.7.0 comes this year (2017), but maybe we should start to plan some Redcons for fall of 2018? There is already so much good stuff in there and it will get even better ;-)

maximvl

[07:32](#msg58d8c005b402a53211b76c97)haha, I'd definitely attend one in EU, preferably the Netherlands ;)

pekr

[07:36](#msg58d8c105b52518ed4daf226c)well, Netherlands - always wanted to visit that country. Ma most favourite bands are from Netherlands (The Gathering, Anneke van Giersbergen, Within Temptation, EPICA) :-)

dockimbel

[07:37](#msg58d8c150f22385553dddaa9d)If we have some local organizer in NL, why not. Though, Kaj seems to be gone.

pekr

[07:37](#msg58d8c1578bb56c2d11484924)There was also Kaj and Bas in Netherlands and Doc visited them too, IIRC. Not sure, how much of a userbase is there nowadays. Last time the Redcon was held in Brno/Czechia - me, Oldes, Rebolek, Cyphre and Andreas and of course Doc :-)

dockimbel

[07:39](#msg58d8c1beb52518ed4daf25cb)Live meetings are always more interesting and informative.

pekr

[07:40](#msg58d8c1e68e4b63533d694c15)Yes ... you still plan to meet with Carl one day?

dockimbel

[07:40](#msg58d8c2018e4b63533d694c82)I met him many times already. But if you mean this year, yes.

pekr

[07:41](#msg58d8c20c08c00c092a1c942b)We should organise one in Brno or Vienna and get even Andreas, Robert and Ladislav there. Possibly others.

dockimbel

[07:41](#msg58d8c21f4cb8d091732e3c79)Andreas seems to have no interest in Rebol world anymore.

pekr

[07:42](#msg58d8c24b7ea420cc420c08f4)I always wondered, how that might happen. We raved so much about Rebol not being open sourced, and once it is, we lose ppl like Andreas or BrianH ...

[07:43](#msg58d8c2908fcce56b20a0281b)Red is imo on a good track. We can see "new blood" joining in, and it feels really refreshing ... and maybe even inspiring - we've got Macros, right? Well, if it has anything in common with our Red Lispers and their influence here ...

dockimbel

[07:43](#msg58d8c2b408c00c092a1c97f7)I guess it was bad timing, 2 years earlier and everything would have been different (though, probably several incompatible forks would have emerged anyway).

dander

[07:53](#msg58d8c4f2408f90be665d2c48)Congrats for reaching a great milestone! I'm looking forward to digging through this blog post

maximvl

[08:35](#msg58d8ceba08c00c092a1cccd8)@dockimbel give Carl best wishes from the Red community when you meet him next time :)

pekr

[08:39](#msg58d8cfadf22385553dddef97)... and say he is welcomed to join Red, if time permits :-)

geekyi

[09:41](#msg58d8de4508c00c092a1d18a7)@metaperl Now you're thinking ;) yes, search in this chat for "qemu" and "webassembly"

[09:41](#msg58d8de5cb52518ed4dafae67)Ooh release! What a nice surprise! I've been a bit away from red learning other stuff

maximvl

[09:49](#msg58d8e036b402a53211b80507)what are these new `class` and `class-of` about?

pekr

[09:58](#msg58d8e22ab52518ed4dafbea1)related to objects. It returns some integer. Maybe some kind of internal handle. Could be used to check, what is the origin of object ....

maximvl

[09:59](#msg58d8e27e4cb8d091732ece3d)yep, not clear at all, would be good to have an explanation for each added word in the release notes ;)

[10:00](#msg58d8e2b2408f90be665dafcd)and I suppose it can be auto generated based on `help` data

pekr

[10:01](#msg58d8e2e0408f90be665db0ac)`Returns the class ID of an object.`- whatever it means :-)

dockimbel

[10:06](#msg58d8e422ad849bcf42223994)Just an internal feature for now, objects have a class ID internally in Red. If it can be reliable, we might make that an official feature in the future.

pekr

[10:34](#msg58d8ead38fcce56b20a0d774)@dockimbel should fast compilation work even using `rc`R2 function, or should I finally get into using Red executable? :-)

dockimbel

[10:37](#msg58d8eb6aad849bcf42225d42)@pekr Yes, it works fine when compiling from sources.

pekr

[10:39](#msg58d8ebcfb52518ed4dafec84)tried with `rc "-c -t Windows %environment/console/gui-console.red"`, as well as with `-r`switch, but the build time is the same - over 50 secs here ...

dockimbel

[10:45](#msg58d8ed364cb8d091732efd8a)As a gift received for the new release, while investigating a strange bug in `split-path` today with Qingtian, I found a really nasty buffer overflow bug in Parse, which would be triggered only on deep Parse recursions. It made me so happy to have found such (actually stupid) bug, that I felt like sharing it here. :gift: :)

pekr

[10:46](#msg58d8ed91b402a53211b84282)Sometimes even some simple things make us happy :-)

[10:47](#msg58d8edc8b402a53211b843b8)When I started to read your above sentence, I though - OK, now Google is going to back-up Red project!

dockimbel

[10:47](#msg58d8edd18fcce56b20a0e363)@pekr `-t` currently forces release mode (we might need to tweak that), but anyway, the GUI console cannot be compiled using libRedRT (we mentioned that many times here already), as it is deeply intertwined with the runtime library code. The new console and GUI console engines in 0.6.3 are fixing that by rewritting the GUI console entirely in pure Red (no R/S).

[10:48](#msg58d8ee0ff22385553dde7b99)I would be glad if Baidu would provide support, no need for Google. ;-)

pekr

[10:49](#msg58d8ee3f8e4b63533d6a11da)I went into contact with our LED screen vendor, actually with 3 companies and they all seem to be switched from Skype to WhatsApp

maximvl

[10:52](#msg58d8eee0ad849bcf42226a7e)@dockimbel could you give more insights on how did you found the parse bug?

[10:52](#msg58d8eee98e4b63533d6a14f6)automatic tests or ?

pekr

[10:54](#msg58d8ef668e4b63533d6a16c4)They were investigating bug in split-path, which uses parse internally ...

maximvl

[10:55](#msg58d8efa5408f90be665deb1b)I see

dockimbel

[11:04](#msg58d8f1a8ad849bcf422278a4)@maximvl Weird Parse behavior in `split-path` on second call (hinting at a race condition). The bug resulted in backtracking on a wrong position in the parsed series. The tests were not exhibiting the conditions requires to produce such error. We will remedy that too.

[11:16](#msg58d8f49b08c00c092a1d7a49)That bug seems to have been caused by a copy/paste of a few lines of code, from a place where they were protected by some tests, to other places where it was not the case anymore. Nasty one.

pekr

[11:20](#msg58d8f56cad849bcf42228909)@dockimbel for 0.6.3 we can see stuff like `struct! library! ref!` and extended `load/library`. What is that going to be mostly about? To allow loading our wrappers dynamically in runtime, or just a prerequisite to support some mechanisms like FFI (as it was mentioned here in the past)? The thing is, that we can mostly wrap anything nowadays, we just can't postpone its loading. So is that mostly to allow the DLL usage during the app runtime?

dockimbel

[11:21](#msg58d8f5a10e4137042ab5614c)A new high-level FFI (vs current low-level FFI).

pekr

[11:22](#msg58d8f5e7b402a53211b8682f)Excel pong demo made my friend to look into Red, claiming that "how is that possible with so few of line of code"? :-)

[11:23](#msg58d8f6158fcce56b20a10a13)Integration-wise Red really seems like everything we wished for during the old Rebol days ...

[11:23](#msg58d8f6477ea420cc420cefa7)Well, yes, we don't have Apache module yet and browser plugins are moot. The question is, if Apache on server is still the way to go nowadays ...

metaperl

[15:30](#msg58d93024f22385553ddfd2f8)&gt; Excel pong demo made my friend to look into Red, claiming that "how is that possible with so few of line of code"?

[15:30](#msg58d930288bb56c2d114a565e)Yes that was impressive.

greggirwin

[16:43](#msg58d94145b402a53211b9e6b7)Yay for bug fixes that make you happy!

Maarten Koopmans might help organize a gathering, if he's not somewhere else working.

[16:59](#msg58d944eb8e4b63533d6bc3f8)On `split-path`, long ago there was quite some discussion on the R2 behavior WRT `rejoin`. That is, should `split-path` produce values that recreate the original when rejoined. split-path+rejoin test-case results where that doesn't hold true in Red:

```
input       output
%foo        %./foo
%""         %./
%/          %/none
%.          %./none
%./         %./none
%./.        %././
%..         %../none
%../        %../none
%../..      %../../
%foo/..     %foo/../
%foo/.      %foo/./
%foo/../.   %foo/.././
http://..   http://../
http://.    http://./
http://../. http://.././
```

It looks like Red matches R2 behavior. The main differences between that and `rejoin` consistency is that you'll get an empty file (`%""`) rather than none at times, and trailing `%.` or `%..` don't get dirized.

[17:27](#msg58d94b96408f90be665fc9a0)On Reddit, someone posted a link to the Blue language. I hadn't heard of it, so I scanned the doc real quick. Not active anymore, and nothing big jumped out at me, but it has an `|` operator that I implemented in Red real quick and added as a comment. Paste into the console.

```
a-or-b: function [a b][any reduce [a b]]
|: make op! :a-or-b
1 | 2
none | 2
set [w x y z] [none none none 4]
w | x | y | z
```

maximvl

[17:29](#msg58d94bec8fcce56b20a2b7fc):D

gltewalt

[17:44](#msg58d94f747ea420cc420eb16f)Seems like some behavior has changed?

```
>> p: func [val] [prin p]
== func [val][prin p]
>> type? 'p
== word!
>> type? :p
== function!
>> type? p
*** Script Error: p is missing its val argument
*** Where: p
```

maximvl

[17:46](#msg58d94ff7f22385553de075cd)in the last one you are executing `p` without argument, what do you expect?

gltewalt

[17:51](#msg58d9513a08c00c092a1f4ff1)It doesn't matter.

```
>> p: func [val] [prin p]
== func [val][prin p]
>> p "ok"
*** Script Error: p is missing its val argument
*** Where: p
>> type? p "ok"
*** Script Error: p is missing its val argument
*** Where: p
>> type? (p "ok")
*** Script Error: p is missing its val argument
*** Where: p
```

maximvl

[17:53](#msg58d951b74cb8d0917330f237)@gltewalt now you are calling `p` inside `p` :D

gltewalt

[18:00](#msg58d9533e408f90be665ff23a)oh yeah! lol :smile:

[18:01](#msg58d9538f4cb8d0917330fcb5)lol... I'm stupid

maximvl

[18:02](#msg58d953b24cb8d0917330fd24)happens to everybody, haha

gltewalt

[18:02](#msg58d953be0e4137042ab74ff3)Brain lock :smile:

maximvl

[20:31](#msg58d976958e4b63533d6cca6f)we did it to the first page on HN :clap:

iArnold

[20:35](#msg58d9777c08c00c092a20085d)(3rd place??!!)

maximvl

[20:43](#msg58d9798e8bb56c2d114bd6d2)yep :)

[20:44](#msg58d979a78e4b63533d6cdba3)let's see if we can do #1 with a minor release

pekr

[20:54](#msg58d97c1f408f90be6660bbd1)isn't that posted for at least third time already? :-)

## Tuesday 28th March, 2017

dockimbel

[04:35](#msg58d9e8154cb8d09173334546)It's a common practice on HN to re-post several times a popular news which didn't make it to the front page.

pekr

[05:15](#msg58d9f1787ea420cc42114054)This time, the HN post did nicely. Even all comments are quite possitive. Gregg and others did a great support there too!

dockimbel

[06:34](#msg58da03dd8e4b63533d6ed069)I have to say that the great support we get from you guys, in the Red community, is the best reward we can get from all the hard work and short nights we put into this project. We had a great, friendly, Rebol community 15 years ago, with great discussions, knowledge sharing (I learned a lot from the ML posts back then) and unlimited amount of help with code. When I read some discussions here and see kind help to newcomers by both old timers and new users who recently mastered the language, it really fills me with joy, because it feel like the great old days are back again. Thank you so much for that. Cheers! ;-)

jocko-jc

[08:06](#msg58da1998b402a53211bd551e)many thanks to you, Doc, and your team, for the great work already done. Still following with much interest the development of red. The 'call utility of this release is great. Waiting the finalization of 'now (date).

[08:07](#msg58da19d308c00c092a226a94)and , of course, integrating 'view for osx

dockimbel

[08:11](#msg58da1ab68e4b63533d6f3378)@jocko-jc Thank you Joseph. Do you remember when I proposed launching a new Rebol-like language at the meetup with some other Rebolers in Paris at La Cantine, around May, 2010. So much done since then! ;-) View for macOS should land on master tomorrow, we want to finish some fixes for libRed first.

pekr

[08:16](#msg58da1bc6ad849bcf4227abb9)What I am glad for is, that with newcomers, we don't get only Red beginners, but I can see new gurus are forming :-)

[08:16](#msg58da1bd88fcce56b20a5fc28)In my favourite Alien movie sense - we are Terraforming :-)

jocko-jc

[08:24](#msg58da1dbdf22385553de3b420) @dockimbel Yes, i remember ! The amount of achievements so far is amazing, and while still in alpha stage, red is already usable, and more achieved than rebol on several points !

pekr

[08:30](#msg58da1f2bf22385553de3bcd4)@jocko-jc I have exactly the same impression. While 0.6.2, I am hesitant to refer to Red as an alpha. For me, it is not even a beta - I regard it being a full product, which is just missing on some features :-)

tredoe

[08:49](#msg58da23880e4137042abaada2)How is the performance of Red? A program built in Red, with which language could be compared respect to speed? And respect to usage of memory?

9214

[08:51](#msg58da24058fcce56b20a61f93)@kless as far as I remember R/S is 3-4 times slower than C (w/o any optimizations), can't tell much about high-level Red.

rebolek

[08:56](#msg58da253aad849bcf4227dae1)@kless I think it depends on what you are writing. There is no GC yet, so the memory usage usually grows in the program's lifetime.

tredoe

[09:32](#msg58da2daa8bb56c2d114e70e4)It could be a great language for GUIs. I hope that the GUI for Linux is ready for this year to be able to play with it.

maximvl

[09:32](#msg58da2dc94cb8d0917334573a)@kless you can play with Windows one using Wine, it works very well

[09:33](#msg58da2dd44cb8d0917334575b)(this is what I do)

9214

[09:34](#msg58da2e2aad849bcf4227fdd2)GTK backend development is stalled because major contributor has disappeared - that's what I heard from Nenad

dockimbel

[09:35](#msg58da2e448bb56c2d114e731f)@kless Currently Red code performs in the same class as other scripting languages, like Rebol, Ruby, Python... Red/System currently performs about 4-6 times slower than C. FYI, there are no optimization layers for now in Red and Red/System compilers, so there is a lot of space for progress. There are many ways to improve raw performances, but there are not a concern for now.

9214

[09:35](#msg58da2e47ad849bcf4227fe31)anyway, time will tell ;)

Oldes

[10:17](#msg58da38368fcce56b20a67e80)offtopic: is it just me who is experiencing problems to post messages on Gitter recently?

dockimbel

[10:19](#msg58da38c18fcce56b20a68065)I can't tell, we experience issues accessing the web on a daily basis from here. ;-)

Oldes

[10:43](#msg58da3e4a408f90be6663b00b)@dockimbel Just noticed, that this code is not possible to compile, is it ok?

```
Red []
ctx: context [
	return: none
]
```

```
Compiling R:\test.red ...
*** Compilation Error: attempt to redefine a keyword: return 
*** in file: R:\test.red
*** near: [none]
```

iArnold

[11:02](#msg58da42a98fcce56b20a6acf3)@9214  
&gt; GTK backend development is stalled because major contributor has disappeared - that's what I heard from Nenad

Correct. I asked Thiago if he wanted to write a short article about his work on GTK support for Red and he was very enthousiast about it, but all of a sudden he did not show up anymore. He has been away since about november 7th. I tried to contact him using LinkedIn, but that has not resulted in contact either. So anybody have contacts in Manaus Brazil, let them hang up a 'missing poster' sign.

[11:05](#msg58da436f0e4137042abb40f2)I had hopes to get the GTK branch documented a bit so other enthousiasts could join the development of the GTK branch without the need to do all research over.

dockimbel

[12:22](#msg58da5595408f90be66642236)@Oldes As the error message says, you cannot compile that (though, might be allowed for `return` and `exit` out of a function's body in the future). Anyway, that's asking for trouble. ;-)

rmcilmoyle

[14:22](#msg58da71af8e4b63533d70d6bd)This may well not be the forum; I've tinkered with Rebol for a long time and thought I'd move some code into Red yet all is network related and right from the start the most basic "open tcp://...." statement fails. Are network and protocols not supported ?

[14:23](#msg58da71e3b402a53211bf04d8)I deceptively simple monitoring tool built in rebol that I figured red would be a better choice for...

maximvl

[14:42](#msg58da766d8bb56c2d114fe4a6)@rmcilmoyle Hi Roger, IO is in very basic state and networking is done via `curl` and we don't have Red code for protocols yet

rmcilmoyle

[14:43](#msg58da76898bb56c2d114fe53e)ok, that explains it definitely

maximvl

[14:43](#msg58da768a8e4b63533d70f3b2)by `neworking` I mean you can do only `http` queries for now

rmcilmoyle

[14:44](#msg58da76c3b52518ed4db6ea01)so maybe I'll need to roll my sleeves up a bit more than I thought.

maximvl

[14:44](#msg58da76c58fcce56b20a7b29f)@rmcilmoyle you might want to check roadmap to get an idea of overall state: http://www.red-lang.org/p/roadmap.html

[14:45](#msg58da76f0ad849bcf4229674c)and, of course, if you have experience with Rebol - contributions are welcome :)

rmcilmoyle

[14:45](#msg58da77107ea420cc4213b16a)I definitely do have rebol experience. Been using it on an off for years

[14:47](#msg58da777fad849bcf422969c7)Thanks for the pointer, at least I know where I need to start. My focus is definitely at the network level. For me that's where I've traditionally reached into rebol; quick client server architectures based on state-machines

maximvl

[14:47](#msg58da77978bb56c2d114feccf)0.7 release will be focused on IO, members of the Red team can give more info on that

pekr

[14:49](#msg58da780108c00c092a2433c1)https://trello.com/b/FlQ6pzdB/red-tasks-overview

[14:50](#msg58da78220e4137042abc5aa2)Full IO is scheduled for 0.7.0. Right now we have so called simple-io, which is fine for reading/writing files and http(s)

[14:50](#msg58da7833f22385553de577ab)So no sockets, no tcp/udp stack, no other protocols ...

ericguedespinto

[15:01](#msg58da7aadb402a53211bf3baa)Hi everybody! Can anyone tell me what the plans are for custom infix operators? I know that we can redefine one but will it be possible to declare a function as infix as well?

maximvl

[15:03](#msg58da7b4b8bb56c2d1150036c)@ericguedespinto Hey Eric, they are already there :)

```
red>> o: make op! func [x y] [x + y]
== make op! [[x y]]
red>> 1 o 2
== 3
```

dockimbel

[15:05](#msg58da7bcb4cb8d0917335d73a)@ericguedespinto Another example:

```
make-range: function [a b][
	list: make block! b - a
	i: a while [i <= b][
		append list i
		i: i + 1
	]
	list
]
->: make op! :make-range

>> 2 -> 8
== [2 3 4 5 6 7 8]
```

ericguedespinto

[15:09](#msg58da7ca78e4b63533d7113a9)Great! Really powerful stuff!

pekr

[15:12](#msg58da7d568fcce56b20a7dcfa)Heh, redifined above for `..`, works too ...

JacobGood1

[15:19](#msg58da7f178fcce56b20a7e465)You can also make a macro to inline such things, be careful though... =)

Gwarks

[17:19](#msg58da9b3608c00c092a24f5ce)Hi i tried to compile libRed for android using "red build libRed -t Android-x86" but i did not worked. I still need libc, lbm and libcurl when it try to link on android.

dockimbel

[17:20](#msg58da9b574cb8d09173367f21)@Gwarks Android is not a supported target for libRed yet, it is scheduled for 0.6.4.

Gwarks

[17:28](#msg58da9d47b52518ed4db7b9b7)root@localhost:/# /red  
Compiling compression library...  
\*\** Driver Internal Error: Script Error : Library error: /home/.red/crush-2017-3-26-60790.so: cannot enable executable stack as shared object requires: Permission denied  
\*\** Where: build-compress-lib  
\*\** Near: [crush-lib: load/library filename  
crush-compress: make  
]

[17:28](#msg58da9d5a8bb56c2d1150bbc5)Did anyone knews what this means?

dockimbel

[17:31](#msg58da9e078e4b63533d71c8a7)Never seen such error before... What OS are you using?

Gwarks

[17:35](#msg58da9ec58bb56c2d1150c3f4)Tried Debian NoRoot on android

[17:35](#msg58da9ee54cb8d091733692d7)Can run rebol and r3 but red fails

[17:37](#msg58da9f53b402a53211c0077b)Ok other question libRed can't compile for MS-DOS

[17:38](#msg58da9f868fcce56b20a89263)But on the other hand MS-DOS doesn't seem to target real MS-DOS

dockimbel

[17:39](#msg58da9fe68e4b63533d71d1ea)Compiling libRed is done using: `red build libRed` and that works fine from a DOS prompt (just tested it). Your above command-line for building libRed is invalid. The MSDOS target means "Windows CLI", so it will redirect standard input/ouput to the system console (and will require a system console to run).

[17:46](#msg58daa1778bb56c2d1150d1fd)Our toolchain cannot work on SELinux (which your Debian flavor seems to be using) without \[additional](https://support.ceisoftware.com/hc/en-us/articles/202370087-Cannot-enable-executable-stack-as-shared-object-requires-Permission-denied) \[tweaking](http://tatsuya-y.hatenablog.com/entry/2016/08/29/183331) by the user. Though, using the console app directly (cross-compiling it from another platform) should work fine. Rebol and R3 are just an interpreter in an executable (same as our "console" app), the `red` binary is a toolchain, which pre-builds some libraries used during the compilation process. As `red` cannot run by default on your platform, the console app cannot be built, so it requires cross-compilation in your specific case.

Gwarks

[17:47](#msg58daa1be08c00c092a251745)Ok thanks

dockimbel

[17:52](#msg58daa2c2b402a53211c01c7f)@Gwarks You might want to try this \[easy workaround](https://blog.hostonnet.com/libphp5-so-cannot-enable-executable-stack-as-shared-object-requires-permission-denied), and this is the \[deeper explanation](http://www.crypt.gen.nz/selinux/faq.html#CP.19). So it seems that we might be able to add an ELF section for our compiled libs to make SELinux happy.

9214

[18:40](#msg58daae2df22385553de69d1e)reminded me on discussion about built-in documentation https://kite.com/

Gwarks

[18:43](#msg58daaec47ea420cc4214e464)The Problem to be more complicated i can't disable SELinux on that way

[19:48](#msg58dabdff4cb8d091733727fd)Ok can't get around the problem without an pc so i have to wait some days

## Wednesday 29th March, 2017

x8x

[02:25](#msg58db1b378e4b63533d73e194)Ohh! I'm late to the party.. Congrats Team Red @qtxie @dockimbel on another awesome milestone! You are heroes! :smile:

dockimbel

[08:23](#msg58db6ef508c00c092a285c56)@x8x Thanks!

[08:24](#msg58db6f38f22385553de99b40)Could anyone point me out to a SELinux-enabled ISO to download, which can be easily set up and run as VM?

rebolek

[09:00](#msg58db779c4cb8d0917339eea5)@dockimbel Fedora should have enabled it by default, so I think this should be good place to start.

Phryxe

[10:49](#msg58db914b408f90be66696854)Contributions  
Quick-Test - Opens in same window  
SDL binding - Dead link  
ImageMagick binding - Dead link  
Float and String helping functions - Opens in same window  
Red bindings builder scripts - Dead link

dockimbel

[11:31](#msg58db9af6408f90be6669977c)@Phryxe Thanks a lot for the report, we'll get that fixed asap.

[12:05](#msg58dba3210e4137042ac16272)@Phryxe Links fixed.

Phryxe

[13:14](#msg58dbb34f7ea420cc42190cd6)Great :+1:

greglearns

[17:48](#msg58dbf370ad849bcf42301e87)I just discovered Red, and am greatly intrigued. To use it professionally, I'd need to use it on the server as an HTTP server (and not just as CGI scripts). Is there any activity in that area?

rebolek

[17:51](#msg58dbf41b7ea420cc421a6e31)@greglearns Welcome! @dockimbel, author of Red is also author of \[Cheyenne web server](http://cheyenne-server.org/), so you can expect that Red would support such capabilities. However, not before 0.7.0, that will bring us full I/O support. Currently we have just limited I/O, not capable of writing web server.

greglearns

[17:53](#msg58dbf4848e4b63533d77a3d3)@rebolek thanks for the welcome! and thank you for the info. Red looks so amazing -- I really want to use it. I think that I'll have to wait for 0.7 sadly.

rebolek

[17:54](#msg58dbf4edb52518ed4dbd8718)@greglearns in the meantime you can get familiar with the language - there is lot of nice things already :smile:

greggirwin

[17:58](#msg58dbf5b28fcce56b20ae38a6)@greglearns, as Bolek says, it's a good idea to get familiar. No deadline pressure that way. :^) Red looks familiar in many ways, but is quite different under the hood, so it can take some time to ramp up, and there are a few gotchas that catch everyone when they start. Get those out of the way and you'll be in better shape to do real work when the time comes.

gltewalt

[17:58](#msg58dbf5b808c00c092a2af992)By the time you get comfortable with it, 7.0 will probably be here :smile:

greglearns

[18:03](#msg58dbf6df8e4b63533d77afe5)good point about getting familiar early. I looked at http://www.red-lang.org/, http://redprogramming.com/Home.html and all of the other links I can find on the web about learning it, and it sounds like the best way is to learn Rebol2. Any suggestions on best way to learn Red?

rebolek

[18:05](#msg58dbf76c0e4137042ac32086)@greglearns read Rebol docs, try examples in Red console and ask here. Or maybe start with asking here, there's always someone willing to help.

greggirwin

[18:06](#msg58dbf7b98bb56c2d115690f1)@greglearns, http://www.rebol.com/docs/core23/rebolcore.html will give you an overview of the language fundamentals. One of the best ways to learn is to play, and ask questions here in https://gitter.im/red/help or https://gitter.im/red/red/welcome.

[18:07](#msg58dbf7ec8bb56c2d1156919d)And you will see Bolek always beats me by seconds when posting. Now he's creating a Red bot who will beat us both. :^)

greglearns

[18:08](#msg58dbf833f22385553dec2e28)lol! And, thank you to you both!

red-first-user

[20:34](#msg58dc1a458e4b63533d785b2b)hi everyone

[20:34](#msg58dc1a5708c00c092a2bb5ca)I'm almost new to programming and linux

[20:34](#msg58dc1a6c8e4b63533d785c0f)i'd like to know how to install red-062 on fedora 25

[20:35](#msg58dc1a740e4137042ac3c8e0)can anyone help?

maximvl

[20:35](#msg58dc1a977ea420cc421b2d32)@red-first-user hi and welcome, Red needs no installation, just download it from the website and run ;)

red-first-user

[20:35](#msg58dc1aae0e4137042ac3ca2d)thanks :)

[20:36](#msg58dc1ad508c00c092a2bb8b3)maybe it's me, but I've already tried it (./red-062 on terminal)

[20:36](#msg58dc1ae608c00c092a2bb8fc)already done chmod u+x red-062

maximvl

[20:37](#msg58dc1b038e4b63533d785e44)what do you get as an output?

red-first-user

[20:38](#msg58dc1b4f8bb56c2d11573bcb)bash: ./red-062: /lib/ld-linux.so.2: bad ELF interpreter: No such file or directory

[20:39](#msg58dc1b65f22385553decd804)maybe it's because i'm running a live distribution from an usb key?

[20:40](#msg58dc1bbf7ea420cc421b3239)i've noticed on the red language download page this note:

[20:40](#msg58dc1bc84cb8d091733cf3b5)(\*) For Linux 64-bit distros, you need to install 32-bit supporting libraries. So, for Debian-based distros, install them using:

sudo apt-get install ia32-libs libc6-i386 libcurl3

If you are using a Debian 7+ or Ubuntu 13.10+ version, you should use the multiarch way:

dpkg --add-architecture i386  
apt-get update  
apt-get install libc6:i386 libcurl3:i386

[20:40](#msg58dc1bd8f22385553decda8b)unfortunately fedora is not mentioned

[20:45](#msg58dc1cce8e4b63533d7866e6)@maximvl I've got to go now. thanks a lot :)

maximvl

[20:45](#msg58dc1d06f22385553decdfc7)@red-first-user it seems this one should do it: `yum install libstdc++.i686`

## Thursday 30th March, 2017

jacobdufault

[00:53](#msg58dc571e08c00c092a2c9bdb)any plans to have red be able to use external optimizers like llvm? ie, emit llvm ir or just plain c?

greggirwin

[00:59](#msg58dc585c8bb56c2d1158294a)Not at this time. Early days.

jacobdufault

[01:06](#msg58dc5a038e4b63533d7953f0)Do you know if such a thing would be considered against red's philosophy (ie, patches would be rejected)?

greggirwin

[01:08](#msg58dc5a8d408f90be666d0aa3)It would be a huge patch, yes? :^) Before doing the work, make a good case for it. What is the big win? Red contains its entire toolchain today, and size is important. Do you think it could be embedded entirely in Red, and how much size do you think it would add?

jacobdufault

[01:12](#msg58dc5b8d8fcce56b20afdf0b)I'm not planning on doing any work just yet, just exploring the language :). Though I wonder how much of a difference there would be between an llvm-ir emitter compared to x86/arm. Only real reason for doing such would be performance (ie, using red/system as a credible alternative to c/c++ in ie, games)

PeterWAWood

[01:13](#msg58dc5b9fb402a53211c79c75)@jacobdufault I don't think it would be considered against Red's philosophy. However, the current compiler has been written to bootstrap Red. It will be replaced and thrown away for the Red 2.0. (To put things into perspective Red is currently at 0.6.2).

The compiler has not been coded to be extensible, it's replacement will be much better structured, such as supporting plug-ins.

jacobdufault

[01:15](#msg58dc5c347ea420cc421c1dba)Fair enough, sounds like the language currently has a lot of growing to go through :)

dockimbel

[01:17](#msg58dc5c8f08c00c092a2caabd)@red-first-user If you figure out the list of packages to install for making it run on Fedora, let us know, we'll add the instructions on the Download page.

greggirwin

[01:17](#msg58dc5ca4f22385553dedca2f)@jacobdufault Yup. Still Alpha, though pretty robust. If you look at the code, it might give you ideas. As with any app, there will be hotspots in game engines. With libRed you can now call into the runtime, as you might with Lua, as well as calling out via FFI, so you can mix and match to each tool's strength.

qtxie

[01:24](#msg58dc5e33408f90be666d176f)@dockimbel I have added instructions for CentOS in here: http://red.github.io/, but I don't know how to add it in red-lang.org.

dockimbel

[01:33](#msg58dc60718fcce56b20afef29)I will do it.

[01:59](#msg58dc6664408f90be666d3171)Done.

Gwarks

[05:37](#msg58dc999db402a53211c86894)What about WebAssembly instead of AVM

greggirwin

[05:39](#msg58dc99f808c00c092a2d6e9a)What is AVM?

[05:39](#msg58dc9a14f22385553dee90e7)WASM will likely be the web target, but no final decision there yet.

Gwarks

[05:40](#msg58dc9a690e4137042ac59533)Ok AVM seems already to be canceled

[05:41](#msg58dc9a82ad849bcf42328f08)AVM was/is Action Script Virtual Machine

greggirwin

[05:41](#msg58dc9a8e8fcce56b20b0a93a)Ah, thanks. Never heard of it.

Gwarks

[05:43](#msg58dc9aee8e4b63533d7a1ac5)It is built in Adobe Flash

[05:43](#msg58dc9b03ad849bcf423290a5)Better say part of Adobe Flash

rebolek

[05:43](#msg58dc9b07b402a53211c86d85)I do not think it was ever considered as target.

Gwarks

[05:44](#msg58dc9b51b52518ed4dbff068)https://www.google.it/url?sa=t&amp;source=web&amp;rct=j&amp;url=http://static.red-lang.org/Red-SFD2011-45mn.pdf&amp;ved=0ahUKEwjPlc\_6wv3SAhVMXRQKHd6TAxsQFggjMAE&amp;usg=AFQjCNE6VGE5laT74xdtRUtfg\_D7saxdsw

rebolek

[05:45](#msg58dc9b8c408f90be666de01f)Oh, you're right.

greggirwin

[05:48](#msg58dc9c164cb8d091733ea837)How Flash has fallen since that was written.

geekyi

[06:16](#msg58dca2a2b402a53211c8862e)@Gwarks @Oldes has bindings for air

Oldes

[06:27](#msg58dca56d0e4137042ac5b8f4)I was considering AVM output.. but it does not make much sense these days.. especially when it is posible to use libred library

jacobdufault

[06:30](#msg58dca61e8bb56c2d115921b8)does red/system offer any sort of memory management utilities? ex, RAII in C++

dockimbel

[06:34](#msg58dca709b52518ed4dc01d04)AVM deprecation is a good example of why we need to update our plans for Red regularly, as the landscape is changing.

[06:40](#msg58dca85a408f90be666e0eb9)@jacobdufault AFAIK, RAII is tied to OOP, Red/System is not an OO language. For memory management in R/S, you get currently the same features as in C. Though, we have plans for adding some features for memory-safety to R/S, but probably post-1.0, probably more Rust-like.

jacobdufault

[06:42](#msg58dca8c508c00c092a2da5c3)rust uses raii :), do you mean tracking lifetime?

[06:43](#msg58dca90e8fcce56b20b0dc69)raii =&gt; destructor in c++/drop trait in rust, not necessarily OO

dockimbel

[06:44](#msg58dca94ab52518ed4dc025ed)I was thinking of the Rust ownership system, yes.

jacobdufault

[06:44](#msg58dca9608e4b63533d7a4eee)that'd be really nice, I'm excited to see what gets developed!

rebolek

[07:47](#msg58dcb7fd08c00c092a2de519)Can I run Red console with some code as argument and have it execute the code and return result back to terminal? I tried some approaches to it, but so far wasn't successful.

dockimbel

[07:49](#msg58dcb8a77ea420cc421d5e18)@rebolek `--do` option is not implemented yet, so the only way to run code is to pass a script as argument.

rebolek

[07:52](#msg58dcb92a8fcce56b20b11dc5)@dockimbel so something like `console myscript.red`?

dockimbel

[07:52](#msg58dcb94b4cb8d091733f1745)Yes, if your script finishes with a `quit`, you'll get back to terminal.

rebolek

[07:53](#msg58dcb97c8fcce56b20b11fb0)So I want `quit/return value` in my case, I guess. Thanks, I will try it.

[07:57](#msg58dcba4e8fcce56b20b12391)@dockimbel I tried this without success:

```
fakemac:release sony$ echo "Red[] value: 1 + 1 quit/return value" >> temp.red
fakemac:release sony$ ./console temp.red
fakemac:release sony$
```

dockimbel

[07:57](#msg58dcba6f408f90be666e5a31)What do you expect?

rebolek

[07:57](#msg58dcba777ea420cc421d6857)`2`

dockimbel

[07:58](#msg58dcba91ad849bcf42330de9)OS shells are not REPL (though, some might argue otherwise), they don't work like the Rebol console. ;-) Try `echo $?` after the console invocation.

rebolek

[07:58](#msg58dcbabdf22385553def1093)Yes, but they also have commands that outputs values :)

[08:04](#msg58dcbbf84cb8d091733f22fb)Thanks :) What I want to achieve - run Red script from red in separate process (using `call`) and get back the return.

dockimbel

[08:45](#msg58dcc5b1ad849bcf423342f2)From the blog comments:  
&gt; austenStrine has left a new comment on your post "Incursion into "explorable explanations" lands":  
&gt;  
&gt; I second the motion from the above anonymous that a tutorial should be developed for beginners. I'm new to code as well (started about 8 months ago, I know some C++ and JavaScript, working on Java right now) and am very interested in investing time and energy into teaching myself Red. The simplicity and speed is extremely appealing to me as a beginner especially, and it seems like the flexibility suits a lot of my eventual goals. Keep up the good work! If you need help with develop​ing a tutorial, I'll be a guinea pig!  
&gt; Posted by austenStrine to Red Programming Language at March 30, 2017 at 8:17 AM

Anyone interested in making a tutorial for beginners (or pointing him to existing ones)?

rebolek

[08:52](#msg58dcc7317ea420cc421da156)I've been thinking recently about gamified tutorial in console (or View). Basically, you will start with some few simple values (like integer and math functions) and once you solve given task (how to do addition, etc), new datatypes and functions will be unlocked (block, append, ...). I think it could be fun way to introduce Red to people with no experience.

dander

[09:28](#msg58dccfc98e4b63533d7af961)@rebolek maybe something like http://clojurescriptkoans.com/ ? I played with it a while back, and thought it was pretty fun. But I already had some experience with lisp, so I don't know how it would be for a pure beginner

rebolek

[09:59](#msg58dcd7064cb8d091733f9f59)@dander Yes, something like. It is fun way to introduce the language IMO.

geekyi

[12:41](#msg58dcfd0cb402a53211ca1999)@dander inspired by clojure, inpired by ruby, inspired by Lisp.. (Little LISPer) :smile:

rebolek

[13:47](#msg58dd0c72b52518ed4dc1df93)Such interactive tutorial is basically enhanced help, help with examples and deeper description than just a doc string.

9214

[16:42](#msg58dd3565ad849bcf42356069)SICP in Red?

JacobGood1

[19:00](#msg58dd55ba408f90be66714520)This news is timely: https://www.codingame.com/blog/building-a-free-knowledge-sharing-technology-platform/

[19:00](#msg58dd55d4b52518ed4dc34411)Would be interesting to have red hooked up to codingame

maximvl

[20:20](#msg58dd68794cb8d09173424ab0)@JacobGood1 wow, I just opened your link and spent an hour playing these games :D

JacobGood1

[20:21](#msg58dd68b0ad849bcf4236501d)Yea, if we had red on there it would be a great teaching tool... I think

maximvl

[20:23](#msg58dd695e08c00c092a313052)that's for sure

[20:41](#msg58dd6d674cb8d091734260a9)not sure how they add languages, chances are popularity is the most important factor

[20:41](#msg58dd6d8d8e4b63533d7de0c8)I'll try to ask on forum

greggirwin

[22:13](#msg58dd831f408f90be6672166e)Thanks for the link @JacobGood1! Of course they use a hero image from a Luc Besson film. :^)

## Friday 31st March, 2017

dahu

[06:07](#msg58ddf20bad849bcf423846d8)Pharo (Smalltalk) has an interactive tutorial called Prof Stef that familiarises new users to the windows and controls of the GUI, image and language.

maximvl

[09:19](#msg58de1f2a7ea420cc42235dd6)I feel like Red editor will be something similar to Smalltalk live IDEs

pekr

[09:29](#msg58de215ead849bcf423924bd)Nice article about Smalltalk reneisance and road to Pharo project. It shows, it just can be done, with even a small team. And btw - Carl kind of liked Smalltalk too. https://thenewstack.io/can-man-spark-renaissance-smalltalk-programming-language/

[09:30](#msg58de21c0b402a53211cee80c)You could just change Smalltalk for Red there - similar philosophy ...

geekyi

[15:47](#msg58de7a0708c00c092a35a79b)@JacobGood1 @maximvl  
&gt; This news is timely: https://www.codingame.com/blog/building-a-free-knowledge-sharing-technology-platform/

Playing those games made me feel just how awful and verbose everything other than redbol is. So much boilerplate for a simple exercise!  
On closer inspection, it looks as if the games are biased towards imperative, stream based languages.. \[this haskell](http://stackoverflow.com/a/37577644) stackoverflow question is the same exercise if I'm not mistaken; and shows just how unidiomatic the initial boilerplate code is

JacobGood1

[15:48](#msg58de7a4d8bb56c2d11612abe)Yep, popular languages suck

geekyi

[15:49](#msg58de7a73b402a53211d09705)I wouldn't recommend those to a beginner.. everything feels so complex, more like something built to distract from the pain of programming in more verbose languages

[15:49](#msg58de7a80408f90be667619f0)Maybe it works for c++

greggirwin

[16:22](#msg58de825ab402a53211d0c026)@pekr, et al, I can't find the link I wanted, but here's the end of a talk by Alan Kay that is worth watching: https://youtu.be/YyIQKBzIuBY?t=2877 (stay to the end).

[16:24](#msg58de82c8ad849bcf423af4c3)In one of VPRI's articles or talks, there is more detail about their approach to shrinking things.

geekyi

[16:34](#msg58de8503b402a53211d0cd8c)@JacobGood1 I've been spoiled by redbol :worried:

[16:34](#msg58de8532b402a53211d0ce7a)Everything else feels so complex now..

[16:36](#msg58de85910e4137042ace08a5)Now I'm thinking.. why this unnecessary facade.. so much boilerplate.. getting help is so complex, I have to search on google!

Danielez

[17:03](#msg58de8bc8ad849bcf423b2481)Hello how can I convert a json file to a red block? I've tried the `load %test.json /as json` but I get the following `>> load %test.json /as json *** Syntax Error: missing #"]" at {, "html", "google",} *** Where: do`

dander

[17:11](#msg58de8ddd0e4137042ace32cc)@Danielez the refinement should be on the method, and `json` should be a `lit-word!` (otherwise it tries to get the value) like `load/as %test.json 'json`... but I don't think loading json has been implemented yet. I bet someone has a parser for it though

Danielez

[17:13](#msg58de8e1fb402a53211d0f9fd)Ok, thank you.

dander

[17:18](#msg58de8f4e08c00c092a361568)@Danielez I think this would help https://github.com/kealist/RS-fossil-mirror/tree/master/JSON

Danielez

[17:34](#msg58de933b7ea420cc42258181)Yes, so to use these libraries I just clone the project and the `do %/path/to/library.red` right?

[17:35](#msg58de93508e4b63533d82c2bb)in my script I mean

rebolek

[17:45](#msg58de95c9ad849bcf423b5ab2)@Danielez you may also check different implementation - https://github.com/rebolek/gritter/blob/tools/json.red - I use it in my Gitter and GitHub APIs.

Danielez

[17:46](#msg58de95f74cb8d09173474367)Thanks

x8x

[19:14](#msg58deaaaa8fcce56b20b9be21)@rebolek Nice! Thanks for that! :smile:

geekyi

[19:36](#msg58deafa9408f90be66772194)@Danielez And there's also altjson by @rgchris, just mentioning all the alternatives out there..

rgchris

[20:47](#msg58dec0590e4137042acf186a)Not Red-ified yet.

iArnold

[20:49](#msg58dec0c47ea420cc42265a14)Thank you for the link @greggirwin ! (No need for the HD version, it made the fan of my old Macbook want to make it fly)

rebolek

[21:49](#msg58decf068fcce56b20ba55df)@x8x you're welcome :)

## Saturday 1st April, 2017

karadi2016

[08:10](#msg58df6068ad849bcf423e18e6)Hi Everyone. Very new to Red.

rebolek

[08:10](#msg58df60918e4b63533d859407)@karadi2016 Hi! Hope you like it :)

karadi2016

[08:11](#msg58df609d8e4b63533d85941c)Just havving some trouble in executing a script in Windows. C:\\Users\\kaRadi\\Desktop\\Red&gt;red -c hello.red  
'red' is not recognized as an internal or external command,  
operable program or batch file.

[08:11](#msg58df609f8e4b63533d859427)PLs help

[08:11](#msg58df60ab0e4137042ad11e87)it sounds very interesting @rebolek

rebolek

[08:12](#msg58df60ff408f90be6679690c)Hm, I don't see why it shouldn't work. I guess you checked if the file is there.

karadi2016

[08:13](#msg58df6143ad849bcf423e1c38)@rebolek file is there. and the error is more of a path issue.. :(

pekr

[08:21](#msg58df62ee7ea420cc42285536)When I try, while in a root directory, to do the same, it errors out, but console launches (not compiling, just trying to run one demo script). The `what-dir`then reveals, I am still at `%/C/`root folder. Following works though: `c:\!red\red\red c:\!red\red\particles.red`

[08:21](#msg58df6316408f90be667971c0)So in your above case, try to provide a path to even the script you are compiling, or first switch to that directory ...

karadi2016

[08:24](#msg58df63a6b52518ed4dcb51f0)@pekr @rebolek Got it to work! It needs the executable to be in the same folder as the script. (SO it is a path thing). When you write the cmd you have to give the entire name of the executable for it to compile e.g. red-062 -c hello.red. Will try your suggestion @pekr

pekr

[08:42](#msg58df68137ea420cc42286657)Are functional languages on its rise? I am watching Eve on Twitter and noticed one guy in CZ asks, if anyone is using it locally and would be able to present at PragueLambda ( https://twitter.com/PragueLambda ), which is followed by cca 1K ppl and the group seems to be about Clojure, Scheme, Erlang, Haskell and related frameworks. Now the question is, if making an introduction to Red there, would be welcomed (ppl being open-minded) or contraproductive? What do you guys think? ( @dockimbel ) . I might try to contact that guy and at least have some basic info exchange?

rebolek

[08:43](#msg58df6846f22385553dfa1c5e)@pekr this sounds like a great idea.

Danielez

[12:14](#msg58df99b08bb56c2d1165237b)Hello, Is the quote function basically common lisp quote? and if so is there a backquote equivalent? ( http://www.lispworks.com/documentation/HyperSpec/Body/02\_df.htm ) Thank you.

maximvl

[12:15](#msg58df99ee8e4b63533d865043)@Danielez Hi, nope, `quote` is not a lisp quote and backquote equivalent is `compose`

Danielez

[12:16](#msg58df9a05ad849bcf423edb4e)Ok thank you.

maximvl

[12:16](#msg58df9a2f4cb8d091734ac509)@Danielez lisp's quote is just a block:

```
>> [a b c]
== [a b c]
```

[12:17](#msg58df9a5e4cb8d091734ac565)@Danielez this is example of backquoting:

```
>> a: 1
== 1
>> b: 2
== 2
>> compose [(a) (b) c]
== [1 2 c]
```

Danielez

[12:17](#msg58df9a727ea420cc422912f3)ok so we manually call eval on it when we "do" it

maximvl

[12:18](#msg58df9a9d8fcce56b20bcd3f9)@Danielez exactly, lisp has an agreement that first item in the list is function call, in Red it's not, you have to specify what you want to execute

Danielez

[12:19](#msg58df9adf08c00c092a39ca34)Ok. Red is very cool I hope it conquer the universe.

maximvl

[12:20](#msg58df9b17408f90be667a2bd9)haha, we'll see, feel free to ask questions and join the discussions on `red/lisp`, `red/code`, `red/help` and `red/welcome` :)

Danielez

[12:22](#msg58df9b878fcce56b20bcd5e2)Thank you.

JacobGood1

[13:38](#msg58dfad5e8fcce56b20bd1717)@pekr they are definitely getting more popular, "feels like the days when oop was being evangelized to us all"... =)

I quoted that because I was not actually around for that time =P

9214

[15:56](#msg58dfcdaf08c00c092a3a7f1e)@Danielez ;)

```
>> `: :compose
== make native! [[
    "Returns a copy of a block, evaluating only...
>> a: 1
== 1
>> b: 2
== 2
>> `[(a) (b) c]
== [1 2 c]
>>
```

meijeru

[16:28](#msg58dfd524408f90be667b069f)^Shows some nice possibilities of Red, but... it does not create a \[`and`]`pair of brackets, since any whitespace is allowed between the backtick and the`[\`.

9214

[16:45](#msg58dfd93a08c00c092a3aae8e)yeah, here backquote symbol is an alias for `compose` function

maximvl

[17:09](#msg58dfded9f22385553dfbce4c)it's an alias for anonymous function, which is the same function word `compose` points to ;)

greggirwin

[17:56](#msg58dfe9b68fcce56b20bde920)@karadi2016, welcome! Glad you got it to work. Many of us have editors set up, so the target file and/or exe is fully specified, so we forget some of these issues. You might try using VSCode, which has a Red extension, if you don't already have a working environment set up for it.

Happy Reducing!

[17:58](#msg58dfea58bc370d964edb0376):point\_up: \[April 1, 2017 2:42 AM](https://gitter.im/red/red?at=58df68137ea420cc42286657) Yes @pekr. Functional is gaining steam. I suppose we have JS to thank in part, because now a mainstream language has first class functions, so more people know about them. Now comes the fight about lazy evaluation, copy on write semantics, and all the rest. :^)

[17:59](#msg58dfea9a0e4137042ad30faa)@JacobGood1, it is \*very much* like the hype days of OOP. I was around then.

JacobGood1

[18:02](#msg58dfeb4af22385553dfbfeef)I read an article just the other day where this lady, who had never programmed before, was talking about how bad mutable state was and how fp was going to save us all. She decided that fp was superior, parroted the usual arguments, without ever having programmed imperatively before. It was amusing to say the least.

greggirwin

[18:04](#msg58dfeb95408f90be667b5e92)That's hysterical. :^)

JacobGood1

[18:04](#msg58dfeb98b52518ed4dcd2aef)And, of all things, she was going to do game programming with clojure...

greggirwin

[18:04](#msg58dfebb18fcce56b20bdf01a)I wish her lots of luck.

[18:05](#msg58dfebf40e4137042ad3155b)Not that Clojure is bad in any way. I don't think it is. And I really enjoy watching Rich Hickey talk about it. I have some `transducer` experiments around here even.

JacobGood1

[18:05](#msg58dfebf6bc370d964edb0a63)I have already gone down that route...multi-paradigm languages are the way to go. FP is not good for everything, just like oop is not good for everything.

greggirwin

[18:05](#msg58dfec0308c00c092a3af7b4)Nothing is good for everything.

[18:07](#msg58dfec45408f90be667b622a)I also think there's absolutely a place for pure FP, and languages that protect you at all costs.

JacobGood1

[18:07](#msg58dfec68bc370d964edb0c6c)I have programmed a good bit in clojure, I have also made games in clojure.

[18:07](#msg58dfec7fb52518ed4dcd2e55)I also made a game in Haskell.

greggirwin

[18:08](#msg58dfecaa8bb56c2d11664f36)How is it for that? Strengths? Weaknesses? Was the Haskell game called "guess what this does?"? ;^)

[18:09](#msg58dfecc88fcce56b20bdf3d2)That's the game I usually play with Haskell.

[18:10](#msg58dfecfb08c00c092a3afba3)I admit to some envy for those who "get" things like that.

JacobGood1

[18:11](#msg58dfed4408c00c092a3afcd7)The haskell game was a real time text game, basically instead of graphics I used ascii. I will admit that it worked very well when it actually compiled, however, getting to that magical compile is an arduous task.

The clojure games I have made are a 2d platformer, arcade style shooter, and some others. It was much easier to create a game in clojure, but it still took far too much mental effort.

[18:12](#msg58dfed79ad849bcf42401bb6)I would say the biggest strength in clojure was free snapshots of the state of the program, other than that, it was a major chore.

greggirwin

[18:13](#msg58dfedc28e4b63533d878ae9)Excellent feedback. Thanks.

JacobGood1

[18:14](#msg58dfedfab52518ed4dcd340a)This article is good as well as the various links in it: http://prog21.dadgum.com/54.html

[18:30](#msg58dff1cf4cb8d091734c01a1)One more point about functional game programming, notice this game engine being developed for the web: https://github.com/alexkehayias/chocolatier

Go down to the performance section, read this quote:  
"The game engine is being tested to get to 100 "game objects" with meaningful functionality, tilemaps, sound, etc at 60 FPS. "

100 objects at 60fps? Wow, that is pathetic.

Finally read the tips section, caveat after caveat, what you will garner from that is... don't use clojure for game development.

pekr

[18:33](#msg58dff27d408f90be667b7678)Well, it is a ClojureScript, not just a Clojure? So it is mostly Clojure generating some JS code?

greggirwin

[18:34](#msg58dff2c108c00c092a3b1142)Some things just aren't a good fit.

[18:39](#msg58dff3d68fcce56b20be0d8c)But 100 objects isn't bad, if it's on-screen objects and not your entire dataset. I mean, you could still write nice small games with it. Some games only have a few objects.

[18:40](#msg58dff40b408f90be667b7ae9)\*But\*, it has to remove a lot of pain for you if it's going to be slow. It shouldn't be both slow \*and* painful.

JacobGood1

[18:40](#msg58dff40e7ea420cc422a5ade)In 2017 I cannot agree, you are right in saying that some games can be made, but that "some" is very small.

pekr

[18:42](#msg58dff499b52518ed4dcd4d38)Well, if ClojureScript generates JS code, in the same sense as R/S is generating a target code, then the resulting script is a pure JS code. Doesn't it, in fact, relate to the performance of JS itself? Well, or the efficiency of the engine CS generates for JS to execute?

JacobGood1

[18:44](#msg58dff4f908c00c092a3b18bb)Off-topic: when I actually get back to writing red code I am going to be such a newbie again.

[18:45](#msg58dff5338bb56c2d11666b63)@pekr it relates more so to how functional programming is slow as hades when it comes to game programming

[18:46](#msg58dff581bc370d964edb2e80)My favorite abstraction for game programming that I have come across is co-routines

dander

[19:00](#msg58dff8e80e4137042ad3485d)@JacobGood1 do you have any good links for explaining co-routines? Are they related to promises?

JacobGood1

[19:42](#msg58e00290f22385553dfc5475)I do not have any links that come to mind, promises can be implemented with co-routines, co-routines are more general and powerful than promises.

Here is a link to piss off your Haskell friends =): http://blog.paralleluniverse.co/2015/08/07/scoped-continuations/

[19:45](#msg58e003557ea420cc422a9b21)I also linked this talk a while ago: https://www.youtube.com/watch?v=Ztr8QvMhqmQ

## Sunday 2nd April, 2017

Danielez

[00:17](#msg58e0432c0e4137042ad44007)@9214 Thanks, Red feel like a Lisp indeed.

[00:21](#msg58e043f2f22385553dfd2b28)\*feels

Gwarks

[08:05](#msg58e0b0c3ad849bcf42425ac7)A few days ago, in the löve2d forums they said that lua is best for game scripting, but now with libRed available they should be proven wrong.

ifgem

[10:26](#msg58e0d1c8f22385553dfec56e)@Gwarks They're right. Red doesn't have gc and its current implemetation is rather slow. So, it can't be used for game development yet.

pekr

[10:33](#msg58e0d38d8e4b63533d8a3dab)Red is slow?

PeterWAWood

[12:41](#msg58e0f16b8bb56c2d116967fa)Red has no optimisation yet. The version of Lua used in games is normally LuaJIT which performs at close to C speeds. It is written in Assembler unlike Lua which is written in C.

[12:45](#msg58e0f2768bb56c2d11696c6b)These \[benchmarks](https://attractivechaos.github.io/plb/) show that LuaJIT performs better than Go language on some benchmarks.

JacobGood1

[13:00](#msg58e0f5fc0e4137042ad6626e)Yea, lua is very fast, I do not know if it is the best all around scripting language but if performance is a concern lua should be chosen.

[13:01](#msg58e0f617bc370d964ede6292)Doc has said before that he would like to achieve lua performance, well see

Gwarks

[13:30](#msg58e0fd000e4137042ad67dc4)But it was only talked about scripting an engine written in another language. In LUA specifiying DSL is difficult in Red it is much easier.

JacobGood1

[13:33](#msg58e0fdb48fcce56b20c13cee)Without a doubt red's abstraction capabilities far exceed luas, but you have to be able to use the abstractions at 60/30 fps

PeterWAWood

[13:35](#msg58e0fe268e4b63533d8ad913)Personally, I don't agree that specifying a DSL is \*\*much\** more difficult in Lua than Red. \[Lua's LPeg implementation](http://leafo.net/guides/parsing-expression-grammars.html) has a lot of similarities with

```
parse
```

. It isn't quite as readable but it isn't so difficult to build a DSL.

JacobGood1

[13:38](#msg58e0fec9f22385553dff6bac)Well, difficult is a subjective term, but I am sure you would agree that abstraction creation in red is more powerful than pretty much any language(that I know of)

PeterWAWood

[13:42](#msg58e0ffb27ea420cc422db95a)I agree that Lua is not really comparable to Red, as you say they seem (to me) to work at different levels of abstraction. LPeg being the one exception that I am familiar with.

JacobGood1

[13:52](#msg58e1022f7ea420cc422dc25c)Rich hickey once discussed that he did not like pattern matching because it was closed, while he did like multimethods because they were open.

It took me some time to digest what he was saying but basically it is this; if you want to extend the patterns a function is matching you must alter its source, while with multimethods you can extend what it matches by simply writing another multimethod in your own source. If you were to use someones library, with their multimethods, you could easily extend what those methods match, without altering the library at the source level. This means that you can extend any data structure with new multimethods without ever needing to mess with the original implementation of the method.

When programming in red it dawned on me that red takes that idea to the extreme, literally every single thing in the language is extensible. You could import someones lib and extend their code just by altering the data that the code is composed of; you do not have to touch the source code of the library at all. In this sense, all of red is open, while every other language is closed in one form or another.

gltewalt

[16:32](#msg58e12792ad849bcf42440873)Ruby fixes that with method\_missing and respond\_to?

[16:46](#msg58e12ae68fcce56b20c1e6ab)This is cool from Lua, and might fit Red/System  
http://stackoverflow.com/a/2870781

greggirwin

[17:09](#msg58e1303fad849bcf424429e2)@JacobGood1, nice Rich Hickey analysis. There is no single way to do this, but its design should be deeply designed as part of the host language. In Red we can emulate almost any behavior, but we don't have best practices for doing so yet. The recent chat on with/using/let/dynamic might be used to think about how we go about it. For missing methods, we could emulate it with objects, but it might be better in the standard path evaluator. That will add overhead though. And then we have to think about how it works for function refinements. Do you have a similar handler for "refinement missing"? If so, how does that work compared to remaking functions.

Multiple dispatch can make for lots of separate functions. Red's type checking system lets us combine shared behavior in different ways, but it's fundamental design also means we may not \*want* to emulate certain things.

[17:11](#msg58e130c2ad849bcf42442b92)As I said in a HN comment, Red will never be fast enough for everyone, but benchmarks are also meaningless in many cases. Are Python and Ruby blazing fast? Has a lot of useful software been written with them?

[17:20](#msg58e132c708c00c092a3f2a02)When people complain that X will be (not "is" but "will be") too slow--I got that a \*lot* with VB, and some with R2--I ask "how much too slow? Please give me concrete examples to work against." Often this leads to "It has to be as fast as possible." While that's always nice, we don't know what that is unless we build the fastest one. My take is that things have to be fast \*enough\*, which is a soft constraint that varies by context. Animation and games have minimum response times or FPS goals, real-time systems have hard limits, but most performance requirements are very, very soft. 0:5:0 vs 0:0:5 may not matter at all, but a working solution in 5 days vs 5 weeks may be huge.

[17:39](#msg58e1376fbc370d964edf5bb8)I used to have a little parallel-do example, WRT co-routines, but Doc and Maarten Koopmans both wrote things (Uniserve and Storm) that show it can be done.

[17:55](#msg58e13b068fcce56b20c2235a)Found an old co-routine experiment here, but it depends on an old FSM dialect I did in R2 as well.

[18:02](#msg58e13ccff22385553d005311)No context or anything here of course.

```
do-in-parallel: func [progs [block!] "key-val pairs"][
	while [not empty? progs][
		foreach [key prog] progs [
		    do/next prog 'prog
		    progs/:key: prog
		    if empty? prog [remove/part find progs key 2]
		]
	]
]

do-in-parallel [
	a [print 1 print 2 print 3]
	b [ print "^-v" print "^-w" print "^-x" print "^-y" print "^-z"]
	c [print [tab tab mold #qrs]  print [tab tab now/time]]
]
```

Gwarks

[18:04](#msg58e13d308fcce56b20c22a2c)VHDL is fastest language but not very well suited for scripting burning new ICs each time when you change little things takes to much time…

[18:05](#msg58e13d57408f90be667f961e)Also chip factory is too expensive for simple jobs

[18:08](#msg58e13e35bc370d964edf7072)Or short you don't need to do everything in fast language. For example the C64 does collision checking and rendering in hardware but game logic could be done in interpreted basic. So there was no need for the scripting language to be fast. But there was an need to be easy or at least easier then plain assembler.

greggirwin

[18:24](#msg58e141e98fcce56b20c24145)Still very basic, but with contexts for tasks:

```
do-tasks-in-parallel: function [tasks [block!] "Task objects"][
	orig-list: tasks
	tasks: copy tasks
	while [not empty? tasks][
		forall tasks [
			task: tasks/1
		    task/_state: do/next task/_prog 'prog
		    task/_prog: prog
		    if task/_state = 'done [remove tasks]
		]
		head tasks
	]
	orig-list
]

task-proto: context [_prog: none _state: none]
make-task: func [spec body][
	task: make task-proto spec
	task/_prog: bind body task
	task
]
t-a: make-task [a: 1 b: 2][
	a: a + 1  print a * b
	a: a + 1  print a * b
	a: a + 1  print a * b
	'done
]
t-b: make-task [s: copy "" c: 'x][
	append s c print mold s
	append s c print mold s
	append s c print mold s
	append s c print mold s
	append s c print mold s
	'done
]
print mold do-tasks-in-parallel reduce [t-a t-b]
```

Note that `do/next` does complete iterations of loop constructs, not just one iterations per `/next`. And we don't have non-blocking I/O as Node does from libuv, so this is conceptual mor than useful.

maximvl

[18:29](#msg58e14310ad849bcf42447c1a)well, this is parallel not concurrent

greggirwin

[18:43](#msg58e1465908c00c092a3f73f2)Yes, did I say concurrent somewhere? I meant parallel for these simple examples.

[18:49](#msg58e147c78fcce56b20c25971)Of course, this isn't really parallelism either, just round-robing scheduling of small steps.

maximvl

[19:29](#msg58e15110408f90be667fe72a)@greggirwin I'm just saying that we still need real concurrency :)

[19:32](#msg58e151dd8bb56c2d116ad868)Erlang did it exceptionally well, but the cost is also high - it has it's own scheduler and it can balance load across processors, which is quite a complex thing to code I think and overhead is significant for regular one-thread tasks

geekyi

[20:22](#msg58e15da38e4b63533d8c4ccb)@maximvl io is supposed to be better.. It has an actor model. Doc also he was considering an actor model

[20:26](#msg58e15e80408f90be66801754)Personally, I think we need different models of parallelism

[20:28](#msg58e15eed8e4b63533d8c52dd)Or at least for data parallelism and concurrency.. I prefer the former

ZenoArrow

[20:53](#msg58e164cf4cb8d0917350c70d)@geekyi This was written in 2015, but I'm guessing it's still the plan...

[20:54](#msg58e165208e4b63533d8c6a70)&gt; "Will Red have built-in support for some type of concurrency and/or parallel processing? What kind of model is it going to follow?

&gt;Certainly. Increase in computation power is now horizontal, with multiple cores, multiple processors and distributed architectures, so, strong concurrency support is a key part of a modern general-purpose language.

&gt;For now, the model we aim at is the Actor model. It is a good fit for Red and would provide a clean way to handle concurrent and parallel tasks across multiple cores and processors. Though, a few years has passed since that plan was made, so we will need to revisit it when the work on 0.9.0 will start, and define what is the best option for Red then. One thing is sure, we do not want multithreading nor callback hell in Red. ;-)"

[20:55](#msg58e1652f8e4b63533d8c6a82)Taken from: http://www.red-lang.org/2015/12/answers-to-community-questions.html

[21:07](#msg58e1681908c00c092a3ff68a)Considering the wide range of uses for Red, I'd say whatever is chosen should be something simple to debug (e.g. https://en.wikipedia.org/wiki/Rendezvous\_(Plan\_9) ), even if it's not the absolute optimum performance-wise, but I'm not in the Red dev team so I'm not in a position to decide, whatever route they take is up to them.

Danielez

[21:51](#msg58e1725ef22385553d011f35)

```
>> data: json/decode read https://www.reddit.com/r/lolcats/.json
ERROR: Problem with the SSL CA cert (path? access rights?)
*** Access Error: cannot connect: https://www.reddit.com/r/lolcats/.json reason: timeout
*** Where: read
```

[21:53](#msg58e172c28e4b63533d8c9abc)Fedora release 25 (Twenty Five)

[21:53](#msg58e172cb0e4137042ad84a68)red 0.62

[21:57](#msg58e173c84cb8d0917350f83a)Same request with curl from command line works normally.

maximvl

[22:01](#msg58e174a0b52518ed4dd2329a)@Danielez

```
>> read https://www.reddit.com/r/lolcats/.json
== {^{"kind": "Listing", "data": ^{"modhash": "", "children": [^{"kind": "t3", "data": ^{"contest_mode": false, "banned_by": null, "media_embed": ^{^}, "subreddit": "lolcats", "selftext
```

Danielez

[22:02](#msg58e175034cb8d0917350fbd9)mhmm so its my machine

[22:02](#msg58e175118fcce56b20c3020a)thanks

maximvl

[22:03](#msg58e1751f7ea420cc422f68d2)or network, sometimes free wifi messes up cetificates

## Monday 3th April, 2017

dockimbel

[01:59](#msg58e1ac970e4137042ad8f831)@ZenoArrow Simplicity is the cornerstone of Red, so the trade-off you suggest is what we will aim for.

[04:22](#msg58e1ce01b52518ed4dd341fb)Was the EDIT option gone from Gitter, I can't edit my posts anymore, even just after posting them!?

gltewalt

[04:23](#msg58e1ce5a8e4b63533d8dbefb)I still see it

[05:41](#msg58e1e092b52518ed4dd378d6)Just now my edit option is grayed out

PeterWAWood

[05:41](#msg58e1e0a58fcce56b20c4434f)I can still edit. Perhaps you are using the wrong browser.

gltewalt

[05:42](#msg58e1e0c8b52518ed4dd379a1)It was there for many minutes when talking in red/help. Now... gone

[05:43](#msg58e1e0eb8bb56c2d116cb320)Oh, weird. I can in this room, but no longer in red/help

Gwarks

[14:50](#msg58e261258fcce56b20c68611)When linking against libRed i get an Speicherzugriffsfehler

[14:50](#msg58e2613a7ea420cc423308aa)When invoking redOpen and redClose i get:

```
*** Runtime Error 1: access violation
*** at: F766D331h
```

jmgbsas

[15:11](#msg58e2661f8fcce56b20c69e24)Good Day I am following Gui examples one of them has an error

[15:28](#msg58e26a12ad849bcf4248f913)the error is 1.2.5. Basic properties of GUI elements - styles example the correct way is without ':' in style view/tight [  
style mytext: text 8x8 yellow bold  
across mytext "1" mytext "2" mytext "3"  
return  
across mytext "4" mytext "5" mytext "6"  
]

greggirwin

[17:44](#msg58e28a0b7ea420cc4233e1e9)@jmgbsas, can you point to the source doc you refer to? I don't know where that is. What error do you get?

https://doc.red-lang.org/en/vid.html#\_styling states that `set-word!` syntax is used, and that is what VID expects.

jmgbsas

[17:46](#msg58e28a6f0e4137042adca35b)yes in http://www.red-by-example.org/ thanks

greggirwin

[17:46](#msg58e28a728fcce56b20c74fac)Ah, had a thought and found it! @mikeparr, it's in http://www.red-by-example.org/vid.html#11. You have `style:` instead of `style`.

Thanks for reporting @jmgbsas!

[17:47](#msg58e28aab0e4137042adca3f0)@jmgbsas, you can format short code elements with backticks (\`) or long sections with three, each on their own lines and the code between.

[17:49](#msg58e28b100e4137042adca60e)I also get a really tiny layout, not what the example on red-by-example shows. VID now seems to honor the 8x8 size.

jmgbsas

[17:55](#msg58e28c777ea420cc4233ea8c)backticks ? I will find for an example thanks..Another question, Can I put a windows inside another windows?

greggirwin

[17:57](#msg58e28cf34cb8d09173556f68)Backtick on US keyboard is unshifted tilde key. It's ASCII 96.

jmgbsas

[17:58](#msg58e28d3a0e4137042adcad84)yes I knw ' I was saying an example..

greggirwin

[17:58](#msg58e28d3a8e4b63533d911eb8)You can use the `panel` style in a layout, and you can use `center-face` to position one window over another, but you can't embed an entire window.

jmgbsas

[17:58](#msg58e28d5aad849bcf4249a589)ok thanks!

greggirwin

[18:01](#msg58e28df4408f90be6684c025)You should also be able to create sub-layouts and alter the view pane directly, but I haven't done that myself.

jmgbsas

[18:05](#msg58e28efdb52518ed4dd69e3e)I am reading and testing, becuase REBOL examples are not similar to RED,,bur rebol has more docs. as Creating Business Applications With REBOL. and R3 i not the same R2..I suposee Creating Business Applications With REBOL is R3...¿? and Red is child but not equal to R3...

gltewalt

[18:09](#msg58e28fd54cb8d09173557cc4)"Creating Business Applications" should be Rebol 2

greggirwin

[18:09](#msg58e28ff58fcce56b20c76888)Red is largely compatible with Rebol as a language, but the GUI system diverges a bit. Reading old Rebol docs is not a bad place to start though. Just don't expect GUI code to work as cut-and-paste.

jmgbsas

[18:10](#msg58e28ffdad849bcf4249b232)oh thanks I will follow Gregg link then

greggirwin

[18:10](#msg58e290128e4b63533d912f15)Red is a descendant of Rebol, yes.

[18:11](#msg58e290430e4137042adcba2a)But has new capabilities, and is currently bootstrapped in Rebol, not written in C.

jmgbsas

[18:12](#msg58e290918bb56c2d116fd87a)I am very beginner thanks,,

greggirwin

[18:20](#msg58e292574cb8d091735588e3)That's fine. We all were once. Welcome, and Happy Reducing!

jmgbsas

[18:21](#msg58e29295ad849bcf4249bf52)REduce hehe a good expresion I understand.

[18:21](#msg58e2929c408f90be6684d725)I will enjoy it!

mpchean

[19:22](#msg58e2a0fe0e4137042add0c5d)Very impressed with latest version. Good job.

ZenoArrow

[19:23](#msg58e2a13a68bee3091f080236)@dockimbel Good to know.

## Tuesday 4th April, 2017

dockimbel

[01:14](#msg58e2f38468bee3091f094b41)@Gwarks Which OS? Which language? Which toolchain? Which Red build?

[01:17](#msg58e2f40e0e4137042ade64f9)@mpchean Thanks! ;-)

pekr

[02:09](#msg58e3004f7ea420cc4235d54e)Guys, I have received a very positive reply from the Czech organiser of PragueLambda, which is a platform for mostly a Closure, but also other functional languages. Recently they were asking, if there is someoneone in CZ to introduce Eve to the group. Hence I asked, if they are open minded community, to eventually see other FP languages, of course Red this time. And I have received a following reply:

[02:11](#msg58e300b9f22385553d075865)"VERY open-minded. Hungry for new ideas and point of views. Could you please recommend me experienced red user who could give a talk on Pλ?"

[02:15](#msg58e301ae68bee3091f0975e6)Also - you might remember, how we always created a website for the Rebol conferences. It seems there is kind of a standardised platform for that - meetup.com. I find it just good enough and thinking about opening the Czech Redcons (or whatever the name we will give it). First we can start with the once per 6-12 months one, just few of us here in CZ, in 1-2 years, when we bring in some friends, it might be 10-20, who knows if we don't try it? :-)

[02:15](#msg58e301b14cb8d09173573a15)https://www.meetup.com/Lambda-Meetup-Group/

[02:18](#msg58e302638bb56c2d1171a2b2)Now the question is more towards @dockimbel , but also to @rebolek or @Oldes - I could generally present about Red, but e.g. the guy who replied to me, was studying a Charles University here, and the group might be interested in deep topics, noone from us here is able to be able to answer. Not sure how many from those 600 registered regularly meet - it might just be 20-30 ppl, but the question is, if Doc would eventually consider to attend? Those meetings are long planned ahead.

[02:19](#msg58e302aa8bb56c2d1171a393)The thing is, that it might lead to create a refreshed set of presentations over time, and then that could be presented by others too. I KNOW that it might be a bit preliminary, but I almost feel, it might be just the time to consider even such marketing dimension?

[02:19](#msg58e302c2408f90be66869803)... of course don't want to speak on behalf of FS and what Doc has in mind in that regard ....

gltewalt

[02:24](#msg58e303dc08c00c092a4689c2)What about skype presentation?

pekr

[02:39](#msg58e3076b408f90be6686a91b)Could be done, but not sure how is the connection from China. Also - conferences sometimes tend to slip schedules. For Doc, it could mean it will happen late night or early morning. I would be willing to travel there (PragueLambda) personally, just to coordinate/arrange ....

rebolek

[05:41](#msg58e331eef22385553d07f909)@pekr it seems interesting and I would like to attend also, if there will be some Red presentation. Maybe together we could answer more questions?

pekr

[05:45](#msg58e332df4cb8d0917357d72d)Yes, that's actually possibility I thought about too ...

dockimbel

[12:52](#msg58e3971808c00c092a48cb92)I am not available for any conference until 0.7.0 is out, it is just too time-consuming for me. Such conference happens pretty much every day somewhere in the world, I don't see anything special about that one, which is just a local meetup group.

iArnold

[13:03](#msg58e3998668bee3091f0be8a8)Just a little more confidence guys. Prepare your talk and then be honest that you may not know everything, but take a note of the difficult question and say you want to email the answers on the collected questions to those interested.

pekr

[13:46](#msg58e3a3c4408f90be668936c4)@iArnold - it will be tought for me and Bolek, facing questions from experts, who might have Phd :-) The only reason why I was considering this, was, that the organiser was looking for the Eve language presenter in CZ locally and seemed interested to have Red covered. What other way is there to raise local awareness, right?

[13:48](#msg58e3a41e408f90be668938bf)We will see, what other discussion will bring in and if that group would be interested in some intro. Some old slides form Doc are available (thought those might need some refresh), so we will decide later ...

iArnold

[15:07](#msg58e3b6a98bb56c2d11749255)@pekr Do not be overimpressed by people having Phd's, they probably lack other skills. If raising awareness is the goal that is certainly one way to do that. The time you will be given will for sure be rather limited (30min to an hour?) so no way you can go to deep into the details. Just raise interest and awareness.

JacobGood1

[15:15](#msg58e3b8894cb8d091735a365f)@pekr I have found that groups where phds abound tend to ask the most irrelevant, useless questions. I have a masters of mathematics from harvard, does that make me a genius of math? No, not at all, in fact, there are plenty of people that far exceed my skills in mathematics from other "lesser" schools and there are plenty of people in this channel that could code circles around me. I still say stupid things and do stupid things all the time. Having a phd does not really mean much to me anymore. Watch some debates on the news between phds and you will see what I mean.

tanstaaf1

[15:47](#msg58e3c00768bee3091f0ca960)https://www.sqlite.org/appfileformat.html makes the case for  
SQLite As An Application File Format. I think this would be a big win for red as it would do more than anything else I can think of to complete the case it being "batteries included". Red's built-in GUI support is huge and quite rare; SQLite file support would, I think, make a unique offering. Obviously everything added makes extra size and extra work; but why would basic support for the file format add that much size? In addition to business apps, this also fits well with the mobile target as I understand a high percentage of apps use SQLite. Thoughts?

greggirwin

[16:29](#msg58e3c9fc0e4137042ae1f50c)@tanstaaf1, certainly someone can do that, but I'm not sure it's a good fit as a native part of Red. Not that SQLite is bad in any way. Having an interface to it will be great, but including SQLite itself will add ~500K at \*minimum\*.

As Red apps grow in sophistication, its value may grow as well, but we can do a lot with just the native features we have (`save/load`), and if we get a simple indexing system, we can do even more.

If you build it, and people love it, you have leverage for future inclusion.

Oldes

[16:33](#msg58e3cabf408f90be668a0954)I would like to have SQLite binding as I would have usage for it already. Does anybody started work on it?

[16:38](#msg58e3cbeaf22385553d0acb83)I like how small it is in comparison to old big corporate databases. And although I use quite a lot plain data files, there are cases where more robust solution is better... still without need to install these fat db engines.

pekr

[16:38](#msg58e3cc1db52518ed4ddbdd79)Btw - there is SQLite 4, but not sure what is its future compared to default version. It is more of a storage engine. Kind of how Ashley rewrote RebDB - https://sqlite.org/src4/doc/trunk/www/design.wiki

[16:39](#msg58e3cc448e4b63533d9679e8)Kaj did some SQLite driver, it was done using Red/System IIRc, but not sure how useful/functional the wrapper is.

[16:40](#msg58e3cc8268bee3091f0ce963)What was also done in the past, was BTN (better than nothing) driver for R2, which was mostly wrapping sqlite.exe into scheme, using `call`. Maybe similar aproach could be used - wrapping the sqlite.exe, parsing results ....

[16:43](#msg58e3cd417ea420cc423946a1)One gfx app uses lightning DB - https://en.wikipedia.org/wiki/Lightning\_Memory-Mapped\_Database

tanstaaf1

[16:43](#msg58e3cd4b8e4b63533d967fc5)@greggirwin I'm not arguing for including SQLite query functionality - only native support for the file format. Read and write in the database in toto. Then red's existing facilities take over if I insist on searching it. This could be useful for recording state of an app, in addition to just getting a foot in the door. It would be cool -- and not very expensive I wouldn't think.

pekr

[16:44](#msg58e3cd56408f90be668a179b)Well, as time goes by, we might need the bindings group to not flood this channel ....

greggirwin

[16:46](#msg58e3cdfc4cb8d091735aa1fb)@tanstaaf1, the code to do that may not be huge, but the effort will be significant, yes?

[16:49](#msg58e3ce9d4cb8d091735aa625)I guess I don't see the value in a complex, binary format, if we basically have to reimplement SQLite to use it. I \*do* think it will be good to recreate some things in a full Red stack, to see how they might be done (e.g., native 0MQ, zip).

pekr

[16:51](#msg58e3cf250e4137042ae2155f)I expect, with 0.7.0 (or later), many database drivers might be created. But I am too not for the inclusion of some data storage in the official distro, unless it is based upon some abstracted concept, as there was RIF (Rebol Indexed Files) discussed in the past ...

tanstaaf1

[17:01](#msg58e3d1568e4b63533d9696f9)@greggirwin I should think not, but I confess I don't know. I will try to find a file format description and make it available for you red gurus to consider. If it is pretty straightforward maybe it can be added without too much effort. I'm pretty sure it would make for huge bragging rights - as well as quite practical. For really quite small databases (which I'm guessing make up 80%+ of all the databases created by causal or personal users) this might be all that is needed for a full app. At least it would get things started. As I said, if you really need to use full SQLite capability you install SQLite and learn how to interact with it. But this would probably be good enough for 80%+ of use cases and certainly to get things rolling.

greggirwin

[17:10](#msg58e3d39b4cb8d091735ac014)https://www.sqlite.org/fileformat2.html

[17:13](#msg58e3d42c8fcce56b20ccbcbf)I completely agree that small databases cover most needs. I'll go further and say that SQLite's file format is overkill for most of those.

tanstaaf1

[18:33](#msg58e3e70ff22385553d0b514c)https://medium.com/message/everything-is-broken-81e5f33a24e1 Forgive me if not directly red related, but \*indirectly* very much related. Eventually I believe there will be major consequences to the accretion of complexity -- and eventually a backlash. Red should be just about perfectly positioned when that day comes.

ZenoArrow

[20:45](#msg58e40600f22385553d0bed02)@tanstaaf1 Connection to SQL databases would be useful, but I'd prefer to see it included as an optional module rather than something built in. IIRC the plan is to have a module system for Red version 0.8.0.

tanstaaf1

[22:13](#msg58e41a8e0e4137042ae37ee2)@ZenoArrow, @greggirwin Well, the file format seems well specified - but also much more complicated than I'd hoped: https://www.sqlite.org/fileformat.html. I'm going to try and find some well written C code to see if there is a straightforward way - ideally something with straightforward logic to copy. Otherwise, and until then, I'll shelf my suggestion. Maybe the red module system will be like a dream come true, but in general I seldom find software contingencies that easy to resolve (it's not my job to stay up with kinky software requirements, I'm supposed to be running companies). I'll long remember the nightmare of installing haskell + code editor + yesod framework; took me 3 days to find all the hidden secrets of even getting things to run on canned code before I gave up. "Things should be as simple as possible, and no simpler" I think Einstein said. Or was that the quote @JacobGood1 called me on before...?

ZenoArrow

[22:26](#msg58e41dad68bee3091f0e6d09)@tanstaaf1 During the Cabal era, Haskell was notorious for dependency hell (it's supposedly much better now thanks to Stack). Other languages fare far better (Elm, Rust, etc...).

## Wednesday 5th April, 2017

tanstaaf1

[04:47](#msg58e476de8e4b63533d99357d)@dockimbel In trello I/O support says "mysql:// (if time permits, else in 1.x)" assigned to you. Having just withdrawn my request for sqlite as too complicated I am curious what to make of mysql I/O support? What do you have in mind?

pekr

[04:49](#msg58e4776d4cb8d091735d4846)I think it is about the protocol (scheme). You can look here for inspiration: http://softinnov.org/rebol/mysql.shtml

Gwarks

[05:55](#msg58e486be0e4137042ae4f8d8)@dockimbel I used Debian Stretch, c and gcc. I tested it with red-062 and red-03apr17-266c83a

dockimbel

[07:22](#msg58e49b204cb8d091735dc90e)@Gwarks What command-line options are you using for compiling your code? Does compiling `%tests/libRed/test.c` and running it with libRed work for you?

[07:32](#msg58e49d8e0e4137042ae54f0d)@tanstaaf1 Just porting my old MySQL driver to Red (it was less than 20KB in source form).

Gwarks

[08:48](#msg58e4af6c7ea420cc423cefe0)@dockimbel  
i compiled test.c with

```
gcc -o test.o -c -m32 test.c
gcc -o test -m32 -Wl,-R -Wl,. test.o -L. -lRed
```

still got same error

dockimbel

[08:56](#msg58e4b128ad849bcf42528c68)@Gwarks Does `ldd libRed.so` give you any missing dependency?

Gwarks

[09:10](#msg58e4b4698fcce56b20d0431b)@dockimbel No they seem to be all avaible

dockimbel

[09:10](#msg58e4b495408f90be668db65e)@Gwarks Did you build libRed using `red build libRed`?

maximvl

[10:09](#msg58e4c249408f90be668df4b1)@dockimbel how far are we from 6.3? :)

pekr

[10:21](#msg58e4c53968bee3091f10d194)We just got 6.2, aren't you a bit impatient? :-) Well, watch Trello ....

dockimbel

[10:39](#msg58e4c95f8fcce56b20d09d04)@maximvl I'm waiting for Mac GUI branch to land on master to make a review of the all the features we want to put in 0.6.3 with @qtxie. There are some extra features I want to get done on the GUI backends and the new console engine. We could release both together or split it into two versions, it is not decided yet.

Oldes

[10:42](#msg58e4ca31408f90be668e1748)Is it already possible to compile Red-console in some branch?

pekr

[10:43](#msg58e4ca4568bee3091f10e88a)you mean a gui console? or the new View based one?

rebolek

[10:49](#msg58e4cbb58e4b63533d9a870c)@Oldes if you mean the new View based one, it's not possible.

Oldes

[10:50](#msg58e4cbed408f90be668e1d81)I know.. I was trying.. and it looks @dockimbel already pushed fix on the master branch, but was not used in any public version with red-console when I checked last time.

maximvl

[11:01](#msg58e4ce8dad849bcf42530b5e)@Oldes not yet, AFAIK

dockimbel

[11:08](#msg58e4d03a0e4137042ae62799)@Gwarks I just retested and it works fine from here (Ubuntu 16.04 64-bit), using:

```
gcc tests/libRed/test.c -m32 -L ./ -lRed -Wl,-rpath='${ORIGIN}' -I ./libRed -o libRed-test
```

You can send me the binary file you compiled, along with your libRed.so version, so I can test it locally.

[11:10](#msg58e4d09c408f90be668e3150)@Oldes The new `red-console` should run fine interpreted, until @qtxie fixes it for compilation.

rebolek

[11:30](#msg58e4d5690e4137042ae64088) @dockimbel i wasn't able to make it work with cca 3 days old sources

dockimbel

[11:41](#msg58e4d7ecf22385553d0efac9)@rebolek Does it run fine now for you?

[11:43](#msg58e4d8558e4b63533d9ac163)@Gwarks This is what I get using your command-lines for compiling it:

```
dk@ubuntu:~/Desktop/red/tests/libRed$ gcc -o test.o -c -m32 test.c
dk@ubuntu:~/Desktop/red/tests/libRed$ gcc -o test -m32 -Wl,-R -Wl,. test.o -L. -lRed
dk@ubuntu:~/Desktop/red/tests/libRed$ ls
libRed.dll  libRedTest.c   README.md  test    test.o
libRed.so   libRedTests.c  red.h      test.c  test.xlsm
dk@ubuntu:~/Desktop/red/tests/libRed$ ./test
redOpen done
o_b: o/b
a: [42 "hello"]
42
"hello"
42 hello
make error! [
    code: none
    type: 'syntax
    id: 'invalid
    arg1: 'value
    arg2: "$%$"
    arg3: none
    near: none
    where: 'do
    stack: -160235096
]
%/home/dk/Desktop/red/tests/libRed/
0.6.2
99.0
add called! 2 3
5
routine [[extern] a [integer!] b [integer!]] none
o_b: o/b
o/b
o/b/2
#"e"
123
```

pekr

[11:48](#msg58e4d98bad849bcf4253437f)Not sure we talk the same thing (sorry, replying from a meeting), but tried to compile qtxie's red-console.red, and got following:

[11:48](#msg58e4d99cf22385553d0f0340)

```
Compiling c:\!Red\red-red-console\environment\red-console\red-console.red ...
*** Red Compiler Internal Error: Script Error : clear expected series argument of type: series port bitset none
*** Where: comp-path
*** Near:  [insert clear last output compose]
```

rebolek

[12:56](#msg58e4e97f08c00c092a4e7fa4)@dockimbel I am on phone now, Iwill let you know in about an hour

Oldes

[13:36](#msg58e4f2e5b52518ed4de0a18b)@pekr  
&gt; The new `red-console` should run fine interpreted, until qtxie fixes it for compilation.

pekr

[14:08](#msg58e4fa56ad849bcf4253f103)I know, I just noted Doc's remark towards Rebolek: "Does it run fine now for you?" , but most probably he referred to something else then ...

rebolek

[14:08](#msg58e4fa72408f90be668f07c1)I am going to try it now.

[14:13](#msg58e4fba07ea420cc423e59bd)@dockimbel It works now fine again, cool!

greggirwin

[14:48](#msg58e503a4f22385553d0fe341):point\_up: \[April 5, 2017 4:39 AM](https://gitter.im/red/red?at=58e4c95f8fcce56b20d09d04) More releases allows for more public announcements and more \*perceived* momentum.

iArnold

[15:02](#msg58e507238fcce56b20d1d65a)+1 Plus it would save pointing people over to the macGUI branch.

maximvl

[16:16](#msg58e5185608c00c092a4f71fe)mac gui would bring us more developers who use mac, which is quite a lot

greggirwin

[16:43](#msg58e51ebb8fcce56b20d253f1)I think iOS will be the big draw on the Apple side. A lot of devs switched to Mac when it became "Unix Inside", so the bait will be the GUI, then they'll find a nice tool for server use as well.

Gwarks

[17:07](#msg58e5246a408f90be668fe3e1)When running test this is my output is very similar except the end

```
redOpen done
o_b: o/b
a: [42 "hello"]
42
"hello"
42 hello
make error! [
    code: none
    type: 'syntax
    id: 'invalid
    arg1: 'value
    arg2: "$%$"
    arg3: none
    near: none
    where: 'do
    stack: -158920280
]
%/home/lee/Projekte/RedScreen/
0.6.2
99.0
add called! 2 3
5
routine [[extern] a [integer!] b [integer!]] none
o_b: o/b
o/b
o/b/2
#"e"
123

*** Runtime Error 1: access violation
*** at: F771D331h
```

geekyi

[17:19](#msg58e52725f22385553d10a096)Agree with @greggirwin about more releases.. Not too close together for maximum exposure.. Most people here use nightly builds or compile from source right? (tell me if I'm wrong)

gltewalt

[18:21](#msg58e535c50e4137042ae8312b)I always use automated build for the official red exe. I was bitten by the "stable" early on - I can't remember the issue, but since then I've used the automated build

mpchean

[23:44](#msg58e58151b52518ed4de34d02)Interesting live data feed and contest: https://www.satori.com/?campaign\_tier1\_value=796988604&amp;campaign\_tier2\_value=41497077076&amp;campaign\_tier3\_value=189629348524&amp;cp\_value1=kwd-28010887184&amp;cp\_name2=b&amp;device=c&amp;cp\_name1=search&amp;partner=google\_search

## Thursday 6th April, 2017

dockimbel

[06:25](#msg58e5df498bb56c2d117dba6c)@Gwarks It looks like it segfaults in `redClose()` call. Could you put some printfs around that call to confirm it? Do you know how to use `gdb`? If not I can give you some instructions for extracting some info about that crash.

geekyi

[14:41](#msg58e653acb52518ed4de69840)http://www.greenbot.com/article/3155115/android/google-encourages-android-tinkerers-with-standalone-downloads-of-adb-fastboot.html

[14:43](#msg58e65417b52518ed4de699e6)&gt; The bundle—which is available for Windows, Mac, and Linux—clocks in at around 3.7MB, a far cry from the 1.6GB SDK.

[14:44](#msg58e65457b52518ed4de69afa)Didn't realize you could download adb standalone now, for me, it's around 7MB on windows

fergus4

[17:22](#msg58e6796c08c00c092a556395)My js framework of choice (enyojs) is moving to React based core...not my cup of tea...but I need something to hold me over till Red is 1.0. I stumbled upon tabris.js. It's a javascript app dev framework that uses bridges to connect to ios and android ui similar to what red is doing. thought some might be interested. Seems you are locked into their online dev sdk. Their is a free level but if you need more its $50 per month. Not avail on mac.

greggirwin

[21:05](#msg58e6ad8b8fcce56b20d91223)This is the main room most new people come to, but for those with questions, or just for extra chat and info, check out https://gitter.im/red/help and https://gitter.im/red/red/welcome as well.

## Friday 7th April, 2017

AlexanderBaggett

[12:59](#msg58e78d4aad849bcf425ed73b)how to do make an http post request in red? I saw someone on stackoverflow say it could be done. Can someone show a minimal example?

rebolek

[13:19](#msg58e791fc8e4b63533da644cd)@AlexanderBaggett `write/info link [POST [data: here]]`

[13:21](#msg58e7926868bee3091f1cb794)where `[data: here]` are data in following format:

```
[
	Accept: "application/json"
	Authorization: "..."
]
```

## Saturday 8th April, 2017

geekyi

[04:14](#msg58e8638f8e4b63533da97962)@fergus4 I'd tried that out too.. One of the easiest ways to make android (and iOS) apps I've seen. Looks like it's done by the same guys from eclipse? Might be useful for @dockimbel.. The layout syntax, while JavaScript, is pretty terse like rebol. One mode of development is possible using just the app on an android device. The only thing better I've seen is sketchware.

[04:16](#msg58e86409f22385553d1dce17)Sketchware is a similar standalone app which uses the scratch programming language by Alan kay

[04:16](#msg58e864388bb56c2d11883412)Now I just need to figure out a way to post screenshots from Gitter android..

mikeparr

[08:36](#msg58e8a0f48bb56c2d1188f2b7) I'm planning to put some of the 0.62 types, words in Red-By-Example. I also wondered about creating a table-of-contents - perhaps a screen or 2 in length - of the red-lang.org stuff. Personally, I use this material, but a keyword search is not the best route to what I want. Any thoughts?

iArnold

[14:53](#msg58e8f9764cb8d091736f67fa)Somehow collected per subject. The blog articles are very good, but they are just scratching the surface, they are not documentation, and the documentation is great but that lacks examples. Red-by-example should be able to fill the gap between both,using the available info plus experience.

greggirwin

[15:56](#msg58e9084108c00c092a5f410f)A Resources section would be great @mikeparr. Not sure what you mean about keyword search though.

mikeparr

[16:04](#msg58e90a1c08c00c092a5f4704)@greggirwin I meant, e.g. that looking for date! with a search, you might get results such as 'will be in the next release!' and other results that you don't want.

greggirwin

[16:13](#msg58e90c240e4137042af733d6)Ah, got it. You could have a link to a blog entry and a short list of keywords we extract manually.

## Sunday 9th April, 2017

Rebol2Red

[07:13](#msg58e9df218e4b63533dae8bdb)Just a contribution. Maybe someone have good use for it.

GET TRUE RANDOM NUMBERS FROM RANDOM.ORG

RANDOM.ORG offers true random numbers to anyone on the Internet.  
The randomness comes from atmospheric noise, which for many purposes  
is better than the pseudo-random number algorithms typically used in  
computer programs.

From faq:

Q1.3: Can I download the generator software and run it on my own  
computer?

No. It's not just the software you'd need, but also three radios  
(or one, at any rate), which must be carefully adjusted to pick up  
atmospheric noise at the right volume. It's not completely trivial  
to set up.

Q1.5: Will RANDOM.ORG be around in X years?

Probably, depending on your value for X. We have run the service  
since 1998 with no real interruptions, and it is more popular than  
ever.

Read https://www.random.org

There is also a lottery picker  
If you win something with it you may share it with me :)

```
get-random-numbers: func [
	numbers "max 10,000" 
	s "max 1,000,000,000" 
	e "max 1,000,000,000" 
	/local result dest
][
	result: copy [] dest: copy []	
	thepage: to url! rejoin[{https://www.random.org/integers/?num=} numbers {&min=} s {&max=} e {&col=1&base=10&format=html&rnd=new}]
	page: read thepage ; https://www.random.org/integers/?num=100&min=1&max=100&col=100&base=10&format=html&rnd=new
	parse page [thru {<pre class="data">} copy dest to {</pre>}]
	replace/all dest {^/} { }
	foreach item split trim dest { } [
		append result to integer! item
	]
]

; fetch 100 random numbers from 0 to 10
randomlist: get-random-numbers 100 0 10 
probe randomlist
print randomlist/1

; fetch 50 random numbers from 22 to 33
randomlist: get-random-numbers 50 22 33 
probe randomlist
print randomlist/1
```

[07:47](#msg58e9e724b52518ed4df3d2f0)@iArnold @greggirwin About documentation you may have a look at  
http://www.freebasic.net/wiki/wikka.php?wakka=DocToc and http://www.freebasic.net/wiki/wikka.php?wakka=CatPgFullIndex

qtxie

[08:35](#msg58e9f24fa0e4856242e7d237)@Rebol2Red We use \[cryptographically random](https://en.wikipedia.org/wiki/Cryptographically\_secure\_pseudorandom\_number\_generator) internally in the Red runtime. It is far more random than the data generated by the typical random number generator. Maybe we can expose it in Red layer.

Rebol2Red

[08:39](#msg58e9f357ad849bcf4267577b)@qtxie  
So there is no need for this true random generator?  
What do you mean by expose it in red layer?

qtxie

[08:42](#msg58e9f40708c00c092a623832)It depends what you want, after all it's not true random, if you really want true random, then your code would be useful.

Rebol2Red

[08:43](#msg58e9f4474cb8d09173729d20)@qtxie You mean by exposing that it is not available at the console?

qtxie

[08:44](#msg58e9f45308c00c092a62394d)For now, we have this random function in Red/System and you cannot use it in Red.(Unless you use Routine!)

Rebol2Red

[08:45](#msg58e9f49f4cb8d09173729df5)@qtxie Are there plans to make it available?

qtxie

[08:49](#msg58e9f5b6b52518ed4df40128)Not in current plans, we would add it maybe. ;-)

Rebol2Red

[08:51](#msg58e9f61008c00c092a623dbc)@qtxie Will wait and see. I will use my code for now.

iArnold

[09:12](#msg58e9fb044cb8d0917372b22b)Perhaps it could be used as example in the `code` repository? https://github.com/red/code

gltewalt

[09:41](#msg58ea01ad4cb8d0917372c634)How do you feel about Red language support for cloud based dev environment?  
https://c9.io/

mikeparr

[10:20](#msg58ea0af98fcce56b20e500ab)This line (Windows):

```
call/output  %hi-exe.exe %hi-out.txt
```

appends to the output file, rather then clearing it before the first output. Is this expected?

PeterWAWood

[10:32](#msg58ea0dcaad849bcf4267ae82)@mikeparr Yes, this is the expected behaviour the output is appended to the "buffer" that you supply.

Oldes

[10:32](#msg58ea0dd8bdf4acc112408b92)@dockimbel there is a plan for a new `ref!` datatype. How it will differ to the existing `handle!`?

dockimbel

[13:19](#msg58ea34ddad849bcf426836b6)@Oldes It's unrelated, `ref!` is just meant to provide first-class support for `@` forms. In Rebol, it's an `email!`, I think it would be more valuable (for dialects) to have a separate type for such lexical forms.

CodingFiend\_twitter

[16:29](#msg58ea616768bee3091f268935)by the way, intel added true random numbers to selected chips recently. One of the only useful instructions they have added for a while; most of their newer instructions are solely designed to keep AMD's engineers pinned down for year, as they have crazy mnemonics and nobody uses them. But they did slip in a true random number generator and it is awesome. It found in the AVX extensions, RdRand is the mnemonic. You can get 16, 32 or 64 bit random numbers. It had a code name of Bull Mountain, and they were so keen on keeping it a secret that most of us users don't even know it is around since Ivy Bridge chips.

greggirwin

[17:28](#msg58ea6f4e08c00c092a63e18b)@Rebol2Red, thanks for posting. Nice example of quick data extraction.

[17:44](#msg58ea72ea8bb56c2d118f29d1)@CodingFiend\_twitter, cool!

tanstaaf1

[22:55](#msg58eabbf1408f90be66a4e61a)Does "brew" install red to MacOS?

[22:56](#msg58eabc208bb56c2d11902b83)Especially if it would handle install of nightly builds it would be nice.

## Monday 10th April, 2017

bilbo872

[01:38](#msg58eae2298e4b63533db1ee5f)does red support some sort of C-like printf formatting - especially for reals - like

[01:41](#msg58eae2ae8bb56c2d11909e46)%f12.3 etc. I've checked Rebol 2 and it seems to have never gotten this as a language feature - only partial and messy workarounds are available. Not sure about Rebol 3 or red.

gltewalt

[02:21](#msg58eaec158fcce56b20e804ff)What would you need it for?

[02:33](#msg58eaeeedf22385553d2640d5)

```
>> print ["The number is" pi]
The number is 3.141592653589793
>> print ["The number is" round/to pi .001]
The number is 3.142
```

ghost~5680c5f416b6c7089cc058a5

[03:11](#msg58eaf7c88bb56c2d1190ddc5)@bilbo872 C-like printf formatting "dialect" is currently in early design phase. @greggirwin is working on it AFAIK.

[03:12](#msg58eaf810ad849bcf426ad9ce)I think it would come with the 0.7.0 release.

[03:12](#msg58eaf82a8fcce56b20e82ed8)Though @dockimbel would know better about it.

rgchris

[04:05](#msg58eb0482a0e4856242eb77cb)@bilbo872 Rebol 3 introduced REWORD. Not the prettiest function if you look at the source but has some interesting features. Some info in \[this question](http://stackoverflow.com/questions/14924801/what-is-the-reword-function-in-rebol-and-how-do-i-use-it).

[04:08](#msg58eb052568bee3091f28c1b3)There was an issue \[#1990](https://github.com/rebol/rebol-issues/issues/1990) on it that contained something of a wish list and a proposed function.

dockimbel

[05:02](#msg58eb11efbdf4acc112441886)@bilbo872 As said by @nc-x, it's a work on progress from @greggirwin, no ETA yet. We plan to support it through a new versatile `format` dialect.

[05:03](#msg58eb121b68bee3091f28e99a)@gltewalt Brew is supported, see \[those instructions](https://github.com/red/Homebrew-red).

[05:04](#msg58eb1254ad849bcf426b3071)It seems we nailed down the Mac builds issues (thanks to tremendous help from @x8x), though we are still a reboot away from completion, so keep fingers crossed. ;-)

greggirwin

[17:46](#msg58ebc4e908c00c092a692993)I have spent quite a bit of time on `format` this past week. I have an old `format` func for R2, but am not just porting that directly. It's a big task, going from a large design view down to details of how to make it work best, then zooming back out, along with revisiting old notes on other systems. There are a lot of things to consider, and I imagine it will generate a lot of discussion once I have something out for review.

maximvl

[18:02](#msg58ebc8a0a0e4856242eedd98) @greggirwin great, can't wait to check it out! :)

bilbo872

[20:36](#msg58ebecc8b52518ed4dfb973f)two questions:

[20:37](#msg58ebed058bb56c2d11951979)1. Is it correct to say that essentially all new work has stopped on Rebol2/Rebol3 and all new development is going into Red?

[20:38](#msg58ebed4abdf4acc11247f5f6)2. is there a command to clear all the words in the console - essentially a quit and restart? I couldn't find one in the dictionary.

greggirwin

[20:48](#msg58ebef9dbdf4acc112480196)1. No. Atronix and Saphirion are still working on their respective R3 branches AFAIK. All work has stopped, a long time ago, on R2.

2\. No.

bilbo872

[20:53](#msg58ebf0c34cb8d091737a2ee1)are the Atronix/Saphirion branches available and free? Thanks for the quick response.

greggirwin

[20:57](#msg58ebf1a28e4b63533db697a7)Yes.

https://www.atronixengineering.com/downloads  
http://development.saphirion.com/rebol/saphir/

ericguedespinto

[22:01](#msg58ec00bb8e4b63533db6dca7)I am trying to get the keys from an object. In Rebol I can do first obj but that does not work in Red. Is there any alternative? obj/keys would be nice

maximvl

[22:01](#msg58ec00cd8fcce56b20eca77c)@ericguedespinto `keys-of obj`

ericguedespinto

[22:01](#msg58ec00d3ad849bcf426f664a)thanks

gltewalt

[22:02](#msg58ec00e58fcce56b20eca7dc)For Windows: Red GUI console - clear with CTRL + L

[22:03](#msg58ec012d4cb8d091737a7641)For Windows: red --cli

```
cls: does [call/console "cls"]
```

## Tuesday 11st April, 2017

greggirwin

[01:44](#msg58ec34f2408f90be66aacd33)That doesn't clear your environment, just the screen. Good answer though.

gltewalt

[01:46](#msg58ec3592a0e4856242f0a784)There's an ansi way to "quit and restart" but I couldn't figure out how with Red

[01:48](#msg58ec360ba0e4856242f0aac6)http://stackoverflow.com/a/37778152

dockimbel

[05:14](#msg58ec661b4cb8d091737bc941)@ericguedespinto @maximvl Just a remark about terminology, in Red, objects have \*words\*, maps have \*keys\*, so `words-of` is the reflector you're looking for.

Oldes

[08:44](#msg58ec97798bb56c2d1197955d)@gltewalt this works in not gui console: `print "^[[2J"`

[08:44](#msg58ec9788b52518ed4dfe0bfa)But it just clears the screen.

ericguedespinto

[09:56](#msg58eca83ff22385553d2d45b3)@dockimbel Thank you for the clarification. Both keys-of and words-of work on objects. Is that intentional or it will break in the future?

[09:58](#msg58eca8be4cb8d091737cd2dc)&gt;&gt; a: make object! \[a: "w" b: "e"]  
\== make object! [  
a: "w"  
b: "e"  
]  
&gt;&gt; keys-of a  
\== \[a b]  
&gt;&gt; words-of a  
\== \[a b]

rebolek

[10:02](#msg58eca9c98bb56c2d1197e46c)@ericguedespinto I don't think it will break. Redbol has pragmatic approach to programming and if people use `keys-of`, let them use it. But that's just my interpretation.

[10:03](#msg58eca9f3b52518ed4dfe5b6d)Anyway, using `words-of` is suggested as it is not only the proper way, but helps understanding what is going on.

maximvl

[10:04](#msg58ecaa30bdf4acc1124acd0c)even for maps it's the same:

```
red>> x: #(1 2 3 4)
== #(
    1 2
    3 4
)
red>> words-of x
== [1 3]
red>> keys-of x
== [1 3]
```

ericguedespinto

[10:07](#msg58ecaade8e4b63533db949b1)Thank you. It seems to me that, although the terminology differences make sense, if I can use only one reflector that works on both maps and objects, I will end up using only that one all the time

dockimbel

[10:07](#msg58ecaae28fcce56b20ef1fe1)`keys-of` is an alias of `words-of` especially created to distinguish the usage of such reflector between objects and maps, as they don't have exactly the same properties. As I said, objects have words, maps have keys (which are not necessarily words).

geekyi

[11:41](#msg58ecc0ff68bee3091f2fdef9)@ericguedespinto `ctrl+shift+m` is useful

## Wednesday 12nd April, 2017

Rebol2Red

[18:48](#msg58ee7690bdf4acc11252dc35)Maybe there should be a warning on red-lang.org to not run just any red file because call can delete all your files or do other things to harm you. In rebol there was a warning when a program wants write access. Hope i did'nt wake up some sleeping dogs.

9214

[21:20](#msg58ee9a1008c00c092a755f4c):dog:

Rebol2Red

[21:21](#msg58ee9a4969a692963ea50654)@9214 Did i wake you up? :)

9214

[21:23](#msg58ee9ac58e4b63533dc20e9f)I believe r/w access was a part of some security dialect in Rebol, no?

Rebol2Red

[21:24](#msg58ee9af2f22385553d361a42)Yep. Maybe it must be revived.

rebolek

[21:36](#msg58ee9df98bb56c2d11a0b18d)@Rebol2Red Red i still alpha, there will be security dialect and warnings, but do not expect them now. There is no GC yet, for example.

gltewalt

[21:55](#msg58eea26869a692963ea52938)Spirit of adventure. I once locked the whole file system down on my first gen iMac by playing with C shell

[21:56](#msg58eea28508c00c092a758145)Wouldn't even boot

## Thursday 13th April, 2017

dockimbel

[03:16](#msg58eeeda04cb8d0917386a7fe)@Rebol2Red Secure dialect should come in after we get full I/O support, probably in a 0.7.x release.

maximvl

[08:26](#msg58ef362d8fcce56b20f9f4fb)gratz for the mac os gui merge! :clap:

[08:27](#msg58ef365fa0e4856242fd9ab6)just showed it (and couple examples like clock) to iOS dev in my team, he was stunned

9214

[09:00](#msg58ef3e12f22385553d387170)@maximvl bring him to the ~~dark~~ red side :smiling\_imp:

dockimbel

[10:29](#msg58ef530df22385553d38c9a0)@maximvl :+1: ;-)

[10:41](#msg58ef55e94cb8d09173883bfb)@9214 Taking a ~~blue~~ red :pill: also works. :sunglasses:

maximvl

[12:36](#msg58ef70dd8e4b63533dc560d5)@dockimbel btw the Mac binary doesn't start gui console

[12:36](#msg58ef70eabdf4acc11256d1d5)and it seems there is no option to force it

dockimbel

[12:38](#msg58ef7138ad849bcf427e26a6)@maximvl You mean the current GUI console or the new one in `red-console` branch? The current GUI console is Windows-only. It will get replaced by the new one, which is pure Red (no R/S), and will work on all platforms.

maximvl

[12:38](#msg58ef714f4cb8d0917388b944)@dockimbel the one which is built into nightly binary

[12:38](#msg58ef715369a692963ea85a69)the current one I believe

[12:39](#msg58ef71768bb56c2d11a40bd2)ok, can't wait as usual :D

mikeparr

[13:10](#msg58ef78b3ad849bcf427e4ddf)Anyone else finding that the standard console hangs (Win 7 0.62) when redirecting 'call' to a file, as in:

```
call/output "dir" %out.txt
```

Redirecting to a string works OK.

9214

[13:17](#msg58ef7a69f22385553d3981a0)@mikeparr true, also created `out.txt` file has some weird encoding issues

dockimbel

[13:36](#msg58ef7ee1f22385553d39996c)@mikeparr Good catch, please open a ticket for that one.

pekr

[15:01](#msg58ef92d6ad849bcf427ed98f)Sorry if it was already answered in the past, but - how do I use a referenced block of words for the `foreach`purpose?

[15:02](#msg58ef931a8bb56c2d11a4b155)

```
>> rec: [name last-name] data: ["john" "taylor" "alice" "smith"]
== ["john" "taylor" "alice" "smith"]
>> foreach rec data [print rec]
john
taylor
alice
smith
>> foreach rec data [print name last-name]
*** Script Error: name has no value
*** Where: print
```

AlexanderBaggett

[15:03](#msg58ef9353a0e4856242ff4707)are you missing a `:` after name?

pekr

[15:03](#msg58ef935bf22385553d3a0c8d)In R2, using `foreach :rec data [print reduce [name last-name]]`works, but not so in Red

[15:06](#msg58ef940cb52518ed4d0af63e)Maybe some binding trick would work ...

greggirwin

[17:05](#msg58efafcfb52518ed4d0b80b6)It works in Red too, Petr, but `foreach` doesn't capture in Red yet, and something else is going on.

```
rec: [name last-name]
data: ["john" "taylor" "alice" "smith"]
foreach :rec data [print name last-name]
rec
foreach rec data [print rec]
rec
foreach :rec data [print name last-name]
rec
```

`rec` is being changed when not passed as a `get-word!`.

[17:06](#msg58efb03369a692963ea99346)I'm getting a different error than you though. Another way around it would be to `do compose [foreach (rec) ...]`

[17:14](#msg58efb1f869a692963ea99ccf)If you're not doing this in a function, and using `function` to capture the first `foreach` arg, a not-so-pretty solution is to use a temp word to refer to them. We don't have `protect` yet, to catch unintended changes like this.

[17:16](#msg58efb287bdf4acc112582127)

```
>> rec: [name last-name]
== [name last-name]
>> data: ["john" "taylor" "alice" "smith"]
== ["john" "taylor" "alice" "smith"]
>> fn: function [data][
[        foreach rec data [print rec]
[    ]
== func [data /local rec][foreach rec data [print rec]]
>> fn data
john
taylor
alice
smith
>> rec
== [name last-name]
```

toomasv

[18:59](#msg58efcaa108c00c092a7a6bc7)This works:

```
>> rec: [name last-name] data: ["john" "taylor" "alice" "smith"]
== ["john" "taylor" "alice" "smith"]
>> foreach (rec) data [print rec]
john taylor
alice smith
```

greggirwin

[19:03](#msg58efcb694cb8d091738a62d7)Indeed! Nice.

AlexanderBaggett

[20:13](#msg58efdbf0a0e485624200a377)So the first variable seems to specify the format of the data and the second one actually contains it. That is a very interesting coupling.

greggirwin

[21:53](#msg58eff375ad849bcf42809ba0)@dockimbel , is it by design that `keep to` doesn't keep anything in this example?

```
>> series: ".#"
== ".#"
>> delim: #"."
== #"."
>> parse series [collect [keep to delim  delim  keep to end]]
== [#"#"]
>> parse series [collect [keep copy s to delim  delim  keep to end]]
== ["" #"#"]
```

## Friday 14th April, 2017

dockimbel

[03:35](#msg58f04399a0e4856242021b34)@greggirwin Yes, `keep` won't extract a value if the input position has not moved (that's the case with the `keep to` above). The second case uses `copy s`, so it will generate a series no matter what (even empty series), and `keep` will then be happy to store the value returned by `copy`.

[03:38](#msg58f0441fad849bcf4281a509)The ability for `keep` to capture only if the input advances by default is necessary, otherwise simple cases like the following one would not work as expected:

```
digit: charset "012345789"
parse "h3llo" [collect some [keep digit | skip]]
== [#"3"]
```

[03:40](#msg58f044c908c00c092a7c1955)See my comments about `keep` with `pick` / `copy` \[here](https://github.com/red/red/issues/2295#issuecomment-281655538) and \[there](https://github.com/red/red/issues/2391#issuecomment-281655108).

geekyi

[05:40](#msg58f060be69a692963eabfef5)@greggirwin strange, I get different results:

[05:40](#msg58f060ca8bb56c2d11a7c21b)

```
>> parse series [collect [keep to delim  delim  keep to end]]
== [#"." #"#"]
```

[05:42](#msg58f0614208c00c092a7c7553)Ah sorry, related to #2561 ? I've not updated yet

dockimbel

[05:55](#msg58f06446408f90be66bc29f6)@geekyi @greggirwin Hmm, my comment above about `keep digit` is not accurate, the root cause of `keep` not capturing in that case, is because the rule failed (input not advancing is a consequence of that).

greggirwin

[05:56](#msg58f0649dad849bcf42820913)Thanks @dockimbel. I'll note those in the wiki when I get a chance.

dockimbel

[05:58](#msg58f064eb8e4b63533dc94c98)A Red Parse documentation is really needed, so we can have all the extensions done by Red documented somewhere.

greggirwin

[05:58](#msg58f064ec8bb56c2d11a7ceff)I think that will be an important behavior to note when we do some `parse` docs.

[05:58](#msg58f064f64cb8d091738c6e4a):^)

[05:59](#msg58f0654569a692963eac0b24)As you might guess, I'm reporting things as I work on `format`.

dockimbel

[07:08](#msg58f075884cb8d091738c9e64)@greggirwin Very glad to hear that. ;-)

geekyi

[07:18](#msg58f077ce69a692963eac4700)A documentation for red parse extensions, yes :+1: the wikibooks one is the best I've seen (which I think was taken from somewhere else, but not sure where now)

[07:19](#msg58f0781e8e4b63533dc98bc8)"0.4.1: Introducing Parse " blog post is good enough for now, for those who know where to look ;)

[07:20](#msg58f0783169a692963eac4863)And that is the problem right now, discoverability..

[07:21](#msg58f07864ad849bcf42824ae9)"How do you find documentation for X feature"? For someone who doesn't know it

[07:21](#msg58f078858fcce56b20feef19)I've been looking at online bookmarking and organizing programs for this

[07:22](#msg58f078a369a692963eac4a27)I have to go off now tho.. later..

dockimbel

[07:26](#msg58f079b308c00c092a7cbf92)@geekyi I've just added a link to the Parse blog article and the Parse wikibook to Documentation page on red-lang.org.

geekyi

[11:59](#msg58f0b98ba0e485624203b0ea):+1: The Documentation page is much better now than what it was when I started  
In general, what I've found helpful to get started is this:  
1\. Read a rebol quickstart guide (one of Nick's, or a host of others)  
2\. Read rebol.com short guides  
3\. Read wikibooks guide and other rebol.com guides  
4\. Read red blog posts  
5\. Read red official documentation for View, etc  
6\. Read advanced section of wikibooks

[12:01](#msg58f0ba0d08c00c092a7db7ad)Maybe that can be shortened to:  
1\. Read rebol2 intros and api reference  
2\. Read red docs  
3\. Read about advanced bindology of wikibooks  
And keep playing, rinse and repeat for an year or more till you grok it :D

maximvl

[12:13](#msg58f0bcd608c00c092a7dc372)keey playing and having part, yeah

dockimbel

[12:40](#msg58f0c349ad849bcf4283775a)@geekyi Your list looks good to me. :clap: I remember appreciating the many short overviews on rebol.com, giving different perspectives, before I learned Rebol from the Core Manual.

[16:20](#msg58f0f6eb881b89e1014e8b6a)FYI, we have opened a Spanish-speaking Red room: https://gitter.im/red/Spanish

angellom1

[16:21](#msg58f0f70b8bb56c2d11a9ff6d)ty

gltewalt

[18:08](#msg58f11039a0e4856242052070)Will organize documentation or write documentation for mentorship. :smile:

[18:14](#msg58f11179ad849bcf4284d58b)The thing they are going to run into "immediately" with Parse, is that none doesn't work - and the very first example in the Rebol Guide uses none

toomasv

[19:27](#msg58f122b8881b89e1014f35d2)@gltewalt Yes, and I was thinking I misunderstood something...

greggirwin

[19:52](#msg58f128794cb8d091738f6751)Put that as a note before any links.

## Saturday 15th April, 2017

ralfwenske

[04:17](#msg58f19ec1e3700b1461c94137)With latest red I see different compile errors in Windows, Mac and Linux - on Windows:

[04:19](#msg58f19f57d7ab15e81724f4cf)

```
C:\Users\Ralf\Desktop\redx>red-14apr17-3ff52f9.exe
Compiling Red GUI console...
*** Compilation Error: word update-scroller not defined in system/view/platform/update-scroller
*** in file: C:\ProgramData\Red\red-console.red
*** near: [
    system/view/platform/update-scroller self (index? in self word) - 1
]
```

[04:23](#msg58f1a03c4cb8d0917390d511)on Linux:

```
ralf@ThinkPad-Edge-E330 ~/Desktop $ ./red-latest 
Compiling Red console...
*** Loading Error: file access error: %wcwidth.reds 
*** in file: %/home/ralf/.red/red-console.red 
*** at line: 1
```

[04:25](#msg58f1a0baf22385553d41ce18)on Mac:

```
macmini:red ralfwenske$ sudo chmod +x red-14apr17-3ff52f9 
Password:
macmini:red ralfwenske$ ./red-14apr17-3ff52f9 
Compiling Red console...
*** Compilation Error: argument type mismatch on calling: exec/gui/OS-matrix-transform 
*** expected: [struct! [
        header [integer!] 
        padding [integer!] 
        x [integer!] 
        y [integer!]
    ]], found: [struct! [
        header [integer!] 
        padding [integer!] 
        value [integer!] 
        _pad [integer!]
    ]] 
*** in file: %/Users/ralfwenske/.red/red-console.red 
*** in function: exec/parse-draw
*** at line: 1894 
*** near: [
    parse-draw DC as red-block! cmd catch? 
    OS-matrix-pop DC
]
```

anybody else seeing this?

dockimbel

[05:13](#msg58f1ac154cb8d0917390faab)@qtxie ^--- The red-14apr17-3ff52f9.exe version works fine here... odd errors... @qtxie Are those errors from previous commits? If so, we might have a caching issue on the web server (though, that would be odd too).

[05:15](#msg58f1ac7f8fcce56b20034854)@ralfwenske Please download the binaries again and give it a new try.

ralfwenske

[05:28](#msg58f1af7d881b89e10150f72b)@dockimbel After downloading again and then also deleting ~/.red  
on Mac:

[05:29](#msg58f1afa48fcce56b20035026)

```
macmini:red ralfwenske$ ls ~./red/
ls: ~./red/: No such file or directory
macmini:red ralfwenske$ ./red-14apr17-3ff52f9 
Compiling compression library...
Compiling Red console...
*** Compilation Error: argument type mismatch on calling: exec/gui/OS-matrix-transform 
*** expected: [struct! [
        header [integer!] 
        padding [integer!] 
        x [integer!] 
        y [integer!]
    ]], found: [struct! [
        header [integer!] 
        padding [integer!] 
        value [integer!] 
        _pad [integer!]
    ]] 
*** in file: %/Users/ralfwenske/.red/red-console.red 
*** in function: exec/parse-draw
*** at line: 1894 
*** near: [
    parse-draw DC as red-block! cmd catch? 
    OS-matrix-pop DC
]
```

[05:34](#msg58f1b0dc7b553c707c520fdd)on Windows:  
\`  
C:\\Users\\Ralf\\Desktop\\redx&gt;red-14apr17-3ff52f9.exe  
Compiling compression library...  
Compiling Red GUI console...  
\*\** Compilation Error: word update-scroller not defined in system/view/platform/update-scroller  
\*\** in file: C:\\ProgramData\\Red\\red-console.red  
\*\** near: [  
system/view/platform/update-scroller self (index? in self word) - 1  
]

[05:38](#msg58f1b1d17b553c707c520fdf)found in "Program Data/Red/" this: crush-2017-4-14-49641.dll

[05:48](#msg58f1b416dddd87f332d307e8)linux version is now running fine (no 'Compiling Red console ...' any more)

[05:58](#msg58f1b68a8bb56c2d11ac6ae7)@dockimbel for completeness ~/.red/ folder after above compile on Mac:

```
macmini:red ralfwenske$ ls ~/.red/
POSIX.reds			help.red			wcwidth.reds
auto-complete.red		input.red			win32.reds
crush-2017-4-14-49641.dylib	red-console.red			windows.reds
engine.red			terminal.reds
```

[06:12](#msg58f1b9c569a692963eb0c9a9)... looking at the contents of this folder I am getting another thought: could the fact that I have the red executable in a 'Dropbox' folder which I also used on Windows (2 days ago though) play a role in this?

dockimbel

[06:14](#msg58f1ba4b8fcce56b20036cdb)Testing again here:

```
C:\Dev\Red>red-14apr17-3ff52f9.exe
Compiling Red GUI console...

C:\Dev\Red>
```

[06:15](#msg58f1ba7b69a692963eb0cb61)@ralfwenske Is that other red executable accessible from the PATH?

ralfwenske

[06:19](#msg58f1bb64f22385553d4219bf)@dockimbel That 'Dropbox' folder which contains the mac- as well as the windows- red exectuble is not in the $PATH

dockimbel

[06:21](#msg58f1bbcc8bb56c2d11ac7973)@PeterWAWood Can you reproduce those issues above on macOS?

[06:26](#msg58f1bd2f8fcce56b200374a9)@ralfwenske What is the size of your `red-14apr17-3ff52f9.exe` file in bytes?

ralfwenske

[06:27](#msg58f1bd548bb56c2d11ac7e68)@PeterWAWood on Windows the red-latest.exe (compiled at 10Apr17) is still working.  
here my 'Dropbox folder':

```
macmini:red ralfwenske$ pwd
/Users/ralfwenske/Dropbox/red
macmini:red ralfwenske$ ls
BSD-3-License.txt	docs			mytests			red.r
BSL-License.txt		environment		quick-test		run-all.r
README.md		hello.red		red-061.exe		runtime
boot.red		ide			red-14apr17-3ff52f9	system
bridges			installRedLatest.red	red-en.pdf		tests
build			lexer.r			red-latest		usage.txt
compiler.r		libRed			red-latest.exe		utils
console-call.exe	modules			red.pdf			version.r
```

rcqls

[06:28](#msg58f1bd778e4b63533dce23a6)@dockimbel Everything is fine on my macOS with `./red-14apr17-3ff52f9` (after cleaning `~/.red`)

dockimbel

[06:29](#msg58f1bdb0bdf4acc1125f8539)You shoudn't have to clean anything in `~/.red`...

rcqls

[06:30](#msg58f1be148bb56c2d11ac8176)@dockimbel I know and I never do that. It was just to be sure that everything was fine like a first install….

dockimbel

[06:31](#msg58f1be5e8fcce56b20037847)@ralfwenske Could you do a MD5 checksum of your `red-14apr17-3ff52f9.exe` file? Here's what I get here:

```
>> checksum read/binary %tests/red-14apr17-3ff52f9.exe 'md5
== #{6EBFDDE4C8E7A9D3642A2D6DE9284378}
```

ralfwenske

[06:42](#msg58f1c0d9881b89e1015125b4)@dockimbel @PeterWAWood It must have to do with 'Dropbox' mixing some files:  
I just downloaded the latest Mac-red executable into a newly created folder and in compiles and works fine!  
(On windows though with the latest - as reported above - I had no 'Dropbox' involvement)  
I'll look into it a bit more closely...

on windows my checksum is identical and I still get the error about 'update-scroller' not defined.

dockimbel

[06:43](#msg58f1c1244cb8d09173913915)@ralfwenske Do you have any anti-virus software running?

ralfwenske

[06:45](#msg58f1c195408f90be66c1029f)@dockimbel Nothing outside Windows - Windows might do something? I'd have to look into it

dockimbel

[06:45](#msg58f1c19f8bb56c2d11ac8cab)Is it Win10?

ralfwenske

[06:46](#msg58f1c1b3bdf4acc1125f90e4)Yes

dockimbel

[06:46](#msg58f1c1c5881b89e1015128d1)Let me try it on Win10 here... I've download the red executable, put it on the Desktop, the GUI console compiles and runs fine.

ralfwenske

[06:56](#msg58f1c42a8e4b63533dce37cb)@dockimbel I just pasted the red-14apr17-3ff52f9.exe into a newly created folder and it works!  
Looks like I must have some files somewhere that confuse the compile somehow - may have to do some cleaning!  
Sorry to have used up your precious time for this. Thank you.  
Will probably have to think about a cleaner 'Dropbox' setup.

sadajana

[07:00](#msg58f1c4f4f22385553d42336a)Hello, can anyone help on how to resolve this error message ?  
I'm trying to run a red script file in visual studio code with RED extension installed

[07:00](#msg58f1c4f9f22385553d423379)\*\** Error: Red header not found!

ralfwenske

[07:02](#msg58f1c57fa0e4856242074b59)@sadajana Do you have  
\`Red \[]  
in you first line of your source?

[07:04](#msg58f1c6134cb8d09173914888)@sadajana also you might consider using the red/help room for questions like this

sadajana

[07:04](#msg58f1c61969a692963eb0ecec)@ralfwenske , greetings ! thanks for the prompt reply

[07:05](#msg58f1c63469a692963eb0ed59)sure I'll do that, thanks again for the reply

[07:05](#msg58f1c649ad849bcf4287159d)Bonne journée from France :smile:

angellom1

[07:10](#msg58f1c7608e4b63533dce40c9)Bonne journée from Spain @sadajana :)

dockimbel

[07:21](#msg58f1ca04ad849bcf42872202)@sadajana A Red program needs to start with a Red header (even if empty), that's how the Red toolchain can recognize it:

```
Red []

print "hello world!"
```

[07:23](#msg58f1ca688fcce56b200399b9)@ralfwenske Glad you solved it.  
&gt; Looks like I must have some files somewhere that confuse the compile somehow

Let me know if you find the cause of that (might be the weird way Win10 is redirected some system folders...)

PeterWAWood

[07:30](#msg58f1cc2b8bb56c2d11acaaff)@dockimbel @ralfwenske I downloaded and ran

```
red-14apr17-3ff52f9
```

and got the same error as Ralf.

```
$ ./red-14apr17-3ff52f9
Compiling compression library...
Compiling Red console...
*** Compilation Error: argument type mismatch on calling: exec/gui/OS-matrix-transform 
*** expected: [struct! [
        header [integer!] 
        padding [integer!] 
        x [integer!] 
        y [integer!]
    ]], found: [struct! [
        header [integer!] 
        padding [integer!] 
        value [integer!] 
        _pad [integer!]
    ]] 
*** in file: %/Users/peter/.red/red-console.red 
*** in function: exec/parse-draw
*** at line: 1894 
*** near: [
    parse-draw DC as red-block! cmd catch? 
    OS-matrix-pop DC
]
```

ralfwenske

[07:37](#msg58f1cd9f881b89e101514c70)@PeterWAWood Peter, could you also try to put the executable into a new folder and see if it runs there? If that works for you too, that might be a good hint for a trouble shooting section if one has difficulties with starting up red.

PeterWAWood

[07:46](#msg58f1cfd0f22385553d42537f)@dockimbel @ralfwenske I downloaded the binary again and put it in a new folder. It ran successfully. The change in the contents of my

```
~/.red
```

dir may throw some light on the issue:

After the failure:

```
mbp:red peter$ ls ../../../.red
POSIX.reds			engine.red
auto-complete.red		help.red
console-2015-4-25-73974		input.red
console-2015-4-26-36174		red-console.red
console-2016-6-29-84518		terminal.reds
crush-2015-4-25-73974.dylib	wcwidth.reds
crush-2015-4-26-36174.dylib	win32.reds
crush-2016-6-29-84518.dylib	windows.reds
crush-2017-4-14-49641.dylib
```

After successfully running the downloaded binary in a new directory:

```
mbp:Testing peter$ ls ../.red
console-2015-4-25-73974		crush-2015-4-25-73974.dylib
console-2015-4-26-36174		crush-2015-4-26-36174.dylib
console-2016-6-29-84518		crush-2016-6-29-84518.dylib
console-2017-4-14-49641		crush-2017-4-14-49641.dylib
```

dockimbel

[10:14](#msg58f1f28b8e4b63533dcebf32)@PeterWAWood The source files you see in `./red` folder are emitted by Red toolchain for compiling the console (just a temporary trick until we enable compiling sources from memory). They are deleted once the console is compiled. As the previous attempt failed, you see them lying in the folder. I still see no good reason why it would error out like that, though @qtxie might have an idea.

maximvl

[13:54](#msg58f2262269a692963eb23081)@dockimbel what is the performance difference between Red and Red/System? How doI find out which code to write in Red and which in R/S?

dockimbel

[15:22](#msg58f23aa8ad849bcf4288adfb)@maximvl There are two different realms, Red is very high-level, Red/System is as close to the hardware as C (even closer actually, thanks to its `system/*` instrinsic features). R/S manipulates values which can fit into CPU/FPU registers, while Red handles only boxed values. Typical R/S code runs two orders of magnitude faster than Red code (for the cases where such comparison makes sense). As a rule of thumb, you should use Red by default, and keep R/S only for the most CPU-intensive tasks (see the \[mandelbrot-fast.red](https://github.com/red/code/blob/master/Scripts/mandelbrot-fast.red) and \[perlin.red](https://github.com/red/code/blob/master/Scripts/perlin.red) scripts as examples). Moreover, R/S requires compilation for now, while Red can run on the interpreter, so you should add the R/S code dependency last (as a last optimization stage), to minimize your development time.

greggirwin

[16:24](#msg58f2494a8e4b63533dcff3e9):point\_up: \[April 15, 2017 1:00 AM](https://gitter.im/red/red?at=58f1c4f4f22385553d42336a) @sadajana, what encoding is your file using? I've had cases here where Red wasn't happy because the file wasn't UTF-8.

maximvl

[16:25](#msg58f249754cb8d0917392fbd6)@dockimbel I see, thanks

greggirwin

[18:12](#msg58f262928bb56c2d11aea8c3)@maximvl, from gui-branch room, maybe a special `type-help` func or other tool. `? !` shows values for a given type. Adding properties of each type might be better done elsewhere.

[18:13](#msg58f262b9f22385553d4451f1)@mikeparr, FYI, looks like red-by-example doesn't have `email!` in the datatype list.

maximvl

[18:18](#msg58f263f4408f90be66c324f0)@greggirwin yep, but all these things are `datatype!`, maybe we can have a refinement on it, like `tuple!/fields`

[18:19](#msg58f2644408c00c092a83776a)or `words-of tuple!`

greggirwin

[18:20](#msg58f2646b8bb56c2d11aeb00c)Then we need a way to reflect them. Something to consider though.

maximvl

[18:20](#msg58f264778fcce56b2005b0e3)I'll create an issue :D

9214

[18:38](#msg58f268988fcce56b2005bffe)https://lobste.rs/s/jajdfm/scheme\_even\_your\_keywords\_could\_be any fellow Lobster wants to say something about Red/Rebol in this thread? ;)

iArnold

[19:00](#msg58f26db18bb56c2d11aed01b) No, just get the kettle with water boiling...

luis-rj

[19:32](#msg58f2755e8fcce56b2005ed07)

```
red>> b: [(55) hello (66) [bye]]
== [(55) hello (66) [bye]]
red>>  b/(to paren! (55))
== hello
red>>  b/(to paren! (66)): to-word "good-bye"
*** Script Error: cannot set none in path b/(to paren! (66))
*** Where: catch
```

In Rebol this is possible, how I can change "bye" word in Red ?

[19:36](#msg58f276548bb56c2d11aef102)Ups.. firt line must be:

```
b: [(55) hello (66) bye]
```

maximvl

[20:02](#msg58f27c3f8fcce56b20060467)@luis-rj if it's possible in Rebol probably it's not yet implemented in Red

[20:03](#msg58f27c8608c00c092a83d0c2)this feature to use block and a key/map store looks strange to me, because you can't use integers as keys:

```
>> d: [a 1 b 2]
== [a 1 b 2]
>> d/a
== 1
>> d/b
== 2
>> c: [1 2 3 4]
== [1 2 3 4]
>> c/1
== 1
```

greggirwin

[20:53](#msg58f2882f8fcce56b20063085)@luis-rj, if you can avoid using parens as keys, do so. You could open a request ticket for `put` to support paren values as keys, which would be the cleanest way. Since parens are used in path syntax, using them as keys is just asking for more work and confusion.

[20:55](#msg58f288bcf22385553d44ddc1)@maximvl, blocks are flexible. You can't use integers in path notation that way, but `select` works just fine.

```
>> c: [1 2 3 4]
== [1 2 3 4]
>> select c 3
== 4
```

Don't forget `/skip` though, if you need it.

PDelak

[20:56](#msg58f288e3bdf4acc112624419)Hi all

I have two questions. In the following snippet, variable types are not checked at compile time, so error will be thrown at runtime

'''  
a: make string! 1  
b: make string! "str"

a + b  
'''

Will it be fixed in 1.0?

Are there any plans for compile time reflection?

[20:56](#msg58f289118bb56c2d11af35a3)Hi all

I have two questions. In the following snippet, variable types are not checked at compile time, so error will be thrown at runtime

```
a: make string! 1
b: make string! "str"

a + b
```

Will it be fixed in 1.0?

Are there any plans for compile time reflection?

greggirwin

[20:58](#msg58f28969a0e485624209f0ca)Nope. That's not how Red works. Some checking can be improved, but Red is dynamic and values are strongly typed, not the words (variables) that refer to them.

[21:03](#msg58f28a9cf22385553d44e3fb)While Red could catch simple cases like the above, doing it in real programs is a different story.

[21:05](#msg58f28b048fcce56b20063b75)Does that make sense?

[21:06](#msg58f28b444cb8d0917393eb0d)That is, `a` can refer to any type of value, which could change at any time, so the compiler can't know, until runtime, when `a` is evaluated, what it refers to at any given moment.

PDelak

[21:08](#msg58f28bb708c00c092a840628)Make sense. I understand the way chosen by red, but checking such things at compile time would result in better optimized code at runtime

greggirwin

[21:08](#msg58f28be5f22385553d44e807)That will be up to JIT when the time comes.

[21:09](#msg58f28c1b408f90be66c3b60a)Red is first, and foremost, a dynamic language (Rebol was only ever interpreted). If you want compile time checks, just drop down to Red/System and optimize away.

PDelak

[21:17](#msg58f28dd1ad849bcf4289e79d)ok, thanks. I was just wondering if I can do some checks regarding arguments types inside macros

## Sunday 16th April, 2017

PeterWAWood

[02:16](#msg58f2d40c8fcce56b20072804)@PDelak You can get Red to perform checks in macros but a script error will be raised if the argument is not of the correct type:

```
>> #macro inc: func [i [number!]][i: i + 1]
== func [i [number!]][i: i + 1]
>> inc 1
== 2
>> inc #"a"
*** Script Error: inc does not allow char! for its i argument
*** Where: inc
```

[02:20](#msg58f2d4df08c00c092a84e109)It is quite easy do checking for some dataytypes such as the numbers manually:

```
>> #macro inc: func [i][either number? i [i: i + 1][i]]
== func [i][either number? i [i: i + 1] [i]]
>> inc 1
== 2
>> inc #"a"
== #"a"
```

maximvl

[06:59](#msg58f31636ad849bcf428b859b)@PDelak It is totally possible to make a typed dialect with inferred types and strict checks before running the code, I would do it myself, but lambda theory is too complex for me right now :)

geekyi

[14:55](#msg58f385ff69a692963eb6c563)@maximvl not as hard as you think with dependent types (at least the type checking). I had a rudimentary design of how the interface could look, but wasn't sure how to prototype the implementation (until now). Will try to clean up the code and publish as a gist when I get time..

[14:56](#msg58f38626f22385553d47f6ad)I think macros would be useful as a hacky way to optimize code too

greggirwin

[15:58](#msg58f3948c8e4b63533dd43440)@dockimbel, trig functions take `number!`, which contains `percent!`. Is that by design, so tests should exercise it?

dockimbel

[16:04](#msg58f3960b69a692963eb6faef)@greggirwin Not by design, we should probably exclude `percent!` for trig functions.

greggirwin

[16:04](#msg58f396274cb8d0917397426b)OK, thanks.

x8x

[20:29](#msg58f3d412881b89e101583a0a)`replace` is missing `/tail` and `/case`, this `parse` based func provide both and is faster:

```
replace: func [
	series [series!] pattern value
	/all /case /tail
	/local rule pos
][
	rule: [to pattern change pattern value pos:]
	if all [rule: append/only [any] rule]
	either case [
		parse/case series rule
	][
		parse series rule
	]
	either tail [pos][series]
]
```

Oldes

[20:45](#msg58f3d7d6f22385553d492314)@x8x nice one! You should add missing doc strings and make a pull request.

x8x

[23:06](#msg58f3f909bdf4acc11266f991)That can be done, I pasted it here for comments as I'm not sure it covers all cases and datatypes

greggirwin

[23:56](#msg58f40492408f90be66c88adc)%series-test.red has a small number of `replace` tests. We should add to that. I love the elegance, and new-old features, but a simple test shows it being ~25% slower here. I just did a simple replace in a string. And it takes a lot of iterations to see a difference.

[23:57](#msg58f404d58fcce56b200b1e62)If Doc isn't concerned about the speed hit, or if my test is shown to be bad, I'm all for it. It's beautiful.

## Monday 17th April, 2017

x8x

[02:13](#msg58f424bb0ed3020c3822d646)Humm.. well yea it's slower.. not sure what kind of quick test did I do. :worried:

[02:14](#msg58f424f869a692963eb8d87e)Running multiple tests, they get slower each time, is it due to the missing GC ?

```
timer [loop 10000 [replace/all {abcdefgh} {c} {z}]]
0:00:00.196711001 >> [loop 10000 [replace/all "abzdefgh" "c" "z"]] 
;   "abzdefgh"
  timer [loop 10000 [replace/all {abcdefgh} {c} {z}]]
0:00:00.459775001 >> [loop 10000 [replace/all "abzdefgh" "c" "z"]] 
;   "abzdefgh"
  timer [loop 10000 [replace/all {abcdefgh} {c} {z}]]
0:00:00.728943001 >> [loop 10000 [replace/all "abzdefgh" "c" "z"]] 
;   "abzdefgh"
  timer [loop 10000 [replace/all {abcdefgh} {c} {z}]]
0:00:00.996378001 >> [loop 10000 [replace/all "abzdefgh" "c" "z"]] 
;   "abzdefgh"
  timer [loop 10000 [replace/all {abcdefgh} {c} {z}]]
0:00:01.262201 >> [loop 10000 [replace/all "abzdefgh" "c" "z"]] 
;   "abzdefgh"
  timer [loop 10000 [replace/all {abcdefgh} {c} {z}]]
0:00:01.532575 >> [loop 10000 [replace/all "abzdefgh" "c" "z"]] 
;   "abzdefgh"
  timer [loop 10000 [replace/all {abcdefgh} {c} {z}]]
0:00:01.798488 >> [loop 10000 [replace/all "abzdefgh" "c" "z"]] 
;   "abzdefgh"
  timer [loop 10000 [replace/all {abcdefgh} {c} {z}]]
0:00:02.153246 >> [loop 10000 [replace/all "abzdefgh" "c" "z"]] 
;   "abzdefgh"
```

dockimbel

[04:36](#msg58f44652d32c6f2f0911df25)@x8x There is a bug there `append/only [any] rule` (your rule keeps growing bigger), it should be `append/only copy [any] rule`. Also, avoiding unnecessary memory allocations is desirable in Core functions.

## Tuesday 18th April, 2017

maximvl

[14:51](#msg58f627e7881b89e101610512)in 2 weeks there will be Lisp meetup in Amsterdam, I'm going to make a talk about Red

[14:51](#msg58f6280cf22385553d51cae0)any ideas on what I should focus on?

9214

[15:01](#msg58f62a2e69a692963ec0ac77)Lisp roots: homoiconity, macros, iterative approach, etc

[15:01](#msg58f62a37d32c6f2f09192f1a)and full blown fullstackness

[15:01](#msg58f62a59f22385553d51d6c9)`()` vs `[]` flamewar :fire:

angellom1

[15:02](#msg58f62a7a0ed3020c382a8772)Compiling, Android integration, easy to learn,...

9214

[15:04](#msg58f62afb08c00c092a91254a)maybe there will be someone from Racket church, they might be interested in DSLs and `parse` power

maximvl

[15:05](#msg58f62b4f08c00c092a91267f)I want to show some live reactive gui examples for sure

[15:06](#msg58f62b6d8e4b63533dde0a5a)but I can imagine people will be interested in current state, IO, GC, you know

9214

[15:06](#msg58f62b710ed3020c382a8c1c)IMO it would be nice to show some tiny turtle-graphics demo with emphasize on cross platform GUI and parsing

[15:06](#msg58f62b88a0e4856242172be2)\[L-system ?](https://en.wikipedia.org/wiki/L-system)

maximvl

[15:08](#msg58f62bd0ad849bcf42973941)I don't know much about L-system, but we'll see

9214

[15:08](#msg58f62c0bad849bcf42973a8b)can you somehow get your hands on OSX?

[15:09](#msg58f62c2a69a692963ec0b5c1)launch on Wine, then launch on OSX

[15:09](#msg58f62c3d69a692963ec0b60f)wow effect guaranteed

maximvl

[15:09](#msg58f62c478fcce56b20133f7e)I'll make a draft of features, will post it here for discussion

[15:10](#msg58f62c5c881b89e101611a0b)btw, does wine work on OSX? and OSX examples should be carefully tested, since I got few crashes showing it to my colleagues

9214

[15:11](#msg58f62c8e8e4b63533dde1078)https://wiki.winehq.org/MacOS

[15:15](#msg58f62d808e4b63533dde14c6)* Lisp roots (something like "Red is a Lisp that everyone deserves"): just show some nifty tricks with code-as-data and macros, but without bindology mind-melting examples... or not?  
\* Cross-platform GUI (Wine and MacOS for now), reactivity  
\* DSL power  
\* Maybe a pinch of R/S

dockimbel

[15:20](#msg58f62ed30ed3020c382a9be3)@maximvl Some key points you can present:  
\* The fullstack approach: one tool to bind them all.  
\* Pervasive use of dialects (DSL)  
\* Cross-platform GUI engine  
\* Reactive programming  
\* VID dialect  
\* Parse dialect  
\* System programming through Red/System  
\* 1MB, single-file toolchain, with full cross-compilation support.  
\* Demos: Eve clock live coding, Picosheet, Mandelbrot-fast, ... (just pick what you want from red/code).

9214

[15:23](#msg58f62f60f22385553d51f069)GUI + parse = L-System or something like that, just simple turtle graphics with a twist, and R/S parts for bottlenecks in drawing operations

[15:23](#msg58f62f6b69a692963ec0c64b)with compilation on Wine and OSX

maximvl

[15:23](#msg58f62f8dbdf4acc1126f6dc9)@dockimbel good list, I'm not sure if I understand these things on the required level:  
\* fullstack  
\* reactive part  
\* Red/System

[15:24](#msg58f62fb708c00c092a913d43)eg I will not be able to answer questions

[15:25](#msg58f630018bb56c2d11bc8f77)@dockimbel I'll check your interview for fullstack idea, is there any explanation of reactivity?

[15:26](#msg58f63027a0e48562421740a5)for the R/S I can make few examples showing speed difference

[15:26](#msg58f630308bb56c2d11bc904e)not sure what are other points of R/S

9214

[15:26](#msg58f6303808c00c092a913f8c)http://www.red-lang.org/2016/06/061-reactive-programming.html

maximvl

[15:27](#msg58f63060bdf4acc1126f72b7)thanks, I believe I just scrolled this post to get to cool gifs :D

9214

[15:28](#msg58f630a7881b89e101612fc8)hm, inline R/S in Red code? Kinda "yo dawg I heard you like full stacks so now you can write C while in Lisp" :D

dockimbel

[15:29](#msg58f630c4a0e4856242174396)@maximvl You can just pick up from my posts and the blog articles for that, and go deeper on what you've mastered so far.

[15:30](#msg58f6312269a692963ec0ce1b)@maximvl You also have the docs: https://doc.red-lang.org/en/reactivity.html

9214

[15:32](#msg58f6318cd32c6f2f0919534f)@maximvl what about your Forth Haiku clone?

maximvl

[15:41](#msg58f633c5d32c6f2f09195f77)I'll check it, yep

dsgeyser

[15:55](#msg58f636d469a692963ec0e6ee)@maximvl

[15:55](#msg58f636e3a0e4856242175ffb)@maximvl

maximvl

[16:03](#msg58f638d58e4b63533dde43b3)@dsgeyser m?

dsgeyser

[16:10](#msg58f63a628e4b63533dde4a01)@maximvl Sorry. On mobile. Can't delete. Good luck anyway.

maximvl

[17:01](#msg58f64669bdf4acc1126fd8d7)@dsgeyser thanks :D

PDelak

[17:11](#msg58f648d5a0e485624217ad7d)I have a macro defined in one file

[17:12](#msg58f6491069a692963ec13ef8)and when i'm trying to use it from other file (after inclusion) compiler report undefined word. Everything works for function. Can someone tell me what's going on?

9214

[17:33](#msg58f64ddd8e4b63533ddea3c4)@PDelak include with `load %file.red`?

[17:34](#msg58f64e218e4b63533ddea47d)my gut telling me that you should try `do load %file.red` or simply `do %file.red`

maximvl

[17:35](#msg58f64e56f22385553d5283fd)@PDelak which word is undefined?

[17:35](#msg58f64e6ead849bcf4297db99)how did you include the file?

PDelak

[17:37](#msg58f64edb8fcce56b2013de64)@maximvl I did include via #include

```
#include %./graphrt.red
```

[17:38](#msg58f64f2208c00c092a91cf20)@maximvl compiler tells me that macro defined there is undefined

maximvl

[17:39](#msg58f64f378e4b63533ddea99d)@PDelak can you access regular words?

PDelak

[17:41](#msg58f64fc18fcce56b2013e323)@maximvl yes

maximvl

[17:42](#msg58f65002d32c6f2f0919dec3)@PDelak could you post an example?

[17:42](#msg58f650138e4b63533ddeac8f)of how you define macro and include the file

greggirwin

[17:44](#msg58f65087bdf4acc112700744)@9214, I did some L-system stuff \*looooong* ago. Fun.

9214

[17:45](#msg58f650c308c00c092a91d5e8)@greggirwin "It's time to dust off my reboL-system dialect" :grin:

PDelak

[17:45](#msg58f650d5d32c6f2f0919e1fa)@maximvl example of trivial library

```
Red[]

trivialFunction: function[][
  print "trivialFunction"
]

trivialVar: 5

#macro trivial: function[]
[
  print "hello"
  return []
]
```

[17:46](#msg58f65104a0e485624217d2cc)

```
Red[]

trivialFunction: function[][
  print "trivialFunction"
]

trivialVar: 5

#macro trivial: function[]
[
  print "hello"
  return []
]
```

maximvl

[17:47](#msg58f651198fcce56b2013eaaa)@PDelak from what I see your macro named `trivial`, while you are calling `trivialFunction`

greggirwin

[17:47](#msg58f65127f22385553d529028)@9214, sadly, it was long before my Rebol days, so no dialect. :^)

maximvl

[17:47](#msg58f65129881b89e10161c8a6)or is this a macro file?

PDelak

[17:47](#msg58f65135ad849bcf4297e77c)this is macro file

[17:49](#msg58f6519ad32c6f2f0919e4b2)file is called graphrt.red

[17:49](#msg58f651b608c00c092a91da84)I'm including it from other file

greggirwin

[17:49](#msg58f651c7d32c6f2f0919e559)@maximvl, showing cross compiling has gone over really well when I've shown it at talks. I just have a little script that launches compilers in parallel for different platforms. Would be great to have the runtime precompiled for each target, so compiling would be fast.

maximvl

[17:53](#msg58f652a5d32c6f2f0919e93c)@PDelak ok, I have the same problem, we should wait for more experienced people to explain why it's not working :D

[17:54](#msg58f652e069a692963ec16a6d)@greggirwin good to know! I'm thinking of showing how easy cross-compilation is as well

PDelak

[17:59](#msg58f654168e4b63533ddec398)@maximvl thx

gltewalt

[19:47](#msg58f66d4e69a692963ec1e918)@maximvl Showing Mandelbrot in Red vs. Red/System is a good demo of speed difference. @greggirwin Did it at Boise Code Camp

[19:59](#msg58f6700bf22385553d53236d)Reactivity -  
I can envision an application that keeps documents updated and in synch across a network, from a master document.

[20:37](#msg58f679248bb56c2d11bdeb71)Worth seeing about adding Red as a language, here?  
https://repl.it/

greggirwin

[20:40](#msg58f679a5ad849bcf4298a947)@gltewalt, any idea what would be involved? They have some lesser known languages there already, so they might allow it.

[20:40](#msg58f679d1ad849bcf4298aac8)Mandelbrot is a nice demo because you can show the Red and /System code side by side to see how similar they are.

gltewalt

[20:41](#msg58f679debdf4acc11270b9ed)I don't know yet. I've just stumbled onto it.

greggirwin

[20:42](#msg58f67a40f22385553d535551)Remote reactivity would be very cool. Basically pub-sub.

## Wednesday 19th April, 2017

ghost~5680c5f416b6c7089cc058a5

[03:30](#msg58f6d9c88bb56c2d11bf3a90)@gltewalt @greggirwin New language support on repl.it can be requested here.

[03:30](#msg58f6d9cad32c6f2f091bf117)https://replit.canny.io/languages-requests

[03:31](#msg58f6d9f8a0e485624219f0ef)Just create a new post with the description of the language and then get that post some votes.

dockimbel

[05:05](#msg58f6f027ad849bcf429a4ae9)@PDelak Currently, the macro expansion is done at preprocessing stage, while `#include` is process during at compile-time (after preprocessing). This will be changed soon, so that expansion happens at compile-time too (should then be more familiar to Lispers).

geekyi

[05:19](#msg58f6f346ad849bcf429a5579)@PDelak red/help channel is a better place to ask for help if you have code. Also you can edit your post within a few minutes of posting if you're not on mobile

dockimbel

[08:29](#msg58f71ffb8fcce56b2016d9a3)@nc-x Does that require to have a JS implementation of the language?

PDelak

[08:30](#msg58f7203e3e27cac331a19986)@dockimbel thx. When do you plan to change expansion (next release)? Is there any workaround for that?

[08:31](#msg58f72075cfec919272533005)@geekyi thx for info

dockimbel

[08:32](#msg58f720b18fcce56b2016dd2d)@PDelak I don't see any simple workaround for the compiler, though it should be trivial to adjust to make it work from the interpreter. I might give it a look in the next days, just to see how much changes in the compiler are required for that.

ghost~5680c5f416b6c7089cc058a5

[08:51](#msg58f72505f22385553d55b9f8)@dockimbel I am not sure but I don't think that JS implementation is required. Their docs show that the code is executed in a sandbox and the result is returned back, so I think that the current compiler would be good enough.

[08:56](#msg58f726368fcce56b2016f35a)BTW there are lots of other online compiler services as well. They support some newer languages as well. I dunno what are their requirements for adding a new language though. Would be good if someone can search their websites or email them asking about supporting Red lang as well.

[08:56](#msg58f726408e4b63533de1cceb)https://www.codechef.com/ide

[08:56](#msg58f7264bf22385553d55bf45)https://ideone.com

[08:56](#msg58f7265608c00c092a950377)codepad.org

[08:57](#msg58f726603e27cac331a1afc1)http://www.tutorialspoint.com/codingground.htm

[08:57](#msg58f7266fd32c6f2f091cf9b9)https://code.hackerearth.com

[08:57](#msg58f726728e4b63533de1cd77)etc etc

maximvl

[08:57](#msg58f72677881b89e10164fdb3)I guess we need IO before we can integrate into other things

ghost~5680c5f416b6c7089cc058a5

[08:59](#msg58f726e8f22385553d55c1f5)These services generally use simple reading and writing and maybe console redirection (`<` `>` ) for extracting the output. I think red should be usable?

[09:04](#msg58f728023e27cac331a1b7f2)Also there is http://theaigames.com where for getting Red lang, supported someone needs to write a sample bot for any of their games in the language you want to be supported,i.e. in Red, and email it to them and they will look into it.

maximvl

[09:06](#msg58f72880bdf4acc112732c12)I actually think that online playgrounds are less convenient for Red, because you can't do things like GUI, files, but in the same time installing/running Red is 1MB single binary

[09:06](#msg58f728a68e4b63533de1d836)I can understand that for Java or Haskell it's easier to open online repl than install them on your own machine

[09:06](#msg58f728ae8bb56c2d11c05a6a)but it's not the case for us

mikeparr

[10:53](#msg58f7418dbdf4acc1127397ce)I'm just thinking about trivial lint-style checks. Most of the time, would you wish to be warned about a pre-defined word immediately followed by a colon (as in 'view:' or 'sqrt:') and also '+' immediately before a number (as in '2 +3') ? Or would this swamp use with warnings about correct code? (I know that Red's flexibility is powerful, of course.)

Oldes

[12:37](#msg58f759fe3e27cac331a28f5e)@mikeparr I guess these belongs to Red compiler written in Red. Current one is written in Rebol.

JacobGood1

[13:13](#msg58f762728e4b63533de2d220)&gt; @PDelak Currently, the macro expansion is done at preprocessing stage, while `#include` is process during at compile-time (after preprocessing). This will be changed soon, so that expansion happens at compile-time too (should then be more familiar to Lispers).

Sounds good.

maximvl

[13:38](#msg58f76842ad849bcf429c3605)@mikeparr you can write such checker yourself ;)

[13:40](#msg58f768c8cfec9192725470f7)@dockimbel some other languages can do DSLs as well, but Redbol has a concept of `dialect`, what is the key difference between DSL and dialect?

rebolek

[13:42](#msg58f76954ad849bcf429c3c89)terminology? :)

pekr

[13:43](#msg58f76975cfec91927254752b)@maximvl I think, it is just the same. DSL stands for Domain Specific Language. Redbol has a rather clean and nice form. Not sure about how other language dialects might look like ...

maximvl

[13:43](#msg58f769868e4b63533de2f656)I was thinking that this is the same thing, but maybe there is something else

[13:45](#msg58f769f03e27cac331a2dd6a)ok, makes sense, the `#lang` things in Racket also called dialects

JacobGood1

[13:52](#msg58f76bbbd32c6f2f091e3243)I think of dialects as another version of that same language(dialect of lisp) while a dsl is a different language for a specific task(regex).

Because Red has a rich number of data types, and a built in parser, people make dialects more often than dsls.

It is, of course, just semantics.

[13:57](#msg58f76cd6a0e48562421c4425)In the programmer community, for some odd reason, we love to make everything vague. We use the same word over and over again, with different meanings. I find it difficult to communicate ideas because function, object, etc, have different meanings depending on the language one thinks in. I always have to derive someones definitions when reading their ideas about programming, even though the vocabulary is the same.

[14:00](#msg58f76d89bdf4acc11274613b)Programming languages are like a transmogrified monster of formal and informal languages.

[14:07](#msg58f76f278bb56c2d11c1921f)This is the loop macro from common lisp; dialect or dsl?

```
(loop
  for item in list
  for i from 1 to 10
  do (something))
```

I would say dsl because it does not look like lisp, nor does it operate like lisp.

maximvl

[14:22](#msg58f7728a881b89e1016651d2)same for `draw`, right? `draw [fill-pen red box 10x10 100x100]` is not Redbol code

gltewalt

[14:28](#msg58f774018bb56c2d11c1aaf9)Some interesting words about dialect.  
https://en.m.wikibooks.org/wiki/REBOL\_Programming/Language\_Features/Dialects

[14:41](#msg58f777373e27cac331a320c1)@maximvl I was thinking online playground makes for a good collaborative whiteboard - or can be used for teaching and/or Help

dockimbel

[14:45](#msg58f7781e8bb56c2d11c1c2d0)A dialect in Redbol, is equivalent to an "embedded" DSL, it shares the same syntax (it is LOADable) as the main language, but has domain-specific semantics. And "external" DSL has different syntax and semantics (it's string-based and not LOADable).

About the "DO dialect" concept (mentioned in some wikis about Rebol), it has been used by some Rebol3 contributors, but Carl (Rebol's author) never acknowledged such concept (I've asked Carl about that in the Redbol conference in 2013), nor do I. The reason is that a "dialect" derives from a "language", so Red and Rebol are languages, from which dialects are derived. Red can also be considered a dialect of Rebol (a language can be a dialect of some other language).

[14:53](#msg58f779f78bb56c2d11c1ccd2)For example, if you would define a DSL where you can do maths with units and it would look like this:

```
do-units "3000m / 5mn"
== "10m/s"
```

That would qualify as an external DSL. My old \[Scheduler](http://softinnov.org/rebol/scheduler.shtml) DSL has a string variant which also qualifies an external DSL.

maximvl

[14:55](#msg58f77a668fcce56b201874e8)I see, thanks for clarification!

mikeparr

[18:14](#msg58f7a9073e27cac331a42845)@maximvl Re the checking of pre-defined word+colon. Yes, I could write it, but my question was: is it a good idea (and would you want it in a Red IDE?)

greggirwin

[19:41](#msg58f7bd533e27cac331a48811)A lint style tool would be a great example, and maybe useful for newcomers. There are a lot of existing words even experts forget about too.

maximvl

[19:41](#msg58f7bd838fcce56b2019ba32)@mikeparr I agree, I would use it

JacobGood1

[22:57](#msg58f7eb3c8bb56c2d11c3dbe3)I think that we should have such a malleable ide that new libs/dialects can alter the ide to properly document, error check, code complete, etc. My idea is not a general approach solution but I do not think that a general approach can be found for dialects.

[22:57](#msg58f7eb58ad849bcf429ea51b)In essence, a better emacs =)

## Thursday 20th April, 2017

gltewalt

[01:27](#msg58f80e788e4b63533de5e5fe)@mikeparr @greggirwin Something like rubocop would be sweet to have. Best Ruby tool I encounter when I got reacquainted in April 2016

[01:29](#msg58f80eed3e27cac331a5be6c)"A Ruby static code analyzer, based on the community Ruby style guide"

dockimbel

[03:16](#msg58f8281e3e27cac331a60eef)@gltewalt Ability to statically analyze Redbol code is limited. Just distinguishing code from data in general case is a big challenge.

gltewalt

[03:40](#msg58f82d97f22385553d5a4029)Yep, but it could at least admonish people about coding style

9214

[06:47](#msg58f8599e8bb56c2d11c54650)but Redbol is completely free-form, why should we shove down user's throat some preferred code style?

[06:48](#msg58f859c33e27cac331a6ba81)I can see the point, but it goes against language philosophy IMO

dockimbel

[08:18](#msg58f86ef008c00c092a9a57df)Continuing the pair/point syntax discussion from red/docs room, if we decided on giving up the comma in numbers, we could introduce a new syntax which could work for `pair!`, `point!` and even fixed-size vectors of higher dimension:

```
(1.2, 3.14159, 456)
(1.2,3.14159,456)
```

[08:20](#msg58f86f3ff22385553d5b36b4)Spaces are optional, but would be enforced on serialization. I would also keep the current pair syntax as possible format on input. The lexer should be able to parse unambiguously such forms (unless I missed something). Moreover, that's how you write coordinates in geometry. What do you think about that?

Oldes

[08:45](#msg58f87529d32c6f2f09228e6e)I never use comma in numbers and we have it as a official national decimal char (I guess). But I'm not sure with the parens. Above looks readable, because it is colorized. Having `(1.23,45.67,89)` is not that good.

[08:45](#msg58f875428e4b63533de7633a)

```
php
1.23x45.67x89
```

[08:47](#msg58f8759e08c00c092a9a743c)Hm.. cannot find any language which would colorize it correctly in Gitter:) But I think that if the console would display numbers in different colors, the readability would be better.

dockimbel

[09:21](#msg58f87d95c1d3b501540174c2)The comma gives a better visual cue than `x` as it sticks out on the bottom, but as I said, the space would be optional on input, but enforced on output. And again, that's how you write coordinates in math, so you can hardly find a more natural syntax.

iArnold

[09:22](#msg58f87dc53e27cac331a7591a)One of the nice things about Rebol is the duality between dot and comma for decimal notation. There are plenty countries where the comma is used for decimal notation.

rcqls

[09:27](#msg58f87f188fcce56b201c8178)@dockimbel +1 for your proposal for `pair!` and above all for `point!`

geekyi

[09:28](#msg58f87f2a881b89e1016a9d7b)Agree with @Oldes pretty much, but that may be because I've never used `,` as decimal point. Also the `x`syntax looks nicer, but one of my use cases would be things like complex numbers and quarternions. How would that work? `3.2e6i+4.2e-7`?

dockimbel

[09:35](#msg58f880c7cfec919272590374)@rcqls Thanks, but that means forbidding the comma in numbers, do you think that would be acceptable for our fellow French citizens?

maximvl

[09:36](#msg58f8812212d24099357edf83)correct me if I'm wrong, but `.` as delimiter for integer and fractional part is international standard

geekyi

[09:37](#msg58f8815acfec919272590629)@maximvl `,` is an old european(?) standard, also in some other countries

maximvl

[09:38](#msg58f8817c12d24099357ee050)well, do we live now or in ancient europe?

geekyi

[09:38](#msg58f881a48fcce56b201c8aca):smile: I think of it like metric vs imperial units, so I'd tend to agree with you (go metric!)

maximvl

[09:39](#msg58f881efcfec91927259091f)so when I was studying in university we were told about https://en.wikipedia.org/wiki/International\_System\_of\_Units

geekyi

[09:42](#msg58f882708fcce56b201c8c98)@maximvl https://en.wikipedia.org/wiki/Decimal\_mark#Countries\_using\_Arabic\_numerals\_with\_decimal\_comma

maximvl

[09:42](#msg58f88294c1d3b5015401873d)ok, it says nothing about using full-stop vs comma

rcqls

[09:46](#msg58f88392881b89e1016ab3b5)@dockimbel as a mathematician, I no more use the comma because it is tricky when writing a list of decimal numbers:

\* using `,` as the separator when using symbols: a,b,c,...  
\* using `;` as the separator when replacing symbols with values: 1,2; 3,3, 5, …

International convention using `.` for decimal looks more natural. But, this is only my point of view and maybe this convention could be a revolution for other French citizens. However, other numerical languages like `R`, `python`, `julia`, fortunately use `.` for decimal number...

geekyi

[09:47](#msg58f883ba8fcce56b201c90fa)@maximvl In that same page, under \[Examples\_of\_use](https://en.wikipedia.org/wiki/Decimal\_mark#Examples\_of\_use), you can see there are quite a few variations in standard (Switzerland uses both comma and dot!).. I'd prefer one way too

[09:55](#msg58f8857c3e27cac331a779c2)Adding to what I said above :point\_up: \[April 20, 2017 2:28 PM](https://gitter.im/red/red?at=58f87f2a881b89e1016a9d7b)  
`J` has the most convenient style for \[numeric constants](http://www.jsoftware.com/help/dictionary/dcons.htm)  
(apart from using `_` for negative numbers, which I'm indifferent about)

[09:55](#msg58f88597c1d3b501540192c4)

```
2.3e2 2.3e_2 2j3
230 0.023 2j3

   2p1 1p_1
6.28319 0.31831

   1x2 2x1 1x_1
7.38906 5.43656 0.367879

   2e2j_2e2 2e2j2p1 2ad45 2ar0.785398
200j_200 628.319j6.28319 1.41421j1.41421 1.41421j1.41421

   16b1f 10b23 _10b23 1e2b23 2b111.111
31 23 _17 203 7.875
```

[11:31](#msg58f89c1f8e4b63533de806c4)After reading what was discussed in red/docs channel, there is the more radical alternative of using something like `(| 2 3 4 5 6|)` for higher dimensional values.  
That is a `block!` or series! type with:  
\## Semantics  
`vector!` : array with items of fixed size

\## Syntax  
like `block!`:  
\- Starts with a \*bracket character* `[(<` with extra punctuation added `[|` `(((` `<$`  
\- Ends with a mirror of that character sequence `[(<| a b c |>)]`  
\- Space separated like in blocks (but stricter) `3 + [( 3.2 4.2 )] + 8`

\## Pros  
\- Cleaner, rebol (forth) like  
\- Can be used a general framework to add more types

\## Cons  
\- Affects red syntax all over, requiring whitespace where it didn't before, e.g. no more `a:[3 [[4]]]` or `#(2)` but would require `a: [ 3 [ [ 4 ] ] ]` or `#( 2 )`  
\- Might be less readable

rebolek

[11:33](#msg58f89c808e4b63533de807db)`[(<| a b c |>)]` - this is `tag!` inside `paren!` inside `block!`.

geekyi

[11:33](#msg58f89c8bcfec919272597c52)This is just an idea I had in mind, for an alternative syntax for `series!` types, thus larger in scope, but readily applicable to `vector!` types

rebolek

[11:34](#msg58f89cbf8fcce56b201d011c)

```
>> t: [(<| a b c |>)]
== [(<| a b c |>)]
>> reduce t
== [<| a b c |>]
>> type? t
== block!
>> type? t/1
== paren!
>> type? t/1/1
== tag!
```

geekyi

[11:34](#msg58f89cd212d24099357f507f)@rebolek yeah, it just maybe too radical :smile:

[11:35](#msg58f89ceb881b89e1016b1f47)&gt; Affects red syntax all over

[11:35](#msg58f89d1d12d24099357f516a)But it is interesting you can still parse some of it as valid red

pekr

[11:38](#msg58f89d9c881b89e1016b23bc)The dark side, you know, uses | as a means of expression separator. But it has low value usage, unless you have variadics ...

rebolek

[11:38](#msg58f89d9d8bb56c2d11c66b5c)Because it is valid Red, it can't be used as new syntax.

geekyi

[11:44](#msg58f89f2e8fcce56b201d0ce9)@rebolek but if you change the existing syntax to `[ ( < | a b c | > ) ]` you can actually use it

[11:45](#msg58f89f553e27cac331a7e7d6)point is, there's a simple, but radical \*and backwards incompatible* change you can make

[11:46](#msg58f89f97cfec919272599014)This probably requires a fuller spec in the wiki to specify and explain all, but that's the gist of it

[11:47](#msg58f89fc58bb56c2d11c67534)I'll do it later when I get time(!) :worried:

DideC

[13:18](#msg58f8b52e8e4b63533de878b0)Is accolade `{` and `}`not available on all keyboard ? But I don't like adding another "group of" separator.

iArnold

[13:28](#msg58f8b76208c00c092a9ba00d)what about 1x2 for pair! and !1x2x3 for `point!` In !1.2x1.3x1.4 it kind of warns for attention reading it.  
This could also be used for `tuple!` where 255.255.255 is the restrictive one for networking, colorcoding etc and !2012.2013.2014.2015.2016.2017 for the more free form. (Hey there is even room for comma's there to use for decimal place :-P )

maximvl

[13:28](#msg58f8b773f22385553d5c7c17)&gt;\[(&lt;| a b c |&gt;)]

no, please no

[13:28](#msg58f8b77b3e27cac331a85b05)we have perl already

pekr

[13:30](#msg58f8b8048fcce56b201d8909):-)

x8x

[15:30](#msg58f8d40608c00c092a9c3987)didn't follow the discussion but these would still be available `:[1 2 3]` or `'[1 2 3]` or `:(1 2 3)` or `'(1 2 3)` or `:{1 2 3}` or `'{1 2 3}`

[15:48](#msg58f8d85508c00c092a9c5307)

```
#[1 2 3] :[1 2 3] '[1 2 3]
:(1 2 3) '(1 2 3)
:{1 2 3} '{1 2 3}
```

then you could have an integer in front to specify the size so `10#[1 2 3]` would be like `#[1 2 3 0 0 0 0 0 0 0]`

[15:49](#msg58f8d88c8fcce56b201e36f3)don't read if it's nonsense :smile:

dockimbel

[16:24](#msg58f8e0bb08c00c092a9c7b90)`#[...]` is already used by the contruction syntax. `:` relates to getting/setting, `'` relates to quoting. All those symbols already have defined meaning in the syntactic rules.

[16:28](#msg58f8e19f08c00c092a9c7fb6)Syntax is the hardest part in language design, at least according to my own experience. Picking up a good syntax means optimizing on many constraints.

greggirwin

[16:29](#msg58f8e1df881b89e1016c7940)- @DideC, `{ }` are already used for ML strings.  
\- Many alt construction syntax ideas have come up in the past. Need a generalized model if we extend what is there now.  
\- pair syntax is nice because it is both atomic lexically, and `x` implies dimensionality.  
\- Doc's suggested paren+comma notation is nice for the reasons he states, but doesn't have those attributes, and now commas become a much more real part of syntax for us.  
\- Is what we want a true vector lexical form?  
\- Syntax is hard, +10

dockimbel

[16:35](#msg58f8e336c1d3b501540368c8)@greggirwin I suggested the paren+comma notation only for fixed-size vectors (`pair!`, `point!`, ... `spacetime!`? ;-)), not for `vector!`.

meijeru

[16:35](#msg58f8e3588bb56c2d11c7cc4d)It is true that, together with image!, vector! is the only series! type that does not have a lexical form of its own. For image! this is not felt as a problem, I think. For vector, it would probably be nice to have it, BUT there are two parameters to be supplied: element-type and bit-size. The former can be deduced from the elements themselves (but what about an empty vector then??). What could one do about the bit-size? In R3, this is solved by construction syntax, like so: `#[vector! integer! 16 [1 2 3]]`. I put my hopes on that, for the moment...

pekr

[16:36](#msg58f8e38acfec9192725af1cb)interesting

greggirwin

[16:37](#msg58f8e3c5cfec9192725af320)Generalized construction syntax is good for a lot of things, IMO.

pekr

[16:40](#msg58f8e4733e27cac331a945e0)@greggirwin Do you remember discussion about "space significancy" in Rebol? It was started by Ladislav. I remember many ppl found it too radical for Rebol like language. But at the end, there was one suggestion. It was called "Plan -4". Simply put, only four cases would not require a space significancy: `][, ](, )[, )(` - these would be equivalent to `] [, ] (, ) [, ) (`

[16:40](#msg58f8e485f22385553d5d7066)Maybe still too radical, I don't know. Would it free a space for more lexical forms?

greggirwin

[16:43](#msg58f8e527f22385553d5d725c)I remember discussing that. My problem with it is the subtlety it creates. I'd have to go back and revisit it to remember all the details, but I think I felt it was solving a non-problem.

pekr

[17:01](#msg58f8e97812d240993580d59f)Yes, Ladislav started the discussion from other reasons, than to create some space for new lexical forms. The tricky thing with Redbol langs is, that you can rather easily ruin the experience. There are some things to which you get used over time, but I am still kind of scratching my head, when seeing commas in any possible Redbol expressions ...

greggirwin

[17:02](#msg58f8e9a68e4b63533de981bf)As Nenad says, we optimize based on constraints. Typing out number of examples here, subjectively, `x` syntax starts to get ugly with more than 4 int digits in a segment, or if the values in each segment vary widely in their number of digits. Same for decimals and precision. Comma syntax is marginally cleaner. Paren+comma+spaces stays clean.

Too soon for me to say how natural (320, 240) will become or what other issues might arise with it.

Pair syntax, I believe, was designed with purpose, and it's excellent for that. Small integers. 2D coordinates. Literal values when creating GUIs and rectangular images. Pixels. I thought it would be good to extend it to a third dimension, and others proposed decimal support. Both potentially useful, but also pushing the boundaries and neither, I think, felt right or elegant. At least not enough to build consensus. Maybe the best thing to do is leave pair well enough alone.

If we do that, point! and pair! will have some relationship in people's minds, but they are distinct. We need to define, clearly, what the uses are for point!, value ranges, how often they will be literal, and what it does to overall syntax in exchanged data.

[17:10](#msg58f8eb9412d240993580e011)As a starting point, use Nenad's suggested paren+comma syntax. Let's shoot some holes in it and see how well it holds up. Like Petr, I'm skeptical of the comma, but it does stay clean, and we need a way to distinguish it from normal parens. We can define word-based rules, e.g., `(12.3434 x 3.56722 x 16533.234)` which is just a different can of worms. Special chars don't solve it `(12.3434 × 3.56722 × 16533.234)` either.

9214

[17:33](#msg58f8f0e312d240993580fd96)this code causes an error:

```
collect [
        loop 4 [
            keep offset: (to integer! #{00002d55}) + 4
        ]
    ]
```

```
*** Script Error: PARSE - matching by datatype not supported for any-string! input
*** Where: parse
```

I think this is because of `to` word inside `collect` block, but, uhm, it seems like a valid type conversion for me, not `to` keyword :(

[17:34](#msg58f8f11ef22385553d5dafe6)I'll stick to `to-integer` for now, but that's an interesting edge case IMO

[17:35](#msg58f8f157ad849bcf42a2fddb)ha, `to-integer` ain't do the trick, error still there

[17:42](#msg58f8f30f8e4b63533de9b2fb)

```
>> collect [ #{deadbeef} ]

*** Script Error: PARSE - matching by datatype not supported for any-string! input
*** Where: parse
```

:confused:

greggirwin

[17:44](#msg58f8f39b8bb56c2d11c819e8)

```
collect: func [
    {Collect in a new block all the values passed to KEEP function from the body block} 
    body [block!] "Block to evaluate" 
    /into {Insert into a buffer instead (returns position after insert)} 
    collected [series!] "The buffer series (modified)" 
    /local keep rule pos
][
    keep: func [v /only] [either only [append/only collected v] [append collected v] v] 
    unless collected [collected: make block! 16] 
    parse body rule: [
        any [pos: ['keep | 'collected] (pos/1: bind pos/1 'keep) | any-string! | binary! | into rule | skip]
    ] 
    do body 
    either into [collected] [head collected]
]
```

[17:45](#msg58f8f3b6cfec9192725b45d9)Probably need to think about it more, but adding the `binary!` check solves it for the moment.

[17:50](#msg58f8f503cfec9192725b4d5e)@9214, would you submit a ticket for that please?

9214

[17:51](#msg58f8f5198e4b63533de9bc92)Sure thing, but I don't know how to name it properly

[17:52](#msg58f8f5438fcce56b201ec508)`parse` can't match `binary!` datatype inside `collect`?

greggirwin

[17:52](#msg58f8f548ad849bcf42a31358)"Collect chokes if `binary!` in body" ?

Oldes

[17:56](#msg58f8f64df22385553d5dcca9)https://gitter.im/red/red?at=58f86ef008c00c092a9a57df it is the usage of paren which I don't like.. I think there would be too much confusion. Paren is something special.. and using `compose` where you would use also these new sytnax will look really strange to me.

[17:58](#msg58f8f6c912d2409935811f7d)What about this variant?:

```
<1.2, 3.14159, 456>
<1.2,3.14159,456>
```

9214

[17:59](#msg58f8f70208c00c092a9ce801)Red thinks it's a `tag!`

Oldes

[17:59](#msg58f8f705cfec9192725b5600)Or is above `tag!` which someone would found useful?

[18:00](#msg58f8f732cfec9192725b56b8)I know it is `tag!`... I'm asking, if it it useful `tag!`

[18:01](#msg58f8f78dad849bcf42a31d53)Honestly... when I was working with markup in Rebol... I've prefered using strings instead of tags anyway.

[18:04](#msg58f8f81b8fcce56b201ed48f)

```
html
>> type? #<1,2,3>
== issue!
```

Another possibility.

[18:06](#msg58f8f8af8e4b63533de9cc92)Above is from Rebol... Red is not supporting such a syntax:

```
>> type? #<1,2,3>
*** Syntax Error: invalid float! at ",2,3>"
*** Where: do
```

asampal

[18:50](#msg58f9030401d449152eb5f053)&gt; @greggirwin I suggested the paren+comma notation only for fixed-size vectors (`pair!`, `point!`, ... `spacetime!`? ;-)), not for `vector!`.

[18:50](#msg58f9030d7b553c707c525d5e)@dockimbel , a while back you said you would probably address tuple as well wrt it's current limitations. That isn't a fixed-size vector, but it is typically a limited length one, which could have some optimizations vs blocks. If you are also going to look at that, where would if fit relative to this suggestion?

x8x

[18:51](#msg58f9032e12d240993581598f)I also wish we wont get commas in Red, is the NxNxN.. really such a mess? I'm thinking the use case for those in code would be pixels so very readable, for float vectors, data will mostly get loaded from somewhere or be generated and consumed, no trace of it in code.  
Constructor is a good alternative, I would add a local dialect so that I could write `#[vector! integer! 16 [1 2 3]]` as `#[vi16 [1 2 3]]` or being able to define `v: [vector! integer! 16]` and then use `#[:v [1 2 3]]`

iArnold

[19:02](#msg58f905bead849bcf42a36385)Combining `!` as `not` and `(` as `paren!` gives `!(` to be `not paren!`. `!(12,34x56,67x78,901)` `!(12.3434 x 3.56722 x 16533.234)`

gltewalt

[19:10](#msg58f9079012d24099358170ba)I'm against commas

iArnold

[19:25](#msg58f90b12cfec9192725bb22d)Okay, that is one against, now let's ask the rest http://www.worldometers.info/world-population/ ;-)

gltewalt

[19:29](#msg58f90c053e27cac331a9faaf)One of the nice things about redbol and lisps. No commas necessary in "collections"

[19:32](#msg58f90ccc12d24099358189e2)Isn't _ already an optional separator for numbers?

geekyi

[19:37](#msg58f90e048bb56c2d11c89651)@gltewalt `'` is the optional separator for numbers

gltewalt

[19:38](#msg58f90e34f22385553d5e378f)Oh, I'm probably confusing with Elixir

geekyi

[19:45](#msg58f90fccad849bcf42a39355)@maximvl  
&gt; &gt;\[(&lt;| a b c |&gt;)]

&gt;no, please no

It was only an example! Could be simpler and more mnemonic, classifying by properties, e.g. `()` means unique, for `set!` like stuff.  
My usecase? I like that red has many "primitive" datatypes, and I want more! If this enables user types, better.  
I definitely don't want perl, rules for inclusion should be mathematically fundamental.  
But, it's all an idea of course

9214

[19:48](#msg58f9108808c00c092a9d5d75)

```
Red []

remove-each x [1 2 3] ['whatever]
```

```
-=== Red Compiler 0.6.2 ===-

Compiling c:\Users\vvv0v\Desktop\RED\bug.red ...
...using libRedRT built on 20-Apr-2017/12:58:25+5:00
...compilation time : 24 ms

Target: MSDOS

Compiling to native code...
*** Compilation Error: undefined symbol: red/natives/remove-each-next
*** in file: %/c/Users/vvv0v/Desktop/RED/bug.red
*** at line: 332
*** near: [
    natives/remove-each-next 1
]
```

Should I feel a ticket?

ericguedespinto

[19:53](#msg58f911d512d240993581a0df)Hi everybody. Is `now`available? I get a "Internal Error: reserved for future use (or not yet implemented)"

9214

[19:55](#msg58f91236881b89e1016d68fb)@ericguedespinto hi Eric, AFAIK no, only `now/time`

ericguedespinto

[19:56](#msg58f912588e4b63533dea48f9)Thanks

gltewalt

[20:12](#msg58f916123e27cac331aa2960)@geekyi write a json! datatype and submit it for consideration (and probably xml! - but... \*shudder\*... yuck)

geekyi

[20:14](#msg58f916a008c00c092a9d7810)@gltewalt ??? json is not fundamental enough ;) It is a composite mix of things

[20:16](#msg58f91711c1d3b50154045bfb)&gt;- Is what we want a true vector lexical form?

&gt;@dockimbel  
&gt;&gt; @greggirwin I suggested the paren+comma notation only for fixed-size vectors (`pair!`, `point!`, ... `spacetime!`? ;-)), not for `vector!`.

So that splits this discussion to 2 things: vectors of limited length vs arbitrary, the later which can be deferred  
\- Well, I can get behind `spacetime!` (4 dimensional arrays) :smile: in that case,  
&gt; Pair syntax, I believe, was designed with purpose

it may limit what I'd use `point!` for (3D representation)  
\- Literal syntax for arbitrary `vector!`s would be nice

9214

[20:17](#msg58f9176f3e27cac331aa2eed)@geekyi it's Rebol's bastard :feelsgood:

gltewalt

[20:41](#msg58f91cf2d32c6f2f09259dc3)URLs aren't fundamental enough, but it's damned handy

AlexanderBaggett

[20:46](#msg58f91e37881b89e1016d9f83)I am against commas, because I spent a decent amount of time unlearning commas from other programming languages when I came to Red.

x8x

[20:53](#msg58f91fb88fcce56b201f81db)feature or bug?  
rebol:

```
reduce 'a
;   a
```

red:

```
reduce 'a
*** Script Error: a has no value
*** Where: reduce
```

AlexanderBaggett

[20:53](#msg58f91fc9f22385553d5e84f9)I apologize, I made an assumption about what you had said, before you finished editing it. I thought your message was rebol: red. I thought you literally did `? rebol` and got back `red`

greggirwin

[20:54](#msg58f92015ad849bcf42a3d65f)@x8x, by design. Though your temp message was pretty funny. :^)

x8x

[20:55](#msg58f920448fcce56b201f83db)what was it like? :smile:

greggirwin

[20:56](#msg58f9207b3e27cac331aa57f3)It said Rebol evaluated to Red.

AlexanderBaggett

[20:56](#msg58f9209212d240993581e2e3)

```
>> ? rebol
rebol is a logic! of value: false
```

gltewalt

[20:57](#msg58f920b5f22385553d5e8846)Because rebol: false is in the consoles words

[20:57](#msg58f920bc12d240993581e47e)Attribute

AlexanderBaggett

[20:58](#msg58f920ea12d240993581e515)Problem solved ;)

```
>> rebol: red
== 255.0.0
>> rebol
== 255.0.0
```

geekyi

[20:59](#msg58f9211f881b89e1016dac10)In Rebol:

```
>> rebol = system
== true
```

AlexanderBaggett

[20:59](#msg58f9213408c00c092a9da469)About your question earlier though @x8x , It does look like a bug, in Rebol it does evaluate back to a

x8x

[21:00](#msg58f921598bb56c2d11c8e4d2)where is the advantage? `join` and `repend` depends on it:  
rebol:

```
join "a" 'b
;   "ab"
  repend "a" 'b
;   "ab"
```

red:

```
join "a" 'b
*** Script Error: b has no value
*** Where: reduce
  repend "a" 'b
*** Script Error: b has no value
*** Where: reduce
```

greggirwin

[21:02](#msg58f921d608c00c092a9da772)Red doesn't have `join` officially yet. The `join` I have works like in Rebol.

geekyi

[21:02](#msg58f921dd3e27cac331aa5de0)@x8x

```
>> repend "a" 'b
*** Script Error: reduce does not allow string! for its out argument
*** Where: reduce
```

x8x

[21:03](#msg58f92219f22385553d5e8e30)would you be so nice and share your `join` :smile:

[21:04](#msg58f922498bb56c2d11c8e91a)I'd still be interested in the advantage of that

greggirwin

[21:04](#msg58f92265881b89e1016db1dd)Experimental. Caveat emptor.

```
; I have this here because some old format code I'm porting uses it.
	; It may all change to `rejoin`, but it gave me a reason to port `join`
	; to Red for real and think about object/map support. `Rejoin` doesn't
	; work for those. The question, then, is what value there is in a
	; uniform interface for copy+extend.
	join: func [
		"Concatenate values"
		a "Coerced to string if not a series, map, or object"
		b "Single value or block of values; reduced if a is not an object or map"
	][
		if all [block? :b  not object? :a  not map? :a] [b: reduce b]
		case [
			series? :a [append copy a :b]
			map?    :a [extend copy a :b]
			object? :a [make a :b]
			'else      [append form :a :b]
		]
	]
```

x8x

[21:05](#msg58f922a6881b89e1016db33f)Ohh that's bigger than the original, thanks will use that.

greggirwin

[21:06](#msg58f922ccad849bcf42a3e227)It has a big warning comment. :^)

x8x

[21:06](#msg58f922f1cfec9192725c17ab)still, the new behaviour is like a double reduce for lit-word

[21:08](#msg58f9233a8e4b63533dea96c0)ohh, but then in a block it does it like in rebol:

```
reduce ['a]
;   [a]
```

greggirwin

[21:08](#msg58f923678fcce56b201f909c)Here's a base version:

```
join: func [
	"Returns a copy of a value, with other values appended."
	value "Base value; copied if series, formed otherwise"
	rest  "Value or block of values"
][
	if block? :rest [rest: reduce rest]
	append either series? :value [copy value] [form :value] :rest
]
```

x8x

[21:09](#msg58f9238c3e27cac331aa6617)@greggirwin still, what's the benefit of the changed behaviour?

[21:13](#msg58f9248208c00c092a9db383)Humm maybe it's rebol that had it wrong, `a` would return the value of `a` so `reduce 'a` should return the value of `a` like red does. So is that a consistency fix?

[21:16](#msg58f925308e4b63533deaa16c)I'll take your extended version, `map` and `object` additions are usefull, thx! 😁

greggirwin

[21:16](#msg58f9253ec1d3b50154049bd5)I can't find notes on it right now, though I know Doc has explained it before.

x8x

[21:18](#msg58f9259f8e4b63533deaa305)And probably I was the one who asked.. 😬

[21:35](#msg58f929ae881b89e1016dced7)@ericguedespinto here is a `now` version for linux (for macOS, just install `brew install gnutls` and change `'date` with `'gdate`) beware it will always return a `string!` https://pastebin.com/raw/PrqCzv4U

greggirwin

[21:47](#msg58f92c5612d240993582154c)It looks like a lot of people are against commas, but nobody is making strong arguments against Doc's proposed syntax. It's possible, though not likely, that our suggestions will hit upon some heretofore undiscovered bit of syntax that is better than the current pair syntax or Doc's idea.

A lot of it is what we get used to. `(1, 2, 3)` feels different because there's an implicitness to the rules. That all values have to be numbers \*and* have a comma after it, seems funny right now. There is nothing to indicate that you can't just add more values, because it looks like a normal list. A single dimension. Where `×` implies, to me, different dimensions which, unless you're into superstrings, are fairly limited. Every new syntax is like that though. We just stop seeing it after while. I really disliked `keep` in `collect` when it was adopted, but am (mostly) used to it now. ;^)

AlexanderBaggett

[21:48](#msg58f92cc7ad849bcf42a40965)so we can't have a 4d array that looks like 400x400x400x400 ?

[21:49](#msg58f92cd1c1d3b5015404b907)or something similarly silly

[21:49](#msg58f92cd812d24099358217f5):)

greggirwin

[21:51](#msg58f92d738fcce56b201fbc63)We could. I even suggested as much for Ren. The question is how much value they have.

[21:53](#msg58f92dd708c00c092a9ddc65)Something even Reducers don't think about is that datatypes are, themselves, like mini dialects in a way. Very small, problem oriented languages. The more general we try to make them, the more we risk messing up their clarity, elegance, and conceptual integrity.

AlexanderBaggett

[21:53](#msg58f92deff22385553d5ebcbe)what is Ren ?

greggirwin

[21:54](#msg58f92e05881b89e1016ddf80)When we start pushing for datatype extensions, it isn't a bad reaction to say "Use a block". :^)

AlexanderBaggett

[21:54](#msg58f92e2d881b89e1016de043)Blocks are so versatile.

greggirwin

[21:55](#msg58f92e3f8fcce56b201fbfc7)Ren is a project a few of us have tinkered on, which is basically the JSON of Redbol languages. A strictly defined data format to aid compatibility between implementations.

AlexanderBaggett

[21:55](#msg58f92e58ad849bcf42a41045)Oh interesting.

[22:00](#msg58f92f9a8e4b63533deacacc)So is data basically blocks?

[22:01](#msg58f92fa7f22385553d5ec3cb)Is there a webpage or github where I can see the project?

gltewalt

[22:34](#msg58f9377ead849bcf42a431eb)I think (1.2 3.14159 456) is fine. What would be the commas purpose, again?

greggirwin

[22:47](#msg58f93a68ad849bcf42a43d41)@AlexanderBaggett, http://ren-data.org

[22:50](#msg58f93b3f8bb56c2d11c94931)The commas would denote that it's a special kind of paren, limited to numbers and how many values it can contain.

AlexanderBaggett

[22:50](#msg58f93b4fcfec9192725c74fa)It looks cool :+1: Are you trying to get a .Net/C# implementation going?

[22:51](#msg58f93b6ad32c6f2f09261c4f)Rather, not you specifically, but the project.

[22:51](#msg58f93b793e27cac331aac751)I am pretty handy in .Net

greggirwin

[22:51](#msg58f93b8ad32c6f2f09261c7a)Eventually, but I set things aside for a bit. The goal is to let people build implementations for whatever they want, though libRed will be a main entry point I think.

[22:52](#msg58f93bb3d32c6f2f09261d8b)Happy to have people work on things. The basics are locked down pretty well.

[22:53](#msg58f93bedcfec9192725c76c8)See also: https://github.com/Ren-data/Ren

[22:54](#msg58f93c1112d2409935824f2f)Right now all my spare time is going into Red proper. We'll get back to it though.

[23:02](#msg58f93df1f22385553d5ef984)Hey, look at that, old research on a `point!` type: https://github.com/Ren-data/Ren/wiki/value-point-rfc

## Friday 21st April, 2017

gltewalt

[02:44](#msg58f97215cfec9192725d28d7)And no commas

dockimbel

[05:35](#msg58f99a37ad849bcf42a591ab)@greggirwin Just to be clear, I am for keeping the current pair! syntax (like you, I find it great for small integer 2D coordinates, and it's all great for dialects). What I proposed is an additional syntax, which could be also used by pair! as alternative syntax, but also serve as default syntax for other fixed-size vectors.

greggirwin

[05:37](#msg58f99aa9ad849bcf42a59370)Understood.

dockimbel

[05:45](#msg58f99c6fd32c6f2f092760d2)@x8x  
&gt; still, the new behaviour is like a double reduce for lit-word

No, there is no "double reduce", even in Rebol, a lit-word always evaluates to a word:

```
>> 'a
== a
```

[05:54](#msg58f99e8af22385553d60472f)@x8x @greggirwin Rebol has a pass-thru rule for `reduce` that I find problematic as it cannot catch type errors. Though, for sake of compatibility, I've kept it in Red, but for a word argument, it acts as a `get` and will evaluate the word.

[06:01](#msg58f9a0328fcce56b2021557a)About commas:  
\* I never proposed spreading the use of commas, nor to use them for collections.  
\* Purely subjective comments (I like/dislike it) are not helpful.  
\* Everybody uses commas daily when writing, you have a key on your keyboard for that, so banning them makes no sense.  
\* Paren+commas (+space) \*is* the natural way to write \[coordinates](https://en.wikipedia.org/wiki/Coordinate\_system), any other syntax (except for `x` one, which relates to dimensions) is unnatural. Redbol is trying to provide syntax which is the closest to natural form, so that it makes learning and usage more intuitive.  
\* `(x, y)` and `(x, y, z)` is what you all used in highschool and college for writing 2D/3D coordinates.

[06:17](#msg58f9a414cfec9192725dd3b4)"Everybody uses commas daily when writing" Just to avoid confusion: I meant natural languages, not code.

pekr

[06:18](#msg58f9a44c8fcce56b202167af)One of the cons I can see and which should be listed is - many other langs use such format for an array of items. Hopefully users are not going to be confused and produce `[x, y, z]` or some other similar forms. But then there are docs to cover that ....

9214

[06:22](#msg58f9a52f8fcce56b20216ada)as a rule of thumb, assume that no one reads docs :D

geekyi

[06:24](#msg58f9a5978fcce56b20216c58)Is it `(x,y,z)` or `(x, y, z)` is also allowed?

greggirwin

[06:26](#msg58f9a61bf22385553d6067a1)The first you can enter manually, the second is normalized form that the system will always produce.

geekyi

[06:26](#msg58f9a61b12d240993583a680)@greggirwin ren wiki page is a useful reference!

greggirwin

[06:27](#msg58f9a6403e27cac331ac3c74)Thanks. It will be fun to get back to that, but first... `format`. :^)

geekyi

[06:28](#msg58f9a68908c00c092a9f733e)I meant specifically for point! But also other data types too I guess

greggirwin

[06:30](#msg58f9a7048fcce56b20217110)There will be official Red specs as well.

dockimbel

[06:33](#msg58f9a7d6f22385553d606f45)&gt; One of the cons I can see and which should be listed is - many other langs use such format for an array of items.

What other languages use/not use is the lowest concern when choosing datatypes syntax in Redbol, simplicity, consistency, human-friendliness are the most important concerns. As one of oldest Rebol follower, you should be very aware of that.

geekyi

[06:34](#msg58f9a80ac1d3b501540668af)My biggest gripe with the current proposal is comma is used for a specific datatype. Feels like a waste of punctuation. But if it's only inside parenthesis..

[06:35](#msg58f9a8418e4b63533dec715d)In other words, how cleanly would it fit with the rest.. In terms of consistency..

greggirwin

[06:36](#msg58f9a8713e27cac331ac4563)It only needs to be consistent within its own datatype.

geekyi

[06:36](#msg58f9a876881b89e1016f8cc5)I like that comma is being used for something, instead of being just an alternative to dot

[06:37](#msg58f9a8c3f22385553d60746c)This does open up comma for that possibility right?

greggirwin

[06:38](#msg58f9a8f78bb56c2d11cad463)The only other meaning it has right now is, as you say, alt dot. So we just say, in the context of a paren, `num, num opt [, num]` has a specific meaning.

geekyi

[06:41](#msg58f9a9a1c1d3b50154067309)You won't be able to use as alt dot inside parenthesis. So either exception, or get rid of alt dot meaning, opening comma up for other uses

greggirwin

[06:45](#msg58f9aa718e4b63533dec7913)Yes, the alt-dot option goes away with this.

[06:45](#msg58f9aaa5cfec9192725dea6e)That's the only loss. I don't have any stored data using that form, so I'm safe. :^)

rebolek

[07:01](#msg58f9ae563e27cac331ac5c7f)It there will be comma allowed, some people will demand it everywhere.

maximvl

[07:22](#msg58f9b31808c00c092a9fa9ba)well, you can't have syntax form for everything without making things ugly

[07:24](#msg58f9b39012d240993583dc7f)I like the idea of common type specification like somebody mentioned above

[07:24](#msg58f9b3c83e27cac331ac7189)`#[vector! integer! 16 [1 2 3]]`, because it's extensible and doesn't bloat syntax (with commas)

[07:26](#msg58f9b424c1d3b5015406a4d9)@dockimbel  
&gt;`#[...]` is already used by the contruction syntax

for what type? I don't remember seeing it anywhere

[07:29](#msg58f9b4c48e4b63533dec9d38)to me it looks strange that some datatypes formatted as code which produces them, it doesn't look consistent, like image:

```
>> i
== make image! [2x2 #{FFFFFFFFFFFFFFFFFFFFFFFF}]
>> g: do load mold i
== make image! [2x2 #{FFFFFFFFFFFFFFFFFFFFFFFF}]
>> g = i
== true
```

greggirwin

[07:32](#msg58f9b5838bb56c2d11cb0e5f)Construction syntax is used for at least `none, true, false` so far.

geekyi

[07:34](#msg58f9b5f4c1d3b5015406ac0e)@maximvl not consistent how? I really like `make`, it's transparent, flexible and simple

maximvl

[07:34](#msg58f9b61dd32c6f2f0927ccc0)@geekyi not consistent in a way that some types do have syntax forms and others don't

geekyi

[07:36](#msg58f9b679c1d3b5015406af96)I'm for literal forms. But I think that's more of a missing feature than an inconsistency @maximvl

greggirwin

[07:37](#msg58f9b6b1d32c6f2f0927cec8)@maximvl , are you suggesting we shouldn't have syntax forms? ;^)

maximvl

[07:37](#msg58f9b6b48bb56c2d11cb12a4)ok, I played with it in a repl, it isn't bad

[07:38](#msg58f9b70c8e4b63533deca692)@greggirwin I think we should, they help writing short &amp; concise code, but only the most useful ones so we can keep syntax clear of things like `[(< 1,2,3 >)]`

[07:40](#msg58f9b755ad849bcf42a601b0)other types can have "construction syntax form" like image!

greggirwin

[07:40](#msg58f9b76b12d240993583eb85)Maybe I misunderstood. Are in favor of lexical forms only, construction syntax only, or a pragmatic mix?

[07:40](#msg58f9b7778fcce56b2021b068)Got it.

maximvl

[07:40](#msg58f9b77b12d240993583ec01)the last one :)

dnmurphy

[07:42](#msg58f9b7d7f22385553d60b0db)@dockimbel "(x, y) and (x, y, z) is what you all used in highschool and college for writing 2D/3D coordinates." I think that reflects the medium in use at the time ie pen and paper). In a modern context on computers any additional keying creates increased risk of error, so I think its about trading off whatever benefit there is to using commas versus whatever dis-benefit there is (extra verbosity and increased error risk. Just a thought

maximvl

[07:42](#msg58f9b7f608c00c092a9fbbdf)for example `issue!` is not that important nor often used (I think) and I'd better use this syntax for something else

[07:44](#msg58f9b852c1d3b5015406b773)also different types sharing same syntax creates confusion, like `block!` and `vector!`

pekr

[08:08](#msg58f9be063e27cac331ac9dc7)&gt; I like the idea of common type specification like somebody mentioned above

We need a syntax creation dialect :-)

9214

[08:11](#msg58f9bec28fcce56b2021d0c7)— hello, my name is @9214 and I'm a dialectoholic  
— this is so brave of you to come up and stand with your issue... I think we need a DSL to help dialectoholics, whatcha say?

greggirwin

[08:13](#msg58f9bf148e4b63533decd41c)@maximvl, not to discount your view, but `issue!` is \*extremely* important to me, and used a \*lot\*. Red uses it a lot internally as well.

9214

[08:14](#msg58f9bf6c12d2409935840f72)and what about `tag!`? Someone mentioned earlier that it might easier to use strings instead of tags during parsing.

greggirwin

[08:17](#msg58f9c023ad849bcf42a62da2)Unless markup goes away anytime soon...

It's good to question things, but the core datatypes are sound. Carl spent a lot of time defining them, Nenad used them for many years, and then made careful choices about what to keep and what to change. Or maybe I'm just grumpy because I know I shouldn't write code when I'm tired and now I have a bug. :^)

maximvl

[08:46](#msg58f9c6e28fcce56b2021f598)@greggirwin what for do you use `issue!`? maybe I just don't understand how to use it

greggirwin

[08:55](#msg58f9c8ec8bb56c2d11cb63f2)Record IDs, tags (hashtag), serial numbers, keywords or alternate to words or ordinal numbers in dialects.

[08:56](#msg58f9c933881b89e1017019ef)I used them as error keys in R2, because # could be the first char. `##ERR`.

rebolek

[08:58](#msg58f9c9bcc1d3b50154070853)Although there is one problem:

```
>> #123
== #123
>> to issue! "123"
*** Syntax Error: invalid character in: "123"
*** Where: to
```

meijeru

[09:14](#msg58f9cd798bb56c2d11cb7633)issues are used extensively in the Red toolchain itself, as compiler directives. Would be difficult to do away with them!!

dockimbel

[10:09](#msg58f9da7008c00c092aa05237)@dnmurphy Agreed, to some extent. Minimal amount of key strokes is one of the constraint we take into account for the syntax, though in the case of paren+commas for coordinates, we hit a hard limit. Removing commas would make it parse as a `paren!` and not as `pair!`, `point!`, ... More important than minimal key strokes is the need for readability, which a major design principle in Redbol. Code is read (much) more than it is written.

Zamlox

[11:51](#msg58f9f232f22385553d619fca)@dockimbel following code works as expected:

```
>> obj!: object [x: 10]
== make object! [
    x: 10
]
>> o: make obj! []
== make object! [
    x: 10
]
>> c: reduce [make obj! [] make obj! []]
== [make object! [
    x: 10
] make object! [
    x: 10
]]
>> find c o
== [make object! [
    x: 10
] make object! [
    x: 10
]]
```

how about this one ?

```
>> obj!: object [x: 10 f1: does []]
== make object! [
    x: 10
    f1: func [][]
]
>> o: make obj! []
== make object! [
    x: 10
    f1: func [][]
]
>> c: reduce [make obj! [] make obj! []]
== [make object! [
    x: 10
    f1: func [][]
] make object! [
    x: 10
    f1: func [][]
]]
>> find c o
== none
```

meijeru

[12:18](#msg58f9f8abad849bcf42a71b8f)Can anyone remind me what the `Config:` option in the Red header should look like?

toomasv

[12:36](#msg58f9fcdaad849bcf42a72dcf)You mean `system/build/config`?

[12:38](#msg58f9fd493e27cac331ad9eff)Red header doesn't seem to have `Config:` option:

```
>> print system/standard/header
title: none
name: none
type: none
version: none
date: none
file: none
author: none
needs: none
```

9214

[12:43](#msg58f9fe5cad849bcf42a7362a)@toomasv Red header is free-form, you can even specify `%*.ico` file in it with `Icon:`field to include inside executable.

Oldes

[14:00](#msg58fa10773e27cac331adf6c5)If there is someone who would like to have proper colors for syntax highlighting here on Gitter, please help me to get this pull request accepted: https://github.com/isagalaev/highlight.js/pull/988 Current problem is, that Javascript sample file is detected as Red file in the tests.

[14:02](#msg58fa10dd8bb56c2d11cc9a7f)Here is how looks current sample Red code in various styles in my custom build: http://rebol.desajn.net/highlight/demo/

[14:03](#msg58fa11453e27cac331adfb54)I'm not regex expert.. but as there are people asking to have regex support in Red, maybe someone can optimize it too.

[14:06](#msg58fa11f308c00c092aa143df)(once accepted in above repository.. someone from Gitter would have to enable it in \[this list](https://github.com/gitterHQ/gitter-markdown-processor/blob/master/lib/process-chat.js#L24))

AlexanderBaggett

[14:13](#msg58fa139012d2409935857723)Oh man, that is cool :)

[14:13](#msg58fa139a08c00c092aa14ce6)Great work!

Oldes

[14:44](#msg58fa1ad512d2409935859c8d)It's not great... it was done in year 2015... just was looking if there is any chance to push it a little bit.. but I don't think it is possible... we will have to live there with the color chaos.

9214

[14:48](#msg58fa1ba3cfec9192725fe67d)Sisyphean labor :(

dockimbel

[15:13](#msg58fa21ab08c00c092aa19c3d)@Zamlox It boils down to this:

```
(func [][]) = (func [][])
== false
>> foo: func [][]
== func [][]
>> :foo = :foo
== true
```

It's the same in Red and Rebol2/3. Not sure why Rebol does not do a deep comparison, but in Red case, we just postponed implementing the comparison as it was considered very low priority. Anyway, you can write a short custom code for doing such comparison, using the criteria which are the most relevant for your use-case.

[15:29](#msg58fa25618fcce56b20239b2e)@Zamlox I think the reason is really because such comparison is inefficient between function values, and even more for `find`. When you combine then `find` with objects which can have many functions, that becomes a huge work to achieve the search. So implementing a custom comparison method is probably the best option.

Zamlox

[15:32](#msg58fa2629c1d3b5015408bbdc)all right, thanks for explanation. I was trying to create a pool of objects and I noticed that if objects has functions then

```
find
```

fails.

[15:33](#msg58fa2656ad849bcf42a7ffc0)I have created a pool of strings and blocks but I got stucked for objects.

[15:35](#msg58fa26bbf22385553d629bec)I have also noticed that this one will work:

```
c: reduce [make obj! [] o1: make obj! []]
probe find c o1
```

will give result:

```
[make object! [
    x: 10
    f1: func [][]
]]
```

[15:51](#msg58fa2a8e8bb56c2d11cd21e9)@dockimbel would it be possible to enhance

```
copy
```

to copy a

```
series!
```

into another

```
series!
```

in an optimized way like

```
move
```

(perhaps adding refinement

```
/into
```

) ? I would like to have the possibility to add a part of a

```
series!
```

into another

```
series!
```

without allocating new memory.

dockimbel

[15:55](#msg58fa2b748bb56c2d11cd26b7)@Zamlox Searching for the same function or object value in a block is supported. If you use `find/same`, it would even be even more effecient.

[15:56](#msg58fa2bc78fcce56b2023b81c)@Zamlox `insert/part` (or `append/part`) should do the job.

Zamlox

[15:58](#msg58fa2c33881b89e10171cd53)all right, thanks.

meijeru

[20:35](#msg58fa6cf9ad849bcf42a94a5f)@greggirwin I just went over the binding stuff in Guru Meditations, and found this:

```
c: context [a: 2]
new: bind 'a (context? in c 'a)
; 'new now refers to 'a in context c
Also, you can use :c instead of context? in c 'a. They are strictly equivalent.
```

Question referring to last sentence: why `:c`? Will `c`not do?

greggirwin

[20:41](#msg58fa6e6008c00c092aa2f81e)In that example, it should be fine. It came out of chat here, but I think `get-word!` may have been left as it would work for functions as well. Feel free to clarify and edit.

meijeru

[20:45](#msg58fa6f838bb56c2d11ce5861)I can see that, and since `get-word!` always works, I am happy to leave it.

## Saturday 22nd April, 2017

aped

[08:32](#msg58fb15328fcce56b2026f245)Is there a suggested IDE/workflow/environment for red yet?

angellom1

[08:41](#msg58fb17578bb56c2d11d0594a)Visual Studio Code (Microsoft is valid, with addon Red Language)

9214

[08:42](#msg58fb17758bb56c2d11d05995)https://github.com/red/VScode-extension

angellom1

[08:43](#msg58fb17bcd32c6f2f092d0b3c)I remember that exists a #Red/Spanish for spanish questions

[08:44](#msg58fb17d68fcce56b2026f99b)yeah

aped

[08:49](#msg58fb19218bb56c2d11d05fd6)gracias

angellom1

[08:51](#msg58fb19a812d2409935892cb7)de nada Aped

[08:52](#msg58fb19c6881b89e101752020)Aped: Recuerda que existe #Red/Spanish

aped

[08:58](#msg58fb1b40cfec919272639480)recuerdo nada

[08:58](#msg58fb1b428fcce56b2027075c);)

[09:00](#msg58fb1ba6ad849bcf42ab674c)pero si existe, puedo afiliarme

angellom1

[09:05](#msg58fb1ccb3e27cac331b1c1a8):)

iArnold

[09:44](#msg58fb25f43e27cac331b1e330)&gt; It looks like a lot of people are against commas, but nobody is making strong arguments against Doc's proposed syntax.

For being against commas would actually make perfect sense to be against Doc's proposed syntax that uses them exhaustively. Allowing commas in decimal notation give those against commas the chance to avoid commas!  
I stil think it is un-re(d)bol like to go using commas in this syntax for this rather exceptional usecase.  
Even though maybe 1.23x3.45x4.56 is not really readable and also looks like a malformed `tuple!` to be honest when are you actually going to use such hardcoded values? Most of the time the actual values will be filled by the use of variables constructing these `point!`s.

dockimbel

[10:32](#msg58fb31538bb56c2d11d0acf6)Ok, as they are no real argument against my proposal, I will continue study it to be sure there are no hidden drawbacks.

iArnold

[11:39](#msg58fb40dc12d240993589b13a)The hidden drawbacks are that you make it less human for European style decimal representation, re-introduce the carefully avoided comma separated list in a piece of syntax, and all for a usecase that is not convincing.

maximvl

[11:41](#msg58fb4155881b89e10175a711)&gt; re-introduce the carefully avoided comma separated list

wait, what?

tanstaaf1

[12:19](#msg58fb4a37d32c6f2f092db581)@dockimbel I am dropping in late to this discussion on commas and I don't think I fully understand the proposal. Maybe provide a link to the whole of it? With that proviso, I want to say my eye naturally scans the bottom of lines to parse things in context and comma has a lot of deeply unconsciously embedded history which might be difficult to work around for some peoples. I use commas extensively in large numbers of many sorts. Might I suggest there are a huge number of pretty unique characters in the unicode which will now be supported (https://unicode-table.com/en/#control-character) and maybe you can make more use of them to provide both unambiguous (or less anyway) context and content? If there isn't pretty much pan-national agreement what proper syntax is I'd suggest you not be too quick to commit Red to one particular syntax which is already in contention. The discussion about ambiguity on date format differences should be kept in mind - European date formats are NOT used in the US. I'm pretty confident that for the the next century, at least, 1/12/17 will continue to mean January 12, 2017 in the US. Assuming, of course, that you want Red to be one of the first real international languages I think it would be nice to use unambigous (not previously regionally co-opted) unicode characters to resolve international ambiguities more than has been done to date. Just my two cents.

[12:42](#msg58fb4fae8bb56c2d11d11849)To the above, if you haven't looked at Julia's dexterity with unicode I suggest you do:

[12:42](#msg58fb4fbed32c6f2f092dca0e)julia&gt; pi  
π = 3.1415926535897...  
julia&gt; π  
π = 3.1415926535897...

[12:44](#msg58fb5038881b89e10175dd3b)Typing \\pi&lt;tab&gt; in the repl gives you immediate unicode. Something similar in Red would make access to Red-context unicode characters easy to access regardless of keyboard constraints.

rebolek

[12:45](#msg58fb505412d240993589ef11)@tanstaaf1 defining π in Red is possible,

```
>> π: pi
== 3.141592653589793
>> π
== 3.141592653589793
```

the problem is that special Unicode chars are not very accessible on standard keyboards.

[12:46](#msg58fb50b6ad849bcf42ac1ed8)So using them for delimiters doesn't seem like a good idea to me.

tanstaaf1

[12:49](#msg58fb5162ad849bcf42ac2055)@rebolek Couldn't a single character (e.g., \\) prefix be sufficient to indicate unicode to the red repl? Wouldn't that make more sense than these cultural syntax squabbles? Choice is better than no choice.

rebolek

[12:50](#msg58fb5189c1d3b501540ce6cd)@tanstaaf1 maybe, do you have any ideas or examples?

tanstaaf1

[12:50](#msg58fb51ac881b89e10175e33e)that eg was supposed to be "\\". In Julia that would get translated in place. I gitter it waited until I hit a return to change my meaning to something I didn't mean.

rebolek

[12:54](#msg58fb52768bb56c2d11d12346)Anyway, I really do not like `(1, 2, 3)` proposal. It is going to be confusing IMO. The advantage of `1x1` is that is somehow standard way to write coordinates and is also shorter than `[1 1]`. hat is the advantage of `(1, 2, 3)` compared to `[1 2 3]`? It is two chars longer and looks like `paren!`, but is not `paren!`. What is the maximal number of elements in this type? Is there going to be `[1, 2, 3]` for something else also?

tanstaaf1

[12:55](#msg58fb52b2c1d3b501540cebcb)Play with Julia for a few. I expect it WILL be one of the most important languages in the next decade as the scientific community, the data scientists/statisticians, and the quants/finance folk are all hungry for what it is bringing to the table in one package. In Julia math much of specialized math notation has unicode mapping to "\\pi&lt;tab&gt;" type repl translation. In Red's case the situation could be even easier since there is likely to be a sophisticated IDE which will make things like unique unicode support trivial to access.

rebolek

[12:56](#msg58fb52fa8bb56c2d11d12493)@tanstaaf1 that may work in repl, but it is fine for π, not for special brackets.

tanstaaf1

[12:57](#msg58fb5329d32c6f2f092dd54a)@rebolek I'm not actually arguing AGAINST @dockimbel 's proposal; I said I'm dropping into the middle of this and I just urge a "third" way might actually be BETTER. Unicode is there; let's USE it to our advantage.

rebolek

[13:00](#msg58fb540bd32c6f2f092dd82f)@tanstaaf1 I am not against using Unicode, but limiting the basic syntax to ASCII makes sense. Going fully Unicode can bring lot of confusion, just look at `〈 〉` vs `< >` vs `‹ ›`.

tanstaaf1

[13:08](#msg58fb55cf3e27cac331b28ac9)BTW I personally agree with you 1x1 as more clear than (1, 2). I think ASCII has had its day and it is pretty hard to find a computer or printer which can't already handle unicode, isn't it? I'm not saying we turn red into APL or anything :-) but red has a lot of datatypes and needs a lot of unusual (in programming circles) parsing by the human brain. Unusual unicode (as opposed to the normal schlock we already have in various languages) provides opportunities to make things unambiguous with a single character -- and, as I said, red's planned IDE will be built in and can make unicode access pretty much trivial.

[13:20](#msg58fb58a3d32c6f2f092dea5b)(I get \*very* excited when I think about red's built in / implicit GUI and how it changes the equation. While I know a text only red will also be provided I expect it will actually be irrelevant from day one of 1.0; the size differential just isn't important and graphics are ubiquitous on pretty much everything made in the last ten years.)

rebolek

[13:50](#msg58fb5f9fad849bcf42ac5715)&gt; it is pretty hard to find a computer or printer which can't already handle unicode, isn't it?

of course, you're right here, but the keyboard is problem :)

dockimbel

[13:55](#msg58fb60eef22385553d66e3ab)@rebolek  
&gt; The advantage of 1x1 is that is somehow standard way to write coordinates and is also shorter than \[1 1].

In natural language, `...x...` is the usual way to write \*dimensions\*, the standard way to write coordinates is `(..., ...)`, see the link I posted, or open any math-related web page or book. You can dislike math notation if you want, but such notation fits our lexical constraints and Redbol human-friendliness design principle. A compact form (like pair's one) is usually more appealing than one requiring opening/closing delimiters, but I'm still waiting for someone to offer a better proposition (respecting Redbol principles and existing lexical rules) that would solve the issues with `...x...` that was described earlier.

maximvl

[13:56](#msg58fb6129cfec91927264833e)can't we just extend `x` to any number of items?

[13:57](#msg58fb6132881b89e101761ff1)`1x2x3`?

rebolek

[13:57](#msg58fb61558bb56c2d11d157e4)@maximvl we can, but it may not be very readable with `1.236757656x244.24242444x8768768.765764`

maximvl

[13:58](#msg58fb616fc1d3b501540d2479)I see

[13:59](#msg58fb61ae8fcce56b2027fce1)`coord#[1 2 3]` ?

dockimbel

[14:00](#msg58fb61f7c1d3b501540d26ca)@tanstaaf1 Discussion starts here: :point\_up: \[April 20, 2017 4:18 PM](https://gitter.im/red/red?at=58f86ef008c00c092a9a57df)

rebolek

[14:02](#msg58fb628e8e4b63533df31e98)Anyway, regardless of the syntax, it would be nice if coordinates datatype could provide things like `/length` or `/angle`.

dockimbel

[14:05](#msg58fb63158bb56c2d11d15f57)Being able to switch between cartesian and polar systems could be a supported feature. Getting the vector's length too.

pekr

[15:19](#msg58fb7492cfec91927264cb37)Has anyone thought abou the `*`sign? It could be confused with multiplication, but maybe visually separates a bit better, than `x`: `1.236757656*244.24242444*8768768.765764`

[15:20](#msg58fb74b6c1d3b501540d78d0)or `1.236757656|244.24242444|8768768.765764`

greggirwin

[15:30](#msg58fb76fdcfec91927264d37a)Doc's proposal solves the international issue, because it's based on math notation. It may take some getting used to, for some of us. I see the value for large floats. For integers, we all seem to agree that `x` notation is nice, and that will still be available. If `pair!` is limited to int values, that will prevent people from mixing the two much. If the new syntax is limited to float values (just thinking out loud), that would keep people from using it \*in place of* pair syntax. My reasoning there is that people might want to adopt the new, and ask for support in all GUI related areas, which means we have to scan for both. But if you're doing 3D calcs and such, you will \*have to* map to a 2D space. Need to think about how that will look.

I also agree that we likely won't write these as literals much, but we could have a lot of data files with them. In massive numbers, it's all going to be hard to read directly.

[15:37](#msg58fb78c2881b89e101767a20)With new suggestions, we have to beat Doc's proposal not just on initial readability feelings, but \*meaning\*. His suggestion has a very strong foundation in that regard. Data science is just going to get bigger. If people are doing math with this data, and exchanging it with each other, what is going to be most natural to them? How would they write them by hand?

[15:42](#msg58fb79cb8bb56c2d11d1b896)@dockimbel, could you write up a very short statement of purpose for this new datatype. Not final rules of course, but the syntax basics (min number of items, comma only OK as literal but will form with comma+space) and the intended use cases? Then we can put that somewhere and let people comment. Even a wiki page would be fine. I don't think the chat approach helps here.

dockimbel

[15:43](#msg58fb7a378fcce56b202858c8)@greggirwin Agreed, I'll sum it up on a wiki page.

rebolek

[15:58](#msg58fb7d9fc1d3b501540d9a9e)@greggirwin The math argument could be a strong one, if rest of Red was based on math notation, but it isn't.

iArnold

[17:30](#msg58fb932d8e4b63533df3c73f)@rebolek +1 Red is based on human communication not math. Math should not be taken for granted either! Many things in math can be expressed in multiple ways, take integrals as example for that. The notation is subject to meaning.

[17:36](#msg58fb94a8881b89e10176d103)(So speaking as math person, that math argument is not so important. Remember my viewpoint on "math" precedence)

gltewalt

[21:01](#msg58fbc4a38e4b63533df44e50)Could do GIS Dialect

greggirwin

[22:28](#msg58fbd8f08bb56c2d11d2d4d9)@gtelwalt :point\_up: \[April 20, 2017 5:02 PM](https://gitter.im/red/red?at=58f93df1f22385553d5ef984)

gltewalt

[22:34](#msg58fbda5a3e27cac331b4394d)There's also Slope and Aspect in GIS.  
Looks pretty good now that I'm pausing to read through it

greggirwin

[22:34](#msg58fbda8712d24099358bb416)@rebolek, as Arnold says, it's not about math, it's about communication. Here's a thought. Pair! makes perfect sense to me. I never questioned it. But if we had `coord! (10, 10)` and `size! (50x30)` from the beginning, would it now seem more natural to have two separate notations, each with a more specific meaning. I can guess that Carl went down this path too. If so, and we can just imagine that he did, why \*didn't* he use two separate notations? And why limit to just 2 values, when he could easily have made it 3 as well?

gltewalt

[22:37](#msg58fbdb248bb56c2d11d2db09)Probably because GIS wasn't a big thing back then.  
Dialects do become natural feeling with use - that's true

greggirwin

[22:39](#msg58fbdbb0d32c6f2f092f930e)Good point @gltewalt .

[22:40](#msg58fbdbedd32c6f2f092f9424)I knew a GIS guy in the late 80s and it was much more specialized and government based back then.

iceflow19

[23:20](#msg58fbe5593e27cac331b45a5d)So... In other news, Red is going to be in my Master's thesis, at least a chapter if not more will be over an assembler and virtual machine I wrote in Red

[23:24](#msg58fbe634c1d3b501540eda14)So probably I'm going to be diving into some of theory behind Red to in it.

[23:26](#msg58fbe6acad849bcf42ae1a54)A professor and I wanted to try to get a "compilers, interpreters, and parsing grammars" course taught in Red. But we got shot down by the department chair.

greggirwin

[23:27](#msg58fbe6cbcfec9192726623bd)That's fantastic @iceflow19. The first part anyway. :^)

[23:29](#msg58fbe75712d24099358bd5a8)I added examples in Doc's proposed syntax to https://github.com/Ren-data/Ren/wiki/value-point-rfc. Something else to consider is that, in those cases where we use a lot of literal data, the syntax needs to be clear on whitespace sensitivity. For example, in things like Doc's old V-balls demo, and other cases, it can be nice to line things up in columns.

iceflow19

[23:33](#msg58fbe83808c00c092aa7ac29)Thanks @greggirwin , I've only got my first chapter partway done, so I still have another 3-4 chapters to go.

## Sunday 23th April, 2017

greggirwin

[13:34](#msg58fcad49cfec919272686374)Not everyone in this room is also in red/help. @maximvl just noted a lesser known feature in Red: line markers in blocks. Jump over to red/help, or join that room, to see some examples of how they work.

dockimbel

[13:45](#msg58fcaffc8bb56c2d11d53187)@rebolek  
&gt; The math argument could be a strong one, if rest of Red was based on math notation, but it isn't.

Using math notation for math-related datatype is logical, and that fits the design principle of Redbol, which tries to stick to natural human syntax whenever possible.

[13:49](#msg58fcb0de881b89e1017a0a0c)@iceflow19 That's great! :+1: Do you have an ETA for the thesis?

JacobGood1

[15:14](#msg58fcc4cfd32c6f2f0932410f)@iceflow19 hopefully, your thesis will be online. It would be nice to have a course like that online as well.

maximvl

[15:52](#msg58fccdb008c00c092aaa53c4)here is draft of my presentation &amp; notes for a lisp meetup, comments &amp; feedback are welcome :)  
https://docs.google.com/presentation/d/1Vyn\_PkHhf5xgPTrsHK2baKmnUOGEFLc-JNiccSwBZiI/edit?usp=sharing

[15:53](#msg58fccdebc1d3b50154119720)hint: you can open presenter view and read the notes

9214

[16:02](#msg58fcd01cd32c6f2f0932680b)How cool is that? :D

rebolek

[16:03](#msg58fcd06d881b89e1017a776e)@maximvl nice!

x8x

[18:41](#msg58fcf5673e27cac331b7986d)@maximvl HAHA, your public gonna freak out! great stuff and well done! Never looked at lisp, but red looks nicer ;-)

greggirwin

[19:08](#msg58fcfb9808c00c092aaaeffe)https://github.com/red/red/wiki/New-line-markers-in-blocks

[19:11](#msg58fcfc4912d24099358f29e8)@maximvl Wow! Reallly nice.

geekyi

[19:41](#msg58fd034e587a245e243eeeec)@maximvl you managed to put @9214 new line stuff there too! What about some mind blowing self code modifications? Too overwhelming?

gltewalt

[19:48](#msg58fd050c8e4b63533df82e3d)Block is a context. And is also a datatype with is also a context.

[19:50](#msg58fd05738e4b63533df82f23)(In Red/System anyway)

maximvl

[20:05](#msg58fd08efcfec91927269a80c)@gltewalt are you sure block is a context?

[20:05](#msg58fd09006aea30763d35a96c)@geekyi I think it's already hardcore enough, I'm thinking to simplify it

gltewalt

[20:05](#msg58fd092408c00c092aab203c)Look at block.reds

[20:06](#msg58fd095908c00c092aab20fc)And datatype.reds

maximvl

[20:06](#msg58fd096108c00c092aab2114)@gltewalt are you talking about `block: context [` ?

gltewalt

[20:07](#msg58fd096fcfec91927269aa5d)But I'm not sure of anything :smile: p

[20:07](#msg58fd0979c1d3b501541271fa)Yeah

maximvl

[20:09](#msg58fd09e208c00c092aab22d7)I think this is just a context to hold all block-related logic

[20:09](#msg58fd0a05cfec91927269ad14)because this part is written in Red/System itself - it reuses available data structures, and `context` as well

[20:10](#msg58fd0a2cf22385553d6c0939)you can check any other datatype, they all are made using contexts, but it doesn't mean they are contexts

gltewalt

[20:18](#msg58fd0c046aea30763d35b473):+1:

geekyi

[20:31](#msg58fd0f38f22385553d6c1c66)@maximvl yep.. I feel showing that you can modify `func` body is good enough.. but you have to mention that's just the tip of the iceberg ;)

dockimbel

[23:58](#msg58fd3f9508c00c092aabce11)@gltewalt `context` keyword in Red/System is not directly related to \*context* concept in Red.

## Monday 24th April, 2017

Sel\_ular\_twitter

[02:05](#msg58fd5d648e4b63533df9482f)Any news on concurrent programming?

greggirwin

[02:13](#msg58fd5f4af22385553d6d13a4)Concurrency is planned for 0.9.0.

Sel\_ular\_twitter

[02:49](#msg58fd67abf22385553d6d2c6b)Thanks for your answer @greggirwin

dockimbel

[03:06](#msg58fd6ba26aea30763d36e095)@Sel\_ular\_twitter What kind of concurrency are you more interested in?

9214

[03:47](#msg58fd753cf22385553d6d5778)@maximvl I'm for self-modifying examples too, maybe some tiny \[subleq](https://esolangs.org/wiki/Subleq) dialect?

JacobGood1

[04:09](#msg58fd7a6608c00c092aac72bb)@dockimbel I know you did not ask me directly but I am all about coroutines.

dockimbel

[05:19](#msg58fd8af58bb56c2d11d8034c)@JacobGood1 That would cover only the needs partially. Moreover, cooperative scheduling implied by coroutines can be a problem in some use-cases.

aped

[05:35](#msg58fd8ea48bb56c2d11d80e9a)Are there any small tasks (unit tests for instance) that need looking at? Something a fairly seasoned programmer could use to get a foot in the door

greggirwin

[06:06](#msg58fd95ef587a245e2440bad0)Yes! Lots! Testing is a great area to get started. More tests are always welcome. Peter Wood should magically appear at some point and offer suggestions there.

And welcome to Red!

[06:08](#msg58fd96668bb56c2d11d82795)@mikeparr might also offer advice on how to contribute to red-by-example.org, where you can play with things to learn them, and doc as you go. Then you can also ask questions when you hit something that trips you up.

aped

[06:11](#msg58fd97206aea30763d37660b)Thanks for the welcome - I was actually idling in here a few months ago and getting into it but took a promotion at work that ate most of my personal interest time

[06:11](#msg58fd972d6aea30763d37665e)I'll check out the url - thanks

greggirwin

[06:13](#msg58fd977c8bb56c2d11d82a2a)You came back at a good time, what with 0.6.2 released recently.

rebolek

[06:23](#msg58fd99d4881b89e1017cfe5d)Anytime is a good time, there is always something new and exciting in Red :)

dockimbel

[08:00](#msg58fdb0a8c1d3b50154148dff)@maximvl Great presentation. :+1: How much time do you have for your talk?

maximvl

[08:07](#msg58fdb23a6aea30763d37cea1)@dockimbel thanks, I have 30 mins for this talk

dockimbel

[08:56](#msg58fdbda4d32c6f2f09357590)@maximvl You have time to show some demos, maybe like the livecoding demo?

maximvl

[08:57](#msg58fdbe0f8e4b63533dfa9819)hm, good idea, I'll add the clock demo and play with it

dockimbel

[09:04](#msg58fdbfb2d32c6f2f09357f9f)That one too, yes.

endo64

[09:06](#msg58fdc0228fcce56b202f87d7)Good luck @maximvl !

Is below behavior expected? I can change a body of a function but not its spec. This gives a chance to hide the spec which I don't see any use of it :)

```
>> f: func [a] [a + 1]
>> change back tail body-of :f 2
>> f 5 ; == 7
>> remove spec-of :f
>> ?? f
f: func [ ][a + 2]
>> f 3
== 5
```

maximvl

[09:07](#msg58fdc0468fcce56b202f8822)thanks, I'll share the video if we will have it

rebolek

[09:07](#msg58fdc05e8bb56c2d11d8ce81)@endo64 interesting, I do not think, it is correct behavior :)

dockimbel

[09:22](#msg58fdc3f38e4b63533dfab1fe)@endo64 `spec-of` will return a copy of the spec block, so you can't change the original block. That is necessary, as you could easily crash compiled functions that way (changes in body block of compiled functions are obviously ignored). You need to recreate the function if you want to change its spec block.

rebolek

[09:27](#msg58fdc4f612d240993591da89)@dockimbel if it returns copy, why is spec empty after remove? Shouldn't it be left untouched?

9214

[09:28](#msg58fdc524f22385553d6e7dfa)

```
>> f: func [a /b c] [either b [a + c] [a + 1]]
== func [a /b c][either b [a + c] [a + 1]]
>> remove spec-of :f
== [/b c]
>> ?? f
f: func [/b c][either b [a + c] [a + 1]]
>> f/b 2 2
*** Script Error: c is missing its cond argument
*** Where: c
>> f 2
*** Script Error: + does not allow logic! for its value1 argument
*** Where: +
>> f: func [a /b c] [either b [a + c] [a + 1]]
== func [a /b c][either b [a + c] [a + 1]]
>> f 2
== 3
>> remove spec-of :f
== [/b c]
>> ?? f
f: func [/b c][either b [a + c] [a + 1]]
>> f 2
== 3
>> f 3
== 4
>> f/b 2 2
== 4
>> f/b 10 1
== 11
>>
```

dockimbel

[09:30](#msg58fdc5bf6aea30763d382348)@rebolek You're right, there's something odd there.

[09:33](#msg58fdc65b881b89e1017db7c4)Ah, got it, the arguments cache is not updated when you change the spec block, so the old arity is preserved. So actually, we haven't implemented the policy I had in mind yet.

9214

[09:35](#msg58fdc6ed8bb56c2d11d8e8d3)

```
>> f: function [a b] [a + b]
== func [a b][a + b]
>> f 1 2
== 3
>> clear spec-of :f
== []
>> ?? f
f: func [][a + b]
>> f 1 2
== 3
>> f 3 4
== 7
```

so you need to use arguments you gonna delete at least once

[09:38](#msg58fdc7788bb56c2d11d8ea68)first newline markers, now this

[09:38](#msg58fdc79cd32c6f2f0935a172)live is a miracle!

maximvl

[09:39](#msg58fdc7b56aea30763d382dc3)lol

dockimbel

[09:48](#msg58fdca0ad32c6f2f0935aea4):sparkles: :clap:

endo64

[10:45](#msg58fdd7558bb56c2d11d93f60)@dockimbel I raised an issue for it to not forget. It would also good to note function spec wouldn't change, somewhere in the docs.

toomasv

[11:10](#msg58fddd208e4b63533dfb3314)Little study of bindology:

```
a: [a ([a]) ([a])]

c1: context [a: 1]
c2: context [a: 3]
c3: context [a: 5]

bind a c1
bind a/2/1 c2
bind a/3/1 c3

x: compose a
;== [a a a]
reduce x
;== [1 3 5]
```

dockimbel

[13:04](#msg58fdf7df12d240993592cdb4)@toomasv :+1: You can also have just `a: [a a a]` in case you were wondering about it, and use `a/1: in c1 a/1 ...` or just `a/1: in c1 'a ...`. Many possible variations.

toomasv

[13:10](#msg58fdf9466aea30763d3915b6)@dockimbel Thanks, I tried this earlier with `bind` but didn't succeed. So, with `bind` you can bind words in whole blocks, and with `in` individual words?  
I was playing also with this:

```
model1: context [a: 'loop b: 3 c: [print [random "Hurray!"]]]
model2: context [a: none b: 'print c: "Just this"]
model3: context [a: 'func b: [a b] c: [a + b]]
prg: [a b c]

>> bind prg model1
== [a b c]
>> do reduce prg
Haury!r
ra!urHy
yu!Hrar

>> bind prg model2
== [a b c]
>> do reduce prg
Just this

>> bind prg model3
== [a b c]
>> myadd: do reduce prg
== func [a b][a + b]
>> myadd 3 5
== 8
```

[13:25](#msg58fdfcc0d32c6f2f0936984c)@dockimbel Is there a difference between using `in c3 a/1` and `in c3 'a`? (Provided c3 is `context` as above) Both seem to work in same way.

rebolek

[13:29](#msg58fdfdb512d240993592e77f)@toomasv they are same only when `a/1 = 'a`

[13:31](#msg58fdfe2fc1d3b5015415ef80)`in` takes `word!` as second argument (`a` in your case). Binding of that word doesn't matter, only its value.

[13:37](#msg58fdff82c1d3b5015415f6e3)

```
>> a: [a]
== [a]
>> c: context [a: 5]
== make object! [
    a: 5
]
>> reduce [get in c 'a get in c a/1 get in c load "a"]
== [5 5 5]
```

maximvl

[13:39](#msg58fdfff86aea30763d393677)@toomasv `in` returns same word, but binded to another context

toomasv

[13:39](#msg58fe00298bb56c2d11d9f48a)@rebolek Sorry, I still don't get it. Can you explain what is going on here:

```
>> c3: context [b: 6]
== make object! [
    b: 6
]
>> a: [a a]
== [a a]
>> a/1: in c3 'b
== b
>> a/2: in c3 a/1 ; especially here!
== b
>> reduce a
== [6 6]
```

maximvl

[13:41](#msg58fe0095c1d3b5015415fd4d)you assigned the word `b` to `a/1`, then you assigned the same thing to `a/2`

JacobGood1

[13:42](#msg58fe00ac881b89e1017ebe77)@dockimbel I have been creating a tutorial to go on Udemy for this language http://skookumscript.com/... Skookum pervasively uses coroutines for real time interactive simulations, maybe you can mine some ideas from them.

rebolek

[13:42](#msg58fe00af8fcce56b2030ad25)@toomasv Check `a` after `a/1: in c3 'b`: `[b a]`

[13:42](#msg58fe00c7c1d3b5015415fe3a)so in `a/2: in c3 a/1`, `a/1` is `b`.

toomasv

[13:43](#msg58fe011b8bb56c2d11d9f861)@rebolek @maximvl OK, now I see it. Thanks a lot!

dockimbel

[14:40](#msg58fe0e7b881b89e1017f03f7)@JacobGood1 Thanks for the link.

rokf

[15:54](#msg58fe1fcef22385553d702e09)Is it possible to get a list of available functions which can be saved to a variable? Like `what` but I'd like to save and use the data.

greggirwin

[16:20](#msg58fe25ea8fcce56b20315b7d)@JacobGood1, We used the same goggles that guy is wearing in the show I wrote, that we finally produced last year. :^) Skookumscript looks cool. Do you have any feel for how it compares to NetLogo?

JacobGood1

[16:21](#msg58fe261a6aea30763d39eb2d)No, I have never played with netlogo

greggirwin

[16:22](#msg58fe262d6aea30763d39eb93)On the bindology stuff, when we get an IDE it will blow people away when `a` is shown 3 times in a block but highlighted differently because of their bindings.

[16:23](#msg58fe266b8fcce56b20315e29)OK, just curious. It is heavily targeted at simulations.

[16:24](#msg58fe26b36aea30763d39ed10)Rather than a single turtle, like Logo, you can have thousands, and they can sense the world they're in, performing little actions concurrently.

rebolek

[17:00](#msg58fe2f2bd32c6f2f093785da)@rokf what do you mean by functions that can be saved to a variable?

greggirwin

[17:04](#msg58fe300df22385553d70789c)@rokf, just the names? e.g.

```
what-the-func: function ["Lists all functions"][
	collect [
		foreach w sort words-of system/words [
			if all [word? w any-function? get/any :w][keep w]
		]
	]
]
print mold fns: what-the-func
```

[17:04](#msg58fe303708c00c092aaf86ff)Or do you want the specs as well?

[17:11](#msg58fe31c8d32c6f2f09379078)This will return it as a string:

```
what-the-func: function ["Lists all functions"][
	collect/into [
	foreach w sort words-of system/words [
		if all [word? w any-function? get/any :w][
			keep pad form w 15
			spec: spec-of get w
			
			keep either any [
				string? desc: spec/1
				string? desc: spec/2					;-- attributes block case
			][
				form reduce [#":" desc lf]
			][
				lf
			]
		]
	]
	] copy ""
]
print s: what-the-func
```

rokf

[17:24](#msg58fe34e1587a245e244391b7)@greggirwin Thank you!

greggirwin

[17:25](#msg58fe35108fcce56b20319c44)Happy to help.

KarlFish

[20:39](#msg58fe62898fcce56b20325cbe)I know rebol has short\_rebol\_examples, but https://github.com/eugenkiss/7guis/wiki is a good opportunity to show how to do basic gui stuff in red. Check it out

[20:42](#msg58fe6322c1d3b5015417c647)It's got a few mainstream implemetations

swthornton

[21:21](#msg58fe6c4d6aea30763d3b21ff)Hi, what does the single apostrophe mean such as here - face/visible'

maximvl

[21:23](#msg58fe6ce608c00c092ab095d6)@swthornton you can use `'` in words:

```
red>> visible': 5
== 5
red>> visible'
== 5
red>> vis'ible: 1
== 1
red>> vis'ible
== 1
```

swthornton

[21:25](#msg58fe6d4d8bb56c2d11dbe9fd)err-msg "Age needs to be a number!" react [  
face/visible': not parse age/text \[any digit]

[21:26](#msg58fe6d84587a245e244489e7)I can't understand what its purpose is above

maximvl

[21:27](#msg58fe6ddd8bb56c2d11dbebc7)it's a field of `face`, everything else depends on what is `face` :D

rokf

[21:29](#msg58fe6e29cfec9192726f288c)It checks if the text of the GUI element named age contains any digit

[21:29](#msg58fe6e446aea30763d3b2bc2)And sets visibility of the "face" element according to that.

swthornton

[21:30](#msg58fe6e7cf22385553d718b13)Thanks I know what the react does but I don't understand some examples have the apostrophe and some don't

[21:31](#msg58fe6ec16aea30763d3b2d3f)view [  
below  
r: slider  
g: slider  
b: slider  
base react [  
face/color: as-color to-int r/data to-int g/data to-int b/data  
]  
]

[21:32](#msg58fe6eed6aea30763d3b2d82)The above react doesn't use it face/color: has no apostrophe ??

rokf

[21:34](#msg58fe6f488bb56c2d11dbf05f)The apostrophe is just a normal character which can be used inside names.

[21:35](#msg58fe6fb3f22385553d719066)It doesn't mean anything special except when it is in the first place.

[21:35](#msg58fe6fb612d240993594efa1)Like 'something

[21:36](#msg58fe6fe5587a245e244496b4)http://www.rebol.com/docs/core23/rebolcore-4.html#section-5.2

swthornton

[21:39](#msg58fe70a3f22385553d7196b2)Thanks that makes sense that the pre-apostrophe would prevent it being evaluated - Is it that whoever did the first example is stopping the face/visible being evaluated until its processed by the react?

[21:40](#msg58fe70bfd32c6f2f0938a857)still don't understand why it's at the end?

maximvl

[21:40](#msg58fe70dd12d240993594f492)@swthornton actually pre-apostrophe doesn't prevent it from evaluation

[21:41](#msg58fe70efd32c6f2f0938a8e3)it is `lit-word` which evaluates to corresponding `word` :D

[21:41](#msg58fe7124d32c6f2f0938a99c)but yeah, I don't know why it's in the end in your examples either

swthornton

[21:43](#msg58fe7165cfec9192726f36aa):smile: he he clear as mud thanks - I thought I was doing so well

[21:44](#msg58fe71b3cfec9192726f383e)I used to use Rebol years ago - but just returning to Red (very impressed so far) need clearer docs though, some examples seem to leak into Rebolesque

## Tuesday 25th April, 2017

greggirwin

[00:11](#msg58fe94428e4b63533dfe5aaa)@KarlFish Nice!

```
; Counter
view [txt: text data 0  button "Count" [txt/data: txt/data + 1]]
```

KarlFish

[01:22](#msg58fea4c3cfec9192726fe3a4)Ah. I was using`field "0"`, and the conversions were annoying.

greggirwin

[01:47](#msg58feaaadf22385553d7255c8)

```
; Temperature Converter
c-to-f: func [t][t * (9.0 / 5.0) + 32.0]
f-to-c: func [t][t - 32.0 * (5.0 / 9.0)]
t-change: function [in-face out-face fn][
    out-face/text: either number? t: load in-face/text [form round/to fn t .01][""]
]
view [
    ; Use key-up because on-change doesn't detect event cycles
    tc: field on-key-up [t-change tc tf :c-to-f] text "Celsius ="   
    tf: field on-key-up [t-change tf tc :f-to-c] text "Farenheight"
]
```

AlexanderBaggett

[02:42](#msg58feb7aacfec919272701f47)@greggirwin  
&gt; This will return it as a string:

```
what-the-func: function ["Lists all functions"][
	collect/into [
	foreach w sort words-of system/words [
		if all [word? w any-function? get/any :w][
			keep pad form w 15
			spec: spec-of get w
			
			keep either any [
				string? desc: spec/1
				string? desc: spec/2					;-- attributes block case
			][
				form reduce [#":" desc lf]
			][
				lf
			]
		]
	]
	] copy ""
]
print s: what-the-func
```

LOL at your function name :)

Zamlox

[03:57](#msg58fec910d32c6f2f0939ca22)@dockimbel following code will leak memory:

```
m: make map! 1
index: 0
repeat count 100000 [m/:index: 10 clear m index: index + 1]
```

Is it so that map continues to grow, even it is cleared, because different key is used each time element is added ?

PeterWAWood

[04:05](#msg58fecb03c1d3b501541932c4)@Zamlox Most Red code involving non scalar datatypes will leak memory until a garbage collector is added.

[04:07](#msg58fecb71881b89e10181d6e6)Clearing a series! does not release the values that were referred to in the series immediately. I would expect the same to be true of map.

Zamlox

[04:07](#msg58fecb8008c00c092ab1cb16)@PeterWAWood if I would use a block, will not leak memory.

qtxie

[04:08](#msg58fecba7587a245e2445cb86)@Zamlox Does hash! leak memory?

Zamlox

[04:08](#msg58fecbbbcfec9192727062cb)

```
b: make block! 1
repeat count 100000 [append b 10 clear b]
```

[04:08](#msg58fecbc3f22385553d72ba3f)@qtxie I didn't try yet with hash!

[04:11](#msg58fecc698fcce56b2033c1ba)@qtxie no,

```
hash!
```

does not leak memory

qtxie

[04:12](#msg58feccadcfec919272706515)@Zamlox I just check the code, when remove/clear items from a map, the slot is just marked as deleted, it's still kept in memory.

Zamlox

[04:12](#msg58feccc08e4b63533dff0be2)is it by design or a bug ?

qtxie

[04:15](#msg58fecd4a8fcce56b2033c4de)I think it's by design, it will improve the performance when you do a lot insert/remove.

Zamlox

[04:17](#msg58fecdc208c00c092ab1d222)in my opinion the size of the map's storage should not depend on the value of the key added.

[04:18](#msg58fecdf908c00c092ab1d264)if I want to add only one element to the map and then clear it then size of map should not grow regardless of the value of the key used.

qtxie

[04:23](#msg58fecf416aea30763d3c6f54)If you add one element to a block and then clear it, the size of the block also grow. The difference is when you add another element into the block, it will overwrite to the previous slot. While in map, if the key is new, it will allocate a new slot for the key.

[04:27](#msg58fed015587a245e2445d86f)Though I think `clear` should clear all the memory used in the map. :smile:

Zamlox

[04:28](#msg58fed07e881b89e10181e7bf)I was thinking that

```
map!
```

should work similar like

```
block!
```

, reusing existing slots (regardless of key's value) after it was cleared.

9214

[04:30](#msg58fed0e7587a245e2445da35)@toomasv regarding your bindology study, I've cooked up \[this script](https://gist.github.com/9214/1dd30a88383a3e46edf45e33e9def3a7) a while ago, see if you can gather anything useful from it.  
Additional material:  
\* \[ad hoc explanation I wrote for myself, w/ block scheme and stuff](https://gist.github.com/9214/784e7f7af2342f117bc67a8e2698855b#file-sketchy-definitional-context-org)  
\* \[pat665's post about bindology](http://www.pat665.free.fr/doc/bind.html)  
\* \[see answer from BrianH](http://stackoverflow.com/questions/21964110/is-there-a-overall-explanation-about-definitional-scoping-in-rebol-and-red)

Hope this helps!

qtxie

[04:34](#msg58fed1b808c00c092ab1df55)Yes. like I said above, `clear` should work like that.  
But I'm curious what's the use case for this, or what's the benefit of this behaviour? You insert many keys into a map, then remove them, then insert many totally diffferent keys. I don't see it's a good use for the map.

Zamlox

[04:37](#msg58fed298c1d3b50154195005)@qtxie well, I faced some memory leak and I didn't know why. Now I know :) But you are right regarding common use cases for

```
map!
```

. I have solved the memory leak by reusing same key values. But I'm also wondering if there might be some use cases where this might be an issue.

qtxie

[04:41](#msg58fed393d32c6f2f0939eb59)@Zamlox There is a `shrink` function in the hashtable(map's internal datastruct), it's not implemented for now. Once we have GC, we should be able to reclaim the unused slot in the map.

Zamlox

[04:45](#msg58fed459d32c6f2f0939ed6f)all right. Until then I will be careful on using

```
map!
```

.

toomasv

[06:05](#msg58fee7196aea30763d3cb826)@9214 Thanks a lot! Very intersting. Have to digest it thoroughly.

dockimbel

[12:27](#msg58ff40bf8e4b63533d00e0d8)\[!\[blob](https://files.gitter.im/red/red/sqid/thumb/blob.png)](https://files.gitter.im/red/red/sqid/blob)

Gwarks

[13:48](#msg58ff53ae8fcce56b2035eba7)ok i tried to run with gdb and got

```
(gdb) run
Starting program: /home/lee/Projekte/RedScreen/test 
[Thread debugging using libthread_db enabled]
Using host libthread_db library "/lib/x86_64-linux-gnu/libthread_db.so.1".
redOpen done
o_b: o/b
a: [42 "hello"]
42
"hello"
42 hello
make error! [
    code: none
    type: 'syntax
    id: 'invalid
    arg1: 'value
    arg2: "$%$"
    arg3: none
    near: none
    where: 'do
    stack: -150290008
]
%/home/lee/Projekte/RedScreen/
0.6.2
99.0
add called! 2 3
5
routine [[extern] a [integer!] b [integer!]] none
o_b: o/b
o/b
o/b/2
#"e"
123

Program received signal SIGSEGV, Segmentation fault.
0xf7f593bf in ?? () from ./libRed.so
(gdb)
```

[13:50](#msg58ff541d881b89e1018420e8)That was with newest version

[13:52](#msg58ff548508c00c092ab4068d)

```
(gdb) bt full
#0  0xf7f593bf in ?? () from ./libRed.so
No symbol table info available.
#1  0xf7fe8ab7 in ?? () from /lib/ld-linux.so.2
No symbol table info available.
#2  0xf7d8f79b in ?? () from /lib/i386-linux-gnu/libc.so.6
No symbol table info available.
#3  0xf7d8f801 in exit () from /lib/i386-linux-gnu/libc.so.6
No symbol table info available.
#4  0xf7d79282 in __libc_start_main () from /lib/i386-linux-gnu/libc.so.6
No symbol table info available.
#5  0x56555991 in _start ()
No symbol table info available.
```

ghost~5680c5f416b6c7089cc058a5

[14:07](#msg58ff58318fcce56b2036009c)Is this segfault while using libred?

[14:08](#msg58ff5863c1d3b501541b9ae6)When I was initially trying to get my Rust libred working on linux, I did not have any linux installed so I was just using travis and hoping that it works.

[14:08](#msg58ff586c12d2409935987561)At that time I had got a segfault.

[14:09](#msg58ff588808c00c092ab41d5d)Which I had dismissed thinking that something is wrong with my code (though everything did work nicely on windows)

[14:09](#msg58ff58988fcce56b20360294)https://travis-ci.org/nc-x/libred-rs/builds/191043423#L328

[14:11](#msg58ff59078bb56c2d11df7cc1)Though I could not reproduce the crash locally later on a linux vm (because I could not get libred.c file to even compile).

[14:11](#msg58ff59176aea30763d3ea209)But now, I can get it to work fine on a linux VM.

[14:11](#msg58ff5920c1d3b501541b9d56)No idea why all this happened though.

dockimbel

[14:17](#msg58ff5a61f22385553d7515f1)@Gwarks Could you show the ouput of `i r` command just after the segfault? It smells like a `fini()` handling issue...

Gwarks

[14:45](#msg58ff610c587a245e24485534)

```
(gdb) i r
eax            0xf7f593b8	-134900808
ecx            0xf7ffd000	-134230016
edx            0x56558000	1448443904
ebx            0xf7fd38c0	-134399808
esp            0xffffccd0	0xffffccd0
ebp            0xffffccd8	0xffffccd8
esi            0xfffffd00	-768
edi            0x2	2
eip            0xf7f593bf	0xf7f593bf
eflags         0x10286	[ PF SF IF RF ]
cs             0x23	35
ss             0x2b	43
ds             0x2b	43
es             0x2b	43
fs             0x0	0
gs             0x63	99
(gdb)
```

dockimbel

[15:26](#msg58ff6aa1881b89e101849492)@Gwarks Thanks. Let me have a look at the code to locate the error line. What's the size of your `libRed.so` file?

[15:42](#msg58ff6e7408c00c092ab48876)@Gwarks Could you please also show me the output of `info shared` command? `eip` seems to be pointing out of libRed.so address space, so I need to confirm it.

greggirwin

[15:47](#msg58ff6f88587a245e2448a11c):point\_up: \[April 24, 2017 10:30 PM](https://gitter.im/red/red?at=58fed0e7587a245e2445da35) I had forgotten how great your binding example is. :^)

Gwarks

[15:47](#msg58ff6faa881b89e10184afe5)

```
plain
(gdb) info shared
From        To          Syms Read   Shared Object Library
0xf7fd9860  0xf7ff26bd  Yes (*)     /lib/ld-linux.so.2
0xf7f4a354  0xf7fbcac1  Yes (*)     ./libRed.so
0xf7d787f0  0xf7ea547f  Yes (*)     /lib/i386-linux-gnu/libc.so.6
0xf7d106e0  0xf7d47fcb  Yes (*)     /lib/i386-linux-gnu/libm.so.6
0xf7c83890  0xf7cdb6d4  Yes (*)     /usr/lib/i386-linux-gnu/libcurl.so.4
0xf7c56380  0xf7c69434  Yes (*)     /usr/lib/i386-linux-gnu/libnghttp2.so.14
0xf7c2fdc0  0xf7c33514  Yes (*)     /usr/lib/i386-linux-gnu/libidn2.so.0
0xf7c119f0  0xf7c20d64  Yes (*)     /usr/lib/i386-linux-gnu/librtmp.so.1
0xf7bdc4a0  0xf7bf9214  Yes (*)     /usr/lib/i386-linux-gnu/libssh2.so.1
0xf7bcad30  0xf7bcc8f4  Yes (*)     /usr/lib/i386-linux-gnu/libpsl.so.5
0xf7b6c000  0xf7ba6774  Yes (*)     /usr/lib/i386-linux-gnu/libssl.so.1.0.2
0xf79a0c00  0xf7aa1024  Yes (*)     /usr/lib/i386-linux-gnu/libcrypto.so.1.0.2
0xf79109c0  0xf79410c4  Yes (*)     /usr/lib/i386-linux-gnu/libgssapi_krb5.so.2
0xf78419d0  0xf78a1424  Yes (*)     /usr/lib/i386-linux-gnu/libkrb5.so.3
0xf77f9d70  0xf7818554  Yes (*)     /usr/lib/i386-linux-gnu/libk5crypto.so.3
0xf77f2dd0  0xf77f3a64  Yes (*)     /lib/i386-linux-gnu/libcom_err.so.2
0xf77e4360  0xf77eada4  Yes (*)     /usr/lib/i386-linux-gnu/liblber-2.4.so.2
0xf77932b0  0xf77c4264  Yes (*)     /usr/lib/i386-linux-gnu/libldap_r-2.4.so.2
0xf776f8d0  0xf777f768  Yes (*)     /lib/i386-linux-gnu/libz.so.1
0xf7753870  0xf7760ef1  Yes (*)     /lib/i386-linux-gnu/libpthread.so.0
0xf7643750  0xf7678544  Yes (*)     /usr/lib/i386-linux-gnu/libunistring.so.0
0xf748f880  0xf757d8e4  Yes (*)     /usr/lib/i386-linux-gnu/libgnutls.so.30
0xf7443580  0xf74508b4  Yes (*)     /usr/lib/i386-linux-gnu/libhogweed.so.4
0xf74079c0  0xf7429204  Yes (*)     /usr/lib/i386-linux-gnu/libnettle.so.6
0xf737f100  0xf73e0cb4  Yes (*)     /usr/lib/i386-linux-gnu/libgmp.so.10
0xf72a9740  0xf7320e54  Yes (*)     /lib/i386-linux-gnu/libgcrypt.so.20
0xf729fa30  0xf72a0921  Yes (*)     /lib/i386-linux-gnu/libdl.so.2
0xf7294270  0xf72998d4  Yes (*)     /usr/lib/i386-linux-gnu/libkrb5support.so.0
0xf728df20  0xf728ed54  Yes (*)     /lib/i386-linux-gnu/libkeyutils.so.1
0xf7275690  0xf7281ba4  Yes (*)     /lib/i386-linux-gnu/libresolv.so.2
0xf7256f20  0xf7267ea4  Yes (*)     /usr/lib/i386-linux-gnu/libsasl2.so.2
0xf71fa3a0  0xf7229c64  Yes (*)     /usr/lib/i386-linux-gnu/libp11-kit.so.0
0xf71c0bf0  0xf71c58d4  Yes (*)     /lib/i386-linux-gnu/libidn.so.11
0xf71ab810  0xf71b7144  Yes (*)     /usr/lib/i386-linux-gnu/libtasn1.so.6
0xf7194e20  0xf719efa4  Yes (*)     /lib/i386-linux-gnu/libgpg-error.so.0
0xf718b0d0  0xf718f454  Yes (*)     /usr/lib/i386-linux-gnu/libffi.so.6
(*): Shared library is missing debugging information.
(gdb)
```

toomasv

[16:09](#msg58ff74aed32c6f2f093cb7e9)How would you compare Red (as intended) with \[Mozart programming system](http://mozart.github.io/) featurewise (notwithstanding the Red/System)?

dockimbel

[16:11](#msg58ff754812d2409935990a5f)@Gwarks It seems to point to a `.fini` related termination code issue, as `eip` points at the beginning of our `.fini` handler. Could you try to recompile libRed after commenting out line 22 in `libRed/libRed.red`:  
`if exec/lib-opened? [exec/redClose]`  
and run it to see if that fixes the crash?

[16:17](#msg58ff76acf22385553d75aa2b)@Gwarks I'll try to install a Debian Strech locally and see if I can reproduce the issue.

Gwarks

[16:22](#msg58ff77b7f22385553d75af31)Interesting i got the error

[16:25](#msg58ff787ec1d3b501541c435e)Where did the libRed.red come from?

[16:26](#msg58ff78c78e4b63533d0207a5)Now it works but the file has changed even when i use the old version red-062

dockimbel

[16:29](#msg58ff797c08c00c092ab4c17b)@Gwarks You can find libRed.red in the sources of Red in the red/red repo on Github. So it works with latest version from master?

Gwarks

[16:31](#msg58ff79d16aea30763d3f4efb)yes

[16:31](#msg58ff79ef08c00c092ab4c3b5)but it is somewhat interesting because the line that you mentioned was on line 18

[16:32](#msg58ff7a166aea30763d3f4fda)so i deleted the folder and then started build again and i get a new one that has the line in line 22

[16:32](#msg58ff7a1af22385553d75baa6)that worked

[16:32](#msg58ff7a2bc1d3b501541c4edc)so for testing i deleted the file again and used red-062 for testing

[16:32](#msg58ff7a3912d24099359927a3)and it get the line also at line 22

dockimbel

[16:33](#msg58ff7a536aea30763d3f50d0)So your local folder was not in sync with the online repo...

Gwarks

[16:33](#msg58ff7a648e4b63533d02106f)i downloaded only the binary

[16:33](#msg58ff7a6ef22385553d75bc62)but maybe something was wrong

[16:35](#msg58ff7aef8fcce56b2036b468)Maybe some caching issue

[16:36](#msg58ff7b06d32c6f2f093cd434)But now it works

[16:36](#msg58ff7b1a881b89e10184f006)Other question can i reset interpreter

[16:36](#msg58ff7b2a08c00c092ab4c892)When i call RedOpen after RedClose again i got an error

dockimbel

[16:40](#msg58ff7bec587a245e2448dc03)That should work, though it was tested only on Windows using Excel as host app.

maximvl

[16:50](#msg58ff7e50cfec9192727395b0)@toomasv  
&gt;In order to build Mozart 2, you need the following tools on your computer:

it's too complex to start with it ;)

greggirwin

[16:54](#msg58ff7f5512d2409935993f25)@toomasv, I don't think you can really compare them. Totally different targets. Mozart is targeted at research, right?

[17:23](#msg58ff8626cfec91927273ba3b)@dockimbel, I can't remember, is `forskip` something you want to leave out entirely?

[18:42](#msg58ff9888881b89e1018583ff)@dockimbel, another design question. `Set` can take a path, but if you use a block it doesn't support paths in the block, only words. By design? I always wanted path support in `set` in R2, and now I want even more in Red. :^)

dander

[19:27](#msg58ffa317881b89e10185ae7b)I was wondering if there are any details about what iterator support might look like, relating to \[this trello card](https://trello.com/c/h92v806T/148-research-on-local-contexts-support-for-iterators)

greggirwin

[20:00](#msg58ffaaeb881b89e10185d122)I believe this is just capturing things like the `word` param in `foreach`.

dander

[20:58](#msg58ffb87808c00c092ab5eefb)Ahh, I see. Has there been much discussion in the past about generators / iterators? I know it's possible build some of that stuff already (and `closure!` would make it easier), but I'm curious if it would be considered for a core feature (for example, as an input to `foreach` or in the yet-to-be-created high order functions).

greggirwin

[21:19](#msg58ffbd75881b89e101862ba0)It comes up from time to time, but I don't think it's on a priority list.

rokf

[21:23](#msg58ffbe62cfec91927274c081)Btw, how come that `now` still lacks refinements other than `/time`?

greggirwin

[21:24](#msg58ffbe72587a245e244a3016)Because we don't have a `date!` datatype yet.

rokf

[21:24](#msg58ffbe858e4b63533d035065)ohh, ok :smile:

greggirwin

[21:26](#msg58ffbf0e8e4b63533d0353ab)@dander, https://gist.github.com/greggirwin/c0fe722deffb7b448286b5a819e0ca2b

[21:29](#msg58ffbfac12d24099359a7302)

```
generator: :closure
blk-val: generator [block: [1 2 3 4 5]] [] [take block]
```

[21:29](#msg58ffbfd4881b89e101863651)I don't have a `for-gen` example yet. :^)

x8x

[23:36](#msg58ffdd6912d24099359ae4b0)Is this good for an issue?

```
parse to-binary "a" ["a"]
;   false
  parse to-binary "a" [thru "a"]
*** Script Error: PARSE - invalid rule or usage of rule: "a"
*** Where: parse
  parse to-binary "a" reduce ['thru to-binary "a"]
;   true
```

gltewalt

[23:55](#msg58ffe1dac1d3b501541e274c)Has anyone looked in to adding support for Red in Cloud 9 IDE?

greggirwin

[23:57](#msg58ffe24ed32c6f2f093e987a)@x8x, probably, but possibly by design. Need to wait for Nenad I think.

[23:57](#msg58ffe262f22385553d7794ef)@gltewalt, someone else mentioned it recently. Nobody has started on it AFAIK.

gltewalt

[23:59](#msg58ffe2d3f22385553d779659)I got Red set up in the linux VM, so it's usable as a cloud repl.... but no language templatey things for rebol or red (for the IDE part)

## Wednesday 26th April, 2017

x8x

[00:31](#msg58ffea63c1d3b501541e4988)Ok, thanks @greggirwin .

geekyi

[05:15](#msg59002ce6c1d3b501541f34df)@x8x I've been wondering about that too

dockimbel

[05:46](#msg59003449587a245e244bde0b)@greggirwin `forskip` Do we really need it once we'll adopt your `for` REP?

[05:50](#msg59003530f22385553d78beca)@greggirwin `set`, yes, that's by design, `set` is for setting word(s) to value(s). The path extension is just there to allow deep word access in a context. `poke` and `put` are there for setting values in series (and some aggregate types).

greggirwin

[05:51](#msg5900355dcfec919272766085)Not necessarily. My thoughts were 1) it's almost free, I think, and 2) even though it's kind of an odd word the meaning is clear. I'll have to see if I can find my old notes on func usage.

[05:54](#msg59003633587a245e244be598)My use case on `set`, which raised the question, was setting facets on two faces. e.g.

```
t/text: "A"
	p/data: 100
; vs.
	set [t/text p/data] ["A" 100]
```

dockimbel

[05:56](#msg59003675587a245e244be64e)@x8x Binary and string series and very different in Red. In Rebol2, they share the same implementation, because R2 does not support Unicode. So you cannot match a string with a binary unless you convert that string (evebtually using specific encoding) to a binary first. Though, in practice, you can just pre-convert all the matching strings in your rules to binaries, so it's really not an issue.

greggirwin

[05:56](#msg59003690f22385553d78c353)One of the things I've used `set` for, with multiple words, is to show that the changes are related, as a group.

dockimbel

[06:05](#msg5900388cf22385553d78ca4c)@greggirwin Ah ok, it's clearer with that code example. It should be possible to support that.

dander

[06:10](#msg590039b9f22385553d78ceb7)@greggirwin thanks! that really helped me with \[this experiment](https://gist.github.com/dander/7e9118778acda64f18ee4fa6e7c9e1e8) I had been poking at. The closure method definitely seems cleaner than what I was doing. I think for a generator-making function, the vars and spec could be generalized as well.

```
for-gen: func [
    'word [word!]
    gen [function!]
    body [block!]
][
    while reduce [to-set-word :word 'gen] body
]
```

I think this works

greggirwin

[06:11](#msg590039f8881b89e10187e3df)Give me a couple minutes and I'll post something else.

[06:13](#msg59003a78c1d3b501541f68ee)You got me thinking, and I tinkered.

[06:14](#msg59003ae1cfec91927276715e)Your `range` bit is nice.

[06:16](#msg59003b548bb56c2d11e32289)

```
; Can't use `function` here, because it will collect set-words
; in the body, which may be closure vars.
closure: func [
	vars [block!] "Values to close over, in spec block format"
	spec [block!] "Function spec for closure func"
	body [block!] "Body of closure func; vars will be available"
][
	func spec compose [(bind body context vars)]
]

generator: :closure

make-n-gen: func [n [integer!]][
	closure compose [n: 0  max: (n)] [] [n: n + 1 if n <= max [n]]
]

for-gen: function [
	'word [word! block!] "NOT CAPTURED!"
	gen   [function!] "Generator that returns none when complete"
	body  [block!]
	/check end? [function!] "Specify alt test for end; return true to complete"
][
	end?: any [:end? :none?]
	either word? word [
		while [not end? set word gen][do body]
	][
		while [not end? foreach w word [set w gen]][do body]
	]
]

gen: make-n-gen 3
for-gen i :gen [print i]
gen: make-n-gen 7
for-gen [i j] :gen [print [i j]]
gen: generator [s: "abc"][][take s]
for-gen i :gen [print i]
gen: generator [s: "abc"][][also first s s: next s]
for-gen/check i :gen [print i] func [ch][not char? ch]
gen: generator [s: "abcd"][][also first s s: next s]
for-gen/check [i j] :gen [print [i j]] func [ch][not char? ch]
; This brings up a question about the end condition. Should we DO the 
; body as long as *any* of the words are set, or only if *all* of the
; words are set? Right now, it's the latter.
gen: closure [s: "abc"][][also first s s: next s]
for-gen/check [i j] :gen [print [i j]] func [ch][not char? ch]
```

[06:19](#msg59003bd8d32c6f2f093fc690)We're thinking along the same lines. :^)

dander

[06:29](#msg59003e56587a245e244c0447)interesting. I didn't realize the `if` returns none if it doesn't evaluate. That makes sense. I'm struggling a bit with `[do body]` vs where I just had `body`

greggirwin

[06:31](#msg59003eb6cfec919272768093)Even simpler!

dander

[06:31](#msg59003eda12d24099359c3f45)hah, okay

[06:35](#msg59003faa08c00c092ab7ea63)I hadn't even thought about the multiple word case, but I've never really used something like that in practice. But maybe it's just because it's not an idiomatic thing in C#. More common for me would be using a zip method to combine multiple series into one, and in that case, I think it would just stop as soon as the first series ends

x8x

[07:22](#msg59004abd12d24099359c7593)@dockimbel by analogy, this works:

```
replace/all to-binary {aba} {a} {b}
;   #{626262}
```

so I expected parse to do the magic invisible conversion and just work the same.

iceflow19

[07:38](#msg59004e7ecfec91927276c871)@dockimbel My thesis will be complete by the end of the summer. Originally I wanted to finish it in one semester, but that isn't going to pan out. All my coursework is done though at this point.

dockimbel

[08:13](#msg590056accfec91927276ed14)@x8x I think some checks are missing to forbid it, it works only because you search for codepoints in ASCII range, otherwise it won't work:

```
>> find #{C3A9} "é"
== none
>> find #{C3A9} to-binary "é"
== #{C3A9}
```

wilbyang

[16:01](#msg5900c4636aea30763d44f9b3)I am attract by red's magic and totally new to it. I am running an exmaple, but can not succeed

[16:01](#msg5900c465c1d3b501542218f2)➜ Downloads ./red-062 -c -t Darwin hello-gui.red

-=== Red Compiler 0.6.2 ===-

Compiling /Users/wilbyang/Downloads/hello-gui.red ...  
...compilation time : 930 ms

Target: Darwin

Compiling to native code...  
...compilation time : 25752 ms  
...linking time : 190 ms  
...output file size : 544768 bytes  
...output file : /Users/wilbyang/Downloads/hello-gui

➜ Downloads ./hello-gui  
\*\** Script Error: view has no value  
\*\** Where: ???  
➜ Downloads cat hello-gui.red  
Red \[Needs: 'View]

view \[text "Hello World!"]

rebolek

[16:04](#msg5900c500587a245e244eac8f)@wilbyang GUI on macOS is not yet officially supported.

wilbyang

[16:05](#msg5900c54e8e4b63533d07a96a)@rebolek thanks for telling it. I am stuck at this for hours

rebolek

[16:06](#msg5900c580c1d3b50154221e1a)@wilbyang If you use latest Red version (preferably build it from sources yourself), then you can use GUI on macOS.

dockimbel

[16:48](#msg5900cf53c1d3b50154225558)@wilbyang Just use the latest automated build from master branch on Download page, it has the Mac GUI support.

9214

[17:10](#msg5900d48308c00c092abacb4b)@wilbyang hi there, welcome to the community! :sparkles:

Zamlox

[18:49](#msg5900ebc6d32c6f2f09430e81)@dockimbel would it be possible to specify somehow which functions allocate extra memory and which not ? For example when they are implemented, to put a comment inside function source code (using some standard format). I just found out that if I remove last element of a block using

```
take/last
```

will allocate extra memory while using

```
remove back tail
```

will not.

greggirwin

[19:17](#msg5900f2458fcce56b203d2f4e)Yes, welcome @wilbyang ! Sorry your first experience wasn't great. Let us know if you get it working.

## Thursday 27th April, 2017

greggirwin

[02:17](#msg590154b8c1d3b50154248cbc)@qtxie reminded me that we have clipboard access. Copy and paste this into a Red console.

```
clippy: function [/show-me-the-clipboard] [
	s: read-clipboard
	b: attempt [load s]
	blk?: block? b
	print either show-me-the-clipboard [
		[
			"Clippy (that's me!) says the clipboard contains" length? s "bytes. It looks like it has^/"
			length? split s #"^/" "lines in it, as a plain string." either none? b [
				"It doesn't look like a block.^/"
			][
				form reduce [
					"As a block it has" length? b "items, and is" length? mold b 
					"bytes^/when molded. If I count the lines after molding it, there"
					"are" length? split mold b #"^/" "of them."
				]
			]
			"^/^/Bye now!"
		]
	]["Hi! I'm Clippy."]
]
```

[02:17](#msg590154cfd32c6f2f0944a4fc)Or maybe this is more to your liking:

```
reddy: function [] [
	s: read-clipboard
	b: attempt [load s]
	blk?: block? b
	print form reduce [
		"^-Clipboard Contents^/"
		"^-String length:" length? s newline
		"^-Lines:        " length? split s #"^/" newline
		"^-Block length: " if blk? [length? b] newline
		"^-Molded length:" if blk? [length? mold b] newline
		"^-Molded Lines: " if blk? [length? split mold b #"^/"] newline
		"^-Preview:      " mold copy/part either blk? [mold b][s] 40 newline
	]
]
```

dockimbel

[04:07](#msg59016e9ac1d3b5015424de5c)@Zamlox I don't think such convention is practical enough, as memory allocations can depend on the code path taken inside the function at run-time (including possible deep allocation(s) in nested function calls). For the `take/last` case, it seems the implementation is sub-optimal for `/last` refinement, as it shouldn't need any allocation in such case. @qtxie Could you please have a look at that one?

Zamlox

[04:19](#msg5901716f8e4b63533d0a7340)@dockimbel all right, then I will use plan B :) How about conversion functions from string to numbers (

```
to-float
```

```
to-integer
```

). They also allocate extra memory.

gltewalt

[04:22](#msg5901720c8e4b63533d0a753e)What about: do "7"

geekyi

[04:22](#msg590172116aea30763d47b82c)@Zamlox if it's to the same type, `to` is no-op right?

Zamlox

[04:23](#msg59017231c1d3b5015424e8de)I have tested only from string to numbers.

[04:25](#msg590172c912d2409935a19835)@gltewalt

```
do "7"
```

will also allocate extra memory

geekyi

[04:30](#msg590173f9587a245e245187f3)I've no idea how you can not allocate conversion if it's to a different datatype. You have to simply delete the initial value of unused right? We'd have gc for that.

dockimbel

[04:36](#msg5901756b8e4b63533d0a7e2e)@Zamlox Those two conversion cases are also sub-optimal currently, they call the lexer to do the conversion (the lexer allocates a block by default for containing the loaded values). Maybe we could re-use some code from the old pure R/S lexer we had a couple of years ago, to speed it up.

Zamlox

[05:15](#msg59017e80881b89e1018d876e)@geekyi depends on what is the destination type. When it's number, there is no need to allocate extra memory.

```
strod
```

C++ runtime function does not allocate extra memory when converts from string to double (string/to-float inside string.reds uses this function). Actually I have modified those conversion functions to use

```
make-float
```

and

```
make-number
```

(with some adaptation) instead of lexer, and they are fine now.

dockimbel

[05:50](#msg5901869dd32c6f2f09453f1f)@Zamlox Good point, I forgot we had those two `make-*` functions in the runtime lexer code. You can submit a PR if you want, to replace `load-value` in `integer.reds` and `float.reds`.

dsgeyser

[06:09](#msg59018b07cfec9192727c4029)@Gwarks

Zamlox

[06:58](#msg5901968312d2409935a213a5)@dockimbel all right, I will submit a PR later.

qtxie

[07:46](#msg5901a1ba881b89e1018e0da4)IIRC, in the first implementation we use those R/S functions. The reason we use the lexer instead is error checking.

```
>> to-integer "10a32"
*** Syntax Error: invalid integer! at "10a32"
*** Where: do
```

pekr

[08:17](#msg5901a922f22385553d7f3b36)Just tried to read a clipboard, where the image was stored. Got the bitset back? Is that a pointer? Or can't we get an image binary data yet?

```
>> img: read-clipboard
== make bitset! #{0000000020C000300000001400000014}
>> type? img
== bitset!
>> length? img
== 128
```

qtxie

[08:23](#msg5901aa7612d2409935a26ec7)@pekr Only text for now.

pekr

[08:24](#msg5901aabf8fcce56b203fd852)ok, thanks. Text works ...

Zamlox

[09:14](#msg5901b693587a245e24529bef)@qtxie error checking can be done also by using second parameter of

```
strtod
```

qtxie

[09:19](#msg5901b7b408c00c092abe4e2d)@Zamlox Good to know. :smile: Then we can take advantage of it.

Zamlox

[09:20](#msg5901b7f212d2409935a2aa0a)@qtxie ;)

Gwarks

[10:45](#msg5901cbd18e4b63533d0bcfb1)Never mind found my error but deleted the post anyway

x8x

[19:11](#msg5902424ccfec9192727f9afb)Hello @greggirwin and @Oldes, nice work on the new help function! :-)  
I'm wondering if this function would be useful addon to console:

```
words: function [
	/set			"save difference between current status and last saved status"
		s [word!]	"name of new saved status"
	/get			"return words from a previously saved status"
		g [word!]	"name of status to retrive"
	/list			"return list of available statuses"
	/full			"return pairs of status and defined words"
	/show			"print all status, related defined words AND redefined words"

	return: [block!]
][
	wl: []
	last-ws: []
	last-wh: []
	ws: clear make block! 500

	if full [return wl]
	if list [return extract wl 2]
	if get [return select wl g]
	if show [
			foreach i words/list [
				print append form i ":"
				print mold words/get i
				print mold intersect ws words/get i
				prin newline
				append ws words/get i
			]
		exit
	]
	foreach w sort exclude words-of system/words [system words] [
		if value? w [append ws w]
	]

	either set [
		append wl s
		append/only wl copy []

		foreach w ws [
			; h: mold system/words/get w
			h: enbase/base checksum mold system/words/get w 'md5 16
			either i: find last-ws w [
				i: index? i
				if last-wh/:i <> h [
					append last wl w
					last-wh/:i: h
				]
			][
				append last wl w
				append last-ws w
				append last-wh h
			]
		]
		last wl
	][ws]
]
```

It works like this:  
1\) launch red console  
2\) save current words status

```
words/set 'red
```

3\) define some words, redefine some others:

```
a: 'hello
b: 123
uppercase: :lowercase
random: func[i][1]
```

4\) save current status:

```
words/set 'custom
```

5\) see all status with for each, words defined and redefined compared to last saved status

```
words/show
red:
[% * ** + - / // < << <= <> = == =? > >= >> >>> ? ?? a-an about absolute ..]
[]

custom:
[a b random uppercase]
[random uppercase]
```

greggirwin

[19:40](#msg5902492acfec9192727fbd3e)@x8x WOW! Yes. `Query` in R2 could be used in a very basic way like that, but yours is incredible. I had a simple func like it, no multiple history though, called `mark-my-words` for R2. :^) Have to think about naming, but it could be \*really* useful. Could be used to automatically detect words leaked from contexts, even when we get to modules. Tied in with `include` it could give an IDE a word list by inclusion.

x8x

[19:42](#msg590249c3cfec9192727fbf47)Happy you like it! :-) Yea, I use it to detect leaks and to see if/what gets redefined when I load external code.

maximvl

[20:11](#msg5902505b6aea30763d4ba2e9)@x8x nice one, I have something similar (thought more simple) in my console addon to show user-defined words :)

x8x

[20:19](#msg590252396aea30763d4bab35)@greggirwin What do you think about adding a `/sort` refinement to `help` such that ex: `? system/words` would return alphabetically sorted list and ex: `? system` would return list of words being objects with their `words-of`block also sorted?

[20:28](#msg59025455881b89e101917f44)@maximvl Thx! 😉

[20:42](#msg590257ac8fcce56b204307dc)@greggirwin I had to read the source to see that `what/with` and `what/with/spec` are internally called by `help`, so the only usefulness of exporting `what` is without refinements to list all words. I thing it could be confusing to have both way to access the same functionality. I would either export only a `what` function without refinements or add an `/all` refinement to the `help` function to get all words list.  
In my case I did `what` then `? what` then I tryied the refinements, just to later find out that I could instead use `? ..`.

greggirwin

[22:26](#msg5902700008c00c092ac1b8a2)I've never been a fan of `what`, but I understand the reason for it. You can find it with `help` and when you use it, you get an easy way to see everything. For very new users, refinements themselves are a new hurdle to overcome. I like leveraging it, but we could do that with an internal func, rather than with `what`.

Sort on objects \*may* be useful, but some things already sort, so it only applies to objects, and may be confusing. Sorting seems most helpful in the context of `system/words` or other large references.

Seems a bug crept in though, which I need to look into. Locals appear in usage. Don't remember seeing that before.

x8x

[22:39](#msg590273318fcce56b20437304)Must agree that for small objects it maybe is more appropriate to not sort, eg have them in the defined order, but when eye scanning "not my code", I find it more painfull. Anyway, I'm guru tomato so don't use `help` 😜

[22:49](#msg5902757af22385553d82fa53)Linux and macOS console history + init script https://gist.github.com/x8x/affd2c0b556027b423bfa95c17770096

[22:50](#msg590275a1587a245e2456217c)See gist comment for instructions.

greggirwin

[22:58](#msg590277798fcce56b20437ecc)Something's amiss:

```
>> remove-each val blk: [a /b 3 #x 5x5] [not any-word? val]
>> blk
== [a]
```

[23:07](#msg590279b08bb56c2d11ed4477)AH! `any-word!` typeset changed.

[23:11](#msg59027ab608c00c092ac1dc9f)And we have a new `all-word!` typeset that matches the old one.

x8x

[23:24](#msg59027dc8881b89e10192257a)What's the new beahviour?

[23:27](#msg59027e45881b89e1019226e4)Ah! we have new `help` 🤓

```
? any-word!
ANY-WORD! is a typeset! value: make typeset! [word! set-word! lit-word! get-word!]
  ? all-word!
ALL-WORD! is a typeset! value: make typeset! [word! set-word! lit-word! get-word! refinement! issue!]
```

[23:29](#msg59027ed908c00c092ac1eaec)but we don't have `all-word?`

greggirwin

[23:42](#msg590281e38fcce56b2043a7d0)Working on it now.

[23:43](#msg59028223cfec91927280a482)Trying to decide if I like the name, though it really has to match the typeset, and makes adding it easy.

[23:45](#msg5902828a8fcce56b2043aa08)I'll put a PR out, and we can revisit if Doc has something different in mind. There has to be a good reason for him to change any-word.

[23:49](#msg590283918e4b63533d0f34e5)New `help` output is broken until this change is in.

[23:58](#msg590285a6881b89e101923cc2)I \*almost* want to suggest `lexeme!` but it seems both too broad and too technical.

[23:59](#msg590285db12d2409935a651a2)It's better than `any-all-word!` though. :^)

## Friday 28th April, 2017

gltewalt

[00:51](#msg59029200c1d3b5015429f0d7)Could you move steps 1 and 2 into a system/lexer/pre-load thing?

greggirwin

[00:53](#msg590292706aea30763d4c970f)Steps 1 and 2 of what?

gltewalt

[01:01](#msg5902945712d2409935a681a7)Oh, @x8x function

greggirwin

[01:01](#msg59029484cfec91927280dca8)Ah, thanks.

x8x

[02:20](#msg5902a6f4c1d3b501542a332e)@gltewalt Not sure I understand, are you speaking about the `words` function? What would you want to achive?

gltewalt

[02:28](#msg5902a8dd8bb56c2d11ede3c2)"On load" have it collect the Red system words. Automagically

[02:31](#msg5902a99f8bb56c2d11ede659)words/set 'red as an on load func

JacobGood1

[02:39](#msg5902ab6ec1d3b501542a428e)@x8x how about writing a pattern matching macro with a reactive object to automate that process?

[02:40](#msg5902abb808c00c092ac2711b)just giving you a stretch challenge like my friend always does to me =P

pekr

[05:13](#msg5902cf68cfec9192728198fc)Enjoying the newly commited help system. Simple `help to-`or `help -word`finally works without the quotes. Thanks for that!

[05:15](#msg5902cff2c1d3b501542ab4d0)When larger amount of functions is returned by `help`or `what`, I can see, that some descriptions followed by pipe are shifted to the right. The tabbing is surely difficult to get consistent due to variable lenght of the func names, but maybe shifting it 1-2 chars would help to improve the output ...

[05:16](#msg5902d03f08c00c092ac2e589)What imo could be improved is output of help to particular function, e.g. look into the output of `help view` and the `=>` . This one could at least be properly aligned?

dockimbel

[05:20](#msg5902d12908c00c092ac2e9e0)@greggirwin The reason for splitting the old `any-word!` typeset in two groups is that some word-like datatypes can be bound to a context and some cannot. `all-word!` reads nicely as a typeset, but not that nicely as a function name. What about renaming `any-word!` typeset to `strict-word!` and keep `any-word!` for the larger set?

pekr

[06:10](#msg5902dcc4587a245e24576933)+1 for Doc's renaming proposal

[06:10](#msg5902dce0f22385553d8448ff)0

[06:11](#msg5902dd09881b89e1019352fd)Eh, sorry for 0, typing on a cell phone

meijeru

[06:31](#msg5902e1df8fcce56b2044cafe)Here are my thoughts: the new `any-word!` is nicely mnemonic because it groups only those types that have `word!` in them. I wonder if a new name for the old `any-word!` is even needed? How many times does it occur in the toolchain, or in user programs for that matter, that `refinement!` and `issue!` are put into one basket with words? I have said before that `issue!` is really a kind of literal, and I have understood that its definition and usage are to be discussed. And refinements really occur only in function-specs... It is not a loss if both cannot be used anymore as keys in map, since all "words" are collapsed into `word!` anyhow for that purpose. @doc can probably say which of the two proposals for change will give the most work in updating the toolchain, but my vote is for the new `any-word!` and not providing a new name for the old one.

9214

[06:51](#msg5902e66f881b89e10193723c)@x8x works on Win both from script file and repl

dockimbel

[06:54](#msg5902e70a881b89e101937499)@meijeru Good point, the restricted set of words is much more used than the larger one, so it should have the best name. In such case, how to name the larger set, any idea? Searching some synonyms, I can't find anything better than `all-word!`...

x8x

[06:59](#msg5902e867881b89e101937bb3)@dockimbel Maybe we should have a room `red/bugs` where to post and discuss probable bugs, issues,ecc before opening a git issue.

dockimbel

[07:01](#msg5902e8b58e4b63533d107e68)@x8x Sounds like a good idea.

9214

[07:01](#msg5902e8c5f22385553d847afe):+1:

dockimbel

[07:02](#msg5902e913cfec91927281f727)You got it: https://gitter.im/red/bugs

x8x

[07:04](#msg5902e998c1d3b501542b11b6)Thanks! Also, the`red/code`room is restricted to `Discussions about Red scripts in red/code repository` so we don't have a room to share code, I don't think any of the existing rooms is appropriate either.

dockimbel

[07:12](#msg5902eb6fcfec919272820111)@x8x Right, would a `red/share` do, or do you have a better suggestion?

x8x

[07:18](#msg5902ecc712d2409935a79954)I would use current name and have another name for the `/red/git/code/` as it is more specific, `red/code` is being abused anyway. 🤓

pekr

[07:23](#msg5902edf88e4b63533d109036)Also some kind of "relax" zone would be nice. Talking just about anything. Well, not strictly, but e.g. pointers to some other stuff which one might find interesting for others, etc. Could be called `red/any`:-)

x8x

[07:52](#msg5902f4b06aea30763d4ddb01)`red/relax` :+1: Only wine please! 😂

9214

[08:02](#msg5902f7216aea30763d4de6e5)`reduce` stress :wine\_glass:

dockimbel

[09:07](#msg59030636587a245e245811b6)@x8x  
&gt; I would use current name and have another name for the `/red/git/code/` as it is more specific, `red/code` is being abused anyway.

The base principle of Gitter is to create rooms attached to repos on Github. `red/code` is the Gitter counterpart of `red/code`, as are `red/red`, `red/docs`,...

9214

[14:54](#msg59035794f22385553d86819f)@dockimbel is some sort of Rebol-like Encap functionality planned for Red? I mean some way to pack resources in one executable. I don't really like the idea of `Icon: <%icon-file.ico` field in Red header, it kinda reveals inner structure of the project. :(

Zamlox

[15:12](#msg59035bc2cfec91927283fe38)what unit tests should I run for testing number conversions ?

greggirwin

[15:23](#msg59035e5b587a245e2459b2db)We have red/sandbox that could be the play area. We also have red/mezz for sharing mezz code and ideas.

[15:25](#msg59035ee18bb56c2d11f0bec5)@petr, yes, we'll work on alignment. Have to choose between tabs and spaces as the CLI on Windows makes tabs 8, and doesn't look as nice. The main goal of this version of help was to make it easier to maintain and adjust.

meijeru

[15:28](#msg59035f92c1d3b501542d3e13)@dockimbel How often does the larger set need mentioning? If rarely, just add `refinement!` and/or `issue!` as needed...

greggirwin

[15:41](#msg590362acc1d3b501542d4e0d)On word typesets, I agree that the more common case is the actual `*-word!` types. It should probably get the best name (`bindable-word!` is clear in meaning, but probably too long). @meijeru, I don't think we can say that having "word" in the name should decide that, because it doesn't apply to the other `any-*` typesets. I still don't want to lock `issue!` down as a literal either, holding out hope for the "smart issue" idea, or (less nice) the double `##` sigil to denote word vs string issues. `Symbol!` is used internally, and I've already said why I don't like `lexeme!`. I can't come up with anything better right now. As @meijeru suggests, maybe we forego the new typeset name until we can come up with a good one.

rgchris

[16:21](#msg59036c18f22385553d86e863)What is \*smart issue\*?

greggirwin

[16:41](#msg590370cd587a245e245a0b54)The idea that an issue would internally be a word type when it starts with a letter, but a string type if it starts with a digit, so things like serial numbers used in large quantities wouldn't overload symbol tables.

iArnold

[18:40](#msg59038c998e4b63533d1363a0):point\_up: \[28 april 2017 17:41](https://gitter.im/red/red?at=590362acc1d3b501542d4e0d) `Lexeme!`? Can you find an alternative here? http://www.wordhippo.com/what-is/another-word-for/lexeme.html

9214

[18:58](#msg590390ca08c00c092ac64a60)I'd vote for `morpheme!`

iArnold

[19:09](#msg590393698e4b63533d137e07)That is even more `cryptic!`.

gltewalt

[19:55](#msg59039e3b881b89e1019699ac)wordset

[20:07](#msg5903a0eef22385553d87d355)extended-word

AlexanderBaggett

[20:53](#msg5903abc0f22385553d87ff42)I am going to have to ask that you guys `do` `call` off this silliness.

[20:54](#msg5903abee6aea30763d512bd6)There is already plenty of nonsense going around the `block!`

## Saturday 29th April, 2017

greggirwin

[04:55](#msg59041cb68fcce56b204973c0)What about `base-word!` for the typeset that covers bindable word types?

[04:57](#msg59041d35c1d3b501542fe283)`Word-word!` came to mind as well, but...

[04:59](#msg59041dbc881b89e1019828d5)`Sym-word!` could be explained as "words that can symbolize for values", but it doesn't strike me as very nice either.

[05:01](#msg59041e1ccfec91927286b664)Another possibility, if we want to keep `any-word!` for bindable words would be `ext-word!` instead of `all-word!`.

dockimbel

[07:50](#msg590445bed32c6f2f09501327)@greggirwin `broad-word!`? I guess `ext-word!` could do.

JerryTsai

[09:22](#msg59045b70c1d3b50154309bb7)`pan-word!` according to dictionary, "pan-": all-inclusive, especially in relation to the whole of a continent, racial group, religion, etc.: pan-African

endo64

[12:20](#msg59048513881b89e101996a7d)Is this a bug? `find` finds `x` when used `/last` even if the position is advanced.

```
>> s: next "xyz" find/last s "x"
== "xyz"
```

[12:21](#msg590485548bb56c2d11f4c682)From one point it is understandable. But it makes a bit less usable when used in a loop.

[12:25](#msg59048652587a245e245db2d0)Hmm.. no problem when using with `/part`

```
>> s: at "123456" 3 find/last/part s "" 1
== none
```

dockimbel

[12:27](#msg590486c08bb56c2d11f4cd66)@endo64 Red implements it the same way as in R3. A case could be made for both ways (stopping or passing the offset position). Anyway, you can compare the position returned by `find` with the offset of the series. I couldn't say which option would be the most common one. This could be revised once we have ability to parse in reverse.

endo64

[12:29](#msg59048746d32c6f2f0950e5e2)Yes, I figured out that. Thank you.

gltewalt

[15:14](#msg5904adbb6aea30763d546082)@dockimbel @greggirwin ext-word! feels decent

endo64

[17:46](#msg5904d17e8e4b63533d17aa5f)@dockimbel There is a small difference between Red and R3,

```
s: at "123456" 10 find/last s "1"  ; Red> none  ,  R3> "123456"
```

[17:50](#msg5904d277881b89e1019a6e20)On the other hand, on below case R3 is wrong, and Red is correct:

```
>> find/part next next "123456" "3" 2  ;  Red == "3456" , R3 == none
```

[17:56](#msg5904d3e98bb56c2d11f5ee3e)In the first case Red is also correct, R3 is not.

[18:01](#msg5904d50ed32c6f2f0951feb9)And another difference is negative `/part` values behaves different:

```
find/part/last next next "123456" "1" -10  ; Red = none, R2/R3 = "123456"
```

[18:24](#msg5904da67881b89e1019a8a04)@dockimbel This also confuses me,

```
>> find/reverse/part at "123x567x90" 7 "x" 30
== "x90"
>> find/reverse/part at "123x567x90" 7 "x" 31
== ""
```

## Sunday 30th April, 2017

dockimbel

[06:16](#msg5905814bcfec9192728b2e54)The semantics of `/last` and `/reverse` would benefit from some extra work it seems.

## Monday 1st May, 2017

AlexanderBaggett

[21:56](#msg5907aef308c00c092ad430e1)I understand concurrency is more of a 1.0 goal. I am curious however, what ideas are currently being considered.

## Tuesday 2nd May, 2017

endo64

[09:31](#msg590851e28fcce56b2057ae15)@dockimbel `find/reverse` behaves strange;

```
>> index? probe x: find/reverse/part "x" "x" 150
""
== 128
>> index? probe x: find/reverse/part "x" "x" 150
""
== 37
```

[09:32](#msg59085244d32c6f2f095de6be)Similar result for `find/last`

maximvl

[10:05](#msg590859ecd32c6f2f095e076f)fyi, my talk went well, few people got their mind blown, especially when I went to GUI and one guy was like "wait, there is no way this can fit 1MB" :D

[10:06](#msg59085a0b12d2409935baaac7)I'll post the video when it's ready

rebolek

[10:18](#msg59085d0b5f3e76601ede4e3b)@maximvl Cool!

maximvl

[10:22](#msg59085dccc1d3b501543e8bad)talking about Red in front of all these people who worked with modern "standard" languages feels like a rebellion or something, telling them that writing 20 lines of code with shitload of external libs to convert BMP image to PNG in Java or Python is basically a nonsence when you can do it in one line, like in Red

dockimbel

[10:30](#msg59085fc56aea30763d614072)@maximvl Great! :clap:  
&gt; "wait, there is no way this can fit 1MB" :D

He's right, it takes much less if you remove all the features from the runtime library, which are not used in your demo. ;-)

[10:32](#msg5908604c08c00c092ad6ab9d)Looking forward to watch the video!

maximvl

[11:26](#msg59086cfe12d2409935bafe30)@dockimbel btw one of the questions was how much is the generated binary and what part of Red is included into it

[11:27](#msg59086d108bb56c2d11025726)like in SBCL output is ~50MB because compiler and interpreter are inside

dockimbel

[11:28](#msg59086d6408c00c092ad6e6d4)@maximvl I think the Red runtime should be now at ~700KB (with compression, ~250KB). It includes the whole runtime library, the GUI and the interpreter.

maximvl

[11:31](#msg59086e118bb56c2d11025bda)and few people were discussing how Red blocks are similar to fexpr's, which I don't know much about =(

[12:36](#msg59087d57edf919574a6c3375)check this out: https://sprut.io/en/install

[12:36](#msg59087d6312d2409935bb48bd)&gt;For correct file manager installation you will need an environment with Docker installed and no less than 1.5 Gb disk space.

[12:36](#msg59087d68881b89e101a72774)not even funny anymore

[12:37](#msg59087d8d08c00c092ad73141)this world needs Red asap

BlackATTR\_twitter

[13:34](#msg59088adc12d2409935bb8831)Software development has gotten exponentially worse &amp; more complicated in the two decades since Carl Sassenrath's original rebellion. Nowadays all of the Cloud vendors are happy to keep the complexity up so that they can abstract it all for you. Plus instead of Flash and java applets, today you have SPA's with node, react and the like.

greggirwin

[15:51](#msg5908ab1c6aea30763d62b681):point\_up: \[May 2, 2017 4:05 AM](https://gitter.im/red/red?at=590859ecd32c6f2f095e076f) Nice. :^)

## Wednesday 3th May, 2017

iArnold

[13:18](#msg5909d894f22385553d9e43cc)@iArnold &lt;Note: the now long frozen chatroom "Red development team" on stackoverflow was opened exactly 666 days ago today&gt;

KDr2

[13:33](#msg5909dc42c1d3b5015444f7df)Is there a library/function to parse a json string?

JacobGood1

[13:39](#msg5909dd9a12d2409935c133f0)@maximvl good stuff... I talked about fexpr some, they are basically the rebol idea(of abstraction, specifically the block, not all the other ideas) before rebol was around. As the saying goes, anything someone "invents" today was already made in lisp some time in the past...

rebolek

[13:48](#msg5909dfc6d32c6f2f09649853)@KDr2 for example https://github.com/rebolek/gritter/blob/master/json.red

[13:49](#msg5909dfe68bb56c2d110886f1)It is not 100%, but works good enough.

KDr2

[13:51](#msg5909e078c1d3b50154450ae0)thanks @rebolek

rebolek

[14:03](#msg5909e34e12d2409935c1547d)@KDr2 you're welcome. If you have any questions about how it works, feel free to ask.

dockimbel

[15:30](#msg5909f7835e61bd94342c8d42)@greggirwin I've started looking at your 7GUIs implementation. We should be able to use `react` for the temperature converter, I'll see if some changes are needed in the reactive engine for that.... I see, we need better ways to handle cyclic reactions...

swthornton

[18:39](#msg590a23c9f22385553d9fc13e)Hi, what is the scope of the reactors? Would it be possible to have several applications on different servers with reactors that react to changes in the other apps?

greggirwin

[19:19](#msg590a2d5d08c00c092adea460)Reactors are currently local: https://doc.red-lang.org/en/reactivity.html

How to scale and distribute them is a great thought experiment, which will also depend on the actor/concurrency model. I like the idea of reactive tuplespaces myself.

swthornton

[19:53](#msg590a3557881b89e101aeb48b)Yes, would be pretty amazing.

x8x

[22:27](#msg590a59518e4b63533d2ca2d2)Been looking at 7GUIs, thanks, I'll stay with red 😂

[22:33](#msg590a5aaed32c6f2f0966e45c)Why did other languages got so cumbersome? Did they not care about KISS? Is it because they are developed in a hurry by multiple people? I guess doing redbol for some times makes it difficult to look at other languages.

asampal

[22:47](#msg590a5dec7b553c707c531165) :point\_up: \[May 3, 2017 3:19 PM](https://gitter.im/red/red?at=590a2d5d08c00c092adea460) @greggirwin are you thinking something like Eve?

greggirwin

[22:57](#msg590a60688e4b63533d2cbbc3)Not really @asampal, though there are similarities with blackboard systems if Eve grows remote data space capabilities. I don't see it as a relational system though, just generative atemporal communication. It's framed, in my mind, by what I've done before. Where Linda tuples could be matched based on exact values or placeholders, I used `parse` for matching, so rules can be arbitrarily complex.

## Thursday 4th May, 2017

swthornton

[08:15](#msg590ae317edf919574a765902)I think eve is attempting to become ubicutous with a wider audience, suitable for programmers and non-programmers. Like everyone can use Excel, they don't need to be an accountant or programmer. I think the hurdle with Red becoming as widely used as that is its heritage of coming from a scripting environment with a very terse language, its hard to digest initially, I think the language could expand and become more self explanatory now it can be compiled.

[09:45](#msg590af8515e61bd943430838c)Ubiquitous even 😁

maximvl

[09:47](#msg590af89ef22385553da2d500)with EVE I don't feel like I can write any kind of application, like console utility or native gui app or a web server

[09:47](#msg590af8b74098d96d34362b34)their primary target is WEB, at least it feels so

[09:48](#msg590af8d812d2409935c5bd95)while Red is more barebone and we can create things like EVE as well

swthornton

[11:13](#msg590b0cbfc1d3b5015449f281)True, they are very different beasts! I suppose we may ask how many people create servers and how many people create business applications.

maximvl

[11:26](#msg590b0fed5e61bd943430eb92)@swthornton we can, just I as a programmer would like to have more powerful tool

[11:26](#msg590b1003d32c6f2f09696ae3)others may prefer different things

swthornton

[11:35](#msg590b11fd08c00c092ae1fdae)Agreed

greggirwin

[16:27](#msg590b5657c93941e153c97cc4)Different beasts indeed. And whether Eve will succeed is not a given. Spreadsheets are a huge win, because they're easy to reason about, especially if you're familiar with the domain. Eve needs to magically produce expected results for non-programmers in the same way, from a simple UI. Otherwise Prolog would have won long ago.

Red isn't meant for non-programmers. However, programmers come in shades of gray. Red is \*very* accessible to casual programmers, as BASIC and VB have been. And also, though we have some thought to apply in the presentation, like Logo. What Red promises, in one narrow view, is the ability for each level of competency in programming to build tools and share with other levels, without resorting to different languages.

pekr

[17:32](#msg590b65ade3b0d4e353bffdfa)I still remember how nice it was using Amos BASIC on Amiga. Feels a bit like a VID dialect .... http://3.bp.blogspot.com/-IJRERF23ZlE/UAmHY40tBTI/AAAAAAAAAZg/nkDRJi4xuZg/s1600/amiga-amos-01.png

swthornton

[18:23](#msg590b7197e1b61e9328126c04)@greggirwin Agreed, Reds attractant for me is the full stack, I'm sick of learning​ different platforms, whatever or wherever I'm asked to write something I want to say yes! I used Rebol a while ago but still find it difficult to follow some of the Red logic, especially with documentation missing.

dnmurphy

[18:25](#msg590b7212dbeff564731ae549)@swthornton same with me, especially as I use Mac and many things that work in windows don't work in mac as yet, still its getting there

swthornton

[18:28](#msg590b72e3631b8e4e61a21641)@dnmurphy yes great help on here luckily especially @greggirwin 😊

greggirwin

[19:03](#msg590b7b0b9d90dc7a1c47b642)For those new to Red, does confusion come from:  
\- Trying to understand how Red works internally?  
\- Mapping what you know of other langs to Red concepts? i.e. it doesn't "work like X".  
\- Red not doing what you expect?  
\- Something else.

Does red-by-example.org help?

dnmurphy

[19:08](#msg590b7c360a783b6c0a65b8b1)red-by-example looks useful but I have never seen that before your mention. For me Red simply uses an obscure syntax and its difficult to fully get my head around it in the absence of effective documentation. Reading examples helps but sometimes it's extremely difficult to figure out down to each element what it is doing and then extrapolate that to doing other code - the nested blocks. I think it just needs better documentation to help beginners from other languages, bear in mind that many who pick it up will be hobbyists and not focused entirely on Red itself in their early usage

swthornton

[19:09](#msg590b7c6912f05b512a2ca947)@greggirwin For me it's I'm so used to using curly brackets languages c# et al, that i struggle with what can go on one line or if it needs to be in a block, i also think when you do examples you may put - parse a b left r just x but not y. This is unintelligible to us c# guys 😁

9214

[19:26](#msg590b80710a783b6c0a65cefb)@greggirwin  
\* Personally I'm interested in internals (prefer bottom-up approach in studying) and lack of documentation with books makes things all cryptic.  
\* I don't "know" any language (and by knowing I mean understanding all shenanigans with ins and outs + working with it at least 2 years), though I can call myself a seasoned Schemer. That means I don't have any expectations or solid concepts... but "there's no ~~spoon~~ scope" mantra still haunts me!  
\* Sometimes it doesn't, but that comes from 1st point. E.g. knowing what's a `series!`and how to deal with it (I'm looking at you `copy`), what's a `word!`, what's a context, bindology, etc.  
\* Maybe it's a language barrier (I'm not a native English speaker) and lack of experience with programming overall. I mean, all this cool talks about R/S stuff and macros with dialects, sometimes I just feel myself like a puny first grader, in a good way. There's lots of stuff to learn in CS field and in Redbol land, it's just paralyzing.

I used r-b-e a few times before I discovered `what` function ;)

iArnold

[19:32](#msg590b81e7ac693c532abf5c65)There is so much useful documentation http://www.rebol.com/docs/docs.html  
Especially this http://www.rebol.com/docs/core23/rebolcore.html

swthornton

[19:36](#msg590b82c2c89bb14b5acee3a1)@iArnold is Red not starting to move away from Rebol now? I'm very interested in react but I don't believe that's in Rebol.

9214

[19:40](#msg590b83b1c89bb14b5acee871)@swthornton same here, Red slowly but steadily starts to mature and move away from R2, sure there're still some things in common, but it all feels like a dusty heritage

[19:41](#msg590b8405c4d73f445a74b0c9)plus all valuable docs and articles are scarce and decentralized

swthornton

[19:42](#msg590b842f33e9ee771c74b1d3)@9214 yes I'm trying to keep myself to Red docs, to avoid me getting even more confused 😱

dnmurphy

[19:45](#msg590b84dd0dcaa48e672b3ddf)I shoudl also say I work on mac osx, which is behind windows RED, so that slows things for me considerably. Still, I admire what the team are doing and there is a clear sense of going somewhere compared to the Rebol groups. Red excites me and Rebol saddens me now

iArnold

[19:46](#msg590b850b0dcaa48e672b3e82)https://doc.red-lang.org/en/reactivity.html

[19:46](#msg590b852433e9ee771c74b61e)And the blog article on the homepage, and various examples.

9214

[19:47](#msg590b85422b926f8a6721971f)There's Red github wiki, Red main site, and Rebol wikibooks, and rebol dot com documentation, @nickantonaccio guides, @rebolek blog, tons of Rebol blogs, book from @PeterWAWood and another from Victor Pavlu, red-by-example... gosh!

iArnold

[19:48](#msg590b8572ac693c532abf6c18)https://github.com/red/code/tree/master/Scripts

swthornton

[19:49](#msg590b85e6c4d73f445a74b6e1)@iArnold yes I've used that, react has that many uses it makes my head hurt, brilliant.

iArnold

[19:50](#msg590b85f8c89bb14b5acef29b)Well MacOS was merged into master branch so most of it will be possible using latest version, not release.

9214

[19:51](#msg590b8631c89bb14b5acef2eb)IMO we should start gathering all dark and murky secrets in one place, creating The Red Book or something. `0.7.0` is arount the corner and we should be prepared for fresh blood and whole evangelizing mumbo-jumbo.

swthornton

[19:53](#msg590b86b70a783b6c0a65ec1c)Think we're on the wrong thread for this stuff, perhaps should be on the welcome thread.

9214

[19:54](#msg590b86d9d1a7716a0a92f196)well, one could say that it's about language and community organisation ;)

swthornton

[19:54](#msg590b86f7ac693c532abf7280)Think the official docs should be pushed for next release.

[19:54](#msg590b87100a783b6c0a65ed92)@9214 True 😬

AlexanderBaggett

[20:09](#msg590b8a96ac693c532abf8196)&gt; For those new to Red, does confusion come from:  
\- Trying to understand how Red works internally?  
\- Mapping what you know of other langs to Red concepts? i.e. it doesn't "work like X".  
\- Red not doing what you expect?  
\- Something else.

Does red-by-example.org help?

@greggirwin , Red-by-example does help quite a bit. It would be cool if it was a bit more complete.

rcqls

[20:28](#msg590b8ed00a783b6c0a661274)@iArnold :clap:

gltewalt

[21:35](#msg590b9ebb5c89dc536177fcaf)@AlexanderBaggett It's the first three bullet points

AlexanderBaggett

[21:36](#msg590b9ef7d1a7716a0a935f30)I was actually quoting greg from earlier. The chat formatting didn't work out quite right.

gltewalt

[21:38](#msg590b9f4a0dcaa48e672bb34f)Err, sorry @greggirwin

Dobeash

[22:41](#msg590bae0b2b926f8a672248d1)To address the "it doesn't work like X" issue would it be helpful to have a table mapping "in C you do this", with, "which looks like this in Red"?

swthornton

[22:44](#msg590baeb9ac693c532ac01220)@Dobeash 👍

gltewalt

[23:52](#msg590bbea733e9ee771c758cb2)Problem with that is that there's usually no direct comparison (unless it's Red/System)

## Friday 5th May, 2017

gltewalt

[04:30](#msg590bffeb0dcaa48e672ce25b)"Six hours of debugging to change one single line. Sigh."  
\-- John Carmack 5/3/17

9214

[05:02](#msg590c076cac693c532ac12090)@Dobeash maybe C vs. R/S, Red and Rebol are too high-level... oh, and Lisp vs. Redbol?

greggirwin

[05:12](#msg590c09cac89bb14b5ad0b65c)Thanks for the feedback all. Noted. The Rebol Core guide that Arnold linked to is the best place to start for language design fundamentals right now.

iArnold

[08:16](#msg590c34ea0dcaa48e672d9fb1)For Red internals I have started to collect some information in https://github.com/reddoc  
it is in the wiki inside the https://github.com/reddoc/develop repo

pekr

[08:20](#msg590c35d133e9ee771c771428)Well, as a fan, switching over, Alien covenant movie aproaching:

```
>> xeno: "₤—× " system/console/prompt: xeno
== "₤—× "
₤—× print "In space noone hears you scream!"
In space noone hears you scream!
₤—×
```

[08:20](#msg590c35e90dcaa48e672da408)Pity a lira char is not available for console fonts: ₻

9214

[08:25](#msg590c370833e9ee771c771a2e)

```
>> system/console/prompt: "(☞ﾟ∀ﾟ)☞     "
== "(☞ﾟ∀ﾟ)☞     "
(☞ﾟ∀ﾟ)☞     system/console/result: "(ﾉ◕ヮ◕)ﾉ*:･ﾟ✧ "
(ﾉ◕ヮ◕)ﾉ*:･ﾟ✧  "(ﾉ◕ヮ◕)ﾉ*:･ﾟ✧ "
(☞ﾟ∀ﾟ)☞     1 + 2
(ﾉ◕ヮ◕)ﾉ*:･ﾟ✧  3
(☞ﾟ∀ﾟ)☞     'magic!
(ﾉ◕ヮ◕)ﾉ*:･ﾟ✧  magic!
```

pekr

[08:30](#msg590c383a5c89dc53617a03a5)@9214 Have you seen an alien script, which was created by a former RT employee? IIRC, it happened after an interview with Larry Wall, who claimed, that Rebol uses unnecessary punctuation :-)

http://www.rebol.org/view-script.r?script=alien.r

9214

[08:33](#msg590c38d9d1a7716a0a956000)@pekr yup, that's impressive

pekr

[08:33](#msg590c38f6c89bb14b5ad16c7f)Similar to Doc's Parse blog post BF example :-)

iArnold

[08:45](#msg590c3bb5ac693c532ac1e17b)(The name that comes up in my memory over Anonymous is Jeff Kreis)

pekr

[08:46](#msg590c3bf7ac693c532ac1e291)Yes, it was him IIRC.

mydoghasworms

[10:27](#msg590c53a6c4d73f445a778397)Is it only possible to load and call external functions from libraries (.dll/.so) using Red/System? Is there, or will there be, a FFI-style capability in Red(/Core) to allow dynamic loading of libraries and calling their functions?

rebolek

[10:42](#msg590c5725d1a7716a0a95e054)FFI is planned for Red. Right now, you can call libraries from Red/System.

mydoghasworms

[10:47](#msg590c582c5c89dc53617a90d8)@rebolek Thank you :bow:

[10:51](#msg590c5940ac693c532ac25b77)@rebolek Your collection of Red articles at http://red.qyz.cz/ is very sparse. May I suggest please to be adding a tutorial on using external libraries in Red/System? :smiley\_cat:

rebolek

[10:59](#msg590c5affc4d73f445a77a1a4)@mydoghasworms Thanks for tip, I will do it :hammer:

dockimbel

[11:12](#msg590c5e08ac693c532ac26f22)FYI, the official Red documentation is at: http://doc.red-lang.org. If you use those Red docs + R/S docs + Rebol/Core Manual + Red blog articles, you should have covered pretty much all you need to know in order to use Red fully. You can use the chatrooms here for inquiring about the small differences between Red/Core and Rebol/Core. You can find all the relevant links \[there](http://www.red-lang.org/p/documentation.html), with additional links to trusted third-party sites.  
We have big plans for 0.7.0 release, including a Red/Core documentation (so we can avoid redirecting to Rebol's one).

mydoghasworms

[11:19](#msg590c5fa6c4d73f445a77b475)Thanks Nenad, duly noted!

endo64

[16:38](#msg590caa789d90dc7a1c4c7ac9)How does `first` work for `time!` values? I cannot see `first` in `runtime/datatypes/time.reds` shouldn't it be there?

greggirwin

[17:26](#msg590cb5aa0dcaa48e672ff887)Ordinal selector funcs use `pick` internally.

Gwarks

[17:42](#msg590cb985d1a7716a0a97bd34)Use `source` to see it

meijeru

[20:23](#msg590cdf4033e9ee771c7a03e5)Time is internally stored as a total number of seconds (floating point number) but `first second` and `third` extract the whole number of hours, the number of minutes and the residual number of seconds respectively. This can also be achieved by `/1` `/2` `/3` or `/hour` `/minute` and `/second`.

## Saturday 6th May, 2017

PeterWAWood

[09:08](#msg590d92962b926f8a67294ff4)Re: email!

Personally I don't see much point as treating any word containing an "@" as being an email! value. Surely, every genuine email would have at least one character before the @ and be followed by at least one character, a period and at least one other character.

Every email address must have a recipient and a domain. As the top level domains don't have email servers, a genuine email! address will always include a ".". Doesn't this describe an email address?

```
email-rule: [some digit #"@" some digit #"." some digit]
```

Where digit is a valid digit in an email address.

meijeru

[09:18](#msg590d94df33e9ee771c7c2f89)I understand by "digit" a character 0-9, I think you mean any (valid) character.

PeterWAWood

[09:41](#msg590d9a66c4d73f445a7c5881)You are right. I mean any character valid in an email address.

geekyi

[11:45](#msg590db73dd1a7716a0a9b2281)@PeterWAWood I didn't know `@` was a valid email. Definitely in Rebol it isn't:

[11:45](#msg590db754c89bb14b5ad71218)

```
rebol
>> type? @
** Syntax Error: Invalid email -- @
** Near: (line 1) type? @
```

[11:47](#msg590db7e9d1a7716a0a9b244e)But maybe you mean it shouldn't even give that error either, so `@foo` and `foo@` can be used for other things?

[11:48](#msg590db815c89bb14b5ad7148d)What would the \*empty* email be then?

[11:49](#msg590db835e2285d3b16332efa)Also, in Rebol, the following is valid:

[11:49](#msg590db851c89bb14b5ad715cf)

```
rebol
>> type? foo@
== email!
```

I wonder why no error in this case?

PeterWAWood

[13:35](#msg590dd1350dcaa48e6733a5fd)I

greggirwin

[16:28](#msg590df9c30a783b6c0a6f1a9e)I think the `ref!` type is still being considered. If we cover the most common cases in the base lexing rule, it will minimize the complexity, and will only cause an issue for a small number of cases. The problem I see is if you can create one synthetically that then molds to a malformed value. This is something we can address with language, noting it as a limitation. We can allow a subset of special chars without issue. If we provide guidelines for how people can use and support more complex email values (i.e. workarounds), they at least have a solution.

[16:29](#msg590df9f90a783b6c0a6f1b54)Peter's basic rule is almost enough. The domain part has a more limited charset than the local part.

[16:30](#msg590dfa1e631b8e4e61abac83)But I think the domain part can use the same lexing as `url!`.

dockimbel

[16:46](#msg590dfe039d90dc7a1c51204c)&gt; The problem I see is if you can create one synthetically that then molds to a malformed value.

`mold/all` and/or the future `mold/bin` should be able to handle that.

Gwarks

[19:36](#msg590e25cd2b926f8a672b6d22)abc."defghi".xyz@example.com  
gives an error

[19:38](#msg590e2629c4d73f445a7e5a88)"John..Doe"@example.com  
only gives @example.com and the local part is missing

endo64

[21:10](#msg590e3bd9e2285d3b163519d2)@Gwarks @greggirwin I thought that `first` is an `action!` as it was in R2, because of that I thought that it should be in `time.reds`.

greggirwin

[22:17](#msg590e4b772b926f8a672bf252)I've had the same confusion with a couple things Endo.

[22:18](#msg590e4ba0631b8e4e61acdeb2)@dockimbel, construction syntax could certainly work for it, or mold as an object.

## Sunday 7th May, 2017

swthornton

[15:36](#msg590f3eee9d90dc7a1c552c27)@greggirwin Hi Gregg, I really found the 7guis useful, would it be useful to have a branch just for real-world sample code we could all add to, some of you advancef guys code looks a little ethereal 😁

geekyi

[17:23](#msg590f5826c89bb14b5adc8c95)@swthornton what about `red/code` repo?

[17:25](#msg590f589ad1a7716a0aa0c34d)I think the real problem is lack of package manager..

[17:28](#msg590f59305c89dc53618548d4)Rebol.org and librarian is interesting.. @greggirwin you used to work on it, looks like? Among others..

swthornton

[20:12](#msg590f7fa9c89bb14b5add2f34)@geekyi Hi, i think some of the pure language discussions are amazing, but other, side issues i think new users coming from more traditional infrastructures would home in on would be how larger applications should be structured, what options have I got for the scope of the application, more crud or databinding examples, how a Red application should be structured if its going to grow into a business solution?

geekyi

[20:25](#msg590f82d1c4d73f445a82e47a)@swthornton programming in the large isn't it? Red being alpha, the other stuff we lack are modules. And yes example applications written in it. You can look at Rebol applications in the meantime.. Rebol.org

[20:26](#msg590f82f033e9ee771c82eb99)And understanding \*context* is important

[20:27](#msg590f8323e2285d3b16394ad0)That's all, in short.. Oh, also check out gritter and redcv

JacobGood1

[20:38](#msg590f85ae2b926f8a6730026e)gradual typing and modules, those features will make "in the large" more manageable

swthornton

[21:12](#msg590f8dd55c89dc53618612c9)@geekyi thanks for the pointers

greggirwin

[21:24](#msg590f907c0dcaa48e6739bd78)I did the original librarian app for rebol.org, with Volker Nitsch I think. Sunanda, Peter Wood, along with Moliad did the web site.

There is some chat going on about where and how to organize/standardize community efforts.

## Monday 8th May, 2017

gltewalt

[02:57](#msg590fde835c89dc5361871a6a)Seems there is a fair amount to consider for valid email!  
https://en.m.wikipedia.org/wiki/Email\_address

[03:10](#msg590fe1aad1a7716a0aa2bf49)Checking and Transformation of Names

https://tools.ietf.org/html/rfc3696

greggirwin

[03:39](#msg590fe8570dcaa48e673acf42)A regex to handle formal email addresses is ~4K in size.

maximvl

[15:47](#msg591092fa2b926f8a67341954)not sure if this already was posted here, but https://docs.google.com/presentation/d/1MD-CgzODFWzdpnYXr8bEgysfDmb8PDV6iCAjH5JIvaI/edit?usp=sharing

[15:47](#msg59109314d1a7716a0aa5bae2)presentation with examples of a lot of UIs for programming

greggirwin

[16:36](#msg59109e9cd1a7716a0aa5f3aa)I saw that recently as well Maxim, from Alarming Development.

[16:37](#msg59109ebc9d90dc7a1c5a8eb5)Maybe our next live coding UI experiment should be watchers.

maximvl

[22:31](#msg5910f1b833e9ee771c88df1f)https://www.youtube.com/watch?v=4ZbGJemrLFw

[22:31](#msg5910f1cac4d73f445a88c274)hey guys, some Red talks here :D

greggirwin

[22:35](#msg5910f29a2b926f8a6735e6c0)Thanks for posting that Maxim!

maximvl

[22:35](#msg5910f2c1ac693c532ad35d0b)don't get scared by my accent)

[22:36](#msg5910f2e72b926f8a6735e91a)and yeah, it was planned as 20 mins talk but as you can imagine people had so many good questions

greggirwin

[22:48](#msg5910f5a833e9ee771c88ecab)I'll watch it all later, but it's really nice to hear you talking through the examples. Great job!

[22:49](#msg5910f5e1c4d73f445a88d1a8)Showing people how you can change a func's body so soon...brave man. :^) Good audience, too, since someone immediately asked if that was compiled.

maximvl

[22:49](#msg5910f6109d90dc7a1c5c23bf)yep, please leave the comments so I can make it better next time ;)

tanstaaf1

[23:10](#msg5910fac9d1a7716a0aa7aa29)@maximvl Can you possibly amplify your voice and repost? I've got volume maxed on both youtube and my mac air hardware and I am having a hard time hearing you. Your accent is fine - that is not a problem; only the volume.

greggirwin

[23:21](#msg5910fd7c83cb5db073100173)I had to max my volume as well.

## Tuesday 9th May, 2017

greggirwin

[00:25](#msg59110c910a783b6c0a7ad035)I remember you saying about a comment someone made "There is not way that can be in a 1MB file.". Hearing it in the talk made me smile.

[00:36](#msg59110f1083cb5db073103de4)@maximvl, a subtle thing in your `parse read https...` example. If you use tags, instead of strings, it may lead to a "where are the quotes?" question, which is a nice way to bring up datatypes. e.g.

```
parse read https://booking.com [skip thru <title> copy title to </title>]
```

[00:52](#msg591112bb2b926f8a67365dd7)Well done Maxim.

x8x

[02:26](#msg591128dd4746d29d249a0745)@maximvl Very nice! The Q&amp;A at the end is quite funny 😂

gltewalt

[03:38](#msg591139b1631b8e4e61b7dda2)@maximvl Would you like me to try to fix the audio? I can boost the level and remove some of the white noise

dockimbel

[06:51](#msg591166f75c89dc53618d731c)@maximvl Congrats on the great presentation, its both very enjoyable and very interesting to me, to watch Red seen through other eyes, especially Lispers. Good idea to bring all your trophies behind you to impress the audience. ;-) Too bad rebol.com was down during your talk...

maximvl

[06:53](#msg59116763c89bb14b5ae4a380)thanks guys, the audio issue is known, we had a separate mic near the camera, this is why the volume is low

rebolek

[06:57](#msg591168570a783b6c0a7c0c03)@maximvl Cool video, I just finished watching it.

dockimbel

[06:58](#msg5911688bac693c532ad4ef32)The FEXPRs part will make @JacobGood1 very pleased. ;-)

[07:01](#msg591169652b926f8a6737a3ac)@maximvl Look at who's the first one to like the tweet about your Red presentation:

[07:02](#msg5911697233e9ee771c8a821a)\[!\[image.png](https://files.gitter.im/red/red/ei1x/thumb/image.png)](https://files.gitter.im/red/red/ei1x/image.png)

[07:03](#msg591169b583cb5db07311727e);-)

maximvl

[07:04](#msg59116a0233e9ee771c8a845f)@dockimbel great, thanks :)

geekyi

[07:04](#msg59116a04d1a7716a0aa92e00)Cool, Brendan Eich!

dockimbel

[07:05](#msg59116a40d1a7716a0aa92f8e)Oh, he just retweeted it also. ;-)

eMBee

[07:05](#msg59116a4d33e9ee771c8a85ad)?

[07:06](#msg59116a6933e9ee771c8a862a)oh

[07:06](#msg59116a905c89dc53618d816d)cool indeed

maximvl

[07:07](#msg59116a9683cb5db073117633)waaat

[07:07](#msg59116a99c4d73f445a8a6718)seriously?

[07:07](#msg59116aa383cb5db073117696)Eich retweeted my video OMG

eMBee

[07:07](#msg59116abd2b926f8a6737a8cf):-)

dockimbel

[07:08](#msg59116ada5c89dc53618d8368)@maximvl Yep, now prepare for the flood of comments about the sound quality. :-)

[07:10](#msg59116b8033e9ee771c8a88e7)I met Brendan at a conference in Taipei in 2014 (along with Rasmus Lerdoff, PHP author), and had a few nice discussions with them during the meals. Brendan knew about Rebol, and was glad to see "someone carrying the torch" in its own words. ;-)

gltewalt

[07:11](#msg59116bbd8a05641b1163c498)It's out in the wild now, so no fixing audio without breaking the retweet link :smile:

maximvl

[07:12](#msg59116bcbc89bb14b5ae4b620)yep

gltewalt

[07:12](#msg59116be4c4d73f445a8a6cde)@maximvl That's awesome. I'm very happy for you.

9214

[07:15](#msg59116c99d1a7716a0aa9379e)@gltewalt I thought youtube video can be edited after uploading?

[07:21](#msg59116df20a783b6c0a7c1ffd)ah, but not audio... what about subtitles?

dockimbel

[07:24](#msg59116e9a2b926f8a6737bb9f)Subtitles would be greatly helpful, to workaround the low audio volume.

maximvl

[07:27](#msg59116f695c89dc53618d96f9)I'll take a look at them

iArnold

[07:39](#msg591172199d90dc7a1c5de894)You could edit the description and add a link to a video with fixed sound? Create a playlist with the fixed sound version right behind it and possibly shrink the original into a very short video?

toomasv

[08:32](#msg59117e82c89bb14b5ae50817)I had normal sound. Very cool! Congratulations!

asampal

[08:48](#msg59118272e4cfd50062a5d10a)Probably others have seen this post on d3.express, but if not it's worth reading if only to compare with Red's reactive approach - https://medium.com/@mbostock/a-better-way-to-code-2b1d2876a3a0

9214

[09:34](#msg59118d2ed1a7716a0aa9d51e)@maximvl for canonicity, you should have pulled out of your pocket a small teaspoon before 26:40 ;)

KDr2

[12:35](#msg5911b79a9d90dc7a1c5f2d8c)Hi all, could you tell me how to fire a http post request with a specific header field and a json body?

[12:36](#msg5911b7ddd1a7716a0aaa992a)I follow rebol's doc, use read/custom, red told me there is no read/custom

rebolek

[13:06](#msg5911bef383cb5db07312ff6a)@KDr2 Hi,  
use `write/info`:

```
write/info http://some.serv.er/ [POST [Header: "is here"] {Your JSON data}]
```

ghost~5680c5f416b6c7089cc058a5

[13:07](#msg5911bf17d1a7716a0aaabc1c)@maximvl :clap:

KDr2

[13:32](#msg5911c4e09d90dc7a1c5f6e44)@rebolek thank you very much, it is exactly what i want. BTW, is there any document about these functions? I did search on google/bing, and got nothing about this.

rebolek

[13:41](#msg5911c7240a783b6c0a7dbdf9)@KDr2 I am not sure if this is documented anywhere yet.

[13:43](#msg5911c76f8a05641b116564e5)But IO is still just in a basic version, will full IO planned for 0.7, so the documentation will probably come with that.

greggirwin

[16:30](#msg5911ee8b8a05641b11662cbb)Way to go Maxim! Wow.

[16:31](#msg5911eee62b926f8a673a33f8)@KDr2, you can use `help` in the console, though it may not tell you much. In this case `/info` isn't documented yet, so it wouldn't help at all.

ChatPion

[19:01](#msg591211fcc89bb14b5ae7c02d)Hello, I've been trying to install red on Windows 7, but I get the error "C:\\ProgramData\\Red\\crush-2017-4-12-1647.dll isn't conceived to run on Windows or contains an error"

gltewalt

[19:25](#msg591217982b926f8a673af737)Are you trying to compile from source ?

9214

[19:30](#msg591218cf33e9ee771c8dc35a)@ChatPion last stable build or automated from `master` branch?

ChatPion

[19:32](#msg591219419d90dc7a1c6114a8)@9214 last stable build

9214

[19:34](#msg591219cc83cb5db07314ca51)hm, and antivirus doesn't bark? Red toolchain often being detected as malware (false positive of course), that causes some trouble with installation for me

ChatPion

[19:35](#msg59121a04631b8e4e61bbede2)My antivirus already caused me trouble. I tried to install with it off, but I get the same error

gltewalt

[19:36](#msg59121a3cd1a7716a0aac85c7)Grab automated build

9214

[19:37](#msg59121a5ec4d73f445a8db4d2)I usually just go \[here](http://static.red-lang.org/dl/auto/win/red-latest.exe)

ChatPion

[19:38](#msg59121ac18a05641b11670617)@9214 I tried your link. A console briefly shows up then disappeared

[19:38](#msg59121acd33e9ee771c8dcd7f)I think it was about a driver issue ?

[19:40](#msg59121b200a783b6c0a7f6872)Got it : "Driver Internal Error : Access Error : Cannot open /C/ProgramData/Red/crush.reds"

[19:40](#msg59121b3f0a783b6c0a7f6a9b)Running as an admin doesn't change anything

9214

[19:41](#msg59121b509d90dc7a1c611f95)do you have any access restrictions on `ProgramData` folder?

[19:41](#msg59121b60ac693c532ad8391b)also, try to wipe out this `ProgramData/Red` folder and try again

ChatPion

[19:42](#msg59121b9f8a05641b11670b81)Hmm, according to windows, it's a hidden readonly folder

[19:42](#msg59121ba5c89bb14b5ae7f4da)That explains quite a lot

[19:46](#msg59121c9733e9ee771c8dd6f6)Can't delete ProgramData/Red

9214

[19:47](#msg59121cc80a783b6c0a7f70e9)@ChatPion try to poke around with read/write permissions, I think that's what interrupts compilation

ChatPion

[19:52](#msg59121dfec89bb14b5ae7ff5a)I tried to give myself write permissions, but windows keeps on putting it back to readonly. Also, I can't have full permissions even as an Admin

9214

[19:53](#msg59121e3883cb5db07314dee9)and you've already tried to run installer as admin?

ChatPion

[19:53](#msg59121e4233e9ee771c8ddd39)yep

[19:53](#msg59121e468a05641b116717b0)still doesn't work

9214

[19:54](#msg59121e7b631b8e4e61bc06a5)no clue then :confused:

[19:55](#msg59121ebcc89bb14b5ae8024e)I'll try to harvest google search and find something useful

ChatPion

[19:56](#msg59121f01ac693c532ad84b2f)Thanks :smile:  
I'm trying to see if I can modify my permissions

9214

[19:58](#msg59121f4a0a783b6c0a7f7e7f)@ChatPion https://github.com/red/red/issues/2399 what ya think, could it be flagged by AV after your first try?

ChatPion

[19:59](#msg59121fb933e9ee771c8de36a)yeah I got that one. i'm currently running without my AV on

9214

[20:05](#msg59122117631b8e4e61bc1380)try to whitelist `/ProgramData/Red` directory, unflag installer or folder if it was flagged, reboot, turn off AV for a while ant try again, idk if that helps :confused:

[20:07](#msg5912217c5c89dc536190f8b1)oh, and run installer as an admin, just for sure

ChatPion

[20:09](#msg591221f083cb5db07314f09e)I can't seem to do anything on ProgramData

[20:09](#msg59122205c89bb14b5ae81024)I'm gonna try to install on another computer

geekyi

[20:10](#msg5912224e33e9ee771c8df24e)@ChatPion I think the last guy that happened to rebooted his computer to solve the problem..

ChatPion

[20:11](#msg5912227a2b926f8a673b2e0d)And of course Red runs perfectly on another computer (also Windows 7)

[20:11](#msg5912228a8a05641b11672e67)And ProgramData is readonly and hidden

geekyi

[20:12](#msg591222b0631b8e4e61bc1d10)Strange, I didn't know it was readonly..

9214

[20:12](#msg591222be0a783b6c0a7f8ecd)yeah, it's kinda rite of passage for Win users to fight with AV to get Red toolchain compiling

ChatPion

[20:13](#msg591222ed33e9ee771c8df50e)but my AV is off :confused:

9214

[20:13](#msg591222fed1a7716a0aacb281)and installer ain't flagged in it?

ChatPion

[20:16](#msg591223aa2b926f8a673b32da)nope

[20:16](#msg591223b49d90dc7a1c614687)I'll try to reboot

9214

[20:18](#msg591224179d90dc7a1c61480f)yep, and if it won't work then just copy toolchain, the one you've compiled on another machine

gltewalt

[20:36](#msg5912285bc89bb14b5ae82c67)Which antivirus?

[20:37](#msg5912288bc4d73f445a8df3f7)Avast will hold on to the file name in quarantine - have to purge that in addition to setting an 'allow' rule

9214

[20:38](#msg591228adc4d73f445a8df467):point\_up: true

ChatPion

[20:40](#msg5912292483cb5db073151126)Avira

9214

[20:40](#msg59122944ac693c532ad87b12)oh, \*\*that\** beast :cat:

ChatPion

[20:40](#msg5912294983cb5db0731511fa)I just rebooted (got windows update in my way too), and I've been able to delete ProgramsData/Red

[20:41](#msg5912295c33e9ee771c8e144f)I ran the installer (red-latest), and it worked !

[20:41](#msg59122960c4d73f445a8df8d1)Thanks everyone !

9214

[20:41](#msg591229730a783b6c0a7fabea):confetti\_ball: welcome to the Red land!

ChatPion

[20:50](#msg59122b82ac693c532ad885bf)I broke it again

[20:50](#msg59122b8933e9ee771c8e1edb)It worked with Avira off

9214

[20:50](#msg59122b9a631b8e4e61bc497b)bloody hell! :japanese\_ogre:

ChatPion

[20:50](#msg59122b9bc4d73f445a8e04b8)I turn it on, and it doesn't work anymore and I can't delete ProgramData/Red

[20:50](#msg59122baa631b8e4e61bc4a7a)Any good free AV suggestion ?

9214

[20:51](#msg59122bd50a783b6c0a7fb616)personally I stick to Avast, dunno if it's good enough

gltewalt

[20:52](#msg59122bf9c4d73f445a8e0662)Avast, but you have to do that little dance that I typed

[20:52](#msg59122c25ac693c532ad8897a)Contact Avira and ask them to update their sigs?

9214

[20:53](#msg59122c43631b8e4e61bc4e3f)@gltewalt it's a long story, Nenad tried it for years with no avail

[20:56](#msg59122cfc33e9ee771c8e24b6)in Avast it's `Right click on tiny Avast icon in Win bar --> Open Avast user inteface --> click Settings in bottom-left corner --> Exclusions tab --> specify /ProgramData/Red directory and other directories with Red things`

gltewalt

[20:57](#msg59122d4a8a05641b11675fbc)Educated guess - there's a quarantine file in Avira that the Red name is already in. Needs to be cleared out in addition to setting up an allow rule. If it does have a quarantine file, no matter how many times you download the current version it's going to halt it from running because it's the same file name.  
I think a lot of AV start with filename and short-circuit bail if the name is in quarantine - then they go to hash or file sig

9214

[21:00](#msg59122dfd83cb5db0731528f4)gosh, now I really want to evolutionize from linux wannabe to neophyte Mint user

gltewalt

[21:01](#msg59122e3fc4d73f445a8e1272)All these AVs don't like it because there's compression used in the binary

greggirwin

[21:20](#msg591232a683cb5db07315432a)On Win7 I use Security Essentials.

## Wednesday 10th May, 2017

eMBee

[07:35](#msg5912c2ab9d90dc7a1c638e11)@maximvl in your talk about halfway you make a detour into early lisp history, which is not on your slides. could you add some references to that? i didn't quite catch the names and the terms you mentioned there

[07:35](#msg5912c2be33e9ee771c904037)otherwise the sound is fine actually if you raise the volume to max :-)

maximvl

[12:25](#msg591306a6ac693c532adbe3b6)@eMBee about dynamic scopes and fexpressions? It wasn't me, it was one of the guys in the room

[12:25](#msg591306b9c89bb14b5aeb991f)this is why it's not on slides :)

eMBee

[12:34](#msg591308efc4d73f445a916aa8)ah, i could not tell who was speaking.

[12:35](#msg591309019d90dc7a1c64d59e)@eMBee has never heared of f-expressions

[12:44](#msg59130b4a5c89dc536194a0ed)@maximvl but it's you who is explaining f-expressions in response to an audience comment, isn't it?

maximvl

[12:45](#msg59130b6b0a783b6c0a8325b4)@eMBee I don't think so, there were two guys discussing it

eMBee

[12:45](#msg59130b8183cb5db073188f0b)oh, ok, i really can't tell who is talking :-)

[13:27](#msg59131557631b8e4e61c016ed)did you managed to catch the name of that person he is referencing? joan shutt? with a lisp dialect called what? kernel?

maximvl

[13:30](#msg5913160f5c89dc536194d9e1)@eMBee yes, https://web.cs.wpi.edu/~jshutt/kernel.html

eMBee

[13:50](#msg59131a8dc4d73f445a91cf66)ah, yes, thanks, just tried john myself, then i found something

mikeparr

[15:33](#msg591332e32b926f8a673fa7e9)I noted the discussion above about valid emails. here is a similar issue with url! type.  
Here is code with a typo - missing space after the colon. It is treated as a url:

```
>> a:b
== a:b
>> type? a:b
== url!
```

rebolek

[15:58](#msg591338960a783b6c0a842bfd)I would consider it as a feature;)

tanstaaf1

[16:05](#msg59133a66d1a7716a0ab1624b)Has anyone been hacking on debugging? I don't see much mention of debugging work in the threads nor in the trello roadmap. Absent that, does anyone on red-team have any conjecture on when some sort of debugger will show up or what that might look like? I'd love to see something which would display a code statement in terms of how sections of it are successively parsed and evaluated. Most of my personal difficulties with red continue to revolve around not understanding how longer statements are actually evaluated by the parser. Being able too more easily tease out the step by step interpretation would probably save me 90% of my wasted time. Maybe it would be appropriate, at some point, to open a room for more pointed discussion?

[16:08](#msg59133af8ac693c532adcff5d)BTW, I also think such a debug mode -- even if only rudimentary -- would help speed up the catching and resolving of bugs by users. As it is I never know if a perceived "bug" is actually a bug in fact or only a bug in my thinking.

greggirwin

[16:21](#msg59133e1fd1a7716a0ab17796)@mikeparr, how can Red know it's a typo? There is still likely some lexing refinement, and official specs will come before too long.

[16:22](#msg59133e50d1a7716a0ab17896)@tanstaaf1, still early for some user tools. We can build some basics now, though, with `do/next`.

mikeparr

[16:40](#msg5913428b8a05641b116be7dc)Agreed @greggirwin . I know it is correct Red, and I might have meant it (but not very often,)

tanstaaf1

[21:34](#msg591387519d90dc7a1c67485b)@greggirwin @dockimbel Yes, it is early - but why is it "too early"? "do /next" has things sort of backwards in terms of understanding. If red parses from left to right but evaluates from right to left then it makes sense to have at least a rudimentary debug facility which would show things in evaluation order.

[21:45](#msg591389f133e9ee771c9405cf)The ideal would be for it to evaluate a whole statement but in pieces - so one could easily follow along for either debugging or -- important -- learning purposes. It's one of those things, -- one of \*very* few things, I'd say -- which would have a very fast payback; both for red development and certainly for learning. A nice next step might be to have the step-wise evaluation shown either in a gui window or, at least, printed to a file .... for easy import to this site for questions or bug reporting. It could be pretty rudimentary and still be very helpful, but I'm pretty sure it needs to be supported by internals; ideally with a switched / debug mode. Maybe I'm missing something that red is still missing that makes this "too early"....maybe you can elucidate why this would be impractical right now?

PeterWAWood

[21:46](#msg59138a4f2b926f8a67414bb9)@tanstaaf1 Red evaluates from Left to Right. Unfortunately, not strictly because the infix operators which are evaluated out of sequence. (In the early days I unsuccessfully tried to persuade Nenad to forgo infix operators as Boron does).

[21:50](#msg59138b0f5c89dc53619727ca)Don't you realise the reason that no work is being done on debugging tools is that nobody has volunteered to do so? The Red team is busy working to complete the core features of the language. I'm sure that they can only afford the time to develop such tools if the tools are essential to their work.

tanstaaf1

[21:54](#msg59138c080a783b6c0a85cc19)@PeterWAWood \*That's* a good answer. Would it be appropriate for me to offer a bounty? Or does that only mess up the development process at this point?

PeterWAWood

[21:59](#msg59138d26ac693c532ade7ac9)@tanstaaf1 As I understand the issue for the team is equally about being able to find sufficiently talented programmers as it is about funding. A bounty could attract a talented individual freelancer but isn't going to help the core team as bounties aren't really going to allow the team to hire an additional full-time engineer.

tanstaaf1

[22:08](#msg59138f775c89dc5361973af0)@PeterWAWood I may be mistaken but I see the "deep lake" creating a bit of a chicken and egg conundrum for finding talented programmers. Again, I may be mistaken, but I'd expect even a rudimentary (not flashy) debugger which would fully \*explicate* a red statement as perhaps the most powerful way to get new talent up to speed. It kind of pains me that I have nothing to offer but ideas, some of them naive. But I'd be willing to offer up to, say, a $1K bounty for a debugger soon -- provided the red team would be willing to entertain that and provide judgement on when they think the bounty is fairly earned for something with lasting use.

[22:11](#msg591390132b926f8a6741626a)I know $1K isn't a lot in the US or Europe, but maybe it would go further elsewhere - so I'll put that out there.

[23:54](#msg5913a85183cb5db0731b75ec)@PeterWAWood Re "Red evaluates from Left to Right". Yes, of course,. I've probably not using proper terminology. But would you agree red will defer l2r evaluation in order to resolve an \*indeterminate* number of things to the right? And given the sheer number of words plus refinements and unusual characters that creates a bit of a slippery slope for, at least, untrained minds to gain purchase. Sort of like reading run-on sentences in English. It would be really nice for the interpreter to explain itself, so to speak. It seems that is best done right to left (except where the statement is malformed, of course, where it should throw an error of some sort). Anyway, it IS a deep lake -- but a deep lake CAN be transparent, and the red interpreter/REPL could be too, and that would take away a huge portion of the confusion. My main frustration, anyway.

## Thursday 11st May, 2017

greggirwin

[00:02](#msg5913aa1b33e9ee771c947bfe)Red is L-&gt;R, except for infix. Can you provide an example of what you're thinking?

It's tough for newbies sometimes, and is for most languages.

dockimbel

[02:50](#msg5913d17e631b8e4e61c35936)@tanstaaf1 We have an entry for supporting debugging hooks in the interpreter in 0.6.4: https://trello.com/c/Tg2WlLpW/162-0-6-4-new-gui-console

[02:54](#msg5913d25d33e9ee771c9502c3)The basic evaluation rules should be learned using the Rebol/Core manual (for now) and playing with short expressions/code within the Red console. Those concepts are just the surface of the lake, depths are more like code/data duality, dynamic binding and DSLs building. ;-)

rebolek

[06:31](#msg5914053033e9ee771c95a79f)When I compile script with MSDOS target, that uses `call`, I get this error:

```
Compiling to native code...
*** Compilation Error: undefined symbol: red/natives/call*
```

It works fine with Windows as target. Is this expected?

[08:26](#msg59142036ac693c532ae082a9)Is there any info on `handle!` type?

dockimbel

[08:45](#msg591424c00a783b6c0a88000e)@rebolek Looks like a missing entry into libRed-extras.r file.

meijeru

[21:50](#msg5914dc9b00efc2bb3e5a64cf)@rebolek `handle!` is derived from integer. It was made a separate type to avoid the values being mixed up with "normal" integers. It has no operations except equality testing. Values cannot be made by the user, they come about as a result of OS calls.

## Friday 12nd May, 2017

rebolek

[04:32](#msg59153aeac4d73f445a9acf83)@meijeru Thanks, I was using handle in my code with `#define handle! [pointer! [integer!]]`, now I do not need this definition, OTOH I cannot use `handle!` as `integer!` in places where I was using it. The only way how to convert `handle!` to `integer!` that I found, is `load form handle` which is not very good IMO.

Oldes

[05:11](#msg591544198a05641b117404a3)You are mixing R/S code with Red code in your post. Actually handle is in Red side exactly to prevent you to do nasty things with pointers. Why you need it?

rebolek

[05:13](#msg59154461d1a7716a0ab9cba2)I need to store the handle on the Red side to use it later.

[05:21](#msg5915464283cb5db0732212e4)@Oldes I was asking because yesterday I wasn't able to pass `handle!` to a function, but now that problem seems to be gone. Probably some Heisenbug :)

[05:28](#msg591547ea8a05641b1174117b)No, it's not gone, it just moved elsewhere :)

[05:30](#msg5915486bc4d73f445a9afc10)What I've found so far:  
1\) I cannot pass `handle!` to a function if it does not specifically accepts `handle!`: `f [x] [x]` throws `f does not accept handle!...` error, `f [x [handle!]] [x]` works.  
2\) `handle!` cannot be used as a key in `map!`

greggirwin

[06:11](#msg591552060a783b6c0a8d2139)`handle!` isn't in `default!`.

rebolek

[06:16](#msg591553598a05641b117436ee)I see. But is it a good thing?

dockimbel

[08:04](#msg59156c8d9f4f4ab05bb7c321)It should be added to `default!`, you can send a PR for that.

rebolek

[08:30](#msg5915729b00efc2bb3e5c8d18)Ok, will do.

[08:33](#msg5915737500efc2bb3e5c90ee)@dockimbel only to `default!` or to other typests too, like `immediate!` or `scalar!`?

dockimbel

[08:50](#msg591577412b926f8a67493b18)@rebolek `immediate!`

rebolek

[08:52](#msg591577dc9f4f4ab05bb7f383)https://github.com/red/red/pull/2678

mydoghasworms

[10:57](#msg5915953583cb5db0732356a8)Was the simple-gc branch ever merged into the master? I see there was a discussion around this on March 19 last year, suggesting the simple GC would be part of 0.6.1. The thing is, I am just testing to see whether memory gets released after loading a file with `read` (in a function), but that does not seem to be the case. Is this an experimental feature that has to be switched on somewhere? Or do you have to trigger the GC manually, perhaps?

iArnold

[11:06](#msg5915971ac4d73f445a9c5148)afaik it was not. It is now planned for 0.6.4, correct me if I am wrong.

meijeru

[12:56](#msg5915b116c4d73f445a9cc7ee)`handle!` is already part of a typeset: `internal!`. I see no reason why it should be part of two typesets.

dockimbel

[13:33](#msg5915b9b60a783b6c0a8ee77e)It should be removed from`internal!`.

rebolek

[15:02](#msg5915ce7f631b8e4e61cbcc55)https://github.com/red/red/pull/2681

JerryTsai

[15:25](#msg5915d3f600efc2bb3e5e5a45)@mydoghasworms According to \[Trello](https://trello.com/b/FlQ6pzdB/red-tasks-overview), "Simple GC" will be in 0.6.5

dander

[16:52](#msg5915e86600efc2bb3e5ec4b4)I don't know if anyone else has experimented with it already, but I got a working proof of concept for running Red inside a Docker container. I'm on windows, by the way.

```
λ docker run -it dander/redlang
Unable to find image 'dander/redlang:latest' locally
latest: Pulling from dander/redlang
43edd5e0993d: Already exists
cf849e3d2428: Pull complete
Digest: sha256:97fc4b832c123f88f1b29b86eef4528379ffae34dadef2f8b4f0494bf725adde
Status: Downloaded newer image for dander/redlang:latest
--== Red 0.6.2 ==--
Type HELP for starting information.

>> about
Red for Linux version 0.6.2 built 12-May-2017/10:01:58
```

[16:57](#msg5915e97fc4d73f445a9de637)It might seem a little silly to put a 1 MB tool inside a 200 MB container, but the base image only needs to be downloaded once, and it could be useful for some of these services that provide web-based REPLs or whatever. Or if someone needs to test on linux from not-linux.

AlexanderBaggett

[16:58](#msg5915e9b18a05641b1176e989)I am about to open a github issue. I would like someone to test it on OS's other than windows 10

[16:58](#msg5915e9d100efc2bb3e5eca9b)

```
view [area 200x200 button "change font" [face/parent/pane/1/font: request-font]]
```

[16:59](#msg5915e9fd33e9ee771c9df318)In windows 10, if you change the font after typing text into the area, it crashes the window and the red REPL.

[17:00](#msg5915ea2100efc2bb3e5ecb77)I suspect the behavior is OS specific, but I would to ask members of the community to verify.

rebolek

[17:02](#msg5915eaa20a783b6c0a8febca)@AlexanderBaggett Does not crash on macOS, so it is platform specific (though macOS font selector is missing font preview and some OK button).

AlexanderBaggett

[17:06](#msg5915ebad00efc2bb3e5ed2ad)Can anyone give this a quick spin on linux?

rebolek

[17:07](#msg5915ebc9631b8e4e61cc64fb)@AlexanderBaggett is request-font even implemented on Linux?

AlexanderBaggett

[17:07](#msg5915ebedd1a7716a0abcc948)I have no idea. But the requesting part worked fine on Windows.

[17:08](#msg5915ec0b9f4f4ab05bba125f)The part where Red had to update the font of the area that already had text in it failed.

x8x

[17:08](#msg5915ec2621759a6a01660111)@AlexanderBaggett no GUI yet on Linux

greggirwin

[17:31](#msg5915f170d1a7716a0abce711)@AlexanderBaggett, crash confirmed on Win7.

[17:33](#msg5915f1e0d1a7716a0abce92b)@dander, cool! It is kind of silly, in a sense, but showing we can embed Red anywhere is good. AWS Lambda is another prime candidate. Once we get a little further down the road, and write some AWS SDK bits, setting up an AMI for that would be another marketing piece.

dander

[17:43](#msg5915f45500efc2bb3e5efa88)@greggirwin Serverless computing would be pretty interesting, but I think it might need vendor support for them to natively run Red? Unless it was using one of the wrappers for an existing language platform... I haven't tried it, myself. It seems like a homoiconic language would be particularly a good fit for lambda and related services

RiVeND

[19:41](#msg59160fd02b926f8a674c1b3f)@AlexanderBaggett I also get a crash on Win7 (64-bit) using the latest automated build. Sometimes it lasts a couple of font changes before crashing.

geekyi

[20:36](#msg59161cc99d90dc7a1c72457e)@dander cool. I've been wondering if a red replacement for docker or vagrant would be useful

[20:38](#msg59161d31631b8e4e61cd5a9a)Qemu is lightweight.. Tinycore Linux or Alpine Linux is ~10 mb

AlexanderBaggett

[20:43](#msg59161e770a783b6c0a90e77f)I created the ticket

geekyi

[21:10](#msg591624dbc4d73f445a9efc74)\[iron base](https://www.iron.io/microcontainers-tiny-portable-containers/) claims ~ 29MB node.js containers. I wonder what would be the size of red containers? ;)

dander

[21:22](#msg5916279a00efc2bb3e5feed5)@geekyi Yeah, I'd like to try Alpine, but I thought it would be easier to start with one of the heavier ones first, since they have a lot more tools this is my first Docker package I've built

greggirwin

[23:22](#msg591643acc4d73f445a9f74d5)You can install binaries to run inside Lambda. We did tests with both R3 and R2 64-bit. 64-bit is the key there I think.

dander

[23:27](#msg591644e92b926f8a674cf86a)hmm, very interesting. I'm curious about how they do it, but I suppose the whole point is that the details are hidden :)

greggirwin

[23:31](#msg591645b8d1a7716a0abe5d1d)It's all in the image.

[23:32](#msg5916460c631b8e4e61cdf2b5)Not just the AMI, but the deployment package as well.

[23:34](#msg5916466c9d90dc7a1c72ea5a)You should be able to do it either way.

## Saturday 13th May, 2017

x8x

[06:08](#msg5916a2d664a70be11ad2a32e)I think the holy grail of having Red deployed everywhere is to make it a drop in replacement to busybox ! All embedded systems use it, Android use it, Alpine use it.. with added bonus that it will provide a language and all the features we know are coming. Big companies doing embedded may be asking for customization from Red Team enche revenue.. 😜

[06:18](#msg5916a54d331deef464690565)Busybox only provide stripped-down Unix tools, embedded systems mostly have language interpreter for doing the other stuffs, I see Lua a lot as it is very small, modular and extensible, Perl and Phyton are not uncommon, Red would be smaller then any of those and more feature full so it will easily be favoured!

[06:29](#msg5916a7ae0de3eb3e19a70e43)By-product would get us a Red shell alternative to Bash Zsh .. Busybox has embedded Ash shell

[06:40](#msg5916aa6521759a6a01660810)There are also license issues with BusyBox that companies may not like as it is GPL ..

mikeparr

[13:20](#msg591708229f4f4ab05bbdf7ad)I've put together a summary of red-lang.org. The idea is to help you find what you want more easily. Any use? http://www.red-by-example.org/links.html#red-lang-summary

9214

[14:32](#msg59171903631b8e4e61d0ad8d)@mikeparr can you put hashtags on it? Like, say, #macro, #view, #libred, etc

greggirwin

[15:01](#msg59171fbc631b8e4e61d0c8d8)@x8x, Having Red as my environment everywhere I go is my dream.

[15:02](#msg591720028a05641b117b4037)@mikeparr, maybe call it a blog entry index? If each section's items were lists, that would look nice I think. I love the idea.

maximvl

[15:08](#msg59172171631b8e4e61d0cf4d)just saw a talk by Charles Simonyi where he tells that domain oriented programming still fails because languages don't address multi-domain paradigm, which I believe our `parse` does

9214

[15:23](#msg5917250d33e9ee771ca259ad)@maximvl I'm curious, can you put a link here?

maximvl

[15:25](#msg59172557d1a7716a0ac16536)@9214 https://www.youtube.com/watch?v=UBI33yXJZxg

9214

[15:26](#msg591725a12b926f8a674ff44f)oh, this one, I was searching for exact "domain oriented programming talk" title :D thanks!

maximvl

[15:29](#msg5917264233e9ee771ca25db9)his and similar talks can be found using "intentional software" phrase

greggirwin

[15:42](#msg59172979c4d73f445aa26e1e)I have great respect for Charles Simonyi, and really hoped his name would bring attention to DSLs. But his Intentional work hasn't made much headway, has it?

[15:43](#msg59172985d1a7716a0ac17814)Thanks for the link Maxim.

maximvl

[15:58](#msg59172d23631b8e4e61d0f941)@greggirwin seems like it, his company recently was acquired by microsoft though

9214

[16:58](#msg59173b388a05641b117bae1b)whole intentional programming thing looks like a common way to write good Forth code

[16:59](#msg59173b828a05641b117bafea)you just start with literal english string which directly expresses your idea... and a bit of wishful thinking, then slowly build upon that

## Sunday 14th May, 2017

JenniferLee520

[10:53](#msg5918372600efc2bb3e66d3e5)"FreeRed"? This fork is not appropriate at all. Why don't you guys make a Linux fork and name it "FreeLinux" to see what Linus Torvalds will say about it?

maximvl

[10:53](#msg591837422b926f8a675382ad)@JenniferLee520 sorry for that

[11:02](#msg5918392992217cca58751de3)@JenniferLee520 there is `Libre Linux` btw :D

luis-rj

[13:46](#msg59185fa5631b8e4e61d4e390)  
\`&gt;

greggirwin

[16:53](#msg59188b7e92217cca5876417f)I would prefer to have my code removed from that repo for the time being @maximvl, while the community works out how best to organize things. My public gists are there for others to use and share, of course, but I don't always include header info that makes it clear where they came from, out of context. As we adapt and share them, as I do with code others have shared, the gist can help us track forks and revisions, until we have a plan. It is a \*great* idea to get things organized, including links from chat here, so I don't think your effort will be wasted.

[17:10](#msg59188f9df3001cd3421ead40)In other news, `help` has been updated, in an attempt to make the output friendlier. Small tweaks, rather than large changes. `? find` and `? append` are good basic tests. What I haven't come up with is a good solution for specs where some params don't have a type specified, some have a long type spec, and may or may not have doc strings. e.g.

```
test-fn-2: func [
	"Doc"
	[catch]
	a "AA"
	b [block!]
	c [string! immediate! scalar! any-block!] "CC"
	/r "ref"
		s [string!] "ref arg"
		s2 [string!]
		s3 "s3 doc string"
	return: [integer!] "Return doc string"
	/local x y
][]
```

If you paste that, then do `help test-fn-2`, you'll see what I mean.

I didn't like putting `[default!]` in where no type is spec'd, and padding with spaces there only works when type specs are all short. Splitting the doc string to a separate line is no better. It all depends on the combination of things in the spec. Note that it will affect refinement params as well.

Thoughts or suggestions? Mocking up output is probably best for discussion.

geekyi

[19:02](#msg5918a9b9631b8e4e61d5f989)\[!\[image.png](https://files.gitter.im/red/red/QVDF/thumb/image.png)](https://files.gitter.im/red/red/QVDF/image.png)

[19:04](#msg5918aa3692217cca5876bd07)The various versions of `help`. Only thing I notice is Rebol2 and 3 had a lighter arrow `--` instead of red's `=>`

[19:18](#msg5918ad748a05641b118079e3)I've not encountered a function with a \*Doc string* like that `a "AA"`. The `word!` arguments are usually descriptive enough. It's strange they are displayed with quotes `"s3 doc string"` while the rest of the documentation isn't

[19:18](#msg5918ad930a783b6c0a99af8a)\[!\[image.png](https://files.gitter.im/red/red/N5md/thumb/image.png)](https://files.gitter.im/red/red/N5md/image.png)

greggirwin

[19:53](#msg5918b5d000efc2bb3e68b555)We can easily change separator chars in the current `help` code. The doc string formatting for params includes quotes to avoid another separator. Harder to align as well, with type specs, though consistency would be nice. The main work lately has been more detailed alignment. If we mock up "ideal" output, we can look at the effort required to make it happen.

geekyi

[23:40](#msg5918eadad1a7716a0ac78143)Cool, if it's an image, `help` now displays it if you have view

[23:55](#msg5918ee852b926f8a67561a3d)&gt; We can easily change separator chars in the current `help` code.

Indeed: `help-ctx/DOC_SEP: "--"`

## Monday 15th May, 2017

geekyi

[00:04](#msg5918f0a000efc2bb3e6988b3)As someone who hasn't seen @greggirwin's help code before, it's quite nice to read (without comments!) and modify

greggirwin

[00:38](#msg5918f89b92217cca5877c38a)Thanks @geekyi. Yes, the image thing was a fun little experiment I thought was nice.

[00:41](#msg5918f9439f4f4ab05bc49419)I'm glad the code looks hackable too. That was one of my main goals.

rebolek

[07:07](#msg591953a20a783b6c0a9beed7)@dockimbel It seems that even with adding `handle!` to those typesets, I can’t use it as a map key. I am not sure what else needs to be done to enable it.

dockimbel

[07:09](#msg591954100a783b6c0a9bf031)`handle!` is not supported in map! as key AFAIK. `handle!`is supposed to be an \*opaque* value, not a value you use for any computation at Red level. If you need to use it as a key in a map, you are probably leaking low-level tasks to Red level.

rebolek

[07:14](#msg5919554392217cca5878fab3)I do not need it for computations, but it is handy to keep it it as a reference. It is a value that does not change during program's lifetime, so as a static key, it is pretty safe. I can map (no pun intended) handles to other values (ie to integer with `load form` hack), but do I really have to?

dockimbel

[07:16](#msg591955c9631b8e4e61d84b3d)If you need to do any form of computation with handles, you should do it at R/S level.

rebolek

[07:17](#msg59195602631b8e4e61d84bd9)As I wrote, I do not need to do any computations. I just need it as a reference.

pekr

[07:23](#msg5919577f33e9ee771ca9fc28)@rebolek - so you just want it to have it stored somewhere, being look-able, etc.? Something like storing xy gfx objects rendered by the foreign environment, which you need to keep track of?

dockimbel

[07:24](#msg5919579792217cca58790472)Handle should be just passed around, not searched for (because that would expose their value at Red level, defeating their purpose).

rebolek

[07:24](#msg591957a62b926f8a67578de9)@pekr exactly

pekr

[07:25](#msg591957f183cb5db07330ee58)I am not guru at low level stuff, but might sound handy :-) btw - can you store it in blocks? Not so fast, but as an array of references (handles), it might just work ...

rebolek

[07:27](#msg59195860631b8e4e61d858db)@pekr maybe... Or I will introduce another layer that will map handles to some other values (maybe just integer with same value), to workaround this limitation.

Oldes

[08:28](#msg591966c833e9ee771caa4502)@dockimbel I quite don't understand why `handle!` value could not be used in `map!`. Could you please explain it?

[08:29](#msg5919670692217cca58795143)I'm for example using handles for sounds and quite understand, that you someone could use it to connect the sound with some other value.

[08:30](#msg5919672033e9ee771caa466d)But I understand, that many things can be done in R/S layer.

[08:32](#msg5919678900efc2bb3e6b2c31)@rebolek on the other side, why you need it as a key in `map`? `handle` is just `integer` and integers are not supported as keys in `map`.

rebolek

[08:33](#msg591967c6631b8e4e61d89aa8)@Oldes are you sure?

Oldes

[08:34](#msg591967fad1a7716a0ac93d14)ok... it is supported.

rebolek

[08:34](#msg5919680983cb5db073313727):)

[08:38](#msg591969208a05641b118315ab)@Oldes many things can be done at R/S layer, but if your `handle!` points to gfx object, you want to work with it in Red. Having `handle!` as `map!` key can make it easier. And it is still just a key, you can't change it, do any computations with it. Of course, workarounds can be introduced for it, but they are not necessary IMO.

Oldes

[08:42](#msg591969fb631b8e4e61d8a3da)I personally has nothing against `handle` as a key in `map`.

[08:43](#msg59196a3f00efc2bb3e6b3796)Btw... you are able to create valid `handle` using `load`? That should not be possible imho.

rebolek

[08:44](#msg59196a8983cb5db0733142a5)@Oldes No, but if I want to use it as map key, I need to convert it to integer and that can be done with `load form` only, AFAIK. You can’t do `to integer! handle`

[08:45](#msg59196ab583cb5db07331433a)I don't want to make `handle!` in Red, I just want to use it as map key.

Oldes

[08:52](#msg59196c61f3001cd34221c467)@rebolek it should be easy to support handle... just add it here: https://github.com/red/red/blob/master/runtime/hashtable.reds#L184 and maybe on some other place in this file.

[08:53](#msg59196c820a783b6c0a9c607c)The question is, if @dockimbel will accept it, when he is against it.

rebolek

[09:07](#msg59196fcd33e9ee771caa6ff8)@Oldes I hope @dockimbel is not against it.

dockimbel

[09:59](#msg59197bfc0a783b6c0a9ca4d3)Please, don't try to use `handle!` as it was an `integer!`, that goes against its purpose. `handle!` is just to be stored in simple containers (not searchable) and passed around at Red level, that's all. If you need to do any other operation on it, either you are missing an abstraction layer, or you should not be using `handle!` at all, but just integers.

rebolek

[10:02](#msg59197ca7d1a7716a0ac99fbb)Ok, I will add another layer of abstraction. I just though it shouldn't be necessary.

Oldes

[11:30](#msg5919917083cb5db07331f1a2)@dockimbel I still don't understand why it should not be used as a key in map. It is not operation on `handle!`, is it?

[11:42](#msg5919940f83cb5db07331fe03)And why it should not be used in searchable container?

[11:45](#msg591994c1d1a7716a0aca04fa)The only reason I see is, that the hashtable is taking just the data and so for it `integer!` would look same like `handle!` and so they could collide by accident.

dockimbel

[11:58](#msg591997e183cb5db073321070)I see we implemented `compare` action for handles, so then you can search for it in `block!` or `hash!` series.

[12:05](#msg5919996fd1a7716a0aca1b26)Searching is an operation, which involves comparisons. I think that's already too much, but it's implemented so you can use it. I think you really misunderstand the purpose of `handle!` which is to \*hide* information from the user, because it's a lower-layer abstraction that we allow to leak to higher level, for specific purpose (and not for general purpose). In View engine, we use it to expose the low-level objects underlying each face, so that users could extend View engine by calling external API and passing that handle. That's the only reason it is exposed, otherwise we could just keep it at R/S level. That is where `handle!` comes handy, to make it \*opaque\*, so that users don't bother with it, nor modify it in any way. Another usage (not implemented yet), is for the native call stack pointer returned in `error!` objects.

[12:16](#msg59199c359f4f4ab05bc6fb70)https://twitter.com/red\_lang/status/864092173112754177

[12:18](#msg59199c94d1a7716a0aca2913)You can send PRs to post scripts, all the details are explained in on the home page. For rebolers, this is similair in purpose to rebol.org. We will have a dedicated site in the future for packages once we get modules support. All people from Red Team can accept PRs there, so I won't be a bottleneck there. ;-)

rebolek

[12:20](#msg59199d03c4d73f445aab1d9e)Cool!

Oldes

[12:41](#msg5919a1e200efc2bb3e6c335c)What is difference between `red/code` and `red/community` now?

PeterWAWood

[12:50](#msg5919a3fd83cb5db073324c13)red/code entries are curated whereas red/community entries will only have cursory checks e.g. spam, malicious, inappropriate content.

Oldes

[13:53](#msg5919b2d3f3001cd34223082f)As there is not many contributions in red/code.. I'm quite not sure if it makes sense. But maybe I'm wrong.

rebolek

[13:55](#msg5919b3568a05641b11845c09)@Oldes It's not that easy to get something accepted into red/code, so red/community will be more open hopefully.

Oldes

[13:56](#msg5919b37ec4d73f445aab8a85)You mean your 1 json pull request? :)

rebolek

[13:56](#msg5919b39b631b8e4e61d9f89e)Yes, I have 100% failure rate :D

dockimbel

[13:58](#msg5919b409d1a7716a0acaa216)We'll probably evolve `red/code` once we find some spare time for that.

pekr

[14:26](#msg5919ba9e92217cca587ad3e8)Just tried Cloud9 IDE I remember I had access since my former Beagle Bone experiments. The integration went well. Launched the console and found out following:

```
>> help system
*** Script Error: image! has no value
*** Where: =
```

I am providing info "as-is". I don't have Linux installed here right now, so can't test, if it is a general Red under Linux problem, or it is related to Cloud9 ...

iArnold

[15:07](#msg5919c43a83cb5db07332e4b1)@greggirwin I removed your scripts from the other collection as you wished.

greggirwin

[16:44](#msg5919daff83cb5db073336724)Thanks Arnold.

[16:47](#msg5919dbbb8a05641b11852f96)@pekr, did you use @gltewalt's setup guide? Is it an old version of Red?

pekr

[17:02](#msg5919df23f3001cd3422400d9)Yes. I have installed it according to his docs. Downloaded latest daily build. Red runs, just the help system returns an error ...

[17:03](#msg5919df5033e9ee771cac9a8c)I migjt try on my Linux server directly, once at home and with a little of free time.

[17:04](#msg5919df850a783b6c0a9e9ba9)I dont want to create false positives, I will go thru the c9 Red installation notes again ...

[17:25](#msg5919e4738a05641b11855b1f)@greggirwin So just tried under my a bit dated Ubuntu (Zentyal server). The error is the same. Tried `ldd red`, there seems to be no dependency missing. Please advice, if I should create an error report ....

dander

[17:36](#msg5919e72692217cca587bd5d5)@pekr I rebuilt my \[docker container](https://hub.docker.com/r/dander/redlang/) (using the latest build on the download page), and it reproduces the issue as well. I'm no linux expert, so I could have something missing in there as well. It's a ready-made environment if anyone wants to look at it though

pekr

[17:59](#msg5919ec792b926f8a675a6793)OK, submitted an error report ....

greggirwin

[18:08](#msg5919ee8600efc2bb3e6dbc1d)Thanks guys.

[18:10](#msg5919eeff83cb5db07333d028)If you do `image? none` do you get the error?

pekr

[18:11](#msg5919ef4df3001cd342245748)Yes, the same error

greggirwin

[18:12](#msg5919ef7a92217cca587c0728)Thanks.

pekr

[18:12](#msg5919ef7f92217cca587c0740)Maybe an `image!`datatype not part of the Linux distro?

greggirwin

[18:12](#msg5919ef8b2b926f8a675a78c2)That's my guess.

## Tuesday 16th May, 2017

Oldes

[08:18](#msg591ab5cc00efc2bb3e70e8d0)@greggirwin I don't like viewing image from help.. some images may be very large... I also don't like probing raw image data in console for the same reason.

greggirwin

[08:21](#msg591ab682631b8e4e61de5763)I agree that raw image data isn't helpful. Aside from possibly extending beyond the screen (which we can address), what don't you like about viewing large images?

[08:22](#msg591ab6ab9f4f4ab05bcbc0f6)It was an idea to try, and I'm fine removing it if people don't think it's useful.

xqlab

[11:57](#msg591ae94492217cca58801805)I think help should have some options how much data it shows and how deep it goes into levels and the structure ob objects or blocks / series.

[11:58](#msg591ae97900efc2bb3e71dde6)By default it should show only the first level and information about.

greggirwin

[16:14](#msg591b256f8a05641b118af92c)Is console help the best way to do that? If you forgive the quick hack...

```
Red []

form-all: func [blk][
	forall blk [blk/1: form blk/1]
	blk
]

get-sys-words: func [test [function!]][
	collect [
		foreach word words-of system/words [
			if test get/any word [keep word]
		]
	]
]

list-cur-text: func [face][pick face/data face/selected]
list-cur-word: func [face][to word! list-cur-text face]

top-objs: form-all get-sys-words :object?

view [
	style text-list: text-list 150
	list-1: text-list data top-objs [
		val: get list-cur-word face
		if object? :val [o-1: :val  list-2/data: form-all words-of val]
		clear list-3/data
	]
	list-2: text-list [
		val: get in o-1 list-cur-word face
		list-3/data: either object? :val [form-all words-of val][
			reduce [form get in :o-1 list-cur-word face]
		]
	]
	list-3: text-list
]
```

[16:16](#msg591b25e100efc2bb3e732765)Many years ago, Ammon Johnson and I built a Smalltalk style system explorer for R2. Romano Paolo Tenca also did Anamonitor, which was a different take. We didn't spend enough time to make it robust, but we could do that for Red, so you can inspect the state of the session, browse and modify values, etc. It opens up a \*lot* of questions though. A system browser is pretty easy though.

maximvl

[16:17](#msg591b260dd1a7716a0ad16c3b)@greggirwin I think we should do one for Red, the time has come :)

[16:18](#msg591b26439f4f4ab05bcdf31b)except in Smalltalk you have a global class tree available

greggirwin

[16:18](#msg591b26550a783b6c0aa4701c)And it can integrate your console func helper too Maxim. I added back the ability to get help output as a string, so that should work again.

maximvl

[16:18](#msg591b26699f4f4ab05bcdf463)while in Red words belong to contexts and there is no way to get all of them (at least I'm not aware of)

greggirwin

[16:19](#msg591b268f33e9ee771cb25449)Yes, there are big differences from ST. We don't maintain an image between sessions either. But that's a great thought experiment. What would it take to serialize the system state, perhaps including history if an app keeps it?

maximvl

[16:19](#msg591b26ad2b926f8a675fd7ad)@greggirwin I still believe that `output as a string` should not be an ability, but rather we should have a way to redefine default input/output/etc

greggirwin

[16:19](#msg591b26ae92217cca588166eb)We have the global context as the root.

maximvl

[16:20](#msg591b26e683cb5db073393c3b)@greggirwin it's not root, `func [block /local x] [x: context [] bind block x]` will return you a block binded to a context you don't know anything about

greggirwin

[16:21](#msg591b26f3f3001cd34229ae64)Oldes had an `/into` refinement in his `help` IIRC.

[16:21](#msg591b2709d1a7716a0ad171b0)Ah, I see what you mean now.

maximvl

[16:21](#msg591b271b9f4f4ab05bcdf877)@greggirwin ok, will he add `/into` to any function which prints things?

[16:21](#msg591b2723f3001cd34229af52)it's not a universal solution

[16:23](#msg591b2768c4d73f445ab24645)I still encourage us to find a way to redefine word values locally in runtime

greggirwin

[16:23](#msg591b276b8a05641b118b03ab)If you design a great pipe and filter system for Red values, I'm sure it would be useful.

[16:24](#msg591b27a3f3001cd34229b1ca)We can certainly do things in an FP way, but that's not terribly friendly IMO. We can also use your CL scoping approach at the mezz level.

maximvl

[16:24](#msg591b27abd1a7716a0ad175e5)I believe, and this feature used \*a lot* in common lisp, that it gives greatest possibilities to programmers

[16:26](#msg591b2832d1a7716a0ad178f0)in a high level this allows you, as a programmer to leave details of your code to be controlled by the programmer who uses your code

[16:27](#msg591b286692217cca58816eed)let's say you want to parse json, you just use `read` function, which reads from a special `*standard-input*`, and then somebody can redefine it to take input from file, from socket, from a string

[16:28](#msg591b28948a05641b118b08a2)so there is no need to go into original source code and pass everywhere `/into` parameter or something

[16:29](#msg591b28f9f3001cd34229b73f)and this change will only apply to this piece of code, everything else in system will be untouched, so if other things use `*standard-input*` as well - they will not be confused

greggirwin

[16:31](#msg591b294d0a783b6c0aa47ed8)I understand the idea. The trick is to make it fit with Red's design. Doing it at the mezz level, people can easily choose, as you say. The traditional approach in Red would be to spec a func to take `[string! file! url! port!]` and dispatch internally based on the type.

maximvl

[16:32](#msg591b299d0a783b6c0aa48031)but when it becomes part of your code and your code have to solve all the complexity which comes with it

[16:32](#msg591b29add1a7716a0ad18049)e.g. what if I want to `append` to file, instead of truncating it?

[16:33](#msg591b29d583cb5db073394b41)I need to pass additional params and they have nothing to do with json library

greggirwin

[16:33](#msg591b29e2c4d73f445ab2517c)I have to run, prepping to head out of town and much to do today. I'll be back in a week. These are good questions, best solved, I think, with concrete examples.

maximvl

[16:34](#msg591b2a0bd1a7716a0ad1819d)@greggirwin good luck with it :)

dockimbel

[16:34](#msg591b2a1a9f4f4ab05bce06dd)@maximvl  
&gt; @greggirwin I still believe that `output as a string` should not be an ability, but rather we should have a way to redefine default input/output/etc

That will come with ports and full I/O support.

maximvl

[16:37](#msg591b2ac7d1a7716a0ad184d7)@dockimbel could you explain this? from what I saw in Rebol it still has the same issue

[16:37](#msg591b2ae300efc2bb3e734182)again, I'm giving you IO examples, but the general idea is much bigger

dockimbel

[16:39](#msg591b2b2a00efc2bb3e73429d)Using ports in Rebol2, you can redirect to pretty much anything you want. You can even write virtual ports to mimic a purely in -memory data structure. Ports act as virtual series. We'll incorporate and try to improve those features in Red ports.

maximvl

[16:39](#msg591b2b469f4f4ab05bce0e3f)back to the json example, let's say you don't have proper way to represent `null`

[16:40](#msg591b2b62f3001cd34229c33b)then, as an author of json library you may leave this detail to the users

[16:41](#msg591b2b9d9f4f4ab05bce0f65)you may use special `null-replacer` variable which will have a value to handle `null`s

[16:41](#msg591b2bcef3001cd34229c529)and maybe in your project it's nice to have `0` instead of `null` so you may write `with [null-replacer: 0] [decode-json json]`

[16:42](#msg591b2bdfd1a7716a0ad18ac0)ports can's do this

dockimbel

[16:42](#msg591b2be1c4d73f445ab25b28)I guess you could just have a `json/null-replacer` word set up to provide the same feature in Red (if `json` support is wrapped in a `json` context).

greggirwin

[16:42](#msg591b2bfec4d73f445ab25b69)&gt; in a high level this allows you, as a programmer to leave details of your code to be controlled by the programmer who uses your code

DI and IoC can be great tools, but this approach also has costs, yes? Now the user of your code needs to know about your code in order to replace the custom bits. Alternately, you need to define a very clear API for pluggable elements.

maximvl

[16:43](#msg591b2c4f0a783b6c0aa48dad)&gt;Now the user of your code needs to know about your code in order to replace the custom bits

that's true, however, as it's done in CL, in docs you specify your "customizable" variables and what do they do

[16:44](#msg591b2c7d2b926f8a675ff563)the problem with original approach in this case is that you are trying to cover all use cases users of your code may have

greggirwin

[16:45](#msg591b2c8f00efc2bb3e734a07)Right, now, is the CL approach a good fit for Red? That's why I like concrete examples.

maximvl

[16:47](#msg591b2d20d1a7716a0ad192ed)@greggirwin can you use `source` function to show source in the gui text label?

greggirwin

[16:47](#msg591b2d32f3001cd34229cd2a)"The problem" may not be a problem at all. As Doc says, we want to improve on things we've learned from Rebol, but also maintain an overall design coherence and aesthetic. The great thing, of course, is that you can build things in Red to prove them out. It may not be as pretty as we'd like sometimes, but it can probably be done. e.g. write your funcs and doc their customizable bits, then bind them into a context that has those customizations.

maximvl

[16:47](#msg591b2d33d1a7716a0ad1933d)apparently not, because nobody added `/into` for it

rebolek

[16:48](#msg591b2d532b926f8a675ff906)@maximvl You can, just not with `source`

dockimbel

[16:48](#msg591b2d5c00efc2bb3e734e5e)@maximvl You can temporarily redefine `print` to capture the output, we used to do such \[things](http://www.rebol.org/view-script.r?script=capture.r) in Rebol. No need to change anything in `source`.

greggirwin

[16:48](#msg591b2d73631b8e4e61e0c135)If you want to play that game Maxim, has CL's approach made it successful? :^\\

maximvl

[16:48](#msg591b2d7bf3001cd34229ce8d)@rebolek so I have to write another function, which basically the same as `source` except it prints to another output

[16:49](#msg591b2d9683cb5db073396117)now what if I want to fix bug in both? you get all kinds of problems of duplicated code right here

rebolek

[16:49](#msg591b2dac9f4f4ab05bce1bfe)@maximvl `source` is just a simple wrapper for `mold :function`

maximvl

[16:49](#msg591b2db683cb5db073396160)@greggirwin CL has a lot of things, we don't know what exactly made it unsuccessful

[16:50](#msg591b2de49f4f4ab05bce1d66)@rebolek ok, but is every function doing something is just two lines of code I can copy and modify every time?

[16:51](#msg591b2e019f4f4ab05bce1e23)I'm trying to point out that this is not scalable

greggirwin

[16:52](#msg591b2e378a05641b118b2394)There is no perfect solution. We can probably agree on that. What Redbol does, very well, is address a balance of common, pragmatic needs with great flexibility. It is accessible, less academically intimidating that some langs, yet does let us solve problems like this in very new and different ways. I really do have to run, but let's think about the \*problem* we need to solve. i.e., is there an even better way to do it than the CL model.

maximvl

[16:53](#msg591b2e7c83cb5db0733964ed)@dockimbel looks good, but still you modify it for all the world

greggirwin

[16:53](#msg591b2e9683cb5db0733965ae)I'll also add "How scalable do we need to be?" and "Has this approach been \*proven* to improve scalability in codebases built and maintained by average programmers?"

dockimbel

[16:54](#msg591b2eb733e9ee771cb282fe)@maximvl You could re-bind `source` body to a specific context for the time of the capture, so you could avoid touching the global context.

greggirwin

[16:54](#msg591b2ee18a05641b118b2720)If I may play Devil's Advocate for a moment. What if I don't believe it's a good idea at all Maxim? How will you show me, prove to me, that it is?

maximvl

[16:55](#msg591b2ef483cb5db0733967d2)@dockimbel almost what CL does except your solution only works for 1 level of code

dockimbel

[17:00](#msg591b301c2b926f8a67600812)@maximvl I think those are implementation details, both in Redbol and in CL, if you don't integrate in your code design support for those "special variables", users would be stuck, and will need to modify your code. So the core requirement is the same, CL provides a ready-made framework for that, though, for many cases, just exposing "special" words from your code context in Redbol, is usually enough (in both cases, you need to document it). Remain the concurrency cases, how do "special variables" play with that in CL?

maximvl

[17:01](#msg591b305bf3001cd34229ddcc)they are thread-local in CL

[17:02](#msg591b308d2b926f8a67600a98)what do you mean by "just exposing words from your code context"?

geekyi

[17:12](#msg591b331283cb5db073397b53)In Julia, they have multiple dispatch on the datatype. It works similar to `action!`in Redbol

[17:13](#msg591b3335631b8e4e61e0dd8a)They just have it everywhere. It's the main feature of the language

[17:14](#msg591b33712b926f8a67601654)So if you need to extend any function, you simply define a new datatype

[17:15](#msg591b33bd2b926f8a67601830)If we can do that with ports.. I'm fine with that. I don't understand how that would work tho

dockimbel

[17:16](#msg591b33d783cb5db073397eb1)@maximvl See my reply above about the `json` example you submitted.

rebolek

[17:19](#msg591b34b283cb5db073398457)@maximvl @dockimbel That is good idea, so I add `null-value` to `json` context: https://github.com/rebolek/red-tools/blob/master/json.red

[17:22](#msg591b35410a783b6c0aa4b7da)

```
>> json/decode {null}
== none
>> json/null-value: 0
== 0
>> json/decode {null}
== 0
>> json/null-value: func []["supports func also"]
== func []["supports func also"]
>> json/decode {null}
== "supports func also"
```

dockimbel

[17:25](#msg591b360692217cca5881b943)@geekyi Ports &lt;&gt; multiple dispatch. Actions in Redbol are polymorphic on the first argument only, so they are single-dispatch.

geekyi

[17:30](#msg591b372200efc2bb3e737f28)@dockimbel oh. Is such a feature possible?

[17:31](#msg591b3763631b8e4e61e0f694)Sorry, on mobile automatically posted half my thoughts

dockimbel

[17:32](#msg591b37c933e9ee771cb2b2b2)@geekyi I'm not sure, I never gave it a deeper look, so I'm not even sure such feature would be compatible with the Redbol semantics.

[17:36](#msg591b3889f3001cd3422a06c0)Moreover, you can already create wrapper over functions you want to extend, so it's not like it would solve any problem we have. Though, it could still be interesting to dig in, to see if it could bring any value, and if such added value is worth the cost/overhead.

geekyi

[17:37](#msg591b38cd9f4f4ab05bce52ee)Would probably be useful only after we have ports or user types

maximvl

[17:48](#msg591b3b5000efc2bb3e7394bb)@greggirwin ok, I can't find really good example to show off this feature

[17:48](#msg591b3b759f4f4ab05bce60a9)which means there are no reasons to add it and increase complexity of Red

[17:52](#msg591b3c450a783b6c0aa4dad5)@rebolek glad that you found it useful :)  
this idea is not new, actually one of the reasons Unix is so simple is that instead of gracefully dealing with any issue they left it to programmers, returning error codes and other things, so now we have to decide how to handle them in our programs

rebolek

[17:56](#msg591b3d44c4d73f445ab2b27c)@maximvl it was too simple to add it

[17:56](#msg591b3d50d1a7716a0ad1e578)I had no excuse not to do it :)

## Wednesday 17th May, 2017

PeterWAWood

[02:56](#msg591bbbc0d1a7716a0ad3f2eb)@maximvl &gt; @greggirwin it's not root, `func [block /local x] [x: context [] bind block x]` will return you a block binded to a context you don't know anything about

And unless you bind a word to it, it will be garbage collected. As far as I know, whilst values are anonymous, they can only exist if they are bound to a word.

dockimbel

[06:38](#msg591befd283cb5db0733c7553)@pekr Values are alive if they are can be reached, so not just referenced by a word, but just stored in any container type.

pekr

[06:44](#msg591bf15500efc2bb3e7675c6)Shoul go to Peter instead?

dockimbel

[06:49](#msg591bf266631b8e4e61e3d69c)Yes.

PeterWAWood

[06:49](#msg591bf27092217cca58849f29)@dockimbel Thanks.

dockimbel

[06:49](#msg591bf29600efc2bb3e767c95)Sorry for bad wording, doing other things at the same time.

maximvl

[08:05](#msg591c04579f4f4ab05bd1805c)@dockimbel so the smalltalk-like contexts browser is possible?

[08:08](#msg591c04eb00efc2bb3e76cd76)something I worry about is that word's text representation has no information about contexts, so I wonder how can we bind values to text in IDE or something

rebolek

[08:10](#msg591c05910a783b6c0aa81348)You can have text representation for editor and loaded code in memory for other things.

maximvl

[08:11](#msg591c05a7c4d73f445ab5c199) @rebolek so how do you man one to another?

rebolek

[08:12](#msg591c05d200efc2bb3e76d146)That is the question...

maximvl

[08:12](#msg591c05d70a783b6c0aa814dc)let's say the code

```
object [
  x: 5
  y: object [
    x: 3
    z: func [] [x]
   ]
]
```

[08:13](#msg591c06160a783b6c0aa815a4)how will you find out that `x` inside `z` is 3, not 5?

[08:13](#msg591c0647f3001cd3422d384c)I imagine a user clicking on `x` trying to find out which value is inside and maybe inspect it's context

rebolek

[08:15](#msg591c06b69f4f4ab05bd18ac3)If you load that text, you can map both `x`s to right values.

maximvl

[08:16](#msg591c06e42b926f8a67635246)@rebolek I don't get it

rebolek

[08:17](#msg591c070ef3001cd3422d3cd4)Hm, wait a moment...

maximvl

[08:17](#msg591c070f631b8e4e61e43771)@rebolek let's say the func `inspect` inspects values, and user clicks on second `x`, what would you pass to it?

rebolek

[08:17](#msg591c07332b926f8a6763537e)My idea is that you load the code and map each value to index in the source.

[08:18](#msg591c07569f4f4ab05bd18ce9)So when you click on something, you know the index in text source and from that index you can get value in loaded source.

[08:18](#msg591c076f0a783b6c0aa81b87)I haven't tried it yet, but I think it could work.

maximvl

[08:19](#msg591c07972b926f8a67635551)@rebolek hm, interesting

[08:20](#msg591c07b2d1a7716a0ad52428)I'm thinking about having separate text editor and loaded value shown on a side

[08:20](#msg591c07cc2b926f8a676355f7)then clicking things in loaded representation you may call `inspect` with actual values right away

[08:21](#msg591c07f983cb5db0733cea41)but you still edit the text source

[08:21](#msg591c0805d1a7716a0ad525b4)idk if this is useful or not

rebolek

[08:21](#msg591c081a92217cca5884fcbe)The thing that worries me a bit is that you have to `load` the source on each change, probably.

maximvl

[08:40](#msg591c0c6b83cb5db0733d018a)we can try to optimize it, but in general this is inevitable

[08:41](#msg591c0cc39f4f4ab05bd1a4dd)I like the idea of light table, where you have separate pieces of code as separate "entities", while they can actually be from a single file

dockimbel

[08:55](#msg591c10019f4f4ab05bd1b35a)@maximvl  
&gt; @dockimbel so the smalltalk-like contexts browser is possible?

Certainly.  
&gt; something I worry about is that word's text representation has no information about contexts, so I wonder how can we bind values to text in IDE or something

That a research topic, it's a complex issue to solve, they are several options, one could be to build a structured editor (like Lisps have). Do you have more details on how Lighttable solved it for Clojure?

maximvl

[09:01](#msg591c116f631b8e4e61e46573)don't know how they did in Clojure, but I can check it out

[09:02](#msg591c118bf3001cd3422d712b)@maximvl didn't use LightTable, cause Java and it's runtime is too heavy ;)

[09:02](#msg591c11990a783b6c0aa84dec)but I read a lot about design and ideas in it

dockimbel

[09:07](#msg591c12c40a783b6c0aa852f2)The mapping between the source code and the s-expressions is the core feature we could re-use, if it's applicable to Red and efficient enough.

maximvl

[09:09](#msg591c134c631b8e4e61e46dbb)what is a difference between `action!` and `native!`?

rebolek

[09:21](#msg591c161ff3001cd3422d8684)`action!` manipulate datatypes (for each type there is list of actions it supports). `native!` are functions that are written on lower lever mostly for speed or OS access.

dockimbel

[09:29](#msg591c18120a783b6c0aa86c4a)Actions are the \*methods* of the datatypes \*classes\*, they use a table-based single-dispatch. Natives are free-form.

maximvl

[09:30](#msg591c1836631b8e4e61e4857d)how do I define my own action?

dockimbel

[09:32](#msg591c18a9f3001cd3422d94a2)You can't at Red level (only at R/S level). Actions are tied closely to datatypes and the type hierarchy. They define the core Red API.

maximvl

[09:33](#msg591c18f800efc2bb3e772c62)any reason for this?

[09:37](#msg591c19c683cb5db0733d468e)@dockimbel and do we have plans to support writing R/S level code in Red?

rebolek

[09:39](#msg591c1a3d83cb5db0733d49d7)@maximvl in compiler, you have `routine` already. Do you mean in interpreter?

maximvl

[09:39](#msg591c1a4b92217cca58855a74)@rebolek yep, in interpreter

rebolek

[09:39](#msg591c1a6233e9ee771cb659ce)I see. Certainly do not expect it before compiler rewrite in Red.

maximvl

[09:40](#msg591c1a9b92217cca58855bb7)ye, for sure we need Red compiler in Red, the questions is with all this will one be able to add new actions in runtime or not

rebolek

[09:42](#msg591c1afd00efc2bb3e7736a5)You can add them now (when compiled), but keep in mind that you need to add new action for all supported datatypes, it's a lot of code.

maximvl

[09:43](#msg591c1b5492217cca58855f14)I'm trying to understand what should I make an action and what a regular function

rebolek

[09:44](#msg591c1b6283cb5db0733d5095)There's a lot of supported actions, maybe there's already one that does what you want.

maximvl

[09:44](#msg591c1b67c4d73f445ab62f5f)for example, `prefix?` which would check if one series contains another in beginning

[09:44](#msg591c1b7dc4d73f445ab62fae)it can be implemented as `1 = index? find s1 s2`

[09:44](#msg591c1b935e34568d5e62175f)or in more efficient way

rebolek

[09:44](#msg591c1b969f4f4ab05bd1ec44)Just write a function then.

maximvl

[09:45](#msg591c1ba52b926f8a6763b6ac)@rebolek how did you make that decision?

rebolek

[09:45](#msg591c1bb083cb5db0733d51dd)@maximvl it's easier ;)

[09:46](#msg591c1c0e631b8e4e61e496ad)@maximvl if you are interested in actions, take a look at sources in `%datatype/` folder, how they are implemented.

maximvl

[09:48](#msg591c1c5a8a05641b118ee744)I saw this is hardcoded list, this why I assumed users can't change it

dockimbel

[09:48](#msg591c1c66f3001cd3422da92f)@maximvl It would make the implementation more complex to allow them to be created at Red level, and there is no real need for it. You can accomplish the same using natives if you want. Actions are just the reflection of the internal architecture, they provide no special value to users (until we get to user-types). New actions could be considered for inclusion if they can provide useful new features, and be polymorphic enough.

[09:52](#msg591c1d4483cb5db0733d5b33)Though, we can revisit those aspects when we'll come to adding user-types.

[09:52](#msg591c1d6083cb5db0733d5b74)@maximvl  
&gt; @dockimbel and do we have plans to support writing R/S level code in Red?

Yes. ;-)

maximvl

[09:53](#msg591c1d92f3001cd3422daf93)nice, this is a good enough feature just because it allows you to write all the code together and work with repl

dockimbel

[09:55](#msg591c1e109f4f4ab05bd1f94a)R/S is an unsafe language, so working with it from the REPL is counter-productive, each runtime error will make the REPL exit (which is desirable, as R/S can easily corrupt the memory in subtle ways, so closing the process is the safest thing to do in such cases).

maximvl

[09:56](#msg591c1e3692217cca58856d51)oh, can't we handle this?

dockimbel

[09:57](#msg591c1e6e0a783b6c0aa88984)No, this should not be handled, but it should be left to crash.

maximvl

[09:57](#msg591c1e6e9f4f4ab05bd1fa69)or, can't we make it safe? :)

dockimbel

[09:57](#msg591c1e8492217cca58856f07)Sure, you can make it safe by removing most of its features and killing its purpose. ;-) So that Red users will have to use C language to do the work that was previously possible with R/S...

maximvl

[09:57](#msg591c1e9f33e9ee771cb66d20)wait, Rust provides safety and low-level features together

[09:58](#msg591c1ebec4d73f445ab63e89)I mean, it is possible

9214

[10:00](#msg591c1f2683cb5db0733d646f)`rust` dialect or what? :D

maximvl

[10:00](#msg591c1f54f3001cd3422db6b7)well, I would say `safe` mode should be the default, as in Rust, and `unsafe` should allow you to do any dirty things you wish

dockimbel

[10:01](#msg591c1f7a5e34568d5e622975)No, many low-level features are unsafe by nature, whatever the language. Rust makes many common manipulations safer, but there are still many cases where it's simply not possible (or then you limit the language abilities). For example, R/S can do things which are not available in C nor in Rust, like reading/writing the stack register and frame register, or pushing/popping on the native stack directly.

maximvl

[10:02](#msg591c1fb7631b8e4e61e4a73a)the whole purpose, at least as I see it, to allow you write code which will be very efficiently compiled with safety guarantees even if this cost you some features

[10:03](#msg591c1fd5f3001cd3422db91e)&gt;like reading/writing the stack register and frame register, or pushing/popping on the native stack directly

dockimbel

[10:03](#msg591c1fd59f4f4ab05bd20074)Yes, we could add a `safe` mode later in R/S, though, there is always a price to pay for that, like extra verbosity, boilerplate code, annotations for the compiler and complex rules (like ownership/borrowing in Rust).

maximvl

[10:03](#msg591c1fd700efc2bb3e774c7f)oh wow

dockimbel

[10:03](#msg591c2005c4d73f445ab6447a)@maximvl Have you read the R/S documentation to see what it can do?

9214

[10:03](#msg591c200e92217cca588575a5)AFAIK there's some sort of `secure` dialect in Rebol, maybe safe R/S features can be part of it?

maximvl

[10:04](#msg591c2012c4d73f445ab644d2)@dockimbel I would say it's a good feature to have anyways, if you want safety - use it, you want features - you don't, as simple as that

toomasv

[10:04](#msg591c20132b926f8a6763cd14)One view on actions: https://github.com/toomasv/red-type-hierarchy/blob/master/Red-actions-by-types.pdf

maximvl

[10:04](#msg591c202200efc2bb3e774e54)@dockimbel not yet, sorry

dockimbel

[10:04](#msg591c204283cb5db0733d6959)@maximvl Sure, I just want to point out that "safe" does not come for free (most of the time, it comes with high price).

maximvl

[10:05](#msg591c205c5e34568d5e622d3d)that's for sure

[10:05](#msg591c20805e34568d5e622dfb)I just think that most use cases to use R/S would be to make program faster

[10:05](#msg591c2085f3001cd3422dbd0c)not to manipulate stack and so on

[10:07](#msg591c20c65e34568d5e622f0e)and this is exactly the part I would like to have access from repl to

9214

[10:07](#msg591c20c78a05641b118eff62)user should be free to decide whenever he wants to shoot only his foot or whole leg :gun:

dockimbel

[10:10](#msg591c21af0a783b6c0aa89939)R/S is for system programming and low-level interfacing. It can be used for accelerating code, but, if you want speed+safety, R/S is not the best target. We have other plans for that.

JacobGood1

[15:25](#msg591c6b6d00efc2bb3e78be25)@geekyi mulitple dispatch has been around forever in lisp land, I was advocating for its inclusion into red in the lisp channel a while back. I was able to add it to red in an interesting way... it is somewhere in the nether regions of my computer though

[15:30](#msg591c6c7d2b926f8a676551fd)However, I do have reservations about multiple dispatch after mastering coroutines. Coroutines are a more powerful abstraction imo, declaring methods outside of an object does not mix well with coroutines in my experience.

maximvl

[15:30](#msg591c6caf92217cca5886fcc5)&gt;declaring methods outside of an object does not mix well with coroutines in my experience.

[15:31](#msg591c6cc45e34568d5e63b434)@JacobGood1 how is this so? it works in CL afaik

[15:31](#msg591c6cec5e34568d5e63b569)@maximvl thinks multiple dispatch is more like an object system feature

JacobGood1

[15:33](#msg591c6d4f00efc2bb3e78c9ad)@maximvl Where do you place your coroutine?

maximvl

[15:34](#msg591c6d869f4f4ab05bd389a1)what do you mean `where`? where you need :)

[15:35](#msg591c6db05e34568d5e63b920)I may be wrong, but I think CL keeps global object system, so change in one thread/coroutine affects other places as well

JacobGood1

[15:36](#msg591c6e1a8a05641b119081c7)you said "it works in CL afaik", I was curious about how you have made it work there. I have used coroutines in cl, I was not impressed.

maximvl

[15:37](#msg591c6e4000efc2bb3e78cf08)I need to check it

JacobGood1

[15:40](#msg591c6ef9631b8e4e61e63f88)I like to think of objects as containers of state, If I want to reflect on an objects current state, the logical place for a coroutine is inside the object. A method inside an object is antithetical to methods outside of an object. Thus, I see coroutines as a mismatch with multimethods.

## Thursday 18th May, 2017

Oldes

[11:02](#msg591d7f53c4d73f445abc33cc)@dockimbel I just noticed, that in Red:

```
>> 5 / 10
== 0
```

while in Rebol the result would be `0.5`. I know that I'm dividing integers, but is it by design or not?

toomasv

[11:03](#msg591d7f7b0a783b6c0aae97cc)

```
>> to-float 5 / to-float 10
== 0.5
```

Oldes

[11:04](#msg591d7fabeec422e415c4f6c0)I know... just asking if it is desired behavior as it is quite big incompatibility with Rebol.

[11:05](#msg591d7fe2c4d73f445abc36b1)Btw... it is enough to do:

```
>> 5.0 / 10
== 0.5
```

[11:06](#msg591d801b83cb5db0734361df)I don't say it must be changed, just if it is known.. which probably is.

rebolek

[11:17](#msg591d82cd33e9ee771cbc751f)@old It is by design, there was already discussion about it.

PeterWAWood

[11:18](#msg591d831833e9ee771cbc75f8)@Oldes There have been a number of discussions about "integer division". If I remember correctly, 5 / 10 will return 0.5 at some time in the future and there will be a different operator (possibly //) to provide the "integer division".

Oldes

[11:19](#msg591d83492b926f8a6769dbae)Ok... my memory is not as used to be:)

meijeru

[15:58](#msg591dc49a00efc2bb3e7e9fda)I have the following fundamental questions about the allowable types for arithmetical operations (and perhaps other functions as well):  
1\. I suppose is useful to NOT restrict the two arguments to be of exactly the same type, e.g. to be able to add an integer to a float; can everyone agree?  
2\. that being so, if an operation admits arguments of type1 and type2 in that order, should it also admit arguments of type2 and type1? if the answer is YES, there are numerous exceptions in the current implementation, see e.g. issue #2637 (integer + vector vs. vector + integer)  
3\. if YES, should the result type be the same in both cases? again, in the current implementation, this is not always true (e.g. char + integer vs integer+ char)  
I have a full list for all arithmetical ops and all their allowable argument types, available on request. I have not made issues for all of them (yet).

luce80

[18:05](#msg591de25a92217cca588d5d99)@PeterWAWood I hope current implementation will not be changed (or will be change sooner then later) otherwise all code with (integer) divisions created from now to then will be broken in the future.

rebolek

[18:09](#msg591de3772b926f8a676bc9fe)@luce80 Red is still in alpha, so you have to expect major changes that will break your code.

[18:11](#msg591de3cf83cb5db073456631)They are not frequent, but they do happen in alpha.

iArnold

[18:29](#msg591de81e9f4f4ab05bd9dbf7)@meijeru Interesting questions. But it can depend what the result should be. Think about it like matrix multiplication 4by3 matrix times 3by4 gives different thing than the 3by4 times 4by3. So integer! + char! I could expect integer! result and char! + integer! I could expect another char!

geekyi

[19:52](#msg591dfb6ef3001cd342360fc1)In other words, should arithmetic ops commute? I feel yes. @meijeru would be nice to have a table somewhere.. Maybe in the wiki?

[19:59](#msg591dfd0a83cb5db07345df20)Should it commute for other ops? I'm not sure, but I don't think so. Also, multiplication isn't commutative with higher dimensional numbers (octonions) so there's that..

meijeru

[20:26](#msg591e038b33e9ee771cbeebbe)The table you want is 3-dimensional: operator x type1 x type2. I have put up the results in list form \[here](https://gist.github.com/meijeru/94a9b3a2fb131a4011e24b1e9fde561b)

[20:27](#msg591e03ad5e34568d5e6ab123)Caution it is a long list, and probably the entries are repetitive for each operator. Enjoy!

## Friday 19th May, 2017

dockimbel

[04:01](#msg591e6e21eec422e415c8e2e3)@meijeru My quick answers about that:  
1\. Yes, of course  
2\. Yes, we should allow different types. The current implementation for some operation is missing some parts, we can complete them once they are listed.  
3\. Not necessarily, the resulting type can have an affinity with the left operand type, with exceptions (like `integer! op float!`).

PeterWAWood

[10:43](#msg591ecc422b926f8a676f2840)@dockimbel The discussion of integer division return a floating point answer leads me to another question. Should

```
2147483647 + 1
```

give an overflow error as now or actually return

```
2147483648.0
```

?

It seems to fit with the paradigm that numbers are just numbers ( 1 / 2 = 0.5) rather than being two completely separate types integers or float. Visual Basic/JavaScript vs C.

[10:47](#msg591ecd2f0a783b6c0ab40693)Keeping a strict separation between integers and floats would seem to be beneficial for people writing lower level code whereas treating numbers as a "mixed-type" would it easier to write higher level code.

(Again, a logical conclusion of this latter approach would be to return

```
1.#INF
```

from

```
1 / 0
```

. )

[10:48](#msg591ecd84c4d73f445ac18897)I am not advocating for either approach but I believe that one of them should be chosen and applied consistently.

dockimbel

[12:20](#msg591ee31c2b926f8a676f92d7)Consistency is not always the best option for edge cases, for example `1 / 0` should error out, otherwise you cannot catch division by zero on integers accurately, the `1.#INF` will cause havoc in your code somewhere else. OTOH `1 / 2 = 0` is no-go either (I'm waiting to have the integer division op available to change that to auto-promote the result to float when needed).

[12:25](#msg591ee4450a783b6c0ab4691f)For the `2147483647 + 1` edge case, I think an error is more helpful in the general case, to signal an "datatype overflow".

[12:28](#msg591ee4d792217cca58912993)I also think that we need arbitrary large number support, and then we should be able to provide a smooth transition between number types by default, while allowing to disable the auto-upgrading mechanism locally when wanted.

PeterWAWood

[12:29](#msg591ee523f3001cd342397bfb)That all sounds good even the division exception.

dockimbel

[12:30](#msg591ee54983cb5db0734941a5)Though, we could introduce such auto-upgrading control already, but I'm not sure how it could be implemented.

## Saturday 20th May, 2017

ZETROzky\_twitter

[10:01](#msg592013ea0a783b6c0ab8e8be)Bug : Red doesn't install on Windows 10 Pro Insider Preview Build 16199

[10:01](#msg59201408eec422e415cf3593)Do you need to manually add in support code or is this fixable by me?

[10:02](#msg5920141deec422e415cf35ac)I've tried the compatibility modes on 8 and 7

[10:02](#msg59201429fa63ba2f765fd0b6)Still didn't work

[10:02](#msg59201443631b8e4e61f50bd5)Should I file an issue on GitHub?

[10:16](#msg59201799c4d73f445ac6802e)Ok I filed an issue under https://github.com/red/red/issues/2698

dockimbel

[10:45](#msg59201e31c4d73f445ac69a0e)@ZETROzky\_twitter Do you have an anti-virus software running?

ZETROzky\_twitter

[10:46](#msg59201e732b926f8a67745c73)No

[10:46](#msg59201e8b631b8e4e61f52ecf)The only thing I have running is Windows Defender

dockimbel

[10:52](#msg59201ff1fa63ba2f765ff56a)It is most probably related to a system DLL version causing trouble, like the C library.

ZETROzky

[10:53](#msg5920203e5e34568d5e72c906)I see

[10:54](#msg5920204d2b926f8a67746345)@ZETROzky\_twitter damnit

[10:59](#msg5920218c33e9ee771cc6f31a)I shall have to delete this other account then.

[10:59](#msg592021a8eec422e415cf6469)@dockimbel Anything you can do?

dockimbel

[11:00](#msg592021e1f3001cd3423e2c03)@ZETROzky Installing Visual C++ 2010 redistribuable package for x86 might fix your issue: https://www.microsoft.com/en-hk/download/details.aspx?id=5555

ZETROzky

[11:04](#msg592022c7f3001cd3423e2f0d)@dockimbel already installed

dockimbel

[11:06](#msg5920235392217cca5895e01c)Then it might be a missing DirectX 32-bit library, try installing the xinput1\_3.dll file from \[this package](http://freewisdoms.com/download-dll-files-commonly-used-by-games/), it \[seems to fix](https://www.tenforums.com/gaming/9833-0xc000007b-error.html) such kind of issue on Win10. Long explanations \[here](https://www.thewindowsinsider.org/fix-0xc000007b-application-error-windows-10/).

[11:17](#msg592025adf3001cd3423e3a80)Basically you should have those DLLs present in C:\\Windows\\System32 folder:

mfc100.dll  
mfc100u.dll  
msvcp100.dll  
msvcr100.dll  
msvcr100\_clr0400.dll  
xinput1\_3.dll

ZETROzky

[11:17](#msg592025c100efc2bb3e87e435)And how would I install that

[11:17](#msg592025d692217cca5895e855)Like do I just copy it to a directory or..?

[11:17](#msg592025e192217cca5895e870)OK nvm them

dockimbel

[11:18](#msg592025ed9f4f4ab05be250d0)Just copy the files (might need admin rights for that). If it still doesn't work, trying installing also the 64-bit files.

ZETROzky

[11:21](#msg592026b30a783b6c0ab92d43)The XInput 1.3 is missing

[11:21](#msg592026b400efc2bb3e87e82d)I'm going to install that

[11:35](#msg59202a0333e9ee771cc70f76)Still doesn't work

dockimbel

[11:36](#msg59202a28631b8e4e61f55829)Have you tried putting the 64-bit libs too?

ZETROzky

[11:46](#msg59202c97c4d73f445ac6c9a7)Yes, I have

[11:50](#msg59202d932b926f8a6774934a)@dockimbel If you mean installing C++, I've also done that. SysWOW64 as well.

dockimbel

[11:52](#msg59202e022b926f8a67749407)Then, it might be an Insider Build specific issue. I'm updating my Win10 image for re-testing with latests patches, but I didn't have any issue running Red on it so far.

ZETROzky

[11:56](#msg59202f08f3001cd3423e5c41)Alright

dockimbel

[11:58](#msg59202f57eec422e415cf95f3)We'll see if we can install an Insider version here for testing. Meanwhile, as that doesn't look like a Red-specific issue, though, searching more online might bring some solution.

ZETROzky

[11:58](#msg59202f689f4f4ab05be271d8)Ok

dockimbel

[12:01](#msg592030189f4f4ab05be273a1)@ZETROzky One thing you could do for helping isolate the cause of the issue could be to run \[Procmon](https://technet.microsoft.com/en-us/sysinternals/processmonitor.aspx) monitor while launching Red, and seeing which DLL the OS can't find.

[12:01](#msg59203027f3001cd3423e60f8)Moreover, have you tried running Red with admin rights?

ZETROzky

[12:01](#msg592030325e34568d5e730454)&gt; Moreover, have you tried running Red with admin rights?

A long time ago

[12:02](#msg5920306100efc2bb3e880567)&gt; @ZETROzky One thing you could do for helping isolate the cause of the issue could be to run \[Procmon](https://technet.microsoft.com/en-us/sysinternals/processmonitor.aspx) monitor while launching Red, and seeing which DLL the OS can't find.

Going to try that.

dockimbel

[12:03](#msg5920307a92217cca58960df4)You should try it now, just in case it's a DLL access right issue.

ZETROzky

[12:03](#msg5920309700efc2bb3e880628)Downloading

[12:07](#msg592031645e34568d5e730735)Wait how do I log something?

[12:07](#msg59203172c4d73f445ac6db4b)The installer isn't even showing up in procmon

[12:16](#msg592033985e34568d5e730e79)Nvm

[12:16](#msg5920339eeec422e415cfa54c)Ok so here's the log

[12:29](#msg592036919f4f4ab05be28d73)It's on the GitHub issue page. I'm sorry for the delay

[12:30](#msg592036f25e34568d5e731b55)I probably won't be available for another two days, I'll be back on Monday.

dockimbel

[12:32](#msg592037485e34568d5e731c83)@ZETROzky Thanks, looking at it...

[12:45](#msg59203a7e9f4f4ab05be29c79)No conclusive info from the procmon logs, the crush DLL is built in the right place.

pekr

[16:59](#msg592075ec0a783b6c0aba469b)strange, my win 10 setup never showed any problems so far. Well, that surely does not help your case, just sayig ...

ZETROzky

[19:06](#msg592093a0f3001cd3423fbff0)Genius

angellom1

[19:51](#msg59209e2900efc2bb3e898775)is possible json with Red ?

## Sunday 21st May, 2017

dockimbel

[03:50](#msg59210e70f3001cd34241474e)@angellom1 Yes, there is at least one JSON lib from @rebolek \[there](https://github.com/rebolek/red-tools/blob/master/json.red).

justinant

[06:05](#msg59212e3f5e34568d5e76424c)Greetings all. @dockimbel How goes the Red-Lang port to Linux/AMD64?

PeterWAWood

[07:11](#msg59213d8efa63ba2f7663a2b7)It is not yet planned.

justinant

[07:21](#msg59213fde0a783b6c0abcbaa8)@PeterWAWood Thanks. Kind of disappointing, I was looking forward to a "better" Rebol with wider support for more devices. Until then I just have to suffer JavaScript 8-(

dockimbel

[07:38](#msg592143d9f3001cd34241dfc8)@justinant Current Red version runs fine on Linux/64-bit, provided that you have installed the 32-bit support libs (as instructed on the Download page).

justinant

[07:46](#msg592145d89f4f4ab05be5f292)I did the install as per the instructions a few weeks ago, but the issue was calling code with VIEWS ...

dockimbel

[07:54](#msg592147bc00efc2bb3e8b87b3)GUI support is not ready on Linux, though there is a partial implementation in the GTK branch.

justinant

[07:57](#msg59214879631b8e4e61f8f392)Yeah well GUI support is what I really want. I looked in the GTK repo and saw the current items, as you said "a partial implementation".Any idea when the port to GTK3 will/may occur? Months?

iArnold

[08:06](#msg59214a75fa63ba2f7663c9fd)The GTK3 branch now has a low priority. As the development team is only a few persons it is impossible for them to do all at once. Other area's have priority for now, you can consult the Trello board for more info about planning. The other thing you can do is to help out in developing GTK3 and other features you think are important for you. A small start has already been made, but unfortunately dicontinued.

justinant

[08:12](#msg59214bf12b926f8a67782d7f)I would if I could, gladly.

dockimbel

[11:28](#msg592179ec00efc2bb3e8c3727)@justinant No ETA, as there is nobody available to work on it.

## Monday 22nd May, 2017

meijeru

[15:01](#msg5922fd3d92217cca58a05d2e)I asked a question in a comment to commit `aa5c360` but I think I better ask it here: "Is event! now both internal! and external! ??"

dockimbel

[15:30](#msg5923040b2b926f8a677efe96)@meijeru No, it's just an unfinished change... I'm fixing it right now.

DraconG74\_twitter

[16:50](#msg592316cbc4d73f445ad1a894)Hello to all. May I ask a question please?

[16:52](#msg592317529f4f4ab05becfe68)How can I execute the installation file (i.e., .dms) for macOS ?

rebolek

[17:14](#msg59231c7505e3326c67fa3abf)@DraconG74\_twitter Hi! I am not sure I understand your question, do you want to execute .dms under Red?

luce80

[19:05](#msg5923367400efc2bb3e936a05)

```
Red []
test: routine [
	i [integer!] return: [integer!]
	][
	i: 0
	i: i
]

Compiling to native code...
*** Compilation Error: wrong return type in function: exec/test
*** expected: [integer!], found: [none]
*** in file: %test.red
*** in function: exec/test
*** at line: 332
*** near: [
    i: i
]
```

## Tuesday 23th May, 2017

rokf

[07:13](#msg5923e13200efc2bb3e960371)@DraconG74\_twitter You're asking how to execute the red executable file you downloaded from the website?

pekr

[07:21](#msg5923e2ec631b8e4e6103464f)I am getting error compiling gui-console from the master. Is that a known issue?

[07:22](#msg5923e319eec422e415dd3f35)

```
>> rc "-t Windows %environment/console/gui-console.red"

-=== Red Compiler 0.6.2 ===-

Compiling C:\!Red\red\environment\console\gui-console.red ...
...using libRedRT built on 22-May-2017/14:22:23+2:00
...compilation time : 335 ms

Target: Windows

Compiling to native code...
*** Compilation Error: undefined context gui
*** in file: %/C/!Red/red/environment/console/terminal.reds
*** at line: 1478
*** near: [
    with gui [
        #script %/C/!Red/red/environment/console/windows.reds
```

dockimbel

[07:23](#msg5923e35dfa63ba2f766e4e97)@luce80 Assignments are statements in R/S, they return no value. Such feature is left for future versions.

pekr

[07:24](#msg5923e3922b926f8a6782ab36)I tried to delete `libRedRT.dll`to have it created from again. Did not help. I noticed there was some change to the compilation process, previously, when using `-t`, libRedRT was not created, or so I remember ...

dockimbel

[07:46](#msg5923e8b8fa63ba2f766e693d)@DraconG74\_twitter There is no installer for Red, you download an executable that you use from the terminal. On first use, it will take a minute to precompile a console and launch it.

PeterWAWood

[08:27](#msg5923f277eec422e415dd83ba)@pekr The GUI console compiled fine for me using the

```
-r
```

flag.

[08:27](#msg5923f28efa63ba2f766e9a19)

```
text
rebol -qs red.r -r -o gui-console.exe -t windows environment/console/gui-console.red
```

ZETROzky

[08:38](#msg5923f5075e34568d5e80f100)OK I'm back. Any fixes?

pekr

[08:40](#msg5923f578f3001cd3424cc050)@PeterWAWood Thanks, `rc "-r -t Windows %environment/console/gui-console.red"`did it. I compile manually from the R2 console ...

PeterWAWood

[08:43](#msg5923f62492217cca58a48312):+1:

Oldes

[09:00](#msg5923fa4605e3326c67fd991f)Sorry to be off topic a little bit... I noticed that I'm not able to load library in Rebol on Windows 10 while it is working fine on Windows 7... does anybody know if there is some workaround? System libraries like `kernel32.dll` are fine, just `imagemagick`'s dll is not loadable. In Red I can use this dll without problem, so it must be some Rebol problem. Unfortunately I must run my script under Cheyenne server, which is not yet ported to Red:/

pekr

[09:04](#msg5923fb2f2b926f8a6783239b)Aren't those lib for e.g. 64bit ones? (not that I know if there is any difference though)

Oldes

[09:07](#msg5923fbe85e34568d5e810e2a)No.. as I said... I'm using the same libs in Red without problem. It must be some stupid security modification in Windows 10, because I was using it for years under Windows 7 without any issue.

dockimbel

[09:09](#msg5923fc4092217cca58a4a014)@ZETROzky From all the info gathered so far, it seems to be a Windows Insider issue, not a Red issue. Red works fine on latest regular Win10. I don't have an Insider version to test, so can't investigate further.

pekr

[09:10](#msg5923fc6eeec422e415ddb533)@Oldes can you point me toward some lib example? Would try using my Win10 version ...

Oldes

[09:11](#msg5923fcba00efc2bb3e9682be)It will not help me.. because system libs are ok... like:

```
>> l: load/library %kernel32.dll ? l
L is a library of value: library
```

[09:12](#msg5923fcf192217cca58a4a380)I need this one:)

```
>> l: load/library %CORE_RL_wand_.dll
** Access Error: Cannot open CORE_RL_wand_.dll as library
** Near: l: load/library %CORE_RL_wand_.dll
```

dockimbel

[09:12](#msg5923fcf805e3326c67fda4c8)@Oldes Probably a search path issue, try copying that lib to system32 folder. You can also use Procmon to track the search paths used by your Windows instance.

[09:13](#msg5923fd259f4f4ab05bf0a7d2)@Oldes You should also check if the dependencies for that lib are available.

Oldes

[09:15](#msg5923fdc65e34568d5e8116fd)It must be some issue in Rebol under Windows10... the libraries are fine.. I'm using the same in Red.. it is just that I have not ported everything to Red yet. Copying dlls into system32 does not help.. never mind. I can do what I need when I will be back on Windows 7.. and hopefully we will have Red-Cheyenne too:)

[09:18](#msg5923fe4892217cca58a4aaa3)Or I could use `call` from Cheyenne to evaluate the part where images are processed in Red.

pekr

[09:18](#msg5923fe7c5e34568d5e811a30)off topic here, but hopefully ok .... my try:

[09:19](#msg5923fe8600efc2bb3e968c16)

```
>> l: load/library %core_RL_cairo_.dll
>> type? l
== library!
```

dockimbel

[09:19](#msg5923feb4f3001cd3424cf134)@Oldes Using libRed, you should be able to create a Red module for task-master in Cheyenne, and run Red scripts from the Rebol worker. ;-)

pekr

[09:19](#msg5923feb4eec422e415ddc22e)Installer claimed it is altering my path, but I did not reboot. Copied the library to where my rebol.exe resides and I could read it. I downloaded 32 bit (x86) distro ...

[09:20](#msg5923fec1fa63ba2f766ed6ff):-)

[09:20](#msg5923fee4f3001cd3424cf296)Am I right assuming, that with the next Red version, something like `load/library`is coming to Red?

Oldes

[09:24](#msg5923ffbb631b8e4e6103cb4d)@dockimbel interesting idea:) @pekr hm... so it looks Rebol don't like that I have so many ImageMagick versions on my computer.

[09:39](#msg5924035c05e3326c67fdc489)@pekr `load/library` is planed, but not necessary as we already have Red/System.

meijeru

[09:49](#msg592405a72b926f8a67835930)I have updated my table of operand and result types for all arithmetic operations. It is now much more compact and readable. Find it \[here](https://gist.github.com/meijeru/94a9b3a2fb131a4011e24b1e9fde561b) Quite a number of anomalies are already subject of issues submitted by me, but proponents of consistency can still find some intrigueing stuff...

dockimbel

[10:08](#msg59240a25fa63ba2f766f0d68)@meijeru Thanks, that's very useful to spot missing parts. We'll also see how to combine better the two conflicting rules: operator commutativity and left type affinity.

AlexanderBaggett

[16:11](#msg59245f2d5e34568d5e82f23e)Hey guys, I think I discovered a bug or perhaps just undesirable behavior for `VID` . There is a way to create a series of windows on windows that will lock-up the REPL.

[16:12](#msg59245f5a0a783b6c0ac9430b)This code will lockup the REPL in windows 10 if you paste it into the REPL and click both buttons.

[16:12](#msg59245f8292217cca58a69bb8)

```
p: layout [ 
            button "Create" [
                do view [
                    button "Lockup Red REPL"[
                        unview/only p ;close the parent window
                        view p ; re-open the parent window
                        unview ; close the child window
                        unview p ;close the parent again  now the REPL is locked up
                    ]
                ]
            ]
]
view p
```

[16:14](#msg59245fcf5e34568d5e82f4d9)@greggirwin , can you test this on Windows 7 as well?

geekyi

[16:23](#msg59246208631b8e4e6105bde9)@AlexanderBaggett pasting not working: prompting `[` here; and @greggirwin is probably away

AlexanderBaggett

[16:27](#msg592462f305e3326c67ffbf45)Well the basic idea is simple. You create a window. You create a child window. You close the parent window from an event from the child window. After doing that the REPL is locked. Even if you close the child window, or re-open and reclose the parent window from the child window, the REPL stays locked.

toomasv

[16:29](#msg5924635b9f4f4ab05bf2a372)@AlexanderBaggett Confirmed, on W7 REPL becomes unresponsive also.

geekyi

[16:29](#msg592463822b926f8a67855011)@AlexanderBaggett I see, part of it is remaining?

[16:30](#msg592463a805e3326c67ffc30b)Works when I paste individually, I wonder why pasting all of it at once doesn't work..

toomasv

[16:31](#msg592463cffcbbe1891c391830)@geekyi It is pasted as single line - so comments distort the thing.

AlexanderBaggett

[16:31](#msg592463ed00efc2bb3e98913c)Oh, sorry guys. Would it be easier to paste without the comments?

JacobGood1

[16:32](#msg5924641a631b8e4e6105cb2a)Good post on why most async approaches suck: http://journal.stuffwithstuff.com/2015/02/01/what-color-is-your-function/

Hopefully, red will avoid these problems.

AlexanderBaggett

[16:32](#msg5924642d05e3326c67ffc574)

```
p: layout [ 
            button "Create" [
                do view [
                    button "Lockup Red REPL"[
                        unview/only p 
                        view p 
                        unview 
                        unview p 
                    ]
                ]
            ]
]
view p
```

geekyi

[16:34](#msg592464affcbbe1891c391df0)@AlexanderBaggett I should mention https://gitter.im/red/bugs for future ref

AlexanderBaggett

[16:45](#msg592467119f4f4ab05bf2b553)@geekyi , thanks. I will post it there too.

rebolek

[17:12](#msg59246d8feec422e415dfe8a1)@AlexanderBaggett shouldn't you have `unview/only p` instead of `unview p` on last line in button action?

[17:13](#msg59246dc3c4d73f445ad7a837)

```
p: layout [ 
            button "Create" [
                do view [
                    button "Lockup Red REPL"[
                        unview/only p 
                        view p 
                        unview 
                        unview/only p 
                    ]
                ]
            ]
]
view p
```

[17:14](#msg59246dfa2b926f8a67858355)`unview` does not take any arguments, `unview/only` does.

geekyi

[18:41](#msg5924825d05e3326c670055ac)Moved conversation :point\_right: : \[May 23, 2017 11:37 PM](https://gitter.im/red/bugs?at=5924815bfa63ba2f76718fad)

[18:53](#msg5924853bfa63ba2f7671a3ab)This is an interesting experiment to make a bot: https://github.com/chaosbot/chaos

[19:27](#msg59248d1ffcbbe1891c39dc84)Anybody with experience installing red on linux should try to get red on there ;)

[19:29](#msg59248db6631b8e4e61069b1f)@JacobGood1 :point\_up: \[May 23, 2017 9:32 PM](https://gitter.im/red/red?at=5924641a631b8e4e6105cb2a)  
&gt;“red functions can only be called by red functions”

:p irrelevant pun  
But on topic, I think what you're trying to say is.. something like co-routines? (go-routines? :p) I've a feeling I read this before..

AlexanderBaggett

[20:33](#msg59249c89631b8e4e6106e8ed)Why make it complex? if `do` will do stuff on the current thread, why not have something like `do/new` to do stuff on a new thread.

geekyi

[20:35](#msg59249d12eec422e415e0cac5)@AlexanderBaggett that's the interface. Probably the implementation is the hard part

[20:35](#msg59249d2ec4d73f445ad889f4)How would `do/new` return data to the original thread for instance?

[20:36](#msg59249d5efa63ba2f7672177b)But that's an idea.. `reduce/parallel`

AlexanderBaggett

[20:37](#msg59249d71631b8e4e6106ec66)`x: do/new [1 + 2]`

[20:37](#msg59249d89fcbbe1891c3a2e3d)`reduce/parallel` hmm what does it do?

[20:37](#msg59249d9c631b8e4e6106ed51)erm, what would you like it to do?

geekyi

[20:39](#msg59249df75e34568d5e841cb5)Like `reduce`, but it does every new evaluation on a new.. whatever parallel mechanism

AlexanderBaggett

[20:39](#msg59249e02f3001cd342501d42)hmm

[20:40](#msg59249e51fa63ba2f76721d36)what if parallelism could be done declaratively?

geekyi

[20:42](#msg59249eb5f3001cd34250219a)

```
x: reduce [func-a data1 func-b data2]
y: do/new data1 do/new data2
print x    ; <- hard part is here, what should it do now?
print y
```

AlexanderBaggett

[20:43](#msg59249ed85e34568d5e8420fe)hmmm

[20:43](#msg59249ee1c4d73f445ad89272)we would need more refinements

[20:43](#msg59249ef4c4d73f445ad892a1)do/new/wait make it wait for the value

geekyi

[20:44](#msg59249f182b926f8a67867224)We already have that. Syntax is easy, implementation is harder

AlexanderBaggett

[20:44](#msg59249f1f0a783b6c0aca689d)but if its not waiting, and its not ready yet. then it would return none

[20:44](#msg59249f2d9f4f4ab05bf3c094)you would need to check it for none in a loop I guess

[20:46](#msg59249f90eec422e415e0d884)maybe `print wait x`

[20:47](#msg59249fe00a783b6c0aca6cc9) but really, if you get there and its not ready, it should return `none`

geekyi

[20:47](#msg59249fec0a783b6c0aca6d07)&gt; what if parallelism could be done declaratively?

Can do, in fact there are different models for this: threads, coroutines, actors and async (io, etc) is just one way best suited for code.. ui, network, etc  
If you're dealing with a list of same type of data, it's in one way easier: I think this is called \*\*data parallelism\*\*, what you probably mean by \*declarative\*? (may be wrong on the terminology tho)

AlexanderBaggett

[20:48](#msg5924a03a05e3326c6700e80d)When I say declaritively, I mean vs proceedurally. Like XML config files vs setting a bunch of values in a code.

geekyi

[20:51](#msg5924a0b6c4d73f445ad8999b)https://en.wikipedia.org/wiki/Flynn%27s\_taxonomy (see the diagram)

[20:51](#msg5924a0caf3001cd342502a6b)What I mean by the different models / categories

[20:53](#msg5924a14cfa63ba2f76722a9d)GPU is mostly \*SIMD* and possibly(?) \*MIMD* . Normal cpu is usually the rest of it, but also has limited support for \*SIMD*

[20:54](#msg5924a19b00efc2bb3e99bb4a)It's a bit old classification now, we kinda have hybrids (cpu and gpu on the same die, etc. (Heterogenous architecture from amd??)). But the model still holds fundamentally

[20:58](#msg5924a2659f4f4ab05bf3ce84)Also, \[Parallel\_programming\_model](https://en.wikipedia.org/wiki/Parallel\_programming\_model) explains in detail what I have talked about.  
Talking of declarative, \[Dataflow\_programming](https://en.wikipedia.org/wiki/Dataflow\_programming) is actually more relevant.. because reactive programming is a subset of it, red and all competitors more or less use it (elm, eve, react js/native)

## Wednesday 24th May, 2017

meijeru

[06:19](#msg592525ddfcbbe1891c3c2859)I noticed that `make routine!` is forbidden, and that a `routine!` value can only be "made" by invoking `routine` which is treated by the compiler, but not by the interpreter: there the function `routine` is used which is defined in `%environment/functions.red` and which does nothing but raising an error. This seems a roundabout way of achieving the goal: preventing a routine to be defined and used in the interpreter. After all, there is `system/state/interpreted?` to check if one is in the interpreter. Thus, `make routine!` could be implemented with that check.

dockimbel

[07:19](#msg5925341605e3326c6703157d)@meijeru I'm not sure to understand where you want to go, what would `make routine!` do?

meijeru

[18:59](#msg5925d80000efc2bb3e9f2b30)The same as `routine` does now, but it's more orthogonal... Like `func` is essentially `make function!`, but one can still use `make function!` itself.

[18:59](#msg5925d80c9f4f4ab05bf92c2e)It's my preoccupation wth consistency.

dockimbel

[19:59](#msg5925e6140a783b6c0ad02ea3)@meijeru Having `make routine!` return an error in all cases would be very odd, promising something to the user it cannot deliver.

meijeru

[20:12](#msg5925e91d05e3326c6706e07e)But it need not return an error in case of compilation. I suppose `make function!` is also compiled without any problem!

greggirwin

[23:35](#msg592618a5c4d73f445adf59b5)@maximvl

&gt; check if one series contains another in beginning

`find/match`

&gt; I just think that most use cases to use R/S would be to make program faster

Greenspun's 10th Law. As a CL guy, you should know that. ;^)

[23:37](#msg59261957631b8e4e610dd5e9)@toomasv and @meijeru, nice tables!

## Thursday 25th May, 2017

greggirwin

[01:55](#msg592639a8f3001cd342577444):point\_up: \[May 23, 2017 10:32 AM](https://gitter.im/red/red?at=5924641a631b8e4e6105cb2a) @JacobGood1, that's a fun read. Thanks for linking to it.

dockimbel

[02:54](#msg59264763c4d73f445adff35a)@meijeru I thought you were talking about interpreted code... Yes, `make routine!` can be supported by the compiler, and that also has the lowest priority I can think of. ;-)

meijeru

[07:01](#msg592681409f4f4ab05bfbecdf)I will nevertheless -- in the interest of consistency -- make an issue, so that we don't forget. Right now, `routine!` is about the only type for which `make`is not defined...

rebolek

[10:15](#msg5926aed4fa63ba2f767b62d7)@meijeru is it really only type? Is there `make handle!`?

meijeru

[10:46](#msg5926b623631b8e4e611015f0)I said "about". The values of types involved in OS interaction can also not be made, except by having them returned from OS calls. Mind you, routines can be made, only not by `make`...

[10:50](#msg5926b6fdfcbbe1891c435e29)Studying `get` and `get-word!/get-path!` now. The difference between `:a` and `get 'a` lies in the fact that the unset value gives an error with `get 'a` and not with `:a`, although with a function value they both prevent function application, yielding the function value as result itself. That is a subtle difference to be kept in mind!

[10:54](#msg5926b7f6631b8e4e61101d2a)I have a "wish" issue outstanding to have `:a`, where `a` is an error value, be evaluated to the error itself without it being raised (#2621). That is by analogy with the treatment of unset, and also provided for "disarming" the error, for which R3 had a `disarm` function.

[11:07](#msg5926badbc4d73f445ae1b4c3)(And R2 as well)

dockimbel

[11:23](#msg5926bea55e34568d5e8d2b8a)@meijeru What you ask for is already the case, you're just been fooled by the console's output.

meijeru

[12:19](#msg5926cbddfa63ba2f767be382)OK then the wish is fulfilled and the issue can be closed.

[15:17](#msg5926f58d9f4f4ab05bfdcf39)For my instruction: can it happen that a word has no context? There is an error value for this, but can anyone give me an example that would raise this error?

dockimbel

[15:57](#msg5926fefa00efc2bb3ea430d0)@meijeru For now, a word always have a context, though in some cases, it can refer to a context which is not accessible anymore, which will trigger an error when trying to access the referred value. I started with "for now", as this might change when we add modules.

## Friday 26th May, 2017

Clemens-H

[16:43](#msg59285b41cb83ba6a41009449)Hi! I've had a close look at Red recently and I think it's awesome! I do have a question about using a shared library on macOS. Is this the right place to ask?

greggirwin

[16:59](#msg59285ed60a783b6c0ada26ce)Yes.

Clemens-H

[17:02](#msg59285f9ffcbbe1891c4a48c7)Great. I have a library libjulia.dylib and I am trying to run a C function void jl\_init(void). This is what I tried:

```
#system [
    #import [
        "/Users/Clemens/src/julia-0.6/usr/lib/libjulia.dylib" cdecl [
            jl_init: "jl_init" []]]]

#system [jl_init]
```

But dyld complains:

dyld: Library not loaded: /Users/Clemens/src/julia-0.6/usr/lib/julia/sys.o  
Referenced from: /Users/Clemens/foo  
Reason: no suitable image found. Did find:  
/Users/Clemens/src/julia-0.6/usr/lib/julia/sys.o: mach-o, but wrong architecture  
/Users/Clemens/src/julia-0.6/usr/lib/julia/sys.o: mach-o, but wrong architecture  
Abort trap: 6

greggirwin

[17:03](#msg59285ffb00efc2bb3ea9b010)Is it a 64-bit lib? Red is currently 32-bit only, until it is self-hosted.

[17:04](#msg5928600e631b8e4e61170d5c)Use 3 backticks on their own line for code. Gets us all.

[17:04](#msg5928602ec4d73f445ae88542)And you can use the ... to the right of the message to edit prior messages, or up-arrow to edit your most recent.

Clemens-H

[17:05](#msg592860730a783b6c0ada2d36)It's most likely a 64-bit library.

[17:06](#msg592860a6eec422e415f049a3)Also thanks for the editing help. So I guess I'll have to wait until Red is self-hosted. (Any estimate?)

greggirwin

[17:07](#msg592860da0a783b6c0ada2ec4)Glad to help. You can see the roadmap here: https://trello.com/b/FlQ6pzdB/red-tasks-overview

Clemens-H

[17:10](#msg5928618af3001cd342604697)That will be version 0.9.5, if I understand correctly.

[17:11](#msg592861b9cb83ba6a4100b373)Another question: can I use CALL to read from and write to stdin/stdout of the external program?

greggirwin

[17:11](#msg592861cbfcbbe1891c4a4fa4)Likely. The team adapts as requirements and goals shift.

Knowing you want to use Julia (we have some other folks around who know it), what is your goal, or use case? We like to hear what people want and need.

Clemens-H

[17:12](#msg5928620a631b8e4e6117152f)I want to run a Julia function from Red and read the output back (as a STRING! is good enough for now).

greggirwin

[17:13](#msg5928622a631b8e4e611715b3)You should be able to. `help call` will show you the various options. Try it and come back if you hit a snag.

Clemens-H

[17:13](#msg59286249fcbbe1891c4a51c3)Great!

So I need to use the /input and /output arguments, right?  
What is BINARY! ?

```
/input       => 
        in           [string! file! binary!] "Redirects in to stdin"
     /output      => 
        out          [string! file! binary!] "Redirects stdout to out"
     /error       => 
        err          [string! file! binary!] "Redirects stderr to err"
```

Can I just READ and WRITE from/to the INPUT and OUTPUT arguments?

greggirwin

[17:16](#msg59286307fa63ba2f76827e73)Yes. `Binary!` is a byte-oriented series datatype. Strings will load as UTF-8 by default, but binary values are treated as raw data. You can see a list of all available types in Red with `help datatype!`, though we don't have reflective help built in (yet) to give you details.

[17:17](#msg5928633bcb83ba6a4100b972)You can use a lot of Rebol reference docs in the meantime: http://www.rebol.com/r3/docs/datatypes.html

Clemens-H

[17:18](#msg5928637e5e34568d5e93f289)Great. Thanks a lot. I am trying it right now...

[17:29](#msg592865f62b926f8a67969655)When I define a variable to hold the output, do I have to say `copy ""` or is `""` enough?

```
julia_out: copy ""
julia_err: copy ""
```

greggirwin

[17:32](#msg592866a4eec422e415f0605f)You should use `copy`. Copying series values or, rather, forgetting to, is a rite of passage in Red. We can go into details on it later though.

Clemens-H

[17:33](#msg592866dc00efc2bb3ea9cdcc)Thanks, just started to read the Rebol documentation...

greggirwin

[17:34](#msg5928671ccb83ba6a4100c817)Also, inline code is marked with single backticks. Just FYI.

[17:40](#msg5928687f5e34568d5e94042a)When you want to know more about `copy`: https://github.com/red/red/wiki/Why-do-I-have-to-copy-series-values%3F  
No need to dive into that right now though.

Clemens-H

[17:42](#msg59286914c4d73f445ae8a9cf)Nice, I'll make sure to read it!

[21:25](#msg59289d4b2b926f8a6797858b)What does the `10` in `make string! 10` mean?  
Can I use `make string!` instead of `copy ""`?

endo64

[21:40](#msg5928a0ce00efc2bb3eaacf6e)Yes you can use `make string!` as well. `make string! 10` allocates memory for later use. For example `s: make string! 1000 loop 1000 [append s "x"]` works faster than `s: copy "" loop 1000 [append s "x"]`. But for small series / strings the difference is not big.

Clemens-H

[21:45](#msg5928a204c4d73f445ae9a6a4)Thanks!

greggirwin

[22:48](#msg5928b0da631b8e4e61185eef)If it's Kaj's 0MQ stuff, it's probably out of date at this point. When we get FFI at the Red level, maybe I'll look at porting mine from Rebol to Red.

## Saturday 27th May, 2017

pekr

[10:02](#msg59294ec1631b8e4e611a2e67)@greggirwin re `help`system. I noticed there is an extra empty line after the output, whereas there is no empty line at the beginning of the output. I would probably reverse those two, maybe it would be nicer, but surely that's just subjective ...

Clemens-H

[10:41](#msg592957bf00efc2bb3eacf511)How much work would it be to get a 0MQ interface working? Maybe Kai's code only needs a few updates?

rebolek

[11:31](#msg5929638bf3001cd34263a6b9)@Clemens-H it's hard to say without looking at the code.You can try to compile it and see where the problems are.

Clemens-H

[11:39](#msg59296555fcbbe1891c4db7e3)I tried to compile `0MQ-reply-server.red`. I get the error

```
*** Compilation Error: undefined symbol: RETURN_NONE 
*** in file: %RS-fossil-mirror/common/common.red 
*** in function: exec/take-argument
*** at line: 332 
*** near: [
    RETURN_NONE
]
```

I think the line number is wrong. `exec/take-argument` probably refers to

```
take-argument: routine ["Consume and return next program argument."
;       return:                 [string! none!]  "Argument, or NONE"
        /local                  argument
][
        argument: system/words/take-argument

        either none? argument [
                RETURN_NONE
        ][
                SET_RETURN ((string/load argument  (length? argument) + 1  UTF-8))
;               end-argument argument
        ]
]
```

I replaced `RETURN_NONE` by `return none` and I removed the comment character before `return:`. Now it says:

```
*** Compilation Error: invalid definition for function exec/take-argument: [
    return: [red/red-string! none!] "Argument, or NONE" 
    /local argument
]
```

dockimbel

[11:43](#msg592966572b926f8a6799e36e)`RETURN_NONE` looks like a macro, which is not defined anymore. You can add it back with:  
`#define RETURN_NONE [none/push-last]`

Clemens-H

[11:47](#msg59296739fa63ba2f7685e36c)Nice, thanks! This file compiles now.

dockimbel

[11:47](#msg59296742fcbbe1891c4dbde5):+1:

Clemens-H

[11:48](#msg59296799f3001cd34263b5f8)Another noob question: what is the idiomatic way to concatenate strings? I came up with `(append (append (copy "") "foo") "bar")` so far, or rather `append append copy "" "foo" "bar"`.

toomasv

[11:51](#msg592968535e34568d5e973d2b)@Clemens-H Why not

```
append "foo" "bar"
```

Clemens-H

[11:52](#msg592968720ba4d59763e7233b)Ok, thanks.

toomasv

[11:56](#msg59296950c4d73f445aec04b0)@Clemens-H But if you `append` words which evaluate to series, then you have to copy them:

```
>> f: "foo"
== "foo"
>> b: "bar"
== "bar"
>> c: append copy f b
== "foobar"
```

Otherwise changes to `f` will affect `c` too.

Clemens-H

[11:58](#msg592969df0ba4d59763e7274f)I see. Is `append "foo" variable` safe?  
Apparently not.

toomasv

[12:00](#msg59296a430ba4d59763e728c3)

```
>> take b
== #"b"
>> c
== "foobar"
>> b
== "ar"
```

[12:02](#msg59296ae5fcbbe1891c4dcbbe)But

```
>> c: append f b
== "foobar"
>> take f
== #"f"
>> c
== "oobar"
```

[12:08](#msg59296c20c4d73f445aec0d38)That is because without copying `f` you append `b` to to the very `f` itself, but with copying it, to the new string `foo`.

```
>> f: "foo"
== "foo"
>> b: "bar"
== "bar"
>> c: append f b
== "foobar"
>> f
== "foobar"
```

Clemens-H

[12:08](#msg59296c4dc4d73f445aec0ddc)Thanks, got it. (At least I hope so for now. ;-))

toomasv

[12:09](#msg59296c945e34568d5e974a29):)

Clemens-H

[12:10](#msg59296c9bf3001cd34263c463)I think this works.

```
concat: func [strings] [
    result: copy ""
    foreach s strings [
        result: append result s]
    result]
```

[12:10](#msg59296cc9c4d73f445aec0edd)Just to make sure: `result` is undefined outside the scope of `func`, right?

toomasv

[12:11](#msg59296d00eec422e415f3bf1c)To make result local

```
concat: func [strings /local result] [
```

Or use `concat: function ...`

Clemens-H

[12:12](#msg59296d462b926f8a6799fbe6)Thanks! So with `function` I don't need the `/local`?

toomasv

[12:13](#msg59296d61cb83ba6a4104474e)Yes, `function` makes all set-words local

[12:15](#msg59296dd50a783b6c0add9fd4)

```
>> ? function
USAGE:
     FUNCTION spec body

DESCRIPTION: 
     Defines a function, making all set-words found in body, local
```

Clemens-H

[12:16](#msg59296e10fa63ba2f7685f890)Now I have another problem: `concat ["foo" bar "baz"]` yields `"foobarbaz"` and does not use the string value of the variable/word `bar` as I intended. I am still trying to wrap my head about the evaluation model. How do I create a series of strings (to pass as the argument)? Can I define functions that take an arbitrary number of arguments?

iArnold

[12:18](#msg59296e850a783b6c0adda1f7)rejoin

toomasv

[12:21](#msg59296f3ef3001cd34263ca21)And if you insist on using concat:

```
concat compose ["foo" (bar) "baz"]
```

Clemens-H

[12:21](#msg59296f50fcbbe1891c4dd825)There is small glitch on macOS. When I put a menu into the app, the menu bar only works after defocusing the Red program first and then focusing it again.

[12:22](#msg59296f91fa63ba2f7685fd1b)I see, `compose`.

toomasv

[12:24](#msg59296ff2f3001cd34263cbd8)There is also a function by @greggirwin :point\_up: \[May 25, 2017 10:15 PM](https://gitter.im/red/red/welcome?at=59272d3ceec422e415ebbaf1)

Clemens-H

[12:30](#msg5929715beec422e415f3cc32)Next try:

```
concat: function [args [block!]] [
    result: copy ""
    foreach s compose args [
        result: append result s]
    result]
```

toomasv

[12:34](#msg592972612b926f8a679a0c11)Ok? I mean, what are args and what is the result?

[12:45](#msg592974f55e34568d5e97656c)With your new `concat` this does work:

```
>> d: "def" concat ["abc" (d) "ghi"]
== "abcdefghi"
```

Clemens-H

[12:47](#msg5929757b0a783b6c0addb53a)Ok, thanks. I am mostly trying to make sure this looks like reasonable code. `function` was what I was looking for, not so much `func`.

toomasv

[12:49](#msg592975f300efc2bb3ead519e)You can use the `?` with partial keywords to find what other interesting things there might be:

```
>> ? fun
     any-function!   typeset!     | [native! action! op! function! routine!]
     any-function?   function!    | Returns true if the value is any type of any-function
     func            native!      | Defines a function with a given spec and body
     function        native!      | Defines a function, making all set-words found in body, local
     function!       datatype!    | function!
     function?       function!    | Returns true if the value is this type
     insert-event-func function!    | Add a function to monitor global events. Return the function
     parse-func-spec function!    | Parses a function spec and returns an object model of it.
     remove-event-func function!    | Remove an event function previously added
```

Clemens-H

[12:51](#msg5929766800efc2bb3ead531f)I also have a question about progress bars. I found a progress bar example, where it is coupled to a slider by `react`. Let's say I have a button that runs a function and I have a progress bar that should react to a change in a variable.  
`progress data 0% 470x20 react [face/data: pro]`  
Of course that doesn't work: `pro: 50%`. How can I update the progress bar?

toomasv

[12:53](#msg592976befa63ba2f76861572)Sorry, I leave it to those fluent in `view`.

Clemens-H

[12:54](#msg5929770ecb83ba6a410465fc)Thanks for the hint about `?`, very useful.

[13:04](#msg59297945631b8e4e611ab233)Coming back to 0MQ, I put the line `#define RETURN_NONE [none/push-last]` strategically into a reds file, which seems to take care of this error. The next error is:

```
Compiling to native code...
*** Compilation Error: undefined symbol: red/stack/set-last 
*** in file: %RS-fossil-mirror/common/common.red 
*** in function: exec/take-argument
*** at line: 332 
*** near: [stack/set-last as cell! (string/load argument (length? argument) + 1 UTF-8)]
```

apparently in the definition

```
take-argument: routine ["Consume and return next program argument."
;	return:			[string! none!]  "Argument, or NONE"
	/local			argument
][
	argument: system/words/take-argument

	either none? argument [
		RETURN_NONE
	][
		SET_RETURN ((string/load argument  (length? argument) + 1  UTF-8))
;		end-argument argument
	]
]
```

[13:25](#msg59297e47c4d73f445aec4383)@qtxie  
Regarding progess bars: I was missing `show`. But I think the macOS version is not fully functioning, yet. I tried this Rebol example on macOS, and it doesn't work. Anyway, thanks for the nice work!  
http://www.rebol.net/cookbook/recipes/0039.html

dockimbel

[13:34](#msg59298050c4d73f445aec48cd)@Clemens-H Be sure to mention @qtxie in your posts about macOS GUI issues, he's the developer of the macOS backend, and very interested in any issue report on Mac. ;-)

Clemens-H

[13:36](#msg592980c6c4d73f445aec4a60)@qtxie There is small glitch on macOS. When I put a menu into the app, the menu bar only works after defocusing the Red program first and then focusing it again.

dockimbel

[13:40](#msg592981c5631b8e4e611acc95)@Clemens-H About `react [face/data: pro]`, it won't generate any event, as the source needs to be a path (referring to a field of a `reactor` object), not a word. Faces are reactors. If you really need to react on changes in `pro`, you can wrap it in a reactor:

```
obj: make reactor! [pro: 0%]

view [
	progress data 0% 470x20 react [face/data: obj/pro]
	button "+1" [probe obj/pro: obj/pro + 1%]
]
```

Clemens-H

[13:41](#msg592981f1cb83ba6a41048481)It's curious, `SET_RETURN` is used a lot, but I cannot find its definition. It was expanded into something like `stack/set-last as cell!`, apparently, and then the compiler complains that it doesn't know `red/stack/set-last`.

dockimbel

[13:41](#msg59298211f3001cd34264084c)In case you haven't seen it, there's a \[reference doc](https://doc.red-lang.org/en/reactivity.html) about our reactive model.

[13:42](#msg592982590a783b6c0addda2e)@Clemens-H Are you compiling in release mode? If not try it, and have a look at the compilation modes introduced in 0.6.2 in the last blog article on http://red-lang.org.

Clemens-H

[13:46](#msg5929833ecb83ba6a410488a3)No, I did not compile in release mode. The `-r` seems to do the trick, at least regarding this problem. It also knows `RETURN_NONE` now. Thanks!

dockimbel

[13:48](#msg592983b600efc2bb3ead8010)Some Red scripts using Red/System code which rely on macros defined in the Red runtime, can currently only be compiled in release mode. Such restriction will be gone once we reach 0.8.0 and get modular compilation support.

[13:50](#msg5929840fc4d73f445aec57b7)Moreover, the high-level FFI in Red will improve it also, by avoiding to drop to Red/System (and so requiring compilation) for most FFI needs.

Clemens-H

[13:55](#msg5929855e5e34568d5e979756)Thanks! Hm, the next error:

```
Compiling to native code...
*** Compilation Error: argument type mismatch on calling: zmq/set 
*** expected: [struct! [dummy [integer!]]], found: [pointer! [integer!]] 
*** in file: %RS-fossil-mirror/ZeroMQ-binding/examples/0MQ-reply-server.red 
*** in function: exec/set-integer
*** at line: 17 
*** near: []
```

This is the definition of `set-integer`:

```
set-integer: routine ["Set integer socket option."
	socket			[integer!]  "socket!"
	name			[integer!]  "socket-option!"
	value			[integer!]
	return:			[logic!]
][
	with zmq [set as socket! socket  name  as-handle :value  4]
]
```

The definition of `set`:

```
set: function ["Set socket option."
		socket		[socket!]
		name		[socket-option!]
		value		[handle!]
		size		[size!]
		return:		[logic!]
	][
		not as-logic _set socket name value size
	]
```

The definition of `_set`:

```
_set: "zmq_setsockopt" [				"Set socket option."
			socket		[socket!]
			name		[socket-option!]
			value		[handle!]
			size		[size!]
			return: 	[status!]
		]
```

dockimbel

[14:05](#msg59298796f3001cd342641ef6)The definition of `handle!` from the Red runtime library might clash with the old definition used by Kaj. Also, at that time, you could not pass an integer by reference, so he had to rely on dummy structs to emulate it. Such workarounds could be removed now.

Clemens-H

[14:14](#msg592989bfc4d73f445aec69fb)Thanks for the example with the progress bar. It works nicely on macOS. It still doesn't quite do what I want it to do in my program:  
`button "Run" [obj/pro: obj/pro + 10% long_running_function obj/pro: obj/pro + 10%]`  
It jumps by 20% and not in between...

[14:18](#msg59298a9800efc2bb3ead9592)Thanks. What does it take to remove this workaround?

dockimbel

[14:19](#msg59298adfc4d73f445aec6dab)Red is still single-threaded, if your `long_running_function` does not sometimes give control back to the event loop, it won't update the UI. You can workaround it by calling `do-events/no-wait` from time to time in long running functions, so that the queued events have a chance to be processed.

Clemens-H

[14:22](#msg59298b89eec422e415f41f22)Beautiful! `do-events/no-wait` does the trick.

[14:44](#msg592990e62b926f8a679a71dd)It seems as if these lines in `common.reds` should be simplified to remove the workaround. But how?

```
#define variant!				integer!
#define opaque!					[struct! [dummy [variant!]]]
handle!:						alias opaque!
#define as-handle				[as handle! ]
#define binary!					[pointer! [byte!]]
#define as-binary				[as binary! ]

handle-reference!:				alias struct! [value [handle!]]
binary-reference!:				alias struct! [value [binary!]]
string-reference!:				alias struct! [value [c-string!]]
```

qtxie

[15:04](#msg59299560f3001cd3426448b8)@Clemens-H Thanks. I'll have a look at them.

Clemens-H

[15:08](#msg5929967d2b926f8a679a8547)@qtxie The progress bar works nicely now. There is only the small glitch that menus work only after defocusing/focusing again. Here is my (simplified) menu code:

```
m: layout [
    ...]

m/menu: [
    "File" [
        "Choose data directory" menu-choose
        ---
        "Quit" menu-quit]]

m/actors: make object! [
    on-menu: func [face [object!] event [event!]] [
        if event/picked = 'menu-quit   [unview/all]]]

view m
```

greggirwin

[15:21](#msg59299971fa63ba2f768689b7)&gt; what is the idiomatic way to concatenate strings?

@Clemens-H, @iArnold slipped it in there, but looks like it was missed . `Rejoin` is what you want. If you want spaces between elements, use `form reduce` on the block of values.

Clemens-H

[15:32](#msg59299c1b631b8e4e611b233b)Thanks, I did miss it. `rejoin`.

greggirwin

[16:41](#msg5929ac2400efc2bb3eae0d73)Object output from `help` now pads the first col based on the longest word in the object. `What` doesn't do that, though it could. One issue is that, in the global context (where `what` looks) a single, long word will push everything out to the right. Do we then have a max limit we still impose? Another option is to truncate long words, like we do with values in the last column. The catch there is that `help` uses `what` for partial word matches, so then there's no good way to see the full name in help output.

Clemens-H

[17:40](#msg5929ba120ba4d59763e82cc6)@qtxie I created a macOS app with a Red binary inside and the menus works flowlessly when I start it by double clicking.

[17:41](#msg5929ba37c4d73f445aed191c)@qtxie Interestingly, the font rendering when started as an app is much worse than when started from the terminal.

[17:49](#msg5929bc1000efc2bb3eae4569)@qtxie Is it possible to define keyboard shortcuts for menu items on macOS?

greggirwin

[17:53](#msg5929bd33fa63ba2f76870938)@Clemens-H, does this approach work? I haven't tried on OSX: https://gist.github.com/greggirwin/f3ba394221b2c55c21a420400f0e11de

Clemens-H

[18:33](#msg5929c676631b8e4e611bb548)@qtxie @greggirwin Thanks, I tried the `on-key:` stuff. The function keys work. I don't think `event/ctrl?` works, and the command key is not recognized.

greggirwin

[18:38](#msg5929c7a40ba4d59763e8575a)Worth a ticket. I don't see any handler for the windows/command key in the event type.

[18:40](#msg5929c810cb83ba6a4105738f)Use of the Windows key isn't as common as the Command key on Mac, hence none of us in the Windows world have noticed.

qtxie

[22:21](#msg5929fbd32b926f8a679beaa4)@Clemens-H You can use `event/flags` to detect `control` and `shift` key.

Clemens-H

[22:24](#msg5929fcafc4d73f445aedf043)Yes, thanks. Is there also a flag for the command key?

[22:30](#msg5929fe0efa63ba2f7687e04a)Another question. I'd like to run a program (on macOS) in the background (no waiting, like &amp; in a shell) and supply the stdin as a string and redirect stdout and stderr into files.  
`call/shell/input/output/error "program" "arg1" %file.out %file.err`  
I understand the `/shell` refinement to act like &amp; in a shell, right? The `/shell` refinement seems to be ignored, however.

## Sunday 28th May, 2017

dockimbel

[06:03](#msg592a6815fcbbe1891c50e022)@qtxie ^----

geekyi

[08:02](#msg592a842dc4d73f445aef6b67)@Clemens-H last I checked, `/shell` was windows only, because unix had better tools like bash and ncurses

[08:15](#msg592a8736f3001cd342672321)I may have been wrong, it may have changed, or @dockimbel was referring to a special case: https://github.com/red/red/issues/2475#issuecomment-285916606 is my reference

[08:27](#msg592a8a0e5e34568d5e9abcc3)&gt; I understand the `/shell` refinement to act like &amp; in a shell, right?

I don't think so, it simply uses the default \*shell* instead of using the operating system native \*call* function to run the command

dockimbel

[09:25](#msg592a97742b926f8a679db0aa)@geekyi `/shell` is for all platforms. It will run your command from a shell environment. The specific feature on Windows is if a command fails to run, a second attempt is made enforcing the `/shell` option.

Clemens-H

[09:39](#msg592a9ac55e34568d5e9af2ab)Re. `call` and the `/shell` refinement: I tested it a bit more and it works as expected if all three arguments `/input`, `/output`, and `/error` are files. If `/input` is a string, it doesn't work. I am not sure if this is expected behavior or not; maybe it should be documented.

[09:42](#msg592a9b6a631b8e4e611e28b1)@qtxie @greggirwin I also had a look and `probe`d the `event/flags`. I don't think it's possible to detect the command key (which would be nice on macOS). I guess I'll open a ticket then as suggested.

[09:43](#msg592a9bbf0ba4d59763eac8f3)@Kaj-de-Vos Hi Kaj, are you here? I'd like to compile the ZMQ binding.

geekyi

[09:46](#msg592a9c74eec422e415f762c9)I see, thanks doc (I forgot, sorry)

[09:47](#msg592a9cb50a783b6c0ae149d9)@Clemens-H unfortunately, Kaj has been absent for some time now :/

qtxie

[09:49](#msg592a9d42fa63ba2f7689bb31)@Clemens-H Yes, please. :smile:

geekyi

[10:09](#msg592aa1eefa63ba2f7689c8fa)@Clemens-H \[list of rooms](https://github.com/red/red/wiki/Gitter-Room-Index), \[/help](https://gitter.im/red/help) (and https://gitter.im/red/red/welcome) is particularly suited for questions, so we don't clutter the discussion here. Also \[red/system](https://gitter.im/red/red/system) for `.reds`

qtxie

[12:27](#msg592ac227fa63ba2f768a38cd)@Clemens-H For the meaning of the `/shell` refinement, I think @geekyi is correct. If you don't use `/wait`, it will be run in background.

[12:28](#msg592ac279fa63ba2f768a3ae3)I tried the following call, seems works fine.

```
call/shell/input/output/error "cat" "1234abcd" %file.out %file.err
```

[12:30](#msg592ac2cd00efc2bb3eb179df)But the file `%file.err` should not be created if no error.

[13:02](#msg592aca7beec422e415f812e8)@Clemens-H I have added the `command` in `event/flags`.

## Monday 29th May, 2017

Oldes

[08:43](#msg592bdf225e34568d5e9f5564)@Clemens-H I can give a try to ZMQ binding.

dockimbel

[10:13](#msg592bf42e5e34568d5e9faef3)I have a question for macOS users: what is the most commonly used monospace font on macOS? Courier New, Menlo or something else?

rebolek

[10:23](#msg592bf687eec422e415fc26f9)@dockimbel IMO it's Menlo.

PeterWAWood

[10:30](#msg592bf855cb83ba6a410ca0d8)@dockimbel SF Mono is the system monospaced font used in the terminal and Xcode - https://en.wikipedia.org/wiki/San\_Francisco\_(sans-serif\_typeface)

[10:33](#msg592bf8e100efc2bb3eb5b9a3)Sadly, it's a bit difficult to get a copy. :-(

[10:35](#msg592bf965c4d73f445af4708e)Actually not so difficult these days - https://developer.apple.com/fonts/

dockimbel

[10:36](#msg592bf99200efc2bb3eb5bb8d)@PeterWAWood So that font is not part of macOS?

PeterWAWood

[10:37](#msg592bf9d90a783b6c0ae600a4)It's not installed as a font. It looks as though you need to download it.

Clemens-H

[13:25](#msg592c2142fa63ba2f768f1919)Thanks, geekyi. I stumbled in here directly from the Red homepage.

Oldes

[14:25](#msg592c2f49fcbbe1891c574767)@Clemens-H You can find ZeroMQ binding for Red/System with simple working example as a part of this Red/Code pull request https://github.com/red/code/pull/41 (you don't need anything related to old Kaj's code)

Clemens-H

[16:10](#msg592c47e80ba4d59763f0b55d)@qtxie Thanks for your help. After a lot more testing (ain't easy, I thought the problem is somewhere else ;-)), I came up with this example on macOS:

```
>> call/shell/input/output/error "sleep 5 && cat >foo" "1234" %file.out %file.err
== 0
>> call/shell/input/output/error "sleep 5 && cat >foo" %foo %file.out %file.err
== 51285
```

The second line returns immediately (as it should): all three arguments are files.  
The first line takes 5 seconds, but should return immediately: the first argument is a string.

[16:11](#msg592c48140a783b6c0ae76a73)@qtxie Thanks for adding `command` to `event/flags`! I'll try to implement keyboard shortcuts when I have time.

[16:23](#msg592c4b08f3001cd3426d9577)@Oldes Thank you very much for your ZMQ binding! I just tried it on macOS, and it compiles nicely. Regarding the comment in `ZeroMQ.reds`, `libzmq.dylib` is indeed the right file name. The lib as installed by MacPorts is `/opt/local/lib/libzmq.dylib`, if you want to specify it directly.  
Unfortunately, loading the 64-bit library doesn't work on macOS when running the example:

```
dyld: Library not loaded: @loader_path/libzmq.dylib
  Referenced from: /Users/Clemens/src/red-code/Library/ZeroMQ/./ZeroMQ-Hello-server
  Reason: no suitable image found.  Did find:
	/Users/Clemens/src/red-code/Library/ZeroMQ/./libzmq.dylib: mach-o, but wrong architecture
	/Users/Clemens/src/red-code/Library/ZeroMQ/libzmq.dylib: mach-o, but wrong architecture
Abort trap: 6
```

I'll try on Windows, but I don't have easy access.

pekr

[16:54](#msg592c525a0a783b6c0ae79901)I am not sure, but 64bit libraries are not supported by Red yet? Sorry if wrong ....

Clemens-H

[17:02](#msg592c5437fa63ba2f76900833)@pekr Yes, I believe it was mentioned that 64-bit libraries don't work on macOS yet.

pekr

[17:04](#msg592c549900efc2bb3eb75a00)not sure it is macOS related?

greggirwin

[17:27](#msg592c5a0700efc2bb3eb76ded)Go Oldes Go!

[17:27](#msg592c5a132b926f8a67a43e11)32-bit limitation is for all targets.

Oldes

[20:19](#msg592c824d0ba4d59763f1a5c7)@Clemens-H I don't know how it is on Mac, but on Windows there is version for both... 32/64bit. But Apple is pushing hard to support only 64bit I think... we will need it of course.

[20:23](#msg592c832fcb83ba6a410f02ba)Or we can wait what @dockimbel will bring with native Red I/O, because the ZMQ's server/client example should be quite easy to do without need to use 450kB external library.

Clemens-H

[20:25](#msg592c83c5fcbbe1891c58a37b)@qtxie Thanks again for the command key in `event/flags`. There is a small problem with `event/key` when the command key is pressed: it is always `none`. Here is the output (`key`, then `flags`) for pressing w, shift-w, control-w, and command-w.

```
#"w"
[]

#"W"
[shift]

#"^W"
[control]

none
[command]
```

[20:28](#msg592c846a00efc2bb3eb820cd)@Oldes @dockimbel Yes, sockets (`open`) would be great! ;-)

## Tuesday 30th May, 2017

dockimbel

[02:40](#msg592cdb9eeec422e415ff985d)@Clemens-H We're almost there, not much longer to wait. ;-)

qtxie

[03:51](#msg592cec532b926f8a67a63e9f)@Clemens-H You can use `on-key-down` event, as the `on-key` event is for translated key. No corresponding character for `Command + key` combination, so it's none.

Clemens-H

[10:09](#msg592d44f10a783b6c0aeb2a8f)@qtxie Thanks! I didn't know that.

[10:10](#msg592d452af3001cd342715335)@dockimbel Great! I am looking forward to trying out sockets. `open` should simplify some of my code a lot...

## Wednesday 31st May, 2017

x8x

[13:43](#msg592ec8940de3eb3e19a80bcd)Just curious if there is an ETA for `date!` 😊

Oldes

[14:42](#msg592ed6575e34568d5eac11af)@x8x 0.6.5

x8x

[14:43](#msg592ed69f331deef4646a0291)Thanks @Oldes !

iArnold

[20:31](#msg592f28200a783b6c0af3da7c)&gt; Just curious if there is an ETA for `date!` 😊

It will be more future proof if it is done after https://en.wikipedia.org/wiki/Year\_2038\_problem  
:wink:

gltewalt

[22:11](#msg592f3fadfcbbe1891c646727)NetBSD already has an answer

## Thursday 1st June, 2017

iArnold

[05:36](#msg592fa7f900efc2bb3ec54796)I support the method to restart the counter on 1-1-2030, that way you have nice 60 year cycles.

luce80

[13:07](#msg5930119800efc2bb3ec71aad)About `date!` : here is a gist that I hope could be useful https://gist.github.com/luce80/96d48297f2307a713c918c68bf046520

greggirwin

[16:31](#msg5930416e142826e97272df84)Thanks @luce80 !

## Saturday 3th June, 2017

dockimbel

[04:01](#msg59323491cf9c13503c4b4b73)Anyone interested in porting Base65536 to Red? ;-) https://github.com/qntm/base65536

dander

[04:08](#msg5932365a6462d8493cd60994)wow, that's crazy

dockimbel

[04:30](#msg59323b50e531dbc905a6d378)@dander \[Base-emoji](https://github.com/pfrazee/base-emoji) is crazier. ;-)

dander

[05:26](#msg59324874ca6d4ae80cd80aab)it's pretty delightful seeing the kinds of things people come up with sometimes :smile:

PeterWAWood

[05:36](#msg59324ae0f31c8ced0cfb2b6a)&gt; Anyone interested in porting Base65536 to Red? ;-) https://github.com/qntm/base65536

Little endian only or both big and little?

dockimbel

[06:22](#msg593255aa6549436c7d0fe637)@PeterWAWood I don't think that it's a concern in that case. I don't see any endianess handling in the reference implementation.

PeterWAWood

[07:23](#msg593264037503e2b70607a9cb)@dockimbel I just noticed some bit shifting without really checking the code so assumed that it would be a concern.

[07:25](#msg59326450cf9c13503c4bdd51)I'd quite like to port it but I don't have the time at the moment.

meijeru

[12:31](#msg5932ac226462d8493cd7818b)In connection with the wish to have `body-of` and `source` defined on suitable `op!` values, namely those derived from functions and routines, I hit on this question: how does the runtime see the difference between function and routine? There is only one flag, bit 23 of the `red-op!` header...

[12:32](#msg5932ac5d6462d8493cd7821d)See also #2727

dockimbel

[12:49](#msg5932b06ccf9c13503c4cdf63)@meijeru `TYPE_FUNCTION` vs `TYPE_ROUTINE` in the cell's header.

meijeru

[12:59](#msg5932b2c7ca6d4ae80cd96439)No, I was referring to cells with `TYPE_OP` in the header, and bit 23 set, and how to know if the contents of the `/code` field is a function or routine body.

drguildo

[13:30](#msg5932b9f1e531dbc905a85f62)i'm trying to run the last-commits.red but am getting the error `new is missing its input argument`. does anyone know what's causing it?

9214

[13:35](#msg5932bb18167d046a7d64fcfe)@drguildo can you show us code snippet please?

drguildo

[13:35](#msg5932bb257503e2b70608c8cb)@9214 https://github.com/red/code/blob/master/Showcase/last-commits.red

9214

[13:49](#msg5932be5aca6d4ae80cd98b5b)hm, that's weird, seems to be caused by `parse` inside `view`

drguildo

[14:36](#msg5932c955f31c8ced0cfcdae4)so is that a bug in the compiler/libraries side of things?

dockimbel

[15:27](#msg5932d552167d046a7d655cd3)@drguildo Which Red build do you use and on which platform?

9214

[15:35](#msg5932d74e31f589c64f6f1921)@dockimbel I've checked it on Win7, crashes with

```
>> system/build/date
== "6-May-2017/19:04:37+5:00"
```

but works with latest build

dockimbel

[15:36](#msg5932d7717503e2b706093276)The features required for that demo were implemented about 10 days ago.

9214

[15:37](#msg5932d7b6f2dd2dba06667d3f)\[Born too slow](https://www.youtube.com/watch?v=H6BEkPzstJQ) :older\_man:

geekyi

[15:37](#msg5932d7d26549436c7d1195dd)It is a bit confusing,

dockimbel

[15:40](#msg5932d856ca6d4ae80cd9e792)@meijeru By checking `/code/more/fun` value.

geekyi

[15:41](#msg5932d8a1f2dd2dba06668162) ... I mean the mixing of dialects. I realize @dockimbel

[15:45](#msg5932d97c02c480e6720b4af6)... showed the alternative way in red/bugs. Not so readable if you are skimming code I believe.. Especially when it comes to dialects, have to pay extra attention to find the boundaries. However, only a red programmer would notice the difference. A newcomer won't

[15:45](#msg5932d9a16462d8493cd82398)Apologies for the msg fragmentation

dockimbel

[16:06](#msg5932de7d6549436c7d11aa28)@geekyi Ability to seamlessly blend dialects together is one of the strong points of Redbol. It's not always desirable, but it can be very effective, removing lots of interfacing boilerplate code.

[16:09](#msg5932df2c142826e9727ce80d)@geekyi If you look closely a that demo, you'll see that it's made of a \*single* expression. ;-)

[16:10](#msg5932df69f31c8ced0cfd32d0)@9214 Doc Manhattan has decided to start a carrier in music industry! ;-)

9214

[16:11](#msg5932dfbcf2dd2dba06669a9b)Any ideas why it didn't work in older versions? And what is `new`?

[16:12](#msg5932dfdf31f589c64f6f3715)I thought that mixing dialects is error-free

dockimbel

[16:57](#msg5932ea7902c480e6720b87eb)You can force the call stack trace in the console to see where it's coming from:  
`system/state/trace?: yes`.

[16:58](#msg5932ea99f31c8ced0cfd5c72)&gt; Any ideas why it didn't work in older versions?

I answered it there: :point\_up: \[June 3, 2017 11:36 PM](https://gitter.im/red/red?at=5932d7717503e2b706093276)

9214

[16:58](#msg5932eab5e531dbc905a91375)@dockimbel thanks Doc! The time has come for deep meditation :^)

meijeru

[17:03](#msg5932ebf7cf9c13503c4dbbe0)@dockimbel Thanks!

9214

[17:12](#msg5932edea6549436c7d11eb4e)

```
*** Script Error: new is missing its input argument
*** Where: new
*** Stack: launch launch either run while eval-command if either switch if switch-mode set case do-command unless case print = type? try either = set catch view if set either layout while switch set fetch-options set on-change* if unless if any series? new object? new
```

:confused:

dockimbel

[17:17](#msg5932ef2b02c480e6720b979c)It's in VID, `fetch-options` trigering a `on-change*` event which results in an incoherent state, because of the missing feature.

9214

[17:18](#msg5932ef666549436c7d11f0f6)2deep4me :astonished:

dockimbel

[17:25](#msg5932f0ef7503e2b706098e34)The syntax coloring is helpful there. Though, that is just a raw trace, it will be improved in the future (like filtering out the words not referring to a `function!` value, for a shorter stack trace). Actually, just a nicer indentation could do it with that level of details, to make it much more readable.

drguildo

[17:40](#msg5932f486f2dd2dba0666ef6e)&gt; @drguildo Which Red build do you use and on which platform?

0.6.2 and Windows 7

9214

[18:00](#msg5932f92acf9c13503c4deaf2)@drguildo try \[this one](http://static.red-lang.org/dl/auto/win/red-latest.exe)

drguildo

[19:30](#msg59330e6b6549436c7d126278)thanks. that works.

[19:35](#msg59330f72e531dbc905a999b0)seems to be a bug in last-commits.red itself. it doesn't handle escaped quotes so `\"` causes it to prematurely stop reading the commit message.

[19:35](#msg59330f91142826e9727d9b38)wish i could say why exactly but i'm completely new to redlang

[19:36](#msg59330fb46549436c7d1267f3)i'm guessing `["\n" | {"}]` is the relevant part of the code

greggirwin

[20:04](#msg593316676462d8493cd8fb71):point\_up: \[June 3, 2017 9:40 AM](https://gitter.im/red/red?at=5932d856ca6d4ae80cd9e792) Re: `/code/more/fun`, @dockimbel, you're going to have to hide your subliminal messages better.

geekyi

[23:57](#msg59334cee02c480e6720cdbe2):laughing: I didn't realize it.. subliminal indeed

## Sunday 4th June, 2017

dockimbel

[04:27](#msg59338c45142826e9727f1ca5)@9214 Stack trace improved and enabled by default in the last commit.

geekyi

[09:16](#msg5933cfe5ca6d4ae80cdcfaa1):point\_up: \[June 3, 2017 9:06 PM](https://gitter.im/red/red?at=5932de7d6549436c7d11aa28)  
&gt; @geekyi If you look closely a that demo, you'll see that it's made of a \*single* expression. ;-)

@dockimbel I know, and that's what bothers me.. let me explain:  
In `compose` and `parse` for example, the boundary of where dialects change is very obvious: `()` parens! . In most other cases, it's clear too with `[]`  
In this particular case, you are going from `vid -> red -> [parse -> [collect]]`  
The `vid -> red` is what I find the problem with, no barriers between dialects.

But I wouldn't write code like that because it makes it hard to skim when you're reading code, you have to explicitly know that what comes after `text-list data` is normal red code, then look at `parse`, then look for the end of parse ( the parse rule block `[]`).  
Compared to e.g. `compose` where you have to look for `(`, then search for ending `)`  
Also a problem when you're manipulating code (match on `parens!` vs more complicated match expression)

Perhaps good as a showcase of terseness tho

dockimbel

[09:18](#msg5933d07ff31c8ced0c002984)&gt; you have to explicitly know that what comes after text-list data is normal red code

Yes, that's part of the VID learning process, the same way as you need to know that the block after `view` is VID dialect, or the second argument to `parse` is Parse dialect.

[09:19](#msg5933d0bf6462d8493cdb2b3a)In natural languages, you don't use specific notations to delimit dialects or jargon from different domains, yet humans have no problem sorting out what is what. At least in Red, you have semantic rules you can rely upon (sure you need to learn them first).

[09:21](#msg5933d127f31c8ced0c002b7a)Moreover, nothing prevents you from putting parens into such expressions if you feel like it's more readable for you.

[09:22](#msg5933d15f6462d8493cdb2cfa)The question of enforcing parens Red code expressions in other dialects is a legitimate one.

[09:24](#msg5933d1c0e531dbc905abe100)In case of Parse, Red expressions are in parens, because that's the only way to support them there. Parse grammar would be ambiguous otherwise. In case of VID, some keywords are accepting Red expressions as argument, so no ambiguity there.

[09:25](#msg5933d1f631f589c64f723469)The case of `compose` is very different, it's not a dialect, it's partial evaluation of (optionally nested) Red expressions.

geekyi

[09:37](#msg5933d4c0cf9c13503c50925b)Well, you don't have to put punctuation (like `,` and `(`) in natural languages, but it sure helps readability when you do :D

[09:38](#msg5933d533f31c8ced0c003859)But I admit, I don't know if it's better to leave it to the code writer to decide that. This more or less:  
&gt; The question of enforcing parens

dockimbel

[10:05](#msg5933db4f142826e9728005e8)@geekyi Natural languages use very little punctuation compared to programming languages (especially mainstream ones), yet they are much more readable (probably related).

[10:25](#msg5933e001cf9c13503c50b642)@geekyi You can see \[similar approach](https://msdn.microsoft.com/en-us/library/gg509017.aspx#SimpleWhereClause) in .Net languages with embedded LINQ DSL, there is no specific punctuation separating the host language from the DSL.

geekyi

[11:49](#msg5933f3bcf2dd2dba066a1528)@dockimbel I don't know if there are many DSLs in C#. But if \*LINQ* is the only one, it's not much of a problem. But we should probably be comparing to others where iDSLs are more prominent; like \*Lisp* and \*Ruby*

[11:58](#msg5933f5cf6549436c7d1523f0)However, it's not \*that* important an issue now tho. Maybe in the long term. I'll research more

dockimbel

[14:34](#msg59341a5ff2dd2dba066a99dc)@geekyi Such embedded dialects were used for more than 15 years in Rebol world, I don't remember anyone complaining about it.

lepinekong\_twitter

[15:14](#msg593423b8cf9c13503c51a85d)Hi, any suggestion on passing a bunch of text to red from let's say Powershell and return back the result to the caller ? Use case: I want to use red parse and continue processing with Powershell.

ghost~5680c5f416b6c7089cc058a5

[15:16](#msg59342466f2dd2dba066abc46)@lepinekong\_twitter `Support for evaluating expressions from command-line` is in the timeline for 0.6.3 and will come soon on master. You will be able to do it then.

[15:17](#msg5934246dcf9c13503c51aafb)https://trello.com/c/Fmq7wsLz/147-0.6.3-macos-gui-support

[15:41](#msg59342a117503e2b7060d75ca)Okay, since I have no idea about how to put up a comment on trello, so I am putting it here. Someone with commenting access on the trello board, put this \[here](https://trello.com/c/IRrh9Ipe/137-create-syntax-highlighter-for-ace---https%3A%2F%2Face.c9.io%2F%23nav%3Dhiglighter) ---

[15:43](#msg59342ab931f589c64f73735c)

```
text
```

https://github.com/ajaxorg/ace#features says that it is possible to import `TextMate/Sublime/.tmlanguage files`.  
\[This](https://github.com/ajaxorg/ace/wiki/Importing-.tmtheme-and-.tmlanguage-Files-into-Ace) page provides more details on how to do it.  
\*\*NOTE:\** The converted file will still require manual fixing to work though.

```

```

meijeru

[16:49](#msg59343a166462d8493cdc9bee)A small concern for consistency: the flags defined in the cell header all have symbolic names beginning with `flag-` except `series-in-use` and `body-flag`. Is there a reason? and if not, what would be the cost of renaming them?

greggirwin

[18:40](#msg5934542ff2dd2dba066b650e)@geekyi, Doc recently pointed me to Quora, and I ended up answering a question that aligns with your issues. The answer is context. How we structure our code, for an audience to read and understand, is up to us. With Rebol, we write for ourselves or in small teams, where things naturally, invisibly, seem clear, because you know who you're talking to. As Red projects grow, there will surely be more separation used by teams to organize things. Possibly along dialect lines, but not always. Just as you would have to adjust when reading mixed topics in any area, or fiction with varying timelines and subplots, it's up to the author to help you navigate the story and information.

[18:42](#msg59345499cf9c13503c526485)@lepinekong\_twitter , have you tried `call`?

justjenny

[23:43](#msg59349b2f142826e972829abf)Gregg - I would suggest that an artist who develops programming skills would produce different code to a mathematician who develops those same programming skills. Most composers/writers/artists have different styles. Just my thoughts.

## Monday 5th June, 2017

greggirwin

[02:55](#msg5934c81d02c480e672117de5)Absolutely, and they would probably work well with others from similar backgrounds.

[02:56](#msg5934c84c31f589c64f758741)Not guaranteed, of course, but they make share an aesthetic and structural sense.

dockimbel

[04:26](#msg5934dd59ca6d4ae80ce08ff1)@meijeru Memory management code is far from being final, it is subject to change in the next major releases before 1.0. Renaming flags is something we should eventually do in a 0.9.x version, if those flags still exist by then. Cleaning up the codebase and covering all possible edge cases is not a concern before 0.9.0. If we start doing such polishing at 0.6.3, simply put, we will never reach 1.0.

Clemens-H

[08:36](#msg59351808ca6d4ae80ce1585b)With the latest build on macOS, I get this message when compiling with `-c`:

```
Compiling to native code...
*** libRedRT Error: definition not found for red/OS-image/ctx-to-cgimage
```

It works with `-c -r`, though.

dockimbel

[08:44](#msg59351a0131f589c64f76935d)@Clemens-H If you use Red from sources, you need to clean up the older libRedRT after updating, so from Rebol console:  
`rc "clear"`

PeterWAWood

[08:56](#msg59351ca6f31c8ced0c04977c)Or in the terminal

```
rebol -qs red.r clear
```

[08:56](#msg59351cc1e531dbc905b04f7a)(assuming rebol is in your path)

Clemens-H

[09:33](#msg5935255f6462d8493cdfa4f2)Thanks! I just deleted `libRedRT*` and it compiles.

[09:36](#msg5935260a6549436c7d191bb4)However, still:

```
$ ./foo
*** Runtime Error 1: access violation
*** at: 001BF6BFh
```

(Address changes.)  
Source:

```
$ cat foo.red
Red [Needs: View]

main: layout [
    button "Quit" [unview/all]]

view main
```

dockimbel

[09:37](#msg59352641167d046a7d6cd2e1)@Clemens-H On macOS I guess?

Clemens-H

[09:37](#msg59352657e531dbc905b07950)@dockimbel Yes.

[09:42](#msg5935277d167d046a7d6cd83c)(I also cleaned out `~/.red`, but that most likely doesn't matter.)

DavidConroy

[18:22](#msg5935a152cf9c13503c575b7c)Hi all, beginner question - I was going through the blog post on objects at http://www.red-lang.org/2014/12/050-objects-support.html. It seems "get obj" doesn't get the values of the fields of the object anymore:  
obj: object \[a: 123 b: "hello"]  
probe get obj  
returns an error.  
What is the current correct way to get the fields of an object?  
Thanks.

rebolek

[18:25](#msg5935a21b7503e2b70612e84a)@DavidConroy Hi, to get values, use `values-of`:

```
>> probe values-of obj
[123 "hello"]
```

[18:26](#msg5935a26fca6d4ae80ce3d70e)See the "reflectors" part of that document.

DavidConroy

[18:27](#msg5935a29402c480e67214eedb)thanks, obvious when I think of it. what is the most up-to-date docs at the moment? also whil e you're here, I know there's a way to fuzzy-search the functions available but I can't remember. It'd help in such situations. Cheers.

[18:29](#msg5935a2fce531dbc905b2cdfc)oh yeah, should have continued reading :smile:

rebolek

[18:29](#msg5935a316cf9c13503c576353)Anyway, the `get` method described there is interesting, I didn't know it was implemented.

9214

[19:16](#msg5935adf331f589c64f79578f)@DavidConroy Hello and welcome!  
\* Use the \[gist](https://gist.github.com/9214/784e7f7af2342f117bc67a8e2698855b), Luke! The official Red documentation is \[here](https://doc.red-lang.org/). \[Rebol/Core guide](http://www.rebol.com/docs/core23/rebolcore.html) is a good starting point.  
\* Fuzzy-search: either \[red-by-example](http://www.red-by-example.org/) or `what` and `help` functions.

```
>> help "refl"
     body-of         function!     Returns the body of a value that supports reflection.
     keys-of         function!     Returns the list of words of a value that supports reflection.
     reflect         action!       Returns internal details about a value via reflection.
     spec-of         function!     Returns the spec of a value that supports reflection.
     values-of       function!     Returns the list of values of a value that supports reflection.
     words-of        function!     Returns the list of words of a value that supports reflection.
```

[19:20](#msg5935aef47503e2b706132707)Also Gregg's \[Guru Meditations](https://github.com/red/red/wiki/Guru-Meditations) and \[Primer](https://github.com/red/red/wiki/Primer) are worth reading :^)

greggirwin

[20:08](#msg5935ba3e167d046a7d6f6fc6)Welcome @DavidConroy!

If you use `help` without any args, it will give you some clues to its use, but don't be afraid to post questions here as well.

## Tuesday 6th June, 2017

dockimbel

[02:36](#msg59361542ca6d4ae80ce5adbd)`get object` was used before reflectors were available, then removed as the feature is since then provided by `values-of`.

endo64

[06:56](#msg5936520ecf9c13503c59fd1e)@dockimbel I just saw your `FEAT: adds the *-thru functions` commit. Shouldn't be there `file` at the end of the `read-thru` function?

```
read-thru: function [
	"Reads a remote file through local disk cache"
	url [url!]	"Remote file address"
	/update		"Force a cache update"
	/binary		"Use binary mode"
][
	path: path-thru url
	either all [not update exists? path] [
		either binary [read/binary path][read path]
	][
		write/binary path file: either binary [read/binary url][read url]
	]
        ;file   <--- this is missing
]
```

Oldes

[08:40](#msg59366a6702c480e67217f3b3)Why? It returns content from `read`.

[08:41](#msg59366ab77503e2b70615fa27)Ah... the `file` should be at the end of the block with `write`. And it should be defined as local I guess. And maybe using different name.. like `data` :)

dockimbel

[09:38](#msg593678126549436c7d1e9fe6)@endo64 Indeed, it's missing. Can you send a PR for it?

endo64

[09:56](#msg59367c4031f589c64f7c83c9)@dockimbel I will tonight. Outside now.

x8x

[20:20](#msg59370e953072d89a693f6f1c)This is a pretty common pattern to make local definitions and export a function to the global space (well the nested object isn't but that is for the pourpose of the question):

```
a: object [
	object [
		c: 0
		set 'b func[][c: c + 1]
	]
]
```

Ok, here I get `b` function in the global space.  
What if I want `b` to be scoped inside `a` object?  
I could write that like:

```
a: object [
	h: object [
		c: 0
	]
	b: func[][h/c: h/c + 1]
]
```

But what if I want `h` object to be anonymous?  
Ok, this does it:

```
a: object [
	parent: self
	b: none
	object [
		c: 0
		parent/b: func[][c: c + 1]
	]
]
```

Question is, as we have `self`, would it make sense to have `parent` too, enabling writing above as:

```
a: object [
	b: none ; <-- should not be required as we are still constructing object `a`
	object [
		c: 0
		parent/b: func[][c: c + 1]
	]
]
```

(`b: none` being required or not, not important)

[20:29](#msg593710c62315aeb90c979656)Also, a long long time ago in a distant galaxy there was discussion about metadata and how to access it, just curious, is that still planned ?

greggirwin

[21:00](#msg593717d86549436c7d21b7da)There is a reserved spot in the object header structure, but if that's used for something else there's nowhere to store the parent info, unless it's added as a regular word in all contexts.

michaeldesu

[23:26](#msg59373a40167d046a7d75d77a)Hi. I'd like to ask another noob question. I have the following example:

```
>> s: ["e:/test" "e:/test"]
>> t: copy s
>> foreach i t [replace i "e:/" ""]
>> t
== ["test" "test"]
>> s
== ["test" "test"]
```

I'm trying to update the content of `t` independently from `s` which I thought would be achieved by using `copy`. But the original `s` is updated - why is that, and what should I do to overcome?

[23:32](#msg59373b966462d8493ce90311)sorry, I just found a solution `t: copy/deep s` solves the problem - I guess it's necessary to use use deep when copying blocks

endo64

[23:38](#msg59373d017503e2b7061a0999)@michaeldesu More precisely "it's necessary to use use deep when copying nested series", `string!` is also a `series!` so you have to deep copy in your example.

michaeldesu

[23:43](#msg59373e35f2dd2dba067751b0)@endo64 ah, thanks alot for that

## Wednesday 7th June, 2017

dockimbel

[01:28](#msg593756b5f2dd2dba0677a124)@michaeldesu If your block contains only immediate values (`help immediate!`), then deep copying is unnecessary. Immediate values fit in the slot provided by a value container (like blocks), while other datatypes have external buffers, so they are candidates for deep copying.

joa-quim

[01:31](#msg59375784f2dd2dba0677a358)Hi,  
How do I build the libRed dll? I see red build libRed in the libRed API page but it (naturally) errors

```
red build libRed
*** Script Error: build has no value
*** Where: catch
```

\`  
Also downloaded the source code but see no C code to build this library.

Thanks

dockimbel

[01:36](#msg59375897f2dd2dba0677a6aa)@joa-quim Hi, let me have a look at it... Works fine from here.

[01:42](#msg593759eb142826e9728e32bf)@joa-quim `red` means the Red executable (the toolchain), so that's a system shell command-line. It seems you are trying to run it from the Red console?

[01:43](#msg59375a26142826e9728e335c)"but see no C code to build this library." I'm not sure to get why there should be any C code involved? Red is built in Red, Red/System and Rebol, no C needed.

joa-quim

[02:20](#msg593762d631f589c64f80cd2d)Ah, dumb of me now it works (but I had tried to run just the build libRed from the Red console).  
But I see that we get a 32 bits dll. Is there an option to build a 64 bits dll?

greggirwin

[03:07](#msg59376e0df2dd2dba0677e932)No 64-bit option yet, until Red is self-hosted.

[03:25](#msg5937723b7503e2b7061aaba6)@geekyi, here are some links to Max's SLiM stuff for R2:  
\- http://www.pointillistic.com/open-REBOL/moa/steel/slim/slim-quickstart.html  
\- http://www.rebol.org/view-script.r?script=slim-link.r  
\- http://www.rebol.org/view-script.r?script=slim.r

iArnold

[05:55](#msg59379563cf9c13503c5fadfb)@joa-quim

&gt; But I see that we get a 32 bits dll. Is there an option to build a 64 bits dll?

Yes there is an option, but it is a DIY solution. I have collected some study materials already to help getting up to speed on some details: https://github.com/reddoc/develop/wiki/DEV-GOAL-64-bit-support

[05:59](#msg59379645e531dbc905bb0970)(And keep in mind that you would probably do it completely different than the Red team will, so your efforts may not end up in the main branch. :smile: )

greggirwin

[06:30](#msg59379d9ee531dbc905bb29d0)@iArnold, could you block-quote, or delimit things you incorporate from other sources a bit more? It's clear to me where Nenad's quote ends and your own work begins, but it may not be to others.

rebolek

[06:50](#msg5937a233e531dbc905bb3caf)Why is molding of `{` and `}` different? It seems confusing to me:

```
>> ["{" "}" "^{" "^}"]
== ["{" {^}} "{" {^}}]
```

dockimbel

[06:57](#msg5937a3d26462d8493cea703d)Looks like a bug.

rebolek

[06:57](#msg5937a3e831f589c64f81a14b)Ok, will open a ticket, thanks.

[07:00](#msg5937a48a02c480e6721d621c)https://github.com/red/red/issues/2765

iArnold

[07:04](#msg5937a598f2dd2dba0678b4bd)@greggirwin Sure! Last thing I need is that confusion and I want to keep on friendly terms with Nenad.

[07:08](#msg5937a6887503e2b7061b679e)Blockquote done!

Clemens-H

[08:56](#msg5937bfb0f2dd2dba067927d3)There is still a problem on macOS with the daily build. The simple program below doesn't work when compiling with `-c`, but it works when compiling with `-c -r`.

```
$ cat foo.red
Red [
    Needs: View]

main: layout [
    button "Quit" [unview/all]]

view main
0
$ red -c foo.red

-=== Red Compiler 0.6.2 ===- 

Compiling foo.red ...
...using libRedRT built on 7-Jun-2017/10:30:45+2:00
...compilation time : 57 ms

Target: Darwin 

Compiling to native code...
...compilation time : 1219 ms
...linking time     : 53 ms
...output file size : 77824 bytes
...output file      : foo 


0
$ ./foo

*** Runtime Error 1: access violation
*** at: 00155AE2h
1
$ red -c -r foo.red

-=== Red Compiler 0.6.2 ===- 

Compiling foo.red ...
...compilation time : 1532 ms

Target: Darwin 

Compiling to native code...
...compilation time : 40335 ms
...linking time     : 415 ms
...output file size : 856064 bytes
...output file      : foo 


0
$ ./foo
# works now
0
```

dockimbel

[09:15](#msg5937c419cf9c13503c607c53)@Clemens-H Looking at it...

Clemens-H

[09:52](#msg5937ccddf31c8ced0c1045d8)@dockimbel I know it worked very nicely last week and it compiles so much faster without `-r`. :smile:

dockimbel

[10:40](#msg5937d8076462d8493ceb660d)@Clemens-H I cannot reproduce your crash, it compiles and runs fine here on my macOS 10.11. Which version of Red are you using?

[10:40](#msg5937d829167d046a7d7819ba)Have you tried cleaning the libRedRT files? (`red clear`)?

Clemens-H

[10:43](#msg5937d8e7ca6d4ae80ced3acf)@dockimbel I downloaded from `http://static.red-lang.org/dl/auto/mac/red-latest`. I just tried `red clear`, which didn't help. I am on 10.12.5.

dockimbel

[10:50](#msg5937da92cf9c13503c60ee60)Let me try on 10.12...

[10:55](#msg5937dbbaca6d4ae80ced455e)Reproduced on 10.12.

[11:05](#msg5937ddfb6462d8493ceb7cd9)We found the cause, a system function that we rely on to get the OS version, seems to not like being called from a library init function in 10.12 (was fine in 10.11).

[11:06](#msg5937de43f31c8ced0c109208)@Clemens-H BTW, if you are not using Red/System in your code, you would not need to compile, you can just run your code through the interpreter (`red foo.red`) or from the console.

Clemens-H

[11:09](#msg5937dee06549436c7d24990c)@dockimbel I would have never guessed that... ;-) Thanks a lot for your efforts!

[11:12](#msg5937df9ef31c8ced0c1097e2)I am very happy to get a nice, small binary, actually. ;-)

dockimbel

[11:55](#msg5937e9aa31f589c64f82e68c)@Clemens-H You're welcome. Thanks for reporting those issues.

ldci

[12:00](#msg5937eaf4167d046a7d78682c)@dockimbel Thanks for identifying the problem. Waiting for the update :)

dockimbel

[12:01](#msg5937eb2d02c480e6721ea69c)@ldci You should rather mention @qtxie, if you want it to be fixed faster. ;-)

Clemens-H

[12:02](#msg5937eb637503e2b7061cb22a)@qtxie We need you! ;-)

ldci

[12:02](#msg5937eb6dca6d4ae80ced84cd)So thanks to @qtxie . Best regards :)

geekyi

[12:10](#msg5937ed41ca6d4ae80ced8c40)qtxie is the MacOS specialist! :p

greggirwin

[16:27](#msg59382975cf9c13503c627e59)Thanks @iArnold, appreciated!

joa-quim

[20:33](#msg59386336e531dbc905beed95)@iArnold  
Thanks ... but a bit evolved.  
I asked about a 64 bits version because I would like to try to use Red GUI building interfaced with Julia and Matlab but can use the 32 bits too.  
But a question I have right now is, can I send an RGB image from one external language such the above that have C FFI capabilities through the libRed API? I've looked at the docs but couldn't find an obvious way to try it.

greggirwin

[20:46](#msg593866386462d8493cee1c8e)@joa-quim, @Clemens-H is also using Julia with Red I believe.

joa-quim

[21:48](#msg593874a502c480e67221451b)Oh, I would love to know more.

qtxie

[22:33](#msg59387f3ce531dbc905bf6427)@ldci @Clemens-H I'm fixing it. :sunglasses:

## Thursday 8th June, 2017

dockimbel

[06:26](#msg5938ee1002c480e67222c22e)@joa-quim No direct support for passing such buffer yet. You could write a loop to copy it pixel by pixel into a Red `image!` buffer, though, that would not be very satisfying I guess. Anyway, passing a raw buffer and loading it as a Red value is a feature we miss currently in libRed, though it should be pretty trivial to add. Let me have a quick look at it.

[07:27](#msg5938fc5c167d046a7d7cc478)@joa-quim A \[`redBinary()`](https://doc.red-lang.org/en/libred.html#\_redbinary) function was added to the libRed API (see the example in the `tests/libRed/test.c`) . You can use it to pass a binary buffer to Red side, from which you can construct an image using following code (assuming your binary! value is referenced by `buffer` word):

```
img: make image! 50x50        ;-- set the right image size here
img/rgb: buffer
;img/rgba: buffer

view [image img]              ;-- visualize the image
```

If your input buffer is in RGB format, you need to use the `/rgb:` setter for loading it, if the buffer is in RGBA format, then `/rgba:`. Let me know how this works for you.

meijeru

[07:32](#msg5938fd80e531dbc905c0fe49)Caution! The refinement for RGBA format is called `/argb`, not `/rgba`. See also issue #2684.

ldci

[07:46](#msg593900d5167d046a7d7cd44c)@joa-quim with Red/System this is possible. I had the same problem when porting OpenCV to Red.`_getBinaryValue: routine [dataAddress [integer!] dataSize [integer!] return: [binary!] /local src p] [ "Get RBG values from OpenCV Image" src: as byte-ptr! dataAddress p: allocate dataSize copy-memory p src dataSize stack/set-last as red-value! binary/load p dataSize binary/load p dataSize ]`and a faster implementation provided by qtxie `; get memory as binary! string ; Thanks to Qtxie for the optimization! getBinaryValue: routine [dataAddress [integer!] dataSize [integer!] return: [binary!]] [ as red-binary! stack/set-last as red-value! binary/load as byte-ptr! dataAddress dataSize ]`. This can help you

[07:49](#msg5939017bf2dd2dba067e788b)Oups `_getBinaryValue: routine [dataAddress [integer!] dataSize [integer!] return: [binary!] /local src p] [ "Get RBG values from OpenCV Image" src: as byte-ptr! dataAddress p: allocate dataSize copy-memory p src dataSize stack/set-last as red-value! binary/load p dataSize binary/load p dataSize ] ; get memory as binary! string ; Thanks to Qtxie for the optimization! getBinaryValue: routine [dataAddress [integer!] dataSize [integer!] return: [binary!]] [ as red-binary! stack/set-last as red-value! binary/load as byte-ptr! dataAddress dataSize ]`

[07:50](#msg593901c5167d046a7d7cd6ca)@qtxie Thanks for fixing macOS problems

endo64

[08:07](#msg593905ac167d046a7d7ce328)How can I use Red as CGI? I tried below script execute with pre-compiled Red console and the automated build Red.exe, both didn't work.  
With pre-compiled console I got no response with red.exe it hangs in background.

```
#!E:/Server/Apache24/cgi-bin/red-cli-console.exe --cgi
Red []
print "Content-Type: text/plain" 
print ""
print "Test"
```

[08:08](#msg59390603ca6d4ae80cf2279f)I also tried with compiled .exe as CGI, which I could easily done with encapped Rebol source, so no configuration issue.

dockimbel

[08:29](#msg59390ae402c480e672233e38)@endo64 Don't use the Red toolchain for that, use the console's binary directly (though, I'm not sure it will read from stdin by default, we might need a flag for that), or you own compiled code.

[08:33](#msg59390bd3e531dbc905c138f8)@joa-quim @meijeru Yes, it's `/rgba`.

endo64

[08:36](#msg59390c7731f589c64f87b4bb)I tried with console binary directly and compiled my source to exe, both didn't work, I see that red-console.exe is at background with the parameter script name: `red-console.exe E:\server\...\test.red` but it hangs in background untill Apache gives timeout error.

dockimbel

[08:48](#msg59390f4bf31c8ced0c1598e9)@endo64 On Linux, this works for me:

```
#!/home/dev/red/console
Red []

print "Hello"
```

[08:48](#msg59390f65e531dbc905c14990)

```
lisp
$ ./cgi.red
Hello
```

[08:50](#msg59390fc131f589c64f87c29f)So it should work fine when called from a webserver. For Windows, I'm not sure, @qtxie would know more about our current stdin support state there.

endo64

[08:59](#msg593911f8ca6d4ae80cf25868)I see, thank you Doc.

qtxie

[09:52](#msg59391e6eca6d4ae80cf28ff0)Yes. The CLI console only support output to stdout, cannot read from stdin.

joa-quim

[09:55](#msg59391f2fe531dbc905c18f28)@dockimbel @ldci Thank'a a lot for such a quick add.  
Let me say that I am still in a very early Red phase and want to have an idea if it is feasible to use the Red GUI system together with Julia and have little to no Red experience, so things are going to be slow for my side.  
@ldci could you point me to your OpenCV wrapper? It guess I might be very useful to me in my learning steps.  
Thanks

rebolek

[09:58](#msg59391fc4f31c8ced0c15dddf)@joa-quim https://github.com/ldci/redCV and https://github.com/ldci/OpenCV3-red

joa-quim

[10:00](#msg593920576549436c7d29ae0f)@rebolek Thanks

Clemens-H

[10:38](#msg5939293b6549436c7d29cf01)@joa-quim My interface to Julia (or any other program) is very simple-minded at the moment. It passes information in a couple of files. I will rewrite it using `open` as soon as sockets are available.

[10:39](#msg59392969142826e972957247)@joa-quim Let me know if you have any questions or I can help.

ldci

[11:20](#msg593932e8ca6d4ae80cf2de6e)What a fast-answering community :)

joa-quim

[11:29](#msg5939350fcf9c13503c66af06)@Clemens-H Thanks. As I said, I still have much work to do before I can come with good questions, but nice to know that there are others also working on a similar thing.

Clemens-H

[12:36](#msg593944e67503e2b7062269be)@joa-quim You are welcome! Red is a very nice language, and I am looking forward to using it more. :clap:

Oldes

[13:23](#msg59394fd3167d046a7d7e2317)@joa-quim you can also find some code for inspiration here: https://github.com/red/code/tree/master/Library For example my ImageMagick binding can give you `image!` from Red/System level too.

geekyi

[13:54](#msg593956fd6462d8493cf1996c)@Clemens-H @joa-quim if you guys build a Julia interface/bridge, I'll use it too ;)

ldci

[13:56](#msg5939579ff31c8ced0c16d83a)@Clemens-H @joa-quim me toi

Oldes

[14:02](#msg593959087503e2b70622c750)Is this what you need? https://docs.julialang.org/en/release-0.4/manual/embedding/ Looks like pretty simple to do.

[14:30](#msg59395f8ccf9c13503c677210)@Clemens-H @joa-quim You can start with \[this](https://gist.github.com/Oldes/61444afa55a0395fde60002a5b345518).

rebolek

[14:44](#msg593962d9cf9c13503c678107)Cool, it works :) http://qyz.cz/cgi-bin/index.cgi

joa-quim

[14:53](#msg593964f1e531dbc905c2c954)@Oldes This is fantastic but bare with me. My initial idea was to process the data in Julia and send it in to Red to be displayed in GUIs that meanwhile I would learn how to design them. That is why I went straight to the redLib.dll because I'm more comfortable with C. From my really low Red understanding (honestly I haven't learned it yet) you are doing the other way around. That is, from Red cam Julia. Fine with me if this is even better.

Oldes

[14:54](#msg5939653a31f589c64f8948a8)Of course.. this is just a simple starter... you would have to write the code for boxing/unboxing Julia values. I will keep it for someone else as I'm not interested in diving into another language for which I have no use.

ldci

[14:55](#msg5939656b7503e2b7062304fc)@joa-quim In this case, you can use "call" to make Julia's code executed and get back the result.

joa-quim

[14:56](#msg593965aa167d046a7d7e8d01)Sorry, hit enter before end. How do I test your prototype? I did a red -c julia.reds and got a julia.exe but it errors at start. Could it be because my Julia is a 64 bits version?

[14:58](#msg5939661fe531dbc905c2d04a)@Oldes Oh, I sure understand that. Thanks a lot for what you have already done.

Oldes

[14:59](#msg5939664d31f589c64f894f10)And it will not be that much easy as I cannot find any function which would return type of the returned value.

ldci

[14:59](#msg5939665cf2dd2dba06802d9a)@joa-quim If your code uses julia library you need a 32-bit compiled lib

joa-quim

[15:00](#msg5939669b142826e9729687d8)@ldci I suspected that. Have to leave now. Will install a 32 bit tonight and try than.

Oldes

[15:00](#msg593966a47503e2b706230b20)Yes... and you must provide path to your julia/bin folder as it is hardcoded in my code.

joa-quim

[15:01](#msg593966c6ca6d4ae80cf3d91f)@Oldes That part was simple.

ldci

[15:01](#msg593966e7167d046a7d7e9449)@joa-quim Good luck

meijeru

[15:19](#msg59396aff02c480e67224eb2e)&gt; @joa-quim @meijeru Yes, it's `/rgba`.  
No, it is `/argb`! And that is what is confusing. See `%runtime/datatypes/image.reds` line 681.

[15:22](#msg59396bbf31f589c64f896ad9)The symbolic constant for this is also called `EXTRACT_ARGB`.

[15:24](#msg59396c216549436c7d2b03cc)`>> i: make image! 2x2 == make image! [2x2 #{FFFFFFFFFFFFFFFFFFFFFFFF}] >> i/rgba *** Script Error: cannot access rgba in path [script invalid-path] *** Where: catch *** Stack:`\`

dockimbel

[15:38](#msg59396f5ae531dbc905c2ff81)@meijeru Sorry, made the mistake twice in a row, should not chat while coding. ;-)

Clemens-H

[15:45](#msg59397126cf9c13503c67c250)@joa-quim @Oldes @ldci @geekyi (Hope I didn't forget anyone.) The reason why I didn't follow the FFI route is the 32-bit/64-bit problem. Another reason why I am mainly interested in sockets is that the Julia code may eventually run on a different computer. So I am looking forward to `open` and sockets!

[15:48](#msg593971ea7503e2b706233fd4)@Oldes Wow, the Julia bindings look great, thanks! Still, I would have to compile my own 32-bit Julia till there is a 64-bit Red. The `ret` value returned by `jl_eval_string` is just a `byte-ptr!`, right? How can one convert it to a Red `string!`?

[15:51](#msg593972737503e2b706234301)In other words, I would send string representations of Julia and Red values back and forth on sockets. One only has to write functions to write values, not to parse them.

greggirwin

[18:55](#msg59399dacca6d4ae80cf4e071)I started a wiki page for those of you using Julia and Red together: https://github.com/red/red/wiki/Combining-Red-and-Julia

[18:56](#msg59399dd5f31c8ced0c182ed0)Please add notes and findings as you make them. If you all get the facts in there, we can always clean things up later.

Clemens-H

[19:25](#msg5939a4a431f589c64f8a76d3)@greggirwin Good idea!

greggirwin

[19:26](#msg5939a4eaf2dd2dba06815494)Glad you think so, since I don't know Julia, I will learn from what you put there. :^)

## Friday 9th June, 2017

geekyi

[03:32](#msg593a16e56549436c7d2daaba)@Clemens-H @joa-quim @ldci I wasn't able to get it working on 32-bit `libjulia-debug.dll` on Win 10. No error, nothing. Maybe I should start Red/System from scratch. Are there any tools you use to debug?

[03:33](#msg593a16f86462d8493cf4bd2b)With @Oldes code

dockimbel

[04:06](#msg593a1ec5142826e9729969bc)I'm very interested in this Red+Julia experiment too. :+1:

[04:13](#msg593a207902c480e67227b5e7)BTW, what is the disk footprint of libJulia?

rebolek

[05:08](#msg593a2d47f2dd2dba06832fdb)When using Red as CGI, is there a way to get GET or POST input data?

[06:09](#msg593a3ba5e531dbc905c6177d)Yes, there is :)

michaeldesu

[06:12](#msg593a3c4a7503e2b706264332)@rebolek sounds great, how? This is a really interesting application of Red

rebolek

[06:13](#msg593a3c81f31c8ced0c1a6743)@michaeldesu not a built-in one (yet), but it's not hard. I will post some code soon.

michaeldesu

[06:13](#msg593a3c9402c480e672280e7b):thumbsup:

rebolek

[06:37](#msg593a42257503e2b706265783)@michaeldesu The code is here - https://github.com/rebolek/red-tools/blob/master/http-tools.red . You need just the server side part of that file, the rest is for client side stuff. Usage is easy, run that file in your CGI script and you will have headers available in `http-headers`, voilà. The `http-headers` object is modeled after Rebol's `system/options/cgi` (see http://www.rebol.com/docs/cgi2.html for details).

[06:38](#msg593a4254f31c8ced0c1a7b97)To see it in action, you can take a look at http://qyz.cz/cgi-bin/headers.cgi?x=y

toomasv

[06:54](#msg593a4616436860af4cedb8a0)@rebolek :clap:

rebolek

[06:55](#msg593a465bca6d4ae80cf73ead)Hm, I should reconfigure Apache, so I can use `.red` extension ;)

michaeldesu

[07:13](#msg593a4aa3f31c8ced0c1a98fc)@rebolek thanks alot - looks really great!

rebolek

[07:20](#msg593a4c4e6462d8493cf56a9e)@michaeldesu You're welcome, if I knew it's so easy to write, I would do it long time ago ;)

Oldes

[08:33](#msg593a5d71cf9c13503c6b5541)&gt; BTW, what is the disk footprint of libJulia?

I installed Julia v0.5.2 32bit and it is using 208MB of my disk now. Bin folder has 106MB. Nothing like Red:) libjulia.dll has 17MB but it requires other libs from the bin folder.

greggirwin

[09:11](#msg593a663e7503e2b70626e951)@rebolek, `%.rgi` = Red Gateway Interface. :^)

rebolek

[09:14](#msg593a6711e531dbc905c6c332):)

[09:17](#msg593a67c202c480e67228b96a)BTW, the CGI works for `GET` method only yet.

joa-quim

[09:21](#msg593a68a0ca6d4ae80cf7d312)@geekyi @Clemens-H @ldci  
I couldn't make it work too, but I'm assuming excess ignorance from me. This is what I did

```
V:\>C:\programs\red\red-062.exe -c julia.reds

-=== Red Compiler 0.6.2 ===-

Compiling V:\julia.reds ...

Target: MSDOS

Compiling to native code...
...compilation time : 189 ms
...linking time     : 18 ms
...output file size : 25600 bytes
...output file      : V:\julia.exe


V:\>julia

V:\>
```

\`  
That is I run the executable and nothing happened. No errors, no number.

Oldes

[09:33](#msg593a6b64e531dbc905c6d8b4)I have updated the \[gist with version info](https://gist.github.com/Oldes/61444afa55a0395fde60002a5b345518) and this is what I get:

```
c:\dev\GIT\Red>julia
initialized: 1
Julia Version 0.5.2
Commit f4c6c9d (2017-05-06 16:34 UTC)
Platform Info:
  OS: Windows (i686-w64-mingw32)
  CPU: Intel(R) Core(TM) i7-4910MQ CPU @ 2.90GHz
  WORD_SIZE: 32
  BLAS: libopenblas (DYNAMIC_ARCH NO_AFFINITY Nehalem)
  LAPACK: libopenblas
  LIBM: libopenlibm
  LLVM: libLLVM-3.7.1 (ORCJIT, haswell)
sqrt(2.0) = 1.4142135623730951
```

joa-quim

[09:42](#msg593a6d9fcf9c13503c6ba086)So what am I doing wrong? I compiled your example with

```
C:\programs\red\red-062.exe -c julia.reds
```

\`  
and run it after, and still nothing is printed.

Oldes

[09:52](#msg593a6fc5436860af4cee6be7)I don't know... run command: `versioninfo()` in julia's console.

joa-quim

[10:05](#msg593a72f6142826e9729aa093)versioninfo is always run when one starts the julia console.  
I thought it could be some sort of contamination from my other 64 bits Julia but I was careful with the paths and Dependency Walker confirms that the executable is correctly depending on the 32 bits libjulia.dll

Oldes

[10:08](#msg593a73ad7503e2b70627280a)`versioninfo()` is not executed when I start Julia console.

joa-quim

[10:11](#msg593a7464f2dd2dba06844220)Sorry, you are right. It's some other info that is printed. This is my version info, and yes am using julia 0.6 which is very close to be released

```
julia> versioninfo()
Julia Version 0.6.0-rc3.0
Commit ad290e93e4* (2017-06-07 11:53 UTC)
Platform Info:
  OS: Windows (i686-w64-mingw32)
  CPU: Intel(R) Core(TM) i7-4870HQ CPU @ 2.50GHz
  WORD_SIZE: 32
  BLAS: libopenblas (DYNAMIC_ARCH NO_AFFINITY Nehalem)
  LAPACK: libopenblas
  LIBM: libopenlibm
  LLVM: libLLVM-3.9.1 (ORCJIT, haswell)
```

\`

[10:18](#msg593a75f67503e2b706273230)Can you please try with my \[executable](http://w3.ualg.pt/~jluis/lix/julia.exe)?

Oldes

[10:20](#msg593a766502c480e67228fa1d)It will not work as there is the hardcoded path which you pass on init.

rebolek

[10:25](#msg593a778602c480e67228ff68)I've added info about CGI to Wiki: https://github.com/red/red/wiki/Using-Red-as-CGI

Oldes

[10:25](#msg593a779cf2dd2dba06844e8f)Also.. I must have in PATH: `c:\dev\Julia-0.5.2\bin\` else I get os error that some library cannot be found and get no output too.. in your case probably some other library is used and program quits silently. or I don't know:) try to add some print before the import in R/S code.

[10:27](#msg593a77f4cf9c13503c6bce1c)Anyway... to me the julia binding code looks like a not documented mess... (but I'm not C expert) to get returned type of the value is difficult.

michaeldesu

[10:27](#msg593a781aca6d4ae80cf812b6)@rebolek thanks for your time, as always (you read my mind -&gt; Wiki)

joa-quim

[10:27](#msg593a781b436860af4cee8d65)Why? It's not hardcoded path but a dll that will be found in your computer. I am looking a the Dependency Walker and if I change my path it finds the same dll in a different location.  
Not working would mean that we could not compile in one machine and distribute the program to others.

Oldes

[10:38](#msg593a7a926549436c7d2f1ba4)This is \[hardcoded path](https://gist.github.com/Oldes/61444afa55a0395fde60002a5b345518#file-julia-reds-L65)

joa-quim

[10:47](#msg593a7cb4cf9c13503c6be4dc)Yes, but that doesn't mean the libjulia.dll has to be located at that path when the program is executed. A valid libjulia.dll needs to be found in the computer where it is run but can be elsewhere, as long as Windows can find it ofc.

Oldes

[10:50](#msg593a7d5ef31c8ced0c1b7284)When I run your exe, I get system error, that `libjulia.dll` is missing.

[10:51](#msg593a7dc1e531dbc905c72816)Sorry.. I had removed the path to bin folder... so this is what I get with your exe:

```
c:\Users\Oldes\Downloads>julia
ERROR: System image file "c:\programs\Julia32-0.6\lib\julia\sys.dll" not found.
```

[10:52](#msg593a7dd9436860af4ceea340)I bet that it is your hardcoded path:)

joa-quim

[10:58](#msg593a7f4c31f589c64f8da0cc)Close. My hardcoded path is

```
"c:\programs\Julia32-0.6\bin\"
```

`not lib`\`. I wonder if now we are not facing troubles due to different julia versions.  
This is an important thing because, as I mentioned before, if we cannot build in one place and distribute the usefulness of the whole process is drastically reduced.  
Let's try the other way around. Can you make you exe available to me so I can investigate more this issue?

Oldes

[11:23](#msg593a8531cf9c13503c6c084b)Because Julia is looking for `..\lib\julia\sys.dll` from the path provided during init.

[11:24](#msg593a855f6549436c7d2f44b0)I can add the path as an argument:)

joa-quim

[11:28](#msg593a8651cf9c13503c6c0d76)It's a confusing situation I agree and probably should be raised to the Julia developers. But remember that it found your libjulia.dll that is located at a different place than my hardcoded path.

Clemens-H

[11:33](#msg593a87906462d8493cf65b25)@qtxie @dockimbel The macOS build works again. Thanks!

Oldes

[11:38](#msg593a88c602c480e672294328)@joa-quim Gist \[updated](https://gist.github.com/Oldes/61444afa55a0395fde60002a5b345518) now you can do:

```
c:\dev\GIT\Red>julia c:\dev\Julia-0.5.2\bin\
Julia home dir: c:\dev\Julia-0.5.2\bin\
Starting Julia...
sqrt(2.0) = 1.4142135623730951
ret?: VAL 0F014010 has: 0F010350 0F010350 0F011010 00000050 00000050 00000050 00000050 00000050
ret?: VAL 0F01B050 has: 00000002 0F010450 00000202 0F0104D0 00000202 0F010390 00000003 0F010450
ret?: VAL 0F01B050 has: 00000002 0F010450 00000202 0F0104D0 00000202 0F010390 00000003 0F010450
```

joa-quim

[11:52](#msg593a8bf402c480e672295238)Thanks, now it says something but very little

```
V:\>julia c:\programs\Julia32-0.6\bin\
Julia home dir: c:\programs\Julia32-0.6\bin\
Starting Julia...
```

\`  
I will install julia 0.5 to see if it makes a difference.

Oldes

[11:57](#msg593a8d0cca6d4ae80cf86719)It is not Red problem.. it is your os/julia mis-configuration.

[11:57](#msg593a8d24cf9c13503c6c2dce)Maybe don't use Julia's beta version:)

joa-quim

[12:04](#msg593a8ed86462d8493cf67eb8)Ghrrrr. That was it. With 0.5 it works.  
I must warn the Julia devs. Is there anyway I could reference this "talk" in another place?

Oldes

[12:11](#msg593a906f31f589c64f8dec25)Alt+click on the time of the starting message.

joa-quim

[12:16](#msg593a919eca6d4ae80cf879d2)I see, thanks.

Oldes

[12:37](#msg593a96856462d8493cf69f9b)@joa-quim I've updated the gist again.. showing how to get integer and string returned from Julia.

geekyi

[12:58](#msg593a9b8e6462d8493cf6b565):point\_up: \[June 9, 2017 4:23 PM](https://gitter.im/red/red?at=593a8531cf9c13503c6c084b)  
&gt; Because Julia is looking for `..\lib\julia\sys.dll` from the path provided during init.

Oh.. I remember something like this before! Moving the julia.reds exe to julia's `\bin\` folder indeed fixed it for me! So maybe just changing \*current working directory* might fix it I guess?

[13:23](#msg593aa146e531dbc905c7c429)Hmm.. still doesn't work with updated gist. WIth or without `C:\Users\XX\AppData\Local\Julia-0.5.2\bin` argument.

[13:23](#msg593aa15a7503e2b70627e682)But copying to julia bin folder works tho (with assertion failure, maybe because I'm using `libjulia-debug.dll`).

Oldes

[14:52](#msg593ab61df31c8ced0c1c6acd)

```
--== Red 0.6.2 ==-- 
Type HELP for starting information. 

>> julia/init "c:\dev\Julia-0.5.2\bin\"
dir: c:\dev\Julia-0.5.2\bin\
== true
>> julia/do {2.0}
== 2.0
>> julia/do {sqrt(2.0)}
== 1.414213562373095
```

Clemens-H

[14:53](#msg593ab65af2dd2dba06856c0d)Cool!

Oldes

[14:53](#msg593ab685f31c8ced0c1c6c59)Current problem is, how to handle errors in Julia code, because on Julia's error now Red closes itself.

[14:54](#msg593ab6a302c480e6722a1fde)Also output from Julia is not visible in Red's GUI console.

Clemens-H

[14:55](#msg593ab6d6f2dd2dba06856df7)Wrap everything in Julia into `try catch end` and do your own error handling?

Oldes

[14:55](#msg593ab6ef6462d8493cf73bcf)I'm not familiar with Julia code:)

[14:55](#msg593ab6fe436860af4cefa7d0)I will post current state.

Clemens-H

[14:56](#msg593ab71831f589c64f8eaa60)`try sqrt(2.0) end` should never raise an error.

[14:56](#msg593ab732f2dd2dba06856efd)`try sqrt(2.0) catch exception println(exception) end` would be simple error handling.

Oldes

[15:16](#msg593abbb631f589c64f8ec459)I'm not sure if I should do it.. if it is not on user to handle it in provided Julia code.  
Here is what I did: https://github.com/red/code/pull/53  
If you want to use it in console, just add line like this one:

```
#include %../../../Red-code/Library/Julia/Julia.red
```

\[here](https://github.com/red/red/blob/master/environment/console/gui-console.red#L21) of \[here](https://github.com/red/red/blob/master/environment/console/console.red#L16)

[15:17](#msg593abc22e531dbc905c84cec)`println` and similar are not visible in the gui-console, co using it in classic console is probably better:)

Clemens-H

[15:19](#msg593abc78f31c8ced0c1c8c66)Nice!

joa-quim

[15:21](#msg593abcef02c480e6722a418c)@dockimbel and all new Julia fans. I started a new \[Red.jl](https://github.com/joa-quim/Red.jl) to call Red from Julia. The example I added in the Usage shows that the communication works. But unfortunately, it also fails for the graphical parts. For example

```
julia> redOpenLogWindow()
0
```

`as fails a call to view to view the img`\` image.  
Any idea why?

rebolek

[15:54](#msg593ac4caf2dd2dba0685acfd)I've got a string `áéíóú` that is URL encoded to `%E1%E9%ED%F3%FA`. When trying to `dehex` it, I get following error:

```
*** Access Error: invalid UTF-8 encoding: #{E1E9ED25}
```

I don't get the error, when converted to string, it is `áéí%`. Why?

dockimbel

[16:00](#msg593ac600436860af4ceff4ec)@joa-quim Try something like this to see the image:

```
bin = redBinary(img, 16*16);    # Send the img array to Red
redProbe(bin);

redSet(
	redSymbol("img"),
	redCall(redWord("make"), redWord("image!"), redBlock(redPair(16,16), bin))
);
redDo("view [image img]");
```

greggirwin

[16:00](#msg593ac60ce531dbc905c87d6d):point\_up: \[June 9, 2017 4:25 AM](https://gitter.im/red/red?at=593a778602c480e67228ff68) CGI Wiki. Thanks Bolek!

rebolek

[16:01](#msg593ac65b436860af4ceff714)With my simple `url-decode` function I just wrote, it can be decoded just fine. Is it a bug?

```
url-decode: function [
	string [string!]
] [
	out: make string! 100
	parse string [some [#"%" copy value 2 skip (append out to char! to integer! append value #"h") | set value skip (append out value)]]
	out
]
```

[16:03](#msg593ac6b931f589c64f8ef885)@greggirwin You're welcome, it is just start. I will update the wiki once I'll add some necessary stuff to `http-tools`.

joa-quim

[16:04](#msg593ac7096549436c7d306be0)@dockimbel Unfortunately I can't try that right now because redCall was one of the fews that I did not make ccall wrapper (never remember how to deal with the vararg cases). But I did try what you had suggested to me before

[16:05](#msg593ac74731f589c64f8efc16)

```
julia> cmd = "img: make image! 50x50
              img/rgb: buffer
              view [image img]";

julia> redDo(cmd)
Ptr{Void} @0x28b55658

julia> redDoFile("/v/ve_img.red");
```

\`  
which do nothing. No error, no result.

greggirwin

[16:06](#msg593ac783f2dd2dba0685ba05)Would one of the Julians get the important notes in the wiki? Lots of good info here that shouldn't be lost.

joa-quim

[16:16](#msg593ac9c2f2dd2dba0685c6a6)@greggirwin Add the bit about the Red.jl package.

greggirwin

[17:24](#msg593ad9bfd83c50560cf1a0e8)Thanks @joa-quim !

iArnold

[21:10](#msg593b0eaf6462d8493cf8ca9e)Time for a Julia set, eh, group?

rebolek

[21:14](#msg593b0fb96549436c7d31ac69) That would be nice, because questions about Red get buried here :)

## Saturday 10th June, 2017

dockimbel

[01:45](#msg593b4f446462d8493cf9a1ad)@rebolek I've opened a ticket about that `dehex` issue, as it looks odd to me.

qtxie

[03:56](#msg593b6de3cf9c13503c6fb334)@rebolek A string `áéíóú` should be encoded to `\xC3\xA1\xC3\xA9\xC3\xAD\xC3\xB3\xC3\xBA` in UTF-8

rebolek

[06:07](#msg593b8c8fcf9c13503c700e2f)@dockimbel Thanks.

[06:07](#msg593b8ca4ca6d4ae80cfc4024)@qtxie that encoded string is coming from browser, I am not sure how exactly it encodes, I have to into it deeply. Anyway, I don't understand how the error message came with `áéí%`.

michaeldesu

[09:43](#msg593bbf3931f589c64f926129)ok I embarrass myself with the obvious :smile:

```
>> if a/x [print "exist"]
exist
```

rebolek

[09:44](#msg593bbf88d83c50560cf49f59):)

[09:45](#msg593bbfb46462d8493cfaeb5d)Finding the answer yourself is best way to learn.

geekyi

[10:45](#msg593bcdb56549436c7d33f4ca)@michaeldesu red/help room is best for questions about code, so as not to clutter here. For next time😉

joa-quim

[20:53](#msg593c5c4eca6d4ae80cff03c4)@dockimbel I implemented redCall &amp; redBlock in Red.jl and run the command you suggested, but still nothing pops up.

## Sunday 11st June, 2017

dockimbel

[01:27](#msg593c9c6831f589c64f9540d2)@joa-quim Let me check with the C test script to see if we don't have a regression.

[03:55](#msg593cbf4bd83c50560cf7d0f3)Using the C tests script, I can open a View window, but the log window doesn't show up. @qtxie

[03:59](#msg593cc01c142826e972a2c9b5)@joa-quim In your code, you are trying to import `redTouple` and `redTouple4` functions, which do not exist (you need to remove the `o` character there).

[04:31](#msg593cc7a67503e2b7062f592d)@joa-quim View called from Julia (0.5) works here:

[04:31](#msg593cc7b1d83c50560cf7e80d)\[!\[image.png](https://files.gitter.im/red/red/DlYz/thumb/image.png)](https://files.gitter.im/red/red/DlYz/image.png)

[04:32](#msg593cc7f202c480e6723125a6)Now, let's try with an image passed by Julia...

[04:36](#msg593cc8cc02c480e672312810)\[!\[image.png](https://files.gitter.im/red/red/1tZK/thumb/image.png)](https://files.gitter.im/red/red/1tZK/image.png)

[04:37](#msg593cc8f77503e2b7062f5d55)Works fine too from first try (using the code I provided above). :sparkles:

[06:07](#msg593cde32e531dbc905cf87fb)@joa-quim With latest improvements to libRed and the Julia binding (see my PR), the sample code for passing a RGB buffer, converting it to a Red `image!` and displaying it in a window is reduced to:

```
using Red
redOpen()
img = rand(UInt32, 16,16)       # Generate a random 'image' array
redSet(redSymbol("img"), redImage(16, 16, img, 0))
redDo("view [image img]")
redClose()
```

[06:09](#msg593cdeb4d83c50560cf8269b)Notice that:  
\* I switched to `UInt32` as RGB values have to be provided as 24-bit values per pixel.  
\* I passed `0` as last argument to `redImage()`, as the `RED_IMAGE_FORMAT_RGB` is not resolved (not sure why, but I guess it should work once you merge my PR and I upgrade the package locally).  
\* You can also pass an ARGB buffer, just use `1` (or `RED_IMAGE_FORMAT_ARGB`) for the image format argument.

joa-quim

[12:15](#msg593d346002c480e6723281b9)@dockimbel COOL it works fine. Thanks for the new function.  
I have a question though about the integer types used in libRed.dll. Why using long? This is a head-ache for 64 bits portability. The issue is that long is always int32 on Windows (regardless if the build is 32 or 64) but is int32 or int64 in linux/OSX, depending on the build type.

dockimbel

[12:21](#msg593d35cd6462d8493cffb3f7)@joa-quim Well, it is \[supposed](https://en.wikipedia.org/wiki/C\_data\_types#Basic\_types) to be the correct C type for a 32-bit integer. If we specify an `int`, some platforms might rightfully use a 16-bit integer. C portability is a wishful thinking in practice. ;-)

[12:23](#msg593d363302c480e672328a4b)I guess we'll replace it with a macro once we get 64-bit support, unless you have a simpler alternative to suggest? According to this \[SO entry](https://stackoverflow.com/questions/384502/what-is-the-bit-size-of-long-on-64-bit-windows), we'll probably adopt `int32_t` and `int64_t` standards.

joa-quim

[12:27](#msg593d371b31f589c64f971f3c)Yes, it is at least 32 bits in size but can be also 64. I'm talking from experience we had in porting a large package (\[GMT](http://gmt.soest.hawaii.edu/projects/gmt/wiki)). What we use in GMT is int32\_t uint32\_t int64\_t uint64\_t.

dockimbel

[12:27](#msg593d373a02c480e672328d35);-) So, C99 seems to be the way to go.

asampal

[17:38](#msg593d800f0221ce4803bfbb00)Thanks @joa-quim @dockimbel - really happy to see integration between Red and Julia. The benefit is two-way, especially in the near to mid-term until both languages gain native support in the areas the other language is strong in. For Red, embedding Julia opens the door to big data, scientific, parallel, GPU computing in general. Going the other way, embedding Red in Julia gives it access to easy GUIs, parsing, DSLs/dialects, mobile platforms (soon).  
I second @rebolek's request - it'd be nice to have a red/julia section in order to keep things on topic.

JeffreySarnoff

[18:05](#msg593d866f6549436c7d3990a4)+1 thank you to @joa-quim @dockimbel  
3rd request of @rebolek 's request for a Red&lt;=&gt;Julia section

greggirwin

[19:08](#msg593d9548e531dbc905d22866)Great progress all! Please make sure to update the wiki page.

geekyi

[19:23](#msg593d9897142826e972a5a5e5)@JeffreySarnoff @asampal , I'd rather wish for a ffi, interop, or other similar one. Alternatively, since @ldci has a Julia.red repo, he can make a room for that

JeffreySarnoff

[21:02](#msg593dafdc31f589c64f98d554)@geekyi ... I see the 64-bit version of Red has yet to land. Is it so different from the 32-bit version on all platforms?

geekyi

[21:03](#msg593db00631f589c64f98d618)@JeffreySarnoff https://github.com/reddoc/develop/wiki/DEV-GOAL-64-bit-support

[21:03](#msg593db02b6549436c7d3a329d)Also the discussion above :point\_up: \[June 11, 2017 5:21 PM](https://gitter.im/red/red?at=593d35cd6462d8493cffb3f7) about `int` is relevant

greggirwin

[21:24](#msg593db50202c480e672345586)@geekyi, that is not official documentation, other than the small quote from Doc.

@JeffreySarnoff, it \*is* so different, because Red's toolchain is completely self-contained. It's not just turning on a compiler switch for gcc or something. Red emits machine code directly, so there are no external dependencies of any kind. For cross platform compiling, it also means that Red can compile \*to* any platform \*from* any platform.

geekyi

[21:27](#msg593db5a56549436c7d3a4619)@greggirwin yes, I meant to reference that quote actually, it was faster than searching in the wiki :D

[21:28](#msg593db5f1f6a78eab483b8f73)https://github.com/red/red/wiki/Guru-Meditations#why-is-red-32-bit-only

[21:29](#msg593db65531f589c64f98e823)@JeffreySarnoff \[FAQ](https://github.com/red/red/wiki/FAQ) and \[Guru Meditations](https://github.com/red/red/wiki/Guru-Meditations#why-is-red-32-bit-only) are most useful if you want to know about design problems

greggirwin

[21:35](#msg593db7936462d8493c019797)It will lead to a lot of interesting chat I imagine. If computer just kept getting bigger, we'd just want to fill the value slots as they grow, but with IoT and SBCs, is that too much overhead, or will it massively complect Red/System with various targets.

## Monday 12nd June, 2017

PeterWAWood

[00:47](#msg593de4bf6462d8493c0228cb)@geekyi The Github repository that you referred to in :point\_up: \[June 12, 2017 5:03 AM](https://gitter.im/red/red?at=593db00631f589c64f98d618) does not refer to the goals of the Red project. It isn't a valid source for information about Red's goals, design, strategy, roadmap or decisions taken. It is more a third-party commentary on them.

iArnold

[07:30](#msg593e431f6549436c7d3c1e61)Exactly as Peter states here @geekyi and all others. For the record I want to mention that I do not publicly promote my efforts in the official Red channels just to avoid the mix up with official sources. The main page of the wiki states that clearly enough, if not I'll try to make it more clear.  
I do sometimes point toward it in Personal messages (and an occasional mention for yet another one of those feature requests, I confess that).  
Main reason behind starting my efforts there are that I really like Red and I too would like to see all those fancy features to come true sooner than later. I became tired of lurking, waiting and basically sitting on my own hands doing nothing so I decided to stop procrastinating and just do something.  
So it got where it is today, and I really can say I learned a lot from what I have done sofar and I can recommend everyone to come out of hibernation mode, if you haven't already done.

## Tuesday 13th June, 2017

joa-quim

[15:00](#msg593ffe20f31c8ced0c304a6f)@Oldes @dockimbel The Julia 0.6 issue is apparently \[solvable](https://github.com/JuliaLang/julia/issues/22320) by compiling with a /Stack:8000000 though I don't know if the Red compiler has an option to do that. There is also a PR in Julia that is supposed to solve this too.

[15:10](#msg594000506549436c7d4387e1)@dockimbel Please have a look at the new example in \[Red.jl](https://github.com/joa-quim/Red.jl). As I say in the example the image is not correct but I'm amazed that it is even so close. The size numbers in the example (3,361,591) mean 3 layers, 361 rows and 591 columns, or an array of \[3 x 361 x 591] It shouldn't come out with the colors in first plane but that is a GMT issue that tries to deal with many different memory layouts.  
My question is what is the memory layout used by Red to display images?  
By this I mean are they row-major, color-major, start from Top Left, Bottom Left?  
And I'm guessing from a previous statement that even if transparency is not used, the images must still be RGBA.

dockimbel

[15:15](#msg59400175142826e972af9195)@joa-quim I just saw your GMT demo, nice! Expected formats for image input buffers are:  
\* RGB: each pixel has a 24-bit `rrggbb` layout format.  
\* ARGB: each pixel has a 32-bit `aarrggbb` layout format.

First pixel is the top-left pixel, last pixel is the bottom-right one.

joa-quim

[15:19](#msg59400293f6a78eab48450aa8)Ah, OK they are Pixel interleaved. And start from TopLeft?

dockimbel

[15:20](#msg594002a3142826e972af96b3)Right. We also have internally an RGB interleaved plane + alpha channel plane, which could maybe be exposed as an input format, if that can help.

joa-quim

[15:30](#msg59400529f31c8ced0c3077be)That would be helpful. Images from GMT can come as pixel interleaved but also as band interleaved. This later is the natural format when GMT reads and image (via another library called GDAL) which can read a LOT of formats. Having to convert it to pixel interleaving means an image copy has to be made.

dockimbel

[15:34](#msg59400601142826e972afa8d4)@joa-quim About the Julia 0.6 bug, you should better wait for an official fix. In the meantime, if you run the Red toolchain from sources, you can pass the reserved stack to  
`#{08000000}` by modifying the source code \[there](https://github.com/red/red/blob/master/system/formats/PE.r#L785) (for Windows). That will reserve 80MB instead of the default 1MB for the native stack. (No compilation option for that yet.)

joa-quim

[15:39](#msg59400729ca6d4ae80c0d49dc)@dockimbel Right. I mentioned the stack size in case this issue strikes again.

## Friday 16th June, 2017

joa-quim

[23:17](#msg5944670f02c480e67250541b)@dockimbel Not really surprised that this didn't work (from Julia side)

```
using Red

function blabla()
	println("Blabla")
	return 0
end

cf = cfunction(blabla, Int, (),);
redOpen()
redRoutine(redWord("blabla"), "", cf);

cmd = "view [backdrop yellow  t: text  yellow \"Hello World !\" 
    button \"Click\" [blabla] 
]"

redDo(cmd)
```

`

`

```
julia> include("test_cb.jl")
*** Script Error: blabla has no value
*** Where: act
*** Stack: view do-events do-actor do-safe
```

\`  
but is there a way that something like this would work?  
I once did this sort of things with a library called IUP where they have a function called \*IupSetCallback* specially for the purpose to assign callbacks to widgets.

## Saturday 17th June, 2017

geekyi

[01:49](#msg59448a9f142826e972c24e8f)@joa-quim Not sure if this \[libred note](https://doc.red-lang.org/en/libred.html#\_redroutine) is relevant:  
&gt; The C function must return a Red value (redUnset() can be used to signify that the return value is not used)

[01:53](#msg59448b9ed83c50560c171dd9)If you're the kind of person that groks from looking at data, the list of red runtime \[datastructures](https://github.com/red/red/blob/master/runtime/datatypes/structures.reds) might be useful

dockimbel

[04:12](#msg5944ac22142826e972c2b500)@joa-quim You should check the returned value type from `redRoutine()`, using `redTypeOf()`, you would probably see a `RED_TYPE_ERROR`, as the second argument passed is invalid.

[04:16](#msg5944ad0bca6d4ae80c206276)A routine is a function type in Red that allows to call a low-level routine from Red level (similar to `cfunction()` in Julia). So it needs to have a proper \[function spec](http://www.rebol.com/docs/core23/rebolcore-9.html#section-3.1) declaration as second argument. In your case above, an empty block is required to signify "no arguments", so the line should be:  
`redRoutine(redWord("blabla"), "[]", cf);`

[04:16](#msg5944ad3bd83c50560c17856a)If `cf` implements the C ABI, then it should work fine.

[04:18](#msg5944ad9531f589c64fb5e75e)Another thing, you can avoid the `\"` escaping by using the alternative literal form for strings in Red/Rebol: `{}` , so , e.g, `\"Click\"` becomes `{Click}` (easier to type, easier to read).

[07:47](#msg5944de90e531dbc905f0548d)@joa-quim Following Julia script works fine here:

```
using Red

function blabla()
    println("Blabla")
    return redInteger(0)
end

cf = cfunction(blabla, Ptr{Void}, (),);
redOpen()
redRoutine(redWord("blabla"), "[]", cf);

cmd = "view [backdrop yellow  t: text  yellow {Hello World !}
    button {Click} [blabla] 
]"

redDo(cmd)
```

[07:56](#msg5944e0acca6d4ae80c2106df)@joa-quim If possible in Julia, it would be nice to have a `red_value` alias for `Ptr{Void}`.

maximvl

[07:57](#msg5944e0e1cf9c13503c947be4)hey guys, I missed all the hype

[07:57](#msg5944e0ebcaf4d68d6f421bd2)why do we integrate Red and Julia?

rebolek

[07:58](#msg5944e136142826e972c35d1c)As I understand it, why not.

maximvl

[08:00](#msg5944e19302c480e67251bd9d)wouldn't it be better to spend that time on IO and Red's own stuff?

geekyi

[08:25](#msg5944e77d142826e972c37060)@maximvl integrate everything! Personally, it has helped me learn a bit of libred and R/S

maximvl

[08:41](#msg5944eb2b6462d8493c1f3b6e)@geekyi that's great, just integrations feels off the track while core of the language is not complete

dockimbel

[09:43](#msg5944f9c9f6a78eab485900b5)@maximvl  
&gt; why do we integrate Red and Julia?

We don't. @joa-quim does it, we just provide support, fixes and small improvements to libRed which benefit to all users of libRed. Same kind of support we provide to all other Red users.

DonaldTsang

[16:01](#msg594552536549436c7d58a74b)\*\*Long time no see everyone!\**

[16:12](#msg594554d76549436c7d58af26)Hi @dockimbel

greggirwin

[16:28](#msg594558b602c480e67253571e)Hi @DonaldTsang!

DonaldTsang

[19:42](#msg59458629f31c8ced0c46cd34)@greggirwin Was working on other projects for the last three months... wew

joa-quim

[19:48](#msg59458770142826e972c59f96)@dockimbel Thanks, yes it works here too. So cool.

&gt; it would be nice to have a red\_value alias for Ptr{Void}

You mean, adding a const red\_value = Ptr{Void} to red\_h.jl? (Sure)

## Sunday 18th June, 2017

dockimbel

[02:59](#msg5945ec7acaf4d68d6f45a19c)@joa-quim Yes, that would be more readable, and more conform to libRed API.

DonaldTsang

[12:21](#msg5946703bca6d4ae80c262927)@dockimbel @greggirwin After dabbling with bash, PHP, Python, JavaScript and C, I am for certain that you can't just unify all programming languages

9214

[12:25](#msg5946713aca6d4ae80c262d4a)@maximvl @DonaldTsang howdy-do! :hand:

DonaldTsang

[12:48](#msg59467680142826e972c88a5c)@9214 Yo!

greggirwin

[21:37](#msg5946f29931f589c64fbddaae)@DonaldTsang, of course. All languages are not created equal, even if Turing complete. I've heard anecdotes that a lot of big companies are adopting Node.js not because it's a technically superior solution, but because they can leverage their JS knowledge on the back end and the cognitive load of combining languages is counterproductive. As if using the same language everywhere has value. Who would believe such nonsense? ;^)

joa-quim

[22:15](#msg5946fb9f02c480e67258d0bf)@dockimbel Done (the red\_value)

## Monday 19th June, 2017

dockimbel

[06:17](#msg59476c906462d8493c27c6b8)@joa-quim Thanks. I noticed that View windows when launched from Julia do not use Window's Visual Styles by default, because the Julia executable does not include the right manifest in the executable resource. I've injected manually the manifest part required in julia.exe and that gives then a nicer look:

[06:18](#msg59476c9aca6d4ae80c29aa2f)\[!\[image.png](https://files.gitter.im/red/red/hgQn/thumb/image.png)](https://files.gitter.im/red/red/hgQn/image.png)

[06:19](#msg59476cd631f589c64fbf7b21)@joa-quim The required part in manifest file is:

```
<dependency>
    <dependentAssembly>
      <assemblyIdentity type='win32'  name='Microsoft.Windows.Common-Controls' version='6.0.0.0' 	processorArchitecture='*' publicKeyToken='6595b64144ccf1df' language='*' />
    </dependentAssembly>
  </dependency>
```

[06:21](#msg59476d4de531dbc905f93d17)I don't know if there's a compilation option in Julia's builder for that, though it might be something worth adding to the default configuration for Windows target.

geekyi

[08:20](#msg5947894e02c480e6725acf9a)Is travis failing for Mac since red/red@b945710 ? :/ It looks like a general test failure to me

[08:29](#msg59478b50f31c8ced0c4db3b0)What I've noticed is if its a `** - unicode******************************************0 / 1 **`, then something is generally broken.  
Just a guess from past experience. I'm not really sure what actually breaks tho. And in such cases, it's hard to see where the error is from the travis tests.  
Wonder what others do in such cases when they don't have a machine to test

[08:29](#msg59478b6bcf9c13503c9da480)(In the time I took to write, qtxie has fixed it! :D)

dockimbel

[09:37](#msg59479b75e531dbc905fa1c54)@geekyi It has been fixed. You can just run the tests locally in such case (`rebol -s tests/run-all.r`), and have a look at `quick-test/quick-test.log` file for details.

geekyi

[10:05](#msg5947a1f8caf4d68d6f4bac33)@dockimbel maybe not important or urgent now, but for future contributions.  
I'm thinking of this scenario:  
1\. Have windows installed  
2\. Make a change  
3\. Tests fail on travis on MacOS

Problem: how do I access `quick-test/quick-test.log`?

I have some ideas, but you probably tried it and it didn't work out. I'll post on red/tests channel if I have any contributions..

dockimbel

[10:16](#msg5947a461ca6d4ae80c2ab30d)@geekyi I haven't found a way to view that log file on Travis.

geekyi

[10:24](#msg5947a65cd83c50560c21b2b1)\[This SO answer is interesting](https://stackoverflow.com/questions/35821952/how-to-export-log-files-from-travis-ci-to-github#37781216) `after_failure:` in travis.  
But it says you may have to use chunk.io for open source, so that's another dependency.. Possibly would be easier to do with rebol itself, if you have somewhere to upload.  
Maybe use @rebolek's `github` api.. to upload as issue?

dockimbel

[10:44](#msg5947aaf3f6a78eab4862665d)Well, we don't really need to spend time on setting up something like that as we can test locally anyway. Though, if someone contributes a solution, we could set up the Travis config file to expose the resulting log file somewhere.

[10:47](#msg5947aba5ca6d4ae80c2ad973)@geekyi If it's possible to run shell commands on failure, then we could just `cat` the log file, no need for any external server.

joa-quim

[11:08](#msg5947b0b0f6a78eab486280ae)@dockimbel I have an vague recall of something about manifests being discussed in Julia dev but this is an issue that I would have to ask. But how did you manually inserted the manisfest file (I know very little about the manifest thing)?

dockimbel

[11:12](#msg5947b1b8cf9c13503c9e532c)@joa-quim You can use \[PE Explorer](http://www.heaventools.com/overview.htm) or \[Resource Hacker](http://www.angusj.com/resourcehacker/) to access and modify the `resources` section of PE files (Windows executables). There's a "Manifest" entry in the resources section, where you can inject the above XML snippet I posted.

joa-quim

[11:12](#msg5947b1ba6462d8493c29055c)@dockimbel I'm afraid I'll need help in this one too. I am now trying to send in data via the callback function but can't find the way

```
using Red

global bla = 5.0;
function blabla(bla)
    println(bla)
	println("Blabla")
	return redUnset()
end

cf = cfunction(blabla, Ptr{Void}, (Float64,),);
redOpen()
id = redTypeOf(redRoutine(redWord("blabla"), "[bla [integer!]]", cf));
@show(id)

cmd = "view [backdrop yellow  t: text  yellow {Hello World!} 
    button {Click} [blabla] 
]"

redDo(cmd)
```

`errors with`

```
julia> include("test_cb.jl")
id = 29
*** Script Error: blabla is missing its bla argument
*** Where: blabla
*** Stack: view do-events do-actor do-safe
```

`and if I replace [bla [integer!]] by [bla [c-string!]] than I get id = 34, which is RED_TYPE_ERROR`\`

dockimbel

[11:13](#msg5947b1f531f589c64fc0bf4b)@joa-quim `c-string!` is not a Red type, it's a Red/System type. The string type in Red is called `string!`.

[11:15](#msg5947b2526549436c7d60e556)&gt; \*\** Script Error: blabla is missing its bla argument

That's an expected error, as you call `blabla` without passing any argument: `button {Click} [blabla]`

joa-quim

[11:19](#msg5947b32902c480e6725b92a3)@dockimbel I kind of understand that but on the other hand I passed a callback function that has one argin. So the question is, how do I pass data in via the callback functions? (and thanks for the other infos)

GRD2017

[12:43](#msg5947c704142826e972cdadf4)Hi! I'd like to learn the RED programming language and I don't know and from where I should learn it. Could you help me please?

geekyi

[13:19](#msg5947cf4ad83c50560c227807)@GRD2017 http://www.red-lang.org/p/documentation.html https://github.com/red/red/wiki

[13:20](#msg5947cfa86462d8493c299849)It's recommended to get rebol2, and get a feel for it as they are both almost identical in syntax

9214

[14:20](#msg5947ddcad83c50560c22bec9)@GRD2017 hey there!  
\* since Red is heavily inspired by Rebol, good starting point is \[Rebol/Core guide](http://www.rebol.com/docs/core23/rebolcore.html)  
\* as @geekyi already said, check out official docs and github wiki, also \[Red/Core](https://doc.red-lang.org/en/)  
\* \[red programming](http://redprogramming.com/Home.html) and \[red by example](http://redprogramming.com/Home.html)  
\* \[grab-bag of useful resources](https://gist.github.com/9214/784e7f7af2342f117bc67a8e2698855b)  
\* just download latest build and play in the REPL, ask any questions in \[red/welcome](https://gitter.im/red/red/welcome) or \[red/help](https://gitter.im/red/help) rooms :)

rebolek

[16:39](#msg5947fe5417a30666707ea97c)@dockimbel There is no `red/parse` room, it would make sense to add it, IMO.  
Also, when talking about `parse` ;) how can I find out if rule succeeded? Or, can I?

greggirwin

[16:54](#msg594801a8746f1fd6631baa16):point\_up: \[June 19, 2017 5:12 AM](https://gitter.im/red/red?at=5947b1b8cf9c13503c9e532c) Resource Hacker got an update! It was neglected for a long time, but seems to have a new life. My old R2 build tools used the CLI for it to set resources in encapped EXEs. Very handy.

michaeldesu

[23:19](#msg59485befa44c60fa4c411766)@rebolek about rule success - putting a print message in parens at the end of the rule block is a method? Maybe this is too simplistic

[23:20](#msg59485c4c5bf0bef94cc15fbf)@GRD2017 as suggested by 9214, I highly recommend reading the entire 'red by example' site to orient you with their many examples.

## Tuesday 20th June, 2017

michaeldesu

[00:09](#msg594867a1cf9c13503ca2300d)@rebolek this is what I meant (rule success)

```
>> s: "this is a cat"
>> parse s [to "cat" (print "found")]
found
== false
>> parse s [to "dog" (print "found")]
== false
>> rule-pass: none
== none
>> parse s [(rule-pass: false) to "cat" (rule-pass: true)]
== false
>> rule-pass
== true
>> rule-pass: none
== none
>> parse s [(rule-pass: false) to "dog" (rule-pass: true)]
== false
>> rule-pass
== false
```

sorry if I misunderstood

rebolek

[04:07](#msg59489f89e59e74be0a9798a3)@michaeldesu no, that's exactly what I meant, I was just wondering, if there is some inbuilt method for this.

toomasv

[04:45](#msg5948a85b02c480e672604d30)@rebolek Similar effect can be achieved by including 'to end' in the end of spec.

rebolek

[04:51](#msg5948a9ba88348abd0aab576c)@toomasv Only if your rule covers whole input.

[04:53](#msg5948aa356462d8493c2ddfdb)@toomasv see this example:

```
>> r1: ['a]
== ['a]
>> r2: ['b]
== ['b]
>> r3: ['c]
== ['c]
>> parse [b c] [[r1 | r2] r3]
== true
```

What I am interested in is if `r1` failed or succeeded.

michaeldesu

[05:25](#msg5948b1af02c480e67260704e)@rebolek maybe the embedding of red code is the only way. I noticed also on the \[intro to parse](http://www.red-lang.org/2013/11/041-introducing-parse.html) page, this: "if (expr) : evaluate the Red expression, if false or none, fail and backtrack." so probably using the example I gave, you could test it with that if (expr)

rebolek

[05:26](#msg5948b21b88348abd0aab77cd)@michaeldesu Yes, that's probably the only way right now.

greggirwin

[05:48](#msg5948b747cf9c13503ca35b00)It was certainly the only way in Rebol. The parse callback Red provides offers another solution, and we can continue to improve parse over time, as we clearly identify needs and solutions.

rebolek

[05:50](#msg5948b790bf1bfe6770ccc819)Ah, callbacks. I have to start using them more. Thanks for reminding me, Gregg.

dockimbel

[06:54](#msg5948c68bcf9c13503ca3a391)@joa-quim  
&gt; @dockimbel I kind of understand that but on the other hand I passed a callback function that has one argin. So the question is, how do I pass data in via the callback functions? (and thanks for the other infos)

You have defined an argument to `blabla` routine in the \*specification* , but you failed to provide an argument in the call to `blabla` at: `button {Click} [blabla]`.

[07:12](#msg5948cad2a44c60fa4c42c774)@joa-quim The values that Red passes to the callback function are Red values, so you need to convert them to Julia format using the provided "Red -&gt; C" function in libRed.

[07:21](#msg5948ccf7bf1bfe6770cd2c58)@joa-quim This works fine for me:

```
using Red

global bla = 5.0;
function blabla(bla)
    println(redCInt32(bla))
    println("Blabla")
    return redUnset()
end

cf = cfunction(blabla, Ptr{Void}, (Ptr{Void},),);
redOpen()
redRoutine(redWord("blabla"), "[bla [integer!]]", cf);


cmd = "view [backdrop yellow  t: text  yellow {Hello World!} 
    button {Click} [blabla 123] 
]"

redDo(cmd)
```

joa-quim

[10:21](#msg5948f71ac98bc6d5638782de)@dockimbel I think I had tried all of that but to use Ptr{Void} in the cfunction declaration (and the Red -&gt; C conversion). Note also that I had an error in there but apparently it make no difference (notice the lack of last comma)

```
cf = cfunction(blabla, Ptr{Void}, (Ptr{Void},));
```

\`  
Thanks. Next time I'll might come with questions on communicating via structures. That's where real stuff will start to take shape.

eranws

[10:23](#msg5948f7a15bf0bef94cc3e8ce)Hi, I have played with \*docker* for a recent project, and I wanted to see what is the minimum OS necessary to run Red. I got the console to work on an Alpine linux image, that weighs in total 16MB (with sources, rebol-2), here:  
https://github.com/eranws/red-docker

Yes, I know that by nature Red is cross-platform - but can be useful for testing and continuous integration.  
If anyone thinks it can be helpful - let me know if you succeed to build and run (or not)

rebolek

[10:29](#msg5948f918746f1fd663202919)@eranws cool!

Oldes

[10:57](#msg5948ff84142826e972d3601f)@eranws why r3?

eranws

[15:33](#msg5949403ca44c60fa4c4534b5)Thanks! @Oldes My initial tests were on alpine x64 distribution, took me a while to get 32 running, and they have static build.

[15:34](#msg59494073a44c60fa4c4535dd)Actually, rebol 2 works on x64 vanilla Alpine image too...

[15:35](#msg594940b1c98bc6d563891910)I still see some weird errors when I try to run tests, or interact with the filesystem, but that's a start :)

geekyi

[17:03](#msg5949555dbf1bfe6770d0105f)@rebolek &amp; others talking of rooms (for parse, etc). I wrote up a \[list of possible rooms we could have](https://github.com/red/red/wiki/Room-suggestions). Feedback? Feel free to add/edit

9214

[17:33](#msg59495c685bf0bef94cc62e70)IMO good ol' forum format is more preferable, we can't even pin messages and threads here :( but, on the other hand, live chatting is very nice and helpful

[17:34](#msg59495cbbbf1bfe6770d0370e)with some wiki integration and livecoding sessions

iArnold

[17:45](#msg59495f3bc98bc6d56389c2fd)Too many rooms is not desirable here as the rooms will be "official" belonging to the Red team. So they have to be read, monitored etc.

geekyi

[18:30](#msg594969b46462d8493c31a888)Plan A would be gitter getting improved server side. Here's to hoping for that. More rooms is actually \[Plan D](https://github.com/red/red/wiki/Room-suggestions#possible-solutions) :p but I guess that's not the right priority..

dander

[22:04](#msg59499bdfa44c60fa4c4734b2)@eranws Nice! I got \[a docker image working for Debian](https://github.com/dander/docker-red) as well. I think basing it on Alpine would be ideal, but I haven't attempted it yet. I did find a 32 bit base image to try out though, which might be useful: multiarch/alpine:x86-latest-stable

[22:05](#msg59499c43cf9c13503ca81827)I think some of the web-based repl services may be using Docker as their backends, so that could be a use case for having a Red Docker image

greggirwin

[23:49](#msg5949b479cf9c13503ca87abc)@joa-quim, If you can keep the Julia wiki updated with your findings, that would be \*great\*! Thanks!

[23:53](#msg5949b574bf1bfe6770d1e56f):point\_up: \[June 20, 2017 4:23 AM](https://gitter.im/red/red?at=5948f7a15bf0bef94cc3e8ce) @eranws, I've linked to your Docker work from https://github.com/red/red/wiki. Hope that's OK.

[23:55](#msg5949b5fb02c480e672658ec3)@dander, yours too.

## Wednesday 21st June, 2017

AlexanderBaggett

[01:50](#msg5949d0f8c98bc6d5638bcec1)I have been following the git/gitter feed and have seen that there have been a ton of commits. I see there are a lot of community contributions to the well being of this project. I know there are so many things to fix and to add. But I would like to see a new version soon so that we can benefit from all of these wonderful changes without having to rebuild the master branch ourselves.

geekyi

[03:19](#msg5949e5c5e59e74be0a9da76d)@AlexanderBaggett rebuild isn't that hard… and you don't have to. You can also grab the latest snapshot from the official downloads page

rebolek

[03:54](#msg5949edef9714d1da61626d92)@AlexanderBaggett rebuilding Red is easy and fast, you should give it a try

PeterWAWood

[04:02](#msg5949efe717a306667087e54e)@AlexanderBaggett View the \[Red downloads page](http://www.red-lang.org/p/download.html), scroll down to "Automated Builds, master branch" and then select the appropriate download for your machine.

eranws

[05:04](#msg5949fe69cf9c13503ca98c77)@dander - Debian and ubuntu we're my first choice too, but they are taking almost 200MB. I liked you red-quit trick, echoing q into red to compile on build. I'll adopt it :)

[05:05](#msg5949fe84bf1bfe6770d2f1fa)&gt; :point\_up: \[June 20, 2017 4:23 AM](https://gitter.im/red/red?at=5948f7a15bf0bef94cc3e8ce) @eranws, I've linked to your Docker work from https://github.com/red/red/wiki. Hope that's OK.

Absolutely

[05:06](#msg5949fef3cf9c13503ca98ec1)btw, I finally managed to run red-console natively on alpine - total image size is 7MB

greggirwin

[05:15](#msg594a00e05bf0bef94cc90cbd)Go Eran, Go!

eranws

[05:15](#msg594a0102bf1bfe6770d2fd86)&gt; I think some of the web-based repl services may be using Docker as their backends, so that could be a use case for having a Red Docker image

+1 for Live repl

rebolek

[05:20](#msg594a0234cf9c13503ca99971)That's already possible (although this one is very crude and easy to crash) http://qyz.cz/cgi-bin/index.cgi

iArnold

[06:13](#msg594a0e90cf9c13503ca9ca7b)@rebolek Cool! So you managed to get the Red cgi working after all! Did it require any special action for you, what was the trick to get the magic?

dander

[06:13](#msg594a0ea2cf9c13503ca9cafe)@greggirwin Certainly, thanks :+1: @eranws nice, way to go! @rebolek do you have some sort of isolation for it, so it can't take down your server?

rebolek

[06:16](#msg594a0f2f9714d1da6162f52d)@iArnold There's no trick, it is pretty easy. Just compile console and use it on your web server. See https://github.com/red/red/wiki/Using-Red-as-CGI

[06:19](#msg594a0ff6e59e74be0a9e51bf)@dander No, there's no isolation, I was just testing Red as CGI. The only safety measure here is that I am changing the `%index.cgi` as I try new ideas, so one day it may work as repl demo and another day as something totally different ;)  
Anyway, I have some ideas for the separation in mind, but this CGI project is not high priority.

iArnold

[06:25](#msg594a114e746f1fd6632572d5):point\_up: \[21 juni 2017 08:16](https://gitter.im/red/red?at=594a0f2f9714d1da6162f52d) As a pioneer in Red cgi ( https://arnoldvanhofwegen.com/blog/simple-red-cgi-scripting-possible/ ) I think this is very interesting!

rebolek

[07:25](#msg594a1f709714d1da61633ff3)@dander I've added basic protection, entered code is executed in separate process that is killed after some short delay.

pekr

[07:48](#msg594a24c617a306667088c80c)@rebolek - how is CGI query script passed to the red executable? When you run rebol using `-c`, there is an object in the system structure, which is being filled with info. So how do you read the GET or POST data?

rebolek

[07:51](#msg594a257317a306667088caf7)@pekr I get HTTP headers (GET data are part of them) with `call "printenv"`, though I should rewrite it with `list-env` native. To get POST data you do just `post-data: input`. That's all

pekr

[07:57](#msg594a26fe17a306667088d1c4)

```
>> source input
input: func [][ask ""]
```

[07:58](#msg594a2709a44c60fa4c4951d6)How does input get to the post-data?

rebolek

[08:00](#msg594a2790a44c60fa4c495403)If you look deep enough, you will find a function that reads data from STDIN.

[08:01](#msg594a27c55bf0bef94cc9b768)(I've tested it only on Linux server, may be different on Windows)

maximvl

[08:45](#msg594a3210bf1bfe6770d3df49)hi guys

rebolek

[08:45](#msg594a321c6462d8493c35041a)hi Maxim

maximvl

[08:45](#msg594a323cbf1bfe6770d3e08d)any insights on a new release progress? :)

dockimbel

[09:42](#msg594a3f71bf1bfe6770d4242e)@maximvl Sure, we release several times a day, check the downloads section.

rebolek

[09:50](#msg594a4151cf9c13503caabda5):)

maximvl

[10:12](#msg594a4691e265aa025ee49cd3)@dockimbel but it's still 0.6.2

dockimbel

[10:13](#msg594a46cf5bf0bef94cca4e89)You can just bump the version number if that's the only thing bothering you:  
`>> system/version: "0.6.3"`  
That's how we make a new version. There is no \*secret addition* when creating a new milestone release.

maximvl

[10:14](#msg594a47026462d8493c356690)well, of course it's not the number what bothers me but progress on core things

dockimbel

[10:16](#msg594a477b02c480e67267f334)@maximvl You can check the progress on our Trello board, and looking at the commit history for more detail. Again, the milestone releases have no last-minute-secret-feature-appearing-from-nowhere. It's just the latest automated build with a bumped version number.

maximvl

[10:16](#msg594a477e02c480e67267f374)maybe I'm wrong, but I don't feel like I can use Red for things bigger than a demo scripts

rebolek

[10:16](#msg594a4795a44c60fa4c49ed5d)@maximvl you're not wrong, it is alpha software

dockimbel

[10:17](#msg594a47b2cf9c13503caadfa4)@maximvl That's why the version is 0.6.2 and not 1.x.y.

rebolek

[10:17](#msg594a47b402c480e67267f454)but some demos you can make can be pretty impressive ;)

maximvl

[10:18](#msg594a47fe5bf0bef94cca53c6)but can you give me high-level overview on where are we now?

[10:18](#msg594a480e5bf0bef94cca5402)because I remember that several things were developed in parallel

dockimbel

[10:19](#msg594a4839e265aa025ee4a752)Actually, you can already code some big apps using Red. The Red runtime includes some pretty big and complex Red code, so it's definitely possible to write many apps already (as long as you don't waste memory allocations carelessly).

[10:19](#msg594a484717a30666708973f6)@maximvl https://trello.com/b/FlQ6pzdB/red-tasks-overview

[10:26](#msg594a49cce59e74be0a9f6707)We are thinking about doing a new milestone release soon, centered on macOS GUI support, and move the rest of planned features of 0.6.3 in a later release.

iArnold

[11:35](#msg594a5a0f6462d8493c35c351)I think "yes!"!

maximvl

[12:19](#msg594a644c6462d8493c35f9cd)@dockimbel thanks for sharing :+1:

pekr

[12:23](#msg594a6533e59e74be0a9ff2f5) Doc is right - once you work from the sources, you've got new build on a daily/hourly basis. I can understand the push towards official milestone release, as mostly a psychological factor - ppl not following the project on a daily basis, can see a blog article and know the project is progressing - simply a release early, release often strategy. It also might make sense, if you don't have daily builds available, which we have. Well, and then there is a burden for Doc to write a blog article :-)

[12:26](#msg594a65e0a44c60fa4c4a8b20)According to Trello board, what is actually missing is /library related stuff. Might be shifted, though I was looking forward to those features. From the relative point of time, those will come just at exactly the same time, regardless of the milestone release, or not :-)

maximvl

[12:29](#msg594a66c2a44c60fa4c4a90f4)@pekr my idea is you can add features on a daily basis but once a time with a certain amount of changes the big release should happen

[12:31](#msg594a67116462d8493c360745)but yeah, no pressure, I'm just looking forward using Red for my (pet) projects

joa-quim

[12:39](#msg594a68eae265aa025ee54f1c)@greggirwin  
&gt; If you can keep the Julia wiki updated with your findings ...

Honestly, I'm not clear on what to add this time. I intend to a couple of simple use cases but I think the appropriate place to have them is in the Red.jl repo.

dockimbel

[15:05](#msg594a8b3d746f1fd66327f69d)@maximvl &gt; but once a time with a certain amount of changes the big release should happen

What you call "big release" is a tag on a commit + a bumped version number + a blog article. We use a continuous release model since many years, so the "releases" with a version number are just milestones, they don't bring \*any* feature that was not already there in the repo and in the last automated build. It's amazing to me that such simple model is so hard to understand for some followers. Though, I'm not surprised that some people care more about incrementing version numbers than available features. If we stopped making "milestone releases", that wouldn't change anything about what and when new features would be available, so for Red followers, that would make strictly no difference.

maximvl

[15:09](#msg594a8c18746f1fd66327fccc)oh cmon, I've been using Gentoo and Funtoo linux distros for 8+ years already

[15:09](#msg594a8c1f6462d8493c36d8b2)I know what is rolling release

dockimbel

[15:09](#msg594a8c3702c480e672696b1e)@maximvl Glad to hear that. ;-)

maximvl

[15:10](#msg594a8c515bf0bef94ccbcb0a)do you suggest me to walk though every commit to find out useful features every day?

[15:10](#msg594a8c6d17a30666708ae688)for me release is overview of features which were added since last release

[15:10](#msg594a8c7da44c60fa4c4b6633)they may be in the daily builds, it's fine, but I don't know about them

dockimbel

[15:10](#msg594a8c8217a30666708ae6f1)Well, some followers do that, but you don't need to, you can look at the Trello board, though small features are not mentioned there. We try to keep Trello up to date. If you want to see where we are, that's the place to look at. BTW, we'll reorganize it soon to make it even easier to read. If you have suggestions about how to better communicate about our progress (without costing us too much time), I would be glad to improve our process.

greggirwin

[15:21](#msg594a8ee7cf9c13503cac74c3)@joa-quim, I thought there was a new bit of info here: :point\_up: \[June 20, 2017 1:21 AM](https://gitter.im/red/red?at=5948ccf7bf1bfe6770cd2c58), maybe not though.

rebolek

[15:56](#msg594a974802c480e67269b2fd)I've got few ideas how to make that info easier to get, I will probably have something to show tomorrow (hopefully :smile: )

9214

[15:56](#msg594a974aa44c60fa4c4ba9a1)@dockimbel dedicated gitter room with chat bot announcer (written in Red of course ;)) ?

[15:58](#msg594a97accf9c13503caca66c)or maybe newsletter (I'd call it "Red Alert")

rebolek

[15:58](#msg594a97b5e265aa025ee64e10)@9214 there is Red bot for Gitter available, I just need to get some place where it could live

9214

[16:03](#msg594a98e202c480e67269bc1b)@rebolek I knew that! :D :clap:

luis-rj

[18:46](#msg594abf10e265aa025ee71fe1)Is It possible to change the default vid (snow ) color ?

[18:57](#msg594ac19ba44c60fa4c4c8a4b)I mean the default background color of the faces.

michaeldesu

[23:04](#msg594afb666462d8493c3906db)I'm glad to see some discussion about releases &amp; info. I see and appreciate the frequent builds are available for download, but it's not easy to see what's new (or experimental) in those builds. It would be great if beside that download link, there was another link to a change log summary in easy to read form (I'm not familiar with the commit viewing process) - so if no change log page could be auto-collated or presented, then a tip on the download page for more info about commit viewing may be helpful. Therefore, currently I'm trying later builds rather blindly, so in that case, I stick with 0.6.2 (for better or worse). I agree that a version number (increment or otherwise) may not be so important (but is very good psychologically), but easily accessible and good info about what's in any release is the key thing.

## Thursday 22nd June, 2017

rebolek

[01:26](#msg594b1ca96462d8493c398208)Would an overview of comit

[01:27](#msg594b1cf688348abd0ab6f4c7)(damn phone gitter) ...messages and

[01:27](#msg594b1d135bf0bef94cce7b52)Trello cards be enough?

geekyi

[01:31](#msg594b1df2bf1bfe6770d85fdc)@rebolek I think something like that is what some projects do( see angular.js commits) the other mainstream way is to explicitly have a changelog.md

[01:34](#msg594b1eb57bf0f2951a288a57)So either put effort to make better commit messages, or put effort to maintain changelog. For changelog, could automatically add a message when a Trello feature (checklist?) is done?

[01:35](#msg594b1ef688348abd0ab6fb45)@geekyi wonders if current red commit messages are slightly based on angular commit standards

PeterWAWood

[03:21](#msg594b37be5bf0bef94cced44d)@geekyi So where is this effort going to come from? Are you volunteering?

geekyi

[03:40](#msg594b3c4788348abd0ab7645f)@PeterWAWood just voicing out possible options to move forward. What I meant to say is, the effort has to be, or rather has been traditionally put in by the commiter of code. So actually, I don't think that could improve short of having more contributors :) But bolek might come up with something interesting, so I'll wait for that

[03:46](#msg594b3d9c6462d8493c39f461)I don't feel I have that much of a problem with keeping up myself, tho I don't read every single commit and issue. I update the binary every few days, and use git lens to view file blame to see the commits and how the code was built. Probably not everyone has time for that, or don't know it's possible

dockimbel

[04:08](#msg594b42b5af2cb444279cc23b)Our commits use a prefix to signify if it's a new feature or a fix. Just listing the commits using git or a git client, filtering on "FEAT:" prefix will give you an accurate changelog. Any good git visual client will allow to do that effortlessly.

pekr

[05:22](#msg594b542802c480e6726cbdbd)Well, Gitter is mostly a chat. Rebol guys decided to go with the Discourse chat, because it might feel more "sticky". But I don't like forums much, as I rarely read old/dated topics/threads. So I hope Gitter stays for good and our community is used to chat from the Altme days. You can see commits here at the right column. You can also watch commits directly on Github. Whoever does, on a daily basis, gets really good overview about recent developments. There are also various branches you can watch ....

[05:23](#msg594b545c5bf0bef94ccf3efc)I would like to also mention other channels. Apart from ML/forum on Google, I watch Red Twitter channel, and I manage facebook group, where we just reached 160 members.

[05:25](#msg594b54c688348abd0ab7c1ad)So actually the only problem which I can see is - someone coming to rebol-lang.org and seeing old Blog article, thinking not much new is happening. Dunno how to cure it, becase we can hardly expect Doc to blog more often, as it would drag his development time.

endo64

[06:21](#msg594b61d7e59e74be0aa4530d)I always filter git commit messages with FEAT to see the newly added features and test them. It's pretty easy with a git client.

gltewalt

[07:03](#msg594b6bc288348abd0ab8167e)Script a changelog.md

[07:04](#msg594b6be702c480e6726d1eb3)Automation is part of the programming world

rebolek

[10:05](#msg594b9677e59e74be0aa53e18)Getting Trello info from Red:

```
>> do %http-tools.red
== ...
>> lists: send-request/auth https://www.trello.com/1/boards/FlQ6pzdB/lists 'GET 'token trello-token
== ...
>> foreach list lists/data [if equal? "Milestones" list/name [id: list/id]]
>> cards: send-request/auth make-url [https://www.trello.com/1/lists id /cards] 'GET 'token trello-token
== ...
>> foreach card cards/data [print card/name]
0.6.3 macOS GUI support
0.6.4 New GUI console
0.6.5 - Android GUI support
0.7.0 - I/O support
0.8.0 - Modules
0.8.5 - Advanced GC (first beta)
0.9.0 - Concurrency support
0.9.5 - Port the toolchain to Red (if time permits)
1.0.0 - First stable release
```

iArnold

[13:40](#msg594bc8e3af2cb444279f164d)Well, the VID support on Win and Mac are huge releases. Android will be a large one too(?). Is there anything to say about the size and timescale needed for the other planned releases? In other words can we do the extrapolation of the release history for an approximation toward version 1.0.0?

draegtun

[16:31](#msg594bf0ff6462d8493c3d48d4)re: CHANGELOG - I have program which creates a "Notable list of changes" in CHANGES.md from `git log` for Rebol3/Ren-C - https://github.com/metaeducation/ren-c/blob/master/CHANGES.md

[16:32](#msg594bf1147bf0f2951a2c595d)Here's the program - https://github.com/metaeducation/ren-c/tree/master/scripts/changes-file

[16:33](#msg594bf163af2cb444279feb0d)It should be easily be adapted for Red if this is what you're after? The bulk of the work is manually pruning out "un-notable" changes at the beginning. See here for more info about what I initially did - https://chat.stackoverflow.com/transcript/message/37442077#37442077

greggirwin

[19:53](#msg594c201f88348abd0abb7ff7)Bolek and Barry, nice!

rebolek

[20:19](#msg594c266baf2cb44427a0f94d)

```
>> weather
== "thunderstorm with light rain"
```

I would say that the rain is rather heavy right now, but it's nice to to be able to get it from Red console anyway.

gltewalt

[20:35](#msg594c29f7703e565c33328a0d)Lazy approach:

```
parse read https://github.com/red/red [
    any [to "FEAT:" copy line to </a> (print line)]
]
```

rebolek

[20:36](#msg594c2a43ceb5bef82e9e43d1):+1:

gltewalt

[20:41](#msg594c2b80743aa6f7088cb8d8)@rebolek Is that weather using YQL?

rebolek

[20:44](#msg594c2c4a4bcd78af5635fe32)@gltewalt no, it's simple call to openweathermap API. But I will take a look at YQL.

9214

[23:27](#msg594c52488dae42503143b57f)@dockimbel \[The route to the successful adoption of non-mainstream programming languages](https://esl-website-production.s3.amazonaws.com/uploads/document/file/77/The\_route\_to\_the\_successful\_adoption\_of\_non-mainstream\_programming\_languages\_-\_Erlang\_Solutions\_Whitepaper\_2017\_.pdf) ;)

## Friday 23th June, 2017

greggirwin

[00:14](#msg594c5d5ce60ad24f31043291)@gltewalt, nice.

gltewalt

[00:27](#msg594c60678dae42503143e796)Used a rebol guide example as a template.

```
parse read http://www.rebol.com [
    any [to "REBOL" copy line to newline (print line)]
]
```

[00:28](#msg594c609257a6e9f72eec44c0)Gah! Mobile ...

dockimbel

[08:49](#msg594cd624bf7e6af22c64e8d6)@9214 Great. ;-)

toomasv

[10:59](#msg594cf4a78dae425031461dd5)

```
Red [
	Title: {Find recent feats}
	Usage: {`feats 30` -- find 30 latest feats 
			`see 5` -- see 5th feat's code}
]
pages: func [n][do compose [(if 0 < (n % 10) [[1 +]]) (n / 10)]]
github: https://github.com
feats-page: https://github.com/red/red/search?o=desc&q=FEAT%3A&s=committer-date&type=Commits&p=
feats-blk: clear [] 
ord: 0
feats: func [num][
	repeat n pages num [
		parse read append copy feats-page n [
			some [
				thru {<em>FEAT</em>: }  copy feat to {</a>} 
				thru {<p class="f6 text-gray mt-1">} thru {">} copy author to {</a>} 
				thru {<relative-time datetime="} copy date to {T} 
				thru {<div class="commit-links-group} thru {<a href="} copy href to {" class}
				(append feats-blk reduce [ord: ord + 1 date author feat href])
			]
		]
	]
	foreach [a b c d e] feats-blk [print [a b c d]]
]
see: func [num][browse append github fifth find feats-blk num]
```

9214

[11:14](#msg594cf814c101bc4e3a118b8e)@toomasv

```
pages: func [n][do compose [(if 0 < (n % 10) [[1 +]]) (n / 10)]]
```

oh, you ;) nice!

toomasv

[11:15](#msg594cf83576a757f8089915cc)quick application of your example! :)

rebolek

[11:18](#msg594cf8e93230e14f3ae7f395)@toomasv why not just `pages: func [n][n + 9 / 10]`

toomasv

[11:19](#msg594cf95411755ab056140f86)@rebolek right!

9214

[11:20](#msg594cf97c8dae425031463472)@rebolek but that's not fancy

rebolek

[11:21](#msg594cf9cfceb5bef82ea16206)Yeah, it's bit boring 💤

greggirwin

[16:51](#msg594d47256ae41d5d33791029)\*Very* cool @toomasv!

[19:40](#msg594d6e91c101bc4e3a13d021)@toomasv: `see: func [num][browse append copy github fifth find feats-blk num]`

[19:40](#msg594d6ea2c101bc4e3a13d07c)Need the `copy` in there. See, I really tried it!

toomasv

[21:22](#msg594d868a3230e14f3aea9685)@greggirwin Thanks! For 'copy'.

## Saturday 24th June, 2017

dockimbel

[09:23](#msg594e2fa3703e565c333a8889)FYI, `MacOSX` name in whole Red codebase has been replaced by `macOS`, please update your preprocessor conditional expressions accordingly (both in Red and R/S).

joa-quim

[17:29](#msg594ea181c101bc4e3a182733)@dockimbel Had to stop for a few days and I'm trying to advance a bit more but, not surprisingly, need more assistance. Imagine that in the same example I want to set printed text but from the Julia side. I modified the example to

```
using Red

function blabla(bla)
    println(redTypeOf(bla))
    return redUnset()
end

cf = cfunction(blabla, Ptr{Void}, (Ptr{Void},));
redOpen()
redRoutine(redWord("blabla"), "[]", cf);

cmd = "view [backdrop yellow  t: text  yellow {Hello World!} 
    button {Click} [blabla t] 
]"
redDo(cmd)
```

`and when I click some times the button it prints on julia console`

```
131
5
5
5
```

`An unexpected result is that the first number is different and unknown. From Red side I can see that t is`

```
== make object! [
    type: 'text
    offset: 10x10
    size: 80x24
    text: "Hello World!"
```

\`  
So my question is, is there a way in which I can have access those object members from Julia, modify them (a separate issue, I know) and apply the change to Red side?

Thanks

[18:09](#msg594eaac557a6e9f72ef57202)Ok, I have a little success if I do

```
using Red

function blabla(bla)
    println(unsafe_string(redCString(bla)))
    return redUnset()
end

cf = cfunction(blabla, Ptr{Void}, (Ptr{Void},));
redOpen()
redRoutine(redWord("blabla"), "[t [string!]]", cf);

cmd = "view [backdrop yellow  t: text  yellow {Hello World!}
    button {Click} [blabla t/text] 
]"
redDo(cmd)
```

\`  
but it's too short. To real work I think access to entire object and being able to modify and apply changes is a must.

greggirwin

[18:12](#msg594eaba2bf7e6af22c6c4fc5)@joa-quim, there is no object access API in libRed right now, but you might be able to do it by passing a word or path and accessing things via those APIs.

joa-quim

[18:20](#msg594ead8b76a757f808a00f3f)@greggirwin  
&gt; passing a word or path

Not sure I got this. My Red knowledge is rather poor, I'm focusing for the moment in trying to find out how to make the two languages talk a bit.  
For this very simple example I guess that I could add more arguments to the callback functions and pass info that way, but it's rather limiting I think. Is that what you are suggesting?

greggirwin

[21:01](#msg594ed3463230e14f3aef40bd)I haven't done it myself, so I'm thinking out loud. On the Red side, you have a word referring to your object, yes? Pass that, or a complete path to the object field, to Julia and use redGetPath/redSetPath to access it. If you only pass the base word, you need to know the field names on the Julia side to build the path. You can probably also use redDo or another routine to use `words-of` on the object.

joa-quim

[21:29](#msg594ed9ca8dae4250314dcf56)And that word would be the t in my example above? Than my next doubt is what type do I declare in the callback. If I do this

```
redRoutine(redWord("blabla"), "[t [word!]]", cf);
cmd = "view [backdrop yellow  t: text  yellow {Hello World!}
    button {Click} [blabla t] 
]"
```

`it doesn't allow it`

```
julia> include("test2_cb.jl")
*** Script Error: blabla does not allow object! for its t argument
*** Where: blabla
*** Stack: view do-events do-actor do-safe
```

\`

greggirwin

[23:02](#msg594eef90c101bc4e3a193b06)No Julia and no more suggestions here. :^\\

geekyi

[23:47](#msg594efa15c101bc4e3a195fb7)@joa-quim \[structure of objects](https://github.com/red/red/blob/master/runtime/datatypes/structures.reds#L179) and \[debug tools](https://github.com/red/red/blob/master/runtime/debug-tools.reds) has some nice debugging stuff you can use or `#import`

## Sunday 25th June, 2017

dockimbel

[02:59](#msg594f270611755ab0561c8d06)I've added a red/julia room, let's move all Julia related discussions there: https://gitter.im/red/julia

greggirwin

[14:35](#msg594fca32ad9c7818439ab9d0)Thanks Doc.

joa-quim

[15:20](#msg594fd4acceb5bef82eac1537)@greggirwin Tank you too.

## Monday 26th June, 2017

geekyi

[23:37](#msg59519ac8c101bc4e3a242dd2)Regarding #2831 / #2832, I'm actually not sure what the differences are between `join`, `rejoin`, `repend`, etc.  
I'm talking as a newbie who doesn't know the concepts involved here muc.  
Basically, what I get is this:  
\- The purpose is to \*concatenate* or \*join* stuff  
\- The underlying mechanism is to `reduce`, then `append` (what I get from the `source`)  
It's a bit confusing, as it feels like they all are trying to do the same thing, and the naming doesn't help

greggirwin

[23:47](#msg59519d2a703e565c334895d9)The big difference is that the `*pend` funcs append, modifying the initial arg (which must be a series). `Join` and `rejoin` don't alter the initial value, and it can be any type, because it's converted to a string if it's not already a series. R3 made matters worse by adding `ajoin`. It's worth some brain work to improve things. I have a `join/combine` experiment that also works on objects and maps. All we need is a good name and clear semantics. The rest is easy. ;^)

## Tuesday 27th June, 2017

rebolek

[04:41](#msg5951e1ea11755ab05627b6ac)@greggirwin Can you share the code?

[04:44](#msg5951e2b976a757f808aca1ac)I'm not sure if anyone's using `%json.red`, but I found at least one bug and possibly two.

gltewalt

[04:54](#msg5951e4fa6ae41d5d338b2c3c)merge?

[04:58](#msg5951e5e4ceb5bef82eb4e438)Or just 'combine' that works on all (sensible) types

toomasv

[05:11](#msg5951e913c101bc4e3a253a54)@rebolek I am using your json, and Red-tools in general. Great stuff. :+1:

rebolek

[05:23](#msg5951ebbb6ae41d5d338b503c)@toomasv Cool, thanks. One bug is fixed, I am going to look at the other one (if still present).

Clemens-H

[10:12](#msg59522f924bcd78af564ddc84)@geekyi @greggirwin @gltewalt I understand that modifying the arguments is important to reduce pressure on the GC. I like the convention in Scheme, where functions that modify an argument end in `!`. One immediately sees if a function call is destructive or not. Julia has adopted the same convention. Obviously one cannot use `!` in Red, but maybe another character would make sense...

x8x

[10:53](#msg5952392a19147ac323130f0b)Can anyone on macOS reproduce this issue? https://github.com/red/red/issues/2837

greggirwin

[12:08](#msg59524ab3ad9c781843a5a0a7)@rebolek, I thought I had posted it, but here you go:

```
; TBD: pair tuple
combine: func [
	"Merge values, modifying a if possible"
	a "Modified if series or map"
	b "Single value or block of values; reduced if `a` is not an object or map"
][
	if all [block? :b  not object? :a  not map? :a] [b: reduce b]
	case [
		series? :a [append a :b]
		map?    :a [extend a :b]
		object? :a [make a :b]
		'else      [append form :a :b]
	]
]
join: func [
	"Concatenate/merge values"
	a "Coerced to string if not a series, map, or object"
	b "Single value or block of values; reduced if `a` is not an object or map"
][
	if all [block? :b  not object? :a  not map? :a] [b: reduce b]
	case [
		series? :a [a: copy a]
		map?    :a [a: copy a]
		object? :a []	; form or mold?
		'else      [a: form :a]
	]
	combine a b
]
```

[12:12](#msg59524b91bf7e6af22c7b016f)@Clemens-H, in R3 we started a convention where "(modified)" was included in the doc string for mutated args. We could do that in Red as well. I agree that it helps to know.

Clemens-H

[12:44](#msg5952532c8dae4250315c0178)@greggirwin Documenting with "(modified)" sounds like a great idea.

## Thursday 29th June, 2017

planetsizecpu

[10:54](#msg5954dc4ec101bc4e3a32622b)@toomasv feats &amp; see, useful funcs! I will save for standing on the cutting edge, thx :+1:

9214

[15:30](#msg59551cfb11755ab056360ce2)why macros are case insensitive?

```
expand [
    #macro LEET: func [] [1337]
    leet: LEET
]
```

results in:

```
[1337 1337]
```

[15:30](#msg59551d163230e14f3a09b07d)also, why `does` and `has` are not accepted in macro directives?

greggirwin

[16:36](#msg59552c8011755ab056365ac7)Red is case insensitive. Why would macros \*not* be?

For `does/has`, probably that nobody has asked and made a good case for it.

9214

[16:39](#msg59552d3b11755ab056365e5f)@greggirwin that's a good question, but then what are naming conventions for macros?

What I want to accomplish is to generate some array of numbers at compile time and then set word to this array.

```
very-large-array-of-numbers: <some-descriptive-macro-name-here>
```

[16:46](#msg59552f00c101bc4e3a340509)First I wanted to write it like that

```
numbers: NUMBERS
```

greggirwin

[17:57](#msg59553f936ae41d5d339a9aad)Macros are a relatively new feature, and we don't have style guides for naming conventions. When in doubt, follow normal conventions. In this case, we can think of them like a form of memoization or singleton constructor, where I often prepend `make-` to the name.  
Does anyone else have patterns or conventions they use for this? Should we include notes in the style guide?

## Friday 30th June, 2017

dockimbel

[03:26](#msg5955c5024bcd78af565dbc77)@9214 There is no naming convention yet, and I'm not sure if we need one or not. Words are case-insensitive by default in Red, there is no way for now to do a case-sensitive matching in macros, but that could be added for \*pattern-matching* macros. Also, you can use any other Red value instead of a word, so you could use `#numbers` for example, or `@numbers`. `does/has` could be supported for \*named* macros.

toomasv

[07:00](#msg5955f71dad9c781843b63764)@planetsizecpu Thanks! There is an improved version in gist (and an alternative version too)

planetsizecpu

[10:27](#msg595627aca42fa68a30858b0c)@toomasv I tested it just now, pretty better output! :+1:

rebolek

[15:07](#msg5956691a329651f46e3caaf6)I've added XML encoder/decoder to \[Red tools](https://github.com/rebolek/red-tools). Decoder is @Zamlox 's great XML parser https://github.com/Zamlox/red-tools/blob/master/xml/xml.red , I've just wrote XML emitter.

[15:08](#msg595669594bcd78af5660a683)His approach is interesting, he's just replacing some chars and then loading it, I would like to write different version using parse's collect/keep to see what is faster.

toomasv

[15:09](#msg595669924bcd78af5660a7d9)@rebolek :+1:

greggirwin

[15:13](#msg59566a80703e565c335deaae)That will be a good comparison. His approach is very nice though. My R2 XML work was all based on the standard funcs, IIRC. I think I modded the output though, so you could `select` on the result by key. That is, the original was key-attr-val and mine was key-val-attr. Not as small or clear as the work you two are doing.

rebolek

[15:17](#msg59566b7a703e565c335dedaf)@greggirwin R2's `parse-xml` also as key-attr-val format, so I think it makes sense sticking with it. But being able to `select` is nice feature to have, I agree :)

greggirwin

[15:18](#msg59566bd076a757f808c1282d)Found it. It was originally part of a project for QTask, so I could ask Reichart if it can be shared. The project was loading MSProject data, so it has added support for schemas/type-mapping.

[15:19](#msg59566c053230e14f3a0f7ac6)

```
type-map: [
		; XML type	REBOL type 	conversion funcs
		"integer"	integer!	[to-REBOL to-integer to-XML form]
		"string"	string!		[to-REBOL to-string  to-XML form]
		"boolean"	logic!		[to-REBOL from-XML-boolean  to-XML to-XML-boolean]
...
```

```
XML-schema: [
	    "Project" [
	        "UID" "string" 
	        "Name" "string" 
	        "Title" "string" 
	        "Subject" "string" 
		    "Calendars" [
			    "Calendar" [
			        "UID" "integer" 
			        "Name" "string"
```

rebolek

[15:19](#msg59566c175a1ab55f643fee71)Wasn't QTask released under MIT? Or at least parts of it, IIRC.

greggirwin

[15:20](#msg59566c3abf7e6af22c8dc873)In this case, I'm biased toward producing a better result over compatibility.

I believe it was, but I would want to make sure it was OK anyway.

rebolek

[15:21](#msg59566c8b5a1ab55f643ff0b9)I understand.

greggirwin

[15:22](#msg59566ca3bf7e6af22c8dca1b)I also added a `/with-attr` refinement because a lot of XML data doesn't use attrs, and omitting them makes things just key-val, which is much nicer.

[15:23](#msg59566cea703e565c335df6f9)Although it's not so large that a clean rewrite would be a huge amount of work. Maybe better to just build on yours and Zamlox's work, taking some design ideas.

rebolek

[15:26](#msg59566dad5a1ab55f643ff707)I wrote the encoder in the morning, it wasn't much work. What I am thinking about is to merge attributes and value somehow, so it could be converted to simple key/value storage. But getting it right, that's a problem 🤔

greggirwin

[15:32](#msg59566f2a8dae4250316e6e2d)I think I tried that too. If you need to get them back out, round trip, you have to mark the attrs somehow, which is risky if you do it by annotating the name.

[15:34](#msg59566f733230e14f3a0f8d96)You can do a sub-structure as well.

[15:34](#msg59566f993230e14f3a0f8ee4)But then someone will have a key called `attributes` for sure.

rebolek

[15:36](#msg59566fec8dae4250316e735f)It's a bad design. What goes into attributes and what into value seems pretty random to me. But we are talking about XML here, so it goes.

greggirwin

[18:03](#msg595692874bcd78af56616457)Right. There are no hard-and-fast rules about what goes where.

dander

[18:29](#msg5956989d4bcd78af566180a1)Are you guys thinking the goal for these tools would be to refine them to the point where they would candidates for inclusion in Red?

[18:31](#msg595698e476a757f808c1fc4f)Or is it more informal at this point?

rebolek

[18:34](#msg5956999a8dae4250316f3762)That's not up to us to decide ;)

[18:34](#msg595699ca76a757f808c1ff67)Anyway, I think that JSON and few other formats are so important to support, that they should be included and also they should be implemented as natives for speed.

dander

[18:35](#msg595699e35a1ab55f6440c4e7)well, I did say candidates :wink:

[18:36](#msg59569a1da42fa68a3087bb47)I see... so maybe Red implementations would be good for experimenting with design, but the final implementation should be done natively

rebolek

[18:40](#msg59569b028dae4250316f3d46)I think so. But maybe compiled Red version would be fast enough, so Red/System version won't be necessary.

dander

[18:41](#msg59569b4bad9c781843b9481f)so I'm pretty interested in the JSON/XML processing, and I think I could help somehow. I'm sort of wondering how would be best to help toward a common effort, like messaging you/@Zamlox about specific things, or submitting bug reports to those relative depos, or if that could be consolidated in Red/Community, for example

[18:42](#msg59569b805a1ab55f6440cc6f)I've never really participated in open source before this point, so this community organization stuff is new to me

rebolek

[18:43](#msg59569bb63230e14f3a105a4d)@dander bug reports are certainly welcome, or wishes for updates

greggirwin

[18:57](#msg59569f1c703e565c335ee836)I think there should be official libs/modules for them, and JSON should certainly be included by default. They shouldn't grow the runtime too much. Creating test cases is also very helpful. Building a corpus of data is great. I have a number of JSON test files I can contribute.

[18:57](#msg59569f36ad9c781843b95bd5)I hope they won't have to be native, as they will be great `parse` examples.

rebolek

[18:59](#msg59569f87c101bc4e3a3a696f)They probably won't have to be native, but I'm interested in trying some R/S coding again ;)

greggirwin

[19:01](#msg5956a0056ae41d5d33a0d253)I imagine there will be some great ways to mix the two, for high level power and speed.

## Saturday 1st July, 2017

pekr

[03:38](#msg5957194e8dae425031710c67)Btw - according to Trello, "Simple stream-oriented XML parser" is planned for the next release.

geekyi

[13:53](#msg5957a944f5b3458e3000469b)Context: \[RedCV July 1, 2017 5:41 AM](https://gitter.im/ldci/redCV?at=5956efa4ad9c781843ba9eca)  
&gt; redCV contains R/S code, so you need to compile it either in release mode (`-r`), or using by building a custom libRedRT (using `-u`).  
&gt; @dockimbel Hmm.. I tried the `-u` flag too, but I thought that was on by default? (Maybe I forgot to `red clear`) I'll try with `-r` and see if any difference  
&gt; No, the default is to build a generic libRedRT for Red scripts without custom R/S code.

[13:53](#msg5957a9733230e14f3a140a34)So `-c`, `-r` and `-u` each generate a diferent type of executable it seems

dockimbel

[13:55](#msg5957a9d58dae42503172f450)Each one has its own purpose, it's explained in the last blog article.

geekyi

[13:56](#msg5957a9f23230e14f3a140bbb)Somewhat related is this feature/fix: red/red@735b5362

[13:59](#msg5957aadc4bcd78af566541c6)@dockimbel thanks, so here's the relevant part:  
&gt;Such fast compilation mode also works for Red scripts that embed Red/System code. Two cases are possible:  
1\. Red/System code does not contain any call to Red runtime library.  
2\. Red/System code contains one or several calls to Red runtime library.  
\[..]  
In the second case, a custom version of libRedRT is required, but the toolchain will take care of the process, it just requires the user to compile \*once* using `-u` option, then simply use `-c` for next compilations

[14:01](#msg5957ab24f5b3458e30004c55)I also see this when using `-u`, which I don't otherwise:

[14:01](#msg5957ab458dae42503172facf)

```
ps
Compiling to native code...
libRedRT-extras.r file generated, recompiling...
```

[14:02](#msg5957ab7fad9c781843bd10f6)So, my understanding is `-u` recompiles / updates libRedRT, which fails if you only use `-c`

[14:05](#msg5957ac155a1ab55f64448b78)What I'd actually forgotten in \*this specific instance* was not using `-r`; which I didn't have to till the change in red/red@735b5362.

greggirwin

[17:27](#msg5957db94703e565c3363545d)@rebolek, I got the all clear from Reichart to share my old code. Just FYI.

rebolek

[17:30](#msg5957dc20703e565c336356b0)@greggirwin great!

## Sunday 2nd July, 2017

ldci

[08:26](#msg5958ae248dae425031764f43)RedCV updated here https://github.com/ldci/redCV

greggirwin

[17:22](#msg59592be86ae41d5d33a99d71)Thanks @ldci. I like the readme listing changes.

## Monday 3th July, 2017

x8x

[13:16](#msg595a43b90cef4fed2eb70181)As ninja Red Team is currently working on `date!` and implemented `integer! to date!` and `date! to integer!` to convert to/from unix date, does anyone think we should also have `float! to date!` and `date! to float!` to support unix time with subseconds? Good arguments needed! :smile:

iArnold

[14:33](#msg595a55a2ad9c781843c6e5d5)That is more for `time!` than for `date!`? Or you want to calculate pi-day up to six digits after the decimal point? I will be more than happy with just the `date!` for now.

greggirwin

[16:41](#msg595a73c96ae41d5d33aea9a0)@x8x, I commented on the ticket itself.

## Tuesday 4th July, 2017

iArnold

[11:14](#msg595b7889329651f46e503647)ticket?

greggirwin

[16:10](#msg595bbdf75a1ab55f6454b91b)Sorry, it was a commit, not a ticket: https://github.com/red/red/commit/423648ea6bc2a1dd8d0264062026330766ddb984#commitcomment-22895434

iArnold

[18:41](#msg595be1604bcd78af56768acc)Right. Well if it is simple to do I am for it, otherwise I think there are more urgent issues to attend. But I am all for getting some guidance for community efforts to fill in the gaps. Perhaps it is known that I have some shared repo's ideal for working on this kind of issues.

gltewalt

[19:56](#msg595bf2fbbf7e6af22ca4038f)JSON is pretty important in 2017.  
XML continues to fall out of favour, but it's still used in a lot of places.  
I also think at least JSON should be included. A lean, simple implementation though - no Java-like bloaty, overkill

iArnold

[20:45](#msg595bfe735a1ab55f64560c67)XML is unworkable. If it weren't for importing in Excel to get an overview it really would be impossible.

[20:47](#msg595bfee42723db8d5ed951f9)Whoever invented XML, they deserve something terrible... caries or a good headache at least

rgchris

[21:21](#msg595c06c91c8697534aedf453)There are going to be some complexities within a JSON en/decoder as certain parts of the spec are ambiguous—Are object keys case sensitive? What to do with keys that don't conform to Red's word spec? What to do with duplicate object keys? How to handle integers that exceed Red's integer limitations? Support JSONP? My goal with \[JSON parser for Rebol 2](http://reb4.me/r/altjson) was to be pragmatic based on samples encountered in the wild and that inherently made it more complex than one might intuit (even then chokes on \[a file](https://html.spec.whatwg.org/entities.json) that @rebolek brought to my attention—I think was addressed in the Rebol 3 version).

[21:23](#msg595c0741329651f46e5369fa)(despite that JSON is more accessible that XML, it still stinks—it took Rebol, dumbed it down, declared victory and consigned messaging to mediocrity for our current generation)

## Wednesday 5th July, 2017

greggirwin

[02:07](#msg595c49cc2723db8d5eda7341)We'll have a default JSON module, almost certainly, but it will be what it is and others can create special versions if it's not enough. We have `map!` now, so the key issue can be solved there, though it creates other issues.

PeterWAWood

[02:22](#msg595c4d816ae41d5d33b76ece) @rgchris I don't feel that the JSON spec is ambiguous about object "keys" being case sensitive. In JSON, the object "key" is specified as a string (as specified in the JSON spec).  
I feel that JSON is case-sensitivity agnostic.

The issue of case-sensitity only comes when converting JSON into a more usable form in a program. This is easy in languages which have objects/associative arrays which support string keys and does not apply case sensitivity to strings. It is not so easy in languages that don't. (Red falls into the former category).

```
>> m: #("a" 1 "A" 2)
== #(
    "a" 1
    "A" 2
)
>> select/case m "a"
== 1
>> select/case m "A"
== 2
```

[02:27](#msg595c4e8d76a757f808d92474)The only way to guarantee JSON key values to be usable is to treat them as strings (at least at the "library" level). I think it would take prior knowledge of the content to safely convert "key" strings to words.

[02:32](#msg595c4fd11c8697534aef0ee1)JSON has only "numbers" which may or may not be integers. Without prior application knowledge, I feel they can only be safely handled the way literal numbers are handled in Rebol &amp; Red:

```
>> type? 1
== integer!
>> type? 2147483648
== decimal!
```

rgchris

[03:07](#msg595c580ec101bc4e3a5171a2)Both fair points. Having case-sensitive map keys does alleviate things though using strings within paths to access values is not the prettiest (nor using \*\*select\** on deeply nested values). The most common big integers I encounter are Twitter IDs—that would offer a useful case test...

dockimbel

[03:22](#msg595c5b6b6ae41d5d33b7a026)@rgchris Supporting JSON as best as possible is a goal. We are still at a time in Red development where we can adjust some semantics and add whatever we need in order to fulfill that goal.

PeterWAWood

[03:34](#msg595c5e631c8697534aef479a)@rgchris It seems that treating Twitter IDs as integer in JSON is not only an issue in Rebol or Red - https://dev.twitter.com/overview/api/twitter-ids-json-and-snowflake

9214

[21:28](#msg595d59fa3230e14f3a2c3da6)@dockimbel regarding my wish about macro inclusion, I'm not sure that it's working:

```
; %macro.red
#macro answer: func [][42]
```

```
; %main.red
#include %./macro.red

probe [answer]
```

Results in `[answer]`. What I'm doing wrong?

## Thursday 6th July, 2017

toomasv

[05:56](#msg595dd11289aea4761d6d568a)@9214 On W10 it works.

```
>> do %main.red
[42]
== [42]
```

[07:03](#msg595de0cb76a757f808e0673d)@9214 Curiously, with clean console, it works on second try only:

```
>> do %main.red
[answer]
== [answer]
>> do %main.red
[42]
== [42]
```

9214

[07:14](#msg595de35c6ae41d5d33bee41e)Same as @toomasv with clean console

```
--== Red 0.6.2 ==-- 
Type HELP for starting information. 

>> do %main.red
[answer]
== [answer]
>> do %main.red
[42]
== [42]
```

[07:16](#msg595de3b976a757f808e0727f)Dang, deleted first message

[07:17](#msg595de3fa2723db8d5ee1e518)I've double checked from console (moved scripts into folder with Red toolchain) and...

```
>> do %main.red
[42]
== [42]
```

But with `F6` hotkey from VSCode it's still `[answer]` :confused: Has something to do with absolute/relative path to script?

[07:56](#msg595ded1b0de4d2545efbd5a7)Same with absolute path from console - works only on second try.

dockimbel

[08:10](#msg595df08f329651f46e5c0951)Date branch merged. It's fully functional and passes all the unit tests. A short documentation will follow with maybe a few minor extra features.

pekr

[08:18](#msg595df23d89aea4761d6ddecf)That's great, date funcitonality was kind of missing. Tested, seems to work as expected so far. And btw - red-gui.exe now exceeds 1MB by few kilos :-)

9214

[08:23](#msg595df38a1c8697534af6dd45):clap:

meijeru

[08:25](#msg595df3fabf7e6af22cad563a)Great work. I notice various innovations wrt R2/3 dates. Will experiment with them all, and no doubt have remarks and possibly issues.

rokf

[08:34](#msg595df5fabf7e6af22cad6024):+1:

toomasv

[08:50](#msg595df9ed1c8697534af6f9b7)Bravo!

iArnold

[10:02](#msg595e0ac676a757f808e1335c)Very good!

planetsizecpu

[10:11](#msg595e0cc36ae41d5d33bfa546)We are on the way! push hard :+1:

iArnold

[11:17](#msg595e1c39f5b3458e301b9f17)@pekr Can you compile gui-console.red using Rebol/View?

[11:20](#msg595e1cf076a757f808e18d12)Okay, have to use -r (as usual sorry) and -t Windows too

dander

[16:20](#msg595e635b2723db8d5ee46a91):clap:

rebolek

[18:15](#msg595e7e3389aea4761d70b400)@rgchris btw, current Red JSON decoder from Red tools can convert the file you mentioned.

rgchris

[21:19](#msg595ea97289aea4761d717730)@rebolek Yep, the case-sensitivity of MAP! does help.

[21:20](#msg595ea98e1c8697534afa6843)And of course better unicode handling : )

fergus4

[22:21](#msg595eb7d74bcd78af5683f663)Date!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! Thanks, Doc!

## Friday 7th July, 2017

BlackATTR\_twitter

[00:08](#msg595ed1174bcd78af56845444)Dates, yes nice-- I needed those, ty very much!

greggirwin

[03:15](#msg595efcca76a757f808e5c015)Man, I step away from my desk...

Go Team Red!

[03:30](#msg595f004689aea4761d72ba3d)That's a lot of work. We use these datatypes without thinking--at least for me--about all the details that have to be right, all the features packed into each one. That's why we love the language. Looking at the date code, it's a reminder that so much work goes into each piece. Thanks @dockimbel and @qtxie. Now I need to clear the decks and put this to use!

dockimbel

[05:24](#msg595f1b2189aea4761d731550)Thanks! `date!` is not a simple one, but it is very well defined and algoritms for processing dates are well known, so it's like driving 500 miles on a straight and flat 4-lanes highway (it can take time, but it's a smooth ride), while wrapping some OS API (like GUI) is often more like a 10 miles trip, but on a single-lane serpentine mountain mud road. \*(@greggirwin Need to check your link about the adjectives order again, not sure I got it right just by how it sounds)* ;-)

dander

[05:37](#msg595f1e04c101bc4e3a5e0d26)@dockimbel your explanation made me laugh out loud

dockimbel

[06:12](#msg595f263c2723db8d5ee78874)@dander Glad I can still do that, means the work on `date!` was less brain-damaging that I expected. ;-)

endo64

[07:03](#msg595f323a89aea4761d737402)We finally got date! Thanks for the great work!

mydoghasworms

[07:18](#msg595f35db6ae41d5d33c4e556)Hi all, I am sorry to ask something I think I asked here before, but if you have tried using the search functionality on Gitter I am sure you can understand why I am unable to find it again:  
When I compile a GUI app with Red, what must I do so that the compiled executable does not open a separate console window when run? I seem to remember it's something in the code, under `system` that must be set to prevent the extra output window from appearing.

PeterWAWood

[07:26](#msg595f37902723db8d5ee7d090)You need to specify `windows` as the target to the compiler.

mydoghasworms

[07:31](#msg595f38c00de4d2545e01b7fe)@PeterWAWood Thanks! That was simple enough!

x8x

[08:47](#msg595f4aa842d2f61025872266)Thanks Red Team for `date!` !

greggirwin

[16:50](#msg595fbbe776a757f808e92e8c)@dockimbel, LOL! Yeah. That's a lot of adjectives. Maybe: \*muddy serpentine single-lane mountain road\*.

## Sunday 9th July, 2017

PeterWAWood

[08:47](#msg5961ed96f5b3458e302a86cf)There are many questions being asked of the Red Team like "Why doesn't Red have feature x?", "Why has my issue been ignored?", and "Can you add this feature now?". We realise that the reason behind the answers to question may not always be apparent and have published a brief document - \[Red Project Approach](https://github.com/red/red/wiki/Red-Project-Approach) - to explain the context behind those answers.

pekr

[09:31](#msg5961f7f6329651f46e6bce19)" rk started on the GUI dialects." - some typo or missing part of sentence?

[09:32](#msg5961f835f5b3458e302aa9ee)another one "Red i A roadmap for Red,", "before wos in a fast-changing environment"

PeterWAWood

[09:42](#msg5961fa95bc46472974cf783c)Thanks @pekr. I fixed it.

dockimbel

[11:10](#msg59620f2b1c8697534a06d56d)Official date! documentation: https://doc.red-lang.org/en/date.html

[11:16](#msg5962108e3230e14f3a3e8e7f)In a nutshell, Red `date!` supports all the Rebol2 date features and adds:  
\* support for negative years  
\* many additional input formats from ISO date standard  
\* ability to set `/hour`, `/minute` and `/second` directly on dates (missed a lot in Rebol2)  
\* new `/week` accessor, for getting/setting the week of the year  
\* new `/isoweek` accessor, for getting/setting the ISO week of the year  
\* new `/timezone` accessor for setting the time zone, keeping the same UTC time  
\* conversion from/to Unix epoch time  
\* `make date!` erroring out on invalid spec argument, while `to date!` normalizes any out of range spec.

[11:18](#msg596210eef5b3458e302af904)Enjoy! ;-)

[11:21](#msg596211a74bcd78af56908571)BTW, the compiler does not support `/isoweek` as we lack an adequate conversion function in Rebol. If there's anyone interested in implementing such function, the ISO week spec is \[there](https://en.wikipedia.org/wiki/ISO\_week\_date). We just need a single `set-iso-week` function, taking a `date!` value and a week integer number, returning a new date set on the first day of that week. You can use our set of \[unit tests](https://github.com/red/red/blob/master/tests/source/units/date-test.red#L680) to validate it. I didn't implement it for lack of time, though a contribution would be greatly appreciated.

tanstaaf1

[12:05](#msg59621c244bcd78af5690af84)@dockimbel Thanks for the great work! I'm quite impressed with the decisions you made that largely address my considerable frustration with rebol's \*silent* euro date support at the expense of US dates. &gt;&gt; a: 1/2/1999  
\== 1-Feb-1999

[12:12](#msg59621db41c8697534a070e8a)ISO format is something I generally preferred anyway, so having available allows me to pretty much sidestep my schizo reaction to Euro dates. I'm hoping ISO is the internal (storage) default? Or is it simply one very long integer?

[12:24](#msg5962207089aea4761d7e0e98)If only you'd been born in the US I'm sure we'd have had a \*complete* fix :-I

ghost~5680c5f416b6c7089cc058a5

[14:01](#msg59623742bf7e6af22cbdf659)&gt; support for negative years

I have never used dates for any task, I understand their use cases but what would negative dates be used for?

dockimbel

[14:58](#msg5962449689aea4761d7e902a)@nc-x Age of Empires style games. ;-)

[15:09](#msg596247414bcd78af5691457b)@tanstaaf1 I don't see how we could support the `mm/dd/yyyy` and the `dd/mm/yyyy` format at the same time, so we have to go with only one of them. I don't think that been born in US would change the rationale behind such decision, even Carl did the same choice, because that's the only rational one for a world-wide usage.

greggirwin

[16:42](#msg59625cf0c101bc4e3a69eb29)The project goals wiki doc is great!

pekr

[17:17](#msg5962651689aea4761d7f1485)Isn't the `date!`doc missing `/precise`description?

## Monday 10th July, 2017

tanstaaf1

[00:30](#msg5962ca9689aea4761d808559)@dockimbel I was joking! that is why I emphasized the "complete" the way I did and added the face at the end. Your solution was actually better than I was expecting. I can use ISO and feel good about that. Nobody will waste time trying to figure out why their date code isn't working because your REPL, unlike R2, is quite specific. So my thanks was sincere. What is the internal data representation? You likely document this somewhere but I've missed it.

gltewalt

[02:54](#msg5962ec7abc46472974d2e22e)What happens in the year 33000?

dockimbel

[03:39](#msg5962f6f60de4d2545e0f58a7)@gltewalt Star Wars? ;-)

[03:41](#msg5962f766f5b3458e302e214f)@tanstaaf1  
&gt; What is the internal data representation?

See \[here](https://github.com/red/red/blob/master/runtime/datatypes/structures.reds#L317).

[04:25](#msg596301bcf5b3458e302e44f4)FYI, the compiler is now on par with the interpreter for date formats support.

rgchris

[05:29](#msg596310ab89aea4761d816c22)Is there a usable USE function about?

[05:33](#msg59631194bc46472974d362f4)Tried this but seemed to have side-effects (that I can't yet reduce):

```
use: func [words [block!] code [block!]][
    do bind code make object! collect [foreach word words [keep to set-word! word] keep none]
]
```

[05:38](#msg596312ea329651f46e6fafc0)Never mind, I see what's up: added `/local word` to the function spec.

dockimbel

[06:07](#msg596319bcc101bc4e3a6c74fd)@rgchris `function` in Red can capture those iterator words for you (until we add local contexts support for iterators). `use` is trivial to support in the interpreter, but for the compiler, it falls into the functions in functions category, and that is not fully supported by the compiler yet. I plan to package that along with other functional programming related features in a future release (probably after Android and full IO support).

[06:12](#msg59631ae9329651f46e6fcb6a)@rgchris BTW, you can easily keep your programming style in Red, just defining `use` as a macro that will convert it to an object context, and set the local words to `none` at the head of the context body block. ;-)

rgchris

[06:55](#msg596324cbf5b3458e302ed060)This might not be as efficient as you were suggesting, but then my code may be too dynamic in parts—not sure:

```
#macro use: func [words [block!] code [block!] /local word][
	reduce ['do bind code make object! collect [foreach word words [keep to set-word! word] keep none]]
]
```

dockimbel

[07:00](#msg596326242723db8d5ef5fbb3)@rgchris Maybe rather (untested):

```
#macro use: func [words [block!] code [block!] /local word][
    reduce [context append collect [foreach word words [keep to set-word! word] keep none] code]
]
```

[07:03](#msg596326c1329651f46e6ff8fe)You could also account for the last value you often return from `use` by adding a `set` there, gathering the set-word or set-path preceeding `use`. For such case, a named macro would not be enough, you need to switch to pattern-matching macro (so you get references to the source code).

rgchris

[07:07](#msg596327c44bcd78af569458f6)@dockimbel I do need the last value—I think that's the trick. More likely I think I'd be better refactoring the code some.

[07:09](#msg59632832bc46472974d3b7d7)In any case, my messy macro was enough to get my code up and running: \[AltXML for Red](https://github.com/rgchris/Scripts/blob/master/experimental/altxml.red). Likely need to do more digging to see how to make things more efficient.

[07:12](#msg596328dcc101bc4e3a6cb07d)

```
lisp
do https://raw.githubusercontent.com/rgchris/Scripts/master/experimental/altxml.red

feed: load-xml/dom https://www.blogger.com/feeds/5936111837781935054/posts/default
entries: feed/get-by-tag <entry>
probe new-line/all collect [
	foreach entry entries [
		keep entry/get/text <title>
	]
] true
```

dockimbel

[07:32](#msg59632d9f76a757f808f5242a)@rgchris Nice!

rgchris

[07:34](#msg59632dfd3230e14f3a4276b7)With dates!

```
probe new-line/all/skip collect [
	foreach entry entries [
		keep load head clear find entry/get/text <updated> "T"
		keep entry/get/text <title>
	]
] true 2
```

dockimbel

[08:31](#msg59633b6076a757f808f56667):+1:

meijeru

[12:33](#msg5963741cc101bc4e3a6e096b)`system/catalog/accessors`, a new reflective feature :clap:

dockimbel

[12:57](#msg596379a289aea4761d835819)Yes, and it's used by the auto-completion in the console (that's the main reason for adding that list in the first place).

iArnold

[13:59](#msg59638858329651f46e71cd4b)Very ugly set-iso-week implementation https://gist.github.com/iArnold/b9fb0d3fb09affc3e66aed32c74bca65

dockimbel

[14:37](#msg5963911b76a757f808f70829)I've figured out a simple implementation for setting the ISO week using Rebol: https://github.com/red/red/blob/master/lexer.r#L808

iArnold

[14:58](#msg59639606bf7e6af22cc383d9)See, just need to push you to really great heights :high\_brightness: :P

meijeru

[15:05](#msg596397b83230e14f3a448aad)`system/build/date` could now have type `date!`

BlackATTR\_twitter

[15:10](#msg596398f01c8697534a0d069b)@rgchris In the SQL dialect I've been building, the syntax for what you wrote would be:

```
select <title *>, (clear find <updated> "T")
from https://www.blogger.com/feeds/5936111837781935054/posts/default
```

[15:16](#msg59639a4589aea4761d840686)I'll be giving a demo of this at a conference in Toronto this week (OpenText Enterprise World). A friend at MongoDB also asked me to give them a demo when ready.

pekr

[15:28](#msg59639d28329651f46e723ad4)You use OpenText? In the company I worked for few months ago, we used their Livelink product :-)

BlackATTR\_twitter

[15:33](#msg59639e33329651f46e723f7b)OpenText is a big company that buys up content management and document management platforms/companies. My company uses several of their platforms which they bought recently.

[15:41](#msg5963a01289aea4761d8427a8)Depending on the structure being parsed, the sample above could also be a bit more complex, e.g.,

```
select <title *>, (clear find <updated> "T")
where <updated> in 
select <entry>
from https://www.blogger.com/feeds/5936111837781935054/posts/default
```

rgchris

[16:43](#msg5963aeaff5b3458e30318fbd)@BlackATTR\_twitter is that a comma I see there?

[16:47](#msg5963af9c1c8697534a0d7abb)@dockimbel @greggirwin Another one I tried that didn't work was:

```
#macro use: func [words [block!] code [block!]][
	func compose [/local (words)] code
]
```

Is this as the function context is ephemeral or that function contexts don't work the same way, or... (?)

[16:52](#msg5963b0e62723db8d5ef8a897)@BlackATTR\_twitter Is an interesting prospect. I have a PATH accessor which shortens things a little, but only accesses one node at a time:

```
feed: load-xml/dom https://www.blogger.com/feeds/5936111837781935054/posts/default
collect [
    feed/path [<feed> <entry> <title> ?] ; ? returns text value
    load head clear find feed/path [<feed> <entry> <title> ?] "T"
]
```

Still not as succinct though.

BlackATTR\_twitter

[16:55](#msg5963b195bf7e6af22cc41610)@rgchris That's right, there's a comma in there, which complicates things a bit (requires string parsing or otherwise filtering the input). Still undecided as to whether or not that stays there. There's a lot of things like that still up in the air.

greggirwin

[17:00](#msg5963b2a6c101bc4e3a6f4a7c)@rgchris, using `func` in your macro is like not using the macro at all. `Object` contexts are different for the compiler issue Doc mentioned.

BlackATTR\_twitter

[17:02](#msg5963b33ec101bc4e3a6f4d0e)Also, not yet implemented-- define your own functions in redbol and embed them in the SQL, e.g., so instead of Select (clear find &lt;updated&gt; "T") --&gt; Select extractTime(&lt;updated&gt;)

[17:33](#msg5963ba66bc46472974d6828c)@rgchris I think we may be approaching similar things from different angles. I've been focusing on how to reshape SQL to work on hierarchical text (as opposed to relational tables). And it looks like you (and Gregg and others here) have built redbol functions to extract data, translate DOMs, etc. I will take this discussion offline, but I would be interested in integrating some of the functions from the community.

rgchris

[18:00](#msg5963c0d00de4d2545e131ebd)@BlackATTR\_twitter Is a good discussion to have. Could use the mailing list to explore the topic a little deeper...

[18:08](#msg5963c2834bcd78af569753ab)It is an intriguing application of your SQL dialect to apply it to XML documents. I likely wouldn't use the FROM URL! part rather keeping that part within the regular program flow. However, would strongly consider it for a selector (I wonder if you could imply a comma from using two consecutive non-words?):

```
feed/select [select <title *> (clear find <updated> "T") where <updated> in select <entry>]
```

BlackATTR\_twitter

[18:22](#msg5963c5ef3230e14f3a457e83)@rgchris Since anything could come back from a URL! or File!, there will need to be a way to specify the data. Not terribly elegant, but I was thinking something like the #xml in:

```
select <title *>, extractDate(<updated>)
where <updated> in 
select <entry> 
from #xml https://www.blogger.com/feeds/5936111837781935054/posts/default
```

Commas can be implied-- i will be fiddling with other things like that (such as removing the ";" at the end of statements)

rgchris

[18:24](#msg5963c66f1c8697534a0dec05)In the above case, FEED already holds the data: `feed: load-xml/dom path-to-feed`

BlackATTR\_twitter

[18:29](#msg5963c77989aea4761d84ed2e)@rgchris I like it. I'm trying not to stray too far from generic SQL, but may end up in a place similar to what you propose. Ideally a user will not need to know Red or Rebol to be able to use this dialect at a REPL. They will only work in Red when they want to extend the dialect, e.g., add a datasource, functions, keywords (or statements such as UPSERT or SINCE)

rgchris

[18:36](#msg5963c9473230e14f3a458e88)@BlackATTR\_twitter I get you—it's a good direction! Has anyone else used SQL to extract values from XML? Seems obvious when looking at your snippets, but the obvious isn't obvious until it is...

BlackATTR\_twitter

[18:38](#msg5963c99c1c8697534a0df9bb)@rgchris So a user could write something like:

```
x: xml https://www.blogger.com/feeds/5936111837781935054/posts/default
select <title *>, d: extractDate(<updated>) 
where <updated> in
select <entry> from x where d since 1-Jun-2017
```

This is still pretty half-baked, but you get the idea.

rgchris

[18:39](#msg5963c9ecbc46472974d6d0c7)Something along those lines.

[18:41](#msg5963ca4df5b3458e303213d2) use #xml https://.... as feed; select .... from feed where ...

BlackATTR\_twitter

[18:44](#msg5963cb013230e14f3a459cb6)@rgchris SQL syntax has been used like crazy for webAPIs (Facebook, Yahoo, dozens of others), to the point that it has a bad rep. But I think this would be among the first which would be a \*composable* dialect, where you can use SQL syntax as a starting point to build custom DSLs to query and manipulate data. I \*think* that's a new one. Also, there are a few known projects where SQL is used to scan file-systems, OSquery in particular.

[18:47](#msg5963cbdef5b3458e30321ac6)@rgchris So the last code example I typed above, it's something that 80% of all devs and a significant % of business users (data analysts) could pick up in like ten minutes, as long as most of the syntax and concepts stick to SQL without getting into functional programming, parse, binding etc. Otoh, as a Red programmer, you would be able to pass in a full-blown parse rule as a filter/group-by... that would be sort of an advanced thing for ppl who already know Redbol.

[18:50](#msg5963cc8e3230e14f3a45a54c)@rgchris Yes, your example has the pattern. Then of course, there would also be statements for UPDATE, CREATE, DELETE expressions. Ok, this forum has been pretty tolerant of this side-conversation. Let's discuss via email or in a forum. Thanks all.

greggirwin

[19:07](#msg5963d0692723db8d5ef93d1f)Pretty sure LINQ in .NET goes down that path (no pun intended). SPARQL is the main thing that comes to mind though.

BlackATTR\_twitter

[19:28](#msg5963d554c101bc4e3a6fea34)@greggirwin Yes, you're right, LINQ definitely goes down the path of making SQL composable. Not sure I would use LINQ as an easy way to build DSLs, though -- it's tied to C# .NET. And there are definitely ways to use ANTLR and tools like xText to create DSLs, but those are more for advanced programmers. Ideally I'd like to produce a simple data-wrangling dialect that almost anyone could use. Seasoned developers are likely happy to continue piping find/awk/sed/curl/grep expressions together.

[19:38](#msg5963d7a8bc46472974d71050)@greggirwin And I believe SPARQL is a semantic RDF query language. That's data which is \*much* more structured &amp; defined than the generic data-wrangling and dialecting I'm trying to unify behind an SQL syntax.

rgchris

[20:09](#msg5963defe1c8697534a0e6e7d)Another conversion: \[Form Date](https://github.com/rgchris/Scripts/blob/master/red/form-date.red)

```
do https://raw.githubusercontent.com/rgchris/Scripts/master/red/form-date.red
probe form-date now "It is %A the %e%i of %B, %Y"
probe form-date/utc now "%c"
probe form-date now "%a, %d %b %Y %H:%M:%S %z"
```

At this time, it does leak the support functions.

Oldes

[20:18](#msg5963e11d0de4d2545e13ba25)@rgchris so why you don't close it in a context? Like:

```
ctx-form-date: context [
    ...
   set 'form-date func[
]
```

[20:20](#msg5963e1912723db8d5ef99552)Also in the doc string (or in the `ctx-form-date`) should be info about all these supported codes.

rgchris

[20:21](#msg5963e1b0bc46472974d73c38)That's the goal, though I really don't like the CONTEXT/SET convention.

Oldes

[20:22](#msg5963e1f01c8697534a0e7c31)Why? Is replacing someone's else functions better?

rebolek

[20:22](#msg5963e20276a757f808f8a786)Modules should make this easier.

Oldes

[20:23](#msg5963e25abf7e6af22cc4fec8)@rgchris for example `pad` is defined in Red by default... you are replacing it with your own version.

rgchris

[20:42](#msg5963e6a176a757f808f8bcb1)Yep—modules...

[20:42](#msg5963e6afbc46472974d75235)@Oldes It's a first pass conversion. Just making sure the thing works.

[20:44](#msg5963e71376a757f808f8bec7)@Oldes The support functions have no correlation to the %c codes—would be no auto-documentation that way.

Oldes

[20:44](#msg5963e743bf7e6af22cc5159f)Don't understand what you mean.

rgchris

[20:45](#msg5963e766329651f46e73aa63)\*"Also in the doc string (or in the ctx-form-date) should be info about all these supported codes"*

Oldes

[20:46](#msg5963e7c22723db8d5ef9b073)Yes.. and? You could provide some way how to get info about possible codes in console without need to read source.

rgchris

[20:47](#msg5963e7ff2723db8d5ef9b163)Such as following the HOME header value.

Oldes

[21:04](#msg5963ebe9bf7e6af22cc52cb6)@rgchris hard to read header value when you have the script loaded in console... I was thinking about something like:

```
fd: func[
	{Possible codes:
		%a	The abbreviated weekday name according to the current locale.
		%A	The full weekday name according to the current locale.}
][]

? fd
```

with result:

```
USAGE:
     FD 

DESCRIPTION: 
     Possible codes:
        %a    The abbreviated weekday name according to the current locale.
        %A    The full weekday name according to the current locale. 
     FD is a function! value.
```

but it is your script.. good one btw.

rgchris

[21:06](#msg5963ec3c4bcd78af56981769)I'm taking the descriptions from the doc and embedding into the script. Will auto-generate the function description.

[21:45](#msg5963f5701c8697534a0ed489)Now with embedded documentation and support functions isolated: \[Form Date](https://github.com/rgchris/Scripts/blob/master/red/form-date.red)

[21:45](#msg5963f589c101bc4e3a707b64)@Oldes ---^

Oldes

[21:49](#msg5963f64dbf7e6af22cc556ba)Nice!

[21:52](#msg5963f718329651f46e73f0b8)There are just 2 issues. You mention REBOL in the description of the `%x` code and the help output is somehow strange:

```
ARGUMENTS:
     date         [date!] "Date to Format".
     format       [any-string!] "Target format (see description above).".
```

But that is for @greggirwin to fix:)

rgchris

[21:56](#msg5963f8084bcd78af56984934)@Oldes Hm, that's one I copied verbatim. Was actually @btiffin that wrote that one!

greggirwin

[22:19](#msg5963fd702723db8d5efa05a4)Doc strings are intended to be short. We don't have a plan for linking to longer docs for complex/dialected funcs. We need it though, as it has come up for years.

rgchris

[22:22](#msg5963fe141c8697534a0ef7ca)Could include a URL in the function spec that either pulls in a longer text description for HELP or sends the user to that page in their browser.

greggirwin

[22:22](#msg5963fe28329651f46e740cf1)Chris's approach is clever. Reassigning `form-date` threw me off for a moment.

[22:22](#msg5963fe371c8697534a0ef81d)Yes, Bolek's `nsource` does that.

[22:23](#msg5963fe640de4d2545e1437a9)I forked it here: https://gist.github.com/greggirwin/ab10ae521654d7f74dd4c784de6b32a2

## Tuesday 11st July, 2017

x8x

[11:16](#msg5964b38297cedeb04826328a)@rgchris, never seen that contructor before ;-) nice!

```
form-date: make object! [
	...
]
form-date: get in form-date 'form-date
```

any advantages compared to this form?

```
object [
	...
	set 'form-date ..
]
```

just curious :-)

rgchris

[14:20](#msg5964deb9bf7e6af22cc903bf)@x8x Conceptually I've never liked the ambiguity of using SET without explicitly establishing the context the target resides in. Aesthetically I strongly prefer to assign all my key functions/values with set-words. I've nothing in particular against CONTEXT or OBJECT constructors, I like the connotation of MAKE MODULE! and until there are modules in Red, MAKE OBJECT! will suffice.

[14:21](#msg5964dee7f5b3458e303685d5)I won't prognosticate on how modules will materialize in Red save to say I don't get the impression that Red will follow Rebol 3's approach to context (\*three* 'global' contexts!) or module structure—even so, I'd imagine it'd be difficult to avoid further subtleties in context and I err on being as deliberate as I can be.

[14:23](#msg5964df47329651f46e77a162)That said—I have a Rebol 2 and 3 background, not Red—there's much I don't know about the advantages of using certain conventions when it comes to scripts being compiled or even Red's flavour of interpretation (you can see that in my rather awkward attempts at writing a USE macro). I don't recall having seen many paragraphs on that as yet.

[14:37](#msg5964e2a50de4d2545e17e571)Rebol is such a free-form language and there's lots of ways to spin values into the air and knit them together on an astral plane to meet tangible and pragmatic ends. Red certainly captures this quality, yet I suspect there are distinct advantages to a more conventional approach when scripts are compiled and more of the logic is contained within hard-coded, machine-ready bits. Yeah, I'm not sure I have a particularly earthed approach to programming :)

## Wednesday 12nd July, 2017

Phryxe

[07:15](#msg5965cc8f3230e14f3a4df65c)now/month  
\== 2017

Latest version ...

[07:22](#msg5965ce1fbc46472974df335e)`now/year` shows date

dockimbel

[07:45](#msg5965d38f1c8697534a16a6e1)@Phryxe Good catch, forgot to re-index `now`'s accessors. Fixed now.

## Thursday 13th July, 2017

kealist

[01:43](#msg5966d028bc46472974e3fa52)Has this been reported?

```
>> read http://www.github.com
== {^/^/^/^/^/^/<!DOCTYPE html>^/<html lang="en">^/  <head>^/    <meta chars
>> read http://www.google.com
*** Access Error: invalid UTF-8 encoding: #{A050726F}
*** Where: read
```

geekyi

[01:51](#msg5966d22ef5b3458e303f3fb2)@kealist yes, bug in google.com ;P

[01:56](#msg5966d3492723db8d5e0633da)@kealist https://stackoverflow.com/a/43383454/5798459

kealist

[02:01](#msg5966d4872723db8d5e06387d)@geekyi Thank you.

greggirwin

[02:10](#msg5966d690c101bc4e3a7cdae2)Nice to see you Josh!

kealist

[02:11](#msg5966d6d82723db8d5e063f8b)@greggirwin Yes, currently back in programming &amp; job searching mode

[02:12](#msg5966d6ff4bcd78af56a4bc75)Trying to go back through Red/System bindings that I have mirrored to see if I can get some of them working, but may take a while

[02:14](#msg5966d78a4bcd78af56a4bd5e)I don't know if someone has a more recent version because I hadn't updated my mirror since 2015

geekyi

[03:51](#msg5966ee42329651f46e80b0f4)@kealist @Oldes has created his own updated bindings for some. Also check. red/system room

dockimbel

[04:11](#msg5966f2f60de4d2545e2124f4)@kealist Check out https://github.com/red/code/tree/master/Library

x8x

[04:20](#msg5966f4fc0cef4fed2eb7848a)@kealist you can use this as a workaround:

```
;read url and convert to utf8
read-url: func[url /local e o][
	o: {}
	call/output form reduce [{curl -IL} url] clear o
	parse o [any [thru [{Content-Type: } thru {charset=} copy e to lf]]]
	call/shell/output form reduce [{curl -L} url {| iconv -f} e {-t UTF-8}] clear o
	o
]
```

```
read-url http://www.google.com
;   {<!doctype html><html itemscope="" itemtype="http://schema.org/WebPage" lang="en"><head><meta content="text/html; charset=UTF-8" http-eq...
```

## Friday 14th July, 2017

dockimbel

[07:53](#msg596878841c8697534a224c14)FYI, we are preparing for the 0.6.3 release, working on the blog article are doing extensive regression testing.

Oldes

[10:48](#msg5968a162f5b3458e3046d581)@dockimbel @kealist not tested, but is Red using `Accept-Charset: utf-8` for the url requests?

dockimbel

[10:58](#msg5968a3cfbf7e6af22cd97285)@Oldes You should ask @qtxie for simple-io related questions.

qtxie

[11:51](#msg5968b0421c8697534a2324f5) @Oldes You can set the http request header manually.

```
write https://www.google.com [GET [Accept-Charset: "utf-8"]]
```

Oldes

[12:31](#msg5968b9992723db8d5e0dfbf8)it gives same \_invalid utf-8 encoding_ error, so it is not a solution.

pekr

[13:43](#msg5968ca963230e14f3a5aed71)@Oldes Without the manual encoding I am not sure you can do it. E.g. try to read czech idnes.cz server. There is one char after the header, displayed as question mark. Not UTF-8 compatible. If Red is strict about reading such stuff, we will have to read it as a binary then, then try to convert ourselves, as `to-string`fails then too, naturally. I did not delve deep into it this topic, not sure how difficult would it be to write the decoder ...

geekyi

[14:53](#msg5968dae876a757f8080e0cad)@pekr @Oldes the problem in that specific case is definitely with Google, because I get the same error with python. The character seems to be something like a space `a0`. Strangely, I don't get the exact markup with Firefox.. Even with rebol, Google sends me something different from what is sent to red.. Rebol I think, ignores the error..

rebolek

[23:52](#msg5969594e3230e14f3a5d4b3b)@Oldes google returns a mess. It's not Red's fault that google returns Windows1250 marked as UTF8.

[23:54](#msg596959c289aea4761d9cbd53)@geekyi Rebol does not ignore the error, it just ignores UTF8 and reads the data on system codepage which is what Rebol also uses.

## Sunday 16th July, 2017

munael

[22:53](#msg596bee7689aea4761da549e2)What is the formal grammar sphere that the Parse dialect implements?

greggirwin

[23:17](#msg596bf3fb1c8697534a2e96ab)http://www.red-lang.org/2013/11/041-introducing-parse.html says https://en.wikipedia.org/wiki/Top-down\_parsing\_language. And you need to order your rules, longest match first.

## Monday 17th July, 2017

rebolek

[05:11](#msg596c471689aea4761da65903)Is this expected, or a bug? (I hope it's a bug):

```
>> #"^(10FFFF)"
== #"􏿿"
>> mold #"^(10FFFF)"
== {#"􏿿"}
>> to binary! mold #"^(10FFFF)"
*** Script Error: Invalid char! value: #"􏿿"
*** Where: to
*** Stack:
```

PeterWAWood

[05:21](#msg596c4951f5b3458e30538875)@rebolek The `to binary!` script error seems to be a bug. The #"" could be a font issue.

rebolek

[05:22](#msg596c4993f5b3458e305389e1)@PeterWAWood Thanks. I meant just the error part, not what is shown on screen (I see a question mark in a box there).

PeterWAWood

[05:22](#msg596c49a1bf7e6af22ce5e6f2)Me too!

rebolek

[05:25](#msg596c4a47f5b3458e30538b55)https://github.com/red/red/issues/2895

Phryxe

[13:09](#msg596cb723bf7e6af22ce7da8c)Red Console with File menu and Quit doesn't work (Win 7 x64) unless I run Red Console as an administrator. Maybe it should be this way ...

```
>> *** Access Error: cannot open: %/C/ProgramData/Red/console-cfg.red
*** Where: write
*** Stack: do-actor do-safe save
```

dockimbel

[13:14](#msg596cb81e329651f46e964623)@Phryxe Please open a ticket for that.

Phryxe

[13:35](#msg596cbd2d89aea4761da85505)I'm not sure I know how to ... I'll try.

[13:40](#msg596cbe422723db8d5e1c55d4)https://github.com/red/red/issues/2897

dockimbel

[13:54](#msg596cc17e76a757f8081bc4dc)Finally: http://www.red-lang.org/2017/07/063-macos-gui-backend.html

[13:54](#msg596cc187c101bc4e3a92bb02)@Phryxe Thanks!

9214

[14:34](#msg596ccaec76a757f8081bf431)Yay! Good job 😀

iArnold

[15:05](#msg596cd22d89aea4761da8c331)It may seem a small thing but I definitely think that the new test backend is going to be a major selling point!

greggirwin

[15:17](#msg596cd5012723db8d5e1cce10)Woohoo! Go Team Red!

eranws

[15:42](#msg596cdaf889aea4761da8ef1e)This is great. I must say that the blog posts are a very good resource to learn!

ghost~5680c5f416b6c7089cc058a5

[15:51](#msg596cdceb89aea4761da8fccc)Congrats on the release!!! :smile:

[15:51](#msg596cdd194bcd78af56bb91c2)BTW, are android "insider" builds gonna be released anytime soon? :wink:

dockimbel

[15:55](#msg596cddf5bc46472974faeeb6)@nc-x Thanks. Probably yes, though, currently the work is still on merging the old Android code with the Red/View engine.

ghost~5680c5f416b6c7089cc058a5

[15:59](#msg596cded81c8697534a3249cf):smile: :clap:

dander

[16:49](#msg596ceaa10de4d2545e37f4b4)Hooray!

toomasv

[18:12](#msg596cfe1bbc46472974fb8573)Congratulations! :clap:

BlackATTR\_twitter

[18:47](#msg596d064b0de4d2545e387f7e)Fantastic work. So many new &amp; useful features.

Clemens-H

[23:05](#msg596d42a44bcd78af56bd4ded)Congrats, awesome release! Thanks!

## Tuesday 18th July, 2017

ghost~5680c5f416b6c7089cc058a5

[01:52](#msg596d69ebc101bc4e3a9583ea)Someone posted on HN - https://news.ycombinator.com/item?id=14793517

[02:02](#msg596d6c4abf7e6af22ceadf17)And here's on reddit - https://www.reddit.com/r/programming/comments/6nxs4l/red\_063\_released\_with\_macos\_gui\_support/

dockimbel

[02:18](#msg596d7005f5b3458e3058862c)Please upvote on both. ;-)

ampleteIO\_twitter

[02:38](#msg596d74a1f5b3458e30589628)hrm so 'source prompt' throws an error in windows

virtualAlan

[02:38](#msg596d74ac329651f46e99759e)Congrats on new release - nice work

ampleteIO\_twitter

[02:38](#msg596d74bdbf7e6af22ceafbba)(i was trying to do some meta-inspection as to what the REPL had so i could implement page-up and page down)

[02:39](#msg596d74e576a757f8081eb0c8)is there a way t o increase the level of verbosity so i can see the nature of the invocation ?

[02:40](#msg596d75071c8697534a34a46f)script error: val needs a value ; where: set; stack: source as an error msg isn't very helpful in this case ;)

dockimbel

[02:54](#msg596d785ebf7e6af22ceb066f)@ampleteIO\_twitter Indeed, worth a ticket on github if you have a github account, otherwise @greggirwin could take care of it (`source` should get its argument as a lit-word, so it can catch undefined words).

[02:56](#msg596d78ca0de4d2545e3a15b1)@ampleteIO\_twitter Alternatively, you can use `probe :word` to inspect the value referred by a word.

greggirwin

[05:32](#msg596d9d82c101bc4e3a962836)Thanks @ampleteIO\_twitter! I've made a ticket.

solisoft

[07:30](#msg596db932f5b3458e30597ad6)just missing HTTP/HTTPS client and I'll be able to write UI apps within ArangoDB database :)

rebolek

[07:33](#msg596db9b0c101bc4e3a969be8)@solisoft What do you mean by missing HTTP/S? It is already there.

solisoft

[07:33](#msg596db9c3329651f46e9a5f35)Really, oh crap ! I didn't see it :)

rebolek

[07:33](#msg596db9ce76a757f8081fa0bc):)

[07:34](#msg596db9f9bc46472974fe29b1)I see that it uses JSON, you can get en/de-coder here: https://github.com/rebolek/red-tools

solisoft

[08:22](#msg596dc559bc46472974fe6185)ok thanks

[08:31](#msg596dc75d89aea4761dac940b)Slack should rewrite their app with Red ... the electron one is a pain in the ass (consume too much CPU &amp; RAM)

[08:31](#msg596dc75f1c8697534a35d300):)

dockimbel

[08:45](#msg596dca9576a757f8081fef46)@solisoft Making Red a great replacement for Electron (or other bloated web-based stacks for desktop apps) is something we have in mind. ;-)

solisoft

[09:24](#msg596dd3c176a757f8082014f5)There is a PDF generator ?

[09:25](#msg596dd4252723db8d5e20acc7)Maybe I can use a remote service to generate PDF document for now

dockimbel

[09:35](#msg596dd67b89aea4761dacd2eb)@solisoft Not yet, the one for Rebol2 relies on a feature (closures) we didn't implement yet in Red. So, for now you need an external solution.

solisoft

[09:36](#msg596dd6960de4d2545e3b7764)ok not a big deal

rebolek

[10:27](#msg596de29cf5b3458e305a3738)@solisoft there is already basic Gritter client, Slack shouldn't be that hard I guess.

planetsizecpu

[11:32](#msg596df1dc0de4d2545e3bf4eb)Some one said: Oh my god, it is full of stars!  
That way is team red, full of stars. I send as much encouragement I can to follow on his way, there is a lot of people following you. Go team red, go!

maximvl

[11:33](#msg596df2234bcd78af56bff251)woah, congrats on the 6.3 release :)

[11:38](#msg596df318f5b3458e305a7fc4)the page views are going through the roof :D

[11:39](#msg596df3741c8697534a369663)btw about this headless Linux view mode, how does it work? is there a dummy `view` which doesn't really draw anything but allows you to test things?

rebolek

[12:32](#msg596dffc6329651f46e9b9691)@greggirwin So I've been working on the XML parser and have been thinking about your remark about reversed order of data (storing them in form of `tag-name content attributes` instead of `tag-name attributes content`). It seems to me that it makes sense, so I added an option to switch between both methods to my parser (only in `xml` branch yet, it needs some testing, but it can parse not only XML, but HTML also, ie. http://www.red-lang.org already :smile: )

meijeru

[12:36](#msg596e00bc76a757f80820e596)Red team: Congratulations on `0.6.3`! I was happy to see `make url!` and believe it is useful, but -- of course -- it inspired two wishes, one for consistency (#2900) and one for more smartness (#2901). Both to be handled in good time, as you see fit.

[12:37](#msg596e01120de4d2545e3c3d03)Does anyone see a need to construct a `url!` value out of an object like the one produced by my \[url-analyzer](https://gist.github.com/meijeru/4a44ff148e44182580c79182f61113b0)??

rebolek

[12:51](#msg596e045e1c8697534a36eee9)@meijeru I have some URL construction function in my `http-tools` to make creation of GET queries easier, so I think it makes sense.

joa-quim

[13:04](#msg596e076076a757f808210569)@dockimbel Thanks for the reference to my contribution (totally undeserved) via the Julia wrapper.  
And, if I may ask, what are the plans of future extending the support for vector graphics?

munael

[13:29](#msg596e0d4d1c8697534a371b64)What are refinements?

[13:30](#msg596e0d7f329651f46e9bdf0c)Also, how is the 'std library' structured? For example, I was looking around for the definition of the `date!` datatype for educational purposes and couldn't figure out where to look in the repo/org on github

PeterWAWood

[13:36](#msg596e0edebf7e6af22ced77ec)@Enamex Until more Red documentation is written, the \[Rebol 2 Core Manual Functions Chapter](http://www.rebol.com/docs/core23/rebolcore-9.html#section-2.3) has a good introduction to refinements.

[13:38](#msg596e0f5ec101bc4e3a9836a6)`date!` is a first class Red datatype, part of the language. The structure of Red's 'std library' will only be decided during the development of modules (Red 0.8.0).

[13:42](#msg596e1050bc46472974ffcc27)`Date!` is defined in the Red runtime - \[functions](https://github.com/red/red/blob/master/runtime/datatypes/date.reds) &amp; \[data structure](https://github.com/red/red/blob/master/runtime/datatypes/structures.reds)

dockimbel

[14:47](#msg596e1f6876a757f808219027)@planetsizecpu Thank you! :sparkles: ;-)

[14:48](#msg596e1fb92723db8d5e2229d5)@maximvl Thanks! Yes, the test backend is actually just doing a minimal implementation to make the View engine work fully, but not rendering anything anywhere.

[14:49](#msg596e1ff70de4d2545e3ce6e9)@meijeru Thank you! Constructing URL from object is something you might get in 0.7.0 with the full IO support.

[14:52](#msg596e20b289aea4761dae4865)@joa-quim Your interest in libRed has helped fixed bugs, add useful features, and improve its robustness, so I would say, it's well-deserved. ;-) In the short term (next couple of months), the main improvement will be switching to a virtual coordinate system, accepting float values.

munael

[14:53](#msg596e2102bc46472974002441)@PeterWAWood Thanks o/

joa-quim

[15:20](#msg596e27370de4d2545e3d094c)@dockimbel OK, let's agree that I was a good catalyst.  
Nice to year about the virtual coord system.

greggirwin

[17:17](#msg596e429d76a757f808224373)@rebolek, cool on the XML work!

dander

[18:41](#msg596e565c2723db8d5e234cee)@rebolek, do you think having a unit test suite for your XML parser would be useful? I'm not sure how to add it though. I looked at quick test, but was uncertain about its suitability for general purpose testing. I found a couple projects for testing in Rebol, but I couldn't tell how much adoption they had

rebolek

[18:44](#msg596e570cf5b3458e305c901f) @dander tests are definitely useful. I've included few in the file, it is just total basics.

dander

[18:49](#msg596e585789aea4761daf5fe6)Oh, cool. I'll take a look again

greggirwin

[18:57](#msg596e5a0789aea4761daf67b6)For a quicktest like environment, small tests can do a lot. For old iCal/JSON libs, I wrote separate, custom scripts to run against suites of test files, for more detailed and interactive testing during development.

[18:58](#msg596e5a5276a757f80822bc4f)It would be good to pull ideas together and standardize as best we can, across file format libs. I can put old things out there. My iCal work was done for Qtask, which we can use as well.

dander

[20:09](#msg596e6ae11c8697534a38fcfe)I'm so excited for plugin support in the new console. I don't know what it will be like yet, but I wonder if a test runner plugin would be feasible

rebolek

[20:12](#msg596e6ba0bc46472974019bb4)I eonder

[20:12](#msg596e6bc64bcd78af56c2587f)I wonder too (sorry, phone)

greggirwin

[21:18](#msg596e7b2c329651f46e9e1302)@dander, finding things that are \*infeasible* in Red is the real trick. ;^)

dander

[21:35](#msg596e7f15bf7e6af22cefaad4)@greggirwin :smile: maybe I should have said "a good fit"

justjenny

[23:14](#msg596e965ebf7e6af22cf007ef)Congratulations to all of the Red team on build 0.63, it is awesome - What a team !, you are all programming heroes.

## Wednesday 19th July, 2017

dockimbel

[01:57](#msg596ebc8fbf7e6af22cf08878)@justjenny Thank you Jenny!

meijeru

[06:56](#msg596f02934bcd78af56c479ec)The README file is slightly out of date with this example of the REPL:

```
-=== Red Console alpha version ===-
 (only ASCII input supported)

 red>>
```

dockimbel

[07:24](#msg596f092c2723db8d5e25f4c2)@meijeru Where is that coming from?

meijeru

[07:26](#msg596f09b62723db8d5e25f671)From the README file at the top of the repository, as displayed on the main page of the repository, under "Running the Red REPL". It is easy to overlook...

dockimbel

[07:28](#msg596f0a36bc4647297403d0af)@meijeru Got it, fixed now.

singam96

[19:05](#msg596fad854bcd78af56c7aba0)hey avira just quarantined red

[19:11](#msg596faec51c8697534a3e654e)\[!\[image.png](https://files.gitter.im/red/red/1Rz3/thumb/image.png)](https://files.gitter.im/red/red/1Rz3/image.png)

joa-quim

[21:56](#msg596fd57b0de4d2545e445453)@singam96 Easy, remove that AV and use only Windows Defender

## Thursday 20th July, 2017

justjenny

[00:52](#msg596ffebaf5b3458e3063775a)False positives - As far as I know Red backends run on Unix, so cannot be a virus.

iArnold

[06:19](#msg59704b87f5b3458e30647b3b)@joa-quim That is a solution that is not acceptable in some environments. I have the same problem with eScan (I posted about that on the mailinglist, but I hold little hope it will be solved by the eScan helpdesk). But programs generated with Red 0.6.2 do not get blocked. The AV's must become aware of Red!

Dobeash

[09:22](#msg5970763c4bcd78af56ca8b8d)Munge 3.0.2 - http://dobeash.com/files/munge3.r

Minor changes:  
\- Simplified code now that Red 0.6.3 supports date! and delete  
\- All test cases (200) now work with both R3 and Red 0.6.3  
\- Basic documentation available at http://www.dobeash.com/files/munge3.html

maximvl

[09:23](#msg5970769389aea4761db814a7)@Dobeash wow, that's nice

rcqls

[09:40](#msg59707aa31c8697534a418727) @Dobeash very nice! I guess excel part depends on Windows?

dockimbel

[09:41](#msg59707ad0329651f46ea61612)I have sent a tweet to Avira, let's see if that's more efficient than their false report processing: https://twitter.com/red\_lang/status/887970289618829312

maximvl

[09:43](#msg59707b2489aea4761db828ce)interesting, let's see their reaction

dockimbel

[09:45](#msg59707bb40de4d2545e46b40f)@Dobeash Nice to see people using hybrid Red/Rebol code!

rebolek

[09:59](#msg59707f00329651f46ea627d1)Some fun with XML parser:

```
>> do %xml-lite.red
== func [...
>> page: xml-lite/decode read http://www.red-lang.org
== [DOCTYPE none #(
    "html" true
  ...
>> headings: select-by-class page "post-title"
== [h3 [a [none "0.6.3: macOS GUI backend" #()] #(
    "href" {http://www.red-lang.org/2017/07/063-macos-gui-b...
>> foreach [t c a] headings [print c/a/2]
0.6.3: macOS GUI backend
0.6.2: LibRed and Macros
Incursion into "explorable explanations" lands
Entering the World of Macros
```

munael

[11:41](#msg597096cd0de4d2545e4732f1)Is anyone who knows Lisp/Scheme/Racket (ideally newer Racket/Scheme impls) interested in writing a small something about Red and Racket/Scheme macros and how the whole homoiconicity thing figures in the two worlds?

[11:42](#msg5970970fbc464729740a83ae)I found an old-ish article: http://blog.hostilefork.com/rebol-vs-lisp-macros/ . Not sure if it's referring to the same thing or macros weren't a definite feature in Red's path when this was written.

maximvl

[11:42](#msg597097122723db8d5e2cb682)@Enamex Red can do code transformations in runtime, one may call this "runtime macros", "regular" compile-time is available as well, of course

[11:42](#msg5970972889aea4761db8a81f)Scheme has hygienic macros, and this is pretty much all the difference :D

[11:43](#msg59709778f5b3458e3065da29)@Enamex feel free to ask specific questions

toomasv

[12:43](#msg5970a5641c8697534a42499d)@rebolek Very nice! :+1:

joa-quim

[13:01](#msg5970a994329651f46ea6f6ca)@iArnold I understand that not all can afford it but for those who can, just \[get rid of the non MS AVs](http://robert.ocallahan.org/2017/01/disable-your-antivirus-software-except.html)

iArnold

[13:20](#msg5970ae180de4d2545e47ac7e)@joa-quim Yes, I have set PC's and laptop for Windows addicts in the family also to use only Defender. But for the company I work for I have nothing to say in these kind of decisions, and I very much like to keep it that way, but I like to use Red anyway to help me quickly generate large scripts.

munael

[14:38](#msg5970c05ef5b3458e3066a761)@maximvl Well, I'm not in a position yet to know what to ask (beginner in both Scheme and Red and academically interested) :smile:  
I was curious though as the article I linked to was clear to demonstrate why the author thinks Red/Rebol need no macros. What changed?

PeterWAWood

[14:55](#msg5970c447f5b3458e3066ba0c)I don't think anything has changed with respect to Red. Red had a number of innovations over Rebol2. RT's Rebol3 had a number of different innovations over Rebol2. REN has a number of different innovations over RT's Rebol 3.

maximvl

[14:56](#msg5970c482329651f46ea77b9c)@Enamex well, Red needs no macros in runtime because it can manipulate code naturally

[14:56](#msg5970c48c3230e14f3a79fd53)the compile-time ones, though, are useful for optimizations

PeterWAWood

[15:02](#msg5970c60e76a757f8082d062e)@maximvl Macros are also useful to adjust code to take account of the differences between the compiler and the interpreter during the Alpha phases.

munael

[17:02](#msg5970e20d329651f46ea814e8)@maximvl Not necessarily referring to runtime. The examples in the article weren't runtime-specific. I was referring to Red's new macro system (to my understanding it's invocable by the compiler and the interpreter so no/little CT/RT divide) vs a Lisp/Scheme/Racket macro system (no compile time here but...)

dander

[17:02](#msg5970e22fbf7e6af22cf9ef17)@Dobeash Cool! I didn't know it was possible to write code to run in both Rebol and Red

greggirwin

[17:24](#msg5970e73f2723db8d5e2e461a):point\_up: \[July 20, 2017 3:59 AM](https://gitter.im/red/red?at=59707f00329651f46ea627d1) Cool Bolek!

[17:52](#msg5970edeef5b3458e30677e77):point\_up: \[July 20, 2017 3:22 AM](https://gitter.im/red/red?at=5970763c4bcd78af56ca8b8d) @Dobeash, Should "Quering databases" be "Querying databases" in the docs?

mikeparr

[20:34](#msg597113ba4bcd78af56cd8075)@singam96 @joa-quim Virus: AVG and Avast report 0.63 as a virus. But with Avast, you can exclude certain folders from checking, so do this with your Red work.

rebolek

[21:29](#msg597120a63230e14f3a7bad77)@toomasv @greggirwin Thanks guys, I wrote XML decoder using Red's `parse` and added few things to support HTML also. It is IMO nice base for a web-scrapper in ~200 lines :)

Dobeash

[22:15](#msg59712b7e76a757f8082ed44b)@dander Its become easier with each Red release, requiring fewer compatibility patches.

[22:18](#msg59712c2c76a757f8082ed65d)@rcqls load-excel is Windows only, write-excel is cross-platform (it's just creating a Zipped set of XML files).

[22:18](#msg59712c3dc101bc4e3aa5e16f)@greggirwin fixed, thanks.

## Friday 21st July, 2017

geekyi

[04:53](#msg597188b5bc464729740e6598)@geekyi feels CONTRIBUTING.md should be shorter, and more focused on source code in red/red repo @greggirwin

[04:53](#msg597188cabf7e6af22cfc59b9)red/red@6e878c8

PeterWAWood

[05:32](#msg597191fc329651f46eaa8e6c)@geekyi Please provide an alternative then. One that will meet the intention of the current document to improve the quality of contributions.

For example, many, if not all, of the pull requests submitted do not have tests written for them.

greggirwin

[06:10](#msg59719ad976a757f808304af4)We can certainly have details about coding standards and tests link to other docs, to keep it shorter. Now that it's there we have a concrete basis for discussion. Thanks @geekyi .

geekyi

[06:46](#msg5971a34c76a757f808306746)Thanks @greggirwin, I know your intention was to get the ball rolling forward, only I've felt starting with a link to the existing article in the wiki and building up would have better. I guess no use me complaining now..

pekr

[07:06](#msg5971a7fb614889d475d682d0)Well, those rules seem to be in line with big big projects. Ditto the Code of Conduct document, where I can see stuff like: "Remember that sometimes it is best to refrain entirely from commenting" ... I wonder this comment itself is applicable to just mentioned rule :-)

greggirwin

[09:11](#msg5971c5533230e14f3a7df841)It's good to know what people think. Sometimes it's a choice of something not great, or nothing at all.

meijeru

[11:09](#msg5971e1043230e14f3a7e7704)Question: what about `point!` datatype (~ 3-D version of `pair!`). I can't find it on the ToDo lists of Trello. Is that because there is already a `%runtime/datatypes/point.reds` in the sources? But that contains only `form` and `mold` code, and is not referenced anywhere...

[13:07](#msg5971fc86bc4647297410519e)Another question: I notice the recent "FIX: store seconds in the integer part in time". What is the consequence for programmers, if any? Or is it just an internal change?

singam96

[15:49](#msg597222781c8697534a487f57)@joa-quim didnt work ... it some how locked the programdata folder .. even uninstalled avira...

joa-quim

[16:57](#msg5972325c2723db8d5e33989b)@singam96 Trying to uninstall an AV is an educational experience (MaCafee, yes you).

tanstaaf1

[19:01](#msg59724f91bc4647297411d48b)@dockimbel The 6.3 release somehow sparked me to go wayback to http://www.red-lang.org/2011/02/journey-begins.html. There is a lot to read between there and 6.3, of course, but even the little wayback gave me a sense of awe (at how much was undertaken and how far you've come) and curiosity: What is in your head right now as you look to 6.4, specifically, and the incredibly steep trail still ahead? From the first blog entry it is clear you envisioned large parts of what has been created but that your vision and path were subject to change. I look at trello and I have \*some* specifics on what you hope will make it in 6.4, but very little real assurance I really understand the vision. I think it might be worthwhile (maybe even helpful for maintaining your energy) to give as a vision vs reality checkup after these years and, perhaps, occasionally going forward?? Very much admire your courage and intellect. Doubly so after taking a few minutes to go wayback.

## Saturday 22nd July, 2017

KDr2

[12:29](#msg5973450d0cef4fed2eb7fc86)Hi all, I'm trying to make a closure as below:

```
a-func: func [/local a] [
    a: 1
    b-func: func [b] [
        print ["b:" b]
        print ["a:" a]
        print a + b
        a: a + b
    ]
    :b-func
]
```

but `a` is not visiable inside b-func

[12:30](#msg5973455542d2f6102587e7e0)anyone tells me how to write it correctly? thx

9214

[12:34](#msg5973466a89aea4761dc3193c)@KDr2 I'm not sure, is that what you're expecting?

```
a-func: func [/local a][
    a: 100
    b-func: func [b][
        print ["b:" b]
        print ["a:" a]
        print a + b
        a: a + b
    ]
    
    b-func 200
]

a-func
```

```
b: 200
a: 100
300
```

KDr2

[12:37](#msg5973471e81cd9a5d7e9b5a08)No, my code is like this:

```
a-func: func [] [
    a: 1
    b-func: func [b] [
        print ["b:" b]
        print ["a:" a]
        print a + b
        a: a + b
    ]
    :b-func
]

c-func: a-func
c-func 1
c-func 1
```

[12:38](#msg5973475c51915d962af6b3cd)the return value of `a-func` is anthor function `b-func`

[12:39](#msg5973479f0cef4fed2eb7fc9f)a closure we usually call it

PeterWAWood

[12:40](#msg597347ba614889d475dcc36d)@KDr2 There is no closure support in the current Red alpha.

KDr2

[12:41](#msg597347ec97cedeb04826c754)OK, got it, thanks.

PeterWAWood

[12:42](#msg5973481d3230e14f3a8393a6)There may well be another way to achieve your intention.

KDr2

[12:43](#msg5973487b42d2f6102587e7fe)I want to hide the var `a` so that no one can change it except the returned function object

rebolek

[12:57](#msg59734ba4bc4647297414f4b4)

```
>> context [a: 1 set 'f func [x] [print ["a" a] a: x]]
== make object! [
    a: 1
]
>> f 3
a 1
== 3
>> f 4
a 3
== 4
```

dockimbel

[12:57](#msg59734bd089aea4761dc32a2f)@KDr2 Real closures (with indefinite extent) are not yet supported, though they can be easily simulated using object contexts: https://gitter.im/red/red?at=59003b548bb56c2d11e32289

9214

[12:58](#msg59734be84bcd78af56d5b89c)not sure if it counts as closure :grimacing:

```
make-adder: func [n][func [x] compose [(n) + x]]

add-10: make-adder 10
add-42: make-adder 42
probe add-10 32
probe add-42 0
```

PeterWAWood

[12:59](#msg59734c3cf5b3458e3070356a)@KDr2 You could try this as well:

```
Red[]
a-func: func [/local c-func] [
	make object! [
    	a: 1
    	b-func: func [b] [
        print ["b:" b]
        print ["a:" a]
        print a + b
        a: a + b
    	]
		set 'c-func :b-func
	]
    :c-func
]

f: a-func
f 2
```

[13:00](#msg59734c88f5b3458e307036b6)Whilst it can be interpreted, I doubt it can be compiled at present.

[13:04](#msg59734d7bf5b3458e30703953)I'm not sure this method would survive once there is a garbage collector.

KDr2

[13:07](#msg59734dfe0cef4fed2eb7fcc2):thumbsup:

[13:07](#msg59734e0119147ac3231457c9)thanks

[13:16](#msg5973503b0cef4fed2eb7fce7)just compiled with 0.6.2, it works

[13:17](#msg5973504e51915d962af6b404)on windows with -t msdos

PeterWAWood

[13:17](#msg5973505b614889d475dce581)Thanks for letting us know.

9214

[13:19](#msg597350eaf5b3458e307042d9)@rebolek that means `set` always "escapes" into global context? cool!

PeterWAWood

[13:23](#msg597351bf4bcd78af56d5c877)@9214 no `set` does not always "escape" to the global context.

Try running the code :point\_up: \[July 22, 2017 8:59 PM](https://gitter.im/red/red?at=59734c3cf5b3458e3070356a) and then add:  
`c-func 3`

KDr2

[13:23](#msg597351d897cedeb04826c7a1)I don't think so, here `set` binds the function value of b-func to the local var c-func, the function value bound to c-func is returned

[13:23](#msg597351ee42d2f6102587e840)there's no global var `c-func` in this program

9214

[13:25](#msg5973526476a757f80836e313)@PeterWAWood I see, `c-func` is `/local` to `a-func` body

PeterWAWood

[13:26](#msg597352722723db8d5e375e41)Correct.

[13:28](#msg597353013230e14f3a83b637)@9214 Try this in the console:

```
>> o: make object! [
[    a: none
[    c: 2
[    set 'a c
[    set 'b c
[    ]
== make object! [
    a: 2
    c: 2
]
>> a
*** Script Error: a has no value
*** Where: catch
*** Stack:  

>> b
== 2
```

9214

[13:30](#msg5973537e3230e14f3a83b7e6)@PeterWAWood since `a:` and `c:` are `set-word!`s, they're binded to `o` during context construction, but `b` is setted with `set` and escapes to `system/words`?

PeterWAWood

[13:34](#msg5973547ef5b3458e30705301)`a`exists in the context bound to `o`, `b` does not.  
`set 'a c` binds a value to `a` in the context bound to `o`  
There is no word `b` in the 'o' context so 'set 'b c' binds the value to `b` in `system/words`

9214

[13:38](#msg5973556fbc46472974151541):+1: I know kung-fu!

PeterWAWood

[13:41](#msg597355fcc101bc4e3aadb628)Here's the final instalment:

```
>> oo: make object! [
[    y: none
[    ]
== make object! [
    y: none
]
>> o: make object! [
[    x: none
[    z: 99
[    set 'x z
[    set in oo 'y z
[    ]
== make object! [
    x: 99
    z: 99
]
>> x
*** Script Error: x has no value
*** Where: catch
*** Stack:  

>> y
*** Script Error: y has no value
*** Where: catch
*** Stack:  

>> oo/y
== 99
>> o/x
== 99
>>
```

[14:33](#msg5973622cf5b3458e30707fa8)@KDr2 Here is a better version incorporating the approach suggested by @rebolek. It should be garbage collector proof.

```
a-func: func [/local o] [
	o: make object! [
    	a: 1
    	b-func: func [b] [
        print ["b:" b]
        print ["a:" a]
        print a + b
        a: a + b
    	]
	]
    get in o 'b-func
]

f: a-func
f 2
```

KDr2

[14:34](#msg5973627919147ac323145838)thanks :thumbsup:

## Sunday 23th July, 2017

PeterWAWood

[01:02](#msg5973f5a81c8697534a4eae80)@KDr2 Here's a factory approach which will create "private" words for each function created.

```
Red[]
 func-factory: func [template! func-name  /local b] [
	b: []
    append b make template! []
    get in last b func-name
]
b-func!: make object! [
	a: 1
	b-func: func[b] [
		print ["b:" b]
        print ["a:" a]
        print a + b
        a: a + b
	]
]

f: func-factory b-func! 'b-func
f 2
f 2
g: func-factory b-func! 'b-func
g 2
f 2
```

dockimbel

[07:39](#msg597452be76a757f80839fde1)@tanstaaf1 I do go back, maybe once a year, to that first blog article and reflect on the beginning of this incredible adventure. There would be a lot to say about the whole Red story, and what's driving me, maybe I should write it all down someday and publish it (we'll see that after Red 2.0). ;-)

&gt; What is in your head right now as you look to 6.4, specifically, and the incredibly steep trail still ahead?

That is not how I see it. For me, we passed the top of the Red mountain after 0.6.2 and we are now descending, which means faster pace and easier, though the mountain being very high and full of obstacles, it's still a relatively long way down. ;-) What is in my head right now would take many pages to describe, so I'll just reduce it to the most important concern right now: how to make a satisfying 0.6.4 while spending as little time as possible on it, so we can advance on the last big milestones. Not only those last milestones are critical for us to be able to reach our goals, but they are also very exciting challenges, for which I already have battle plans, so I'm impatient to dive in!

&gt; From the first blog entry it is clear you envisioned large parts of what has been created but that your vision and path were subject to change.

Change is the only constant thing in life. ;-) Path has changed slightly, but the vision is still the same. Here are the main causes of changing my initial plan:  
\* I realized during the first year that building the "static" Red first, then the "dynamic" Red later was not satisfying to me, as I would miss the Rebol-like flexibility in the "static" Red too much, so will most probably the users, so I decided to switch them and do the "dynamic" Red first (on par with Rebol) and leave the "static" one for later.  
\* Support for floats, Linux, ARM and many other non-Core features were not planned to be implemented before 1.0. Without that, we could have moved way faster to 1.0. Though, because of the community contributions and pressure, especially the first couple of years, I relaxed my plans for the greater good. When the opportunity to access to VC money presented itself, GUI became another low-priority feature that had to move to first position.  
\* I have fully embraced the open source way of building software from the beginning. That comes with big benefits, but also costs, like a big part of my time being spent on interacting with countless people on daily basis. I didn't account for that cost at all in my initial plan, mainly because I didn't expect that many followers until 1.0. Among those followers, both from Rebol community and newcomers, I tried/try to absorb and process as much knowledge and experience they were/are willing to share with me, so this results in, sometimes, changing my opinion on some features or priorities.  
\* I have invested all my personal money into Red during the first couple of years, after running out of money, I had to change some plans, or stop.

&gt; I look at trello and I have some specifics on what you hope will make it in 6.4, but very little real assurance I really understand the vision.

The 0.6.4 is an important milestone that will make the GUI console the central piece of the Red world. We have big plans for the console, 0.6.4 is just a first move into that direction. I prefer not to give more details on that until it's actually built.

&gt; I think it might be worthwhile (maybe even helpful for maintaining your energy) to give as a vision vs reality checkup after these years and, perhaps, occasionally going forward??

I'm not sure to understand precisely what you mean there. The vision has not changed since day 1, the goals are still the same, only the priorities for the different tasks and milestones have changed.

singam96

[09:19](#msg59746a361c8697534a4ff75e)\[!\[image.png](https://files.gitter.im/red/red/vQiB/thumb/image.png)](https://files.gitter.im/red/red/vQiB/image.png)

dockimbel

[09:40](#msg59746f1f4bcd78af56d93d7e)@singam96 Thanks, I've got it in the ticket.

Arie-vw

[11:45](#msg59748c46bc4647297418d49f)@Dobeash Is there a working version of rebdb available for Red?

noformnocontent

[17:35](#msg5974de53614889d475e1d05d)where do i find a list of current compile targets?

maximvl

[17:35](#msg5974de6c89aea4761dc82880)@noformnocontent `red --help`

JacobGood1

[17:36](#msg5974de94329651f46eb60100)@dockimbel Have you seen this paper? It might be of interest to you: http://www.complang.tuwien.ac.at/kps2015/proceedings/KPS\_2015\_submission\_55.pdf

AlexanderBaggett

[18:05](#msg5974e54ec101bc4e3ab28c77)Has anyone used red for web development and if so do you have any tips?

maximvl

[18:32](#msg5974ebc2714ea96f78159d8f)i would say it's not ready for "normal" web development

[18:33](#msg5974ebfbbc464729741a29ce)you can use it in a `cgi` way where script runs once on request and only uses stdio/out

greggirwin

[19:03](#msg5974f3014bcd78af56db1cbb)@JacobGood1, nice find! I haven't seen Viktor Pavlu around for many years. He did some great work, with Andreas Bolka I believe, in the early days of Rebol/View.

Dobeash

[22:02](#msg59751cda1c8697534a527256)@Arie-vw Not yet ... but now that 0.6.3 is out I'm looking at upgrading a bunch of stuff to be R3/Red compatible.

## Monday 24th July, 2017

KDr2

[02:18](#msg597558f897cedeb04826d149)is libred thread safe? If I embed the red interpretor (libred) into a multi-threaded prgramm, is there a way to make each thread has its own interpretor?

rebolek

[02:36](#msg59755d1fc101bc4e3ab41935)@AlexanderBaggett what do you want to know? For some tips, see https://github.com/red/red/wiki/Using-Red-as-CGI

dockimbel

[03:16](#msg5975668bc101bc4e3ab43358)@JacobGood1 Don't remember seeing that before, good finding. I remember Victor (the author) from the Rebol community though.

[03:19](#msg597567272723db8d5e3e282a)@KDr2 \[Not yet](https://doc.red-lang.org/en/libred.html#\_managing\_the\_library), but adding multiple instances support is on our todo-list, as we figured out a cheap way to achieve it without changing anything in our runtime library. Which use-case do you have in mind for a libRed in a multithreaded environment? Is it server-side related?

KDr2

[03:24](#msg5975685651915d962af6be45)yeah, I'm trying embed libRed into to a web server witten in golang: use go runtime to handle the connetction/request, use red code to handle the bussiness logic

[03:25](#msg597568b80cef4fed2eb807db)And I want to make a red interpretor pool, which the goroutines can get red instance from

dockimbel

[03:52](#msg59756f014bcd78af56dcab96)@KDr2 I suspected something like that. ;-) I can give a try in the next days or next weekend to implement that multi-instances support, as it's not a big work, though, my schedule this week is already very heavy, so no guarantees.

KDr2

[05:58](#msg59758c950cef4fed2eb80838)@dockimbel thanks!

dockimbel

[06:09](#msg59758f0189aea4761dca6ebf)Funny code:

```
>> red = reverse blue
== true
```

endo64

[07:20](#msg59759fc7714ea96f7817f31d)Haha good one :) So if there is a Blue language, keep away from it :)

PeterWAWood

[07:52](#msg5975a746c101bc4e3ab50f58)Is this a funny bug?

```
>> white = reverse black
== false
```

KDr2

[07:56](#msg5975a83242d2f6102587f55c):laughing:

[08:16](#msg5975acda0cef4fed2eb809f4)Another question, I didn't find any plan about x64(amd64) supporting on the mile stone(on trello), is this https://trello.com/c/zUiFKF8B/159-095-port-the-toolchain-to-red-if-time-permits one relevant?

dockimbel

[08:17](#msg5975ad32614889d475e494f0)@PeterWAWood Might be useful to support `complement` on `tuple!`.

[08:19](#msg5975ad9fbc464729741caa0a)@KDr2 We have plans for support 64-bit CPU/OS, but it is not scheduled yet for now. Don't expect it before 0.8.0 though.

KDr2

[08:20](#msg5975adce97cedeb04826d3bf)OK :)

meijeru

[08:20](#msg5975addf714ea96f78182cdb)`complement` on`tuple!` has already been put in as a wish by me, #1956

henrikmk

[10:51](#msg5975d14ec101bc4e3ab5c775)does Red support timers yet? I see only a couple of vague references to RATE in the GUI docs.

9214

[10:54](#msg5975d1ca329651f46eb95501)@henrikmk AFAIK View has \[`on-time` handler](https://doc.red-lang.org/en/view.html#\_event\_names), hope @dockimbel will tell you more

dockimbel

[10:54](#msg5975d1daf5b3458e30789da9)@henrikmk Face timers are fully supported. Works the same as in R2/View. Also, there is a \[`rate`](https://doc.red-lang.org/en/vid.html#\_rate) keyword in VID

henrikmk

[10:54](#msg5975d1ec329651f46eb95564)@9214, @dockimbel great, thanks :-)

dockimbel

[10:57](#msg5975d27fc101bc4e3ab5ccd6)@henrikmk You can have a look at our \[`red/code`](https://github.com/red/code) repo, especially in Scripts and Showcase folder to see what View and VID can already achieve.

henrikmk

[10:58](#msg5975d2df76a757f8083f552d)thanks

rebolek

[15:47](#msg5976167d45fc670746c0fb3e) @dockimbel Is the order of keys in map/object guaranteed?

dockimbel

[15:57](#msg597618ed4bcd78af56df6f94)@rebolek For now it is, but it's implementation-specific, that could change in the future, if we change the underlying data structure.

rebolek

[15:59](#msg5976197cc101bc4e3ab71f39)I thought so. It would be nice to have a structure with guaranteed key order.

[16:01](#msg597619c7329651f46ebaa610)And then another one, with unique values ;)

solisoft

[20:27](#msg5976583a2723db8d5e423ba4)Hi there, how do you install libred on OSX?

greggirwin

[20:38](#msg59765acdf5b3458e307b4655)As you would any other dylib. Nothing special AFAIK.

PeterWAWood

[22:48](#msg59767959c101bc4e3ab8e3ac)@solisoft During the alpha phase Red, including libRed, is 32-bit only. As far as I know, it cannot easily be used with recent versions of Xcode. I have tested it with the gcc compiler on macOS.

```
gcc -m32 <path to>/libRed.dylib -o red-in-c red-in-c.c
```

## Tuesday 25th July, 2017

eranws

[05:58](#msg5976ddec4bcd78af56e26935)did I hear anyone say "compiler for false-language in Red"? probably not... anyhow - here it is: https://github.com/eranws/red-false

jackalcooper

[06:22](#msg5976e3a589aea4761dcfdea9)Hi, everyone. Wondering where I can find more info about Red's GC? Could not even find if it is a stop the world GC.

pekr

[06:36](#msg5976e6f5f5b3458e307d1b3c)There's no GC yet, simple one is planned for one of the next releases ...

jackalcooper

[06:40](#msg5976e7ee714ea96f781d1e89)Thank you.

iArnold

[06:52](#msg5976ea974bcd78af56e29b90)@jackalcooper it is still in a branch https://github.com/red/red/tree/simple-gc but master branch was merged into that branch recently.

southwolf

[06:54](#msg5976eb33f5b3458e307d294e)Hi, is there any usable socket lib for Red?

pekr

[07:08](#msg5976ee692723db8d5e444541)Well, Red can bind to just any lib, but I just haven't heard about the low level socket library wrapper for Red yet. Native socket implementation will come in terms of 0.7.0 release.

southwolf

[07:09](#msg5976ee93c101bc4e3aba6d78)I’ve found serveral tools to scan a C header and convert to Red/System, but none of them works when I tried.

[07:10](#msg5976eecb89aea4761dd009f7)Maybe I must convert one by hand… Haha

9214

[10:23](#msg59771c2e89aea4761dd0cc62)I've found interesting behavior in scripts copypasted to Red REPL: if script ends with a newline (i.e. empty line) it will automaticly run.

```
Red []

print "hit enter to run manually"
```

```
Red []

print "script runned automaticly"
; newline or comment here
```

It's a nice thing for demos, but while we don't have security features, it may be nice to block such behavior. What do you think?

PeterWAWood

[10:36](#msg59771f19329651f46ebe9a87)It is common in most REPLs. I tried it with 7 - Python, Lua, Ruby, Swift, JavaScript Core, Spider Monkey and V8. They all show the same behaviour.

9214

[10:36](#msg59771f3289aea4761dd0daa7)thanks Peter!

PeterWAWood

[10:37](#msg59771f70bc4647297422c067)I guess the main reason for this behaviour is that they all read the input from stdin so cannot distinguish between a pasted newline and a typed one.

geekyi

[11:23](#msg59772a4b329651f46ebecd3b)@southwolf :point\_up: \[July 25, 2017 12:09 PM](https://gitter.im/red/red?at=5976ee93c101bc4e3aba6d78) which ones? Maybe one just needs to be updated

southwolf

[11:57](#msg5977324576a757f80844dafa)https://github.com/iceflow19/c2reds  
https://github.com/rebolek/parse-c-header

dockimbel

[12:08](#msg597734a7bc46472974231eed)@jackalcooper The first one we are making is a minimal mark&amp;sweep, stop-the-world compacting collector. The target one (in 0.9.0) is a more sophisticate one, generational and incremental compacting collector, with a stop-the-thread behavior during the GC pass in worst case.

Arie-vw

[14:23](#msg5977545a329651f46ebf91ee)@Dobeash Great. Thx!

[14:24](#msg5977548f45fc670746c60f0b)Question 1: is it still possible in Red view to have a #"?" key in a button spec as in Rebol?

dockimbel

[14:25](#msg597754bc89aea4761dd1e5ce)@Arie-vw Q1: IIRC, we did not implement support for it in VID yet.

Arie-vw

[14:25](#msg597754d81c8697534a5b26ab)Question 2: I could not find what representation (something like #"?") the enter key has in the actors: spec for on-key

dockimbel

[14:26](#msg59775509714ea96f781f1882)@Arie-vw The representation is `'enter` word.

Arie-vw

[14:26](#msg5977551c614889d475ebb899)@dockimbel Thx. for both answers!

dockimbel

[14:27](#msg597755674bcd78af56e483dc)@Arie-vw It's documented \[there](https://doc.red-lang.org/en/view.html#\_event\_datatype) under:  
&gt; Here is the list of special keys returned as words by event/key

Arie-vw

[14:28](#msg5977558e76a757f808458b3a)Thx again!

kskarthik

[14:54](#msg59775bae76a757f80845ad94)Hi guys! I believe this is the right place to ask about compiling red with musl or please guide me to the related place

iArnold

[14:59](#msg59775cd2c101bc4e3abc6264)musl-libc.org/support.html ??

kskarthik

[15:02](#msg59775d6e45fc670746c63a30)Ah... Looks like it is. But, red needs rebol2 to compile &amp; rebol is glic based.

southwolf

[15:05](#msg59775e51f5b3458e307f3302)Since Rebol2 is not an open source software, it won’t be easy...

kskarthik

[15:07](#msg59775e9c2723db8d5e465664)Oh... Any workaround then?

[15:10](#msg59775f7a4bcd78af56e4b469)Rebol seems to be dead... How do we manage to port red to new toolchain then?

dockimbel

[15:16](#msg597760e9714ea96f781f538f)@kskarthik You got an answer already from @PeterWAWood there: :point\_up: \[July 25, 2017 7:59 PM](https://gitter.im/red/red/welcome?at=597732ab89aea4761dd136f3)

kskarthik

[15:19](#msg59776199c101bc4e3abc7aba)There? Where?

greggirwin

[17:22](#msg59777e5289aea4761dd2addd)@kskarthik The link in Nenad's message should take you there.

[17:26](#msg59777f4876a757f808465cdf):point\_up: \[July 24, 2017 11:58 PM](https://gitter.im/red/red?at=5976ddec4bcd78af56e26935) @eranws, ah the obfuscation. Nice.

[17:29](#msg59777fec1c8697534a5bf4c1)If you don't have any local `set-word!` args, you can use `func` instead of `function`. Not required of course. Not sure if you've seen the difference.

[17:34](#msg5977811c614889d475ec8a9d)Also, a more idiomatic way to do `or` ops is with `any`. e.g.

```
tf: func [v][either any [v = true  v = -1][-1][0]]
```

[17:35](#msg5977817a714ea96f781ff337)Not that your code needs to be any more concise. :^)

[17:37](#msg597781be89aea4761dd2c016)It's a very clean and clear implementation of an obfuscated language.

eranws

[17:42](#msg5977831589aea4761dd2c669)Thanks! I used 'function because I didn't want to change things in the global scope. Using 'any is cleaner indeed.

[17:44](#msg59778370714ea96f781ffd48)While were at it - would I prefer func? Any thumb-rule for func vs. function?

9214

[17:46](#msg597783df45fc670746c6efef)@eranws :point\_up: \[12 июля 2017 г., 21:37](https://gitter.im/red/red/welcome?at=59665039c101bc4e3a7a9139)

eranws

[18:10](#msg59778993f5b3458e3080015d):+1:

dander

[20:33](#msg5977ab1276a757f808471f51)@greggirwin func vs function would be a great wiki topic. Guru meditations? Or somewhere else?

greggirwin

[21:09](#msg5977b39a714ea96f7820e637)Maybe more suited to the primer.

RnBrgn

[23:31](#msg5977d4c72723db8d5e4859bf)@pekr "Red can bind to any lib" . What programming language libs can Red bind to other than C ?

## Wednesday 26th July, 2017

southwolf

[00:16](#msg5977df5389aea4761dd43ede)@RnBrgn As long as they can produce .dll/.so/.dylib

PeterWAWood

[00:20](#msg5977e03289aea4761dd440e0)@RnBrgn @southwolf As I understand, they also need to follow one of the C calling conventions, `cdecl` or `stdcall`. I don't think that Red can bind directly to C++ libs.

kealist

[00:29](#msg5977e24df5b3458e308168fa)@PeterWAWood It used to be that it couldn't bind to C++ libs that used pass by value for structs, but based on the latest blog post it seems that has been implemented, so I would imagine C++ libs that were problematic before can now be used

[00:29](#msg5977e262714ea96f78218e95)&gt; This release brings an important improvement: structures can now be passed and returned by value on internal and external function calls. They can also now be inlined in other structures. This is achieved by putting the value keyword after a struct! type declaration:

greggirwin

[01:25](#msg5977ef7d614889d475ee403b)Name mangling is lkely still an issue, if the C++ lib doesn't use `extern C`.

dockimbel

[04:44](#msg59781e1145fc670746c930cf)Gregg nailed it down.

gltewalt

[04:59](#msg597821bd614889d475eee584)Yep it's a name-mangling issue

iceflow19

[08:57](#msg59785977c101bc4e3ac0313c)@southwolf Sorry about https://github.com/iceflow19/c2reds

Its one of my side projects that I really haven't had time or inspiration to get to, that was right around when I was finishing up my bachelors. Only the clang binding and red level wrapper was ported from c2r3. The higher level processing logic hadn't been adapted over to red from rebol yet. Maybe next year I'll come back to it, or maybe give it as a side project to one of the programmers in my LLC.

Arie-vw

[10:25](#msg59786e1045fc670746ca77bf)When I interpret this https://pastebin.com/jZXFU4Lj script the print in the actors: section shows the literal word event for the event. Is that correct? I expected a real event there (like 'key) The face is obviously the whole window.

dockimbel

[12:05](#msg5978856dbc46472974287e99)@Arie-vw \[Here](https://gist.github.com/dockimbel/acec3b431ab5767f8e5a137dd6101776) is a fixed version. `event` is of `event!` type and will just print "event". What you want is `event/key`. Useful tool you are writing there. It would make a nice console extension app once we get the console plugin API. ;-)

Arie-vw

[12:10](#msg597886b62723db8d5e4ae2f0)OK. Will check this and thx!

[12:16](#msg59788834614889d475f09111)In this version event/key does not show in the print statement as if it is "empty".

dockimbel

[12:17](#msg597888724bcd78af56e93db2)@Arie-vw It works here when I type in the field.

KDr2

[13:48](#msg59789db319147ac32314873e)&gt; There's no GC yet, simple one is planned for one of the next releases ...  
So should we free the resource manually somwhow? or just leave them there?

Arie-vw

[15:59](#msg5978bc53bc46472974298558)Yes, I see. But when I click the ENTER key right after the app starts (so without clicking in the field) shouldn't it show that the ENTER key has been pressed in event/key?

9214

[16:06](#msg5978be0ac101bc4e3ac1ee31):smiling\_imp:

```
Red [Title: "fork bomb!"]

cd <path to toolchain>
call form compose [red (system/options/script)]
```

dockimbel

[16:36](#msg5978c4fbbc4647297429adee)@Arie-vw `enter` key is consumed by some faces and converted to an `enter` event, see the global event handler in charge of that \[here](https://github.com/red/red/blob/master/modules/view/view.red#L1045).

[16:38](#msg5978c56ebc4647297429afa0)@9214 You tried? :see\_no\_evil:

9214

[16:39](#msg5978c5ab76a757f8084b8b87):feelsgood:

Arie-vw

[16:40](#msg5978c604a7b406262d324f42)@dockimbel Thx. will dive in.

dockimbel

[16:42](#msg5978c6781c8697534a613347)@KDr2 You can't free the resources, but you can avoid allocating them. Most functions in Red doing implicit series allocations are providing ways to reuse existing series (the `/into` refinement). That will be extended to cover more functions, so that, if you want, you could write Red apps with GC turned off, and still have a stable memory usage. If you look at some of our demos in red/code repository, we are already using that to keep memory usage stable or increasing very slowly.

honix

[19:37](#msg5978ef5da7b406262d32fdb1)Hello! It is possible to draw updated block without clearing (by default) base face?

9214

[19:47](#msg5978f1cf4bcd78af56eb1201)@honix you mean something like this?

```
view [
    b: base draw [box 10x10 50x50]
    i: button "redraw" on-click [
        b/draw/1: 'line
    ]
]
```

honix

[19:58](#msg5978f44976a757f8084c59ef)@9214 My example: https://gist.github.com/honix/49e15e3fff1ba539ed9d6cb941280739  
Buffer is cleared every redraw now, but if it doesn't we will seeing full circle. I can append drawing commands on top but it will hurt performance.  
In your example it means draw a line in top of box.

9214

[20:07](#msg5978f69ba7b406262d331f4c)@honix nice! Though, maybe you should use `to` instead of `make` (not sure if it makes any difference)?

[20:10](#msg5978f732614889d475f29718)also, take a look at \[Eve clock demo](https://github.com/red/code/blob/master/Showcase/eve-clock.red)

[20:20](#msg5978f9a84bcd78af56eb30dd)and there's \[`red/gui-branch room`](https://gitter.im/red/red/gui-branch) if you want to ask questions specificly about `View` `VID` and `Draw`.

honix

[21:30](#msg59790a0b2723db8d5e4d2c93)@9214 and who interested, i found a solution! \[code](https://gist.github.com/honix/76a9cffc1b7bf5804ed9d854e33bca55)

greggirwin

[21:47](#msg59790dd4c101bc4e3ac329d6)@honix, nice! You've probably already found other graphics demos. If not, check out https://github.com/red/code/tree/master/Scripts. You're ramping up fast.

## Thursday 27th July, 2017

dockimbel

[03:33](#msg59795f2789aea4761dd9edaa)@honix Nice! A couple of remarks:  
\* You can use `as-pair x y` instead of `make pair! reduce [x y]`, faster and simpler.  
\* If you want your drawing to be done in \*retain* mode instead of \*immediate* mode, you can create an `image!` and draw on it with a cleared block each time, that should allow to maintain constant speed regardless of the number of drawing commands. Though, use that option only if you encounter performance issues.

RedLangTeam\_twitter

[05:01](#msg597973a245fc670746ce67d2)@iArnold We continue to get complaints about your behaviour from the Red community. These include repeatedly making disparaging comments about other members of the community, attempting to paint a bad image of both Red and the Red Team, and being openly rude to newcomers. You have not only been doing this publicly, but also through unsolicited private messages. This is a last and final warning.

We are trying to foster a welcoming, tolerant community working together with consideration and respect towards each other. We are asking you to stop such behaviour. If you choose not to do so, you can either voluntarily leave the community or you will be excluded from all Red communication channels. Your actions indicate that you don't like and respect the people here, including the project leaders, you may be happier spending time elsewhere.

iArnold

[06:13](#msg59798470c101bc4e3ac48cea)@RedLangTeam\_twitter I would like those complainers to come forward and tell me themselves. Even with newcomers I have a friendly contact and point them toward usefull information. Perhaps some of those people can tell you their experience.

dander

[06:59](#msg59798f53c101bc4e3ac4b5c2)Can someone confirm whether that "Red Team" account is real? I've never seen it used here before. I think the official Twitter account is `red_lang`.

pekr

[07:00](#msg59798fa545fc670746cec6b4)Well, as for public channels here, I can't see any behaviour, which could be marked as being "rude". Surely I can't speak for private communication ...

[07:02](#msg5979900c2723db8d5e4ed01c)You know, in the past, and for the 20 years in Rebol community, nothing like that would be needed. I do remember excluding some member from Altme due to religious attacks, or vexcerciser or what was his nick here, who was really rude and attacked just anyone. I am also not sure such public exposure was needed, but well, whatever, if those complains of other community memebers are valid ....

geekyi

[07:06](#msg5979910c89aea4761dda8723)@dander \[RedLangTeam](https://twitter.com/RedLangTeam) is new (created this month), so I don't know, \[red\_lang](https://twitter.com/red\_lang) is official

meijeru

[07:07](#msg597991251c8697534a640061)@dockimbel In order to avoid confusion, we would urgently need confirmation from you if this RedLangTeam\_twitter account is yours or not. If not, it is rather that account that should be blocked....

geekyi

[07:07](#msg597991292723db8d5e4ed307)@geekyi wasn't expecting those embeds..

meijeru

[07:08](#msg597991544bcd78af56ed2128)Looks more and more that it isn't official!

PeterWAWood

[07:09](#msg597991a7a7b406262d351e4a)I can confirm that RedLangTeam\_twitter is genuine.

[07:10](#msg597991e7bc464729742c66e5)It was created with the express purpose of being used to moderate these forums so that messages from the Red Team don't have to be posted by one of them.

[07:11](#msg5979922f45fc670746ced03d)The content of the message was agreed amongst the Red Team before it was posted.

dockimbel

[07:34](#msg59799789329651f46ec841a2)@pekr Rude/offensive messages are deleted and the owner gets notified. Unfortunately, moderation is a necessity in every community, as some people are not capable of behaving properly by themself.

pekr

[07:37](#msg5979982776a757f8084e76b0)ah, I thought that only a message author himself, for short period of time, can delete a message.

[07:38](#msg5979985ebc464729742c824e)@dockimbel I would still like, if possible, to keep the community as much friendly, as possible. I just hope we don't lead to kind of sterila amiga.org like forum rules, where asking a moderator, why some action was taken, lead to automatic ban. We don't need to go that far imo ...

[07:38](#msg597998801c8697534a641b1b)I can understand, that once the community grows and we will see hundreds of ppl here, more strict rules might be needed to handle various kind of communications ...

dockimbel

[07:41](#msg5979991c89aea4761ddaa494)@pekr There is no need for more strict rules, just basic netiquette is enough. Once again, some people are not capable to reach that required minimum by themself.

iArnold

[07:53](#msg59799bf7614889d475f4bb7e)Some people have toes so long that you will step on them even if you are on the other side of the planet.  
There was nothing rude/offensive about the remark by me that was deleted.  
And thanks for another indirect insult.

Arie-vw

[10:11](#msg5979bc56f5b3458e3088763a)@dockimbel App now working as I like. BTW thx for teaching me a few Red things in the amended version.

[10:12](#msg5979bc7e89aea4761ddb2e91)I did find out that I needed to add a colon befor i in line 18 to get it to work. Why is that?

[10:12](#msg5979bc88614889d475f54566)Pastebin https://pastebin.com/RRtCa520

[10:12](#msg5979bca12723db8d5e4f8250)BTW is this the right way to check for OS where pgm runs?

pekr

[10:15](#msg5979bd2476a757f8084f0bb4)As for the colon - in csse of blk/value, Red would lookup for the literal value given, whereas what you want is a reference, hence the need of the get word. Well, my explanation might not be technically accurate, but you get an idea

PeterWAWood

[10:17](#msg5979bda2c101bc4e3ac5792c)Adding to @pekr explanation by example:

```
>> b: [i 1 j 2]
== [i 1 j 2]
>> i: 1
== 1
>> b/i
== 1
>> b/:i
== i
```

pekr

[10:17](#msg5979bdc0f5b3458e30887afe)`blk: [name "petr"] blk/name` will return "petr" ... sorry, just on a cell phone

Arie-vw

[10:25](#msg5979bf86614889d475f55009)Thx guys.

[10:26](#msg5979bff0bc464729742d24f3)I spent quite some time in the official Vid/View docs. They are quite nice. However, I myself learn much faster using examples. Is there a concrete plan to extend the official docs with appropriate (references to) examples?

PeterWAWood

[10:36](#msg5979c21945fc670746cf9020)@Arie-vw I think that the official docs are likely to be kept short and concise due to the time it takes to write and maintain them. The expectation is that user guide and tutorials will get written at some stage. I'm afraid who, when and how they will be written and made available are still unanswered questions.

rebolek

[10:38](#msg5979c291329651f46ec8e85f)I have troubles reading http://www.red-by-example.org/

```
>> page: read http://www.red-by-example.org/
== {<html>^M^/<head><title>400 Bad Request</title><...
```

Who to blame? :)

Arie-vw

[10:41](#msg5979c33e2723db8d5e4f9be9)@rebolek That would be me ... I created the script that generates it all, but at the moment Mike Parr is maintaining, because my health is not so good. maybe @mikeparr can have a look?

[10:43](#msg5979c3b689aea4761ddb4bfe)@rebolek Wait, are you kidding me?? ;-) The error is in the title???

rebolek

[10:43](#msg5979c3b845fc670746cf98fd)@Arie-vw I can read the page with browser and `curl`, but Red gets `400`. Maybe Red's request is somehow malformed?

Arie-vw

[10:43](#msg5979c3d5c101bc4e3ac591b7)Yes, maybe the read does not behave properly ...

rebolek

[10:43](#msg5979c3e245fc670746cf9976)@Arie-vw try it yourself in Red, server returns error for me.

iArnold

[10:58](#msg5979c75576a757f8084f3887)No problem here reading `page`, but warning do not try to `print page` or console hangs.

rebolek

[11:01](#msg5979c7f82723db8d5e4fac7a)I tried on Windows and it works there. The bug is on Linux.

Arie-vw

[11:03](#msg5979c88da7b406262d35ffaf)@rebolek For me the read succeeds, but printing will hang the console just like @iArnold found out.

rebolek

[11:04](#msg5979c8afbc464729742d503b)@Arie-vw which OS are you on?

Arie-vw

[11:04](#msg5979c8b82723db8d5e4faff2)Windows

[11:05](#msg5979c8dc329651f46ec90119)Maybe the problem is that the page consists of long lines, since html does not need line breaks?

rebolek

[11:06](#msg5979c93c76a757f8084f46a8)The `print` problem? Probably. The `read` problem seems to be Linux-specific.

Arie-vw

[11:44](#msg5979d2392723db8d5e4fd747)@rebolek The console does not really hang. Cause is length of stuff to be printed ;-)  
&gt;&gt; length? page  
\== 736848

dockimbel

[11:46](#msg5979d27ebc464729742d77b8)@iArnold  
&gt; There was nothing rude/offensive about the remark by me that was deleted.

I don't know how you can say that. You made fun on a newcomer's name after his first post. The vast majority of people consider such behaviour as being rude. You also were very unpleasant to a female on the mailing list, making derogatory comments about her, simply because she used a "nom de plume". I and others felt the need to apologise to her.

In your private message to me today, you asserted that you had made no negative comments to newcomers. The messages that were forwarded to me would be considered to contain negative comments by most people.

It seems that your standards as to what is acceptable differ greatly from those of the Red community we are building. Meeting the communal standards is not a matter for argument or opinion. You seem to be having difficulty coming to terms with the need to meet them even though they are very accommodative. In that case, we are willing to give you an ultimate chance to accept and abide by the standards of the Red community. If you demonstrate that you cannot do so you will be excluded without any further discussion.

rebolek

[11:46](#msg5979d2b276a757f8084f6ac9)@Arie-vw Yes, I was able to read and write the page under Windows, just do not print it :)  
Also, the page generation script could use some improvements. i.e there is 917 opening

```
 tags on the page, but  1076 closing 
```

tags. Let me know if I can help with that somehow.

Arie-vw

[11:48](#msg5979d2f4a7b406262d362d54)@rebolek That should be simple to fix. Please have a look @mikeparr !

[12:34](#msg5979dde576a757f8084f998c)Can anybody check if this script https://pastebin.com/ragpdQky works correct on Linux? Because I am not sure if I use the correct way to obtain the OS.

iArnold

[12:40](#msg5979df4f4bcd78af56ee6282)@dockimbel Well if you really think that mentioning two world famous other people who also bear the name 'Armstrong' is making fun of Joe Armstrong's name, then I am not the one having a problem. The thing with Sandra is, I really thought she was an alias of Alan, he used to attract extra attention, and I have chatted with her explained and apologized for that.  
I consider myself to be in the clear about negative comments, perhaps I do live in a greyer parallel world where the effect of the pink cloud around the Red center wears of more.  
I still respect what you and the Red team do, no matter what. So if you really feel the need to ban me, so be it.

dockimbel

[14:28](#msg5979f8934bcd78af56eecf46)@iArnold You are not mentioning the third name you used, calling him "Joe Dalton". Seems like you have a very selective memory.

iArnold

[14:32](#msg5979f964614889d475f65091)Joe Dalton , one of the famous Dalton brothers from the Lucky Luke cartoon series by Morris. Wow!

dockimbel

[14:32](#msg5979f98a329651f46ec9cda7)@Arie-vw You're welcome.  
&gt; I did find out that I needed to add a colon befor i in line 18 to get it to work. Why is that?

My mistake, `list/i` is a shortcut for `select list i`, while `list/:i` is shortcut for `pick list i`. Getting the current OS the Red app is running on is through: `system/platform`.

[14:36](#msg5979fa824bcd78af56eed8f2)@iArnold Why did you hide the fact that you called him by that name then? We all know who is "Joe Dalton" and what that kind of character he represents. So distorting the name of a newcomer, changing his name randomly and calling him "Joe Dalton" is the right way to greet newcomers?

PeterWAWood

[14:43](#msg5979fbf71c8697534a65b5f3)@iArnold Are you prepared to modify your behaviour as requested and act in an acceptable manner in future?

iArnold

[14:45](#msg5979fc86f5b3458e30898196)I still fail to see how the remark was aimed against Joe Armstrong, where it clearly just mentioned the familiarity aspect of the name, in first place a familiarity that Geekyi could have with the `Armstrong` part, and the latter for a familiarity for the `Joe` part of the name.

[14:49](#msg5979fd5c89aea4761ddc3559)So I really can't grasp what this fuzz is all about.

Oldes

[14:59](#msg5979ffe5c101bc4e3ac68933)Could you all please calm down and stop talking about neticket here and move back to technical talks? Thanks.

dockimbel

[15:08](#msg597a01fa76a757f808503647)@Oldes Yes, we're done. Sorry for the fuss, but some cases need to be processed publicly, in order to keep community management transparent.

[15:13](#msg597a03002723db8d5e50a492)@Arie-vw Another code refactoring you can do, if you like that style, instead of:

```
either empty? result [
	i_t/text: rejoin[{No match found for string "} arg {" in the PATH variable}]
] [
	i_t/text: rejoin[{Now displaying components of PATH variable containing string "} arg {"}]
]
```

you can remove the redundancies using:

```
i_t/text: rejoin pick [
	[{No match found for string "} arg {" in the PATH variable}]
	[{Now displaying components of PATH variable containing string "} arg {"}]
] empty? result
```

Arie-vw

[15:40](#msg597a097889aea4761ddc6d4b)@dockimbel Yes, I like that. Thx!

[15:49](#msg597a0ba41c8697534a65fe8b)When compiling on Windows it says "Target: MSDOS". Shouldn't that be Windows?

dockimbel

[15:51](#msg597a0c19bc464729742e6b7f)@Arie-vw The default compilation target on each platform currently is for the CLI, not the GUI. We might change that in the future.

## Friday 28th July, 2017

WiseGenius

[00:10](#msg597a8113f5b3458e308b617b)\[!\[falsepositives.png](https://files.gitter.im/red/red/Phtl/thumb/falsepositives.png)](https://files.gitter.im/red/red/Phtl/falsepositives.png)

[00:11](#msg597a812045fc670746d27bbc)\[!\[falsepositives2.png](https://files.gitter.im/red/red/QIkK/thumb/falsepositives2.png)](https://files.gitter.im/red/red/QIkK/falsepositives2.png)

[00:23](#msg597a841e45fc670746d283b8)According to \[this page](https://docs.labtechsoftware.com/LabTech11/Default.htm#AddOnSolutions/Security/HitmanPro/HitmanProFalsePositives.htm), when I “Report that this file is safe” (which I did for each one), “the SHA-256 is sent to the cloud for reclassification (file is rescanned)”, but that implies to me that even if each file gets reclassified, every new build is going to trigger another false positive (assuming that's what it is, of course). I'll wait and see what happens. However I probably won't know when if/when the files are reclassified because also “the SHA-256 of the file is locally added as white” already.

pixcai

[03:19](#msg597aad3bbc464729743085d2)I have a problem. I have two files: `a.red` and `b.red`.

mahengyang

[03:23](#msg597aae3545fc670746d2efcb)你可以说中文

pixcai

[03:33](#msg597ab0a44bcd78af56f13cb6)第一次发言，请问在编辑框怎么换行呢？

[03:37](#msg597ab1654bcd78af56f13e01)我有两个文件，`a.red`和`b.red`。  
`a.red`里面的代码是

```
Red [] 
a-fn: func [][print "Function A"]
```

`b.red`里面的代码是

```
Red []
#include %a.red
b-fn: a-fn
b-fn
```

结果b-fn没有输出任何内容。

[03:40](#msg597ab21bf5b3458e308be5a7)这里b-fn已经赋值为a-fn呢，但是效果和别的语言不一样，这是Red本来就这样设计的，还是说这是一个设计错误？

PeterWAWood

[03:42](#msg597ab2a289aea4761ddea890)You'll get better help at https://gitter.im/red/red/Chinese

pixcai

[03:43](#msg597ab2e44bcd78af56f14199)

```
Function A
*** Script Error: b-fn needs a value
*** Where: set
*** Stack:
```

PeterWAWood

[03:44](#msg597ab33745fc670746d2ff57)

```
b-fn: :a-fn
```

[03:46](#msg597ab37f614889d475f8c7e5)`a-fn` executes the function bound to the word `a-fn`  
`:a-fn` returns the function bound to the word `a-fn`

pixcai

[03:46](#msg597ab3984bcd78af56f14450)But if i want do this:

```
b-fn: context [
    a-fn: #include %a.red
]
```

What should i do?

PeterWAWood

[03:54](#msg597ab56d4bcd78af56f14a4c)`#include` is a pre-processor command not a Red runtime function.

[03:58](#msg597ab66289aea4761ddeb43a)It is treated as a `issue!` value in Red. So Red evaluates the line `a-fn: #include %a.red`:  
`a-fn` is bound to an `issue!` of value `#include`  
the `file!` value is evaluated but the result of the evaluation is not used.

[04:02](#msg597ab75d45fc670746d308b7)You can achieve what you are attempting by using the do function:

```
>> write %a.red {Red[] a-fn: func[][print "Function A"]}
>> b-fn: make object! [a-fn: do %a.red]
== make object! [
    a-fn: func [][print "Function A"]
]
>> probe b-fn
make object! [
    a-fn: func [][print "Function A"]
]
== make object! [
    a-fn: func [][print "Function A"]
]
>> b-fn/a-fn
Function A
```

[04:06](#msg597ab836bc4647297430a5f7)This only works because `do` returns the last value evaluated. The last value evaluated in `%a.red` is the `function!` value `func [] [print "Function A"]`

pixcai

[04:06](#msg597ab85845fc670746d30bac)@PeterWAWood Got it. thx.

another question, `#define` can't define `word!` value? For example:

```
Red/System []

#define VERSION 0.6.3
```

```
Red/System []

#include a.reds

print VERSION
```

why it's wrong?

```
*** Compilation Error: unknown directive ~000001
```

PeterWAWood

[04:13](#msg597ab9da1c8697534a684248)0.6.3 is not a valid literal in the Red/System dialect. Red/System looks like Red but it acts more like C. So it has variables with types rather than words, it has basic datatypes (integers, floats, bytes, structs, pointers etc.) rather than Red Values (integer!, word!, char!, map! tuple! etc.)

dockimbel

[04:18](#msg597abb2945fc670746d31318)@WiseGenius Unfortunately, reporting false positives to most AV companies results in simply whitelisting a hash of the file's content and not fixing their heuristics. If you can find a way to more directly contact the editor behind that AV, maybe we can do something about it. If they have some social network presence, that's usually a good way.

[04:20](#msg597abb8c614889d475f8e269)@pixcai `#define VERSION "0.6.3"` works, as Peter said, no `tuple!` type in Red/System. The list of valid datatypes can be found \[here](http://static.red-lang.org/red-system-specs-light.html).

pixcai

[04:29](#msg597abda64bcd78af56f161ae)I have another question.  
in `a.reds`:

```
Red/System []

#define VERSION "0.6.3"
```

in `b.red`:

```
Red []

#system [
    #include %a.reds
    v: VERSION
]

print ["Current version is " v]
```

I want to use `v` outside of `#system`, but the compiler give an error. what should i do?

```
*** Compilation Error: undefined word v
```

PeterWAWood

[04:52](#msg597ac325f5b3458e308c1841)You need to write a `routine!` to get the data from the Red/System context:

```
Red []

#system [
    v: "0.6.3"
]

get-version: routine [return: [string!]] [
	string/load v length? v UTF-8
]

print get-version
```

[04:54](#msg597ac372c101bc4e3ac92103)You'll need to use the `-r` compile option so that the Red/System runtime string context is included.

dockimbel

[04:56](#msg597ac41676a757f80852d61e) @pixcai Red and Red/System live at different abstraction levels, where data is represented differently (unboxed values in R/S, boxed in Red among many other differences). You need to apply boxing/unboxing transformations in order to pass data between them. That can be done in different ways, the most convenient one being \*routines\*, which offer a convenient interface between those two realms, with some auto-marshalling help.

PeterWAWood

[04:57](#msg597ac42d2723db8d5e5326ab)If I remember correctly, `integer` and `logic` values can be exchanged between Red and Red/System without "conversion". (Probably `float` too). The others need to be unloaded/loaded in the Routine. The Red/System functions to do this are in the Red/System runtime. At the moment, you'll need to find them in the source code - red/system/runtime/datatypes is the place to look.

dockimbel

[05:11](#msg597ac7732723db8d5e532f2b)@JacobGood1 Went through the paper, I could have a lot to say about it, in a nutshell:  
\* It's mostly about K language and continuation of Shutt's work, as best approximation for Rebol semantics (though there is still a large gap in the ability to statically analyze Rebol and K).  
\* The proposed solution for reducing the complexity of the problem (i.e. massive modularization of the source code) will still fall short for Rebol IMHO. The "pathological cases" mentioned only account for extremely convoluted code patterns, while ignoring the common cases arising from code exchanges in I/O operations, when deserializating code, which precludes static analysis. Funny that they mention the "fallback to interpreter at run-time" solution for that, as that's the precise answer I give to the main question Andreas (an accointance of Viktor) kept asking me during the same year that paper was published, both online and live in Austria when we met there. Though, I don't doubt they could have come up with such trivial solution by themselves, it's still a funny coincidence to me. ;-)  
\* I find it great that someone has the time and will to work on such topic and try to push the boundaries there. I'll try to get in touch with Viktor to see if he made any significant advances in the last two years.

[05:27](#msg597acb5fa7b406262d398ff5)"accointance" -&gt; "acquaintance"

mikeparr

[07:53](#msg597aed6c89aea4761ddf6be8)@rebolek @Arie-vw The Red-by-example 'long-line' issue: for the next week, I'm working on a big update to VID, but after that, I could look into the long line/unbalanced 'pre' issue. @rebolek , thanks for the offer of help.

rebolek

[07:55](#msg597aedd545fc670746d3b795)@mikeparr Great to know, thanks. BTW, the long line is not an issue for me at all, but that Linux version of Red gets 400 error is. Could you, please, once you have some time, look into logs what's the difference in both requests?

mahengyang

[08:14](#msg597af26ef5b3458e308cb5ec)

```
node: declare struct! [
	father	[c-string!]
	suns	[block!]
]
```

declare can not use?

[08:14](#msg597af275a7b406262d3a17a0)`*** Script Error: declare has no value`

PeterWAWood

[08:19](#msg597af3ae1c8697534a68fe92)@mahengyang Your code is seems to be a mix of Red/System and Red code. Structures can only be created in Red/System, `c-string!` is only valid in Red/System, `block!` is only valid in Red.

mikeparr

[08:20](#msg597af3c9bc464729743161d1)@rebolek error 400 - sorry, I don't use Linux.

mahengyang

[08:20](#msg597af3e5614889d475f99d2a)I read this page http://static.red-lang.org/red-system-specs.html#section-4.7

PeterWAWood

[08:21](#msg597af41ff5b3458e308cbb9d)That is the page for the Red/System dialect. There is no `block!` in Red/System.

mahengyang

[08:23](#msg597af4704bcd78af56f212ee)on my god! thank you very much

[08:23](#msg597af48b614889d475f99f42)seems Red/System is the module in Red lang

PeterWAWood

[08:24](#msg597af4c0f5b3458e308cbe44)It perhaps is easier to think of it as an embedded C compiler with syntax like Red.

[08:25](#msg597af5091c8697534a690355)Red programs are first compiled into Red/System code and then compiled to machine code. Most of the functions supplied with Red are written in Red/System.

rebolek

[09:27](#msg597b0378329651f46ecd5294)@mikeparr ok, no problem, I will try with wireshark to see what's wrong

feetdust

[09:35](#msg597b057e614889d475f9e1ec)On linux, I need to use the "canonicalize\_file\_name" library call,  
with the Red/System dialect I am able to do it like this:

```
Red/System []

#import [
	"libc.so.6" cdecl [
		cfn: "canonicalize_file_name" [
			path [c-string!]
			return: [c-string!]
		]
	]
]
print cfn "/sys/class/net/eth1"
print "^(line)"
```

Can this be done in plain Red?

OhCoder

[09:58](#msg597b0ac71c8697534a69598b)hello…

9214

[09:59](#msg597b0af2f5b3458e308d13c5)@OhCoder hey there, welcome!

OhCoder

[10:09](#msg597b0d6b45fc670746d43708)@9214 Thanks, :smile: I never learned REBOL language before, just heard about it. I read some articles about Red &amp;&amp; REBOL just few hours ago...I feel Red language is cool, so I come here.

9214

[10:13](#msg597b0e31c101bc4e3aca2e75)@OhCoder feel free to ask any questions either here or in \[`red/help`](https://gitter.im/red/help) and \[`red/welcome`](https://gitter.im/red/red/welcome) rooms. Also, there's \[`red/Chinese`](https://gitter.im/red/red/Chinese) room if you want to chat in native language.

OhCoder

[10:16](#msg597b0f152723db8d5e542d63)@9214 Thanks. Yes, you got me, I'm from China... :smile:

dockimbel

[10:56](#msg597b186545fc670746d45e1e)Opinions on this ticket are welcome: https://github.com/red/red/issues/2645 Just be sure to fully read the comments and think about it before posting. Stay objective as much as possible, avoid the "I like X" or "I don't like Y", because that's not helpful at all.

9214

[11:04](#msg597b1a571c8697534a698fce)@dockimbel I agree that current `to` behavior is consistent with Rebol/Red rules for `true`-ish and `false`-ish values. Even with `make` blocking conversion from `logic!` to `1/0` I'm ready to live with `pick` trick (though it's way too hacky and error prone), though I prefer to leave `make` as it is, since it's compatible with Rebol2 (and perhaps with Rebol3).

```
>> pick [true] 1
== true
>> pick [true] 0
== none
```

dockimbel

[11:06](#msg597b1a98614889d475fa30f6)@9214 Yes, there are several dimensions to consider there, so it's not simple.

9214

[11:11](#msg597b1bf745fc670746d46afd)Also, `to integer! true/false` is equivalent to `pick [1 0] true/false` ;) As a confirmation that `pick` trick is too error prone - it should be `get pick [true] 1/0` to return `logic!` value, and even then it will break on returned `none`.

dockimbel

[11:17](#msg597b1d532723db8d5e546054)@9214 You can also use construction syntax for that case (that syntax is only implemented for a few types for now):

```
>> type? pick [#[true]] 1
== logic!
```

9214

[11:27](#msg597b1f901c8697534a69a414)`to logic! pick [true] 1/0` versus `make logic! 1/0` :shipit: . I prefer `make logic ...` to stay as it is. As for `to` debate - it depends, I wonder if anyone can show use-cases where current `to logic! 1/0` behaivor is preferred and `to integer! true/false` is desired.

dockimbel

[11:33](#msg597b20eebc46472974321166)@9214  
&gt; I wonder if anyone can show use-cases where current to logic! 1/0 behaivor is preferred

In Redbol, all values are `true` except `false` and `none`. So both `1` and `0` are considered `true`.

PeterWAWood

[11:34](#msg597b213e76a757f8085427a9)Isn't `to integer! true/false` a convenience for converting a Red logic! to a C bool?

dockimbel

[11:37](#msg597b21eea7b406262d3ad40d)@PeterWAWood You mean C++ bool? C has no boolean type.

PeterWAWood

[11:38](#msg597b2239bc4647297432166d)I probably do.

[11:39](#msg597b2266bc46472974321791)Though isn't '0' treated as false in C.

9214

[11:39](#msg597b2278c101bc4e3aca79e9)@PeterWAWood I guess it is and can be achieved either with `make integer! true/false` or `pick [1 0] true/false`.

dockimbel

[11:39](#msg597b2282f5b3458e308d6887)@PeterWAWood It is.

feetdust

[11:52](#msg597b25904bcd78af56f2c9b5)&gt; On linux, I need to use the "canonicalize\_file\_name" library call,  
with the Red/System dialect I am able to do it like this:

```
Red/System []

#import [
	"libc.so.6" cdecl [
		cfn: "canonicalize_file_name" [
			path [c-string!]
			return: [c-string!]
		]
	]
]
print cfn "/sys/class/net/eth1"
print "^(line)"
```

Can this be done in plain Red?

[11:53](#msg597b259df5b3458e308d7753)anybody ?

9214

[12:10](#msg597b29b8a7b406262d3af021)@feetdust I don't think you can do library calls in Red (for now)

Oldes

[12:12](#msg597b2a1c614889d475fa6b23)Actually you can use it with routine.. just it must be compiled for now.

[12:13](#msg597b2a72329651f46ecde0c3)Routine and `#system` directive.

ghost~5680c5f416b6c7089cc058a5

[12:15](#msg597b2ae11c8697534a69d233) Support for doing it from Red is planned for the next release (see load/library in rebol docs)

feetdust

[12:23](#msg597b2cdb614889d475fa7652)@nc-x thanks Neelesh, I am already doing that in rebol :

[12:23](#msg597b2cde2723db8d5e549782)

```
REBOL []

clib: load/library %/lib/libc.so.6
canonicalize_file_name: make routine! [
    "canonicalize_file_name"
	path [string!]
    return: [string!]
] clib "canonicalize_file_name"
print canonicalize_file_name "/sys/class/net/eth1"
```

[12:25](#msg597b2d2b76a757f80854544f)thanks guys .

9214

[12:25](#msg597b2d55329651f46ecded4c)after `make/to` discussion I checked up `as`. Its decription states: `Coerce a series into a compatible datatype **without copying** it`. Reading `without copying`, I expect that original series should be modified after `as` usage, but it's not:

```
>> x: [1 2 3]
== [1 2 3]
>> as paren! x
== (1 2 3)
>> x
== [1 2 3]
```

toomasv

[13:36](#msg597b3dd945fc670746d4ef51)@9214 I think it's compatible with other similar functions:

```
>> x: [1 2 3]
== [1 2 3]
>> y: as paren! x
== (1 2 3)
>> poke x 3 4
== 4
>> y
== (1 2 4)
```

rebolek

[15:06](#msg597b53101c8697534a6a8271)@9214 Different values can point to same data. So it's not necessary to modify original value to get new one without copying.

dockimbel

[15:26](#msg597b57a92723db8d5e554462)`as` breaks the strong typing of Red for practical benefits (coercing large series), so use it only when really needed. I am not sure we will keep it in that form. We'll see after we introduce modules and `secure` dialect, we might reserve it for a priviledged evaluation mode.

greggirwin

[16:31](#msg597b66ed4bcd78af56f3df47):point\_up: \[July 28, 2017 5:52 AM](https://gitter.im/red/red?at=597b25904bcd78af56f2c9b5) @feetdust, try `clean-path`.

[16:34](#msg597b679bf5b3458e308e97ba)I say "try" because `canonicalize_file_name` processes sym links. If you compare their results, please share them so we can note the differences.

dockimbel

[18:23](#msg597b81372723db8d5e55e6b3)FYI, as it was requested several times, we have opened a \[red/Russian](https://gitter.im/red/Russian) room.

endo64

[20:13](#msg597b9adea7b406262d3cb2aa)I'm looking forward to seeing a red/Turkish channel one day, but currently there is only me and may be a few others here from Turkey :worried:

## Saturday 29th July, 2017

dockimbel

[05:41](#msg597c2025bc46472974356524)`replace` has now a `/deep` refinement, to replace values deeply into `any-list!` series:

```
>> replace/deep [hello [blue [blue world]]] 'blue 'red
== [hello [red [blue world]]]
>> replace/deep/all [hello [blue [blue world]]] 'blue 'red
== [hello [red [red world]]]
```

[05:42](#msg597c204d614889d475fdb117)The `pattern` argument can even be a Parse rule, though, I haven't found good use-cases for that so far.

rebolek

[06:10](#msg597c26ef329651f46ed144c5)That's really cool, this is very useful feature.

xqlab

[07:37](#msg597c3b2d76a757f80857d856)How about a find/deep too ?

pixcai

[08:30](#msg597c479e614889d475fe1ccf)anybody?

```
replace "ABC" "BC" "C"
```

will output `AC`.  
But why:

```
a: "ABC"
b: next a
c: next b
replace a b c
```

only output `A`

dockimbel

[08:34](#msg597c48842723db8d5e58205a)@xqlab Yes, that's the next thing to support, but `find` is a native with already tons of refinements, and as it's low-level, it's not very convenient for invoking high-level features like Parse. I was think about introducing rather a higher level mezzanine for that called `search`, which could support more sophisticated features, like searching through a mixed tree of objects/maps/series. @greggirwin Do you already have some mezzanine like that in your magic toolbox?

PeterWAWood

[08:36](#msg597c4919a7b406262d3e8db1)@pixcai It is because `a` and `b` and `c` all reference the single value "ABC".

[08:38](#msg597c499076a757f80857ff0a)The results are as you expect if you create separate strings for `b` and `c`:

```
>> a: "ABC"
== "ABC"
>> b: copy next a
== "BC"
>> c: copy next b
== "C"
>> replace a b c
== "AC"
```

[08:44](#msg597c4afd45fc670746d84b58)In your original code, it looks as though "BC" is removed from the string first and then replaced with `c` which will no longer point at "C" as it has been removed.

[08:49](#msg597c4c01210ac2692036e6e6)It looks as though Red is delaying the evaluation of `c` until after it has modified the string. Rebol2 seems to evaluate `c` before modifying the string. @dockimbel Is this by design?

Rebol2:

```
>> a: "ABC"
== "ABC"
>> b: next a
== "BC"
>> c: next b
== "C"
>> replace a b c
== "AC"
>> a
== "AC"
>> b
== "C"
>> c
== ""
```

dockimbel

[08:51](#msg597c4c9a1c8697534a6d8a02)@PeterWAWood It's most probably just a side-effect of Red's `replace` implementation. After a few tests, it seems related to an issue within `change/part`. I've opened a ticket to log it as it can result in crashing.

[09:05](#msg597c4fea1c8697534a6d92b3)BTW, we don't have docstrings for `replace` function, if anyone feels motivated for that, you can push a PR.

pixcai

[09:06](#msg597c5001bc4647297435e385)Another example:

```
Red []

inner: func [][foreach value "D" []]

outer: func [][
    foreach value "ABC" [
        inner
        print value     ;-- will output #"D"
    ]
]

outer
```

the word `value` in `foreach` without its own scope?

dockimbel

[09:09](#msg597c50bca7b406262d3ea2fb)@pixcai Iterators don't have a local context in Red. `func` constructor requires a manual declaration of locals. You can use `function` constructor instead, which will automatically gather set-words and iterartor words for you (though, we consider that such constructor should be used by advanced users only, as it can create unwanted side-effects if you don't have a clear understanding of the gathering rules).

pixcai

[09:19](#msg597c531976a757f8085817c5)@PeterWAWood @dockimbel Thanks.

Arie-vw

[11:31](#msg597c71f7a7b406262d3efcdd)In rebol there is an example probe-object function here http://www.rebol.com/docs/core23/rebolcore-10.html#section-4 ; is there a nice way in Red to access or list the members of an object, without knowing their names?

PeterWAWood

[11:36](#msg597c7350f5b3458e3091b644)@Arie-vw Do you mean something like this?

```
>> o: make object! [a: 1 b: 2 c: 3]
== make object! [
    a: 1
    b: 2
    c: 3
]
>> foreach word words-of o [print compose [:word "in object o is" (word)]]
a in object o is 1
b in object o is 2
c in object o is 3
```

Arie-vw

[12:12](#msg597c7bb74bcd78af56f707cf)@PeterWAWood. Spot on. Thx!

[12:17](#msg597c7cce4bcd78af56f70b13)To be honest I'd forgotten about words-of. There are so many functions these days ;-)

[12:18](#msg597c7d28bc46472974366f21)@PeterWAWood I am thinking of creating a little tool to inspect the system object visibly. Do you know if there is already one? As far as I can remember Romano wrote one for Rebol a long time ago.

[12:23](#msg597c7e2a210ac269203777ac)It was called anamonitor http://www.rebol.org/view-script.r?script=anamonitor.r

munael

[13:32](#msg597c8e644bcd78af56f7415f)Is there literature on designing and implementing DSL's in Red/Rebol?  
To my understanding: it's not really a 'language mechanism' but a consequence of orthogonal language features (and homoiconic design). But the integration of `parse`ing and macros for creating DSLs is a little unclear to me (especially that apparently DSLs don't need the newly added macro system to be created; or I'm misunderstanding something here).

Rebol2Red

[14:11](#msg597c979c614889d475feff77)Does anyone know a way to go to the top of a branch?  
I want to read all of a branch and don't want to scroll a lot through it to go to the beginning of it.

maximvl

[14:13](#msg597c9817329651f46ed2851b)what do you mean by top of a branch?

[14:13](#msg597c98191c8697534a6e5ec9)git branch?

Rebol2Red

[14:21](#msg597c99d2329651f46ed289e1)I think so. For example to read all messages of this branch or red/red etc. Sometimes there is a button which says goto bottom but not one to go to the top. I want to read also the messages from the start or a branch. If i want to read a message at the beginning of a branch i have to scroll up many many times.

feetdust

[14:27](#msg597c9b66329651f46ed28fed)&gt; I say "try" because `canonicalize_file_name` processes sym links. If you compare their results, please share them so we can note the differences.  
@greggirwin did try clean-path, it does canonicalize path-names but does not resolve symlinks. canonicalize\_file\_name does both.

[14:28](#msg597c9b85c101bc4e3acf14f8)@greggirwin did try clean-path, it does canonicalize path-names but does not resolve symlinks. canonicalize\_file\_name does both.

Rebol2Red

[14:37](#msg597c9da7bc4647297436ce40)I think i have to use the archive function from settings. I have to dive into this. Hoped there was a simple key stroke though. Just tried using archive. It is not exactly what i want. You can only go one year back.

meijeru

[14:38](#msg597c9dd61c8697534a6e6e11)Compliments to Team Red for the big number of issues now being resolved. You are working very hard!

dockimbel

[14:44](#msg597c9f33f5b3458e309239fa)@meijeru Thank you Rudolf.

greggirwin

[15:32](#msg597caa8e45fc670746d958bf)@dockimbel, `replace/deep` will be a nice addition for people. In a quick search, I have a number of find/gather kinds of things, but `collect-values` is the only one that seems to go deep. I believe I have an old template matching func that does it though, used for a tuplespace project I did.

[15:33](#msg597caad176a757f8085921e9)

```
e.g.: :comment
collect-values: func [
	"Collect values in a block, by datatype or custom parse rule"
	block [block!]
	rule  "Datatype, prototype value, or parse rule"
	/deep "Include nested blocks"
][
	rule: switch/default type?/word rule [
		datatype! block! typeset! [rule]			; Blocks and typesets (e.g. any-word!) work directly as rules.
	][ reduce [type? rule] ]						; Turn a prototype value into a rule for that value's type.

	; If they didn't spec /deep, any-block! skips nested blocks.
	; /deep does *not* look into nested path or string values.
	;!! We need good examples for `parse into` and its limitations.
	deep: either deep [
		[any-path! | any-string! | into top-rule]	; Don't parse into nested paths or strings
	][any-block!]									; any-block! skips nested blocks

	parse block top-rule: [
		collect any [keep rule | deep | skip]
	]
]
e.g. [
	blk: [1 a 2 'b 3 c: 4 :d [a 'b c: :d  E 'F G: :H]]
	print mold collect-values blk any-word!
	print mold collect-values/deep blk any-word!
	print mold collect-values blk set-word! 
	print mold collect-values blk [set-word! | get-word!]
	print mold collect-values/deep blk [set-word! | get-word!]
	print mold collect-values/deep blk first [a:]
	print mold collect-values/deep blk integer!
	blk: [a/b/c 'j/k/l x/y/z: [d/e/f 'g/h/i t/u/v:]]
	print mold collect-values blk path!
	print mold collect-values blk lit-path!
	print mold collect-values blk set-path!
	print mold collect-values/deep blk path!
	print mold collect-values/deep blk lit-path!
	print mold collect-values/deep blk set-path!
	blk: [[a] [b] (c) [[d] (e) ([f])]]
	print mold collect-values blk block!
	print mold collect-values/deep blk block!
	print mold collect-values blk paren!
	print mold collect-values blk first [()]
	print mold collect-values/deep blk paren!
	print mold collect-values blk any-block!
	blk: [1 2.0 "b" %file a 3x3 [4.4.4.4 #5 50%]]
	print mold collect-values blk [number! | tuple!]
	print mold collect-values/deep blk [number! | tuple!]
]
```

[15:35](#msg597cab3c4bcd78af56f79e7b)My `find` funcs tend to have one of two features. `find-if`, where you can apply rules as tests, and `find-all`, where you can get all occurrences in one call.

[15:37](#msg597cabc845fc670746d95ce4)Shouldn't be hard to add `/deep` to them, but need to think about how results will be used. That is, we may want to provide a handler callback that knows results will be nested as well. You'll have to get back a combination of integer offsets as well as sub blocks with integer offsets.

[15:48](#msg597cae59bc4647297436fd0b):point\_up: \[July 29, 2017 6:18 AM](https://gitter.im/red/red?at=597c7d28bc46472974366f21) @Arie-vw, I have an old one I did with Ammon Johnson. Might be some work to dust off, but I'll take a look.

[15:50](#msg597caed7f5b3458e309265fd):point\_up: \[July 29, 2017 7:32 AM](https://gitter.im/red/red?at=597c8e644bcd78af56f7415f) @Enamex, there are no docs for DSL design and implementation at this point, but `parse` is what you're going to use. Macros are not needed at all for building DSLs. See https://github.com/red/red/wiki/Macro-Notes for a few notes on them.

[15:52](#msg597caf331c8697534a6ea448)If you've never designed a language before, start \*very* small. Just write a little function that takes a `block!` arg and parse that. A simple example is a command dispatcher, so you don't need to maintain state or handle nested rules.

[15:53](#msg597caf9476a757f808593219)@Rebol2Red, maybe @Rebolek will jump in and point you to Gritter, with notes on how to use it to download an entire room's history. Gitter is not very good for that.

[15:55](#msg597cafd54bcd78af56f7aeb1)@feetdust, thanks for checking.

dockimbel

[15:58](#msg597cb08e2723db8d5e593f22)@Enamex Also, have a look at the "What about DSL support?" section in the \[Introducing Parse](http://www.red-lang.org/2013/11/041-introducing-parse.html) article. You can start from the short example there and modify it to experiment with your own DSL.

BlackATTR\_twitter

[16:01](#msg597cb143bc46472974370585)@Enamex This is probably a question which would be better addressed in the Help room of this chat. I don't have any official documentation for Red, but there are a number of examples and resources available online for Rebol. I will post some links in the Help room. \[Update: done.]

feetdust

[16:03](#msg597cb1b54bcd78af56f7b4e0)about this :point\_up: \[July 28, 2017 5:22 PM](https://gitter.im/red/red?at=597b25904bcd78af56f2c9b5) @Oldes mentioned here :point\_up: \[July 28, 2017 5:42 PM](https://gitter.im/red/red?at=597b2a1c614889d475fa6b23) a way to do it in plain Red ! Guys an example code would be nice.

[16:07](#msg597cb2ad2723db8d5e59459e)@PeterWAWood has an example here :point\_up: \[July 28, 2017 10:22 AM](https://gitter.im/red/red?at=597ac325f5b3458e308c1841) but I would like to call a routine instead of accessing a variable.

greggirwin

[16:14](#msg597cb4654bcd78af56f7bdca)@feetdust, FFI in plain Red will come in the near future. For now you need to use Red/System for externals. Should be some examples in https://gitter.im/red/red/system, though a lot of struct chat is most recent.

feetdust

[16:21](#msg597cb5f6c101bc4e3acf6ad2)Thanks for the replies @greggirwin

Rebol2Red

[17:15](#msg597cc2c1210ac26920383e0e)@greggirwin I hope he does. @rebolek Please, jump in.

rebolek

[17:39](#msg597cc85045fc670746d9b097)@greggirwin :)

[17:40](#msg597cc88b210ac26920384dff)@Rebol2Red I'm here again, sorry for the delay.

[17:41](#msg597cc8c1329651f46ed31324)As Greg said, take a look at Gritter - https://github.com/rebolek/gritter, especially `%gritter-tools.red`

[17:42](#msg597cc918210ac26920384fe0)There is a function `download-all-messages` that will download all messages in given room. I suggest using `/compact` refinement to save space and also prevent possible Red crashes.

[17:44](#msg597cc97f1c8697534a6ef395)To use Gritter and its tools, you need to get Gitter token at http://api.gitter.im - press `Sign in` in top right corner and copy the token to Red console. Something like `token: #abcd1234...`

[18:12](#msg597cd021614889d475ffada2)There are some search functions, like `gfind` and others.

Oldes

[18:17](#msg597cd149614889d475ffb1fa)@feetdust sorry.. I'm only on mobile so it is hard to write code... but simply in your red file use `#system [ some red/system code here like the one you already have ]` and than define routine to call function from the system layer.

[18:19](#msg597cd1a176a757f8085994ad)You can look at some red files inside red/code git repository under library folder.

greggirwin

[18:47](#msg597cd82e45fc670746d9ddfb)@meijeru, per #2690, I started https://github.com/red/red/wiki/File-Dir-Path-related-functions so we could document intent and behavior more clearly for file related functions. The See Below funcs are those I think need more detailed coverage. We can also include examples and more. Feel free to make suggestions or edit.

munael

[20:05](#msg597cea9f1c8697534a6f5701):point\_up: \[July 29, 2017 6:01 PM](https://gitter.im/red/red?at=597cb143bc46472974370585)  
Ah. Didn't know that existed o.o;

greggirwin

[20:22](#msg597cee85614889d475000ab5)Needs to be updated, but here's an old list of rooms: https://github.com/red/red/wiki/Gitter-Room-Index

[22:55](#msg597d1271f5b3458e309383dc):point\_up: \[July 29, 2017 6:18 AM](https://gitter.im/red/red?at=597c7d28bc46472974366f21) @Arie-vw, I pulled up my old system/object viewer and started hacking at it a bit. Quite surprising how quickly I got the basics working under Red. Go Team Red! Having the `/options/style` facet available in Red now helped a lot, as the old code used the style of a face. A lot of other things were just removing code, showing faces manually, updating line-lists in text-list faces, etc. Stuff that Red does automatically.

It was written in 2001, when I was just a Rebol noob, so there are some things I would like to clean up a bit before putting it out there. Ping me if you don't see it in a week, or if you want an early preview.

Every day I love Red all over again.

[23:05](#msg597d149cf5b3458e309388ee)\[!\[obj-browser.gif](https://files.gitter.im/red/red/mlWn/thumb/obj-browser.gif)](https://files.gitter.im/red/red/mlWn/obj-browser.gif)

rebolek

[23:11](#msg597d16214bcd78af56f8cf0f)Nice!

## Sunday 30th July, 2017

PeterWAWood

[00:07](#msg597d232445fc670746daaec8)@Arie-vw  
&gt; @PeterWAWood I am thinking of creating a little tool to inspect the system object visibly. Do you know if there is already one? As far as I can remember Romano wrote one for Rebol a long time ago.

I don't know of anything like that for Red yet Arie. It seems Gregg is working on one :-)

fvanzeveren

[06:22](#msg597d7b18614889d4750162e2)@PeterWAWood do you mean anamonitor.r from Romano, available here: http://www.rebol.org/view-script.r?script=anamonitor.r ?

[06:43](#msg597d8014bc46472974392b2a)Hi all, I am wondering if, like it was (and still is) the case with Rebol, is it possible to use Red in CGI mode? Thank you.

pekr

[06:46](#msg597d80c52723db8d5e5b5a75)Yes, it is. @rebolek did some tests with CGI and have some supporting functions implemented ....

fvanzeveren

[06:48](#msg597d8147bc46472974392e9c)Thanks! Good to know! Is there some tutorials out there... or does the rebol documentation still apply?

dander

[06:52](#msg597d822bbc46472974393097)very cool, @greggirwin!

rebolek

[07:06](#msg597d857cc101bc4e3ad19107)@fvanzeveren see https://github.com/red/red/wiki/Using-Red-as-CGI

fvanzeveren

[08:40](#msg597d9b8d45fc670746dbcb52)@rebolek Thank you

rebolek

[08:48](#msg597d9d4945fc670746dbcf31)@fvanzeveren You're welcome.

feetdust

[09:31](#msg597da760210ac269203a90b1)&gt; You can look at some red files inside red/code git repository under library folder.

[09:31](#msg597da76f76a757f8085bc862)@greggirwin as @Oldes suggested, after grepping thru the red source,  
was able to guess some useful pieces of code, did give it a try and  
seems to work, thanks guys, thats it for now.

Code follows:

```
Red []

#system [
    #import [
        "libc.so.6" cdecl [
            _cfn: "canonicalize_file_name" [
                path [c-string!]
                return: [c-string!]
            ]
        ]
    ]
]

cfn: routine [
    path [string!]
    cn-path [string!]
    /local
    _cn-path [c-string!]
] [
    _cn-path: _cfn as c-string! string/rs-head path
    string/concatenate-literal cn-path _cn-path
]

cn-path: copy ""
cfn "/sys/class/net/enp4s0" cn-path
print ["cfn: " cn-path]
```

Arie-vw

[14:18](#msg597deabd4bcd78af56fb1114)@greggirwin Very nice! Maybe you can put it somewhere on the web when it is ready?

[15:12](#msg597df760c101bc4e3ad2e50d)@fvanzeveren Yes. I mentioned anamonitor earlier in the conversation.

greggirwin

[15:35](#msg597dfcce614889d47502d0d9)@feetdust, congratulations! Combining Red, Red/System, and imports. Here's your 3-stack badge. :star2: :star2: :star2: (we need stack emojis)

[15:36](#msg597dfd074bcd78af56fb4923)@Arie-vw, yes, I will absolutely put it out there once it's cleaned up a little. Anamonitor won't run for me here, but I remember the UI model was just different. Romano always did great work, so maybe someone will port that as well.

9214

[17:38](#msg597e19a6614889d4750335ad)@dockimbel recently you said that `replace` can support `parse` rule for its `pattern` argument, but I can't figure out why this one doesn't work :(

```
>> replace [#include %foo.red] [#include file!] "nope"
== [#include %foo.red]
```

does it mean that I can `replace` values only one-by-one (e.g. first `replace #include ...` then `replace file! ...`) ?

[17:41](#msg597e1a52c101bc4e3ad35406)or maybe someone can give me a cue on how to remove all `#include` directives from file with `parse` (`red/parse` room ftw!)

greggirwin

[17:43](#msg597e1ad3f5b3458e30964aaf)Looks like you need to use `/deep` for that feature.

9214

[17:44](#msg597e1aff329651f46ed6b28d)gonna download latest release then ;)

greggirwin

[17:48](#msg597e1bd6c101bc4e3ad35886)May be a first draft of the feature. trying to avoid another refinement. Not sure we can avoid that, though.

9214

[17:53](#msg597e1d31329651f46ed6b887):confused:

```
>> replace/deep/all ["#inlude %foo.red" #include %foo.red] [#include file!] []
*** Script Error: PARSE - input must be of any-block! type: "#inlude %foo.red"
*** Where: parse
*** Stack: replace
```

[17:57](#msg597e1deda7b406262d43b00b)that's only with `/deep` refinement, but without it I can't use `parse` rule as a pattern

greggirwin

[18:01](#msg597e1efbf5b3458e309657f2)Ahhh, because `into` is used, and your first string causes it to go "into" that string as the input, in the recursive rule call.

rebolek

[18:04](#msg597e1fbff5b3458e30965a64)using `into` without first checking type with `ahead` is a recipe for disaster ;)

9214

[18:07](#msg597e204a614889d4750346ea)what should I do, tweak my pattern somehow or ..?

rebolek

[18:08](#msg597e20954bcd78af56fbbd67)@9214 I think you should report is as a bug.

greggirwin

[18:09](#msg597e20e0a7b406262d43b855)Quick patch, but report that it should be fixed.

[18:09](#msg597e20e7614889d47503494c)

```
replace: func [
    "Replaces values in a series, in place" 
    series [series!] "The series to be modified" 
    pattern "Specific value or parse rule pattern to match" 
    value "New value, replaces pattern in the series" 
    /all "Replace all occurrences, not just the first" 
    /deep "Replace pattern in all sub-lists as well" 
    /local p rule s e many? len pos
][
    if system/words/all [deep any-list? series] [
        pattern: to block! either word? p: pattern [to lit-word! pattern] [pattern] 
        parse series rule: [
            some [
                s: pattern e: (
                    s: change/part s value e 
                    unless all [return series]
                ) :s 
                | ahead block! into rule | skip
            ]
        ] 
        return series
    ] 
    if system/words/all [char? :pattern any-string? series] [
        pattern: form pattern
    ] 
    many?: any [system/words/all [series? :pattern any-string? series] 
        binary? series system/words/all [any-list? series any-list? :pattern]
    ] 
    len: either many? [length? pattern] [1] 
    either all [
        pos: series 
        either many? [
            while [pos: find pos pattern] [remove/part pos len 
                pos: insert pos value
            ]
        ] [
            while [pos: find pos :pattern] [
                pos: change pos value
            ]
        ]
    ] [
        if pos: find series :pattern [
            remove/part pos len 
            insert pos value
        ]
    ] 
    series
]

replace/deep/all ["#inlude %foo.red" #include %foo.red] [#include file!] []
```

9214

[18:20](#msg597e2379f5b3458e3096643f)thanks @greggirwin ! https://github.com/red/red/issues/2946

tmpbci

[21:27](#msg597e4f39329651f46ed75160)hi there

rebolek

[21:27](#msg597e4f534bcd78af56fc4d7b)Hi @tmpbci

tmpbci

[21:28](#msg597e4f6e1c8697534a7343db)just saw the GUI for Os x

[21:28](#msg597e4f7976a757f8085dd1c4)any need for testing ?

rebolek

[21:28](#msg597e4f9a2723db8d5e5db177)There's always need for testing :)

tmpbci

[21:29](#msg597e4fbf76a757f8085dd276):)

greggirwin

[21:43](#msg597e53161c8697534a734cc3)@tmpbci, if you're new to Red, you can check out https://github.com/red/code for GUI examples. They should all work, but playing may reveal hidden regressions. From there you can look at https://doc.red-lang.org/en/gui.html, https://doc.red-lang.org/en/reactivity.html and, of course, old blog entries.

[21:44](#msg597e533ca7b406262d445440)We also have https://gitter.im/red/red/gui-branch for more specific GUI chat.

tmpbci

[22:17](#msg597e5b042723db8d5e5dd38a)I'm old to rebol

[22:17](#msg597e5b152723db8d5e5dd3ad)very very old

rebolek

[22:18](#msg597e5b3f45fc670746de16f0):)

tmpbci

[22:21](#msg597e5beb4bcd78af56fc720a)so thanks for the link need to change some rebol program apparently

[22:23](#msg597e5c57a7b406262d446d03)Script Error: VID - invalid syntax at: \[\[gradient 1x1 0.0.0 50.50.50] at 170x10]

[22:23](#msg597e5c5e2723db8d5e5dd744)maybe there is no gradient..

[22:30](#msg597e5e232723db8d5e5ddbb8)c'etait dans backdrop effect

[22:33](#msg597e5ea776a757f8085df829)ooops french

greggirwin

[22:34](#msg597e5ee8a7b406262d447315)Red's GUI system isn't 100% compatible, but most changes aren't too hard. There's no effect pipeline in place yet, though.

## Monday 31st July, 2017

greggirwin

[01:49](#msg597e8ca81c8697534a73e1ca)@Arie-vw @dander @rebolek, I cleaned up my old object browser, but removed the Find code for now, as it was terrible. I didn't redesign the access model, which could probably be much nicer, but this gives us something to play with: https://gist.github.com/greggirwin/91dc1c3971998e0babeedba9f7e60bc5

dander

[03:00](#msg597e9d57c101bc4e3ad4bdc8)@greggirwin I can see myself using this a lot. Thanks for posting it!

dockimbel

[04:05](#msg597eac76bc464729743c9af9)@tmpbci Bienvenue ! In case you prefer it, there is also a \[red/France](https://gitter.im/red/red/France) room here, though less active than this one.

mahengyang

[07:39](#msg597edec5a7b406262d45cd02)how to print a hash map?

```
g: “a”
num: 2
numbers: make hash! [g num]
print numbers
```

this will print `[g num]` not \[“a” 2]

honix

[07:43](#msg597edfa42723db8d5e5f39a1)@mahengyang

```
numbers: make hash! reduce [g num]
```

mahengyang

[07:45](#msg597ee011f5b3458e30988c62)@honix it does not work

rebolek

[07:45](#msg597ee02a76a757f8085f693a)@mahengyang It does :)

```
>> g: "a"
== "a"
>> num: 2
== 2
>> numbers: make hash! reduce [g num]
== make hash! ["a" 2]
>> print numbers
a 2
```

mahengyang

[07:46](#msg597ee04fa7b406262d45d3dc)good work~

[07:46](#msg597ee06d4bcd78af56fddd39)but seems a little strange~

[07:47](#msg597ee082329651f46ed8de59)why need reduce the list

PeterWAWood

[07:47](#msg597ee0a345fc670746df828b)It is different from Rebol:

```
>> g: "a"
== "a"
>> num: 2
== 2
>> numbers: to block! [g num]
== [g num]
>> print numbers
a 2
```

mahengyang

[07:47](#msg597ee0a6329651f46ed8df13)i just want put a pair “a”-&gt; 2 into a hash

honix

[07:48](#msg597ee0d776a757f8085f6b4e)@mahengyang you have a block of words, and 'reduce will return same block with evaluated items

mahengyang

[07:50](#msg597ee159bc464729743d3989)ok, thank you, i am new to red lang, i had write java/ruby/lisp before, even red seems more simple, but i still feel not good

honix

[07:53](#msg597ee1eda7b406262d45dbf6)yep there is part from lisp language. quotation is an powerfull feature, but not easy one

PeterWAWood

[07:53](#msg597ee1efa7b406262d45dbfc)@mahengyang All values are hashed in a `hash!`, it does not have key:value pairs. A `map!` does:

```
>> g: 'a              ; use a lit-word not a string
== a
>> num: 2
== 2
>> numbers: make map! reduce [g num]
== #(
    a: 2
)
>> numbers/a
== 2
>> print numbers
a: 2
```

[07:55](#msg597ee277c101bc4e3ad590ec)You can use a string, `a`, for the key value but then you cannot use the `numbers/a` syntax.

```
>> g: "a"              
== "a"
>> num: 2
== 2
>> numbers: make map! reduce [g num]
== #(
    "a" 2
)
>> numbers/"a"
*** Syntax Error: invalid path! at {numbers/"a"}
*** Where: do
*** Stack: load 
>> select numbers "a"
== 2
```

mahengyang

[07:57](#msg597ee2e6c101bc4e3ad5928e)hash! is not eqaul to hashmap

PeterWAWood

[08:01](#msg597ee3e41c8697534a74e5fc)@mahengyang A `hash!` is conceptually a `block!` with an index of all items to make searching faster. This \[Rebol document](http://www.rebol.com/docs/core23/rebolcore-16.html#section-2.5) explains more.

A 'map!\` has key:value pairs.

mahengyang

[08:02](#msg597ee42a614889d4750586e9)ok, map! is HashMap in java  
hash! is Set in java

dockimbel

[08:16](#msg597ee7514bcd78af56fdf8bb)@mahengyang `hash!` is not a Set, duplicate values are allowed (as in blocks).

mahengyang

[08:17](#msg597ee7844bcd78af56fdf998)@dockimbel ok,thank you

Arie-vw

[09:44](#msg597efbf1329651f46ed940e7)@greggirwin Thx for posting. Very, very nice indeed!

tmpbci

[11:20](#msg597f129645fc670746e03677)after compiling with the mac app target, launching a GUI red stuff doesn't work

[11:21](#msg597f129ca7b406262d469384)31/07/17 13:18:27,542 loginwindow\[91]: ERROR | -\[PersistentAppsSupport saveLogoutPersistentState:finalSnapshot:] | Attempt to insert app with NULL bundle ID

dockimbel

[11:22](#msg597f130fa7b406262d4694bc)@qtxie ^---

[11:23](#msg597f1321a7b406262d469510)FYI, all HTTP verbs are now supported! I guess that should help accessing REST APIs.

pekr

[11:24](#msg597f1375329651f46ed99326)that's cool! Worth a tweet probably :-)

qtxie

[11:26](#msg597f13c8210ac269203ef468)@tmpbci Do you use the 0.6.3 or automatic build one?

rebolek

[11:26](#msg597f13d4bc464729743dfd35)@dockimbel I've noticed the commit on IRC and appreciate it. Now I have to update my Github, Gitter and other APIs :D

dockimbel

[11:27](#msg597f140da7b406262d469758)@rebolek You can thank @qtxie for the hard work. ;-)

tmpbci

[11:27](#msg597f143a210ac269203ef6a2)not sure : red -c -t macos foobar.red

[11:28](#msg597f144b614889d4750643c4)red is 6 3

rebolek

[11:28](#msg597f146a2723db8d5e600670)@dockimbel I will, I'm doing that regularly ;)

tmpbci

[11:28](#msg597f147bc101bc4e3ad648b8)I should test with sierra

geekyi

[11:38](#msg597f16bb4bcd78af56fe9f98)Oh, red/red@b4fae16 !! Thanks @qtxie

qtxie

[14:15](#msg597f3b94bc464729743e9d03)You're welcome. :smile:

munael

[15:01](#msg597f4641f5b3458e309a2c68)What's the story of memory management so far? It \_seems_ everything just leaks but I don't want to make assumptions...  
Red 0.6.3 master.

rebolek

[15:03](#msg597f46b94bcd78af56ff6579)@Enamex That's not an assumption, that's a fact ;) There will be basic GC soon with better GC later. Right now you can limit memory usage with proper coding techniques.

munael

[15:07](#msg597f47c52723db8d5e60e8c4)@rebolek Ooh o.o Well, is there a way to manually invoke `free`-like?  
It doesn't even look right when I'm imagining it...

rebolek

[15:08](#msg597f47fe210ac269203fc6bd)@Enamex In Red/System, you can manage the memory manually, allocate it and release it.

[15:09](#msg597f4829614889d475072622)But manual memory management is not possible in Red at all (and won’t be even with GC).

geekyi

[15:51](#msg597f51ea76a757f808612db5)@Enamex @rebolek would using `clear` free memory? I should probably test with `stats`..

[15:51](#msg597f51ef4bcd78af56ff99cb)In rebol, the analogue for `free` is `recycle`, which is \[to be implemented](https://trello.com/c/jcA3eEcs/52-memory-management) in red

rebolek

[15:51](#msg597f521fc101bc4e3ad752ee)@geekyi No it won't \*currently\*. Once GC is implemented, it will.

greggirwin

[16:08](#msg597f56181c8697534a76b9f3)Since we have a number of new people joining recently, just a quick comment on Red's state. As @rebolek said, GC is coming, and you can see more roadmap details on Trello. Red is currently still considered Alpha, but it's easy to think of it as more "mature" because of its stability and the advanced features in many areas (e.g. reactive GUIs). There is a sound plan and reasoning behind the order of development and priorities. There are a few notes in https://github.com/red/red/wiki/Red-Project-Approach on that.

If you are new here, welcome, and don't be shy. You will have the same questions a lot of others have had, and will surely learn a lot by playing with Red. The team is closing a lot of tickets right now, in preparation for the next release push. If you think you found a bug, post a message. Others will jump in to confirm, and then you can file a ticket (Yay!). If you have WISH tickets, again, post here and get some feedback before filing them. Processing tickets and issues is a lot of work, even just reviewing them.

Happy Reducing!

munael

[17:17](#msg597f662845fc670746e1ad75)"Reducing"  
There's a reference hidden here :hmm:

meijeru

[17:47](#msg597f6d384bcd78af560018cf)Is there any reason why `as-color` accepts arguments larger than 255 (taking them modulo 256) and `as-rgba` does not?

[17:49](#msg597f6d8fbc464729743f7b3f)It is just my usual consistency hangup...

greggirwin

[17:52](#msg597f6e40bc464729743f7dbe)@Enamex, We have Rebolers, Pythonistas, Perl Mongers, Rubyists, and more. For Red, there is more than one meaning in "to reduce", and fits nicely. Plus, we haven't come up with a better name for ourselves yet, than Reducers.

[17:52](#msg597f6e5d45fc670746e1ce4f)And, yes, it's also a play on "Red Users".

SoleSoul

[19:51](#msg597f8a2a1c8697534a779a86)Hey. I have a simple Android project I started. I thought, why not write it in Red and learn some Red on the way? It's a really simple application, a list of text items, that when touched, each one plays a different audio file. Is Red in its current state good for this exercise? If so, where can I see a simple guide or example to start from?

rebolek

[19:59](#msg597f8c14a7b406262d488fff)@SoleSoul You would need to wait for next version of Red, that should update Android GUI.

SoleSoul

[20:02](#msg597f8ccf210ac2692040efcb)@rebolek So no "nightly already includes all of the next version's features" this time? :P

greggirwin

[20:05](#msg597f8d7976a757f808623ca7)Give them a \*little* time. MacOS GUI release just came out. ;^)

SoleSoul

[20:05](#msg597f8d7f4bcd78af56009463)I was hoping I could run with the latest automated build. Thanks. I'll wait.

[20:05](#msg597f8d8d76a757f808623d20)I thought I read between the lines that Android works already

[20:05](#msg597f8da0bc464729744002f1)Hoping is free :)

greggirwin

[20:07](#msg597f8df9bc464729744003c0)Shouldn't be too long. They have a solid foundation and some experimental work already done. You could check out the android branch to see what's there.

SoleSoul

[20:11](#msg597f8ef345fc670746e25214)@greggirwin The 'android' branch on GitHub is two years old, but never mind. I was just checking the status. I'll write this app in Java, maybe the next one will be my next Red lesson.

greggirwin

[20:13](#msg597f8f53210ac2692040fd38)Sounds good. Do it in Java, then check back and when Red's Android is ready, do it again, compare, and give a report.

SoleSoul

[20:14](#msg597f8f9545fc670746e25474)Not a bad idea. I'm excited to try it.

rebolek

[20:19](#msg597f90cff5b3458e309b6b8e)@SoleSoul This time not :)

## Tuesday 1st August, 2017

fvanzeveren

[11:43](#msg5980696cc101bc4e3adb4118) Hello, could someone explain me this:  
2.0 / 0.0 --&gt; 1.#INF

[11:44](#msg59806980bc46472974430dd6)while 2/0 generate a zero-divide error.

[11:44](#msg59806988210ac2692043e7b8)thank you

[11:45](#msg598069d7a7b406262d4b9bf2)I think 2.0 / 0.0 should generate an error too...

[11:46](#msg598069fb329651f46ede6d9a)And definitely 0.0 / 0.0 --&gt; 1.#INF is wrong, because it is undefined!

geekyi

[11:54](#msg59806c061c8697534a7ac7b2)@fvanzeveren maybe related https://github.com/red/red/issues/2244

[11:55](#msg59806c362723db8d5e6529a7)Yours is probably a difference between `integer` vs `float`

PeterWAWood

[12:11](#msg598070034bcd78af5603d084)&gt; And definitely 0.0 / 0.0 --&gt; 1.#INF is wrong, because it is undefined!

I think that 0.0 / 0.0 should -&gt; 1.#NAN.

fvanzeveren

[12:12](#msg59807033614889d4750b7334)@PeterWAWood agree!

[12:13](#msg5980705c76a757f808656874)and 2/0 then should also be 1.#INF

PeterWAWood

[12:21](#msg59807233f5b3458e309ea3f3)@fvanzeveren I believe that NaN and ±Infinity are part of the IEEE-754 standard for floating point numbers. Their format is defined within the standard.

As far as I know, there is no standard that defines NaN or ±Infinity for integer values.

geekyi

[13:00](#msg59807b82614889d4750bb12b)Javascript and Lua avoid this altogether by not defining integers :smile: tho, it leads to other problems..

korstoilija

[16:24](#msg5980ab5845fc670746e6952e)I wanna make some games in red, anything I should know before?

[16:26](#msg5980aba01c8697534a7bee57)I dig the language and feel like it might be good one to just get shit done which is something I have had bit of a problem with

[16:27](#msg5980abdb4bcd78af5604ec35)Well I am just starting with black jack and move on from that... But still it would be my first coding project and I am super stoked :)

9214

[16:41](#msg5980af27a7b406262d4cd6ce)@korstoilija hey there, welcome! For starters:  
\* \[Rebol/Core user guide](http://www.rebol.com/docs/core23/rebolcore.html) (as Red is heavily influenced by Rebol)  
\* \[Red documentation](https://doc.red-lang.org/) (under heavy construction)  
\* \[Red by example](http://www.red-by-example.org/)

Start small, fire up the REPL and play around with basic code examples. Once stuck, ask any questions in \[`red/help`](https://gitter.im/red/help) or \[`red/welcome`](https://gitter.im/red/welcome) rooms.

[16:43](#msg5980afa64bcd78af5604fce9)Assuming you want to make games, `VID`, `Draw` and `View` are most important topics (with dedicated \[`red/gui-branch`](https://gitter.im/red/red/gui-branch) room).

[16:47](#msg5980b0baa7b406262d4cdded)Scripts to meditate on while learning:  
\* \[`red/community`](https://github.com/red/community)  
\* \[`red/code`](https://github.com/red/code)

korstoilija

[17:10](#msg5980b601329651f46edfd13b)Than you very much :)

9214

[17:10](#msg5980b61e329651f46edfd192)@korstoilija you're welcome.

RnBrgn

[19:38](#msg5980d898c101bc4e3add3fe1)@Arie-vw Possible typo on your Red by Example site.  
`sort/skip/compare/all name-ages 2 function [a b][a/2 > b/2]`  
should be  
`sort/skip/compare/all names2 2 function [a b][a/2 > b/2]`

greggirwin

[20:47](#msg5980e8cd329651f46ee0aa57)@mikeparr too, as he largely maintains the site now.

mikeparr

[21:24](#msg5980f19dbc46472974457e41)@RnBrgn @greggirwin @Arie-vw Got it

greggirwin

[21:29](#msg5980f29e614889d4750dca63)Thanks Mike!

## Wednesday 2nd August, 2017

9214

[08:30](#msg59818d90614889d4750fc4ad)if I want to deeply debug my Red application/script, which `system`/`view`/`parse`/etc flags should I use? I know about `parse/trace` and `dump-faces`, also `system/view/debug?`, but what else?

[08:30](#msg59818dbebc4647297447806e)also `system/state/trace`

[08:33](#msg59818e5fa7b406262d5005c9):point\_right: \[guru meditations](https://github.com/red/red/wiki/Guru-Meditations#debugging)

dockimbel

[08:53](#msg598192f61c8697534a7f3aa2)@9214 From top of my head, you can add to that list: `system/reactivity/debug?` and `system/preprocessor/debug?`.

9214

[08:53](#msg598193234bcd78af560830dd):clap:

geekyi

[09:13](#msg5981979c329651f46ee2e373)@9214 @greggirwin I think we should slowly take out topical stuff into their own pages, while adding to Guru Meditations. Do we have enough for a Debugging page? What else?

9214

[09:13](#msg598197ca4bcd78af56083fe2)compiled vs. interpreted behavior ;)

geekyi

[09:17](#msg598198abc101bc4e3adfbfa1)@9214 yes.. interestingly, there's quite a number of scenarios from a spectrum of \*pure interpreted Red\*, to \*pure compiled Red/System\*.  
The most interesting part is the one in between/ mix of those two

[09:20](#msg598199541c8697534a7f524b)We have https://github.com/red/red/wiki/Compiling already..

9214

[09:25](#msg59819a9176a757f80869e680)I'm all for writing/organizing docs, recent feedback from HN showed that most people are turned off by:  
\* absence of full blown GTK backend  
\* absence of detailed technical documentation

Hopefully Fullstack will find someone skilled for No. 1 (on some China GTK conference if I remember correctly?), as about No. 2... IMO it should be centralized community initiative leaded by core guru-members with puny neophytes (like myself ;P) behind their backs. Any ideas?

PeterWAWood

[10:44](#msg5981ad124bcd78af560894c7)@9214 Have you read the \[Red Project Approach](https://github.com/red/red/wiki/Red-Project-Approach)?

9214

[10:45](#msg5981ad3f45fc670746ea512c)@PeterWAWood yes, recently

PeterWAWood

[10:57](#msg5981b02cf5b3458e30a360c8)The reason that I asked is that I find it difficult to see how GTK3 support is going to help Fullstack meet it's commercial goals. As I understand, Linux has about 2 percent of the desktop market. I believe that does include a disproportionately large percentage of developers. (Who, I suspect, in the main develop either server-side software or web-based software). I would imagine that such people will be more interested in a Red web framework and Red web server than GTK3 apps.

Personally, I am very keen to see the Red GTK3 backend finished as then Red will be an ideal learning tool for the Raspberry Pi. We could see a whole army of young Red programmers! I just don't know if it fits in with Fullstack's plans.

[11:05](#msg5981b1e52723db8d5e6a0aa1)I suspect the Raspberry Pi is unique amongst personal computers as its sales continue to increase. I believe the big platforms today are phones, tablets , IOT devices and the cloud. I would imagine that Fullstack see its opportunity lies more with them than more traditional computers. No doubt we'll find out in time.

9214

[11:14](#msg5981b3fc614889d4751056b0)Yes, I understand that Red team has commercial plans and I'm totally OK with that, my message wasn't about GTK at all! I'm speaking from the perspective of not-so-recent community member - Redbol has a steep learning curve because it's \*conceptually different* from mainstream languages and because documentation (for the most part) is scarse, undetailed and decentralized.

I know that some community members are doing their part and provide articles and learning material (and I deeply appreciate that!), but their efforts are, in a vague sense, \*spontaneous* and \*uncoordinated* with Red team's plans. What I propose is: instead of fighting "lack of documentation" issue each by itself, perhaps these community efforts should be coordinated and guided as a collaborative initiative, while Fullstack can continue do their job?

PeterWAWood

[11:34](#msg5981b8b62723db8d5e6a2724)@9214 That's a good idea but suggests a more disciplined approach than appears to be the norm in our community given both its background and maturity. I'm not saying a more disciplined approach is bad, in fact I hope that my work on the Red tests proves the opposite.

How would you see this working?

9214

[11:47](#msg5981bbb4210ac2692048ef85)In my mind it is:  
\* a couple of volunteers (both newbies and old gurus)  
\* trusted core-members as guides/mentors who are skillful in Red/Rebol programming (both practically and conceptually) and brewed in community management  
\* detailed plan coordinated with Red team  
\* dedicated Gitter room with regular communication and coordination

Plan is coordinated with Red team (say, "we need some overview on X, detailed technical stuff on Y and corrections in Z, perhaps reorganize wiki, etc"), mentor distributes pieces of planned work between volounteers, checks intermediate results as the work goes, reviews drafts, guides, critisizes... at the end, if everything is OK, all of the stuff goes into one centralized place (doc.red-lang.org ?)... rinse/repeat.

[11:48](#msg5981bc1ea7b406262d50c6a5)but this is all in theory of course, I'm not sure how practical and doable it is :confused:

[11:54](#msg5981bd6f45fc670746ea96f4)See, we have `GUI` experts and people who are very interested in graphical programming and interfaces, we have `parse` gurus and newbies who want to dabble their feets in DSL developement, language oriented programming and parsing, C refugess interested in murky depths of `R/S` and peeps who just love to write good techical stuff and help others.

uralbash

[12:08](#msg5981c0abc101bc4e3ae0635a)What about writing documentation in a popular format rst (http://www.sphinx-doc.org/) and public it on https://readthedocs.org/ with CNAME doc.red-lang.org

[12:09](#msg5981c107a7b406262d50d7ef)it's looks like http://lecturesnet.readthedocs.io/net/requests-other.html#http-tool

PeterWAWood

[12:33](#msg5981c68f1c8697534a800b93)The documentation is written in ASCII-doc so that it can be published on Github.

greggirwin

[16:46](#msg598201e11c8697534a81221e)@9214, it's a good theory. Documentation is a hard problem in FOSS. It would be \*great* to learn how langs with really good docs did it. Maybe there are a few common elements we can leverage there.

We can certainly reorganize wikis and break guru notes out into full topics as well. The purpose of the sound-byte (;-)) wikis is to keep information from being lost, or repeated. I just do a little editing when adding entries there, so it goes pretty fast. But I also have a \*lot* of notes on doc ideas, references to other systems that have nice aspects in them, etc. I also have a `format` function calling my name to finish its prototype and, well, you know the story. "Time is always against us."

9214

[17:07](#msg598206c7210ac269204a3c32)Speaking of functions... recently I bumped in a bunch of edge cases with `compiled vs. interpreted behavior`, when too dynamic code interprets fine but goes nuts \*during* or \*after* compilation, because current alpha version of the compiler can't handle some fancy constructs.

After 3 days of headaches and sleepless nights I asked for help here and @PeterWAWood with @geekyi pointed out a "crude" solution to this problem (thanks a lot!). Here goes my attempt to automate proposed method ;) Though, it should be extended to handle multiple (and nested) "build directories".  
https://gist.github.com/9214/7f6ec82a65c2b1ff1d9b40f9d585a241

munael

[17:59](#msg59821313f5b3458e30a52754):point\_up: \[July 31, 2017 5:08 PM](https://gitter.im/red/red?at=597f47fe210ac269203fc6bd) @rebolek | Wonder if that could be leveraged by calling into Red/System to allocate memory and some how have a struct maker that constructs a struct `/into` existing memory...

greggirwin

[18:46](#msg59821e03f5b3458e30a5514a)Really nice @9214. All we need is `compress/decompress` or access to the crush lib...oh, wait, we're still smaller than everything else, without that.

[18:52](#msg59821f8ac101bc4e3ae21297)Start of a wiki page on debugging: https://github.com/red/red/wiki/Debugging

fvanzeveren

[20:07](#msg5982311c210ac269204ae6f3)Hello... Just wanted to say that the GUI engine documentation on doc.red-lang.org is pretty good! I wish there was such doc back in 2002 when I started to learn Rebol... Thanks to red, I make a new use of my only rebol book: Rebol Programmation from Olivier Auverlot... 15 years and I still have all the pages in the book... even if is in pieces :)

[20:09](#msg598231754bcd78af560adceb)I remember those nights spent to "try and error" to understand the intricacies of Rebol/View to build custom face!

[20:09](#msg5982317b329651f46ee57af7)Epic!

[20:10](#msg598231c845fc670746ec98af)Actually, this is the only book I always kept easily accessible "in case of" :)

[20:13](#msg5982325b614889d47512821d)I have the feeling that Red/View is way better designed that Rebol/View... or is my memory at fault?

Syntonica

[20:14](#msg598232ab614889d475128367)Hi All, new to the Red/Rebol world and it seems ideal for my latest project which is to rewrite my DSP program so it is cross-platform. However, there are a couple of things missing:

1\. With Apple going hardcore 64-bit on Jan 2018 with a dropdead in June, I obviously need 64-bit.  
2\. I would like to do the hardcore math in System, but I need a way to grab arbitrary blocks of memory. Using 2MB+ of the stack is probably not a good idea. Arrays, vectors or just a malloc would do the trick, which leads to:  
3\. How mixable is View and System? Can they coexist in the same script or do they need to be compiled separately and one imported into the other?

So, how long am I going to be holding my breath? I'm not sure if I can be of any help at this point with my coding skills in making things go faster.

geekyi

[20:21](#msg5982345945fc670746eca329)@Syntonica  
1\. We're not sure when it would be 64-bit  
3\. Red (which includes View) can be mixed in several ways with Red/System (including one in the other and vice versa)

Syntonica

[20:29](#msg598236424bcd78af560aefb0)@geekyi Thanks! I would be wrapping a compiled 32-bit library in a 64-bit (VST/AU) wrapper. I know it can be done now--I'm just not sure how things will be come January. I would assume that as long as the wrapper reported in as "Mach-O 64-bit bundle x86\_64", I'd be good. It's either this or Factor, but I'm not real keen on processing huge blocks of data off of a stack, although I'm still trying to grok that flavor of Forth and how it works.

geekyi

[20:34](#msg59823760329651f46ee594c1)@Syntonica Factor came easy for me, but I'm not so satisfied by the deployed executable: the time taken and it's size.

[20:38](#msg59823834c101bc4e3ae27462)I admit to not making huge programs in that tho.. it was more of a scripting language, and for one off processing/calculations because that part was so easy

Syntonica

[20:40](#msg598238db4bcd78af560af90e)@geekyi I'm not too concerned about code size. Right now, my C++, Objective-C, Objective-C++ executable is just under 1MB. (Yes, I have to mix it all to get it done. :( )

I noticed Factor compile times are slow, but not a really big concern as I can debug word-by-word as I create them since I am just porting code I know works (for the most part) already. Unfortunately, the Factor community seems rather moribund. Also, working with Red seems to just click with me more.

greggirwin

[21:07](#msg59823f1745fc670746ecce8c)@fvanzeveren, Red's design is amazing, no doubt. But we do have to credit Carl with the original foundation. We learned a lot from it over the years. He had a different vision than Red, and the world was different then. Rebol's View system has its flaws, but was also brilliant in many ways, and showed what was possible.

[21:10](#msg59823fc3a7b406262d52fa0f)Nenad deserves all the praise we can muster. The reactive design and implementation alone is a thing of beauty. But we all stand on the shoulder's of giants here.

[21:13](#msg59824077f5b3458e30a5d8d3)@Syntonica, concrete examples often make things easier. If there are small pieces you can point to, where we can offer help and suggestions, you should quickly answer your big questions and see if what you want to do is possible before Red goes 64-bit.

fvanzeveren

[21:19](#msg598241cea7b406262d53014b)@greggirwin, yes, sure, Rebol has been by far my most exciting experience in programming... It was amazing... and it still is...

[21:22](#msg5982428476a757f8086ca845)Glad to see how Red has evolved since my first contact in Lille back in 2009 (if i remember well) where we were a few people attending the first presentation of red by @dockimbel . If I remember well, there was even not a single line of code... Only concepts on powerpoint slides. Amazing!

[21:27](#msg598243db76a757f8086cae55)I remember also it was by far too technical for me... being used to the "simplicity" of rebol and I was really puzzled as to the feasability of this Red project by one man!

[21:33](#msg59824517bc464729744a845c)"Believe in your dreams and they may come true; believe in yourself and they will come true." is pretty true when talking about @dockimbel and Red :clap:

Syntonica

[21:43](#msg59824781614889d47512d2ac)@greggirwin I am using the Steinberg VST wrapper that essentially is a handful of calls that I need to plug code into The biggest problem is that I need to create a GUI, which is done with draw primitives, and if Red is making 32-bit system calls to handle this part, such as opening an NSWindow, that's going to be a showstopper for me. I will need to dig into the Red codebase to see what is going on under the hood.

It also appears that calling a 32-bit library from a 64-bit runtime is not pretty, so I am pretty much hosed until Red jumps the gap.

greggirwin

[21:46](#msg59824828210ac269204b3b8b)Too bad. :^(

Syntonica

[21:51](#msg59824974a7b406262d531d2f)Looks like CoreGraphics all over the place, so unless Red suddenly grows 32-bits, it's out. :( Which is really sad as I can easily grow to love this language! Thanks for y'all hearing me out!

greggirwin

[22:48](#msg598256c0614889d4751302da)Sure thing. It's tough when we have to move forward, especially when pushed. How many installations of 32-MacOS could continue to be productive for years and years? And 64-bit will come, but it's not a priority right now. Plus, it's a big task. You'd be surprised at how many seemingly advanced requests the team can put in place in a short time, but the big stuff does have to be queued.

[22:49](#msg59825705210ac269204b6aa0)If you're GUI of choice ends up being painful to write in, maybe you could use Red to generate code for it. ;^)

## Thursday 3th August, 2017

mahengyang

[01:54](#msg5982825df5b3458e30a6a1af)how to get a sub string  
eg.  
`s: “abcde”`  
i want to get “abc"

qtxie

[02:29](#msg59828a9645fc670746edbd3a)`copy/part s 3`

[02:30](#msg59828ae0329651f46ee6922f)You can combine `skip` and `copy` to get any sub strings.

mahengyang

[02:31](#msg59828aeea7b406262d53dcb7)ok I have found skip

[02:31](#msg59828b0a2723db8d5e6d67f7)the document `http://www.red-by-example.org/index.html#stringxex` need to complate

[02:32](#msg59828b30614889d475139b69)why copy and skip not in `string!` type

mikeparr

[07:21](#msg5982cf12329651f46ee74fbe)Copy and skip apply to any series, which includes string - but yes, this could be mentioned.

dockimbel

[12:16](#msg5983143445fc670746efa069)https://twitter.com/red\_lang/status/893083086430158848

toomasv

[12:17](#msg5983146cf5b3458e30a89b86):clap:

pekr

[12:18](#msg59831482a7b406262d55bbec)That's great! Will repost to FB!

dockimbel

[12:19](#msg598314cbbc464729744d4cf7)Here is a CLI console session (the GUI console needs some little changes to be compatible with the GC):

```
C:\Dev\Red>console
--== Red 0.6.3 ==--
Type HELP for starting information.

>> stats
== 1260804
>> recycle
>> stats
== 1166932
>> loop 5000 [reduce [1 + 2]]
== [3]
>> stats
== 1533060
>> recycle
>> stats
== 1189052
```

pekr

[12:19](#msg598314cff5b3458e30a89cf3)@dockimbel is there a chance stuff like simple-io, simple-gc will stay as an option, or those are going to be mostly obsoleted by their respective fulll variants later?

dockimbel

[12:21](#msg598315361c8697534a84f446)@pekr Simple-io, no, simple-gc, maybe, if it still provides an advantage in some use-cases compared to the final GC.

pekr

[12:32](#msg598317e54bcd78af560df6a4)The GC is going to be imo highly appreciated. I also noticed it was originally scheduled for the 0.6.5. Could cure some potentially skeptic reactions of newcomers not giving language a consideration, if the GC is missing ....

maximvl

[12:33](#msg59831825a7b406262d55cbc4)yay, congratz :D

[12:34](#msg5983186a45fc670746efb1c4)if we can have io soon it would be a bomb

[12:36](#msg598318e5f5b3458e30a8acdf)with pattern-matching DSL and binary syntax we will have most valuable Erlang's features in red :D

pekr

[12:37](#msg598318f4a7b406262d55d036)I think, that IO is a big chunk of work, which needs solid planning. And as such, can't be comleted during your coffee break :-) Judging upon the Trello, the road to 0.7.0 seems to be already set. But - who knows, it's just the public info, the team might change at will ....

maximvl

[12:37](#msg5983191c210ac269204e07e7)&gt;I think, that IO is a big chunk of work

true, but it's also the most important one

[12:38](#msg5983194e1c8697534a8502e3)what's the reason of making programs which cannot communicate with the world?

[12:39](#msg5983196f45fc670746efb59c)I would argue that it's even more important than the gui, but I can imagine Red team has their own reasons

pekr

[12:41](#msg598319f2f5b3458e30a8b0ba)We've got simple-io, which can work with http(s) and files too at least, so some work is still possible .... Don't want to spam this channel by what might be considered as a off-topic chat :-)

maximvl

[12:42](#msg59831a4f4bcd78af560e007f)I'd love to make db queries, parse network protocols etc and I don't see how language features can be off-topic in general chat

pekr

[12:44](#msg59831a941c8697534a850779)Language features not, but chat about shifting the priorities :-)

maximvl

[12:46](#msg59831b12c101bc4e3ae57346)well I'm sure team knows what to do and they already proved this, it's just my opinion, but of course I don't know all the details of how things work

pekr

[12:52](#msg59831cab1c8697534a850e94)btw - what do you mean by the "binary syntax" (in your message re pattern-matching DSL)?

maximvl

[13:14](#msg5983219e329651f46ee89b86)@pekr this is a super cool feature to handle binary data, both parse and generate, I only saw it in Erlang, not sure if any other language makes it that easy to use: http://erlang.org/doc/programming\_examples/bit\_syntax.html

[13:15](#msg59832208a7b406262d55f5ae)you can literally specify that field `x` is 4 bytes big-endian signed integer and so on

[13:16](#msg5983223e329651f46ee89ed9)like this: `X:4/little-signed-integer-unit:8`

[13:17](#msg598322591c8697534a852663)when other languages require you to do the bit math manually

dockimbel

[13:21](#msg5983234676a757f8086fa4c5)@maximvl Most of todays general online communications are done using HTTP/S, which is already supported. ;-) But, yes, networking + GC will make Red on par with Rebol2/3 (actually a superset, as Red offers some new big features like Red/System).

maximvl

[13:22](#msg59832390a7b406262d55fbea)@dockimbel can I do all the types of http queries? `post`, `put` and so on?

pekr

[13:23](#msg598323b745fc670746efe164)I would exclude R3. Its networking stack was mostly unfinished - no emails, ftp, http only 1.0, no https, etc. Later on, Graham added some stuff, but not sure what state it ended up in.

dockimbel

[13:23](#msg598323ce76a757f8086fa764)@maximvl Binary syntax is on my todo-list, that Erlang link is in my bookmarks since many years. ;-)

pekr

[13:23](#msg598323e0614889d47515c1bf)@maximvl I think so - last week Doc announced http types got expanded ...

dockimbel

[13:24](#msg5983240af5b3458e30a8dc81)@maximvl HTTP: yes, all verbs are now supported.

maximvl

[13:25](#msg598324334bcd78af560e28d4)could you give an example? :)

dockimbel

[13:25](#msg59832465f5b3458e30a8de29)@maximvl I'll let @qtxie do that. ;-)

maximvl

[13:28](#msg598324e876a757f8086fac19)and that binary syntax is a part of pattern matching in Erlang and both work great together

[13:31](#msg598325bc4bcd78af560e2f1d)btw Red can handle binaries fairly well already:

```
>> to-binary [255 15 #"A" "test"]
== #{FF0F4174657374}
```

Phryxe

[13:42](#msg5983284ba7b406262d561111)Seen the list of I/O protocols on todo-list in Trello. Curious about LDAP

pekr

[13:53](#msg59832ad0c101bc4e3ae5b2dc)Re protocols, I also wonder, if the http is going to be implemented using the port primitives, like in R2/R3, or will Red use any OS provided functionality, if available?

dockimbel

[14:02](#msg59832ce245fc670746f00bb7)@Phryxe I'm not sure how much LDAP is relevant nowadays (\[I made an experimental](http://softinnov.org/rebol/ldap.shtml) Rebol implementation 7 years ago).

rebolek

[14:33](#msg5983343f4bcd78af560e6e80)@maximvl I am on phone now, so can't give links, but my Gitter API (see my Github) already supports `put` and `delete` besides `get` and `post`. It was very easy to add (mainly because I wrote it months ago and just waited for Red to catch up :smile: )

Phryxe

[17:52](#msg598362cf2723db8d5e70b33f)@dockimbel Thanks, I found that page searching for Rebol and LDAP. We use LDAPS for logins to Novell eDirectory from thirdparty software etc. I have no idea if it is less relevant today or not. I was curious to see how I could access it from Red.

pekr

[18:03](#msg5983657aa7b406262d571c38)Directory services are important in corporations - they are central point of the infrastructure user management ...

greggirwin

[18:22](#msg59836a0345fc670746f1145a)Lots of chat means excitement. :^) Something to note about I/O and protocols. R2's were built by the core RT team, and the documentation for building new ones was...not. A few people, like Doc and Gabriele Santilli did it, but it was beyond the average Reboler. You had to really need it. With Red, I believe Doc is of the mind that providing the foundation, a couple strong examples, documentation, and maybe even some dialecting, will make it \*much* easier for people who know their domain and needs can build new protocols.

And the binary syntax is a nice idea. Someone here has done some OSC work I believe. After @joeerl\_twitter posted about it, I read up a bit, and I think it could be a nice module.

gltewalt

[18:33](#msg59836c5ef5b3458e30aa280d)Largest internal network in the world uses LDAP (Active Directory)

greggirwin

[18:57](#msg59837236bc464729744eec09)Surely one of their users will want to build it then. :^)

gltewalt

[21:38](#msg598397e876a757f80871a618)If they could con their managers into it.

## Friday 4th August, 2017

qtxie

[01:15](#msg5983ca9c4bcd78af5610b3c1)@maximvl Here are some examples:

```
write url [
	Http-Verbs   (word!)
	Http-Headers (block! Must be set-word!, string! pair. Optional when use GET or HEAD method)
	Data         (string! binary! Optional when use GET or HEAD method)
]

probe write/info http://httpbin.org/put [
	PUT
	[Content-Type: "Content-Type: text/html; charset=utf-8"]
	"Hello Red"
]

probe write/info http://httpbin.org/put [HEAD]
```

rebolek

[07:27](#msg598421d11c8697534a88d446)Hm, why the path gets changed?

```
fakemac:red sony$ pwd
/Users/sony/Code/red
fakemac:red sony$ ./console
--== Red 0.6.3 ==--
Type HELP for starting information.

>> pwd
%/Users/sony/Code/red.bak0817/
```

honix

[07:35](#msg598423c876a757f808735c06)@rebolek try use what-dir

rebolek

[07:36](#msg5984240d1c8697534a88dea2)@honix I've restarted terminal, recompiled console and it's fine again.

RedLangTeam\_twitter

[10:36](#msg59844e364bcd78af561279ba)The Red Team is very conscious of the need for good documentation and is striving to balance that need with the need to continually expand Red's capabilities. The goal is for Red to have three levels of documents:

1.The Red Tutorial(s)  
2.The Red User Manual(s)  
3.The Red Reference

The Red Reference will include a concise, but exhaustive description of all language, DSL and built-in framework features. It will target advanced users and contributors. It will be produced by the Red Team and form the basis for the Red Tutorial and the Red User Manual.

The Red User Manual will cover the complete scope of Red more accessibly than the Red Reference. It will be targeted at all users. It is hoped that this will be jointly developed by the Red Team and the Red community.

The Red Tutorial will be a tutorial-based introduction to Red. It will target new users. It is hoped that this will be mainly developed by the Red community.

The documents that have been published so far on Red Docs are part of the Red Reference.

The Red Team is aiming to publish most of the content of the Red Reference with Alpha release 0.7.0.

Once the Red Reference reaches a sufficient level, planning will start on the Red User Manual and how it can best be developed with the Red community.

In the meantime, comments and suggestions on the published documentation are welcome.

uralbash

[10:43](#msg59844fc74bcd78af56128046)It seems to me better to choose sphinx-doc than asciidoc, it is more flexible and functional, even bitbucket and github can read this format and kernel.org use it https://lwn.net/Articles/692704/

PeterWAWood

[10:55](#msg598452952723db8d5e7406fd)The docs are published using GitBooks as far as I know it does not accept sphinx-doc.

dahu

[13:07](#msg598471abc101bc4e3aea9788)Github supports Asciidoc and it appear that there's a bitbucket plugin for it too. The LWN kernelorg article prefers sphynx over asciidoc not for any better flexibility in sphynx's syntax but rather that it's written in python compared to asciidoctor's ruby and there doesn't already exist ruby code in the kernel tree. The article points out that asciidoc should be a better choice in the future, but sphynx is a better choice (for \*their* needs) now. I think Red should stick with asciidoc. There hasn't been mention here of the Red documentation project suffering from a lack of functionality in asciidoctor's syntax or toolchain. Changing just for changing's sake is not wise.

rebolek

[14:35](#msg598486261c8697534a8a90c2)@Syntonica I am really interested in your DSP stuff. I wrote synthesizer in Rebol years ago that I will rewrite in Red(/System) with rPi as main target platform (I want HW with knobs). You can take a look at it on rebol.org, search for Sintezar there. I am really interested what others need in terms of sound support in Red, so feel free to contact me.

dockimbel

[14:59](#msg59848bd71c8697534a8aad97)@dahu Very good answer. :+1: We should save it somewhere in a FAQ. (\[done](https://github.com/red/red/wiki/FAQ))

x8x

[18:05](#msg5984b7840cef4fed2eb8a528)@rebolek "I want HW with knobs" me too, a whole lot of knobs, like this https://www.youtube.com/watch?v=cudr9Y9lEMI

[18:06](#msg5984b7af19147ac32314fad0)sorry for the oot.. 😜

greggirwin

[18:09](#msg5984b85876a757f80875d87b)That's an impressive analog config file.

x8x

[18:10](#msg5984b8a50cef4fed2eb8a536)Red and lots of knobs not to make music but to control future AI, change a patch and it will make you coffee instead of flying your car. 😂

rebolek

[18:15](#msg5984b9b91c8697534a8b76c9)@x8x cool! And Junkie XL is one hell of a musician. 'm not that good with soldering iron to target analog modular, but virtual modular in Red...I want to do it. There's already one red virtual analog (nordlead), so it's definitely possible :satisfied:

x8x

[18:18](#msg5984ba8019147ac32314faf4)@rebolek Red could do better then this html/js based stuff https://cycling74.com/products/max/

rebolek

[18:23](#msg5984bba476a757f80875e48c)@x8x it definitely can. I wrote modular synth based on my Sintezar stuff, but Rebol was too slow for that task. I must port it to Red (and add MIDI, OSC,...).

x8x

[18:23](#msg5984bbb281cd9a5d7e9c08f4)And this should be done in Red too http://sonic-pi.net/

greggirwin

[19:45](#msg5984cec9614889d4751c5f33)Check out @honix's github repos as well. He's got some cool visual programming stuff there.

## Saturday 5th August, 2017

dahu

[02:48](#msg598531ff210ac2692055de20)Thanks, @dockimbel

x8x

[08:14](#msg59857e7419147ac323150050)@gregg nice! 😃 what is better https://github.com/honix/Pyno or https://github.com/honix/Visual-List-Editor ? Maybe some good hearted pythoner or lisper could port that to Red 😁

honix

[10:17](#msg59859b3ef5b3458e30b1b5b5)@x8x Pyno has some cool examples inside, its more about data flow between nodes. VLE is a try to make programming using 2d trees, not linear text, its little more academic experimemt. Also Pyno is easier to setup and run. :P

dockimbel

[10:25](#msg59859d0d76a757f80878652a)@honix I did a review a few months ago of existing solutions and research projects for \*structured editing\*, but haven't found anything that would make me drop a text-oriented code editor. \[Greenfoot](https://www.greenfoot.org/frames/) is one of the most interesting projects, but still falls short on usability (at least for me). Do you have any ideas on how to push the boundaries further in that domain?

munael

[14:24](#msg5985d52276a757f808790d06)A random suggestion for an alternative hex literal syntax:  
`0h000...`  
Yeah? Should work :P

9214

[15:09](#msg5985dfbc76a757f80879310e)@Enamex

```
>> 0000002Ah
== 42
```

munael

[15:59](#msg5985eb6a2723db8d5e797800)@9214

```
>> 0h2A
== 42
```

Unless I'm misunderstanding your point :T

greggirwin

[16:37](#msg5985f463f5b3458e30b2cad8)@x8x, I think @honix is the one to start the port of Pyno. With the talk of DSP and audio stuff lately, it would be cool to do a little, generic, dataflow "patch" system. Maybe starting with data transformers would be easier though, for demo purposes.

[16:39](#msg5985f4c34bcd78af5617f3a4)@Enamex, I think @9214 means we already have a hex notation in Red.

```
>> 2Ah
== 42
```

So we don't need to add another one.

9214

[16:44](#msg5985f5d4a7b406262d5fd059)One thing I want to propose is to allow bitwise operations on `binary!` values. Your thoughts?

[16:46](#msg5985f64aa7b406262d5fd17b)I'm also curious about how Redbol gurus integrated Red/Rebol REPL in their workflow. How do you use it? (`bash` replacement, throw-away scripts, automation, etc)

greggirwin

[16:52](#msg5985f7b476a757f80879804e)@9214, you mean like `and` and `or`?

```
>> #{0F} and #{FF}
== #{0F}
>> #{0F} or #{FF}
== #{FF}
```

9214

[16:52](#msg5985f7d9bc46472974577ff2)@greggirwin yes, and bitshifts

[16:53](#msg5985f7f84bcd78af5617ff82)

```
>> 23 << 42
== 23552
>> to binary! 23
== #{00000017}
>> to binary! 42
== #{0000002A}
>> #{00000017} << #{0000002A}
*** Script Error: << does not allow binary! for its data argument
*** Where: <<
*** Stack:
```

greggirwin

[16:53](#msg5985f7fa614889d4751faa0c)`Shift` is the only missing piece I think.

[16:58](#msg5985f933f5b3458e30b2d9da)If you only care about integer values, as binaries, it may be easiest to write a wrapper. Internally, `shift` uses the Red/System ops, which only work on integers. If you need to shift binaries as series, start with a mezzanine to prototype behavior.

[16:59](#msg5985f97e210ac269205823e5)I have some old `shift/rotate`mezzanines, which were meant for high level use, e.g. on blocks.

9214

[17:00](#msg5985f99d329651f46ef29ba9)`shift/rotate` on `series!` sounds interesting! :P

greggirwin

[17:01](#msg5985f9f1bc464729745786c1)I don't remember the exact state I left this in, when porting to Red.

```
rotate: function [
	"Rotate values in a series."
	series [series!]
	/left   "Rotate left (default)"
	/right  "Rotate right"
	/part
		count [number!] "Rotate this many positions"
][
	if empty? series [return series]
	; modulo the count against the series size
	count: any [all [count  count // length? series] 1]
	;if zero? count [return series]	; MOVE handles a zero /part correctly
	head either right [
		move/part (skip tail series negate count) series count
	][
		move/part series tail series count
	]
]
```

```
blk: [1 2 3 4 5 6 7 8 9 10]
	rot: func [cmd] [prin [mold blk mold cmd "== "]  do cmd  print mold blk]
	rot [rotate blk]
	rot [rotate/left blk]
	rot [rotate/right blk]
	rot [rotate/right blk]
	rot [rotate/part blk 3]
	rot [rotate/right/part blk 3]
```

munael

[17:05](#msg5985faca45fc670746f9c3fe):point\_up: \[August 5, 2017 6:37 PM](https://gitter.im/red/red?at=5985f463f5b3458e30b2cad8) \*As a replacement. There's a card about it somewhere on Trello.

9214

[17:06](#msg5985fb2e210ac26920582cde)what's the difference though?

```
>> 2Ah
== 42
```

greggirwin

[17:07](#msg5985fb5d614889d4751fb53c)Consider the following experimental.playgroud stuff:

```
default: func [
	"Set a value for the word if the word is not set or is none."
	'word
	value
][
	if not all [value? :word  not none? get word] [
		set word :value
	]
	;TBD: get-word args support not in place yet.
	;if not set? :word [set word :value]
	get word
]

dup: dupe: dupl: func [
	"Returns a new block with 'value duplicated 'count times."
	value "Series values are deep copied, functions are evaluated and passed count index"
	count [integer!]
	/str "Return a string, rather than a block; /into overrides this"
	/into "Put results in 'out, instead of creating a new block/string"
		out [series!] "Target for results, when /into is used"
	/local i
][
	default out make either str [string!][block!] count
	if not positive? count [return out]
	out: case [
		series? :value [
			loop count [insert/only out copy/deep value]
		]
		any-function? :value [
			repeat i count [insert/only out value i]
		]
		'else [insert/dup out value count]
	]
	either into [out][head out]
]
e.g. [
	dupe #"-" 5
	dupe/str #"-" 5
	dupe/into #"-" 5 s: "abc"
	print s
	dupe/into #"-" 5 tail s: "abc"
	print s
	blk: dupe [] 5
	append blk/1 'x
	print mold blk		; show that sub blocks are copied
	blk: dupe func [i][dupe/str to char! #"@" + i i] 5
	print mold blk
]
shift: function [
	"Shift values in a series; length doesn't change."
	series [series!]
	/left   "Shift left (the default)"
	/right  "Shift right"
	/part
		count [number!] "Shift this many positions"  ; TBD series! support?
	/with
		fill "Fill vacated slots with this value"
	;/local pad
][
	make-blank-value: func [type] [
		any [
			attempt [make type 0]
			attempt [make type ""]
			attempt [make type []]
			attempt [make type none]
		]
	]
	range: any [range 1]
	if any [empty? series  0 = range] [return series]
	;TBD: Add positive? check for range or have negative
	;     range values shift in the reverse direction.
	pad: dupe any [fill  make-blank-value last series] range
	either right [
		head insert head clear skip tail series negate range pad
	][
		append remove/part series range pad
	]
]
e.g. [
    shift [a b c d e ]
    shift/right [a b c d e ]
]
```

[17:08](#msg5985fb8c45fc670746f9c599)@Enamex, what's the benefit?

munael

[17:24](#msg5985ff451c8697534a8f36e7)@greggirwin, The current syntax clashes with identifiers.

greggirwin

[17:25](#msg5985ff6e2723db8d5e79bd88)Can you provide an example?

munael

[17:26](#msg5985ffad4bcd78af561817f5)http://static.red-lang.org/red-system-specs.html#section-4.1.1

greggirwin

[17:27](#msg5986001945fc670746f9d5f8)So you mean it conflicts with pair values?

[17:28](#msg598600494bcd78af561819d3)What I mean is, what is the benefit of a `0h` prefix over the `h` suffix we already have?

munael

[17:38](#msg5986027af5b3458e30b2fc33)Current syntax:  
FFh == 255  
We can do:

```
>> a: aah: FFh
== 255
>> a
== 255
>> A
== 255
>> aah
== 255
>> AAh
== 170
>> AAH
== 255
```

dockimbel

[17:44](#msg598604121c8697534a8f45e9)@Enamex That's a known issue. There is a new proposed literal syntax (`0#FF`) in a ticket there: https://github.com/red/red/issues/1079#issuecomment-226980417

greggirwin

[17:58](#msg5986076045fc670746f9eccd)Yes, thanks @Enamex

munael

[18:29](#msg59860e70210ac269205867de)@greggirwin NP :D  
@dockimbel Am aware. Just suggesting an alternative syntax.  
You'd find it familiar from VLSI work. Can't think of a nice extension for arbitrary base though (and can't tell why it'd be needed; could just be made as a macro that takes a string?).  
For specifying unit Rust does \_that_ via suffixes. So something like:  
`0hDEADBEAF_u64` or `0hFFu8`.

GiuseppeChillemi

[19:03](#msg598616931c8697534a8f8890)Which help could give the money datatype manipulating company financial ?

[19:03](#msg59861697329651f46ef2fbd6)\*financial data

LazyR0t

[20:30](#msg59862ae91c8697534a8fc3a4)So, I've saved the following into test.r:

digit: charset "0123456789"  
view [  
style label: text bold right 40  
style err-msg: text font-color red hidden

group-box "Person" 2 [  
origin 20x20  
label "Name" name: field 150  
label "Age" age: field 40  
label "City" city: field 150  
err-msg "Age needs to be a number!" react later [  
face/visible?: not parse age/text \[any digit]  
]  
]  
button "Save" \[save %person.txt reduce \[name/text age/text city/text]]  
]

This works if I type/paste it into the REPL, but I get the following errors when I try red --cli test.r:  
\*\** Syntax Error: invalid value at "]]"  
\*\** Where: do  
\*\** Stack: load

Can someone help me out?

ne1uno

[20:37](#msg59862c8d329651f46ef33f0d)@LazyR0t&gt; need a header at the top of the file, Red \[needs 'view]

[20:38](#msg59862ccd1c8697534a8fc95b)@LazyR0t&gt; need a header at the top of the file, Red \[needs: 'view]

LazyR0t

[20:38](#msg59862cce76a757f8087a2a73)haha, that works. thanks!

## Sunday 6th August, 2017

kpeters58

[03:25](#msg59868c191c8697534a90a9ac)Is this expected/documented behavior?

[03:25](#msg59868c1b4bcd78af56199966)

```
Red [ 
      needs: 'view 
    ]

do %globals.red
do %about.red
do %lookups.red
do %settings.red
...
```

[03:28](#msg59868cf74bcd78af56199bc6)I just lost 2 hours of my life figuring this one out... Red refused to acknowledge a context I defined in %settings.red, no matter what I tried. Turns out there was an issue in %globals.red and apparently because of this none of the files below it were 'done' - I would have expected it to either fail completely or to continue 'doing' the other files...

greggirwin

[04:57](#msg5986a19c1c8697534a90d7bc):point\_up: \[August 5, 2017 1:03 PM](https://gitter.im/red/red?at=598616931c8697534a8f8890) @GiuseppeChillemi, do you mean what will help get it into Red sooner?

[04:58](#msg5986a1fc76a757f8087b4f2e):point\_up: \[August 5, 2017 2:38 PM](https://gitter.im/red/red?at=59862cce76a757f8087a2a73) @LazyR0t, and, as it has come up recently, `Red` for the header is case sensitive. One of the few places case matters.

[05:03](#msg5986a31145fc670746fb7c77)@kpeters58, can you provide a small example that reproduces the issue? No pun intended.

Syntonica

[05:55](#msg5986af424bcd78af5619e7f5)@x8x I've always liked the theory behind Max (and Pd et alia) but I've always found the implementations to be slow, clunky and ugly. With's Red's extensibility, throw on an Audio/Midi library and it could definitely take them on!

pekr

[07:35](#msg5986c6d8ee5c9a4c5f955e12)As we have discussed some roadmap telated topics yesterday, I would like to ask about the iOS support, which can't be found on the roadmap yet, if I am not misteken. Please note - I am not pushing for anything, just would like to know, how technically different and difficult it is to get one. Linux Arm Red apps kind of work under Android, woulf like to know, if in the same sense macOS app would work under iOS?

[07:38](#msg5986c7602723db8d5e7bbad7)Our company has over 50 iPads out there and we are being asked, if our inernal IT could take over some tools development in let's say 2 years horizont ....

PeterWAWood

[07:49](#msg5986c9f3c101bc4e3af1a8fe)@pekr One big difference between macOS and iOS is the processor. macOS being Intel and iOS being ARM. Apple no longer "supports" 32-bit apps on iOS. (I don't know if 32-bit apps will run if you can get them onto the device.)

[07:50](#msg5986ca47c101bc4e3af1a992)Another difference is that iOS has the CocoaTouch framework whereas macOS have the Cocoa framework.

pekr

[08:17](#msg5986d0b745fc670746fbf070)Thanks.

[08:21](#msg5986d19e1c8697534a914cd5)btw - not sure what to expect, when trying to set `date!/day` to -1? Maybe it should be avoided? Plus variant works imo, if the assumption is correct, that setting such value sets it to the day-of-month value. Well, if it overflows the recent month, it goes into the next one. But what about negative values?

```
>> today: now
== 6-Aug-2017/10:00:41+02:00
>> today/day: 1
== 1
>> today
== 1-Aug-2017/10:00:41+02:00
>> today/day: -1
== -1
>> today
== 30-Jul-2017/10:00:41+02:00
```

[08:22](#msg5986d1d7c101bc4e3af1bedf)In above case note, that setting the `day`to 1, does not increment the recent day, it just sets it to that value. But try with the `40` for e.g. - it overflows to September ....

[08:23](#msg5986d21d614889d47521e538)in the above case of setting it to `-1`, shouldn't be `31-Jul-2017/....` a more expected result?

PeterWAWood

[08:25](#msg5986d272a7b406262d620347)@pekr I think another difference between macOS and iOS is that macOS has the AppKit framework (which is used in the Red GUI backend) and iOS has UIKit.

[08:32](#msg5986d418ee5c9a4c5f95839d)@pekr Re: the date. The \[Date! reference](https://doc.red-lang.org/en/date.html#\_\_day) says that if you set the day to an invalid value the date is set to a "normalised" date.

[08:33](#msg5986d451ee5c9a4c5f9583f9)That said, Rebol gives the same answer:

```
>> d: now
== 6-Aug-2017/16:32:36+8:00
>> d/day: -1
== -1
>> d
== 30-Jul-2017/16:32:36+8:00
```

[08:38](#msg5986d56f76a757f8087bd907)Your question is "Should the normalised date for -1-AUG-2017 be 31-JUL-2017 not 30-JUL-2017" needs to be looked into.

[08:42](#msg5986d681ee5c9a4c5f9589b7)The reason is that Red treats day 0 as the last day of the previous month and day -1 as the second last day of the previous month:

```
>> d: 1-8-17
== 1-Aug-2017
>> d/day: 0
== 0
>> d
== 31-Jul-2017
>> d: 1-8-17
== 1-Aug-2017
>> d/day: -1
== -1
>> d
== 30-Jul-2017
```

pekr

[10:24](#msg5986ee691c8697534a91a2a5)Thanks for the explanation, now it at least makes sense to me ....

PeterWAWood

[11:39](#msg5986fff0a7b406262d62835a)@fvanzeveren Red now evaluates `0.0 / 0.0` to `1.#NAN`

```
>> 0.0 / 0.0 
== 1.#NaN
```

[11:41](#msg598700632723db8d5e7c5b06)Thanks to @dockimbel

Oldes

[13:27](#msg5987195045fc670746fcc312)@rebolek @x8x I've just pushed pull request to red/code repository with Red/System binding to Portaudio (low level crossplatform real time audio library). You may find it useful.

munael

[15:33](#msg598736e41c8697534a92784a)Heyo o/  
Anyone got a list of the blogposts related to new numbered version releases? It's surprisingly hard to search for something like that on Blogger...

kpeters58

[16:21](#msg598741f4210ac269205b97f1)@greggirwin Hmm, that's strange - upon making the smallest possible example, I find my assumptions to be incorrect - as it works just fine. In my real world application removing the offending line fixed the subsequently defined context - maybe I should have restarted the console more often to rule any existing objects out as culprits?

GiuseppeChillemi

[17:49](#msg598756c276a757f8087d6151)@greggirwin I apologize for my poor language skills. I mean: which advantage will give the MONEY! datatype over the FLOAT one ?

greggirwin

[18:03](#msg59875a0c45fc670746fd979b)Date math is a tricky thing, so we need good examples to help people understand the behavior. But I think there may be a bug here (6-aug being the current date here):

```
>> now/date - now/date
== -1
>> 6-aug-2017 - 6-aug-2017
== 0
>> 6-aug-2017 - now/date
== 0
>> now/date - 6-aug-2017
== -1
```

[18:04](#msg59875a3845fc670746fd9829)Thanks for checking @kpeters58.

[18:05](#msg59875a50614889d475238fa4)I tried a couple things, but couldn't make it happen here, which is why I asked.

[18:15](#msg59875cc445fc670746fda0f3)@GiuseppeChillemi, no need to apologize, \*ever\*. Same goes for everyone else. Your English beats my Italian every day. :^) If I ask for clarification, it could be a technical matter as much as anything, wanting to make sure I understand the problem so I don't give bad advice.

The answer is easy. `Float!` should \*never* be used for decimal values where accuracy is important, because it can't represent all decimal values. See: https://en.wikipedia.org/wiki/Floating-point\_arithmetic#Accuracy\_problems

This won't always be visible, but it's there:

```
>> 0.1 + 0.1 + 0.1 
== 0.3
>> 0.1 + 0.1 + 0.1 * 10000000000000000
== 3000000000000001.0
```

When working with money values, rounding errors can add up. I worked with a guy, many years ago, who developed empirical solutions for it, which was pretty amazing. It worked in our domain, but I don't think was generalizable. The solution is to use BCD or some other representation that can accurately handle decimal values. That's the plan for `money!` in Red, but could also be a general `decimal!` type that money is built on. The issue then is what `1.0` means as a literal, float or decimal. Floats are faster, because of hardware support.

There are other interesting approaches as well, but that should be enough for now.

faustinoaq

[20:10](#msg59877799a7b406262d640a23)Hi people, I'm new in Red. How to install Red on ArchLinux based distros? I tried with raw binaries but have had no success.

[20:11](#msg5987780cbc464729745bc8b6)Note for Linux on official page includes Debian and Fedora based distros but not for ArchLinux :sweat\_smile:

GiuseppeChillemi

[20:19](#msg598779c1c101bc4e3af3c834)So, actually I can't use RED for financial manipulation. Couldn't I ?

geekyi

[20:38](#msg59877e5b1c8697534a936f34)@Enamex basically, all on http://www.red-lang.org/ since it's still alpha, there isn't much significance in numbered releases. Technically it should be http://www.red-lang.org/search/label/release, but all blogposts count so.. Doc multitasks a lot, he could miss tagging some sometimes :D

Syntonica

[20:43](#msg59877f862723db8d5e7df89d)@PeterWAWood Re: iOS, the current iOS 10 will be the last iOS to run 32-bit apps. iOS 11 will be pure 64-bit. If you go to Settings &gt; General &gt; About &gt; Applications, it will show you which apps are on the chopping block.

geekyi

[20:44](#msg59877fa9329651f46ef6e7e2)@faustinoaq you'd need 32bit libs. Also, I'm pretty sure someone had an aur package

Syntonica

[20:51](#msg59878152210ac269205c6547)@GiuseppeChillemi Unless you are a millionaire, or you are working in the old lire, you can just use an integer type with an implicit decimal point. You will still need to watch rounding, as you would with any type. I thought that that was how the backend of the Money! type worked since floats are fraught with peril. I constantly have to check on their rounding behaviors in conversions from double-&gt;single and double-&gt;int (in C++).

faustinoaq

[21:04](#msg598784632723db8d5e7e0736)@geekyi Thanx, I found Red on https://aur.archlinux.org/packages/red/, Maybe somebody should add this link to documentation too :sweat\_smile:

[21:06](#msg598784e7a7b406262d6434bb)Is http://red.github.io/ a kind of official page?

rebolek

[21:22](#msg598788a72723db8d5e7e1517)@Syntonica `money!` in R3 is https://en.wikipedia.org/wiki/Binary-coded\_decimal

Syntonica

[21:29](#msg59878a1c329651f46ef708e3)@rebolek Oh, okay. I always thought BCD was inefficient, so never gravitated towards it. :)

kpeters58

[22:53](#msg59879df6bc464729745c3741)How do those of you who have a need for this type of code solved this issue in Red? Assume you need to display a list of strings in a drop-list, but you store database keys associated with those strings only. Do you keep these in a separate series (sorted the same way) in the 'extra ' facet? Or are there better solutions?

## Monday 7th August, 2017

greggirwin

[01:23](#msg5987c1092723db8d5e7ea901)@faustinoaq, http://red.github.io/ may be official. Someone inside Team Red should be able to say shortly. There are unofficial Red related projects as well, so we'll try to make sure that's clear.

faustinoaq

[01:53](#msg5987c813c101bc4e3af496da):+1:

qtxie

[04:01](#msg5987e62a210ac269205d789e)@faustinoaq It's official. It's for users cannot visit red-lang.org (host on blogger which is blocked in some countries).

dockimbel

[04:49](#msg5987f162210ac269205d94d8)@kpeters58 You can store keys in the `/data` facet along with the labels to display:

```
list: ["a" 123 "b" 456 "c" 789]
view [
    drop-list data list on-change [
        probe pick face/data 2 * face/selected
    ]
]
```

[05:07](#msg5987f58b329651f46ef82aef)@faustinoaq Link to ArchLinux's Red package added to Download page now.

mahengyang

[06:52](#msg59880e25614889d475258f0f)

```
test1: function [x] [
	m: 1
	print ["m is" m]
	m: m + 1
	if x < 3 [test1 x + 1]
	return m
]


test2: function [x] [
	m: "1"
	print ["m is" m]
	m: append m "2"
	if x < 3 [test2 x + 1]
	return m
]

test1 1

test2 1
```

result

```
m is 1
m is 1
m is 1
m is 1
m is 12
m is 122
```

[06:54](#msg59880e8ba7b406262d65ac49)in `test2` function, I have set `m: 1`,why the print is `122` after second recursion

PeterWAWood

[07:05](#msg5988114976a757f8087f85bd)@mahengyang `m: "1"` binds the word in the local context of the function to a string value whose initial content is "1". Assume that the "address" of the string is str-1234. 'm: 1' binds 'm' to str-1234.

`m: append m "2"` binds `m` to the value returned by `append` which is the value 'm' is bound to (i.e. str-1234) with "2" appended to it.

Next time, the function is called; 'm: "1"' still binds 'm' to str-1234 which now contains "12".

[07:07](#msg598811c51c8697534a950ed8)A \[better explanation](https://github.com/red/red/wiki/Why-do-I-have-to-copy-series-values%3F).

mahengyang

[07:07](#msg598811cdc101bc4e3af56a04)so a string is very different to interge, string is reference type

PeterWAWood

[07:15](#msg5988138a614889d47525a627)Yes, in the sense that 'string!' values store a reference to their content whereas 'integer!' values store the content . A `word!` never stores a value, only a reference to one.

munael

[13:00](#msg59886483210ac269205f4829)Are macros coming to Red/System?

maximvl

[13:14](#msg5988679f76a757f80880de4a)they already exist there

faustinoaq

[13:19](#msg598868de2723db8d5e80ed8d)@dockimbel Thank you!

geekyi

[14:02](#msg598872f1ee5c9a4c5f9ad876)@Enamex macros are actually designed for Red/System. It's not needed in normal Red

[14:21](#msg59887773ee5c9a4c5f9af041)@faustinoaq I'm curious, does the aur package build red source from a 64bit rebol2? It looks like from the \[PKGBUILD](https://aur.archlinux.org/cgit/aur.git/tree/PKGBUILD?h=red) it runs on both i686 and x64  
No reason for that not to work now that I think of it, just interesting how that is done

rcqls

[14:50](#msg59887e40329651f46efa49d4)@geekyi It almost surely depends on i386 rebol2 and maybe needs to install `lib32-libcurl-compat` (not tested, but it seems that `lib32-glibc`, `lib32-openssl` are installed as dependencies).

[14:56](#msg59887f8c614889d475276b39)My bad, I miss that `lib32-curl` is already a dependency of the `red` package.

faustinoaq

[16:08](#msg5988907776a757f808819d58)@geekyi I'm working in \[Crystal](https://crystal-lang.org/) bindings for libRed and 32 bits libraries are needed, also \[Crystal](https://crystal-lang.org/) 32 bit compiler itself.

munael

[17:40](#msg5988a628329651f46efb08e4)@geekyi It's saying something to the effect of "unrecognized issue" when I use `#macro` :hmm:

[17:44](#msg5988a70c45fc6707460222ca)@geekyi `Compilation Error: unknown directive macro`

henrikmk

[17:46](#msg5988a789c101bc4e3af7de33)Well, guys, I'm terrible at catching up, but, I'd just like to say that being able to download an executable and start building a GUI with it is exactly what I hoped for! I hope this keeps going. It's starting to feel like a true successor to R2. :-)

greggirwin

[18:32](#msg5988b23c45fc67074602519b)There is a lot to catch up on Henrik.

[18:37](#msg5988b352ee5c9a4c5f9c0463)Holler for what examples will help you most.

henrikmk

[18:52](#msg5988b6dbbc46472974604b49)@greggirwin I guess I'm really just getting the feel for what's working or not at the moment. Some things don't work quite as expected.

rebolek

[19:02](#msg5988b96345fc6707460271c6)@henrikmk Hi Henrik! Just post what you think does not work.

henrikmk

[19:07](#msg5988ba57614889d475286ff6)@rebolek ok, I tried the TEXT-LIST widget under macOS, but FACE/SELECTED seems to be one step behind in what it returns

rebolek

[19:14](#msg5988bc0b4bcd78af5620cefe)@henrikmk I am not on macOS now, so can't confirm it, but you should add things like this to issue tracker at Github: https://github.com/red/red/issues

henrikmk

[19:17](#msg5988bcda614889d475287d5f)thanks

greggirwin

[19:41](#msg5988c27c76a757f808827323)@henrikmk https://doc.red-lang.org/en/view.html#\_text\_list notes the behavior clearly.

[19:41](#msg5988c287329651f46efb7df0)That tripped me up at first too.

henrikmk

[19:45](#msg5988c3641c8697534a9810ed)is that borrowed from JS or something? because that doesn't make sense to me, not even that you would need to use two different events to get the old and new selection.

greggirwin

[19:52](#msg5988c4e4c101bc4e3af85b40)I can't answer that design question. It may be due to native constraints.

henrikmk

[19:53](#msg5988c5302723db8d5e8280a8)there's no way to pass both the old and new selections to a sub-function.

greggirwin

[19:53](#msg5988c532210ac2692060f9eb)If you only get one event, though, how would you support the feature of accessing the prior selection?

henrikmk

[19:53](#msg5988c54145fc67074602a8d4)simply store OLD-SELECTION as well

greggirwin

[19:59](#msg5988c6ba329651f46efb9195)Which is what you would do here, correct? Store old sel on `select`.

henrikmk

[20:00](#msg5988c6e845fc67074602af63)I should not need to do that manually.

greggirwin

[20:01](#msg5988c709bc464729746090ee)Pose it, and offer a suggested improvement in https://gitter.im/red/red/gui-branch.

PeterWAWood

[23:14](#msg5988f472ee5c9a4c5f9cfbc0)@Enamex Macros in Red/System are like C macros, they are not executed by the compiler but simply "in-line" the code.

geekyi

[23:27](#msg5988f7472723db8d5e83422e)@PeterWAWood Are Macros supposed to execute in Red/System? Any special commandline arguments?

[23:38](#msg5988f9df210ac2692061c1e5)So the `#macro` directive is only supported in the \[Red preprocessor](https://doc.red-lang.org/en/preprocessor.html#\_macros), not in the \[Red/System preprocessor](http://static.red-lang.org/red-system-specs-light.html#section-16), both of which happens at compile time (but in the Red case, is also there in the interpreter for compatibility?)

PeterWAWood

[23:38](#msg5988f9e6bc46472974614d71)The Red/System compiler uses `#define` for macros. Here is an example:

```
#define I64-copy(a b) [
	b/least-sig: a/least-sig
	b/most-sig: a/most-sig
]
```

[23:55](#msg5988fdf5329651f46efc54e9)\[Red/System macros](http://static.red-lang.org/red-system-specs.html#section-16)

## Tuesday 8th August, 2017

dockimbel

[03:40](#msg59893298210ac269206264d6)@henrikmk  
&gt; there's no way to pass both the old and new selections to a sub-function.

In `select` event:  
\* Old: `face/selected`  
\* New: `event/picked`

[03:41](#msg598932f52723db8d5e83fb71)`event/picked` is described in `event!` section. Though, in a User Manual, we should put all those information together for easier reading.

greggirwin

[06:51](#msg59895f8b614889d4752a9502)In my rush earlier, I forgot it was in event. Tried `face/picked`. Sorry Henrik!

henrikmk

[07:48](#msg59896cb8210ac269206319cb)@dockimbel That still doesn't provide the necessary information where it's needed, in the ON-CHANGE actor. So either ON-CHANGE is worthless or it can only be used in specific circumstances, which the application author must be aware of.

If I were you, I'd get rid of the ON-CHANGE actor, because it doesn't easily describe what change has happened to the widget and who did it. Go with ON-SELECT which is specific enough, along with providing OLD-SELECTION and SELECTION words for the application author to work with.

The GUI needs to be luxurious about what it provides to application authors, because this is where the nitty gritty of debugging happens, and it might as well be provided and debugged by the GUI once, so each application author doesn't have to write and debug their own code for it.

pekr

[07:50](#msg59896d3f210ac26920631c39)@henrikmk as for the eventual `set-face`and `get-face`- did they allow (in R3-GUI) both setting/getting the default facet, and also the refinement, where you could select the parameter you want to set/get?

dockimbel

[07:51](#msg59896d7b614889d4752ac8f7)@henrikmk `select` event happens just before a change is applied to the list, `change` event happens just after. Both are desirable.

henrikmk

[07:52](#msg59896db62723db8d5e84be7e)@dockimbel but it requires the user to write more code for the same event which is selection. I think you're calling it desirable, because it comes from somewhere else. :-) It's not good code.

dockimbel

[07:53](#msg59896e11ee5c9a4c5f9e6e43)@henrikmk  
&gt; Go with ON-SELECT which is specific enough, along with providing OLD-SELECTION and SELECTION words for the application author to work with.

I don't see the point, we \*already* expose those information to the user.

henrikmk

[07:55](#msg59896e7fc101bc4e3afa7cd6)@dockimbel the information is not exposed where it's needed, in ON-CHANGE. besides, it's not intuitive to expose such related information in such two different ways as FACE/SELECTION and EVENT/PICKED.

If I want to send that information to a function called in the actor, I have to provide more arguments, than just sending FACE.

dockimbel

[08:00](#msg59896fa92723db8d5e84c618)@henrikmk Yes, you need to pass `face` and `event` in such case (or just `event/picked`). I still fail to see why that would be a problem.

henrikmk

[08:01](#msg59896fc6329651f46efdb5f1)I need to write more code. That's the problem.

dockimbel

[08:01](#msg59896fe145fc67074604d406)Passing two arguments instead of one is a problem for you?

henrikmk

[08:01](#msg59896ff576a757f80884a4d1)and I need to keep in mind that these differences exist, because in RebGUI, PICKED and SELECTION are very different things.

dockimbel

[08:02](#msg5989702f614889d4752ad143)Ok, so your real issue is that you want Red/View to be exactly like RebGUI?

henrikmk

[08:03](#msg5989703c2723db8d5e84c8a0)not at all

uralbash

[08:08](#msg59897199614889d4752ad6b4)Does red depend on rebol? (https://aur.archlinux.org/cgit/aur.git/tree/PKGBUILD?h=red#n11) or it's just for test?

henrikmk

[08:11](#msg59897230ee5c9a4c5f9e7e93)@dockimbel Please have a more macroscopic view of it. It's not a matter of 1-2 lines of extra code for that one widget, but a program with maybe 500 widgets, which I work with on a daily basis. That leads to a substantial amount of extra code to debug, and it gets really tiresome, when you've done it 200 times.

It gets a lot worse, when your widget is more complex. What is the content in EVENT/PICKED for a multi-select table or a field or a drop-list? Does EVENT/PICKED even work in all those cases? Would it then not make sense to map it to something more meaningful in all cases, so the application author doesn't have to remember this?

This is why I say: Really accommodate the application author and provide all the necessaries in easy to remember facets. Having the same information in two places is less important than trying to be sparse, and I think this is a lesson that REBOL GUI systems haven't learned.

Oldes

[10:43](#msg598995da329651f46efe5106)@uralbash current Red compiler is written in Rebol... Red or Red/System compiled scripts doesn't depend on it.

[10:44](#msg59899604a7b406262d6b7dd1)The plan is to write Red compiler in Red in a future.

[10:46](#msg59899676329651f46efe527b)Hi @henrikmk ! Maybe you should propose a solution which you would found more friendly than current state.

uralbash

[10:47](#msg598996b776a757f808853c37)@Oldes thanks

dockimbel

[10:52](#msg598997ff329651f46efe5807)@henrikmk You seems to have a very specific model in the back of your head, with which you compare Red/View and rant on the differences. I cannot make sense of your questions about `event/picked`, nor why you have troubles with information provided by `event` values. Getting back to more objective points would be helpful, otherwise I don't see this discussion going anywhere.

henrikmk

[11:06](#msg59899b2a614889d4752b8099)@dockimbel Yes I have a very specific model in my head and it has developed over about 15 years of working with REBOL GUIs.

The model picked, requires the application author to have intimate knowledge of individual widgets to know how to use them, and this will get worse, the more widgets are written for the UI.

You need to consider scale. Large programs with many widgets. Writing many different throw-away programs. Reducing the need for debugging and the need to write support code to make the UI system work correctly.

This requires that widgets at least have a sensible set of facets that are straightforward and uniform to work with. What these facets are, is something you find out over time, as you write applications with the widgets. Common facets can be selection, old selection, highlighting, face state, preferably stored in an object inside the face.

Later on, build accessor functions for providing a uniform interface for obtaining a selection from tables, fields, etc. This is also useful for traversing forms of very different faces with very simple loops.

Sure, internally, use EVENT/PICKED as you like, but provide the nicely formatted information, so the application author isn't burdened with it.

[13:03](#msg5989b6a6a7b406262d6c0833)@pekr I think @rebolek may know the answer to your set-face/get-face question.

fvanzeveren

[13:14](#msg5989b91cee5c9a4c5f9fa998) Hi all, for those using EditPadPro, I have uploaded a syntax coloring file definition for Red, including VID dialect here: https://www.editpadpro.com/cgi-bin/cscslist4.pl?focus=282 . I invite you to discover this extremely powerfilprogramming text editor. Regards

[13:14](#msg5989b938329651f46efee237)typo: powerful programming editor

geekyi

[13:25](#msg5989bbd1329651f46efef04c)@fvanzeveren you can add details under https://github.com/red/red/wiki/Editor-Integrations#external :)

fvanzeveren

[13:29](#msg5989bcbec101bc4e3afbb34b)@geekyi Done, thank you for the link

luce80

[15:44](#msg5989dc67ee5c9a4c5fa04c16)@henrikmk :point\_up: \[7 agosto 2017 06:49](https://gitter.im/red/red?at=5987f162210ac269205d94d8) replace drop-list with text-list and it works \*almost* as you aspected, does it?

greggirwin

[17:44](#msg5989f88576a757f80886f727)@henrikmk, if you can note desired behaviors as you come across things, with rationale and uses cases, that would be great. Examples really help with explanations sometimes. Things will get lost in chat, though this is a good place to pose ideas. I can start a wiki page if you want, or you can.

In some cases things should be built in, in others, styling can be used. Where you want \*some* standard behavior, it gets trickier.

fvanzeveren

[19:49](#msg598a15e34bcd78af5625f64a)Hello, I guess this has been already asked many times... but I am learning Red/BID, and I struggle with the para facet...  
''' check "Bouton à cocher avec label à gauche" para \[align: 'left] data false  
check "Bouton à cocher avec label à droite" para \[align: 'right] data true'''

greggirwin

[19:50](#msg598a1616a7b406262d6db558)@fvanzeveren, use triple \*back\*ticks for code. Helps a lot. Chtrl+Shift+M for markup help.

fvanzeveren

[19:50](#msg598a1618210ac2692065f0d2)In both case the label is on the right... and I would like the first on then left... What am I doing wrong?

greggirwin

[19:51](#msg598a1634ee5c9a4c5fa14572)And if you include the `view` call in your examples, we can all just cut and paste to test.

fvanzeveren

[19:52](#msg598a167c4bcd78af5625f988)i try again...

```
main: layout [
	below
	base 200x100 {Face de type 'base.} 123.100.3	
	text "Un simple libellé, de type 'text" 200.190.165
	button {C'est un bon "bouton" :)} 100.100.1 [print "C'est un bon bouton!"]
	check "Bouton à cocher avec label à gauche" para [align: 'left] data false
	check "Bouton à cocher avec label à droite" para [align: 'right] data true
]

view main
```

greggirwin

[19:52](#msg598a16902723db8d5e8794b6)In this case, it's easy. You can't do that.

```
view [check red 100  check blue right 100]
```

Easy to see this way. The native control is the limitation here.

[19:53](#msg598a16be329651f46e0088c9)Sorry, I wasn't clear. Triple backticks \*on their own line first* and also on their own line at the end. You can edit old messages though. Click the ...

fvanzeveren

[19:54](#msg598a16ff76a757f8088780b0)

```
main: layout [
	below
	base 200x100 {Face de type 'base.} 123.100.3	
	text "Un simple libellé, de type 'text" 200.190.165
	button {C'est un bon "bouton" :)} 100.100.1 [print "C'est un bon bouton!"]
	check "Bouton à cocher avec label à gauche" para [align: 'left] data false
	check "Bouton à cocher avec label à droite" para [align: 'right] data true
]

view main
```

[19:55](#msg598a1748329651f46e008c8a)ok, it is better. So, it is not possible, while it is explain in the documentaion here: https://doc.red-lang.org/en/view.html#\_check

greggirwin

[19:56](#msg598a176f76a757f80887822a)What you have to do, to get what you want, is use a separate `text` face and `check` with no text, aligning them to look like a single face. Or, roughly, in a `panel`: `view [panel yellow [across text 40 "Help" check 20]]`

fvanzeveren

[19:57](#msg598a179545fc67074607a1dc)Like in Rebol VID actually :)

greggirwin

[19:58](#msg598a17fc76a757f8088784b9)I hadn't looked at the docs in a while. That should be clarified. It doesn't say if it means left of the checkbox or the face itself.

fvanzeveren

[19:59](#msg598a1839ee5c9a4c5fa14ea5)Actually, the doc is lacking simple example within the text...

greggirwin

[20:00](#msg598a1854c101bc4e3afd4692)Yes. You could submit a ticket for that, which will help ensure we get it done.

fvanzeveren

[20:08](#msg598a1a53a7b406262d6dc646)@greggirwin So far, using `panel`, I am unable to get a decent result: the text and the checkbox are not prioperly aligned vertically...

[20:30](#msg598a1f53ee5c9a4c5fa16aff)Hi, is there a reason why the facet 'v-align does not work with a face 'text while it works with a face 'base?

```
main: layout [
	below
	base 300x100 {Face de type 'base.} 123.100.3 para [align: 'right v-align: 'bottom]
	text 300x100 "Un simple libellé, de type 'text" 200.190.165 para [align: 'right v-align: 'bottom]
]

view main
```

Thank you.

qtxie

[23:23](#msg598a47e24bcd78af5626ba7d)@fvanzeveren For now, only base face has fully support for alignment. The other controls are limited by what OS provided.

## Wednesday 9th August, 2017

dockimbel

[03:56](#msg598a87d81c8697534a9ea4e9)@fvanzeveren We haven't implemented support for check/radio text positioning yet. In the meantime, you can use a check + label to workaround it.

[03:59](#msg598a88ae1c8697534a9ea864)@fvanzeveren The current documentation on doc.red-lang.org is a reference documentation, the User Manual is not yet there.

greggirwin

[05:25](#msg598a9cd24bcd78af5627cf28)I wouldn't want to do this, as it's a hack, but you can `pad` your way around:

```
view [panel yellow [origin 0x0 space 0x0 across text 40 "Help" pad 0x-3 check 20]]
```

fvanzeveren

[10:08](#msg598adf18210ac2692068c246)@dockimbel @greggirwin  
Thank you for these clarifications... I think I will stick to the default behaviour until it is fully implemented ;)

GiuseppeChillemi

[16:32](#msg598b3925bc4647297469ff5d)@Syntonica  
&gt; @GiuseppeChillemi Unless you are a millionaire, or you are working in the old lire, you can just use an integer type with an implicit decimal point. You will still need to watch rounding, as you would with any type. I thought that that was how the backend of the Money! type worked since floats are fraught with peril. I constantly have to check on their rounding behaviors in conversions from double-&gt;single and double-&gt;int (in C++).

In need to work on seven to eight digits with 2 decimals at the right of the point, totally: 10 digits

## Thursday 10th August, 2017

fvanzeveren

[12:25](#msg598c50c0c101bc4e3a05b99a)Hi,  
is there a Red Mysql driver like the Rebol MySQL driver developped back on 2008 by Softinnov? If not what could I use if I want to store large amount of data?  
Thank you.

pekr

[12:53](#msg598c5738614889d475363195)Hi - no mySQL driver yet. There is some old binding towards the SQLite, or you might try with the command line tools, wrapping it via the Red's `call`faicility, parsing results using the `parse`Not sure, if mySQL has one though, but should be workable with SQLite.

[12:54](#msg598c578b2723db8d5e8febbd)https://dev.mysql.com/doc/refman/5.7/en/mysql.html

Oldes

[15:28](#msg598c7b9f76a757f80890e88a)I would not consider my SQLite binding which is in the red/code repository to be old.

rebolek

[15:30](#msg598c7c11329651f46e09ac91)@Oldes I believe that @pekr was talking about Kaj's SQL binding, which predates yours.

Oldes

[15:30](#msg598c7c2d614889d47536e381)https://github.com/red/code/tree/master/Library/SQLite

[15:31](#msg598c7c65c101bc4e3a06907c)It could be enhanced as everything.

pekr

[15:33](#msg598c7cd5c101bc4e3a0691a9)@oldes - sorry, I though it is Kaj's binding ....

greggirwin

[17:02](#msg598c918ec101bc4e3a06ea2b)@fvanzeveren, remember that Red is still Alpha. We'll get a basic GC soon, so some data processing may be limited for a while. How much data are you talking about?

RnBrgn

[17:17](#msg598c9527210ac269206fa381)@fvanzeveren I had seen a a post about the Munge lib that I thought worked with Rebol3 and Red. Not sure how up to date it is. It has SQLite bindings. http://www.dobeash.com/files/munge3.html#h1\_munge  
http://www.dobeash.com/munge.html

[17:41](#msg598c9ae1614889d475377611) &gt; Munge 3.0.2 - http://dobeash.com/files/munge3.r

Minor changes:  
\- Simplified code now that Red 0.6.3 supports date! and delete  
\- All test cases (200) now work with both R3 and Red 0.6.3  
\- Basic documentation available at http://www.dobeash.com/files/munge3.html

radebrecht

[19:38](#msg598cb626ee5c9a4c5fabac44)In a function definition how do I refer to the function itself? We've got `self`in blocks, that doesn't seem to work though.

greggirwin

[19:55](#msg598cba1b80d90ca024e8ed08)You can't\*. What are you trying to accomplish?

\*Technically, you can do a lot of things that aren't good ideas. :^) Usually there's a better way.

meijeru

[21:20](#msg598cce314bcd78af5630c4b4)But... if you give the function a name, you can use that of course.

[21:21](#msg598cce59210ac26920708283)BTW `self` is for objects, isn't it?

greggirwin

[21:28](#msg598cd008614889d4753857b3)Yes, blocks don't have `self`.

JeannotCoginov

[21:51](#msg598cd576614889d475386e3f)With R2, in order to get a list of files in a block from a directory, we were doing "load %.". How can I get the same functionality with Red 0.6.3 ?

meijeru

[22:05](#msg598cd8a04bcd78af5630f1c1)In R2, what also worked was `read %.` and this also works in Red.

JeannotCoginov

[22:07](#msg598cd914c101bc4e3a081ad3)Oh ! Thank you for the reminder.

## Friday 11st August, 2017

greggirwin

[05:17](#msg598d3ddf2723db8d5e9361e3)@JeannotCoginov, aslo, Red only has simple I/O right now. Full I/O will come in 0.7.0.

radebrecht

[07:45](#msg598d60ac329651f46e0ce507)&gt; BTW `self` is for objects, isn't it?

[07:46](#msg598d60c876a757f808942326)Ah right. I had that confused.

[07:57](#msg598d636b76a757f808942f39)Alright, here's a (silly) example:

```
f: function [arg blk] [ bind blk :f view blk ]
b: [ text arg ]
f "hello world" b
```

It seems problematic that the function now \*has* to have the name `f`and I was looking for a solution that works whichever name the function had.  
&gt; you can do a lot of things that aren't good ideas

That's probably it. I'm magically drawn to those.

honix

[08:08](#msg598d660d80d90ca024eb39b9)@radebrecht you can reference any argument ('arg or even 'blk) of current context to bind 'blk

[08:09](#msg598d665780d90ca024eb3a73)\[Reference for 'bind](http://www.rebol.com/docs/words/wbind.html)

[08:22](#msg598d6935614889d4753a49ab)Wow, there is pretty cool list of basic words for Rebol (and Red): http://www.rebol.com/docs/reference.html

toomasv

[12:34](#msg598da46c162adb6d2ee7317a)Why do `make date!` and `make time!` behave differently in following:

```
to-object: func [val /local names spec i v][
   case [
      map! = type? val [make object! body-of val] 
      block! = type? val [make object! val]
      find [date! time!] v: type?/word val [
         names: system/catalog/accessors/:v
         spec: clear []
         foreach i names [append spec reduce [to-set-word i val/:i]]
         make object! spec
      ]
   ]
]
>> date: to-object now
== make object! [
    date: 11-Aug-2017
    year...
>> time: to-object now/time
== make object! [
    hour: 15
    minute: 22
  ...
>> make date! bind [year month day] date
== 11-Aug-2017
>> make time! bind [hour minute second] time
*** Script Error: cannot MAKE/TO time! from: [hour minute second]
*** Where: make
*** Stack:  

>> make time! reduce bind [hour minute second] time
== 15:22:40
```

radebrecht

[14:59](#msg598dc64dee5c9a4c5faf8839)@honix A thousand thanks for that hint. I didn't understand `bind`well enough. Looking forward to a complete Red documentation one blessed day.

greggirwin

[17:33](#msg598dea8680d90ca024ed5c80)&gt; That's probably it. I'm magically drawn to those.

:^)

@radebrecht, @honix beat me to it. Of course, it doesn't work for your example if the func takes no args, right? Your example was good, but if what you want to do is compose layouts given a combination of fixed and replaceable parts, `compose` is your friend. `Bind` is a very powerful tool, but not needed in most code. Fun to play with though.

[17:38](#msg598deb86bc46472974747fb4)`Compose` doesn't rebind, though, so not a drop-in replacement here.

[17:39](#msg598debcf1c8697534aac162b)@honix, RedByExample.org is working toward a similar reference.

[17:46](#msg598ded8fa7b406262d7cb434)@toomasv, `date!` has extra handling in it to evaluate words. `Time!` does not.

[17:47](#msg598dedbe76a757f80896729b)Support for that could be added, of course. `Time!` was done much earlier.

toomasv

[17:51](#msg598dee8a76a757f8089676a3)@greggirwin I see. `make date!` has a kind of implicit `reduce`. It would be nice if they would behave in same way.

greggirwin

[18:15](#msg598df44880d90ca024ed86a9)I didn't find a wish ticket, so you could open one for that. I know there was some chat about it, but don't think that behavior was ruled out for any reason. Just not patched into `time!` yet.

[18:16](#msg598df487c101bc4e3a0c217d)And it's not a full `reduce`, just evaluates words. e.g. parens aren't evaluated.

[18:17](#msg598df4cf4bcd78af563516d1)https://github.com/red/red/blob/master/runtime/datatypes/date.reds#L537

toomasv

[18:24](#msg598df66f210ac2692074d4e6)@greggirwin Thanks!

meijeru

[18:33](#msg598df8921c8697534aac47f9)+1 for consistency!!

tanstaaf1

[19:26](#msg598e04d61c8697534aac7998)@honix That has long been my favorite reference, because of its concise &amp; practical organization. There is something similar to R3 but it wasn't so well executed, imo. It would be nicer, yet (but maybe not worth the code?) to have something organized like that actually IN Red (or, at least, as a library) to guide newbies. With code completion, including refinements, it would be like what you see in Excel formulas.

greggirwin

[21:23](#msg598e205676a757f8089733ff)We can certainly do code completion. Some examples already exist. What's missing, which was used by the R2 word browser, and to generate the old docs like that, is tagging to categorize functions.

[21:24](#msg598e2087614889d4753d3b9f)Then you need a place to put user defined examples and extended commentary.

## Saturday 12nd August, 2017

ldci

[09:00](#msg598ec3c8614889d4753eee5b)Due to Jocko's brilliant work ( https://github.com/jocko-jc/red-tts) Red can talk now !

toomasv

[10:35](#msg598ed9d44bcd78af5637bd1c)Very cool! `say "Due to Jockos brilliant work Red can talk now"`

munael

[16:48](#msg598f315276a757f8089a567e)In one of the rooms we were talking about append, insert, repend, etc.  
On the subject of naming I'd just like to voice my agreement with the later development of Rebol on doing away with things like `prin` and replacing them with refinements. `print/only` looks and reads a lot better.

greggirwin

[19:28](#msg598f56c7210ac26920790870)@ldci , cool! Kudos to Jocko. It tries really hard to work under Win7 here.

[19:28](#msg598f56d44bcd78af56395d29)@Enamex, naming is always the hardest thing.

jocko-jc

[20:42](#msg598f681f162adb6d2eed001a)@greggirwin : the call function under windows uses Powershell, which allows in-line commads to the Sapi engine. PowerShell is not available on win7. It is more complicated to use the Sapi api (through a dedicated dll for instance)

virtualAlan

[23:48](#msg598f93b5bc4647297479b09d)I think this works fine in win 7, win 8, win 10 with powershell or cmd prompt http://www.mycode4fun.co.uk/red-apps - not dedicated dll, but it works.

## Sunday 13th August, 2017

PeterWAWood

[00:40](#msg598f9ff0bc4647297479ce6c)@jocko-jc Powershell is installed on my version of Win7:

[00:41](#msg598fa048614889d47541a4b9)\[!\[Screen Shot 2017-08-13 at 08.39.05.png](https://files.gitter.im/red/red/q4SW/thumb/Screen-Shot-2017-08-13-at-08.39.05.png)](https://files.gitter.im/red/red/q4SW/Screen-Shot-2017-08-13-at-08.39.05.png)

[00:43](#msg598fa0cb210ac2692079dbe8)(I can't remember installing it myself as I used to have to on Windows/XP).

[00:56](#msg598fa3b6ee5c9a4c5fb594c0)There seems to be some small problem on startup and there is quite a delay. Perhaps this has something to do with it:

```
PS E:\Red\red> Add-Type -AssemblyName System.speech
PS E:\Red\red> $speak = New-Object System.Speech.Synthesis.SpeechSynthesizer
PS E:\Red\red> $speak.GetInstalledVoices().VoiceInfo.Name
PS E:\Red\red>
```

greggirwin

[02:52](#msg598fbf07ee5c9a4c5fb5d3fd)@jocko-jc Powershell is on my Win7 system. It does say partial things, at different volumes, but incompletely. Calling `say` from the console works great with small text examples.

ne1uno

[03:31](#msg598fc8191c8697534ab1b7bc)@jocko-jc everything except get-voices worked on win7, it seems to just use default voice for everything. maybe the unicode wasn't pronounced right in the say at the end of the .red file?

jocko-jc

[05:48](#msg598fe840c101bc4e3a11dc9c)thank you for your feedbacks. Unfortunately, I do not have win7 here to test. Be free to experiment and improve yourselves ! ;-)

ne1uno

[05:55](#msg598fe9da162adb6d2eee4712)cscript with ActiveXObject("Sapi.SpVoice") might be another way to get at the list of voices and default sound devices. thanks for the code!

honix

[21:20](#msg5990c2a4a7b406262d85789f)why there is no 'let function in vanilla Red? a powerfull function from lisp world. btw it is \[easy to implement](https://gist.github.com/honix/2c72e78bdc4b2d6511283d0436688744)

meijeru

[21:38](#msg5990c6e0a7b406262d85852f)You have perhaps answered your own question: if you can implement it that easily, why should Red provide it as built-in?

honix

[22:12](#msg5990ceb9a7b406262d859c14)@meijeru its not about how easy to implement, but how useful it can be in some cases. lisp programs uses 'let a lot and it makes code clearer.

greggirwin

[22:41](#msg5990d58fa7b406262d85b25d)@honix, the closest function in Rebol is called `use`, which we don't have in Red yet. Not because we've ruled it out, but because it hasn't been important enough to spend time on. @maximvl has a couple gists, showing how to do some CL style things in Red, and this has come up in the past, along with `closure` and HOFs in general. They are planned, but not in place yet. @dockimbel even worked up a simple example that didn't require a temporary context.

For those of us who are impatient, myself included, the design process can seem drawn out. Ultimately, though, it's very rewarding when we take the time to consider all the details. So, it's not just about what has proven useful in other languages, but in making their utility available in the context of Red, and maintaining its conceptual integrity as best we can. In the meantime, one of the best things we can do is work up mezzanine versions to use as a foundation for concrete discussion, along with examples.

[22:44](#msg5990d65880d90ca024f65563)A couple things to note in your `let` implementation (and I know it was done quickly):

\- Don't forget to `copy` your `binds` series, or it will be modified as you append to it.  
\- Even without error handling, you should use `set/any` rather than `result:`, so unset results don't cause an error. Once you do that, it will escape the anonymous context you're using.

[22:58](#msg5990d98376a757f8089f69a4)Oh, we also don't have `gensym`, so `result` could collide with a word in the `let` vars spec.

## Monday 14th August, 2017

DavidFeng

[01:55](#msg5991031e80d90ca024f6cf7f)will Red/System add support for union in C?

[02:11](#msg599106bd4bcd78af563e67b8)https://github.com/red/red/wiki/Red-System-v2-Wish-List it already in wish list

greggirwin

[02:28](#msg59910ad11c8697534ab5a64f)Thanks for asking \*and* finding the answer!

dockimbel

[05:13](#msg59913181614889d4754657b4)@honix In Redbol world, we have the `use` function for that need, it's on our todo-list in Red, not sure when we'll implement it (trivial for the interpreter, more work for supporting it the compiler). Most probably, that feature will come in the "functional" pack of features I would like to bring together in a future release (probably post-0.7.0), including built-in HOF support and compiler improvements for functions in functions.

[05:51](#msg59913a7d2723db8d5e9fd162)Anyone fluent in TCL willing to answer this question on Quora? https://www.quora.com/unanswered/What-are-the-differences-between-the-Rebol-family-of-programming-languages-and-TCL

ggenikus

[06:14](#msg59913fe3162adb6d2ef2723a)Hello everyone! I am learning Red, trying to figure out how can I resize loaded image. I understand that I can pass image size during view construction, something like `view [image 10x10 i]`, but I want to change image size dynamically...

dockimbel

[06:23](#msg599141c54bcd78af563f0a1f)@toomasv  
&gt; Why do make date! and make time! behave differently

I am relaxing the usage of `word!` values in `make` spec blocks (they get evaluated), to avoid systematic extra reduction. I have started with dates, and will propagate that change to other types.

rebolek

[06:26](#msg599142a480d90ca024f77f30) @ggenikus you can do for example:

```
view [
    i: image https://upload.wikimedia.org/wikipedia/en/e/e9/Red_Language_Tower_Logo.png 200x200 
    slider 100% [size: 200 * face/data i/size: as-pair size size]
]
```

ggenikus

[06:32](#msg599144042723db8d5e9fee57)@rebolek awesome! Thanks you!, so i: has`image!`type, and `i/size` is a function of that type, right ?

rebolek

[06:33](#msg5991443a80d90ca024f7847e)@ggenikus not a function, it is just a value that you set.

dockimbel

[06:37](#msg5991452980d90ca024f78759)@ggenikus It's a path accessor for the `image!` value. You can have a look at Rebol's \[image! description](http://www.rebol.com/docs/image.html#section-9). Red `image!` accessors are listed there:

```
>> system/catalog/accessors/image!
== [size argb rgb alpha]
```

ggenikus

[06:42](#msg5991464dbc464729747ecd7b)Thanks! One more question ) but why when I try this:

```
>> i: load https://upload.wikimedia.org/wikipedia/en/e/e9/Red_Language_Tower_Logo.png
== make image! [200x200 #{
    000000000000000000000000000000000000000000000000000000000000
    000000000000000000000000000000000000000000000000000000
>> i/size: 100x100
== 200x200
>> i/size
== 200x200
```

`i/size` is 200x200 not 100x100 ?

greggirwin

[06:44](#msg599146d0614889d475469da5)There's a difference between the `image` face style in VID, and the `image!` datatype. For the latter, you can't just set the size.

dockimbel

[06:44](#msg599146d2162adb6d2ef28740)@ggenikus Sorry, my answer was for the `image!` type, while `i: image` in VID refers to face object of type `image`. The `/size` refinement of an `image!` is read-only. The `face/size` property is read/write.

ggenikus

[06:47](#msg59914790ee5c9a4c5fba8eef)thanks!

greggirwin

[06:56](#msg599149841c8697534ab66ab6)@ggenikus, Red gives you some other options, though. You can load an image, and then create another image from it, using `draw`.

[06:57](#msg599149bda7b406262d86f76c)

```
>> i: load https://upload.wikimedia.org/wikipedia/en/e/e9/Red_Language_Tower_Logo.png
== make image! [200x200 #{
    FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
    FFFFFFFFFFFFFFFFFFFFFFFF
>> i-sm: draw 100x100 [image i 0x0 100x100]
== make image! [100x100 #{
    FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
    FFFFFFFFFFFFFFFFFFFFFFFF
>> view [image i-sm]
```

[06:58](#msg59914a17ee5c9a4c5fba964d)Note that `draw` is also used in VID, but the separate `draw` function lets you create images from commands.

ggenikus

[06:59](#msg59914a4e4bcd78af563f29ae)oh, thanks!

[07:02](#msg59914b1a162adb6d2ef29411)Just tried example from http://www.rebol.com/docs/image.html#section-9 as far as I can see rebol has different behavior for `/size` Rebol:

```
>> i1: make image! 10x10
== make image! [10x10 #{
000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000...
>> i1/size: 9x9         
== 9x9
>> i1/size
== 9x9
```

Red:

```
>> i1: make image! 10x10
== make image! [10x10 #{
    FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
    FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
>> i1/size: 9x9
== 10x10
>> i1/size
== 10x10
```

greggirwin

[07:02](#msg59914b1e2723db8d5ea005f1)For reference: https://doc.red-lang.org/en/draw.html

[07:03](#msg59914b4d614889d47546ad67)Red is highly Rebol compatible, but not 100%. We've learned a lot through the years, which has led to some different design choices.

[07:04](#msg59914b83bc464729747ee0ad)Something like that could be supported though.

[07:06](#msg59914bf8c101bc4e3a162b52)i.e., it's not a technical roadblock, but a design option. For example, if we use path syntax to mutate the image data, you can't add refinements, as you could with a `resize-image` function.

[07:07](#msg59914c17bc464729747ee2bc)Since Red is Alpha, there is still a lot of room for discussion.

unchartedworks

[09:52](#msg599172ec1c8697534ab70f49)If I want to fix bugs of Red, is it necessary to buy a license of REBOL/Command SDK? I know I can run Red from sources without a license. Thanks.

rebolek

[09:54](#msg5991733d210ac269207f7a2e)@unchartedworks absolutely not at all. Red is free and open source, just make a pull request with you bugfix, that's all. Also you don't need SDK license to compile Red, freeware version of Rebol is perfectly fine.

unchartedworks

[09:56](#msg599173cbee5c9a4c5fbb3448)@rebolek Thanks. I see.

uralbash

[10:13](#msg599177bb1c8697534ab7238b)What an error, when I build red from source code? https://paste.ofcode.org/fJfDpW4TpABRjWxKY7xRdW

[10:13](#msg599177beee5c9a4c5fbb44de)open("-c", O\_RDONLY) = -1 ENOENT (No such file or directory)

[10:20](#msg59917956a7b406262d87ac48)https://paste.ofcode.org/EjSCmqFJ9A8pWBPdfWgfHv

dockimbel

[10:42](#msg59917eaf210ac269207fa070)@uralbash That's odd. Are you using the stable release or the latest build?

uralbash

[10:44](#msg59917f01c101bc4e3a16ef8e)0.6.3 release from github (6a43c767fa2e85d668b83f749158a18e62c30f70)

PeterWAWood

[11:06](#msg5991843b1c8697534ab754de)@uralbash How did you build red from source code?

[11:07](#msg5991847b80d90ca024f86fde)You need to have a commercial Rebol SDK installed to build the Red toolchain into an executable.

uralbash

[11:08](#msg599184a02723db8d5ea0dbec)build like ArchLinux package on NixOS https://github.com/uralbash/nixpkgs/blob/947863b73ef1f08ebd0fb9223762de86b977aec4/pkgs/development/interpreters/red/default.nix

PeterWAWood

[11:10](#msg5991852c210ac269207fbac6)So you are trying to install Red not build it. Does the version of Rebol that you are using run on NixOS?

uralbash

[11:11](#msg5991857b4bcd78af56401781)Yes, I uses rebol v278 (https://github.com/uralbash/nixpkgs/blob/947863b73ef1f08ebd0fb9223762de86b977aec4/pkgs/development/interpreters/red/default.nix#L14)

PeterWAWood

[11:15](#msg5991865ca7b406262d87dffc)You are compiling the Red console in this line:  
`${r2} -qw red.r -r environment/console/console.red`  
It will create a binary called `console` unless you use the `-o` argument or rename it.

uralbash

[11:17](#msg599186e1a7b406262d87e201)console give the same error https://paste.ofcode.org/s2QGTidiPQg4w4jKyNDX4c

PeterWAWood

[11:20](#msg59918796210ac269207fc3ab)try without the `-c` option and see if the code is run.

[11:21](#msg599187b31c8697534ab761cf)By the way, the console does not include the compiler.

[11:22](#msg599187f176a757f808a1a3c5)To run the compiler from source, you can use this:  
`rebol -qs red.r -o myHello tmp/hello.red`

[11:23](#msg5991881880d90ca024f87e2b)The red binary includes the compiler.

uralbash

[11:25](#msg599188aebc464729747fd75b)Yes, without the -c option it works, but how do I build red with compiler support?

PeterWAWood

[13:00](#msg59919f0ba7b406262d884d17)You don't need to build red with compiler support to compile programs. You just need to run the source compiler. This will compile a program called `myprogram.red` and create an executable called 'my program' :

```
rebol -qs red.r myprogram.red
```

You don't need to build red with compiler support to compile programs.

uralbash

[13:04](#msg59919fcb2723db8d5ea146db)hm, ok but why all-platform red can do it? http://static.red-lang.org/dl/linux/red-063

[13:07](#msg5991a08f1c8697534ab7d11f)like ./red-063 -c /tmp/hello.red

PeterWAWood

[13:19](#msg5991a356162adb6d2ef3ea57)Because the Red binary has been built with a Rebol SDK. If you have a Rebol SDK on your machine you can also build a Red binary see \[Red build](https://github.com/red/red/tree/master/build)

[13:23](#msg5991a438162adb6d2ef3ee36)Previously, Rebol SDK licences could be bought from Rebol Technologies.They are no longer actively selling them.

dockimbel

[13:25](#msg5991a4b7162adb6d2ef3f08f)@uralbash The Rebol/SDK just allows to encapsulate your scripts with a Rebol interpreter in a standalone executable. So it is just convenient when deploying. For local usage, you have no need for it. Running from the sources is strictly the same.

unchartedworks

[16:42](#msg5991d2e24bcd78af56419117)Red REPL for macOS quit after inactivity. Is it a feature or a bug?

rebolek

[17:15](#msg5991da9bee5c9a4c5fbd1080)Certainly a bug.

## Tuesday 15th August, 2017

unchartedworks

[08:49](#msg5992b57f210ac2692084da0a)How to build etags/ctags of Red/Rebol projects for code navigation?

iceflow19

[09:02](#msg5992b8bb1c8697534abc8b27)@jocko-jc @greggirwin Instead of powershell I would recommend using the .NET bridge that's been added, since all those libraries you're trying to access are .NET assemblies. Powershell presence varies substantially on different versions of Windows and security permissions and signing requirements for scripts may differ from system to system due to settings and group policy enforcement. Its best to skip that mess and invoke the assembly directly.

pekr

[09:04](#msg5992b901bc4647297484f339)I wonder if the .NET bridge was finished though?

iceflow19

[09:04](#msg5992b91bee5c9a4c5fc0a522)I thought @qtxie did at least for windows. Or got it into a working state.

PeterWAWood

[09:08](#msg5992ba074bcd78af56455d38)The readme for the .Net bridge in the master branch says it's a prototype. It might still be worth seeing if it can be used.

iceflow19

[09:11](#msg5992bad9614889d4754cba1f)@jocko-jc Also you might want to change your 'say function to be more idiomatic with refinements instead of string parsing.

[09:13](#msg5992bb4dbc4647297484fd55)@PeterWAWood I might fork it and see if I can't get his code running on top of the bridge real quick. Its not a long script.

PeterWAWood

[11:00](#msg5992d456614889d4754d2727)@iceflow19 That would be good.

iceflow19

[11:06](#msg5992d5a3614889d4754d2c7e)It looks like the bridge is currently broken, it can't find class System.Object on Windows 10 when calling clr-new

[11:18](#msg5992d890bc46472974857a86)I'm giving up for now to go get some sleep.

PeterWAWood

[11:21](#msg5992d93e1c8697534abd1a31):+1:

dockimbel

[12:59](#msg5992f04cc101bc4e3a1d2c72)@unchartedworks I don't remember seeing many emacs users here, so I don't think anyone made that so far. If you create ones for Red/Rebol, let us know so we can advertise it.

unchartedworks

[14:05](#msg5992ffa1162adb6d2ef9cd98)@dockimbel I am working on red-mode for Emacs. It’s easier for me to do it.

[15:15](#msg59931004162adb6d2efa1c7d)Does Red support Map/Filter or list comprehension?

greggirwin

[15:24](#msg5993123f80d90ca024ff5136)They aren't standard yet, but we have some laying around.

[15:25](#msg59931274bc46472974869f79)Depending on your list-comp needs, the standard `foreach` may be all you need.

[15:25](#msg59931281210ac26920868e56)And `collect`.

[15:26](#msg5993129e80d90ca024ff53b0)Basic `map`:

```
map: func [
	"Evaluates a function for each value(s) in a series and returns the results."
	series [series!]
	fn [any-function!] "Function to perform on each value; must take one arg"
][
	collect [
		foreach value series [
			keep/only fn value
		]
	]
]
```

[15:26](#msg599312c0c101bc4e3a1dd557)And a more experimental design:

[15:27](#msg599312c61c8697534abe31a6)

```
; JS-like MAP. The order of args to the function is a bit odd, but is set
; up that way because we always want at least the value (if your func takes
; only one arg), the next most useful arg is the index, as you may display
; progress, and the series is there to give you complete control and match
; how JS does it. Now, should the series value be passed as the head of the
; series, or the current index, using AT?
; This is *sort of* like map-indexed in Clojure.
map-js: func [
	"Evaluates a function for all values in a series and returns the results."
	series [series!]
	fn [any-function!] "Function to perform on each value; called with value, index, series, [? and size ?] args"
	;/only "Collect block types as single values"
	;/skip "Treat the series as fixed size records"
	;	size [integer!]
][
	collect [
		repeat i length? series [   ; use FORSKIP if we want to support /SKIP.
			keep/only fn series/:i :i :series ;:size
		]
	]
]
res: map-js [1 2 3 a b c #d #e #f] :form
res: map-js [1 2 3 a b c #d #e #f] func [v i] [reduce [i v]]
res: map-js [1 2 3 a b c #d #e #f] func [v i s] [reduce [i v s]]
res: map-js "Hello World!" func [v i s] [pick s i]
res: map-js "Hello World!" func [v] [either v = #"o" [1][0]]	; sum result = count
res: map-js "Hello World!" func [v i] [if v = #"o" [i]]			; remove none! values to keep only index values
res: map-js "Hello World!" func [v i s] [if v = #"o" [at s i]]	; remove none! values to keep only series offsets
```

[15:27](#msg599312e52723db8d5ea78ecc)`remove-each` is the standard filtering func.

[15:29](#msg59931349ee5c9a4c5fc254ae)An experimental `filter`:

```
filter: function [
	"Returns two blocks: items that pass the test, and those that don't"
	series [series!]
	test [any-function!] "Test (predicate) to perform on each value; must take one arg"
	/only "Return a single block of values that pass the test"
][
	;TBD: Is it worth optimizing to avoid collecting values we won't need to return?
	result: reduce [copy [] copy []]
	foreach value series [
		append/only pick result make logic! test :value :value
	]
	either only [result/1][result]
]
```

[15:29](#msg599313644bcd78af5647143b)If there's something specific you need, ask. Someone may have it already.

[15:31](#msg599313e6210ac2692086952d)`*-while` experiments: https://gist.github.com/greggirwin/9fc085a8b6b2ca38f756e9285c389674

unchartedworks

[15:44](#msg599316d4162adb6d2efa40f6)@greggirwin Thanks! I came up a map function as well.

```
map: function [
    "applying f to each element of xs"
    xs 
    f
    return: []
] [
    ys: copy []
    foreach x xs [
        append ys (f x)
    ]
]
```

greggirwin

[15:50](#msg599318362723db8d5ea7a981)Excellent. Make sure to note the difference between `append` and `append/only`, depending on your needs and goals.

unchartedworks

[16:26](#msg599320b01c8697534abe7706)

```
foldl: function [
    "reduces the list using the binary operator, from left to right"
    f
    y
    xs
    return: [any-type!]
] [
    foreach x xs [
        f y x
    ]
]

map: function [
    "applying f to each element of xs"
    f
    xs 
    return: []
] [
    g: function [ys x] [append ys f x] 
    foldl :g [] xs
]

filter: function [
    "applying a predicate f to xs"
    f
    xs 
    return: []
] [
    g: function [ys x] [either f x [append ys x][ys]]
    foldl :g [] xs
]

print foldl :append "" ["4" "5" "6"]

print map :to-string [1 2 3 4]

print filter :string? [1 "a" 3 "abc" 2]
```

```
456
1 2 3 4
a abc
```

munael

[16:33](#msg59932263614889d4754eb54a)Something feels amiss with this `foldl`.

9214

[18:28](#msg59933d3bc101bc4e3a1eab86)@unchartedworks

```
>> foldl: func [f b xs /local x][
[        if series? b [b: copy b]
[        foreach x xs [b: f b x]
[    ]
== func [f b xs /local x][if series? b [b: copy b] foreach x xs [b: f b x]]
>> foldl :add 0 [1 2 3]
== 6
>> foldl :append "abr" ["a" "cad" "a" "bra"]
== "abracadabra"
>> head foldl func [x y][insert at x 2 y] [1 2 3] [4 5 6]
== [1 4 2 5 3 6]
```

solisoft

[18:51](#msg599342adee5c9a4c5fc32ec3)Hi there, red -c is not available for linux?

9214

[18:53](#msg59934341ee5c9a4c5fc33185)@solisoft hey there, can you be more specific?

solisoft

[18:54](#msg5993437abc46472974879f9b)I'm trying to compile from linux

9214

[18:55](#msg599343b91c8697534abf2524)and what error message do you get?

solisoft

[18:55](#msg599343beee5c9a4c5fc3344e)but red -c hello.red don't

[18:56](#msg599343d1a7b406262d8fbc55)red -c hello.red  
\*\** Error: cannot access argument file:  
\-c  
\--== Red 0.6.3 ==--  
Type HELP for starting information.

9214

[18:58](#msg59934458210ac26920878c12)@solisoft my guess is that it has something to do with  
&gt; Note: Running the Red toolchain binary from a $PATH currently requires a wrapping shell script (see relevant tickets: #543 and #1547).

solisoft

[18:59](#msg5993447680d90ca02400464e)ok thanks I will have a have a look

9214

[18:59](#msg5993448bee5c9a4c5fc337ab)also be sure that you have 32-bit libraries installed as described \[here](http://www.red-lang.org/p/download.html)

[19:13](#msg599347bd80d90ca0240057b6)what about `./red -c hello.red`?

unchartedworks

[19:26](#msg59934af6162adb6d2efb4583)@9214 That’s much better. :)

greggirwin

[19:57](#msg5993521e1c8697534abf6467)@unchartedworks, nice. Note that there are currently some issues when compiling functions inside functions. Also, as a design detail, look at functions that take series arguments, like `append` and `change`. You'll see that they put the series argument first in the spec. When designing functions that operate on a series, that's a good pattern to follow.

unchartedworks

[20:05](#msg599353f780d90ca02400979a)@greggirwin Thanks. It’s good to know. I will look into them.

greggirwin

[20:49](#msg59935e3f614889d4754fdf9c)It's one of those little details you don't really notice, until someone points it out.

## Wednesday 16th August, 2017

dockimbel

[04:01](#msg5993c3a5210ac26920899f75)@unchartedworks You don't need to put `return: []` in function specification, as `return:` is optional (the default allowed types are from the `default!`typeset).

unchartedworks

[06:38](#msg5993e879162adb6d2efdbf9d)@dockimbel Thanks. It works.

solisoft

[06:48](#msg5993eada210ac269208a4736)@9214 `red hello.red` works fine ... `red -c hello.red` raise `*** Error: cannot access argument file: -c`

[06:49](#msg5993eae9bc464729748a575c)and it open interaction console

9214

[07:08](#msg5993ef72614889d4755230e1)@solisoft sorry, I'm not a \*nix expert, hopefully someone from the community will help you with this issue :confused: meanwhile, what's your linux version and which red version do you use, last stable or automated build? How does `hello.red` script looks like?

solisoft

[07:11](#msg5993f0341c8697534ac1ea8f)I'm using red 0.6.3 (last stable) on an Archlinux based distri  
hello.red is quite basic

```
Red []
print {Hellow World}
```

dockimbel

[07:14](#msg5993f0e7c101bc4e3a21a346)Can anyone reproduce @solisoft's issue with `-c`on Linux?

9214

[07:15](#msg5993f0f99acddb2407959bb0)seems legit for me, you also installed supporting libs?  
&gt; (\*) For Linux 64-bit distros, you need to install 32-bit supporting libraries. So, for Debian-based distros, install them using:  
sudo apt-get install ia32-libs libc6-i386 libcurl3

btw, there's \[aur red package](https://aur.archlinux.org/packages/red/)

rcqls

[07:31](#msg5993f4e69acddb240795af36)@dockimbel On ubuntu-based distrib, I can execute `red -c hello.red`.

solisoft

[07:32](#msg5993f4fa76a757f808ac3fc4)installing the 'aur' version

unchartedworks

[07:36](#msg5993f605614889d475525053)map (a function) does not allow unset! for its xs argument? I don’t use unset! in map function. How to fix it?

9214

[07:37](#msg5993f62f614889d47552513d)@unchartedworks show us a code snippet ;)

fvanzeveren

[07:40](#msg5993f70676a757f808ac4920)Hello all, I am struggling with path in Red. I would like to do the following:

```
obj: make object! [
a: 10
b: make object! [c: copy "Hello"]
c: "World"
]
p: to-path "b/c"
print obj/:p
```

I was expecting to get the value "Hello" instead of the following error:

```
*** Script Error: cannot access b/c in path obj/:p
*** Where: print
*** Stack:
```

So, how can I get a path value from an object in this way.  
THank you for your help.  
François

solisoft

[07:42](#msg5993f78076a757f808ac4bfd)the aur version behave the same

[07:43](#msg5993f7ac614889d4755259c4)anyway ... not urgent for now :)

[07:43](#msg5993f7bd9acddb240795bdf8)I can use my osx if needed

9214

[07:49](#msg5993f909162adb6d2efe0f21)@fvanzeveren looks like a bug for me as Red treats `b/c` as single value

```
>> reduce to path! [obj b c]
== "Hello"
>> p: to path! "b/c"
== b/c
>> to path! compose [obj (p)]
== obj/b/c
>> reduce to path! compose [obj (p)]
*** Script Error: cannot access b/c in path obj/b/c
*** Where: reduce
*** Stack:
```

[07:50](#msg5993f9459acddb240795c661)@unchartedworks here's your `map`

```
map: func [series funct /local value][
    collect [foreach value series [keep reduce [funct value]]]
]
```

[07:55](#msg5993fa68162adb6d2efe160d)and enhanced `foldl`

```
foldl: func [series funct base /local body value][  
    body: copy [funct base value]
    case/all [
        series? base [base: copy/deep base]
        op? :funct   [reverse/part body 2]
    ]
    insert body quote base:
    foreach value series body
]
```

```
>> foldl [1 2 3] :* 1
== 6
>> foldl [4 5 6] :+ 0
== 15
>> foldl [4 5 6] :add 0
== 15
>> foldl [#"c" "ada" "bra"] :append "abra"
== "abracadabra"
```

meijeru

[07:55](#msg5993fa80a7b406262d92cb12)On the `b/c` bug: see new issue.

dockimbel

[07:58](#msg5993fb2c210ac269208a92dc)@9214 Not a bug, it a consequence of `path!` being part of `any-block!` typeclass. Same as in Rebol. We might change that in Red for the 1.0, to \*flatten* paths by default.

unchartedworks

[07:59](#msg5993fb4580d90ca024034d71)@9214 I figured it out. It’s mistake.

```
print map :to-string ["abc" "def”]
```

I should use :to-string but not to-string. I really hope type-checking could prevent it from happening.

9214

[08:00](#msg5993fb9aee5c9a4c5fc640eb)@unchartedworks you can specify typesets in your function and catch this kind of bug earlier

unchartedworks

[08:03](#msg5993fc62a7b406262d92d4d1)@9214

```
print type? to-string
print type? :to-string
```

```
function
*** Script Error: to-string does not allow unset! for its value argument
*** Where: to-string
*** Stack: to-string
```

uralbash

[08:04](#msg5993fc7976a757f808ac6746)@solisoft read the same discussion from there https://gitter.im/red/red?at=599177bb1c8697534ab7238b

unchartedworks

[08:04](#msg5993fca9210ac269208a99ec)@9214 What’s the type of :to-string?

9214

[08:05](#msg5993fcb2162adb6d2efe212b)@dockimbel thanks Doc! @fvanzeveren how about that?

```
>> obj: make object! [
[    a: 10
[    b: make object! [c: copy "Hello"]
[    c: "World"
[    ]
== make object! [
    a: 10
    b: make object! [
        c: "Hello"
    ]
    c...
>> p: [b c]
== [b c]
>> print reduce to path! compose [obj (p)]
Hello
```

[08:09](#msg5993fdab210ac269208a9f71)@unchartedworks in your example, `to-string` is evaluated and expects one argument before you pass it to `type?`. In the next line `print type? :to-string` works as expected because `:to-string` gets the body of the function \*without evaluating it\*, `print` recieves `function!`, prints `function` and returns \*\*`unset`\*\*... which, passed out back to firtst `to-string`, causes and error.

fvanzeveren

[08:12](#msg5993fe89a7b406262d92e077)@9214 Thank you it perfectly fits my needs. François

9214

[08:15](#msg5993ff0e2723db8d5eaba074)@fvanzeveren you're welcome

[08:16](#msg5993ff62162adb6d2efe3146)@unchartedworks

```
>> type? :to-string
== function!
>> type? to-string
*** Script Error: to-string is missing its value argument
*** Where: to-string
*** Stack: to-string 
>> type? to-string 'arg
== string!
```

unchartedworks

[08:18](#msg5993ffd3210ac269208aa9b1)@9214 I think it’s better. It’s easier to understand what is going on.

[08:20](#msg59940051578b44a046b3ef9e)@9214 Does Red support Currying? It seems that it doesn’t.

9214

[08:21](#msg5994008f162adb6d2efe37a1)no, as Red is not a functional language in a strict sense, though you probably can implement currying yourself ;)

unchartedworks

[08:25](#msg599401779acddb240795f218)Does Red support function composition? Do I have to write it myself?

9214

[08:26](#msg599401bf210ac269208ab385):point\_up: \[14 августа 2017 г., 10:13](https://gitter.im/red/red?at=59913181614889d4754657b4)

unchartedworks

[08:29](#msg5994025e210ac269208ab6b8)Racket-Lang:

```
((add1 .. string->number .. first) '("15" "2" "96”))
```

9214

[08:43](#msg599405b4ee5c9a4c5fc67630)@unchartedworks ?

```
compose-f: func [
    functions
    list
    /local f
][  
    val: copy/deep list
    foreach f reduce functions [val: f val]
]

probe compose-f 
    [:first :to-integer func [x][x + 1]]
    ["15" "2" "96"]
```

unchartedworks

[08:51](#msg599407ad210ac269208ad1d9)@9214 nice!

9214

[09:38](#msg59941282a7b406262d934f21)@unchartedworks again, enhanced `map`

```
map: func [
    "apply function to elements of the series"
    series [series!]
    funct  [function!]
    /local
        spec  [block!]
][  
    spec: spec-of :funct
    collect [
        foreach :spec series [
            keep reduce compose [funct (:spec)]
        ]
    ]
]

probe map [1 2 3] func [x][x + 1]
probe map [1 2 3 4 5 6 7 8 9 0] func [x y][x * y]
```

unchartedworks

[09:46](#msg5994145d162adb6d2efea1bf)@9214 probe map \[1 2 3] :to-string

9214

[09:47](#msg599414bd76a757f808ace940)good catch, I forgot about docstrings

[09:50](#msg5994156376a757f808acebde)

```
text
map: func [
    "apply function to elements of the series"
    series [series!]
    funct  [function!]
    /local
        spec [block!]
][  
    spec: replace/deep/all spec-of :funct [string! | block!] []
    collect [
        foreach :spec series [
            keep reduce compose [funct (:spec)]
        ]
    ]
]
```

[09:51](#msg59941586578b44a046b460df)but then again I forgot about typesets :worried: (fixed)

[09:54](#msg59941673bc464729748b32dc)gosh, it's easier to provide separate `spec` argument :D

```
map: func [
    "apply function to elements of the series"
    series [series!]
    spec   [block!]
    funct  [function!]
][
    collect [
        foreach :spec series [
            keep reduce compose [funct (:spec)]
        ]
    ]
]

probe map [1 2 3] [x] :to-string
probe map [1 2 3 4 5 6] [x y z] func [a b c][a + b * c]
```

WiseGenius

[10:04](#msg599418bd2723db8d5eac2149)`foreach` on `parens!` doesn't behave as I expected:

```
>> foreach [a b] quote [10 20 30 40] [?? a ?? b]
a: 10
b: 20
a: 30
b: 40
```

So far so good.

```
>> foreach [a b] quote (10 20 30 40) [?? a ?? b]
a: (10 20 30 40)
b: (10 20 30 40)
a: (30 40)
b: (30 40)
```

@dockimbel Is this a bug?

```
>> foreach a quote (10 20 30 40) [?? a]
a: 10
a: 20
a: 30
a: 40
```

That looks right.

```
>> foreach [a] quote (10 20 30 40) [?? a]
a: (10 20 30 40)
a: (20 30 40)
a: (30 40)
a: (40)
```

There it goes again! Fascinating.

dockimbel

[10:05](#msg599418f4c101bc4e3a22766b)@WiseGenius Looks like a bug indeed. Please open a ticket for it, I will fix it at once.

WiseGenius

[10:14](#msg59941aff2723db8d5eac2abc)Done.

dockimbel

[10:44](#msg59942209210ac269208b595a)Thanks, fixed now.

unchartedworks

[11:16](#msg59942990162adb6d2eff08db)

```
f: func [x] [[x]] 
f 3
```

expected result: \[3]  
actual result: \[x]

[11:17](#msg599429ad9acddb240796c02e)How to fix it?

pekr

[11:18](#msg59942a119acddb240796c209)`f: func [x] [reduce [x]]`

dockimbel

[11:19](#msg59942a302723db8d5eac7540)@unchartedworks A block evaluates to itself. What you want is to `reduce` it:

```
>> x: 3
== 3
>> [x]
== [x]
>> reduce [x]
== [3]
```

unchartedworks

[11:21](#msg59942ad4c101bc4e3a22d346)@dockimbel Is it a sort of variable shadowing because of \[]?

[11:23](#msg59942b1f578b44a046b4d581)

```
f: func [x] [[x]] 
print f 3
```

```
*** Script Error: x is not in the specified context
*** Where: print
*** Stack:
```

9214

[11:30](#msg59942ced80d90ca02404453f)@unchartedworks that's because `x` word inside `[x]` block is unsetted in global context

PeterWAWood

[11:31](#msg59942d182723db8d5eac854d)@unchartedworks `print` evaluates its argument before printing. Your function returns `[x]`, `print` evaluates `[x]` (as though you had coded `reduce [x]`). `x` is not bound to a value in the "global" context. Hence the error.

[11:36](#msg59942e4da7b406262d93e39d)Try this and you still get the error:

```
>> x: 10
== 10
>> func [x][[x]]
== func [x][[x]]
>> print f 3
*** Script Error: x is not in the specified context
*** Where: print
*** Stack:
```

[11:37](#msg59942e8d578b44a046b4e5df)and then add a little binding:

```
>> print bind f 3 'x
10
```

unchartedworks

[11:38](#msg59942ea69acddb240796d616)Thank you all! I use closures in the other laugaunges. I guess I have to be careful to do it in Red.

PeterWAWood

[11:38](#msg59942ecc2723db8d5eac8e21)Normally, we'd use `reduce` inside the function as @dockimbel said.

9214

[11:39](#msg59942f0b76a757f808ad6a87)Rule `No.1`: throw away everything you know from other languages then it comes to Redbol, in your case - don't treat Red as functional language so easily.

dockimbel

[11:40](#msg59942f15bc464729748bb82e)@unchartedworks Indefinite extent through closures is not yet implemented in Red, though, it's definitely on the todo-list. It should come at the same time as builtin HOF. Implementing closures can be done easily by anyone right now. You can search for examples among the older posts in this room.

unchartedworks

[11:44](#msg5994301eee5c9a4c5fc74ea9)@9214 I get used to functional programming. Even if Red is not a functional language, I guess I still can do it in a functional way.  
@dockimbel It’s good to know.

[11:48](#msg5994311cc101bc4e3a22f0d8)I am interested in Red because I am interesed in Functional Reactive Programming. I hope Red can solve my problems.

9214

[11:51](#msg599431d2c101bc4e3a22f4d2)@unchartedworks sure thing you can! Just don't expect Red to be functional by default, because it's quite different.

[11:52](#msg599431e176a757f808ad7765)btw, here's your closure

```
>> closure: func [vars spec body][func spec bind body context vars]
== func [vars spec body][func spec bind body context vars]
>> foo: closure [x: 0][y][x: x + y]
== func [y][x: x + y]
>> foo 1
== 1
>> foo 2
== 3
>> foo 10
== 13
```

[11:57](#msg5994332c2723db8d5eaca536)@unchartedworks https://doc.red-lang.org/en/reactivity.html

unchartedworks

[11:58](#msg599433632723db8d5eaca615)@9214 Thanks! :)

dockimbel

[12:28](#msg59943a652723db8d5eaccfde)Anyone willing to answer some pending questions on \[/r/redlang](https://www.reddit.com/r/redlang/)? Like \[this one](https://www.reddit.com/r/redlang/comments/6slh91/findany\_workaround/) for example:.

Phryxe

[13:26](#msg599447f39acddb2407975f2c)Notepad++ 7.5 added support for Rebol. Not sure if it is working though.

rebolek

[14:40](#msg59945941ee5c9a4c5fc82f9f)@dockimbel `find/any` question answered, I will take a look at others also, if somebody won't be faster :)

greggirwin

[17:03](#msg59947ae176a757f808af1060):point\_up: \[August 16, 2017 1:40 AM](https://gitter.im/red/red?at=5993f70676a757f808ac4920) @fvanzeveren, here's a `to-path` approach that will flatten things. I did it long ago, before Red built it in, and commented on the ticket @meijeru opened for it.

```
to-path: func [spec][
	; LOAD FORM is used to clean up specs that have refinements 
	; in them. Refinement values get their sigil doubled, which
	; FORM removes, so they are sanitized. More overhead, but we
	; could make that optional if this func lives on.
	;!! This does work if 'spec is empty. It returns a block in that case.
	load form append clear '_/_ spec
]
```

See also: https://github.com/red/red/wiki/Path!-notes

[17:04](#msg59947b0b80d90ca02405ff33)We should give this a new name if we include it in any of our own code right now, so it doesn't conflict with the official `to-path`, that behaves differently.

[17:06](#msg59947b952723db8d5eae3b86)@unchartedworks, the big difference in how to think about Red scoping is that each word carries a binding with it, to it's context. In reality, there is no scope in Red: https://stackoverflow.com/questions/21964110/is-there-a-overall-explanation-about-definitional-scoping-in-rebol-and-red/21964858#21964858

The other thing to remember, is that Red is data first. Everything is data until it's evaluated. Learning the evaluation rules, i.e., when it occurs, will help it all make sense.

[17:09](#msg59947c42ee5c9a4c5fc8ed91)In addition to "normal" currying, when you think of Red as data, you can do all sorts of fun things. Here's an example @dockimbel worked up some time back:

```
specialize: function [fun [function!] defs [block!]][
    spec: copy/deep spec-of :fun
    body: copy/deep body-of :fun

    foreach [arg value] defs [
        arg: to word! form arg
        pos: find spec arg
        remove/part pos pick [2 1] block? pos/2
        parse body rule: [some [change only arg value | into rule | skip]]
    ]
    func spec body
]
e.g. [
	foo: func [x y][x + y]
	;== func [x y][x + y]
	bar: specialize :foo [x: 5]
	;== func [y][5 + y]
	bar 10
	;== 15
	pad8: specialize :pad [n: 8]
	;== func ["Pad a string on right side with spaces"...
	pad8 "hello"
	;== "hello   "

	entab: specialize :replace [pattern: space value: tab]
	;== func [series [series!] /all /local many? len pos][many?: any [system/words/a...
	entab "   hello^/    world"
	;== "^-  hello^/    world"
	entab/all "   hello^/    world"
	;== "^-^-^-hello^/^-^-^-^-world"

	{
	You can use source on the specialized functions to see that the source code is
	rewritten. Many improvements are possible, like specializing on refinements and
	optional arguments, or folding constant expressions resulting from fixing
	arguments.
	}
]
```

[17:10](#msg59947c9376a757f808af1a1c)We also have examples of how to build "refined" function calls dynamically. That is, applying refinements in a currying/specialization fashion.

unchartedworks

[18:24](#msg59948debbc464729748dcf3a)@greggirwin It’s informative. Red scoping confused me and it’s error prone. Is there any Lint tools for Red or Compiler can detect common mistakes?

Thanks! :)

greggirwin

[20:23](#msg5994a9a776a757f808aff9ed)@unchartedworks, no linter yet. Tricky, because one man's mistake is another's leverage.

unchartedworks

[21:08](#msg5994b459bc464729748e9390)@greggirwin ;)

[21:09](#msg5994b4a4578b44a046b7cb22)Red-mode for Emacs. It’s based on Rebol-mode for Emacs.  
https://github.com/unchartedworks/red-mode

greggirwin

[21:23](#msg5994b7beee5c9a4c5fca19cf)@unchartedworks, feel free to add your Emacs mode to https://github.com/red/red/wiki/Editor-Integrations. Thanks!

## Thursday 17th August, 2017

ggenikus

[01:27](#msg5994f104ee5c9a4c5fcb0425)Hello everyone, trying to understand red's type system, how to create custom type, and is there any relationship between Object and type in red, as far as I understand every object has type object!, so it looks like there is no relationship between objects and types in red, and there is no way to create custom type am I right ?

Dieken

[02:45](#msg5995035aee5c9a4c5fcb472f)Hi, I'm using red 0.6.3 on macOS, when I input print ["aa"} and press Enter in red console, I can't quit it anymore, Ctrl-c, Ctrl-d, Ctrl-z all don't work.

PeterWAWood

[02:56](#msg599505ce2723db8d5eb0a91a)@Dieken It works for `quit`, Ctrl-c and Ctrl-d all work for me. I am using macOS 10.12.6 and use the default UTF-8 encoding in the Terminal app.

[02:57](#msg59950609614889d475578daf)

```
text
>> print ["aa"]
aa
>> quit
$
```

Dieken

[03:11](#msg599509699acddb24079af8d6)@PeterWAWood I mean \["aa"}, not \["aa"], notice the right brace.

qtxie

[03:36](#msg59950f2a76a757f808b1a4e1)@Dieken It's a bug. Please open a ticket for it.

Dieken

[03:47](#msg599511c3c101bc4e3a2730cd)ok, filed one, https://github.com/red/red/issues/2980

greggirwin

[05:30](#msg599529e1bc464729749079f8):point\_up: \[August 16, 2017 7:27 PM](https://gitter.im/red/red?at=5994f104ee5c9a4c5fcb0425) @ggenikus, you can't \*yet* create custom datatypes in Red, and objects are just objects. There is no class system or prototype hierarchy. Some people built them for their own use in R2, but they are not a target feature for standard Red at this time.

[05:31](#msg59952a42578b44a046b9b400)To clarify, there is no User Defined Type in Red. You could certainly roll your own in Red/System, but the nature of Red makes lexical space very tight.

ggenikus

[05:35](#msg59952b3fee5c9a4c5fcbf5fb) @greggirwin thanks!

honix

[09:23](#msg59956075bc46472974918a84)@ggenikus welcome! there is also a russian chat room https://gitter.im/red/Russian

unchartedworks

[09:50](#msg59956700210ac26920915ba5)I have to move

```
;-- output
print red-word-categories
print red-word-list
```

to the end of the source code file, otherwise there will be some compiler errors.

```
functions natives ops actions
*** Script Error: red-functions has no value
*** Where: print
*** Stack:
```

How can I do it without compiler errors?

```
;-- main
red-word-list: func [][map :to-word-name red-word-categories]
red-word-categories: ["functions" "natives" "ops" "actions"] 
to-word-name: func [x][reduce [load append copy "red-" x]]

;-- words
red-functions: func [][red-words :red-function?]
red-natives: func [][red-words :red-native?]
red-ops: func [][red-words :red-op?]
red-actions: func [][red-words :red-action?]

red-words: func [predicate][form map :add-double-quotes map :first filter :predicate map :words filter :not-empty? lines what/buffer]

add-double-quotes: func [s] [append (append copy "^"" s) "^""] 

;-- predicates
red-word?: func [type x][(second x) == type]
red-function?: func [x][red-word? "function!" x] 
red-native?: func [x][red-word? "native!" x]
red-op?: func [x][red-word? "op!" x] 
red-action?: func [x][red-word? "action!" x] 

;-- helpers
lines: func [xs][map :trim split xs "^(line)"]
words: func [xs][reduce [split (trim/lines xs) " "]]
not-empty?: func [xs][not empty? xs]

;-- output
print red-word-categories
print red-word-list
```

9214

[10:17](#msg59956d2bc101bc4e3a28d5f6)most of your functions are using other functions which are not yet defined in source code

[10:18](#msg59956d832723db8d5eb28b00)and what you're trying to do can be accomplished with `what` and `help` I believe

[10:35](#msg5995717080d90ca0240a72cd)@unchartedworks or http://www.red-by-example.org/

korstoilija

[10:37](#msg599572052723db8d5eb2a39d)how do I read keyboard presses? I want to make a simple 2d game where I move my guy around.

[10:38](#msg5995720e210ac26920918f8c)by arrow keys

9214

[10:40](#msg599572a9614889d475598037)@korstoilija https://doc.red-lang.org/en/view.html#\_events

korstoilija

[10:42](#msg5995730dc101bc4e3a28efc4)yeah, thas what I have been looking at and trying to figure out.

9214

[10:45](#msg599573cb80d90ca0240a7cdc)@korstoilija

```
Red [Needs: 'View]

view [
    field 100x20 hint "type something" on-key [
        print [event/key "was pressed!"]
    ]
]
```

korstoilija

[10:45](#msg599573dcee5c9a4c5fcd5c1e)thank you! :)

dockimbel

[10:49](#msg599574c576a757f808b38658)@korstoilija Here is a short example to get you started:

```
view [
    size 300x300
    base red on-created [set-focus face] on-key [
        switch event/key [
            up    [face/offset/y: face/offset/y - 5]
            down  [face/offset/y: face/offset/y + 5]
            left  [face/offset/x: face/offset/x - 5]
            right [face/offset/x: face/offset/x + 5]
        ]
    ]
]
```

Notice that you need to `set-focus` on a given face in order to receive `key` event there. An alternative way is to hook the event handler to the window itself:

```
view/options [
    size 300x300
    b: base red
][
    actors: context [
        on-key: func [face event][
            switch event/key [
                up    [b/offset/y: b/offset/y - 5]
                down  [b/offset/y: b/offset/y + 5]
                left  [b/offset/x: b/offset/x - 5]
                right [b/offset/x: b/offset/x + 5]
            ]
        ]
    ]
]
```

korstoilija

[10:52](#msg59957553578b44a046bb1dcf)pretty smooth, thank you. I think an example like this could be added to documentation...

dockimbel

[10:53](#msg5995758f2723db8d5eb2b421)@korstoilija The current documentation is a \*reference* documentation only, we need to add a \*user manual* and tutorials.

korstoilija

[10:55](#msg5995760e9acddb24079cf143)yes, I see.

[10:55](#msg5995762780d90ca0240a8876)but that example could be here: http://www.red-by-example.org/#0on-key

dockimbel

[10:56](#msg5995767ba7b406262d99fed7)@mikeparr @Arie-vw ^---- You can freely use any of my code examples from Gitter and gists for "Red by example".

unchartedworks

[11:15](#msg59957aef80d90ca0240aa1d4)@9214 I see. Thanks.

[11:53](#msg599583d7bc46472974923bdb)How to define an operator in Red?

PeterWAWood

[12:07](#msg599586e8a7b406262d9a582c)

```
text
>> add-double: func[a b][a + b * 2]
== func [a b][a + b * 2]
>> ++: make op! :add-double
== make op! [[a b]]
>> 1 ++ 2
== 6
```

unchartedworks

[12:35](#msg59958daf80d90ca0240b012e)@PeterWAWood Thanks. :)

fvanzeveren

[13:03](#msg59959433614889d4755a29ce)hello,  
I am writing an object in a file, like this:

```
obj: make object! [
    a: 12
    b: make object! [
        c: "Hello world"
    ]
    c: "Bonjour le monde!"
]
write %file.txt obj
```

How can I know how many characters have been written? I tried mold but this does not work because end of line are two characters long (CR+LF under windows).  
Thank you for your help

[13:14](#msg59959698578b44a046bbcd77)I also tried `mold/flat`, but this still does not work if the object contains a multi-line string attribute :(

unchartedworks

[13:54](#msg5995a02d614889d4755a65db)@fvanzeveren

```
obj: make object! [
    a: 12
    b: make object! [
        c: "Hello world"
    ]
    c: "Bonjour le monde!"
]

probe form obj
print length? form obj
```

```
{a: 12^/b: make object! [^/    c: "Hello world"^/]^/c: "Bonjour le monde!"}
69
```

fvanzeveren

[13:56](#msg5995a07b76a757f808b4645a)Yes, but 69 is not the number of characters written in the file, because newlines are coded on 2 characters.

9214

[14:00](#msg5995a182210ac269209281c2)`print length? trim/lines form obj` ?

[14:03](#msg5995a2282723db8d5eb399a6)`^/` is 1 character btw

```
>> length? {hello}
== 5
>> length? {hello^/}
== 6
```

fvanzeveren

[14:03](#msg5995a232162adb6d2e062037)@9214 it will work, but it would alter multi-line strings... and this is not what I want. It would be interesting if write returns the position after the last character written

unchartedworks

[14:04](#msg5995a278bc4647297492db81)`print length? replace/all form obj "^/" "##”`

9214

[14:06](#msg5995a2eb210ac26920928853)Alter? Why not to use `copy` then?

```
>> original-string: {hello ^/}
== "hello ^/"
>> length? original-string
== 7
>> length? trim/lines original-string
== 5
>> original-string
== "hello"
```

```
>> original-string: {hello ^/}
== "hello ^/"
>> length? trim/lines copy original-string
== 5
>> original-string
== "hello ^/"
```

fvanzeveren

[14:07](#msg5995a32dc101bc4e3a29ecf8)@9214 Yes, but this is not what I meant. Try this under windows:

```
obj: make object! [
    a: 10
    b: make object! [
        c: "Hello"
    ]
    c: "World"
]
write %test.txt obj
do read/seek/part %test.txt 0 length? mold obj
```

9214

[14:10](#msg5995a3c99acddb24079de91f)@fvanzeveren ?

```
>> write %test.txt obj
>> length? read %test.txt
== 88
>> length? trim/lines read %test.txt
== 64
>> length? trim/all/lines read %test.txt
== 50
```

[14:10](#msg5995a3edc101bc4e3a29f27f)

```
text
>> length? trim/lines mold obj
== 64
```

fvanzeveren

[14:11](#msg5995a3fd210ac26920928f50)You get:

```
*** Syntax Error: missing #"]" at {"Wor}
*** Where: do
*** Stack:
```

But if you do:

```
do read/seek/part %test.txt 0 add 6 length? mold obj
```

It works, because you have 6 lines

[14:12](#msg5995a433bc4647297492e517)@9214 Yes, but using trim/lines will alter multi-line strings in the object, which is not desirable.

9214

[14:12](#msg5995a44f210ac26920929248)Frankly, I don't get what you want :D

[14:13](#msg5995a4902723db8d5eb3a5e2)You want to know how many characters were written in a file, correct? Why then you apply`length?` to `mold`ed object and not to `read`ed file?

rebolek

[14:16](#msg5995a546162adb6d2e0633e1)@fvanzeveren `size?` is your friend:

```
>> length? {a^/b}
== 3
>> write %delme {a^/b}
>> size? %delme
== 4
```

(this is on Windows)

fvanzeveren

[14:16](#msg5995a54e80d90ca0240b7da8)@9214 because i will have many objects stored in the file. Eveey time I append an object to the file, I need to know how many characters were actually writtent to kee a reference...

9214

[14:17](#msg5995a57280d90ca0240b7e98)Ah, I see now

fvanzeveren

[14:17](#msg5995a594ee5c9a4c5fce61de)I am developpement an object-based indexed files database in rebol :)

[14:18](#msg5995a598c101bc4e3a29faba)in red :)

unchartedworks

[14:18](#msg5995a5b42723db8d5eb3ab88)Write has a side effect. The side effect depend on OS. Write converts ^/ to LF or CRLF.

fvanzeveren

[14:19](#msg5995a5fd80d90ca0240b81b1)@unchartedworks indeed... and I am lookink for a way to get how many characters have been actually written

rebolek

[14:20](#msg5995a615210ac26920929b7b)@fvanzeveren As I wrote, use `size?`.

fvanzeveren

[14:20](#msg5995a63f614889d4755a886c)size? will return the whole size of the file, not the nb of character last written...

rebolek

[14:21](#msg5995a65ea7b406262d9af8f8)Oh, I misunderstand you, sorry.

[14:21](#msg5995a672c101bc4e3a29fe8f)Then you probably should parse the file, count newlines and add that number to length.

[14:23](#msg5995a6f1bc4647297492f4f7)

```
>> crlf-length?: function [data][size: 0 parse data [some [newline (size: size + 1) | skip]] size + length? data]
== func [data /local size][size: 0 parse data [some [newline (size: size + 1) | skip]] size + length? data]
>> file: {a^/b}
== "a^/b"
>> crlf-length? file
== 4
```

fvanzeveren

[14:23](#msg5995a6f99acddb24079dfded)@rebolek I think using size? bedore and after writing could make the trick :) Thank you for the hint... I will try this.

[14:24](#msg5995a710a7b406262d9afc8f)parse is going to be awfully slow for a database usage, no?

[14:24](#msg5995a72d80d90ca0240b85d9)Cheers!

[14:24](#msg5995a739ee5c9a4c5fce6c74)I let you now if it works!

rebolek

[14:25](#msg5995a74f9acddb24079e0131)@fvanzeveren `parse` is relatively fast IMO. I would leave the optimization to the time, when it's really needed :)

greggirwin

[16:38](#msg5995c68d76a757f808b5261e)@korstoilija, I added the keyboard example to https://github.com/red/red/wiki/VID-and-View-(GUI)-hints-and-tips

fvanzeveren

[17:22](#msg5995d0efbc4647297493c911)@rebolek Using size? before and after writing the data is making the job for me. Thank you for the hint!

unchartedworks

[17:43](#msg5995d5b9a7b406262d9bfb0f)Is it possible to do lazy evaluation or use macro?

Input:  
`f add 1 1`  
Output:  
`f [add 1 1]`

rebolek

[17:48](#msg5995d6f2a7b406262d9c017b)@fvanzeveren you're welcome!

unchartedworks

[17:57](#msg5995d9242723db8d5eb4b0f9)@PeterWAWood Regarding quick-test, I think there is a missing feature of —assert. When a test fails, —assert only tells this test is failed but it doesn’t provide detailed information.  
##OLD##  
Test:

```
--test-- "string! -> string!"
    xs: "abc"
    ys: "ABCD"
    --assert ys == xs
```

Test Result:

```
===group=== map
--test-- string! -> string! FAILED**************
```

I added a new function.  
—assert*  
##NEW##  
Test:

```
--test-- "string! -> string!"
    xs: "abc"
    ys: "ABCD"
    —assert* [ys == xs]
```

Test Result:

```
--test-- string! -> string! FAILED**************
["ABCD" == “abc”]
```

greggirwin

[18:03](#msg5995da689acddb24079f12db):point\_up: \[August 17, 2017 11:43 AM](https://gitter.im/red/red?at=5995d5b9a7b406262d9bfb0f) @unchartedworks, what is it you want to accomplish? You can pass functions without evaluating them, but because Red has free-ranging evaluation, if you don't evaluate a function, the caller (`f` in your example) can't know how many arguments to consume. You could do it by passing the func and all the args in a block, but that may not be what you're after. That's where I'm not clear. You have `f` in the output as well, so maybe you have another level?

unchartedworks

[18:04](#msg5995dac3a7b406262d9c1228)@greggirwin I don’t want to evaluate the parameter of f. add 1 1

greggirwin

[18:05](#msg5995dad2ee5c9a4c5fcf68ee)

```
>> lazy: func [spec][reduce [first spec next spec]]
== func [spec][reduce [first spec next spec]]
>> lazy [f add 1 1]
== [f [add 1 1]]
```

[18:05](#msg5995dafeee5c9a4c5fcf6980)Ah, so `f` is your caller. Then you'll need to put something in a block.

[18:08](#msg5995dbacee5c9a4c5fcf6cee)e.g., use your output example above, `f [add 1 1]` as your input. Again, how best to do this depends on your ultimate goal.

unchartedworks

[18:08](#msg5995dbb9bc4647297494012c)let’s assume that f is —asert. This the current situation.

```
--assert ys == xs
```

I need lazy evaluation, so I have to create new function —assert\*, and use —assert* \[ys == xs].

greggirwin

[18:10](#msg5995dc06ee5c9a4c5fcf6ee0)Because you want to show the test itself, as above, correct?

unchartedworks

[18:10](#msg5995dc0d2723db8d5eb4bf52)If I understood what you said correctly, I must create a new function but not changing the implementation of —assert.

[18:10](#msg5995dc10ee5c9a4c5fcf6f1c)Yes.

[18:11](#msg5995dc3676a757f808b59213)There are too many test cases which use —assert.

greggirwin

[18:11](#msg5995dc37bc464729749403f3)Correct. Putting things in a block prevents evaluation, which you can then control at will.

unchartedworks

[18:12](#msg5995dc979acddb24079f1d4a)BTW, what you implemented is not lazy. it’s apply. ;)

greggirwin

[18:12](#msg5995dc9a2723db8d5eb4c136)That's just the design for quick-test's `assert`. I've written a lot of test bits that use the block trick.

[18:13](#msg5995dcd7162adb6d2e074a08)If we passed `add` as a separate func arg, outside the block, it would be more like `apply`, I think.

[18:14](#msg5995dd1080d90ca0240c9623)But I'm not trying too hard to be technically correct in streaming chat. :^)

unchartedworks

[18:14](#msg5995dd1676a757f808b59538)you are right.

[18:16](#msg5995dd80578b44a046bd4241)

```
--assert*: func [
  assertion-block [block!]
  /local assertion
][
  assertion: do assertion-block
  --assert assertion
  if not assertion [
    print-assertion-block assertion-block
  ]
]

print-assertion-block: func [
  assertion-block [block!]
][
  nonOp?: func [x][none == find ops to-string x]
  ops: ["%" "*" "**" "+" "-" "..." "/" "//" "<" "<<" "<=" "<>" "=" "==" "=?" ">" ">=" ">>" ">>>" "and" "is" "or" "xor"]
  conditional-do: func [x][either nonOp? to-string x [do x][x]]
  probe map :conditional-do (load form assertion-block)
]
```

greggirwin

[18:16](#msg5995dd90162adb6d2e074d7d)What you could do, for `assert`, is add `block!` as a supported arg type, and add your logic in a handler for it. That doesn't address the existing tests, but would be a new feature.

[18:17](#msg5995ddbb80d90ca0240c9a8e)Then see how hard it would be to programmatically mod existing tests to blockify them. Depending on what Peter and Nenad think.

unchartedworks

[18:19](#msg5995de3080d90ca0240c9d12)I have to use it myself, otherwise I have to add debug messages manually for each test cases.

greggirwin

[18:21](#msg5995dea0578b44a046bd4830)That's what the test case string "names" are for in the quick-test design. But yet, I understand.

unchartedworks

[18:22](#msg5995dee8bc46472974940f0c)Do you know how to use pattern matching in Red?

```
fb[n_] /; Divisible[n, 15] := FizzBuzz
fb[n_] /; Divisible[n, 3] := Fizz
fb[n_] /; Divisible[n, 5] := Buzz
fb[n_] := n
```

[18:23](#msg5995df3dc101bc4e3a2b2512)This is not Red of course. I haven’t found a way to do similar things in Red. So I can implment two —assert, one for \[logic!], the other for \[block!].

greggirwin

[18:24](#msg5995df74c101bc4e3a2b26fa)Red doesn't pattern match for function dispatch. Again, free ranging evaluation comes into play.

unchartedworks

[18:27](#msg5995dfffee5c9a4c5fcf807c)Do you mean using switch?

greggirwin

[18:28](#msg5995e04ac101bc4e3a2b2bdb)You can do it with switch, parse, case, etc., depending on your needs.

unchartedworks

[18:30](#msg5995e0db76a757f808b5a9e7)all right. Thanks!

greggirwin

[18:33](#msg5995e192162adb6d2e075eae)In your example above, you shouldn't have to do all the string conversions and comparisons either. e.g.:

```
--assert*: func [
    blk [block!]
    /local pass?
][
    pass?: do blk
    --assert pass?
    if not pass? [
        print-assertion-block blk
    ]
]

print-assertion-block: func [
    blk [block!]
    /local ops op? conditional-do
][
    ops: [% * ** + - ... / // < << <= <> = == =? > >= >> >>> and is or xor]
    op?: func [x][find ops x]
    conditional-do: func [x][either op? x [x][do x]]
    probe map :conditional-do (load form blk)
]
```

(untested)

unchartedworks

[18:47](#msg5995e4c9c101bc4e3a2b3fd7)Because I have to work around a problem. That’s why I use load and convert them to operators if they are operators.

```
>> op? ==
*** Script Error: == operator is missing an argument
*** Where: catch
*** Stack:
```

greggirwin

[18:52](#msg5995e5f0614889d4755bc7c4)So you just need to prevent evaluation? e.g. `op? :x`

[18:54](#msg5995e648bc4647297494381a)(Sorry I'm jumping around and don't have your code set up to run an example)

[18:55](#msg5995e6a9614889d4755bcb21)More untested code. On pattern matching, in Red, we generally have a single function that dispatches to logic based on arg types when needed. In the case of `assert` (from quick-test), it might be something like this:

```
assert: func [
    assertion [logic! block!]
    /local pass?
][
    file/no-asserts: file/no-asserts + 1
    pass?: either logic? assertion [assertion][do assertion]
    either pass? [
        file/passes: file/passes + 1
    ][
        file/failures: file/failures + 1
        if group? [
            if group-name-not-printed [
                print ""
                print ["===group===" group-name]
            ]
        ]
        print ["---test---" test-name "FAILED**************"]
        if block? assertion [print mold assertion]
    ]
]
```

[18:57](#msg5995e705bc46472974943b61)You \*can* write separate funcs, and dispatch to them, but Red provides a lot of leverage through typesets and datatype behaviors, which eliminates a lot of redundant code spread out over multiple functions.

[18:57](#msg5995e72c614889d4755bcdfa)But you do need to balance things, so you don't end up with huge, complicated funcs, that try to do too much.

unchartedworks

[19:09](#msg5995e9d980d90ca0240cd713)I see. Thanks!

dander

[19:36](#msg5995f0349acddb24079f7da3) @greggirwin @unchartedworks, instead of adding a new assert function, how reasonable would it be to treat the quick-test cases as a dsl and evaluate them using parse? I don't have a real good sense for how much work that would be, but does it seem like a sensible approach? That way, the behavior of the `--assert` would be up to the dls runner, and you could collect up expressions into blocks around the quick-test keywords or whatever worked.

[19:37](#msg5995f06ca7b406262d9c7586)I guess doing that would also imply that the tests were being run by the interpreter instead of compiler?

unchartedworks

[19:39](#msg5995f0e72723db8d5eb51c6e)To avoid implementing a parser. (I think parser is a better solution.) I implemented a prototype, and it can provide more information when a test fails. It can partially evaluate the expression.

```
--test-- "[integer!] -> [integer!]"
    xs: [1 2 3]
    ys: [2 3 3]
    zs: filter func [x][x > 1] xs
    --assert* [ys == zs]
```

```
--test-- [integer!] -> [integer!] FAILED**************
[[2 3 3] == [2 3]]
```

dander

[19:41](#msg5995f16e2723db8d5eb51e10)Could a macro be defined for `--assert` that would change it to `--assert*` and wrap the following expression in a block? By the way, @unchartedworks I'm not trying to change your direction. I'm just curious about ways of approaching problems in Red.

unchartedworks

[19:46](#msg5995f28680d90ca0240cfea8)Yes, I asked the same question. It doesn’t work in this way.

[19:47](#msg5995f2dcee5c9a4c5fcfdc24)however we can extent —assert, so it can support \[logic!] and \[block!].

greggirwin

[20:21](#msg5995fab776a757f808b621d6)We can do it a lot of ways. Peter and I have worked on test system designs together in the past, and have \*loads* of design ideas and experimental code. Others have done it as well. The space is large, and can be done in so many ways, that we probably need a team with concentrated focus to hash out ideas for Quick-Test 2.0, and for any built-in testing Red provides.

PeterWAWood

[22:55](#msg59961ecba7b406262d9d5093)Quick-test is minimalist by design (to meet the requirements of the prime user ;-)). The current `assert` was preferred over other forms of assert which give more information on test failures.I have previously written a dialect-based Rebol testing framework (simple-test) which has a fuller set of assertions.

[23:02](#msg59962071578b44a046be72d6)It was decided not to implement a parse-based testing dialect and keep things ironically (given the name simple-test) keep things simple.

It was felt unnecessary to show the reason of the failure. Being able to find a test quickly in a code editor using the test name is the Red team's preferred option.

[23:05](#msg5996212680d90ca0240dd33b)One question that would need to be answered about an `assert*` function is what about tests for '&gt;', '&gt;=', '&lt;&gt;' 'error'?

[23:06](#msg5996217f76a757f808b6d841)There is one quick-test improvement planned in the area of assertions. It is to identify the sequence number of the failing assertion within the a test.

[23:07](#msg5996219f80d90ca0240dd492)The "test running" side of quick-test desperately needs a full overhaul and I hope to find tie to do that for release 0.7.0

[23:10](#msg599622762723db8d5eb6012a)To use a very English idiom, test frameworks are like Marmite. As are automated tests themselves.

[23:14](#msg5996236180d90ca0240ddab9)For me, there is plenty of room for other test frameworks especially ones that encourage test self-documentation (describe, it should, etc.). Some times you seem to spend more time working out what a failing test is meant to do than you do fixing it.

[23:19](#msg59962489c101bc4e3a2c5664)On a practical level, there would be no need to introduce a new `assert*` function, just change the `spec` of the existing one and handle the different datatypes accordingly:

```
--assert: func [v [logic! block!]] [
    either logic! = type? v [
        ; existing function body
    ][
        ; new code 
    ]
```

[23:25](#msg599625e6c101bc4e3a2c5bb6)@unchartedworks Perhaps you could consider patching quick-test to add the assertion functionality that you want for your own use. It would be easy to write a short script to "unroll" the `[a == b]` blocks should you want to submit your tests to the Red test suite.

## Friday 18th August, 2017

fvanzeveren

[07:08](#msg5996927480d90ca0240f9184)Hi all, is there a performance gain for searching to sort the keys in a hash! map? Thank you. Françpis

unchartedworks

[09:16](#msg5996b088bc46472974978f0b)@PeterWAWood I am writing test cases for a library, there are only a few test cases so far, so I don't have to care too much about performance like Red test suite does. When I save my code, a script will run tests automatically, and I don’t have to look at the test results unless there is a test failure. To be able to sync with the latest quick-test without merge issues, I just added a new function for my own use. It’s good to know how to make a function accept multiple data types. Thanks for your explaination. I suppose I will wait for the next version of quick-test.

[13:06](#msg5996e652162adb6d2e0bcf0e)Does Red support immutable data?

9214

[13:20](#msg5996e9aa210ac26920982a29)@unchartedworks I think `copy` and `on-change*` with `on-deep-change*`can help you to simulate immutability

unchartedworks

[13:24](#msg5996ea7ea7b406262da0cd98)@9214 How does copy work? Does copy supports copy-on-write?

[13:24](#msg5996ea9f9acddb2407a3d7d2)It’s good to have, if not, it isn’t a big deal for me.

9214

[13:26](#msg5996eaf0162adb6d2e0be891)@unchartedworks

```
>> str1: "abc"
== "abc"
>> str2: reverse str1
== "cba"
>> str1
== "cba"
>> reverse str1
== "abc"
>> str2
== "abc"
>> ; immutability
>> str1: "abc"
== "abc"
>> str2: reverse COPY str1
== "cba"
>> str1
== "abc"
>> reverse str1
== "cba"
>> str2
== "cba"
>> ? copy
USAGE:
     COPY value

DESCRIPTION: 
     Returns a copy of a non-scalar value. 
     COPY is an action! value.

ARGUMENTS:
     value        [series! any-object! bitset! map!] 

REFINEMENTS:
     /part        => Limit the length of the result.
        length       [number! series! pair!] 
     /deep        => Copy nested values.
     /types       => Copy only specific types of non-scalar values.
        kind         [datatype!] 

RETURNS:
     [series! any-object! bitset! map!]
```

PeterWAWood

[13:26](#msg5996eaf1bc4647297498b4a1)@unchartedworks Rebol has a `protect` function which stops a `word!` being bound to a new value but the values to which it is bound is still mutable:

```
>> a: "12345"  
== "12345"
>> protect 'a
>> a: "12345"
** Script Error: Word a is protected, cannot modify
** Near: a: "12345"
>> append a "6"
== "123456"
```

[13:29](#msg5996ebaf76a757f808ba510f)It will work with values that are stored by value rather than by reference. I don't know if and how such a function might be included in Red.

9214

[13:31](#msg5996ec1f162adb6d2e0bed85)I think @dockimbel considered to include `protect` dialect with some other "security" features

unchartedworks

[13:32](#msg5996ec65ee5c9a4c5fd41ee8)@PeterWAWood The behavior is like C language, buffer pointer can't be modified, but you still can append data to the buffer until you append a long engough data to the end of the buffer. I think it might be a problem.

PeterWAWood

[13:33](#msg5996ec96210ac26920983895)In some of the very early discussions about Red, it was mentioned the overhead of copying large values was considered to be infeasible from a performance perspective.

unchartedworks

[13:33](#msg5996ec98162adb6d2e0bf12f)That’s why I hope there is more strict protect function.

[13:33](#msg5996ecba162adb6d2e0bf1ad)I think copy-on-write doesn’t have too much overhead.

PeterWAWood

[13:34](#msg5996ecc8ee5c9a4c5fd421bd)I'm sure that @dockimbel will come up with the best practical solution.

unchartedworks

[13:36](#msg5996ed5080d90ca0241147ea)Anyway I will keep it in mind, I don’t want protect to bite me unexpectedly someday.

9214

[13:42](#msg5996eeb4162adb6d2e0bfbe5)@unchartedworks  
&gt; The behavior is like C language, buffer pointer can't be modified, but you still can append data to the buffer until you append a long engough data to the end of the buffer. I think it might be a problem.

AFAIK `series!` buffers are dynamic and can change in size to fit its content, if that's what you mean.

unchartedworks

[13:44](#msg5996ef259acddb2407a3ee0c)

```
>> hannah: 1
== 1
>> hannah: :hannah
== 1
>> hannah
== 1
```

It isn't an Infinite loop as I expected.

9214

[13:44](#msg5996ef37a7b406262da0e5ff)why should it be?

[13:45](#msg5996ef7bc101bc4e3a2fc4f2)you just rebounded `hannah` word to `1` value

unchartedworks

[13:45](#msg5996ef849acddb2407a3efef)@9214 It isn’t a recursion.

9214

[13:45](#msg5996ef97162adb6d2e0c025a)@unchartedworks yes, I see, but why do you think it should be recursive? :D

[13:46](#msg5996efb4210ac26920984a64)`hannah: :hannah` doesn't mean "point to itself"

unchartedworks

[13:47](#msg5996efdfee5c9a4c5fd433bc)@9214 Alias?

9214

[13:47](#msg5996f00b578b44a046c20fdd)`:word` means "get a value to which word is bound to without evaluating it", `word:` means "bound word to a value that follows it"

PeterWAWood

[13:48](#msg5996f020578b44a046c21010):+1:

9214

[13:48](#msg5996f03e162adb6d2e0c056a)I think that it would be very nice to have some sort of glossary of terms

[13:49](#msg5996f0522723db8d5eb97a2e)like in the first chapter of The Blue Smalltalk book

PeterWAWood

[13:49](#msg5996f06d162adb6d2e0c05d5)We have started working on one but it is not ready for even publishing a first draft yet.

9214

[13:49](#msg5996f078c101bc4e3a2fc9b4)@PeterWAWood nice! :+1:

unchartedworks

[13:51](#msg5996f0d5ee5c9a4c5fd437ac)How about "you read a book chapter-by-chapter while it's being written and get the final eBook as soon as it's finished.”

9214

[13:51](#msg5996f0f1578b44a046c21464)@unchartedworks that's what https://doc.red-lang.org/ is ;)

unchartedworks

[13:57](#msg5996f25b80d90ca024116219)

```
>> hannah: func [x][hannah (x + 1)]
== func [x][hannah (x + 1)]
>> hannah 1
*** Internal Error: stack overflow
*** Where: hannah
*** Stack: hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah hannah
```

[13:58](#msg5996f26bbc4647297498df69)I got it right finally.

9214

[14:03](#msg5996f39cee5c9a4c5fd44670)@unchartedworks

```
>> inception: [we-need-to-go-deeper!]
== [we-need-to-go-deeper!]
>> insert/only tail inception inception
== []
>> inception
== [we-need-to-go-deeper! [...]]
>> second inception
== [we-need-to-go-deeper! [...]]
>> second second inception
== [we-need-to-go-deeper! [...]]
>> second second second inception
== [we-need-to-go-deeper! [...]]
```

unchartedworks

[14:04](#msg5996f3e9162adb6d2e0c1b24)@9214 Interesting!

9214

[14:05](#msg5996f418578b44a046c2254d)credit goes to @rebolek :sparkles:

greggirwin

[15:48](#msg59970c5cbc46472974996c4a)@unchartedworks, immutable data is not a cornerstone of Red, as with some language's designs. Some datatypes are immutable, but not all. `immediate!` contains most of them, but some in there are mutable (`[pair tuple! time! date!]`).

[15:51](#msg59970cedbc46472974996e3f)It is possible we could add a typeset to make mutability a clear group.

unchartedworks

[15:52](#msg59970d3a80d90ca02411ec26)@greggirwin That means Red doesn’t support FRP, but Reactive Programming.

greggirwin

[15:52](#msg59970d5a210ac2692098e835)My take is that Red's design should stay true to it's roots, but we can add features in dialects. For example, Red will have a standard GC, and mutability, but we could create a dialect that is based on immutability and uses reference counting.

unchartedworks

[15:54](#msg59970dd3c101bc4e3a305f86)It’s reasonable.

greggirwin

[15:55](#msg59970df7c101bc4e3a306047)@unchartedworks, Red's reactive model is like https://en.wikipedia.org/wiki/Dataflow\_programming, as opposed to FRP.

[15:57](#msg59970e7080d90ca02411f206)Spreadsheets are a classic comparison: https://en.wikipedia.org/wiki/Reactive\_programming

9214

[15:58](#msg59970ea1c101bc4e3a306392)from docs on reactivity:  
&gt; * Red’s reactive support could be extended in the future to support a "pull" model.  
&gt; * \*This is not a FRP framework\*, though event streams could be supported in the future.  
&gt; * The Red/View GUI engine relies on face! objects in order to operate on graphic objects. Faces are reactors, and they can be used for setting reactive relations between faces or with non-reactor objects.

greggirwin

[16:01](#msg59970f5b614889d475610217)https://gist.github.com/greggirwin/38883ca5109175a60896d2f406ee49f6 is something I did while playing with reactivity in Red early on.

unchartedworks

[16:03](#msg59970fce614889d475610532)\[!\[currenty-converter.png](https://files.gitter.im/red/red/2ThZ/thumb/currenty-converter.png)](https://files.gitter.im/red/red/2ThZ/currenty-converter.png)

[16:03](#msg59970fd92723db8d5eba1cbc)

```
>> [1 2 3] - [1 2 3]
*** Script Error: - does not allow block! for its value1 argument
*** Where: -
*** Stack
```

Is there any way I can extend- ?

@greggirwin Let me show a real Reactive Programming (FRP).

9214

[16:04](#msg59971005c101bc4e3a306ad9)@unchartedworks what do you want to achive by substracting one block from another?

unchartedworks

[16:04](#msg5997100d2723db8d5eba1d6c)\[!\[currency-converter-code.png](https://files.gitter.im/red/red/iYEW/thumb/currency-converter-code.png)](https://files.gitter.im/red/red/iYEW/currency-converter-code.png)

greggirwin

[16:05](#msg59971058162adb6d2e0cad30)@unchartedworks, to extend `-`, you have to modify the Red/System code. `Subtract` is an action, so you would need to modify the `block!` implementation to support it.

unchartedworks

[16:05](#msg5997105b578b44a046c2be52)@9214 Matrix Manipulation

9214

[16:06](#msg59971081614889d4756108c6)or you can create a `matrix` dialect ;)

unchartedworks

[16:06](#msg5997108c76a757f808bb1621)\[1 2 3] - \[1 1 1] == \[0 1 2]

greggirwin

[16:07](#msg599710db76a757f808bb17d7)A `matrix!` type seems better, based on `vector!`.

[16:10](#msg59971171c101bc4e3a307351)https://github.com/eugenkiss/7guis/blob/master/Red/temperature.red isn't reactive, but you could make it so. Doc wants to improve the reactivity system a bit to make it easier to catch cycles, which is why it isn't used there.

[16:11](#msg599711c6578b44a046c2c6d9)An equally valid design choice for subtract on blocks would be to work like `exclude`, or as a non-set version of it, that works as in...elixir I think.

9214

[16:12](#msg59971209a7b406262da19e73)@unchartedworks

```
matrix: context [
    -: make op! func [x y][
        if not equal? length? x length? y [
            return none
        ]

        collect [forall x [keep subtract x/1 y/1]]
    ]
]

probe do bind [[1 2 3] - [1 1 1]] matrix
```

unchartedworks

[16:16](#msg599712ec578b44a046c2cb48)@greggirwin your example is interesting. I am not sure it can express complex logic. for example, more text fields, or controls.

[16:18](#msg59971355578b44a046c2cdd6)@9214 \[1 2 3] - \[1 1 1] is simpler. no more no less. However you did it somehow. ;)

maximvl

[16:19](#msg59971398a7b406262da1a5f0)@unchartedworks you can make matrix dialect and define operations you want ;)

[16:19](#msg599713a7210ac269209909d4)@9214 showed how to do it

9214

[16:20](#msg599713b376a757f808bb28a5)well, you can change original `-` but then you can subtract only with, ehm, `subtract` :D

unchartedworks

[16:20](#msg599713e980d90ca024120c68)That’s why I want to extend `-`.

9214

[16:23](#msg5997147d9acddb2407a4b0a3)and that's why you were given all the power of `parse` and `bind` - to alter the language so it fits your problem, not the other way around

rebolek

[16:29](#msg599715f8c101bc4e3a308a7d)Hm, I wanted to make an example how to expand `-`, but it crashes console.

unchartedworks

[16:29](#msg5997160580d90ca0241215c8)Me too...

greggirwin

[16:30](#msg5997160a9acddb2407a4b881)&gt; @greggirwin your example is interesting. I am not sure it can express complex logic. for example, more text fields, or controls.

@unchartedworks, you mean the BMR calculator?

unchartedworks

[16:30](#msg5997162b76a757f808bb364f)@greggirwin https://github.com/eugenkiss/7guis/blob/master/Red/temperature.red

9214

[16:32](#msg5997168f9acddb2407a4bbbb)wat

```
>> switch/default type? [][block! [print "it's a block"]][print "it's not a block"]
it's not a block
```

greggirwin

[16:34](#msg599716f99acddb2407a4bd7e)Ah, well it (%temperature.red) was designed to be minimal and clear for the target example. The BMR calc shows reactivity in play. However, Red gives you a lot of options in how to design things. It's good to get real-world examples, that show concretely how we might approach them in Red.

[16:34](#msg5997171dc101bc4e3a308f95)

```
>> switch/default type?/word [][block! [print "it's a block"]][print "it's not a block"]
it's a block
```

9214

[16:34](#msg599717289acddb2407a4be0a)@greggirwin kudos!

rebolek

[16:35](#msg59971736c101bc4e3a309088)https://github.com/red/red/issues/2982

greggirwin

[16:35](#msg59971752ee5c9a4c5fd5088d)@9214 That's another rite of passage. Should probably be in the Primer if somone wants to add it.

9214

[16:36](#msg59971784614889d475612861)@greggirwin you're talking about `type?/word` ?

greggirwin

[16:36](#msg59971792a7b406262da1b9de)Yes.

[16:37](#msg599717b12723db8d5eba4257)Especially when used with `switch/select`.

9214

[16:52](#msg59971b6576a757f808bb5456)WAT

```
-: func [x y][x + y]
- 10 20
```

```
*** Script Error: - does not allow block! for its value1 argument
*** Where: -
*** Stack:
```

[16:56](#msg59971c36210ac26920992eb1)seems that redefining `op!` as `function!` wreaks the havoc

[17:02](#msg59971dc376a757f808bb5ec2)but this one is ok

```
-: func [x y][x + y]
probe x: - 2 3
```

unchartedworks

[17:03](#msg59971dfb80d90ca024123a35)@greggirwin Regarding temperature.red, I think it’s a good start. However many real world examples are much more complex than that, I am afraid the implementation won’t be elegant and correct at all without Functor/Applicative/Monad. http://adit.io/posts/2013-04-17-functors,\_applicatives,\_and\_monads\_in\_pictures.html

9214

[17:08](#msg59971f0880d90ca024123e74)It definitely will go against the core language idea _ with_ functors and monads if you ask me ;)

[17:09](#msg59971f3480d90ca024123f3a)regarding `-` issue - false alert, just checked on latest release

unchartedworks

[17:13](#msg59972038c101bc4e3a30b92e)@9214 what’s the core language idea?

9214

[17:14](#msg59972081210ac269209940fe)http://www.red-lang.org/p/about.html

[17:16](#msg599720ebc101bc4e3a30bb97)one of the ideas (as I understand it) is to reduce complexity and avoid complicated abstractions and to remain accessible for people with different backgrounds

[17:19](#msg599721929acddb2407a4ed2b)but that's only mean that heavy functional stuff certainly never will be included in core language (though, again, you can easily create all this stuff by yourself and ship it as an upcoming `module!`)

unchartedworks

[17:22](#msg5997226f578b44a046c31e42)It’s good to know. :)

9214

[17:45](#msg599727d7a7b406262da200cf)btw, is it intended that operators have precedence over functions?

```
>> length? [1 2 3] + 4
*** Script Error: + does not allow block! for its value1 argument
*** Where: +
*** Stack:
```

I understand that it's equivalent to

```
>> length? add [1 2 3] 4
*** Script Error: add does not allow block! for its value1 argument
*** Where: add
*** Stack:
```

and `add` is evaluated first (so as `+`), but this is a little bit confusing

rebolek

[17:59](#msg59972af0578b44a046c34444)@9214 yes, that's intended

[18:12](#msg59972e21bc464729749a0507)Is it really confusing? Both ways have their cons and pros:

```
>> print 1 + 1
2
```

9214

[18:13](#msg59972e53c101bc4e3a30f827)well, yeah, it's just a matter of perspective :)

greggirwin

[18:14](#msg59972e769acddb2407a52b0b):point\_up: \[August 18, 2017 11:03 AM](https://gitter.im/red/red?at=59971dfb80d90ca024123a35)  
@unchartedworks, real world examples are more complex, agreed. Don't let fear rule the day though, or discount how much elegant and correct code has been written without functors and monads. I skimmed your link, but my brain hasn't opened it's Haskell receptors yet (or maybe Redbol deactivated them), so it doesn't appear at all elegant to me. "To me" is the important part there.

I love concrete examples because, for me, they facilitate discussion. What is a good, real world, example we can use as a basis for comparison? I like the 7GUIs idea, imperfect as it may be, because it does just this. But if there are others, let's put them in a doc and see how we'd approach the same problems in Red.

unchartedworks

[18:47](#msg59973654162adb6d2e0d59b1)\[!\[Screenshot 2017-03-08 12.46.38.png](https://files.gitter.im/red/red/RC4g/thumb/Screenshot-2017-03-08-12.46.38.png)](https://files.gitter.im/red/red/RC4g/Screenshot-2017-03-08-12.46.38.png)

[18:54](#msg599737ed2723db8d5ebad5a3)@greggirwin It’s difficult to describe it. So I use a simplified example. There are 2 solutions. the functionality of s1 and s2 are the same, the implementations are quite different. I think many code is like the first one, maybe it’s easier to understand and many people do it like this, however it doesn’t mean there is no other better way to do it even they looks like very different from the common ways.

[19:06](#msg59973ab8a7b406262da25127)Here is an example of FRP.

[19:06](#msg59973ac976a757f808bbe9b4)\[!\[Screenshot 2016-12-09 11.03.54.png](https://files.gitter.im/red/red/sR1T/thumb/Screenshot-2016-12-09-11.03.54.png)](https://files.gitter.im/red/red/sR1T/Screenshot-2016-12-09-11.03.54.png)

[19:07](#msg59973adc9acddb2407a564a4)\[!\[Screenshot 2016-12-09 11.04.21.png](https://files.gitter.im/red/red/ecSs/thumb/Screenshot-2016-12-09-11.04.21.png)](https://files.gitter.im/red/red/ecSs/Screenshot-2016-12-09-11.04.21.png)

[19:07](#msg59973aea578b44a046c38dc0)\[!\[Screenshot 2016-12-09 11.47.59.png](https://files.gitter.im/red/red/T0W6/thumb/Screenshot-2016-12-09-11.47.59.png)](https://files.gitter.im/red/red/T0W6/Screenshot-2016-12-09-11.47.59.png)

[19:07](#msg59973af980d90ca02412c518)\[!\[Screenshot 2016-12-09 11.06.04.png](https://files.gitter.im/red/red/nzHK/thumb/Screenshot-2016-12-09-11.06.04.png)](https://files.gitter.im/red/red/nzHK/Screenshot-2016-12-09-11.06.04.png)

9214

[19:10](#msg59973b9a162adb6d2e0d71a9)\[!\[ERSiPwenMBU.jpg](https://files.gitter.im/red/red/2apo/thumb/ERSiPwenMBU.jpg)](https://files.gitter.im/red/red/2apo/ERSiPwenMBU.jpg)

greggirwin

[19:34](#msg59974150a7b406262da26e29)@unchartedworks, thanks for the examples, though trying to fit it all together to find the "I want to..." design aspect isn't working for me from them. If you look at https://github.com/eugenkiss/7guis/wiki, the tasks are clearly spelled out from a requirements perspective, which was what I wanted to ask for, but didn't do very well. We don't have to be as verbose or detailed as that, but the "I want a function that..." or "I want to write an app that..." spec level is what I'm thinking.

[19:35](#msg59974185162adb6d2e0d8ca9)Maybe @9214's expression is what I'm trying to say. :^)

unchartedworks

[19:37](#msg59974200a7b406262da27185)\[!\[Screen Shot 2017-08-18 at 21.36.19.png](https://files.gitter.im/red/red/ceir/thumb/Screen-Shot-2017-08-18-at-21.36.19.png)](https://files.gitter.im/red/red/ceir/Screen-Shot-2017-08-18-at-21.36.19.png)

[19:39](#msg5997428ca7b406262da27386)@greggirwin I have seen your 7guis. There is an example of counter. I made a counter as well. If you want, you can try to implement a counter like this. There are many counters, you can use switch counters button to switch to the counter you want to control.

greggirwin

[19:45](#msg599743f076a757f808bc11c3)Excellent, thanks.

[19:47](#msg5997445376a757f808bc13cc)Does `switch counter` step through each counter, wrapping at the end?

unchartedworks

[19:49](#msg599744cfbc464729749a696d)Yes.

greggirwin

[19:50](#msg599744f92723db8d5ebb1683)Thanks.

unchartedworks

[19:50](#msg599744fcbc464729749a69f7)I am reading crud.red. https://github.com/eugenkiss/7guis/blob/master/Red/crud.red

[19:52](#msg59974592c101bc4e3a3162b2)I would say it works. However, you have to call refresh .

```
cmd-create: does [append db make-rec  refresh]
cmd-update: does [change find db selected-name make-rec  refresh]
cmd-delete: does [remove find db selected-name  refresh]
```

[19:55](#msg59974629a7b406262da28504)I have a very similar example, it’s written in FRP as well.

```
databaseGUI :: IO ()
databaseGUI = do
    --VIEW
    -- Frame
    f <- frame [text := "Database"]

    -- Listbox
    listBox <- singleListBox f []

    -- Buttons
    createButton <- button f [text := "Create"]
    deleteButton <- button f [text := "Delete"]

    -- Entries
    firstnameEntry <- entry f []
    lastnameEntry <- entry f []
    searchEntry <- entry f []

    -- Layout
    let dataItem = grid 10 10 [[label "First Name:", widget firstnameEntry],
                              [label "Last Name:", widget lastnameEntry]]
    set f [layout := margin 5 $ grid 10 5 [[row 5 [label "Search", widget searchEntry], glue],
                                     [minsize (sz 200 300) $ widget listBox, dataItem],
                                     [row 5 [widget createButton, widget deleteButton], glue]]]

    -- NETWORK
    let networkDescription :: MomentIO ()
        networkDescription = mdo
            -- Buttons
            eCreate <- event0 createButton command
            eDelete <- event0 deleteButton command

            -- ListBox
            eSelectedIndex <- eventSelection listBox

            -- Entries
            bFirstname <- behaviorText firstnameEntry ""
            bLastname <- behaviorText lastnameEntry ""
            bSearch <- behaviorText searchEntry ""

            -- Behaviors
            let
                eName = pair <$> bFirstname <*> bLastname <@ eCreate
                bFilteredNames = filterNames <$> bSearch <*> bNames

            bNames <- accumB [] $ append <$> eName
            let eSelectedName = (\names i -> names !! i) <$> bFilteredNames <@> eSelectedIndex
            bSelectedName <- stepper ("", "") eSelectedName

            -- Sinks
            sink f [text :== showName <$> bSelectedName]
            sink listBox [items :== (map showName) <$> bFilteredNames]

    network <- compile networkDescription
    actuate network
```

greggirwin

[19:58](#msg599746cd76a757f808bc1f4a)Yes, `refresh` is there because it's not a reactive example app.

unchartedworks

[19:59](#msg599747259acddb2407a59e93)OK, it’s my mistake.

greggirwin

[20:07](#msg59974905bc464729749a7bfb)

```
Red [
	title:  "Multi counter"
	author: "Gregg Irwin"
]

num-counters: 9
counters: copy []

count: func [n /local c][
	c: get first counters
	c/data: c/data + n
]
switch-counters: does [
	counters: next counters
	if tail? counters [counters: head counters]
]
lay: [
	across
	button "Up" [count 1]
	button "Down" [count -1]
	button "Switch Counters" [switch-counters]
	return
]
repeat i num-counters [
	fld: to word! rejoin ['txt- i]
	repend lay [
		'text rejoin ["Counter No. " i] to set-word! fld 'text "0" 'return
	]
	append counters fld
]
view lay
```

unchartedworks

[20:10](#msg599749a9162adb6d2e0db1e1)I suppose it isn’t reactive programming.

greggirwin

[20:11](#msg599749ed2723db8d5ebb2df7)No, I'm not trying to be reactive at this point.

unchartedworks

[20:11](#msg59974a0b162adb6d2e0db3ba)

```
twoCountersGUI :: IO ()
twoCountersGUI = do
    --VIEW
    --Frame
    f <- frame [text := "Two Counters"]

    --Buttons
    upButton <- button f [text := "Up"]
    downButton <- button f [text := "Down"]
    switchButton <- button f [text := "Switch Counters"]

    --StaticTexts
    counterTexts <- mapM (\x -> staticText f []) [1..numOfCounters]

    --Layout

    let buttonsLayout      = [[row 5 [widget upButton, widget downButton, widget switchButton]]]
        counterTextsLayout = mapIndexed makeCounterLayout counterTexts
    set f [layout := margin 10 $ grid 10 10 (buttonsLayout ++ counterTextsLayout)]

    --NETWORK
    let networkDescription :: MomentIO ()
        networkDescription = mdo
            --Buttons
            eUp <- event0 upButton command
            eDown <- event0 downButton command
            eIndex <- event0 switchButton command

            --StaticTexts
            bIndex <- accumB 0 $ increaseCounterIndex <$ eIndex
            bCounters <- accumB initialCounters $ unions [increment bIndex eUp, decrement bIndex eDown]

            --Sinks
            sink f [text :== show <$> bIndex]
            mapMIndexed (sinkWithCounterText bCounters) counterTexts
            return ()

    network <- compile networkDescription
    actuate network
```

greggirwin

[20:12](#msg59974a10bc464729749a7f3f)Just duplicating your example.

[20:13](#msg59974a4c9acddb2407a5accd)Sorry I have to run. Will try to check back tomorrow.

unchartedworks

[20:13](#msg59974a6c614889d4756218f4)Never mind. :)

## Saturday 19th August, 2017

helloyi

[09:11](#msg599800bec101bc4e3a342683)Hello, I saw the \[draw dialect](https://doc.red-lang.org/en/draw.html), but did not find a description of setting background color. I am a novice. thanks!

rebolek

[09:18](#msg5998028080d90ca02415b88a)@helloyi Background for whole face? just set the color of base face:

```
>> view [base 100x100 red draw [line 0x0 100x100]]
```

helloyi

[09:27](#msg599804699acddb2407a872d7)@rebolek Thank you very mach! I should complete the GUI system.

rebolek

[09:28](#msg599804a476a757f808bef1c8)@helloyi you're welcome!

unchartedworks

[12:04](#msg599829482723db8d5ebe7b2b)How to catch an error rasied by cause-error? For instance,

```
f: func [][cause-error 'script 'not-related [1 2]]
f
```

rebolek

[12:14](#msg59982b8e76a757f808bf817a)As any other error, with `try`:

```
>> e: try [f]
*** Script Error: incompatible argument for 1 of 2
*** Where: do
*** Stack: f cause-error  

>> type? e
== error!
>> probe e
make error! [
    code: none
    type: 'script
    id: 'not-related
    arg1: 1
    arg2: 2
    arg3: none
    near: none
    where: 'do
    stack: -189298728
]
```

unchartedworks

[12:29](#msg59982f3bc101bc4e3a34ced9)Thanks. I didn’t know that try returns an error. I tried to use catch, it didn’t work as I expected.

## Sunday 20th August, 2017

powerconnector

[05:02](#msg599917cf614889d47568c980)First of all I've just discovered Rebol/Red and I think this language is the most beautiful thing i've ever seen. Well maybe not quite but it's like really close. :P It's like someone took lisp and improved it a bunch. I have two questions about building GUIs in Red:  
If I build the exe file of my red file and i start it i still get the windows cmd in the background how do i get rid of it?  
I can disable an area by setting area/enabled?: false but how do i disable a area on creation?  
area "hello world" enabled? false  
did not work

rebolek

[05:18](#msg59991b909acddb2407ac718c)@powerconnector compile with `-t Windows` to get rid of cmd window.

powerconnector

[05:30](#msg59991e93162adb6d2e1487dc)thanks! that works great! I just saw that this is in the FAQ... sorry I somehow missed it there

rebolek

[05:37](#msg5999200d210ac26920a0c2b9)no problem!

[05:40](#msg599920d7a7b406262da94da1)@powerconnector for you second question: `view [area on-create [face/enabled?: false]]`

powerconnector

[05:42](#msg5999213da7b406262da94e9d)Thanks again! This language is awesome!

rebolek

[05:46](#msg5999224c2723db8d5ec22a77)glad you like it :)

9214

[08:20](#msg5999463676a757f808c38c3f) @powerconnector or just `view [area disabled]` ;) welcome!

fvanzeveren

[08:56](#msg59994eb7578b44a046cb4dca)Hello, I am looking at the `parse` fonction in Red, compared to the rebol version. In rebol, by default, blank characters are not parsed for srrings, making building rules easier. It is not the case with the Red version. Is there something I am missing here? Thank you;

rebolek

[08:57](#msg59994f05a7b406262da9f28f)@fvanzeveren No, you're not missing anything, it was decided that `parse/all` mode from Rebol should be default.

fvanzeveren

[08:58](#msg59994f3e80d90ca0241a8e6f)@rebolek thanks, is there a way to switch to the "rebol" version?

9214

[08:59](#msg59994f5776a757f808c3ad0c)Rebol2

```
>> parse "a b c" none
== ["a" "b" "c"]
```

Red

```
>> split "a b c" space
== ["a" "b" "c"]
```

Is that what you mean?

rebolek

[08:59](#msg59994f84a7b406262da9f489)@fvanzeveren I don't think so. Personally, I've always used `parse/all`, so I am happy with the change :)

fvanzeveren

[09:01](#msg59994fce80d90ca0241a905d)Indeed, this is the most used version... It was just to know if there is a kind ofcompatibility mode ;) But that is OK for me too!

endo64

[11:28](#msg5999725fa7b406262daa7249)Is this a know bug (or not implemented yet)?

```
>> f: func [a] [a * 2]
== func [a][a * 2]
>> save %file.red :f
```

file.red looks like: (no brackets)

```
func aa * 2
```

9214

[11:31](#msg59997314614889d4756a1c83)@endo64

```
>> f: func [a][a * 2]
== func [a][a * 2]
>> write %file.red :f
>> read %file.red
== "func [a][a * 2]"
```

endo64

[11:35](#msg5999740c614889d4756a2058)I know that it is possible, just curious about the `save` issue.

radebrecht

[11:41](#msg59997551162adb6d2e15c10a)reactors seem to ignore changes effected via functions

```
>> a: make deep-reactor! [
[       l: ["qwe" "asd" "yxc"]
[       q: is [ collect [ foreach n l [ keep copy/part n 1 ] ] ]
[       f: func [txt ] [ l: append l txt ]
[    ]
== make object! [
    l: ["qwe" "asd" "yxc"]
    q: ["q" "a" "y"]
    f: func [txt][l: app...
>> print a
l: ["qwe" "asd" "yxc"]
q: ["q" "a" "y"]
f: func [txt][l: append l txt]
>> 
>> a/l: append a/l "rtz"
== ["qwe" "asd" "yxc" "rtz"]
>> print a
l: ["qwe" "asd" "yxc" "rtz"]
q: ["q" "a" "y" "r"]
f: func [txt][l: append l txt]
>> a/f "problem"
== ["qwe" "asd" "yxc" "rtz" "problem"]
>> print a
l: ["qwe" "asd" "yxc" "rtz" "problem"]
q: ["q" "a" "y" "r"]
f: func [txt][l: append l txt]
```

Am I misunderstanding something here or should the call to `a/f` trigger the reaction as well?

dockimbel

[11:41](#msg59997576bc46472974a28cbb)@radebrecht You need to use a `deep-reactor!` in that case.

radebrecht

[11:43](#msg599975c4a7b406262daa7fa3)@dockimbel Yep, thought so myself. Doesn't work, though. I'll update the example

[11:45](#msg5999764c614889d4756a26ca)Here's the code solo, in case you want to test it yourself:

```
a: make deep-reactor! [
   l: ["qwe" "asd" "yxc"]
   q: is [ collect [ foreach n l [ keep copy/part n 1 ] ] ]
   f: func [txt ] [ l: append l txt ]
]
print a

a/l: append a/l "rtz"
print a
a/f "problem"
print a
```

toomasv

[11:51](#msg599977b9bc46472974a29781)@radebrecht Try `f: func [txt ] [ self/l: append l txt ]`

radebrecht

[11:52](#msg599977f99acddb2407adc0ba)That does it! A thousand thanks.

toomasv

[11:52](#msg5999780a80d90ca0241b2c70)@radebrecht You are welcome!

dockimbel

[11:56](#msg599978f1bc46472974a29cb3)Good answer from @toomasv. Though, I'm not sure why such code pattern would not trigger the reaction. I think it is worth a ticket, so I can give it a deeper look later.

toomasv

[11:58](#msg59997949a7b406262daa8cdc)@dockimbel It is similar with `reactor!` too, as I discovered while working on `regex`. I.e. from inside functions you have to assign values with `self` to trigger reaction.

dockimbel

[12:01](#msg59997a2b9acddb2407adca10)@toomasv Modification of the block referenced by `l` should trigger a reaction in a `deep-reactor!`. At first look, I can't tell if that was left for later implementation, or if it is regression.

toomasv

[12:03](#msg59997a8d76a757f808c45344)@dockimbel But why is it working with `self` only? That is, from inside functions.

dockimbel

[12:10](#msg59997c1aee5c9a4c5fde2004)@toomasv It should work with setting the word too (without the `self/` prefix). Not sure why it does not, so a ticket about that use-case would be welcome.

radebrecht

[12:11](#msg59997c829acddb2407add30b)So shall I open an issue in https://github.com/red/red/issues or how does the ticket thing work?

toomasv

[12:12](#msg59997c99210ac26920a21a15)@dockimbel @radebrecht https://github.com/red/red/issues/2989

dockimbel

[12:12](#msg59997c9e578b44a046cc0130)Thanks!

radebrecht

[12:14](#msg59997d3fc101bc4e3a398e29)While we're at it:

```
a: make reactor! [
   l: ["qwe" "asd" "yxc"]
   win: layout [
     text-list react [ face/data: l ]
   ]
]

view a/win
```

opens with an empty list. So, how do I get a reaction inside a `layout` block listening to changes in the outside reactor?

dockimbel

[12:20](#msg59997ea72723db8d5ec3824d)@radebrecht `react` requires at least one reactive source in its argument block. Reactive sources are identified among `path!` values, but there is none in the above argument block. Moreover, you don't need to wrap your VID code with a reactor if the purpose is to make the `text-list` react on changes of block `l`:

```
l: ["qwe" "asd" "yxc"]
view [
	text-list data l
	button "Add" [append l copy random "abc"]
]
```

[12:22](#msg59997f1c578b44a046cc0bf1)View faces (`face!` objects) are deep reactors already (they use a specialized handler, more complex than the one used by the `deep-reactor!` object).

radebrecht

[12:24](#msg59997f8ec101bc4e3a399569)@dockimbel Thanks a bunch. This is all very confusing. I'll keep learning, I'm sure. Red seems to be that level of clever that makes me feel quite dim sometimes.

dockimbel

[12:28](#msg5999805f80d90ca0241b4c28)The View engine and the face objects (used to represent graphic components) are already highly reactive, so there is no need to add any reactor there. The general reactive framework (based on `reactor!` and `deep-reactor!`) is there to cover non-GUI related reactive programming needs (like the reactive rules in the regex to Parse compiler written by @toomasv) . Well, it certainly would be easier with more than the few docs we only have for now.

[12:35](#msg599981fd80d90ca0241b5270)Anyway, feel free to ask as many questions as needed. `red/help` room might be a better place for that, especially if you have many code snippets to share.

meijeru

[13:05](#msg59998905210ac26920a24c93)@endo64 On your recent question: `save mold :f` will also work.

[13:05](#msg59998936578b44a046cc3748)Though it is not clear to me if the need for explicit \*molding* is a bug.

[13:38](#msg599990ee2723db8d5ec3cce5)I have now checked the source, and there IS a bug, see #2990

[16:20](#msg5999b6b6162adb6d2e16cfda)To be quite sure, doing `save mold :f` is adding an extra pair of quotes, so it isn't really a solution.We have to wait for the bug to be corrected.

unchartedworks

[16:25](#msg5999b807162adb6d2e16d37f)

```
true or (do [print "OK" true])
```

```
OK
== true
```

[16:26](#msg5999b847210ac26920a3108a)Is there any fuction/operator which works like the || in the other language?

[16:28](#msg5999b8a0162adb6d2e16d63b)`(do [print "OK" true])` shouldn’t be evaluated, however it was evaluated.

powerconnector

[17:01](#msg5999c06cba0f0f6e38c51156)@unchartedworks you could do `any [ true do [print "OK" true]]`

meijeru

[17:08](#msg5999c1f3ee5c9a4c5fdf4679)likewise: to `&&` corresponds `all`

fvanzeveren

[18:00](#msg5999ce48ba0f0f6e38c54cda)Hello,I am trying to configure IIS10 to execute cgi scripts using Red. I did it successfully with Rebol. So for red, I added a module mapping for \*.red files with the following executable: `C:\www\red.exe --cli %s`. But I get an error message when trying to load the simple file

```
Red[]
print "Content-type: text/html^/"
print rejoin ["Hello world from Red " system/version]
```

The server displays:

```
Erreur HTTP 502.2 - Bad Gateway
L'application CGI spécifiée n'a pas renvoyé le jeu complet d'en-têtes HTTP. Les en-têtes effectivement retournés sont "".
```

Any idea what is going wrong?

Thank you.

rebolek

[18:05](#msg5999cf5ea7b406262dabeece)@fvanzeveren I have no experience with IIS, setting up Red as CGI in Apache was very easy, see https://github.com/red/red/wiki/Using-Red-as-CGI , if you can get it working under IIS, please add your experience to that wiki.

fvanzeveren

[18:45](#msg5999d8cf614889d4756bbb66)@rebolek  
Actually, setting up rebol as CGI with IIS was painless... I do not understand why the same procedure does not work with Red :worried:

honix

[19:13](#msg5999df43162adb6d2e1775da)hey, it is possible to cross-compile libRed?

rebolek

[19:13](#msg5999df77ba0f0f6e38c59401)@honix yes, just use `-t`

honix

[19:14](#msg5999df93c101bc4e3a3b22ab)

```
> red-063.exe -t Android build libRed
Cannot access source file: D:\MilkyWay\Programming\red\build
```

[19:17](#msg5999e04ea7b406262dac2cc7)sadly there is no info about cross libRed. but i think it is most wanted feature

[19:21](#msg5999e1529acddb2407af694c)

```
> red-063.exe -t Android -c hello.red
```

with super easy

```
print "hello"
```

starts to compile, but stuck with this

```
... *** Compilation Error: invalid path value: image/encode ...
```

9214

[19:23](#msg5999e1ae9acddb2407af6a97)@honix AFAIK first major version of Android support will be delivered in `0.6.4` or `0.6.5`

unchartedworks

[19:25](#msg5999e214c101bc4e3a3b2cb0)@powerconnector @meijeru Thanks.

honix

[19:54](#msg5999e912578b44a046cdd7e8)ok. this works

```
> red-063.exe -t Linux -dlib -o libRed.so libRed.red
```

maybe its what i want..

endo64

[21:41](#msg599a01f9ba0f0f6e38c61581)@fvanzeveren I tested compiled red.exe to run as CGI on IIS, I get `502.2 - Bad Gateway. SetConsoleTitle failed!`.  
Then I set `Use New Console For Each Invocation` to `true` under `CGI` and I got `502.2 - Bad Gateway. --== Red 0.6.3 ==-- Type HELP for starting information.`

[21:42](#msg599a0233c101bc4e3a3bb0c7)So I think, IIS expects a certain output but Red console outputs some text which leads to error.

[21:47](#msg599a0368578b44a046ce4012)Got it! I made it work. Here is how: (IIS 8.5 on Win8.1 x64)

[21:47](#msg599a03739acddb2407aff62a)\[!\[image.png](https://files.gitter.im/red/red/Qx9V/thumb/image.png)](https://files.gitter.im/red/red/Qx9V/image.png)

[21:48](#msg599a03c3614889d4756c670c)\[!\[image.png](https://files.gitter.im/red/red/VbyX/thumb/image.png)](https://files.gitter.im/red/red/VbyX/image.png)

[21:53](#msg599a04c7210ac26920a43f98)Key points are:  
\* You have to use the compiled red console executable (the one in `programdata`) just rename `console-2017-8-15-58189.exe` to `redconsole.exe`, put somewhere IIS can reach and IUSR account can execute it.  
\* `Use New Console For Each Invocation` under `CGI` should be set to `true` otherwise it fails with `502.2 - Bad Gateway. SetConsoleTitle failed!`  
\* Don't forget to put `%s` at the end of `Executable` settings (you may need to double quote it if your scripts are in a path with spaces: `redconsole.exe "%s"`)

[21:55](#msg599a0541bc46472974a4d565)\[!\[image.png](https://files.gitter.im/red/red/0BWE/thumb/image.png)](https://files.gitter.im/red/red/0BWE/image.png)

[22:08](#msg599a0864210ac26920a44c3b)You can also use `red.exe` if you set `Executable` to `C:\inetpub\wwwroot\red.exe --cli %s` no need to use compiled exe. But it still looks safer to me, I can be sure that it will not compile the console.

[22:23](#msg599a0bc8ba0f0f6e38c63956)@rebolek @fvanzeveren I edit the wiki accordingly. https://github.com/red/red/wiki/Using-Red-as-CGI

## Monday 21st August, 2017

geekyi

[00:09](#msg599a24afbc46472974a54a54)@endo64 :point\_up: \[August 21, 2017 2:47 AM](https://gitter.im/red/red?at=599a0368578b44a046ce4012) did you mean to put a rectangle around `Add Module Mapping` actually? Just wondering, because I think your screenshots are nice and should be put in wiki too!

bear256

[03:57](#msg599a5a1e210ac26920a56a3a)Hello, I'm a newbie for using Red. Anybody knows, how to create a scroller for a panel or other face and show it? Thanks

greggirwin

[06:09](#msg599a792e9acddb2407b1904d)@Endo, thanks for figuring that out and adding it to the wiki.

[06:13](#msg599a7a132723db8d5ec7542d)@bear256, there is no standard scroller style in Red yet, though we hope to see it soon. @rebolek has written his own, which is the only one I know of at this point.

bear256

[06:15](#msg599a7a9c162adb6d2e19aef2)@greggirwin OK, but I saw the area has the scroller. And could you post the link of @rebolek own implementation.

endo64

[06:15](#msg599a7a9f76a757f808c83dc9)@geekyi Correct rectangle should be around `Add Module Mapping`, I'll take correct screenshots and put them into wiki.

rebolek

[06:17](#msg599a7af9ba0f0f6e38c7c5d0)@bear256 see my Gitter client https://github.com/rebolek/gritter for scroller style, it is in https://github.com/rebolek/gritter at line 161

bear256

[06:17](#msg599a7b10c101bc4e3a3d5c92)@rebolek Thanks ！

[06:23](#msg599a7c68a7b406262dae5b7a)Any tutorials for creating custom face in vid/draw?

rebolek

[06:37](#msg599a7f9ca7b406262dae6d1e)No tutorials afaik, but you can learn from the scroller style, it is relatively easy

bear256

[06:37](#msg599a7fb3210ac26920a5f0cf)@rebolek Sure, thanks!

fvanzeveren

[06:41](#msg599a80929acddb2407b1b161) @endo64  
Thank you very much!!! I was just missing the flag "Use new console for each invocation"!  
I am just wondering why `Red` needs this flag to be `true`, while `rebol` does not. I suspect that setting this flag to `true` has an advert impact on peeformance :worried:  
François

pekr

[06:46](#msg599a81db578b44a046d008cc)But Rebol imo uses new console for each invocation too. I can't imagine, how would it work otherwise, unless the interpreter supports FastCGI mode?

fvanzeveren

[06:50](#msg599a82a7578b44a046d00d66)@pekr, I have not been able to use FastCGI so far... So you may be right and rebol uses a new console every time... But why this flag causes a problem for red and not for rebol?

rebolek

[08:49](#msg599a9e96ee5c9a4c5fe2939f)@bear256 if you have any questions about custom styles, feel free to ask me

bear256

[08:49](#msg599a9eb7ba0f0f6e38c87486)@rebolek Thanks for your helps!

rebolek

[08:51](#msg599a9efa76a757f808c8e624)You're welocme.

bear256

[08:53](#msg599a9f81a7b406262daf03f1)@rebolek I love Red/Rebol, but seems to hardly used, especially there is not any completed tutorial to explain these concepts &amp; data structures for something like face.

honix

[09:20](#msg599aa5f8ba0f0f6e38c8967a)@bear256 i found

```
probe some-face
```

useful sometimes

bear256

[09:21](#msg599aa61c210ac26920a6aa3a)@honix Yes, I also used.

rebolek

[09:21](#msg599aa62376a757f808c909eb)@bear256 there are some docs for Rebol/View, Red is too young for good docs :)

bear256

[09:22](#msg599aa642bc46472974a749cd)@rebolek For Rebol2/View?

rebolek

[09:26](#msg599aa751162adb6d2e1a7b39)Yes, let me find some links...

[09:27](#msg599aa784578b44a046d0bad7)@bear256 see \*graphical programming* here http://www.rebol.com/docs/docs.html

bear256

[09:28](#msg599aa7ab162adb6d2e1a7c50)@rebolek Sure, thanks

rebolek

[09:31](#msg599aa883a7b406262daf2dc5)Custom styles in Draw are fun

[09:31](#msg599aa889210ac26920a6b66a)\[!\[graph.png](https://files.gitter.im/red/red/OdTh/thumb/graph.png)](https://files.gitter.im/red/red/OdTh/graph.png)

bear256

[09:32](#msg599aa8bfee5c9a4c5fe2c2bf)Yes, very nice.

pekr

[09:38](#msg599aaa1cba0f0f6e38c8a8e5)@rebolek very nice! Any example of the code (dialect, if any), which created above output? Would create a post on FB :-)

[09:39](#msg599aaa3f614889d4756efc20)btw - any expected date of the data grid release? Or will you wait for the GC release first?

maximvl

[09:39](#msg599aaa69a7b406262daf3673)@rebolek looks awesome

rebolek

[09:42](#msg599aaaf1bc46472974a76220)@pekr Thanks! The above graph is generated from flat block of values, the graph style is still work in progress (ie y-labels are slightly wrong and x-labels are just nonsense), so it needs some work before releasing. GC is such a problem for graph, it's not redrawn so often as text-table, where you can scroll.

maximvl

[09:53](#msg599aad9cee5c9a4c5fe2da41)@rebolek btw, do we have something like rich-text widget with styles, etc?

rebolek

[09:54](#msg599aade176a757f808c92ef9)I have rich-text widget (limited to monospace font), but `text-box!` solves this problem much better, so I am not developing it anymore.

maximvl

[10:03](#msg599aafd7ee5c9a4c5fe2e5e3)@rebolek I don't see `text-box!` in the docs

[10:03](#msg599aafdfa7b406262daf4e7b)could you give an example how to use it?

rebolek

[10:04](#msg599ab030162adb6d2e1a9fbd)@maximvl There are docs for text-box at https://github.com/qtxie/red/wiki/Text-box!-Usage

Bitsoma

[13:02](#msg599ad9e12723db8d5ec91d8a)Hello, I am wondering whether it's possible to use Red as a CGI-Script like it was possible with Rebol? Thanks in advance for the answer.

9214

[13:03](#msg599ada07162adb6d2e1b68d6)@Bitsoma https://github.com/red/red/wiki/Using-Red-as-CGI

Bitsoma

[13:04](#msg599ada4ec101bc4e3a3f1195)Thanks for the info!

geekyi

[14:10](#msg599ae9c4a7b406262db0654c)@bear256 https://gitter.im/red/red/welcome is best for asking newbie questions  
http://www.red-by-example.org/vid.html for \*VID* tutorials,  
https://github.com/red/red/wiki#beginners-guides for others

fvanzeveren

[17:27](#msg599b1801162adb6d2e1c9b4a)@rebolek  
Is there some tutorials on how to use your `http-tools.red` library?  
Thank you.

rebolek

[17:29](#msg599b189176a757f808cb34d3)@fvanzeveren No, I suck at documentation :book: :cry: I think it should be pretty self-explaining, but I will try to write something tomorrow.

fvanzeveren

[17:37](#msg599b1a4c76a757f808cb3d0e)@rebolek for now, I successfully displayed the `http-headers` object from a red cgi script... A good start to play around.

rebolek

[17:39](#msg599b1ad1bc46472974a98a4b)@fvanzeveren getting `http-headers` and `send-request` function is basically all what it does. The rest is some support, HTML form encoding and such stuff.

greggirwin

[19:38](#msg599b36bc210ac26920a9508d):point\_up: \[August 21, 2017 3:31 AM](https://gitter.im/red/red?at=599aa883a7b406262daf2dc5) +1 Bolek. Really looks nice.

AlexanderBaggett

[20:55](#msg599b48c176a757f808cc06f0)What kinds of projects are people using Red for currently?

9214

[20:57](#msg599b49479acddb2407b5584e)@AlexanderBaggett I'm currently writing blog post entry about some 13-year-old mystery from my childhood which I solved with Red (involves RE stuff, a pinch of cryptography and bit-twiddling trickery) ;)

[20:58](#msg599b4970ee5c9a4c5fe5c997)which boils down to the creation of a tiny hash decoder with nice looking minimal GUI

[21:05](#msg599b4b0f162adb6d2e1d8543)from what I've saw, there're also @ldci's \[RedCV](https://github.com/ldci/redCV) and @koba-yu's \[RedOCR](https://github.com/koba-yu/RedOCR)

AlexanderBaggett

[21:06](#msg599b4b682723db8d5ecb1bd8)@9214 That's cool stuff :)

9214

[21:14](#msg599b4d4d210ac26920a9b300)also, recently @honix cooked up \[painting app](https://github.com/honix/Redraw) and just yesterday @maximvl revealed \[shell dialect](https://gitlab.com/maxvel/red-shell-dialect/tree/master)

[21:15](#msg599b4d859acddb2407b56a59)btw, should we label our projects as `red` or as `redlang`?

honix

[21:35](#msg599b523fba0f0f6e38cbc5d8)lets use both! :smile:

[21:38](#msg599b52c19acddb2407b58121)btw offical repos uses

```
red
```

## Tuesday 22nd August, 2017

geekyi

[04:50](#msg599bb82ba7b406262db3aff5)&gt;\["After memory safety, what do you think is the next big step for compiled languages to take?"](http://graydon2.dreamwidth.org/253769.html)

Graydon Hoare (creator of rust), writes about language futures; talking about lots of different concepts.  
Anyone else read about it? \[hacker news discussion](https://news.ycombinator.com/item?id=15051645)

9214

[06:32](#msg599bd00d2723db8d5ecd06e8)@geekyi yes, also PMed a link to @dockimbel a couple of days ago, highly insightful

greggirwin

[06:33](#msg599bd030bc46472974ac5560)I hadn't seen it @geekyi, thanks! Going to check it out.

[06:47](#msg599bd39fee5c9a4c5fe7cb85)Good read. Just thinking about looking at some of the areas of research makes my head hurt.

qtxie

[07:21](#msg599bdb6f578b44a046d5e869)Hi, guys, I made a website for share red code last weekend.  
http://publisher-deserts-78166.netlify.com/  
It's a demo site. If you think it's useful, I'll polish it. :smile:

9214

[07:24](#msg599bdc2f210ac26920abc1fe)@qtxie nice! Although none of the github links in Scripts/Libraries seems to work (and they look suspicious) :(

qtxie

[07:41](#msg599be036ba0f0f6e38cde042)It's fake data for now. ;-)

9214

[07:42](#msg599be06b578b44a046d5fec9)@qtxie oooh :smile: anyway, that's a good start for package managing site

CodingFiend\_twitter

[07:48](#msg599be1b0614889d47574240f)take the snake game challenge. PROGRAMMING CHALLENGE  
A Snake Game / basic version

specification by Edward de Jong, version 1

The game runs at 6 frames per second, and the snake moves one cell per frame. If the snake moves into the apple the length is increased by one, a crunch sound is emitted, and the apple is moved to a new cell. If the snake crosses over itself, then a beep is emitted and the part of the snake from that cell onward is erased. The snake wraps around the board in all four directions.

The playing board, drawn solid black, is subdivided into square cells of 42 points at the screen resolution. Since the window size will not be an even number of cells, the cells are stretched slightly so that all screen space is used by the grid. At the start, the snake is set to length 1 and positioned at cell (4,4). The apple, which is the goal of the snake to eat, is one cell drawn as a circle in HTML color crimson, and is placed at a random location on the board.

At the start of the game the snake is paused. As soon as an arrow key is pressed, the snake begins to move in that direction, and leaves a trail behind. Initially the trail is limited to 5 cells total. If the snake moves into the Apple, the snake's length grows by 1. Once the apple is eaten, it is immediately respawned into a random new cell. The apple may end up on occasion placed inside the body of the snake, however, the snake only is considered to have eaten the apple if the head moves onto the apple. The snake cells are drawn as 40 point squares with 2pts on the right and bottom to create a separation. The snake cells are drawn in alternating colors lime green and lawn green. The head of the snake is drawn as a rounded rectangle with a corner radius of 8 pt and a border of 2 pt dark green. The remaining cells of the snake are drawn as a rounded rectangle with 2 pt corner radius. If the snake cells had to be reduced from 42 pt due to window size limitations, then the radii and border thickness are reduced accordingly.

The only input to the game is the keyboard. The arrow keys change the direction of the snake, however, to prevent frustration the player is not allowed to move the snake head back into itself. So if the snake is traveling east, any attempted movement west is ignored. A command to move in the direction already in motion is ignored. To permit fast maneuvers the direction inputs are queued, so that the player can do WEST - SOUTH - EAST to perform a 180 degree turn in 3 consecutive frames. Pressing the space bar pauses or resumes the game.

As the snake grows and shrinks, the current size and high score is reported at the top of the screen as a topmost layer at 30% opacity, centered in 28 pt black text, for example: "8 high:22".

The default starting window size is 700 x 700 interior pixels. If the user resizes the window, the game is reset back to the starting state.

Note: since the window size will not usually be an even multiple of 42 points, the cells are slightly stretched to not have any dead space leftover. If the given window size is too small to accommodate at least 10 cells in both directions, the cellsize is reduced. So the program must first figure out how many the proper cell size such that at least 10 cells can fit in the X and Y directions, but no larger than 42 pts in size, then divide the width and height by the number of cells in each direction, and then pad the cells by the leftover amount so that the cell grid fills the space perfectly.

External resources:  
 crunch.mp3 sound  
 beep.mp3 sound  
 you are given a window size in pixels, and the resolution of the device.  
o device resolution might vary from 86 dpi (desktop), to 500+ dpi (mobile)

An example of a subset of this game, written in real time in under 5 minutes in JavaScript can be seen on youtube at: https://www.youtube.com/watch?v=xGmXxpIj6vs

The 5 minute coding example has no scaling of the grid, doesn't keep score, and a few other things, but does show impressive coding speed.

rebolek

[07:48](#msg599be1b99acddb2407b7922d) @qtxie Nice :)

CodingFiend\_twitter

[07:50](#msg599be23b76a757f808ce3bf9)the lack of sizing calculations in the JS version made it hard-coded to specific resolutions which is unrealistic given the huge range of devices today (80 to 800 dpi!), and also without a score it is not nearly as much fun. Also he didn't have a pause key, which is crucial. He also didn't have sound effects which are crucial, and would have shown a very ugly side of JS.

[07:51](#msg599be289c101bc4e3a4360ab)If you can do it under an hour you are very good indeed. Should come in under 800 words.

9214

[07:55](#msg599be37376a757f808ce41dd)@CodingFiend\_twitter are you sure that it's a good idea to bombardier us with wall of text like that? :confused: looks like an interesting challenge though, but we don't have any sound libs in Red right now, so, no beeping ;)

maximvl

[09:16](#msg599bf675ee5c9a4c5fe8693c)@CodingFiend\_twitter sounds fun, I'll try on the weekend

endo64

[10:50](#msg599c0c59210ac26920ac982e)@qtxie Nice! Could be useful.

koba-yu

[11:07](#msg599c108fbc46472974ad718c)@qtxie So cool!

honix

[12:50](#msg599c287ca7b406262db59489)@maximvl make it shorter as possible, show the Red's power!

maximvl

[13:13](#msg599c2df52723db8d5eceb743)though I won't do a live streaming coding video

[13:14](#msg599c2e28c101bc4e3a44c29f)I don't think it demonstrates anything related to programming

Bitsoma

[13:48](#msg599c3626210ac26920ad5836)I tried to use Red for CGI programming as described in https://github.com/red/red/wiki/Using-Red-as-CGI

[13:49](#msg599c3684162adb6d2e2141ce)However it doesn't work. The server log gives 504 timeout. Any ideas? Rebol scripts just work fine.

[13:57](#msg599c38562723db8d5ecee970)I forgot to mention: Apache, Windows, Red 063.

rebolek

[14:23](#msg599c3e532723db8d5ecf0a64)@Bitsoma I use it on Linux Apache without problems, but I am using manually compiled console, not sure about precompiled version.

fvanzeveren

[17:00](#msg599c6346ba0f0f6e38d06126)@rebolek  
Hi, I am trying to use your http-tools.red library with this little cgi script under IIS 10:

```
Red [ 
	Title: "CGI Options"
]

do %http-tools.red

print "Content-Type: text/plain^/"
print mold http-headers
```

This result in this:

```
make object! [
    server-software: none
    server-name: none
    gateway-interface: none
    server-protocol: none
    server-port: none
    request-method: none
    path-info: none
    path-translated: none
    script-name: none
    query-string: none
    remote-host: none
    remote-addr: none
    auth-type: none
    remote-user: none
    remote-ident: none
    content-type: none
    content-length: none
    user-agent: none
    other-headers: #()
]
```

while it should look like the rebol version:

```
make object! [
    server-software: "Microsoft-IIS/10.0"
    server-name: "www.redber.net"
    gateway-interface: "CGI/1.1"
    server-protocol: "HTTP/1.1"
    server-port: "80"
    request-method: "GET"
    path-info: "/cgi-bin/cgi-options.r"
    path-translated: "C:\www\redber\cgi-bin\cgi-options.r"
    script-name: "/cgi-bin/cgi-options.r"
    query-string: "a=12"
    remote-host: "127.0.0.1"
    remote-addr: "127.0.0.1"
    auth-type: ""
    remote-user: ""
    remote-ident: none
    Content-Type: ""
    content-length: "0"
    other-headers: ["HTTP_CONNECTION" "Keep-Alive" "HTTP_ACCEPT" "text/html, application/xhtml+xml, image/jxr, */*" "HTTP_ACCEPT_ENCODING" "gzip, deflate" "HTTP_ACCEPT_LANGUAGE" "fr-FR,fr-BE;q=0.7,fr;q=0.3" "HTTP_HOST" "www.redber.net" "HTTP_USER_AGENT" {Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36 Edge/15.15063}]
]
```

I guess I am missing something when using your library...  
Hope you can help.  
Cheers

greggirwin

[17:03](#msg599c63dfee5c9a4c5fea8358):point\_up: \[August 22, 2017 1:21 AM](https://gitter.im/red/red?at=599bdb6f578b44a046d5e869) Looks very slick and modern @qtxie. Maybe we need a wiki page for code sharing, so people know where to put things, what should go where, etc. Between official Team Red repos, community, RBE, etc., there are already a lot of places, which may have different requirements, for consistency. Looks really nice though. +1

rebolek

[17:07](#msg599c64bd614889d475769bc2)@fvanzeveren hi, looking at the code, it seems that the problem is in `get-header`, where I call `printenv`. I am on phone now, so I can't improve it. So you need to wait or try to fix it yourself :)

greggirwin

[17:07](#msg599c64df9acddb2407ba008f)@CodingFiend\_twitter, thanks for such a detailed spec. If you have a site, or github repo with sound resources, that would make it easier for people to contribute alternate implemenations, in Red or other langs. Your spec will scroll off here very quickly, and be lost to time.

[17:09](#msg599c6561a7b406262db6c9ca)Perhaps not fair to criticize the JS live-code version too much, as raw speed was his goal. As soon as you have to account for DPI, you need devices available, and to test on them, etc. Good to have in the spec, though.

fvanzeveren

[17:18](#msg599c675f76a757f808d0bd15)@rebolek Ok, it seems to work with `set` but I thing is not secure because all environment variables are then readable...

rebolek

[17:49](#msg599c6ebec101bc4e3a4608b8)@fvanzeveren it needs to be rewritten using Red's `get-env` for required vars only.

fvanzeveren

[18:02](#msg599c71a1c101bc4e3a461566)@rebolek I would rather suggest to parse the remaining`raw` map and remove all entries not starting with `HTTP_` . I will try it now. Good way to deepen my understanding of Red :)

rebolek

[18:04](#msg599c723076a757f808d0ebb9)@fvanzeveren why not, let's try it and see what's best. Feel free to do a pull request once you have your code ready.

fvanzeveren

[20:07](#msg599c8f05614889d475776535)@rebolek I am not use to github, so I prefer not to edit anything... But here is the code I added in my local copy to reduce the number of environment variables:

```
keys: keys-of raw
	while [not tail? keys] [
		if not parse key: first keys [["HTTP_" | "HTTPS_" | "AUTH_" | "CERT_"] thru end] [
			raw/:key: none
		]
		keys: next keys
	]
```

I added it just before the line `headers/other-headers: raw`. It works fine.  
BTW, if you use `func` to define a function, I would suggest to define your local variables with `/local`, otherwise, the global context gets polluted with variables...  
Regards

[20:14](#msg599c9088578b44a046d9652e)@rebolek and I also amended `get-headers` like this

```
get-headers: func [/local o] [
	either equal? system/platform 'Windows 
		[call/wait/output "set" o: ""] 
		[call/wait/output "printenv" o: ""]
	http-headers: parse-headers o	
]
```

rebolek

[20:23](#msg599c92c9ba0f0f6e38d13d4e)@fvanzeveren Thanks, I take a look at it tomorrow.

[20:24](#msg599c92eba7b406262db79f2c)You're right about `func` vs `function`, I sometime use `func` for debugging and forget to change it to function later :)

fvanzeveren

[20:26](#msg599c93632723db8d5ed0a30b)@rebolek I exclusively use `func`, because I prefer to be in total control on what has to be local or global :)

[20:40](#msg599c96cb76a757f808d198fe)Hello, in `Rebol`, there is native function `secure` to specify access levels and directories. Is there something similar in `Red`?

greggirwin

[21:10](#msg599c9dae614889d47577a62f)@fvanzeveren, when you just want to match at the current index, as you do here, `find/match`is sometimes a nice alternative.

geekyi

[23:45](#msg599cc223ba0f0f6e38d201aa)@fvanzeveren just a suggestion code is best posted to https://gitter.im/red/help :smile:

## Wednesday 23th August, 2017

419928194516

[02:38](#msg599cea8a162adb6d2e245dc0)@CodingFiend\_twitter  
Most of what you asked for, probably should have used a scaling matrix instead of manually scaling, that'd take care of all of the requested resize handling.

```
Red [title: {snake}]
state: context [
    scale: 40 board: 24x24 body: []
    dir: 0x0 pos: 4x4 len: 5
    hi: score: 0 pause: no
    do new-apple: [while [find body apple: random (board - 1)] []]; placed at a random location on the board.
    beep: crunch: does[] ; could load from binary literal here, meh
    mk-box: func[p tog round][compose [fill-pen (to-tuple either tog [#00FF00][#87F717]) box (p * scale) (1x1 + p * scale) (round)]]
    key: func[e][
        ; As soon as an arrow key is pressed, the snake begins to move in that direction
        if v: switch e/key [left [-1x0] up [0x-1] right [1x0] down [0x1]][
            pause: no if v + dir <> 0x0 [dir: v] ; the snake moves one cell per frame
        ]
        if all [e/key = #" " dir <> 0x0] [pause: not pause]
    ]
    hel: (make font! [size: 28 name: "Helvetica" color: as-rgba 255 255 255 75]) ;28 pt black text ... black on black?
    step: does[
        if pause [exit]
        if dir = 0x0 [pause: yes] ; not moving (start of game), so stop drawing, limits len to 1 at start
        ; because modulo doesn't work with pairs... ; The snake wraps around the board in all four directions.
        insert body (pos: make pair! compose [(modulo (pos/1 + dir/1) board/1) (modulo (pos/2 + dir/2) board/2)] )
        if (length? body) > len [take/last body]
        if pos = apple [ len: len + 1 crunch  do new-apple ]
        if all [dir <> 0x0 cross: find next body pos] [ beep len: index? cross clear cross ]
        c/draw: compose [line-width 2 pen (to-tuple #006400) (mk-box first body (tog: yes) 12) pen black] ; rounded head, green outline
        foreach link next body [append c/draw mk-box link (tog: not tog) 4]
        append c/draw compose [
            fill-pen crimson circle ((scale * apple) + (scale * 0.5)) (scale / 2) font hel ; The apple HTML color crimson, one cell drawn as a circle
            text ((as-pair (board/2 / 2 - 2) 1) * scale)
            (rejoin [(score: len - 5) "  high: " (hi: max hi score)])
        ]
    ]
]
view compose [
    title "Snake"
    c: base (state/scale * state/board + 1x1) black on-key [state/key event] ;playing board, drawn solid black
    timer: base 0x0 rate 6 on-time [state/step] ; 6 fps
]
```

[04:03](#msg599cfe99a7b406262db944db)So on line that complains about modulo handling, `(pos + dir + board) % board` works, and it's what I should have used, but the mod and modulo mezzanine functions are simply wrong for pairs, and likely tuples and vectors too.

iceflow19

[04:13](#msg599d00f2bc46472974b1b251)@qtxie Looking good, but in the long run wouldn't it probably be better to have something more open? Submission being gated by merge requests seems a little controlling no? And time consuming.

[05:40](#msg599d1560bc46472974b203d6)For whoever has to approve it, but I guess that only would be an issue if we get a big influx.

endo64

[06:46](#msg599d24bda7b406262db9dab4)@fvanzeveren no `secure` in Red yet.

meijeru

[08:16](#msg599d39c09acddb2407bd4f42)On mod/modulo: see #2674

Bitsoma

[08:24](#msg599d3bdb2723db8d5ed329f4)@rebolek 'manually compiled console, not sure about precompiled version.' What could be the difference? Where can I find the doc to manually compile the console myself? Thanks again for the help.

rebolek

[08:37](#msg599d3edfba0f0f6e38d3ee5e)@Bitsoma to compile console yourself from Rebol console, do for example `do/args %red.r "-r environment/console/console.red"`

Bitsoma

[09:14](#msg599d476d578b44a046dc4241)@rebolek Thanks, I manually compiled the console. At least now I get an 'Internal Server Error'. Before with the precompiled console the error was 'Script timed out before returning headers:' - I hope I don't waste your time.

[09:29](#msg599d4b07578b44a046dc5313)The error log of the server says: 'Premature end of script headers:'

pekr

[09:33](#msg599d4bccc101bc4e3a49a153)I do remember that message from the Rebol past, but don't remember the solution :-( Was it double end-of-line needed at the end of the script, or the user rights related, really can't remember now ...

Bitsoma

[13:13](#msg599d7f6bbc46472974b3e6f4)@pekr The Rebol and Red scripts are identical. Of course when you don't use the Rebol -cs switch you get the same 'Premature..' error. But there seems to be no Red commandline switch for CGI use. Maybe there's the problem.

rebolek

[14:06](#msg599d8bd8bc46472974b42409)@Bitsoma You're not wasting my time, but I am afraid, I can't help you, I'm not sure what's the cause of this problem. I may try with Apache under W10 VM, when I find some time.

pekr

[14:09](#msg599d8cb4ba0f0f6e38d560ce)I am almost sure it is related to the script and/or interpreter permissions. Well, almost :-)

Oldes

[14:16](#msg599d8e53c101bc4e3a4adc8d)@Bitsoma you may try to run the script

[14:18](#msg599d8ed0578b44a046dd8652)In console and see what it prints out.. I would guess it will be some error

toomasv

[14:26](#msg599d9079578b44a046dd8f48)Here's my try on a toy \[database/query DSL](https://github.com/toomasv/query)

maximvl

[14:31](#msg599d91d62723db8d5ed4c615)oh wow, that's some serious parsing

[14:33](#msg599d9229a7b406262dbbd7ff)@toomasv how is it possible to skip `with` in queries?

```
query [from persons print [address] of "Edward Kinnock"]
query [print [street house] of person with [first-name = "Oscar"]]
```

[14:33](#msg599d923bbc46472974b445a5)is there some kind of default-fields-combination?

toomasv

[14:40](#msg599d93e2578b44a046dda28d)@maximvl Sorry, on phone now. Will answer later

maximvl

[14:47](#msg599d9590a7b406262dbbea21)no worries :)

toomasv

[15:29](#msg599d9f62210ac26920b3867e)@maximvl Yes, defaults can be defined for tables. To see default for a table, use `query [probe table table-name default]`. Default can be used as criterion for search, and it is returned if fields are not specified, eg. `query [probe persons]`.

maximvl

[15:31](#msg599d9fbec101bc4e3a4b4026)I see, interesting approach

[15:31](#msg599d9fd12723db8d5ed51330)I like the design, we need to connect it to actual databases asap :)

greggirwin

[15:58](#msg599da635162adb6d2e27991e)Very cool @toomasv! More stuff I need to make time to play with.

@maximvl, after his regex work, @toomasv's `parse` code will only get more serious. :^)

9214

[16:25](#msg599dac6a2723db8d5ed55439)@toomasv rocks :rocket:

[16:29](#msg599dad6eba0f0f6e38d6137e)@toomasv may I ask you what software do yo use to draw your \[Red type hierarchy](https://github.com/toomasv/red-type-hierarchy) graphs?

toomasv

[16:54](#msg599db35f614889d4757c32dd)Thanks, @greggirwin, happy playing!  
@9214 I used https://www.draw.io/ to make these. But to make \[this](https://github.com/toomasv/red-graphviz/blob/master/types.png) I used dot-lang.red in \[red-graphviz](https://github.com/toomasv/red-graphviz).

9214

[16:55](#msg599db37d578b44a046de4a6a)@toomasv thanks!

[20:04](#msg599ddfe4a7b406262dbd5e4c):alien: :car:

```
>> do %cadadaverous.red
== ok
>> cadaddr `(1 3 (5 7) 9)
== 7
>> caar `((7))
== 7
>> cadadadadadadr `(1 (2 (3 (4 (5 (6 7))))))
== 7
```

https://gist.github.com/9214/c325d349195ba9054e18555ed51c9ed5  
(sorry for reposting, accidentally deleted gist)

tanstaaf1

[20:58](#msg599dec65a7b406262dbd9630)@dockimbel http://graydon2.dreamwidth.org/253769.html starts the question: "After memory safety, what do you think is the next big step for compiled languages to take?" Areas cited include Modules, Errors, Asynchronicity, Effect Systems, Extended Static Checking, etc. I was going to delete this reddit link but thought I'd pass it on to you as many of these topics are coming up in 0.7 and above. It struck me how many of issues were obviously also on your mind.

geekyi

[21:14](#msg599df04d76a757f808d782d2)@tanstaaf1 :point\_up: \[August 22, 2017 9:50 AM](https://gitter.im/red/red?at=599bb82ba7b406262db3aff5) @9214 was way ahead of me :smile:

## Thursday 24th August, 2017

419928194516

[01:14](#msg599e2876a7b406262dbe7c96)Trying to use higher order functions is ..rough currently.  
Is there a plan/design/working area for implementations?  
Observe this monadic monstrosity that doesn't really work

```
; Continuations
const: func[k][ does bind [k] context compose [k: (k)]]
fmap: func[f a][func[b] bind [i: (b f)  a :i] context compose [f: (:f) a: (:a)]]
join: func[arrr][
    ctx1: context compose [arrr: (:arrr)]
    func[ar]
    bind [
        ctx2: context compose [ar: (:ar)]
        arrr
        (func[arr]
        bind [
            arr :ar
        ] ctx2)
    ] ctx1
]
mbind: func[ma fab][ join (fmap :fab ma) ]
```

I was just trying to port some haskell code and it'd have be nice to start with a 1-1 before making serious alterations

9214

[05:40](#msg599e66c9ba0f0f6e38d9082d)@419928194516 :point\_up: \[14 августа 2017 г., 10:13](https://gitter.im/red/red?at=59913181614889d4754657b4)

[05:54](#msg599e6a1d210ac26920b6c60d)though I don't get why do you expect Red to be Haskell, the code above is neither idiomatic nor compile-able (I guess, since there're functions inside functions which return functions).

Bitsoma

[06:06](#msg599e6cf4c101bc4e3a4e8a5d)@Oldes I've done that of course and the output is as it should.

419928194516

[06:07](#msg599e6d3f614889d4757f1d52)@9214 Thanks for the link, I certainly do not expect red to be haskell, but when I learn a new language, I do some translations of programs to get a feel for what is idiomatic or possible, and what isn't. This little foray certain taught me something about red function 'scoping' and the limits of bind.

Bitsoma

[06:08](#msg599e6d43ba0f0f6e38d92309)@pekr The script is fine and the permissions are the same as with Rebol.

9214

[06:09](#msg599e6d88ba0f0f6e38d923a5)@419928194516 I'll be very grateful if you'd explain what monad/applicative/functor/all-this-stuff is in terms of Red's `bind` and `context`s :D

[06:12](#msg599e6e4b2723db8d5ed8764a)My feel is that Red (with it's Rebol/Lisp/Forth heritage) is problem-oriented language, so, then it comes to porting, it's better to think about what code actually \_does_ and what problem it solves, not how it \_looks_ like. It simplifies thing a lot (for me at least), but doesn't work really well if you're just studying and want to implement something as-is on conceptual level.

fvanzeveren

[07:26](#msg599e7fbe76a757f808d99c91)hello, is there a benefit to use `map!` instead of `hash!` in term of performance? What if the same key could appear multiple times? Cheers.

rebolek

[07:53](#msg599e85edba0f0f6e38d98d2b)@fvanzeveren with `map!`, key can be present only once. Not sure about speed, I can do some testing.

[08:00](#msg599e87b9ba0f0f6e38d9955b)selecting from `hash!` seems to be 10-15% faster than from `map!`

Bitsoma

[08:11](#msg599e8a4fee5c9a4c5ff39b76)Still no success using Red for CGIs (W7, Apache 2.4)  
(sorry for the poor formatting, but I am inexperienced with Gitter)  
Here is what I have done:  
Manually compiled Red 0.63 console and called it red.exe  
The CGI script

```
#!D:/Apache24/htdocs/cgi-bin/red
Red[]
print "Content-type: text/html^/"
print "Hello world from Red"
```

produces 'Internal Server Error' ('Premature end of script headers')

From DOS console the above script without the first line gives the expected output

The CGI script

```
#!D:/Apache24/htdocs/cgi-bin/rebol -cs
Rebol[]
print "Content-type: text/html^/"
print "Hello world from Rebol"
```

works as expected!

I activated the 'ScriptLog' directive for the server but this doesn't give any useful information.

rebolek

[08:12](#msg599e8a80ee5c9a4c5ff39c96)@Bitsoma enclose your code in three backticks: \\`\`\\\`

[08:13](#msg599e8aa4578b44a046e1a6a9)See the markdown help in bottom right corner \[M]

mahengyang

[08:13](#msg599e8ab1614889d4757f93f2)you could edit your message

[08:14](#msg599e8ad0210ac26920b7490e)put mouse on your message, then three dot on the right

rebolek

[08:21](#msg599e8c74bc46472974b85a98)@Bitsoma It seems that \*Premature end of script headers* is caused by wrong line-ends. Try replacing `print` with `prin` and `^/` with two `crlf`s.

Bitsoma

[11:11](#msg599eb474c101bc4e3a4fe65e)@rebolek Thanks, however

```
#!D:/Apache24/htdocs/cgi-bin/red
Red[]
prin "Content-type: text/html"
prin #"^(0D)"
prin #"^(0A)"
prin #"^(0D)"
prin #"^(0A)"
prin "Hello world from Red"
```

Didn't change anything, still 'Premature end of script'  
With Rebol it works. I have the feeling for some reason Red crashes when it is invoked or immediately when it starts interpreting the script.

pekr

[11:24](#msg599eb759bc46472974b9305d)Run the same script from the command line to see, if it crashes

Bitsoma

[11:28](#msg599eb85476a757f808dabe51)It works fine from the command line. Don't know how to upload screenshot.

planetsizecpu

[11:35](#msg599eb9fa66c1c7c477d7a3ea)@all how can I catch main window resize events as "face on-resize \[...]" is not triggered when you do resize it? so I can adapt widgets size to main window size. In fact it raises an error

9214

[11:44](#msg599ebc139acddb2407c3f6f2)@planetsizecpu maybe `on-resizing`?

fvanzeveren

[11:53](#msg599ebe52c101bc4e3a5012a9)@Bitsoma why do you use a manually compiled version of red? It works perfectly well with the "official" version of red..  
Are you sure red access (read/write/execute) are properly set?

planetsizecpu

[11:55](#msg599ebec1bc46472974b94fae)@9214 In the event names doc `resize` and `resizing` are listed but twice are giving me invalid syntax, so how do you catch this event?

fvanzeveren

[12:03](#msg599ec0959acddb2407c408f2)@Bitsoma I confirm your sample script works under IIS10 with red as cgi engine.

[12:04](#msg599ec0cc614889d47580a6a1)with "official" red version

Bitsoma

[12:07](#msg599ec17e210ac26920b84d8e)@fvanzeveren why do you use a manually compiled version of red? Because with the precompiled version the CGI hangs, i.e. the web server waits forever for an answer and I have to terminate the execution with 'ESC'.

fvanzeveren

[12:08](#msg599ec1c176a757f808dae6f6)Hello, I am confuse regarding error handling in Red. The case is a function checking for pre-requisites and if those pre-requisites are not met, I would like to throw an error. Should I use `throw make error! "some message"` or simply `make error! "some message"`. WHen should `throw` be used and when not? The documentation is rather unclear. Cheers.

[12:09](#msg599ec1f8a7b406262dc1017b)@Bitsoma did you specify the `--cli` options?

Bitsoma

[12:10](#msg599ec244162adb6d2e2c4840)I sure tried the --cli option on both the precompiled and manually compiled console. No effect.

fvanzeveren

[12:12](#msg599ec2bc76a757f808daec8e)@Bitsoma from the first line if your script, I suppose you are running Linux... I am afraid I cannot help as I never ran red under Linux...

[12:15](#msg599ec375578b44a046e2c3dc)@Bitsoma under IIS10, i had an issue with red that was not occuring with Rebol. The reason was that Red requires a the flag "use new console on every call" to be true... Maybe apache has some such flag?

Bitsoma

[12:17](#msg599ec3db210ac26920b8593d)@fvanzeveren I run Apache 2.4 on W7.

PeterWAWood

[12:19](#msg599ec45076a757f808daf416)@fvanzeveren I don't think you need to use `throw` but it looks as though you need to return the error from the function for it to be activated. This is different from Rebol 2 but I'm not sure if it is by design or a bug. (I will check in the red/bugs channel).

fvanzeveren

[12:21](#msg599ec4b0578b44a046e2c958)@PeterWAWood yes, I need to return the error from the function. Under rebol, I never used the `trow` and `catch` mechanism...

[12:21](#msg599ec4bcc101bc4e3a503101)The client has to handle the error itself

[12:28](#msg599ec66a9acddb2407c42739)@PeterWAWood  
This code is really weird:

```
a: does [
  make error! "An error occured" 
  return "No error"
]
```

`Rebol` bubbles the error, as expected.  
`Red` returns `No error`  
A solution is

```
a: does [
  return make error! "An error occured"
  return "No error"
]
```

But is this good practice?

Oldes

[13:03](#msg599ecebbba0f0f6e38daeb4b)It stinks as your version is not providing any info in the `where` field and not providing stack info:

```
*** User Error: "An error occured"
*** Where: ???
>>
```

[13:05](#msg599ecf19ee5c9a4c5ff4f5c7)while with:

```
a: does [
  do make error! "An error occured" 
  return "No error"
]
```

there is:

```
*** User Error: "An error occured"
*** Where: do
*** Stack: a
```

9214

[13:16](#msg599ed1c7a7b406262dc14c31)@planetsizecpu this should work in theory, but it doesn't, try to ask in `gui-branch` room as I'm not a View expert :(

```
view/options/flags [][
    actors: [
        on-resizing: func [face event][probe face probe event]
    ]
] 'resize
```

fvanzeveren

[13:54](#msg599eda87210ac26920b8c951)Hello all, yet another newbie question: does Red has a mechanism similar to the Promise in Javascript for asynchrone execution?

419928194516

[14:29](#msg599ee2baba0f0f6e38db4ee5)@9214  
Well, one way to think about monad/applicative/functor is they  
are just ways of formalizing patterns of (higher order) functions with certain well-behaved rules.  
The only machinery needed to 'create' them is HOF's, noticing they exist, and writing them down.  
\*Handwaving begins*  
Functors give you a way of describing the transformation of the insides of a 'container',  
or alternatively, a way of lifting a transformation on parts of a thing, into a transformation of the whole thing.

```
Red []
fmap-for-series: func[f s][
    collect [ foreach v s [keep/only f v] ]
]
```

Give me a (series or whatever) of integer and a function that transforms integers to strings  
If I can tell you how to make a (series or whatever) of strings, that process is fmap-for-series  
and I've just proven 'series' is a functor

Monads say something about functions that an input and produce 'messy' results

```
messy1: func[a][make vector! reduce [a a a]] ; the mess here is vector
messy2: func[b][make vector! reduce [b b]]
```

If the answer to the question:  
Can I pipeline/compose messy1 and messy2 together in a well-behaved way?  
then the mess (vector!) is a monad with respect to that pipeline/compose

```
pipeline: func[messy1 messy2][ ; flatmapping is an answer to the question
    func[a][
        flatten fmap-for-series :messy2 (messy1 a)
    ]
]
```

Haskell programmers typically write out type signtures like so:  
`comp : (a -> b) -> (b -> c) -> (a -> c)`  
which in English is  
comp is a function whose argument is (a function that takes 'a' and returns 'b')  
and returns  
(a function whose argument is (a function that takes 'b' and returns a 'c')  
and returns a function that takes 'a' and returns a 'c')  
And a concrete example in red

```
Red []
; what haskell is really saying
; give me 2 compatible functions, I'll give you a single function that combines their operation
c: func[f1 f2][func[a][f2 f1 a]]
c: func[f1 f2][func[a][f2 f1 a]]
f1: func[a [integer!] return: [string!]][mold a]        ;integer! -> string!
f2: func[b [string!]  return: [integer!]][length? b]    ;string! -> integer!
; but this doesn't work:
; f3: c :f1 :f2                                         ;integer! -> integer!
; because c 'loses' f1 and f2 when it returns it's quoted body
c: func[][func[a][f2 f1 a]] ; if we instead rely on the existing global binding
probe f3: c
probe f3 12 ; => 2 = length? mold 12 ; it all works out
```

So, without the ability to easily create 'functions that take and return functions'  
that also have a way to retain binding to their parent's argument block  
I can't compose things (easily) in this way

Whether you 'should' be able to is another matter.  
Doing this kind of composition can also be achieved as a transformtion of blocks, which red is good at.  
so I'm exploring that now for my own edification.

but the getting back to the functor/monad thing.  
As soon as you have HOF, those things just 'exist' whether you want them to or not.  
In the same way that real field exists in Mathematics as soon as you define 'numbers' 'plus' and 'multiplication'  
to work the way they do.

fvanzeveren

[14:32](#msg599ee3679acddb2407c4bd73)@PeterWAWood the underlying question is: what is the best way to deal with function generating errors:

```
a: does [return make error! "Une erreur"]
error? try [a]
```

or

```
a: does [throw make error! "Une erreur"]
error? catch [a]
```

greggirwin

[15:18](#msg599eee4ac101bc4e3a510615)@fvanzeveren Use `cause-error`.

[15:23](#msg599eef7676a757f808dbd4b4)@419928194516, I haven't read all your latest posts in detail, but there are currently limitations when compiling functions in functions. A number of us have our own HOFs, but Nenad has a plan in mind as well. It's not on the roadmap yet though.

[15:28](#msg599ef09b614889d475819858)OK, now I've read your posts and see what you're saying. Thanks \*so much* for the Red examples of the Haskell. Really helps aid understanding. The key, then, is "a way to retain binding to their parent's argument block", which is where Red's binding model doesn't work that way by default.

Would you pull your last 2 posts out into a gist, or someplace, for later reference? It would be great not to lose them.

[15:31](#msg599ef13f162adb6d2e2d38ef)I don't have time to dig into it right now, but you may be able to do what you want with `context?`.

[15:38](#msg599ef2ef162adb6d2e2d41ae)@419928194516, would something like this work for you?

```
c: func[f1 f2][func[a] reduce [:f2 :f1 'a]]
f1: func[a [integer!] return: [string!]][mold a]        ;integer! -> string!
f2: func[b [string!]  return: [integer!]][length? b]    ;string! -> integer!
probe f3: c :f1 :f2                                         ;integer! -> integer!
probe f3 12
```

9214

[16:33](#msg599effc4ba0f0f6e38dbdf0c)So, you basically want to compose "trimmed down" versions of functions which recieve only one type of an argument and always spit out another type of an argument no matter what? And you also want to build (and save for future use) chains of such compositions, that way data will nicely flow from one type to another without troubles. Interesting, it kinda reminds me of concatenative PLs.

greggirwin

[16:36](#msg599f00a8614889d47581e987)We also have various experiments for creating refined versions of functions. Nenad cooked this one up some time back, as an example:

```
specialize: function [fun [function!] defs [block!]][
    spec: copy/deep spec-of :fun
    body: copy/deep body-of :fun

    foreach [arg value] defs [
        arg: to word! form arg
        pos: find spec arg
        remove/part pos pick [2 1] block? pos/2
        parse body rule: [some [change only arg value | into rule | skip]]
    ]
    func spec body
]
e.g. [
	foo: func [x y][x + y]
	;== func [x y][x + y]
	bar: specialize :foo [x: 5]
	;== func [y][5 + y]
	bar 10
	;== 15
	pad8: specialize :pad [n: 8]
	;== func ["Pad a string on right side with spaces"...
	pad8 "hello"
	;== "hello   "

	entab: specialize :replace [pattern: space value: tab]
	;== func [series [series!] /all /local many? len pos][many?: any [system/words/a...
	entab "   hello^/    world"
	;== "^-  hello^/    world"
	entab/all "   hello^/    world"
	;== "^-^-^-hello^/^-^-^-^-world"

	{
	You can use source on the specialized functions to see that the source code is
	rewritten. Many improvements are possible, like specializing on refinements and
	optional arguments, or folding constant expressions resulting from fixing
	arguments.
	}
]
```

fvanzeveren

[18:25](#msg599f1a03a7b406262dc2b909)@greggirwin Thanks for `cause-error`. Works as expected.

## Friday 25th August, 2017

planetsizecpu

[05:24](#msg599fb4a0578b44a046e6f0f6)@9214 Thanks, It was my mistake ask here, sometimes when you click on a room the browser does not switch properly

jocko-jc

[08:08](#msg599fdaea162adb6d2e30f5fd)Added a simple-say.red test file for older windows versions (i.e. XP, win7), as PowerShell is not always available on these platforms. instead, it uses a generated vbs script. Also parameters are changed through refinements (thanks to @iceflow19 ) : https://github.com/jocko-jc/red-tts

endo64

[08:30](#msg599fe024ba0f0f6e38df7897)@Bitsoma I also couldn't run Red as CGI with Apache on Windows, Red doesn't crash but somehow it doesn't work with Apache but works bir IIS.

Bitsoma

[08:50](#msg599fe4e066c1c7c477dcb77f)@endo64 Thanks for confirming this! I am currently running Apache 2.4.7, but the latest version is 2.4.27. I will test it again with this version next week.

pekr

[08:52](#msg599fe536210ac26920bd3b53)OK, I might give it a try too. Whyt Red are you using guys? You generate an MSDOS console, or?

endo64

[08:53](#msg599fe58aa7b406262dc5f5ab)I tested with latest console (not the gui console) and with red.exe, same error for both.

[08:54](#msg599fe5ab162adb6d2e312e43)with red.exe I tested with and without `--cli`.

Bitsoma

[11:05](#msg59a00482c101bc4e3a559fc9)@pekr I tried the same as @endo64. Manually compiled console of Red 0.63 with and without --cli, Apache 2.4.7, W7.

endo64

[14:41](#msg59a03711614889d475871d73)I tried 2 hours more with no luck. I've compiled my test file into .exe as MSDOS, it gives the necessary output on console but Apache still fails. Tried with all combinations of linefeeds (0x0A, 0x0D, 0x0D0A)

```
Red []
print "Content-Type: text/plain"
print ""
print "OK!"
wait 1
print "Done"
```

I also read something that sometimes apache fails if the process ends too fast, so I put `wait`. I can see my .exe triggered by apache.exe in the background.

Oldes

[15:37](#msg59a0443d162adb6d2e32e6f2)It is years ago I used Apache last time, but I'm pretty sure it is possible to configure it to log verbose errors.

[15:50](#msg59a0474fba0f0f6e38e157c3)@endo64 @Bitsoma what if you use:

```
Red []
print "Content-type: text/html^/^/OK!"
```

[15:59](#msg59a04947162adb6d2e33023b)Note that on windows `print` always adds `CRLF` at the end. (While on Linux it is just `LF`)

[16:06](#msg59a04b16614889d4758783f5)Actually the output from `print` (on windows CLI version) is in UCS-2 so it is #{0D000A00} which may be the reason.

[16:20](#msg59a04e39ba0f0f6e38e176ae)@dockimbel am I right? Maybe it could be fixed with BOM at the beginning, but have no idea how you could do it from Red level without corrupting the BOM by `print` conversion too.

henrikmk

[19:53](#msg59a0803066c1c7c477df9b4c)what was the state of red on raspberry pi?

greggirwin

[20:59](#msg59a08fb0a7b406262dc90324)Thanks @jocko-jc!

sergeantWilson

[23:23](#msg59a0b18f76a757f808e38762)Regarding voice things - I found this: http://www.mycode4fun.co.uk/red-apps - if you move down the page there's some voice stuff.

## Saturday 26th August, 2017

jocko-jc

[07:10](#msg59a11f03ba0f0f6e38e497c3)thank you @sergeantWilson , I know this work. My scripts offer a control of the voice parameters (voice, rate, volume ...) . The most complete: mysay.red works on Mac OSx and on recent Windows versions (win 8.1, win 10). The other: simple-say.red works on older Windows versions (XP, win 7)

PeterWAWood

[10:36](#msg59a14f3c614889d4758b5fa9)@henrikmk All the main Red and Red/System tests pass on Raspberry Pi.

You can easily cross-compile the Red console app without GUI to run on any raspberry pi using `-t RPi` option.

(If you are using a really, really old Raspberry Pi and a very old version of Raspbian that does not use hardware float processing, you would need the \`-t Linux-ARM' option).

[10:38](#msg59a14fad9acddb2407ceb16d)When Carl released the alpha of Rebol2 that runs on Raspberry Pi, I was able to compile Red code directly on a Raspberry PI 2 (Rebol doesn't run on earlier models). I haven't tried for a long time.

[10:40](#msg59a1503366c1c7c477e27066)I haven't tried to build the GUI with GTK3 for Raspberry Pi yet

henrikmk

[11:30](#msg59a15bc5614889d4758b892e)@PeterWAWood thanks. I need GUI though and have studied the options. It looks like what I'm trying to do is going to be easier to simply write in javascript and run in a fullscreen browser (dementia clock, I think I mentioned it)

endo64

[15:21](#msg59a191e9578b44a046ee76b1)&gt; Actually the output from `print` (on windows CLI version) is in UCS-2 so it is #{0D000A00} which may be the reason.

@Oldes I compiled your script and redirect its output into a file `test.exe > file.txt` then check it with hex editor, there is no 0x00 at the end.  
It is:

```
43 6F 6E 74 65 6E 74 2D  74 79 70 65 3A 20 74 65
78 74 2F 68 74 6D 6C 0A  0A 4F 4B 21 0D 0A
```

[15:53](#msg59a19971c101bc4e3a5bd6a9)Nope, the problem is not about line endings, I have compiled a dos application using Purebasic, its output is exactly same with the one compiled with Red.

rebolek

[15:55](#msg59a199ebba0f0f6e38e654bf)@endo64 if you look at the hex values you pasted here, I can see `0D0A` (`crlf`) only at end and not after `Content-type: text/html`, where is only `lf` twice - `0A0A`.

9214

[15:58](#msg59a19aacba0f0f6e38e657ac)

```
>> to binary! rejoin ["Content-type: text/html" crlf "OK!" crlf]
== #{436F6E74656E742D747970653A20746578742F68746D6C0D0A4F4B210D0A}
```

rebolek

[16:10](#msg59a19d8d66c1c7c477e3a605)@9214 @endo64 Yes, they are different:

```
>> msgs: gitter/get-messages 'red/red
== [#(
    id: "599ec1c176a757f808dae6f6"
    text: {Hello, I am confuse regarding error handling in Red. The case is a function checking for pre-requisites a...
>> ecode: trim/all first get-code msgs/47
== {436F6E74656E742D747970653A20746578742F68746D6C0A0A4F4B210D0A}
>> ncode: load next find first get-code msgs/50 "#"
== {436F6E74656E742D747970653A20746578742F68746D6C0D0A4F4B210D0A}
>> equal? ncode ecode
== false
```

Oldes

[17:44](#msg59a1b3829acddb2407d01fbf)@endo64 output to file is handled differently... check this source file: https://github.com/red/red/blob/master/runtime/platform/win32-cli.reds especially `print-screen` and `print-file`

endo64

[18:26](#msg59a1bd3c66c1c7c477e4254f)@rebolek When my second try the output was exactly the same: there was two 0x0A just after content-type header and 0x0D0A at the end, both same for Purebasic &amp; Red compiled executable.  
So it must be what @Oldes say.  
There is an debug application for apache that show what exactly comes in and what the output is. We can see the problem with that.

## Sunday 27th August, 2017

endo64

[07:44](#msg59a27869210ac26920c6fdf3)Is this intentional?

```
>> foreach v [ ] [ ]
== none (R2)

>> foreach v [ ] [ ]
== ( unset! ) (Red)
```

PeterWAWood

[07:47](#msg59a27916210ac26920c70072)@endo64 I suspect the cause is this:

```
>> type? do []
== unset!
```

[07:48](#msg59a2795766c1c7c477e69460)Though `do [ ]` also returns unset in Rebol 2.

[07:55](#msg59a27b0976a757f808e9d8da)@endo64 It is probably best to ask in the red/bugs channel

endo64

[08:55](#msg59a288f8210ac26920c73745)I didn't know that there is a bugs rooms. Thanks.

greggirwin

[22:36](#msg59a3495dee5c9a4c5f06bfcc)Recent chat with @toomasv on a `flatten` func and perf testing reminded me that @honix recently posted a new time tester (https://gist.github.com/honix/261bfad3b1524a97440277e743186921). Inspired by that, I just hacked this up: https://gist.github.com/greggirwin/dd172d5dd1e3445b16052a89f000637f

Haven't thought about it too much, but wanted to get something out for comment. Need to think more about how to tie various pieces together for ease of use and helpful output.

## Monday 28th August, 2017

ghost~5680c5f416b6c7089cc058a5

[04:09](#msg59a3976cc101bc4e3a62dbca)Someone recently posted to HN - What makes a good REPL?  
https://news.ycombinator.com/item?id=15113170

toomasv

[07:35](#msg59a3c7bcc101bc4e3a639654)@greggirwin Nice! How about adding memory-usage and tabular output:

```
compare-times: func [
	blocks "Block of code blocks to performance compare"
	/count ct
	/local t n baseline res blk stats1 memory time code template
][
	ct: any [ct 1]
	t: now/time/precise
	loop ct [do []]
	baseline: now/time/precise - t
	res: collect [
		foreach blk blocks [
			t: now/time/precise
			stats1: stats
			loop ct [do blk]
			n: now/time/precise - t - baseline
			keep reduce [n stats - stats1 copy blk]
		]
	]
	;new-line/skip sort/skip res 3 on 3
	sort/skip res 3
	insert res ["Time" "Memory" Code]
	template: [pad (time) 12 #"|" pad (memory) 11 #"|" (mold code)]
	foreach [time memory code] res [
		print compose template
	]
]
>> compare-times/count [[flatten-levels copy b] [flatten-change copy b]] 100
Time         | Memory     | Code
0:00:00.246  | 4202496    | [flatten-change copy b]
0:00:00.368  | 2183168    | [flatten-levels copy b]
```

Bitsoma

[07:47](#msg59a3ca8466c1c7c477eb7d8b)@Oldes No difference! I have the feeling the problem is not related to any output it seems the script gets aborted before any output is emitted.

honix

[08:06](#msg59a3cf179acddb2407d79fe7)@toomasv Cool!

toomasv

[08:11](#msg59a3d02176a757f808eec7c0)@honix :bowtie:

dockimbel

[08:29](#msg59a3d474578b44a046f6c5f7)@419928194516 Thank you for the \[interesting post](https://gitter.im/red/red?at=599ee2baba0f0f6e38db4ee5) about the comparative usage of functional concepts between Haskell and Red, good food for thought. The only thing missing in Red to make it work is closure support, which will be available in a future release (not scheduled yet). In the meantime, you can simulate them pretty easily:

```
closure: func [vars spec body][bind body-of spec: func spec body context vars :spec]

c: closure [f1: f2: none][f1 f2][func[a][f2 f1 a]]
f1: func [a [integer!] return: [string!]][mold a]
f2: func [b [string!]  return: [integer!]][length? b]

f3: c :f1 :f2
probe f3 12 
== 12
```

geekyi

[09:12](#msg59a3de64614889d47594b321):point\_up: \[August 24, 2017 6:14 AM](https://gitter.im/red/red?at=599e2876a7b406262dbe7c96) discussion on higher order functions by @419928194516 for ref

Oldes

[10:01](#msg59a3e9f576a757f808ef4d5a)@Bitsoma no difference for what?

Bitsoma

[10:12](#msg59a3ec81c101bc4e3a6448cf)@Oldes No difference to

```
Red[]
print "Content-type: text/html^/^/"
print "OK!"
```

PeterWAWood

[10:32](#msg59a3f124bc46472974cdc8d3)@Bitsoma This code worked for me running Apache on macOS.

```
Red[]
prin "Content-type: text/html^/^/"
print "OK!"
```

[10:36](#msg59a3f21366c1c7c477ec4b6a)I compiled the program (to test.cgi) and then transferred it to my cgi-bin directory. The first time I tried to access it, I got a 500 Server Error. By looking at the Apache Error Log, it was a file permissions issue. The issue was the the executable produced by Red only allowed execution by the file owner. I extended execution rights to all users and the cgi ran.

[10:36](#msg59a3f224ba0f0f6e38eefb04)\[!\[Screen Shot 2017-08-28 at 18.35.34.png](https://files.gitter.im/red/red/AYjV/thumb/Screen-Shot-2017-08-28-at-18.35.34.png)](https://files.gitter.im/red/red/AYjV/Screen-Shot-2017-08-28-at-18.35.34.png)

pekr

[10:37](#msg59a3f27466c1c7c477ec4cc9)What we are trying to do though, is to have console executable and getting it executed via the shebang line, passing it the cgi script ...

PeterWAWood

[10:51](#msg59a3f5be66c1c7c477ec5d4e)@Pekr This code also ran:

```
#!./test-console

Red[]
prin "Content-type: text/html^/^/"
print "OK!"
```

[10:52](#msg59a3f5fe578b44a046f76b7a)`test-console` is the name I use for a Red console compiled from source. I was lazy and copied to the `cgi-bin` directory.

[10:53](#msg59a3f6438f4427b462a8521b)I checked the permissions of the console which allowed execution by any user. I set the permissions of the cgi file to allow execution by any user.

Oldes

[10:57](#msg59a3f72f210ac26920cc9247)On 90% the reason is the ucs2 encoding used on windows as default output.

pekr

[11:01](#msg59a3f7f3ee5c9a4c5f095a41)@Oldes could we somehow check on this? From some -15years I remember Apache config having some charset directives? Are we able to set it to the UCS2? Shouldn't it work then?

Oldes

[11:07](#msg59a3f98766c1c7c477ec6d17)I don't know.. I don't have Apache and don't want to install it. The BOM could help.. one could send it from routine.. but maybe some cgi switch for red should be used to let it know that it is not in the dos console so no ucs2 encoding.

[11:10](#msg59a3fa2bee5c9a4c5f09629d)Btw.. I'm using Nginx as a server.. but what i know it supports only fastcgi

pekr

[11:19](#msg59a3fc3476a757f808efa1aa)Can Red console get "piped" at all? E.g. command line arguments are coming in 0.6.4 next version, but that might be just different ....

[11:20](#msg59a3fc65ba0f0f6e38ef2514)Well, most probably a bad question anyway .... as Peter proved it works under the macOS ....

PeterWAWood

[11:45](#msg59a4026b66c1c7c477ec9183)Have you tried fooling Apache with "^(0D0A)" instead of new lines?

[11:53](#msg59a4043076a757f808efcc01)It would confirm or not if the problem is Red's console's UTF-16 output.

Oldes

[12:00](#msg59a405d5ee5c9a4c5f09975c)I would guess they tried every combination already... it is not hard to implement different output but first better to hear @dockimbel 's opinion on that and how it should be integrated. For example.. print of binary value could output exact content without modificatipn.

pekr

[12:02](#msg59a40654ee5c9a4c5f0999f5)I don't need CGI under Windows nowadays, so not a priority here. Just tried to test myself, as I used it in the past. As I can see, the activity (according to Trello) is with the Android nowadays :-) ...

Oldes

[12:13](#msg59a408f59acddb2407d8b0ee)It is also possible that I'm completely wrong and there is no UCS2 output with Apache :)

endo64

[13:34](#msg59a41c00c101bc4e3a653041)I tried every combination of newline/cr/lf/crlf, output to a file was exactly same for Purebasic compiled CGI application which works, but Red compiled one doesn't. So the output of red compiled app could be different for CGI than redirecting to a file (as @Oldes said) or ... I don't know :)

PeterWAWood

[14:08](#msg59a423efee5c9a4c5f0a376b)@endo64 "^(0D0A)" is not cr &amp; lf, it is a single codepoint. If it is converted to UTF-16, it will be converted to binary 0D0A which Apache will interpret as cr lf.

Oldes

[14:13](#msg59a425068f4427b462a934bb)I see.. but the rest will be as ucs2 anyway so the header would not be parsed correctly anyway.. i guess.. maybe uf something like that could be used for bom.. which could lead nowhere anyway.

PeterWAWood

[14:22](#msg59a42719614889d475961157)@Oldes I think trying "^(0D0A)" would show if it is an encoding issue.

[14:24](#msg59a427a5614889d475961421)"^(FFFE)" should give a BOM for UTF-16 LE.

[14:31](#msg59a42948210ac26920cd8f6a)I think that HTTP headers cannot be UTF-16 encoded.

greggirwin

[16:40](#msg59a4477e8f4427b462a9e460)@toomasv, yeah! Updated my gist. Need to get back on `format`...ahhh time.

endo64

[18:20](#msg59a45f0b76a757f808f183d9)@PeterWAWood @Oldes @pekr I've configured apache module named `mod_dumpio` which dump request and response details in error log file and also configured `ScriptLog` to see the details of CGI script executions. It looks like red compiled exe doesn't produce any output at all:

```
%% [Mon Aug 28 21:16:44 2017] GET /cgi-bin/test.exe HTTP/1.1
%% 500 C:/Users/endo/Documents/htdocs/cgi-bin/test.exe
%request
Host: localhost
Connection: keep-alive
Cache-Control: max-age=0
Upgrade-Insecure-Requests: 1
User-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.86 Safari/537.36
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8
DNT: 1
Accept-Encoding: gzip, deflate, br
Accept-Language: tr-TR,tr;q=0.8,en-US;q=0.6,en;q=0.4
%response
```

[18:22](#msg59a45f50c101bc4e3a668b82)There is only one blank line after `%response`, here is the dumpio:

```
...
[Mon Aug 28 21:16:44.678315 2017] [dumpio:trace7] [pid 1216:tid 1252] mod_dumpio.c(100): [client ::1:49921] mod_dumpio:  dumpio_in (data-HEAP): Accept-Language: tr-TR,tr;q=0.8,en-US;q=0.6,en;q=0.4\r\n
[Mon Aug 28 21:16:44.678315 2017] [dumpio:trace7] [pid 1216:tid 1252] mod_dumpio.c(135): [client ::1:49921] mod_dumpio: dumpio_in [getline-blocking] 0 readbytes
[Mon Aug 28 21:16:44.678315 2017] [dumpio:trace7] [pid 1216:tid 1252] mod_dumpio.c(58): [client ::1:49921] mod_dumpio:  dumpio_in (data-HEAP): 2 bytes
[Mon Aug 28 21:16:44.678315 2017] [dumpio:trace7] [pid 1216:tid 1252] mod_dumpio.c(100): [client ::1:49921] mod_dumpio:  dumpio_in (data-HEAP): \r\n
[Mon Aug 28 21:16:44.729608 2017] [cgi:error] [pid 1216:tid 1252] [client ::1:49921] Premature end of script headers: test.exe
```

[18:23](#msg59a45f8c578b44a046f97937)After `Accept-Language` there should be response but the is only (2 bytes) `\r\n` and then cgi-error.

[18:26](#msg59a460479acddb2407da71e3)

```
Red/System []
print ["Content-type: text/html" lf lf]
print ["OK" lf]
```

I compiled this script and it worked as CGI.

[18:45](#msg59a464ae8f4427b462aa72f8)The output of above script (when redirected to a file) is:

```
43 6F 6E 74 65 6E 74 2D  74 79 70 65 3A 20 74 65
78 74 2F 68 74 6D 6C 0D  0A 0D 0A 4F 4B 0D 0A
```

`lf` becomes `0x0D0A`

[18:57](#msg59a467a5614889d47597598b)If I change my script to: (removed content-type header)

```
Red/System []
print ["OK" lf lf]
```

I got `malformed header from script 'test.exe': Bad header: OK` in the error log. So I think red CGI script somehow doesn't produce the correct output (or no output at all) otherwise I would see a different error than `premature end of script headers`.

toomasv

[20:44](#msg59a480a1c101bc4e3a6737fa)Added tabular output to \[query](https://github.com/toomasv/query):

```
query [print tabular properties [first-name average age age-group: unique (rejoin ["" a: age / 10 * 10 "-" a + 9])] of persons collected by [(age / 10)]]

first-name      | average age | age-group 
--------------- | ----------- | --------- 
Edward Ivan     |        15.5 | 10-19     
Xia Oscar Timmu |        55.0 | 50-59     

query [print tabular properties [first-name age] of persons]

first-name | age 
---------- | --- 
Timmu      |  56 
Oscar      |  54 
Ivan       |  13 
Xia        |  55 
Edward     |  18
```

greggirwin

[21:57](#msg59a491b376a757f808f281cc)Nice @toomasv !

## Tuesday 29th August, 2017

kpeters58

[04:07](#msg59a4e899162adb6d2e44dce0)The following code sends any of the current consoles into nirwana on my Win 10 box - can someone verify this before I file a bug?

[04:07](#msg59a4e89b162adb6d2e44dcf3)

```
db: make block! 10000
new-record: func [n] [
    reduce [
        form "user" n reduce [
            random 100000 random "abcdefghijklmn" random 24:00
        ]
    ]
]
repeat n 10000 [append db new-record n]
probe db
```

[04:10](#msg59a4e93eee5c9a4c5f0da14b)I stand corrected - it just returned (after 20 minutes on a box with an i5 and 8GB of RAM)....

toomasv

[04:26](#msg59a4ecedbc46472974d234c5)@kpeters58 On my W10 (i7, 2.7GHz, 16GB) it took no time :ghost::

```
>> time-it [repeat n 10000 [append db new-record n]]
== 0:00:00.031
>> db
== ["user" 1 [38912 "dnmgjkhlefabci" 7:09:32.022323] "user" 2 [70017 "mabngikdfelhjc" 19:44:41.700662] "user" 3 [9717 "ndlajfbmckiheg" 23:47:13.4...
```

BTW, you should use `random copy "abcdefghijklmn"` to get random permutations of the string, otherwise every string in your block is changed on each repeat, ie they all are actually pointers to the same string without `copy`.

greggirwin

[06:22](#msg59a5081676a757f808f43fbb)Basically the same as @toomasv here. It's the `probe` that takes the time, printing ~500K to the console. The new console should show progress, rather than not showing anything while it's working, as happens now.

dockimbel

[06:22](#msg59a50837bc46472974d29b73)@qtxie ^---

alqnop

[14:39](#msg59a57c8d162adb6d2e4773a3)Good morning, all

9214

[14:39](#msg59a57c9e578b44a046fe61bb)@alqnop welcome!

alqnop

[14:39](#msg59a57ca476a757f808f66bde)Having some random/seed 123456 issues

[14:40](#msg59a57cc0ba0f0f6e38f60b1e)My variables v2, v3, v4 and i1 are the same numbers every time I run the program.

[14:40](#msg59a57cf2162adb6d2e4774ff)I explored red a while ago and had the same frustration, how exactly does one implement random numbers in scripts (I'm sure there are different ways)

9214

[14:41](#msg59a57d04bc46472974d4c623)@alqnop try to use `random/seed now/time`, I think this is a known issue.

alqnop

[14:41](#msg59a57d059acddb2407df53a4)I asked this question a year ago and have looked at some of the same resources before arriving here.

maximvl

[14:42](#msg59a57d46614889d4759c1adc)well, initializing the seed with same value will produce you the same results

alqnop

[14:42](#msg59a57d59162adb6d2e4777e6)@9214 That was it, thanks so much

9214

[14:42](#msg59a57d688f4427b462af50b4)@alqnop you're welcome

[14:43](#msg59a57d83614889d4759c1c3f)ah, wait, issue was about `now/precise` I believe :flushed:

alqnop

[14:44](#msg59a57ddd578b44a046fe66bd)It's working as intended, however I would change one working implementation for another per @maximvl 's suggestion if he may guide me on the path to initializing the seed with different values.

[14:45](#msg59a57e0376a757f808f672bb)My understanding is that I want the returned value to be \[1,2,3,4,5,6], weighted equally... so I give the random/seed 123456

9214

[14:46](#msg59a57e56ba0f0f6e38f61346)@alqnop ?

```
>> random/seed now/time
>> loop 15 [probe random/only [1 2 3 4 5 6]]
3
6
2
...
4
3
```

alqnop

[14:49](#msg59a57ef9bc46472974d4cfce)That's a nice way of doing it, thanks. I'll implement both and settle on one by the end of the project

endo64

[15:48](#msg59a58ceb66c1c7c477f39d4b)`random 6` would return an integer between 1 and 6 (1 and 6 included)

alqnop

[15:51](#msg59a58d9bc101bc4e3a6bc375)Trying to have the variables (generated random numbers) returned into (ideally) an info field

9214

[15:56](#msg59a58e92c101bc4e3a6bc883)@alqnop

```
>> vars: collect [repeat i 6 [keep to word! rejoin ["var" i]]]
== [var1 var2 var3 var4 var5 var6]
>> rand: collect [repeat i 6 [keep i]]
== [1 2 3 4 5 6]
>> set vars random rand
== [5 1 4 3 2 6]
>> set vars random rand
== [6 5 2 4 1 3]
>> set vars random rand
== [3 2 6 4 5 1]
```

alqnop

[15:58](#msg59a58f4376a757f808f6d314)Thanks, I need to read more

9214

[16:00](#msg59a58f80210ac26920d3c42d)@alqnop feel free to ask any questions in \[`red/help`](https://gitter.im/red/help) or \[`red/welcome`](https://gitter.im/red/welcome) rooms :book:

greggirwin

[16:33](#msg59a59740614889d4759ca3cd)As an added note, the reason `random` returns the same results when given the same `/seed` is because otherwise you couldn't reproduce results for testing and verification.

9214

[16:33](#msg59a597599acddb2407dfe5f3)that's smart!

kpeters58

[17:14](#msg59a5a0f48f4427b462b004dc)@toomasv The generating takes 'no' time as well on my machine - the probe is the issue. BTW, the code I used was straight from the master himself: http://www.rebol.com/article/0020.html - all I did was replace the 'join' with 'form' as it seems to be absent from Red

toomasv

[18:33](#msg59a5b369c101bc4e3a6c7b29):scream\_cat: @kpeters58  
Yes, `probe`, agreed.  
Well, `random` without `copy` in this code works in Rebol, but not in Red. This is what you get in Red without `copy`:

```
["user1" [96172 "ifcgdelbjhnmak" 19:53:30.730301] "user2" [69301 "ifcgdelbjhnmak" 11:59:20.582853] "user3" [48333 "ifcgdelbjhnmak" 20:53:15.894442]
```

(that is, with `rejoin ["user" n]`)

honix

[19:45](#msg59a5c45dc101bc4e3a6ccbc6)\[!\[red-poster.png](https://files.gitter.im/red/red/URPI/thumb/red-poster.png)](https://files.gitter.im/red/red/URPI/red-poster.png)

9214

[19:46](#msg59a5c483614889d4759d7e67)@honix woohoo! :clap:

honix

[19:46](#msg59a5c4a466c1c7c477f4a5e5)@9214 For Truth, for Red!

9214

[19:47](#msg59a5c4d4c101bc4e3a6ccdfc)@honix although maybe it should be a tower of hanoi and hydrogen atom? ;)

[20:00](#msg59a5c7cb210ac26920d4cdd9)@9214 oh, maybe it IS hydrogen atom

greggirwin

[20:59](#msg59a5d5b6578b44a046002645):^)

## Wednesday 30th August, 2017

codenoid

[01:27](#msg59a614878f4427b462b204db)Hi

[01:28](#msg59a614aa210ac26920d61bf9)`“red-063” can’t be opened because it is from an unidentified developer.` on osx

[01:29](#msg59a6150a76a757f808f92b48)is there any installation via brew?

[01:36](#msg59a61699578b44a046013002)i dont have any idea, how to install it , ?

PeterWAWood

[01:47](#msg59a61924578b44a046013841)You don't need to install it. Try to run it from the Terminal app.

[01:48](#msg59a6197e162adb6d2e4a4e84)There is Homebrew cask for the announced release and another for the daily builds.

codenoid

[03:32](#msg59a631e6ba0f0f6e38f93a02):o it's portable

dockimbel

[05:05](#msg59a647a4ee5c9a4c5f13b58f)@honix Perfect! Love the sputnik. ;-) :+1:

greggirwin

[17:27](#msg59a6f57bba0f0f6e38fcc710)First in the Full Stack Space Race!

9214

[17:28](#msg59a6f5b7ba0f0f6e38fcc894)and the only one ;)

greggirwin

[17:29](#msg59a6f5ec8f4427b462b615b5)Once proven it can be done, others will try to follow.

9214

[17:30](#msg59a6f618ba0f0f6e38fccae3)puny humans :alien:

## Thursday 31st August, 2017

kpeters58

[02:01](#msg59a76e08bc46472974dd8f74)Has Gabriele's PDF-Maker ever been ported to Red?

greggirwin

[05:13](#msg59a79ae1b16f264642ed994d)Not that I know of.

dockimbel

[06:29](#msg59a7acb2614889d475a5ccca)@kpeters58 From the tests I made with it, the only thing preventing it to work on Red yet, is the heavy usage of closures Gabriele is making in the code there (Rebol2 functions are closures by default). So, if someone wants to port it to Red, first add a proper closure implementation, and replace most of the function definition with a closure.

moliad

[06:41](#msg59a7afa3ee5c9a4c5f1a031e)is there a way to call some code when a value is destroyed/collected ? I can't see any datatype actions which equate to this type of event?

dockimbel

[06:43](#msg59a7aff98f4427b462b902f3)@moliad Not yet. Should come once we complete the work on the object events and merge the GC branch.

moliad

[06:43](#msg59a7b019b16f264642edee5e)but I don't want to use objects, this is for a custom datatype.

dockimbel

[06:44](#msg59a7b05bc101bc4e3a752a50)Then, no, we don't have that yet. But until the GC is plugged in, that shouldn't make a difference, as values are not destroyed for now.

moliad

[06:46](#msg59a7b0b09acddb2407e90a35)it would be especially useful for data allocated on the evaluation stack (if that is possible... I haven't gotten that far yet).

dockimbel

[06:47](#msg59a7b112210ac26920dd2937)Values on the Red stack are marked as alive by the GC. Only manual freeing in R/S code can pop/destroy values on stack.

moliad

[06:49](#msg59a7b18bbc46472974de85cd)I'm currently going through the whole beast, slowly. I'm starting with adding a new simple datatype as my way of forcing me to address/learn stuff I might not have to if I was just toying around.

[06:52](#msg59a7b22bbac826f054653a9b)thx for the quick response... so when the GC is complete, there will be an additional (usually null) action that allows us to call code when a value is about to be free'd? this would allow me to cleanup external lookup tables and free external resources, stuff like that.

[06:54](#msg59a7b2b0614889d475a5e6fc)( for now I can just use explicit cleanup calls at key points in the application lifecycle )

[06:56](#msg59a7b32d210ac26920dd3093)BTW, great work on the libRT. probably the biggest feature yet :-)

dockimbel

[07:31](#msg59a7bb5d210ac26920dd51c9)Thanks, libRT and libRed are a big help indeed. For the GC, every datatype will be able to register a callback finalizer to do some custom clean-up. We need it for `image!` at least.

[07:34](#msg59a7bc08614889d475a61185)@moliad Do I smell something like Red/Stone integration? ;-)

moliad

[14:36](#msg59a81efbc101bc4e3a773aab)cool, it definitely is in the plans, since I will be porting all of my codebase. For sure, I need the async i/o since I use R2 for the server part of stone.

[14:38](#msg59a81f56b16f264642f007b6)I might be a good test user for that when you're more complete in that dept.

## Friday 1st September, 2017

JeannotCoginov

[02:04](#msg59a8c011b16f264642f2f4c8)...and I support that 😁

## Saturday 2nd September, 2017

dockimbel

[05:02](#msg59aa3b4cbc46472974e9e86c)@JeannotCoginov Hi, nice to see you here.

toomasv

[14:50](#msg59aac54e210ac26920ea3552)Added dealing with `none`values, and improved data adding in several formats to \[query](https://github.com/toomasv/query):

```
query [add person family-name first-name ["Eller" "Heino" "Brown" "David" "Urantu" "Miguel"]]
query [add person [#(family-name: "Escriva" first-name: "Javier") #(first-name: "Marco" address: [[(city) "Madrid"] "Puerta del Sol" "22" none] family-name:"Polo")]]
; Following three ways have identical results:
a) positionally:
query [add person ["Javier" "Maduro" 14-6-1963 [["Madrid" ["Spain" none] none] "Puerta del Sol" "12" none]]]
;OR by declared field names in parens (unnamed fields are set to `none` -- no default field values yet):
query [add person ["Javier" "Maduro" 14-6-1963 [[(country city) [(name) "Spain"] "Madrid"] "Puerta del Sol" "12" none]]]
;OR by individual field names in map:
query [add person ["Javier" "Maduro" 14-6-1963 [[#(city: "Madrid" country: [#(name: "Spain")])] "Puerta del Sol" "12" none]]]
```

9214

[15:19](#msg59aacc08ee5c9a4c5f27236a)@toomasv :clap:

toomasv

[15:52](#msg59aad3a3b16f264642fb3386)@9214 :notes:  
Ah, of course, existing data in other tables can be connected by table defaults, e.g. after adding the above address, new person with same address may be added by:

```
query [add person ["Jacinta" "Maduro" 23-12-68 "Madrid, Puerta del Sol 12"]]
```

greggirwin

[22:50](#msg59ab359cc101bc4e3a83aa41)Man, I need to make time to look more into `query`. Thanks @toomasv .

rebolek

[23:00](#msg59ab37f966c1c7c4770be3a4) @toomasv Pretty cool! Is there some easy way how to convert block of maps (or objects) into query's table?

## Sunday 3th September, 2017

toomasv

[05:16](#msg59ab901fee5c9a4c5f29bfe4)@greggirwin Thanks!  
@rebolek Currently it can be done with `compose/deep`:

```
recs: [#(first-name: "Igor" family-name: "Gabardyuk") 
       #(first-name: "Aleksis" family-name: "Tuorila" 
         address: [["Helsinki" ["Finland" none] none] "Aleksanterinkatu" "24-2" none])]
query compose/deep [add persons [(recs)]]
>> query [print tabular properties of person]
id | first-name | family-name |   birthdate | address                          
-- | ---------- | ----------- | ----------- | -------------------------------- 
 1 | Timmu      | Tamm        | 24-Oct-1960 | Tallinn, Tulbi 7-3a              
 2 | Oscar      | Brewer      | 24-Jun-1963 | London, Trafalgar Sq 22          
 3 | Ivan       | Bezrodny    | 27-Jan-2004 | St. Petersburg, Sadovaya 18      
... 
13 | Igor       | Gabardyuk   |        none | none, none none                  
14 | Aleksis    | Tuorila     |        none | Helsinki, Aleksanterinkatu 24-2
```

I plan to eliminate the need for `compose` though.

[05:48](#msg59ab97cbba0f0f6e380fabf9)Because in this way you cannot add records if they are prepared with field-declaration parens.

rebolek

[07:42](#msg59abb255ba0f0f6e380ff92a)@toomasv Thanks

fvanzeveren

[07:59](#msg59abb66cee5c9a4c5f2a2fdb)Hello, how can I reach in red the same result as `read/custom` in Rebol to call a cgi script on a web server from a Red client? Thank you.

9214

[08:06](#msg59abb7f3c101bc4e3a851961)@fvanzeveren pehaps `read/info` could help, but I have no idea about the spec

toomasv

[16:00](#msg59ac270abc46472974f08a6b)Interesting (and useful) value:

```
>> same: 'same
== same
>> same
== same
>> get same
== same
>> get get same
== same
>> get get get same
== same
>> reduce same
== same
>> 'same = get same
== true
>> do same
== same
>> same = 'same
== true
>> equal? same 'same
== true
```

9214

[16:01](#msg59ac2769b16f264642ff9232)@toomasv lol, good job

toomasv

[16:02](#msg59ac27948f4427b462ca889c):sunglasses:

[17:15](#msg59ac38a5b16f264642ffd3c1)I used it to treat same values in consecutive additions in `query`:

```
>> query [add person ["Javier" "Maduro" 14-6-1963 [[#(city: "Madrid" country: [#(name: "Spain")])] "Puerta del Sol" "12" none]]]
== true
>> query [add person ["Jacinta" same 10-12-1978 same]]
== true
>> query [print tabular properties of persons]

id | first-name | family-name |   birthdate | address                          
-- | ---------- | ----------- | ----------- | -------------------------------- 
...
 6 | Javier     | Maduro      | 14-Jun-1963 | Madrid, Puerta del Sol 12        
 7 | Jacinta    | Maduro      | 10-Dec-1978 | Madrid, Puerta del Sol 12
```

9214

[17:18](#msg59ac394bc101bc4e3a86daec)that's very clever, you never stop to impress me @toomasv :O

toomasv

[17:19](#msg59ac39bdee5c9a4c5f2bf9bb):ant: :)

9214

[17:21](#msg59ac3a0dba0f0f6e3811d986)any ETA on plugging it into production DB?

toomasv

[17:23](#msg59ac3a959acddb2407fb1cfe)Nope. There are so many unsolved problems, e.g. cyclic data, persistency, indexes, view ... :crying\_cat\_face: I have no idea how long it will take to figure these things out.

9214

[17:24](#msg59ac3adaee5c9a4c5f2bfd5f)\[these things, they take time](https://www.youtube.com/watch?v=0d6yBHDvKUw)

toomasv

[17:25](#msg59ac3b09c101bc4e3a86e2f3):joy\_cat:

greggirwin

[18:11](#msg59ac45da210ac26920ef23e1)@toomasv you forgot:

```
>> same? same 'same
== true
```

:^)

toomasv

[18:12](#msg59ac45fac101bc4e3a870f0c)@greggirwin Whooaa!

honix

[18:16](#msg59ac46f5b16f264642000a8f)@greggirwin :)

9214

[18:20](#msg59ac48089acddb2407fb519c)this is clone police :cop: :cop:, arrest this man

## Monday 4th September, 2017

uralbash

[06:14](#msg59acef2b210ac26920f15af2)Hi, I've build Nix (https://nixos.org/nix/) package of red-lang. Now it can be installed on any Linux with command `nix-env -i red-v0.6.3`

dockimbel

[06:21](#msg59acf0f88f4427b462cd58bd)@uralbash Nice! Is there a Red package web page on Nix web site I could link to?

uralbash

[06:33](#msg59acf3a6162adb6d2e657011)@dockimbel There are no personal pages, only a link to the github (https://github.com/NixOS/nixpkgs/blob/master/pkgs/development/interpreters/red/default.nix) and package search engines https://nixos.org/nixos/packages.html (not updated yet)

planetsizecpu

[08:28](#msg59ad0eb866c1c7c4771214ca)@toomasv these names/adresses sounds familiar to me :smile: good job, (and a lot of job to do!)

toomasv

[08:51](#msg59ad1410b16f26464202f0ab)@planetsizecpu :grinning:

fvanzeveren

[15:20](#msg59ad6f47b16f26464204af6c)Hello, I have an issue with exception management.  
The following does not look good:

```
>> error? err: try [divide 1 0] [print "hello"]
== [print "hello"]
>> probe err
none
```

At least it is not consistent with the explanation and example found here: http://www.red-lang.org/2015/03/051-new-console-and-errors-support.html

Why does version 063 not return an error object?

Thank you

meijeru

[15:29](#msg59ad71768f4427b462cfb2c3)I think this is a bug that should be reported.

9214

[15:30](#msg59ad71ac210ac26920f3c404)`try` returns an `error!` but it isn't bound to a word

```
>> err: probe try [1 / 0]
make error! [
    code: 400
    type: 'math
    id: 'zero-divide
    arg1: none
    arg2: none
    arg3: none
    near: none
    where: '/
    stack: -160925772
]
*** Math Error: attempt to divide by zero
*** Where: /
*** Stack: probe  

>> probe err
none
== none
```

[15:31](#msg59ad71df162adb6d2e67cdae)looks like a bug indeed

fvanzeveren

[15:32](#msg59ad72039acddb2407ffff0c)And an annoying one :worried:

9214

[15:32](#msg59ad7223bac826f0547c0fc6)@fvanzeveren interestingly, it works with one (or even two) letter words:

```
>> y: try [1 / 0]
*** Math Error: attempt to divide by zero
*** Where: /
*** Stack:  

>> ? y
Y is an error! value: make error! [
    code: 400
    type: 'math
    id: 'zero-divide
    arg1: none
    arg2: none
    arg3: none
    near: none
    where: '/
    stack: -160925784
]
```

[15:33](#msg59ad725a162adb6d2e67d051)should I file an issue for you?

fvanzeveren

[15:34](#msg59ad7276ee5c9a4c5f30d426)@9214 Yes thank you. At least I have a workaround in the meantime. Thanks.

9214

[15:34](#msg59ad728ac101bc4e3a8bcd68)@fvanzeveren 2-letter words work too :)

fvanzeveren

[15:35](#msg59ad72a5210ac26920f3ca2a)and 4 too ...

9214

[15:35](#msg59ad72b39acddb24070001ba)now that's really weird

[15:35](#msg59ad72cb210ac26920f3cac2)wait, it works with 3 letter words too

[15:35](#msg59ad72d0c101bc4e3a8bce7d)except for `err`

fvanzeveren

[15:36](#msg59ad72fb66c1c7c47714034f)Yes, indeed, I was trying the same :) This is more than weird... Do not call an error err!

[15:37](#msg59ad731c162adb6d2e67d417)There is no `err` in Red :)

[15:41](#msg59ad742e8f4427b462cfbfc0)Is there some way to `disarm` an error like in Rebol?

9214

[15:45](#msg59ad7518b16f26464204ce6a)@fvanzeveren something like `reduce [try [1 / 0]]` maybe? Can't check how `disarm` works in R2, it refuses to work on my linux machine :confused:

Oldes

[15:52](#msg59ad76a9bac826f0547c25df)@9214 it is a bug, @fvanzeveren the error is by default disarmed (when it works:-).

9214

[15:52](#msg59ad76cd614889d475bd1177)@Oldes :bug:

fvanzeveren

[15:55](#msg59ad775bc101bc4e3a8be2d1)@Oldes THanks, indedd, I can append the error into a block without crashing the script. Excellent.

9214

[15:55](#msg59ad77888f4427b462cfcde6)@Oldes ah, you mean that example with reducing is a bug?

[15:56](#msg59ad77959acddb2407001a92)again, should I report it or is it already on the list?

Oldes

[15:56](#msg59ad77a066c1c7c477141aba)I mean the error variable with more than one letter not working.

[15:57](#msg59ad77f5162adb6d2e67e807)hm... it is notworking just for `err` variable.

[15:58](#msg59ad781466c1c7c477141c24)

```
>> error? abc: try [1 / 0]
== true
>> abc
*** Math Error: attempt to divide by zero
*** Where: /
*** Stack:  

>> error? err: try [1 / 0]
== true
>> err
== none
```

9214

[15:58](#msg59ad7837c101bc4e3a8be5f3)@Oldes :point\_right: https://gitter.im/red/red?at=59ad72b39acddb24070001ba

Oldes

[15:59](#msg59ad7858ee5c9a4c5f30ee31)Yes... weird.... not possible to set `err` to any value... not error related.. and pretty old bug.. I can reproduce it in old console versions too.

[16:05](#msg59ad79d066c1c7c4771425de)It is set here https://github.com/red/red/blob/master/environment/console/engine.red#L177 using `set/any` which `function` does not detect as local.

9214

[16:06](#msg59ad7a01210ac26920f3eba6)@Oldes could you please reference this in bug report too?

Oldes

[16:06](#msg59ad7a17bac826f0547c355e)I can make a fix, if someone else don't do it. But have limited time now.

dockimbel

[16:06](#msg59ad7a22c101bc4e3a8beee8)@Oldes Correct. You can make the fix.

Oldes

[16:13](#msg59ad7baa66c1c7c477142dcd)Actually it is also in other file... I'm fixing it

9214

[16:13](#msg59ad7bb8210ac26920f3f516)how do you guys manage to navigate the codebase and find bugs so quickly?

Oldes

[16:16](#msg59ad7c40614889d475bd29f6)https://github.com/red/red/pull/3016

[16:22](#msg59ad7dd3bc46472974f5fd84)@9214 I used ALT+F7 in Total Commander.

9214

[16:22](#msg59ad7de266c1c7c4771437e0)@Oldes :D oh boy

dockimbel

[16:22](#msg59ad7de3ba0f0f6e3816f212)@9214 I have a copy of the codebase in my head. ;-) At least, the parts I wrote.

9214

[16:23](#msg59ad7e1b66c1c7c4771438ec)@dockimbel mind palace? :thought\_balloon:

dockimbel

[16:25](#msg59ad7e73210ac26920f402fe)Maybe, but not consciously built, just accumulated knowledge over time, and each bug is an opportunity to refresh that knowledge.

Oldes

[16:26](#msg59ad7ec8c101bc4e3a8c0483)I'm pretty sure \[these parts](https://github.com/red/red/pull/3001) are begging for a little refresh.

dockimbel

[16:27](#msg59ad7efb210ac26920f4050b)@Oldes I should come back to that very soon, maybe tomorrow, if I can finish tab-panel implementation for Android.

9214

[16:28](#msg59ad7f2cee5c9a4c5f310e72)@dockimbel ah, by the way, welcome home, we missed you :smile\_cat:

dockimbel

[16:29](#msg59ad7f649acddb2407004128)@9214 Haha, thanks. :smile: I was still monitoring a few conversation here in the last weeks, just no spare time to post.

[16:32](#msg59ad800dbac826f0547c53cb)The work on the Android backend has progressed very fast, we should be able to make it on-par with our other backends in a few weeks. Though, that won't be enough, we need to add many extra widgets and abstraction layers to cover all the important features offered by such platform.

[16:34](#msg59ad807eee5c9a4c5f3113ea)Expect many new features to permeate in our other GUI backends in the next months. View and VID will also receive significant upgrades.

[16:37](#msg59ad813b162adb6d2e68169c)After diving into the Android developement ecosystem for a month, I must say, I can't believe people are using Java and the (messy) Android API/SDK to build user apps, so many pain points, so much time wasted fighting with the tools and API to get even simple things done. Red will be a much bigger game-changer there than I first thought.

9214

[16:37](#msg59ad8155614889d475bd40cd)hear hear!

[16:38](#msg59ad8196ba0f0f6e38170782)"A prince is riding. I've heard the thunder of his hooves. Swift as the wind he rides. His enemies will cower before him... and their ~~wives~~ users will weep tears of ~~blood~~ joy... the ~~Stallion~~ Red `0.6.4` Who Mounts the (mobile developement) World."

[16:39](#msg59ad81d39acddb2407004e7c)one could say that we're the tribe of `do`thraki

dockimbel

[16:40](#msg59ad81e9162adb6d2e681b6a)@9214 Not even Bran can see it coming. ;-)

9214

[16:40](#msg59ad8205614889d475bd43e2)and I didn't even started with 7th season!

dockimbel

[16:41](#msg59ad8225210ac26920f4160c)I watched it at day+1, couldn't help it. ;-) S7 is short, but very enjoyable. And the good part is that Red will be so much bigger and mature when S8 will arrive. ;-)

fvanzeveren

[17:51](#msg59ad92beba0f0f6e3817551b)Hello, a few days (or maybe weeks...) ago, I asked whether something similar to Promise exist in Red... I don't think anyone answered... But meybe I missed the answers... :smile: Cheers

9214

[17:52](#msg59ad92d5ee5c9a4c5f31674f)@fvanzeveren you mean delayed evaluation?

[17:52](#msg59ad92eb66c1c7c4771494e2)I think I showed some prototype waaaay back in Feb

fvanzeveren

[17:53](#msg59ad932c9acddb2407009f12)Asynchronous execution with response handle when available

9214

[17:54](#msg59ad93518f4427b462d047d5)ah, no, I believe not yet

[17:54](#msg59ad936ac101bc4e3a8c6222)@fvanzeveren https://trello.com/c/0u92C6fN/62-090-concurrency-support

fvanzeveren

[17:58](#msg59ad9431210ac26920f46679)Thanks for the info... So wait and see..

pekr

[18:01](#msg59ad94e39acddb240700a5ba)"After diving into the Android developement ecosystem for a month, I must say, I can't believe people are using Java and the (messy) Android API/SDK to build user apps, so many pain points, so much time wasted fighting with the tools and API to get even simple things done. Red will be a much bigger game-changer there than I first thought." - That should be quoted somewhere :-)

honix

[18:15](#msg59ad985fbac826f0547cbb3d)@pekr i agree with 100%

pekr

[19:50](#msg59adae96ee5c9a4c5f31dfaa)"View and VID will also receive significant upgrades" - maybe a bit bold, but seems like Qt is going to receive some competition :-)

greggirwin

[19:59](#msg59adb098210ac26920f4e295)It's all very exciting. I got a couple little Android devices, so I could play when the time comes. I suppose I'll have to get a nicer one at some point.

## Tuesday 5th September, 2017

dockimbel

[02:03](#msg59ae0603162adb6d2e6a2910)You can always use the Android emulators for testing, Red supports Android/x86 too, so it can be fast enough.

DavidFeng

[03:47](#msg59ae1e55614889d475bfae9e)I am working on add an experimental llvm backend support for red/system compiler version 0.1,

[03:49](#msg59ae1ead66c1c7c47716c3a4)red 0.6.4/5 for android support is so exciting!

planetsizecpu

[06:18](#msg59ae41c3c101bc4e3a8efb4d)@dockimbel today's automatic build is failing:

C:\\Downloads&gt;red-05sep17-0f19dc1  
Compiling Red GUI console...  
\*\** Loading Error: file access error: %inflate.reds  
\*\** in file: %/C/Downloads/call.reds  
\*\** at line: 125

greggirwin

[14:28](#msg59aeb4719acddb240705a0e0)@dockimbel, but then I can't pull it out of my pocket and use my own apps. :^)

[14:28](#msg59aeb495162adb6d2e6d4efc)@planetsizecpu, I believe that's being worked on, based on some tickets and related messages.

ghost~5680c5f416b6c7089cc058a5

[14:29](#msg59aeb4dc8f4427b462d539cd)@greggirwin @planetsizecpu I think \[runtime/inflate.reds](https://github.com/red/red/blob/master/runtime/inflate.reds) needs to be added to \[builds/includes.r](https://github.com/red/red/blob/master/build/includes.r) so that the encapper includes the relevant file with the encapped binary.

[14:37](#msg59aeb6b3bac826f05481a64d) "the (messy) Android API/SDK"  
My friend moved from writing android apps to learning swift to write ios apps for the exact same reason.  
Hope that Red will bring some ease in writing mobile apps.

BTW @dockimbel, how much performance penalty does the java bridge have? Also, will support for OpenGL ES api be provided in that release?

## Wednesday 6th September, 2017

qtxie

[03:59](#msg59af72a9162adb6d2e70c166)@nc-x Yes, you're right.

dockimbel

[04:08](#msg59af74c5bac826f054852242)@nc-x  
&gt; BTW @dockimbel, how much performance penalty does the java bridge have? Also, will support for OpenGL ES api be provided in that release?

Less than expected, and it depends on how intensively is the bridge used for a given feature. So far, Draw is the part making the highest number of calls through the bridge, and our early benchmarks (drawing 100k lines) are showing just about 20% performance penalty compared to pure Java. Support for OpenGL should not come in the first release. Wrapping OpenGL API is a simple task, creating a complete abstraction layer on top of it is a big design work.

planetsizecpu

[05:23](#msg59af8665210ac26920fcf80f)@greggirwin later I saw these tickets rolling. Today's build is working right

WiseGenius

[12:11](#msg59afe5e9614889d475c81bfd)In Red, his hangs:

```
parse "abc" [some [opt "a"]]
```

In Red, this doesn't hang:

```
parse "bc" [some [opt "a"]]
```

In Rebol 2, both hang.  
In Rebol 3, both don't hang.

Which is the correct/desired behaviour?

moliad

[13:18](#msg59aff5adc101bc4e3a97193e)there where changes in semantics in R3 with the way rules fail (or don't). problem with the assumption in R3 is that you always want a rule to advance the cursor... in many of my use cases, the cursor does not advance, on purpose.

[13:21](#msg59aff647b16f26464210604e)the rule

```
[some [opt "a"]]
```

is a bad construct.

```
opt "a"
```

is always true. what you want is to use

```
any "a"
```

its why we have different parse operators.

[13:21](#msg59aff654bac826f054879ec7)R3 assumes that people write bad rules and interrupts them.

[13:21](#msg59aff65d210ac26920ff2921)R2 does not.

[13:22](#msg59aff68f210ac26920ff2a54)as Red is R2 compatible, it uses the R2 semantics... this being said, adding another iteration operator which behaves like R3 would be trivial.

maximvl

[13:22](#msg59aff68f210ac26920ff2a56)can we throw errors instead of hanging?

moliad

[13:22](#msg59aff6989acddb24070b86c9)its not an error

maximvl

[13:22](#msg59aff6a5162adb6d2e732248)or is this a halting problem?

moliad

[13:22](#msg59aff6aec101bc4e3a971ee5)that's what you ask it to do.

maximvl

[13:22](#msg59aff6af614889d475c87d56)@moliad depends how you define an error

moliad

[13:23](#msg59aff6c7ee5c9a4c5f3c4454)it doesn't hang... its actually running the rule in a loop.

maximvl

[13:23](#msg59aff6dc210ac26920ff2c16)ok, let's say can we add refinement `/safe` to prevent infinitive loops?

[13:24](#msg59aff6f066c1c7c4771f713f)because I agree, sometimes you want it to loop forever

moliad

[13:24](#msg59aff6f69acddb24070b883d)if you write

```
forever []
```

in code do you expect the interpreter to stop it... if you write bad code, it should behave badly ;-)

[13:24](#msg59aff718b16f2646421063b9)R3 added new keywords to use the old behavior (can't remember them of the top of my head).

[13:25](#msg59aff731bc46472974017431)I'd add new keywords for the safe mode... cause I admit it would be useful, especially when testing rules.

[13:27](#msg59aff7af66c1c7c4771f76d8)in some event driven code, I have rules which run on events and have

```
wait
```

in them. Some of the subrules only trigger when a button triggers a cancel, for example.

[13:31](#msg59aff89e210ac26920ff361a)IMO adding a /safe refinement is a bit extreme, just like the /case refinement. I prefer having different operators which allow both in the same parse rule.

ghost~5680c5f416b6c7089cc058a5

[15:48](#msg59b018ba4e50cfde270eaa0e)@dockimbel Okay. Thanks for the info. Eagerly waiting for the android release :smile:

Oldes

[16:20](#msg59b02040b16f264642114436)@nc-x  
&gt; Wrapping OpenGL API is a simple task, creating a complete abstraction layer on top of it is a big design work.

The simple part is done already https://github.com/red/code/tree/master/Library/OpenGL

dockimbel

[16:22](#msg59b020b2b16f26464211466f)@WiseGenius Please open a ticket for that Parse issue, so we can see how to improve it.

fvanzeveren

[20:36](#msg59b05c3dee5c9a4c5f3e53ca)Hello, I am wondering what is wrong with the following code. It generates a stack overflow, and I am unable to understand why?

```
set 'delete func [
		file [file!]
		/deep
		/local dir-items
	] [
		if all [deep dir? file] [
			dir-items: read file
			forall dir-items [
				delete/deep to-file reduce [file first dir-items]
			]
		] 
		system/words/delete file
	]
```

Thank you for your help.

rgchris

[21:43](#msg59b06c12614889d475cae4fb)What is the context of `'delete` where you set it? No chance it overrides `system/words/delete`?

moliad

[21:45](#msg59b06c68162adb6d2e75687b)ah yes, you've got

```
delete
```

calling

```
delete
```

## Thursday 7th September, 2017

fvanzeveren

[04:36](#msg59b0ccb2ee5c9a4c5f40188b)@moliad I try to create a function to delete nested and non-empty folders. I redefine the word `delete` in a recursive way, calling system/words/delete when reaching a "leaf" or an empty folder.

[04:43](#msg59b0ce5a66c1c7c477234454)@rgchris indeed, I think you are right... it overrides system/words/delete

9214

[06:49](#msg59b0ec088f4427b462df3500)@fvanzeveren Red doesn't have tail-call optimizations yet

Oldes

[16:24](#msg59b172c34e50cfde27149507)Does anybody know how to build libRed.dll?

[16:25](#msg59b172df614889d475cf57d1)Although I was able to do it some month ago.. I cannot figure it out now.

9214

[16:26](#msg59b1732f9acddb2407124410)@Oldes `red build libred`?

Oldes

[16:26](#msg59b17337bc46472974083b9d)On the web is mentioned: `rc "build libred"`, but with it I get error:

```
*** Driver Internal Error: Access Error : Cannot open /C/dev/GIT/rs/projects/red/latest/libred/
*** Where: load-targets
*** Near:  [targets: load-cache %system/config.r
```

9214

[16:26](#msg59b1734a66c1c7c477263a9e)or `red build libred stdcall`

Oldes

[16:27](#msg59b1735b66c1c7c477263acb)@9214 I don't have `red` just sources.

dockimbel

[16:30](#msg59b1740f8f4427b462e1b843)@Oldes From sources:

```
do/args %red.r "-r %libRed/libRed.red"
```

Oldes

[16:30](#msg59b17415c101bc4e3a9dc535)Ah.. looks like this was working: `rebol-view-278-3-1.exe -cs %red.r -r -dlib %libred\libred.red` It just was just compiling 180s because I have only 10% of battery and so the notebook is a little bit slower.

[16:30](#msg59b17436c101bc4e3a9dc5a1)where is the `stdcall` in this command?

toomasv

[16:33](#msg59b174c4bc46472974084395)Exercise in DSL-creation: \[matrix](https://gist.github.com/toomasv/4fcecbb54ed253e2c897bf44316d2a70)  
\* Operations supported:  
`['+ | '- | '* | '/ | '% | '** | '>> | '<< | '>>> | 'and | 'or | 'xor | 'div | 'x]`  
and unary op `transpose`  
\* `div` turns args to floats  
\* `x` is standard matrix multiplication op  
\* `*` is Hadamard multiplication op  
\* `X` is Kronecker multiplication op  
\* also ops with scalar args  
\* evaluation from left to right as usual  
\* parens are supported  
\* data can be prepared outside of DSL block  
\* intermediate results can be caught with set-words  
\* lots of bugs (probably)

Oldes

[16:34](#msg59b1750bc101bc4e3a9dca27)@dockimbel I know... it is just not clear how I'm suppose to make the `cdecl` version on Windows using compiling from sources and mentioned `rc` command from the documentation does not works.

dockimbel

[16:35](#msg59b1753b8f4427b462e1bdc6)@Oldes `cdecl` is the default convention for libRed, so you don't have to add anything for that.

Oldes

[16:35](#msg59b175598f4427b462e1be36)I would also suppose, that if someone wants to build libRed from sources, than already have sources and should not need to download Red binary

[16:36](#msg59b1758c614889d475cf63da)@dockimbel so the docs are very confusing then -&gt; https://doc.red-lang.org/en/libred.html#\_building\_libred

dockimbel

[16:38](#msg59b175ef614889d475cf6635)@Oldes The docs are saying the same thing, what is confusing?

rebolek

[16:38](#msg59b175fe162adb6d2e79d697)@toomasv cool!

Oldes

[16:41](#msg59b176d3bac826f0548e99b0)@dockimbel Reading this:  
&gt; or from Rebol’s console and Red sources:  
`rc "build libRed"`  
Those command-lines will build the libRed version for C language (using the cdecl ABI). If you need the stdcall ABI (for Microsoft apps compatibility), you need to use:  
`red build libRed stdcall`

was confusing for me, as I was not able to build libRed.dll

[16:42](#msg59b17701162adb6d2e79ddda)First one gives me above error and second... I don't have red binary and there is mentioned that I must made special `stdcall` version.

[16:43](#msg59b177214e50cfde2714ab9d)Take it as an user feedback (from someone who use Red quite a lot)

toomasv

[16:46](#msg59b177d34e50cfde2714afff)@rebolek :) Fun

dockimbel

[17:05](#msg59b17c44210ac2692005d6c2)@Oldes First version works fine here, no error.

[17:06](#msg59b17ca3bac826f0548eb6cb)&gt; there is mentioned that I must made special stdcall version.

The docs says \*"If you need the stdcall ABI..." \*.

greggirwin

[17:06](#msg59b17ca5ee5c9a4c5f433181)@toomasv, very nice! I'm enjoying your excitement about Red, and seeing you express so many things so quickly.

9214

[17:07](#msg59b17cd6c101bc4e3a9df2b5)@toomasv why you're such a quicklearner? :turtle:

dockimbel

[17:09](#msg59b17d3c66c1c7c477266ba7)@toomasv Nice work indeed. What about using nested blocks to define rows, so you don't have to specify the dimensions upfront?

greggirwin

[17:09](#msg59b17d3d4e50cfde2714ca43)I love the use of `new-line` in this. Is your design plan that you would scan for new-line markers to determine the rows and cols in a matrix, or to include meta info in results?

9214

[17:10](#msg59b17d789acddb24071276d2)btw, `extract` is handy when it comes to table-like structures

dockimbel

[17:11](#msg59b17ddd210ac2692005dd63)@greggirwin I wonder how viable it would be to use significant new-lines to delimit rows. Worth investigating.

greggirwin

[17:13](#msg59b17e2866c1c7c477266f65)I'll make a note for `format` as well. Could be tricky, especially in the context of messaging, where formatting isn't always honored through a transport chain.

toomasv

[17:28](#msg59b181a8162adb6d2e7a1023)@greggirwin Thanks! I'm not yet sure how to go on with new-lines, but I liked the expressivity. Matrices are implemented as objects, so the meta info (cols, rows) is kept there, if you meant that kind of info.  
@9214 :runner: tempo! tempo!  
@dockimbel Thanks! I thought nested blocks are more cumbersome to manipulate. :blush:

greggirwin

[20:13](#msg59b1a883162adb6d2e7ac822)@toomasv, I just meant that if you get back

```
[
    1 2 3 
    4 5 6
]
```

you either need to use new-line markers, sub-blocks, or meta info to know how many rows and cols there are, for saving/loading or further processing.

## Friday 8th September, 2017

toomasv

[03:30](#msg59b20ed0bc464729740b03e8)@greggirwin Currently a matrix with meta info can be get with set-word:

```
>> matrix [m: transpose 2x3[1 2 3 4 5 6]]
== [
    1 4 
    2 5 
    3 6
]
>> probe m
make object! [
    rows: 3
    cols: 2
    data: [1 4 2 5 3 6]
    get-col: func [col][extract at data col cols]
    get-row: func [row][copy/part at data row - 1 * cols + 1 cols]
    get-idx: func [row col][pick data row - 1 * cols + col]
    to-float: func [][forall data [data/1: system/words/to-float data/1]]
]
```

greggirwin

[05:14](#msg59b22748614889d475d262e1)Ah, nice. I'll have to look at it for real when I can.

toomasv

[06:53](#msg59b23e69162adb6d2e7d2681)To catch several matrices, they have to be in parens:

```
matrix [(m1: 3x1[1 2 3]) (m2: 1x4[1 2 3 4])]
matrix [m3: m1 x m2]
== [
    1 2 3 4 
    2 4 6 8 
    3 6 9 12
]
```

planetsizecpu

[07:32](#msg59b2479ab16f2646421ae3d1)@toomasv hard work gives good results, good job

toomasv

[07:37](#msg59b248af66c1c7c47729c2eb)@planetsizecpu :sweat\_smile:

tstrokes

[17:10](#msg59b2cee8ee5c9a4c5f4911e5)New to red, wondering where I can find resources on making REST api calls.

9214

[17:11](#msg59b2cf4cb59d55b823d2df47)@tstrokes checkout @rebolek's \[gitter client](https://github.com/rebolek/gritter)

tstrokes

[17:12](#msg59b2cf80cfeed2eb65e79bbb)@9214 thanks this is great.

[17:14](#msg59b2cfdc614889d475d562b4)Does Red have anything like Beautiful Soup or Nokogiri

9214

[17:14](#msg59b2d002cfeed2eb65e79dab)@tstrokes you mean data scraping?

[17:15](#msg59b2d0144e50cfde271a9c4e)all roads lead to `parse`

[17:15](#msg59b2d02b66c1c7c4772c4dcd)http://www.red-lang.org/2013/11/041-introducing-parse.html

tstrokes

[17:18](#msg59b2d0fdb16f2646421d66c3)@9214 yep, I'll look into that. Thanks again.

9214

[17:19](#msg59b2d117cfeed2eb65e7a21c)I bet someone already done some html/xml scraping script, @greggirwin, any tips?

rgchris

[18:10](#msg59b2dcfa162adb6d2e800a33)Still a work in progress, but I have an \[HTML5 parser in Red](https://github.com/rgchris/Scripts/blob/master/experimental/markup.reb). Can use to build a tree that is consistent with browser trees (LOAD-HTML), or just separate tags/text (LOAD-MARKUP).

9214

[18:12](#msg59b2dd9fb16f2646421da747)thanks @rgchris !

rgchris

[18:15](#msg59b2de43cfeed2eb65e7e526)There's a little bit of \[documentation](http://ross-gill.com/page/HTML\_and\_Rebol) here.

toomasv

[18:43](#msg59b2e4bcbc464729740ed94a)@rgchris :+1: Very nice!

greggirwin

[18:52](#msg59b2e6f3bac826f05495271f)I was going to point to @rgchris's stuff. I do have a bunch of old stuff, built for a SaaS product. It was, indeed, all parse based.

rebolek

[21:35](#msg59b30d0bc101bc4e3aa4eee2)@tstrokes See `html-tools.red` and `xml.red` \[here](https://github.com/rebolek/red-tools/tree/xml) for some web-scrapping stuff.

## Saturday 9th September, 2017

geekyi

[07:46](#msg59b39c3ab59d55b823d5d6bb)https://idyll-lang.github.io/ : a web visualization tool like jupyter notebooks (with support for d3, etc), but with a simpler, markdown like format and less boilerplate. Still haven't looked too deeply at how it works

[07:47](#msg59b39c78cfeed2eb65ea9c59)@geekyi wonders what happened to \*eve*

pekr

[08:00](#msg59b39f82cfeed2eb65eaa60c)Eve is still alive as a project, no? At least according to twitter messages they post.

ghost~5680c5f416b6c7089cc058a5

[12:12](#msg59b3da91cfeed2eb65eb6d1a)@Oldes  
&gt; The simple part is done already https://github.com/red/code/tree/master/Library/OpenGL

Ah!!! Everything you wish for is already there in Red!!! :smile:

greggirwin

[17:33](#msg59b425d0177fb9fe7e9eb9a3)Thanks for the link to Idyll @geekyi. And Eve is still alive. At least there are occasional posts on their ML to indicate that they're still working on it.

asampal

[17:46](#msg59b4291151915d962af8efb6)@pekr , version 0.4 should be out soon with improved performance (rewritten in Rust, IIRC)

BlackATTR\_twitter

[19:52](#msg59b4468a162adb6d2e850de2)@rgchris Awesome. Digging into this now-- always a trove of parse tricks to learn from @rgchris code. Would-be students of parse: This is some of the best education you can get if you can stick with it.

## Sunday 10th September, 2017

onetom

[03:57](#msg59b4b81cb59d55b823d98e5f)So i just saw \[this tweet](https://twitter.com/red\_lang/status/904651967519121408) about a Nix package for Red the other day and nenad also reminded me of it yesterday, so I thought I would try:

```
λ time nix-env -i red-v0.6.3                                                                                                                                                     11:51:06
error: selector ‘red-v0.6.3’ matches no derivations
       11.84 real         4.25 user         1.48 sys
```

[03:58](#msg59b4b86c66c1c7c47733347b)I was trying to find it on https://nixos.org/nixos/packages.html too but it's not there.  
Who can help me to move forward with this?

## Monday 11st September, 2017

419928194516

[04:31](#msg59b611acc101bc4e3aafc9ec)@Oldes So this weekend, I wrote an xml parser, then used it to parse the Normative Vulkan Spec into something approximating Red/System code, I was planning on asking here about some of the limitations of Red/System. (arrays, more datatypes) Only to notice that you just commited https://github.com/red/code/blob/master/Library/Vulkan/vulkan.reds 5 days ago (nice job!). It answered many of my questions, but raised another. Do you (or someone) have a red C/C++ header file parser floating around? I was going to have to write at least a partial parser to finish my work on the spec (since they inline a fair amount of C in the xml)  
Also, for everyone, is the general plan to centralize binding code of this type in red/code/Library?

uralbash

[05:44](#msg59b622bb614889d475e1bd3f)@onetom I use it with unstable channel

```
$ nix-channel --list
nixpkgs https://nixos.org/channels/nixpkgs-unstable
```

Perhaps not yet added to stable branch.

[05:48](#msg59b623b5bac826f054a0ef74)@onetom You can also install red from hard way from sources

```
$ git clone git://github.com/NixOS/nixpkgs.git
$ cd nixpkgs
$ nix-build -f . -iA red
```

Oldes

[07:54](#msg59b64126c101bc4e3ab0a280)@419928194516 at least for code I write, I use red/code/Library as a centralized place... I could easily do own repo for each library, but my plan is to use these binding together one day and so it is better to have them under one roof. Regarding C parser... I use \*\*very ugly\** code, which I specialize per header file I want to parse. It is so ugly that I did not published it. These scripts are one purpose scripts... and I didn't wanted to spend time on making them nice and capable to parse correctly everything. I write them as I read the header file. It is not automated process.

[07:56](#msg59b641c5b59d55b823df7c55)Regarding the Vulkan binding, I must warn you, that it may not be fully correct! So far I used it just to obtain an instance. And after that I decided, I should spend my time more on OpenGL, as it will need time to have Vulkan common and it is not on Mac, so one would need to have OpenGL version anyway.

planetsizecpu

[08:21](#msg59b647a6c101bc4e3ab0c8e9)May be it is my mistake, inside a `foreach` loop inisialitation is not working as outside? see this code:  
`Red [] foreach x ["W" "O" "R" "K" "S"] [ str: " " append str x print str ]`

greggirwin

[08:31](#msg59b649e6bc464729741b976a)@planetsizecpu: https://github.com/red/red/wiki/Why-do-I-have-to-copy-series-values%3F

Oldes

[08:44](#msg59b64cf9c101bc4e3ab0e669)@419928194516 I'm also quite not sure.. if I should start with the hard work and write complete system over OpenGL in Red/System myself (as a part of self-learning), or if I should not write SDL binding.

planetsizecpu

[09:06](#msg59b65208b59d55b823dfd3e1)@greggirwin THX, of course it is my mistake, I usually forget all is data (and I know it is), and usually I use colon to init values, this is the ballast I carry from other langs :smile: Let me say your wiki helped me refresh my mind

Oldes

[09:10](#msg59b65307614889d475e2c0a3)What about this: `foreach x ["W" "O" "R" "K" "S"] [ print rejoin [#" " x] ]` ?

planetsizecpu

[09:16](#msg59b6547a614889d475e2c7d6)@Oldes thx, I just wanted to know if I was wrong in init values this way

RnBrgn

[20:26](#msg59b6f17cb59d55b823e38b40)I have a typo in these two parse statements. No space after "OR" . How come the first statement returns false and the second generates an error?  
`parse [1 2 3 4][some [string! |number!]]`  
false  
`parse [1 2 3 4][some [number! |string!]]`  
\*\** Script Error: PARSE - invalid rule or usage of rule: |string!  
\*\** Where: parse

greggirwin

[20:31](#msg59b6f294cfeed2eb65f88a97)In the first rule, it's trying to match a `string!` \*followed by* another rule (`|number!`), which you haven't defined. But it never matches a string in your data, so it never tries to evaluate `|number!`:

```
>> parse ["1" 2 3 4][some [string! |number!]]
*** Script Error: PARSE - invalid rule or usage of rule: |number!
*** Where: parse
*** Stack:
```

RnBrgn

[22:24](#msg59b70d10319100804e226902)Got it. thanks

## Tuesday 12nd September, 2017

BeardPower

[12:55](#msg59b7d930614889d475eadac4)Hi, everyone,

I dug a little through the code, specs and docs, but could not find any info about the "inner workings/design" of Red / Red/System. Is there any documentation on how to implement datatypes or codecs (image, compression, encryption) and how they are connected internally? When to use OS API calls and when to port third party libs/code, e.g. zlib/lz4, AES (using the CPU extensions)?

Oldes

[14:18](#msg59b7eccdc101bc4e3ab9b0f8)Hi @BeardPower ... unfortunately there is not much such an info. Red is still in alpha version and so many things are not stabilized yet. Not mentioning that the compiler is written in Rebol and is supposed to be rewritten in Red once it will be \[on the task list](https://trello.com/b/FlQ6pzdB/red-tasks-overview). But maybe if you would be more concrete, what exactly you want to achieve now, maybe someone could help you.

BeardPower

[18:04](#msg59b821a7319100804e2832f4)@Oldes Thanks for the information. I'm aware of the alpha version and the current flux of Red, that's why I hesitated from implementing some system specific things.  
What I want to achieve: I read on the task list, that the money! type maybe is coming to 1.0, if time allows it. As I want to implement some DSL (finance) for a finance app with rich GUI and relying on the money! type (because it would be the best fit), I thought about implementing it and/or contributing other stuff. I also saw, that some things are implemented using calls to OS libraries (codecs for PNG, JPEG etc.), but other features are implemented from scratch (e,g, encryption). So if I want to code some codecs or something related to compression/encryption, it would be great to know, when to use OS API calls and when to implement from scratch.

Oldes

[18:30](#msg59b827d6bc46472974260eca)@BeardPower I understand... I would also want to help. `money!` is not easy datatype, but for adding datatype... you can check this PR https://github.com/red/red/commit/d9040a169d39b7ca786e9151a9c52c2e5990cca1 where was added `handle!` datatype, which is on the other side very easy, as it is just not modifiable integer.

[18:31](#msg59b8280ebac826f054ac46a8)Regarding API vs scratch... I think it is mostly based if there are some common APIs in all systems without need to install anything.

[18:32](#msg59b82832bc464729742612ac)But I think it would be better if @dockimbel would answer your questions.

[18:38](#msg59b82995c101bc4e3abb27a2)There is also problem, that Red is now being developed in private branches and Nenad don't have time to review public repos.... and so you may end implementing something, what is already done, but we don't know it yet. For example 4 days ago I opened \[this wish](https://github.com/red/red/issues/3018), made own implementation, and today Nenad pushed \[commit](https://github.com/red/red/commit/84c2f43338c68dc8876cfb8f7af82ae42da8b05e) which is 24 days old where is implemented exactly what I wanted. (main difference will be, that he made it in minutes or seconds, while I spend hours on it)

BeardPower

[18:39](#msg59b829c9614889d475ece75e)Thanks. I will look into it. Yes, money! is a little different, as it's also a BCD type.  
It would be of great benefit, if more specific design docs will be released in the future. E.g. about datatype/register, important steps, what needs to be considered/implemented and so on.

Oldes

[18:41](#msg59b82a5dcfeed2eb65fef004)I understand, that if we want to proceed quickly, it is better to write code than documentation:)

BeardPower

[18:51](#msg59b82cca177fb9fe7eb17393)Yeah, I guess it's better to wait for a finalized version, so there is no duplicate work done.  
Sure :)  
I guess there is also the usual issue with documentation: it's boring and no one really seems to like writing it

greggirwin

[20:19](#msg59b84161bac826f054acda35)Money doesn't have to be BCD. Let's see what Nenad suggests. If you have a checklist of specific features, he may be able to go through them quickly. e.g. there is some zlib stuff being done already by Team Red.

BeardPower

[20:46](#msg59b8479ecfeed2eb65ff9133)Ah, ok. (just read the BCD type on the task list) . I will male a list ASAP :)

Oldes

[21:17](#msg59b84ed01081499f1f23d3fe)@BeardPower btw... if you would like to implement own `native` function, this is example what must be done: https://github.com/red/red/pull/1105/files (my implementation may not be perfect - it was never reviewed)

BeardPower

[21:21](#msg59b84fd0c101bc4e3abbfee8)Thank you!

## Wednesday 13th September, 2017

gltewalt

[02:53](#msg59b89d98bc46472974286c00)`nirst`

ajinkyakulkarni

[03:11](#msg59b8a1ecbac826f054aea988)I am trying to run this logo turtle example https://gist.github.com/mydoghasworms/bd342a10f2b806f050ed903e5be435a0, however when I run "$./red-063 logo\_turtle.red" nothing happens. I don't see the window as shown in the gist. Can anyone advice?

PeterWAWood

[03:43](#msg59b8a961c101bc4e3abda055)@ajinkyakulkarni Are you trying to run the on Linux? If so, the View GUI system has not yet been implemented for Linux. Work has started on an implementation by members of the community but it is yet ready to be included in the published Alpha releases.

dockimbel

[04:03](#msg59b8adfd1081499f1f258438)@BeardPower  
&gt; but other features are implemented from scratch (e,g, encryption)

Encryption is implemented using OS API, it would be too expensive to do it ourselves. We try to minimize the Red codebase size by reusing the features provided by the OS.

[04:07](#msg59b8aee8cfeed2eb65017667)@Oldes Sorry for pushing the commit to red/red too late, I intended to sync the commits between the private and public repos on a weekly basis, but got too caught up by coding on pure Android parts. I will try to sync more frequently in the future.

ajinkyakulkarni

[04:10](#msg59b8afb6b59d55b823ec9c29)@PeterWAWood - I am running it on MacOS. I am able to run most of the examples in red/code repository without any problem. However with the mentioned logo turtle gist, I don't get any error when I run.

dockimbel

[04:29](#msg59b8b41cbac826f054aef277)Anyone interested in making a Red entry for "Make a Lisp, in 68 languages"?  
https://github.com/kanaka/mal

PeterWAWood

[04:32](#msg59b8b4c51081499f1f259ed8)@ajinkyakulkarni Remove the `/no-wait` from `view/no-wait win`.

mahengyang

[05:36](#msg59b8c3eb210ac26920256931)@dockimbel cool!

ajinkyakulkarni

[05:40](#msg59b8c4c0614889d475efcda9)@PeterWAWood Thanks a lot!! It is working now.

greggirwin

[05:58](#msg59b8c90cbac826f054af4d19)@dockimbel, I saw the MAL project sometime back, and cloned it, but then wasn't sure if it was the best use of my time. I have one little project I want to do, then back on `format`. Maybe one of the Lisp-ish folks could tackle it. @maximvl? @JacobGood1?

dockimbel

[07:03](#msg59b8d838bc46472974297184)@greggirwin I was also thinking that one of the more experienced lispers here could find such task fun to do. ;-)

maximvl

[08:17](#msg59b8e993b59d55b823edabc9)@greggirwin @dockimbel I saw it yesterday, yep I can handle this :D

dockimbel

[08:35](#msg59b8eded1081499f1f26ad5e)@maximvl Looking forward to be amazed. ;-)

BeardPower

[11:06](#msg59b911371081499f1f276733)@dockimbel  
&gt; Encryption is implemented using OS API, it would be too expensive to do it ourselves. We try to minimize the Red codebase size by reusing the features provided by the OS.

Thank you for the clarification!

rgchris

[13:13](#msg59b92f14bac826f054b176d8)\[AltJSON v0.3.6.1 for Red](https://github.com/rgchris/Scripts/blob/master/red/altjson.red)  
Has many of the features from the Rebol 2 version, including handling of surrogate pairs for escaping characters higher than the BMP.

[13:15](#msg59b92f60bc464729742b5a80)Example: `load-json {"\uD83D\uDE00"}`

dockimbel

[13:21](#msg59b930eab59d55b823ef4eca)@rgchris As I understand, you convert JS objects to Red maps, right? How do you handle `null` values in maps then?

rgchris

[13:25](#msg59b931ae1081499f1f282616)At this point, I don't have a specific solution for that. You should be able to use the word 'none to create a null value in a block or map, but apparently (bug) that's creating a string with ^@ in it.

[13:28](#msg59b93283c101bc4e3ac07855)Loading in /FLAT mode does preserve the key with the NONE value, this is a similar workaround to where a JSON object contains duplicate key names.

dockimbel

[13:30](#msg59b932eebac826f054b18fe6)@rgchris I might have a solution for such cases in `map!`, though I need to dig through the chat history to retrieve it and the comments about it by @WiseGenius. We should really put those posts in a separate wiki page.

rgchris

[13:32](#msg59b93373319100804e2d931c)Fixed the NULL bug there—so, yes, for now /FLAT mode preserves the fidelity of a JSON object.

[13:35](#msg59b934051081499f1f283331)I see some conversation on the subject on Nov 16th last year.

dockimbel

[14:12](#msg59b93cc8c101bc4e3ac0baee)There should be a more recent one IIRC, but maybe not in this room.

9214

[21:27](#msg59b9a2adcfeed2eb6506cab5)question about `parse/case`:

```
>> parse/case [a A]['a 'A]
== false
>> parse/case [a A][quote a quote A]
== true
```

Is that intended? Can this rules be relaxed somehow so I can use `'` instead of `quote`?

[21:29](#msg59b9a354b59d55b823f222b7)and this one just looks suspicious:

```
>> parse [a]['a]
== true
>> parse/case [a]['a]
== false
>> parse/case [a][quote a]
== true
```

rebolek

[21:33](#msg59b9a422210ac269202a469e)@9214 `parse/case` is for string parsing only, it should be ignored for block parsing, so I think that second example is a bug.

9214

[21:35](#msg59b9a494c101bc4e3ac32f75)hm, so `/case` shouldn't be used for creation of case sensitive dialects? :confused:

[21:38](#msg59b9a572319100804e304465)@dockimbel :point\_up: should I make a wish (support case sensitivity for blocks), file an issue (see second example) or both?

## Thursday 14th September, 2017

dockimbel

[02:42](#msg59b9eca2bac826f054b596f5)@9214 Looks like an issue, worth a ticket.

greggirwin

[20:14](#msg59bae30a177fb9fe7ebfffb5)@maximvl, I'm ready to be amazed as well. Really enjoyed your other CL-inspired gists.

## Friday 15th September, 2017

mahengyang

[07:38](#msg59bb8379c101bc4e3acc5183)what's the mean `1.#INF`? when run

```
power 2147483647 2147483647
```

`1.#INF`will return

dockimbel

[07:40](#msg59bb83fcbc46472974376f60)@mahengyang Literal form for positive infinity (`+INF` in IEEE-754).

mahengyang

[07:45](#msg59bb84ffbac826f054bdaa30)

```
1.#INF = power 2147483647 2147483647
```

is there other words in Red like `1.#INF`? it seems a key word

PeterWAWood

[08:28](#msg59bb8f33210ac26920339c8c)There are 3 values `1.#INF`, `-1.#INF`, and `1.#NaN`

[08:30](#msg59bb8fa4210ac26920339eea)positive infinity, negative infinity and "not a number". The are valid `float!` values.

## Saturday 16th September, 2017

mikeparr

[15:33](#msg59bd445dbac826f054c61448)Just pointing out that on the page : http://www.red-lang.org/p/getting-started.html the FIX entries at the right have 'Invalid date' alongside them.

greggirwin

[17:35](#msg59bd60fa7b7d98d30d026b9c)Good catch. Thanks Mike.

## Sunday 17th September, 2017

ghost~59be53e5d73408ce4f7618b4

[10:53](#msg59be543bbac826f054ca73f9)Some known what is wrong with this code

9214

[10:57](#msg59be5535210ac26920401f32)@ejtizado ?

ghost~59be53e5d73408ce4f7618b4

[10:58](#msg59be55417b7d98d30d064527)File a.reds: `Red/System [Title: "test shared"] #import ["libc.dylib" cdecl [xsin: "sin" [rad [float!] return: [float!] ] ] ]`  
File a.red: `Red [Title: "test shared"] #system [#include %shared.reds] print red/xsin 0.12`  
Compiled ok with -r a.red but when I run it: \*\** Script Error: word! type is not allowed here  
\*\** Where: eval-path  
\*\** Stack:

9214

[10:59](#msg59be55951081499f1f409628)@ejtizado could you please reformat your message in codeblock? (`Ctrl + Shift + Alt + m` for markdown cheatsheet)

ghost~59be53e5d73408ce4f7618b4

[11:00](#msg59be55bbc101bc4e3ad8e12e)I try it. I new in Gitter

[11:03](#msg59be5680c101bc4e3ad8e436)File a.reds:

```
Red/System [Title: "test shared"]
#import ["libc.dylib" cdecl [xsin: "sin" [rad [float!] return: [float!]	] ] ]
```

File a.red:

```
Red [Title: "test shared"]
#system [#include %shared.reds]
print red/xsin 0.12
```

Compiled ok with .red-063 -r a.red but when I run it:  
Script Error: word! type is not allowed here  
Where: eval-path  
Stack:

[11:07](#msg59be5763bc4647297444520e)Logically: in second code I use

[11:08](#msg59be57971081499f1f409dc3)

```
#system [#include %a.reds]
```

9214

[11:12](#msg59be5895bac826f054ca891e)Okay, so you're trying to call Red/System code from Red? I don't know R/S that much, but I believe you should wrap it in a `routine` instead of calling directly (not sure why you prepended `red/` to `xsin`)

[11:12](#msg59be58a7177fb9fe7ecfbc1b)here're a bunch of examples  
https://github.com/red/code/tree/master/Library

[11:14](#msg59be5907210ac2692040317e)@rebolek why you deleted your precious tutorial about Red and R/S? :(

rebolek

[11:20](#msg59be5a9a614889d4750ae350)@9214 I did not, it somehow disappeared, but I restored it recently.

9214

[11:21](#msg59be5aa7210ac269204036b6):suspect:

ghost~59be53e5d73408ce4f7618b4

[11:21](#msg59be5aab177fb9fe7ecfc374)Thanks, I use 'red/' following \[Guru Meditations](https://github.com/red/red/wiki/Guru-Meditations#using-redsystem-contexts-in-red-routines). If not specified the compiler say `undefined word xsin`.  
I also try it with `#system-globals`instead `#system`but same error.  
`routine`is not documented in 'Red by Example'!

rebolek

[11:21](#msg59be5ab0bc46472974445e6f)@9214 http://red.qyz.cz/red-system-from-red.html

[11:21](#msg59be5ac01081499f1f40ab41)Hm, it's not on front page, I will add it there.

9214

[11:21](#msg59be5ac91081499f1f40ab98)cheers @rebolek ! @ejtizado :point\_right: http://red.qyz.cz/red-system-from-red.html

ghost~59be53e5d73408ce4f7618b4

[11:27](#msg59be5c26177fb9fe7ecfc93a)Very thank @rebolek, `routine`woks perfectly

rebolek

[11:29](#msg59be5ca2614889d4750aec3e)@ejtizado Cool!

ghost~59be53e5d73408ce4f7618b4

[11:36](#msg59be5e2d614889d4750af2b7)I don't know if it is necessary for future reference to others readers but the code run perfectly with the previous `a.reds` was

```
Red [Title: "test shared"]

#system [#include %a.reds]

dsin: routine [
	deg 	[float!]
	return: [float!]
][
	xsin (deg * pi / 180.0)
]

print dsin 45.0
```

9214

[11:37](#msg59be5e67bac826f054caa1ce)@ejtizado nice work!

[11:37](#msg59be5e7fcfeed2eb651cd0fa)there's dedicated \[`red/system`](https://gitter.im/red/red/system) room if you're interested ;)

ghost~59be53e5d73408ce4f7618b4

[11:39](#msg59be5efebac826f054caa424)thanks @9214. I'm new in Red and Red/System. I find it searching for a prototype based language (I used `Io`)

maximvl

[15:07](#msg59be8fcf1081499f1f418f89)Io is an interesting language, but still Red is more advanced

## Monday 18th September, 2017

geekyi

[12:35](#msg59bfbda1177fb9fe7ed65893)What's happening with https://github.com/red/red/pull/2501 @maximvl ? :confused:

maximvl

[13:31](#msg59bfcab4210ac2692046e550)@geekyi not sure how to fix it, github put all my changes into one pull request

[13:31](#msg59bfcac3177fb9fe7ed6a847)will try to do it as a separate branch or something

geekyi

[13:32](#msg59bfcae3c101bc4e3adfdce8)@maximvl you may have not closed the branch maybe?

[13:33](#msg59bfcb0dc101bc4e3adfdddd)&gt; will try to do it as a separate branch or something

That's how this works! :smile: each pull request is basically a different branch

[13:33](#msg59bfcb2e614889d47511c5a5)Splitting away from master before it gets merged back again when the pull request closes

9214

[15:46](#msg59bfea5f7b7d98d30d0df1fd)speaking of git - am I right that I can make pull requests only from github and not from "vanilla" git?

[15:48](#msg59bfeab7c101bc4e3ae0a4e6)and that typical workflow is  
\* fork repo in github  
\* clone forked repo locally  
\* make a branch to work with  
\* do stuff, commit  
\* push changes to your local repo  
\* then make a PR to base repo directly from github

Oldes

[16:14](#msg59bff0d4210ac2692047d25c)Basically yes... just the fork is automatically making the clone. If I understand it well. Don't know what is "vanilla" git, but I'm for example using SmartGit gui. You just must take care, from where you are making the branch... else you may end with too many not related commits easily.

[16:16](#msg59bff152bc464729744c3ffc)Also is good to do pull before you start working:)

9214

[16:17](#msg59bff1aac101bc4e3ae0d05c)"vanilla" as in directly from bash console :)

Oldes

[16:43](#msg59bff7c57b7d98d30d0e40be)I believe, you must use github web to make the pull request, but I'm not git expert.

[16:45](#msg59bff80ccfeed2eb652495e0)May be part of @rebolek 's gitter.

[16:47](#msg59bff89ac101bc4e3ae0fa16)But from experience I think, it is good to see changes in the gui before submitting the PR... unfortunately I often notice unwanted things too late anyway.

rebolek

[16:48](#msg59bff8f41081499f1f48883c)@Oldes Pull requests are not part of my GitHub API yet, but looking at it, it would be fairly easy to add.

[16:51](#msg59bff9787b7d98d30d0e4aa8)In v3 API, in v4 it would be a battle ;)

Oldes

[16:51](#msg59bff9951081499f1f488c8b)If you will automate it too much, we could flood Nenad even more than he already is:/

rebolek

[16:52](#msg59bff9e07b7d98d30d0e4cfd)Maybe he needs some automation to handle automated pull requests ;)

Oldes

[16:58](#msg59bffb1dcfeed2eb6524aab5)Maybe he needs to clone himself.

gltewalt

[17:52](#msg59c007f9210ac26920485f33)`git request-pull' [-p] []`

9214

[17:53](#msg59c008127b7d98d30d0ea43b)@gltewalt nay, it only works for mail lists AFAIK

gltewalt

[17:53](#msg59c0081ccfeed2eb6524f87d)oops, ignore the `'`

9214

[17:54](#msg59c008511081499f1f48e2ac)@gltewalt https://stackoverflow.com/a/6235394

gltewalt

[17:56](#msg59c008cccfeed2eb6524fcf3)https://git-scm.com/docs/git-request-pull

9214

[17:57](#msg59c008fecfeed2eb6524fde6)yes, and its description in the very first line clearly states  
&gt; Generates a summary of pending changes

gltewalt

[17:57](#msg59c009157b7d98d30d0ea8e8):clap:

[18:00](#msg59c009d37b7d98d30d0eac81)Grumble... what does the web click fire off?

ghost~59be53e5d73408ce4f7618b4

[22:20](#msg59c046ac7b7d98d30d0ff158)@maximvl Io has nice feature and a interesting prototype system.  
I thought Red would have a prototype system but no...

```
x: make object! [a: 1 b:2]
y: make x [c:3]
y/a == 1 ... ok
x/a: 11
y/a == 1 !!! it does not changed to 11
```

In other issues Red is a nice language

9214

[22:22](#msg59c04727bac826f054d43e65)@ejtizado you've created a \*copy* of prototype actually

[23:05](#msg59c05148b59d55b82311cad1)your expected behavior could be simulated with `reactor!` I believe

## Tuesday 19th September, 2017

PeterWAWood

[00:31](#msg59c0655fbac826f054d4bbf7)@ejtizado Red has protypical objects but doesn't have a prototype chain like io and JavaScript.

gltewalt

[02:15](#msg59c07dc5210ac269204a82f7)There's this:

```
>> o1: make object! [a: 42 m: does [a]]
>> o2: copy o1
>> o2/a: 99

>> o1/m
== 42         ;; Both R3 and Red

;; R3 does not rebind:
>> o2/m       ;; R3
== 42         ;; R3

;; Red rebinds:
red>> o2/m    ;; Red
== 99
```

from:  
https://github.com/red/red/wiki/Differences-between-Red-and-Rebol

toomasv

[07:47](#msg59c0cb84bc46472974502c51)Would `swap` benefit of `/skip` refinement?

```
swap*: func [a b /skip size /local tmp] [
    either skip [
        tmp: copy/part a size 
        change/part a copy/part b size size 
        change/part b tmp size 
        head a
    ][
        swap a b
    ]
]
a: [1 2 3 4 5 6 7 8]
swap*/skip a at a 7 2
== [7 8 3 4 5 6 1 2]
>> a: [1 2 3 4 5 6 7 8] b: [9 8 7 6 5 4]
== [9 8 7 6 5 4]
>> swap*/skip a b 3
== [9 8 7 4 5 6 7 8]
>> b
== [1 2 3 6 5 4]
```

9214

[08:53](#msg59c0db17c101bc4e3ae50065)@ejtizado you can automatically link all fields that way (though I'm not smart enough and haven't figured out how to make a working example of that :D)

```
>> x: make reactor! [a: 1 b: 2]
== make object! [
    a: 1
    b: 2
]
>> y: make x [c: 3]
== make object! [
    a: 1
    b: 2
    c: 3
]
>> react [y/a: x/a]
== [y/a: x/a]
>> y/a
== 1
>> x/a: 11
== 11
>> y/a
== 11
```

fergus4

[12:54](#msg59c11388c101bc4e3ae6187d)Excited to see big movement on Android. I guess we won't get iOS support until after 64bit support in Red as apple is going 64 bit only. And should I assume that is after red is self hosted?

pekr

[13:19](#msg59c11947b59d55b823151fce)Missing iOS support might be a show stopper for some ppl. I know some devs, talked to them. They don't bother about macOS much, but when talking mobile, they always ask, if both Android and iOS are covered ... we will see, what initial Android release brings us. We already have macOS. Not sure how difficult/time consuming would be to have iOS bridge plus port ...

9214

[16:27](#msg59c145577b7d98d30d149532)Apple ecosystem :point\_right: 64bit :point\_right: iOS support only after Red is self hosted and switched to 64

luce80

[18:01](#msg59c15b8b1081499f1f4f01ea)@toomasv I think your `/skip` refinement should be renamed `/part`

toomasv

[18:03](#msg59c15becbc46472974534237)@luce80 Please explain, why

luce80

[18:09](#msg59c15d6fb59d55b82316ab3d) @toomasv `/skip` is used when regularly skipping a certain amunt of "things" while you are takeing 2 or 3 \*consecutive* "things" unless I misunderstood your example.

toomasv

[18:10](#msg59c15d977b7d98d30d152431)@luce80 OK, I agree

```
swap*: func [a b /part length /local tmp] [
    either part [
        tmp: copy/part a length 
        change/part a copy/part b length length 
        change/part b tmp length 
        head a
    ][
        swap a b
    ]
]
```

SoleSoul

[19:08](#msg59c16b37b59d55b82316f775)Sorry if this was asked too much lately but I have a free day tomorrow. Is there a nightly build with some Android support to play with?

Oldes

[19:20](#msg59c16e11b59d55b8231705d5)Not yet.. it is made in private repo.

SoleSoul

[19:21](#msg59c16e367b7d98d30d157f23)Thank you. I'll wait for the next free day then : )

rebolek

[19:22](#msg59c16e7f614889d47519f521)There is really old Android branch.

SoleSoul

[19:23](#msg59c16ebebac826f054d99fe4)Thanks for the video. It's nice to see the WIP.

[19:24](#msg59c16f08614889d47519f850)Because of my frustration with Java Android development (too much unnecessary manual work) I'm really excited about the upcoming Red Android support.

## Wednesday 20th September, 2017

geekyi

[00:55](#msg59c1bc7cb59d55b823186558)Macro-Lisp, a Lisp-Like DSL for Rust Language - https://news.ycombinator.com/item?id=15282132

[00:55](#msg59c1bc9cb59d55b8231867f8)&gt;This reminds me a little bit of rebol, and the concept of dialecting. So the language is composed of many DSLs called dialects each specialized for different things.

[00:56](#msg59c1bccb177fb9fe7ee06053)@geekyi should make a hn account

9214

[04:25](#msg59c1eda2177fb9fe7ee102c3)@geekyi also http://beautifulracket.com/

Blackrose

[06:36](#msg59c20c86210ac269205172cb)Hi, i saw the starter document.And I try some example on my ARM Cortex-A7 board.The CLI output is right.While the gui example is wrong on my platform.I built the example use "red -c -t RPi hello-gui.red" command.

```
*** Script Error: view has no value
*** Where: ???
```

Does the red no support this arch platform?

9214

[06:37](#msg59c20cbdb59d55b8231984c9)@PeterWAWood :point\_up: any tips on RPi View?

[06:39](#msg59c20d3a210ac2692051761f)@Blackrose RPi uses GTK, right? If so, GTK backend isn't in the master branch, but developed with recent community efforts by @rcqls and @honix I believe, they (and Peter) should fill you in

[06:42](#msg59c20dd2bac826f054dc18c7)couple of RPi GUI examples: \[here](https://gitter.im/red/red/gui-branch?at=59a2b09bc101bc4e3a5fa29c) and \[here](https://gitter.im/red/red/gui-branch?at=59abde2eba0f0f6e381085b5)

Blackrose

[06:44](#msg59c20e49b59d55b823198944)Thanks.I realise the red directly use framebuffer method.

aolko

[06:44](#msg59c20e567b7d98d30d1800c1)hey, bumping https://www.reddit.com/r/redlang/comments/6vs8l0/red\_gui\_styling/

Blackrose

[06:45](#msg59c20e7a614889d4751c83e8)I doesn't install the gtk backend.

rebolek

[06:49](#msg59c20f8eb59d55b823198f87)@aolko wrote a quick answer

9214

[06:50](#msg59c20f9dcfeed2eb652e3719)@Blackrose https://toltex.u-ga.fr/RedGtk

Blackrose

[06:51](#msg59c20fe3bac826f054dc23ff)Thanks.

dockimbel

[06:51](#msg59c20fed1081499f1f51d264)@Blackrose  
&gt; Thanks.I realise the red directly use framebuffer method.

What makes you think that?

Blackrose

[06:53](#msg59c21061bc4647297456410c)I though the red use framebuffer to directly write date to lcd device fb0.I understand wrong way.

aolko

[06:54](#msg59c2108c210ac269205185d8)but can you do a discord-like gitter client?

Blackrose

[06:54](#msg59c2108db59d55b8231993b4)So, i must porting the gtk libraries to my board.Then run the red program.

aolko

[06:54](#msg59c210bbcfeed2eb652e3bc3)also, @rebolek, y u no compile?

rebolek

[06:56](#msg59c21102b59d55b8231995ed)@aolko I can make a precompiled version, I haven’t got a need for it.

[06:56](#msg59c21132b59d55b823199699)@aolko what do you mean by discord-like client? The GUI can be improved, I know.

[06:57](#msg59c21165177fb9fe7ee1878c)Also, if you have some specific questions about widget development, feel free to ask in https://gitter.im/red/red/gui-branch room, I’ll be happy to help.

aolko

[06:58](#msg59c21192bc464729745646cb)well,  
1\) electron-like wrapper to run html,css,js (would be great)  
or  
2\) custom gui styled the same

rebolek

[07:02](#msg59c21278bac826f054dc2efa)It is written in Red exactly to get rid of html,css,js :) Custom GUI styled - that's possible to do.

[07:04](#msg59c212fdcfeed2eb652e4692)Text in Gitter is formatted with MarkDOwn and I can render MarkDown in Red, so I see no need for web-engine.

aolko

[07:04](#msg59c21302614889d4751c99a8)but html+css is more...usual

[07:04](#msg59c2131bbc46472974564f02)more...standartized

rebolek

[07:05](#msg59c2134cb59d55b823199f45)It is, but then the app won’t be ~1MB, but more than 50MB

aolko

[07:06](#msg59c2136dbc4647297456506c)no biggie

[07:06](#msg59c2137abc4647297456508a)you're not running it on colibri or rhaspberry pi after all

rebolek

[07:06](#msg59c2137e177fb9fe7ee19195)It would make no sense to write it in Red then, it would be easier to do it in JS

aolko

[07:07](#msg59c213a1177fb9fe7ee19293)js...dunno, electron/node is memory-intensive

9214

[07:08](#msg59c213fdbc464729745652e4)@aolko you can see that people actually running Red on RPi (message from @Blackrose right above your first message)

aolko

[07:09](#msg59c214247b7d98d30d1819e5)yes, in that case you would need to conserve space

9214

[07:09](#msg59c2143cbac826f054dc353b)and the key goal of the project is low footprint and native look'n'feel all the way down

aolko

[07:10](#msg59c2147fcfeed2eb652e4e75)but that doesn't mean that you \*\*CAN'T\** plug extender packages in order to make 50mb apps

[07:12](#msg59c214dcb59d55b82319a614)by extender packages i mean packages with extended, fat functions

9214

[07:14](#msg59c21559177fb9fe7ee19a6f)just to cope with "modern standarts"..? gee, what a price

aolko

[07:14](#msg59c21573c101bc4e3aeaa856)see \[f3](https://fatfreeframework.com/3.6/development#user-plugins) for example, it has burgers package

rebolek

[07:15](#msg59c21598614889d4751ca6ba)You can add extender packages, but it makes no sense for a chat-client application, it’s entirely possible to write it with basic Red.

aolko

[07:16](#msg59c215b9210ac269205198c6)gui is kinda painful

pekr

[07:22](#msg59c21725b59d55b82319b0bb)Such chat would be more appropriate in terms of red/help or red/welcome channels imo :-)

aolko

[07:31](#msg59c219577b7d98d30d183403)\*red/red/welcome

[07:32](#msg59c2197abac826f054dc4ca5)and they are not mentioned on the official website

pekr

[08:27](#msg59c2268d614889d4751cf577)@aolko no big deal, just wanted to target maybe a more appropriate channel. Official website bottom right button leads to the Welcome channel ...

PeterWAWood

[09:09](#msg59c230387b7d98d30d18a398)@Blackrose The published Red "binaries" do not include support for GTK. You need to compile from source using the gtk branch of the Git repository.

In case that is difficult, I compiled a Red console with View support against the gtk branch. There has been a lot of work down by @rcqls and @honix but it has yet to be included into the main repository. You could try \[piView](https://github.com/PeterWAWood/RaspberryRed/blob/master/piView).

I'll try to update it with @rcqls's and @honix's work once I get a little spare time.

greggirwin

[20:57](#msg59c2d652bac826f054e03562)@aolko, you can certainly build any kind of extensions you want for Red. Go for it. Team Red (a.k.a. FullStack) builds things based on their goals and needs, and their investor's priorities. The rest of us build things we want and need.

https://github.com/red/red/wiki has a link to https://github.com/red/red/wiki/Gitter-Room-Index, which may help new people find what channels are here.

If you can be more specific about "gui is kinda painful", maybe we can offer suggestions. Remember, too, that Red is Alpha, and many GUI choices and features are based on platform support right now, with more advanced features to come.

## Thursday 21st September, 2017

toomasv

[18:11](#msg59c400ce1081499f1f5abaef)\[matrix](https://github.com/toomasv/matrix) has learned few tricks meanwhile, e.g.:

```
>> matrix [m: 2x2[1 2 3 4] n: invert m]
== [
    -2.0 1.0 
    1.5 -0.5
]
>> matrix [m x n]
== [
    1.0 0.0 
    0.0 1.0
]
>> n/pretty
┌           ┐
│ -2.0  1.0 │
│  1.5 -0.5 │
└           ┘
```

greggirwin

[18:16](#msg59c401ebb59d55b82322dd91)Niiiiiice.

9214

[18:31](#msg59c405707b7d98d30d216089)I'll be damned! :scream\_cat: :sparkles:

greggirwin

[18:42](#msg59c40809177fb9fe7eeb0b25)Wow, @toomasv, \*lots* of new functionality since the last time I looked. I also really enjoy reading your code. Consistently clean and organized.

[18:44](#msg59c40879b59d55b823230001)At https://github.com/toomasv/matrix/blob/master/matrix.red#L113, in `product` and `summa`, do you use `forall`, rather than `foreach` for consistency? Other places in the code, you're modding the series, so it makes sense. Just curious. I haven't benchmarked them to see if there's any difference, but it would likely only show up for really large matrices.

9214

[18:45](#msg59c408de210ac269205aaa68)@greggirwin personally I try to stick with `forall` whenever possible, since word in `foreach` will leak and you should wrap it over in `/local` or context

[18:46](#msg59c40913bac826f054e589ca)though you can use it only on `word!` that is bound to actual series, that's a little drawback

greggirwin

[18:46](#msg59c4091dc101bc4e3af3e5f0)Good point. `Function` nicely catches, them, but I've tripped over that myself a couple times.

9214

[18:48](#msg59c40967cfeed2eb65377a8a)oh, I didn't know that `function` is that smart, thanks!

rebolek

[18:48](#msg59c4098dc101bc4e3af3e7c2)With `forall`you also have index available

toomasv

[19:22](#msg59c4117ac101bc4e3af40e25)@greggirwin Thanks! I have started to use `forall` to avoid using additional var where possible. I noticed this pattern somewhere in @dockimbel 's code and started to follow it.

[20:22](#msg59c41f737b7d98d30d21ddc2)@9214

&gt;I'll be damned!

You don't have to. Get saved! ASAP :pensive:  
@rebolek

&gt;With `forall`you also have index available

Exactly, \[example](https://github.com/toomasv/matrix/blob/master/matrix.red#L99) (vector additive op, `a` and `b` are blocks of same length):

```
forall a [i: index? a a/1: either op? :op [a/1 op pick b i][op a/1 pick b i]]
```

## Friday 22nd September, 2017

dockimbel

[02:19](#msg59c473281081499f1f5c9a59)@toomasv It's always enjoyable to see you having fun with Red! :clap:

toomasv

[03:25](#msg59c482bb1081499f1f5cc804)@dockimbel :relaxed:

9214

[21:03](#msg59c57aa9bc46472974662a2a)@dockimbel I have a question about `system/lexer/pre-load` function: in your \[examples](http://www.red-lang.org/2017/03/062-libred-and-macros.html) it always receives two arguments: `src` and `part`, but `part` is never used. I figured out that it's set to `true` for `load/part`, but this doesn't make much sense - perhaps it should be the number of elements to `load`?

[21:04](#msg59c57af7c101bc4e3afa3dca)moreover, `pre-load` seems to \[work fine](https://gist.github.com/9214/c325d349195ba9054e18555ed51c9ed5#file-cadadaverous-red-L22) even without second arg (i.e. `part`)

419928194516

[21:15](#msg59c57d66210ac2692060e08c)Is unsigned arithmetic not possible yet in Red/System? I was looking at the ARM emitter to see if I could read the carry flag, and it only seems to handle overflow.

PeterWAWood

[23:07](#msg59c597a3c101bc4e3afab689)@419928194516 You can perform unsigned arithmetic in Red/System on an integer pointer. It might suffice.

## Saturday 23th September, 2017

dockimbel

[08:40](#msg59c61e0c177fb9fe7ef3bcf0)@9214 Looks like a mistake at the `pre-load` \[call site](https://github.com/red/red/blob/master/environment/lexer.red#L1025), it should pass `length` argument instead of `part`. You can submit a PR to fix it.

[08:42](#msg59c61e66bac826f054ede14a)&gt; moreover, `pre-load` seems to \[work fine](https://gist.github.com/9214/c325d349195ba9054e18555ed51c9ed5#file-cadadaverous-red-L22) even without second arg (i.e. `part`)

That's the case with any function which would consume less arguments than provided. ;-)

[08:44](#msg59c61f09b59d55b8232b7136)@419928194516 Not supported yet, but you can force it using a `byte-ptr!` pointer value (they use unsigned arithmetics). Beware to not use another kind of pointer, or your math operations would have a scaling factor applied to them (such scaling factor is equal to `1` for `byte-ptr!`).

9214

[12:28](#msg59c65360614889d4752f065b)@dockimbel done

[23:49](#msg59c6f310210ac2692065d5c0)making some good progress with \[L-systems](https://en.wikipedia.org/wiki/L-system) and Draw :turtle:

[23:49](#msg59c6f31c210ac2692065d5cd)\[!\[showcase.png](https://files.gitter.im/red/red/RsRg/thumb/showcase.png)](https://files.gitter.im/red/red/RsRg/showcase.png)

## Sunday 24th September, 2017

toomasv

[04:39](#msg59c736f6bac826f054f19800)@9214 Looks great!

dockimbel

[05:35](#msg59c7440c7b7d98d30d2dc187)@9214 Very nice!! :sparkles: :clap: Let me know when you publish the code, I will tweet it! (Do you have a Twitter account by the way?)

9214

[08:42](#msg59c76fef614889d475329916)@toomasv :muscle:

[08:46](#msg59c770e7bac826f054f24c70)@dockimbel no I'm not social guy :neckbeard:

toomasv

[08:58](#msg59c7739b614889d47532a5b2)@9214 In your footsteps I tried :turtle:-graphics too:  
!\[Wiki-example](http://toomas.vooglaid.ee/red/turtle-graphics.png)

9214

[09:00](#msg59c7741bc101bc4e3a00bda7)@toomasv hypnotic! :dizzy:

[09:00](#msg59c77446bc464729746ccfcf)especially love aliasing effect at the center

[10:16](#msg59c78607c101bc4e3a00f559)randomized rules FTW

[10:16](#msg59c78614210ac269206785f8)\[!\[Untitled.png](https://files.gitter.im/red/red/jeCY/thumb/Untitled.png)](https://files.gitter.im/red/red/jeCY/Untitled.png)

ghost~5680c5f416b6c7089cc058a5

[12:50](#msg59c7a9f9c101bc4e3a016be8)@9214 @toomasv Amazing :clap: BTW where did you guys learn to program these kind of stuff?

toomasv

[12:51](#msg59c7aa53b59d55b82330859a)@nc-x Havn't tried it until today :)

```
cmds: copy [] 
repeat i 400 [
	append cmds compose [
		transform -121 1 1 (c: to-pair reduce [0 400 - i + 1])
		line 0x0 (c)
	]
] 
view compose/deep [
	image 500x500 
	draw [
		matrix [1 0 0 -1 120 450] 
		line 0x0 0x400 (cmds)
	]
]
```

9214

[12:52](#msg59c7aa7a32fc8b7e40354caa)@nc-x in my case it's insomnia and one weekend night

ghost~5680c5f416b6c7089cc058a5

[12:58](#msg59c7ac057b7d98d30d2f1254)I wish insomnia would do this to me :laughing:

9214

[16:05](#msg59c7d7be210ac269206896bd)well, now I can do this stuff all day

[16:08](#msg59c7d868177fb9fe7ef98535)\[!\[Peek 2017-09-24 21-02.gif](https://files.gitter.im/red/red/z3rQ/thumb/Peek-2017-09-24-21-02.gif)](https://files.gitter.im/red/red/z3rQ/Peek-2017-09-24-21-02.gif)

toomasv

[17:14](#msg59c7e7ecbac826f054f3ddf7)@9214 No kidding! Cool!

9214

[17:14](#msg59c7e813c101bc4e3a024091)@toomasv thanks, though I still need to figure out how to scale and center them automatically

[17:15](#msg59c7e824cfeed2eb6545efef)to fit image nicely

toomasv

[17:17](#msg59c7e8a5614889d475344248)Can you calculate dims of drawing?

9214

[17:17](#msg59c7e8bb177fb9fe7ef9c50b)dims..?

pekr

[18:27](#msg59c7f91c7b7d98d30d30344a)Should the following code run in the console? It hangs here: `forever [wait 1 print now/time]` Tested with the console built from latest sources ....

9214

[18:28](#msg59c7f930bac826f054f41eca)@pekr GUI one?

pekr

[18:28](#msg59c7f947b59d55b82331ad07)Yes ....

9214

[18:28](#msg59c7f951b59d55b82331ad21)@pekr https://github.com/red/red/issues/2627

[18:28](#msg59c7f95e7b7d98d30d30354e)use `--cli` flag

pekr

[18:40](#msg59c7fc09b59d55b82331b74c)Thanks. I need the GUI console, tried to tinker with porting Imagination small demo from R2. It uses forever loop and update to the window. Maybe not a best aproach, but I might actually wait till such stuff as wait in terms of forever loop works ....

toomasv

[18:40](#msg59c7fc397b7d98d30d30401f)@9214 dimensions :)

9214

[18:42](#msg59c7fc9ccfeed2eb6546398e)@toomasv I figured that something like this should work (and it seems to work)

```
blk: [
    box 10x10 25x25
    line 30x30 50x50
]
pairs: sort parse blk [collect some [keep pair! | skip]]
size: add last pairs first pairs

view compose/deep [image size draw [(blk)]]
```

toomasv

[18:59](#msg59c80092210ac26920692840)@9214 Not sure about the sorting of pairs. Foolpoof method would be (I think):

```
large-x: pick first sort/compare parse blk [collect some [keep pair! | skip]] func [a b][a/x > b/x] 1
large-y: pick first sort/compare parse blk [collect some [keep pair! | skip]] func [a b][a/y > b/y] 2
size: to-pair reduce [large-x large-y]
```

9214

[19:12](#msg59c803b0614889d47534ab00)@toomasv okay, so  
\* calculate top-left-est pair  
\* calculate bottom-right-est pair  
\* calculate image size from these two pairs somehow so as drawing is in the center  
\* scale down/up image to fit canvas  
?

toomasv

[19:23](#msg59c80620bc464729746ed474)This would be fragile anyway, as turtle-drawing would often use relative coordinates, and these are smaller than absolute dimensions. So, I am lost at the moment. :confounded:

## Monday 25th September, 2017

lzskyline

[05:40](#msg59c896c5c101bc4e3a04a2cb)How can i call a win32 api?

PeterWAWood

[05:55](#msg59c89a66210ac269206b46bc)@lzskyline Here is a simple example - https://gist.github.com/PeterWAWood/9fe13c34ed1e52d5497a5da3e26625b4

toomasv

[06:02](#msg59c89beeb59d55b82333d199)@9214 I tried more earthbound thingies:  
!\[tree1](http://toomas.vooglaid.ee/red/tree1.png)  
!\[tree2](http://toomas.vooglaid.ee/red/tree2.png)

[06:54](#msg59c8a835bc4647297471123e)!\[tree3](http://toomas.vooglaid.ee/red/tree3.png)

mahengyang

[06:55](#msg59c8a85232fc8b7e4038c0fc)@toomasv cool!!!

9214

[06:59](#msg59c8a94732fc8b7e4038c56b)@toomasv I'm curious how you've implemented push/pop operations, in terms of separate stack or with \[Draw push](https://doc.red-lang.org/en/draw.html#\_push) (or none of the above :O)?

toomasv

[07:01](#msg59c8a9ad32fc8b7e4038c69d)@mahengyang Thanks! :)  
@9214 Draw push. Soon the code is ready for show.  
Well, actually a combination of `push` and separate stack.

9214

[07:03](#msg59c8aa42210ac269206b80a0)@toomasv and what about stochastic and 1L/2L systems, are they ready too? :leaves:

toomasv

[07:04](#msg59c8aa6d614889d47536f232)Nope :cry:

9214

[07:06](#msg59c8aae7bac826f054f6a036)phew, I actually feared that after my announcement you'll do everything I planned for the next half-year in 1-2 hour and leave me in despair :joy\_cat:

toomasv

[07:08](#msg59c8ab5dc101bc4e3a04f4c5) :smiling\_imp: You have pointed to the very interesting area. Thanks!

9214

[07:08](#msg59c8ab8b614889d47536f762)`_(:3」∠)_` eek

planetsizecpu

[08:00](#msg59c8b78e210ac269206bbcb9)@toomasv @9214 Nice &amp; Cool push hard!

lzskyline

[08:27](#msg59c8bddc7b7d98d30d32fbaa)@PeterWAWood thanks for a lot

[08:29](#msg59c8be53b59d55b8233461e4)@PeterWAWood Uh..

[08:29](#msg59c8be66b59d55b823346241)Compilation Error: undefined symbol: red/unicode/to-utf8

[08:31](#msg59c8bee2614889d4753757c7)what's that means?

PeterWAWood

[08:36](#msg59c8bffdbac826f054f700a2)You must compile with the `-r` option when accessing runtime functions such as \`to-utf8' in a Red program.

toomasv

[12:51](#msg59c8fbeff7299e8f536d9364)@9214 There is still lot to improve, and not everything is tested, but \[here](https://gist.github.com/toomasv/4090e6767bf6c6e0df6544790d889cf3) it is. Examples in the end

dockimbel

[13:02](#msg59c8fe4cb59d55b8233597f1)@toomasv :clap:

toomasv

[13:39](#msg59c90704cfeed2eb654a5d6a)@dockimbel :)

9214

[15:40](#msg59c92378cfeed2eb654afb05)@toomasv thanks, I'll take a look

[18:53](#msg59c950b2177fb9fe7effdc67)@9214 noticed Gregg's commentary cyclone coming and is eager to hear how cool we are :cyclone:

greggirwin

[19:34](#msg59c95a33bac826f054fa3807)@9214 and @toomasv, you guys are way cool. I did L-system stuff in VB, and a simple turtle system in R2 many years ago. I don't remember if Doc was at the Italy DevCon where I showed it. You guys are doing great stuff though. Love it.

9214

[19:34](#msg59c95a63210ac269206eea8d):flushed:

toomasv

[19:36](#msg59c95abf7b7d98d30d3614a3) :blush:

dander

[19:38](#msg59c95b21210ac269206eeeb8)yeah, this is really fun to watch. keep it up :thumbsup:

greggirwin

[19:50](#msg59c95e127b7d98d30d3625ee)https://github.com/greggirwin/R2-ReboLogo

We were all beginners once.

9214

[19:51](#msg59c95e35614889d4753a91df)@greggirwin \[indeed](https://github.com/9214/linden) :baby:

greggirwin

[19:53](#msg59c95eb5177fb9fe7e002507)Nice. :^)

toomasv

[20:06](#msg59c961c7614889d4753aa674)@greggirwin Very cool! I'll have to study your childhood toys! Just today thought that it would be nice to reinvent Logo in Red...

greggirwin

[21:10](#msg59c970e0bac826f054faa40a)I remember being amazed that I could parse for `to` (define func in Logo) and dynamically add rules to parse for user defined funcs. Redbol is wonderful for playing, experimenting, and thinking in new ways.

[21:12](#msg59c97129bac826f054faa5a5)I would love to see a whole series of "LangX in Red", because we can write them such that the implementation \*helps* to explain the foundations of each language's core design principles.

## Tuesday 26th September, 2017

dockimbel

[08:01](#msg59ca095032fc8b7e403eebd7)A L-System implementation \[in JS](https://searchcode.com/codesearch/view/17312506/): 375 LOC vs Toomas's \[90 LOC](https://gist.github.com/toomasv/4090e6767bf6c6e0df6544790d889cf3). ;-) Even the CoffeeScript version is about \[310 LOC](https://searchcode.com/file/17312502/lsystem.coffee).

Arie-vw

[08:53](#msg59ca158a177fb9fe7e030bd6)With this message I wish to publicly thank Mike Parr for taking control of red-by-example website, when I had to give up due to my bad health. Things have a bit improved for me and I had a look at the site. Mike has added a lot of very good information. Thanks Mike and keep up the good work!

[08:54](#msg59ca15cab59d55b8233a786c)Also a huge thank you to @dockimbel and his team and the whole community for their perseverence to create a beutiful, non bloated product!.

[08:55](#msg59ca15f432fc8b7e403f26d6)Forgot to tag @mikeparr ;-)

rebolek

[09:05](#msg59ca1850b59d55b8233a82d8)@Arie-vw Good to know you are better now!

Arie-vw

[09:07](#msg59ca18cbb59d55b8233a849c)@rebolek Thx! I can do more things now, but had to give up a lot of activities. Trying to live a bit more balanced now ... :-)

rebolek

[09:08](#msg59ca1911177fb9fe7e031cab)I understand, that's very important.

dockimbel

[09:09](#msg59ca1963bc4647297477b12d)@Arie-vw :+1:

planetsizecpu

[09:36](#msg59ca1f99b59d55b8233aa761)@Arie-vw I sent you a lot of encouragement

Arie-vw

[09:37](#msg59ca1fbef7299e8f5372be1c)@dockimbel @planetsizecpu Thx!

mikeparr

[12:11](#msg59ca43d87b7d98d30d39e507)Thanks @Arie-vw !

Arie-vw

[13:55](#msg59ca5c6db20c6424298b37ac)@mikeparr You're very welcome - I'll contact you soon in private.

toomasv

[16:13](#msg59ca7cac32fc8b7e40417640):point\_up: \[September 26, 2017 11:01 AM](https://gitter.im/red/red?at=59ca095032fc8b7e403eebd7) Unfortunately it has streched to 200 LOC, but I like it more \[this way](https://gist.github.com/toomasv/4090e6767bf6c6e0df6544790d889cf3). It's my first try on messing with VID  
!\[lview](http://toomas.vooglaid.ee/red/L-View.png)

greggirwin

[21:28](#msg59cac68ecfeed2eb65537c8b)@Arie-vw, glad you're doing better, and big thanks also to @mikeparr.

[21:31](#msg59cac74dbac826f05401651b)@toomasv, needs %models.red to run now. For gists, even though it grows %l-system.red, maybe combine them for easier running. As a repo it makes sense to separate them.

[21:36](#msg59cac845b59d55b8233eb191)Oh, man, now I want to just play around with it.

## Wednesday 27th September, 2017

maximvl

[02:35](#msg59cb0e5e614889d475431df1)@toomasv

```
>> do https://gist.githubusercontent.com/toomasv/4090e6767bf6c6e0df6544790d889cf3/raw/670bfde6ff3f7aa6f395c8b5b14ca6166f6cd883/l-system.red
*** Access Error: cannot open: %models.red
*** Where: read
*** Stack: do-file context load
```

[02:35](#msg59cb0e647b7d98d30d3ea26d)where do I get `models.red`?

toomasv

[03:24](#msg59cb19e5bac826f05402ea78)@maximvl Sorry, that I didn't put a link into header. \[It is in gists right besides l-system](https://gist.github.com/toomasv/313e1d8583fb159428222651b76926cd).  
@greggirwin Thanks, I'll unite 'em in gist and move the development into repo.

dockimbel

[03:25](#msg59cb1a39210ac26920778acf)@toomasv You could just use a full URL for accessing %models.red there:

```
models: load %models.red
```

toomasv

[03:29](#msg59cb1b1ef7299e8f53783c96)@dockimbel Indeed! But after trying it gives me:

```
>> do %l-system.red
*** Access Error: cannot open: %https
*** Where: read
*** Stack: do-file context load
```

dockimbel

[03:29](#msg59cb1b35210ac26920779008)@toomasv Just remove the `%`, `load` can handle URLs just fine.

toomasv

[03:39](#msg59cb1d60bac826f05402f74c)@dockimbel OK. With raw version it works. Thanks!

dockimbel

[03:42](#msg59cb1e2bb20c6424298f9727)You could also use an \[URL shortener](https://tinyurl.com/) to avoid the long URL.

toomasv

[03:49](#msg59cb1fbf210ac2692077a189)Done. But I cannot myself run it from web :(

[04:22](#msg59cb2792b59d55b823405e1d)@maximvl OK, finally: `do https://tinyurl.com/y9azl975`

KimRoach143\_twitter

[04:30](#msg59cb2949cfeed2eb65554f43)@toomasv just wow :+1:

toomasv

[04:44](#msg59cb2cbb210ac2692077d66f)@dimsum :)

dockimbel

[05:31](#msg59cb37aecfeed2eb65558aa1)@toomasv Perfect! ;-)

toomasv

[05:56](#msg59cb3d7532fc8b7e4045429c)@dockimbel :sunglasses:

Arie-vw

[09:52](#msg59cb74e5177fb9fe7e0a848d)@greggirwin Thx. Gregg!

toomasv

[09:59](#msg59cb7679cfeed2eb6556d7f6)@Arie-vw @mikeparr Thanks a lot for your work! Without this, we newbies would never learn to sail on Red ocean.

KimRoach143\_twitter

[12:04](#msg59cb93d5b20c64242991f29d)http://www.red-lang.org/2016/07/native-reactive-spreadsheet-in-17-loc.html anyone have excel like filter demo I think I can use this in my project is it GC ready

BeardPower

[12:18](#msg59cb97297b7d98d30d416d7a)@toomasv :clap:

9214

[12:24](#msg59cb9892cfeed2eb6557a436)@dockimbel is there significant overhead in using `parse "ab" [quote #"a" quote #"b"]` instead of `parse "ab" ["ab"]`?

toomasv

[12:32](#msg59cb9a687b7d98d30d4185be)@BeardPower :bow:

PeterWAWood

[13:05](#msg59cba21bb59d55b823430183)@9214 From looking at the source, only the overhead of two function calls:

```
>> source quote
quote: func [
    :value
][
    :value
]
>>
```

[13:06](#msg59cba24eb59d55b823430210)Though in your example, there is no need for `quote`:

```
>> parse "ab" [#"a" #"b"]
== true
```

toomasv

[13:57](#msg59cbae5db59d55b8234353b4)Added CRUD for \[models](https://github.com/toomasv/l-system/blob/master/l-system.red). But now files have to be local :stuck\_out\_tongue\_winking\_eye:

9214

[14:05](#msg59cbb039f7299e8f537b5a0f)@PeterWAWood are you sure that parse-specific `quote` is the same as "pure" `quote`?

Arie-vw

[17:30](#msg59cbe022bac826f0540759af)@toomasv Thx!

greggirwin

[17:43](#msg59cbe3507b7d98d30d435c4f)@KimRoach143\_twitter, not sure exactly what you're looking for, but that demo is designed to be as small as possible. If you want to enhance the spreadsheet demo, you should use the full, formatted version: https://github.com/red/code/blob/master/Showcase/picosheet.red

## Thursday 28th September, 2017

PeterWAWood

[01:20](#msg59cc4e46b59d55b82346e5f7)@9214 You're correct. It isn't.

dockimbel

[04:51](#msg59cc7fcecfeed2eb655c77e9)@9214 There is a significant overhead, though how much that matters depends on how critical the performance of such parsing would be for your use-case. You can have a deeper look at it by compiling the following code:

[04:51](#msg59cc7fe9bac826f0540a5d7f)

```
lisp
Red []
#system [parser/verbose: 2]

print "-- first case --"
parse "ab" [quote #"a" quote #"b"]
print "-- second case --"
parse "ab" ["ab"]
```

[04:53](#msg59cc802e7b7d98d30d466401)It outputs:

```
-- first case --
state: ST_PUSH_BLOCK
state: ST_NEXT_ACTION
state: ST_DO_ACTION
state: ST_WORD
state: ST_MATCH
state: ST_CHECK_PENDING
state: ST_NEXT_ACTION
state: ST_DO_ACTION
state: ST_WORD
state: ST_MATCH
state: ST_CHECK_PENDING
state: ST_NEXT_ACTION
state: ST_POP_BLOCK
state: ST_END
-- second case --
state: ST_PUSH_BLOCK
state: ST_NEXT_ACTION
state: ST_DO_ACTION
state: ST_MATCH
state: ST_CHECK_PENDING
state: ST_NEXT_ACTION
state: ST_POP_BLOCK
state: ST_END
```

[04:54](#msg59cc807db59d55b82347b4d0)That is the trace of the Parse FSM states used by each parsing case.

9214

[05:17](#msg59cc85cf210ac269207f1835)@dockimbel thanks Doc

KimRoach143\_twitter

[05:27](#msg59cc8852b20c642429972513)@greggirwin I am looking for excel like filtering something like this https://10tec.com/articles/screenshots/advanced-datagridview-excel-like-auto-filter.png . I tested picosheet.red first there was link inside that program and I posted that here to ask question.

dander

[07:09](#msg59cca02ccfeed2eb655d1128)I've been slowly continuing to experiment with \[generator functions](https://gist.github.com/dander/66ad65555b30286115cee675b16bf1d7). It still can use some cleanup, and there are some things that are tricky to do with this `generator` creating function, but it's working well enough now to share. I think the composability of these things is really nice, and I've had a lot of fun (and aggravation) playing with it.

```
>> blockify zip 1 .. 3 5 .. 7
== [1 5 2 6 3 7]
>> rejoin blockify limit cycler "foo" 10
== "foofoofoof"
>> blockify apply range 3 10 func[x][x * x]
== [9 16 25 36 49 64 81 100]
```

dockimbel

[07:43](#msg59cca830b59d55b823486dae)@dander Very nice, clean and concise code! Will revisit your code once we start working on HOF. :+1:

dander

[07:59](#msg59ccabea7b7d98d30d4738c9)@dockimbel wow, thank you so much! I hope to add some more in the future, but mostly I wanted to see if I could do it

toomasv

[08:25](#msg59ccb1ef177fb9fe7e114bfc)@dander Very interesting! Takes time to digest. :dizzy:

greggirwin

[16:29](#msg59cd2357f7299e8f53833360)@KimRoach143\_twitter, we don't have GC in place yet. You may find http://dobeash.com/files/munge3.r useful for table data processing.

[16:38](#msg59cd2576177fb9fe7e13fec2)Nice work @dander!

[16:45](#msg59cd2734614889d4754e6ef8)It's interesting to me how understanding code isn't always related to its volume. This is great code, and takes mental effort to understand, as @toomasv said. In the past, I've written a lot of code generators that spit out boring code that was voluminous, but so boilerplate that any beginner could understand it. I love that we can choose to express things in so many ways, and how functionality like this \*can* be so concise, to keep size down. That plays into another view, that the \*overall* size and complexity of a system is important. With large systems, you can't keep it all in your head, but this generator code is an example of something you need to work to understand at first, but once you get the concept that understanding will reload in your wetware cache quickly in the future.

dander

[17:19](#msg59cd2f0f32fc8b7e404fc2ee)Thanks @greggirwin , yeah my goal was to simplify the production of new generator types, which I understand really well related to using \[linq](https://msdn.microsoft.com/en-us/library/bb308959.aspx) in my daily work. I decided to leave in some of my partial attempts at the generator function, as I'm still working on that, and I think it could probably be made a bit simpler. Even though it's fairly short, and I've spent hours on it, I still struggle to grok the thing (too many layers of indirection to hold in my mind).

[17:23](#msg59cd3029210ac2692082cb4b)This is also sort of an appeal for supporting `yield`, which combined with `closure!` makes these sort of functions actually much easier to write than what I've done here. I think coroutines are like a superset of that functionality too.

[17:27](#msg59cd30e4f7299e8f538388aa)The part I'm most pleased with is how the complexity is stuffed into `generator` so that the other functions like `range` and `cycler` become really simple

maximvl

[19:10](#msg59cd49407b7d98d30d4ae186)@toomasv thanks! oh wow it looks great :D

toomasv

[19:12](#msg59cd49a6177fb9fe7e14e50e)@maximvl Advanced version \[here](https://github.com/toomasv/l-system)

maximvl

[19:14](#msg59cd4a05614889d4754f3b49)cool, would be nice to have mouse draggable and zoomable image

[19:14](#msg59cd4a1c7b7d98d30d4ae76d)more convenient to explore the results :smile:

toomasv

[19:24](#msg59cd4c83177fb9fe7e14f87c)@maximvl It is! :)

maximvl

[19:26](#msg59cd4cccb59d55b8234c3c2e)@toomasv the short url version doesn't seem to react on dragging with any combination of mouse buttons

toomasv

[19:28](#msg59cd4d57177fb9fe7e14fcaa)@maximvl Download from the \[github link](https://github.com/toomasv/l-system) I gave. Files have to be local, because you can save, add, delete models (and images).

maximvl

[19:33](#msg59cd4e85177fb9fe7e1504d2)@toomasv ok, I don't get what's `U`:  
&gt;text "U" 20 text "Same as U. Needed for different repetition patterns in language." return

toomasv

[19:36](#msg59cd4f2df7299e8f53843965)@maximvl Look at Sierpinski triangle. `U` is used for different productions, but in final step draws same line as `L`.

[19:42](#msg59cd50b57b7d98d30d4b10ed)@maximvl OK, I see there was a typo. Should be "Draws same line as L..."

maximvl

[19:43](#msg59cd50ca177fb9fe7e1510e2)@toomasv but `U` in Sierpinski is `UU`

[19:43](#msg59cd50db210ac26920838a32)this is not a recursive definition, is it? x)

toomasv

[19:43](#msg59cd50eaf7299e8f53844280)That means `repeat U twice`.

maximvl

[19:44](#msg59cd5106cfeed2eb6561248d)repeat repeat U twice twice?

[19:44](#msg59cd512132fc8b7e40508893)where is the definition?)

toomasv

[19:46](#msg59cd5180f7299e8f538445d6)OK, I'll write explanation tomorrw. "U" and "L" are lines, defined in `options` panel by `Length`

maximvl

[19:46](#msg59cd5195bac826f0540f0b96)I understood how L and +/- work

[19:46](#msg59cd519bbac826f0540f0bad)but don't get `U`

9214

[19:46](#msg59cd519fcfeed2eb656126f0)@maximvl

```
probe morph "L-U-U" 2 [
    "L" - "L-U+L+U-L"
    "U" - "UU"
]
```

```
"L-U+L+U-L-UU+L-U+L+U-L+UU-L-U+L+U-L-UUUU-UUUU"
```

[19:47](#msg59cd51ccbac826f0540f0c68)match predecessor, replace it with successor, rinse and repeat

maximvl

[19:49](#msg59cd522eb59d55b8234c587b)or to put it another way: the `L` line is executed and `U` found - what happens? the definition of `U`?

[19:49](#msg59cd5263f7299e8f5384494f)I replaced `UU` with `LL` - nothing changed, hm

toomasv

[19:51](#msg59cd52b77b7d98d30d4b1c62)On the end of line 99 write `probe str`. Try smaller iterations :)

9214

[19:54](#msg59cd5393177fb9fe7e152112)two different symbols having same "meaning" are used just to control string generation

[19:55](#msg59cd53bd32fc8b7e405097c6)it's like "grow here, but don't grow there"

maximvl

[19:58](#msg59cd546b32fc8b7e40509beb)I see, there is number of iterations

[19:58](#msg59cd5481b20c6424299bcb02)so it doesn't have to have a final value like I thought

[20:00](#msg59cd54c6614889d4754f7cae)interesting, is it possible to code rules similar to the life game somehow?

9214

[20:00](#msg59cd54da614889d4754f7d86)given Red nature, it's possible to `do`, well, everything ;)

```
probe do load morph "10th-fib" 10 [
    "10th-fib" - "add 0 0"
    "add 0"    - "add 1"
    "add 1"    - "add 1 + 1"
    "+ 1"      - "add 1"
]
```

```
55
```

[20:01](#msg59cd5535bac826f0540f1f93)@maximvl if you're curious, \[go study](https://github.com/9214/linden/blob/master/README.org) (actually LSFP is more than enough)

maximvl

[20:04](#msg59cd55b7210ac2692083a5c2)but the interface allows only 3 patterns, L, U and X

[20:04](#msg59cd55bab20c6424299bd1f6)hm

[20:07](#msg59cd569132fc8b7e4050a7d6)@9214 can you share the `morph` function? :)

9214

[20:09](#msg59cd56f87b7d98d30d4b3351)@maximvl \[have fun](https://github.com/9214/linden/blob/master/src/dol.red#L59) :leaves:

[20:24](#msg59cd5a877b7d98d30d4b4a04)I believe that at least 1d cellular automata should be doable, all you need is to come up with rewriting rules

[20:25](#msg59cd5ac17b7d98d30d4b4bba)and perhaps implement context-sensitivity (1L 2L systems)

maximvl

[20:34](#msg59cd5cd9cfeed2eb65616503)@9214 ok, LSFP says I need 2L system

[20:34](#msg59cd5ce1b59d55b8234c90d7)can `morph` do it?

9214

[20:35](#msg59cd5cffb20c6424299bfbab)@maximvl nay, it's just a puny \[0L](https://github.com/9214/linden/blob/master/src/dol.red#L2) for now

maximvl

[20:36](#msg59cd5d53cfeed2eb6561672a)hm shouldn't be hard to add few dimensions

9214

[20:40](#msg59cd5e29210ac2692083d4ed)looks pretty much doable in `parse`

```
>> parse x: "babcb" [some ["a" change ["b" ahead "c"] ("-") | skip]]
== true
>> x
== "ba-cb"
```

## Friday 29th September, 2017

BeardPower

[00:12](#msg59cd8fe87b7d98d30d4c60e0)Are the data structures (their code) like hash, list and series in general optimized in Red (regarding memory access/memory alignment)? Are they fast enough to let's say implementing an app, which uses big grid data (like the spreadsheet example, but with 100k elements) or would it be beneficial, to implement special structures in Red/System (like specialized list, tree or hash implementations)?  
Are their any benchmarks for sorting/inserting/pick/poke etc.for given data-sets available (how do they compare to STL containers)?

toomasv

[11:20](#msg59ce2c82210ac26920879f75)@maximvl :point\_up: \[September 28, 2017 10:49 PM](https://gitter.im/red/red?at=59cd522eb59d55b8234c587b)

&gt; I replaced `UU` with `LL` - nothing changed, hm

If you type only `L` into `Initial` field, then with iteration 1 you'll see the shape `L` produces in one iteration. Try same with `U`. Now, if you restore the initial `L-U-U` and replace `UU`with `LL` in `U`-field, then you'll see the same picture as before, but inner triangles are overwritten several times.

maximvl

[12:09](#msg59ce37febac826f054136d53)@toomasv I think I figured out, I tried to show it to a colleague of mine and it hangs on his Mac with latest red binary

toomasv

[13:26](#msg59ce49ef32fc8b7e405549e3)@maximvl Sorry, I cannot test on Mac.

greggirwin

[15:46](#msg59ce6adfb59d55b8235214c6)@BeardPower, there's no way to say if Red will meet your performance needs without very specific details. Red is high level, but performs well, even though there are currently no optimizations in place. You can drop to Red/System for higher performance, but then you're rolling your own stuff, as you would in C. I don't know of any comparisons to STL. If you want to do some benchmarking, timing funcs are easy to write. e.g.:

```
time-it: func [block /count ct /local t baseline][
	ct: any [ct 1]
	t: now/time/precise
	loop ct [do []]
	baseline: now/time/precise - t
	t: now/time/precise
	loop ct [do block]
	now/time/precise - t - baseline
]
```

BeardPower

[18:41](#msg59ce93d6b59d55b82353092a)@greggirwin  
Some specific details:  
Data is just data series, one series item consisting of 6 double values. Operations will include sorting, appending, removing, iterating and indexing. Calculating averages, maximum, minimum etc.. Appending is about 10 values per second as real-time data and it should act as a ring buffer with 10k elements. Calculation of averages should not take more than about 10 seconds on a modern i7 CPU and there will be about 12 such independent ring-buffers, which some are references. An UI is driven by the values of the ring-buffers using the reactive features.

Thanks! I will try to make some benchmarks with STL and compare it to a Red implementation.

StephaneVeneri

[20:26](#msg59ceac6bb59d55b823539017)@maximvl @toomasv I tested l-system.red and it hangs too on my mac and on Windows 10 only with the option --cli (works on gui-console).  
A simple solution : you can just replace in the script "view/no-wait" by "view" and remove all reference to "win". It works but I don't know if it's very academic :smile:  
I think it's the same problem related to issue #3057.

PeterWAWood

[23:04](#msg59ced19b32fc8b7e405874ed)@BeardPower If all your values are "doubles", you should probably use \[`vector!`](http://www.red-lang.org/2015/04/053-faster-compilation-and-extended.html) for your series items in Red.

## Saturday 30th September, 2017

greggirwin

[17:21](#msg59cfd2aebac826f0541b2f12)@BeardPower, in addition to @PeterWAWood's suggestion, if you roll your own ring buffer over a standard block, and average using an aggregator, it should be plenty fast. I have a full weekend, but can try to work up an example if you remind me next week. Keeping the UI updated will be, by far, the slowest part.

## Sunday 1st October, 2017

9214

[09:45](#msg59d0b93af7299e8f5393d79b):neckbeard:

\[!\[Peek 2017-10-01 14-42.gif](https://files.gitter.im/red/red/rFha/thumb/Peek-2017-10-01-14-42.gif)](https://files.gitter.im/red/red/rFha/Peek-2017-10-01-14-42.gif)

rebolek

[10:13](#msg59d0bfcf210ac2692093173e):)

[10:13](#msg59d0bfd5b20c642429ab9b3c)why not using View for it?

9214

[10:22](#msg59d0c1ce177fb9fe7e24fa94)the point is that you can build your programming environment with programming language itself ;)

[10:23](#msg59d0c225b20c642429aba498)and with Red it's usually a matter of writing one line

rebolek

[10:26](#msg59d0c2ccb20c642429aba6e8)`view [area [t/text: form try [do load face/text]] return t: text]`

BeardPower

[13:03](#msg59d0e788f7299e8f539496d3)  
Thanks. Although Red comes with a time! type, I thought about just using double values for the time as well, so I can use vector!

@greggirwin  
Thank you! Appreciate it!  
Does Red come with some aggregator? Or do you just refer to a sum function, which is called on every item like here:  
http://www.rebol.org/view-script.r?script=accumulate.r

Red seems to be different, as ":+" is an op!, but in Rebol it's a function!?  
I compared some "naive" implementation in python and Red. The native python code takes about 0.7 secs, using numpy it take about 0.02-0.5 secs. The Red version takes about 10 times longer: 8 seconds.

Maybe you or someone else knows of a better/faster way to implement it :smile:

The Red code used:

```
Red [
]

time-it: func [block /count ct /local t baseline][
    ct: any [ct 1]
    t: now/time/precise
    loop ct [do []]
    baseline: now/time/precise - t
    t: now/time/precise
    loop ct [do block]
    now/time/precise - t - baseline
]

vector1: make vector! [0]
vector2: make vector! [0]

counter: 0

loop 10000 [ counter: counter + 1 append vector1 counter append vector2 counter]

counter: 0
sum: 0

time: time-it/count [ counter: 0 sum: 0 loop 10000 [ counter: counter + 1 sum: sum + vector1/:counter + vector2/:counter ] ] 1000

print [ "Calculation of" sum "took" time ]
```

./benchmark.exe  
Calculation of 99990000 took 0:00:08.439

And the python code:

```
import numpy as np
import timeit

x = range(10000)
y = range(10000)

# or 
#x = np.random.standard_normal(1000)

nx = np.array(x)
ny = np.array(y)

def pure_sum():
    sum = 0
    for i in range(0, 10000):
      sum += x[i] + y[i]
      
    return sum

def numpy_sum():
    return np.sum(nx + ny)

n = 1000

t1 = timeit.timeit(pure_sum, number = n)
print 'Pure Python Sum:', t1
t2 = timeit.timeit(numpy_sum, number = n)
print 'Numpy Sum:', t2

print numpy_sum()
print pure_sum()
```

Pure Python Sum: 1.23446672168  
Numpy Sum: 0.0180748664134  
99990000  
99990000&gt;

meijeru

[13:43](#msg59d0f112b20c642429ac6c45)R2 indeed allows an `op!` value to be used as a function, which is somewhat strange. Red does not

```
REBOL/View 2.7.8.3.1 1-Jan-2011
Copyright 2000-2011 REBOL Technologies.  All rights reserved.
REBOL is a trademark of REBOL Technologies. WWW.REBOL.COM
>> f: :+
>> f 1 2
== 3
>>
```

[13:45](#msg59d0f1927f323fc375f311e4)The more strange: R2 refuses this op to be used as infix:

```
>> 1 f 2
** Script Error: f expected value2 argument of type: number pair char money date time tuple
** Where: halt-view
** Near: f 2
>> type? :f
== op!
>>
```

[13:46](#msg59d0f1b8177fb9fe7e25be41)Does @dockimbel care to comment? -- if he can spare the time, of course

Oldes

[14:47](#msg59d10004c171ee8b299e4bf8)@BeardPower it is not same code... your Red version has not preallocated the vectors.

pekr

[16:18](#msg59d1156cb20c642429ad1384)@Oldes I tried to preallocate vector, but not sure it works? I put the value as a first part of the vector?

9214

[16:21](#msg59d11618614889d4756083b8)`make vector! 10000` ?

pekr

[16:22](#msg59d1164d177fb9fe7e266965)ah, ok, I just changed the code to `make vector! [100000]`, my bad ...

9214

[16:24](#msg59d116d6177fb9fe7e266b78)@pekr I'm not sure that this is correct though :D

pekr

[16:25](#msg59d116ec210ac2692094780d)It does not work with vector!, as it creates the vector with 10K of zeros. Later on, you append to the same vector!

[16:28](#msg59d117b87b7d98d30d5c3fd3)I've never used vector! nor do I understand its purpose properly, so I refrain from further experiments ... Tried to change the code to block! and it yields similar results ....

zinid

[16:40](#msg59d11a62bac826f054204a00)Hello, I know this question might be beaten to death, but: when is it planned to release x86\_64 version?

9214

[16:40](#msg59d11a82b59d55b8235d7da6)@zinid after `1.0` launch I believe

zinid

[16:41](#msg59d11ac7c171ee8b299ec2f8)By 2045? :)

dockimbel

[16:43](#msg59d11b18c171ee8b299ec3df)@BeardPower \[Here](https://gist.github.com/dockimbel/3e7f72d244c8a9d405eb91d2a010346e) you have my take on it, including a Red/System version. I get on my Win7 box:

```
Red: Calculation of 99990000 took 0:00:03.025
R/S: Calculation of 99990000 took 0:00:00.027
Python2.7:  Pure Python Sum: 1.10975587903
(I don't have NumPy installed here)
```

Keep in mind that such benchmark is not indicative of Red performances in 1.0, as there is currently no optimization layers whatsoever in our toolchain.

9214

[16:45](#msg59d11b8db20c642429ad2dfa)@zinid slow and steady wins the race :car:, also :point\_right: come to chat \[here](https://gitter.im/red/Russian) if you want

[16:45](#msg59d11bc07b7d98d30d5c5106)i bet @maximvl will be glad to see new Erlanger in our ranks ;)

zinid

[16:45](#msg59d11bc5210ac26920948afe)I avoid russian chats as they are less informative

[16:46](#msg59d11bf3210ac26920948bcf)Nah, I'm not a Red user, the problem is that I cannot even install it, I have a messy system where it's hard to install i386 packages

[16:47](#msg59d11c0db20c642429ad302a)It looks interesting (IMO), that's why I'm asking

9214

[16:49](#msg59d11c887b7d98d30d5c5384)@zinid and \[instructions](http://www.red-lang.org/p/download.html) for 64-bit linux distros ain't do the trick?

zinid

[16:50](#msg59d11cc7c171ee8b299ecb4c)like `apt-get install libc6:i386 libcurl3:i386`? No, as I said I have a problem with it

9214

[16:51](#msg59d11d007f323fc375f3d4fa)no clue then :( try Win version with Wine perhaps?

zinid

[16:51](#msg59d11d097b7d98d30d5c5612)no thanks

[16:51](#msg59d11d117f323fc375f3d6fb)not urgent, I can wait for 1.0 :)

mikeparr

[16:54](#msg59d11dca614889d47560ab0e)Parse Q: say I write a compiler for the XYZ language in parse, is there a neat way to run my parser on a file containing XYZ code, perhaps by calling it in the first line of the file?

9214

[16:55](#msg59d11dfbf7299e8f53959117)@mikeparr `parse read %file my-fancy-compiler` ?

[16:56](#msg59d11e52210ac269209497d8)ah, wait, you mean file itself should contain such line to interpret itself?

zinid

[17:02](#msg59d11fab210ac26920949cf0)Yeah, installing Rebol is also an adventure

9214

[17:04](#msg59d12005b59d55b8235d98b3)@zinid indeed, check \[this guide](https://killring.org/2012/12/16/developer-notebook-installing-rebol/)

zinid

[17:06](#msg59d120817f323fc375f3e806)Installed, trying to compile Red now

mikeparr

[17:07](#msg59d120b9b59d55b8235d9cc0)@9214 - yes, the first line runs parse on itself. (But maybe using command-line is the way to go, as you suggested)

9214

[17:14](#msg59d1227fb20c642429ad5133)@mikeparr

```
Red []

parse read system/options/script [thru 3 ";" code: (probe do load code)]
;;;
1 + 1
```

[17:16](#msg59d122e7bac826f054207229)IIRC `system/options/script` won't work from console, you can change it to `%filename` instead

[17:19](#msg59d12399b20c642429ad5868)and perhaps it should be `parse/case`

greggirwin

[17:19](#msg59d123aeb20c642429ad58b6)@BeardPower, lots of ways to do aggregators. Accumulators are a slightly different idea, especially if you're windowing your data. Here are some very old R2 funcs I wrote (and have more, like linear quantize), but ended up not liking the interface to them much. The idea is to hold just the state you need to calculate your results.

[17:20](#msg59d123c2b59d55b8235daae2)

```
set 'make-sum-aggregator does [
        func [value /query /local state] [
            state: [0.0]
            if query [return state/1]
            state/1: state/1 + value
            state/1
        ]
    ]

    ; Should this have an initial value override?
    set 'make-avg-aggregator does [
        func [value /query /local state] [
            state: [count 0 sum 0.0]
            if query [return divide state/sum state/count]
            state/count: state/count + 1
            state/sum: state/sum + value
            divide state/sum state/count
        ]
    ]

    ;!! UNTESTED
    ; Should this have an initial value override?
    set 'make-moving-avg-aggregator func [
        size [integer!]  "The subset/window size"
    ][
        func [value /query /local state] [
            state: reduce [count size  sum 0.0  data array/initial size 0.0]
            if query [return divide state/sum state/count]
            state/sum: state/sum - state/data/1 + value
            state/data/1: value
            state/data: next state/data
            if tail? state/data [state/data: head state/data]
            divide state/sum state/count
        ]
    ]


sum-it: make-sum-aggregator
sum-it 1
sum-it 10
sum-it 100
sum-it/query none

avg-it: make-avg-aggregator
avg-it 1
avg-it 10
avg-it 100
avg-it/query none
```

9214

[17:25](#msg59d12516614889d47560d111)@mikeparr

```
parse read %scratchpad.red [thru 3 ";" code: (probe do load code)]
;;;
collect [repeat i 9 [keep i]]
```

```
>> do load read %scratchpad.red
[1 2 3 4 5 6 7 8 9]
== [1 2 3 4 5 6 7 8 9]
```

greggirwin

[17:26](#msg59d12559b20c642429ad5ffa)In your case, it's not a question of how fast you can sum `10K * 12` items, if they're not all changing every time. At `10/sec * 12`, you only need to consider those changes.

9214

[18:20](#msg59d131e4c171ee8b299f2f29)@dockimbel will `parse` be able to parse series backward? I expected `true` in this case

```
>> str: "abcdef"
== "abcdef"
>> parse str [to "c" (reverse str) to "a"]
== false
```

[18:27](#msg59d133aab59d55b8235defb8)it's part about \[reverse-input parsing](https://gist.github.com/dockimbel/7713170) that got me wonder btw ;)

maximvl

[20:22](#msg59d14e837f323fc375f4bfc4)@zinid not sure what you mean by `install red` just download the binary and run it, compiling it from sources will not help if you don't have x32 libraries

[20:23](#msg59d14eb47f323fc375f4c070)but yeah, fix your system first, it should not be a problem to have both x32 and x64 libraries

[20:29](#msg59d15012bac826f0542140d2)there is also a `Nix` package which you can install without messing up your core system

[20:29](#msg59d15025c171ee8b299fb448)it will download all the dependencies separately and do all the linking

[20:29](#msg59d1503c7b7d98d30d5d4c3f)unless you have a kernel which only supports x64 it should work just fine

AlexanderBaggett

[22:12](#msg59d1684f210ac2692095e6d3)what's new guys?

## Monday 2nd October, 2017

greggirwin

[03:13](#msg59d1aecbbbbf9f1a380f4f80)@AlexanderBaggett , Team Red is working hard on the Android side of things, but also fixing lots of little issues as we push Red in more interesting ways.

dockimbel

[03:27](#msg59d1b217bac826f05422c754)@9214  
&gt; @dockimbel will `parse` be able to parse series backward?

That's something I would like to have, yes. Though, as we don't have any use-case for it in Red's codebase, it's low priority.

zinid

[06:02](#msg59d1d66eb59d55b823608f9b)@maximvl What if I don't want to polute my system with x32 only because of Red?

pekr

[06:17](#msg59d1d9df614889d47563c8b7)Thenyou have to wait for 64 bit, no? :-)

zinid

[06:23](#msg59d1db6e210ac26920979a9a)And then wait for GUI for Linux, yeah :)

dockimbel

[06:31](#msg59d1dd35210ac2692097a367)@zinid I see you're working for a French company, is your work place in Paris?

zinid

[06:46](#msg59d1e0aeb20c642429b07902)No, it's remote job

[06:46](#msg59d1e0b9b59d55b82360bea4)I'm located in Russia ATM

[06:46](#msg59d1e0dbb20c642429b079f2)located, lol :) I \_live_ in Russia

dockimbel

[06:47](#msg59d1e114614889d47563ed6f)@zinid How did you discover Red? An article on russian websites?

zinid

[06:52](#msg59d1e2297f323fc375f717ed)I'm just looking for decent programming language to write GUI in

[06:52](#msg59d1e24b7b7d98d30d5f9cbe)I tried wxWidgets and GTK an these are monsters written by aliens for aliens

[06:53](#msg59d1e26fb20c642429b083ae)I somewhat like Tcl/Tk approach in building GUI, thus I found Red

maximvl

[07:26](#msg59d1ea3fbbbf9f1a381048fc)@zinid try `Nix` it would install everything separately as I said

[07:42](#msg59d1edeab20c642429b0c022) s/would/will/

dockimbel

[11:17](#msg59d22059bac826f05424e1f1)@maximvl What do you think about the `closure!` \[type in Rebol3](http://www.rebol.com/r3/docs/datatypes/closure.html)? It differs from all the proposed closure implementations here in several ways: no `vars` argument and a new local context is created on \*every* invocation:

```
>> add2: closure [c d] [[c + d]]
>> a: add2 1 2
== [c + d]
>> b: add2 3 4
== [c + d]
>> do a
== 3
>> do b
== 7
```

[11:18](#msg59d220a1bbbf9f1a381168e9)(I'm going through all the closure-related resources we have, to evaluate how to properly support it in Red)

[11:23](#msg59d2219ab59d55b8236214fc)Moreover, it doesn't really close over non-local word values. So I'm wondering how much of a misnomer it is?

[11:29](#msg59d2231f614889d475655375)@meijeru  
&gt; R2 indeed allows an `op!` value to be used as a function, which is somewhat strange. Red does not

The prefix support for `op!` in Rebol2 is to allow a s-expression-like representation, so that you can easily write Rebol2 code in a Lisp-like way (maybe a leftover from R1 and its Scheme underlying implementation):

```
>> (+ 1 (- 5 2))
== 3
```

&gt; The more strange: R2 refuses this op to be used as infix.

AFAIK, checking for op! in R2 is hardcoded in the interpreter (using a fixed list of special words), so it is not possible for the user to create new ones (as it would use a word not in the internal list for ops).

[11:43](#msg59d2266d7b7d98d30d611365)Actually, the prefix support for `op!` in R2 might be simply a side-effect of an internal transformation of an infix call to a prefix one. Only Carl knows for sure the reason.

zinid

[12:17](#msg59d22e4bbac826f05425380d)finally installed Red, LOL

[12:17](#msg59d22e5df7299e8f539a78c2)now I have the following problem:  
&gt;&gt; view \[text "Hello World!"]  
\*\** Script Error: view has no value  
\*\** Where: catch  
\*\** Stack:

[12:17](#msg59d22e6a7b7d98d30d6144f6)damn formatting

rebolek

[12:18](#msg59d22e907b7d98d30d6145fe)@zinid that is on Linux, isn’t it?

maximvl

[12:18](#msg59d22e9c177fb9fe7e2b73d6)@zinid I wonder how did you `install` it?)

zinid

[12:18](#msg59d22e9f614889d4756594d1)Yes

[12:18](#msg59d22eb07f323fc375f8c0ff)It's on Linux

[12:19](#msg59d22ebd7b7d98d30d614762)I guess that means Linux GUI is not supported?

maximvl

[12:19](#msg59d22ecb7b7d98d30d6147a6)I'm sorry, but it sounds so funny to me that people are trying to install 0-install software

zinid

[12:19](#msg59d22eed614889d475659615)@maximvl indeed it's funny to claim zero install and then require to install it :)

9214

[12:20](#msg59d22f027f323fc375f8c308)@zinid GTK backend is a work in progress as for now

maximvl

[12:20](#msg59d22f06210ac269209957fe)so could you describe what you did and why?

zinid

[12:20](#msg59d22f167f323fc375f8c3af)@maximvl so I just installed i386 libs, that's it

maximvl

[12:20](#msg59d22f247f323fc375f8c3e9)nah, that's not related to Red

zinid

[12:21](#msg59d22f37b20c642429b232eb)why not? it is linked agains x86 libs

rebolek

[12:21](#msg59d22f43bac826f054253d1f)@zinid see https://toltex.u-ga.fr/RedGtk

zinid

[12:21](#msg59d22f49b59d55b823626297)and it \*assumes* I have them installed

maximvl

[12:21](#msg59d22f61210ac26920995b47)afaik the only lib is `libcurl` to support rudimentary networking which is going to go away after we get the real one

zinid

[12:22](#msg59d22f7eb20c642429b2341f)well, yes, but for libcurl3:i386 to work I had to install tons of other stuff

dockimbel

[12:23](#msg59d22faef7299e8f539a8213)libcurl is indeed quite bloated, hopefully, we'll be able to ditch it in 0.7.0.

maximvl

[12:23](#msg59d22fc3210ac26920995d01)@dockimbel should we make a build without `libcurl` and networking? it would make it possible to try the language without pain on modern Linux systems

dockimbel

[12:25](#msg59d2302ef7299e8f539a8536)If installing a common lib like libcurl on Linux by a Linux user, is a show-stopper for using Red, I would rather suggest switching to a simpler OS then. ;-)

zinid

[12:25](#msg59d23051f7299e8f539a86f7)@dockimbel the problem is to install outdated software in Linux by a Linux user

dockimbel

[12:26](#msg59d23062bbbf9f1a3811c1e1)Libcurl is outdated?

zinid

[12:26](#msg59d230687b7d98d30d61518c)i386 is of course

[12:26](#msg59d23084b59d55b823626a41)why wouldn't it require to install arm? or sparc?

[12:26](#msg59d2308cbac826f0542544cc)I bet it's possible in Linux by a LInux user

maximvl

[12:27](#msg59d23098b59d55b823626aa8)I doubt your processor can execute them :D

[12:28](#msg59d230da7b7d98d30d615404)anyway, I know how much pain x32 libs are causing

[12:28](#msg59d230e1614889d47565a186)that's why I suggested the `Nix` package

dockimbel

[12:28](#msg59d230f0614889d47565a1bb)@zinid You could also just run a 32-bit Linux in a VM instead.

zinid

[12:29](#msg59d23123f7299e8f539a8b5e)@dockimbel of course all of these possible, but the problem is "entry level" for a new language, 9 out of 10 people will be pissed off, that's only me who is struggling :)

[12:29](#msg59d23144bbbf9f1a3811c727)nobody wants to install Linux32 inside Linux64 inside VM, really

dockimbel

[12:39](#msg59d2338c7b7d98d30d616127)@zinid According to our stats on the web site page views and download stats, only ~10% are on Linux. Last time I prepared a Linux 64-bit for Red/Rebol, it didn't take more than a few minutes to install the 32-bit dependencies. If the Download page is missing some instructions for that, please let us know, so we can improve it.

zinid

[12:41](#msg59d23407210ac269209976d6)No, it's fine, except that it is not trivial to understand that GUI will not work in Linux at all

dockimbel

[12:43](#msg59d23482bac826f054255a6c)It's a work in progress, you can try it following the instructions posted by Rebolek above (reposting the link: https://toltex.u-ga.fr/RedGtk).

zinid

[12:44](#msg59d2349cb20c642429b24f9c)Yeah, I'm checking the page, thanks

dockimbel

[12:45](#msg59d234e57f323fc375f8e57c)The basic widgets should be working, though, I'm not sure how well is the positionning supported (the work is currently done by the community, not by the Red core team).

[12:46](#msg59d2350cf7299e8f539aa00d)As an alternative, you can also try the Red GUI using Wine on Linux.

zinid

[12:46](#msg59d23522210ac26920997ddf)Can I try Rebol so far?

[12:46](#msg59d2352ef7299e8f539aa0d2)I got it working, it's even drawing me some windows, lol

dockimbel

[12:47](#msg59d235797f323fc375f8e902)Rebol works fine on Linux, though Rebol's GUI support on Linux has some issues (mostly related to fonts handling).

zinid

[12:49](#msg59d235c27b7d98d30d6170d3)I don't care about look'n'feel for my personal usage, even if it's as ugly as Tcl/Tk ;)

maximvl

[13:34](#msg59d240717f323fc375f92c39)rebol is working fine once you fixed the fonts issue :D and it's not about look &amp; feel with it gui fails to run at all

[14:01](#msg59d246a3bbbf9f1a38124427)@dockimbel regarding `closure!` I don't understand what's the reason for a whole new datatype

[14:02](#msg59d246f8b59d55b82362f979)the problem described in the link:

```
>> add2: func [c d] [[c + d]]
>> do add2 1 2
** Script error: c word is not bound to a context
```

can be easily solved by binding `[c + d]` to a proper context, isn't it?

[14:03](#msg59d247437b7d98d30d61de56)and closure in "regular" languages does exactly that - captures all related variables into a brand new, separate context

dockimbel

[15:23](#msg59d25a01b20c642429b341be)@maximvl See the related example code I posted above. A new context is needed on every call.

maximvl

[15:24](#msg59d25a27f7299e8f539b8920)yes, I have nothing against it, I'm trying to understand why a separate datatype

[15:25](#msg59d25a6cbac826f054264832)result of a closure is still a function, separated datatype may only affect type predicates we have

dockimbel

[15:25](#msg59d25a82177fb9fe7e2c8732)Because, in such case, you need to distinguish between a regular function call from a closure call.

maximvl

[15:25](#msg59d25a87b59d55b823637a4a)eg do we want to have `closure? x <> function? x`

[15:26](#msg59d25a957b7d98d30d6255aa)@dockimbel do you?

dockimbel

[15:26](#msg59d25aa6f7299e8f539b8c2f)@maximvl  
&gt; result of a closure is still a function

In Redbol, the result can be anything.

maximvl

[15:27](#msg59d25ac7b20c642429b346d1)I mean result of a `closure` function, which is a closure :D

dockimbel

[15:27](#msg59d25ad9614889d47566a13c)@maximvl As I said above, for a closure, we need to create a new context on every call, for a regular function, we don't need that.

maximvl

[15:28](#msg59d25b10bbbf9f1a3812c635)you mean you want to implement it as a builtin low-level action or something?

[15:28](#msg59d25b25210ac269209a67d9)but it doesn't fundamentally change what it returns

[15:28](#msg59d25b30b20c642429b34945)or I don't understand what you mean :)

dockimbel

[15:30](#msg59d25b7ebac826f054264fdb)The low-level implementation doesn't matter much. I just submitted the above `closure!` type from Rebol3 for evaluation, as it doesn't really fit fully the definition of a closure, at least according to wikipedia.

[15:33](#msg59d25c2dbbbf9f1a3812cc8c)

```
lisp
>> z: 1 add2: closure [c] [[c + z]]
>> do add2 5
== 6
>> z: 10
== 10
>> do add2 5
== 15
```

Isn't the closure supposed to close over the non-local words, so that the value of `z` is captured at the closure creation time?

9214

[15:37](#msg59d25d447b7d98d30d6267df)in this case I think result should be two `6`, otherwise it looks (and behaves) like `func`

dockimbel

[15:38](#msg59d25d73f7299e8f539b9c8f)Right, that's what I meant, the second result should be the same. So, the Rebol3's `closure!` type is not a real closure...

9214

[15:39](#msg59d25d9dbbbf9f1a3812d469)no spoons, no scopes, no variables, no closures... `_(:3」∠)_`

maximvl

[15:39](#msg59d25daab20c642429b359b6)yes, it should save "current state" of all variables

[15:40](#msg59d25df3210ac269209a7a73)otherwise it will be like in JS where you create a closures out of a loop variable and they all have the same value in the end

[15:41](#msg59d25e1c7f323fc375f9ef27)

```
var funcs = [];
for (var i = 0; i < 3; i++) {      // let's create 3 functions
  funcs[i] = function() {          // and store them in funcs
    console.log("My value: " + i); // each should log its value.
  };
}
for (var j = 0; j < 3; j++) {
  funcs[j]();                      // and now let's run each one to see
}
```

It outputs this:

```
My value: 3
My value: 3
My value: 3
```

[15:41](#msg59d25e34b20c642429b35c8b)^ this is example of \*bad* closures

gltewalt

[19:57](#msg59d29a0ef7299e8f539d0e1e)Since values are anonymous, I was told that "grabbing" `z:` is difficult to do.  
Otherwise `z:` could be "grabbed" and stuffed into the context created by `closure`

[20:00](#msg59d29aeb7f323fc375fb62ec)In other words, the ability to tell from a value what its bound `word` is - I was told its hard to do

[21:49](#msg59d2b475bac826f054287a69)Is this it?

```
>> closure: func ['f][bind/copy f system/words]
== func ['f][bind/copy f system/words]
>> z:1 closure add1: func [z] [z + 1]
== func [z][z + 1]
>> add1 4
== 5
>> z: 2
== 2
>> add1 4
== 5
```

[21:57](#msg59d2b64e7b7d98d30d6493db)\*edited*

[22:18](#msg59d2bb35bac826f05428a23d)oops

```
closure: does [func ['f][bind/copy f system/words]]
```

maximvl

[22:19](#msg59d2bb73b20c642429b580b2)but why do you bind to `system/words`

gltewalt

[22:20](#msg59d2bb9601110b72316bbebe)That's the only way I could think of to grab `z`

maximvl

[22:20](#msg59d2bbbe614889d47568e011)grab z?

[22:20](#msg59d2bbc7177fb9fe7e2ee886)I don't get it )

gltewalt

[22:21](#msg59d2bbfeb20c642429b583d6)So `z` as it has been bound will be availble at the time of creating `closure`, but after - any changes to `z` in global space will not matter.

[22:22](#msg59d2bc14f7299e8f539dc91d)A snap shot of the global words and their values at the time of making the closure

maximvl

[22:23](#msg59d2bc4e177fb9fe7e2eeba5)I don't think whole global context needs to be copied, just the ones used in closure's body

gltewalt

[22:24](#msg59d2bca7bbbf9f1a38150cff)But how to do that? I don't know how to capture `z` in an example like: `z: 1 add2: closure [c] [[c + z]]`

maximvl

[22:26](#msg59d2bcfbbac826f05428a9ad)you can just walk over body with `parse` and collect all the words

[22:26](#msg59d2bd12177fb9fe7e2eef44)btw in your example `+` should also be copied :)

gltewalt

[22:28](#msg59d2bd977f323fc375fc2785)&gt; yes, it should save "current state" of all variables

[22:29](#msg59d2bdbff7299e8f539dd09d)That's why I thought to bind system/words

## Tuesday 3th October, 2017

dander

[01:49](#msg59d2eca8210ac269209d70fe)@gltewalt, @maximvl, from \[here](https://gist.github.com/dander/66ad65555b30286115cee675b16bf1d7#file-generators-red-L45) my `enclose` function can be used to capture local values. It should maybe return a `context` instead of a block though... also, the reason for the quoting is that was the easiest way I could find (with other peoples' help) for wrapping a function. Perhaps there is an easier/better way to do it, but it seems to work.

```
enclose: func [args /local w][
	collect [foreach w args [
		if word? w [keep to-set-word w keep 'quote keep/only to-paren reduce ['get to-lit-word w]]
	]]
]
```

dockimbel

[04:43](#msg59d3156eb20c642429b7008b)As a reminder, if you want to show off your Red skills, you can add Red entries to https://rosettacode.org. That \*is* useful both to spread Red around and help newcomers learn it by analogy with what other languages.

BeardPower

[10:20](#msg59d3646b7f323fc375ff3ddb)@Oldes The code, which is tested is the same. The pre-allocation is not part of the benchmark. I pre-allocated it in Red in a new test, but it makes no difference.

Oldes

[10:22](#msg59d364e9b59d55b82368ccd1):point\_up: \[1. říjen 2017 18:43](https://gitter.im/red/red?at=59d11b18c171ee8b299ec3df)

[10:25](#msg59d365b5b20c642429b88dc9)Honestly I don't understand, how you can say that pre-allocation is not part of the benchmark... if you do not preallocate the vector, it must be reallocated durring computation so it must affect results.

zinid

[10:28](#msg59d3666ab59d55b82368d5bb)Do I understand correctly there is no type safety in Red?

PeterWAWood

[10:29](#msg59d3667b01110b72316ed048)@Oldes Because it wasn't timed ... only accessing the values was timed.

zinid

[10:29](#msg59d3667f210ac269209fae68)Because `if now > 1 []` compiles just fine

PeterWAWood

[10:30](#msg59d366dab59d55b82368d7e7)@zinid Red types have strong type safety ... but it is the values that are typed. An integer! cannot be "cast" as a float!.

[10:31](#msg59d366f3bbbf9f1a3818190f)Words can be bound to any value. There is no restriction.

BeardPower

[10:32](#msg59d3674a210ac269209fb1f4)@dockimbel Thank you! Sure, it's not indicative of the final product's performance. I'm just trying different implementations with the actual version :)

The R/S implementation reports some error:

```
Compiling to native code...
*** Compilation Error: undefined symbol: red/vector/rs-head
*** in file: %/C/Users/BeardPower/Downloads/bench2.r
*** in function: exec/do-count2
*** at line: 332
*** near: [vector/rs-head v1
    p2: as pointer! [integer!] vector/rs-head v2
]
```

I already tested the difference, by wrapping my code into a function, and also by taking your function and moving it into a block:

```
time: time-it/count [ sum: 0 repeat i 10000 [sum: sum + vector1/:i + vector2/:i] ] 1000
```

It gives different results, so wrapping the code in a function is way faster than code in a block.

Results:

```
Original code as a block:
Calculation of 99990000 took 0:00:08.282
Original code wrapped into a function:
Calculation of 99990000  took 0:00:04.497
Your code as a block:
Calculation of 99990000  took 0:00:05.932
Your code, wrapped into a function:
Calculation of 99990000  took 0:00:03.223
```

zinid

[10:33](#msg59d367797f323fc375ff4dfe)@PeterWAWood but this doesn't make my life easier :) The problem is the code is incorrect and it compiles, just like in Python :)

BeardPower

[10:35](#msg59d367d7bac826f0542bcdd8)@greggirwin Thank you very much for your examples!

PeterWAWood

[10:36](#msg59d36811177fb9fe7e320dcc)@BeardPower You need to compile any code which uses Red/System runtime functions with the `-r` (release) option to have those runtime functions compiled into the executable.

BeardPower

[10:36](#msg59d36839177fb9fe7e320e6d)@PeterWAWood Ahh, thanks!

PeterWAWood

[10:45](#msg59d36a44b59d55b82368ea82)@zinid In many cases, it is not possible to statically determine the type of value to which a word is bound. Take this code for instance:

```
>> w: 'now
== now
>> set in system/words w 2
== 2
>> if now > 1 [print "now is greater than 1"]
now is greater than 1
```

zinid

[10:46](#msg59d36a6f01110b72316ee3ed)Yeah, but duck typing is a real problem, I full of this in Erlang and Python

BeardPower

[10:51](#msg59d36b99b59d55b82368f215)@Oldes The vector is not re-allocated during computation, as the values were appended before-hand.

```
counter: 0

loop 10000 [ counter: counter + 1 append vector1 counter append vector2 counter]
```

The loop will re-allocate the series in the loop, but this is not part of the "sum" benchmark.  
The time the code to be bench-marked is evaluated, the series is completely allocated.

Oldes

[10:51](#msg59d36babbac826f0542be0b6)Ok... my fault.

BeardPower

[10:54](#msg59d36c77177fb9fe7e3225b6)No worries. Sorry for the inconsistency. Allocation comparison was the next thing to test, so I did not update the python code yet.

PeterWAWood

[10:55](#msg59d36ca201110b72316eefae)@Zinid From my point of view, the flexibility and expressiveness of Red comes at a price. Part of that price is that "variables" are untyped. As I understand, the self-hosted compiler will probably have a strict mode that will perform some level of "type checking" but I doubt it will be as extensive as you'd like.

9214

[11:20](#msg59d37273177fb9fe7e32486d)@zinid how can compiler guess the meaning of `if` `now` and `>` words?

zinid

[11:41](#msg59d3774fb59d55b82369399d)@9214 how do Haskell/OCaml/Rust/etc guess? But I understand it's not quite possible to do in Red

maximvl

[11:49](#msg59d3792fb20c642429b8fedf)@zinid depends how you look at it, dynamic nature can be a essential feature or real problem

BeardPower

[11:49](#msg59d3795c7f323fc375ffb374)Rust uses a \[Hindley-Milner type-system](https://en.wikipedia.org/wiki/Hindley%E2%80%93Milner\_type\_system)

maximvl

[11:50](#msg59d3798cb59d55b8236946c9)I'm looking towards the `typed` dialect where everything is statically checked

zinid

[11:55](#msg59d37acab59d55b823694c9b)@maximvl in practice I get quite a lot of runtime type errors in production using Erlang. Yes, it can be fixed by full unit tests coverage, but it's huge task by itself.

maximvl

[11:57](#msg59d37b1d177fb9fe7e327936)@zinid did you try the dializer? :)

zinid

[11:57](#msg59d37b3001110b72316f4311)@maximvl yes, but it doesn't detect some types of errors

maximvl

[11:58](#msg59d37b4dbbbf9f1a381889d4)true, my point is it helps with most of them

zinid

[11:58](#msg59d37b52210ac26920a01dfa)Also, it's slow as hell, and writing type specs is error prone

maximvl

[11:59](#msg59d37b9b210ac26920a01f8a)in general I agree, I also want to have certain guarantees on code without giving up on flexibility, like in Haskell

zinid

[12:01](#msg59d37c1e210ac26920a0235e)There are a lot of other languages being developed with more advanced type system, but I'm not sure they are flexible enough

maximvl

[12:06](#msg59d37d53bbbf9f1a38189464)I haven't seen any language with good combination of both

[12:07](#msg59d37d65614889d4756c8584)usually it's one or another

[12:07](#msg59d37d96210ac26920a02a5a)since Red has ultimate extension possibilities in terms of DSL I believe this is possible

[12:08](#msg59d37db1614889d4756c8752)and I'm going to try to code it anyways

zinid

[12:10](#msg59d37e33614889d4756c89ca)good for you, and meanhwile I'm still stuck on tutorials, don't have much time to spend on it, lol :)

maximvl

[12:13](#msg59d37f02177fb9fe7e328ff3)no worries, I went through the same process

[12:16](#msg59d37fa0b59d55b8236967b8)I'll share what I make as usual, maybe you'll join it later

9214

[12:26](#msg59d381db210ac26920a03ed4)@maximvl what are your thoughts on Racket and \[`typed/racket`](https://docs.racket-lang.org/ts-guide/) lang?

maximvl

[12:27](#msg59d3821fb20c642429b93053)@9214 I tried it some time ago, it has quite an advanced system, but afaik you have to specify all the types

[12:30](#msg59d382f6614889d4756ca3a7)the system there is so advanced you really write code for type declarations

[12:32](#msg59d38351bbbf9f1a3818b833)though I don't think its very practical

zinid

[12:33](#msg59d3838c210ac26920a04daf)Specifying types by hands sucks, a machine should do that

[16:02](#msg59d3b4a1210ac26920a18f8e)damn, it's virtually impossible to google anything about Red, the word is so common

BeardPower

[16:03](#msg59d3b4c0bac826f0542dab6a)Try "Red lang" or "Red language"

maximvl

[16:03](#msg59d3b4d3b59d55b8236abcc1)there are only few resources about Red so far, @9214 can share a list

zinid

[16:03](#msg59d3b4d7f7299e8f53a2d987)I tried, just like with Go Lang :)

[16:04](#msg59d3b4f3bac826f0542dacdb)`red lang xml` returns nothing relevant

maximvl

[16:05](#msg59d3b53eb59d55b8236abf19)if you are looking for libraries it's easier to just ask here

zinid

[16:05](#msg59d3b552614889d4756de5b0)@maximvl ok, thanks

maximvl

[16:06](#msg59d3b569b59d55b8236ac028)I remember somebody posted a github repo with a xml parser

zinid

[16:08](#msg59d3b5e4f7299e8f53a2e06b)lol, there are 5 Red repos on github ;)

[16:08](#msg59d3b60a614889d4756dea8b)maybe github recognizes it as rebol though

maximvl

[16:09](#msg59d3b61fbbbf9f1a3819fe20)the language is in a very early stage of development, there is even no I/O and no GC

zinid

[16:09](#msg59d3b646210ac26920a19a08)I can use rebol so far ;)

maximvl

[16:10](#msg59d3b65dbbbf9f1a3819ff5e)though we gathered a decent amount of scripts here: https://github.com/red/community

rebolek

[16:44](#msg59d3be54bbbf9f1a381a332d)@zinid https://github.com/rebolek/red-tools/blob/master/xml.red

9214

[17:17](#msg59d3c642177fb9fe7e345dcb)@zinid here's the \[list](https://gist.github.com/9214/784e7f7af2342f117bc67a8e2698855b)

gltewalt

[23:53](#msg59d42316614889d475706825)I think we need this:  
http://www.rebol.com/r3/docs/functions/title-of.html

## Wednesday 4th October, 2017

rgchris

[04:08](#msg59d45ed8614889d4757150f3)@9214 My own personal \[Red](http://ross-gill.com/page/Red) and \[Rebol](http://ross-gill.com/page/Rebol) pages. \[rebol.info](http://rebol.info) is something of a hub—has some links and feeds for various Rebol/Red topics.

gltewalt

[04:30](#msg59d463cbf7299e8f53a6571d)If you do this in Red Console you have to kill the application in task manager. `unset 'system`

[04:32](#msg59d46459177fb9fe7e377edd)Win7, Red gui

[04:54](#msg59d4696dbac826f054314c44)(yes I know why - just wondering if it's something the team might want to safeguard against)

dockimbel

[07:01](#msg59d487497f323fc37505362e)@zinid  
&gt; lol, there are 5 Red repos on github ;)

How do you come up with such number?

[07:02](#msg59d48775f7299e8f53a6f1ce)@gltewalt  
&gt; (yes I know why - just wondering if it's something the team might want to safeguard against)

Yes, but not until modules are implemented.

[07:03](#msg59d487a9bbbf9f1a381e022d)@gltewalt  
&gt; I think we need this: http://www.rebol.com/r3/docs/functions/title-of.html

Why?

[07:09](#msg59d48913614889d4757209fa)@zinid  
&gt; Yeah, but duck typing is a real problem, I full of this in Erlang and Python

There is no duck typing in your code example or the code version Peter posted above. Peter just set the word `now` in global context to `2`, so that the conditional expression then returns `true`.

[07:41](#msg59d490a0210ac26920a5d782)@maximvl \[Here is](https://gist.github.com/dockimbel/79237c5454481bcb7d68105281b142a8) a "capture by reference" closures generator. I think it should also "reset" the external words to their initial values on each call of the closure.

zinid

[08:11](#msg59d497c2614889d475725edb)&gt; How do you come up with such number?  
https://github.com/search?utf8=%E2%9C%93&amp;q=language%3Ared&amp;type=

rebolek

[08:14](#msg59d4986c614889d475726263)@zinid There can't be only 5 Red repos when I alone have six of them ;)

dockimbel

[08:14](#msg59d4987cbbbf9f1a381e6015)@zinid I count about 24 there: https://github.com/trending/red

zinid

[08:15](#msg59d498a001110b7231752133)@rebolek that's strange I got only 5, whatever

[08:15](#msg59d498b501110b7231752163)seems like a problem in github search

dockimbel

[08:15](#msg59d498bfbac826f0543237fc)@zinid You query returns 15 results here. Seems github searching feature is really flawed.

zinid

[08:16](#msg59d498c6f7299e8f53a74ced)yep

rebolek

[08:17](#msg59d4991a614889d475726705)well, we have Github API (both REST and GraphQL), so we can build or own search functions :)

dockimbel

[08:18](#msg59d49952177fb9fe7e388510)@rebolek Could it be possible to build a good Gitter searching tool? (because the existing search field on Gitter is really a joke)

rebolek

[08:20](#msg59d499deb20c642429befe58)@dockimbel Of course, there are basic search tools in `gitter-tools` that work much better (over downloaded data) than Gitter search. There's just no GUI for it yet, I will try to add it, when I've got some time.

[08:22](#msg59d49a3f210ac26920a60d87)see https://github.com/rebolek/gritter/blob/master/gitter-tools.red#L105

dockimbel

[09:37](#msg59d4abed01110b72317586e0)@dockimbel  
&gt; @maximvl \[Here is](https://gist.github.com/dockimbel/79237c5454481bcb7d68105281b142a8) a "capture by reference" closures generator.

Sorry, I meant "capture by value".

9214

[10:10](#msg59d4b3b2614889d47572f882)@rgchris cheers!

[10:11](#msg59d4b3bf614889d47572f8ac)&gt; Could it be possible to build a good Gitter searching tool?

oh god yes please

ldci

[12:28](#msg59d4d3fb614889d47573b8e5)Hi, RedCV library is updated for Red 0.6.3 here: https://github.com/ldci/redCV

## Thursday 5th October, 2017

maximvl

[15:36](#msg59d65181210ac26920af2b12)@dockimbel in this example I would expect `state` to flip it's value:

```
>> x: closure [z /local state] [ probe state: not state z + y ]
== func [z /local state][probe state: not state z + y]
>> x 1
true
== 6
>> x 2
true
== 7
>> x 3
true
== 8
```

[15:36](#msg59d6518be44c43700af99992)otherwise looks very good

BeardPower

[16:28](#msg59d65dbf614889d4757c0092)Does anyone know, if \[q-plot](http://www.rebol.org/view-script.r?script=q-plot.r) was already ported to Red or if there is another plot/chart lib for Red?

rebolek

[18:12](#msg59d675fcf7299e8f53b16cdf)@BeardPower I have one, but it is unreleased currently.

BeardPower

[21:25](#msg59d6a331210ac26920b0d2d3)@rebolek Nice. A port or a different lib? Are you planning to release it?

rebolek

[22:11](#msg59d6ae2c210ac26920b10465)@BeardPower yes, I want to release it together with text-table, once GC is ready. It is not a port, it is written from scratch for Red.

## Friday 6th October, 2017

maximvl

[08:23](#msg59d73d8001110b7231827db0)@dockimbel forget my example, it's not relevant

[08:26](#msg59d73e4e01110b72318281fe)it's good enough:

```
>> adder: func [x] [ closure [y] [ x + y ]]
== func [x][closure [y] [x + y]]
>> adder-2: adder 2
== func [y][x + y]
>> adder-2 3
== 5
>> adder-2 4
== 6
>> adder-2 5
== 7
>> adder-5: adder 5
== func [y][x + y]
>> adder-5 1
== 6
>> adder-5 3
== 8
>> adder-2 5
== 7
```

[08:27](#msg59d73e8fb59d55b8237c924d)I was thinking about having state in a local context, where in lisps I would use `let`, but in Red it's just a `context` :D

[08:29](#msg59d73ee9e44c43700afdea62)

```
>> myf: select context [state: off f: closure [x] [ probe state: not state x ] ] 'f
== func [x][probe state: not state x]
>> myf 1
true
== 1
>> myf 2
false
== 2
>> myf 3
true
== 3
```

[08:30](#msg59d73f09f7299e8f53b4d384)but the way contexts work this will work with just any function

[08:32](#msg59d73f9cb20c642429cc8844)suddenly things are quite simple

9214

[08:35](#msg59d74043210ac26920b359b0)@maximvl why use `select`?

```
>> myf: context [state: off f: closure [x][probe state: not state x] return :f]
== func [x][probe state: not state x]
>> myf 1
true
== 1
>> myf 2
false
== 2
```

maximvl

[08:38](#msg59d74108b20c642429cc8d20)hm

[08:38](#msg59d7411e614889d475801a7e)because I see context as an object which has only fields inside

[08:39](#msg59d74129b20c642429cc8d88)can you actually write any kind of code there?

9214

[08:39](#msg59d7413fb59d55b8237ca0df)spec is evaluated before actual object is constructed

maximvl

[08:39](#msg59d74149bbbf9f1a382ba30f)

```
>> context [x: 5 return 2 + x]
== 7
```

[08:39](#msg59d74159177fb9fe7e46083b)is it ok to do things like this?

[08:40](#msg59d7417ebbbf9f1a382ba428)is `return` somehow special or how does it work?

[08:41](#msg59d7419ef7299e8f53b4e0c3)this is an interesting feature, but I need some clarification on details :D

[08:43](#msg59d74227bac826f0543fc2c6)I have a feeling that `return`, `break`, `continue` and others work somehow differently in Red

rebolek

[08:45](#msg59d74290614889d475802144)@maximvl That’s interesting, I would have expected error here. However you can have code in context definition:

```
>> context [x: 5 print 2 + x]
7
== make object! [
    x: 5
]
```

maximvl

[08:45](#msg59d7429201110b72318299b8)in "regular" language semantics I would expect the following code to return `7`

```
z: func [] [ context [x: 5 return 2 + x ]  100]
z
```

[08:45](#msg59d742b4bac826f0543fc5b9)while in Red it's `100`

[08:45](#msg59d742c4b20c642429cc956f)meaning `return` doesn't return from `z` but from something else

PeterWAWood

[08:46](#msg59d742ce210ac26920b36765)I think it is a bug in the `context` function, a type of Red Injection attack.

```
>> make object! [x: 5 return x + 2]
*** Throw Error: return or exit not in function
*** Where: return
*** Stack:  

>> context [x: 5 return 2 + x]
== 7
>>
```

9214

[08:46](#msg59d742d7614889d4758022d8)

```
text
>> z: func [] [return context [x: 5 return 2 + x ] 100]
== func [][return context [x: 5 return 2 + x] 100]
>> z
== 7
```

[08:46](#msg59d742f3f7299e8f53b4e6cc)@PeterWAWood so you say that I used injection attack in my code? :O

[08:48](#msg59d74354f7299e8f53b4e8c5)\[here](https://github.com/9214/linden/blob/master/src/OL.red#L38), if some field in constructed object is `none`, I return `none` instead of that object

[08:49](#msg59d74383614889d475802606)oh, but turns out it doesn't work with `make reactor!` :D

PeterWAWood

[08:51](#msg59d74420b20c642429cc9bf1)Rebol ignores a call of return in a `context` arg.

```
>> o: context [x: 5 return 2 + x]
>> context [x: 5 return 2 + x]                               
>> probe o
make object! [
    x: 5
]
```

9214

[08:51](#msg59d7442dbbbf9f1a382bb15f)@dockimbel :point\_up:

[08:55](#msg59d74510bbbf9f1a382bb4d9)

```
text
== func [][secret-password: "poop" 'ok]
>> foo
== ok
>> append body-of :foo [return secret-password]
== [secret-password: "poop" 'ok return secret-password]
>> foo
== "poop"
```

[08:56](#msg59d7454a210ac26920b372f4)looking at the big picture, we need `secure` dialect for sure

[08:57](#msg59d74577177fb9fe7e461a36)giving how easy it is to pass code around

gltewalt

[09:26](#msg59d74c53b20c642429ccc59d)What about hashing the downloads (binaries) for a first step? Ruby and python do it

maximvl

[09:48](#msg59d75161614889d4758068d0)no, don't keep passwords and sensitive information in the code

[09:48](#msg59d75167614889d4758068e7)the code is not a secure place

[09:48](#msg59d7516b01110b723182e792)that's kinda obvious

9214

[09:48](#msg59d7517cb59d55b8237cf68e)but there's no code in Red ;)

maximvl

[09:48](#msg59d75187e44c43700afe48b4)everything is code in red

9214

[09:49](#msg59d751b101110b723182e9db)uh-huh?

maximvl

[09:49](#msg59d751bebac826f05440134b)I can easily prove it

[09:49](#msg59d751c3b59d55b8237cf782)show me what's not a code

9214

[09:50](#msg59d751e8bbbf9f1a382bedcf)as soon as you show me what's not data

maximvl

[09:50](#msg59d751fabbbf9f1a382bee6b)ahahaha

[09:50](#msg59d75200f7299e8f53b535ad)nice one

[09:51](#msg59d75209bbbf9f1a382bef2d)now you got it

9214

[09:51](#msg59d75219614889d475806cbb)@9214 there's no spoon emoji!

[09:51](#msg59d75221177fb9fe7e466116):no\_entry\_sign: :fork\_and\_knife:

dockimbel

[10:14](#msg59d75791614889d475808af3)@PeterWAWood  
R3:

```
>> context [x: 5 return 2 + x]
== 7
```

R2:

```
>> probe context [x: 5 return 2 + x y: 2]
make object! [
    x: 5
    y: unset
]
```

[10:15](#msg59d757b7f7299e8f53b55151)R2 does catch the exception in `make object!`, R3 and Red do not.

[10:54](#msg59d760f2614889d47580bc68)Simple \[parse-info](https://gist.github.com/dockimbel/7d6e53364d8b6d5f50c363c61876165d) function for gathering some stats about parsing jobs (could be used for comparing efficiency of different parsing strategies). Looking at it, `push` and `pop` event should probably distinguish between block rules and non-block ones.

BeardPower

[11:21](#msg59d76726614889d47580dc41)@rebolek  
&gt; @BeardPower yes, I want to release it together with text-table, once GC is ready. It is not a port, it is written from scratch for Red.

:+1:  
I was just trying your \[wall-street](http://www.rebol.org/view-script.r?script=wall-street.r) script, but it seems outdated, as it does not download any financial data.

maximvl

[11:32](#msg59d769ddb20c642429cd5e91)@dockimbel could you tell more about this "exception catch"?

BeardPower

[11:39](#msg59d76b81177fb9fe7e46e3bb)@9214  
You should not store the plain-text password anyway.  
Storing the hash (generated with a cryptographic hashing function) of the password and being able to read it from memory, would not pose a threat.  
However, a secure dialect would be nice. Unfortunately Homomorphic Encryption is not yet feasible.

9214

[11:41](#msg59d76bec01110b7231837132)do you guys ever thought that it was dumbed-down example?

BeardPower

[11:44](#msg59d76c87210ac26920b42910)Sure, but you would be surprised, how often software and hardware vendors implemented it just like that ;)

maximvl

[11:45](#msg59d76ccdb20c642429cd6c28)+

rebolek

[12:04](#msg59d77135b20c642429cd849d)@BeardPower that certainly \*is* outdated :)

dockimbel

[12:10](#msg59d772a6177fb9fe7e470d94)@maximvl I cannot, it's a R2 internal feature and R2 is closed-source. Could be a side-effect of R2's way to handle exceptions or a deliberate design decision (the former is more likely).

maximvl

[12:10](#msg59d772beb20c642429cd8bde)@dockimbel no, in Red :)

[12:10](#msg59d772ccf7299e8f53b5e165)I mean in general, not only in this case

dockimbel

[12:14](#msg59d7739401110b7231839777)In general? `return` is meant to return a value from the most recently called function.

maximvl

[12:15](#msg59d773dff7299e8f53b5e842)@dockimbel but then `return` is a function

[12:15](#msg59d773fd177fb9fe7e471669)so there is a way to control stack in runtime

dockimbel

[12:16](#msg59d77400210ac26920b44dad)@maximvl No, it's a `native!`.

maximvl

[12:16](#msg59d7740be44c43700afefa53)is there a big difference?

dockimbel

[12:16](#msg59d77424177fb9fe7e47173b)Yes, a `function!` is coded in Red, a `native!` in R/S.

maximvl

[12:16](#msg59d7743bbac826f05440c776)is it possible to code `return` in Red?

BeardPower

[12:18](#msg59d7749a210ac26920b450a9)@rebolek Still, it's a nice source for learning and inspiration. :)

dockimbel

[12:18](#msg59d774aaf7299e8f53b5ed3d)Maybe, but not simple at all, and most probably would require modifying `func` and `function` to inject some code to catch the exception and return the right value. Anyway, it would be magnitude slower than the native implementation (especially the compiled version).

maximvl

[12:21](#msg59d77540bac826f05440cd52)@dockimbel could you point me to the definition of `return`?

[12:21](#msg59d7754cb20c642429cd9a8c)github search shows thousands of results for `return:`

dockimbel

[12:21](#msg59d77558614889d4758133a9)Which one? Compiler's or interpreted one?

maximvl

[12:21](#msg59d77565bac826f05440cf78)idk, both :)

dockimbel

[12:22](#msg59d7758cf7299e8f53b5f321)\[compiled](https://github.com/red/red/blob/master/compiler.r#L2888) and \[interpreted](https://github.com/red/red/blob/master/runtime/natives.reds#L2007).

maximvl

[12:23](#msg59d775bae44c43700aff0306)

```
emit-exit-function: does [
		emit [
			stack/unroll stack/FRAME_FUNCTION
			ctx/values: saved
			exit
		]
		insert-lf -5
	]
```

[12:24](#msg59d775f001110b723183a36e)so what exactly happens here? do we have stack and everything implemented in Rebol? How do we map it into OS instructions?

[12:24](#msg59d77617b59d55b8237db41f)does `stack` exist only in compile time?

dockimbel

[12:25](#msg59d77639e44c43700aff04ff)@maximvl You want me to explain how the Red compiler works? :-) Maybe another time, too long topic. In this specific case, the code after `emit` is the generated R/S code.

maximvl

[12:25](#msg59d77649bbbf9f1a382ca22b)I never hacked a language with it's own native compiler probably that's why I don't understand things here

[12:26](#msg59d7768dbac826f05440d75b)@dockimbel no no, I want to stay in Red's terms, it's more like how is R/S connected with the runtime

dockimbel

[12:27](#msg59d7769ff7299e8f53b5f9b3)The core thing to understand it that the Red compiler outputs R/S code. So the R/S code is in charge of managing all the underlying structures used by Red's environment. The Red stack is used by Red expressions and managed by R/S code underneath (like in the above case, where the Red stack is unrolled up to the last enclosing function call).

maximvl

[12:27](#msg59d776ccb59d55b8237db831)but when does native code appear?

dockimbel

[12:28](#msg59d7770b614889d475813cc2)In a second pass, where R/S source code is converted to CPU instructions. First all Red code is compiled to R/S, then the resulting whole R/S output is compiled to native code.

maximvl

[12:29](#msg59d77740177fb9fe7e472727)so it does mean that I can write R/S code which does some circus with the stack and control flow?

dockimbel

[12:30](#msg59d7775fb20c642429cda53d)Certainly. ;-)

maximvl

[12:30](#msg59d7776501110b723183ac2e)oh wow

dockimbel

[12:30](#msg59d7777db20c642429cda660)When you code at R/S level, you have full power over Red environment.

maximvl

[12:30](#msg59d7777dbbbf9f1a382ca87b)this is like the low-level programming which I never understood because assembler was too cryptic

[12:32](#msg59d777c701110b723183ae69)now I want to give it a try

dockimbel

[12:32](#msg59d777d1bbbf9f1a382ca9cd)Low-level coding is way simpler than high-level, because most of the time, it is very constrained (essentially by the CPU capabilities).

[12:32](#msg59d777f0177fb9fe7e472adb)Damn, I've opened the Pandora box and unleashed the Kraken, both at the same time! ;-)

maximvl

[12:32](#msg59d777f6210ac26920b464f2)so I guess `try` is implemented using the same staff, right?

[12:33](#msg59d7780eb20c642429cda934)checking some error return code or register and just not raising an error?

dockimbel

[12:33](#msg59d77824210ac26920b4658d)Yep, it relies on R/S exceptions handling (low-level catch/throw). It's pretty complex though, as it needs to handle the unrolling of both the Red stack (with some rich semantics) and the native stack (controlled by the CPU), and ensures that there both remain in sync.

maximvl

[12:33](#msg59d77830e44c43700aff0ed2)nice

[12:34](#msg59d7784f01110b723183b170)yeah, remember a while ago I was arguing about CL exceptions system

[12:34](#msg59d77863bac826f05440e187)and I ended up making a dummy version in Red

[12:34](#msg59d77868614889d475814411)I want to try R/S instead

[12:35](#msg59d778a9b59d55b8237dc2cc)two stacks?

dockimbel

[12:35](#msg59d778aff7299e8f53b60431)@maximvl You need to study the internal structures and API used for handling the environment, that's pretty big and complex.

maximvl

[12:36](#msg59d778cebac826f05440e3af)is it documented in the R/S manual?

dockimbel

[12:36](#msg59d778e0bbbf9f1a382caf79)Yes, Red has its own stack for function calls and reducing expressions (basically a block, that we should expose to Red users in the future), and there's the CPU native stack (like the C stack) used by R/S and the OS.

[12:37](#msg59d7790af7299e8f53b6057e)Nope, the Red runtime internals are not documented, the API is not stabilized yet.

[12:39](#msg59d7799b01110b723183b89d)If you want to have an idea of that low-level API we are using, you can go through the \[natives](https://github.com/red/red/blob/master/runtime/natives.reds) and \[interpreter](https://github.com/red/red/blob/master/runtime/interpreter.reds) implementations to get an idea. The interpreter has to deal with both stacks (like in the case of non-`function!` called by the interpreter).

maximvl

[12:41](#msg59d779e0210ac26920b46ea3)ok, I'll play with it

[12:41](#msg59d779fdbac826f05440ea66)studying what's interesting is hardly a problem ;)

dockimbel

[12:42](#msg59d77a4f177fb9fe7e4735e5)Some parts are still meant to be changed/replaced, like the Red stack data structures and handling, we need a more flexible and simpler model (code name: "dyn-stack"), to help the compiler handle dynamic function calls at run-time, and try to reduce the boilerplate code generated by the Red compiler for stack frames.

[12:48](#msg59d77bab177fb9fe7e473d2e)If you go through the `eval-arguments` function in the interpreter, you might get surprised by the datatypes you'll see used there (like TYPE\_ISSUE or TYPE\_VECTOR). There are part of a just-in-time function's spec compilation process, where the spec block is converted to an array describing all the required arguments (including refinements when present at call site). Such array is cached, and used to accelerate the arguments fetching and type-checking for functions calls. It's there purely for performance reasons, it is not required for properly supporting the language semantics.

9214

[13:14](#msg59d781be614889d4758179ed)you know that something interesting happened when you see 52 unread messages

maximvl

[14:46](#msg59d7975c01110b7231846412)@dockimbel one more question, when a function get's called there should be some code which puts arguments into stack, adjusts registers and so on

[14:46](#msg59d7976301110b7231846424)and handles the return value

[14:47](#msg59d79768e44c43700affb900)right?

BeardPower

[14:49](#msg59d7980f177fb9fe7e47dff0)Isn't there a function, which saves the registers on the stack for you?

maximvl

[14:50](#msg59d79837bac826f0544196e8)yeah, I want to take a look at it :)

BeardPower

[15:00](#msg59d79a7db20c642429ce66f8)How about \[emit-prolog of the ARM target](https://github.com/red/red/blob/master/system/targets/ARM.r#L2722) and the emit-epilog.

dockimbel

[15:05](#msg59d79bc9177fb9fe7e47f486)@maximvl Are you talking about R/S functions and native stack? Then the `emit-prolog` function is where such things happen, like in the \[IA-32](https://github.com/red/red/blob/master/system/targets/IA-32.r#L2163) backend.

[15:08](#msg59d79c82bac826f05441afc4)@maximvl If you are interesting in understanding better the low-level parts, I highly recommend to have a look at \[Red 0.1.0](https://github.com/red/red/releases/tag/v0.1.0), which contains a fully working R/S toolchain (compiler + linker), and it's very short (~60KB of Rebol code). That's the core of the Red toolchain.

maximvl

[15:09](#msg59d79cbebac826f05441b0bb)@dockimbel so this prolog part - it generates native code for every "runnable" thing, right? like functions, actions, routines, natives?

[15:13](#msg59d79d83f7299e8f53b6d2b8)

```
>> do/args %rsc.r "%tests/hello.reds"
Script: "Red/System compiler wrapper" (none)
Script: "Red/System compiler" (none)
Script: "Red/System linker" (none)
Script: "Red/System PE/COFF format emitter" (none)
** Script Error: Feature not available in this REBOL
** Where: context
** Near: file-header: make struct! [
    machine [short] 
    sections-nb [short] 
    timestamp [integer!] 
    symbols-ptr [int...
```

[15:13](#msg59d79d85e44c43700affdcad)=(

dockimbel

[15:13](#msg59d79db5614889d475821d99)You need a Rebol/View version to use `struct!`. I wrote my own struct lib for Rebol2 later to avoid that dependency.

maximvl

[15:14](#msg59d79dd2e44c43700affdeb2)not an sdk version?

dockimbel

[15:14](#msg59d79debe44c43700affdf4c)`struct!` datatype is available in latest Rebol/View and SDK. Just download the free Rebol/View.

maximvl

[15:15](#msg59d79e0dbbbf9f1a382d77bf)rebol sdk seems to be available to download as well :)

dockimbel

[15:15](#msg59d79e21b59d55b8237e8f34)I don't think you can run it without a valid license key.

[15:16](#msg59d79e5d210ac26920b53c65)@maximvl Those constructs your are mentioning are in the Red realm, the above is for R/S. The Red compiler will convert functions/actions/routines/natives into R/S functions, but the CPU registers and native stack manipulations done in R/S functions are irrelevant for those higher-level constructs. Unlike CLOS which will map as much semantics as possible to very low-level code, Red cannot do that, due to much more dynamic semantics.

maximvl

[15:19](#msg59d79efdbbbf9f1a382d7d4a)

```
>> do/args %rsc.r "%tests/hello.reds"
-= Red/System Compiler =- 
Compiling tests/hello.reds ...
** Access Error: Cannot open /home/mvelesyuk/red/red-0.1.0/red-system/builds/hello.exe
** Where: build
** Near: write/binary file job/buffer
```

dockimbel

[15:19](#msg59d79f00e44c43700affe55c)@maximvl For Rebol/View, IIRC, you can run it from command-line with `-i` option to avoid the installing steps.

maximvl

[15:20](#msg59d79f29b20c642429ce81c3)* after I created `builds` directory

[15:20](#msg59d79f2cb20c642429ce81cf)

```
>> do/args %rsc.r "%tests/hello.reds"
-= Red/System Compiler =- 
Compiling tests/hello.reds ...
** Script Error: Invalid path value: stdout
** Where: emit-variable
** Near: emit-reloc-addr emitter/symbols/:name
```

dockimbel

[15:20](#msg59d79f41bac826f05441bf55)Let me try it... You can try Red 0.1.1 in the meantime, those issues were probably fixed by then.

maximvl

[15:21](#msg59d79f77e44c43700affe94a)&gt;and native stack manipulations done in R/S functions are irrelevant for those higher-level constructs

[15:22](#msg59d79f9e614889d475822750)but those constructs are still processed by the `prolog` code, aren't they?

dockimbel

[15:24](#msg59d7a01f01110b7231849465)@maximvl No, two different abstraction layers. `emit-prolog` is the interface between R/S functions and the CPU/native stack.

[15:24](#msg59d7a03dbbbf9f1a382d83e3)Red functions arguments are pushed on the Red stack, not the native stack.

maximvl

[15:25](#msg59d7a07c01110b72318496ed)so from the CPU's point of view it just executes interpreter most of the time?

dockimbel

[15:25](#msg59d7a080e44c43700affef7e)After creating the `%builds/` folder, 0.1.0 compiles fine (using Rebol/View 2.7.6):

```
>> do/args %rsc.r "%tests/hello.reds"
Script: "Red/System compiler wrapper" (none)
Script: "Red/System compiler" (none)
Script: "Red/System linker" (none)
Script: "Red/System PE/COFF format emitter" (none)
Script: "Red/System code emitter" (none)
Script: "Red/System code emitter base object" (none)
-= Red/System Compiler =-
Compiling tests/hello.reds ...
Script: "Red/System IA32 code emitter" (none)

...compilation time:     7 ms
...linking time:         7 ms
...output file size:     2560 bytes
```

maximvl

[15:25](#msg59d7a08301110b7231849775)like a single function?

[15:26](#msg59d7a093e44c43700afff025)the `0.1.1` worked for me

dockimbel

[15:27](#msg59d7a0eb614889d475822fd3)@maximvl Depends, the compiler will generate R/S functions for each Red function it can identify. Those R/S functions rely on the Red runtime API (coded in R/S) and run on the CPU, but their playground is on the Red stack, not the native stack. Red semantics require the values to stay \[boxed](https://stackoverflow.com/questions/13055/what-is-boxing-and-unboxing-and-what-are-the-trade-offs), while R/S (like C) works with unboxed values. It's really two different worlds, which only share the same syntactic rules.

maximvl

[15:39](#msg59d7a3bbe44c43700a000353)ok, I need to play with it to have more meaningful questions :)

## Saturday 7th October, 2017

maximvl

[15:22](#msg59d8f144b59d55b823840401)@dockimbel which version of Red first got the `do` word?

dockimbel

[16:12](#msg59d8fce6b59d55b8238434e0)@maximvl \[0.3.2](http://www.red-lang.org/2013/03/032-repl-release.html).

## Sunday 8th October, 2017

gltewalt

[02:14](#msg59d98a00f7299e8f53be7425)Should there be a room for padawans for constructive criticism and coaching, or is red/help sufficient?

9214

[09:15](#msg59d9ecc2b20c642429d77626)`red/kinderedgarten` or what?

gltewalt

[09:41](#msg59d9f2b901110b72318d87a7)I don't know?

[09:44](#msg59d9f390e44c43700a08ea3b)`red/review`

dockimbel

[09:45](#msg59d9f3aeb59d55b82387a464)red/help is there for helping with reviewing code.

pekr

[09:58](#msg59d9f6b5614889d4758b3480)general channel is red/welcome, though it might be for newcomers mainly ....

RnBrgn

[14:17](#msg59da3365210ac26920bf1f6b)I would think that people visiting these rooms that are not developers/programmers , which includes me, would prefer it not to be called something like red/kindergarten or red/padawans. :smile:

pekr

[17:25](#msg59da5f9d3cb340a261fd564e)I proposed general Red/Chat (/Lobby, /Relax, whatever), as sometimes, ppl like just to exchange their experience, whatever, without wanting to be easily off-topic in particular rooms ...

9214

[17:26](#msg59da5fb53cb340a261fd56ef)https://gitter.im/red/sandbox ?

greggirwin

[19:49](#msg59da814fb20c642429d9d1ee)Red/Help is the right place for that.

gltewalt

[22:50](#msg59daabd1e44c43700a0bf38b)

```
split-at-change: func [str [string!]][
    "Split a character string based on change of character"
    str: copy str
    forall str [str: if not-equal? str/1 str/2 [insert next str ", "]]
    str
    ;-- *** Runtime Error 1: access violation
    ;-- **  at: 00457D4Fh
]
```

## Monday 9th October, 2017

c-sanchez

[01:49](#msg59dad5bf614889d4758eca79)Hi folk

[01:50](#msg59dad5c8f7299e8f53c3713d)how I can make a menu bar without make an "layout" space in the window?

gltewalt

[03:03](#msg59dae700b20c642429db67d1)`now/time` doesn't wrap back around on 24hr clock.

```
>> now + 4:00:00
== 9-Oct-2017/1:02:49-06:00
>> now/time + 4:00:00
== 25:03:01
```

dockimbel

[03:27](#msg59daec9bbbbf9f1a383a2907)@gltewalt `time!` can also be used to express durations, so it's not limited to 24 hours. You can use a modulo `24:00` or extract the time from the date after the addition to get a normalized time value.

9214

[03:27](#msg59daec9fe44c43700a0ce43f)@c-sanchez I thought `view/tight` will do the trick, but it doesn't work as expected, perhaps you can change window's size manually

```
>> view/options [][menu: ["a" "b" "c"] size: 0x0]
```

[03:27](#msg59daecbe177fb9fe7e551592)@gltewalt

```
>> time? 1333:33:337
== true
```

gltewalt

[03:29](#msg59daed02b20c642429db8348)ok

c-sanchez

[03:51](#msg59daf25cbac826f0544f0d6b)oh Thanks @9214 ! thats is :D

## Tuesday 10th October, 2017

DVL333

[08:21](#msg59dc8314614889d47597105f)Hello everybody! Can you tell me how change the standart red-lang icon on top-left corner of the form to custom icon?

9214

[08:28](#msg59dc849c177fb9fe7e5d0c37)@DVL333 use `Icon: %path-to-ico-file` in Red header

[08:28](#msg59dc84b7f7299e8f53cbb4e9)dunno if it works outside Win

dockimbel

[08:32](#msg59dc85b401110b7231997ceb)@9214 Should work on macOS too (@qtxie right?)

qtxie

[08:34](#msg59dc860db20c642429e39b4e)Change icons only works on Windows.

pekr

[08:36](#msg59dc86a9e44c43700a14ff45)Did some quick testing of 0.6.4 branch (new gui console) - where can I post my findings? Here? GUI room? Privately coordinate with Qingtian?

DVL333

[09:19](#msg59dc90af01110b723199b7e1)@9214 sorry, i use '''Red \[Icon: icon.gif]  
view \[title "abc" size 200x200]''' and it doesn't work. Can you help me (I 'm a newby)?

9214

[09:20](#msg59dc90ccb20c642429e3d84d)@DVL333 use `.ico` file instead

[09:20](#msg59dc90fb3cb340a26107c03a)and filename should be prepended with `%`

[09:21](#msg59dc910601110b723199b9a5)here's an \[example](https://github.com/9214/daruma/blob/master/make.red#L4)

[09:24](#msg59dc91e63cb340a26107c64d)it will work only with compiled binaries though

DVL333

[09:34](#msg59dc9419210ac26920ca0b42)@9214 Thanks a lot! :)

9214

[09:35](#msg59dc9476210ac26920ca0d80)@DVL333 you're welcome

dockimbel

[10:51](#msg59dca626e44c43700a15a646)In case you missed it, we now have high-DPI support for Windows (especially Win10). Let us know if you get regressions or odd results.

Oldes

[11:52](#msg59dcb48db20c642429e4a1f9)Fields in color settings could be improved:

[11:52](#msg59dcb497b20c642429e4a226)\[!\[image.png](https://files.gitter.im/red/red/YYYL/thumb/image.png)](https://files.gitter.im/red/red/YYYL/image.png)

dockimbel

[11:54](#msg59dcb4d8f7299e8f53ccb04b)@Oldes Which better layout do you propose?

Oldes

[11:54](#msg59dcb505210ac26920cabd5f)I mean that the text in the fileds is not correctly vertically centered.

[11:55](#msg59dcb51d01110b72319a7d42)Maybe could be bigger... but it is just a detail.

dockimbel

[11:55](#msg59dcb53801110b72319a7d81)Right, we could have a look at that to see if we can better control the vertical position in native fields. Worth a ticket.

Oldes

[11:55](#msg59dcb54ebbbf9f1a3842fc29)also the height of the field coul be same like height of the color boxes as also the text "Buffer Lines" looks above.

[11:56](#msg59dcb58b614889d475981efd)the question is, if it is issue in not HiDPI screen:)

dockimbel

[11:57](#msg59dcb5aebac826f054581002)Right, that could be improved.

Oldes

[12:04](#msg59dcb748bac826f0545819f2)Could you please instead plaing with visual details take a look at this issue: https://github.com/red/red/issues/3067

[12:05](#msg59dcb771f7299e8f53ccc015)Without possibility to use routines the libRed is very limited.

dockimbel

[12:05](#msg59dcb7933cb340a26108930a)That ticket is on my todo-list for today.

Oldes

[12:05](#msg59dcb79dbac826f054581c0f)I just tried it with the latest sources and so the issue https://github.com/red/red/issues/3070 is not related.

[12:05](#msg59dcb7a7b20c642429e4b328)thanks.

dockimbel

[12:07](#msg59dcb7e4e44c43700a160715)@Oldes Did you try with the \[test.c](https://github.com/red/red/blob/master/tests/libRed/test.c) code?

Oldes

[12:07](#msg59dcb7fd614889d475982bca)not recently.

dockimbel

[12:11](#msg59dcb8f9bbbf9f1a384312aa)@Oldes `test.c` works fine, so does the `redRoutine()` call there.

Oldes

[12:12](#msg59dcb948bbbf9f1a3843152d)But I wanted to use libRed in C++ windows desktop app.

dockimbel

[12:13](#msg59dcb965e44c43700a1612d3)Which app?

Oldes

[12:13](#msg59dcb97eb20c642429e4bdf0)Just a simple VS project so far.

[12:14](#msg59dcb994e44c43700a1613b3)But I had the same problem using libRed from Red/System https://github.com/red/code/pull/68

[12:15](#msg59dcb9e1177fb9fe7e5e35ec)I can make the minimal VS project, if it helps.

dockimbel

[12:17](#msg59dcba3e01110b72319a9c2c)I can make one in VS.

[13:18](#msg59dcc88c210ac26920cb30c4)@Oldes Fix pushed. You were right to insist on this one, it was a nasty bug that was not showing up in the test.c code we use to check libRed's feature for regression. Please let me know if it's fixed for you too, so I can close the ticket.

Oldes

[14:00](#msg59dcd260b20c642429e55bae)Great... it is working now.

dockimbel

[15:02](#msg59dce11a614889d4759933f7):+1:

gltewalt

[18:19](#msg59dd0f2ae44c43700a182cf6)This seems to have all kinds of languages, but no redbol in sight. Should we push for Red ?  
http://exercism.io/languages

greggirwin

[18:24](#msg59dd10613cb340a2610aa0ad)@gltewalt, If you want to take the lead on that, to at least find out what's involved, that would be great. I don't see how to add a lang or exercises. As we're spread thin, we need to prioritize where to put our efforts. Always good to get things out there, especially if it's easy.

gltewalt

[18:26](#msg59dd10c101110b72319cb2f4)I'll look into it

greggirwin

[18:27](#msg59dd11163cb340a2610aa58f)Thanks!

gltewalt

[19:14](#msg59dd1c1dbac826f0545a7bd2)Looks like it is done through github. Also seems to be a fair amount of work since the idea is to have a maintainer for the language track, and one or more people capable of reviewing solutions.  
https://github.com/exercism/request-new-language-track

greggirwin

[19:32](#msg59dd2051210ac26920cd632a)It does seem a bit involved. Time may be better spent on RosettaCode right now. Simple to do, especially when you only have small amounts of free time at a stretch.

[19:32](#msg59dd205ef7299e8f53cf4bc2)Thanks for looking into it @gltewalt.

gltewalt

[20:14](#msg59dd2a43614889d4759af48f)Yeah, Red examples for all rosettacode tasks would probably be a better first step for visibility

## Wednesday 11st October, 2017

dockimbel

[03:09](#msg59dd8b69177fb9fe7e62b540)There is an easy to answer new ticket if someone wants to answer it: https://github.com/red/red/issues/3078

pekr

[07:30](#msg59ddc88abac826f0545da182)@qtxie trying a GUI console in terms of the 0.6.4 branch. Working with Gfx in terms of my photo studio, I have to say, that Windows has one long time problem - it can't scale between the two independent monitors with differect DPI. After many many years, it is going to be fixed in terms of this fall Creators upgrade. Surely not for old Windows (7, 8) imo. Practically, you have to log out/in or reboot, to get it fixed. So after connecting to FullHD 24" monitor at work, most apps adapt. Not so with apps like Total Commander, Outlook (MS app). Starting Red GUI console, the cursor blinks one line above the prompt line. Typing `what`, after the report ends, the cursor ends multiple lines above the last line printed ....

[07:30](#msg59ddc896b20c642429ea432e)I regard it being an edge case though ...

[07:31](#msg59ddc8b5177fb9fe7e63d490)"normal" console of 0.6.3 works correctly ...

[07:36](#msg59ddca12f7299e8f53d262d1)(just a note: when on notebook display only, I have fonts set to 125%, still on FullHD, that's why there is a problem imo)

mikeparr

[08:39](#msg59ddd8d8bbbf9f1a3848f206)@greggirwin You mentioned Red visibility. There is the Red wikipedia page, which has outdated links (I mentioned in the red/docs room). I'm happy to work on the page, but would need advice from an expert about what areas, references, to modify.

9214

[12:02](#msg59de0840b20c642429ebac53)@dockimbel answered #3078

toomasv

[17:16](#msg59de52013cb340a261111804)Proposal:

```
root: func [num [integer! float!] pow [integer! float!]][power num (1.0 / pow)]
factorial: function [int [integer!]][out: 1 repeat i int [out: out * i]]
```

greggirwin

[20:06](#msg59de79c6177fb9fe7e6808a0)@mikeparr, this week is crazy for me, but remind me next week and maybe I'll have a few moments to chat about it.

[20:08](#msg59de7a48210ac26920d48b4b)@toomasv, is your proposal to make those standard?

toomasv

[20:24](#msg59de7de03cb340a26112187e)@greggirwin Probably it has been discussed already, but it seems to me these (or something like this) are useful enough to include them in standard.

## Thursday 12nd October, 2017

kealist

[00:50](#msg59debc5801110b7231a56e45)

[00:51](#msg59debca3bbbf9f1a384dfc52)When I try to load it as a reference

[00:53](#msg59debd00210ac26920d5d361)Hmm nevermind, it seems I should be able to do that, but I guess just putting it in the directory is enough

qtxie

[03:36](#msg59dee333bbbf9f1a384e8876)@pekr Thanks. I'll test it with scaled font setting.

endo64

[08:29](#msg59df27e33cb340a261150fdc)@toomasv for your `factorial` function, we need to add `0! = 1` special case.

pekr

[08:42](#msg59df2af9177fb9fe7e6b4668)@qtxie surely not a priority, maybe just a wish - I just noticed, that you have added `ctrl + arrow` to skip words commit. What I always wished was support for `ctrl + shift + arrow`for selection. Working with keayboard heavily, this one would be handy - ability to hilite letters/words, cut &amp; paste ....

toomasv

[08:44](#msg59df2b78bbbf9f1a384fd37e)@endo64 Indeed, e.g.:

```
factorial: function [int [integer!]][
   either int < 0 [
      cause-error 'user 'message ["Factorial for negative numbers is undefined!"]
   ][
      out: 1 
      if int > 0 [repeat i int [out: out * i]] 
      out
   ]
]
```

:(

```
>> factorial 13
*** Math Error: math or number overflow
*** Where: *
*** Stack: factorial
```

dockimbel

[09:03](#msg59df2fddb20c642429f1b715)@toomasv I don't think `factorial` is useful to have until we get big numbers support.

[09:06](#msg59df3079f7299e8f53d9c564)For `root`, I would suggest having a native `nth-root` function rather.

qtxie

[09:24](#msg59df34e3bbbf9f1a38500641)@pekr Yes. I'm going to implement it. Will fix the DPI issue first. :smile:

pekr

[09:41](#msg59df38af01110b7231a7a237)cool! :-)

toomasv

[09:58](#msg59df3ce101110b7231a7b9e3)@dockimbel Understood.

Oldes

[12:01](#msg59df598e210ac26920d8b25d)@kealist libRed.dll works only with x86 targets so far. I hope we will get 64bit version next year.. don't expect it sooner:/

kealist

[14:58](#msg59df832fe44c43700a24e52a)@Oldes I won't. \[This is just what I was playing with so far](https://github.com/kealist/LibredCs) Haven't made a nuget package quite yet because of \[this bug](https://github.com/NuGet/Home/issues/4491)

sadajana

[16:07](#msg59df933a177fb9fe7e6db749)Hello, how to use red console behind firewall ?

9214

[16:07](#msg59df935f614889d475a7b090)@sadajana you mean network I/O functionality?

sadajana

[16:09](#msg59df939e177fb9fe7e6dba09)no, I want to access a website with read command it says timeout error

[16:09](#msg59df93b1b20c642429f40f3b)probably related to internet proxy setup

9214

[16:10](#msg59df93e7f7299e8f53dc0c8d)your \*no* and \*read command* contradict each other, since `read` is basic I/O function

[16:10](#msg59df93fcbac826f054675cc2)anyway, not sure if this is Red-related, try to configure your network setup

sadajana

[16:11](#msg59df9449bbbf9f1a38523b7e)sorry for not being explicit, any document related to network setup prior to working with RED language console

[16:11](#msg59df944a614889d475a7b728)?

[16:13](#msg59df949701110b7231a9c7ba)@9214 this is my error message FYI:  
&gt;&gt; read http://www.google.Fr  
\*\** Access Error: cannot connect: http://www.google.Fr reason: timeout  
\*\** Where: read  
\*\** Stack:

9214

[16:13](#msg59df949a614889d475a7ba7b)IIRC there're no specific instructions

sadajana

[16:14](#msg59df94d4bbbf9f1a38523eb3)OK thanks I'll search, I've attached my error message for your information

[16:14](#msg59df94eb177fb9fe7e6dc22d)I'm behind a corporate firewall

meijeru

[16:16](#msg59df956201110b7231a9cc39)Interestingly, I get this:

```
>> read http://www.google.fr
*** Access Error: invalid UTF-8 encoding: #{E9206E27}
*** Where: read
*** Stack:
```

9214

[16:16](#msg59df9579e44c43700a2554e9)@meijeru I believe it's an old google-specific problem, they use some obscure encoding or something

sadajana

[16:19](#msg59df95fae44c43700a255803)same error with an another website  
&gt;&gt; read https://github.com/red/red/network  
\*\** Access Error: cannot connect: https://github.com/red/red/network reason: timeout  
\*\** Where: read  
\*\** Stack:

9214

[16:20](#msg59df9653f7299e8f53dc1b72)@sadajana I get something similar when working under Wine

rebolek

[17:06](#msg59dfa10df7299e8f53dc5c56)@sadajana on what OS are you on?

## Friday 13th October, 2017

rgchris

[07:14](#msg59e067c0210ac26920de170e)@meijeru I get that too—can run it through my \[cleaner](https://github.com/rgchris/Scripts/blob/master/red/clean.red): `clean read/binary http://www.google.fr/`

lepinekong\_twitter

[07:35](#msg59e06cd7614889d475abe903)parse/all not recognized

[07:36](#msg59e06cfeb20c642429f82fbc)I want to use build-markup from rebol to red so I need parse/all

[07:36](#msg59e06d1ae44c43700a296a20)Red\[]  
build-markup: func [  
{Return markup text replacing &lt;%tags%&gt; with their evaluated results.}  
content \[string! file! url!]  
/quiet "Do not show errors in the output."  
/local out eval value  
][  
content: either string? content \[copy content] \[read content]  
out: make string! 126  
eval: func \[val /local tmp] [  
either error? set/any 'tmp try \[do val] [  
if not quiet [  
tmp: disarm :tmp  
append out reform \["\*\*\*ERROR" tmp/id "in:" val]  
]  
] [  
if not unset? get/any 'tmp \[append out :tmp]  
]  
]  
parse/all content [  
any [  
end break  
| "&lt;%" \[copy value to "%&gt;" 2 skip | copy value to end] (eval value)  
| copy value \[to "&lt;%" | to end] (append out value)  
]  
]  
out  
]

9214

[07:39](#msg59e06dcf3cb340a2611b93bc)@lepinekong\_twitter Red's `parse` is the same as `parse/all` in Rebol

[07:41](#msg59e06e26f7299e8f53e0400e)but this script won't work as is, because Red doesn't have `disarm`

[07:42](#msg59e06e7f01110b7231adfd7f)I guess you can replace it with `try`

lepinekong\_twitter

[07:52](#msg59e070b7bac826f0546b87e8)@9214 ok thanks, I'll try

[07:58](#msg59e07239bac826f0546b8f3b)@9214 it works fine :)

[08:03](#msg59e07360210ac26920de5360)I used build-markup all the time in rebol console.In red, is there a way I can automatically run my build-markup.red script ? I would be tired to do so each time I run red console ;)

9214

[08:04](#msg59e07393e44c43700a298a9e)@lepinekong\_twitter you mean to run automatically on each console startup?

lepinekong\_twitter

[08:14](#msg59e075fb01110b7231ae2a2f)@9214 yes each time I run console at startup and if possible before any script I would run.

9214

[08:16](#msg59e0765fbbbf9f1a3856887d)well, you can either get sources and patch console sources or come up with some wrapper

[08:16](#msg59e0766e3cb340a2611bc698)there's no `users.r` like functionality in Red

endo64

[08:28](#msg59e0794abac826f0546bb6a9)

```
>> factorial 13
*** Math Error: math or number overflow
*** Where: *
*** Stack: factorial
```

@toomasv making `out` `float` helps a little `factorial: function [int [integer!]][out: 1.0 repeat i int [out: out * i]]`  
`>> factorial 13 == 6227020800.0`

lepinekong\_twitter

[08:33](#msg59e07a5601110b7231ae3f37)@9214 currently I'm not competent enough to do that :(

toomasv

[08:57](#msg59e07fecbbbf9f1a3856ba8e)@endo64 Thanks!

dockimbel

[11:34](#msg59e0a4c7e44c43700a2a9d7f)Encapping mode support released for Red toolchain:  
\* Create standalone executables from Red script which will be run by the interpreter (rather than compiled to native code).  
\* Routines can be used as long as they are globally defined.  
\* `#system` (if it has no local effect) and `#system-global` directives are supported.  
\* `#include` is supported.  
\* Your Red code is converted to Redbin format and compressed.  
\* It's still experimental, though, should be good enough as-is.

9214

[11:35](#msg59e0a4ef177fb9fe7e731a60)@dockimbel :beetle: :bee: :bug: oh yeah

dockimbel

[11:35](#msg59e0a502f7299e8f53e16504)Use `-e` on command-line (in addition to `-c` or `-r`).

9214

[11:36](#msg59e0a527e44c43700a2a9fae)@dockimbel so now it's just `-e` instead of my \[crude workarounds](https://github.com/9214/rtool/blob/master/encap.red) + full-blown interpreted macros?

dockimbel

[11:36](#msg59e0a554bbbf9f1a38577e5e)The advantages of encapped mode are:  
\* 100% compatibility with code from from Red console. No issues from compiler's limitations.  
\* Faster executable generation times.

[11:37](#msg59e0a55fe44c43700a2aa110)@9214 Could be yes. I'll let you experiment with that. ;-)

9214

[11:37](#msg59e0a5723cb340a2611cc661)oh boy weekends gonna be fun

[11:37](#msg59e0a58701110b7231af27fd)thank you so much Doc :+1:

dockimbel

[11:37](#msg59e0a5965c40c1ba7996d13a)You're welcome. ;-)

refaktor\_twitter

[12:20](#msg59e0af9a210ac26920df90d0)I wasn't able to follow the red development in later few months (or contribute, sorry) ... is there any development on (serving) http being made maybe?

maximvl

[12:23](#msg59e0b048614889d475ad4a6a)hey guys

[12:23](#msg59e0b04ff7299e8f53e1a760)any news about the next release? :D

pekr

[12:37](#msg59e0b36e614889d475ad5bbb)Bear with the non-educated :-) So it means, that I can generate stand-alone app executable with the scripts built-in (encapped)? So no need for the Rebol/View here? Will I be able to do it from the Red GUI console, right?

[12:37](#msg59e0b386210ac26920dfa6fc)OTOH once I want to compile, I still need Rebol/View, as the compiler toolchain is written in Rebol?

Oldes

[13:06](#msg59e0ba3fbbbf9f1a3857f00c)You still need Rebol... at least in a form of Red.exe (which is still just a Rebol with encapped Red compiler)

pekr

[13:09](#msg59e0bb03bbbf9f1a3857f32e)I don't use red.exe, just View and `rc`function ....

Oldes

[13:22](#msg59e0be06bbbf9f1a3858064a)@qtxie would it be possible to change line height in red-console? In current version it looks too hight, at least on my HiDPI monitor.

[13:42](#msg59e0c2c2f7299e8f53e2103c)\[!\[image.png](https://files.gitter.im/red/red/zPpy/thumb/image.png)](https://files.gitter.im/red/red/zPpy/image.png)

[13:43](#msg59e0c2f0210ac26920e0005f)Above is for comparison red-console with current gui-console

endo64

[13:43](#msg59e0c31df7299e8f53e21264)@dockimbel and all this encap support with 30 lines of code! :O

Oldes

[13:47](#msg59e0c4003cb340a2611d79d9)@qtxie I take it back.. I just now noticed that there is used different font with different size.

qtxie

[14:08](#msg59e0c8c1e44c43700a2b7287)@Oldes Yes. It's a feature in text-box!, it's already implemented internally. Will expose it in Red level later.

Oldes

[14:09](#msg59e0c9083cb340a2611d9702)I wonder if you already have some proposition for \_plugins\_, when it is already in the menu:)

qtxie

[14:10](#msg59e0c957bbbf9f1a38585023)Nope. Just a menu now. ;-)

Oldes

[14:12](#msg59e0c9b9f7299e8f53e239be)I was already thinking, that it could be implemented in a form of shared libraries. At least for more advanced plugins which are not just a Red script.

[14:13](#msg59e0ca15b20c642429fa41af)It could be quite easy, but I decided not to do anything myself anymore... so will rather wait and do other things meanwhile.

[14:16](#msg59e0cacb3cb340a2611da0ea)@qtxie also I wonder if you are interested in submitting bugs on this unfinished work... like handling shift + arrows which now adds chars instead of moving cursor with select.

9214

[15:47](#msg59e0dff5bbbf9f1a3858df6d)@refaktor\_twitter you mean \[this](https://github.com/red/red/wiki/Guru-Meditations#how-to-make-http-requests)?

greggirwin

[18:29](#msg59e10606210ac26920e18bee):point\_up: \[October 13, 2017 5:34 AM](https://gitter.im/red/red?at=59e0a4c7e44c43700a2a9d7f) @dockimbel, Woohoo!!

[18:32](#msg59e106b8bbbf9f1a3859c111)@refaktor\_twitter, full I/O will come in 0.7.0, so no HTTP serving yet. The team has been focused on Android for the next release.

BeardPower

[21:01](#msg59e129b3210ac26920e25142)Hi,

As Red supports Syllable and Syllable is kind of abandoned, I wanted to ask if it will still be supported in the future or if there are plans to bring Red to BeOS/Haiku-OS.  
Or is there some plan creating a Red-OS in the long term (~2030) :)

qtxie

[22:27](#msg59e13dd35c40c1ba799a48be)@Oldes Yes. please tell me in gitter. No need to open a ticket on github.

## Saturday 14th October, 2017

dockimbel

[02:12](#msg59e1727cbbbf9f1a385bc09e)@BeardPower We haven't tested Red on Syllable in years, and no new Syllable releases, so we won't spend time on supporting it anymore. For HaikuOS, we would already be supporting it if the OS API was not hostile to non-C-based languages (Haiku's OS API is only in C++). Red/OS, yes, but we'll see that after Red 2.0. ;-)

lepinekong\_twitter

[03:39](#msg59e186e9bbbf9f1a385c1495)Weird error when executing https://gist.github.com/dockimbel/b0a413342dc39568696207412a2ef5e7

[03:39](#msg59e186fee44c43700a2f08e6)Syntax Error: invalid character in: " 0"

dockimbel

[05:10](#msg59e19c3c177fb9fe7e78048c)@lepinekong\_twitter Fixed. A change in `to word!` conversion rules now precludes from using some characters like `#" "`.

lepinekong\_twitter

[05:54](#msg59e1a6a7210ac26920e44199)@dockimbel thanks :)

maximvl

[07:53](#msg59e1c273b20c642429fecbe0)@dockimbel talking about OS, Redux seems to be a good platform to expand to

[07:53](#msg59e1c28f614889d475b2725d)they have microkernel and everything is written in type/safety checked Rust

[07:54](#msg59e1c2c5bbbf9f1a385cf30b)and in the same time writing complex user-space apps with it is not productive

[07:55](#msg59e1c2efb20c642429fece36)so fast, dynamic language with rich gui features should be a thing

dockimbel

[08:57](#msg59e1d16501110b7231b4c4ef)@maximvl  
&gt; everything is written in type/safety checked Rust

An OS kernel has necessarily a lot of unsafe parts, regardless of the language used to code it. You should have a deeper look.

maximvl

[08:57](#msg59e1d181177fb9fe7e78d831)@dockimbel they do have a lowest-level unsafe part, but it's ~ 1% of code

dockimbel

[08:58](#msg59e1d1acf7299e8f53e7070b)How much of the drivers also have unsafe code?

maximvl

[08:58](#msg59e1d1b35c40c1ba799c72b5)it's still a huge improvement to know that only few hundreds lines are not formally verified instead of millions ;)

[08:58](#msg59e1d1bdb20c642429ff1032)@dockimbel none

[08:58](#msg59e1d1ce614889d475b2b355)drivers are in user space and only use API which is safe as well

[08:59](#msg59e1d1ff5c40c1ba799c73ed)&gt;A quick grep gives us some stats: the kernel has about 70 invocations of unsafe in about 4500 lines of code overall.

[08:59](#msg59e1d20601110b7231b4c7eb)https://doc.redox-os.org/book/introduction/unsafes.html

dockimbel

[08:59](#msg59e1d20d01110b7231b4c7f7)User-space drivers means performance penalty.

[09:00](#msg59e1d23c210ac26920e4ec47)@maximvl A Rust `unsafe` directive can span over multiple lines. Just counting the `unsafe` occurences and comparing that to the number of LOC is meaningless.

maximvl

[09:01](#msg59e1d264e44c43700a301d64)the `drivers` section in the book is unfinished unfortunately

dockimbel

[09:02](#msg59e1d2a2177fb9fe7e78ddbb)@maximvl You know that Rust has also shortcomings? Like silently ignoring division by zero on integers.

maximvl

[09:02](#msg59e1d2bfb20c642429ff1501)I'm not a specialist in questions of performance, but I think the trade-off between performance &amp; guaranteed stability does worth it

[09:03](#msg59e1d2d1bbbf9f1a385d3669)of course it has to be usable, which seems to be the case

dockimbel

[09:05](#msg59e1d33fb20c642429ff1747)"Guaranteed stability" is pretty limited in practice. The only Rust app I have on my machine is the Ethereum Parity client, advertised as ultra-robust "because written in Rust". Guess what, it crashed badly after a few hours of synching the Eth blockchain. ;-)

[09:06](#msg59e1d3a701110b7231b4d003)@maximvl For an OS/kernel to be relevant for the masses, besides hobbyists and researchers, it needs to have a huge amount of drivers for modern hardware. That's not a reachable goal anymore, unless you limit it to a given set of hardware parts only.

maximvl

[09:07](#msg59e1d3eb5c40c1ba799c7ac1)hm, well, you understand that one example is not a whole thing, if Rust wouldn't provide features it claims - why would anybody use it?

[09:09](#msg59e1d44abbbf9f1a385d3d95)I think drivers don't just appear at one time, it's all together with community growth, new usages and popularity

[09:10](#msg59e1d47201110b7231b4d28b)the fact that it has graphical interface and can run (on limited, but still) real hardware is already a big achievemnt

dockimbel

[09:10](#msg59e1d4775c40c1ba799c7d71)Rust provides a true improvement over existing system programming languages (at the expense of some higher complexity for the user). Though, it is still far from a breakthrough that would suddenly make any software written in it ultra-robust. Some software would benefit more from Rust, some won't much.

[09:10](#msg59e1d4a2bbbf9f1a385d3f13)For the drivers, it's not a matter of time, it's just not reachable. See Linux, after 30 years, it's still lagging behing Windows in that area. I'm not even talking about undocumented hardware, where the vendor decides which OS to support.

maximvl

[09:12](#msg59e1d5183cb340a261226d05)well, linux is also used on ~1% of desktops so there is little interest in porting the drivers which stops linux from growing

[09:13](#msg59e1d51e210ac26920e4f627)so it's all together :)

dockimbel

[09:14](#msg59e1d56401110b7231b4d557)Precisely, the main issue for a new general-purpose OS is the drivers availability. BeOS tried and failed despite having a way superior OS than all the competitors at that time. Drivers are the biggest, costliest and most complex part of building a new OS.

maximvl

[09:15](#msg59e1d5a6f7299e8f53e717bd)but it doesn't mean people shouldn't do it, right?

[09:16](#msg59e1d5da614889d475b2c822)I mean, they are doing what they are interested in (Redox guys) and I think for us it's not that hard to port Red

dockimbel

[09:16](#msg59e1d5e1e44c43700a302bc9)People are free to do whatever they want with their time. Though, you need to keep in mind what is doable and what is not.

[09:17](#msg59e1d60c5c40c1ba799c8447)@maximvl The question would be then: why should we port Red on it? What benefit do we get from that? Don't you think that using a tiny Linux kernel and booting into a Red environment would be a much better use of our resources, and open real new possibilities?

maximvl

[09:18](#msg59e1d64d210ac26920e4fb56)so all existing software doesn't work there, this means they are writing things from scratch

[09:18](#msg59e1d657b20c642429ff24ed)players, viewers, editors etc

dockimbel

[09:18](#msg59e1d676e44c43700a302d52)As usual for projects building a new OS, unless they base it on a Linux kernel.

maximvl

[09:18](#msg59e1d67cf7299e8f53e71a0d)having a higher level language than Rust may be useful for them and help us because the code is cross-platform, right?

[09:20](#msg59e1d6da177fb9fe7e78f1b8)afaik out of all brand-new OSes Redox has biggest community

dockimbel

[09:21](#msg59e1d7223cb340a261227564)&gt; help us because the code is cross-platform

I don't get what you mean there. Which "code"?

maximvl

[09:21](#msg59e1d735177fb9fe7e78f2ce)like the new software they are writing

dockimbel

[09:24](#msg59e1d7b7614889d475b2d219)Ah ok, user apps. Are they using Rust also to write user apps?

maximvl

[09:24](#msg59e1d7cf3cb340a2612278c9)yes, I should be more clear :)

[09:24](#msg59e1d7dab20c642429ff2b8d)yup

dockimbel

[09:25](#msg59e1d7fd01110b7231b4dfe5)So, after all those years, people are still thinking that using a system programming language is a good idea for writing user GUI apps...?

maximvl

[09:26](#msg59e1d838e44c43700a303474)I think it's more like they know Rust and it proved itself as a language for OS kernel so they have all the libs and infrastructure and just keep using it

dockimbel

[09:26](#msg59e1d8513cb340a261227a01)When you only have a hammer... ;-)

maximvl

[09:27](#msg59e1d8685c40c1ba799c8df7)pretty much, yes, writing a simple gui app like a calculator is a nightmare in this case

[09:27](#msg59e1d86f01110b7231b4e163)while it's super easy in Red

[09:30](#msg59e1d91af7299e8f53e7263b)I think both will benefit from a port, but of course we are talking about small amounts of people

dockimbel

[09:30](#msg59e1d947210ac26920e507c7)@maximvl Do you know what is the executable format used by Redox and the user-space ABI for apps? Those are the first things to look for when looking at porting Red on a new OS.

maximvl

[09:31](#msg59e1d9783cb340a261227f43)&gt;In Redox compiled binaries use the standard ELF ("Executable and Linkable Format") format.

[09:33](#msg59e1d9da01110b7231b4e6f5)though they say dynamic linking is not implemented yet

dockimbel

[09:34](#msg59e1da2c614889d475b2dc11)@maximvl What about the GUI framework, do they provide one?

maximvl

[09:41](#msg59e1dbbfb20c642429ff39c9)they have Orbital window system, here is a code for a window object, they can do drawings, resizes and other things:  
https://github.com/redox-os/orbital/blob/master/src/window.rs

dockimbel

[09:42](#msg59e1dbeee44c43700a304854)Is the Orbital public API documented?

maximvl

[09:42](#msg59e1dc10bbbf9f1a385d5d95)doesn't look like it =(

dockimbel

[09:44](#msg59e1dc65f7299e8f53e73c59):see\_no\_evil:

9214

[09:45](#msg59e1dca601110b7231b4f364):hear\_no\_evil:

maximvl

[10:49](#msg59e1ebc9177fb9fe7e794861)check this out:

```
>> typed [x: 5 y: "test" x: 10]
== make hash! [x integer! y string!]
>> typed [x: 5 y: "test" x: "a"]
*** Throw Error: no catch for throw: {type `integer!` of `x` is incompatible with `string!` at  `x: "a"`}
*** Where: throw
*** Stack:
>> typed [x: 5 z: x y: "test" z: y]
*** Throw Error: no catch for throw: {type `integer!` of `z` is incompatible with `string!` at  `z: y`}
*** Where: throw
*** Stack:
```

[10:49](#msg59e1ebcabbbf9f1a385d9d47):D

dockimbel

[12:00](#msg59e1fc50210ac26920e5952f)@maximvl You should use `cause-error` rather than `throw`. As you can see, a "typed" dialect would seriously reduce the possible semantics for the language. ;-)

maximvl

[12:01](#msg59e1fc99f7299e8f53e7b7f9)it depends how strict we want it to be

[12:01](#msg59e1fcaebbbf9f1a385ddeb2)but overall trading flexibility for proven code makes sense

dockimbel

[12:02](#msg59e1fcc8210ac26920e59762)Just making it statically analyzable would already significantly reduce possible semantics.

maximvl

[12:04](#msg59e1fd30210ac26920e598a5)that's why it's a dialect, I want to integrate it with Red flawlessly so you decide where you want checks and where you need flexibility ;)

dockimbel

[12:04](#msg59e1fd58614889d475b365d6)The "checks" are only limited to types, right?

maximvl

[12:05](#msg59e1fd74b20c642429ffc3a9)types and undefined variables

[12:05](#msg59e1fd93e44c43700a30c98d)pretty much things you get in regular `static` languges

BeardPower

[12:05](#msg59e1fd9e01110b7231b578a7)@dockimbel  
Thanks for the info!  
It's really unfortunate, as I really like Haiku because of it's integrated UI and very good API design.

So there's plenty of time for me to become a Red wizard (hopefully) in the mean time. I'm really excited. :+1:

maximvl

[12:06](#msg59e1fdb2e44c43700a30c9e4)@dockimbel but do you have something else in mind?

dockimbel

[12:07](#msg59e1fdfdf7299e8f53e7bd6f)@maximvl Nope, not for now.

maximvl

[12:07](#msg59e1fe1c32e080696edc7839)I mean it's just an implementation, it can go as far as it's possible in the lambda-cube

[12:10](#msg59e1fea401110b7231b57d9f)it can be mixed with immutable datastructures to form a proper functional language

dockimbel

[12:10](#msg59e1fea632e080696edc7a4c)@BeardPower  
&gt; very good API design.

It would have been way better if it was just a C and not a C++ API.

[12:10](#msg59e1fecce44c43700a30cf0e)@maximvl In such case, you are aware that your dialect wouldn't have much in common with Redbol anymore?

maximvl

[12:11](#msg59e1fef0e44c43700a30cf9c)well, does `draw` or `parse` have much in common with Red? :)

[12:11](#msg59e1ff045c40c1ba799d2855)it's the same, you use it when you need it for a specific task

dockimbel

[12:12](#msg59e1ff2ae44c43700a30d053)@maximvl They are domain-specific, not general-purpose like Red.

maximvl

[12:13](#msg59e1ff5a177fb9fe7e799199)it goes back to the definition of DSL we talked about

9214

[12:14](#msg59e1ffa6f7299e8f53e7c437)@BeardPower red wizards are dangerous  
\[!\[images.duckduckgo.com.jpeg](https://files.gitter.im/red/red/sOMf/thumb/images.duckduckgo.com.jpg)](https://files.gitter.im/red/red/sOMf/images.duckduckgo.com.jpeg)

maximvl

[12:15](#msg59e1ffd6f7299e8f53e7c51a)pretty much when you say "I want something to be done differently than in Red" you have a DSL

9214

[12:15](#msg59e1fff2e44c43700a30d380)@maximvl ... or any other general purpose language

maximvl

[12:15](#msg59e1fff3b20c642429ffcfe0)in this case types handling is done differently

BeardPower

[12:17](#msg59e2003f614889d475b373a2)@dockimbel  
&gt; It would have been way better if it was just a C and not a C++ API.

In which regards, besides the hostile environment, which you mentioned?

dockimbel

[12:17](#msg59e2006d614889d475b374ad)Anyway, I'm interested in your experiment, as I have a "static Red" in mind too. I am wondering how close to Red it could be, and so far, I'm still unsure. What you propose though, is a pure functional language, so just sharing Red's syntax, but little to none of the semantics.

BeardPower

[12:20](#msg59e2012b32e080696edc83f3)@9214  
If only I'd have known! ;)

dockimbel

[12:21](#msg59e20140b20c642429ffd5af)@9214 Hmm, I should not leave pictures of me on bad days online... ;-)

9214

[12:22](#msg59e20181b20c642429ffd6ec) @dockimbel should I call you \[Nenadon](http://villains.wikia.com/wiki/Ommadon)? :name\_badge:

maximvl

[12:23](#msg59e201a532e080696edc8605)@dockimbel but what exactly do you mean by semantics?

[12:24](#msg59e2020af7299e8f53e7d05d)actually yesterday I talked to a guy who is into type systems and CL and he told that in CL he implemented a macro which type checked with inference the code inside, then called a compiler to compile this piece of code considered safe with maximum optimizations

dockimbel

[12:24](#msg59e20210614889d475b37c56)@9214 "Ommadon \[...] vows to dominate humanity by infesting humans with greed," Me, precisely. :-)

maximvl

[12:25](#msg59e20237614889d475b37cea)once we can have access to the compiler in compile time we can do similar things

9214

[12:26](#msg59e2025b5c40c1ba799d35d3)leadership skills - check

maximvl

[12:26](#msg59e202665c40c1ba799d3600)can be a big thing for optimizations

dockimbel

[12:28](#msg59e202dd177fb9fe7e799fa4)@maximvl "semantics" means the evaluation/execution rules of the language. Macros are compiler's extensions anyway, so it's natural to use them for extending it.

maximvl

[12:28](#msg59e2030932e080696edc8af2)so yeah, `parse` and others have different semantics as well, for example `if` works differently

9214

[12:29](#msg59e2032b210ac26920e5af15)but the have lots in common with host language

dockimbel

[12:29](#msg59e2033fe44c43700a30e26f)They do, because they are domain-specific, they are designed to best serve the needs of a domain (contrasting that with a general-purpose language). `if` is not a dialect, it's part of the Red language. `parse` as a Red function, is part of the Red language, though it's also the entry point for evaluating a dialect of Red with its own grammar and semantics (just sharing the literal forms with Red).

maximvl

[12:30](#msg59e20371210ac26920e5b013)@9214 well, it's not possible to define `lots in common` so why talk about it :)

9214

[12:31](#msg59e203bcb20c642429ffe153)I mean, you can mix pure Red and its dialect, while your typed dialect seems like a world of its own, incompatible with "outside" world

[12:33](#msg59e2041bbbbf9f1a385dfb62)I feel like dialect usually \*enhances* user's ability to solve problem at hand, while static typing \*restricts* him in some way

maximvl

[13:01](#msg59e20a8c210ac26920e5ce94)

```
> do %typed.red
bash: syntax error near unexpected token `do'
```

[13:01](#msg59e20a8e32e080696edcab97):D

[13:01](#msg59e20ab1e44c43700a310023)I need `redsh`

9214

[13:05](#msg59e20bb15c40c1ba799d63d6)@maximvl I thought about "sometime I'll make my own shell in Red or R/S" and settled down with`shred`

maximvl

[13:08](#msg59e20c3e614889d475b3a7fb)there is `shred` in unix coreutils already :)

9214

[13:08](#msg59e20c47614889d475b3a816)dang!

[13:08](#msg59e20c5401110b7231b5b673)`shreder`?

maximvl

[13:08](#msg59e20c59210ac26920e5d772)yup

BeardPower

[13:58](#msg59e217fab20c642429003f1d)I would appreciate any input on this:  
Task: plugin system for drawing app (loading plugins at runtime)

The drawing app comes with basic drawing shapes like a circle and a rectangle.  
The app has some plug-in system/API, which allows a user to implement drawing support for a triangle, a star etc. without having access to the main app source code or the need of recompiling the main app.

What is a good approach in Red for this? As code is data and data is code, I imagine there is nothing needed like a Qt plugin system or similar.

Thanks for any advice!

maximvl

[14:00](#msg59e21868177fb9fe7e7a058f)you can just make a `shape` object and user can extend it's copies in his own code

BeardPower

[14:00](#msg59e21889614889d475b3dc37)Like the different faces?

maximvl

[14:00](#msg59e2188cb20c64242900416e)and API like `shapes-collection/add new-shape`

9214

[14:01](#msg59e218a3b20c64242900425c)I'd described drawing primitives in some dialect, say `circle: [some low level drawing description]`, then organized such primitives in a table, and simply put new definitions of primitives in this table

maximvl

[14:01](#msg59e218bb5c40c1ba799d9dbe)just an object: `shape: object [ draw: does [throw "redefine me" ] ]`

[14:01](#msg59e218d701110b7231b5ef0e)and then user does: `circle: make shape [ draw: func ...]`

9214

[14:02](#msg59e218dc614889d475b3dd81)though in Red `low level description` could be a valid block of `draw` dialect

BeardPower

[14:04](#msg59e2196a5c40c1ba799da043)I assume, that the app would then just load in the Red script for the triangle? Or could it load the triangle code as Redbin?

[14:05](#msg59e219b6210ac26920e613de)E.g. load all scripts/Redbin files in the plugin-folder and populate the drawing tool table.

9214

[14:06](#msg59e219d032e080696edcf270)I believe it can load Red script with definition of triangle, not sure about Redbin format, IIRC @dockimbel planned its support for `load`ing `parse`ing and `read`ing.

BeardPower

[14:10](#msg59e21aef01110b7231b5f833)I read about Redbin, that it's a binary representation of the values in memory. Is it also possible to compile a triangle plugin to native code and load it as a plugin (like a dll, but without all the dll hassles) and the main app is able to use it?

[14:12](#msg59e21b5132e080696edcf915)As some kind of "source code protection"/make RE a little harder.

maximvl

[14:12](#msg59e21b5401110b7231b5fa3d)I think somebody posted `paint` with plugins here

9214

[14:12](#msg59e21b57b20c642429004f66)I'm not qualified enough to answer such questions :smile:, let's hear our gurus first

[14:12](#msg59e21b5dbbbf9f1a385e6492)@maximvl yeah, @honix did

[14:13](#msg59e21b7232e080696edcf998)https://github.com/honix/Redraw

maximvl

[14:13](#msg59e21b79177fb9fe7e7a1381)@9214 yeah, thanks

[14:13](#msg59e21ba45c40c1ba799dacb6)@BeardPower look at how he did it ^

[14:14](#msg59e21bcd177fb9fe7e7a1513)the brushes are implemented as plugins each in a separate file

BeardPower

[14:14](#msg59e21bdab20c642429005292)Thanks! Yeah, I remember seeing this :)  
I just checked. He implemented it like the approach I had in mind: loading in Red scripts in a plugin folder :)

[14:16](#msg59e21c36f7299e8f53e844c5)Very nice. Great! Thank you guys! This is all so easy with Red, compared to Qt plugins or any other C/C++ plugin system.

I'm waiting for the guru's thoughts regarding Redbin/dll-like stuff.

## Sunday 15th October, 2017

geekyi

[06:28](#msg59e300095c40c1ba79a13454)@dsgeyser was it you who mentioned to me about \[libversor](https://github.com/wolftype/versor) ?

timeyyy

[10:35](#msg59e339f432e080696ee15b4f)Is there a story for web UI development in red/rebol?

rebolek

[11:27](#msg59e34616614889d475b88cb9)@timeyyy you may take a look at http://lest.qyz.cz/

timeyyy

[11:36](#msg59e3483eb20c64242904ea73)Thanks

## Monday 16th October, 2017

DVL333

[00:06](#msg59e3f804bbbf9f1a3865f497)Need for help.  
I've written my first Red program. I decided to rewrite standart \[Draw Image Resizing Test](https://github.com/red/code/blob/master/Scripts/resize-image.red) in my way. And I found out some strange effects that I can't explain. Moreover, the program doesn't work properly.  
My program is here: \[Draw Image Resizing Test](https://github.com/DVL333/Experiments/blob/master/MyResizeImage.red)  
Questions:  
1\) In function "mouse-up" (string №32) I can't just write `selected: [false false]` - it does't show mistake, but if `selected/1` = "true", it doesn't change its value on "false". So I have to assign that values separately. It seems to be incorrect.  
2\) In function "mouse-over" (string №37) I can't just write `if selected/1 [tl: event/offset]`- it will work in any way, either `selected/1` = "true" or "false". So I have to write `if selected/1 = true [tl: event/offset]`. It's also very strange.  
3\) And the main! My program doesn't work properly - I'm changing key params, but the image just doesn't redraw. Why the Realtime Updating doesn't work? According to the Red Help, it must work by default. What to do to make the image redraw?  
PS I desided to write in this room because I suppose that some effects above are mistakes in the red-lang.

Oldes

[05:46](#msg59e447b8b20c6424290919ec)I'm on mobile so just shortly... in above code you must use `selected: reduce [false false]` if you want values inside the block to be of type `logic!` instead of `word!`which is cause of your othet problems.

[05:48](#msg59e4483bbbbf9f1a38672363)Or if you don't want to use reduce.. you may use serialized value like `#[false]`

9214

[06:28](#msg59e4519232e080696ee5ffd5)usually the cause of mistakes is a thin layer between the chair and computer screen ;)

DVL333

[06:34](#msg59e4530be44c43700a3a7ee0)@9214 ok. I just asked help - it my first red program. @Oldes showed me one mistake or even two. Thanks! How about 3-rd problem? (and I still think that it's unusual that red can't recognize "true" and "false" as logic words)

gltewalt

[07:59](#msg59e466fe210ac26920efaee3)Words in a block are just data. Lifeless symbols until evaluated.

[08:04](#msg59e46826bbbf9f1a3867cb4a)

```
>> block: [false true true none 7 2 + 2]
== [false true true none 7 2 + 2]
>> foreach i block [print ["Is" i "a logic value? " logic? i]]
Is false a logic value?  false
Is true a logic value?  false
Is true a logic value?  false
Is none a logic value?  false
Is 7 a logic value?  false
Is 2 a logic value?  false
Is + a logic value?  false
Is 2 a logic value?  false
```

[08:06](#msg59e4686b01110b7231bf8afe)Forced to evaluate with `reduce`

```
>> foreach i reduce block [print ["Is" i "a logic value? " logic? i]]
Is false a logic value?  true
Is true a logic value?  true
Is true a logic value?  true
Is none a logic value?  false
Is 7 a logic value?  false
Is 4 a logic value?  false
```

pekr

[08:08](#msg59e468fde44c43700a3af95c)After the report of `parse`being quite slow, I did my own very primitive test. Just wanted to see the engine skip in a loop via a quite long string:

```
Red []

data: read http://www.red-lang.org

buffer: copy ""
start: now/time/precise
repeat n 1000 [append buffer data]
print ["Length of data:" length? buffer newline "Time of append:" now/time/precise - start]

start: now/time/precise
parse buffer [some [skip]]
print ["Time of parse: " now/time/precise - start]
```

Red:

```
Length of data: 208204000 
Time of append: 0:00:00.219
Time of parse:  0:00:34.613
```

Red compiled:

```
Length of data: 208204000
Time of append: 0:00:00.234
Time of parse:  0:00:36.66
```

R2:

```
Length of data: 208229000
Time of append: 0:00:00.25
Time of parse:  0:00:06.391
```

Conclusion - not sure my test is a valid real life scenario. Red did quite well with non-preallocated `append`operation. But as far as `parse`goes, is really slower than R2. Surprised a bit by the compiled version not showing better results, but then I can't envision those low level stuff, so maybe it was not supposed to be any faster with the above code ...

DVL333

[08:17](#msg59e46b11177fb9fe7e83dfc4)@gltewalt Yes, I have already understood, that words in a block are recognised as data. It was strange for me, and I wouldn't figure out it without help of community, but the main problem is that Realtime Updating doesn't work. I have an picture, change its data and the picture don't redraw. So my program just don't work. :(

Oldes

[08:18](#msg59e46b5d32e080696ee68ffc)You are calling just one function which is already compiled as a part of the console so there is no reason to see some difference between compiled or not compiled version... i suspect the missing gc for the slower speed. But it is just my guess.

[08:19](#msg59e46bafb20c64242909df94)@DVL333 I'm not view expert but I think there must be some option to be turned on for life updates

[08:20](#msg59e46bcc177fb9fe7e83e4cb)Still on mobile so limited.

pekr

[08:21](#msg59e46beee44c43700a3b0c83)Oldes, yes, actually you are right about `parse`being just a single call to what is already compiled ...

[08:21](#msg59e46bfff7299e8f53f1d3e3)As for `View`, it uses live updating by default, no?

gltewalt

[08:22](#msg59e46c3b01110b7231bfa2ab)https://doc.red-lang.org/en/view.html#\_realtime\_vs\_deferred\_updating\_a\_id\_realtime\_vs\_deferred\_updating\_a

pekr

[08:22](#msg59e46c4a5c40c1ba79a75a3d)Yes, that's it, just wanted to paste it :-)

[08:23](#msg59e46c9f177fb9fe7e83e839)@Oldes I hope there is still hope for an improvements, in terms of `parse`. We all know, that Red is not yet optimised ...

DVL333

[08:30](#msg59e46e3d32e080696ee69f4e)@gltewalt Yes, I saw that and according that I expected, that Realtime Updating will be by default. But even it doesn't work, how can I update a View for my program by hand? I tried to use `show`command but it didn't give effect.

pekr

[08:34](#msg59e46f31bbbf9f1a3867f459)Could you post your code?

[08:35](#msg59e46f47f7299e8f53f1e669)Maybe let's move to the GUI channel here?

9214

[08:35](#msg59e46f4f01110b7231bfb24d)these two yellow circles - are they draggable at all?

[08:36](#msg59e46fa0b20c64242909f4cb)on a first sight it seems that you just changing some fields in a `pic` object

DVL333

[08:40](#msg59e4706901110b7231bfb875)@9214 Yes, they are must be draggable, but they aren't. And yes, I am changing some fields. But in Original Test, that i'm rewriting, it is the same.  
@pekr I gave a link on my code above. But may be you are right about moving to GUI channel - I didn't know about it before. Sorry. :(

9214

[08:42](#msg59e470f4e44c43700a3b26ce)@DVL333 can you also post original script?

DVL333

[08:44](#msg59e47150e44c43700a3b2921)@9214 I have posted it above.  
One more time: \[Draw Image Resizing Test](https://github.com/red/code/blob/master/Scripts/resize-image.red)

pekr

[10:36](#msg59e48bc0614889d475be570f)@qtxie Playing with the new console. Nice work re text selection by keyboard :-) Now the only thing missing might be Home/End keys to move to the beginning/end of the edit line ....

[10:38](#msg59e48c1f5c40c1ba79a80d1b)The worse news is the speed of the text output :-( Printing 1'000 numbers in red gui console, took cca 17 sec, whereas in the native one, it was just 0,05 sec.

[10:38](#msg59e48c36bbbf9f1a38688c3c)Native console prints 1'000'000 in 37 sec.

[10:41](#msg59e48ce2210ac26920f08310)What I usually do is test by submitting a `what`... that's what lead me to the above test, as the output was noticably scrolling ...

qtxie

[10:48](#msg59e48e725c40c1ba79a8195a)The new gui console is refreshed each line it's printing. While the old gui console just print the final result.

pekr

[10:48](#msg59e48e95bbbf9f1a3868993b)Ah, now that makes for an explanation :-)

9214

[10:49](#msg59e48ea432e080696ee74c23)@DVL333 here, crudely hacked this for you

```
Red [
	Title:   "Draw Image Resizing Test"
	File:	 %MyResizeImage.red
	Needs:   View
]

distance: func [pos [pair!]][square-root add pos/x ** 2 pos/y ** 2]

pic: make object! [
	img: load https://pbs.twimg.com/profile_images/501701094032941056/R-a4YJ5K.png
	tl: 20x20
	br: 280X280
	gr_sz: 5
	selected: reduce [false false]

	draw_obj: compose/deep [
		hanoi: [image img (tl) (br)]
		fill-pen yellow
		l-grip: [circle (tl) (gr_sz)]
		r-grip: [circle (br) (gr_sz)]
	]

	mouse-down: [
		if (distance (tl - event/offset)) <= gr_sz [
			selected/1: true
		]
		if (distance br - event/offset) <= gr_sz [
			selected/2: true
		]
	]

	mouse-up: [
		selected/1: false
		selected/2: false
	]

	mouse-over: [
		if selected/1 = true [tl: draw_obj/l-grip/2: event/offset]
		if selected/2 = true [br: draw_obj/r-grip/2: event/offset]
		
		draw_obj/hanoi/3: draw_obj/l-grip/2
		draw_obj/hanoi/4: draw_obj/r-grip/2
	]
]

main-window: [
	title "Draw Image Resizing Test"
	backdrop water
	text bold font-color white "Red resize image test"
	text bold font-color yellow "Drag the grab handles"
	return
	canv: base 300x300 black all-over draw pic/draw_obj
		on-down :pic/mouse-down
		on-up   :pic/mouse-up
		on-over :pic/mouse-over
]

view main-window
```

pekr

[10:50](#msg59e48eef5c40c1ba79a81cf4)@qtxie with my Parse test few hours ago, I noticed, that I did not get line printed when I expected it, it was printed once the script ended. That makes even more sense now ...

9214

[10:51](#msg59e48f35210ac26920f08de2)reactivity is badly needed here

dockimbel

[10:52](#msg59e48f6601110b7231c05619)Why the extra verbosity in `if selected/1 = true`?

9214

[10:54](#msg59e48fdc5c40c1ba79a821d3)@dockimbel remained because `false` and `true` inside `selected` are `word!`s, not `logic!`

[10:54](#msg59e48febbbbf9f1a38689f69)I forgot that I put `reduce` there :D

DVL333

[10:54](#msg59e48fef01110b7231c0584d)@9214 Thanks! But ... it's a real crude hack. :)  
@dockimbel I did't know, that data in blocks - words, not logic. Sorry. :)

9214

[10:55](#msg59e4902de44c43700a3bcfe3)@DVL333 the thing is that you haven't updated original `draw_obj` block at all

DVL333

[11:00](#msg59e49131e44c43700a3bd49e)@9214 Khm, that is rather tricky for beginers. :/ I thought it would update automatically... Ok, thanks again!

9214

[11:00](#msg59e49161bbbf9f1a3868a6c4)@DVL333 it won't, as `compose/deep` evaluated only once at `pic` creation

[11:01](#msg59e49174614889d475be78ad)and none of the fields are reactive sources

DVL333

[11:09](#msg59e49372614889d475be81d1)@9214 What do you think, is it posible to update whole `compose` block by one command? I think it will be more beautiful solution.

9214

[11:26](#msg59e49783f7299e8f53f2ba22)@DVL333 I guess you can wrap it up in `does` and call each time you want to update your picture

DVL333

[11:27](#msg59e497a5e44c43700a3bfdd8)ok, i will try. :)

9214

[11:38](#msg59e49a285c40c1ba79a86099)I would rather create 2 separate grips with reactive relations between their coordinates and coordinates of top-left and bottom-right corners of an image

[15:27](#msg59e4cfef177fb9fe7e8630e3)@DVL333 here's my sketch, grip positions are messed up, but it works; can't debug it now at home though (using Wine)

```
pic: load %hanoi.png
view [
	title "resize image test"
	backdrop water	

	style grip: base 30x30 loose transparent draw [fill-pen yellow circle 15x15 10]

	canvas: base black 400x400 draw [image pic 50x50 350x350] react [
		canvas/draw/3: left/offset
		canvas/draw/4: right/offset
	]

	at canvas/draw/3 left:  grip
	at canvas/draw/4 right: grip
]
```

[15:40](#msg59e4d2ef01110b7231c1efcf)@dockimbel facets inside `with` block are not recognized as reactive sources, is that expected?

DVL333

[15:59](#msg59e4d75e614889d475c0369d)@9214 Very interesting and laconic variant! I even haven't known about that possibilities of Red. Great!  
As for me, I tried to avoid specifing a number of changing parameter (for example, `canvas/draw/3` - it just seems for me to be not beautiful :) ) so wanted to redraw a picture fully. But still dont't know, how to recalculate and implement `compose` block (or some another variant for drawing) repeatedly...

9214

[16:00](#msg59e4d788bbbf9f1a386a5374)@DVL333 agreed about `draw/3`, but there's now other way to alter or reference `draw` block content AFAIK

DVL333

[16:02](#msg59e4d800bbbf9f1a386a570c)Ok, your advices are very helpfull.

dockimbel

[16:34](#msg59e4df98e44c43700a3dc894)@9214 Do you have a short example?

9214

[16:34](#msg59e4dfa8b20c6424290ca5c0)@dockimbel will try to come up with one shortly

[16:35](#msg59e4dfeebbbf9f1a386a8732)I guess the snippet above with `draw ...` replaced with `with [draw: ...]` (near `canvas`)?

[16:38](#msg59e4e06d01110b7231c243e5)and `%hanoi.png` is `https://pbs.twimg.com/profile_images/501701094032941056/R-a4YJ5K.png`

[16:47](#msg59e4e2b832e080696ee957ed)

```
text
Red []

view [
    b: base 
        with [draw: [fill-pen red circle 40x40 20]]
        react later [
            b/draw/5: to integer! 50 * s/data
            probe b/draw
        ]
    return
    s: slider 
]
```

[16:51](#msg59e4e3a5177fb9fe7e86ae52)@dockimbel sorry for false report, it seems to be related only to `draw` facet (not sure), if you rewrite the snippet above without `with` (i.e. just `draw [fill-pen ...]`) then everything is ok

greggirwin

[18:51](#msg59e4ff94f7299e8f53f54780)@pekr, thanks for your `parse` tests. I confirmed your timings here, and with blocks as well as strings. There are surely a number of reasons for the difference, and Red will likely get faster in the future, but these findings are important in how we approach parsing with Red, and how to suggest best practices to others.

In addition to general guidelines, it would be interesting to consider `parse` and Red as a design tool alternative for generating C code. That is, if your data is always strings, and your rules are common and simple cases, it may be possible to support a limited subset of parse features and emit a simple C parser that is optimized for those cases. With an interactive front end, and the ability to supply test data, you could even make it a service.

pekr

[19:24](#msg59e50787b20c6424290da489)We need parse compiler :-)

[19:35](#msg59e509e8bbbf9f1a386b88c2)I wonder if the 5-6 times slower skip by char is caused because of Red using different engine (FSM), which might be more general aproach, but maybe slower, or is that due to the R/S being cca 4times slower than C code? If the latter would be the case, I remember Doc stating, that Red could get down to 2x times slower quite easily, once we optimise, and maybe even more, but with bigger effort?

[19:36](#msg59e50a3b210ac26920f39010)You know, Rebol parse was quite a weapon for two reasons - its design, and its speed. Now it seems we lost the speed advantage ....

gltewalt

[20:15](#msg59e5137ab20c6424290deb74)In R3 `Time of parse: 0:00:04.545`

greggirwin

[20:36](#msg59e51845614889d475c1c4d7)R/S will get faster, so it will be closer. Red also has new features which may add a tiny bit of overhead. Rebol's `parse` was already a lot slower than, say, a hand-written C parser. The question for me is not whether Red is slower than Rebol, but whether it can be applied in a given situation. For that we just need hard numbers, like you supplied and more. Not just artificial benchmarks of parsing no-ops, but more realistic rulesets. What MB/s numbers can we expect when parsing with Red? From there, people can determine if it will suit their needs or not.

If people need 200 MB/s of real-time parsing, we can say it won't do that. But what about 4 MB/s? That's still a \*lot* of data, yes? What about 1 MB/s? That's only 80 GB/day, per core.

So, let's see if anyone, please, all comments from our nearly 500 members here would be useful, has hard numbers they know they need to meet, and any extra details that would help. I don't think I've had any cases where I needed more speed than what Red offers now. Faster is always nicer of course. Waiting a minute for a report on 250MB of data will make most of us look for optimizations.

gltewalt

[21:26](#msg59e523f401110b7231c3e820)For me I haven't jumped into parse and used it like that - but I would think that if it doesn't get to a speed comparable to R2, that the people will just use R2

greggirwin

[22:04](#msg59e52cee01110b7231c41af9)Unless you need Red features, or want to standardize on Red. R2 is dead. I'll keep my old code running as long as I can, of course, because it's practical, but I want to move everything to Red.

gltewalt

[22:26](#msg59e5321cbbbf9f1a386c70b8)I think the majority of the people here want to move to Red.

## Tuesday 17th October, 2017

kealist

[00:16](#msg59e54bc1b20c6424290f18e8)I'm having trouble identifying where the returned string is allocated for `redFormError` in libRed.

pekr

[01:19](#msg59e55aabb20c6424290f5601)I too think, that most ppl here, are really Red positive, consider it being a new foundation for the future. The thing is, where can we see the optimisations happen. Parse was a big selling point for Rebol and surely Red being 5-6 times slower is discouraging. We have seen the typical reactions just one or two days ago - why should I use Red, if R2/Python/whatever is x times faster?

[01:20](#msg59e55afb614889d475c3093d)If we think about Red advantages in a broader scope, we migt be more easily forgiving, than for someone, who just seeks for the fast parsion one-off tool.

greggirwin

[01:39](#msg59e55f5abbbf9f1a386d35fb)For people who base decisions on artificial benchmarks, there's not much we can do. I agree that perceptions are important, but if we address this, up front, with notes about expected performance, that goes a long way. For every person that can't use Red's `parse` because of performance issues, a thousand other people \*can\*.

And, as we write that document, we can draft direct comparisons with other langs. If all you need to do is simple splitting and such, we can show the best way to do it in Red. Of course, we want to use `parse` for all our needs, but there is a cost in its power. Most of the time, we just don't notice it.

[01:43](#msg59e56025e44c43700a4080e4)https://github.com/red/red/wiki/Parse:-performance,-data-loading,-alternatives

kealist

[02:59](#msg59e57204177fb9fe7e89a5d2)@dockimbel I ran into something where I was importing `redFormError` from libRed in C# using ANSI instead of Unicode and got an error with the `const char*`. Changing the encoding got rid of the error, but someone was suggesting that there must still be an issue with how the dll was allocating it on the heap (or maybe the real issue is how I am marshaling it). I am not knowledgeable enough to check this but I figured I should see it through. Reference: \[SO question](https://stackoverflow.com/questions/46716672/c-sharp-marshalling-a-const-char-return-value-from-dll).

[03:12](#msg59e57502177fb9fe7e89b073)Sorry I guess that's related to the 50 lib call thing

gltewalt

[03:37](#msg59e57b0cb20c6424290fd237)For `parse` - What happens if you read in data as binary and create the huge buffer from that? Something like:

```
data: read/binary http://www.red-lang.org

buffer: copy []
start: now/time/precise
repeat n 1000 [append buffer data]
print ["Length of data:" length? buffer newline "Time of append:" now/time/precise - start]

start: now/time/precise
parse-trace buffer [some [skip]]
print ["Time of parse: " now/time/precise - start]
```

pekr

[05:31](#msg59e595b932e080696eecd761)@qtxie noticed you chose `CTRL + A` for the move of the cursor to the beginning of line? That's what Home is imo for too. CTRL + A serves to select all items under both Win and macOS. It would be imo good to provide such functionality using exactly that key combination ....

gltewalt

[05:50](#msg59e59a1a614889d475c405af)This blows up.

```
data: read http://www.red-lang.org
buffer: copy ""
repeat n 1000 [append buffer data]
bin-buffer: enbase/base buffer 16  ;-- access violation
```

pekr

[05:53](#msg59e59af632e080696eecee52)You should be careful, Red does not have garbage collector yet, so you can run out of memory with excessive operations

gltewalt

[05:55](#msg59e59b51f7299e8f53f828c6)Yes, I did that a few times.

9214

[07:03](#msg59e5ab5732e080696eed45a6)@pekr personally I prefer \*nix readline shortcuts, should that be an option?

[07:08](#msg59e5ac81614889d475c465ca)I'm also curious how console block-based editing mode could be extended

pekr

[07:09](#msg59e5acadbbbf9f1a386e82c6)Not sure. Did not know about those Unix shortcuts. I know only a typical editor ones, where Ctrl + A is heavily used as a "select all" operation. It does not work only in editors, but also in file managers, etc., to select all items ...

qtxie

[07:09](#msg59e5acc6bbbf9f1a386e8358)@pekr CTRL+A for select all is useful for multiline editor. For shell, CTRL+A is normally used as HOME key.

pekr

[07:16](#msg59e5ae565c40c1ba79ae28bb)As far as Shift + Home/End are supported for selection (including multiline), I might be OK with that ...

Oldes

[07:38](#msg59e5b3725c40c1ba79ae43ef)@qtxie on Windows CMD ctrl-A select all text on the line. In R2 it select all text in the console window.

rebolek

[07:39](#msg59e5b3a932e080696eed73f6)CTRL-A is home key on every normal shell

Oldes

[07:40](#msg59e5b3fb01110b7231c68117)so how you select all text in your normal shell with 2 key presses only?

rebolek

[07:46](#msg59e5b56701110b7231c688e4)You probably can’t. Anyway, instead of hardcoded keyboard shortcuts I would prefer profiles, so you can choose behaviour that suits you the most.

9214

[07:48](#msg59e5b5bee44c43700a420120)^ this

dockimbel

[07:51](#msg59e5b66cf7299e8f53f8b27d)@kealist I'm not sure what is your issue with that, from the SO answers, it seems you are using a wrong way to import the string in C#.

qtxie

[08:06](#msg59e5ba05e44c43700a421be8)@Oldes On my Windows CMD, ctrl+A just insert `^A` into the line.

Oldes

[08:07](#msg59e5ba5601110b7231c6a503)I'm on Win10... and the behaviour is, that if there is no content on line, it selects all text in the window instead of just text on line.

[08:09](#msg59e5baa9b20c64242910f90c)Honestly.. CTRL+A as a HOME key is not much usefull and I don't believe anybody is using it these days.. but I don't consider it as a priority.

qtxie

[08:10](#msg59e5baf3bbbf9f1a386ecd7d)How many times were you use Ctrl+A in the console? I never use it in the red console as I normally just want to copy part of the text.

[08:12](#msg59e5bb5932e080696eeda14b)But I do use Ctrl+A a lot. I use this shortcut in shells on macOS and Linux too.

Oldes

[08:12](#msg59e5bb70614889d475c4be3f)select all text in console may be useful if you want to show results for example... select all text on line is also quite practical. If I want to get on line start, I can hit just HOME key as I use END key to get on tail.

[08:14](#msg59e5bbf9b20c64242910ff73)I think that CTRL-A as a HOME must be from times when there was no HOME key on keyboards.

rebolek

[08:15](#msg59e5bc3301110b7231c6b0f7)@Oldes I am using it, but I am nobody, so you are right.

Oldes

[08:16](#msg59e5bc5001110b7231c6b162)Fine... I don't want to continue and start some OS war.

rebolek

[08:16](#msg59e5bc6a5c40c1ba79ae7500)As I said, I would prefer profiles so you can choose hotkeys that will suit you.

9214

[08:16](#msg59e5bc76bbbf9f1a386ed54d)@rebolek teh drama :D chill guys

Oldes

[08:17](#msg59e5bc975c40c1ba79ae7672)I would prefere to see more important things in Red instead of profiles in third version of Red console.

rebolek

[08:19](#msg59e5bd1f32e080696eedaa93)It’s not that hard...I implemented it for my Red-console based editor in few lines.

qtxie

[08:20](#msg59e5bd495c40c1ba79ae7c96)Any improvement is welcome. :smile:

pekr

[08:22](#msg59e5bdae01110b7231c6b6aa)I don't like this Unix stuff. It is so arcane :-) Every editor, every file manager, ctrl + a = select all. Supported in all apps I know. But we can hear arguments as "every normal shell". My take is, that every normal shell lives under the rock then :-)

[08:23](#msg59e5bde7f7299e8f53f8d9fb)As I can see shift + home/end implemented for the line selection, I am more relaxed on that topic ...

qtxie

[08:23](#msg59e5be065c40c1ba79ae813e)Emacs use those shortcuts too. And the console is not an editor...

9214

[08:23](#msg59e5be1e614889d475c4cb35)@pekr sounds a bit harsh, it's about preffered working style and not OS wars; as @qtxie pointed out - Red console is, well, console, not an editor

pekr

[08:25](#msg59e5be7532e080696eedb15a)How could it be about the OS wars? It is about a common sense. 99% of apps use it otherwise. And no, imo Red envisions it becoming more an editor in future, not just a console imo ...

[08:26](#msg59e5be9f5c40c1ba79ae848e)Next time someone claims to implement Vi or Emacs shortucts, claiming those are the only real stuff on planet earth :-)

Oldes

[08:27](#msg59e5bed801110b7231c6bd16)It could be easily OS war because on \*nix systems CTRL+A works as HOME key because of historic reasons while on (not normal) Windows it works like select all. :)

[08:28](#msg59e5bf46f7299e8f53f8e069)`^ESC:q!`

pekr

[08:31](#msg59e5bfeeb20c6424291116d4)As I said - with shift + home/end I got what I wanted, so I am now more relaxed on that. No big deal anymore ....

qtxie

[08:37](#msg59e5c157bbbf9f1a386eeeba)Yep, really not a big deal. We still provide select all anyway. And those shortcuts are exists in the CLI console since a while, IIRC, it's contributed by a PR. So I thought someone may want it in the console.

rebolek

[08:45](#msg59e5c31332e080696eedca4c)@pekr that's nonsense. Just because you are used to Windows, it does not mean it is standard everywhere.

pekr

[08:45](#msg59e5c32c5c40c1ba79ae9b6c)Win + macOS is not enough?

rebolek

[08:47](#msg59e5c385b20c642429112a36)@pekr in macOS, ctrl+A gets you to line start in console

[08:47](#msg59e5c3a3e44c43700a42506f)cmd+A selects whole console

[08:48](#msg59e5c3c25c40c1ba79ae9f4e)Anyway, it's really not a big deal and if/when we get profiles as I said, you can define whatever you want.

pekr

[08:48](#msg59e5c3d2b20c642429112b8e)cmd = ctrl in Windows world ... all apps use such equivalent notation

rebolek

[09:11](#msg59e5c92ee44c43700a426e40)Yes, macOS is better in that regard, that you have two modifiers, like on Amiga.

dockimbel

[10:34](#msg59e5dcb0614889d475c58632)@Pekr I read some big non-sense above about Parse, pseudo-benchmarks and some FUD-spreading about Red, so I have to reply to that instead of doing some useful work, thank you very much for that. :+1:

First about the misnamed "benchmark" by sptorin :point\_up: \[October 14, 2017 2:26 PM](https://gitter.im/red/help?at=59e1ae165c40c1ba799be6c8). He wrote a Red script by patching together pieces of code from different sources while admitting he has no clue about what he was doing (see the exchange about `bytes-line: integer!` part). Moreover, he claimed some comparison with other languages without providing links to the source code used for the tests. The Parse code he copied from Red's blog is very verbose, as it was designed for presenting Parse's features, not for high-performance work. As his care for code relevance seems very low, we have no way to know if the other languages are doing exactly the same task or a slightly different one. Therefore, the results he claims are irrelevant at best. Taking that as a "proof" that Red is slower and generalizing that single (bad) example to state that this is a show-stopper for newcomers, is not only logically flawed, it's just plain irresponsible! I have wrote my own version of his script, and it performs here on par with other languages, though as I don't know what the source code in other languages are really doing, so I didn't insist on that, as it's probably irrevelant.

Now about your supposed "test". You claim to have tested "Time of append", so appending performances. That's false, as you didn't preallocate the accumulating series, so the series gets reallocated over and over again, most probably dwarfing the time spent appending. Therefore, this code tests the series expansion speed, and does that badly, because it's not done in isolation, as some time is also spent appending. Value of such test: zero, as none of the above features have been isolated well enough to make some relevant comparison (you still have no clue about micro-benchmarking vs macro-benchmarking). Moreover, you are not using a stable and trustable source of input data (like auto-generated data), but doing an HTTP request, exposing an external dependency, which could lead to side-effects corrupting the results (like unexpected page size changes). I will not even start about ensuring no side-effect occurs from testing on different hardware or OS, as you don't even get the basis of testing right.

For your "parse test", you write a single micro-test using just `some [skip]` and conclude "as far as parse goes, is really slower than R2." Your ignorance of \[basic logic](https://en.wikipedia.org/wiki/Hasty\_generalization) is baffling. For the tests results, guess what, Red's Parse is \*expected* to be 4-6 times slower (rough estimate) than Rebol's one, because it is entirely implemented in R/S while Rebol's one is in C. Therefore what you are only testing here, is just R/S vs C performance. So, any conclusion about Red's Parse implementation being sub-optimal is baseless. The only time we can say anything about that is when R/S will perform as well as C, then we can compare the implementations and draw relevant conclusions. Therefore, value of such test: zero, as we didn't learn anything from it we didn't know already since years.

So, you have simply no idea whatsover about what you are doing, what you are testing, or even what a benchmark is or the required methodology to make it relevant. Drawing any (strong) conclusion from so many flawed parts is just laughable. Then spreading FUD based on that, after other similar cases (like posting :point\_up: \[August 14, 2015 7:53 PM](https://gitter.im/red/red?at=55cdd6a69b45e15c42642e8e) that Red's Draw was "ugly", after only 24h of my work on Draw engine) just earned you the first place as new main troll in this community, congrats on your achievement!

As we already had pretty much the same discussion about a year or two ago, I'll just save my reply as a template to re-use next year, when you'll inevitably bring back the same BS again.

[10:38](#msg59e5dd8e614889d475c58abf)Benchmarking is always a sensitive topic, because doing it right is complex and requires relevant skills, otherwise, it is just a waste of time (pun not intended). ;-)

9214

[10:52](#msg59e5e0d632e080696eee6bec)\[!\[Ommadan.jpg](https://files.gitter.im/red/red/2thS/thumb/Ommadan.jpg)](https://files.gitter.im/red/red/2thS/Ommadan.jpg)

dockimbel

[10:52](#msg59e5e0e95c40c1ba79af4b65)@9214 Told you. ;-)

pekr

[10:59](#msg59e5e2a1b20c64242911e6c7)@dockimbel I am really saddened by your attitude, sorry to say that. Maybe you should control a bit, what you say. It is quite observable in public with comments like "thank you for wasting my time again", which I regard being quite harsh too, hence I am not surely alone, who got reaction like that. I for one don't know, what you are talking about in regards to `append`, when in fact I said, that append performed quite nicely. Its timing was measured separately from the `parse`. And even with parse I concluded, that most probably it is related to R/S vs C. Stating Red's one is slower than R2's might not be accurate, but it could be understood, what do I mean ...

[11:00](#msg59e5e2bce44c43700a42ff39)You pretty much ignore EVERY single question, I raise here. It was just abou the time, where I am marked as a troll ...

[11:02](#msg59e5e36332e080696eee795f)I dont need any last warnings, just like iArnold received, I might be gone for a good. Your reactions are more hostile, then I received from the Hostile Fork. And our relations broke exactly at the time, when I refused to pick sides, which I still do.

[11:03](#msg59e5e38e32e080696eee79ee)If you really think that I am an enemy of the project or hurting it in any way, I will make your life easier.

[11:04](#msg59e5e3ceb20c64242911ec41)I am not that skilled as most others here, and having only sporadic time to doing some test here or there, my posts are not scientifi precise. Sorry that it insults you ...

[11:05](#msg59e5e3ef210ac26920f7cfee)I give up maintanance of the FB group now, I cant work in such an atmosphere anymore ...

dockimbel

[11:09](#msg59e5e4fab20c64242911f3e5)@pekr It's funny that you often claim the right to "free speech", saying whatever you want, whenever and wherever you want, regardless of any rule, yet you don't suffer any criticism of your own posts when they are inappropriate or full of BS. Double standard? You are supposed to have some care for Red as an old timer, but you keep making careless and baseless posts that can be harmful to Red as a project. If you are not capable of understanding that, I can't help you.

pekr

[11:20](#msg59e5e782210ac26920f7e43d)No, not surely, as far as you criticism has enough of empathy. I already told you about the apend argument. I nowhere near complained about it. In some later post, I talked about the Red being 5-5 times slower, where in next sentence I wondered about possible difference in parse implementation, FSM, vs the R/S vs C. I know that there is no excuse to my inaccuracy, but it feels like guys without the PhD have no place here. For 20 years, my questions are just naive, but that does not mean I am in any way trying to harm Red or anything related. Red is the only project left for me to follow.

[11:21](#msg59e5e7a7614889d475c5cfeb)The only solution for me might be to live in terms of the help or welcome channels, not red one.

dockimbel

[11:22](#msg59e5e801210ac26920f7e6f5)&gt; I for one don't know, what you are talking about in regards to append, when in fact I said, that append performed quite nicely.

You have no clue what you really tested there, and you got some "nice" results, which is kind of surprising to me, as it should be slower than that. Perhaps, the Red allocator is faster than Rebol's one, therefore covering some slowness in appending? We cannot know because your test is flawed, therefore is the conclusion. Lack of sane methodology leads to wrong results, leading to wrong conclusions, leading to misplaced ranting, leading to harm, leading to arguing about it.

rebolek

[11:27](#msg59e5e923b20c642429120ad4)Pekr’s test may be flawed, but he’s certainly no troll trying to harm Red.

dockimbel

[11:31](#msg59e5e9fe210ac26920f7f437)@rebolek  
&gt; You know, Rebol parse was quite a weapon for two reasons - its design, and its speed. Now it seems we lost the speed advantage ....

&gt; surely Red being 5-6 times slower is discouraging. We have seen the typical reactions just one or two days ago - why should I use Red, if R2/Python/whatever is x times faster?

That's spreading FUD, and FUD is harmful. That said, I'm French, so by definition, I might see things differently ;-), but I don't think I'm too far here.

pekr

[11:37](#msg59e5eb5db20c642429121924)You chose the paragraph, skipping the prior one, which imo sheds a bit diiferent claim on my whole claim. Maybe for you, it does not make a difference anyway:

[11:37](#msg59e5eb6201110b7231c7b043)I wonder if the 5-6 times slower skip by char is caused because of Red using different engine (FSM), which might be more general aproach, but maybe slower, or is that due to the R/S being cca 4times slower than C code? If the latter would be the case, I remember Doc stating, that Red could get down to 2x times slower quite easily, once we optimise, and maybe even more, but with bigger effort?

dockimbel

[11:40](#msg59e5ec13bbbf9f1a386fd82d)@pekr So FUD is ok, as long as you say also some less controversial things in addition to that? That's not my logic.

Oldes

[11:45](#msg59e5ed63f7299e8f53f9e62d)If there is something causing some harm to Red project, than it will be these public argues.

sptorin\_twitter

[12:35](#msg59e5f90c614889d475c63122)&gt; He wrote a Red script by patching together pieces of code from different sources while admitting he has no clue about what he was doing (see the exchange about bytes-line: integer! part).

\- `bytes-line: integer!` - don't needed in my script and appear after trying exclude some pieces of code (yes, I don't know how mark data in memory as `integer!`). Also I'm trying exclude accuratelly parse ipv4, and try parse it as just word - got near same result. Aaaaand often need just split string with delimeters, but split use parse too. Parse - great tool, but I missing fast split (with working mysqlbinlog text logs - gigabytes of text). And I'm not programmer, sorry, but looking in Red great lang for my usecases - parse logs, simple GUI, admin scripts etc... sorry for terrible english

9214

[12:35](#msg59e5f92cf7299e8f53fa304b)"Netcraft \[confirms](http://uncyclopedia.wikia.com/wiki/BSD\_is\_Dying) it - Red is dying"

BeardPower

[12:45](#msg59e5fb5501110b7231c80f96)@9214 It seems, that every Open Source project has it's own drama episode. The question is not if, but when.

maximvl

[15:17](#msg59e61f1be44c43700a447c2e)@pekr here's the list of "arcane" hotkeys, basically they were defined way before GUI, window systems and file managers appeared :)

[15:17](#msg59e61f1bd6c36fca31620433)http://unix-kb.cat-v.org/

dockimbel

[15:59](#msg59e628c8614889d475c761a4)@BeardPower Just normal events like in any other community.

[16:12](#msg59e62bdb5c40c1ba79b123e7)@Oldes That's debatable. ;-)

rebolek

[18:05](#msg59e6468132e080696ef0e1d3)@dockimbel I'm certain that @pekr didn’t want to spread FUD. He’s a dedicated long time Redboler and definitely does not want to harm Red. I think that the problem is that we do not have a Chit-chat room as on Altme. If there was one, I believe he would present his concerns there instead of main room. I understand that some of his remarks may be confusing to newcomers, but I believe it certainly wasn’t his intention. He may not be a great programmer (and he’s the first to admit it), but he’s a wonderful apostle of Red.  
So if I may suggest something, creating some chit-chat or lobby room for us old-timers to discuss things that may confuse newcomers (like unsubstantiated benchmarks) would certainly help.

9214

[18:06](#msg59e646bd210ac26920fa39f8)&gt; for us old-timers

VIP rooms :(

rebolek

[18:10](#msg59e647b3210ac26920fa4030)@9214 certainly not VIP, more like something we call "čtverka" in Czech (the fourth category). Just a room for people who really want to go inside and know the risks :)

greggirwin

[18:12](#msg59e648135c40c1ba79b1d2ce)https://gitter.im/red/sandbox is a good place for chat like that.

[18:15](#msg59e648b7177fb9fe7e8e71ee)Sorry to cross-post, from red/docs, but Sunanda posted a question on the ML that I thought was worth a note: https://github.com/red/red/wiki/Reactivity

Comments welcome.

rebolek

[18:26](#msg59e64b4ad6c36fca3163134e)@greggirwin nothing against /sandbox, but it’s not /chit-chat ;)

toomasv

[18:27](#msg59e64b9c01110b7231ca113a)@rebolek Should membership there be based on invitation?

9214

[18:28](#msg59e64be95c40c1ba79b1e9c0)a trial by coding combat!

[18:28](#msg59e64bebd6c36fca31631689)\[!\[images.duckduckgo.com.jpeg](https://files.gitter.im/red/red/u8hE/thumb/images.duckduckgo.com.jpg)](https://files.gitter.im/red/red/u8hE/images.duckduckgo.com.jpeg)

rebolek

[18:29](#msg59e64c00177fb9fe7e8e8732)@toomasv no, it just should be room for general chat that is not as visible as the main red/red room

9214

[18:29](#msg59e64c21b20c6424291487d6)@rebolek and how is that? gitter doesn't provide such functionality AFAIK

rebolek

[18:30](#msg59e64c62614889d475c83e54)@9214 that’s easy. how many people are here and how many are in e.g. /map-datatype room

9214

[18:31](#msg59e64c9be44c43700a4591b0)@rebolek but I can still find this room \[here](https://gitter.im/red/home)

rebolek

[18:32](#msg59e64cb3210ac26920fa5bb4)of course you can

[18:32](#msg59e64ccee44c43700a45934e)I am not advocating for closed room, just a room with lower visibility for general chat

toomasv

[18:39](#msg59e64e5b01110b7231ca2192)/rant !!

9214

[18:41](#msg59e64ec532e080696ef114b0) in pig latin, as to obscure room's content for curious newcomers who'll try to join this room :D

toomasv

[18:41](#msg59e64eded6c36fca31632a45)/roranontot ?

9214

[18:42](#msg59e64f15614889d475c84d3d)`antray`

[18:42](#msg59e64f1d01110b7231ca2722)maybe even `ant ray`

toomasv

[18:43](#msg59e64f4d5c40c1ba79b1fe75):+1:

9214

[18:43](#msg59e64f50177fb9fe7e8e9c35)and everyone could express the degree of their frustration by extending `ay`

greggirwin

[18:49](#msg59e650b0f7299e8f53fc5c70)@rebolek, I was thinking of sandbox as a contained space, where only a few play. And also as the security meaning of containing potentially dangerous things.

gltewalt

[18:52](#msg59e6518832e080696ef123a0)We just so happen to have a few piglatin scripts

rebolek

[18:54](#msg59e651efd6c36fca31633c51)@greggirwin right, I wasn’t thinking about the name in English. Makes sense this way :)

[18:55](#msg59e65211b20c64242914abad)Anyway, this is actually a conversation we shouldn’t be doing here IMO.

gltewalt

[18:58](#msg59e652dbf7299e8f53fc6989)If you want my opinion (and you probably do not :smile: ), I actually think 1 to 3 big "rooms" are healthier for community building than 10 different rooms.  
I understand stand, though, that Gitter is meant to be tied with github and that red/red should probably be constrained to "development track" type communication.

[18:59](#msg59e65301210ac26920fa804a)(And I have a huge typo that I can't fix due to mobile)

rebolek

[19:00](#msg59e653595c40c1ba79b21655)@gltewalt I agree that few big rooms are healthier for community \*building\*, but you need small rooms for community \*maintenance\*.

gltewalt

[19:01](#msg59e6536d614889d475c86b1b)However, with general rooms, moderation is very important

rebolek

[19:02](#msg59e653d9177fb9fe7e8eb966)Imagine that new Red is released right now, it will get to frontpage of HN as Red releases usually do and new people will come into this room into middle of this conversation. It would be confusing IMO.

gltewalt

[19:03](#msg59e653ed210ac26920fa8671)Yes

[19:05](#msg59e6545f614889d475c8705b)Landing page/room for tour Gide and assistance should be to tied to chat button, probably

[19:05](#msg59e6547932e080696ef135b8)(Gah! Typos. Ok, I'm done)

Oldes

[19:35](#msg59e65b8d177fb9fe7e8ee7bb)It does not mather how many rooms here is, I personaly don't like such a \_\[normal events](https://gitter.im/red/red?at=59e628c8614889d475c761a4)\_. Old Altme was always friendly and I don't remember Carl saying that anybody else has posts \_full of BS\_. And I think that as Pekr is part of the Rebol community since early days, the last thing for him is to make some harm to Red intentionally.

[19:39](#msg59e65c5fe44c43700a45f6eb)Btw... I understand his frustration from \[ignoring questions](https://gitter.im/red/red?at=59e5e2a1b20c64242911e6c7) :point\_up:. I stopped asking weeks ago as I also got no responses usually and had a feeling that I'm just disturbing.

greggirwin

[19:58](#msg59e660d3210ac26920fad472)I don't think a lack of answers to questions is intentional, just that Team Red is very busy, and researching and answering questions can take a \*lot* of time. I also think Carl avoided the biggest chat groups for this very reason. It was rare, but he would show up and post at times. But let's move back to tech chat, shall we?

## Wednesday 18th October, 2017

PeterWAWood

[00:33](#msg59e6a14e614889d475ca0f33)I feel it is easy to forget that anything said on AltME was said in private in comparison to things said in Gitter.

greggirwin

[00:48](#msg59e6a4cdd6c36fca3164fbaa)That too.

mahengyang

[06:21](#msg59e6f30632e080696ef42c6f)a question about `list-dir`, test file named a.red:

```
Red[]

list-dir %.
```

when I run command `red a.red`, it successfully print files under current dir, but when I compile to binary use Rebol file named comp.r:

```
REBOL []
    do/args %red.r { -o test test.red}
```

compile command:

```
rebol -s comp.r
```

when run the target file `test`, why path `%.` cames to none?

```
*** Script Error: path none is not valid for none! type
*** Where: eval-path
*** Stack:
```

[06:23](#msg59e6f362b20c64242917b8c7)macOS High Sierra

9214

[08:50](#msg59e715c3614889d475cc2bfc)why you're using rebol to compile red script in a first place?

mahengyang

[08:55](#msg59e716e6614889d475cc320b)for `quick-test`, it compile red unit test code to binary file

PeterWAWood

[11:02](#msg59e734cd01110b7231cea13c)&gt; why you're using rebol to compile red script in a first place?

Because the compiler is written in Rebol?

[11:16](#msg59e7382ab20c6424291930ef)@mahengyang It seems that there is a bug in `list-dir`. Though I'm not sure it is designed to run in a compiled program. I'll check in the red/bugs room.

kealist

[16:03](#msg59e77b67177fb9fe7e94d64a)@dockimbel I guess the question is whether the string from `redFormError` is allocated on the stack or heap.

## Thursday 19th October, 2017

dockimbel

[04:37](#msg59e82c10210ac269200427de)@kealist I don't see why that matters. C# should not be doing anything else than reading it, it should not in anyway modify it. For the record, it's allocated on heap.

maximvl

[09:50](#msg59e8757b210ac26920059d7f)hey hey

[09:50](#msg59e8757d5c40c1ba79bd3fec)guys

[09:50](#msg59e8757f01110b7231d5611e)check this out: https://seap.samsung.com/linux-on-galaxy

[09:51](#msg59e8759801110b7231d5616c)now we have to put some effort into linux gui ;)

lepinekong\_twitter

[09:57](#msg59e8770fd6c36fca316e6283)Anybody had the idea of working on adding red to Jupyter (github supports it natively) https://github.com/jupyter/jupyter/wiki/Jupyter-kernels. Would be huge. Unfortunately I'm not geek enough to do so myself.

maximvl

[10:05](#msg59e87901b20c6424292003e9)@lepinekong\_twitter looks interesting, what exactly is the kernel? how does one write it?

[10:06](#msg59e8791ab20c64242920044d)found it, nvm :) http://jupyter-client.readthedocs.io/en/latest/kernels.html

[10:07](#msg59e87962f7299e8f530788fa)&gt;The transport, ip and five \_port fields specify five ports which the kernel should bind to using ZeroMQ.

[10:07](#msg59e8796e01110b7231d575bd)ok, added to todos once we get network IO

dockimbel

[10:08](#msg59e8798732e080696efc438f)@maximvl It is unclear if that includes Linux GUI layer, or just headless Linux apps.

maximvl

[10:08](#msg59e879aab20c642429200740)true, my bet is they will include their `enlightenment` based framework

[10:09](#msg59e879c0b20c6424292007cc)https://blogs.s-osg.org/enlightenment-development-tutorials/

[10:09](#msg59e879cef7299e8f53078a98)it's known to be running on their TVs and other electronics

dockimbel

[10:10](#msg59e879fa614889d475d3bf1c)@maximvl Odd mode from Samsung, but interesting anyway. Thanks for sharing.

maximvl

[10:11](#msg59e87a47f7299e8f53078d17)@dockimbel I did subscribed to it, let's see what will happen

[10:12](#msg59e87a7c32e080696efc4927)it's actually possible that they want to move away from Android / Google dependency

dockimbel

[10:12](#msg59e87a8a210ac2692005ba14)@maximvl Very possible, yes.

maximvl

[10:15](#msg59e87b50614889d475d3c550)there is also this `Tizen` platform heavily supported by Samsung, which is afaik a pure linux

pekr

[10:20](#msg59e87c52d6c36fca316e7f9c)I've thought that Samsung pushes Tizen. After the demise of MeeGo, many companies joined the Tizen effort. Samsung develops their Linux foundation (SLP) for quite some time, most probably it is underlying layer to their Tizen.

maximvl

[14:11](#msg59e8b29ae44c43700a521892)HN#1: Show HN: Gutenberg – A static site engine with no dependencies (getgutenberg.io)

[14:11](#msg59e8b2a5177fb9fe7e9b4bfc)seems like `no dependencies` is a thing

BeardPower

[15:53](#msg59e8ca80210ac2692007aac5)Please allow me to post my 2cents.

Samsung was/is sponsoring the documentation/development of the Enlightenment Window Manager and especially the EFL. Enlightenment/EFL is now one of the core libs of Tizen.  
@maximvl Yes, they want to replace Android with Tizen on all of their products. It runs on their washing machines, fridges and what not.

@pekr are you referring to MeeGo or LiMo as an underlying layer of Tizen? Because the statement from LiMo back then was, that it combines the best open source technologies from LiMo and the Linux Foundation, but little from MeeGo.

[15:58](#msg59e8cb995c40c1ba79bf3f61)Are some of you guys in here also familiar with Lisp? If so, how much does Red have in common with Lisp?

9214

[15:58](#msg59e8cbbee44c43700a52b7dd)@maximvl bring it on! :alien:

maximvl

[15:59](#msg59e8cbcf01110b7231d77094)I consider myself familiar with CL, Racket, and few other minor dialects

9214

[15:59](#msg59e8cbe932e080696efe4c23)@BeardPower :point\_right: https://gitter.im/red/red/lisp

maximvl

[16:00](#msg59e8cc0df7299e8f5309974e)Red shares some common, essential things with lisps, code = data, dynamic nature, DSLs

[16:01](#msg59e8cc52177fb9fe7e9bf7cb)and some things are done in a radically different way, eg contexts vs scopes

BeardPower

[16:02](#msg59e8cc7af7299e8f53099a78)@9214 Thanks! I must have skipped it.

maximvl

[16:02](#msg59e8cc94b20c642429220d5d)damn, deleted a post instead of edit

[16:03](#msg59e8ccb7b20c642429220e22)it was about improvements: high level blocks vs cons-cells, also rich datatype system and (yet to come) - protocols

9214

[16:05](#msg59e8cd4f32e080696efe5658)same in homoiconity and dynamic nature, language-oriented approach (DSLs and macros), different in scoping rules (no scopes, only "namespaces" in Rebol family, lexical/functional scoping in Lisps) and evaluation model (Redbol's block is kind of a quoted Lisp's list, only more effective)

BeardPower

[16:06](#msg59e8cd9d32e080696efe5900)Thanks for all the valuable info!  
I was just reading about Lisp and Red recently (and Red/OS in the future). Turned out, there are some OS implemented in Lisp :)

[16:09](#msg59e8ce3cb20c642429221751)I could imagine that Red/OS would be similar.

greggirwin

[16:47](#msg59e8d71f210ac2692007f6e1)Thanks for the Tizen info @BeardPower. Red has great potential in the smart product arena IMO.

On the language side, Rebol's design was based on Lisp, Forth, Logo, and the object model from Self, so there are a lot of similarities. Red inherits directly from Rebol. One difference is that Rebol was initially designed as a messaging language, which is why the data aspect is so important. Exchanging information between people and machines, that either or both can understand.

[17:00](#msg59e8da1e5c40c1ba79bf9a67)The Jupyter stuff is interesting. I haven't ported my ZeroMQ lib (which is quite different from Kaj's), which would need to be updated for newer releases of ZeroMQ as well. Shouldn't be too hard though. I don't know how much it will help Red to be in Jupyter, but it's not a bad thing to experiment with. I don't use Jupyter today, but can put it on my list. And I can contribute help on the ZeroMQ side. I think Oldes may have already done a basic port of the ZeroMQ API for Red as well. Just remembered that.

[17:05](#msg59e8db5432e080696efeb5db):point\_up: \[October 19, 2017 8:11 AM](https://gitter.im/red/red?at=59e8b29ae44c43700a521892) @maximvl, "no dependencies" and other things we're used to seem revolutionary to a lot of people.

[17:18](#msg59e8de50f7299e8f530a0b74)The Gutenberg EXE itself is 9M. Even that may seem revolutionary to a lot of people. Can't say how Bolek's Lest system compares to Gutenberg in features, and he also includes plugin support and some extras, like bootstrap and fontawesome.

[17:18](#msg59e8de81177fb9fe7e9c6964)It's nice to see other projects that value some of the same things we do.

9214

[17:19](#msg59e8de9901110b7231d7e1b7)&gt; 9M

\[!\[images.duckduckgo.com.jpeg](https://files.gitter.im/red/red/HbSm/thumb/images.duckduckgo.com.jpg)](https://files.gitter.im/red/red/HbSm/images.duckduckgo.com.jpeg)

greggirwin

[17:25](#msg59e8dff7d6c36fca3170e2c3)@9214, there are worse things. I've written simple Rebol apps that became ~1M encapped, even though they were just a small amount of Rebol code. Same for Red, if you include the runtime. Less without View of course. But we also have \*options\*. Use R/S for tiny EXEs that are super fast. Use a shared custom Red runtime across a suite of apps, run interpreted, and now encap ability. To me, this is one of the other huge wins with Red. You can \*really* tailor it to your needs. And that doesn't even cover cross compiling.

[17:28](#msg59e8e0a5177fb9fe7e9c75b4)There are tradeoffs. Rust can target many platforms, but relies on GCC. So the Gutenberg author wants to \*provide* apps with no dependencies, but doesn't have them himself.

[17:29](#msg59e8e1105c40c1ba79bfc467)https://github.com/japaric/rust-cross#i-want-to-build-binaries-for-linux-mac-and-windows-how-do-i-cross-compile-from-linux-to-mac

[17:31](#msg59e8e15701110b7231d7f1c0)This is not meant to criticize Rust, or Gutenberg, in any way. Just things we may take for granted, that are very different from other tools and systems.

[17:34](#msg59e8e226177fb9fe7e9c7ec3)Red has the advantage of youth in many areas. GCC has a lot of legacy that adds to its weight and complexity. Red will likely avoid a \*lot* of that because JIT, when we get it, will do more with less. That will be a complex, and tricky, thing, but a huge win overall, compared to old peephole optimizers and things that optimize an entire program, though only 1% of the code needs it.

[17:36](#msg59e8e2abb20c6424292290cd)Though, perhaps ironically, interpreted Red will be more than fast enough for the vast majority of use cases.

9214

[17:38](#msg59e8e310d6c36fca3170f2cd)this toolchain modularity and ability to tailor compiler/interpreter reminds me of Forth btw

[17:39](#msg59e8e33701110b7231d7fd37)I mean, Forth is basically a programmable hybrid of compiler and interpreter, and then you write Forth program you're actually extending language itself

BeardPower

[17:52](#msg59e8e6575c40c1ba79bfe17d)@greggirwin Thank you for the detailed info!

Maybe there should be some information gathering regarding the use cases. I hope Red can be also used for game development in the future :)

9214

[17:57](#msg59e8e7a15c40c1ba79bfe9aa)r/then/when :eyes:

greggirwin

[18:10](#msg59e8ea7fe44c43700a536fae)@BeardPower, "game development" is very broad. There are plenty of games you could write today, but the difference between puzzle games, interactive physics-based games, and real-time, first-person shooters is vast.

BeardPower

[18:18](#msg59e8ec74e44c43700a537a19)Sorry, I forgot to mention MY needs:  
real-time, with the need of playing &gt;100 skeletal animations at once, 2D physics and maintaining 60fps on a 2k display.

[18:19](#msg59e8eca8e44c43700a537b5e)Basically I'm in the need of GPU acceleration.

rebolek

[18:20](#msg59e8ecffe44c43700a537d35)@BeardPower @Oldes wrote OpenGL bridge, it may be probably interesting for you.

BeardPower

[18:22](#msg59e8ed6ef7299e8f530a6000)Thanks. I was reading through the sources recently. As I'm currently developing in Haxe and using Kha/Kore for rendering purposes, I would not need an OpenGL bridge, but a bridge to Kha/Kore. @Oldes work is of course very appreciated!

[18:24](#msg59e8edf3177fb9fe7e9cc60c)Kha/Kore is like SDL. It provides a single API for targeting OpenGL (ES), Vulkan, DX11, DX12 etc.

[18:28](#msg59e8eedb5c40c1ba79c016f5)@greggirwin  
Sure, you are totally right about that.  
You can of course write some little games with current Red, but the current lack of a GC would be a problem, except when developing in Red/System, no?

rebolek

[18:32](#msg59e8efa932e080696eff2d0d)It depends on the game you are writing, I believe that for a clone of Zork, lack of GC won’t be a problem.

BeardPower

[18:33](#msg59e8f00f32e080696eff2f29)Wouldn't the memory be leaked anyway without the GC/without explicit cleaning up memory allocation? How does Red handle cleaning up resources in it's current state?

greggirwin

[18:34](#msg59e8f022e44c43700a539271)Lack of GC, of course, means more work. But you could probably still do a lot with puzzle style games, reusing instead of reallocating, etc.

[18:35](#msg59e8f073d6c36fca31714296)Won't be too long before we get GC though, so worth the wait if you're doing commercial work and want to make things easy on yourself.

BeardPower

[18:35](#msg59e8f078b20c64242922e271)Is there explicit de-allocation in Red?

greggirwin

[18:35](#msg59e8f081f7299e8f530a7519)No, only in Red/System.

BeardPower

[18:36](#msg59e8f0c9f7299e8f530a7667)Yeah, not an issue. I'm not doing commercial work with Red right now, just fiddling around. My commercial work would need all the features Red 1.0 will provide anyway :)

[18:39](#msg59e8f157e44c43700a539b02)I'm also into C/C++, so I'm used to shooting myself in the foot ;-)

greggirwin

[18:41](#msg59e8f1e4b20c64242922ed19):^)

9214

[18:55](#msg59e8f506e44c43700a53b28f)"don't try to shoot the foot, that's impossible"

[18:55](#msg59e8f506210ac2692008ab01)\[!\[images.duckduckgo.com.jpeg](https://files.gitter.im/red/red/7S2P/thumb/images.duckduckgo.com.jpg)](https://files.gitter.im/red/red/7S2P/images.duckduckgo.com.jpeg)

rebolek

[19:16](#msg59e8fa0b5c40c1ba79c05f8c)@BeardPower you can write your code in a way that will reduce re-allocations to minimum.

BeardPower

[19:19](#msg59e8fac2b20c642429232677)@rebolek Are there any best practices for that?

9214

[19:20](#msg59e8faed177fb9fe7e9d172e)@BeardPower reuse series with `/into` refinement, allocate them with `make ...`

rebolek

[19:20](#msg59e8fb0ab20c642429232786)@9214 you just hacked into my keyboard and stole what I wrote.

BeardPower

[19:21](#msg59e8fb35177fb9fe7e9d1875)Thanks. I will need to read through the book/docs again.

9214

[19:21](#msg59e8fb3ed6c36fca31718ba6)@rebolek \[uh-huh](https://gitter.im/red/sandbox?at=59dfa83bbac826f05467db6f) ;)

rebolek

[19:25](#msg59e8fc2d01110b7231d8969b) @9214 You Russian hacker. But beware, I am old enough to be taught Russian in school. Ну, погоди!

9214

[19:26](#msg59e8fc48614889d475d6e07c):joy\_cat:

Oldes

[20:11](#msg59e906f75c40c1ba79c0a99e)@BeardPower Red may be good for tooling, but I would not use it as (or in) a runtime without GC and with currect lack of 64bit support. I hope that both will be solved one day. It is first time I hear about Kha/Kore, I should look at it. I was using free Adobe AIR with Starling framework for recent project, but although it is running very good, I'm wathing around, where to go in the future, because I want to leave its closed ecosystem, if possible.. and want to learn new things meanwhile too. I'm trying Haxe project with OpenFL from time to time, but I don't have a good feeling from it... it looks bloated to me... although it is used in many succesful projects. The biggest plus is probably its HTML5 target. Todays trend is to use Unity of course... but it is again a closed-source trap and I don't like its look with millions of forms in the UI.

[20:22](#msg59e9096d177fb9fe7e9d69ad)And I may be wrong... but isn't still Apple refusing apps from store with dynamic libraries on iOS? It may be also big problem for Red used in commercial project.

BeardPower

[20:59](#msg59e9121a32e080696efff9d6)@Oldes Yeah, missing GC and missing 64-Bit support is kind of a deal breaker for using Red for all my projects. Once Red 1.0 is released, I think I can completely switch to Red for everything.

## Friday 20th October, 2017

dockimbel

[09:04](#msg59e9bc3732e080696e0303fb)@rgchris Do you happen to have worked on a high-level rich-text dialect specification already?

numberjay

[14:50](#msg59ea0d3d210ac269200e4171)a question about the current implementation of hashmaps  
i see they support a limited set of types of data as keys, is this limitation only temporary?  
will they be extended to accept blocks and more as keys?

greggirwin

[16:07](#msg59ea1f3fb20c64242928f01e)@numberjay, do you mean `hash!` or `map!`? Hashes hash all values, but maps do only support certain datatypes as keys. If you need to use blocks, or other unsupported values, as keys, you can just use a block instead.

numberjay

[16:40](#msg59ea26fa5c40c1ba79c68c1d)@greggirwin thank you for the reply, i'm not sure i understand when you say to just use a block! as if it were a map!, it means i will lose the constant time lookup right? in that case it would not be feasable for huge maps. i tried to use hash! as a key, but it's not supported, what's the use case for hash? and on a related note, how do i get a pointer to a block in Red? provided i don't mutate the block, could i use the pointer as a key in a map?

9214

[16:42](#msg59ea2792d6c36fca31779a78)@numberjay block \*is* the pointer

gltewalt

[16:43](#msg59ea2795f7299e8f5310bffc)You can use `select` in a block to retrieve the next value. Similar to a key/value pair.

[16:43](#msg59ea27c701110b7231dea7ed)

```
>> select [one 1 two 2 three 3 four 4] 'one
== 1
```

9214

[16:48](#msg59ea28e2d6c36fca3177a30e)@numberjay ?

```
>> h: make hash! [[1] a [2] b]
== make hash! [[1] a [2] b]
>> select/only/skip h [1] 2
== a
>> select/only/skip h 'a 2
== none
>> select/only/skip h [2] 2
== b
```

greggirwin

[16:52](#msg59ea29d832e080696e059301)@numberjay, can you provide concrete numbers for the size of your data, key types, and performance requirements? If you use a `hash!` instead of a block, lookups are fast, but inserts are slower.

numberjay

[16:54](#msg59ea2a5901110b7231deb7d9)@gltewalt well yes, it behaves as a map, but aren't the 'keys' searched linearly? in that case lookups will get slower and slower on average as the block gets bigger and bigger

[16:56](#msg59ea2ac3f7299e8f5310d21b)@9214 it seems the right thing so far, in a sense a hash! is like a map! without restrictions for keys? of course can i expect constant time lookup of keys? thank you very much for the snippet

9214

[16:57](#msg59ea2b01614889d475dd05cb)`hash!` is good at read access, bad at write, IIRC `map!` is good at both

numberjay

[16:59](#msg59ea2b6b8808bed73d09d40c)mmm, i wonder why is that, why can't map! support blocks as keys? it's just a matter of hashing the memory address itself, or am i mistaken?

gltewalt

[17:01](#msg59ea2bd8e44c43700a59e4c3)@numberjay Theoretically yes, but select is pretty fast.

9214

[17:02](#msg59ea2c118808bed73d09d704)I guess because blocks are too "dynamic" to be treated as \*static* keys

[17:02](#msg59ea2c35f7299e8f5310d957)

```
text
>> blk: [1 2 3]
== [1 2 3]
>> map: reduce [blk 'abc]
== [[1 2 3] abc]
>> reverse blk
== [3 2 1]
>> map
== [[3 2 1] abc]
```

[17:04](#msg59ea2cab614889d475dd1064)

```
text
>> map: [[4 5 6] def]
== [[4 5 6] def]
>> clear first map
== []
>> map
== [[] def]
```

[17:05](#msg59ea2cf1614889d475dd122a)pehaps rules for `map!` keys will be relaxed a little, as it was recently with `binary!` keys

gltewalt

[17:13](#msg59ea2ecaf7299e8f5310e75d)With a fresh console:

```
>> blk: append/dup make block! 21000000 1 21000000
== [1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1...
>> poke blk 20000000 7
== 7
```

Test `select` speed:

```
>> delta-time [select blk 7]
== 0:00:00.568
```

Memory is a bigger issue, as there's no GC yet.

greggirwin

[17:14](#msg59ea2efad6c36fca3177c6ef):point\_up: \[October 20, 2017 10:59 AM](https://gitter.im/red/red?at=59ea2b6b8808bed73d09d40c) @numberjay, do you want to key based on the identify of a block, or its contents? I want the latter. You can see what that means in practice, yes?

rebolek

[17:31](#msg59ea32fef7299e8f53110093)@numberjay `hash!` is actually not that slow at insert, but much much faster at select as `block!`.

rgchris

[17:47](#msg59ea36c8e44c43700a5a242b)@dockimbel Not specifically for View, no. I do use an intermediary dialect for processing markup that has sort-of emerged over the years. What scope are you looking for in such a dialect?—Paragraph-level? Inline?

numberjay

[18:36](#msg59ea421932e080696e06217f)@greggirwin i need to key based on the identity, not the content (i wrote 'provided i don't mutate the block') i understand it's easy to shoot oneself in the foot by mutating the block, but in my use case (supporting immutable/persistent data structures) that cannot happen even accidentally

[18:45](#msg59ea4448b20c64242929cb58)@gltewalt thank you for your speed test. this clearly shows the search is linear (more than half a second for a lookup in a huge block if you're running an app at 30fps is clearly not the way to go). so i guess hash! is currently the best choice although i really wish that any artificial limitations on keys in maps get lifted

gltewalt

[18:47](#msg59ea44df8808bed73d0a642b)Maybe submit a Wish with your sales pitch?

numberjay

[18:56](#msg59ea46ca210ac269200f95c6)@gltewalt how to do that? my wish is no limitations on the type of keys for maps. then each one is responsible on how to use the newfound freedom :-)

greggirwin

[18:59](#msg59ea47a9d6c36fca317854e9)@numberjay, a `hash!` should work fine for you then.

valmirjunior0088

[19:01](#msg59ea481f614889d475ddb001)Quick question: can someone point me towards some link explaining how modularity works in Red? I looked through some of the links in the github repository but I could not find anything about how to declare my modules dependencies or how to structure a project. I would also like to know if there's something like a package manager for Red.

greggirwin

[19:03](#msg59ea486ae44c43700a5a8044)@valmirjunior0088, modules are not in place yet, and any kind of package manager will come after that. Red is still Alpha level, though pretty robust.

numberjay

[19:03](#msg59ea4885614889d475ddb270)@gltewalt @greggirwin i'm testing hash! with huge blocks (ten millions count, distinct values), lookups seem constant time and inserts (using append) don't seem that slow at all either. definitely the way to go so far. thank you for your very helpful suggestions. of course if map! could do without limitations on keys, just as hash! but even more performant, so much the better

gltewalt

[19:07](#msg59ea49608808bed73d0a7cfd)@numberjay Create a new Issue through github and use this as an example:  
https://github.com/red/red/issues/3065

valmirjunior0088

[19:08](#msg59ea49b3e44c43700a5a88dc)@greggirwin Oh OK, thanks. Is there any roadmap for that? I have been given the opportunity to implement the concepts of a research I've been conducting in any language of my choosing and I really liked Red after reading about it for a few days, but I do have a deadline.

9214

[19:09](#msg59ea49dde44c43700a5a8977)@valmirjunior0088 https://trello.com/c/zYuO0fiz/110-080-modules

[19:09](#msg59ea49e7614889d475ddbae8)we're at `0.6.3` now

greggirwin

[19:09](#msg59ea4a0432e080696e064e76)It's slated for 0.8.0, with 0.7.0 being the full I/O release...dang, beat by @9214 \*again\*!

9214

[19:10](#msg59ea4a2ef7299e8f531185c8):neckbeard: all your base are belong to us

valmirjunior0088

[19:11](#msg59ea4a4601110b7231df700c)@9214 @greggirwin Thank you both very much for your patience! I'll take a look.

greggirwin

[19:11](#msg59ea4a72e44c43700a5a8e20)@valmirjunior0088, the basic ideas used in R2 apply. You can use contexts, \*do* files, etc., or even port some bits like `include` and others. You'll find help here if you decide to do that.

9214

[19:11](#msg59ea4a7f5c40c1ba79c75762)@valmirjunior0088 meanwhile you can stick with `context` or even try to implement some toy module system prototype yourself

[19:12](#msg59ea4a92e44c43700a5a8ebe)ok, now Gregg beats me :^)

greggirwin

[19:12](#msg59ea4a95f7299e8f531187b7):^)

[19:13](#msg59ea4acde44c43700a5a8f72)@valmirjunior0088, what concepts and research are you pursuing?

[19:17](#msg59ea4bb7e44c43700a5a93d2)We have a number of new people joining. Check out https://gitter.im/red/red/welcome as well, if you're new to Red.

valmirjunior0088

[19:25](#msg59ea4dbcd6c36fca31787686)I can't disclose it right now, but summing it up, I am looking for ways to create a library that provides the building blocks for developing servers for any type of protocol. After a compliant protocol adapter is specified, the only thing a developer needs to supply is a handler.

[19:28](#msg59ea4e4c32e080696e066673)I am also looking into the general details of how a team of developers interact with things like testing and code formatting and make it easier.

9214

[19:28](#msg59ea4e6332e080696e0666f0)&gt; formatting

c'mon Gregg, you want to say something

greggirwin

[19:28](#msg59ea4e6e01110b7231df8587)Nice. Red is great for code generation, and also approaches where you don't even need to do that. Rebol's wide protocol support, and `parse` have been used for a lot of things along those lines.

numberjay

[19:28](#msg59ea4e745c40c1ba79c76d32)@gltewalt here we go :-) \[red/red#3084](https://github.com/red/red/issues/3084)

greggirwin

[19:29](#msg59ea4e99614889d475ddd4cf)@9214, yes, I do. But that kind of formatting is different. Let me get through my show the next two weeks and I'll be back on things with a vengeance.

9214

[19:30](#msg59ea4ee601110b7231df8890)@valmirjunior0088 Red is its own data format (i.e. language is homoiconic), I guess you can play around with this idea and see how it sticks

greggirwin

[19:31](#msg59ea4f1c5c40c1ba79c7707a)@valmirjunior0088, if you generate Red code, be sure to use the `new-line` capability to control formatting, and understand how new line markers work if you're using templates.

9214

[19:31](#msg59ea4f1de44c43700a5aa8a5)yes, and I believe `parse` could be used for defining some sort of protocols

[19:32](#msg59ea4f47d6c36fca31787db2)though full network IO support isn't quite here yet

valmirjunior0088

[19:32](#msg59ea4f565c40c1ba79c771a0)Yes, I was going to mention that. I saw that it's still a milestone.

greggirwin

[19:33](#msg59ea4f8c5c40c1ba79c7725b)At a high level, you can build a protocol dialect which can be used to generate both client and server FSMs. Then worry about I/O details.

valmirjunior0088

[19:34](#msg59ea4faf210ac269200fc5df)I am implementing prototypes of handler composition and TCP sockets on all kinds of languages, if network IO becomes available before my deadline, I will definitely try to implement my research in Red.

[19:34](#msg59ea4fda01110b7231df8cdd)But for it to be complete I do really need that package manager/module system, because my research is not only about the code part of the project, it is also about the developer part of the project

greggirwin

[19:35](#msg59ea500df7299e8f5311a6e6)You could do some experiments in Rebol, though Red's port model may advance things quite a bit.

[19:36](#msg59ea502532e080696e06720f)If your protocols are modules, that makes perfect sense.

valmirjunior0088

[19:36](#msg59ea504532e080696e0672dc)But it will be translatable, right? I mean, Rebol is for Red kind of what Ruby is for Crystal, isn't it?

[19:37](#msg59ea506bd6c36fca3178835c)Right now, I just need to implement a very basic prototype and present that, so I guess I'll be testing yet another language hahaha

greggirwin

[19:37](#msg59ea507932e080696e0673d9)Red is \*highly* R2 compatible, but not 100%. You may have to do some work to port, but usually it's not hard.

9214

[19:37](#msg59ea507fb20c6424292a167f)Red Team aims for ~90% compatibility with R2

valmirjunior0088

[19:38](#msg59ea50b101110b7231df9177)Nice. I'll be looking into R2 then.

greggirwin

[19:38](#msg59ea50b58808bed73d0aa4a8)Come here for help as you work, knowing you can't share all your details. We can at least help you ramp up on Redbol in general.

valmirjunior0088

[19:39](#msg59ea50d901110b7231df921c)About that: is this the appropriate channel for this kind of discussion? Or should I be asking this in red/welcome?

9214

[19:39](#msg59ea5106b20c6424292a199a)@valmirjunior0088 `/welcome` and `/help` will do

greggirwin

[19:40](#msg59ea511201110b7231df9447)This is fine. If you're asking basic questions, it may help others new to Red more in the Welcome room.

valmirjunior0088

[19:40](#msg59ea51265c40c1ba79c779d9)Okay, I'll keep that in mind. Thanks!

gltewalt

[19:48](#msg59ea52f88808bed73d0ab300)A lot of Rebol 2 `function` are directly translatable to Red. You can test some out by using, for example, `source remold` in Rebol 2 and copy/paste into Red repl

valmirjunior0088

[19:48](#msg59ea5323210ac269200fd770)Another quick question: Why R2 and not R3?

9214

[19:50](#msg59ea5387614889d475ddf003)my guess is because R2 is more older and bullet-proofed, while R3 was left in a half-baked beta state

valmirjunior0088

[19:50](#msg59ea53a3b20c6424292a2862)Ah, my bad. Didn't know.

greggirwin

[20:14](#msg59ea5924d6c36fca3178b1a4)R3 is still being developed, but not by Rebol Technologies. Compatibility with it will be lower than with R2, but you can check it out and draw your own conclusions.

numberjay

[22:06](#msg59ea737b5c40c1ba79c83255)i have a path! p

```
>> p: make path! [1 1 1]
== 1/1/1
```

and a block b

```
>> b: [[[x]]]
== [[[x]]]
```

how can i use path p to retrieve the x from block b?

b/p of course does not work

the result should be the same as b/1/1/1

i'm sure it's possible to do, Red seems capable to do pretty much anything, but i still don't know enough Red to sort this out

[22:30](#msg59ea79175c40c1ba79c84dd4)found a way!  
don't know if it's THE way though...

```
>> reduce make path! append [b] p
== x
```

gltewalt

[22:49](#msg59ea7d755c40c1ba79c86437)`print rejoin b p` ?

[22:53](#msg59ea7e7ab20c6424292b0876)red/help would be a better room for exploring things like this

## Saturday 21st October, 2017

toomasv

[03:33](#msg59eac001e44c43700a5c89e9)@numberjay Also:

```
get head insert p 'b
```

or, if you want to eat your cake and have it too:

```
get head insert copy p 'b
```

PeterWAWood

[03:36](#msg59eac0a9d6c36fca317a65b6)@9214 &gt; `hash!` is good at read access, bad at write, IIRC `map!` is good at both

Why do you think writing to a `map!` would be faster than writing to a `hash!`?

9214

[07:51](#msg59eafc6ed6c36fca317b3464)@PeterWAWood because I have no idea what I'm talking about, therefore I'm a silly person that misinforms others, spreads FUD, and should be punished ;)  
my, bad, I've consulted the docs:  
&gt; It provides a fast read access (using a hashtable internally) and a convenient, dedicated syntax.

numberjay

[08:35](#msg59eb06c7614889d475e0b822)@gltewalt yes thank you, i was carried away with my testing, i'll take care to ask those kind of beginner questions in red/help in the future  
@toomasv thank you, i like your snippet better than mine, especially because i forgot copy  
@9214 i'm quite pleased with the performance of hash!, it's effectively constant time for both reads and writes (using append) even with huge blocks, exactly what i was looking for :-)

dockimbel

[08:44](#msg59eb08db8808bed73d0d8c92)@rgchris As high-level as possible, inline mostly, but I wouldn't mind having a look at paragraph-level too if you have something.

PeterWAWood

[11:45](#msg59eb3358e44c43700a5e19a6)@9214 Sorry if I sounded critical. I don't think determining whether adding to a `map!` is faster than a `hash!` is straight forward. It will depend on what and where it is being added.

`map!`s are unordered, `hash!` are ordered. Inserting in the middle of a `hash!` will be much slower than appending to one. I presume that new values are simple appended when adding to a `map!`.

Appending a single value to a `hash!` is probably comparable to adding a single key/value pair to a `map!`. The value being appended to the `hash!` needs to be appended to it, hashed and the hashed value added to the index. The key being added to the `map!` needs to be hashed, the hashed value added to the index and the value added to the `map!`'s storage.

So I suspect it is correct to say on average adding data to a `map!` is faster than adding it to a `hash!`.

I think that the main determining factor in choosing between `hash!` and `map!` is more the feature differences than performance.

geekyi

[12:35](#msg59eb3efa210ac26920138299)Anyone seen this: https://themerkle.com/googles-automl-ai-clones-itself-into-a-better-version/ my internet is too slow to load it right now..

[12:36](#msg59eb3f4af7299e8f5315611e)Somewhat related: \[Deep Probabilistic Programming](https://news.ycombinator.com/item?id=15510598)

9214

[13:24](#msg59eb4aa28808bed73d0e7f46)@PeterWAWood everything's fine, perhaps I exaggerated things a bit :D thanks for detailed explanation

BeardPower

[14:24](#msg59eb588cb20c6424292e3fae)@geekyi Thanks for sharing. Seems we can have a Red 5.0 by AutoML in the future ;-)

[15:25](#msg59eb66cc210ac26920142578)Is the Red wiki outdated?  
It says:  
Red:

`FUNCTION is 2-argument auto-localising. It is a native function. FUNCT does not exist.`

But there is a func in Red:

```
>> test: func [var] [ print [var "ho"] ]
== func [var][print [var "ho"]]
>> test "jo"
jo
== "ho"
```

Is the type handling different in Red? The wiki page does not state this for FLOAT! vs DECIMAL!

Rebol:

```
>> print divide 2 + 2 8
0.5
```

Red:

```
>> print divide 2 + 2 8
0
```

\[Red wiki](https://github.com/red/red/wiki/Differences-between-Red-and-Rebol)

9214

[15:26](#msg59eb670d210ac269201427be)@BeardPower `funct` &lt;&gt; `func`

BeardPower

[15:27](#msg59eb674b01110b7231e3dd67)@9214 But Red func is Rebol funct?

9214

[15:28](#msg59eb67a132e080696e0ac0eb)@BeardPower no, Red's `func` is Rebol's `func` :D

BeardPower

[15:29](#msg59eb67d801110b7231e3df30)Ähmmm, hold on. Need go get my mind in sync :)

9214

[15:30](#msg59eb6803210ac26920142c00)Red's `function` is Rebol's `funct`, Red's `func` is Rebol's `func`

BeardPower

[15:32](#msg59eb6879614889d475e240b8)And funct does not exist in Red. Got it. I was a little confused, because the wiki does not mention func (as it's the same).

9214

[15:32](#msg59eb687f32e080696e0ac431)Rebol's `function` is way too verbose and it seems that no one really used it

BeardPower

[15:33](#msg59eb68cb5c40c1ba79cbe8fc)I see. And what about the 0.5 vs. 0 in the divide example?

9214

[15:36](#msg59eb6972f7299e8f53161468)@BeardPower perhaps Red tries to avoid inexplicit type casting, not sure if behavior you show is expected or not

[15:37](#msg59eb699fe44c43700a5ef72d)but that's make sense to me personally, if I divide two integers I expect to get another integer back

[15:38](#msg59eb6a08d6c36fca317ce454)I think @PeterWAWood proposed something about division https://github.com/red/red/issues/2433

greggirwin

[16:25](#msg59eb750fd6c36fca317d17ab)I could be wrong, but the int divide behavior may change in the future. It isn't a small change, because of other code that currently depends on it in the toolchain, IIRC, so not a quick fix. To do int divide in the future, we'll have a dedicated op.

BeardPower

[16:34](#msg59eb772b210ac26920147279)I see.

gltewalt

[17:06](#msg59eb7eb1614889d475e2a2b7)Is it the same under `math`?

9214

[17:07](#msg59eb7ec6f7299e8f53167119)and why it should differ?

gltewalt

[17:09](#msg59eb7f5df7299e8f53167374)I don't know. Haven't looked at it.

9214

[17:13](#msg59eb8031614889d475e2a8a4)`math` just changes the order of evaluation for `*` and `/` ops

BeardPower

[17:15](#msg59eb809932e080696e0b279d)@gltewalt Yes, it also returns 0

9214

[17:18](#msg59eb8172f7299e8f53167bec)@BeardPower well, that's because you've just evaluated normal block of code :D

[17:18](#msg59eb817e5c40c1ba79cc591e)

```
text
math: func [
    {Evaluates a block using math precedence rules, returning the last result} 
    body [block!] "Block to evaluate" 
    /safe "Returns NONE on error" 
    /local rule pos op sub end
][
    parse body: copy/deep body rule: [
        any [
            pos: ['* (op: 'multiply) | quote / (op: 'divide)] 
            [ahead sub: paren! (sub/1: math as block! sub/1) | skip] (
                end: skip pos: back pos 3 
                pos: change/only/part pos as paren! copy/part pos end end
            ) :pos 
            | into rule 
            | skip
        ]
    ] 
    either safe [attempt body] [do body]
]
```

[17:19](#msg59eb81b88808bed73d0f67c5)

```
text
>> math [1 / 2]
== 0
>> do [1 / 2]
== 0
```

BeardPower

[18:17](#msg59eb8f29b20c6424292f2985)@9214 What would be a "abnormal" block of code?

9214

[18:18](#msg59eb8f86b20c6424292f2a8a)@BeardPower the one that Red can't directly process without a dialect function (like `view` or `parse`)

BeardPower

[18:19](#msg59eb8f9f5c40c1ba79cc9959)Could you please provide an example?

9214

[18:20](#msg59eb8fda5c40c1ba79cc9a4c)

```
text
>> view [text "example"]
>> do [text "example"]
*** Script Error: text has no value
*** Where: do
*** Stack:
```

BeardPower

[18:22](#msg59eb90755c40c1ba79cc9c7e)Process aka evaluating, I guess.

[18:23](#msg59eb90abb20c6424292f3006)So math will always behave the same, right?

[18:24](#msg59eb90ead6c36fca317d9041)So if the int division get's its own function, as @greggirwin mentioned, will this be automatically reflected in math?

9214

[18:24](#msg59eb90eb5c40c1ba79cc9fca)I meant that in your example `do [divide 2 + 2 8]` will yield the same result as `math [divide 2 + 2 8]`, because `divide` is not supported by `math` and, after pre-processing with `parse` nothing will happen with order of evaluation and it will just `do` this block

[18:25](#msg59eb9117e44c43700a5f9d4c)@BeardPower maybe, and maybe not

[18:25](#msg59eb91288808bed73d0fb001)`/` could mean literally everything

[18:26](#msg59eb913ef7299e8f5316c2c4)

```
text
>> block: [6 / 2]
== [6 / 2]
>> do block
== 3
>> bind block context [/: :+]
== [6 / 2]
>> do block
== 8
>> bind block system/words
== [6 / 2]
>> do block
== 3
```

BeardPower

[18:29](#msg59eb920b5c40c1ba79cca4a7)Geez :)

Would there be some application for this (rebinding operator words)?

9214

[18:31](#msg59eb926b01110b7231e49561)well, DSL creation, defining proper abstractions, I don't know, whatever floats your boat

[18:32](#msg59eb92c1e44c43700a5fa574)

```
text
>> do [2 + 2 / 8]
== 0
>> math [2 + 2 / 8]
== 2
>> math bind [2 + 2 / 8] context [/: :-]
== -4
```

BeardPower

[18:33](#msg59eb92f632e080696e0b7d78)You broke it :)

[18:36](#msg59eb93c2d6c36fca317d9bf8)Why is the second math returning 2? / is bound to - so: 2 + 2 - 6 = -2, no?

9214

[18:37](#msg59eb93f6614889d475e2fed5)@BeardPower the second block is bound to `system/words`, `/` means what it means

[18:38](#msg59eb942432e080696e0b8289)but the order of evaluation is changed in `math` - `*` and `/` goes first, so in `math [2 + 2 / 8]` first `2 / 8` yields `0` and then `2 + 0` gives you `2`

[18:40](#msg59eb949632e080696e0b842e)of course I can re-define "global" `/` to mean something else, but then its original definition ("divide") is lost forever

[18:40](#msg59eb94a2b20c6424292f3f8d)you can retrieve it back though from `divide`

[18:41](#msg59eb94e2f7299e8f5316d34b)

```
text
>> 6 / 2
== 3
>> /: make op! func [x y][append form x form y]
== make op! [[x y]]
>> 6 / 2
== "62"
>> /: make op! :divide
== make op! [[
    "Returns the quotient of two values" 
    value1 [number! char! pair! ...
>> 6 / 2
== 3
```

BeardPower

[18:41](#msg59eb94f1f7299e8f5316d390)Ah, ok. You bound the / to - only for the block context.

9214

[18:42](#msg59eb952d210ac2692014f093)@BeardPower yes, Red (currently) can't go back in time with your console session and change the results every time you rebound block to some context :D

BeardPower

[18:44](#msg59eb95985c40c1ba79ccb334)Currently? It will behave like that in the future?

9214

[18:45](#msg59eb95add6c36fca317da526)who knows (I was kidding though ;))

BeardPower

[18:45](#msg59eb95d232e080696e0b8a4a)So rebinding "bind" to something else will get me into problems, as I cannot get it back, because there is only one bind.

9214

[18:46](#msg59eb95fdf7299e8f5316d87e)@BeardPower you're safe as long as you don't re-define original `bind` in `system/words`

BeardPower

[18:46](#msg59eb9617b20c6424292f4764)@9214 Red wizards... ;-)

9214

[18:47](#msg59eb962ef7299e8f5316d914)but even then it's original definition could be saved in separate context somewhere

BeardPower

[18:48](#msg59eb96668808bed73d0fc7e2)So after rebinding "bind" is a different bind than in system/words? How does Red know, which "bind" it should use?

[18:50](#msg59eb96db8808bed73d0fca53)Is there a function, which returns the current context?

9214

[18:50](#msg59eb96e45c40c1ba79ccb88e)@BeardPower every word in Red has a special property called \*binding\*, we can't directly see it, but you can imagine it as a pointer from word to a context there it's definition is stored.

[18:51](#msg59eb973fd6c36fca317daa8f)what `bind` does is changes word's binding (or binding of words in a block) and alters this hidden pointer(s)

BeardPower

[18:53](#msg59eb97a2210ac2692014fb12)Interesting. So rebinding "bind" itself, will also change that pointer. How can I find out, it there is another context, which has the original binding?

9214

[18:54](#msg59eb97e932e080696e0b93db)@BeardPower maybe you can traverse `system/words` and all other defined contexts

[18:54](#msg59eb97fa32e080696e0b945e)`context?` will return you the context to which given word is bound

[18:55](#msg59eb9819210ac2692014fce4)and `in` can fetch word's meaning from given context

BeardPower

[19:00](#msg59eb9946b20c6424292f557b)Nice. Someone, who wants to get into the Code is Data thingy really has to forget, what he knows about programming. Just as it's stated in the Red/REBOL docs.

kealist

[19:02](#msg59eb99d9f7299e8f5316e8ac) &gt;&gt; b: context \[x: 1]  
\== make object! [  
x: 1  
]  
&gt;&gt; c: first words-of b  
\== x  
&gt;&gt; context? c  
\== make object! [  
x: 1  
]

9214

[19:04](#msg59eb9a30b20c6424292f5803)

```
text
>> ctx: context [foo: 'bar]
== make object! [
    foo: 'bar
]
>> in ctx 'foo
== foo
>> do in ctx 'foo
== bar
>> context? in ctx 'foo
== make object! [
    foo: 'bar
]
```

kealist

[19:04](#msg59eb9a465c40c1ba79ccc9d2) &gt;&gt; same? 'x first words-of b  
\== false  
&gt;&gt; same? 'x 'x  
\== true  
&gt;&gt; same? first words-of b first words-of b  
\== true

9214

[19:05](#msg59eb9a7a210ac2692015063b)yes, thanks @kealist, this means that you can have a block of `[word word word]` there each `word` have completely different meaning

[19:06](#msg59eb9ac98808bed73d0fdb76)there's some old playground of mine that I used to get this concept  
https://gist.github.com/9214/1dd30a88383a3e46edf45e33e9def3a7

BeardPower

[19:11](#msg59eb9bd8614889d475e3207a)🤓

noctisdb

[23:13](#msg59ebd49532e080696e0c9a5e)Just a quick question, the windows download coming up with a Win32:Malware-gen warning?

[23:13](#msg59ebd4ac210ac2692015f68d)For anyone else\\

gltewalt

[23:14](#msg59ebd4ee5c40c1ba79cdc149)It's common for AV programs to complain about the binaries. Has something to do with compression used.

noctisdb

[23:16](#msg59ebd55ab20c64242930509e)Im used to general warnings, but its never been this exact with .exe's

gltewalt

[23:17](#msg59ebd59d614889d475e41684)Downloading the stable or the nightly build? (So I can try a new download of the same Exe)

noctisdb

[23:19](#msg59ebd5e5b20c64242930523e)stable, red-063.exe

[23:19](#msg59ebd607d6c36fca317ea9d8)Blocks the gui-console as infected, not the heuristics

[23:20](#msg59ebd63cf7299e8f5317ed93)Looks like someone else had an issue with the gui console as well with Avira, Im using AVG

gltewalt

[23:20](#msg59ebd64fd6c36fca317eaa9f)testing it now

[23:29](#msg59ebd868f7299e8f5317f4f9)AVG basic gave me the same warning and quarantined it

[23:30](#msg59ebd878e44c43700a60c8ac)Win32:Malware-gen

noctisdb

[23:31](#msg59ebd8e48808bed73d10e1b3)Was afraid of that, kind of need the gui console though right

[23:32](#msg59ebd8fb210ac2692016040c)Ill just make an exception for it

gltewalt

[23:32](#msg59ebd91f8808bed73d10e2d0)Yep

## Sunday 22nd October, 2017

noctisdb

[00:14](#msg59ebe301f7299e8f53181b68)Now everything is as it should be

[00:15](#msg59ebe3145c40c1ba79cdf4c1)totalvirus got 7 hits on it though, thats going to turn people away from it

dockimbel

[03:57](#msg59ec1728f7299e8f5318bdb1)@noctisdb Virustotal shows you which AV are good and which one you shouldn't trust, because of bad heuristics, and bad tech support (not fixing their software after multiple reports of false positives). Red windows binaries are clean, they are built on Linux using a minimal Wine set up. At some point, I wonder if we could get some money to fund Red by just suing those incompetent AV vendors. I think we could start by shaming them publicly.

noctisdb

[05:48](#msg59ec312801110b7231e6c790)I installed it on a whim just to try it, after stumbling across it while looking for a nice rising platform that's really trying to do cross-platform right (finally). It gave me piece of mind that its a false positive, but for others, they may see it, block it, and forget about it

[05:49](#msg59ec31668808bed73d120bd9)Now Im glad I did, I was looking for something like this over Lua for game development

[05:50](#msg59ec318f8808bed73d120c73)Tiny

dockimbel

[07:18](#msg59ec463c01110b7231e70c33)@noctisdb There are technical counter-measures we can take to reduce the false positives, though I really wonder if legal actions would not be more efficient to get rid of this annoyance once for all.

geekyi

[07:26](#msg59ec4837614889d475e5842f)@dockimbel what could be done technically? Trying to think from the perspective of the antivirus vendors, I think they're playing a cat and mouse game with malware.  
So, I'm curious to know what makes the toolchain look like malware and "fix" it, if it's possible to do without making compromises

[07:27](#msg59ec485b8808bed73d125dda)Also, there was a twitter conversation with Avira too I believe?

dockimbel

[07:54](#msg59ec4eabe44c43700a624b2d)@geekyi Avira failed to make any fix despite of their promise... they just whitelisted \*again* the executable I sent to them. They simply don't care at all. I think if the binary is downloaded through SSL and if it's signed, that should suppress the false positive for the `red.exe` binary, though, I don't know if that would also reduce the positives on the generated binaries.

geekyi

[07:58](#msg59ec4fb901110b7231e730bb)@dockimbel So, it's not really ssl, but signing of binaries right? There's also the master / slave swap of console/ compiler. Would this still need a separate binary?

dockimbel

[07:59](#msg59ec4fff8808bed73d1277c7)@geekyi As long as Red toolchain is not self-hosted, yes, we need two binaries. I think download through SSL matters, as the source can be identified from the certificate. That should increase the level of trust.

geekyi

[08:04](#msg59ec50f5f7299e8f53197603)A lot of people use the free `letsencrypt`, but they have a rather short renewal period

9214

[08:09](#msg59ec52488808bed73d127f77)@noctisdb look at the date  
https://twitter.com/red\_lang/status/887970289618829312

geekyi

[08:13](#msg59ec5310b20c64242931eb37)#2399

9214

[08:13](#msg59ec5328d6c36fca31804cbe)@dockimbel maybe you should paste an explanation on download page so that new Win users at least know what and why might happen (an ask anyone who cares to sign a public petition or something)?

[08:16](#msg59ec53ed614889d475e5b245)\[!\[images.duckduckgo.com.jpeg](https://files.gitter.im/red/red/pdUw/thumb/images.duckduckgo.com.jpg)](https://files.gitter.im/red/red/pdUw/images.duckduckgo.com.jpeg)

dockimbel

[08:21](#msg59ec550a5c40c1ba79cf5d1b)@9214 I was saving my High-Sparrow monk dress for Halloween, though, if we can catch Avira's CEO, we can organize a walk of atonement, no problem. ;-)

9214

[08:22](#msg59ec555f01110b7231e745e6)yeah, organize the party and get the crown (umbrella?) of evil Avirradon wizard

dockimbel

[08:24](#msg59ec55c132e080696e0e4d51)I was thinking about maybe writing an article about the "bad" AV, listing them and asking Red users to replace them by better ones. Though, I will probably just make a "don't use" AV list on the github README.

9214

[08:28](#msg59ec5696f7299e8f53198a28)with article you can escalate the drama even further via HN post ;)

[08:30](#msg59ec571a8808bed73d1290cd)though this could be considered as agressive marketing and PR, hence github list is better

geekyi

[08:32](#msg59ec5784e44c43700a626aea)"What can an open-source developer do these days to pass thru aggressive anti-virus filters?"

9214

[08:32](#msg59ec57b6b20c64242931fc47)"users suffer and AV vendors don't give a damn"

dockimbel

[08:33](#msg59ec57ce210ac2692017aa6c)@9214 Indeed, that would be the goal. Though, I'm not sure if that would pay off or not...

9214

[08:33](#msg59ec57d0f7299e8f53198eea)"Umbrella corporation infesting the future of programming with false reports"

[08:35](#msg59ec585a614889d475e5c254)for lasting effect you should put 5-10 buzzwords in the headline

dockimbel

[08:36](#msg59ec589db20c64242931ffec)@9214 I should remember to ask you next time I need a title for an article. ;-)

9214

[08:37](#msg59ec58b932e080696e0e576b)@9214 takes notes

noctisdb

[16:56](#msg59eccdc1e44c43700a644bd5)@9214 Theres was also a comment about Avira on one of the pages, so thats why I wanted to check. On Linux it was fine, but most of my game development is done on windows, and that would seem sad for someone to turn away because of AV, maybe just acknowledging it on the downloads page itself may help?

[17:01](#msg59ecced8d6c36fca31825246)Im in the process of converting code for a "built for twitch" game, Ive tested a couple languages to replace Lua for the frontend (Haxe and Nim), I think its a winner with \*no dependencies

rgchris

[17:01](#msg59ecceed8808bed73d148feb)@dockimbel Two initial thoughts I have are:

1\) Use a dialect based on HTML—in terms of resolving mismatched tags, there's only a few HTML5 algorithms that do this:

```
face/text: ["This is " <b> "Bold and " <i> "Italic" </b>]
```

Pros: HTML is familiar and well-established, ease of HTML-&gt;Rich Text conversion; Cons: the HTML5 algorithms may be costly.

2\) Use CommonMark's AST model as a base:

```
face/text: ["This is " strong ["Bold and " emph ["Italic"]]]
```

Pros: Another well-spec'ed markup language, ease of MarkDown-&gt;Rich Text conversion; Cons: nested blocks might get messy.

Common for both is that they are based on standards. My intermediary format is similar to the HTML one.

rebolek

[17:09](#msg59ecd0e4f7299e8f531b7e16)@rgchris second example is very Lest-like, which also allows suppression of unnecessary blocks: `["This is " strong ["Bold and " emph "Italic"]]`

rgchris

[17:12](#msg59ecd19432e080696e1051c3)I've suggested (to the horror of some) that refinements could be used to terminate a directive:

```
["This is " strong "Bold and " emph "Italic" /strong]
```

I do feel that nesting should be avoided to the extent it can be.

rebolek

[17:15](#msg59ecd238d6c36fca31825f44)Hm. It looks unusually indeed, but it's basically HTML with `<>` removed. Interesting.

rgchris

[17:16](#msg59ecd27f8808bed73d149eb5)I want to say the /terminate convention predates HTML usage, but that would require some digging to substantiate.

ozten

[18:35](#msg59ece4ece44c43700a64b11c)Hi everyone, I'm really enjoying learning Rebol/Red. I've found "best ways to debug" docs (`probe`, `trace`, `??`, etc), but am curious. Will the Red project build a proper debugger? Why did the Rebol community never implement a debugger?

9214

[18:37](#msg59ece5735c40c1ba79d1ca28)@ozten debugging features will surely come, but in my experience Redbol is so reflective that it's easier to poke around with `probe` than to use external tools

ozten

[18:44](#msg59ece6f7210ac269201a0065)@9214 thanks. I agree that Rebol is highly reflective, but I'd like to step through the execution without having to edit source files and then revert changes afterwards. Do you use a debugger in other less reflective languages? (I'm 50/50 between print and firing up the debugger.)

9214

[18:45](#msg59ece730e44c43700a64ba8f)@ozten  
&gt; Do you use a debugger in other less reflective languages?

I have little to no experience with less reflective languages ;)

ozten

[18:45](#msg59ece74f614889d475e82de8)cool. How did you discover Rebol/Red? It is quite amazing

9214

[18:46](#msg59ece76d614889d475e82e38)it depends actually, for quick fixes on-the-fly I'd use `probe`, and for deep dive guru meditation session I'd stick with debugger and step-by-step execution

[18:58](#msg59ecea3f5c40c1ba79d1dff1)@ozten felt like an outcast and weirdo after desperately trying to stick with Python, C, C#, even Haskell, learned a pinch of Lisp (SICP + Racket), got familiar with Forth ideas, got curious if there exists a language that merges two together, found Rebol, my jaw dropped on the floor, found Red, peed in my pants out of joy, got completely hooked, can't stop, now regularly attend local Red-o-holics meetups and occasionally bend spoons :neckbeard:

ozten

[18:58](#msg59ecea72b20c642429347c90)@9214 heh, awesome.

noctisdb

[21:01](#msg59ed0734e44c43700a65449e)Anyone used Red for currency mining?

gltewalt

[21:13](#msg59ed09ec614889d475e8c421)I you download through SSL, you are still at the mercy of someone else - the certificate authority.

noctisdb

[21:16](#msg59ed0aae8808bed73d15a49c)I noticed that some of the pools are generating APIs to interface with your own applications, simple JSON

gltewalt

[21:16](#msg59ed0ac532e080696e115515)@dockimbel What about using Reds own `checksum` to SHA256 the downloads?

## Monday 23th October, 2017

dockimbel

[03:51](#msg59ed6755b20c6424293670eb)@gltewalt The certificate authority is supposed to be part of the trusted root authorities, otherwise the whole chain of trust in SSL collapses. For `checksum`, auto-testing itself cannot prove that the binary was not modified, as `checksum` itself could have been modified then.

gltewalt

[04:38](#msg59ed72555c40c1ba79d408f8)Yes they're trustworthy, but the issuer doesn't always keep up on their end and they expire - And you're left using an expired cert while trying to get the issuer to resolve the issue.  
I experienced it several times while working on a 'non-war fighting military network' contract.

[04:45](#msg59ed73cee44c43700a66dc6e)If the AV companies would only do what you ask them to do, wouldn't have this inconvenience :worried:

dockimbel

[07:06](#msg59ed9501f7299e8f531e9d83)@gltewalt I just ask them to do their job and provide AV software that are not flawed. Most AV vendors do a decent job, though Avira/AVG and a few others are not among them.

greggirwin

[19:33](#msg59ee43f0f7299e8f5322b90c)@noctisdb, I don't know of anyone mining in Red. You'd want to drop down to Red/System for performance, but could easily control high level directives from Red. I've never mined, so can't say what the benefits would be.

[19:56](#msg59ee497fb20c6424293b57ad)@ozten, welcome to Red! A standard debugger, as you have with static langs, may not come for Red. For Red/System, it can certainly be done, but won't be until after 1.0. What we need to decide is where to put our efforts in tooling, because our world is quite different from other langs. Having tools we're used to helps us find our way, and get comfortable, but it can also lead us to retain old habits and think in old models. I can't say why nobody wrote a debugger for Rebol but, for myself, I knew I needed to learn the language enough to do so, and figure out how it should work to help a user in this very different language. By the time I got to know the language, I never felt the need to write a debugger. And I came from other tools where step-tracing was an important feature to me.

Still, it doesn't mean we don't and won't have a lot of tools to help, if we want them. There are some out there now (which may need updates), to help build and visualize gradient commands for `draw`, or see how math ops behave. `Parse` has a trace option, and @dockimbel recently posted a cool profiler using that feature.

\- Parse Info https://gist.github.com/dockimbel/7d6e53364d8b6d5f50c363c61876165d  
\- https://github.com/red/code/blob/master/Scripts/gradient-lab.red  
\- Red System Browser https://gist.github.com/greggirwin/91dc1c3971998e0babeedba9f7e60bc5  
\- Math Lab https://gist.github.com/greggirwin/7a5ce2fe7a95e6f7f8ef4ee1d2989d3e

[19:58](#msg59ee49e2210ac2692020e32b)If you hit an issue with Red, where you think a tool would help, share your thoughts here.

[19:58](#msg59ee4a03d6c36fca3189b4bb)The more specific and concrete you can be, the better.

## Tuesday 24th October, 2017

redredwine

[01:13](#msg59ee93b8e44c43700a6d19eb)I got the same message Win32:Malware-gen with AVAST anti virus. so basically I have to get Avast to exclude the folder in which I have the red executable. What is it that is being used that they don't like ? the problem is that if those AV continue flagging Red as having malware, it will slow down the adoption of Red in many organizations where security dept is strict.

PeterWAWood

[01:25](#msg59ee968be44c43700a6d2542)@redredwine I don't think many organisations which have a strict security department will be using AVAST.

redredwine

[01:37](#msg59ee9948b20c6424293cf492)I moved from AVG to AVAST when AVG started giving that error but found out that Avast gave the same warning, and did not bother to go back to AVG. What I am saying if there are that many AVs that reports that the RED binaries has malware, it will worry enough people out there to not adopt it in their orgs.

PeterWAWood

[01:45](#msg59ee9b21d6c36fca318b43b6)I think that there are far larger barriers to organisational adoption of Red that incorrect virus warnings from free supposedly "anti-virus" software.

In general organisations will have licensed copies of a supported version of Windows and won't resort to such free products. Organisations with strict security departments are far more likely to object to Red on the grounds that it allows users to far too much freedom.

Bear in mind that anyone planning to supply applications written in Red to organisations will be providing binaries created by Red, not the Red binary.

Do you free "anti-virus" programs report that Red-created executables are malware?

[01:46](#msg59ee9b5de44c43700a6d3b85)Can anybody confirm if the paid versions of AVG or AVAST report the Red binary as malware?

9214

[05:29](#msg59eecfd201110b7231f2f21f)I can confirm that free avast flagged executable produced by Red compiler once in a while, can't remember if toolchain was flagged.

dsunanda

[07:35](#msg59eeed36210ac2692023b7d2)I have several times sent Red executables (including 0.6.3) to Avast because the client-side scanner reports them as infected. The response after Avast has done checking at their end is always that Red is clean.

PeterWAWood

[08:00](#msg59eef3318808bed73d1f18cf)Just to be clear, can anybody confirm if the \*\*PAID\** versions of AVG or AVAST report the Red binary as malware?

[08:03](#msg59eef3ebd6c36fca318cc205)@9214 Thanks, though that isn't good news. It's bad enough that the Red binary is falsely reported as infected, it's worse that executables created with Red are too.

9214

[08:04](#msg59eef41201110b7231f3a242)@PeterWAWood I reported false positive if that matters, and it happened only once I believe

PeterWAWood

[08:05](#msg59eef433d6c36fca318cc42b)Thanks @9214.

9214

[08:05](#msg59eef45b210ac2692023def4)@dockimbel we will need more monk dresses :bird:

PeterWAWood

[08:09](#msg59eef52ef7299e8f5325f107)I'm just wondering what we can do collectively to get AVG and AVAST to take some action to improve the performance of their software.

9214

[08:10](#msg59eef579210ac2692023e3ed)what's the common practice in open source projects?

[08:10](#msg59eef58f32e080696e1ab980)and don't forget Avira :umbrella:

bdheeman

[11:13](#msg59ef206e8808bed73d1fff22)Hello!

rebolek

[11:13](#msg59ef20768808bed73d1fff34)Hi @bdheeman

bdheeman

[11:14](#msg59ef20a4e44c43700a6fa703)Is not GUI available for Linux at the moment?

[11:16](#msg59ef2116614889d475f3460b)@rebolek Hi :-)

[11:17](#msg59ef2151e44c43700a6faabf)Just trying Red, first time ;-)

[11:18](#msg59ef217101110b7231f491b8)Downloaded 0.6.3 yesterday

rebolek

[11:19](#msg59ef21b4b20c6424293f6d46)@bdheeman no, there’s no official Linux GUI yet.

[11:19](#msg59ef21d401110b7231f49378)However, you can take a look at WIP GTK GUI at https://toltex.u-ga.fr/RedGtk

bdheeman

[11:20](#msg59ef21ff614889d475f34b0c)@rebolek thanks, let me check

BeardPower

[11:42](#msg59ef2737f7299e8f5326ff08)With Syllable being abandoned and Haiku being hostile to C, would \[RedoxOS](https://www.redox-os.org/) being a nice target for Red?

9214

[11:47](#msg59ef284eb20c6424293f9087)@BeardPower :point\_up: \[check this discussion](https://gitter.im/red/red?at=59e1c273b20c642429fecbe0)

BeardPower

[11:55](#msg59ef2a2de44c43700a6fddb0)Thanks! I totally skipped some things here.

[12:06](#msg59ef2caa32e080696e1bef86)It's just interesting, that Microkernels are coming back these days. Google's Fuchsia OS is also using one.

bdheeman

[12:12](#msg59ef2e35614889d475f39a35)@rebolek It, the RedGtk, worked nicely on Antergos (ArchLinux, indeed) :-)

rebolek

[12:18](#msg59ef2f968808bed73d20571d)@bdheeman cool!

bdheeman

[12:28](#msg59ef31e301110b7231f4e77c)I think, the steps to build from GTK backend is Ubuntu specific only, where for a cross-platform language we must document all major Linux distributions, (package management, indeed) or best provide a static/pre-build binary as the Calibre software (for eBook management.)

rebolek

[12:30](#msg59ef327e8808bed73d206573)@bdheeman if you can document steps required on different distro, it would be highly appreciated

bdheeman

[12:34](#msg59ef335cb20c6424293fd053)@rebolek sure, I shall/can document ArchLinux and Slackware since I use these as well, in addition Debian/Ubuntu which had already been documented.

rebolek

[12:35](#msg59ef337901110b7231f4f168)@bdheeman that would be great

9214

[12:35](#msg59ef338032e080696e1c157a)&gt; Slackware

that's the spirit :^)

greggirwin

[16:48](#msg59ef6ec3210ac2692026ad6d)Thanks @bdheeman! Regarding the notes, earlier, about unsafe code in OSs. From The RedOx book:

&gt; You cannot write a kernel without unsafes.

&gt; In that light, a kernel cannot be 100% safe, however the unsafe parts have to be marked with an unsafe, which keeps the unsafe parts segregated from the safe code. We seek to eliminate the unsafes where we can, and when we use unsafes, we are extremely careful.

[16:49](#msg59ef6efeb20c64242941485d)Ah, microkernels. Still have my old QNX and OS-9 books here. Pretty sure the OS-9 manual said "you can use pre-written device drivers, or write your own."

[16:52](#msg59ef6fc9d6c36fca318f9d0c)Maybe I should find a used AmigaOS book to add to my collection.

[17:43](#msg59ef7bc0f7299e8f5328f2aa)Looks like a recent change altered lexing of numbers with group seps. Including a group sep now loads as a float, rather than an int. @dockimbel, is this by design?

```
>> n: 100000
== 100000
>> n: 100'000
== 100000.0
```

[17:44](#msg59ef7bfae44c43700a71df3c)Just happened to run a script here that failed, because I used a group sep and `repeat` choked on the resulting float.

9214

[17:44](#msg59ef7c0ab20c642429419641)@greggirwin I don't think so, looks like a bug

greggirwin

[17:52](#msg59ef7dc301110b7231f6c0e6)My thought as well, but I'm not always quick to see deeper design thoughts.

9214

[17:53](#msg59ef7dfcd6c36fca318ff1f0)AFAIK `'` is used as visual separator and it never converted integer to floats before

greggirwin

[17:53](#msg59ef7e135c40c1ba79df43df)I went back to my last build and it doesn't do it there.

[17:59](#msg59ef7f70b20c64242941ab67)https://github.com/red/red/issues/3088

## Wednesday 25th October, 2017

lepinekong\_twitter

[08:30](#msg59f04bc00182fa5f4d75c03c)Got error with http://rebol2.blogspot.fr/2014/04/native-windows-requestors.html -&gt; Script Error: invalid function definition: \[cmd \[string!] /v]

9214

[09:20](#msg59f0575d0182fa5f4d760033)@lepinekong\_twitter

```
>> foo: function [x][x + 1]
== func [x][x + 1]
>> foo: make function! [[x][x + 1]]
== func [x][x + 1]
```

[09:22](#msg59f057e6f7299e8f532d1a3f)and why you're trying to "port" (should I say copypaste?) old R2 script to Red if it's easier to write native version in Red from scratch with the same functionality?

lepinekong\_twitter

[12:40](#msg59f08623d6c36fca319529d4)@9214 because I'm newbie :)

greggirwin

[16:32](#msg59f0bcb432e080696e2461bd)

```
>> ? req
     request-dir     function!     Asks user to select a directory and returns full directory path (or block of paths).
     request-file    function!     Asks user to select a file and returns full file path (or block of paths).
     request-font    function!     Requests a font object.
```

[16:35](#msg59f0bd6db20c64242948358b)Maybe time to work up some basic UI helpers for those basic needs.

9214

[16:36](#msg59f0bd96614889d475fc2e39)@greggirwin more like `request` dialect

greggirwin

[16:36](#msg59f0bd9a8808bed73d28cce7)That is, the old `alert/inform/request-*` bits from R2.

[16:46](#msg59f0bff7d6c36fca31969998)Maybe best to see if @qtxie has plans to do them all (color, date, input, info) in the %comdlgs.reds file for each platform. Even if he does, they could be nice examples. @honix did a really nice little color picker some time back.

RnBrgn

[17:58](#msg59f0d0c332e080696e24dc60)Any updates on string interpolation? I don't have any need for it at the moment. I was adding code examples to Rosetta Code and one of the task is string interpolation. I searched through the conversations here and didn't see anything recent on the topic so I was a more curious than anything else. The Rebol example used REWORD and build-markup

planetsizecpu

[17:59](#msg59f0d11e210ac269202e0d2a)@greggirwin I did in #3031 for request-color, as rebol does if I remember right

9214

[18:00](#msg59f0d1548808bed73d2949c5)@RnBrgn

```
>> x: 'string
== string
>> y: 'interpolation
== interpolation
>> form compose [Do you really need (x)(y) ?]
== "Do you really need string interpolation ?"
```

greggirwin

[18:01](#msg59f0d1828808bed73d294b56)@RnBrgn I have a bunch of `format` stuff in the works, which contains it, but will be a little time before I get back to it. Then needs review, design discussion, etc. I can post a link to the working repo if you want.

9214

[18:01](#msg59f0d18f8808bed73d294bc5)I actually wanted to propose `conform` shortcut a while ago :^)

greggirwin

[18:04](#msg59f0d218f7299e8f53300473)@9214, but we're all non-conformists, so nobody would use that func.

[18:05](#msg59f0d2578808bed73d2950f8)If the English translates well, that \*might* be funny. :^)

[18:05](#msg59f0d26e01110b7231fdca3a)@planetsizecpu , just added a code comment to your ticket.

9214

[18:06](#msg59f0d2acd6c36fca31970ed9)@greggirwin pun-storms are brewing :cyclone:

[18:09](#msg59f0d33f614889d475fcb6cc)and I can see \[why](https://gitter.im/red/sandbox?at=59eff7cb0182fa5f4d744c7f) :^)

RnBrgn

[18:10](#msg59f0d3978808bed73d295791)@9214 @greggirwin I actually used rejoin as an example and it got flagged as being more like concatenation than interpolation. I'm guessing 9214's example might be the same.

greggirwin

[18:11](#msg59f0d3ef01110b7231fdd40d)@RnBrgn, probably so.

9214

[18:16](#msg59f0d4f2e44c43700a791423)

```
text
interpolate: func [string stuff][
    digits: charset [#"0" - #"9"]
    index: [some digits]
    placeholder: ["<" index ">"]
    also string parse string [
        some [
            change copy match placeholder 
            (take at stuff to integer! load match)
        |   skip
        ]
    ]
]

probe interpolate "This <3> <1> <2>" ['my #stuff "is"]
```

```
"This is my stuff"
```

[18:18](#msg59f0d58b01110b7231fddde1)I wouldn't be surprised if they flag `parse` as "more like TDPL parser than regex"

[18:21](#msg59f0d63de44c43700a791c03)@9214 puny humans!

toomasv

[18:43](#msg59f0db41f7299e8f533032cc)

```
>> do %regex~.red
>> {'my #stuff "is"} ~ {s/.(\w+)\W+(\w+)\W+(\w+)./This \3 \1 \2/}
== "This is my stuff"
```

planetsizecpu

[19:03](#msg59f0dfe5210ac269202e65a9)@greggirwin I will test it tomorrow. I'm looking forward for `request-color` as native word to use it in my scripts, feel it useful

gltewalt

[19:26](#msg59f0e560e44c43700a797023)String interpolation is unnecessary

[19:28](#msg59f0e5fbefd0429311a56f73)If you have a block centric mindset instead of string centric - don't need interpolation

[19:35](#msg59f0e773d6c36fca31978a33)@RnBrgn which Rosetta example?

greggirwin

[19:46](#msg59f0ea24b20c642429494ba8)A lot of things aren't necessary, but can be nice. A lot of non-programmers are comfortable with templates that have replaceable elements. If we can pass certain features through to them, that helps everyone. If we allow arbitrary evaluation, it also creates risk of course. But we can combine the concepts of interpolation and dialecting, to control that kind of thing, while still giving users some flexibility.

[19:49](#msg59f0eab0e44c43700a799046)For example, maybe we have a general interpolation model, but give it a `/safe` option that disables expression evaluation, or only allows basic math ops, etc.

dander

[19:58](#msg59f0ecdb614889d475fd52ee)

```
interpolate: function [s [string!]][
    code-start: #"{"
    code-end: #"}"
    text: [keep [to code-start | thru end]]
    code: [code-start copy block to code-end skip keep (do block)]
    rejoin parse s [collect [some [code | text]] ]
]
```

```
>> x: 123
== 123
>> interpolate "x is {x}, 2 + 3 = {2 + 3}"
== "x is 123, 2 + 3 = 5"
```

[19:59](#msg59f0ed3bb20c642429495c5d)In terms of safety, I feel like interpolation can make your own code more readable, but isn't appropriate for user input for the general case.

[20:00](#msg59f0ed55efd0429311a59d10)That being said, I'm also in the camp of "interpolation is not necessary in Red"

[20:24](#msg59f0f31be44c43700a79c618)I guess this function would have some problematic issues with bindings

greggirwin

[20:32](#msg59f0f4d8b20c642429498873)I'm glad to see a skeptical audience. That means any system we devise will have to prove itself.

9214

[20:36](#msg59f0f5bdd6c36fca3197da19)one could see interpolation as smart version of `replace/all`

[20:36](#msg59f0f5cf614889d475fd89ae)this means that, in theory, we could interpolate any data, not only `string!`s

[20:37](#msg59f0f6060182fa5f4d79cb07)i.e. `template` dialect or something

[20:40](#msg59f0f6d8210ac269202eeada)perhaps it could be dedicated refinement in `replace` itself

gltewalt

[20:46](#msg59f0f8230182fa5f4d79d669)Well the search value can be a block, and the replace value can be a block

9214

[20:47](#msg59f0f875d6c36fca3197e9fd)and..?

gltewalt

[20:48](#msg59f0f8a9efd0429311a5e20f)so you don't need `/all`

9214

[20:49](#msg59f0f8cf8808bed73d2a304b)

```
text
/all         => Replace all occurrences, not just the first.
```

gltewalt

[20:59](#msg59f0fb26614889d475fda83c)For changing all occurrences of A in: "a scotch, a bourbon, a beer"  
To something like: "one scotch, one bourbon, one beer".

Usually with Interpolation each "escape character" or whatever you want to call it, maps to a distinct value

greggirwin

[21:01](#msg59f0fb8c8808bed73d2a4014)We would also like to support formatted values, so just be a little patient.

9214

[21:03](#msg59f0fc15f7299e8f5330ef58)@gltewalt but interpolation should apply to \*all* "escape characters", not just the first one, that's what I meant

gltewalt

[21:10](#msg59f0fddd210ac269202f1145)Ok

RnBrgn

[22:00](#msg59f1098fd6c36fca319847bd)@gltewalt http://rosettacode.org/wiki/String\_interpolation\_(included)

akavel

[22:12](#msg59f10c3aefd0429311a64e5c)Hello! I tried to compile the `environment\console\console.red` from git master, but both red-063.exe and red-latest.exe failed for me, with different errors. Is there a suggested way I should approach this?

[22:12](#msg59f10c5232e080696e26335c)Or should I open an issue with more detailed description of the error messages?

[22:13](#msg59f10c7eb20c6424294a0394)Is there some "known workaround" or something?

9214

[22:13](#msg59f10ca4efd0429311a65002)@akavel it isn't clear from your message what errors you got, can you pinpoint them?

akavel

[22:14](#msg59f10ccbefd0429311a65073)

```
>red-063.exe -c red\environment\console\console.red

-=== Red Compiler 0.6.3 ===-

Compiling C:\dnload\red-etc\red\environment\console\console.red ...
Compiling libRedRT...
...compilation time : 2349 ms

Compiling to native code...
...compilation time : 70684 ms
...linking time     : 870 ms
...output file size : 933888 bytes
...output file      : C:\dnload\red-etc\libRedRT.dll

...compilation time : 650 ms

Target: MSDOS

Compiling to native code...
*** Compilation Error: undefined symbol: red/unicode/decode-utf8-char
*** in file: %/C/dnload/red-etc/red/environment/console/win32.reds
*** in function: exec/terminal/stdin-read
*** at line: 190
*** near: [unicode/decode-utf8-char as c-string! utf-char :len
    c
]
```

[22:14](#msg59f10cd332e080696e26351c)this one is for red-063.exe

[22:15](#msg59f10cf8f7299e8f53314ac7)

```
>red-24oct17-9b7f621.exe -c red\environment\console\console.red

-=== Red Compiler 0.6.3 ===-

Compiling C:\dnload\red-etc\red\environment\console\console.red ...
Compiling compression library...
...using libRedRT built on 26-Oct-2017/0:02:23+2:00
*** Red Compiler Internal Error: Script Error : find expected series argument of type: series object port bitset
*** Where: get-func-ctx
*** Near:  [any [
all [
entry: any [
find shadow-funcs decorate-func name
find shadow-funcs decorate-func original
]
decorate-exec-ctx entry/3
]
'null
]]
```

[22:15](#msg59f10cfd8808bed73d2aa4b0)above is for red-latest.exe

9214

[22:15](#msg59f10cfeb20c6424294a0623)@akavel are you trying to build Red from sources?

akavel

[22:15](#msg59f10d118808bed73d2aa4ed)not whole red, but I'd like just to build console.red

[22:16](#msg59f10d2732e080696e2636ed)I'd like to take a stab at maybe implementing #2487

9214

[22:16](#msg59f10d3032e080696e263701)@akavel anyway, why you're using Red toolchain and not Rebol2 as explained in \[readme](https://github.com/red/red#running-red-from-the-sources-for-contributors)?

akavel

[22:16](#msg59f10d40b20c6424294a077d)uh; is that the one I should be using?

9214

[22:17](#msg59f10d6d614889d475fe0cf0)&gt; You can also compile the Red console from source:

```
>> do/args %red.r "-r %environment/console/console.red"
```

akavel

[22:17](#msg59f10d89210ac269202f6405)oh, ok, thanks!

[22:18](#msg59f10dad0182fa5f4d7a4f8e)so, trying to understand this:

9214

[22:18](#msg59f10db032e080696e263972)@akavel I suggest you to wait for the next release which will introduce new console engine with plugins functionality

akavel

[22:18](#msg59f10dc38808bed73d2aa9c7)uh oh

[22:18](#msg59f10dd3f7299e8f5331501c)hmh, so if you say so...

[22:19](#msg59f10df9b20c6424294a0b96)hm; OTOH shouldn't be so hard to make a quick experiment, and just not send any PR immediately

endo64

[22:19](#msg59f10e03210ac269202f66ac)I use `substitute` function many times (I think author is Gabriele), so I changed it a bit to make it work in Red. Could be useful for some:

```
substitute: function [
    "Do variable substitution inside a string"
    string [any-string!]
    vars [object! block!]
] [
    out: make string 2 + length? string
    emit: func [str] [append out :str]
    rule: make block! 256
    if block? vars [vars: context vars]
    foreach word copy keys-of vars [
        append rule compose/deep [
            (either empty? rule [] ['|])
            (form word) ">" (to paren! bind compose [emit (word)] vars)
        ]
    ]
    parse string [
        any [
            start:
            to "<" end: (head append/part out start end)
            ["<" rule | skip (emit "<")]
        ]
    ]
    out
]

>> substitute "My <var> is <value>" [var: "name" value: "Endo"]
== "My name is Endo"

>> substitute "My <var> is <value>" context [var: "age" value: 40]
== "My age is 40"
```

akavel

[22:19](#msg59f10e04f7299e8f533150c8)until next release comes

9214

[22:19](#msg59f10e0732e080696e263afe)idk, it's up to you of course, it's just that you might doing double work

akavel

[22:19](#msg59f10e0be44c43700a7a6125)or does it come super soon?

9214

[22:20](#msg59f10e2e210ac269202f6758)@akavel hopefully in this year :D

gltewalt

[22:20](#msg59f10e3de44c43700a7a6252)

```
>> x: 4
== 4
>> form compose to-block "x is (x) 2 + 3 = (2 + 3)"
== "x is 4 2 + 3 = 5"
```

akavel

[22:20](#msg59f10e4332e080696e263c14)@9214 cool! :)

[22:21](#msg59f10e54efd0429311a65927)@9214 do I understand correctly it's expected to have Android support?

[22:21](#msg59f10e61d6c36fca31986000)with View?

9214

[22:21](#msg59f10e820182fa5f4d7a5742)@akavel no, Red team works on two releases in parallel now, `0.6.4` with new console engine and `0.6.5` with first version of Android support

akavel

[22:22](#msg59f10e8d32e080696e263d5f)@9214 ah

9214

[22:22](#msg59f10e9c210ac269202f68bd)@gltewalt uh-uh

```
>> form compose to-block "x is (x), 2 + 3 = (2 + 3)"
*** Syntax Error: invalid value at ", 2 + 3 = (2 + 3)"
*** Where: do
*** Stack: to-block
```

akavel

[22:22](#msg59f10ea90182fa5f4d7a57fa)BTW, is it expected that the View dialect will be the same in Android and e.g. Windows?

gltewalt

[22:22](#msg59f10eaf210ac269202f68e6)I noticed that load doesn't like commas

akavel

[22:22](#msg59f10eb8efd0429311a65af8)Would it make sense if I started prototyping some GUI on Windows,

[22:22](#msg59f10ec3b20c6424294a113c)and then expect it to work on Android too?

9214

[22:23](#msg59f10ec4614889d475fe13a9)@gltewalt it doesn't like any symbol that is restricted from usage in words

akavel

[22:23](#msg59f10ec9efd0429311a65b73)or are some differences expected?

gltewalt

[22:23](#msg59f10ecfe44c43700a7a656f):+1:

9214

[22:23](#msg59f10ed7f7299e8f53315439)@akavel not sure what you mean

akavel

[22:23](#msg59f10eefd6c36fca31986429)@9214 I'm interested in writing a GUI app for Android in Red

[22:24](#msg59f10f02210ac269202f6a35)but there's no Android in Red yet

9214

[22:24](#msg59f10f1b210ac269202f6aa2)there're some really prototype-ish examples somewhere

akavel

[22:24](#msg59f10f31210ac269202f6aeb)so if I write a GUI app for Windows, then wait till 0.6.5 comes, will it just magically compile and run OK on Android immediately?

[22:25](#msg59f10f59614889d475fe16e1)\[except some potentially not-yet-finished subfeatures]

[22:25](#msg59f10f71b20c6424294a14f2)Or, would I have to do some changes in the code? Potentially significant?

9214

[22:26](#msg59f10f7fe44c43700a7a687c)@akavel well, if you'll restrict yourself to widgets that exists both in Android and Win I guess \*maybe*

[22:26](#msg59f10f8eefd0429311a65eb8)perhaps @dockimbel can clarify a bit if he has time

akavel

[22:27](#msg59f10fbfd6c36fca319867ae)@9214 hm, but it looks like the View dialect is "generic", so I imagine some variants of the widgets should exist on all platforms...

[22:30](#msg59f1108dd6c36fca31986b53)@9214 thanks for the hint on compiling the console anyway! I'll try to download Rebol2 and test it next time I have a chance.

9214

[22:30](#msg59f1108eb20c6424294a1bb6)@akavel true, it's just that I'm not qualified to answer such questions about the work of others

[22:31](#msg59f110b4b20c6424294a1c5b)so, just making guesses, I think yeah, there will be a set of generic widgets which will work quite the same both on Win and Android platforms

[22:31](#msg59f110caefd0429311a664f8)@akavel you're welcome

greggirwin

[22:51](#msg59f1157c0182fa5f4d7a79b6)The goal is to have code run the same on all platforms. By using native widgets, there will be some things that won't, once those come. However, to start, the basic GUI system should all work the same on all platforms.

[22:52](#msg59f115a1614889d475fe35ec)And you can absolutely play with the current console code to experiment. Just know that a new console is coming.

## Thursday 26th October, 2017

saolof

[04:40](#msg59f16740614889d475ff79a5)Does red/system have some kind of union types?

dockimbel

[04:55](#msg59f16aa48808bed73d2c23a4)@saolof Not yet, though for now, you can overlap different `struct!` to simulate it. The compiler does not assist you for that, so you need to be sure to allocate enough space for the largest one. If you are careful enough, it works well in practice.

saolof

[04:58](#msg59f16b874ff065ac1878a47f)You mean allocating an instance of the largest type, and casting between the different variants?

dockimbel

[04:59](#msg59f16bb632e080696e27b9dc)About interpolation support, I never had a real need for it in Redbol, though I would be ready to add such support for users which rely on it a lot. That is a feature that could be "community-designed". So if you can collegially come up with a version of interpolation that is powerful enough and leverages the specificities of Red, we could add it to the standard library.

[05:00](#msg59f16bef8808bed73d2c2832)@saolof Precisely.

saolof

[05:20](#msg59f170a70182fa5f4d7be5a1)What's the easiest way to call functions in a .dll from Red? I was thinking of making a Red GUI to call some stuff I wrote in Rust

gltewalt

[05:40](#msg59f1755d8808bed73d2c4ece)Is this what you're thinking of?  
https://doc.red-lang.org/en/libred.html

pekr

[06:07](#msg59f17bbab20c6424294bdb50)I think that he is asking to call an external function, not the reverse (into red)? For that, just look into the Red/System documentation, it basically serves as a means to wrap external libraries. Then, in a Red level, you can use routines to wrap R/S functionality. In 0.6.4, there should come something like loading of dlls in runtime, or something like that ...

ghost~5680c5f416b6c7089cc058a5

[11:35](#msg59f1c86db20c6424294d773e)@akavel  
&gt; Hello! I tried to compile the environment\\console\\console.red from git master, but both red-063.exe and red-latest.exe failed for me, with different errors. Is there a suggested way I should approach this?

Compile using `red -c -r red\environment\console\console.red`  
The current console is written in a mix of red and red/system and you need to compile it using `-r`, i.e. in release mode (or use `-u` (According to `red --help`, it `Rebuild libRedRT and compile the input script (only for Red scripts with R/S code)`))

The new console in v0.6.4 branch can be compiled without `-r` or `-u` as it is written completely in red.

qtxie

[13:08](#msg59f1de52e44c43700a7e3a13)The new console still has a few Red/System code as the console need to work tightly with the red runtime.

MojzisekJan

[15:02](#msg59f1f8f04ff065ac187bbf69)Janko

9214

[15:08](#msg59f1fa664ff065ac187bc78b)@MojzisekJan very interesting

toomasv

[16:58](#msg59f214398808bed73d2ff453)There are small, but consistent differences between performance of `first random` and `pick random`:

```
>> compare-times/count [[first random [a b c]][pick [a b c] random 3]] 
Time         | Memory      | Code
0:00:00.327  | 0           | [pick [a b c] random 3]
0:00:00.465  | 0           | [first random [c a b]]
>> compare-times/count [[first random [a b c]][pick [a b c] random 3]] 1000000
Time         | Memory      | Code
0:00:00.346  | 0           | [pick [a b c] random 3]
0:00:00.502  | 0           | [first random [a b c]]
>> compare-times/count [[first random [a b c]][pick [a b c] random 3]] 1000000
Time         | Memory      | Code
0:00:00.356  | 0           | [pick [a b c] random 3]
0:00:00.483  | 0           | [first random [a c b]]
```

greggirwin

[18:00](#msg59f222b432e080696e2be33f)Love that tabular output @toomasv.

[18:01](#msg59f222ec8808bed73d304d45)The difference is that `pick` is an action, and `first` is just a func that wraps it.

toomasv

[18:02](#msg59f2232ee44c43700a7fe7b4)@greggirwin \*And* `random [..]` suffles block.

greggirwin

[18:05](#msg59f223d6e44c43700a7feca8)Right, but that overhead is the same in either case.

toomasv

[18:58](#msg59f2305fe44c43700a80347f)How so? `pick`doesn't reorder the block.

gltewalt

[19:16](#msg59f2349c5a1758ed0f52b58d)What about random/only in place of pick random?

toomasv

[19:33](#msg59f23870210ac26920357d65)Indeed, `random/only` does even better:

```
>> compare-times/count [[pick [a b c] random 3][random/only [a b c]]] 1000000
Time         | Memory      | Code
0:00:00.242  | 0           | [random/only [a b c]]
0:00:00.351  | 0           | [pick [a b c] random 3]
>> compare-times/count [[pick [a b c] random 3][random/only [a b c]]] 1000000
Time         | Memory      | Code
0:00:00.252  | 0           | [random/only [a b c]]
0:00:00.331  | 0           | [pick [a b c] random 3]
>> compare-times/count [[pick [a b c] random 3][random/only [a b c]]] 1000000
Time         | Memory      | Code
0:00:00.235  | 0           | [random/only [a b c]]
0:00:00.347  | 0           | [pick [a b c] random 3]
```

gltewalt

[19:41](#msg59f23a645a1758ed0f52d4be) How about `first random copy [a b c]` ?

[19:42](#msg59f23a8cf7299e8f53376d3d)Maybe make a table with all four ways

9214

[19:42](#msg59f23a8de44c43700a80700b)`copy` will add a slight overhead

gltewalt

[19:42](#msg59f23aa05a1758ed0f52d6b1)Yeah, I'm curious as to how much

greggirwin

[19:56](#msg59f23de3614889d475046f98)@toomasv, my mistake. I thought you were randomizing the block in both cases. Moving too fast here.

toomasv

[19:59](#msg59f23e99210ac2692035aa20)@gltewalt Compared to the best contender:

```
>> compare-times/count [[first random copy [a b c]][random/only [a b c]]] 1000000
Time         | Memory      | Code
0:00:00.239  | 0           | [random/only [a b c]]
0:00:00.785  | 77533184    | [first random copy [a b c]]
>> compare-times/count [[first random copy [a b c]][random/only [a b c]]] 1000000
Time         | Memory      | Code
0:00:00.233  | 0           | [random/only [a b c]]
0:00:00.765  | 75431936    | [first random copy [a b c]]
```

9214

[19:59](#msg59f23eb4e44c43700a808975)yikes

gltewalt

[19:59](#msg59f23eb7210ac2692035ab03)That's a lot of memory usage

greggirwin

[20:00](#msg59f23ee0b20c64242950632b)Copying the block a million times, without GC, will do that.

gltewalt

[20:00](#msg59f23eecd6c36fca319eb4ea):smile:

toomasv

[20:01](#msg59f23f2fb20c642429506a41)And that's without `copy`:

```
>> compare-times/count [[first random [a b c]][random/only [a b c]]] 1000000
Time         | Memory      | Code
0:00:00.252  | 0           | [random/only [a b c]]
0:00:00.518  | 0           | [first random [b a c]]
>> compare-times/count [[first random [a b c]][random/only [a b c]]] 1000000
Time         | Memory      | Code
0:00:00.265  | 0           | [random/only [a b c]]
0:00:00.535  | 0           | [first random [c a b]]
```

9214

[20:02](#msg59f23f5ef7299e8f53378b08)@toomasv can you share this fancy function with us?

gltewalt

[20:03](#msg59f23f818808bed73d30fdc2)Yes, I was just snooping through your github profile, looking for it

toomasv

[20:03](#msg59f23f815a1758ed0f52f433)It's Gregg's: https://gist.github.com/greggirwin/dd172d5dd1e3445b16052a89f000637f

9214

[20:03](#msg59f23f8cb20c642429506c46):+1:

greggirwin

[20:04](#msg59f23fbaf7299e8f53378d28):^) I was looking for it in @toomasv's gists.

[20:04](#msg59f23fe9e44c43700a809008)A collaborative effort.

toomasv

[20:05](#msg59f240045a1758ed0f52f7f9) :two\_men\_holding\_hands:

9214

[20:05](#msg59f2401ae44c43700a809179):eyes:

greggirwin

[20:05](#msg59f2402332e080696e2c9736)Ha! :^)

gltewalt

[20:06](#msg59f24030e44c43700a8091d2):mag\_right:

9214

[20:06](#msg59f24037f7299e8f53379065):mag: :shipit:

gltewalt

[20:08](#msg59f240d28808bed73d3106e0):v:

9214

[20:09](#msg59f24113d6c36fca319ec2dc)okay, remember that we're in the main channel :smile:

greggirwin

[20:11](#msg59f2417cd6c36fca319ec574)It's good to let others see that we're a welcoming and open group, not afraid to have a little fun. A \*little\*, I said, there is a lot of work to do!

[20:12](#msg59f24191f7299e8f5337986c)So get back to it @9214!

[20:12](#msg59f241bae44c43700a809b2d)I'll be off shortly, to sing and dance in a show tonight.

toomasv

[20:13](#msg59f241e18808bed73d310e7c) :dancer:

9214

[20:13](#msg59f241e8f7299e8f53379a02)@toomasv I encountered Grave Flaw in your script :japanese\_goblin:

```
Time         | Memory      | Code
0:00:01.336838 | 59465728    | [decode "fCe\w9!iBXJ1ijn&"]
```

toomasv

[20:13](#msg59f24201e44c43700a809c95)Where is the flaw?

greggirwin

[20:13](#msg59f242068808bed73d310f3b)I will have a Spanish accent, and dance a tango, yes.

9214

[20:14](#msg59f2421d5a1758ed0f5303c5)`|` separators, they don't fit :japanese\_goblin:

toomasv

[20:15](#msg59f24248b20c642429507c2c)You have to keep your time in bay :japanese\_ogre:

greggirwin

[20:15](#msg59f24274f7299e8f53379cd1)Should we use `round/to` for the stats? Is 3 places enough?

toomasv

[20:16](#msg59f24288210ac2692035c179)I think it is

greggirwin

[20:16](#msg59f2429232e080696e2ca634)OK, I'll fix that up right now.

[20:18](#msg59f2431832e080696e2ca928)Done.

[20:18](#msg59f2431ef7299e8f53379fbf)Please test @9214.

9214

[20:19](#msg59f24352210ac2692035c732):rage1: bueno!

```
Time         | Memory      | Code
0:00:00.127  | 6795264     | [decode "fCe\w9!iBXJ1ijn&"]
```

greggirwin

[20:19](#msg59f2436dd6c36fca319ed273)And it made your code a lot faster too!

9214

[20:21](#msg59f243c95a1758ed0f530e26)

```
text
Time         | Memory      | Code
0:00:00.001  | 0           | [decode "fCe\w9!iBXJ1ijn&"]
```

and now I wonder why I even bothered with macros

greggirwin

[20:23](#msg59f24455614889d4750499b9)I've only ever had a few things that weren't fast enough in R2, in 16 years of use. I'm just one person though. Some people will benefit from macros, but not many IMO. It will give a \*very* small number an important tool to work with.

[20:24](#msg59f2448a32e080696e2cb1cf)The pre-loading aspect will be useful to a lot more people.

lepinekong\_twitter

[22:05](#msg59f25c1e4ff065ac187e2f64)@9214

9214

[22:07](#msg59f25c89e44c43700a813952)@lepinekong\_twitter

[22:08](#msg59f25ce85a1758ed0f539f3b)the sacred ritual of mutual `ref!` pinging :^)

lepinekong\_twitter

[22:08](#msg59f25ceae44c43700a813ab3)@9214 sorry not accustomed to gitter :) try to find my posts and answers

[22:09](#msg59f25d08f7299e8f533839c9)@9214 can't find command to do so https://gitter.zendesk.com/hc/en-us/articles/200178991--commands

9214

[22:09](#msg59f25d148808bed73d31b244)yeah, gitter search is a pain in the butt

lepinekong\_twitter

[22:09](#msg59f25d2e5a1758ed0f53a128)@9214 ok thanks I'm not as stupid as I thought ;)

9214

[22:09](#msg59f25d2fe44c43700a813bce)there's :mag: icon on the left for room searching

lepinekong\_twitter

[22:10](#msg59f25d62e44c43700a813dc3)thanks

[22:14](#msg59f25e49614889d475053560)Will alias http://www.rebol.com/docs/words/walias.html supported in red one day ?

9214

[22:16](#msg59f25eb3e44c43700a8142e2)@lepinekong\_twitter I can see that it's different than `alias` but:

```
>> stampa: :print
== make native! [[
    "Outputs a value followed by a newline" 
    ...
>> do {stampa "MONDO Red"}
MONDO Red
```

## Friday 27th October, 2017

dockimbel

[01:42](#msg59f28eeb32e080696e2e1681)@lepinekong\_twitter `alias`: unsure, as it is very rarely used anyway.

greggirwin

[20:22](#msg59f3956932e080696e338cf3)Moving from the sandbox room, since this may be of general interest. We have `compose` for blocks, and I'm going to propose `composite` as the counterpart for strings, as part of the `format` work I'm doing. It's not complete string interpolation, as that will range much farther. This is still useful in its basic form.

The suggestion came up to support custom expression delimiters, which @toomasv quickly put in place to test. I also have an old idea from @endo64 that extended R2's `build-markup` to use custom contexts for evaluation. It's easy to get carried away with ideas, but these two may be worth including.

Naming is always the hard part. Do we use `/with` for custom markers? If so, we can't use it for the context refinement, where the other good word would be `/in`. But `compsite/in` sounds more like it does what `/into` does as a standard meaning. That is, compositing into a buffer. `/Using` is another possibility. In the version below, I went with `/marks` and `/with`.

Thoughts?

[20:22](#msg59f39583210ac269203c9b3e)

```
composite-ctx: context [

	eval: func [
		"Evaluate expr and return the result"
		expr [string!] "Valid Red, as a string expression"
		err-val "If not none, return this instead of formed error information, if eval fails"
		ctx [none! object!] "Evaluate the expression in the given context; none means use global context"
		/local res
	][
		either error? set/any 'res try [either ctx [do bind load expr ctx][do expr]][
			any [err-val  form reduce [" *** Error:" res/id "Where:" expr "*** "]]
		][
			either unset? get/any 'res [""][:res]
		]
	]

	; One of the big questions is what to do if there are mismatched expr
	; markers. We can treat them as errors, or just pass through them, so
	; they will be visible in the output. We can support both behaviors
	; with a refinement, and then just have to choose the default.
	; Putting the colons on the outside gives you a clean paren expression
	; on the inside.
	set 'composite func [
		"Replace :( ... ): sections in a string with their evaluated results."
		data [string! file! url!]
		/err-val e "Use instead of formed error info from eval error"
		/marks markers [block!] "Use custom expression markers in place of :( and ):"
		/with ctx [object!] "Evaluate the expressions in the given context"
		/local expr expr-beg= expr-end=
	][
		if all [marks  2 <> length? markers][
			;cause-error ...
		]
		set [expr-beg= expr-end=] either marks [markers][ [":(" "):"] ]
		data: either string? data [copy data][read data]    ; Don't modify the input
		parse data [
			any [
				end break
				| change [expr-beg= copy expr to expr-end= expr-end=] (eval expr e ctx)
				| expr-beg= to end
				| to expr-beg=
			]
		]
		data
	]

]
```

[20:22](#msg59f395a0e44c43700a877573)

```
composite/marks {Some [probe "interesting"] Red expressions like 3 + 2 = [3 + 2]} ["[" "]"]
composite/marks {Some (probe "curious") Red expressions like 3 + 2 = (3 + 2)} ["(" ")"]
composite {Some :(probe "curious"): Red expressions like 3 + 2 = :(3 + 2):}
o: object [a: 1 b: 2]
composite/with {Some :(probe "curious"): Red expressions like a + b = :(a + b):} o
```

[20:25](#msg59f39652d6c36fca31a5b022)For those newer to Red, there are some things to note here. `Eval` is not defined inside `composite` simply because of a current compiler restriction on funcs in funcs. Interpreted works fine that way. But you can see how the refinement arg for `/with` is passed through, and `eval` just allows it to be `none!`, rather than requiring the use of another internal refinement and a branch to use it in `composite`. Not to say this is always the best approach, but Red lets you structure things in a lot of different ways, and control logic based on value types very cleanly.

[20:26](#msg59f3968a8808bed73d381c25)And, for new Reducers, this code isn't something you may understand right away. There's quite a bit going on in there.

9214

[20:30](#msg59f3977d210ac269203ca682)do we really need to bound `composite-ctx` word? I think context can be anonymous

greggirwin

[20:32](#msg59f397ea614889d4750b9e6e)Not required, no. I almost always name things though.

[20:34](#msg59f3984af7299e8f533eb822)As we build system browsing tools, like https://gist.github.com/greggirwin/91dc1c3971998e0babeedba9f7e60bc5, we do need to consider how named vs anonymous values should be treated.

[20:38](#msg59f3996132e080696e33a1f3)Too late to edit, but we can factor out the dupe `do` in `eval` as well.

9214

[20:39](#msg59f3999532e080696e33a35d)Usually I `compose` my data and then `form` it, but `composite` works the other way around, so I wonder what are the use cases? String interpolation?

[20:41](#msg59f399dcf7299e8f533ec115)and what if I want each `:( ... ):` to be evaluated in dedicated context? (i.e. can I use `/with` with multiple contexts?)

[20:44](#msg59f39ab88808bed73d383416)Also, what's the escaping mechanism? With `compose` I can use `(quote (...))` to prevent inner `paren!` evaluation.

[20:45](#msg59f39ae7b20c642429579a8e)"touch this `:(...):` but don't touch this `:(...):`"

[20:51](#msg59f39c58f7299e8f533ecea4)`:(":(3 + 2):"):` ?

[20:52](#msg59f39c8c32e080696e33b2b3)if only I could use `^` instead of last `"` :^)

[20:55](#msg59f39d33f7299e8f533ed2c2)again, I think interpolation in Red should be not only about strings, but about data in general, otherwise we're loosing powerful abstraction

greggirwin

[20:59](#msg59f39e2e210ac269203cca5d)- The use case is where you have template data that may not be loadable. The closest func in R2 is `build-markup`  
\- There is no support for context per expression in the above. How important is that, and what would it look like in practice?  
\- There is no escaping or nesting mechanism in the above. Have to determine if we need it. With custom marker support, probably not, without that, likely so.  
\- This is \*one* function in the grand scheme of formatting and interpolation, not the whole thing.

9214

[21:05](#msg59f39f828808bed73d384f31)* perhaps `load` can use `/escape` refinement and evaluate only specified patterns?  
\* `/with [foo bar baz qux]` for multiple contexts or `/with foo` for one context?  
\* marker could always evaluate to its string copy, but it looks clunky  
\* if this could be a part of more general dialect (`format`?) then I'm ok :smile:

[21:06](#msg59f39fbdf7299e8f533ee2f7)say, `load/escape "foo :(1 + 2):" default` =&gt; `["foo" 3]`

[21:06](#msg59f39ff132e080696e33c533)or `load/only`, `load/some`

[21:07](#msg59f3a02c4ff065ac1884b411)then all you need to do is `form` your data and get interpolated string back

[21:08](#msg59f3a042210ac269203cd54b)in general, `/only` or `/some` can accept `parse` rule

greggirwin

[21:09](#msg59f3a0a1b20c64242957bb4d)- Your `load/escape` still means all the data has to be loadable.  
\- Multi context use still not clear. How do you say which expression goes with which context?  
\- Can't easily, unless we add support for skipping literal strings in expressions.  
\- Yes, it will be in the `format` suite.

9214

[21:19](#msg59f3a2df4ff065ac1884c256)* not sure what you mean, can you show an example on which `load/only` will choke?  
\* I meant something like binding one block to multiple contexts, only here it's content of markers (\[see](https://github.com/9214/rtool/blob/master/aids.red#L79)).

## Saturday 28th October, 2017

BeardPower

[18:12](#msg59f4c89bd6c36fca31aaa815)Is there a difference in Rebol and Red, because this works in Rebol, but not in Red?

```
button 200 form now
```

9214

[18:13](#msg59f4c8d65a1758ed0f5f007e)@BeardPower

```
view [button 200 with [text: form now]]
```

BeardPower

[18:14](#msg59f4c8f4e44c43700a8c4402)@9214 Thanks. Is this new or a difference to Rebol?

9214

[18:15](#msg59f4c95a210ac2692041918c)`with` keyword was introduced recently, I don't think it's possible to mix up standard code and `view` dialect in Red directly as in Rebol

BeardPower

[18:16](#msg59f4c96c8808bed73d3d088e)It does not work.

```
*** Script Error: VID - invalid syntax at: [with [text: form now]]
*** Where: do
*** Stack: view layout cause-error
```

9214

[18:16](#msg59f4c982f7299e8f5343a14e)@BeardPower grab latest release, because  
&gt; `with` keyword was introduced recently

BeardPower

[18:16](#msg59f4c998b20c6424295c7705)Ah, ok.

[18:17](#msg59f4c9d04ff065ac188974a7)So there is no way to init the button with a text from an evaluated expression like in Rebol without with?

9214

[18:18](#msg59f4c9f032e080696e388703)@BeardPower you can use `compose` on `view` block or `do` keyword inside `view` spec

[18:19](#msg59f4ca344ff065ac188976a8)

```
text
>> view [b: button 200 do [b/text: form now]]
>> view compose [button 200 (form now)]
```

BeardPower

[18:20](#msg59f4ca65b20c6424295c7b6d)Nice. What is the advantage/disadvantage of using with?

[18:20](#msg59f4ca7ce44c43700a8c4b2f)Or the 2 examples :)

9214

[18:21](#msg59f4cac2f7299e8f5343a93c)well, the advantage is that `with` accepts an arbitrary block of code that is binded to its face, as for disadvantages - haven't used it that much to tell you ;)

[18:22](#msg59f4caf3e44c43700a8c4cf6)there is/was some bug/feature with `with [draw: [...]]` when updating `draw` block ain't caused any visual changes

BeardPower

[18:24](#msg59f4cb56b20c6424295c7ef4)I want to create a button with the with of the UI window. I read, that there is parent, but b/parent/size is empty.

[18:27](#msg59f4cbf9e44c43700a8c5181)Got it. I forgot to use form :)

9214

[18:29](#msg59f4cc965a1758ed0f5f1012)@BeardPower ?

```
view [button 200 with [text: form parent/size]]
```

BeardPower

[18:31](#msg59f4ccf54ff065ac188982fd)Yes, I forgot the form, so it did not cast it to a string explicitly.

9214

[18:43](#msg59f4cfddd6c36fca31aac502)@greggirwin I would suggest using `mold/flat` \[here](https://gist.github.com/greggirwin/dd172d5dd1e3445b16052a89f000637f#file-compare-times-red-L23)

BeardPower

[18:55](#msg59f4d2875a1758ed0f5f28c9)@9214 Isn't the parent of the button the UI window, as I always get 100x100, regardless of how big the UI window is:

```
view [text "hello" return b: button do [b/text: form b/parent/size]]
```

9214

[18:55](#msg59f4d299210ac2692041bbfd)@BeardPower yes, I've noticed that too

[18:59](#msg59f4d3ace44c43700a8c7213)aaand it's still `100x100`

```
>> window: layout/options [button with [text: form probe parent/size p: parent]][size: 133x337]
100x100
== make object! [
    type: 'window
    offset: none
    size: 133x337
    text: none
  ...
>> p/size
== 133x337
>> window/size
== 133x337
>> p = window
== true
>> view window
```

[19:00](#msg59f4d3c0f7299e8f5343cc03)@qtxie could you please take a look? :point\_up:

BeardPower

[19:00](#msg59f4d3da8808bed73d3d35da)So is this a bug, or is parent just something different? :)

9214

[19:00](#msg59f4d3ddb20c6424295ca269)@qtxie we're expecting button text to be different than `100x100`

[19:01](#msg59f4d400614889d47510cda0)@BeardPower `p = window` gives us `true`, hence `window` is indeed parent of button

BeardPower

[19:02](#msg59f4d42af7299e8f5343cd2c)Ah, yeah. Just noticed.

[19:24](#msg59f4d9775a1758ed0f5f44df)Should this return the windows?

&gt;pane  
List of windows to display on the screen (block!).

But it has an empty block:

```
>> system/view/screens/1/pane
== []
```

9214

[19:26](#msg59f4d9f1210ac2692041ddf5)@BeardPower https://doc.red-lang.org/en/view.html#\_face\_object

[19:27](#msg59f4da06f7299e8f5343e8d0)&gt; List of child face(s) displayed inside the face.

BeardPower

[19:27](#msg59f4da38b20c6424295cbd9f)@9214 Yes, and also for screen: https://doc.red-lang.org/en/view.html#\_screen

[19:29](#msg59f4da7d32e080696e38cb40)@9214 Or does this just mean: display every window, which is in the block?

9214

[19:29](#msg59f4da9ce44c43700a8c90e7)@BeardPower

```
>> view/no-wait []
== make object! [
    type: 'window
    offset: 636x356
    size: 106x100
    text: "Red...
>> system/view/screens/1/pane
== [make object! [
    type: 'window
    offset: 739x345
    size: 106x44
    text: "Red...
```

[19:30](#msg59f4dabb210ac2692041e1f8)you haven't created any `view` windows and `pane` is empty

BeardPower

[19:30](#msg59f4dacab20c6424295cc025)I did in my code.

9214

[19:30](#msg59f4dae8d6c36fca31aaf4df)@BeardPower before or after `view [...]`?

[19:31](#msg59f4db07e44c43700a8c934f)without `/no-wait` refinement `view` will stay in event loop \*until the window is closed*

BeardPower

[19:31](#msg59f4db0ab20c6424295cc102)Inside :)

```
view[
    b: button do [b/text: form system/view/screens/1/pane]
]
```

9214

[19:31](#msg59f4db225a1758ed0f5f55b5)and after it's closed (or when `view` is in the event loop), pane is empty

BeardPower

[19:32](#msg59f4db4332e080696e38ce9c)I understand.

[19:32](#msg59f4db6532e080696e38cef8)Where do the values for offset and size come in your example?

9214

[19:33](#msg59f4db87614889d47510f18f)@BeardPower I believe `view` centers window at the screen automatically

BeardPower

[19:40](#msg59f4dd24e44c43700a8c9c3d)@9214 Yeah, but it seems it is incorrect:  
My values:

```
screen: 1920x1200
offset: 910x550
size: 120x100

2*910 = 1820
2*550 = 1100
```

Origin is left/top, correct? So why is the offset 100 pixel off in both axis?

9214

[19:42](#msg59f4ddb3210ac2692041ee40)\*shrug* :confused:

BeardPower

[19:43](#msg59f4ddc65a1758ed0f5f6270)Are these our mysterious 100x100? :)

9214

[19:50](#msg59f4df9ed6c36fca31ab09b5)@BeardPower not quite

```
>> system/view/screens/1/size - (636x356 * 2)
== 94x56
```

BeardPower

[19:59](#msg59f4e1b6f7299e8f53440a8a)Damn... Well, seems we need to wait for feedback.

## Sunday 29th October, 2017

gltewalt

[02:20](#msg59f53b01210ac2692043648d)Sorry about the successive Edit notifications. I made a few mistakes.

qtxie

[02:28](#msg59f53cdf8808bed73d3edfcc)Seems it's caused by the button's text is set before window's size is set. The following code works as expected.

```
view win: layout [size 200x200 b: button do [b/text: form win/size]]
```

[02:31](#msg59f53d9e210ac26920436c74)After the window created, we can get the right value:

```
view [return b: button "Click Me" [b/text: form b/parent/size]]
```

[02:34](#msg59f53e22e44c43700a8e2aea)On my Win7 box, Seems we cannot create a 100x100 window, the window's minimum size is `126x75`.

noctisdb

[05:11](#msg59f562e432e080696e3acb6a)Can someone help me out with something trivial, im using an either statement to hide/show buttons in a tab, seems straightforward, but its throwing an error

[05:15](#msg59f5640f614889d47513094e)`"Miner" [ at 50x220 text font-size 16 font-color black "To begin mining, click Start" startb: button font-size 30 " Start " [ miner/connect] stopb: button font-size 30 " Stop " [ miner/disconnect ] either miner/connected [hide startb show stopb][show startb hide stopb] ]`

[05:17](#msg59f56475210ac2692043ec77)\`"Miner" [  
at 50x220 text font-size 16 font-color black "To begin mining, click Start"  
startb: button font-size 30 " Start " \[ miner/connect]  
stopb: button font-size 30 " Stop " \[ miner/disconnect ]  
either miner/connected \[hide startb show stopb]\[show startb hide stopb]  
]

[05:17](#msg59f564848808bed73d3f5847)Well I suck at formatting in gitter apparently

gltewalt

[05:19](#msg59f564f9210ac2692043edf4)Backticks on line above code, and another set on line below last line of code

[05:22](#msg59f565aab20c6424295ed24e)And what does the error say?

noctisdb

[05:55](#msg59f56d60f7299e8f53461b82)

```
***Script Error: VID - Invalid syntax at: [either miner/connected [hide startb show stopb]]
***Where: do
*** Stack: layout layout layout cause-error
```

toomasv

[06:07](#msg59f57007614889d475132c4d)@noctisdb ‘either’ is not part of VID. Try including corresponding parts of this code in “Start” and “Stop” code-blocks.

noctisdb

[06:11](#msg59f570f9d6c36fca31ad1c30)Seems like a simple enough solution, didnt realize it was something like that

[06:46](#msg59f5793fd6c36fca31ad3787)Not as simple as I thought - good learning I support

[06:46](#msg59f57945f7299e8f534646a7)suppose*

toomasv

[06:54](#msg59f57b3f5a1758ed0f61a4bc)@noctisdb Did it work?

noctisdb

[06:57](#msg59f57bcd5a1758ed0f61a6e0)Not yet, tried a few different ways, even tried just manually using a show?: false for the face and button variable

[06:57](#msg59f57be5b20c6424295f19e3)Even an old rebol example

[06:57](#msg59f57bed4ff065ac188c0fa1)

```
style invisible-button button with [append init [show?: false]]
late-shower: invisible-button "I'm Here" return
return button 200 "Show Invisible Button" [show late-shower]
```

[06:59](#msg59f57c5132e080696e3b2132)Not having much luck, thinking about jsust changing the face text, and checking the other variable in a block to evaluate to connect or disconnet

[06:59](#msg59f57c674ff065ac188c1103)I cant type either apparently, pretty late here

toomasv

[07:16](#msg59f580665a1758ed0f61b866)@noctisdb Something like:

```
view [ 
	at 50x220 text font-size 16 font-color black "To begin mining, click Start" 
	startb: button font-size 30 " Start " [ startb/visible?: no stopb/visible?: yes ] 
	stopb: button font-size 30 " Stop " hidden [ startb/visible?: yes stopb/visible?: no ] 
]
```

9214

[11:15](#msg59f5b84d5a1758ed0f629a85)@qtxie thanks!

[11:17](#msg59f5b8cd614889d475144d61)@toomasv `startb/visible?: complement stopb/visible?: yes|no`

BeardPower

[12:54](#msg59f5cf68e44c43700a904a25)@qtxie Thanks for clarifying!

[13:06](#msg59f5d2718808bed73d41002a)@qtxie So the window size is not even set to an init value?

```
view win: layout [size 200x200 b: button do [b/text: form win/size]]

*** Script Error: win has no value
*** Where: form
*** Stack: view layout do-safe
```

But where is the 100x100 coming from?

```
view win: layout [size 200x200 b: button do [b/text: form b/parent/size]]
```

[13:48](#msg59f5dc4b8808bed73d41296c)Shouldn't the buttons 1, 2, 3 and 4 be in the center of the window, instead to the left?  
Why are the buttons 3 and 4 still in the first layout (they are added as a 3rd column)  
Center and right do align the columns to the left.

Goal:

```
a   b
c   d
  1
  2
```

In this example the buttons 3 and 4 are just added to illustrate the 3rd column.

```
view[
    across top
    button "a" button "b" return
    button "c" button "d" return   
    below center
    button "1" button "2" return
    button "3" button "4"   
]
```

9214

[14:58](#msg59f5ec7a614889d4751526e3)@BeardPower  
&gt; center \*\*the face's text\**

[15:03](#msg59f5edc24ff065ac188de9f4)

```
text
view [
    across
    button "a" button "b" return
    button "c" button "d" return   
    
    below pad 35x0
    button "1" button "2"
    button "3" button "4"   
]
```

BeardPower

[15:09](#msg59f5ef294ff065ac188deff1)@9214 Ah, OK. It's a little bit confusing, as the aligning options for across are for the face's position, not it's text position.

Unfortunately, Red does not support guides yet. Padding works, thanks, but unfortunately I need to calculate the padding myself. I hoped there is some automatic calculation for centering a layout throughout more columns. Like in spreadsheets.

[15:10](#msg59f5ef765a1758ed0f638a8c)I'm looking for a face like the spacers in Qt, which auto pad the left and the right spaces.

9214

[15:12](#msg59f5efca210ac26920461e69)@BeardPower :point\_right: https://gitter.im/red/red/gui-branch ;)

BeardPower

[15:13](#msg59f5f01b614889d475153638):+1:

9214

[15:14](#msg59f5f0425a1758ed0f638e34) @BeardPower I guess you can group buttons together into one \[panel](https://doc.red-lang.org/en/vid.html#\_panels) and somehow stretch it to fits window's width

BeardPower

[15:15](#msg59f5f0a8b20c64242960f607)@9214 I'm sure there is a solution, as the dialect is similar to the Qt layout system.

9214

[15:34](#msg59f5f507d6c36fca31af32e3)@BeardPower there are also \[`/help`](https://gitter.im/red/red/help) and \[`/welcome`](https://gitter.im/red/red/welcome) rooms which are better suitable for asking questions (that way other newcomers can see an answer and remember it for later use)

BeardPower

[15:40](#msg59f5f65bb20c642429610f68)@9214 So the branch channels are more for questions regarding implementation or bugs?

9214

[15:40](#msg59f5f685e44c43700a90f213)@BeardPower you mean `*-branch` naming? No, idk why we slapped it at the end :D

[15:41](#msg59f5f6974ff065ac188e0ec3)https://gitter.im/red/home

BeardPower

[15:43](#msg59f5f721614889d475155849)@9214 Yeah :)  
Oh, there is no https://gitter.im/red/red/help, only https://gitter.im/red/help but https://gitter.im/red/red/welcome

9214

[15:44](#msg59f5f756b20c64242961148f)whoops, copypasting is a sin :flushed:

BeardPower

[15:44](#msg59f5f774f7299e8f53484b91)I wondered, why gitter was asking me for access to my private repos (it was because of the non existent room).

[15:45](#msg59f5f7b6f7299e8f53484cc4)But sure, I will use the rooms you mentioned, so it's to everyone's benefit.

noctisdb

[18:59](#msg59f62515d6c36fca31b00815)@toomasv That did it, so it was yes/no instead of true/false, thats just crazy

toomasv

[19:38](#msg59f62e3f5a1758ed0f64a6fa)@noctisdb No, it was `/visible?` instead of `show`/`hide`. Logic values `yes`/`true`/`on` and `no`/`false`/`off` are interchangeable.

noctisdb

[19:42](#msg59f62f2ff7299e8f534949f2)Gotcha, I kept looking at rebol for show/hide, and visible is right in the docs https://doc.red-lang.org/en/view.html

[19:51](#msg59f6312de44c43700a92031d)This is a lot different than languages Im used to, but its been a fun learning experience

DeflatedPickle

[19:55](#msg59f63236d6c36fca31b0405f)I started learning Red today through a number of online resources, and I'm just curious since I haven't come across anything about multi-line strings - does Red have these?

kermitaner

[19:58](#msg59f632eab20c642429622a38)

```
s: {line1
line2}
print s
```

DeflatedPickle

[19:59](#msg59f63327d6c36fca31b04542)Oh, snap. Thanks.

kermitaner

[19:59](#msg59f6333fe44c43700a920d3d)youre welcome :smile:

## Monday 30th October, 2017

akavel

[00:56](#msg59f678b0f7299e8f534a8ccc)Hi! I tried the following script with 0.6.3, but I'm getting stack overflow error:

[00:57](#msg59f678e54ff065ac18904bcf)

```
Red [Needs: 'View]

state: make reactor! [
	text: "Helo"
]

view [
	panel react [ face/pane: layout/tight/only compose [text (state/text)] ]
]
```

[00:59](#msg59f679605a1758ed0f65ed39)

```
*** Internal Error: stack overflow
*** Where: layout 
*** Stack: view layout react layout react layout react layout react layout react layout   
>>
```

[01:00](#msg59f679c15a1758ed0f65ee9d)Any ideas how I could build a new layout programatically?

lepinekong\_twitter

[07:02](#msg59f6ce89614889d47518e6db)When typing in console call/show "powershell.exe"

With rebol, Powershell.exe console works except it says it cannot load PSReadline.

With red, Powershell shows up but cannot do anything like dir.

dockimbel

[07:25](#msg59f6d4078808bed73d4556ce)@akavel Your setup looks complicated to me, I'm not sure what exactly you want to achieve. `view` is calling `layout` already, and your reaction is immediate (not delayed), so this might cause troubles (though, I'm not sure exactly from where it the excessive recursion coming from). If you delay the first reaction, it works fine (though, you won't get the text displayed until you change it):

```
view [
    panel react later [ face/pane: layout/tight/only compose [text (copy state/text)] ]
    button [state/text: "World"]
]
```

There is most probably a much simpler solution, though you need to give more information about what you want to build, as there is probably different ways to achieve it.

akavel

[13:17](#msg59f72672f7299e8f534da5fa)@dockimbel Most high level, I'm trying to build a "calendar app", while being a total noob in red/rebol, to learn while building something I need. More specifically, at this point I tried to render a "month view", with clickable days. I don't have the exact code handy ATM, for this question I tried to distill the issue I had to smallest snippet possible. In my bigger case, I'm trying to rebuild the list of day-buttons after user clicks a button to change the visible month.

[13:21](#msg59f727744ff065ac1893712d)trying to recreate from my head and memory, may have errors:

```
state: make reactor! [
    today: now/date
]
build-month: function [day [date!] /returns [block!]] [
    month: []
    ; ... calculate days of the month...
    while [day/isoweek <= last/isoweek] [
        month: append month compose [button (to-string day/day)]
        day: day + 1
    ]
    month
]

view [
    button ">" [ state/today: 2017-11-15 ]  return  ; fixed date for testing/prototyping
    panel 7 react [ face/pane: layout/only build-month state/today ]    ; something 7 - to keep 7 in a row
]
```

unchartedworks

[13:52](#msg59f72eb7614889d4751af7b6)I made a functional library for Red Programmers.

[13:52](#msg59f72ebad6c36fca31b4c793)https://github.com/unchartedworks/HaskellRed

BeardPower

[14:08](#msg59f732795a1758ed0f694c68) @unchartedworks :+1:

We need a Red lib collection :)

unchartedworks

[14:15](#msg59f733fe976e63937e05b72c)@BeardPower ;) I think there is no Red package manager yet.

BeardPower

[14:23](#msg59f735e0f7299e8f534e03a5):)

9214

[15:12](#msg59f74174210ac269204c4c9a)more like a Red bridge for those who can't wear off Haskell

[15:13](#msg59f741a95a1758ed0f69b3b1)@unchartedworks just to mention - your library doesn't follow convention of arguments placement - series always comes first

[15:14](#msg59f741e9614889d4751b6c40)say, `filter`

unchartedworks

[15:17](#msg59f7427ed6c36fca31b54a2d)@9214 I think "filter predicate series" is better, if you treat "filter predicate” as a function, you can use it on different serries but not the series.

9214

[15:21](#msg59f743754ff065ac18941676)and how it differs from just passing the same predicate?

[15:22](#msg59f743bbd6c36fca31b550e9)or `filter-smth: func [series][filter series ...]`

unchartedworks

[15:22](#msg59f743c7976e63937e061cda)

```
xs: [1 "2" 3 "4" 5 "6”]
 filter :integer? xs
```

```
xs: [1 3 5 7 9]
 filter :integer? xs
```

[15:23](#msg59f743ed4ff065ac189418cb)

```
[1 3 5]
[1 3 5 7 9]
```

9214

[15:23](#msg59f74404b20c642429672884)and..?

unchartedworks

[15:39](#msg59f7479be44c43700a971a29)I think Red doesn’t support currying. With currying, filter can become a curried function.

```
f: (curry :filter) :isDigit)
```

9214

[15:39](#msg59f747b9d6c36fca31b56bff)@unchartedworks why it should support currying in a first place?

unchartedworks

[15:39](#msg59f747cbd6c36fca31b56ce6)I haven’t implented curry function.

[15:40](#msg59f747eaf7299e8f534e79de)For function composition.

9214

[15:43](#msg59f748a74ff065ac18943657)I think there're more idiomatic ways to support function composition in Red

unchartedworks

[15:43](#msg59f748ac976e63937e0639d7)I like function compositions. Such as,

```
map (map (T.strip . T.pack) . splitBy ';') $ lines content :: [[Text]]
```

[15:44](#msg59f748d7e44c43700a97214f)Not really, Red is not a functional language.

9214

[15:44](#msg59f748f732e080696e433854)&gt; Red is not Haskell

fixed that for you ;)

unchartedworks

[15:45](#msg59f749195a1758ed0f69e227)That’s why it’s HaskellRed, but not RedHaskell.

9214

[15:45](#msg59f74933f7299e8f534e8299)uh-huh

[17:02](#msg59f75b384ff065ac1894abc0)@9214 when in Rome, do as the Romans do

gltewalt

[18:40](#msg59f77223614889d4751c9d24)It isn't a pure functional language, and wasn't designed to be

greggirwin

[18:59](#msg59f7769ce44c43700a983403)Catching up.  
\- One "disadvantage" of `with` is that it's more verbose. If you don't need what it offers. VID makes for very concise specs, especially when prototyping and not dropping into Red for actions much.  
\- @9214 good suggestion on `mold/flat`. Will make that change shortly.  
\- @BeardPower, on layout alignment, coming up with good examples of how we want auto padding to behave is important. We can do that with mockups. But you can adapt the standard example from the blog to use columns

```
view [
    style chk: check "Option" data yes
    style hline: base 150x2 red
    below left    hline button "Ok" text "Text" field chk return
    below center  hline button "Ok" text "Text" field chk return
    below right   hline button "Ok" text "Text" field chk
]
```

So you can use a "hidden" face for padding, though it's still not auto-calc'ing everything for you, as you need to set its width.

```
view [
    across top
    button "a" button "b" return
    button "c" button "d" return   
    style hline: base 150x2 with [color: none]
    below center
    hline
    button "1" button "2" return
    button "3" button "4"   
]
```

You can also use `foreach-face` or `on-create` to adjust things.

9214

[19:02](#msg59f77756b20c6424296870a2)@greggirwin and perhaps reducing `blocks` before working with its content, that way I can write, say `[foo-1 foo-2]` with words that are bounded to snippets under testing

greggirwin

[19:08](#msg59f778b5d6c36fca31b695d8)@unchartedworks, nice work. We can do things a lot of ways in Red. The series-first convention just makes it more Red-like, but if your target audience is Haskell people, you can go that way. Not everything will be clear to those of us not in the Haskell camp. e.g., should the arg for `id` be evaluated, or be a literal arg? Is `const` exactly the same as `also`? How best to curry (Doc's `specialize` example is a nice one)?

In any case, all the bits that help us communicate with each other, across languages, is helpful.

[19:11](#msg59f77959d6c36fca31b69922)@9214, can you give me an example? If we reduce first, you won't see the code as the original data in the output, yes?

[19:14](#msg59f779fbf7299e8f534fb378)@9214, thinking a bit, should we use `mold/flat`, or just constrain the output. Once you get past a tiny snippet of code, it may not be visually useful. But if you have blocks that all start the same, ellipsizing them won't be useful either.

9214

[19:42](#msg59f780b9d6c36fca31b6be90)@greggirwin

```
one: [1 + 1]
two: [2 + 2]

compare-times [one two]
```

only the upper `Code` is missing though

```
Time         | Memory      | none
0:00:00      | 0           | [1 + 1]
0:00:00      | 0           | [2 + 2]
```

[19:43](#msg59f780ec4ff065ac18959a1a)no, wait, it works even without `reduce`

[19:44](#msg59f78102210ac269204dc73a)weird, seems that I haven't paid attention :confused:

[19:44](#msg59f7813a614889d4751cf2ca)perhaps numbering code snippets would help?

[19:45](#msg59f78150210ac269204dc89b)i.e. their indexes in the block that was provided

[19:47](#msg59f781d7e44c43700a98714f)and using `mold/flat` with size limits and `...` at the ends

[19:50](#msg59f782a0f7299e8f534fe428)either partially show content of `mold`ed block or word that is bounded to it (if any) inside `blocks` argument, plus indexing

BeardPower

[19:55](#msg59f783a54ff065ac1895a8eb)@greggirwin Thanks. I will post examples for auto-padding, when needed for my UI.

greggirwin

[20:00](#msg59f784f1614889d4751d0969)@9214, I see what you mean now, but it shouldn't work without reducing there (when keeping results). Will think on this, as having the shortcut names solves the output problem.

unchartedworks

[20:21](#msg59f789b8210ac269204df3cf)@greggirwin There are many good abstractions in Haskell. For instance, id, const, maybe, either, monad, function composition... With HaskellRed, it’s eaiser for Haskell developers to reuse the abstractions (and the Haskell documentations as well) in Red.

9214

[20:25](#msg59f78aa5f7299e8f53501352)but will they ever become actual \*Red developers\*..?

unchartedworks

[20:36](#msg59f78d4e32e080696e44c7dc)I think it’s good to learn more mathematics. Mathematics can help people use different perspectives to understand things. Why I learn different programming languages? It’s like Mathematics, it helps me to have different perspectives to understand code and software.

9214

[20:39](#msg59f78e02d6c36fca31b70553)ah, the irony

greggirwin

[20:40](#msg59f78e4cf7299e8f53502bca)@9214, they don't have to become \*exclusive* Reducers. If they can use Red to solve their problems, and we all learn from new perspectives, it's a win.

[20:42](#msg59f78ed0b20c64242968eda5)I believe it's been said that Haskell is intentionally \*not* practical, or that it works hard not to be successful. Something like that. Different goals entirely. But what happens if we can create a dialect for certain aspects of code that benefit from what Haskell prioritizes?

unchartedworks

[20:59](#msg59f792a25a1758ed0f6baa83)Haskell isn’t an error-prone language, I am confident of it and I don’t have to worry about run-time errors of software written in Haskell. I don’t think Haskell isn’t a practical language, I think it isn’t ‘practical' to learn Haskell, because it’s a mind-bending language.

greggirwin

[21:00](#msg59f792fd4ff065ac1895fa0d)It's practical for a subset of problems.

unchartedworks

[21:08](#msg59f794d6b20c642429691553)https://github.com/facebook/Haxl

akavel

[22:16](#msg59f7a4adf7299e8f5350ab1a)@dockimbel `later` seems to have worked for me, thanks! :)

## Tuesday 31st October, 2017

numberjay

[06:37](#msg59f81a44e44c43700a9b2640)@unchartedworks awesome! i'll have a deeper look at it  
by the way, while just skimming, why you did

```
and*: function [
    "Boolean and"
    x [logic!]
    y [logic!]
][
    either x == y [
        either x == true [true][false]
    ][
        false
    ]
]
```

instead of

```
and*: function [
    "Boolean and"
    x [logic!]
    y [logic!]
][
    either x == y [
        x
    ][
        false
    ]
]
```

unchartedworks

[07:45](#msg59f82a2a5a1758ed0f6e4976)@numberjay x == y doesn’t mean x and y are both true or false. For instance x: 2, y: 2.

rebolek

[07:56](#msg59f82caf210ac2692050c309)@unchartedworks `x` and `y` types are limited in header. You can’t pass `2` to that function.

unchartedworks

[07:58](#msg59f82d3cd6c36fca31b9c95e)@rebolek You are right. It’s a bit of defensive. When type-checking works, otherwise, it’s the last resort.

jackalcooper

[08:37](#msg59f83658210ac2692050f24a)What is the most popular way to do networking in Red now? I want to write the IM client of my company which requires websocket as well.

pekr

[08:38](#msg59f83688f7299e8f53531e91)Most probably some ZeroMQ binding?

rebolek

[08:41](#msg59f8371f5a1758ed0f6e86c9)@jackalcooper I would wait for full IO or you would have to rewrite your app, once it comes.

jackalcooper

[08:52](#msg59f839c44ff065ac1898f1c1)I see...

greggirwin

[15:36](#msg59f8988e4ff065ac189b14a5)@unchartedworks, you have some funcs with Red equivalents. Is one of your goals to show standard implementations, Reddish versions, or just the functionality as simply as possible?

unchartedworks

[15:41](#msg59f899934ff065ac189b19ec)@greggirwin For example?

9214

[15:42](#msg59f899d25a1758ed0f70cd4e)

```
text
>> and~ no no
== false
>> and~ no on
== false
>> and~ on no
== false
>> and~ on on
== true
```

[15:43](#msg59f89a105a1758ed0f70cece)hence

```
>> and*: func [x [logic!] y [logic!]][x and y]
== func [x [logic!] y [logic!]][x and y]
```

greggirwin

[15:43](#msg59f89a28614889d47522ab3e)

```
signum: :sign?
even: :even?
odd: :odd?
```

[15:45](#msg59f89a8fe44c43700a9e0b2b)And `and*/or*` as @9214 beat me to while I was typing. But if you only want to support logic values, your wrapper makes sense.

[15:45](#msg59f89ab4d6c36fca31bc3c94)Oh, `not'` as well.

unchartedworks

[15:46](#msg59f89adf5a1758ed0f70d73e)I see. that’s only because Haskell calls them that way.

```
even :: Integral a => a -> Bool Source #

odd :: Integral a => a -> Bool Source #

gcd :: Integral a => a -> a -> a
```

greggirwin

[15:47](#msg59f89b1232e080696e4a1012)Yes, but you can just do `even: :even?`, rather than writing your own implementation.

[15:48](#msg59f89b585a1758ed0f70da05)In `pred/succ`, `true` is your special case. No need to do the casting for chars to int and back again.

```
>> #"A" + 1
== #"B"
```

[15:49](#msg59f89b74e44c43700a9e0f46)Which means it's the same case as ints.

unchartedworks

[15:49](#msg59f89b76e44c43700a9e0f5e)I don’t have to, if there is an equivalent. However, “not’" is not as same as “not" in Red.

9214

[15:49](#msg59f89b86d6c36fca31bc4423)@unchartedworks there's `complement` btw, hence `not*: :complement` or whatever

[15:52](#msg59f89c2ab20c6424296e4aef)and why you're using this `*` naming instead of wrapping all functionality into dedicated context?

unchartedworks

[15:52](#msg59f89c354ff065ac189b2a04)@greggirwin I feel a bit of uncomfortable when I do #”A” + 1, that’s why I add types to handle them type by type.

9214

[15:52](#msg59f89c4eb20c6424296e4bdd)@9214 torsion fields from my rolling eyes covered the entire district and knocked out the electronics

greggirwin

[15:53](#msg59f89c85210ac2692053488a)You feel uncomfortable leveraging a key strength of Red? You might have to get over that. ;^)

unchartedworks

[15:53](#msg59f89c8cd6c36fca31bc4a7e)I use * as variant of a function, they are internal functions in general.

greggirwin

[15:55](#msg59f89ce5d6c36fca31bc4c52)Though there is a case you probably \*do* need to consider, which I don't see handled, which is using `pred` and a char going negative.

[15:55](#msg59f89d04d6c36fca31bc4d08)That will throw an error in Red.

unchartedworks

[15:57](#msg59f89d505a1758ed0f70e6bb)@greggirwin No. I didn’t express me very well. Since it’s a functional library, I have to handle types very carefully. Outside of the library, I guess I can get used to it. I shouldn't smoke when I am filling up a car even if I smoke.

9214

[15:58](#msg59f89d9b4ff065ac189b30b3)does functional paradigm says anything about type system?

unchartedworks

[16:01](#msg59f89e73f7299e8f5355990b)@greggirwin You are right. That’s a problem. pred can't handle the char which ascii value is 0. That’s just a decison I made, it will cause a run-time error.

greggirwin

[16:02](#msg59f89ea432e080696e4a284c)On type safety, how do you think your approach is safer than what I proposed?

unchartedworks

[16:03](#msg59f89ed3e44c43700a9e28d4)@9214 Haskell is a strong type language, that’s why Haskell compiler can prevent many run-time errors in other languages.

greggirwin

[16:04](#msg59f89f16b20c6424296e5cae)That doesn't answer my question. Values in Red are strongly typed as well.

9214

[16:04](#msg59f89f1b210ac269205356e1)@unchartedworks my question was about programming paradigm and not your favorite language

unchartedworks

[16:05](#msg59f89f3a5a1758ed0f70f6b7)@greggirwin That’s different. In that case, type is not enough, I should add some some boundaries checking.

greggirwin

[16:05](#msg59f89f59e44c43700a9e2c73)Also, be aware of how `percent!` values work when adding ints to them.

[16:06](#msg59f89f7d32e080696e4a2da5)I mean my question about type casting, and you not being comfortable with `#"A" + 1`.

unchartedworks

[16:09](#msg59f8a038f7299e8f5355a4a5)@greggirwin Right, percent! is a special case.

[16:13](#msg59f8a136976e63937e0d7139)

```
print succ 10% 
110%
```

greggirwin

[16:28](#msg59f8a4b0614889d47522ee27)@unchartedworks, typo in %prelude.red: `:toInteger :to-integer`.

unchartedworks

[16:30](#msg59f8a513614889d47522f087)@greggirwin it seems that it’s a typo. It isn’t.

```
toInteger :: a -> Integer
```

conversion to Integer

9214

[16:30](#msg59f8a52cd6c36fca31bc7e18)@unchartedworks `toInteger: :to-integer`

unchartedworks

[16:32](#msg59f8a59dd6c36fca31bc8111)toInteger is a function in Haskell.

9214

[16:32](#msg59f8a5a6d6c36fca31bc812e)cool

unchartedworks

[16:38](#msg59f8a70f976e63937e0d96bb)@greggirwin It’s my mistake. It’s a typo indeed.

```
toInteger: :to-integer
```

## Wednesday 1st November, 2017

builtap\_twitter

[01:34](#msg59f924acd6c36fca31bf46df)I've been watching the progress via https://trello.com/b/FlQ6pzdB/red-tasks-overview, waiting for the 0.7 (i/io suport) and for the past weeks activity stopped. Has the progress report moved somewhere else?

dockimbel

[02:10](#msg59f92d24e44c43700aa139b1)@builtap\_twitter We are back working on 0.6.4 right now, you can follow the daily commits to see which features are worked on. As soon as 0.6.4 is out, work on 0.7.0 will start (in parallel to 0.6.5).

numberjay

[02:46](#msg59f9358ab20c642429717f69)the current implementation of Red is not tail recursive (does not do tail recursion optimization/elimination and so blows the stack even for iterative processes implemented with recursive procedures)  
i'm sure tail recursion optimization is in the plans, will it be part of Red 1.0?  
or maybe even before?

greggirwin

[03:13](#msg59f93be04ff065ac189e8528)I don't believe it's a priority right now.

[03:15](#msg59f93c3c2a69af844b32c89c)Do you have a specific need for it?

lepinekong\_twitter

[06:31](#msg59f96a2b4ff065ac189f3a0c)\[!\[image.png](https://files.gitter.im/red/red/Yx7d/thumb/image.png)](https://files.gitter.im/red/red/Yx7d/image.png)

[06:31](#msg59f96a3eb20c642429724138)What is this ?

dockimbel

[06:33](#msg59f96ad4e44c43700aa2213d)@numberjay In the plans, but low-priority for now. The overhead for it in the interpreter would most probably be pretty high, while the compiler should be able to output optimized code for it.

[06:36](#msg59f96b614ff065ac189f3f00)@lepinekong\_twitter The console executable is compiled on your own computer, it's not downloaded. So either it is a false positive (most probably, and in such case you should consider using a better AV), or you computer caught a cold. You should submit it to http://virustotal.com to see which one it is.

wasamasa

[07:20](#msg59f975cdf7299e8f5359d208)Good morning, I'm trying out Red on Linux again and found a most peculiar issue in the argument handling for 0.6.3: `red -h` complains about a non-existing file instead of displaying the usage. `red -V` fails in the same way.

[07:21](#msg59f975e5d6c36fca31c082ca)Am I doing something wrong or should I try to build the development version and investigate further into this?

dockimbel

[07:21](#msg59f975f72a69af844b33a3aa)@wasamasa Could you provide the error message please?

wasamasa

[07:22](#msg59f9761b976e63937e119a87)

```
red -V
*** Error: cannot access argument file:
-V
--== Red 0.6.3 ==-- 
Type HELP for starting information. 

>>
```

dockimbel

[07:22](#msg59f97636b20c64242972782f)@wasamasa Are you using the stable version or the latest build?

wasamasa

[07:22](#msg59f97646614889d47526d8c6)It's the stable version for my distro.

dockimbel

[07:23](#msg59f9765d2a69af844b33a557)Please try again using the latest build then. I vaguely remember some fix for that kind of issue a while ago.

wasamasa

[07:23](#msg59f97662b20c6424297278ab)Alright, thanks.

[07:25](#msg59f976ece44c43700aa25952)Hum, the latest comment here describes the same issue: https://aur.archlinux.org/packages/red/

[07:25](#msg59f97703d6c36fca31c08886)I guess it's time to create a proper PKGBUILD then.

dockimbel

[07:27](#msg59f977455a1758ed0f74effe)@wasamasa The comment is from August month. Please check if that was fixed, if not the case, please open a ticket for it, we should process it quickly as it is a quite annying issue.

wasamasa

[07:36](#msg59f9798b5a1758ed0f74fafe)The issue is still present :&lt;

[07:37](#msg59f979a94ff065ac189f807c)I'll open a bug report and then have some breakfast.

[07:43](#msg59f97b3e614889d47526ee79)Done: https://github.com/red/red/issues/3092

ERIPECH

[14:08](#msg59f9d5595a1758ed0f76d1b4)Here some thoughts from my experiences - after preparing a course for programming. Just to give you the perspective what is needed for training and (real world) tasks for natural and social domain applications. It seems that you guys are lost in deep core stuff, while forgetting about real life stuff like getting started, finding information, evaluate data, display results, load datasets… Simple example: 1: Desktop GUI – 5 Questions randomly chosen for my students– limited time to answer each Question – automated evaluation – portable single execute file; 2 measurement report: input data from file and manually – calculate statistics – draw chart – setting markers within the chart – result table – send the resulting report to server; 3 simple image processing: read header and image (also DICOM) - object recognition and manual region selection – arrays, statistics, curve sketching, regressions, differential and integral calculations (straight forward easy things!) – show results like above. Many things are already there, but I became desperate because of interlocking, brackets and missing higher level functionality. Is there something like matplotlib, pandas in the pipeline? I also miss something like a yaml package; the parser is not really able to compensate (it’s more a regex machine). I do miss an appropriate mechanism to separate the building blocks in a way they are generated (e.g. gui with fields and buttons separated from function of each element separated from a more complex module which has to be evaluated during the execution …; and I don’t mean a callback mechanism. There must be something more intelligent. And YES – I do hate brackets, because they make the code unreadable.) The code starts to get confusing rather soon. It might also help if the building blocks would be more structured – but again: don’t think of an evolution, there may be something revolutionary. For those higher-level functionality – there might be also something like the “red-toolbox” (ruby like and not that inflationary like the cheese shop). Another issue is finding information. Thanks to “red”, its impossible to find anything on Google – because “red” is used much too often used in another context (… don’t misunderstand me in this case, this can also be an advantage to keep the information focused in one single place). I would suggest to set up a docu or wiki, where all the topics are concentrated and kept actual in one place (otherwise you have to look all over the internet … and you spend unnecessary time exploring low quality information sources) including the date and the red version, where the topic was tested and the code example evaluated. Otherwise there is so much outdated information and it is frustrating if all the nice code samples are not working with the actual release – and the little details to get the code running can’t be found. Even if dockimbel can solve them in a second – he should focus working on the concept and the core. And I want to solve the things on my own – that’s what about the fun with coding. Hope this messes you up into the right direction – we will see ;-)

pekr

[14:23](#msg59f9d8d1976e63937e13bbb3)Well, you talk about the project, which is at the 0.6.3 stage, yet you point out that the Team is lost in a deep core stuff? Now come on :-) I believe that Red Team has much bigger scope in mind, but Red still needs some time to mature on all fronts. Core language, toolset, docs, add-on libraries, etc.

[14:25](#msg59f9d94632e080696e506a11)Just my personal opinion, but what you talk about sounds a bit like the target for Matlab, Eve or other statistical tools? I am no saying Red is not going to serve us well in those areas, but not yet imo, unless there is stronger community involvement, which helps to bring some add-on tools to life.

[14:25](#msg59f9d96a614889d47528d839)I speak on behalf of my own experience, so please don't regard my words being any kind of an official statement ....

ERIPECH

[14:40](#msg59f9dcf9976e63937e13d7ef)Petr - why do you think its too early to bring it too life? At this point I don't see any blocking issue. IMHO its time to talk about higher level because this has massive influence and impact to the general structure - BRERICH

9214

[14:51](#msg59f9df77e44c43700aa49294)&gt; missing high level functionality

sorry, I chuckled  
\* we have dedicated github wiki and documentation, also red-lang articles, for beta stage it's sufficient enough; on you "outdated information" claim - can you show us some examples?  
\* we don't have fancy libs, because we don't have package manager and module system yet;  
\* if you want to solve things on your own and do a programming course for other people \*\*and\** expect full blown functionality, why you've chose \*\*beta\** software for this?

[15:02](#msg59f9e1fd4ff065ac18a1c96a)But more importantly - what would you suggest to us and to Red team? Abandon "deep core stuff" and start to build ecosystem on top of unfinished language?

[15:03](#msg59f9e24d976e63937e13fb5c)@ERIPECH sorry, forgot to mention you directly :point\_up:

ERIPECH

[15:10](#msg59f9e3f82a69af844b35f9fc)keep chuckling, your post doesn't include any constructive impact it is more 0815 than 9214

9214

[15:13](#msg59f9e4985a1758ed0f772c87)\[I see](https://upload.wikimedia.org/wikipedia/commons/7/7c/Graham%27s\_Hierarchy\_of\_Disagreement.svg)

rebolek

[17:08](#msg59f9ff7a4ff065ac18a28bf4)@ERIPECH thanks for you experience with Red. I'd like to comment on some of the things you wrote. They are certainly not part of the main language, that is still in alpha stage, but some of them could be implemented already by the contributors. So it’s up to us to help in this regard. So let's have a look at some of your points from my POV:

\* Is there something like matplotlib - I was working on graph style for VID, unfortunately I’m looking for a job right now and therefor do not have time to finish it. I'd like to get back to it, once I have more time as I have use for it. Maybe some will write different implementation in the meantime. Who knows.

\* I also miss something like a yaml package; the parser is not really able to compensate - I don’t agree that parser is not able to compensate, I wrote Markdown package for Rebol3 (haven’t wrote Red version yet, because of time) and `parse` is capable to do it. Anyway, this task is open for someone else, as I don’t have a need for YAML and time to write it.

\* gui with fields and buttons separated from function of each element - I agree that this separation is not that great in VID. It can be done with if you care about it, but another dialect on top of VID would help here. Maybe someone needs it enough to implement it.

\* I do hate brackets, because they make the code unreadable. - Well, then maybe Red is not the right language for you. I love brackets, because they make the code readable. Both statements are equally true.

\* It might also help if the building blocks would be more structured - Again, I can’t agree, Red seems very structured to me. Maybe it depends on what people are used to. Also, I do not want to nitpick here, but some structure to your post would really help with its readability.

\* Another issue is finding information. - That is true. But there are fortunately some efforts to organize links and documents. There is wiki (although it needs better structure) and there are some links docs. I believe it will get better in time.

greggirwin

[17:08](#msg59f9ff8de44c43700aa55f70)@ERIPECH, thanks for looking at Red. Sorry it doesn't seem to have what you need right now. More info, regarding features:  
\- https://github.com/red/red/wiki/Red-Project-Approach  
\- https://trello.com/b/FlQ6pzdB/red-tasks-overview

If there are specific resources that are out of date, please note them here. Red-by-example.org keeps up really well, and the official docs at https://doc.red-lang.org are solid, though the fast feature pace may put them out of date on some things. Again, please note any specific problems you encounter.

&gt; I also miss something like a yaml package; the parser is not really able to compensate (it’s more a regex machine).

`Parse` is not regex at all. We will have some kind of YAML lib at some point, I'm sure, for those who have to interop with it, but we don't need it for our own work. Red is already its own data format.

&gt; I do miss an appropriate mechanism to separate the building blocks in a way they are generated (e.g. gui with fields and buttons separated from function of each element separated from a more complex module which has to be evaluated during the execution …; and I don’t mean a callback mechanism. There must be something more intelligent.

What is your reference standard in this regard?

&gt; And YES – I do hate brackets, because they make the code unreadable.

Unreadable compared to what, a language with no open/close delimiters at all? Again, what is your point of reference for this? Opinions are fine, and we're always open to input and new ideas, but brackets are a fundamental element in the syntax, and not going away.

maximvl

[17:16](#msg59fa0183976e63937e14ca7d)just to give you a feeling of modern c++ syntax: https://github.com/AnthonyCalandra/modern-cpp-features/blob/master/CPP17.md

[17:21](#msg59fa027eb20c642429759e02)it's funny how many years ago I read posts about how people come to lisp and start making the language they know out of it instead of learning the lisp way

[17:21](#msg59fa0286614889d47529db38)now I see this happening with Red

[17:21](#msg59fa02b54ff065ac18a2a014)it's not about the language, syntax, brackets or anything, it's about the way you think

9214

[17:23](#msg59fa02fc32e080696e516d89)@maximvl I can relate to this, but I'd also say that such things speak in favor of Red's extensibility ;)

maximvl

[17:25](#msg59fa037632e080696e516fa2)sure, more flexible language is more misuse one can make

9214

[17:25](#msg59fa03a2f7299e8f535d14d4)&gt; It is a sin to reinvent the wheel unless it is just for the pleasure of exploration.

[17:31](#msg59fa04ed5a1758ed0f77ee89)@maximvl on the contrary, I think "Red way" indeed encourages to create new languages, though, there's a distinction between problem-oriented language and language that you're comfortable with but that is not suitable for the task at hand

wasamasa

[17:31](#msg59fa0508e44c43700aa58079)Regarding YAML, couldn't that be done by writing a libyaml binding?

maximvl

[17:33](#msg59fa055db20c64242975b02a)you can parse yaml easily with `parse`

wasamasa

[17:34](#msg59fa05a1b20c64242975b18c)I have my doubts, just look at the YAML spec and all inofficial implementations getting something about it wrong.

maximvl

[17:35](#msg59fa05d94ff065ac18a2b4db)so that's the problem of the implementations, isn't it?

9214

[17:35](#msg59fa05f75a1758ed0f77f46a)that would be handy for wide-spread use, but the question is - why we need data interchange format in a language that is \*its own data format\*?

maximvl

[17:36](#msg59fa060bb20c64242975b425)jeezuz, look at the spec: http://yaml.org/spec/1.2/spec.html

wasamasa

[17:36](#msg59fa0612614889d47529f01c)@maximvl I'd rather blame the complexity of the standard.

9214

[17:36](#msg59fa061d5a1758ed0f77f523)I mean, right now, at `0.6.3`, when Red team working hard on essential features

maximvl

[17:36](#msg59fa062332e080696e517d49)no wonder there are problems with implementations

[17:36](#msg59fa062c976e63937e14e770)50 pages of cryptic stuff

[17:36](#msg59fa063a2a69af844b36da1b)

```
%YAML 1.2
---
!!map {
  ? !!str "strip"
  : !!str "text",
  ? !!str "clip"
  : !!str "text\n",
  ? !!str "keep"
  : !!str "text\n",
}
```

[17:37](#msg59fa06604ff065ac18a2b963)http://farm9.staticflickr.com/8243/8476416058\_84944b8d7a.jpg

9214

[17:37](#msg59fa0670d6c36fca31c3c455)&gt; Patched at 2009-10-01

maximvl

[17:38](#msg59fa06a12a69af844b36dd06)http://yaml.org/spec/1.2/present2.png

9214

[17:39](#msg59fa06b5976e63937e14ea87)worth a PhD

wasamasa

[17:39](#msg59fa06b8d6c36fca31c3c6c5)JSON is the complete opposite, very short spec, but still a lot that can go wrong in an implementation: http://seriot.ch/parsing\_json.php

maximvl

[17:39](#msg59fa06d3e44c43700aa58b7c)in the end it's all about having a list of good test cases

9214

[17:40](#msg59fa06f25a1758ed0f77f9d3)@wasamasa btw, Rebol heavily influenced JSON design

[17:41](#msg59fa0732614889d47529f702)http://www.rebol.com/article/0423.html

Oldes

[17:52](#msg59fa09d2b20c64242975cb08)\[Here is the video](https://www.youtube.com/watch?v=-C-JoyNuQJs) as the link from Rebol article is not working anymore.

9214

[17:52](#msg59fa09e332e080696e51964c)thanks @Oldes

wasamasa

[17:53](#msg59fa09fce44c43700aa59de4)How do I do formatting or joining things to a string?

9214

[17:53](#msg59fa0a2e32e080696e51980b)@wasamasa ?

```
>> rejoin ["string" space 'stuff]
== "string stuff"
```

greggirwin

[17:53](#msg59fa0a30f7299e8f535d3ab3)People coming to a new langauge often find their way, and help themselves, by bringing what they know. I did this too. Many of my early funcs were implementations of things I was used to (and how I thought). Eventually I moved away from that, but everyone's experience will be different.

9214

[17:54](#msg59fa0a54d6c36fca31c3da0f)@wasamasa :point\_up: Gregg can consult you with `format`ting :^)

wasamasa

[17:54](#msg59fa0a665a1758ed0f780e28)@9214 Thanks!

greggirwin

[17:55](#msg59fa0a825a1758ed0f780f15)Ren (ren-data.org) is the direction some of us want to go, to avoid the complexity of YAML, while providing more than JSON.

9214

[17:55](#msg59fa0a9332e080696e519a60)@wasamasa it's not the only way though, you can use combination of `append` and `form` (or `mold`), maybe `compose` and `form`

```
>> append "string" form 123
== "string123"
```

Oldes

[17:56](#msg59fa0ad3d6c36fca31c3dec5)

```
>> append "string " 123
== "string 123"
```

maximvl

[17:56](#msg59fa0ae1976e63937e150310)@greggirwin would be nice to see more examples on ren website

9214

[17:56](#msg59fa0ae8976e63937e1503d1)@Oldes :flushed: my reputation is doomed

greggirwin

[17:57](#msg59fa0aefe44c43700aa5a456)@wasamasa, I have a `format` library and dialect in the works, but there's no review planned yet.

wasamasa

[17:58](#msg59fa0b3f2a69af844b36f98e)@greggirwin Implementing it as dialect sounds right, `printf` in C is a DSL after all...

greggirwin

[17:58](#msg59fa0b48f7299e8f535d4174)@maximvl, of course. It's a matter of priorities.

[17:58](#msg59fa0b595a1758ed0f7813ac)@wasamasa, yes, a `print-f`-like element will be part of it.

maximvl

[17:58](#msg59fa0b5e976e63937e15068f)@greggirwin are you in charge for the website?

greggirwin

[17:59](#msg59fa0b862a69af844b36fb34)@wasamasa: https://github.com/greggirwin/red-formatting

[17:59](#msg59fa0b8a614889d4752a0fc4)@maximvl, yes.

wasamasa

[18:17](#msg59fa0fcbe44c43700aa5c324)How do I retrieve ARGV? I've tried `extract-boot-args`, but that gives me only the second to last ones...

9214

[18:19](#msg59fa103a5a1758ed0f783090)@wasamasa what about `system/options/args` or `system/script/args`?

wasamasa

[18:20](#msg59fa1065614889d4752a2de3)I didn't find those on http://www.red-by-example.org/index.html but let me try.

[18:21](#msg59fa10a3e44c43700aa5c81c)Ah, `system/script/args` gives me a space-separated string and `system/options/args` a list. Thanks!

9214

[18:21](#msg59fa10bd32e080696e51bfde)you're welcome

wasamasa

[18:22](#msg59fa10e02a69af844b372105)Is there a better list of supported functions than on the above website?

9214

[18:22](#msg59fa10ee614889d4752a3071)@wasamasa type `what` in console ;)

[18:23](#msg59fa113de44c43700aa5ccc0)btw, there're \[`/welcome`](https://gitter.im/red/red/welcome) and \[`/help`](https://gitter.im/red/help) rooms which are a little bit more suitable for asking questions, in a sense that other newcomers will see answers too

wasamasa

[18:25](#msg59fa117f2a69af844b372574)Thanks, didn't know about these.

9214

[18:25](#msg59fa11b14ff065ac18a2ff3a)@wasamasa make yourself at \[home](https://gitter.im/red/home)

greggirwin

[18:31](#msg59fa12fd5a1758ed0f783fda)@wasamasa, you can also `probe` `system/options` or `system/script` to see what else they contain. `What` gives you the full list, while `help` lets you search for things.

wasamasa

[18:58](#msg59fa195dd6c36fca31c43c8e)Is there a special bug reporting policy on segfaults and such? I've found one Lisp system where the documentation stated that any kind of abuse of the runtime isn't considered a bug...

rebolek

[19:01](#msg59fa1a24b20c642429763501)No, segfaults are considered bugs. Red is still in alpha, such problems are expected, but certainly not welcome.

wasamasa

[19:07](#msg59fa1b5b614889d4752a6b98)OK, not really a segfault, just an access violation, but still, incorrect `make error!` usage crashing the console is somewhat worrying.

rebolek

[19:10](#msg59fa1c29d6c36fca31c44d7e)Segfault, or access violation, they should not happen. The interpreter should catch the bug and throw an error. Please, report it.

maximvl

[21:06](#msg59fa373f614889d4752b08c9)my typed dialect now handles cases where types are unknown properly :D

```
typed [
   external [
      add [integer! integer! integer!]
      subtract [integer! integer! integer!]
   ]
   set id func [thing] [thing]
   set x id 5
   set y id "test"
   add x y
]
*** Throw Error: no catch for throw: {argument type mismatch for function `add` expected: `integer!` got: `string!` at `^/    add x y^/` for argument `2`}
```

[21:09](#msg59fa3805f7299e8f535e4793)I'm going to finish function definition parsing and first version will be ready for public

greggirwin

[21:24](#msg59fa3ba4b20c64242976f5eb)Cool @maximvl .

rebolek

[21:54](#msg59fa429532e080696e52de71)So I was thinking about `path!` a bit.

```
>> o: object [a: [b: ["hello"]]]
== make object! [
    a: [b: ["hello"]]
]
>> o/a/b/1
== "hello"
```

Boring, right? So let's make it more fun:

```
>> .: []
== []
>> ./(_: first head insert clear . o 1)/(first words-of _)/(to word! "b")/1
== "hello"
```

greggirwin

[22:44](#msg59fa4e424ff065ac18a45e86)To all lurkers, @rebolek is an expert Redbol developer, and maybe also the Devil. ;^)

Certainly shows how you can do anything with evaluation in paths though!

## Thursday 2nd November, 2017

jackalcooper

[03:21](#msg59fa8f4f976e63937e17b728)

```
>> parse "ababab" [some collect keep ["a" | "b"]]
== [#"a" [#"b"] [#"a"] [#"b"] [#"a"] [#"b"]]
```

May I ask why the first collected is not a block? It is pretty confusing to me.

dockimbel

[04:10](#msg59fa9ac94ff065ac18a5aaf5)@jackalcooper The first `collect` encountered by Parse will be used as the \*root* block for all the other collected items, it's the block that will be returned. Further calls to `collect` will just append to that block. If you want all `collect` in your above loop to behave the same, you need an extra first collect to wrap them all:

```
>> parse "ababab" [collect some collect keep ["a" | "b"]]
== [[#"a"] [#"b"] [#"a"] [#"b"] [#"a"] [#"b"]]
```

greggirwin

[04:29](#msg59fa9f3032e080696e5473dc)Alternately, if you don't want sub-blocks, you can use `collect` before `some`:

```
>> parse "ababab" [collect some keep ["a" | "b"]]
== [#"a" #"b" #"a" #"b" #"a" #"b"]
```

jackalcooper

[04:39](#msg59faa180e44c43700aa8a25c)Thanks guys. Now I see..

[04:45](#msg59faa303d6c36fca31c6de44)@dockimbel Two question about future Red.

1\. I’m curious if type safety is a design goal of Red. I mean the kind of soundness like OCaml built upon type inference.  
2\. I read that Red has actor model concurrency, so I’m curious if it is a goal to implement Erlang-like preemptive scheduling of actor and per-actor GC.

greggirwin

[04:56](#msg59faa5732a69af844b3a09f1)1. Not for Red, no. @maximvl is working on a `Typed` dialect which he can speak more about but, in Red, \*values* are strongly typed, while words that refer to them are not. That is, a word can refer to any type of value at any time.  
2\. https://trello.com/c/XHz9cPkW/53-concurrency shows that "Define tasking model" is a checklist item to be done.

numberjay

[04:58](#msg59faa5eed6c36fca31c6eb23)@greggirwin @dockimbel re: tail call optimization/elimination  
ok, it's great knowing for sure that it will be implemented even if it's not high priority  
and for now, if i really need to keep the stack at bay, i could do by defining a trampoline function so to exit the 'recursive' function (deallocating its stack frame) before re-entering it (allocating a new stack frame which will effectively replace the previous one) keeping stack consumption constant (just one stack frame)  
or just go with a loop where applicable

[05:15](#msg59faa9e3f7299e8f5360524f)the trampoline concept seems to work, but it's not enough to just wrap the recursive call in a block and return it (instead of executing it)... i also need to bind the block to the current context before returning it  
so, to make it practical, is there a way to refer to the current context and using it with the bind command?  
of course i can 'manually' build the current context (basically a context with the local parameters of the function), but then it becomes much less practical to use

jackalcooper

[05:43](#msg59fab086d6c36fca31c71de5)@greggirwin thanks for your answer!

9214

[09:27](#msg59fae518d6c36fca31c8217f)@numberjay you can refer to the context of a word with `context?`

[09:30](#msg59fae5a8e44c43700aa9e60a)`self` is a keyword that you can use inside `object!` to refer to itself

jackalcooper

[09:55](#msg59faeb74614889d4752e5860)I read that Rebol VID lacks responsiveness. Will it be fixed by Red VID?

9214

[09:55](#msg59faeb96f7299e8f5361a488)@jackalcooper what do you mean by "responsiveness"?

[09:56](#msg59faebbf614889d4752e59ef)that face can be updated only manually with `show`?

jackalcooper

[09:56](#msg59faebca614889d4752e5a24)layout changes according to the size of window

[09:56](#msg59faebea976e63937e19714e)or vice versa

9214

[10:03](#msg59faed5e32e080696e56001c)@jackalcooper only Red team could say for sure, but I guess that this may be addressed after `1.0`

jackalcooper

[10:10](#msg59faef062a69af844b3b7a4f)Thank you @9214

9214

[10:10](#msg59faef13f7299e8f5361b67b)@rebolek I'm curious if your `path!` trick will be applicable to `refinement!` in functions?

[10:11](#msg59faef4cf7299e8f5361b77d)because I really would like to write `foo/(either bar ['baz]['qux])` instead of `either bar [foo/baz][foo/qux]`

[10:11](#msg59faef6f976e63937e19858b)as for now they're not very "dynamic", so to speak

rebolek

[10:12](#msg59faef80e44c43700aaa194b)@9214 so try it :)

[10:13](#msg59faefcd2a69af844b3b7df2)

```
>> f: func [/bar /baz][print [bar baz]]
== func [/bar /baz][print [bar baz]]
>> f/(either true ['bar]['baz])
*** Script Error: f has no refinement called (either true ['bar] ['baz])
*** Where: f
*** Stack: f
```

9214

[10:14](#msg59faefec32e080696e560d87)I knew in advance that this won't work (because I already tried something similar in the past :D)

[10:14](#msg59faf003614889d4752e6fc6)you can fallback to manually constructing refinement from block of course, but that's ugly

[10:16](#msg59faf069f7299e8f5361be9a)

```
text
>> foo: func [/baz /qux][if baz [print "oh"] if qux [print "my"]]
== func [/baz /qux][if baz [print "oh"] if qux [print "my"]]
>> do to path! reduce ['foo either on ['baz]['qux]]
oh
== none
```

[10:16](#msg59faf0854ff065ac18a74eb3)is it ok that I can use `'` in word?

```
>> test': 1
== 1
>> test'
== 1
```

rebolek

[10:16](#msg59faf0904ff065ac18a74ed4)Yes, why not

9214

[10:17](#msg59faf0a7d6c36fca31c85892)I thought it's reserved for `lit-word!`s and wouldn't be lexed correctly

rebolek

[10:17](#msg59faf0c1d6c36fca31c858f7)only at start

[10:18](#msg59faf0d8976e63937e198c31)`100'000` also uses `'` and is valid

greggirwin

[15:13](#msg59fb36044ff065ac18a8fa98)@9214, here are some old experiments of mine:

```
filter: function [
	"Returns two blocks: items that pass the test, and those that don't."
	series [series!]
	test [any-function!] "Test (predicate) to perform on each value; must take one arg"
	/only "Return a single block of values that pass the test"
][
	result: reduce [copy [] copy []]
	foreach value series [
		append/only pick result make logic! test :value :value
	]
	either only [result/1][result]
]

to-path: func [spec][
	; LOAD FORM is used to clean up specs that have refinements 
	; in them. Refinement values get their sigil doubled, which
	; FORM removes, so they are sanitized. More overhead, but we
	; could make that optional if this func lives on.
	load form append clear '_/_ spec
]

refine: function [
	"Returns a path, by adding refinement(s) to a word or path."
	path [any-word! path!]
	refs [word! block!] "Refinements to add"
	return: [path!]
][
	if block? refs [
	    ; Separate copy step because `remove-each` doesn't return
	    ; a value at this time.
	    refs: copy refs
	    remove-each val refs [not any-word? val]
    ]	
	to-path compose [(path) (refs)]
]
p: refine 'append 'only
p: refine 'append [only]
refine 'append [only]
do reduce [refine 'append [only] [] [a]]
refine 'find [part only case same any with skip last reverse tail match]

;!! Where this won't work is if you have a function that takes refinements
; 	as args themselves. In that case, you need to use `refine` directly.
do-refined: func [fn [word!] args [block!]][
	; Filter to split args into refinements and arg values
	set [refs args] filter args :refinement?
	; Make refined path
	fn: refine fn refs
	do compose [(fn) (args)]
]
do-refined 'append [[] /only [a]]
do-refined 'append [[] /only [a] /dup 3]
do-refined 'append [[] /dup /only [a] 3]
do-refined 'append [[] /dup [a] 3 /only]
do-refined 'append [[] [a] /dup 3 /only]
do-refined 'append [[] /dup 3 /only [a]]	; error, args out of order


do-refined: func [spec [block!] args [block!]][
	; Filter to split args into refinements and arg values
	set [refs args] filter args :refinement?
	; Make refined path
	spec/1: refine spec/1 refs
	do compose [(spec) (args)]
]
do-refined [append [] [a]] [/only]
do-refined [append [] [a]] [/only /dup 3]
do-refined [append [] [a]] [/dup /only 3]
do-refined [append [] [a]] [/dup 3 /only]
do-refined [append [] [a]] [/dup 3 /only]
do-refined [append/only [] [a]] []
do-refined [append/only [] [a]] [/dup 3]
```

[15:13](#msg59fb3618d6c36fca31c9fe29)Two versions of `do-refined`, playing with what the best interface might be.

[15:17](#msg59fb36f8976e63937e1b35a3)@jackalcooper, transparent elements can cause slow rendering in VID, but the actual impact will be OS specific. Red is still in the early stages of creating its cross platform GUI system, which is currently not optimized for things like gaming and animation.

[15:21](#msg59fb37e3d6c36fca31ca0ac0)The more specific you can be in your questions, WRT concrete performance times and examples, the better answers we can provide. e.g. "lacks responsiveness" can mean a lot of things. Red is single threaded, like Rebol, so you can block the UI. You can also see the difference in graphics generation in the madelbrot examples, comaring Red and Red/System.

[15:34](#msg59fb3afc5a1758ed0f7e04c5)Also, @9214, I haven't forgotten about `compare-times` changes. Calling it `profile` now, and added support for functions, and reinstated returning results as an option. The issue with those two features combined is that the result block isn't fixed size recs, due to func's serialization form.

dander

[17:04](#msg59fb50212a69af844b3ddc2e)@greggirwin have you thought about flipping it around so instead of processing a fixed number of iterations, you could pick a short time window (which could be a refinement) and counting the number of iterations each method can do in that time? One less arg that needs to be passed in, but it does potentially add some overhead of checking the time...

[17:07](#msg59fb50d1b20c6424297ca615)Or another possibility would be to pick a number of iterations by default, and ramping it up if not enough time has elapsed to make a good judgement

[17:08](#msg59fb50fb5a1758ed0f7e8a73)great name, by the way

alaa-alawi

[19:57](#msg59fb78bdb20c6424297d973a)Does Red has an equivalent to Rebol 'assert'? (I'm trying to learn by implementing a 'Design By Contract' func ... and needed 'assert')

9214

[20:01](#msg59fb79812a69af844b3ecc94)@alaa-alawi you want to check datatypes or simple conditions are enough?

[20:01](#msg59fb79b6976e63937e1cde47)though, you can also check datatypes with conditions

[20:03](#msg59fb79fdb20c6424297d9d9e)anyway:

```
>> all [0 < 42 string! = type? "this is string"]
== true
```

alaa-alawi

[20:04](#msg59fb7a444ff065ac18aaa4a4)I specifically want to extend the 'afunc' described here http://red.qyz.cz/dependent-types.html. I want it to fail or err if the condition does not hold (I'll have preconditions, postconditions and invariants)

[20:04](#msg59fb7a6a976e63937e1ce2cf)I checked 'cause-error' but could not understand it.

9214

[20:05](#msg59fb7a9d614889d47531961f)

```
text
>> cause-error 'user 'message ["boom"]
*** User Error: "boom"
*** Where: do
*** Stack: cause-error
```

rebolek

[20:09](#msg59fb7b73e44c43700aad624b)@alaa-alawi thanks for reading the article :)

alaa-alawi

[20:09](#msg59fb7b8c976e63937e1ce887)I really enjoyed it. Thanks goes to you.

rebolek

[20:14](#msg59fb7caed6c36fca31cbad23)@alaa-alawi `assert` in Rebol is a function, you can check its code and try to rewrite it in Red.

alaa-alawi

[20:17](#msg59fb7d4a614889d47531a460)@rebolek that is good to know. Thanks!

rebolek

[20:18](#msg59fb7d7fd6c36fca31cbb26a)@alaa-alawi Here is \*\*very basic\** implementation:

```
>> assert: func [cond][unless do cond [cause-error 'user 'message reduce [rejoin ["Assertion failed for " mold cond]]]]
== func [cond][unless do cond [cause-error 'user 'message reduce [rejoin ["Assertion failed for " mold cond]]]]
>> x: 1
== 1
>> assert [x > 1]
*** User Error: "Assertion failed for [x > 1]"
*** Where: do
*** Stack: assert cause-error
```

alaa-alawi

[20:20](#msg59fb7e27b20c6424297db476)why the 'reduce' ? does it serve another function that is done by 'rejoin'?

9214

[20:21](#msg59fb7e5de44c43700aad7267)@alaa-alawi `reduce` evaluates all expressions in the block and gives you another block, `rejoin` does the same but makes a string

rebolek

[20:22](#msg59fb7e745a1758ed0f7f898b)`reduce` is there because `cause-error` requires `block!` and not `string!`.

alaa-alawi

[20:23](#msg59fb7eb5976e63937e1cfa06)I see

9214

[20:25](#msg59fb7f454ff065ac18aac06f)@alaa-alawi my lame attempt without error throwing

```
assert: func [conditions [block!] /type /local check][
    either type [
        parse conditions [
            any [
                copy check 2 skip if (
                    not-equal? type? check/1 get/any check/2
                )
            |   reject
            ]
        ]
    ][
        all conditions
    ]
]
```

alaa-alawi

[20:25](#msg59fb7f4c4ff065ac18aac09b)I confused it with Rebol. I should stop learning both at the same time

9214

[20:27](#msg59fb7fa6976e63937e1cff14)though it should be extended to handle typesets

alaa-alawi

[20:27](#msg59fb7fcf976e63937e1d000f)Thanks @9214, but it only returns values rather than interrupting function execution.

9214

[20:52](#msg59fb8587e44c43700aad9db4)@alaa-alawi how about

```
assert: func [conditions [block!] /type /local w t][
    unless either type [
        parse conditions [
            any [
                copy check 2 skip if (
                    either block? check/2 [
                        find check/2 type?/word get/any check/1 
                    ][
                        equal? type?/word get/any check/1 check/2
                    ]
                )
            |   reject
            ]
        ]
    ][  
        any [
            all conditions 
            also false check: index? find reduce conditions false
        ]
    ][
        cause-error 'user 'message reduce [
            rejoin [
                "assertion failed for: " 
                either type [""]["condition no. "]
                check
            ]
        ]
    ]
]
```

alaa-alawi

[20:54](#msg59fb85ec2a69af844b3f1763)Wow! Thanks again! I really appreciate the effort.

9214

[20:55](#msg59fb8627d6c36fca31cbe3af)@alaa-alawi I'll keep an eye on you after seeing both Forth and CL in your repos ;)

alaa-alawi

[20:56](#msg59fb868af7299e8f53653f8c)you are welcome :)

9214

[20:58](#msg59fb86f6b20c6424297de99e)but again, this thing will fail if datatype name (say, `number!`) is in fact a typeset

```
x: 1
assert/type [x number!]
```

```
*** User Error: "assertion failed for: x number!"
*** Where: do
*** Stack: probe assert cause-error
```

alaa-alawi

[21:02](#msg59fb87d72a69af844b3f2409)heading to bed. 1:00 AM Zzz

9214

[21:03](#msg59fb880af7299e8f5365488c)good night, it's 2:00 AM here :alien:

alaa-alawi

[21:04](#msg59fb8853e44c43700aadae3a)Thanks to all.

9214

[21:08](#msg59fb893b976e63937e1d3a60)@alaa-alawi bypassed typeset problem, hope this will be useful

```
assert: func [conditions [block!] /type /local check][
    complement to logic! unless either type [
        parse conditions [
            any [
                copy check 2 skip if (
                    find 
                        make typeset! reduce pick [check/2 [check/2]] block? check/2 
                        type? get/any check/1
                )
            |   reject
            ]
        ]
    ][  
        any [
            all conditions 
            also false check: index? find reduce conditions false
        ]
    ][
        cause-error 'user 'message reduce [
            rejoin [
                "assertion failed for: " 
                either type [""]["condition no. "]
                mold check
            ]
        ]
    ]
]
```

## Friday 3th November, 2017

greggirwin

[03:57](#msg59fbe90fd6c36fca31cdb30c)@dander, good thoughts. This is why we play around. Now, the question is whether to offer both ways to profile, which is better if we support only one, and is doing both worth the added complexity?

Another stat that might be very helpful would be normalizing the fastest to 1.0 and showing relative times compared to that, so you can see that B is 1.5x slower than A.

dander

[04:00](#msg59fbe9d0e44c43700aaf6c49)@greggirwin another one might be memory usage per iteration

greggirwin

[04:03](#msg59fbea762a69af844b40eb33)Yes, though I think mem use info won't be as important once we have GC. GC hits/allocations could be though. This is where I want to think about the output more, though don't want to overthink things.

dander

[06:23](#msg59fc0b7bd6c36fca31ce314f)I agree. simple is good :+1:

greggirwin

[19:03](#msg59fcbd9832e080696e5fe4fa)Another `profile` twist. We return the total time, but not info about how many runs it was, if `/count` was used. We can show per-run times, but then should we always return the count as metadata in results? That is, `/show` can handle it all, and we can return those same values if `/show` isn't used, but that won't say (later, as data) what the count was, which could be important. And if we always return the count, also returning calc'd times is redundant, as the data is there to calc it. My brain is going down the rabbit hole now.

gltewalt

[19:06](#msg59fcbe5332e080696e5fea27)have you looked at R3 `delta-profile`?

greggirwin

[19:12](#msg59fcbfa3614889d475382536)Just did. New to me. It's based on internal profiling info context. Just one run supported, and no comparison of different code. The question, then, is whether to keep mine simple for now (yes, I know :^) or make more structured results in anticipation of the future.

9214

[20:37](#msg59fcd389d6c36fca31d2b468)Did anyone experimented with genetic algorithms in Redbol? I had an idea some time ago that you can generate random blocks of code, evaluate their "fitness" and choose the fittest individual on each generation

gltewalt

[21:23](#msg59fcde4be44c43700ab4b21c)More structured

greggirwin

[21:40](#msg59fce259d6c36fca31d3037a)@9214, I've thought about that as well, since we're a data-first language. I don't think I ever thinkered anything up though.

9214

[21:41](#msg59fce27a976e63937e24684b)@greggirwin I'd tinkered after GC arrival

greggirwin

[21:41](#msg59fce29232e080696e60adb4)Yeah, my old thoughts were long ago, for R2.

## Saturday 4th November, 2017

ul

[01:13](#msg59fd141ef7299e8f536d4f27)Hey, folks! I just discovered Red and I'm amazed by its expressivity. Big thanks to everybody involved!

[01:14](#msg59fd147a976e63937e254285)The only thing which bothers me is that it's deeply rely on mutability. Series behave different depending on pointer position, function body is stateful... It's a lot of power, but how do you reason about state in large programs?

gltewalt

[01:39](#msg59fd1a3cd6c36fca31d40346)Not all functions modify original data. See`context` for limiting scope

[01:44](#msg59fd1b8d4ff065ac18b315ac)In the future, may have `protect`

ul

[02:07](#msg59fd20c8d6c36fca31d419a7)Yes, I understand that there are a lot of means to protect data. But as far as I see a lot of stuff relies on mutability.

[02:08](#msg59fd21042a69af844b474932)Of course, expressiveness of language helps by itself. When program is shorter it's easier to reason about state.

[02:10](#msg59fd21805a1758ed0f87d754)But for a complex task program will grow just because you need to implement a lot, even super-ultra-mega expressivity can't mitigate domain complexity completely. And above some threshold it's so hard for me at least to avoid bugs when by default everything is quite a lot in a flux and I need to perform actions to freeze it all the time.

[02:11](#msg59fd21e1f7299e8f536d7b79)I believe that Red and Rebol have some best practices to deal with it, and I wonder what are these practices.

[02:14](#msg59fd227b32e080696e61ba99)All examples in Red I found implement relatively simple applications, except compiler itself. But compiler has a little bit different story than e.g. UI applications, because process is more or less streamlined and has no such a chaos which introduced by async interaction with user.

greggirwin

[03:39](#msg59fd3676976e63937e25c433)Welcome to Red @ul! While it may not help with mutability bothering you, https://github.com/red/red/wiki/Why-do-I-have-to-copy-series-values%3F may provide some helpful insight into the design, as to why Red works this way.

The Redbol community has always been small and self-selective, so you may not get deep answers. Another issue is that Rebol was never intended for PitL, and the tooling never grew up to support that. Red has that in mind for the future, but we also need to look to the past (and present). For example, the largest systems out there are probably still in C/C++, yes? And the world probably runs mostly on software that is based on mutability. That's not to say immutability wouldn't make some things easier, safer, and nicer, just that (IME) the architecture and the design is more important. This makes your question a good one, but I'll say it doesn't really have to do with mutability, just good design and planning.

So, how we can do it in Red can be answered by looking at any other good software not written in a language based on immutability. Not to just emulate them, but to learn from the most important elements that provide benefit, and build tooling and infrastructure based on that.

It's interesting too (I'm an old programmer) to see how the move to async-everywhere hasn't always made our lives better. Certainly not for developers. I've built sizable systems in Rebol2, and they've worked well. Break things into pieces, use processes and IPC, keep single apps small. Yes, I've got some GUI apps that might stall for a short time while some work is done, but life is tradeoffs. Red will get concurrency at some point, but the design isn't set, so we don't know if it will be an actor model, or maybe something based on CSP/tuplespaces.

[03:43](#msg59fd3757614889d4753a3a59)If you have specific examples, we may chime in with thoughts on how to approach them. But there's no substitute for time with a new language. It's normal to bend new tools to our old mindset at first, so start where you are and see if others here use your same tools or share experiences. Build small pieces and just play around for a while.

[03:44](#msg59fd378c32e080696e61fd14)Red is a great tool for thinking, and for building the language(s) you want to write your programs in.

ul

[04:09](#msg59fd3d7432e080696e620f76)@greggirwin Thanks for elaborating! Sure, all you say sounds reasonable, and I'm not putting immutability into the supreme position to proper architecture. Other way around, I found immutability being an excellent tool which support good architecture, liberating resources from building same fortifications again and again.

[04:11](#msg59fd3de12a69af844b47afb4)And that fact that Red / Rebol oriented to mutable datastructures doesn't make it less pleasant to play with for me.

[04:12](#msg59fd3e23614889d4753a54dc)Just curious about more or less established approaches in that world which is new to me.

greggirwin

[04:15](#msg59fd3eef4ff065ac18b39393)Red is really fun. The main approach is to remember that series are mutable, and `copy` is your friend. That is, Red gives you the choice about when to copy, to protect a series, and when to mutate.

[04:16](#msg59fd3f322a69af844b47b399)And objects are mutable, so you may be comfortable starting out by always using `make` on a prototype object to avoid that.

[04:19](#msg59fd3fe5d6c36fca31d48410)Also, `help` is your friend in the console. e.g., you can use `help series!` to see all the datatypes that are series values.

ul

[04:20](#msg59fd3ff2f7299e8f536de457)Do I understand correctly that `make my-object` creates completely independent copy of object? Unlike JavaScript's prototype chain. I think I read that in Rebol docs, but now not sure. It was so breathtaking reading last night that I'm not sure I remember everything correctly.

PeterWAWood

[04:21](#msg59fd40434ff065ac18b39876)Are objects actually mutable (at the moment)? The words of a object cannot be changed, they can only be rebound to new values.

[04:21](#msg59fd4063b20c64242986bb7e)I guess it depends on what you are looking at in terms of immutability.

greggirwin

[04:22](#msg59fd40714ff065ac18b398cd)@PeterWAWood, thanks for clarifying. I meant that you can change the values words refer to in an object.

[04:22](#msg59fd408f976e63937e25e687)@ul, yes. There is no prototype chain in Red objects.

[04:22](#msg59fd4099d6c36fca31d485b6)

```
>> o: object [a: "" b: []]
== make object! [
    a: ""
    b: []
]
>> o2: make o []
== make object! [
    a: ""
    b: []
]
>> append o/a "test" 
== "test"
>> append o/b [1 2 3]
== [1 2 3]
>> o
== make object! [
    a: "test"
    b: [1 2 3]
]
>> o2
== make object! [
    a: ""
    b: []
]
```

[04:27](#msg59fd41acb20c64242986bf2f)You can also use `copy` on objects, but you should play with that, so you can see that you want to use `copy/deep` if words in the object refer to series values.

PeterWAWood

[04:27](#msg59fd41b35a1758ed0f884120)@ul An object may not be completely independent of its prototype as the copy is not a deep copy.

```
>> o: make object! [a: 1 b: 2 c: 3 d: [a b c]]
== make object! [
    a: 1
    b: 2
    c: 3
    d: [a b c]
]
>> reduce o/d
== [1 2 3]
>> co: make o []
== make object! [
    a: 1
    b: 2
    c: 3
    d: [a b c]
]
>> o/b: 4
== 4
>> co/b
== 2
>> reduce co/d
== [1 4 3]
```

greggirwin

[04:27](#msg59fd41be5a1758ed0f88413f)So, @ul, `copy/deep` is an important concept as well.

[04:29](#msg59fd4220976e63937e25eba8)@PeterWAWood and I are overlapping, and now getting into binding, which may overload your brain more @ul. :^)

9214

[11:17](#msg59fda1b95a1758ed0f8996f0)@ul hey there, welcome! My late responses:

&gt; It's a lot of power

With great power comes great responsibility. As with any other PL, you can prevent chaos by enforcing modularity and defining interfaces between parts of your program (yeah, that sounds naive, I know).  
I'd say that relying on global state or non-local state about which you cannot clearly reason about is a bad design decision in any programming language, and in Red too.

&gt; more or less established approaches

Blue pill - `copy/deep` everything that moves. Red pill - meditate on the following passage: \*there's no mutable data, or data at all\*.

[11:20](#msg59fda2915a1758ed0f899a28)@ul speaking of prototype chain, @ejtizado proposed one not so long ago https://github.com/red/red/pull/3064

[11:27](#msg59fda4045a1758ed0f899ff7)you can easily simulate it with reactors though

greggirwin

[17:15](#msg59fdf5b2b20c642429898dc0)Another aspect we may not always mention, when talking about large programs, is to avoid them. As with @9214, that may sound naive, but I don't believe it is. Are there cases where you \*can't* avoid building large programs? Sure. But I think there are many more cases where things grow to the point where size becomes an issue, simply because we don't make simplicity a priority.

It's hard to find the balance, but suggestions for new features or additions to Red, if met with resistance, are not because they're bad ideas, but because everything has a cost. Keeping Red small is a goal. Giving up that goal to compete on feature lists with other languages is not.

TheDoctorMellow\_twitter

[17:38](#msg59fdfb1f2a69af844b4a85f6)are tables (like a datagridview in winForms) established? Just wondering. I work for a company that utilizes applications for a lot of our automation, with people in operations utilizing these programs, tables, moving across form hierarchy &amp; transparent windows were the big, "things that are needed but I cannot find" to be able to use this language.

I asked in the IRC and was told to come here &amp; that transparency was implemented as a bug and was patched :(

greggirwin

[17:56](#msg59fdff55e44c43700ab924e1)@TheDoctorMellow\_twitter, transparency is supported, but slows rendering on some back ends. If you're not animating things or doing very rapid updates, it shouldn't be noticeable. DataGrid/Table styles are not in place yet, because that's a significant cross-platform design effort and low priority, though @rebolek has worked one up for himself.

rebolek

[18:08](#msg59fe0223d6c36fca31d7843c)It's either significant cross-platform design effort or doing your own in Draw that’s cross-platform automatically, but doesn’t follow system UI guidelines. I've chose second option, it's easier to do and works fine. As a demo only though, it eats memory very quickly and without GC is good only as a concept.

TheDoctorMellow\_twitter

[19:49](#msg59fe19bff7299e8f537148f9)so I'm trying to play around with the language, with creating the following structure..

s1: alias struct! [  
a \[integer!]  
b \[c-string!]

]

I receive this error  
Script Error: alias has no value  
If I use declare struct! I get the same issue, sorry if I'm taking up the discussion room with dumb questions, I'm fuddling across the different documentations trying to get my head around things

9214

[19:50](#msg59fe1a18e44c43700ab99798)@TheDoctorMellow\_twitter have you read about Red and Red/System?

TheDoctorMellow\_twitter

[19:51](#msg59fe1a2a32e080696e658782)I'll take a look, thanks for the pointer!

[19:51](#msg59fe1a55976e63937e2958b0)erm, well that's where I learned about the struct syntax, I'm not sure if the program needs the "need 'Struct or 'Pointer or what have you" there

9214

[19:53](#msg59fe1ac9614889d4753dc636)@TheDoctorMellow\_twitter the thing is that you're trying to evaluate Red/System code in Red interpreter

TheDoctorMellow\_twitter

[19:54](#msg59fe1adce44c43700ab99a6e)oh, got it

[21:39](#msg59fe3376b20c6424298aa297)what rebol version do I need to run rsc.r for Red/System?

9214

[21:40](#msg59fe33cf5a1758ed0f8c0510)@TheDoctorMellow\_twitter during bootstrapping phase Red toolchain relies on Rebol2, though I don't quite get why you need `rsc.r`

TheDoctorMellow\_twitter

[21:41](#msg59fe34154ff065ac18b77324)there's a mac tutorial that used rsc.r for it's red.redPath in Visual Studio Code

9214

[21:42](#msg59fe34462a69af844b4b74af)which tutorial you refer to?

TheDoctorMellow\_twitter

[21:42](#msg59fe3462976e63937e29cad1)  
https://www.youtube.com/watch?v=iLYNYG9pV1A&amp;index=4&amp;list=PLr1rbtkaZDGDKtExuz8Q0nFDtDtUyyOHz&gt;

9214

[21:43](#msg59fe34894ff065ac18b77478)&gt; 2013

welp

TheDoctorMellow\_twitter

[21:43](#msg59fe3495b20c6424298aa792)Yeah, I noticed that &gt;.&gt;

[21:44](#msg59fe34d25a1758ed0f8c09cb)This code  
Red/System [  
Title: "my first program"  
Author: "me"  
File: %hello-1.reds  
]  
print "Hello, Red world! Are you Ready?"

Throws the following error in VS Code  
\*\** Syntax Error: invalid value at {"}  
\*\** Where: do  
\*\** Stack: load

Referenced from...  
https://github.com/red/red/wiki/Red-System-tutorial-for-newcomers-English-version

9214

[21:45](#msg59fe34ec4ff065ac18b776dd)`red.redPath` in VSCode plugin should contain a filepath to Red toolchain executable, not this script (which is \[deprecated](https://github.com/red/red/blob/master/system/rsc.r#L9) by the way)

TheDoctorMellow\_twitter

[21:45](#msg59fe350db20c6424298aa971)It is, currently points to C:/REDCompiler/red-063.exe

[21:46](#msg59fe353ab20c6424298aaab5)Correction, I think it is! :X

9214

[21:50](#msg59fe3626614889d4753e35e9)then just hit F7 hotkey and compile the script above

[21:50](#msg59fe362e5a1758ed0f8c0ff8)and check the output from shell

[21:51](#msg59fe364e976e63937e29d380)though maybe you can just double click compiled exe, haven't checked it on Win

TheDoctorMellow\_twitter

[21:52](#msg59fe36b832e080696e66037b)So it works in shell, but not vs code :(

[21:53](#msg59fe36cb32e080696e660445)I used powershell, but any shell would've worked.

9214

[21:53](#msg59fe36d8e44c43700aba0f3c)@TheDoctorMellow\_twitter why should it work in VSCode in a first place?

TheDoctorMellow\_twitter

[21:54](#msg59fe37032a69af844b4b82dd)There's a VS Code Red extension, so I figured it would work in there, seeing as regular .red files work without an issue

9214

[21:54](#msg59fe372832e080696e66056a)\*compiling* and \*interpreting* script are not the same things

TheDoctorMellow\_twitter

[21:55](#msg59fe3744976e63937e29d904)so there isn't currently a Red/System interpreter then, correct?

9214

[21:55](#msg59fe3767e44c43700aba125e)ehm, there's no interpreter and won't be any, because R/S is a compiled language

TheDoctorMellow\_twitter

[21:57](#msg59fe37ac32e080696e660702)got it, thanks for helping a noobie!

[21:57](#msg59fe37bb4ff065ac18b782b5)I'll be back in an hour with some other stupid problem I should know :/

9214

[21:57](#msg59fe37d3b20c6424298ab5e8)what compile does is, well, compiles your script down to native machine code instructions, but it can't launch that executable and show you the output, you should do that manually as with any other compiled language

TheDoctorMellow\_twitter

[21:59](#msg59fe382f614889d4753e3de4)is there a resource I should look at for using a Red View/VID program to talk to a Red/System program?

9214

[21:59](#msg59fe383432e080696e6608cd)@TheDoctorMellow\_twitter there're \[`/help`](https://gitter.im/red/help) and \[`/welcome`](https://gitter.im/red/red/welcome) rooms btw

TheDoctorMellow\_twitter

[21:59](#msg59fe3846d6c36fca31d87288)I'm dumb, thanks!

9214

[22:00](#msg59fe3884e44c43700aba1792)@TheDoctorMellow\_twitter you mean using R/S from Red?

[22:01](#msg59fe38c4b20c6424298ab97d)http://red.qyz.cz/red-system-from-red.html

TheDoctorMellow\_twitter

[22:05](#msg59fe39b9614889d4753e457b)that's awesome, thanks!

githubnyn

[22:07](#msg59fe3a35614889d4753e4846)I have a 3,000 items database made of text and pictures. Does RED have some form of internal database or should I read through text and binary files when doing a search ?

9214

[22:08](#msg59fe3a67f7299e8f5371cfcf)@githubnyn AFAIK there's no internal db (yet?)

[22:12](#msg59fe3b3ad6c36fca31d87ceb)though it depends on what you mean by internal database :)

[22:12](#msg59fe3b4ad6c36fca31d87d04)and what kind of search you need to perform

githubnyn

[22:13](#msg59fe3ba1614889d4753e4d6e)it is a catalog and a few users search, add and delete items. How do I prevent multiple people from writing to the file at the same time ?

9214

[22:15](#msg59fe3c1c2a69af844b4b97f7)ask your sysadmin..?

githubnyn

[22:16](#msg59fe3c2ad6c36fca31d8813c)thanks! I didn't think of that!

9214

[22:17](#msg59fe3c6ef7299e8f5371d92d):no\_mouth:

greggirwin

[23:53](#msg59fe53092a69af844b4bf45c)@githubnyn, there is no internal DB system at this time. @rebolek or @Oldes, did one of you do a SQLite wrapper? Or @Dobeash maybe? In any case, 3'000 items is small enough for Red to handle easily, but you may want to wait for full I/O in 0.7.0, if you're not using an external DB. The coming GC will help a lot too, if you need long running programs.

## Sunday 5th November, 2017

numberjay

[03:04](#msg59fe7fa732e080696e6709b4)@ul @greggirwin wow... great discussion with many interesting points about mutability/immutability!  
if the only tradeoff in Red would be to just use copy or copy/deep, that would be a non issue  
but in all fairness it's not like that, because copy and copy/deep do exactly what they say and naively copy the data, which means that copying a one million elements block to just change one element will double the memory occupation (even with GC, if the original block is still needed and so referenced)  
if you need to do this at every frame in a loop, it's not going to work at all  
immutable data structures on the other hand will happily give you a new one million elements block any time you ask by sharing structure with the original block and basically without using any more memory than what is strictly needed for a one element change plus a trascurable constant overhead (ok... technically that would be a logarithmic overhead, but usually a big base is chosen, like log32, which makes the overhead \*effectively* constant)  
the point is that there will be cases where copy and copy/deep are all you need to obliviate the absence of immutable data structures, but not in a general case  
having said that... nothing stops anyone from implementing those immutable data structures she needs, i guess Red is an ideal language for such an implementation that will obviously rely on mutability under the hood  
i know i have no choice to either wait for someone or do that myself as the need will become unavoidable for the uses i care... whomever comes first :-)

[04:46](#msg59fe978d32e080696e6751d8)by the way, in the above i mix memory and time considerations, my bad (it may be confusing), but everything still stands

gltewalt

[05:10](#msg59fe9d5df7299e8f537323d4)copy/part ?

numberjay

[05:46](#msg59fea5a2976e63937e2b68bd)@gltewalt that misses the point  
imagine you have a block A of one millions elements and you want a block B that extends block A with one element (like append), but still you want to keep block A as is...  
without support for immutable data structures, you have only one choice:  
B: append copy A x  
(and that's not even a deep copy, let's say a shallow one is enough, our blocks contain scalars)  
now... copy will double the memory occupation and take linear time on the length of the block (which in the console is about half a second if i remember correctly from my previous tests)  
instead, 'appending' to immutable data structures will barely increase memory occupation (basically by one element plus a trascurable overhead) and will take \*effectively* constant time to do that (we're talking milliseconds if not less)

abdllhygt

[09:43](#msg59fedd51976e63937e2c2e7b)Hi

[09:45](#msg59feddb3b20c6424298cffda)When does come 0.6.4 or 0.6.5? Is new version about Console or Android?

pekr

[10:05](#msg59fee258e44c43700abc6d83)There are both developed in parallel. My expectation is, that 0.6.4 comes first ....

abdllhygt

[10:07](#msg59fee2d05a1758ed0f8e67ef)Oh, i watch on trelloboard. 0.6.4 is "0/16" and 0.6.5 is "68/142".

pekr

[10:10](#msg59fee3a1614889d475409b03)Well, maybe Trello is not updated on a daily basis, who knows ....

abdllhygt

[10:11](#msg59fee3db976e63937e2c4696)Maybe, thanks

cromo

[16:57](#msg59ff42f2b20c6424298eadd5)Is there a way to call a function without assigning it to a variable first?

[16:58](#msg59ff4332976e63937e2de357)e.g.

```
fs: reduce [does [print "hi"] does [print "hey"]]
pick fs 1  ; How do I immediately call this value?
```

[17:00](#msg59ff43bdd6c36fca31dc673f)I know in this case I could us `fs/1`, but I'm curious about the more general case such as when using a calculated index or other structures, like a `map!`

dander

[17:10](#msg59ff45ef976e63937e2defaa)@cromo you can use `do`

```
>> do reduce [func[][print "hi"]]
hi
```

[17:11](#msg59ff4645b20c6424298ebff3)though you don't need a function for that. `do [print "hi"]` does the same thing

greggirwin

[19:48](#msg59ff6b295a1758ed0f90c85e)@numberjay, immutability is a big subject. Pros and cons, with context being important. Coming from a non-immutable history, I can only speak for myself, given my experiences. Trying to be of open mind, I ask myself questions about all the features, costs, and idiosyncrasies a tool offers.

&gt; Why do I need X? (how have I lived without it all this time)  
&gt; What problem does it solve for me? Or does it just push problems around? (not theoretical, but from my own history)  
&gt; Why don't I instantly love this idea? What am I missing? (the gut reaction question)  
&gt; How will I think differently using this tool? (does it give me more freedom, does it constrain how I need to think; or, like most things, does it do both)

Not being steeped in immutability, I study and play. I'm happy to learn from those who know and love their tools. Comments below are based on my current ignorance. :^)

A big win, and major need, for immutability comes in threaded environments. I avoid those, and think there are better models. I understand why they exist, and if I lived there, I would likely find immutability a more urgent need. I also distinguish immutability from temporal data systems, MVCC, and STM. It's a step on that path. I do love temporal DBs in concept, and would love to find an easy system to always use them.

As far as Red goes, there are a couple reasons I can think of that it isn't doesn't have immutability today, which could be addressed (only Nenad can give his views on it):

\- No GC. Really have to have that to support immutability, and we don't (yet).  
\- Complexity. As you say, a naive `copy/deep` approach isn't efficient. But a copy-on-write, tree-based approach for all series seems, from the outside, like it would be \*much* more complex to write and debug.

One question you can answer, regarding the example of changing one element in a million element block. With an immutable model, changing one item is cheap, as you say. But changing each of those million items as I built up that list has a cost, yes? Because each change has to be tracked.

gltewalt

[20:11](#msg59ff70624ff065ac18bc52ea)"You may find it very interesting to note that REBOL/core 1.0 was PFL. That fact made REBOL's implementation very complex, but more importantly it made its execution 30 times slower than REBOL/core 2.0 that followed it."

[20:11](#msg59ff7073e44c43700abecf8a)http://www.rebol.com/article/0206.html

greggirwin

[21:10](#msg59ff7e4632e080696e6ae61e)@9214 and @toomasv, new version of `profile`: https://gist.github.com/greggirwin/908d44dc069ed84cf69f053e1308390d

New time-per column, func handling, show count, return count and field names in result if not shown.

[21:16](#msg59ff7fa35a1758ed0f9126fe)One idea here, since I haven't included ellipsizing long blocks, is that you ref large blocks by name. Funcs aren't shortened either, so you need to use a word to refer to them, rather than a literal func value, if they're larger.

toomasv

[21:38](#msg59ff84ea2a69af844b50a9b5)@greggirwin Very nice indeed! Good idea to include names! :+1:

cromo

[21:43](#msg59ff86192a69af844b50ae11)@dander Okay, that may work, but I'm talking about cases where, for example, I'd have a bunch of functions in a block or a map (say, for an emulator or interpreter) and I'd like to pull the function out of its container and call it in place. I guess the `do reduce` works, but that makes it a bit annoying to call functions that take arguments, as any real usage would do

greggirwin

[21:55](#msg59ff88c84ff065ac18bccbf1)@cromo

```
>> fs: reduce [does [print "hi"] does [print "hey"]] 
== [func [][print "hi"] func [][print "hey"]]
>> fs/1
hi
```

cromo

[21:55](#msg59ff88ed976e63937e2f32e5)Right, I mentioned that. How do I handle a dynamic index?

greggirwin

[21:56](#msg59ff89132a69af844b50bda3)

```
>> fs: reduce [does [print "hi"] does [print "hey"] func [x][add x 1]] 
== [func [][print "hi"] func [][print "hey"] func [x][add x 1]]
>> fs/2
hey
>> fs/3 100
== 101
>> idx: 3
== 3
>> fs/:idx 100
== 101
```

[21:56](#msg59ff8926f7299e8f5376fa21)Assuming get-word! syntax in a path is what you mean.

cromo

[21:57](#msg59ff893bd6c36fca31dda656)Ah, a get-word!, I wouldn't have guessed.

greggirwin

[21:57](#msg59ff894a5a1758ed0f915633)Sorry I didn't check back on the final question in your initial message first.

cromo

[21:58](#msg59ff896b32e080696e6b1617)Not a problem, thanks for being so eager to answer you focused on the first part first :D

greggirwin

[21:58](#msg59ff898a32e080696e6b1670)I may not be slow, but I do poor work. ;^)

[21:59](#msg59ff89b3614889d475436897)You can also use `paren!` values as path segments, which are fully evaluated.

cromo

[22:01](#msg59ff8a314ff065ac18bcd184)Is `get-word!` preferred over `paren!`? I guess what I'm really asking is: which method is more idiomatic?

9214

[22:01](#msg59ff8a31614889d475436adb)@cromo

```
>> .: reduce [func [x y][x + y * 2] func [x][x + 1]]
== [func [x y][x + y * 2] func [x][x + 1]]
>> ./1 1 2
== 6
>> ./2 3
== 4
```

greggirwin

[22:02](#msg59ff8a6a5a1758ed0f915bf7)Get-word! is probably more idiomatic, but does mean you need a word to reference.

cromo

[22:03](#msg59ff8abee44c43700abf48e7)Ah, I guess paren! would probably be necessary for nested lookups, e.g. `ops/(memory/:program-counter)`

greggirwin

[22:04](#msg59ff8ad42a69af844b50c725)It does give you more control, but this is interesting:

[22:04](#msg59ff8ae8976e63937e2f3e85)

```
>> fs: reduce [does [print "hi"] does [print "hey"] func [x][probe x add x 1]] 
== [func [][print "hi"] func [][print "hey"] func [x][probe x add x 1]]
>> fs/(1 + 2) 100
100
== 3
```

[22:04](#msg59ff8afee44c43700abf4a20)I don't know if I've ever tried this exact thing before.

cromo

[22:04](#msg59ff8aff4ff065ac18bcd4b0)Right, that's more or less what I'm looking for

greggirwin

[22:05](#msg59ff8b1dd6c36fca31ddafbb)I think it's a bug. @9214?

cromo

[22:05](#msg59ff8b39d6c36fca31ddb098)Actually, if there's a generic way to call a function definition in place (like JS's IIFE: `function(){ ... }()`) that's really what I'm after

greggirwin

[22:05](#msg59ff8b4332e080696e6b1ff1)That is, if the paren is the last segment and refers to a func, the func is called, but the computed index is returned instead of the evaluated func result.

9214

[22:05](#msg59ff8b4432e080696e6b1ff3)

```
text
>> fs: reduce [does [print "hi"] does [print "hey"] func [x][probe x probe add x 1]]
== [func [][print "hi"] func [][print "hey"] func [x][probe x probe add x 1]]
>> fs/(1 + 2) 100
100
101
== 3
```

greggirwin

[22:06](#msg59ff8b5a32e080696e6b2044)@9214, I did that too. :^)

9214

[22:06](#msg59ff8b602a69af844b50ca50)`(1 + 2)` evaluated last and its result is returned from expression

[22:06](#msg59ff8b6c32e080696e6b210f)dunno if it's a bug or a feature though

greggirwin

[22:06](#msg59ff8b7e614889d47543719a)I vote for bug.

cromo

[22:06](#msg59ff8b81614889d4754371a0)Aww, it returns the value of the paren! ? That's surprising and probably not useful

[22:07](#msg59ff8b9332e080696e6b219e)I vote bug.

greggirwin

[22:08](#msg59ff8bc0976e63937e2f429e)R2 returns the func result, as expected. Easy to miss, as this is not a common thing to do.

[22:08](#msg59ff8bcad6c36fca31ddb2c2)I'll file a ticket.

cromo

[22:08](#msg59ff8bf3d6c36fca31ddb3e4)Lookup tables of functions are quite common in functional programming, which is why I ask.

9214

[22:09](#msg59ff8c35976e63937e2f4519)&gt; generic way to call a function definition in place

`do reduce [...]`

greggirwin

[22:11](#msg59ff8ca232e080696e6b260c)Seems single arity funcs are the key. 0 or &gt;1 args avoids the problem.

cromo

[22:16](#msg59ff8dc2976e63937e2f4bee)What problem?

9214

[22:17](#msg59ff8ddde44c43700abf56db)`paren!` in path returning result of evaluation

greggirwin

[22:17](#msg59ff8de1e44c43700abf56df)My mistake, I jumped to R2 when making my ticket. Arity has no effect.

cromo

[22:17](#msg59ff8e09d6c36fca31ddbc0d)Ah, I tried it and didn't see a problem other than it returning the paren! value in Red, hence my confusion

9214

[22:22](#msg59ff8f312a69af844b50dba8)@cromo

```
>> λ: func [spec body args][do reduce head insert args func spec body]
== func [spec body args][do reduce head insert args func spec body]
>> λ [x][x + 1][2]
== 3
>> 
>> λ [x][reverse x][[1 2 3]]
== [3 2 1]
```

cromo

[22:34](#msg59ff91dc976e63937e2f5ec3)`do reduce [...]`, got it

## Monday 6th November, 2017

greggirwin

[17:01](#msg5a00955fd6c36fca31e28021)@cromo, the path/paren bug has been fixed, just FYI.

ul

[21:09](#msg5a00cf7fd6c36fca31e3cb46)Hey folks, would you mind helping me with parse? It looks very intuitive, but I hit the wall and don't understand how it does particular things.

[21:09](#msg5a00cf9332e080696e716587)In that snippet https://gist.github.com/ul/0e04ecc600b2c975e863baf1f41e0e4b `name` get lost before collecting phase.

[21:10](#msg5a00cfc032e080696e71673d)If I put `(print name)` before `#+BEGIN_SRC` matching rule, `name` is still here.

[21:10](#msg5a00cfccb20c642429966a78)But after that word for somewhat reason it's lost.

[21:12](#msg5a00d031976e63937e3583c4)Another thing is why I don't do just `keep to newline` in `src-name` instead of `copy`. That's because Red collects a lot of empty entries in that case when rule doesn't match, which also seems strange to me.

greggirwin

[21:39](#msg5a00d685f7299e8f537d554e)You are using `to newline`, but then not skipping the newline. So you don't get a match on `src-body`, and then it will backtrack.

```
src-name:  ["#+NAME:" any space copy name to newline skip]
```

Adding `skip` will probably also eliminate your extra values if you change the `src-name` rule as you propose.

[21:41](#msg5a00d716976e63937e35ad02)Basically, `keep` can see that the next rule matches, but doesn't know about outside backtracking.

ul

[21:51](#msg5a00d969df09362e67d6bd87)@greggirwin Thanks! I need to build intuition about those topics, keep to skip...

[21:52](#msg5a00d98d976e63937e35bacd)Adding skip as you proposed works like a charm, now I need to disenchant it and understand.

greggirwin

[21:53](#msg5a00d9eb976e63937e35bd8d)It's the difference between `to` and `thru`. `To` stops at the beginning of the match. Both are powerful and can trip you up, if you're doing more than newline targets with them. i.e., they're greedy.

[21:54](#msg5a00da12d6c36fca31e409de)An alternative would be to use `thru`, and then trim the trailing newline from your result.

## Tuesday 7th November, 2017

greggirwin

[19:37](#msg5a020b86b20c6424299d0f7f)`Composite` is a func I'm going to propose for inclusion with the `format` work I'm doing, though it can stand on its own as well. It's sort of like `compose` for strings. That is, you evaluate expressions found in a string and insert their results in situ. The basic idea is simple, but there are a \*lot* of details to consider. I have found that being able to evaluate in a specific context is very useful (@endo64 did this originally for `build-markup` in R2). Custom markers I'm still torn about (@toomasv's idea). Custom error values are helpful if you're passing data to users directly, IME. Is there a solid argument for allowing mismatched expression markers? I haven't come up with one.

In any case, it's food for thought: https://gist.github.com/greggirwin/d40a0e3b4c8de31a7d3b82695b9b4b03

toomasv

[19:58](#msg5a021065d6c36fca31ea6164)@greggirwin Marvelous!  
Do you have some custom functions here from thy `format`bag?

```
{^/        name: :(form-full-name cust):^/        rank: :(as-ordinal index? find scores cust):^/        ser#: :(cust/uuid):^/    } == {^/        name:  *** Error: no-value Where: form-full-name cust *** ^/        rank:  *** Error: no-value Where: as-ordinal index? find scores cust *** ^/        ser#:  *** Error: no-value Where: cust/uuid *** ^/    }
```

greggirwin

[20:32](#msg5a021879976e63937e3c6f55)@toomasv, that example was to show why custom error values can be useful, and how multiple error vals are inserted in the result. Ordinals will be part of format though, yes.

[20:34](#msg5a0218d3f7299e8f5383eb90)

```
set 'ordinal-suffix func [	; English only right now.
		"Return the ordinal suffix for a number (th, st, nd, rd, etc.)"
		val [integer!]
	][
		;if negative? val [make error! "Ordinal-suffix doesn't support negative numbers"]
		either all [val >= 10 val <= 20] ['th] [
			switch/default remainder val 10 [1 ['st] 2 ['nd] 3 ['rd]] ['th]
		]
	]

	set 'as-ordinal func [
		"Return the ordinal string for a number (1st, 2nd, 3rd, etc.)"
		val [integer!]
	][
		if negative? val [make error! "Ordinal doesn't support negative numbers"]
		append form val ordinal-suffix val
	]
```

[20:36](#msg5a021943976e63937e3c72b6)I also originally allowed `any-string!` vals for markers, but file! values turned out to be problematic for things like `%<`, and email and url values don't seem very useful there either.

toomasv

[20:40](#msg5a021a57976e63937e3c7a72)@greggirwin Thanks for explanation!  
Yes, I imagine `any-string`might become very ..., hmm, ..., interesting, as a `marker`.

akavel

[22:23](#msg5a02327db20c6424299df687)I'm trying the following code, but clicking the `>` button changes only one value (in the very bottom-right cell), do I have some error? or is it a bug in view/vid/react?

```
state: make reactor! [
	month-start: do [d: now/date  d/day: 1  d]
]

month-pane: probe collect [repeat offset (7 * 6) [
	keep compose/deep [
		button react [
			d: state/month-start
			d/weekday: 1
			d: d + (offset - 1)
			face/data: d
			face/text: probe to-string d/day
		]
	]
]]

view [
	button ">" [ d: state/month-start  d/month: d/month + 1  state/month-start: probe d ] return
	group-box 7 month-pane
]
```

[22:26](#msg5a02330a86d308b755bdf4e2)\[!\[issue-view-react.gif](https://files.gitter.im/red/red/bzBg/thumb/issue-view-react.gif)](https://files.gitter.im/red/red/bzBg/issue-view-react.gif)

[22:27](#msg5a02336e976e63937e3d2313)I attached a screencast (gif) above showing what happens: the probes in `react` blocks all get evaluated apparently, but only one button's text seems to change

[22:31](#msg5a02345fdf09362e67de1fe7)(bottom-right)

[23:45](#msg5a024583b20c6424299e5d87)I'll be leaving the gitter room, so I copied the report to https://github.com/red/red/issues/3101

## Wednesday 8th November, 2017

rgchris

[00:03](#msg5a0249b4614889d475517755)@akavel Could possibly ask as a StackOverflow question—there may be something else awry here.

greggirwin

[00:31](#msg5a02505286d308b755be8973)@akavel, not sure if you're leaving forever, or just a while. In any case, what you're doing is a bit tricky, in that you're `compose`ing your react block, but not `copy`ing it. If you do that, it should work.

```
state: make reactor! [
	month-start: do [d: now/date  d/day: 1  d]
]

month-pane: probe collect [
	repeat offset (7 * 6) [
		keep copy/deep compose/deep [
			button react [
				d: state/month-start
				d/weekday: 1
				d: d + (offset - 1)
				face/data: d
				face/text: probe to-string d/day
				;print mold reduce [face/offset face/text]
			]
		]
	]
]

view [
	button ">" [
		d: state/month-start  d/month: d/month + 1  state/month-start: probe d
	] return
	group-box 7 month-pane
]
```

[00:31](#msg5a02507b976e63937e3dbed5)It wasn't clear to me either, at a glance, so I added the `print` line you see, and the offset for the face was the same in every reaction.

akavel

[00:35](#msg5a025144f7299e8f53853973)@greggirwin indeed, seems to work, thanks!

dockimbel

[07:17](#msg5a02af8986d308b755c02a22)For the reactive programming gurus here, if you are interested in building a new, more sophisticated reactive library for Red (as suggested in https://github.com/red/red/issues/3096), you are welcome. The current one serves its purpose very well, but it might not be good enough for more complex use-cases. I would be very interested in writting a second implementation myself, though I won't have time for that in the foreseeable future. One difficult part would be designing a new API which is as lightweight as possible (ideally as simple as current one, but I guess that would not be possible).

lepinekong\_twitter

[11:53](#msg5a02f01f32e080696e7c83f5)Very difficult to find own post in gitter or is it me :)

[11:53](#msg5a02f033df09362e67e1c939)Just wrote a tutorial for Red https://dev.to/lepinekong/red-for-hopeless-programmers---part-i-3g0

rebolek

[11:59](#msg5a02f1a1d6c36fca31eefec3)@lepinekong\_twitter cool!

BeardPower

[12:26](#msg5a02f7e9614889d47554f1f9)@lepinekong\_twitter Great. Another programmer interested in charts :smile:

mikeparr

[13:42](#msg5a0309d9e44c43700ad15913)I've just updated the Red wikipedia page, mainly taking out 2 dead links. It already referred to the latest (July 2017) version. Thanks to @greggirwin for advice.

greggirwin

[16:43](#msg5a03343d32e080696e7e2ff3)@lepinekong\_twitter, it's gitter, not you. Thanks for your article! We can link to it from the Red wiki, though I'll make one suggestion first. Don't use `form` as a variable name. That's a standard, commonly used, function.

Thanks @mikeparr!

[16:46](#msg5a0334ff5a1758ed0fa46ed2)@akavel, I found that we have a note about the exact issue you encountered in the wiki: https://github.com/red/red/wiki/Reactivity

gltewalt

[20:35](#msg5a036aabdf09362e67e4bec6)@greggirwin Seems to break `help` if you do use `form:` as a name.

```
>> form: [size 800x600 backdrop coal]
== [size 800x600 backdrop coal]
>> view form
>> help system
*** Script Error: pad does not allow word! for its n argument
*** Where: pad
*** Stack: help help-string pad  

>> help either
*** Script Error: uppercase does not allow block! for its string argument
*** Where: uppercase
*** Stack: help help-string
```

[20:45](#msg5a036cdc86d308b755c4ca6c)GUI Console

rebolek

[21:57](#msg5a037dd232e080696e7fdd7a)Not only `form`, if you redefine word used in other functions, you will break the functionality of them.

[21:59](#msg5a037e39b20c642429a524c3)@gltewalt

```
>> a: 1
== 1
>> f: func [x][x + a]
== func [x][x + a]
>> f 3
== 4
>> a: 10
== 10
>> f 3
== 13
```

[21:59](#msg5a037e58e44c43700ad428a8)This is exactly same as redefining `form`

[22:00](#msg5a037e8f32e080696e7fe2cf)We will get `protect`, but right now you have to be careful.

gltewalt

[22:04](#msg5a037f8af7299e8f538bd26c)I thought that view might bind its argument

rebolek

[22:06](#msg5a037fe1f257ad91096f079c)bind to what

gltewalt

[22:09](#msg5a03809ff7299e8f538bd7d3)Oops I meant help. Bonding form so it remains intact in help. The original form

rebolek

[22:11](#msg5a0380f6e44c43700ad437df)But that's not how Redbol works.

[22:12](#msg5a038140f7299e8f538bda59)Word's value is determinated when the word is evaluated.

[22:17](#msg5a038277df09362e67e54624)The original form of `help` (and other functions) is based on the belief that words mean what they mean. This is very important assumption in Redbol, because there are no keywords and words can have any value (without `protect`, that's not implemented in Red yet).

greggirwin

[22:24](#msg5a03840e7081b66876c93956)@gltewalt, then `help` would have to bind every word it depends on, as would every other function we write.

[22:24](#msg5a03842eb20c642429a5441a)I commented and closed the associated ticket as well.

gltewalt

[22:24](#msg5a0384367081b66876c93a2b)Ok

## Thursday 9th November, 2017

greggirwin

[02:52](#msg5a03c2dff7299e8f538d05be)Should we start a dialogue about dialogs?

https://gist.github.com/greggirwin/9cd640ca42bdfd56c5ff4432c4765d2c?ts=4

dockimbel

[03:15](#msg5a03c8417081b66876ca5b02)@greggirwin It would be useful to have support for both OS standard ones and View-based ones.

greggirwin

[03:40](#msg5a03ce18b20c642429a68c30)Yes, I wasn't sure what other OS standard dialogs were planned. I had these sitting around, half-done, for a long time, and am trying to clear out half-baked bits as much as anything. :^)

[03:41](#msg5a03ce64b20c642429a68da1)Also a great excuse to play more with how to build a general dialog model.

dockimbel

[09:00](#msg5a041939f7299e8f538e8406)@lepinekong\_twitter Great Red tutorial! I would be glad to tweet it and add the link to red-lang.org, though, redefining `form` word is really unfortunate. Let me know when you fix that, so I can publish the link everywhere. ;-)

akavel

[10:14](#msg5a042a75614889d4755b706e)Hi all! Is there a function in Red which would be used like this:

```
update obj ['foo 1 'bar/baz 2]
```

which would be equivalent to:

```
do [ obj/foo: 1 obj/bar/baz: 2 obj ]
```

? Where \*obj* is an \*object!\*. If not, is it possible to define such function? (Macro would not work for me here.) I think this is maybe something like what they call "lenses" in Haskell etc, but I'm not sure, never used Haskell?

PeterWAWood

[11:08](#msg5a04371e7081b66876cc7528)@akavel I guess I don't really understand what you are looking for as most people would simply assemble a block and reduce it.

You could do this but at the expense of creating a new object:

```
>> o: make object! [a: 0 b: make object! [c: 0]] 
== make object! [
    a: 0
    b: make object! [
        c: 0
    ]
]
>> o: make o [a: 1 b/c: 2]
== make object! [
    a: 1
    b: make object! [
        c: 2
    ]
]
```

akavel

[11:09](#msg5a043783f257ad91097279cc)@PeterWAWood what do you mean by "reduce it"?

rebolek

[11:14](#msg5a043887f7299e8f538f3b60)@akavel `reduce` evaluates block and returns block with results. I.e.:

```
>> reduce [1 + 2 3 + 4]
== [3 7]
```

PeterWAWood

[11:14](#msg5a04389286d308b755c89bc3)

```
text
>> o: make object! [a: 0 b: make object! [c: 0]] 
== make object! [
    a: 0
    b: make object! [
        c: 0
    ]
]
>> new-a: 10
== 10
>> new-c: 20
== 20
>> reduce [o/a: new-a o/b/c: new-c]
== [10 20]
>> o
== make object! [
    a: 10
    b: make object! [
        c: 20
    ]...
>>
```

akavel

[11:18](#msg5a04396bf7299e8f538f40d9)didn't know about reduce, thanks. So what I'd like is maybe like reduce, but that it would work in context of some object o, so that the `o/` prefix could be removed from the block

[11:19](#msg5a0439c6f7299e8f538f42a0)is this possible?

Oldes

[11:19](#msg5a0439d8df09362e67e8a22d)@akavel you can use this:

```
with: func [obj body][do bind body obj]
```

and then:

```
>> o: make object! [a: 0 b: make object! [c: 0]] 
== make object! [
    a: 0
    b: make object! [
        c: 0
    ]
]
>> with o [a: 1 b/c: 2]
== 2
>> o
== make object! [
    a: 1
    b: make object! [
        c: 2
    ]
]
```

akavel

[11:22](#msg5a043a66d6c36fca31f5f57a)@Oldes woohooo! :D thanks! :) looks exactly like what I wanted! For extra trickiness, I'd maybe try to make it infix operator :)

[11:22](#msg5a043a7186d308b755c8a583)and add a /copy refinement

[11:27](#msg5a043b9ef7299e8f538f4e2d)Uhmh :/ if I create a func with a `/copy` refinement, can I still access the `copy` func from the "global scope" somehow? I understand it's shadowed by the `copy` name from the refinement... :/

Oldes

[11:28](#msg5a043bcbdf09362e67e8ab9c)if you redefine system word, you can access the original using `system/words` like `system/words/copy` in your case.

akavel

[11:28](#msg5a043be2e44c43700ad7b3e9)@Oldes woohoo, awesome, thanks again! :)

[11:30](#msg5a043c55f257ad9109729493)Ah, infix func can't have refinements. Ok, can make 2 separate funcs.

[11:42](#msg5a043f3adf09362e67e8bf03)Eh :/ can I make something similar with a \*date!\*? `bind` doesn't seem to accept it as argument; maybe the trick with `reduce` would work here?...

rebolek

[11:48](#msg5a04409e614889d4755bf8a9)With date? what are you trying to do exactly?

akavel

[11:48](#msg5a0440aae44c43700ad7cbd3)Suppose I'd have to deep-iterate the `body`, and prepend to all set-words an 'obj/' prefix?... then either `reduce` or just `do`?...

[11:55](#msg5a04424df257ad910972b779)Hmmm, looking at implementation of `replace` func, that's probably the point where I should go and use some `parse`

9214

[14:49](#msg5a046aecf7299e8f53906dea)@akavel you mean this?

```
>> collect [foreach . [time day year][keep/only make path! reduce ['now .]]]
== [now/time now/day now/year]
>> reduce [now/time now/day now/year]
== [19:54:08 9 2017]
```

[14:56](#msg5a046cacdf09362e67e9d6dd)you can't `bind` block or word to `date!`, simply because it's `date!`, not `object!`

[15:01](#msg5a046dd8e44c43700ad8dc02):smiling\_imp:

```
>> probe object collect [foreach accessor system/catalog/accessors/date! [keep to set-word! accessor] keep none]
make object! [
    date: none
    year: none
    month: none
    day: none
    zone: none
    time: none
    hour: none
    minute: none
    second: none
    weekday: none
    yearday: none
    timezone: none
    week: none
    isoweek: none
    julian: none
]
```

akavel

[15:58](#msg5a047b36d6c36fca31f79e89)@9214 ok, based on your example, more like:

```
>> obj: make object! [date: now map: #(a: 1 b: 2)]
== make object! [
    date: 9-Nov-2017/16:35:18+01:00
    map: #(
        a: 1
        b: 2
    )
]
>> diff: [date/weekday: 1 map/a: 3]
== [date/weekday: 1 map/a: 3]
>> effect: collect [foreach . diff [keep/only case [set-path? . [make set-path! compose [obj (to-block .)]] true [.]]]]
== [obj/date/weekday: 1 obj/map/a: 3]
>> reduce effect
== [1 3]
>> obj
== make object! [
    date: 6-Nov-2017/16:35:18+01:00
    map: #(
        a: 3
        b: 2
    )
]
```

[15:59](#msg5a047b67f7299e8f5390d8c8)@9214 btw, how can I find about `keep/only`? typing `? collect` in console only provides help about raw `keep`, no word about refinements...

9214

[16:00](#msg5a047b8adf09362e67ea36fc)@akavel you can check out source with `?? collect` to find out

akavel

[16:01](#msg5a047bd0f7299e8f5390db3a)@9214 ok, thx; not ideal, but better than nothing

9214

[16:02](#msg5a047c22614889d4755d7379)@akavel although your example could be simplified drastically

```
>> obj: object [date: now map: #(a: 1 b: 2)]
== make object! [
    date: 9-Nov-2017/21:01:50+05:00
    map: #(
        a: 1
        b: 2
    )
]
>> diff: [date/weekday: 1 map/a: 3]
== [date/weekday: 1 map/a: 3]
>> do bind diff obj
== 3
>> obj
== make object! [
    date: 6-Nov-2017/21:01:50+05:00
    map: #(
        a: 3
        b: 2
    )
]
```

akavel

[16:04](#msg5a047c8af257ad910974202c)@9214 Argh; ok, but my example should work whether 'obj' is an \*object!\*, a \*date!\*, a \*map!\*, etc, no?

9214

[16:05](#msg5a047ce232e080696e84f15b)@akavel no, again, `bind` accepts either `word!` or `block!` as the first argument and `object!` (or `function!` for that matter) as the second argument, then changes binding(s) of the first word (or words in a block) to the provided object/function (i.e. \*context\*).

akavel

[16:09](#msg5a047dd6d6c36fca31f7aef5)@9214 I mean, this will still work:

```
>> obj: now
== 9-Nov-2017/17:06:45+01:00
>> diff: [weekday: 1]
== [weekday: 1]
>> effect: collect [foreach . diff [keep/only case [set-path? . [make set-path! compose [obj (to-block .)]] set-word? . [make set-path! compose [obj (to-word .)]] true [.]]]]
== [obj/weekday: 1]
>> reduce effect
== [1]
>> obj
== 6-Nov-2017/17:06:45+01:00
```

whereas it wouldn't with `do bind`, right?

9214

[16:10](#msg5a047de7df09362e67ea4600)Correct.

akavel

[16:10](#msg5a047de8f7299e8f5390e869)(had to add the `set-word?` case here)

[16:11](#msg5a047e40d6c36fca31f7b1bb)though from here it's close enough to a full `parse` expression, I suppose, which would handle any full-fledged code block

9214

[16:12](#msg5a047e76e44c43700ad944e0)simply put, you want to apply each "effect" in a block to a value with some set of accessors?

akavel

[16:14](#msg5a047ef6b20c642429aa54e8)probably; now it's me who doesn't fully understand your sentence ;)

9214

[16:15](#msg5a047f18f7299e8f5390eeee)@akavel how about

```
>> obj: now
== 9-Nov-2017/21:14:06+05:00
>> diff: [weekday: 1]
== [weekday: 1]
>> foreach effect words-of context diff [obj/:effect: get :effect]
== 1
>> obj
== 6-Nov-2017/21:14:06+05:00
```

[16:17](#msg5a047f90e44c43700ad94b99)I mean, you have some value X with some properties, and you have a set of (property - new value) pairs which you want to apply to your value and change it accordingly

akavel

[16:17](#msg5a047f9a614889d4755d8991)uh; ok, now I don't even know how to start parsing this foreach expression :(

[16:17](#msg5a047fa5df09362e67ea511a)yeah, correct

9214

[16:19](#msg5a047ffdd6c36fca31f7bc0e)you mean parsing with `parse` or should I explain what's happening here? :D

akavel

[16:19](#msg5a04800af257ad910974354b)what's happening :)

[16:20](#msg5a048039e44c43700ad94fb0)ahhhhh ok ok

[16:20](#msg5a04803d614889d4755d8f53)I think I'm starting to get it

[16:20](#msg5a04804f614889d4755d9002)`context diff` converts `diff` to an \*object!*

[16:21](#msg5a04806e86d308b755ca631d)ummm

[16:21](#msg5a0480a47081b66876ce4b1c)hm; no; still don't know how `get :effect` works then

9214

[16:22](#msg5a0480ccdf09362e67ea5920)@akavel

```
>> foo: 1
== 1
>> bar: 'foo
== foo
>> :bar
== foo
>> get :bar
== 1
```

akavel

[16:22](#msg5a0480d3d6c36fca31f7c038)`context` takes only 1 argument

9214

[16:23](#msg5a0480f27081b66876ce4d74)`get :bar` is the same as `get get 'bar`

akavel

[16:24](#msg5a048138f7299e8f5390fbfe)

```
>> diff: [weekday: 1 year: 2018]
== [weekday: 1 year: 2018]
>> words-of context diff
== [weekday year]
```

this I still grasp

[16:26](#msg5a0481aff257ad91097444a7)with the `foreach`, I understand that `effect` will first become `weekday`, then `year`

9214

[16:26](#msg5a0481c7614889d4755d99f8)dunno if this will help

```
>> date: now
== 9-Nov-2017/21:23:39+05:00
>> diff: [weekday: 1]
== [weekday: 1]
>> context diff
== make object! [
    weekday: 1
]
>> words-of context diff
== [weekday]
>> first words-of context diff
== weekday
>> get first words-of context diff
== 1
>> effect: first words-of context diff
== weekday
>> :effect
== weekday
>> date/:effect
== 4
>> date/:effect: 1337
== 1337
>> date
== 4-Jul-2021/21:23:39+05:00
>> :effect
== weekday
>> get :effect
== 1
>> date/:effect: get :effect
== 1
>> date
== 28-Jun-2021/21:23:39+05:00
```

akavel

[16:27](#msg5a04820086d308b755ca6cbe)uh uh, yeah - so here I don't freaking get how this part: `get first words-of context diff` can work and give `1` ?!?!?

[16:28](#msg5a04823632e080696e851136)if I type `get weekday` or `get 'weekday`, this doesn't automagically give me `1`

[16:29](#msg5a0482567081b66876ce5529)how is the `first ...` giving some magical `== weekday` ???

9214

[16:29](#msg5a04827d7081b66876ce55c5)

```
text
>> my-word: 'its-value
== its-value
>> my-block: [my-word]
== [my-word]
>> first my-block
== my-word
>> type? first my-block
== word!
>> get first my-block
== its-value
```

[16:31](#msg5a0482d1b20c642429aa6dec)`words-of` returns a block that contains words, every word in that block is bound to some value

[16:31](#msg5a0482f932e080696e851536)with `get` applied to word you can fetch this value back

akavel

[16:32](#msg5a0483037081b66876ce58a0)uh oh; hmh, ok, so - a word can be bound to some value, meaning "store it inside", or not, meaning "be empty"?

[16:32](#msg5a048322f257ad9109744e35)I was thinking words are just names, they don't store anything

[16:32](#msg5a048330f257ad9109744e9e)I understand that's not how it is in Red

[16:33](#msg5a04834586d308b755ca73b2)interesting!

9214

[16:33](#msg5a04835ed6c36fca31f7d0b8)yes, however word doesn't "store" value inside itself, instead it has a pointer to a "storage" which looks like a (word - its value) table

[16:34](#msg5a04838ed6c36fca31f7d422)this "storage" is called a \*context\*, and it's essentially just a namespace

[16:35](#msg5a0483bb7081b66876ce5ca5)what `bind` does is changes this pointer for a given word(s)

akavel

[16:35](#msg5a0483de7081b66876ce5d72)ahh; so the `context` creates a new context, then the words escape it but still reference the values inside it; something like this?

9214

[16:36](#msg5a0483ff32e080696e851c20)not sure what you mean by "escape" though :D

[16:36](#msg5a04841ee44c43700ad9706d)

```
text
>> get in context [word: 'value] 'word
== value
```

akavel

[16:42](#msg5a04855ce44c43700ad9778c)I mean that there can be `weekday` and `weekday`; both reporting as `weekday` via `probe`,

[16:42](#msg5a048568d6c36fca31f7de06)but one of them containing some value (from a different context, possibly), the other not

[16:43](#msg5a0485c3f7299e8f53911722)

```
>> first words-of context diff
== weekday
>> type? first words-of context diff
== word!
>> get first words-of context diff
== 1
>> to-word 'weekday
== weekday
>> type? to-word 'weekday
== word!
>> get to-word 'weekday
*** Script Error: weekday has no value
*** Where: get
*** Stack:
```

9214

[16:45](#msg5a048613f7299e8f53911918)yes, because `weekday` you've created doesn't have any binding, while `weekday` inside a block is bounded to anonymous context (`context diff`)

akavel

[16:46](#msg5a04864ce44c43700ad97d11)

```
>> x: reduce [first words-of context diff to-word 'weekday]
== [weekday weekday]
>> get first x
== 1
>> get second x
*** Script Error: weekday has no value
*** Where: get
*** Stack:
```

[16:47](#msg5a04869d86d308b755ca8874)

```
>> x: reduce [first words-of context [weekday: 1] first words-of context [weekday: 5]]
== [weekday weekday]
>> get first x
== 1
>> get second x
== 5
```

[16:48](#msg5a0486e886d308b755ca8a2a)Thanks a lot. That's totally something I didn't get from any of the Red guides/tutorials/helps I managed to find.

9214

[16:55](#msg5a048866d6c36fca31f7f1e0)@akavel remember though, it's not the spoon that ~~bends~~ binds, it is only yourself :baby: :fork\_and\_knife:

```
>> mantra: split "there's no spoon" space
== ["there's" "no" "spoon"]
>> matrix: collect [forall mantra [keep reduce [context compose [spoon: (first mantra)]]]]
== [make object! [
    spoon: "there's"
] make object! [
    spoon: "no"
] make object! [
    spoon: "spoon"...
>> cutlery: [spoon spoon spoon]
== [spoon spoon spoon]
>> repeat index length? cutlery [bind at cutlery index matrix/:index]
== [spoon]
>> cutlery
== [spoon spoon spoon]
>> form reduce cutlery
== "there's no spoon"
```

[16:58](#msg5a04895286d308b755ca9a3e)

```
text
>> spoon: "take the red pill"
== "take the red pill"
>> append cutlery [comma spoon]
== [spoon spoon spoon comma spoon]
>> form reduce cutlery
== "there's no spoon , take the red pill"
```

akavel

[17:03](#msg5a048a79b20c642429aaa1bc)So, `bind`+`context` is the ultimate trickster? And other funcs are various kinds of "syntactic sugar" for it?

9214

[17:03](#msg5a048a7f86d308b755caa3f7)

```
text
>> spoon: "but there're some agents"
== "but there're some agents"
>> form reduce cutlery
== "there's no spoon , but there're some agents"
>> bind back tail cutlery context [spoon: "but there's a woman in the red dress"]
== [spoon]
>> spoon: "follow the white rabbit"
== "follow the white rabbit"
>> cutlery
== [spoon spoon spoon comma spoon]
>> form reduce cutlery
== {there's no spoon , but there's a woman in the red dress}
>> spoon
== "follow the white rabbit"
```

toomasv

[17:04](#msg5a048abbb20c642429aaa375)@9214 I love your poetry!

rebolek

[17:05](#msg5a048adcf257ad91097484c9):)

9214

[17:07](#msg5a048b447081b66876ce8f8b)@akavel `function!` and `object!` are kind of "manifestations" of a context, in a sense that they construct it and bound words to it: in case of `object!`, it's all `set-word!`s inside of its body, in case of `function!` it's all that follow after `/local` refinement, but `function` is smart enough and can figure out what to bind all by itself.

akavel

[17:09](#msg5a048bc5f7299e8f53913f82)@9214 How about function params? They are new words, but bound to values dragged from the original context they had at the call-site?

9214

[17:10](#msg5a048c097081b66876ce9666)@akavel

```
>> add: func [x y][x + y]
== func [x y][x + y]
>> add 40 2
== 42
>> do bind [x + y] context [x: 40 y: 2]
== 42
```

[17:12](#msg5a048c68df09362e67ea9f30)yes, I guess you're right

akavel

[17:15](#msg5a048d1cdf09362e67eaa43b)

```
>> xx: reduce [bind 'x context [x: 40] bind 'x context [x: 2]]
== [x x]
>> add: func [x y][x + y]
== func [x y][x + y]
>> add first xx second xx
*** Script Error: + does not allow word! for its value1 argument
*** Where: +
*** Stack: add  

>> add get first xx get second xx
== 42
```

9214

[17:17](#msg5a048da8e44c43700ad9ab71)@akavel ;)

```
>> do bind [x + y] context [x: 6 y: 7 +: :*]
== 42
```

akavel

[17:18](#msg5a048dcbb20c642429aab764)oh lol :D

[17:19](#msg5a048e1b614889d4755de7a3)so `bind` also works on blocks! pity it doesn't have help description...

9214

[17:21](#msg5a048e9be44c43700ad9b1df)

```
text
>> ? bind
USAGE:
     BIND word context

DESCRIPTION: 
     BIND is a native! value.

ARGUMENTS:
     word         [block! any-word!] 
     context      [any-word! any-object! function!] 

REFINEMENTS:
     /copy        => 

RETURNS:
     [block! any-word!]
```

[17:26](#msg5a048fb8d6c36fca31f824ac)hm, it seems that I can't use `function!` with `bind`?

```
>> do bind [x] has [x][x: 1]
*** Script Error: x is not in the specified context
*** Where: do
*** Stack:
```

akavel

[17:28](#msg5a04905432e080696e856f40)Yeah, I mean it formally has help, but only auto-generated, no human-originating explanations and description of semantics.

9214

[17:30](#msg5a04909dd6c36fca31f82be2)bindology is a rather sophisticated topic, not sure if help string would be helpful :D

akavel

[17:32](#msg5a049133e44c43700ad9c4a7)I feel pretty convinced it could be. At least in the Go language, I find those tend to work really well, if given enough care.

[17:41](#msg5a049361f257ad910974c525)@9214 the foreach effect... attempt doesn't work with the `obj: make object! [date: now/date map: #(a: 1 b: 2)]` case ;)

[17:42](#msg5a049381614889d4755e0b7c)with `diff: [date/weekday: 1 map/a: 3]`

[17:42](#msg5a04939cb20c642429aaddf4)because:

```
>> diff: [date/weekday: 1 map/a: 3]
== [date/weekday: 1 map/a: 3]
>> context diff
*** Script Error: date has no value
*** Where: set-path
*** Stack: context
```

9214

[17:45](#msg5a04943db20c642429aae175)I see, you still can use `do bind...` though

greggirwin

[17:48](#msg5a049506df09362e67ead3aa)Humans wrote the doc strings `help` uses. It's the context of a doc string that limits how much we can usefully include. More detailed docs will come, but take a lot of time and effort.

From time to time, we talk about how to include more information, tests, etc. that can be accessed reflectively. It can be done, but needs a champion to take it on.

akavel

[17:48](#msg5a04950a7081b66876ced11c)was hoping I could use the same func both for \*date* and \*object* types

greggirwin

[17:50](#msg5a049552f257ad910974cf6a)As far as `keep` inside `collect`, this is a bit tricky as well, since it's really an implicit feature. Again, how much can we put in the doc string. It's also something you can learn quickly and stays in the mind pretty easily if used more than rarely.

[17:51](#msg5a049590f7299e8f5391865f)@akavel, you can write a func that works on both, but they are completely different types, with different behaviors. Unlike some other langs, dates in Red are not implemented as objects, so don't share their semantics.

akavel

[17:51](#msg5a04959032e080696e859098)@greggirwin Sure, I understand humans do that :) and big thanks to you all for those helps which are present! :) What I tried to convey, is that I believe the doc strings could possibly form the ultimate source of truth. I find that this works really well in case of Go's docs.

greggirwin

[17:52](#msg5a0495c986d308b755cae937)The catch is that doc strings are best kept short. They are not meant to be a detailed reference.

akavel

[17:52](#msg5a0495d1e44c43700ad9e387)Why?

[17:52](#msg5a0495d8f257ad910974d27f)Or, actually, why not?

greggirwin

[17:52](#msg5a0495e1614889d4755e1932)Can you point to some good Go examples for us?

9214

[17:52](#msg5a0495e3614889d4755e1941)..because it's a reference and not a documentation?

akavel

[17:52](#msg5a0495f4f257ad910974d2e2)http://golang.org/pkg

[17:53](#msg5a049605b20c642429aaea4a)for starters, maybe http://golang.org/pkg/fmt

9214

[17:54](#msg5a049638d6c36fca31f84b31)that's packages documentation, right?

akavel

[17:54](#msg5a04963ed6c36fca31f84b46)right

9214

[17:54](#msg5a04964ae44c43700ad9e57c)but we're talking abound `bind` \*function\*, right?

greggirwin

[17:54](#msg5a049652b20c642429aaebcb)Think of them more like tooltips than man pages. It keeps func defs short, and if you do `? native!` you get a nice dense list. It does make us work hard on them, to make them convey as much important information as clearly as possible, in a short amount of space.

akavel

[17:54](#msg5a04965cdf09362e67eadb4a)in the package docs, each function has its own docs

rebolek

[17:55](#msg5a04968d86d308b755caed90)Introducing `url!` support in func specs would really help with documentation efforts.

akavel

[17:55](#msg5a049691df09362e67eadc1a)What I do miss, are the manpages...

greggirwin

[17:56](#msg5a0496da7081b66876cedba9)@akavel, if I look at https://golang.org/src/fmt/format.go, I don't see any doc strings in the funcs. Where should I look for doc strings in source?

akavel

[17:57](#msg5a0496ecdf09362e67eaddeb)Ok, trying to find some more fully fledged per-func docs: https://golang.org/pkg/archive/zip/#example\_Writer\_RegisterCompressor

[17:58](#msg5a04973232e080696e859858)@greggirwin In case of longer "intro/overview" package docs (not per-func ones), they're commonly put in a separate file in the package, named doc.go: https://golang.org/src/fmt/doc.go

9214

[17:58](#msg5a0497407081b66876cedf6a)you're talking about external documentation (which will surely come in Red), but docstrings are \*internal\*, in a sense that theyliterally are parts of function spec.

akavel

[17:59](#msg5a049776614889d4755e21cb)https://golang.org/pkg/bufio/#SplitFunc

[17:59](#msg5a04978bf7299e8f539190dd)source: https://golang.org/src/bufio/scan.go?s=2770:2853#L44

greggirwin

[18:00](#msg5a0497c532e080696e859d19)As @9214 says, it sounds like you're talking about external docs. I don't remember even seeing how you can include doc strings in Go code. Other systems use specially formatted comments and a separate processor, which is quite a different approach. Consider that if we put manpage-size docs in each func, those docs will be included in \*every* runtime, making it much larger. We can look at how to do that, with compressed builds that exclude them, but this is a larger design effort.

akavel

[18:01](#msg5a0497e67081b66876cee2f5)https://golang.org/pkg/regexp/#Regexp.Split

[18:01](#msg5a049808df09362e67eae4de)source: https://golang.org/src/regexp/regexp.go?s=35045:35094#L1136

9214

[18:02](#msg5a0498457081b66876cee55c)@akavel check out source of, say, `math` function in Red

greggirwin

[18:02](#msg5a049850f257ad910974e006)We can certainly include detailed docs, and write a doc processing tool, as Go does. It doesn't mean `help` could use them though, unless they're kept as part of a function.

akavel

[18:02](#msg5a049851f7299e8f539195f1)Right, the runtime size is some argument here, kinda intrinsically given that Go has no REPL/interpreter.

9214

[18:03](#msg5a0498567081b66876cee595)and meditate on function spec

rebolek

[18:03](#msg5a04987bb20c642429aaf7d9)@akavel there is \[Rebol dictionary](http://rebol.com/docs/dictionary.html) that is basically manpages for every Rebol function. I hope Red will have something like it too, with direct link from func specs.

greggirwin

[18:03](#msg5a04987fdf09362e67eae88e)REPL doesn't matter. If they are part of the runtime, they would be in every program you compile.

9214

[18:04](#msg5a0498a8f257ad910974e289)in Go all I can see is some specifically formatted \*comments\*, while in Red there're \*strings*

[18:04](#msg5a0498b2614889d4755e2803)which could be accessed/modified at runtime

greggirwin

[18:05](#msg5a0498d286d308b755cafab9)@rebolek, who did `nsource`? I can't find it right now.

akavel

[18:05](#msg5a0498d6f257ad910974e395)@greggirwin Yeah, I mean that in case of Go there's no use to keep them in runtime, so there's no problem.

greggirwin

[18:05](#msg5a049902614889d4755e297b)@akavel, right, we're talking about completely different things. You just miss more complete documentation, it seems, which will come in time.

rebolek

[18:07](#msg5a04995f32e080696e85a595)@greggirwin Do you really want me to brag about it? ;)

akavel

[18:08](#msg5a04999532e080696e85a6ca)Yeah, something like that. What pains me is that things are split between free-form unordered musings on red-lang.org, also freeform docs.red-lang.org, the help system (which feels most comfortable, structured and easy to use to me!), and today I learned about the wiki.

greggirwin

[18:08](#msg5a04999ddf09362e67eaef3c)@rebolek, yes please. :^) I thought it was you.

rebolek

[18:08](#msg5a0499a0d6c36fca31f85ef0)https://gist.github.com/rebolek/dc1bb8c17f0c97e4dbf918126fcab6f1

greggirwin

[18:09](#msg5a0499c9f257ad910974e817)@akavel, red-by-example.org may help you.

9214

[18:09](#msg5a0499ebe44c43700ad9f8e5)@greggirwin I think @akavel wants to say that we need some centralized documentation system and not a bunch of free-form resources

rebolek

[18:10](#msg5a049a01e44c43700ad9f97f)I agree with that.

9214

[18:10](#msg5a049a07b20c642429ab00b2)which, again, is a matter of time and our heroism :older\_man:

akavel

[18:11](#msg5a049a40614889d4755e31aa):)

greggirwin

[18:12](#msg5a049a70f7299e8f5391a279)We all agree, reference documentation is important.

akavel

[18:13](#msg5a049abcf257ad910974ed1a)And also I want to try to suggest, that I believe Go's approach with godoc managed to kinda provide a really good platform and feature set for building such centralized docs system, so maybe something valuable could be stolen from it for Red

greggirwin

[18:13](#msg5a049ad5614889d4755e34c6)R3 had a `docs` func for linking to online references. I imagine we'll do something like that.

[18:15](#msg5a049b43d6c36fca31f869b2)Not sure we need to steal from it, but list the top 3 best features and we can start there.

Not saying we don't want to learn from other systems, but there's some pretty deep experience here already.

rebolek

[18:16](#msg5a049b6d86d308b755cb0b42)And I will say it again, I believe that link to online docs should be part of function specs. Rebol function specs were ahead of their time with doc string, but it is almost 20 years later and improvements can and should be made.

akavel

[18:17](#msg5a049bd732e080696e85b3f5)What I like in godocs is:  
\- docs are written in source files, close to documented entities, so it's fairly easy to update them  
\- good discoverability by html index of packages + granularity of packages (in Red, I recently found `? "!"` brings me the full list of words, but I miss grouping)  
\- it's easy to write examples, and they automatically work as unit tests, so won't become stale  
\- each package can have extra package-level doc, which often works as introductory guide.

greggirwin

[18:18](#msg5a049bf9b20c642429ab0b19)@akavel, thanks.

akavel

[18:19](#msg5a049c1886d308b755cb112d)Kinda like 5 features, but I already started writing them before you asked ;)

[18:19](#msg5a049c26b20c642429ab0ca2)Ok, enough mobbing you :)

[18:20](#msg5a049c5886d308b755cb1254)I must say I'm happy you're working on making Red a great thing :)

9214

[18:20](#msg5a049c7786d308b755cb136e)I think it's pretty doable and we should slowly start our work and discussion after module system implementation

lepinekong\_twitter

[18:21](#msg5a049c91f7299e8f5391af1d)&gt; @lepinekong\_twitter, it's gitter, not you. Thanks for your article! We can link to it from the Red wiki, though I'll make one suggestion first. Don't use `form` as a variable name. That's a standard, commonly used, function.

@greggirwin ok thanks I'll update the article next time for form.

rebolek

[18:21](#msg5a049ca7f7299e8f5391af91)Nothing against godocs, but they are like jsdoc, clever hack on top of the language, not a built-in mechanism, like docstrings in Redbol. But they show where docstrings should evolve.

akavel

[18:23](#msg5a049d1ab20c642429ab1352)As a funny anecdote, I once asked a question on stackoverflow (or programmers.stackexchange.com, don't remember), asking if anybody knows of a language with LISP-like semantics but LOGO-like syntax. I got bashed on my head repeatedly, into deep minus points, with comments like "that would be a stupid idea and ugly syntax!", finally I think the question got deleted because I can't find it anymore. A few years later, I found about Red and Rebol :)

rebolek

[18:23](#msg5a049d31df09362e67eb040d):+1:

9214

[18:25](#msg5a049d7fdf09362e67eb04f5)puny mortals!

akavel

[18:26](#msg5a049de7614889d4755e4678)So, keep up your great work everybody, crossing my fingers for you :) and in my other hand, crossing them for guys at luna-lang.org, though they're at a very different stage of development and potentially vaporware, unfortunately.

9214

[18:27](#msg5a049e227081b66876cf0b75)@akavel haven't checked it in a long time, what's new?

akavel

[18:29](#msg5a049e8ce44c43700ada12a3)@9214 Nothing, that's the problem :) Though I visited the guys IRL once and they seemed busy working. Problem is - whether they'll make it to some kind of completion. This I don't know.

[18:30](#msg5a049eb6f257ad91097501e9)Ok, bye for now, going back into real life. But I'll be back, I think :) Thank you guys again for your help and discussions. See y'all!

9214

[18:30](#msg5a049ec9f7299e8f5391bd77)@akavel meanwhile I'm scratching my head with your "effects"

[18:31](#msg5a049f07df09362e67eb0f2a)there's a slight problem that paths are not normalized and, say `a/b` is recognized literally as `a/b` value and not "`b`accessor in `a` value"

lepinekong\_twitter

[19:39](#msg5a04aedfdf09362e67eb698d)@@

rebolek

[19:39](#msg5a04af0fe44c43700ada6991)interesting

9214

[19:40](#msg5a04af29614889d4755eaf5d)@rebolek that's my replica! :D

lepinekong\_twitter

[19:40](#msg5a04af29f257ad91097562ae)@greggirwin so I tried to replace form by win only between

```
but my rules does replace everywhere, anybody knows why ? rules: [
        (code: false)
        any [
            thru {
```

} (code: not code)  
any [  
to "form" mark: (  
if code \[remove/part mark 4 insert mark "win"]  
)  
|  
thru {\`} (code: not code)  
]

]  
to end]

[19:40](#msg5a04af467081b66876cf7053)Oops Gitter sucks with me :)

[19:42](#msg5a04af96f7299e8f53921d2b)@greggirwin rather see https://gist.github.com/lepinekong/88473968601901f82bc5781285543cdf

9214

[19:45](#msg5a04b055df09362e67eb70dd)@lepinekong\_twitter how about

````
>> parse str: {form ```form``` form}[some [to ["```" change "form" "win" "```"]]]
== false
>> str
== "form ```win``` form"
````

[19:45](#msg5a04b063f7299e8f5392219b)wait, it's too naive

lepinekong\_twitter

[19:51](#msg5a04b1a5b20c642429ab88b6)@9214 I tried, doesn't seem to work, by the way I updated the gist with some content https://gist.github.com/lepinekong/88473968601901f82bc5781285543cdf

9214

[20:12](#msg5a04b6a8b20c642429aba7dd)@lepinekong\_twitter try this

````
parse content [
    some [
        thru "```"
        any [change "form" "win" | "```" break | skip]
    ]
]
````

[20:17](#msg5a04b7d5b20c642429abaecb)remember that `any` is greedy and will repeat rule as many times as it can - in your case `to "form"` will go beyond codefences and rewrite every match in a text

lepinekong\_twitter

[20:53](#msg5a04c04a614889d4755f1019)@9214 thanks I'll try and come back later.

[20:57](#msg5a04c143f7299e8f53928b0d)@9214 works perfect thanks :smile:

greggirwin

[21:39](#msg5a04cb1bdf09362e67ec03b3)Glad you got it sorted @lepinekong\_twitter. Thanks for sorting @9214.

## Friday 10th November, 2017

numberjay

[07:14](#msg5a0551b8f7299e8f53950678)@dockimbel @greggirwin thank you Gregg for your detailed reply re: immutability  
let me state: Red should not be immutable by default, or it wouldn't be Red anymore  
but providing immutable data structures would be lovely  
failing that, it's not the end of the world  
because Red is well suited to let me implement any data structure, immutable or not  
you nail it down about threads, immutability is a huge win there  
and i also agree with you about not being fond of threads anyway, preferring approaches that are simpler to reason about  
in my current Clojure project i'm building a structural IDE (where code is laid out as a tree and looks like a mind map) and when i had to implement the undo/redo functionality it took me a measly 2 hours... all thanks to immutability  
why?  
if to keep the state of your app all you have is mutable data structures, either you limit your undo/redo or it will take as much time to implement as all the other features  
you basically have to reimplement them in 'reverse' so to say  
we're talking about days, more likely weeks  
and any new feature you add, you have to again work on the undo/redo for taking it into account...  
no surprise undo/redo is one of the most boring implementation tasks you might deal with  
but i hold the state of my app in an immutable hashmap and by simply pushing/popping each hashmap (for each new state) to a couple vectors... undo/redo is as easy as traversing the vectors back and forth and emptying the redo vector if i generate a new state for my app  
with immutability i got undo/redo for free, literally  
then i added more features and they already came with undo/redo (no need to do anything!)  
instead, using and copying a mutable hashmap each time would be totally unfeasable performance wise (both in terms of memory and time)  
as undo/redo is a universal feature expected in any real world app, i would say that immutability matters  
and i just gave you a relevant real world example, that's not the only use case of course!  
about the complexity of a copy-on-write tree-based approach, again i'm not wishing at all for Red to be immutable by default... i'm not implying or even hinting at Nenad to work on adding immutable data structures (if he did, it would be awesome of course)  
only... it's not as complex as it seems, it' a solved problem and even if i'm not inclined to plunge into the specific literature... i'm sure i could pull it off in a practically satisfactory way from scratch (even if maybe suboptimal, but then performance can always be optimized after a correct implementation is in place)  
in the end the concept is quite simple, mapping a linear structure onto a tree  
what is more troubling instead, is not being able to use arbitrary data as keys in maps and hashs...  
someone here suggeted that hash! does allow blocks as keys, but Nenad himself clarified in the answer to my ticket #3084 that no, it doesn't  
what Nenad states is very logical and true in the general case, but very disappointing for two reasons  
1\) on a practical level, suggesting i use a block instead of an hash/map is a great no no if my hash/map is huge (it is) and my keys are tiny blocks of 3 or 4 elements (they are)  
hashing a small block is insanely faster than traversing a million elements block to find a key...  
but again that's not the end of the world, i think i can pull it off anyway by forming/molding my tiny blocks into strings and using those as keys... (hashing strings, but why?!?)  
2\) on a philosophical level, and this bothers me most, as a programmer i feel disempowered not by a real difficulty or impossibility (hashing any series is straightforward, a non issue), but by an opinion... that i would be using huge data structures as keys (i'm not gonna do that in general) and that would be slow (it is)... while i would like to decide by myself what price i'm willing to pay based on what i want to do  
i hope i didn't come out as confrontational because i'm not  
if i didn't care about Red and its goals and philosophy, i wouldn't consider switching from Clojure (i'm switching) and taking the time to express myself here

[12:02](#msg5a05956c614889d475631acf)i think i found a solution  
using a hash! plus molding my keys... works  
and it works \*way faster* than a plain block with unmolded 'keys' (a plain block behaves already better than i expected though, even with linear search time...)  
also i can use \*anything* as a key (blocks, objects, whatever)  
so i've got something suitable as a building block for implementing immutable/persistent vectors and hahmaps  
and i guess i know what i need to do next... :-O

lepinekong\_twitter

[17:36](#msg5a05e39ddf09362e67f1a8e1)I'm really stuck with this: I want to test inside a function if system/words/test exists , it doesn't work (I want to use system/words not set/get) https://gist.github.com/lepinekong/574c327539b7f0591442a6932bbe96bf

[17:37](#msg5a05e3dab20c642429b1bca5)of course it can be 'test or anything else 'param etc...

rebolek

[17:56](#msg5a05e847e44c43700ae0bbb8)use `if value? in system/words param` instead

[17:56](#msg5a05e86bdf09362e67f1c2db)path gets evaluated and throws error before you can test it with `value?`

lepinekong\_twitter

[18:10](#msg5a05eb9c86d308b755d1dc00)@rebolek wow great I wondered what's what in purpose now I just learned :)

rebolek

[18:16](#msg5a05ecfae44c43700ae0d762)you're welcome :)

greggirwin

[18:37](#msg5a05f1dfb20c642429b20b28)@numberjay, thanks so much for taking time to respond. I've pulled your message into a new wiki page so it is't lost to time: https://github.com/red/red/wiki/Red-v-Clojure Edit at will, or delete if you prefer.

[18:45](#msg5a05f3d7e44c43700ae0fa79)I agree on undo/redo, though different patterns let us do that in different ways. I added time travel to our little demo paint program, but inefficiently as it's a simple `copy` approach. So, yes, I get that part, absolutely.

I'm really excited to see what you come up with. Right now, we have a mix of expertise in the community. I'm amazed at what people are already doing, shortly after finding Red.

Something we need to keep in mind, is that only a small percentage (with luck) of Reducers will even know or care about what immutability is, or how it works. Red opens up the possibility of building applications and solutions, as VB did, to \*so* many people. Redbol langs give us almost infinite rope with which to shoot ourselves in the foot, and Red/System is a rope factory. How we use them to expose functionality to those in-the-know about deeper subjects, and also those who are not, scaling between tiny GUI apps and enormous data processing systems...interesting times.

akavel

[22:05](#msg5a0622a0505b630c05ca288b)Hi all! Is this behavior of map expected? if yes, why is it so and how can I make it do what I want? Do I have to convert to strings/words?

```
>> map: #()
== #()
>> d1: 18-Nov-2017
== 18-Nov-2017
>> map/:d1: true
== true
>> map
== #(
    18-Nov-2017 true
)
>> d2: now/date
== 10-Nov-2017
>> d2/day: 18
== 18
>> print [d1 d2 map/:d1 map/:d2]
18-Nov-2017 18-Nov-2017 true none
```

greggirwin

[22:31](#msg5a0628cfdf09362e67f33624)@akavel, what is it you want it to do? It looks normal to me.

akavel

[22:32](#msg5a0628ebd6c36fca310099c4)I mean why `map/:d2` returns `none`?

[22:32](#msg5a0628fa540c78242deb9a5d)I'd want it to be `true`, as is for `map/:d1`

greggirwin

[22:32](#msg5a0628fb026aeaa02ffbe592)Maps don't error if you ask for a non-existent key.

akavel

[22:32](#msg5a06290a026aeaa02ffbe5df)but `d1 == d2`

greggirwin

[22:32](#msg5a06290fd6c36fca31009ae4)Then you need to add it to the map.

akavel

[22:33](#msg5a06293e505b630c05ca4ca9)I have `map/:d1 == true` and `d1 == d2`, but `map/:d2 <> true`

greggirwin

[22:33](#msg5a062953505b630c05ca4cee)Ah, I think I see what you mean now.

[22:34](#msg5a062991f257ad91097d2c08)Missed it at a quick scan.

akavel

[22:37](#msg5a062a18540c78242deb9e80)Hmmm, they seem to differ internally in some details, maybe that's the culprit:

```
>> repeat i 14 [print [pad i 4 pad system/catalog/accessors/date!/:i 10 pad pick d1 i 12 pick d2 i]]
1    date       18-Nov-2017  18-Nov-2017
2    year       2017         2017
3    month      11           11
4    day        18           18
5    zone       0:00:00      1:00:00
6    time       none         none
7    hour       0            1
8    minute     0            0
9    second     0.0          0.0
10   weekday    6            6
11   yearday    322          322
12   timezone   0:00:00      1:00:00
13   week       46           46
14   isoweek    46           46
```

greggirwin

[22:39](#msg5a062aac86d308b755d3366d)Indeed. That makes sense. I was poking at various things and this hidden state could be the key.

[22:41](#msg5a062b21d6c36fca3100a5a1)I wonder why I get different value types at `zone` and `timezone`.

```
>> repeat i 14 [print [pad i 4 pad system/catalog/accessors/date!/:i 10 pad pick d1 i 12 pick d2 i]]
1    date       18-Nov-2017  18-Nov-2017
2    year       2017         2017
3    month      11           11
4    day        18           18
5    zone       none         none
6    time       none         none
7    hour       0            -7
8    minute     0            0
9    second     0.0          0.0
10   weekday    6            6
11   yearday    322          322
12   timezone   none         none
13   week       46           46
14   isoweek    46           46
```

akavel

[22:45](#msg5a062bf37081b66876d75648)Btw, as a quick workaround, `now/utc/date` seems to solve this, but I think I'll report an issue anyway, that feels quite unexpected and hard to trace, so maybe some solution could be invented.

greggirwin

[22:46](#msg5a062c46df09362e67f34629)It seems worth a ticket. I think it applies to `date!` as much as `map!`, though map is affected by it.

[22:51](#msg5a062d81505b630c05ca6262)

```
>> dd: now
== 10-Nov-2017/15:48:57-07:00
>> ddd: now/date
== 10-Nov-2017
>> dddd: 10-nov-2017
== 10-Nov-2017
>> repeat i 14 [print [pad i 4 pad system/catalog/accessors/date!/:i 10 pad pick dd i 12 pad pick ddd i 12  pick dddd i]]
1    date       10-Nov-2017  10-Nov-2017  10-Nov-2017
2    year       2017         2017         2017
3    month      11           11           11
4    day        10           10           10
5    zone       -7:00:00     none         none
6    time       15:48:57     none         none
7    hour       15           -7           0
8    minute     48           0            0
9    second     57.0         0.0          0.0
10   weekday    5            5            6
11   yearday    314          314          314
12   timezone   -7:00:00     none         none
13   week       45           45           45
14   isoweek    45           45           45
                now          now/date     10-Nov-2017
```

akavel

[22:52](#msg5a062dc0df09362e67f34e8e)Right; I mentioned `map` in ticket name then: https://github.com/red/red/issues/3104

[22:54](#msg5a062e29540c78242debb121)Interesting that in your example, now/date and 10-Nov-2017 have different weekday

[22:55](#msg5a062e5fb20c642429b35987)Hm, maybe you should add this as a comment to the issue?

[22:55](#msg5a062e7186d308b755d3486b)ah, you did

greggirwin

[22:56](#msg5a062e8ddf09362e67f35231)Yes, and that `hour` for `now/date` matches the timezone.

[22:56](#msg5a062e99026aeaa02ffbfd78)Good find.

dander

[22:57](#msg5a062ede505b630c05ca6943)interestingly, `map/(d2/date)` works. It seems like `now/date` leaves in some extra fields, but the `/date` accessor (?) strips them off...

akavel

[22:59](#msg5a062f40d6c36fca3100bb2c)@dander seems worthy to add as a comment on the issue too?

[23:09](#msg5a0631ac86d308b755d35801)@greggirwin Could you add `now/date/date` to your comparison? curious what weekday it will show

greggirwin

[23:27](#msg5a0635f9614889d47566d2c7)`now/date/date` matches `now/date`

[23:29](#msg5a06365a540c78242debd8b2)i.e. it is effectively ignored, as it's a dupe refinement to `now`.

## Saturday 11st November, 2017

dander

[00:03](#msg5a063e6ef257ad91097d83b9)ddd/date could be added

greggirwin

[00:45](#msg5a06483f86d308b755d3ba04)Hack away people:

```
dd: now
ddd: now/date
ddd-date: ddd/date
dddd: 10-nov-2017
repeat i 14 [
	print [
		pad i 4
		pad system/catalog/accessors/date!/:i 10
		pad pick dd i 12
		pad pick ddd i 12
		pad pick ddd-date i 12
		pick dddd i
	]
]
print [
	pad "" 4
	pad "" 10
	pad 'dd 12
	pad 'ddd 12
	pad 'ddd-date 12
	'dddd
]
```

JacobGood1

[04:49](#msg5a0681417081b66876d8a414)@numberjay regarding your wiki post: why don't you change the title to something that does not sound confrontational to the Clojure community? Just call it "opinions on pure programming", "immutability matters", etc. I am sure you can come up with a better name than Red v Clojure.

numberjay

[04:58](#msg5a06837c86d308b755d48612)@JacobGood1 thanks Jacob... actually i only edited it for formatting, i didn't choose the title (which anyway i didn't see as confrontational) but i will think of a new title that would better fit

JacobGood1

[05:49](#msg5a068f67d6c36fca31023236)@numberjay The title would not bother me but everyone seems so easily offend-able nowadays, it is better to err on the side of caution, for simple things like this, at least. I don't think people should be coddled in every situation =)

numberjay

[05:53](#msg5a06904ad6c36fca310234ef):-) i changed it to: Red and Clojure - Thoughts on Why Immutability Matters

[12:22](#msg5a06eb80d6c36fca3103985d)@greggirwin thank you for the wiki page  
i'm very open to hear about different ways of designing apps for easy mantainance and scalability  
still now i see it as an open problem, without a universal consensus  
so far i much prefer dealing with an explicit loop, explicit polling of events, one feature per module and keeping the state of my app all in one place  
of course being explicit and modularizing features is overkill for very simple apps, still you always start simple and never know where you will eventually get :-)

[12:32](#msg5a06edf8d6c36fca3103a165)by the way today i started implementing immutable blocks in Red and so far so good (except maybe for asking beginner/silly questions on red/help... learning more Red as i go along)

greggirwin

[18:13](#msg5a073ddb71ad3f8736d0e2e6)@JacobGood1, the title was mine, and not meant to be confrontational, but rather general. "Red for Clojure Programmers" ?

[18:15](#msg5a073e2ff257ad9109818f3e)I didn't do that at first, because this was as much "Clojure for Red programmers" as the other way around. Hence "v" for comparison/contrast.

[18:16](#msg5a073e8c540c78242deff7f5)And thanks for cleaning up the formatting @numberjay.

[18:19](#msg5a073f4d505b630c05cea2c4)I doubt we'll ever achieve universal consensus, because the domains, scope, and humans involved vary so widely. Easy maintenance is a more universal need than scalability, but even that isn't \*completely* universal.

[18:20](#msg5a073f72505b630c05cea33f)YAGNI applies everywhere.

[18:21](#msg5a073fa9df09362e67f791a1)@numberjay, are you familiar with the tuplespace model?

[18:26](#msg5a0740f3540c78242df00069)There are so many ways to do things...I love Red because I can think of so many different ways to approach a problem and experiment quickly.

## Sunday 12nd November, 2017

WayneCui

[00:52](#msg5a079b57982ea2653f6a3f3a)To migrate PARSE to other languages, is't a good idea?

greggirwin

[00:53](#msg5a079b9e982ea2653f6a4026)@WayneCui, sure, if somebody wanted to do that. `Parse` is enormously powerful. The catch, of course, is that it's most powerful when parsing blocks of Red values, and other langs have such a limited set of datatypes that it would weaken things considerably.

9214

[00:57](#msg5a079c7ed6c36fca31068652)in other languages (aside from Lisps maybe) that would be just a verbose regexes

numberjay

[00:59](#msg5a079cfddf09362e67f9189c)@greggirwin tuplespace model? sounds awesome :-) and i haven't the least idea what it is!

greggirwin

[01:00](#msg5a079d3871ad3f8736d271e9)Check it out. First developed in the early 1980s as part of the Linda language. It's pretty fantastic IMO.

numberjay

[01:06](#msg5a079e82f257ad9109831c36)@9214 i never used parse in practice, but it seems to me fair to say that Red parse is way more than regex, if i understood right  
it is able to process a context free grammar and even transform the parsed data in arbitrary ways  
that way it works like a compiler/transpiler of sort  
my curiosity: does parse get caught in loops? is it left/right recursive or can it parse any context free grammar?

greggirwin

[01:08](#msg5a079ef471ad3f8736d276f8)It's like PEG. You need to put longest matches first. It won't catch those for you. And, yes, you can get caught in loops. It's not hard to do. :^)

[01:08](#msg5a079f0671ad3f8736d277e1)Parse is also capable of recursion, which regexs aren't.

WayneCui

[01:14](#msg5a07a087614889d4756c8c92)@numberjay Yes, I just thought it may be implemented as something like regex.

numberjay

[01:15](#msg5a07a0bb505b630c05d034b3)longer matches first, ok, quite understandable the order matters  
PEG? so it's left recursive and can loop indefinitely i guess with the 'right' context free grammar :-)

[01:17](#msg5a07a11ed6c36fca310698e2)regexes are good for lexing... Red parse must be good for lexing, desugaring, parsing proper and more

greggirwin

[01:19](#msg5a07a1a871ad3f8736d280bc)You can think of it like a BNF interpreter, and you can modify the rules as it works.

numberjay

[01:25](#msg5a07a31f505b630c05d03d18)@greggirwin it seems to me with Red `parse` i could do things like parsing `1 + 2` and get back (if i wanted) `plus(1, 2)` by automatically applying a transformation on what i just parsed?

9214

[01:25](#msg5a07a32086d308b755d92554)@numberjay yes, parse is way more powerful than regexes, but this power is related to Redbol and its code-is-data model, and without that model all what's left is string-based parsing (i.e. regexes, although still more powerful)

greggirwin

[01:26](#msg5a07a35cd6c36fca3106a01a)@numberjay, yes, try `?? math` in the console.

[01:27](#msg5a07a37d540c78242df1a02d)You can easily use it to generate code though. I've done a lot of that through the years.

numberjay

[01:29](#msg5a07a3ef71ad3f8736d28882)@9214 regexes is not string based parsing :-)  
just think about that regexes can't recognize matching delimiters (that is telling you if parenteses are balanced or not, doesn't matter if in a string or else)

9214

[01:30](#msg5a07a421d6c36fca3106a2c6)well, whatever it is :^)

numberjay

[01:31](#msg5a07a47d540c78242df1a3fa)@greggirwin oh yes, just as i thought

gltewalt

[02:25](#msg5a07b11786d308b755d950ae)I think perl6 has a kind of hybrid regex/parse. Grammars.

9214

[02:48](#msg5a07b682d6c36fca3106e10b)slangs?

numberjay

[03:11](#msg5a07bbf886d308b755d972f1)does Red currently support inner definitions of functions (that is defining local functions inside functions)?  
i was also thinking to 'package' all the immutable api in a context (object), naming it `i` and calling the functions like this: `i/pick`, `i/poke`, `i/append` and so on (this should also save me from being sued by apple)  
all the heavy lifting was done yesterday, so now is just a matter of organizing code and completing the last bits of the api

9214

[03:12](#msg5a07bc33540c78242df1f074)you can define functions inside functions, but currently it's not something that compiler can process

[03:13](#msg5a07bc4df257ad91098385db)and packaging stuff inside context is what everyone do

[03:14](#msg5a07bc88540c78242df1f27a)would be interesting to be able to dynamically extend built-in functions with refinements (`pick/i`, `poke/i`, etc)

numberjay

[03:30](#msg5a07c038d6c36fca3106ffab)ah ok  
so i'll package it like that, a context called `immutable`  
so one can do

```
i: immutable
b: i/to-block [a b c d]
b': i/poke b 1 'x
```

and end up with 2 immutable blocks, same effect as `poke copy b 1 'x` but 'constant' time even for million elements blocks and without doubling the memory usage  
basically one can create as many as needed, it's 'instant' and they barely increase memory  
now try to do that with one million elements block instead :-)

greggirwin

[05:28](#msg5a07dc0bd6c36fca31075022)Sounds great @numberjay, though `i` is a pretty common var name when looping.

As @9214 says, only the compiler has issues with inner funcs right now. Since encap is now supported, you can work around that as well, and still create standalone EXEs.

numberjay

[05:38](#msg5a07de5c026aeaa02f029694)@greggirwin so you'd rather go with top level definitions (iappend, ipick and so on) and inner local functions?  
as i already packaged in a context and i think it's convenient, i see also a third solution which is doing:

```
iappend: :immutable/append
ipick: :immutable/pick
...
```

and then use those... sounds very good to me, any ideas?

BlackATTR\_twitter

[05:49](#msg5a07e0f7982ea2653f6b2950)@numberjay Regarding regexes, maybe or maybe not. http://www.drregex.com/2017/11/match-nested-brackets-with-regex-new.html

numberjay

[06:02](#msg5a07e3f9d6c36fca31076aab)@BlackATTR\_twitter wow what a find!  
i think we're somewhat bending there the meaning of regexes  
if we stick with the book definition of equivalence between regular expressions and finite state machines then it's obviously impossible  
but interesting what you can do with extensions to regular expressions, even if they end up looking like:

```
(?=\()(?=((?:(?=.*?\((?!.*?\2)(.*\)(?!.*\3).*))(?=.*?\)(?!.*?\3)(.*)).)+?.*?(?=\2)[^(]*(?=\3$)))
```

:-)

9214

[06:33](#msg5a07eb48505b630c05d125d5)you can generate exposed functions from inside context I think

numberjay

[06:39](#msg5a07ecaa505b630c05d12b68)@9214 could you elaborate?  
so far i have a context and everything is local to it but accessible  
it would be great if i could expose only those bits that are meant to be accessible

BlackATTR\_twitter

[07:30](#msg5a07f88e614889d4756dadc9)@numberjay :+1:

gltewalt

[09:04](#msg5a080e8b982ea2653f6bc25f)@numberjay How about appendi, picki, etc? Or some other legal symbol at the end?  
It would go along with ! denoting datatype by convention

numberjay

[09:12](#msg5a08107686d308b755da8821)well, the moment there's a context called `immutable` and names identical to what Red already uses, like `append`, it's up to the user to go for

```
iappend: :immutable/append
; or
appendi: :immutable/append
; or anything totally different
```

[09:15](#msg5a081123982ea2653f6bcbbd)if immutable blocks (and hashmaps soon after) were indeed intgrated into Red itself, then it would be important to set on a name for each operation, or as someone suggested using a refinement like `append/i`

[09:30](#msg5a0814bb71ad3f8736d40263)indeed it's not just about names, it's about semantics  
on one side you have mutable and immutable structures  
on the other side you have mutable and immutable operations  
and they can mix and match...  
for example, in order of performance (both speed and memory), you can  
1\) apply a Mutable poke to a Mutable block (costant time, no increase of memory)  
2\) apply a Mutable poke to an Immutable block (costant time, no increase of memory)  
3\) apply an Immutable poke to an Immutable block (\*effectively* constant time, memory increases by an \*effectively* fixed amount)  
4\) apply an Immutable poke to a Mutable block (think `copy`, linear time on the length of data, memory increases by the size of data, so it doubles)

[09:36](#msg5a081618614889d4756e1a80)the first three cases are almost equivalent performance wise (no matter the size of data), the fourth becomes problematic and even unusable as the size of data grows

dander

[18:18](#msg5a089085026aeaa02f0562f6)@numberjay could you explain what happens when you do a mutable poke on an immutable block?

greggirwin

[18:38](#msg5a08951c505b630c05d3e6b8)@numberjay, I just meant that `i` as the imported context name might conflict. Having the functions in a context isn't an issue, only functions inside functions.

[18:40](#msg5a0895ac505b630c05d3e8c9)Exposing funcs from contexts is as easy as using `set` instead of a `set-word!`.

```
o: context [
	set 'fn func [][print "Hey!"]
]
fn
```

## Monday 13th November, 2017

numberjay

[02:05](#msg5a08fdf5f257ad910988c2c3)@dander a mutable poke on an immutable block mutates the element in place  
you still end up with your immutable block  
it's something you never want to do except when creating a new immutable block  
for example creating an immutable block by appending one million elements to it you don't need the 999999 intermediate immutable blocks, and so it makes sense in that case to use a mutable append on an immutable block (initially empty)  
Clojure use 'transients' for this kind of scenarios  
i'm ok releasing an immutable as well mutable API for immutable blocks (and then hashmaps) and let the programmer decide how to shoot herself in the foot :-)

[02:08](#msg5a08fe9a540c78242df6ec0c)@greggirwin wonderful! then everything can stay in an anonymous context which exposes only the public API... sweet :-)  
in that case i'm going with the prepending 'i' thing (`iappend`, `ipick` and so on)

9214

[07:18](#msg5a09474ef257ad910989d71d)@numberjay :point\_up: \[12 ноября 2017 г., 11:33](https://gitter.im/red/red?at=5a07eb48505b630c05d125d5)

```
math: context [
    add: func [x y][x + y]
    sub: func [x y][x - y]
    div: func [x y][x / y]
    mul: func [x y][x * y]

    foreach function words-of self [
        do reduce [
            'set
            to lit-word! rejoin ["math-" form function]
            to get-word! function
        ]
    ]
]
```

[07:19](#msg5a094787505b630c05d6bdc3)and then

```
>> math-add 1 2
== 3
>> math-sub 44 2
== 42
```

dander

[07:21](#msg5a0947dd614889d4757326fd)@numberjay Thanks, that makes perfect sense

9214

[07:22](#msg5a094844540c78242df8017a)there's a caveat with `foreach` though, now `function` word is permanently overwritten :flushed:

dockimbel

[07:23](#msg5a09487171ad3f8736d924b3)@9214

```
foreach f words-of self [
	set to-word append copy "math-" f get f
]
```

Should be enough?

9214

[07:23](#msg5a094887df09362e67ffc1cd):flushed: :flushed:

[07:26](#msg5a094909f257ad910989e125)feel myself like Parker in second Spider Man movie when he lost his abilities :older\_man:

numberjay

[09:40](#msg5a096872d6c36fca310da7ad)@9214 @dockimbel thank you, probably all that's needed is just expose the API, i don't think i need to programmatically prepend anything, but good to know how it can be done

akavel

[21:33](#msg5a0a0f8ddf09362e670443fd)hi all again! I wanted to ask about `on-deep-change*`: I see it seems to work for \*block* fields, but it doesn't seem to work for \*map* fields; is this on purpose (that it doesn't work for maps), or is it just NIY?

[21:36](#msg5a0a1043d6c36fca31118a39)

```
>> obj: make object! [ on-deep-change*: does [an: length? a] an: 0 a: [1 2 3 4 5]]
== make object! [
    an: 0
    a: [1 2 3 4 5]
]
>> append obj/a [6 7] print obj/an
7
>> obj: make object! [ on-deep-change*: does [bn: length? b] bn: 0 b: #(a: 1 b: 2)]
== make object! [
    bn: 0
    b: #(
        a: 1
        b: 2
    )
]
>> obj/b/c: 3 print obj/bn
0
```

## Tuesday 14th November, 2017

greggirwin

[00:38](#msg5a0a3b22982ea2653f764917)Changes are only tracked for series values at this time. The blog entry that talks about object ownership says this:

&gt; The work on this is not yet completed, more object events will be provided in future releases and the ownership support extended to enable objects to own more datatypes.

So it's likely `map!` support will come in the future.

akavel

[07:39](#msg5a0a9db6df09362e6706d0af)@greggirwin ok, thanks!

[21:41](#msg5a0b6304540c78242d0386de)Hm, another newbie question: is there some function to concatenate strings with other values, like print but not printing them, only returning a string? i.e. like \*sprintf* in C

[21:42](#msg5a0b6341ba39a53f1a9d7e30)hmmmm, ok, from some further experimenting it seems that the following works:

```
>> to-string reduce ["foo " now/date]
== "foo 14-Nov-2017"
```

dander

[21:55](#msg5a0b6650df09362e670b7c34)@akavel check out `rejoin` as well. It evaluates (reduces) the values in a block and joins them together

endo64

[22:12](#msg5a0b6a5ce606d60e34c444f6)`append` would also work:

```
>> append "date is " now/date
== "date is 15-Nov-2017"
```

[22:19](#msg5a0b6bd6505b630c05e293ec)`append` and `insert` actions automatically `form` the value appending when used on `string!` values.

akavel

[22:42](#msg5a0b7141cc1d527f6b6efbb3)@dander Thanks! Didn't know this converts to string... (and `? "string"` didn't show it...)

[22:42](#msg5a0b7166982ea2653f7cdd0c)@endo64 Ok, thanks, good to know too...

[22:50](#msg5a0b734d540c78242d03f486)Wow, this reactivity stuff, when it is working, is really fun! :) also together with VID, can make prototyping of GUI apps a pleasure

[22:51](#msg5a0b736edf09362e670bdcd3)Thanks @dockimbel &amp; rest of the contributors :)

greggirwin

[22:51](#msg5a0b7379cc1d527f6b6f168c)@akavel, yeah, I want to make more play time. I had a lot of fun doing the 7GUIs project with it.

[22:52](#msg5a0b739b614889d4757f7f57)`Sprintf` type functionality will be part of a future `format` module.

akavel

[22:52](#msg5a0b73a2ba39a53f1a9df21b)@greggirwin what do you mean by 7GUIs project?

greggirwin

[22:53](#msg5a0b73cdcc1d527f6b6f1b19)And https://gist.github.com/greggirwin/d40a0e3b4c8de31a7d3b82695b9b4b03 may find its way in as well at some point.

[22:53](#msg5a0b73e8df09362e670be582)https://github.com/eugenkiss/7guis

akavel

[22:54](#msg5a0b740dba39a53f1a9dff6a)lol, regarding sprintf, `rejoin` was enough for me at this point :)

greggirwin

[22:56](#msg5a0b74acdf09362e670bee53)This was a fun experiment with reactivity as well: https://gist.github.com/greggirwin/38883ca5109175a60896d2f406ee49f6

akavel

[23:04](#msg5a0b7693982ea2653f7d1252)@greggirwin I think you could update https://github.com/eugenkiss/7guis/blob/master/Red/flight-booking.red as the \*date!* type is now implemented?

greggirwin

[23:05](#msg5a0b76a0f257ad910996381a)Also, `rejoin` uses the first arg as the result type if it's a series. e.g.

```
>> type? probe rejoin [http:// 'a 'b 'c]
http://abc
== url!
>> type? probe rejoin [now 'a 'b 'c]
"14-Nov-2017/16:04:17-07:00abc"
== string!
>> type? probe rejoin [[] 'a 'b 'c]
[a b c]
== block!
```

Otherwise, it coerces to a string.

[23:05](#msg5a0b76c4ba39a53f1a9e1088)@akavel, indeed. I should do that.

[23:07](#msg5a0b772371ad3f8736e55219)Red hasn't decided if `reform` will be a standard func, as it's easy enough to define, or use `form reduce` directly. The difference from `rejoin` is whether spaces are included between values.

akavel

[23:14](#msg5a0b78f3f257ad9109964616)I needed no spaces, and thus `rejoin` would be my only option here (apart from `to-string reduce` apparently)

[23:16](#msg5a0b7969505b630c05e2fc8d)By the way, are there some facilities to calculate text dimensions in VID/View? to calculate appropriate sizes of faces

greggirwin

[23:17](#msg5a0b7983540c78242d0423ea)`size-text`

akavel

[23:18](#msg5a0b79c9cc1d527f6b6f4b47)What if I want to calculate it before a face exists?

greggirwin

[23:19](#msg5a0b79faba39a53f1a9e2501)Use a temp face. You need font info and such for it to work.

akavel

[23:20](#msg5a0b7a4edf09362e670c0ed0)How can I create a temp face?

[23:22](#msg5a0b7aa2f257ad910996508f)Hm; I suppose: `make face! [type: 'text]`

greggirwin

[23:22](#msg5a0b7ace540c78242d042aad)From the `face!` object you have to set everything. You can use `layout` as well, to use styles.

[23:23](#msg5a0b7afff257ad91099652a2)

```
>> lay: layout [f: base "My text is the best"]
== make object! [
    type: 'window
    offset: none
    size: 115x100
    text: none
    image: none
    color: none...
>> size-text f
== 95x15
```

[23:24](#msg5a0b7b30982ea2653f7d28a6)https://doc.red-lang.org/en/view.html has all the details if you want to dig in.

[23:26](#msg5a0b7ba2df09362e670c1537)Setting the font should be enough. Para info isn't used, at a glance.

akavel

[23:29](#msg5a0b7c4d71ad3f8736e56ccc)I'm consulting various sections of doc.red-lang.org regularly, but from time to time I find them confusing in some aspects

[23:30](#msg5a0b7c7b505b630c05e30d78)Also, `size-text` doesn't seem to be mentioned there, so not exactly "all the details" ;)

greggirwin

[23:30](#msg5a0b7c8f614889d4757fbcde)Post notes on what's confusing, if you like. Also, there's red/gui-branch for chat.

[23:32](#msg5a0b7cf4f257ad9109965b58)Not all helper and higher level bits will be in the docs. Red-by-example.org will have things, and we'll keep improving the docs.

akavel

[23:32](#msg5a0b7d02df09362e670c1b40)eh, with red/red, red/help, red/gui-branch etc, I'm not sure where to post to get any response; at this point red/red seems not a bad choice, and, um, it doesn't feel overcrowded ;)

greggirwin

[23:33](#msg5a0b7d2e982ea2653f7d335f)It's fine. If you dive deeper into GUI subjects, you can change rooms. This is all general and useful to people though.

## Wednesday 15th November, 2017

greggirwin

[00:59](#msg5a0b9163505b630c05e36f08):point\_up: \[November 14, 2017 4:04 PM](https://gitter.im/red/red?at=5a0b7693982ea2653f7d1252) @akavel, new version of flight booking GUI done. Not sure when he'll see my PR, but it's in https://github.com/greggirwin/7guis

maximvl

[12:36](#msg5a0c34d5ba39a53f1aa1958f)Hey Reducers, any insides on new updates? :D

9214

[15:46](#msg5a0c613edf09362e671099b2)"Is `0.6.4` ready?"  
https://www.youtube.com/watch?v=0d6yBHDvKUw

akavel

[19:34](#msg5a0c96dd540c78242d09ff68)Should I expect to be able to `collect parse [... (... keep something ...) ...]` ? I tried and got error `keep has no value`

[19:36](#msg5a0c9733614889d47585b0a5)ahh, probably forgot brackets: `collect [ parse ... ]`

rebolek

[19:48](#msg5a0c9a29982ea2653f832eea)@akavel there're also `collect`/`keep`keywords directly in `parse`: `parse [collect [... keep ...] ...]`

akavel

[19:49](#msg5a0c9a5b614889d47585c272)huh! um, is one of those 2 variants better in some way than the other?

rebolek

[19:54](#msg5a0c9b6d982ea2653f8336b3)keywords in parse are easier to write (no need for paren escaping back to Red), but they are limited in the sense that `keep` is actually `keep/only`, which is problem, if you need to `collect` into `block!` (doesn’t matter if you are `collect`ing into `string!`). Maybe the keywords are also faster, I haven’t checked, but I think they should be.

akavel

[19:57](#msg5a0c9c19982ea2653f833afb)@rebolek How can I switch between `collect`ing into `string!` vs. `block!` in this case?

[19:58](#msg5a0c9c50982ea2653f833c38)is this `keep "foo"` vs. `keep ["foo" x]` ?

[20:08](#msg5a0c9ec1cc1d527f6b754d37)Ehh, and another of my newbie questions: how can I make below fragment work as expected, and why doesn't it?

```
>> D: charset "12" DD: [copy d D]
>> parse "x1xx2" [any ["x" opt DD (print ["x" d])]]
x 1
x 1
x 1
== false
```

-- I expected something like:

```
x 1
x none
x 2
== true
```

greggirwin

[20:26](#msg5a0ca2f4982ea2653f836964)@akavel, does this help?

```
>> parse "abc123" [collect some [keep skip]]
== [#"a" #"b" #"c" #"1" #"2" #"3"]
>> out: copy ""  parse "abc123" [collect into out  some [keep skip]]
== true
>> out
== "abc123"
```

[20:31](#msg5a0ca411df09362e671232eb)Be careful in your parse rules, remembering that Red is not case sensitive. Reusing words (`d` in this case) can make code harder to understand.

```
>> D: charset "12" DD: [copy _d D]
== [copy _d D]
>> parse "x1xx2" [any ["x" opt DD (print ["x" _d])]]
x 1
x 1
x 2
== true
```

That's still not exactly what you expected, and that's because `_d` is not "reset" automatically each time its rule is tried.

akavel

[20:33](#msg5a0ca487f257ad91099c9be7)in the 2nd case, is it possible to do the "reset" somehow?

[20:33](#msg5a0ca4a1e606d60e34cafbb2)or, in other words, how can I detect if an `opt` rule was matched or not?

greggirwin

[20:34](#msg5a0ca4daf257ad91099c9e9b)Of course. Use a `paren!` in your rule to set values.

akavel

[20:35](#msg5a0ca4f8ba39a53f1aa44f80)umm, I'm afraid I don't understand :/

[20:35](#msg5a0ca506982ea2653f83765e)oh

[20:35](#msg5a0ca50671ad3f8736eba596)hm

[20:35](#msg5a0ca52de606d60e34caff65)something like: `any ["x" (_d: none!) opt DD (print ["x" _d])]` ?

greggirwin

[20:36](#msg5a0ca533f257ad91099ca261)

```
>> D: charset "12" DD: [(_d: none)  copy _d D]
== [(_d: none) copy _d D]
>> parse "x1xx2" [any ["x" opt DD (print ["x" _d])]]
x 1
x none
x 2
== true
```

akavel

[20:36](#msg5a0ca555505b630c05e948b4)oohhh, ookaaaaayyy :) thanks again :)

greggirwin

[20:36](#msg5a0ca566ba39a53f1aa45268)You can do it in your main rule, but if you think of sub-rules kind of like funcs, with local values, it often helps to break things down by locality.

akavel

[20:37](#msg5a0ca59e71ad3f8736eba96b)ok, makes sense

[22:20](#msg5a0cbda0ba39a53f1aa4ea94)Ok, I hereby admit what you guys know all too well already for quite some time, that Red is seriously awesome.

[22:22](#msg5a0cbe14540c78242d0ae727)The combination of `parse` + VID + reactivity + `do load` allows for really awesomely fast prototyping of some small useful apps.

[22:23](#msg5a0cbe78ba39a53f1aa4ef9b)I've just prototyped two different approaches at a vacation tracking app, and if I were to try that in any other language &amp; env I know... I can't even start thinking how long it would take.

[22:25](#msg5a0cbef7982ea2653f842538)Here, it took me... I think under 7 evenings; and I even didn't know Red well enough when starting, and had to constantly bugger you for help on this chat here.

[22:30](#msg5a0cc005cc1d527f6b762581)I'm kinda speechless; going to sleep now, but I'm now totally eagerly waiting for some more stuff, esp. Android, multithreading, DLL loading (?), and maybe some networking primitives. But already I think it may be very useful to me; I have to think some more about other possible applications.

[22:30](#msg5a0cc01bf257ad91099d4a61)Uh; ok; that said, enough praise for now; still have at least one more question at this point:

[22:31](#msg5a0cc05f71ad3f8736ec5d31)Given a View `face!`, is it possible in some reasonably easy way to access its underlying `HWND`?

greggirwin

[23:03](#msg5a0cc7ad982ea2653f845756)Welcome to the real world @akavel. :^) For better or worse, there's no going back. Even without reactivity, Rebol pretty much ruined other languages for me. Red is carrying that torch and makes it burn brighter with all the new possibilities (native code compilation, libRed, macros, reactivity, cross compilation, and more to come).

[23:04](#msg5a0cc7f7cc1d527f6b76524f)As to your last question, what is it you want to accomplish?

## Thursday 16th November, 2017

9214

[01:36](#msg5a0ceb9e540c78242d0bc98f)the only downside of knowing Red is that you'll be ruined as a bloatware engineer and won't be able to communicate with other "sane" people for the rest of your life

dander

[02:50](#msg5a0cfcebcc1d527f6b7747bf)at least until Red hits critical mass

[02:51](#msg5a0cfd1a540c78242d0c12de)I think Red has actually taught me a few things about improving bloatware engineering

dockimbel

[04:33](#msg5a0d1520505b630c05eb79ed)@akavel  
&gt; Given a View face!, is it possible in some reasonably easy way to access its underlying HWND?

Yes, you get it using `face/state/1`, see the "State facet" section in \[View doc](https://doc.red-lang.org/en/view.html#\_show\_function).

[04:35](#msg5a0d1591982ea2653f85b790)In order to free OS resources associated with a face, you just need to `remove` it from its parent's face `pane` block. As soon as the face is disconnected from a diplayed face tree, it will release its system resources, though the face object itself will be freed later by the GC (once available).

[05:57](#msg5a0d28ca505b630c05ebca37)@maximvl Progress is spread on many fronts recently, the new console in 0.6.4 branch is pretty much done, but extra work is needed for the new rich text API in View. A scroller type has been added, still require some calculation fixing. The GC is done and working (still in a separate branch), though the Red runtime library needs some changes to remove some hardcoded pointers that are making it crash after a GC pass.

pekr

[07:17](#msg5a0d3b7071ad3f8736ee9b25)@dockimbel Will library loading come in 0.6.4, as seen in a Trello plan, or is it going to be eventually rescheduled for later, making 0.6.4 mostly a View console release?

dockimbel

[07:27](#msg5a0d3de0505b630c05ec318c)It depends on when we'll make the new release.

planetsizecpu

[08:28](#msg5a0d4c3a540c78242d0d7a70)@dockimbel bravo! for scroller, I will test as soon will be available, and will include in my forms red editor.

@qtxie Last days I saw a mechanical workshop computer, was running an app with some clock-like gauge indicators (CO measuring, etc), I wonder to see this widget type in view, I think would be useful, do you?

qtxie

[09:26](#msg5a0d59d0df09362e6715aa1b)@planetsizecpu Yes. We need to provide an easy way to create such custom widget.

planetsizecpu

[11:55](#msg5a0d7c96ba39a53f1aa8896e)@qtxie So it may be time to file a wish for it, #3110 Thx!

I also want to encourage the whole team to go ahead for 1.0

akavel

[12:09](#msg5a0d8007540c78242d0ea478)@greggirwin The most ambitious ideas include a "visual language"-like environment (akin to LabVIEW or not-yet-released LunaLang), with nodes written in Red (previously I thought Lua) mixed with invocations of Linux textutils/grep/...; also an email client with some UI ideas to test. Other than that potentially some smaller apps I miss from time to time, like an Android calendar+TODO app with some particular features; also maybe a lossless mp3 cropping app; also maybe others. I have quite a few various ideas for various apps I believe I'd find useful, written down here or there, or floating in the back of my head, but I don't have enough time to reach there now and list them, I'm afraid. Trying to prototype them might help validate or invalidate the ideas.

greggirwin

[18:07](#msg5a0dd3ec505b630c05efa186)Anything is possible. I have old awk/grep tools for R2, and Phil Bevan(?), many years ago, wrote a basic email client in R2. The Saphirion team has also done a lot for their custom products.

BuilderGuy1

[23:20](#msg5a0e1d22f257ad9109a4abb5)I'm a hobbyist programmer and just discovered REBOL / RED. I was wondering how compatible REBOLprograms would be in RED? Since RED is still in teh works, does it make sense for me to learn REBOL?

[23:25](#msg5a0e1e5d540c78242d123827)I thought I would try r3D in RED but it gives errors.

greggirwin

[23:27](#msg5a0e1ed7cc1d527f6b7d7964)Welcome @BuilderGuy1! Red aims for a high degree of compatibility, and learning the language fundamentals in Rebol will go a long way for you. e.g. the Core Guide for Rebol is great to start with. Red will not be 100% compatible though. The GUI system uses a dialect directly based on VID, but uses native widgets and is quite different under the hood. So old VID code will likely not run under Red, unless it's very simple.

Red is still alpha, but is very stable and has a lot of features R2 does not already.

[23:29](#msg5a0e1f61df09362e671a3d0d)It looks like François Jouen (@ldci) is one of the authors of R3D, and he is around here, so he might be able to comment on how much work it would take to port it to Red.

BuilderGuy1

[23:31](#msg5a0e1fd5614889d4758e1246)That would be super cool !! I have a simple (as far as I can tell so far ;-) 3D application I want to made for some experimental 3D printing stuff I'm working on. REBOL/RED looks totally awesome and I've only been digging through the docs for a day and a half!!

[23:32](#msg5a0e200bba39a53f1aac4177)Please ask him if he has the time to do that!! It would be immensely useful to me !

greggirwin

[23:34](#msg5a0e206af257ad9109a4bb49)At a glance, replacing `decimal!` with `float!` is the first thing to do.

BuilderGuy1

[23:34](#msg5a0e207bdf09362e671a413f)I have it open... I will do that now

[23:36](#msg5a0e210e505b630c05f15477)\*\** Syntax Error: invalid value at "] ^-^-^-; todo lighting^-^-^-face"

[23:37](#msg5a0e212371ad3f8736f3e4b7)Its seeing "^-^-^-" where they do not exist

greggirwin

[23:40](#msg5a0e21d171ad3f8736f3e710)Could be an encoding issue. I made a couple changes here, but think it will be some work to update. Some will be simple, but we don't have `effect` in `draw` yet, which may be a killer.

BuilderGuy1

[23:41](#msg5a0e221a540c78242d1248db)Then I await that day good sir !!

[23:43](#msg5a0e2298614889d4758e1dff)I will dig in to the docs and learn REBOL/RED :-)

greggirwin

[23:43](#msg5a0e229acc1d527f6b7d8aea)Sirrah awaits! :^)

[23:43](#msg5a0e22accc1d527f6b7d8b57)Sounds good.

[23:44](#msg5a0e22dd614889d4758e1f81)red-by-example.org and doc.red-lang.org are good resources, as well as the wiki in the Red repo on github.

[23:45](#msg5a0e231671ad3f8736f3ed38)Also, per the above error, `^-` is the escape for the tab character. Just FYI.

BuilderGuy1

[23:47](#msg5a0e23a2cc1d527f6b7d9029)Ah... That makes sense.

## Friday 17th November, 2017

gltewalt

[00:39](#msg5a0e2fbbcc1d527f6b7dc067)This might be a good jumpstart also:  
http://redprogramming.com/Home.html

BuilderGuy1

[05:03](#msg5a0e6daa982ea2653f8ceb27)I've been using RED on Windows and its going well. However... I use macOS primarily but I can't open the RED 0.6.3 download!! Why a DMS archive? How do you open it. Unarchiver is supposed to open it but it can't. Any suggestions?

geekyi

[07:15](#msg5a0e8c78540c78242d140c1b)@BuilderGuy1 use https://gitter.im/red/red/welcome if you're new to rebol/red, so as not to clutter this room :wink:

[07:16](#msg5a0e8cd7614889d4758fdf07)&gt;Why a DMS archive?

Also a good thing to report that as a bug if you feel it that way, with a suggestion of how to do it better. I don't use macOS so I don't know..

numberjay

[08:06](#msg5a0e987ecc1d527f6b7f7ecc)@dockimbel @greggirwin @9214 and anyone interested... i'm pleased to show you a preview of what's coming  
let's compare Mutable and Immutable blocks when using Immutabe operations on them, in this case an `append` (an Immutable append on a Mutable block basically means `append copy block x`, but we write it as `iappend block x`: depending if `block` is Mutable or Immutable `iappend` will do the right thing... this allows us not to have to think whether the data structure we use is Mutable or Immutable... we care only about the Mutability or Immutability of the operation, in this case Immutable... just like when we don't specify if our + operation is about integers or floats, we just write + knowing it will do the right thing)  
first we create a Mutable block called `elems` of 100000 elements (benchmarking on memory and time)

```
>> ; create a Mutable block
>> bench-it [i: 0 while [i < 100000] [append elems: [] i: i + 1]]
== [4202496 0:00:00.120000001]
```

then we create 3 more (Mutable) blocks appending a new element each time

```
>> ; create 3 more (Mutable) blocks appending a new element each time
>> ; notice that each new (Mutable) block consumes at least as much memory as the original
>> bench-it [elems1: iappend elems 1]
== [5304320 0:00:00.001000001]
>> bench-it [elems2: iappend elems1 2]
== [5304320 0:00:00.001000001]
>> bench-it [elems3: iappend elems2 3]
== [5304320 0:00:00.001000001]
```

each new (Mutable) block consumes at least as much memory as the original  
depending on how big the blocks are and how many we create, we may get an Out Of Memory error pretty easily, pretty fast (i know because i did! GC is of no help here, because we WANT to keep those blocks around)  
and last, although it's obviously so, let's make sure that all those (Mutable) blocks are distinct (`ilength?` works with both Mutable and Immutable blocks, doing the right thing)

```
>> ; check that all (Mutable) blocks are indeed distinct
>> ilength? elems
== 100000
>> ilength? elems1
== 100001
>> ilength? elems2
== 100002
>> ilength? elems3
== 100003
```

now, same scenario, but with Immutable blocks  
to create an Immutable block, we can first create a Mutable one, just like before, and then convert it into an Immutable one

```
>> ; create a Mutable block
>> bench-it [i: 0 while [i < 100000] [append elems: [] i: i + 1]]
== [4202496 0:00:00.116000001]
>> ; convert it into an Immutable block
>> ; notice that an Immutable block consumes about the same memory as a Mutable one
>> bench-it [elems: to-iblock elems]
== [4448256 0:00:00.015000001]
```

an Immutable block consumes about as much memory as a Mutable one, it only adds a negligible overhead in comparison... so why we would want Immutable blocks anyway?  
to see why, as before, let's create 3 more (this time Immutable) blocks

```
>> ; create 3 more (Immutable) blocks appending a new element each time
>> ; notice that each new (Immutable) block barely consumes any memory at all...
>> bench-it [elems1: iappend elems 1]
== [0 0:00:00]
>> bench-it [elems2: iappend elems1 2]
== [0 0:00:00]
>> bench-it [elems3: iappend elems2 3]
== [0 0:00:00]
```

do you see it?  
each new Immutable block barely consumes any memory at all!  
how many of them can we create before getting on Out Of Memory error? hundreds? thousands? how about hundreds OF thousands? :-)  
if each block were the state of our app, we would get unlimited undo/redo for free, literally (i know, because i did it in Clojure)  
of course we want to make sure that those blocks are all distinct, no trickery!

```
>> ; check that all (Immutable) blocks are indeed distinct
>> ilength? elems
== 100000
>> ilength? elems1
== 100001
>> ilength? elems2
== 100002
>> ilength? elems3
== 100003
```

stay tuned

lepinekong\_twitter

[09:30](#msg5a0eac41df09362e671cabba)Is it possible to hook console error ? For example when I type a function that doesn't exist I want to do something specific to that function ?

9214

[10:05](#msg5a0eb475982ea2653f8e4574)@lepinekong\_twitter you can manually dispatch on `error!` object, I'm not sure how you can achieve that automatically though

PeterWAWood

[10:28](#msg5a0eb9c1982ea2653f8e63ef)@numberjay Does `iappend` perform a deep copy?

```
>> b: [1 2 3 [4 5 6]] 
== [1 2 3 [4 5 6]]
>> c: copy b
== [1 2 3 [4 5 6]]
>> d: copy/deep b
== [1 2 3 [4 5 6]]
>> b/4/1: "Hello, hello"
== "Hello, hello"
>> c
== [1 2 3 ["Hello, hello" 5 6]]
>> d
== [1 2 3 [4 5 6]]
```

[10:35](#msg5a0ebb5bcc1d527f6b80387b)Also you need to take care if any of the elements of the block are nested objects:

```
>> o: make object! [oo: make object! [ooo: make object! [a: 1]]]
== make object! [
    oo: make object! [
        ooo: make object! [
...
>> b: reduce [make o [] make o [] make o []]
== [make object! [
    oo: make object! [
        ooo: make object! [...
>> c: copy b
== [make object! [
    oo: make object! [
        ooo: make object! [...
>> d: copy/deep b
== [make object! [
    oo: make object! [
        ooo: make object! [...
>> b/1/oo/ooo/a: "hello, hello"
== "hello, hello"
>> c
== [make object! [
    oo: make object! [
        ooo: make object! [...
>> c/1/oo/ooo/a
== "hello, hello"
>> d/1/oo/ooo/a
== "hello, hello"
```

[10:43](#msg5a0ebd6acc1d527f6b8044be)You can probably handle all cases by serialising the block and then loading it. Something along these lines:

```
>> o: make object! [oo: make object! [ooo: make object! [a: 1]]]
== make object! [
    oo: make object! [
        ooo: make object! [
...
>> b: reduce [make o [] make o [] make o []]
== [make object! [
    oo: make object! [
        ooo: make object! [...
>> e: reduce load  mold/all  b
== [make object! [
    oo: make object! [
        ooo: make object! [...
>> b/1/oo/ooo/a: "hello, hello"
== "hello, hello"
>> b/1/oo/ooo/a
== "hello, hello"
>> e/1/oo/ooo/a
== 1
```

[10:44](#msg5a0ebd9fe606d60e34d5cfa7)There could well be easier ways that others will suggest.

greggirwin

[17:18](#msg5a0f19e071ad3f8736f8ea29)@numberjay, nice explanation. Can't wait to see it all from behind the curtain.

@PeterWAWood, @numberjay `iappend` does \*not* do a deep copy, or copy of any kind. Basically, blocks become trees internally, and operations are tracked as changes to those trees. i.e. https://en.wikipedia.org/wiki/Persistent\_data\_structure

x8x

[19:43](#msg5a0f3bd397cedeb0482c2303)\[rant!] When used to drive Lambo, it sometimes is a pain to drive Fiat.. just spent 30 mins to find out how to do this basic thing in js.. :-/  
red:

```
o: object [
  a: 1
  b: a + 1
]
```

js:

```
const o = {
  a: 1,
  b: null,
  init() {
    this.b = this.a + 1
    delete this.init
    return this
  }
}.init()
```

## Saturday 18th November, 2017

PeterWAWood

[00:37](#msg5a0f80d32837ee5106991588)@x8x Perhaps this is a little shorter and quicker? It's definitely seems easier to me.

```
>>> o = {}; o.a =  1; o.b = o.a + 1;
2
>>> o.a
1
>>> o.b
2
```

x8x

[00:55](#msg5a0f84ed0cef4fed2ebd6afe)@PeterWAWood Right, so it can be done, thought the point was to do it in one command at definition time.

numberjay

[02:53](#msg5a0fa0c5df09362e6721bbdd)@PeterWAWood @greggirwin `iappend`, `ipoke` and so on... are all part of the Immutable API and so they guarantee Immutable semantics \*\*no matter\** what you throw at them  
when you pass a Mutable block to them, they technically perform a shallow `copy` (not `copy/deep`) but that's just an implementation detail: as long as you stay within the Immutable API you're guaranteed that stuff does not mutate under your feet, no matter if you're using Mutable or Immutable blocks  
this is naturally achieved because a `copy/deep` is just a recursive application of `copy`  
when @PeterWAWood is doing `b/4/1: "Hello, hello"` he's switching to a Mutable API  
so, using his example and staying withing the Immutable API (still using Mutable blocks!) we would have (notice that `ipoke` is like `poke`, but with Immutable semantics and can also take a block of indexes or a path instead of just an integer to perform a 'deep' poke)

```
>> original: [1 2 3 [4 5 6]]
== [1 2 3 [4 5 6]]
>> modified: ipoke original [4 1] "hello, hello"
== [1 2 3 ["hello, hello" 5 6]]
>> original
== [1 2 3 [4 5 6]]
```

this is all well and good and if we're dealing with small blocks, we don't see the difference  
but what if our blocks are huge? only Immutable blocks would allow us to create \*\*millions\** of modified 'copies', all differing from each other, and avoid an Out Of Memory error  
also, an Immutable block may contain Mutable blocks and viceversa, it's up to us what to convert into an Immutable block  
in the above, if instead of \[4 5 6] we had a huge block, we would make sure to convert \*that* into an Immutable block, even if its container block were to stay Mutable  
when using the Immutable API with Immutable blocks, then what @greggirwin says is basically correct, although there's obviously `copy` somewhere under the hood  
the point is that even with a million elements block we're never going to `copy` a million pointers, just a few dozens at most

sptorin\_twitter

[11:36](#msg5a101b2371ad3f8736fd43dc)Anyone can fix task on http://rosettacode.org/wiki/Strip\_comments\_from\_a\_string#Red ?

9214

[12:27](#msg5a10274f540c78242d1bbd28)naive version would be

```
>> parse x: "apples, pears ; and bananas" [to [any space ";"] remove thru end]
== true
>> x
== "apples, pears"
```

gltewalt

[17:34](#msg5a106f3f71ad3f8736feb2b6)Fix task?

greggirwin

[18:18](#msg5a107965f257ad9109af9939)Edited. Thanks @sptorin\_twitter.

luce80

[19:27](#msg5a1089bcdf09362e67254ceb)I think it should be:

```
>>  parse s: "apples, pears ; and bananas" [to [any space [";" | "#"]] remove thru end]
== true
>> s
== "apples, pears"
```

rebolek

[20:07](#msg5a109313f257ad9109b00a15)It's actually much more complicated, see this input: `{"apples;", {pears;}, this - ^{ ; and bananas}`

gltewalt

[20:09](#msg5a109372e606d60e34de4d13)Well I think each language will handle their own comment delimiters.  
I'm also of the opinion that `parse` is overkill for this task.

[20:10](#msg5a1093c771ad3f8736ff63a8)Even more complex if you try to detect programming language and address its comment delimiters

[20:11](#msg5a1093f6982ea2653f96ff2f)But as I read it, it's not that heavy

endo64

[21:07](#msg5a10a118ba39a53f1ab7e5d1)

```
>> s: {"apples;", {pears;}, this - ^{ ; and bananas}
>> parse s [ some [ {"} thru {"} | "{" thru "}" | [";" | "#"] p: (clear back p)  | skip] ] s
== {"apples;", ^{pears;^}, this - ^{ }
```

gltewalt

[21:14](#msg5a10a2c0ba39a53f1ab7ec3d)Maybe why so much confusion on that task - not clear enough?  
`The task is to remove text that follow any of a set of comment markers, (in these examples either a hash or a semicolon) from a string or input line.`

[21:17](#msg5a10a375e606d60e34de98b7)Could be interpreted as `{"apples}` in @rebolek example

greggirwin

[22:57](#msg5a10babccc1d527f6b896aa6)Don't overthink it.

lpvm

[23:27](#msg5a10c1e5cc1d527f6b8987b9)hi, I'd like to show the power of `parse` to a group of people, can you point me to the 'best' example of such power compared to regex, for example?

## Sunday 19th November, 2017

endo64

[01:32](#msg5a10df23540c78242d1eefe0)source of `math` is a good example.

dockimbel

[02:08](#msg5a10e7af540c78242d1f0f31)@lpvm The \[Introducing Parse](http://www.red-lang.org/2013/11/041-introducing-parse.html) article?

BeardPower

[02:32](#msg5a10ed39e606d60e34dfbb8d)I just read about some languages called Nim/Nimrod and Ni/Spry.  
Is any of you Redbolers familiar with them? They seem to share a lot with Rebol/Red.

\[Ni/Spry](http://goran.krampe.se/2015/09/16/ni-a-strange-little-language/)  
\[Nim/Nimrod](https://nim-lang.org/)

githubnyn

[03:52](#msg5a10ffe7982ea2653f98b6f6)nim is a beast, fast and also easy, but nothing compares to rebol/red

9214

[07:04](#msg5a112d02540c78242d1fe9d4)@lpvm what are your criterias?

[07:09](#msg5a112e3e614889d4759b7e1c)there was an introductory \[regex article](https://blog.patricktriest.com/you-should-learn-regex/) on HN a while back, you and your group can skim through examples and rewrite them in `parse`, then compare with regexes and decide for yourself which apporach is better and easier to handle in such practical tasks

[07:15](#msg5a112f7c2837ee51069fb8c0)you can also point out that `parse` is a TDPL and, by definition, is strictly more powerful than regex, the next step would be to show what regexes can't do but `parse` can (at least matching open/closing parens I believe?)

greggirwin

[07:15](#msg5a112f85e606d60e34e09218)@lpvm, what is your timeframe, and what are the people familiar with? Red, itself, is a good, but large example. That is, Red is bootstrapped in Rebol currently, and the lexer is written in `parse`.

[07:16](#msg5a112fc1982ea2653f9954dd)Also, `regex` can only handle strings. Showing `parse` working at the block level is a great way to show the difference.

9214

[07:18](#msg5a11304871ad3f873601c8e7)yes, you can go as far as to implement tiny dialect (or examine `math` or `view`, but the first one is magnitude simpler to grasp for beginners)

toomasv

[08:13](#msg5a113d12e606d60e34e0c222)Maybe it is also worth mentioning that `parse` behaves naturally in \*possessive* way, and it is not always so easy to force it to emulate `regex`'s \*lazy* and \*eager\*/\*greedy* behaviour in some more complicated cases.

lpvm

[10:34](#msg5a115e26540c78242d209904)This is about a discussion arisen about this https://medium.freecodecamp.org/regex-was-taking-5-days-flashtext-does-it-in-15-minutes-55f04411025f

[10:34](#msg5a115e44982ea2653f9a0314)for people in a data science group that deal with a lot of data

9214

[14:04](#msg5a118f862837ee5106a14a3c)@lpvm I think you can start with comparison of times for regex, flashtext and parse applied to large dataset. Keyword extraction and replacements are trivial with `collect` and `change`.

[14:11](#msg5a119122f257ad9109b3d3cb)Just to convince (or not) yourself and others that `parse` is something worth to sink your teeth into :^)

[14:12](#msg5a11914e982ea2653f9adff7)then start small and show some practical examples (validation, cleansing, extraction)

[14:15](#msg5a1191f4cc1d527f6b8c8666)maybe mention Red's rich set of datatypes and ability to `parse` source code (and data) directly

greggirwin

[17:25](#msg5a11be6e71ad3f8736042f18)@lpvm, I saw that article a few days ago, coincidentally. It seemed the big win was reversing the lookup process, but I was moving quickly. I did love the "...now you have two problems" axiom.

A better algorithm is always where you get the biggest benefit, or the chance for more performance. And we have to consider a lot of things. A regex, though he didn't say in the article, is generally pretty small. He may have made a template and inserted his keywords, which make it \*sort of* data driven. OTOH, his Python solution leverages specific data structures and hundreds of lines of code. For their needs, this is a big win overall, because they can reuse it. But sometimes, a small amount of human time and a lot of CPU time is OK.

This is no criticism of regexes or Python, or the author. Just my view that `parse` may not magically provide FlashText-like performance. Though it may make building a hybrid solution easier.

For each problem and solution, we have a lot of criteria to weigh. Do we need to maintain the code? i.e., is readability important? What about extending it with new sub-rules or conditions? Streaming data? Data volume? Error handling and noisy data?

While I'm not a data scientist, some of my work has dealt with processing data along these lines. For me, `parse` is at its most powerful when operating at the block level. Maybe that's because I can see my data more easily when working with it that way. We're not always lucky enough to have all our data in Redbol/Ren format though. In those cases, what I've done is a multi-pass approach. First, convert the data to loadable Redbol, then process that.

In this case, another architecture might have allowed them to use a cloud system to spin up massive processing for a short time.

gltewalt

[21:58](#msg5a11fe6bcc1d527f6b8e77c6)http://rosettacode.org/wiki/Reports:Tasks\_not\_implemented\_in\_Red

## Monday 20th November, 2017

greggirwin

[00:57](#msg5a12285ddf09362e672c222b)Yup. We have our work cut out for us.

numberjay

[09:06](#msg5a129b0b71ad3f8736081860)@dockimbel @greggirwin @9214 @PeterWAWood and all interested...  
here we go, immutable persistent blocks in Red:

https://gist.github.com/numberjay/3df8f13044145c6dde1918ea2cdfe3b8/edit

disclaimer: this implementation is rather 'high' level, an industrial strength one should more likely be written in Red/System  
also, this implementation is not 'by the book'  
first of all because i haven't read 'the book' (the specifc papers and literature on the subject)  
and second because i wanted to have fun doing it 'my way'  
so this implementation is original in conception and execution

and while it should be considered as little more than a proof of concept, it's definitely usable performance wise and delivers what it promises (immutable persistent blocks)

just to dispell the mistery, if not even the magic, surrounding the subject of immutable and persistent data structures, i'll give a short high level decription of how it all works  
this stuff is not complicated at all, and even more so the way i chose to implement it

all revolves around the idea of mapping a linear structure on top of a tree based one

there are a few ways to do that and you can read about the current state of the art in the current literature (HAMT, CHAMP, ...)

here's how i chose to do it instead

let's say i have this block:

```
[a b c d e f g h i j k l m n o p q r s t u v w x y z]
```

it's clearly 'linear' and if we have to map it onto a tree we have to first choose a 'branching factor' for the tree

a binary tree would have a branching factor of 2

in practice it's convenient, although not mandatory, to choose a branching factor that is a power of 2

for example, Clojure uses a branching factor of 32 (2^5) for its immutable persistent vectors and hashmaps

to make visualizing this stuff easier, we consider now a tree with branching factor of 4, onto which to map our linear block

and more precicely, we consider a series of trees (all with branching factor of 4) but each one 'deeper' than the previous one

our first tree will have depth 1 and can hold at most the first 4 items of the linear block (4 because that's the branching factor to the depth power, or 4^1)  
like this:

```
[a b c d]
```

as one tree is not enough to hold all the items, then we consider a second tree with same branching factor of 4 but depth 2, which will let us hold 16 (4^2) more items

```
[a b c d] [[e f g h] [i j k l] [m n o p] [q r s t]]
```

still not enough though, so we have to add a third tree of depth 3 that can potentially hold 64 (4^3) additional items

```
[a b c d] [[e f g h] [i j k l] [m n o p] [q r s t]] [[[u v w x] [y z]]]
```

and we're done

[09:06](#msg5a129b1f71ad3f87360818ce)what we gain by all this acrobatics?

first of all, as we're dealing with a series of trees, we're really dealing with a block of trees:

```
[[a b c d] [[e f g h] [i j k l] [m n o p] [q r s t]] [[[u v w x] [y z]]]]
```

the length of our original linear block is obviously 26

but the length of our 'tree mapped' block is just 3 (the number of trees in the block)

now consider this: what if we want to create a new linear block identical to our original one but with a capital M instead of a small m, and keeping our original one as well?

the only way is copying the linear block, which creates 26 new pointers in memory, and then poking a capital M at position 13

not so with the tree mapped block...

in that case, copying the mapped block will create 3 new pointers only (it contains just 3 trees), and copying the sub-block \[m n o p] (containing our m) will add 4 more pointers, for a total of 7 pointers in all instead of 26...

then we'll poke our M at position 3/1 (as a path) in our second tree in the mapped block

the math to convert from linear indexes to tree based paths, in this case from 13 to path 3/1, is very simple really, using quotient and remainder for integers (13 divided by 4, our branching factor, is 3 with remainder of 1... that is path 3/1)

a small optimization, due to choosing a branching factor that is a power of 2, is that quotient and remainder can be made a bit faster by using bit shifting and bit masking  
but that's just an implementation detail and with current architectures the gain is marginal (anyway i did use bit shifting and bit masking in the implementation)

a nice property of this representation using progressively deeper trees (intead of a single tree like Clojure), is that the length of the path to an item (3/1) encodes the position of the tree in the mapped block  
3/1 has length 2 and indeed the path is to be applied to the second tree in our mapped block to lead us to the 'm'

the gains, in both memory and speed, are much more dramatic for greater branching factors, up to a point

by default i chose a branching \*level* of 5 which yealds a branching factor of 32 (2^5)

it's possible to play with different branching levels -&gt; branching factors by changing the `branching-level` value in the implementation

i hope you found this interesting, it's not something the user of the API has to worry about, it's all hidden under the hood

enough for now, i'll present the public API in a next post in a few days (i still have a few more functions to add to it) and i'll also post a benchmark comparing the creation and modification of mutable vs immutable blocks

rebolek

[09:16](#msg5a129d59982ea2653f9f9ac5)@numberjay please, fix your link (remove `/edit`)

numberjay

[09:19](#msg5a129e1f71ad3f873608285a)@rebolek ooops, too late... here's the correct link:  
https://gist.github.com/numberjay/3df8f13044145c6dde1918ea2cdfe3b8

9214

[09:26](#msg5a129fd4df09362e672e0a77)I have hard time following your code because of formatting :confused:

numberjay

[09:39](#msg5a12a2bd982ea2653f9fb8b9)@9214 just ignore all the brackets (really) and follow the indentation, it's very consistent  
all arguments are aligned vertically  
but i understand it's not what you're used to and it may take a bit of time to 'get' it (but try to 'get' it, you may realize you actually like it) :-)

rebolek

[09:48](#msg5a12a4e8f257ad9109b86ab4)@numberjay there is style guide for Redbol code writing - http://www.rebol.com/docs/core23/rebolcore-5.html#section-5 . Of course Redbol are free-form languages and you can use your coding style, but it's easier for other people to read your code, if you follow the style guide.

numberjay

[10:13](#msg5a12aaba614889d475a1c99f)@rebolek i totally get it, but that style gets in the way of my thinking about the structure (= meaning) of what i'm writing  
it's very reminiscent of the style used in C, Java and the like  
one may be used to it and not see it as an hindrance  
the best thing would be to have a pretty printer for formatting code in a standard way to present it to others and let anyone use his own formatting style  
does Red come with such a pretty printer?

rebolek

[10:14](#msg5a12aaebcc1d527f6b9168dd)I don't think so, but it should be easy to convert some Rebol pretty printer to Red.

lpvm

[11:06](#msg5a12b74bf257ad9109b8d42f)@numberjay et al. About persistent data structures, I'm not in it, but I've seen a video that explains very well the evolution of the implementations done for Clojure, and maybe, can be useful for Red: https://www.youtube.com/watch?v=7BFF50BHPPo

BeardPower

[12:15](#msg5a12c745982ea2653fa08f0a)@numberjay  
So you implemented structural sharing and path copying like in this talk?  
https://www.youtube.com/watch?v=Wo0qiGPSV-s

9214

[12:31](#msg5a12cb3ce606d60e34e7b8e1)@numberjay I can get that it's a Lisp-style taken to an extreme, but this type of indentation IMO is natural only for s-expr-like structures

numberjay

[13:26](#msg5a12d813540c78242d2762c9)@lpvm thank you, nice talk and informative, with concepts overlapping between Clojure's (industrial strength) implementation and mine (like some bit juggling and of course path copying and structural sharing)  
but also important differences: Clojure's using tries and hashing under the hood  
i'm using plain trees and no hashing needed  
Clojure's extends the hashmap impementation to vectors (blocks), i'm gonna do exactly the other way around

[13:27](#msg5a12d85acc1d527f6b926572)@BeardPower i haven't seen that talk yet, but it's unlikely that our implementations match, it's more likely that the implementation in the video follows current state of the art  
but yes i implemented structural sharing and path copying and i'll prepare and show some examples with benchmarks and you'll see that, while not industrial strength, my implementation allows the creation of thousands of modified 'copies' of one million items blocks, extremely fast and without getting a 'not enough memory' error that you would get instead after just a dozen (or so) modified copies using mutable blocks

BeardPower

[13:30](#msg5a12d8e1cc1d527f6b92685e):+1:

numberjay

[16:50](#msg5a1307e1540c78242d289b78)@9214 yes, indeed that style is natural for s-exprs and it plays well with prefix functional notation  
each one has his own idea on how a language should look like and i'm obviously very biased and opinionated about that, but i try not to let that stop me from learning new ways (and Red is a new way in many aspects compared to traditional mainstream languages... much less so compared to Lisp... what makes Red philosophically interesting to me is exactly what makes Lisp interesting... i see Red and Lisp as the two sides of the same coin... somehow totally opposite but actually very much the same)  
on a practical level, Red's aim to cross compilation and simpler GUI creation is noteworthy  
coming back to s-exprs (or lack of), this is Red:  
`0 < x and (x < y) and (y < 1)`  
(parenthesis are not optional here)  
the same in Lisp:  
`(< 0 x y 1)`  
of course i'll choose s-exprs at all times :-)  
a better Red would allow this:  
`0 < x < y < 1`  
but then the semantics of `<` should have to change, it could not return a boolean (and that would be a good thing, booleans in high level languages are such bad design)  
of course you may disagree about s-exprs, you're entitled to your own preferences, only let me invite you to meditate on the fact that Lisp's s-exprs syntax was not invented but 'discovered' and that the m-exprs syntax that Lisp was supposed to have, and which superficially looked even similar to Red's with its brackets, never saw the light of day because no one cared to implement it... as s-exprs were found to be so convenient instead

dander

[17:46](#msg5a131512614889d475a4361a)@numberjay this is another way to represent that statement in red `all [0 < x x < y y < 1]`. That's the sort of feature that could be implemented as a dialect. There is already a `math` function, but it currently only modifies precedence rules. Really interesting experiment. I hope I have some time to study it

greggirwin

[18:12](#msg5a131b1ee606d60e34e9b54a)@numberjay, thanks for the write-up. It would be good to include your notes in the gist, or somewhere related, so they don't scroll off in the chat and get lost.

On formatting, Red is a descendant of Lisp. We can argue about the subjective merits of each, and their formatting, but until there's some objective way to back up our preferences, there's not much point. Invention versus discovery as a quality criteria will only get you so far. ;^)

The one thing I'll take issue with, bearing in mind that I'm excited by the work you've done, is your `<` comparison. It's apples to oranges. In Red, it's a function with a fixed arity of 2, in Lisp it's not. I also don't understand your view that boolean/logic values are a bad thing. Lisp has them too, yes? And `<` in Lisp returns one, yes? And the change to `<` in Red would also be syntactic, as it would no longer be an infix operator.

As \*(almost)* always, the first step is not to ask Red to change, but to experiment.

[18:14](#msg5a131ba3e606d60e34e9b81d)

```
; We could do this recursively as well, but don't yet have TCO.
compare-all: func [series fn][
	forall series [
		if not tail? next series [
			if not fn series/1 series/2 [return false]
		]
	]
	true
]
; Predicates for monotonically changing series
; lisp-* all-* strictly-* monotonically-* __*
strictly-=: func [series][compare-all series :equal?]
strictly-<: func [series][compare-all series :lesser?]
strictly->: func [series][compare-all series :greater?]
strictly-<=: func [series][compare-all series :lesser-or-equal?]
```

[18:17](#msg5a131c20e606d60e34e9bb96)I'm anxious to review your gist, though it's a busy week for me and I want to allow due time.

numberjay

[19:06](#msg5a1327ad982ea2653fa3060b)@greggirwin oh yes, booleans are bad design in any language, Lisp included of course  
the moment you allow booleans (`true / false`) you lose expressivity, you go back to the `0 / 1` of machine code, that is the least possible amount of information, while you could have given back much more meaningful information instead for free  
again as an example, if `1 < 2` would return `2` instead of `true` (`2` being 'truthy' of course) then you would lose nothing but gain expressivity and be able to write `1 < 2 < 3 < 4` which would simplify to `2 < 3 < 4` which would simplify to `3 < 4` which would simplify to `4` which is 'truthy' and tells you what you need to know about the whole expression...  
`nil` (or `none` or whatever) as the \*only* 'falsey' value in the language, would propagate (or even better short circuit) and again tell you what you need to know about a false expression  
if i went to the trouble (or fun) of implementing my own language, then \*that* would be good design in my opinion  
about `<`, of course in Red it's an operator, that is an infix binary function  
while Red has \*fixed* arity functions and operators, Lisp does not have infix operators, it has \*variable* arity functions  
so it's somehow legit to compare `(< a b c)` with `a < b < c`, but the latter is not allowed in Red anyway  
i wouldn't make a big problem of that, but it's a lack of expressivity in a language that otherwise is way more expressive than most traditional mainstream languages  
`a < b < c`shows that you can have \*both* infix binary operators \*and* expressivity, it would be silly to ask Red to change `<` to be a variable arity function, we wouldn't have Red anymore  
thank you for the advice, i'll collect and possibly integrate the notes as soon as i finalize the implemention, or possibly rewrite those after i extend the implementation to hashmaps (they'll share most of the code)  
and i'm anxious to hear your thoughts and suggestions about it all :-)

greggirwin

[20:15](#msg5a1337d5614889d475a5031c)@numberjay, I have to disagree with what you're calling a loss, or lack of expressiveness. These are design choices, and constraints affect \*how* we express ideas. While a logic value in Red may only be able to express 2 states, the datatype itself carries meaning, yes? We're using numeric comparisons as examples here, but eliminating logic values from a language then means we need to decide how to express information that is binary in nature, yes? For example, in your language, without logic values, what do you use to represent the 2 states a switch may be in? e.g., a light switch.

rebolek

[20:33](#msg5a133c0ee606d60e34ea7662)@numberjay I have a question:  
&gt; if 1 &lt; 2 would return 2 instead of true (2 being 'truthy' of course)

[20:35](#msg5a133c92982ea2653fa37d66)What would `2 < 1` return as \*untruthy* value? `1`? It can't return `false`, `logic!` does not exist.

[20:37](#msg5a133d0e540c78242d29eb41)Also, what would `1 < 2 < 3 < 4` return? I guess `4`, but what about `a < b < c`? Probably `c` in case of success, but otherwise? `a`, `b`, or some other value?

akavel

[22:44](#msg5a135ac5cc1d527f6b959866)Why is this not working for me? What am I doing wrong here? (I want some more code here, but this below is a simplified case):

```
>> view [text with [face/text: "foo"]]
*** Script Error: VID - invalid syntax at: [with [face/text: "foo"]]
*** Where: do
*** Stack: view layout cause-error  

>> view [text with [text: "foo"]]
*** Script Error: VID - invalid syntax at: [with [text: "foo"]]
*** Where: do
*** Stack: view layout cause-error
```

[23:42](#msg5a13686e540c78242d2ae6c8)Also, is this behavior of difference as expected for `hash!` datatype?

```
>> s1: make hash! [22-Nov-2017 [] 23-Nov-2017 [] 24-Nov-2017 []]
== make hash! [22-Nov-2017 [] 23-Nov-2017 [] 24-Nov-2017 []]
>> s2: make hash! [1-Nov-2017 [] 23-Nov-2017 []]
== make hash! [1-Nov-2017 [] 23-Nov-2017 []]
>> difference s1 s2
== make hash! [22-Nov-2017 [] 24-Nov-2017 1-Nov-2017 []]
>> difference s2 s1
== make hash! [1-Nov-2017 [] 22-Nov-2017 [] 24-Nov-2017]
```

greggirwin

[23:49](#msg5a136a152837ee5106aac4fa)@akavel , `view [text with [text: "foo"]]` works fine for me here. What OS? I'm also running a local build from fairly recent sources.

akavel

[23:50](#msg5a136a30ba39a53f1ac50af2)Windows 10, red-063.exe

greggirwin

[23:51](#msg5a136a82540c78242d2af112)I'm on Win7. Let's see if someone else confirms one way or the other.

akavel

[23:52](#msg5a136ab2cc1d527f6b95e87f)@greggirwin did you try with red-063.exe?

greggirwin

[23:53](#msg5a136ae0df09362e6732dee5)My local build is 0.6.3, synced and built a week ago now. I'll update and test again.

[23:54](#msg5a136b2c2837ee5106aac9d0)On the hash question, I get what definitely looks like a buggy result.

```
>> difference s1 s2
== make hash! [22-Nov-2017 [] [] 24-Nov-2017 1-Nov-2017 [] []]
>> difference s2 s1
== make hash! [1-Nov-2017 [] [] 22-Nov-2017 [] [] 24-Nov-2017]
```

[23:56](#msg5a136ba8ba39a53f1ac511a7)Pulled latest sources. `view [text with [text: "foo"]]` works fine on Win7 here.

[23:58](#msg5a136c0e2837ee5106aacd85)

```
>> s1: make hash! [22-Nov-2017 [] 23-Nov-2017 [] 24-Nov-2017 []]
== make hash! [22-Nov-2017 [] 23-Nov-2017 [] 24-Nov-2017 []]
>> s2: make hash! [1-Nov-2017 [] 23-Nov-2017 []]
== make hash! [1-Nov-2017 [] 23-Nov-2017 []]
>> difference s1 s2
== make hash! [22-Nov-2017 [] [] 24-Nov-2017 [] 1-Nov-2017 [] []]
>> difference s2 s1
== make hash! [1-Nov-2017 [] [] 22-Nov-2017 [] [] 24-Nov-2017 []]
```

[23:58](#msg5a136c38df09362e6732e4ce)Seems worth a ticket.

BeardPower

[23:59](#msg5a136c57df09362e6732e516)@akavel Are you using the 0.6.3 from the download site? http://www.red-lang.org/p/download.html It will not work with that version. `with` was introduced recently, so you will need a recent github version.

greggirwin

[23:59](#msg5a136c75cc1d527f6b95f010)Thanks @BeardPower, I was just going to check when `with` support was added.

## Tuesday 21st November, 2017

BeardPower

[00:00](#msg5a136ca8982ea2653fa48946)@greggirwin I had this issue recently and @rebolek told me about it.

greggirwin

[00:03](#msg5a136d392837ee5106aad2dd)@akavel, maybe we need clarification from Team Red on whether this is an intentional design change from R2.

[00:03](#msg5a136d45e606d60e34eb938d)Blocks are affected as well, not just hash.

[01:36](#msg5a138316cc1d527f6b96547b)We have a number of new people joining recently. Welcome all! If you are new to Red, you may also want to monitor and post in a couple other rooms:  
\- https://gitter.im/red/help (for specific questions or problems you have)  
\- https://gitter.im/red/red/welcome (if you're new to Red, and ramping up)

numberjay

[03:23](#msg5a139c1ee606d60e34ec4b03)@greggirwin @rebolek i enjoy thinking and exchanging about programming languages design, philosophy, and the like...  
so don't take what i say as a critic to Red or as implying that Red should go back and change its ways

it's not that a language would not have logic values, \*all* values would carry a logic valence

one value, and \*only one* value would carry the logic valence of 'false'  
you can call this value `nil` or `none` or `false` (yes!) or as you see fit  
\*all* other values in the language would carry a logic valence of 'true'... included `true` (yes!)  
so you CAN express any kind of information, binary or not

the unfortunate choice is when you let stuff as `a < b` return just `true` when it is 'true'  
you immediately lose information and so you lose expressivity (it's ok to return `nil` or whatever when 'false' of course)  
a saner choice would let `a < b` return either `nil` (or `none` or `false`...) or `b` itself (`b` being 'truthy', as a number, like any other value in the language)

what you gain?

all of a sudden, instead of having to write `a < b and (b < c) and (c < d)`... you can write `a < b < c < d`  
why?  
let's imagine that `a: 1` and `b: 2` and `c: 3` and `d: 4`  
`a < b` would be 'true' and evalute to `b` and so the whole expression reduces to `b < c < d`  
`b < c` would be 'true' and evalute to `c` and so the whole expression reduces to `c < d`, which would be 'true' and evaluate to `d` which of course tells you that the whole expression is 'true' indeed!

what if `a: 10` instead?  
then `a < b` would be 'false' and return, say, `none` (the only 'falsey' value in the language)  
the whole expression would reduce to `none < c < d`  
at this point a good design choice would 'short circuit' and immediately return `none`  
a lesser choice would propagate `none` and reduce to `none < d` before returning `none`  
hope to have clarified my ideas a bit  
we may have different ideas of expressivity though :-)

greggirwin

[06:07](#msg5a13c2bb2837ee5106ac2fac)I don't see anything new there, from your previous thoughts. The choice in Red is neither unfortunate or less sane than what you propose. Understand, like you, I'm not trying to be argumentative, just trying to reach an understanding. Commuting the result of a comparison has what you perceive as a benefit in your example. Understood. We need to move past that example and look at the value of logic values as a distinct type in the larger scope of a languages design.

In fact, I knew what your answer would be to Bolek's question, which was why I asked mine the way I did:

&gt; Without logic values, what do you use to represent the 2 states a switch may be in? e.g., a light switch.

The answer, in your language is "`nil` and `anything else`", correct?

Assuming you agree with that, my next argument will be that every single programmer now has to decide what `anything else` should be, use it consistently, and coordinate with all the other programmers of this language, yes? I'll leave that as the starting argument against the `nil/???` model.

Moving to a supporting argument stance, I'll contrive an example. Red is a data format first, and even with other languages, messaging and transporting data is widely used. If we can agree o that, then it makes sense that we need a literal, or serialized form for these logic values. If we have known logic values, they can be used directly (true/false, on/off, yes/no), otherwise we have `nil` and need to commandeer some other known value. True, we may have serialized objects, or fixed length records, which make some things easier, but still harder than with native logic values.

That's my opinion. Maybe better would be to move to concrete examples for comparison.

[06:09](#msg5a13c31acc1d527f6b975413)Apologies for all the edits to the post. Gitter still having issues and loses the formatting in unsent messages.

9214

[07:02](#msg5a13cf7e982ea2653fa631c6)

```
text
>> a: 1 b: 2
== 2
>> all [a < b b]
== 2
>> all [a > b b]
== none
```

dander

[07:09](#msg5a13d10fdf09362e6734ab82)

```
text
>> set '< make op! function [a b][unless a [return a] either lesser? a b [b][false]]
== make op! [[a b]]
>> 1 < 2 < 3
== 3
>> 1 < 2 < 3 < 2
== false
```

[07:10](#msg5a13d16f2837ee5106ac7826)I wonder if it will break things :smile:

9214

[07:12](#msg5a13d1f42837ee5106ac7ab3)@dander ;)

```
>> set '? make op! func [a b][all [a a < b b]]
== make op! [[a b]]
>> 1 ? 2 ? 3
== 3
>> 1 ? 2 ? 3 ? 2
== none
```

dander

[07:14](#msg5a13d246614889d475a7c132)nice

numberjay

[08:27](#msg5a13e35c71ad3f87360f5276)@greggirwin very interesting discussion indeed  
`true`as a logic 'truthy' value is not the problem (i thought i had clarified that)  
the 'problem' as i see it is returning `true` every time you could return something meaningful and useful (and that is most times)  
`true` always destroys information (and so expressiveness) unless you're representing a binary value, in which case returning the value itself is still the appropriate thing to do! :-)  
many things done in programming just follow tradition, `true / false` is just `0 / 1` of machine code, appropriate in a \*very* limited set of examples in a high level language  
no programming language could be 'perfect', but striving for a local 'optimum' is possible, and that would be a language that balances soundness with pragmatism  
`true / false` is totally sound of course, but it's abuse also introduces a verbosity i'd rather avoid (as per my previous examples)  
not seeing it as an 'abuse', well that's a problem in itself  
`1 < 2` evalutating to `true` instead of more meaningful and useful `2` is an 'abuse'  
just like `positive? 5` evaluating to `true` instead of `5`, or `string? "hello"` evaluating to `true` instead of `"hello"`  
you throw information for no gain at all  
we're so used to 'unacceptable' ways that we find them even desirable  
@9214 @dander very useful, that's how i 'fixed' Clojure for me as well! ah ah :-)

lepinekong\_twitter

[09:17](#msg5a13ef3771ad3f87360f9dd3)Why do I have weird french accent I thought Red supports Unicode ? Debrief Devcon 3 puis prÃ©sentation des projets Ethereum Kleros &amp; Sandblock | Ethereum Paris (Paris, France) | Meetup  
from: https://www.meetup.com/fr-FR/Ethereum-Paris/events/245257498/?rv=ea1&amp;\_xtd=gatlbWFpbF9jbGlja9oAJGQzMDIyNmE0LTNlMzEtNDVmYy1hYTk1LTM0ZDQ5Mjc3YjFhMA

dockimbel

[09:24](#msg5a13f0bce606d60e34eddf67)@lepinekong\_twitter I get correct characters here when reading that URL from Red console:

```
<title data-react-helmet="true">Debrief Devcon 3 puis présentation des projets Ethereum Kleros & Sandblock | Ethereum Paris (Paris, France) | Meetup</title>
```

greggirwin

[09:44](#msg5a13f591614889d475a87da7)@numberjay, we still seem to be missing each other somehow.

&gt; `true` always destroys information (and so expressiveness)  
&gt; `1 < 2` evalutating to `true` instead of more meaningful and useful 2 is an 'abuse'  
&gt; you throw information for no gain at all

These are inaccurate statements. The information is different, but it is \*not* being thrown out or destroyed. It is a \*different kind* of information, which is not less useful and, I am arguing, is \*more* useful. You haven't answered my questions, which would be helpful to me. But, maybe I can approach it a different way. Just answer these questions, if you would:

\- Is 1 less than 2?  
\- Is 5 a postive number?  
\- Is "hello" a string?

xqlab

[09:50](#msg5a13f6c8ba39a53f1ac79083)@numberjay, in Red there is already everything with a value true. You just want &lt; with a different meaning: give me if greater or nothing.

numberjay

[10:05](#msg5a13fa4f614889d475a89b18)@greggirwin  
&gt; Is 1 less than 2?  
&gt; Is 5 a postive number?  
&gt; Is "hello" a string?

yes to all of them (that was easy...) :-)  
just i don't get how `true` could be \*more* useful than for example `"hello"`which carries the same logical information ('truthy') but also much more (it tells me it's a string and it's equal to "hello")

@xqlab we're talking about design choices, i don't mean that Red should change!  
as a design choice, yes, definitely and that would extend to anything returning `true`with just a few obvious exceptions: `not x` could only ever take 2 values, make them `none` and `true` if so desired... not by chance `not` is as low level (machine code) as you can get

xqlab

[10:32](#msg5a1400d72837ee5106ad8924)But Red already has function like what you desire e.g. find

9214

[10:40](#msg5a14028d71ad3f87361012aa)@numberjay  
&gt; yes to all of them (that was easy...)

wrong, following your logic it should be `2`, `5`, `"hello"`

lepinekong\_twitter

[10:43](#msg5a140345982ea2653fa7660d)@dockimbel oh you're right I didn't remember I didn't use Read because Read doesn't always work even with https://google.com

9214

[11:00](#msg5a140750ba39a53f1ac7f5a4)@numberjay can you show me a practical example where your proposed behavior would be actually useful and more expressive (i.e. require less code)?

numberjay

[11:36](#msg5a140fd3df09362e673619eb)@9214 right, following my logic it should be 2, 5, "hello"... i just answered in the affirmative to @greggirwin questions  
and as examples go, i showed one in detail already  
maybe you want more  
calculating the absolute value (ignoring for a moment that you can use `absolute`, it's just for illustration):  
`either positive? n [n] [negate n]`(which is not bad at all) would become:  
`(positive? n) or negate n`  
by having `positive n` return `none` (false) or `n` (true) and of course `or` should behave a bit differently that it does in Red

no 'feature' is good or bad in isolation, but it's possible to think of a small set of features that would play together well and make the most of what i'm showing and result in shorter and more to the point code  
and i'm not proposing anything for Red, i know that Red strives for backward compatibility with Rebol  
moreover, all of this can be built \*onto* the language as you and @dander have shown and as i did more dramatically in Clojure  
'my' Clojure does not necessarily look much as Clojure, it has way less parens for example, it even has 'currying' by default, anaphoric `it` anywhere and other ideas that make for very concise code  
still, there's only as far as you can go (and with homoiconic languages like Lisp and Red that's already a lot) and a language could have such behaveours built \*into* it

just for an idea, if you enjoy these topics, and maybe to dispell the myth of excessive parens, here's some basic Red with some basic (non standard) 'Clojure'

```
if x [a]
(if x a)

either x [a] [b]
(if x a b)

case [x [a] y [b] 'else [c]]
(if x a y b c)
```

9214

[11:40](#msg5a1410a9982ea2653fa7c0cf)so it's basically for short-circuiting?

numberjay

[11:44](#msg5a14119f614889d475a91da1)@9214 `or` and `and` allow for very concise code (replacing `either` and the like) when 'short circuiting' on their arguments and when returning something more meaningful than a `true`

9214

[11:47](#msg5a14124adf09362e67362735)I see your point (and being J wannabe I love the idea of multi-purpose functions), but for me it feels wrong, because semantics of, say, `>` is \*is this less than that?* and answer should be \*yes* or \*no\*. If instead of \*yes* returns something more useful, can I really \*use* it without double-checking and hairy code?

[11:48](#msg5a141276cc1d527f6b990c3e)if `string? "hello"` can return `"hello"`, this implies that I can work with the result of evaluation as a series value

[11:48](#msg5a14127e71ad3f8736107096)but what if it returns `none` instead?

[11:50](#msg5a14131edf09362e67362b28)if we're arguing about short-circuits and such, `all` and `any` is what you're looking for

numberjay

[11:53](#msg5a1413d5540c78242d2e449f)@9214 yes you can  
Clojure behaves as Red in this respect (returns `true` and my facelifting didn't break anything at all)  
it could break something in Red, because Red's `or` and `and` behave differently depending if you pass them a number or a logic value, this i get and of course in my opinion `or` and `and` should not do any bitwise stuff with their arguments, that should be taken care by dedicated functions  
very good point about `none`, of course each type should play well with `none`, in a sense `none` would be member of each type, for example `none + 1` should not raise any error, but either return `none` (a design choice) or assimilate `none` to `0` (only for numbers, for strings it would be assimilated to `""` and so on) and return `1` in this case (another design choice)  
which choice is right? there's no 'right' answer, only a pragmatic one  
if you ask me, the second is more useful for me as a programmer, in Lisp it's known as 'nil punning'

endo64

[12:51](#msg5a142169ba39a53f1ac8930c)@numberjay If you could put all your i-* functions into a DSL it could be useful for some.  
without `none would be member of each type` it wouldn't be useful since we should check the type each time before any action like `append "Hello " string? name` would return error.

greggirwin

[18:29](#msg5a14707eba39a53f1aca8225)@numberjay,

&gt; @9214 right, following my logic it should be 2, 5, "hello"... i just answered in the affirmative to @greggirwin questions

Which was exactly my point. Certain types of questions are expected, by people, to produce an answer of yes or no. If I ask "Is 1 less than 2?" and you answer "2", I'll say "Yes, 2, is one less than 2?", where you then look at me and say "2", and I respond "What do you mean 2?"

https://www.youtube.com/watch?v=kTcRRaXV-fg&amp;feature=youtu.be&amp;t=110

numberjay

[21:09](#msg5a1495edcc1d527f6b9c3289)@greggirwin very funny clip :-)  
as programmers, once we agree that anything other than 'no' implies 'yes'... then we should not be troubled at all by getting a `2` instead of a 'yes' as an answer to our question... we should be more troubled by not being able to ask questions as `1 < x < 2` in the first place  
but it obviously depends on what we care most in a language, which may not be the same for everybody

greggirwin

[21:15](#msg5a14977c71ad3f873613bf2e)?

numberjay

[21:48](#msg5a149f43232e79134db6d1e0)@greggirwin what's not clear?  
i mean, you may dislike answers like `2` to mean 'yes' and prefer to write `1 < x and (x < 2)` instead of `1 < x < 2` (which i find more natural and concise, although it's just one example)  
but once we choose to agree about interpreting any non 'no' answer as implying 'yes', then there's really no problem in getting `2` as an answer to a 'yes/no' question  
and the reason we may want to do that is exactly to be able to express ourselves more naturally or concisely  
i can't see what you gain instead by sticking with literal 'yes/no', 'true/false', '1/0', ...

greggirwin

[21:50](#msg5a149f8c982ea2653fab6489)Ah, my "?" was not 'no', so implied 'yes', yes? ;^)

[21:51](#msg5a149fd8df09362e6739939b)I see that you don't get my reasoning, and I don't know how to express my view any clearer, other than my initial questions about a literal form or switch values.

numberjay

[21:54](#msg5a14a086232e79134db6d7a6)@greggirwin ah ah :-) you got me

greggirwin

[21:54](#msg5a14a09aba39a53f1acba0d0):^) We can disagree and still be friends.

numberjay

[21:56](#msg5a14a11bdf09362e67399d40)about literal form, i think `none/true` still applies, we're not banning `true` per se, we're limiting to an extreme its use as an answer, because, unless we're dealing with 'binary' values, there's always something more interesting to return which still carries logical valence of 'true'

## Wednesday 22nd November, 2017

gltewalt

[02:22](#msg5a14df4a540c78242d32e92b)Can already dispatch on truthy. `if "who" ["do stuff"]`

numberjay

[05:29](#msg5a150b3a2837ee5106b32ad3)@gltewalt \*exactly* because of that it makes sense (apparently only to me) to let `string? "who"` return `"who"` instead of `true`!  
some languages (Scheme, Haskell, ...) \*don't* allow `"who"` in place of `true`anywhere  
luckily Red is \*already* interpreting answers like `"who"` (or `2` and so on) as `true` and no one feels perplexed (because there's nothing perplexing about it! it's very good design, as pragmatic as it is useful)  
but getting more natural and concise code by returning `"who"` or `2` and so on instead of `true`? (my favourite design choice)  
how is that perplexing?  
i'm perplexed about the perplexity... :-)

9214

[12:13](#msg5a1569f4614889d475b07c0e)Is it \*useful* because it contains more information, or because you can, well, simply \*use* it (see my `none` example)? \*Pragmatically* it's ok, though nil-prunning and inexplicit conversion to `""` and `0` is way too much for me, but \*semantically* it doesn't make any sense.

[12:15](#msg5a156a55cc1d527f6ba04553)Though, it all depends on what problem you want to solve.

[12:16](#msg5a156a8cdf09362e673d59a5)if it's "I can't do `1 < x < 2`", then the answer is \*make a dialect\*, if it's "I want short-circuits", then I'd say \*use `all` and `any`\*.

[12:21](#msg5a156bca614889d475b08a58)Such expressiveness puts more mental baggage on user (i.e. other people who read your code) and requires him/her to remember different conventions and established rules.

numberjay

[13:21](#msg5a1579d0ba39a53f1acfd447)@9214 your points are valid, at least subjectively, but partial  
nothing would put more mental baggage on a user than a dialect which is a totally new mini language (not disparaging dialects, they're great and i'm all for custom made domain specific languages)  
i really would like to understand the gains of returning 'true' instead of a 'truthy' argument , but i totally fail to do so  
even after all these exchanges, i simply can't see any gain there (this applies to all languages i'm aware of, not just Red)  
it's not a deal breaker though  
my current Clojure project is gonna be the last one before switching to Red 100%

9214

[13:24](#msg5a157a7dcc1d527f6ba09db0)Is "more information" a benefit if sometimes you can't use it easily?

[13:24](#msg5a157a97232e79134dbb08bd)Your gain is pragmatic, our gain is more clear reasoning :^)

[13:26](#msg5a157b03df09362e673db31c)I mean, suppose `string? "hello"` returns `"hello"` instead of `true`, this means that I can write something like `reverse string? "hello"`

[13:26](#msg5a157b1e2837ee5106b574a1)but our new string can also return `none` to which `reverse` is not applicable

numberjay

[13:28](#msg5a157b75df09362e673db5c6)`unless not string? x [reverse x]`  
vs  
`reverse string? x`

[13:29](#msg5a157ba0e606d60e34f63995)nothing wrong with the first, but i prefer the latter

9214

[13:29](#msg5a157bb3e606d60e34f63a4d)again, how you gonna `reverse` `none` value?

numberjay

[13:29](#msg5a157bbfba39a53f1acfdf57)(yes, `reverse none` ought to return `none`)

9214

[13:29](#msg5a157bc8982ea2653fafa933)wat

[13:30](#msg5a157bf0232e79134dbb0ec4)and `1 + "1"` should return `"1"`?

numberjay

[13:31](#msg5a157c1571ad3f8736182564)of course not, i don't follow your logic

9214

[13:31](#msg5a157c242837ee5106b57a77)I can say the same about you :D

numberjay

[13:32](#msg5a157c72982ea2653fafac23)well, i try to explain my logic, you imply that my logic would have `1 + "1"` return `"1"`... but that not so, that's why i don't follow your logic :-)

9214

[13:33](#msg5a157c9d982ea2653fafad3d)that's because I don't get why `reverse none` should return `none` :)

numberjay

[13:34](#msg5a157cd0232e79134dbb1506)i know i know, but you're abusing my logic :-)  
`reverse none` returning `none` has nothing to do with `1 + "1"` returning `"1"`

9214

[13:34](#msg5a157cd0ba39a53f1acfe5df)for me it feels like the error occured, but instead of halting the execution it continues to propagate further until something bad happens

numberjay

[13:34](#msg5a157cf0540c78242d35ecdc)yes, it's a valid point shared by many languages

[13:34](#msg5a157cfe614889d475b0e94c)but some languages see the advantage of 'nil punning'

9214

[13:35](#msg5a157d06614889d475b0e966)and all inexplicit `none` conversions only add more to it

numberjay

[13:35](#msg5a157d38cc1d527f6ba0ad22)Clojure is not perfect, but no one can deny that it is masterfully designed, here's what Clojure has to say:

```
user=> (reverse nil)
()
```

9214

[13:36](#msg5a157d4d614889d475b0eb3f)isn't that because `nil` is an alias for empty list?

numberjay

[13:36](#msg5a157d5d614889d475b0eb78)no no, not in Clojure

[13:36](#msg5a157d7471ad3f8736182e1d)nil is distinct from empty list  
nil is 'falsey', empty list is 'truthy'

[13:37](#msg5a157d84982ea2653fafb292)in other Lisps, yes

9214

[13:37](#msg5a157d8a2837ee5106b5834f)interesting choice

numberjay

[13:37](#msg5a157da8e606d60e34f6450a)in Clojure `nil` is its own type, just like `none` in Red

[13:38](#msg5a157ddd982ea2653fafb58b)what i want to say is that a choice may be very different from what one may expect and still be very sensible

xqlab

[14:06](#msg5a15848071ad3f873618582c) @numberjay, what would be the result of 2 &lt; 3 &gt; 1 ?

numberjay

[14:44](#msg5a158d51540c78242d36506e)@xqlab 1

[14:53](#msg5a158f63e606d60e34f6ad5b)although i would write it either `3 > 2 > 1` (getting 'truthy' 1) or `1 < 2 < 3` (getting 'truthy' 3)  
and we're really going to use variables somewhere instead of all numbers of course, for example `x < 3 > y` (getting 'truthy' `y` or `none`) or `y < 3 > x` (getting 'truthy' `x` or `none` in both cases to express that `x` and `y` are less than 3, but putting no ordering constraint between `x` and `y` themselves

BeardPower

[15:02](#msg5a1591a3e606d60e34f6bc6b)@xqlab So 2&lt;3&gt;1 is returning a falsy 1?

[15:03](#msg5a1591cfdf09362e673e3c8c)How can I judge, if it's a truthy or a falsy 1? I assume a none? If so, I prefer a false instead of a none for false, because none is what it says: none.

numberjay

[15:08](#msg5a1592f5df09362e673e437e)@BeardPower `1` is always 'truthy', only `none` (or `false` or `nil` or whatever the language designer chooses) would be 'falsey'

[15:11](#msg5a1593a3e606d60e34f6c9ac)`2 < 3 > 1` is a true relation (we're asking if 3 is greater than both 2 and 1), so it could never return false  
in the above snippet, `2 < 3` returns 'truthy' `3` and the whole expression reduces to `3 > 1` which returns 'truthy' `1` and tells us that the relation is true

BeardPower

[15:16](#msg5a1594b9ba39a53f1ad07f0d)Thanks for the explanation. I thought it was (2 &lt; 3) &gt; 1.

[15:19](#msg5a15956c232e79134dbbae0d)Which would not make much sense :blush:

numberjay

[15:30](#msg5a15980d982ea2653fb05fde)@BeardPower `(2 < 3) > 1` would not make sense if returning booleans, but returning the rightmost argument (because true) it would make sense indeed, because it would reduce to `(3) > 1` which would also be true and so return `1` which (even in Red) would be interpreted as 'truthy'... for example `either 1 ['yes] ['no]` returns `yes` in Red

BeardPower

[15:33](#msg5a1598b6df09362e673e66d0)@numberjay Sure, but 2 &lt; 3 does not reduce to 3 in Red, so the logic operators would need to, as you pointed out, return the right most value.

numberjay

[15:34](#msg5a1598f4982ea2653fb064a3)@BeardPower correct, we were talking about design choices

[15:35](#msg5a159955cc1d527f6ba15e31)in Red you couldn't write:  
`either 2 < 3 > 1 ['yes] ['no]`  
you'd need to write:  
`either 2 < 3 and (3 > 1) ['yes] ['no]`

BeardPower

[15:45](#msg5a159b91ba39a53f1ad0ad4a)Yeah, I understand about the discussion. :)  
How would it work with not?  
either not 2 &lt; 3 &gt; 1 -&gt; it would also need to not negate the whole term. What should it return?  
not 1 &gt; 2 &gt; 3 -&gt; what would it return?

numberjay

[15:47](#msg5a159c02982ea2653fb0791a)@BeardPower `not` can only return either `none` or `true`

[15:48](#msg5a159c69cc1d527f6ba1754a)that's why `unless` should be preferred over `if not` (in my scenario)

[15:49](#msg5a159c9f232e79134dbbdb63)with `unless` you don't thow information along the way

BeardPower

[15:50](#msg5a159cc6614889d475b1aea4)@numberjay So 2 &lt; 3 &gt; 1 would just be shorter than the 2 &lt; 3 and (3 &gt; 1). If I want to do an \*or\*, I would still have to use the latter form.

numberjay

[15:52](#msg5a159d352837ee5106b64794)@BeardPower yes, both correct

BeardPower

[15:52](#msg5a159d522837ee5106b647ff)So what would be the other benefits for it?

[15:53](#msg5a159d8b232e79134dbbe0f5)&gt;with `unless` you don't thow information along the way

What do you mean exactly by this?

numberjay

[15:54](#msg5a159d9f614889d475b1b3cd)benefits are more concise and natural code, not a dramatic gain but still a gain

[15:54](#msg5a159db871ad3f873618f999)i meant 'throw', that's a typo

BeardPower

[15:55](#msg5a159ddc232e79134dbbe32d)Yeah I got that :) But what do you mean by "throwing" around information?

[15:56](#msg5a159e2f232e79134dbbe4d0)Which information exactly is not thrown around?

numberjay

[15:56](#msg5a159e3be606d60e34f71209)with `if not`, the `not` will always reduce whatever information to either `none` or `true`

[15:57](#msg5a159e76614889d475b1bbd3)`not` reduces information to the least possible amount (one bit), it 'throws' away any additional information

BeardPower

[16:03](#msg5a159fda232e79134dbbeee8)Got it.

numberjay

[16:06](#msg5a15a07871ad3f8736190d32)`not empty? x` can only return `none` or `true`  
but by using an hypotetical function `not-empty?` then:  
`not-empty? x` can return either `none` or `x`

BeardPower

[16:08](#msg5a15a0e5614889d475b1cdfc)You also made an example with x &lt; 3 &gt; 2 but I assume it's not limited in the amount of comparisons, right? E.g. x &lt; 3 &gt; 4 &lt; d &gt; 9

numberjay

[16:08](#msg5a15a10edf09362e673ea06c)yes sure

[16:09](#msg5a15a12d614889d475b1d005)of course `x < 3 > 4 < d > 9` would return `none`

[16:09](#msg5a15a1512837ee5106b662ff)because 3 will never be greater than 4

BeardPower

[16:11](#msg5a15a1a3e606d60e34f725a9)Just the normal short circuiting.

[16:11](#msg5a15a1b1982ea2653fb09f5d)mhm, I see. :)

numberjay

[16:15](#msg5a15a28d71ad3f8736191cb3)short circuiting that Red does not seem to support

[16:15](#msg5a15a2a9e606d60e34f72b56)at least not with `and` and `or`

[16:16](#msg5a15a2d9540c78242d36deb9)but i see it supports with `any` for example

BeardPower

[16:16](#msg5a15a2f5232e79134dbc01aa)Yeah, as @9214 was mentioning.

numberjay

[16:17](#msg5a15a303982ea2653fb0a898)that's good

BeardPower

[16:17](#msg5a15a32ae606d60e34f72dec)How long are you using Red?

[16:18](#msg5a15a366540c78242d36e242)I'm new to it, so can't tell much about the ins and outs :)

numberjay

[16:22](#msg5a15a450232e79134dbc082a)me too, it's less than 2 months now  
but i learned a lot on here and i wait to finish my current Clojure project and switch to Red

[16:24](#msg5a15a4a2982ea2653fb0b3bc)i 'parked' Clojure to try my hand at immutable data structures in Red, i'll complete those, than get back to Clojure and then switch to Red

BeardPower

[16:30](#msg5a15a610cc1d527f6ba1b1fa)I see :)

Indeed, the information you get here is very valuable.

greggirwin

[18:25](#msg5a15c12e982ea2653fb161bc)At various times in Rebol's past, the discussion came up about `none` propagation. It's a design choice. So far, there hasn't been a strong argument to change the fundamental behavior. Red is based on Rebol, but we also have the opportunity to change things we think should be changed. Something to keep in mind, as we propose these ideas, is that Carl Sassenrath, a brilliant and deeply experienced designer and developer spent 20 years designing Rebol. When I first found Rebol, I had different opinions on some things as well. Almost without fail, though, time proved me wrong, and Carl right. That doesn't mean Rebol is perfect. Things added later, with less thought, or by others, I may still disagree with. But when I think there is a \*fundamental* flaw in Rebol's design, I try to give it time and deep consideration, looking at the big picture. Long timers will agree, and Carl himself will too, that some issues only came to light after years of real world use. So, there is room for improvement.

Chat is good for some things, but not so much for language change proposals. Good for throwing ideas around and exchanging ideas though, which is what we're doing now.

For anyone who \*seriously* wants some feature or behavior to be considered, we should should REPs in the wiki.

rebolek

[18:31](#msg5a15c272614889d475b29ddf)&gt; So far, there hasn't been a strong argument to change the fundamental behavior (of `none` propagation).

Actually, there is glacier-like movement to add `none` propagation where possible, it was error in lot of functions where it is now allowed. And that is a good thing.

BuilderGuy1

[18:33](#msg5a15c3132837ee5106b747b7)Just to throw the conversation in a totally different direction... What's the status of Red 0.6.4? I've read some murmurs in the chat.

greggirwin

[18:36](#msg5a15c3af71ad3f873619ea68)Let's step beyond `logic!` values and operators for a moment.

How do we feel about the wide range of datatypes in Red? Do they provide value, or are they baggage we can do without? Why are they even there? What's the point of having file, email, and url types, when we can easily use strings for those? Why not just use a string with one value for chars? Percents are just floats or decimals, right? Tuples and pairs, heck, even dates and times could just be integral values in blocks. What is the bare minimum we need? And \*why* do we have so many in Red?

[18:37](#msg5a15c3f4614889d475b2a6e8)@rebolek, yes, some have changed, I think mostly for the best. It's design tradeoffs though.

[18:38](#msg5a15c40dba39a53f1ad1ad99)@BuilderGuy1, Team Red is hard at work, which is why they're so quiet lately. That's a good sign. :^)

gltewalt

[18:39](#msg5a15c46471ad3f873619edd4)Option to stuff unset! into a bitbucket would be good. Simillar to this F# example which takes a type and rturns nothing: `Console.ReadKey() |> ignore`

rebolek

[18:39](#msg5a15c46eba39a53f1ad1af38)@greggirwin I believe you know answer to all your questions :)

9214

[18:40](#msg5a15c494ba39a53f1ad1b0dc)`unset!` shouldn't be passed around at all, otherwise you're doing something wrong

gltewalt

[18:40](#msg5a15c4a4e606d60e34f7f533)It breaks function chaining

rebolek

[18:40](#msg5a15c4b7614889d475b2ab1d)It should.

gltewalt

[18:41](#msg5a15c4c12837ee5106b74ee3)Should it?

9214

[18:41](#msg5a15c4d4ba39a53f1ad1b26b)that's because whenever `unset!` occurred something is \*already* broken

rebolek

[18:41](#msg5a15c4dae606d60e34f7f888)Yes. `none!` should not (usually), `unset!` should.

gltewalt

[18:41](#msg5a15c4f4e606d60e34f7f914)print and probe are broken then?

rebolek

[18:42](#msg5a15c503df09362e673f746f)No.

[18:42](#msg5a15c511df09362e673f74d1)`print` should not be chained and `probe` returns a value.

gltewalt

[18:42](#msg5a15c5282837ee5106b751b3)probe also uses print though

9214

[18:42](#msg5a15c530df09362e673f7563)nope

gltewalt

[18:43](#msg5a15c535982ea2653fb179bc)yes it does

rebolek

[18:43](#msg5a15c54171ad3f873619f17e)it does

[18:43](#msg5a15c55671ad3f873619f1f6)but that's just an implementation detail, it returns a value, so you can chain it.

9214

[18:44](#msg5a15c573e606d60e34f7fbae)not sure what you mean

```
>> probe "str"
"str"
== "str"
>> print "str"
str
```

rebolek

[18:44](#msg5a15c58871ad3f873619f342)@9214

```
>> ?? probe
probe: func [
    "Returns a value after printing its molded form"
    value [any-type!]
][
    print mold :value
    :value
]
```

gltewalt

[18:44](#msg5a15c58ddf09362e673f76ce)I mean it uses print internally.

9214

[18:44](#msg5a15c59cba39a53f1ad1b5e0)my bad, just read the description

gltewalt

[18:44](#msg5a15c59f2837ee5106b75394)It's just that last return value is :value

rebolek

[18:45](#msg5a15c5b2df09362e673f77d8)Which is what it should be to make it transparent

gltewalt

[18:46](#msg5a15c5efba39a53f1ad1b744)Is there a reason why print needs to return unset?

rebolek

[18:46](#msg5a15c5fbcc1d527f6ba26d31)`probe` is debugging function that you can put anywhere without breaking your code. `print` is function with side-effects that does not return anything (also known as `unset!`).

gltewalt

[18:46](#msg5a15c60f540c78242d37b646)Wouldn't `none` be more appropriate?

rebolek

[18:47](#msg5a15c633982ea2653fb17eb9)No, because then every `print` in console would look like this:

```
>> print "nazdar"
nazdar
== none
>>
```

[18:48](#msg5a15c66d232e79134dbcdb5d)Or I should ask, what would you gain from `print` returning `none!`?

gltewalt

[18:48](#msg5a15c67bdf09362e673f7dca)ruby works that way. except it repl gives `nazdar => nil`

rebolek

[18:48](#msg5a15c68f982ea2653fb1801c)I believe it does, but is it useful?

gltewalt

[18:48](#msg5a15c691cc1d527f6ba26f9d)Then you could chain with print

[18:49](#msg5a15c6a4540c78242d37b9cb)If none isnt supposed to break the chain

9214

[18:49](#msg5a15c6b7232e79134dbcdd12)"chain"?

gltewalt

[18:49](#msg5a15c6c2e606d60e34f803d2)chain functions

rebolek

[18:50](#msg5a15c6eee606d60e34f80611)Why would you chain print, if it returns `none!`?

9214

[18:50](#msg5a15c6ff232e79134dbcdeda)I don't get how chaining `print` would be useful, even if it returns `none`

gltewalt

[18:50](#msg5a15c706614889d475b2ba7d)I don't know, maybe you check for `none` in your code

greggirwin

[18:50](#msg5a15c70a982ea2653fb18261):point\_up: \[November 22, 2017 11:39 AM](https://gitter.im/red/red?at=5a15c46eba39a53f1ad1af38) @rebolek, I know \*my* answers. I'm hoping to get people thinking about why we have all these types and how they make our lives better.

rebolek

[18:51](#msg5a15c73ddf09362e673f83f6)@gltewalt but it would always return `none!`, why check for it?

[18:51](#msg5a15c749982ea2653fb1840e)@greggirwin I understand :)

gltewalt

[18:53](#msg5a15c7aedf09362e673f8652)Right. So, trapping the return would be better. unset &gt; bitbucket. Allowing things that return unset to optionally be able to propogate

9214

[18:54](#msg5a15c80271ad3f87361a03e2)you're speaking Klingon :D

greggirwin

[18:55](#msg5a15c80fe606d60e34f80b81)See my message above about how long Carl took thinking about these details. :^)

gltewalt

[18:55](#msg5a15c826df09362e673f8920)https://dotnetcodr.com/2017/06/24/ignoring-the-return-value-of-a-function-in-f/

[18:55](#msg5a15c83d614889d475b2c2ce)If it was of no value, F# wouldnt have it

9214

[18:56](#msg5a15c871df09362e673f8a91)uhm

gltewalt

[18:56](#msg5a15c877df09362e673f8a9d)But I \*am* a youngling, so there's a lot that I don't see yet

9214

[18:57](#msg5a15c88271ad3f87361a07ac)if `print` fails, I believe it will spit out an `error!`

[18:57](#msg5a15c888e606d60e34f80d9a)otherwise its `unset!`

[18:57](#msg5a15c88ccc1d527f6ba27c3b)what's the difference?

gltewalt

[18:57](#msg5a15c8a171ad3f87361a086c)unset breaks things the same as any error will

9214

[18:57](#msg5a15c8a2232e79134dbcea42)you can ignore both or do something with them

[18:57](#msg5a15c8b2614889d475b2c575)how does it break things?

gltewalt

[18:58](#msg5a15c8c771ad3f87361a092b)And you're right |&gt; ignore is used for both unwanted return values and controlling errors

[18:58](#msg5a15c8f271ad3f87361a0a36)if unset is the return value in any piece of your code, your chaining days are over. It breaks the propogation

[18:59](#msg5a15c925232e79134dbcecc0)And unset isn't an error, so should it halt the show?

9214

[19:00](#msg5a15c953cc1d527f6ba280d9)why chain with something that potentially can return something you don't want in a first place?

[19:01](#msg5a15c97adf09362e673f904d)it doesn't break propagation, in a sense that its a true-ish value and you can dispatch on it, also there's `unset?`

gltewalt

[19:01](#msg5a15c985232e79134dbcf006)Sometimes you don't care about the return value, but everything has to return a value

rebolek

[19:02](#msg5a15c9cfcc1d527f6ba28555)`unset!` as output value isn’t error, but it is an error as input value. Functions don’t (usually) accept `unset!`.

9214

[19:02](#msg5a15c9dacc1d527f6ba28570)yes, and if `unset!` is returned, function implies that you shouldn't care about returned value at all

gltewalt

[19:03](#msg5a15c9eb540c78242d37cedd)Next function cares

9214

[19:03](#msg5a15c9ec982ea2653fb193fa)i.e. you shouldn't pass it next to other function

rebolek

[19:03](#msg5a15c9f4e606d60e34f81632)exactly

greggirwin

[19:04](#msg5a15ca53cc1d527f6ba2881d)http://www.rebol.net/r3blogs/0318.html

gltewalt

[19:11](#msg5a15cbe92837ee5106b77e7b)I'll defer to the gurus and Carl, but it bugs me. Always has.

greggirwin

[19:14](#msg5a15cc95982ea2653fb1a45b)It's all tradeoffs. You can go for purity and consistency, but that has its own cost. Depends on what you value more. In Red's case, you can avoid unset in your own code without issue. If using other code, or doing tricky things, you may need to be aware of it.

[19:18](#msg5a15cd87cc1d527f6ba29da8)Fun things to think about are what `()` would return, if not for `unset!`. Where is that a problem, and where is it useful? One of the hard things about things like `unset!` are that I sometimes want to fight against them, then realized I've made use of them at some point. :^\\

gltewalt

[19:26](#msg5a15cf48614889d475b2ea97)I come from `nil` which is benign, so my immediate reaction is `()` should return `none`. Obviously doesn't mean that I'm right or that I fully understand things

9214

[19:26](#msg5a15cf7a540c78242d37ef01)what do you think `none` value represents?

[19:26](#msg5a15cf7f540c78242d37ef1a)and `unset`?

gltewalt

[19:29](#msg5a15d032ba39a53f1ad1f5e7)none is a benign value. unset is a death ray

9214

[19:36](#msg5a15d1a5614889d475b2f907)...

gltewalt

[19:45](#msg5a15d3efe606d60e34f85526)It's useful, just not sure it should be a return value

9214

[19:48](#msg5a15d4a0df09362e673fcf1e)why it shouldn't be a return value?

gltewalt

[19:49](#msg5a15d4cb982ea2653fb1d465)`unset @9214`

9214

[19:49](#msg5a15d4e6982ea2653fb1d549)whatever

gltewalt

[19:50](#msg5a15d4f0cc1d527f6ba2c876)I think the only thing that interrupts a program should be error

9214

[19:50](#msg5a15d515ba39a53f1ad214dd)and `unset` interrupts program because..?

gltewalt

[19:51](#msg5a15d527614889d475b30cb4)That's how I feel. I can totally see changing my mind as I understand more.

[19:51](#msg5a15d54271ad3f87361a5a89)Because next function won't accept unset (usually)

9214

[19:52](#msg5a15d561982ea2653fb1d8ff)and why you're passing a value that was specifically designed to be non-passable..?

gltewalt

[19:52](#msg5a15d59b982ea2653fb1da98)What if you're using library and their code does that?

9214

[19:55](#msg5a15d622540c78242d3817ea)this implies that function you've just executed caused some side-effect and get its job done, but since Red is an expression-based language, something always should be returned back, hence `unset`

[19:55](#msg5a15d64dcc1d527f6ba2ce58)but it doesn't mean that if something has returned you absolutely, positively should do something about it

[19:56](#msg5a15d663232e79134dbd36ff)in case of `unset` the only thing you should do is to ignore it and don't pass it around, because it's not a first-class citizen and never intented to be

gltewalt

[19:56](#msg5a15d6872837ee5106b7be3e)That's what I said in the beginning. Built in option to ignore it, or send to bitbicket

[19:57](#msg5a15d695e606d60e34f863d4)Bitbucket

9214

[19:57](#msg5a15d6a0e606d60e34f863ef)what's a bitbucket? :D

[19:57](#msg5a15d6c2614889d475b31537)and what do you mean by "option to ignore"?

gltewalt

[19:57](#msg5a15d6c371ad3f87361a63d9)Where you send junk output data that you don't care about.

[19:58](#msg5a15d700ba39a53f1ad21ff0)Option to ignore might be `/ignore` on functions that return unset. And I guess they would return none instead

9214

[19:59](#msg5a15d73a614889d475b31704)`foo/ignore print "bar"`?

gltewalt

[20:00](#msg5a15d763982ea2653fb1e4d9)`foo print/ignore` probably

9214

[20:00](#msg5a15d7792837ee5106b7c36d)and what will you do with that `none`?

[20:01](#msg5a15d784232e79134dbd3f5b)how is it different from `unset`?

gltewalt

[20:01](#msg5a15d78cba39a53f1ad22358)Or it can just return value. "bar"

[20:01](#msg5a15d7a0ba39a53f1ad2247a)Like prove

[20:01](#msg5a15d7a4614889d475b31966)Probe

9214

[20:02](#msg5a15d7eee606d60e34f86be1)and why not `42`?

[20:03](#msg5a15d800540c78242d382139)or dumped content of your harddrive?

gltewalt

[20:04](#msg5a15d836982ea2653fb1e8ff)Dumped hard drive is a good option

[20:04](#msg5a15d85ce606d60e34f86df9)I have to go drive for now, so @9214 wins the discussion

9214

[20:06](#msg5a15d8deba39a53f1ad229e5)I still don't get why you want to convert `unset` to `none`

gltewalt

[20:07](#msg5a15d91a2837ee5106b7cc93)I might be able to make some example later

9214

[20:08](#msg5a15d931df09362e673fe6b5)drive safely ;)

gltewalt

[20:08](#msg5a15d95371ad3f87361a72b0):+1:

greggirwin

[23:10](#msg5a1603e3982ea2653fb2e3fd)`None!` is not benign and more than `unset!`, is it?

```
>> pick [1 2] none
*** Script Error: pick does not allow none! for its index argument
*** Where: pick
*** Stack:
```

Some functions accept it, others do not. It's a very difficult balancing act. You need to be able to trigger errors; at the same time, simply passing `none` up the chain may just hide them, yes? Choosing when to return none, pass it through, or error on it is \*really* hard.

[23:13](#msg5a160494df09362e6740d86d)&gt; What if you're using library and their code does that?

How is it different from knowing how to deal with any other library feature or design choice? If you expect to be able to write code, not understand the tools you're using, and come out unscathed...well, I haven't.

[23:31](#msg5a1608c3982ea2653fb2fb6e)If we want to eliminate `unset!`, we need to address the issues and choices from Carl's blog entry first.

`Unset!` has not caused me grief, any more than anything else. I think it adds value, being able to distinguish from `none!`, but that's subjective. I don't think it's \*required* to make Red a good language (it may be required in the implementation, but not exposed as a datatype). I also think removing it will just shift problems around, not solve them.

We can also ask:

\- What unavoidable issues does it cause?  
\- How often do those issues come up?  
\- What does the language, as a whole, look like without it?

Without it, I'll have to rethink how I do some things. Building layouts programmatically is wonderful, but it wouldn't work the same without the ability to compose out optional bits. Note, also, that a few key functions support `any-type!` with intention. Replacing unset with none would cause \*big* changes there.

## Thursday 23th November, 2017

numberjay

[04:39](#msg5a16510d232e79134dbf6ef8)that's such an interesting discussion indeed!  
this stuff is hairy and there's not an absolute right or wrong answer  
you can't reach a global optimum so to say, just local optima which may differ from programmer to programmer  
so here's my preferences, based on the principle of maximizing information, which impoves expressiveness, and balancing soundness and usefulness:

\* having many specific types and literal forms is awesome, just like Red does  
\* returning a meaningful value is always better than returning `none`  
\* returning `none` is always better than 'returning' an `unset!` object  
\* `unset!` should not be part of any high level language, especially in a language where everything is an expression  
\* all functions should accept `none` as input and do the sensible thing with it (`none` meaning absence, emptyness, lack of information, falsity... or `none`)

some examples of desirable behaveour (this is not the current behaveour in Red):

```
>> print 42
42
== 42
>> pick [a b c] none
== [a b c]
```

none of the above are deal breakers because they're easily fixed by the programmer  
and Red gets many things right (per the above criteria)  
for example in some languages (even Clojure!) the following would error... luckily Red knows better:

```
>> pick [a b c] 666
== none
```

toomasv

[07:02](#msg5a167299982ea2653fb4bd8c)@numberjay But then instead of e.g.

```
>> repeat i 5 [prin i]
12345
```

you would get

```
>> repeat i 5 [prin i]
1== 1
2== 2
3== 3
4== 4
5== 5
```

or something like that.

rebolek

[07:07](#msg5a1673a4232e79134dc009f7)More like

```
12345
== 5
```

toomasv

[07:12](#msg5a1674d92837ee5106ba8b02)Indeed:

```
>> cx: context [prin: func [x][system/words/prin x x]]
== make object! [
    prin: func [x][system/words/prin x x]
]
>> repeat i 5 [cx/prin i]
12345== 5
```

Umm. Mutch better!

KimRoach143\_twitter

[07:52](#msg5a167e50df09362e6742e49c)how to take photo from webcam or usb cam using just red or red with DirectShow API??

meijeru

[08:07](#msg5a1681c3614889d475b63b92)I observe that the feed in the right column is not anymore up-to-date !?!

numberjay

[08:25](#msg5a1685dc232e79134dc0683b)@toomasv @rebolek yes indeed, in a sequence of calls only the last value gets returned (meaning the value of the last call)  
a sequence of calls has sense only for its side effects (in this case the printing of stuff)

```
>> cx/prin 1 cx/prin 2 cx/prin 3 cx/prin 4 cx/prin 5
12345== 5
```

toomasv

[08:29](#msg5a1686fc71ad3f87361dab0d)Er, funny

```
>> cx/prin cx/prin cx/prin 3 cx/prin 4 cx/prin 6
33346== 6
```

numberjay

[08:32](#msg5a1687b0982ea2653fb52a7a)@toomasv it's the correct behaviour of course  
very much like Red already allows:

```
>> a: b: c: 666
== 666
```

which is very useful (especially during development) but many languages don't allow

toomasv

[08:33](#msg5a1687e6540c78242d3b50ff)Yes, of course. Just funny for my slow mind :)

numberjay

[08:34](#msg5a168816232e79134dc072af)having `print` return its argument is very useful during development, but i wouldn't use it in production code at all

toomasv

[08:35](#msg5a16885ce606d60e34fb9e00)But `probe` (and `probe reduce/compose`) is for that purpose already.  
But yes, there are other funcs to consider too.

numberjay

[08:40](#msg5a168966982ea2653fb53240)@toomasv yes absolutely, if it was not there it would be easy to implement  
still i favour being able to throw a `print` anywhere during development (for quick debugging) without breaking my code  
i don't see the gain for `print`to do otherwise and limit its usefulness

[08:42](#msg5a1689d8cc1d527f6ba5ffb6)all functions could return a meaningful value, even those that are meant for side effects  
if it's not good practice in production code (certainly bad practice), it's very useful during development

toomasv

[08:42](#msg5a1689fd540c78242d3b5c30)`print` reduces its argument, which is not always desirable. But if you let it just pass its argument after printing then we are back at `probe`.

numberjay

[08:44](#msg5a168a67614889d475b668a7)the reason you need `probe`, beside a different formatting, is exactly because `print` throws its argument :-)

toomasv

[08:45](#msg5a168ab8614889d475b66a15)Besides, `print` is native, `probe` is not.

numberjay

[08:50](#msg5a168bd6ba39a53f1ad56776)indeed, it's built on top of `print`  
my opinion is that having all functions (pure \*and* side-effecting ones) return a meaningful value simplifies language design and is more useful for the programmer himself

toomasv

[09:05](#msg5a168f4a232e79134dc097e1)I agree with that.

codenoid

[09:05](#msg5a168f52ba39a53f1ad579db)me too

flw-cn

[09:44](#msg5a169879614889d475b6b43f)dear guys, I have a little question: how to get command line arguments/options in Red?

Oldes

[09:51](#msg5a169a07ba39a53f1ad5b28b)@flw-cn `system/options/args`

flw-cn

[09:52](#msg5a169a4d614889d475b6bfea)thx. let me have a try.

[09:53](#msg5a169a9e232e79134dc0db7c)it works fine. thank you! @Oldes

gltewalt

[10:36](#msg5a16a4a7cc1d527f6ba68faa)I think `prin` is at the base and it is the one that does `reduce`. `print` uses `prin` and adds line feed. `probe` uses `print` and then returns :value

KimRoach143\_twitter

[11:49](#msg5a16b5bfcc1d527f6ba6e85a)peer to peer chat. is it possible with red ??

9214

[11:54](#msg5a16b6eddf09362e67440aa2)@KimRoach143\_twitter not yet

KimRoach143\_twitter

[11:55](#msg5a16b72a614889d475b75e57)@9214 and about taking picture with webcam

9214

[11:56](#msg5a16b78aba39a53f1ad64e95)@KimRoach143\_twitter View has \[camera face](https://doc.red-lang.org/en/view.html#\_camera) in which you can display camera feed

[11:57](#msg5a16b7aadf09362e67440e27)&gt; It is possible to capture the content of a camera face using to-image on the face.

[11:58](#msg5a16b7ef71ad3f87361eb172)for DirectShowAPI I guess you should either go down to R/S level and write bindings or ask @Oldes ;)

KimRoach143\_twitter

[12:01](#msg5a16b88be606d60e34fc9f8d)@Oldes can you put torch on the subject thanks in advance. :smile:  
&gt; for DirectShowAPI I guess you should either go down to R/S level and write bindings or ask @Oldes ;)

BeardPower

[12:02](#msg5a16b8ec71ad3f87361eb90f)It's on the Roadmap to 1.0:  
&gt;Replace current GDI/GDI+ backend with Direct2D backend on Windows 7+

KimRoach143\_twitter

[12:04](#msg5a16b957e606d60e34fca40c)@BeardPower what about macOS I just got my new Mac 😭

pekr

[12:06](#msg5a16b9ab540c78242d3c5d83)I thought that some parts are already "accelerated", at least I remember some DirectDraw references for text rendering, or something like that.

BeardPower

[12:07](#msg5a16b9e9df09362e67441a6f)DirectShow is now part of the WindowsSDK, but you should not use it, because it will be deprecated. Media Foundation is the thing you want.

endo64

[12:14](#msg5a16bba1540c78242d3c683b)`probe` and `print` are pretty much different, as `print` prints a reduced value since `probe` prints a molded value:

```
>> x: 3 b: [x] print b probe b
3
[x]
```

I, sometimes think that it could be useful if `print` returns what it prints, so I could write something: `write %file.log print action`. (action could even be a block!)  
But it is still not very useful because most probably I'll need `write %file.log print [now action "completed"]` which doesn't return what I want (if action is a block! it will not be reduced automatically)  
So it should be `write %file.log print reduce [now action "completed"]` anyway. So its better to write my own function for my needs.

KimRoach143\_twitter

[12:16](#msg5a16bc03540c78242d3c6a01)Anyone Here is in big data processing? if yes are you using red with it? I really want to integrate it with my project

[12:20](#msg5a16bd07ba39a53f1ad66c8f)@BeardPower I was using Directshow with my old projects and it was working fine so I asked about it but I will look into Media foundation thanks for valuable information.

BeardPower

[12:22](#msg5a16bd99e606d60e34fcbb34)@KimRoach143\_twitter On macOS, Red is using the Core Foundation, which is using Quartz. So hardware acceleration is handled for you automatically.

[12:25](#msg5a16be47540c78242d3c7593)@pekr Yes. E.g. the text-box is using DirectWrite.

[12:28](#msg5a16bed42837ee5106bc1517)@KimRoach143\_twitter You'r welcome.  
&gt;Microsoft Media Foundation was introduced in Windows Vista as the replacement for DirectShow. Of course, DirectShow is still supported in Windows 7, but developers are encouraged to use Media Foundation in their new digital media applications.

\[Media Foundation](https://msdn.microsoft.com/en-us/library/windows/desktop/bb970511)

KimRoach143\_twitter

[12:30](#msg5a16bf63232e79134dc19c0c)@BeardPower thats awesome I have more than 14000 lines of code in python that handles my big data crunching if I can replace it with red and reduce my code lines using no extra dependencies I will gladly do that but its critical thing. so, have you done something like that with your projects.

BeardPower

[12:30](#msg5a16bf67cc1d527f6ba719e6)@KimRoach143\_twitter I want to use Red for big data processing for my project in the future. I'm just researching how I can port libraries/implement algorithms with it.

9214

[12:31](#msg5a16bf9cdf09362e67443591)I would suggest at least to wait for `0.6.4` (or is it `0.6.5`?) relase with GC

BeardPower

[12:32](#msg5a16bfc7cc1d527f6ba71bd2)@KimRoach143\_twitter Red, especially Red/System will bring your number crunching to a whole new level :)

KimRoach143\_twitter

[12:34](#msg5a16c04e232e79134dc1a242)@9214 Any guesstimation on when with GC may be spill some 🥜

[12:35](#msg5a16c08cdf09362e674439a8)@BeardPower I will test some functions with my project and let you know how it goes.

BeardPower

[12:35](#msg5a16c09e232e79134dc1a3f7)As @9214 already mentioned, Red does not have a GC yet, so you a.) manage your memory like in C by using Red/System or b.) wait for 0.6.4 or c.) reuse your allocated memory wherever possible instead of re-allocation.  
You might also want to wait for concurrency. I did not implement/port algorithms yet. I will implement a file format, which I want to use first, and play around with some UI/widgets.

[12:35](#msg5a16c0ac2837ee5106bc1e29)@KimRoach143\_twitter :+1:  
Is your project somehow related to trading? :)

KimRoach143\_twitter

[12:38](#msg5a16c15de606d60e34fccf63)@BeardPower you guessed it. 😉 in its heart it uses Cobol I know its old but what can I do :stuck\_out\_tongue\_winking\_eye:

9214

[12:39](#msg5a16c18471ad3f87361ee8c4)Cobol -&gt; Rebol -&gt; Red  
:mag: :shipit:

BeardPower

[12:42](#msg5a16c240cc1d527f6ba72a88)@KimRoach143\_twitter I used to code with COBOL a few years ago :D It might be old, but still used a lot (along with Ada, Fortran etc.) in the financial sector.  
My project: building a superior trading platform with Red.

KimRoach143\_twitter

[12:44](#msg5a16c292232e79134dc1aee9)@9214 Really ?? Never knew that part and never got good score in History :laughing: @BeardPower When you implement table, or datagridview kind of widget please don't forget to add excel like filtering functionally.

9214

[12:45](#msg5a16c305232e79134dc1b1d9)@KimRoach143\_twitter not really, Cobol has absolutely nothing to do with Rebol (aside from similar naming)

KimRoach143\_twitter

[12:46](#msg5a16c313ba39a53f1ad68c3f)I never used or heard of Cobol until I started working with this project.

BeardPower

[12:47](#msg5a16c347614889d475b79e3c)@KimRoach143\_twitter Sure.  
In case you missed this awesome blogpost from the Red team: \[Spreadsheet in 17 LoC](http://www.red-lang.org/2016/07/native-reactive-spreadsheet-in-17-loc.html)

[12:50](#msg5a16c40c614889d475b7a24d)This link could also be interesting for you: \[Rebol for Cobol programmers](http://cobolrebol.com/pages/rebol-for-cobol-programmers/rfcp-index.html)

KimRoach143\_twitter

[12:51](#msg5a16c45471ad3f87361ef5f6)@BeardPower Nop got that one covered. I am suggesting this kind of widget for guidance https://docs.telerik.com/devtools/winforms/gridview/filtering/images/gridview-filtering-excel-like-filtering002.png I will help big data analysts like me

[12:52](#msg5a16c48f71ad3f87361ef75c)it will help big data analysts like me

BeardPower

[12:53](#msg5a16c4e071ad3f87361ef913)Thanks. I'm collecting sources ~~to copy~~ get inspiration from :)

KimRoach143\_twitter

[12:57](#msg5a16c5af232e79134dc1bfa4)@BeardPower I will wait until GC but I will let you know how red scripts are working on my data plus I will mark time and let you know that too.

BeardPower

[12:58](#msg5a16c5d9614889d475b7acd5)@KimRoach143\_twitter Great!

[13:06](#msg5a16c7cb232e79134dc1cd07)@KimRoach143\_twitter You can use this great \[profiler](https://gist.github.com/greggirwin/908d44dc069ed84cf69f053e1308390d) from @greggirwin et al.

KimRoach143\_twitter

[13:12](#msg5a16c94871ad3f87361f137a)@BeardPower thanks mate will keep that in my arsenal 😃

BlackATTR\_twitter

[13:48](#msg5a16d1a9ba39a53f1ad6dac9)@KimRoach143\_twitter I've been dabbling with Red for my medium/big data needs. I'll move more over to Red when some key functionality is officially released. Until now I've been using the other rebol distro's successfully. In my opinion, the parse functionality of all the redbol distros is what sets it apart. Big data usually comes along with "big hygiene" issues, and that's where the parse functionality feels like a big leap in productivity.

KimRoach143\_twitter

[14:03](#msg5a16d5302837ee5106bc9258)@BlackATTR\_twitter thanks for some insight! @toomasv can I use your query aka toy database for some testing ??

toomasv

[14:05](#msg5a16d5a52837ee5106bc9476)@KimRoach143\_twitter Yes, but it hasn't moved on for some time now. Have to gather myself together to work on it. Please give me your thoughts about it when testing.

KimRoach143\_twitter

[14:12](#msg5a16d740df09362e6744b7b9)@toomasv Thanks sir, I will post bugs and any feature suggestion on git. I am working on manufacturing software(small scale). I thought Why not use complete red from top to bottom.

gltewalt

[20:14](#msg5a172c42cc1d527f6ba94bd9)Are series and stack directions opposite?

9214

[20:24](#msg5a172e74ba39a53f1ad8ce77)not sure what you mean

gltewalt

[20:28](#msg5a172f80ba39a53f1ad8d434)Look in block.reds at append*  
append in Red is insert tail

[20:31](#msg5a173016982ea2653fb8bb31)I mean, I was wondering if system stack grew in opposite direction of Red series

[20:32](#msg5a173061df09362e67468bfb)I may have to come back to it when I can formulate my question better

[21:01](#msg5a17371a982ea2653fb8da9c)@endo64 Couldn't `print` reduce your block and also return `:action` as last statement?

## Friday 24th November, 2017

numberjay

[06:15](#msg5a17b90d232e79134dc62671)@endo64 @gltewalt i didn't elaborate before, but when passing a block this would be the most useful behaviour for `print` (returning the last argument in the block):

```
>> x: 10
== 10
>> print ["the value of x is" x]
the value of x is 10
== 10
```

gltewalt

[06:29](#msg5a17bc62ffa3e37919b2bf8e)Oh, I see

[06:30](#msg5a17bc6c8b3a9e2c0c104eb0)Like: `print2: func [val] [print val reduce last val]`

numberjay

[06:45](#msg5a17bff3ffa3e37919b2cc48)yes :+1:

endo64

[07:08](#msg5a17c56b982ea2653fbb0868)@gltewalt It could be `print2: func [val [block!] ] [print val last val]` according to your need.  
with your `print2` function you are reducing the last value in the block

```
>> b: [1 [a]]
>> print2 b
1 a
*** Script Error: a has no value
```

[07:09](#msg5a17c5aedf09362e6748d3cc)Or `print2: func [val] [print val last reduce val]` of course.

gltewalt

[07:10](#msg5a17c5df982ea2653fbb0b4e)Yes

KimRoach143\_twitter

[09:14](#msg5a17e309cc1d527f6bac4007)@toomasv Any similar implementation of "Distinct" ??

toomasv

[09:16](#msg5a17e37e540c78242d41bdf6)@KimRoach143\_twitter Sorry, what do you mean?

KimRoach143\_twitter

[09:19](#msg5a17e42371ad3f87362416e9)@toomasv Isn't that Justin Bieber song ?? :smile: I mean something like this https://www.w3schools.com/sql/sql\_distinct.asp

toomasv

[09:22](#msg5a17e4c68b3a9e2c0c111348)Ah, ok. Something similar to SQL's `distinct` in `query`? I remember having done something with `unique`, but it was connected to `collect`. Have to look it up.

KimRoach143\_twitter

[09:25](#msg5a17e578e606d60e340201bb)

```
func-rule: [
		'count | 'sum | 'average | 'max | 'min | 'unique ;| 'copy | 'copy/part
	| 	'first | 'second | 'third | 'fourth | 'fifth | 'last 
	| 	'ascending | 'descending | 'form | 'rejoin
```

got it

[09:27](#msg5a17e5f0df09362e67497ad7)@toomasv yes distinct in query. I think we should create small wiki to list all functions with examples ??

[11:12](#msg5a17fe8dba39a53f1adc326e)@9214 @BeardPower I was looking at trello, and Advance GC is in version 0.8.5 not in 0.6.5, its all about android also nothing mentioned about GC in 0.6.4 :worried:

rebolek

[11:13](#msg5a17fee0cc1d527f6baccca4)@KimRoach143\_twitter Right, that is advanced GC, but simple GC will come much sooner, see https://twitter.com/red\_lang/status/893083086430158848

KimRoach143\_twitter

[11:19](#msg5a18003b8b3a9e2c0c11a46a)@rebolek wow thanks for intel twitter is way more active 😎 I will go through all the tweets

rebolek

[11:22](#msg5a1800e4e606d60e34028d00):)

KimRoach143\_twitter

[11:26](#msg5a1801eaba39a53f1adc451f)😮 we have redCV now I will spend My Saturday and Sunday learning it yay 😁

toomasv

[11:49](#msg5a180743ffa3e37919b43a06)@KimRoach143\_twitter :point\_up: \[November 24, 2017 11:25 AM](https://gitter.im/red/red?at=5a17e578e606d60e340201bb) In principle yes, but it is still very half-baked and much can change.

KimRoach143\_twitter

[11:52](#msg5a18081671ad3f873624d9fe)@toomasv I can understand

[12:06](#msg5a180b2ccc1d527f6bad0706)@toomasv why separate files for each table instead of using single file database like sqlite, just curious?

toomasv

[12:08](#msg5a180bb4df09362e674a445d)This was just a quick hack to make them persistent. I have not given much thought to it. The whole project is not more than a toy db, meant as tool to learn Red. Not as a serious attempt to create a comprehensive db for Red, for which purpose I am not qualified :confused:

KimRoach143\_twitter

[12:22](#msg5a180f1171ad3f8736250389)@toomasv just googled it http://www.firebirdfaq.org/faq153/ answer does make sense :thumbsup:

toomasv

[12:25](#msg5a180fb4ffa3e37919b46535)Good!

## Saturday 25th November, 2017

virtualAlan

[00:29](#msg5a18b969df09362e674dca9a)I see a reference to Cobol .... Decide for yourself. When I tell people I used to program with COBOL, the response is: 'Oh, that's a dead language now' Of course that's ridiculous. More than 90% of all financial transactions worldwide involve COBOL. Over 200 billion lines of COBOL code is in use around the world. At least ¾ of all business data is processed by COBOL programs. There are over 12 million COBOL programs in use now, compared with only 375,000 C/C++ programs.  
Ok, Ok, this ain't about COBOL, I'm just trying to point out that you could be surprised at how successful a particular language is or can be, despite what you hear. just saying.

gltewalt

[00:36](#msg5a18bb23ba39a53f1adffb09)3/4 of all business data is processed by MS Excel

virtualAlan

[00:40](#msg5a18bbf2e606d60e3406508f)@gltewalt i doubt it

[00:55](#msg5a18bf9b541a6f03370ebbec)Trying some code colouring, see what you think:http://www.mycode4fun.co.uk/example-scripts

BeardPower

[01:26](#msg5a18c6e2232e79134dcb70d7)@virtualAlan The reason behind the huge percentage of Cobol/CICS programs still running is, that most of the code is from the 70'/80's and nobody wants to touch the code and rewrite it ;-) And IBM, of course :D

numberjay

[03:07](#msg5a18de54540c78242d46a45d)here's a comparison between Mutable and Immutable blocks that you can replicate on your system by using the code from:  
https://gist.github.com/numberjay/3df8f13044145c6dde1918ea2cdfe3b8  
we start by creating a `mutable-block` of one million items (benchmarking for memory and time):

```
>> bench-it [i: 0 while [i < 1000000] [append mutable-block: [] i: i + 1]]
== [53370880 0:00:00.874000001]
```

then we check that it has one million items indeed:

```
>> ilength? mutable-block
== 1000000
```

and also have a look at it

```
>> mutable-block
== [1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 ...
```

then we create an `immutable-block` (starting from the `mutable-block` which will not be affected and still remain Mutable)

```
>> bench-it [immutable-block: to-immutable mutable-block]
== [19156992 0:00:00.117000001]
```

we get already better memory performance, showing that the Mutable version would benefit from some Garbage Collection after creation  
again we check that it has one million items indeed:

```
>> ilength? immutable-block
== 1000000
```

and we have a look at it

```
>> immutable-block
== [<_IBLOCK_> 0 1000000 [1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32] [[33 34 35 36 37 38 39 40 41 42 43 44 45 46
```

what we see is the internal representation of the `immutable-block`... this may be distracting, so we can 'abstract' over the internal representation by using the API function `ishow` instead:

```
>> ishow immutable-block
== [1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 ...
```

that's better

now going back to our `mutable-block`, we create 100 modified Mutable copies and append them into `blocks`  
the first copy will have an `"X"` at position 1 (instead of the number 1)  
the second copy will have an `"X"` at position 2 and so on... making all our copies distinct from each other

```
>> blocks: copy []
== []
>> bench-it [repeat i 100 [append/only blocks ipoke mutable-block i "X"]]
== [1600307200 0:00:00.517000001]
```

look at the memory usage!  
we were lucky we didn't get a 'not enough memory' error at this point :-)  
just for double check, let's indeed verify that, say, the 50th element of the 50th copy is indeed `"X"`

```
>> ipick blocks [50 50]
== "X"
```

while, say, the 50th element of the 49th copy has not changed and it's still the number 50:

```
>> ipick blocks [49 50]
== 50
```

now we do the same by creating 100 Immutable copies of our `immutable-block` and appending them into `iblocks`:

```
>> iblocks: copy []
== []
>> bench-it [repeat i 100 [append/only iblocks ipoke immutable-block i "X"]]
== [0 0:00:00]
```

wait... have a look at the memory usage this time  
it's too small to register... we got 0 (Immutable) vs 1600307200 (Mutable)  
let's double check:

```
>> ipick iblocks [50 50]
== "X"
>> ipick iblocks [49 50]
== 50
```

all is good

[03:07](#msg5a18de618b3a9e2c0c15bdf8)now let's up the ante, how about an additional 1000 copies this time?  
first, Mutable copies with our `mutable-block` (appending to `blocks2`):

```
>> blocks2: copy []
== []
>> bench-it [repeat i 1000 [append/only blocks2 ipoke mutable-block i "X"]]
*** Internal Error: not enough memory
*** Where: copy
*** Stack: bench-it ipoke ipoke-one immutable?
```

oops... :-)  
how many copies were actually created before blowing the memory?:

```
>> ilength? blocks2
== 12
```

ouch!  
just 12 additional copies exhausted all the remaining available memory  
forget about creating more than 112 Mutable copies of a one million items Mutable block in all (on my system at least)  
at this point, it would be unfair to check how many Immutable copies of `immutable-block` we can create, because we should first reclaim all the memory that's currently in use by the Mutable copies (which is almost \*all* memory)  
yet, even under these unfair conditions, let's create an additional 1000 Immutable copies  
no wait... let's make it an additional \*50000* Immutable copies, that we'll append to `iblocks2`:

```
>> iblocks2: copy []
== []
>> bench-it [repeat i 50000 [append/only iblocks2 ipoke immutable-block i "X"]]
== [109289472 0:00:01.835]
```

perfect... and we would still have memory to go...  
just for peace of mind (of some of you):

```
>> ipick iblocks2 [12345 12345]
== "X"
>> ipick iblocks2 [12344 12345]
== 12345
```

in a system with all memory available, we would be hard pressed to exhaust all the memory by creating Immutable copies  
for all practical purposes, we can consider the number of Immutable copies to be \*unlimited*

to put things in perspective, imagine an interactive app running at 60 frames per second (that's reasonable)  
if the state of our app is in an Immutable block of 1000000 items (that's a \*huge* state, unreasonable but let's see)... and if we were to create a \*new* state at \*each* frame and keep \*all* the previous states for 'free undoing' or 'time travelling' reasons (as the user of the app we should interact \*extremely* fast to do that, a bit unreasonable but let's see)... then we would have to 'play' with the app for a full 4 hours before \*maybe* exhausting all available memory  
under these conditions we would exhaust ourselves much sooner :-)  
as my time allows, i'll extend the API for Immutable blocks and implement Immutable hashmaps (they'll share most of the code anyway)  
i had fun doing this write up, i hope some of you found it interesting enough to look deeper into Immutable data structures for your projects

BeardPower

[04:31](#msg5a18f22671ad3f8736293657)@numberjay That's awesome! I will definitely check, where I can use them. Thanks for sharing it. :clap: :+1:

numberjay

[06:19](#msg5a190b68232e79134dcc541e)@BeardPower thank you, very glad you liked it :-)

toomasv

[07:05](#msg5a19162b541a6f03370fdb9a)@numberjay Great! :clap:

PeterWAWood

[07:34](#msg5a191d10541a6f03370ff0b8)@numberjay I don't think the garbage collector will improve the speed of appending to blocks. However, pre-allocating the block will do. This will take about half of the time:

```
mutable-block: make block! 1000000
[repeat i 1000000 [append mutable-block i]
```

gltewalt

[08:25](#msg5a1928dce606d60e3407ad7b)@PeterWAWood When should I use `make block!` vs just blk: copy \[] ?

iceflow19

[08:56](#msg5a19305871ad3f87362a0868)

[09:43](#msg5a193b4a540c78242d47d918)@numberjay @greggirwin Sorry to resurrect the boolean/returning discussion like a zombie, but I like to sometimes drop by and read everyone's thought provoking discussions and I was doing some thinking over what both sides were saying. In my time programming in Rebol a few things have irked me, and one of them is certain primitive types having no literal forms. 'unset (until recently), 'none, 'true, and 'false are such examples. If a primitive with its own syntax is a meaning, and a word (when bound) is a symbol carrying that meaning, then above words are troublesome as rather than the meaning being inherent in their values, the symbol (its syntax) itself carries the weight of the semantics, ie it becomes a key word. But since said words' bindings are still mutable this seems dangerous for such basic and fundamental things. Its actually kind of funny 'unset has become more normal when its not even supposed to be a full type.

So that leads me to an idea (and its just that an idea to think about), what if we embrace in the case of true/false this relationship and encode the truthy and falsiness of 'true and 'false into what they're bound to. So something like:

```
1 < 2
== true
```

Still holds but the true that is being returned there is \*the word true\*. and performing this gets the result:

```
reduce 1 < 2
== 2
1 > 2
== false
reduce 1 > 2
== none
```

Which opens up the door to truthy and falsy words based on their bindings. Strict equals then could be used to assert that two trues from different contexts are \*bound to the same truthiness\*. One other option is to have the operators return word! if both operands are word! rather than true/false.

```
a: 1 b: 2 c: 3
reduce probe 'a < 'b < 'c
c
== 3
```

I don't know which would be more elegant, but in either case it prevents operators (ie &gt; &lt; 'and 'or) from becoming polymorphic kitchen sinks that don't leverage the types of what are being passed in. Anyways food for thought, and maybe I'm just a rambling crazy person lol.

numberjay

[10:09](#msg5a1941558b3a9e2c0c171948)@PeterWAWood of course you're right, GC will not improve the speed  
i was referring to cut down the memory  
creating the `mutable-block` uses more than twice the memory of creating an `immutable-block`, which suggests that most of that memory would need to be Garbage Collected because it'is not actually part of the `mutable-block`, but just used up during its creation  
preallocating the huge block i think it's a good idea anyway

PeterWAWood

[10:10](#msg5a194194541a6f0337107905)@gltewalt I think it is better to use `make block!` when you are expecting to add a lot of values to the block. Red is able to pre-allocate the space for the block so doesn't need to keep moving the block in memory when it needs to be expanded.

numberjay

[10:19](#msg5a1943c2541a6f033710816c)@iceflow19 do i understand correctly what you propose?  
if `a < b` returns the 'word' `true` (bound to the value of `b`), you wouldn't be able to write `a < b < c` because (imagining `c: 3`) it would reduce to a 'word' being compared to a 'number' and that's a type error

[10:28](#msg5a1945b3ffa3e37919b9c5cf)the rationale of my design is that \*any* value other than `none` is \*already* carrying the information `true`  
after all, that's why Red allows any type in an `either` condition (or in `if`, `case`, `unless`, ...)  
to compare, Haskell and Java would raise a type error if any value other than a boolean (`true/false`) were used in an `if` condition

9214

[10:29](#msg5a19460affa3e37919b9c747)

```
text
>> ?<: make op! :min
== make op! [[
    "Returns the lesser of the two values" 
    value1 [scalar! se...
>> ?>: make op! :max
== make op! [[
    "Returns the greater of the two values" 
    value1 [scalar! s...
>> 1 ?< 2
== 1
>> 1 ?< 2 ?< 3
== 1
>> 1 ?> 2 ?< 3
== 2
```

numberjay

[10:30](#msg5a19464d232e79134dcd2bdf)but having `a < b` returning `true` instead of the value of `b` does not leverage the flexibility that Red aleady affords compared to Java, Haskell and other languages

rebolek

[10:33](#msg5a1946ecba39a53f1ae1dc7a)@9214 nice

9214

[10:41](#msg5a1948c0ba39a53f1ae1e4ed)@numberjay so we should eliminate `true` and `false` (i.e. `logic!`) completely?

numberjay

[10:56](#msg5a194c60541a6f033710a501)@9214 let me ask you: why we need to program in Red when we can implement the whole of Red in Assembly by ourselves?  
the point is: what should the \*\*default\** be?  
for me it's better to have Red as the default than Assembly  
it easies programming  
and again for me it's better to have everything return a meaningful value by default rather than throwing it away (for no gain at all)  
it makes for a more natural and concise code, hence more expressive  
after all, we're not intereted in the fact that Assembly and Red are computationally equivalent (\*all* general purpose languages are, being Turing complete)  
so what makes Red 'better' than Assembly is \*not* power (they're the same), but expressiveness and only expressiveness  
and that's the number one concern for me in a practical language for my uses  
(meaning other uses and languages may have safety as number one concern, and so on, and that would be ok)  
tackling you question directly, no... there's no need to eliminate `logic!`  
in a \*very* narrow set of cases `true` \*is* the meaningful value to return (for example `not none`... and i'll not even start on why we shouldn't abuse `not` anyway in general and prefer higher order functions in its place, so ultimately replacing `not empty? x` with `not-empty? x` or `if not positive? n` with `if-not positive? n`...)

9214

[10:58](#msg5a194ceeffa3e37919b9e3ff)but you want `>` and `<` operators to return results that can't be deduced to simple binary values (even when its desired)?

numberjay

[11:05](#msg5a194e62cc1d527f6bb2824b)\*all* values \*already* carry a binary valence: they're either `none` or anything else  
and they usually carry \*much* more information than just the single bit of information in `true/false`  
so... no need to throw that information away only to write some more code to refer to it again (count how many times you have to write each letter in `a < b and (b < c) and (c < d)` versus the more expressive `a < b c < d`... and that's only one example, which is becoming a bit trite and i don't want to pass as someone obsessed by `<` :-))

9214

[11:09](#msg5a194f87541a6f033710afef)why not "either `series!` or anything else"?

numberjay

[11:12](#msg5a19500bcc1d527f6bb28a37)let's see if i can make you see the whole thing under a different angle  
consider this:

```
>> empty? x
== true
```

it's equivalent in pseudo code to:

```
>> is x empty?
== yes!
```

but do you know what `x` is? you can't, because you threw that information away  
now consider this instead (real code in my design):

```
>> empty? x
== ""
```

that would be equivalent to this pseudocode:

```
>> is x empty?
== yes and it's an empty string!
```

endo64

[11:12](#msg5a195028cc1d527f6bb28a73)@numberjay Can you put your work on immutable blocks to a wiki page under Red? Otherwise it will flow up and cannot be referred easily.

9214

[11:13](#msg5a195043cc1d527f6bb28ab1)&gt; you can't, because you threw that information away

yeah, like `x` is magically disappeared

[11:14](#msg5a1950b3232e79134dcd53fa)we could argue that it should also return current weather condition, time and maybe info about some fancy cryptocurrency

[11:15](#msg5a1950b771ad3f87362a8298)it's more information, right?

numberjay

[11:15](#msg5a1950bdffa3e37919b9f11e)@9214 you mean `series!` as a 'falsey' type?  
you need a \*single* 'falsey' value and not more  
you're free to write this though: `false: none yes: true no: none on: true off: none` and so on, what we already do as programmers a lot)

[11:19](#msg5a1951bc71ad3f87362a8580)@9214 i don't know if your goal is just to make me appear stupid, but you'll have a hard time and i'm not gonna play that game anyway  
so i'll reply giving you the benefit of doubt  
more information is not the same as \*meaningful* information (that is the very information you've just processed)  
and throwing information away does not mean it disapears magically, it means you have to write more code to refer back to it as i think i made already clear by example  
maybe you like to write lots of boilerplate code and i have very good news for you: you'll enjoy Java more than any other language :-)

9214

[11:20](#msg5a19520bcc1d527f6bb2903e)I'll have to write same boilerplate code if I want `>` or `<` to return \*just* plain dumb simple `true` or `false`

numberjay

[11:21](#msg5a19523bba39a53f1ae20960)@endo64 yes i will certainly do, at the latest when i'll extend the implementation to immutable hashmaps

[11:23](#msg5a1952a5e606d60e34084eb4)@9214 and why you would need to do that  
what would you gain by returning plain `true` that you wouldn't already have by returning, say, `42` (which you know is truthy and behaves as `true` already)

9214

[11:23](#msg5a1952b6df09362e674ff49a)both current and your proposed behavior are useful, it's just that you like it, but I hesitate to write something like `reverse string? "foo"`, because it's semantically meaningless

[11:24](#msg5a1952d68b3a9e2c0c175e89)@numberjay try to stick your "trueish" `42` into `bitset!` for example

[11:24](#msg5a1952e5cc1d527f6bb2926f)or use ternary `pick`

[11:24](#msg5a1952f2232e79134dcd5be8)or to make an integer from it

[11:24](#msg5a195302df09362e674ff558)

```
text
>> make integer! true
== 1
>> make integer! false
== 0
>> make integer! 42
== 42
```

numberjay

[11:25](#msg5a195323541a6f033710bdfc)`reverse string? "foo"` reads as it's written `reverse the string "foo"` (and \*only* a string, returning `none` for every other type... for me it's as expressive as it can get)

9214

[11:25](#msg5a195345e606d60e3408513e)it's written "tell me if this value is a string or not, and then reverse the answer"

numberjay

[11:27](#msg5a1953abcc1d527f6bb29589)becasue you want to read it like that, but i just showed you that you can read it \*exactly* as it's written and it tells you \*exactly* what it does, can't get more expressive than that

9214

[11:28](#msg5a1953d8df09362e674ff838)hm, that's strange, your message reads \*exactly* like "oh @9214 your're right!" :D

numberjay

[11:28](#msg5a1953f9ba39a53f1ae2109c)sure, you may need to get used to such expressiveness, but i don't think that would be a good reason for disparaging it

9214

[11:29](#msg5a195413ba39a53f1ae21109)suggesting to check out Java sounds like an insult btw :D

numberjay

[11:30](#msg5a195446e606d60e34085517)@9214 having done my share of professional Java... yes... it definitely is! :-)

9214

[11:31](#msg5a19547f540c78242d483db0)maybe it's you who need to get used to our dumb binary world where boring 1's and 0's could be useful

numberjay

[11:31](#msg5a195482540c78242d483db2)i don't understand when you talk about `bitset!` or converting to an integer... `42` is already an integer

9214

[11:31](#msg5a1954a0ba39a53f1ae21391)@numberjay it's a \*true\*-ish integer, right?

numberjay

[11:32](#msg5a1954b78b3a9e2c0c176527)@9214 \*all* integers are \*true\*-ish

[11:32](#msg5a1954c8540c78242d483e68)included `0`

9214

[11:32](#msg5a1954ca71ad3f87362a8f93)so i want separate it's... ehm... integer-ness from it's true-ishness

numberjay

[11:33](#msg5a1954f5cc1d527f6bb29ab6)this?

```
>> none? 42
== false
>> none? none
== true
```

9214

[11:33](#msg5a19550671ad3f87362a904e)

```
text
>> b: make bitset! "abracadabra"
== make bitset! #{000000000000000000000000780020}
>> b/1
== false
>> b/100
== true
```

numberjay

[11:34](#msg5a19554a8b3a9e2c0c176719)do you realize that we're dealing with `bits` here, in this case (one bit of information) `true/false` \*is* the meaningful value we're dealing with

9214

[11:35](#msg5a195571e606d60e340859a0)@numberjay and in case of `>` and `<` it's not..?

numberjay

[11:35](#msg5a195588232e79134dcd662a)if you ask the value of a bit it will always be either `true` or `false`, and never 42 or "hello" :-)

9214

[11:35](#msg5a195597e606d60e34085aa5)how would you write something like

```
>> b/1: 1 < 2
== true
```

[11:36](#msg5a1955c4ffa3e37919ba04a8)oh, wait, you'll explicitly convert it to `logic!` with boilerplate code

[11:37](#msg5a1955e1df09362e67500244)or start to argue that whole language should be redesigned

numberjay

[11:37](#msg5a1955f0232e79134dcd685c)

```
>> b: make bitset! "abracadabra"
== make bitset! #{000000000000000000000000780020}
>> b/1: 42
== 42
>> b/1
== true
```

don't take as offence, i jokingly say that Red is already smarter than you seem :-)

9214

[11:38](#msg5a195622540c78242d484308)and `b/1: 0`?

[11:38](#msg5a195628df09362e67500333)will it set first bit to `true` or `false`?

numberjay

[11:40](#msg5a19569d8b3a9e2c0c176ccc)current behaviour is `false` of course (or we wouldn't have this discussion about a proposed design... which by the way is not about Red, just about design in general, i made explicit i'm not asking or hinting at Red to change, but i think everyone can express her views on what she thinks is good design)

[11:42](#msg5a19574271ad3f87362a9adc)and also meditate on this snippet:

```
>> either 0 [true] [false]
== true
```

[11:44](#msg5a195787ba39a53f1ae21e4c)if i were to ask you now, is `0` true or false in Red?  
could you give me a coherent answer?

9214

[11:47](#msg5a195839232e79134dcd7129)it's a donut hole in my expressive universe :donut:

numberjay

[11:55](#msg5a195a3d8b3a9e2c0c177acb)ok, whatever  
my bad for not realizing sooner that you argue just for the sake of arguing, but probably with no real interest in the discussion  
i think we can finish right here, right now

9214

[11:56](#msg5a195a69541a6f033710d85c)&gt; my bad for not realizing sooner that you argue just for the sake of arguing, but probably with no real interest in the discussion

sure, I'm just a dumb caveman who should learn Java

numberjay

[12:00](#msg5a195b53ba39a53f1ae22e6a)@9214 right, to tell someone to go with Java is very offensive... unless said in good fun, which i did

PeterWAWood

[13:44](#msg5a1973d6ba39a53f1ae29446)This discussion is getting to the point of flooding this channel. Please could you continue it in another channel. The \[Red/lisp](https://gitter.im/red/red/lisp) channel may not be a perfect fit for the discussion but it should suffice.

numberjay

[13:52](#msg5a1975b1541a6f033711435e)@PeterWAWood yes, that would be a better fit if someone would like to resurrect the topic, but honestly i think there's nothing more to discuss, i think we can move on  
sorry for the inconvenience, i felt kind of attacked for no reason and with no substance by some on here  
i much prefer to move on

9214

[14:53](#msg5a1983faffa3e37919bacfd3)@numberjay sorry if I sound offensive, I just wanted to point out that :  
\* current design exists on purpose and, even if it seems less expressive, it still has valid use cases  
\* your proposal can't be easily integrated in Red without propagating changes in other parts of the system and breaking compatibility with R2

But since your idea wasn't about \*changing* Red, but more like "If I'd designed a programming language, I'd...", then, sure, I value expressiveness too (otherwise I wouldn't be here :)), but, when pushed to the extreme degree (like in case with J or other APL family languages) it starts to get harder to process for newcomers and non-programmers - and this is where it starts to go against the design philosophy of Red and Rebol (IMO) - again, I know that this wasn't about Red specifically, but we're in `red/red` room, so...

We probably should stop to pollute this channel, and we should still be nice to each other, peace :v::alien:

numberjay

[15:30](#msg5a198ca771ad3f87362b7c6a)@9214 "If I'd designed a programming language, I'd..." was the whole point, no need to get defensive (or offensive)  
i'm also quite aware of backward compatibility with Rebol  
after you program for some time, you may get strong opinions on many aspects of programming and it doesn't mean that you want to change things in Red for example, just to express your ideas and listen to the (hopefully new) ideas of others which can lead to some stimulating exchange, that's all  
and yes i am very biased and opinionated (and i made no mistery about it) for the very simple reason that i gave a \*lot* of thought to most aspects of programming that normally one would take for granted  
which doesn't mean i've got the answers for you, but for me i should be entitled i think :-)  
and it's not a crime to express one's view point and it's not a crime to not agree, it's actually the norm in programming  
that makes programming interesting to me, because it is not a 'solved' problem (look at the current state of the art)  
i think highly of Red, or i would be a masochist to switch from Clojure (soon)  
so we walk in the same direction and as @greggirwin already said we can be in disagreement and still be friends  
peace :beers:

endo64

[18:18](#msg5a19b3da541a6f03371254bb)@numberjay I'm still interested to see your ideas in a wiki page and a DSL so I can test and even use if its useful in my case.

## Sunday 26th November, 2017

greggirwin

[03:36](#msg5a1a36d9232e79134dd152d2):point\_up: \[November 25, 2017 2:43 AM](https://gitter.im/red/red?at=5a193b4a540c78242d47d918) @iceflow19, I don't think returning words as logic symbols is a good solution in Red. It would interesting to consider in a dialect or new language perhaps. It's also possible that we'll get "construction syntax" in Red someday. e.g. `#[none] #[true] #[false]` as serialized/literal forms for those values.

meijeru

[09:49](#msg5a1a8e3e6b5080350f301cd8)Actually, those forms already exist!

```
>> type? #[none]
== none!
>> type? #[true]
== logic!
```

algorev

[15:24](#msg5a1adc9adf09362e675540ca)How can you break up a string into a list of characters? Or at least, return a particular character from that string at random?

numberjay

[15:43](#msg5a1ae136cc1d527f6bb8dbe6)@algorev try this:

```
>> s: "hello"
== "hello"
>> first random s
== #"o"
>> first random s
== #"l"
>> first random s
== #"l"
>> first random s
== #"h"
>> first random s
== #"l"
>> first random s
== #"e"
>> s/(random length? s)
== #"h"
>> s/(random length? s)
== #"l"
>> s/(random length? s)
== #"e"
>> s/(random length? s)
== #"l"
>> s/(random length? s)
== #"l"
>> s/(random length? s)
== #"e"
>> pick s random length? s
== #"l"
>> pick s random length? s
== #"l"
>> pick s random length? s
== #"h"
>> pick s random length? s
== #"l"
>> pick s random length? s
== #"l"
>> pick s random length? s
== #"e"
```

rebolek

[15:54](#msg5a1ae3a8cc1d527f6bb8e5b0)@algorev

```
>> random/only "nazdar"
== #"n"
>> random/only "nazdar"
== #"a"
>> random/only "nazdar"
== #"n"
```

9214

[16:37](#msg5a1aedddffa3e37919c0a88f) @algorev

```
>> extract/into "string" 1 []
== [#"s" #"t" #"r" #"i" #"n" #"g"]
```

algorev

[19:59](#msg5a1b1d3c71ad3f873631817a)Thanx! How exactly does the extract/into function work?

greggirwin

[20:10](#msg5a1b1fd071ad3f8736318d70):point\_up: \[November 26, 2017 2:49 AM](https://gitter.im/red/red?at=5a1a8e3e6b5080350f301cd8) Thanks @meijeru! I forgot they were supported already on the `load` side, just not serialized by `mold` yet.

[20:12](#msg5a1b2020ba39a53f1ae8ec9e)@algorev, use the `source`

```
>> source extract
extract: func [
    {Extracts a value from a series at regular intervals} 
    series [series!] 
    width [integer!] "Size of each entry (the skip)" 
    /index "Extract from an offset position" 
    pos [integer!] "The position" 
    /into {Provide an output series instead of creating a new one} 
    output [series!] "Output series"
][
    width: max 1 width 
    if pos [series: at series pos] 
    unless into [output: make series (length? series) / width] 
    while [not tail? series] [append/only output series/1 
        series: skip series width
    ] 
    output
]
```

[20:12](#msg5a1b2044e606d60e340fa805)If you're new to Red, there's a \*lot* going on in there, which may be more confusing than helpful.

[20:17](#msg5a1b2165e606d60e340fac05)

```
extract: func [
    {Extracts a value from a series at regular intervals} 
    series [series!] 
    width [integer!] "Size of each entry (the skip)" 
    /index "Extract from an offset position" 
    pos [integer!] "The position" 
    /into {Provide an output series instead of creating a new one} 
    output [series!] "Output series"
][
    ; Make sure width is never zero or negative
    width: max 1 width 
    ; If they spec an index, move to that offset as a starting point
    if pos [series: at series pos] 
    ; if they *didn't* give us an output series as a target, create one
    unless into [output: make series (length? series) / width] 
    ; until we hit the end of the input series, add the first item of
    ; that series to the output, then move forward by the skip width.
    while [not tail? series] [append/only output series/1 
        series: skip series width
    ] 
    ; Return the output series
    output
]
```

## Monday 27th November, 2017

PeterWAWood

[03:37](#msg5a1b8866df09362e675824c6)A question about the type hierarchy. Aren't the `any-string!` types,`binary!` and `image!` conceptually sub-types of `vector!`? They all can only contain a single type of value.

greggirwin

[03:41](#msg5a1b8969ba39a53f1aea83bf)We don't have an `any-vector!` typeset. And it may be a logical notion, but isn't an implementation factor today.

dander

[07:55](#msg5a1bc4f5e606d60e34124355)@algorev Here's another simple way to break a string into characters

```
>> collect [foreach c "string" [keep c]]
== [#"s" #"t" #"r" #"i" #"n" #"g"]
```

meijeru

[13:05](#msg5a1c0daee606d60e3413eb52)@PeterWAWood The types you have in mind are in the typeset `exclude series! any-block!` so you can easily give this a name.

PeterWAWood

[13:49](#msg5a1c17e5cc1d527f6bbe6039)@meijeru Thanks though I was thinking more about whether considering those types (`any-string!', 'binary!` and 'image!') as sub-types of `vector!` could lead to code rationalisation in the Red runtime.

9214

[15:06](#msg5a1c2a04ffa3e37919c682bb)@algorev take your pick

```
>> parse "string" [collect some keep skip]
== [#"s" #"t" #"r" #"i" #"n" #"g"]
```

[15:08](#msg5a1c2a7eba39a53f1aedd36f)Basically `extract`, well, extracts certain elements located at specific distance from each other. In my example distance is `1` (i.e. every element is extracted) and `/into` refinement specifies that all elements should be extracted into provided block (instead of creating new string).

The general advice in case you don't know how something works - just play around in console and use `?` and `??` helper functions. Or ask in `red/red/welcome` or `red/help` channels ;)

meijeru

[15:17](#msg5a1c2ca0232e79134dda2c4b)@PeterWAWood If you look at the runtime, you will see that there is already a lot of code-sharing.

PeterWAWood

[22:29](#msg5a1c91b2ffa3e37919c907c3)@meijeru A little more code sharing would be good. Less code, fewer bugs :-)

## Tuesday 28th November, 2017

CodingFiend\_twitter

[02:02](#msg5a1cc3c3e606d60e341810cf)I present here an excellent challenge for those wishing to see how good their favorite language is. This is a project that should come in around 2500 words, so not a large program by any stretch of the imagination. Although programming is often quoted in lines, some languages are more vertical than others and that measurement highly distorts the true size of a program. Writers of english such as journalists are very familiar with word counts, and so we are adopting henceforth the word as the basic measurement of a program's size. It translates to under 1000 lines.

The commonly used Hello World type of program tells you almost nothing about a programming language, and is a waste of time. The snake challenge is okay, but it is still a little too simple to show how good a language is. A bad language can deliver a snake program and it doesn't seem bad at all. But this task is of sufficient complexity that the true merits of a language shine through.

You can get the chess challenge specification and sample implementation \[here](http://www.magicmouse.com/downloads/beads/chess\_specification.zip).

[02:04](#msg5a1cc44b540c78242d57970c)!\[chessboard](http://www.magicmouse.com/downloads/beads/chess\_land.jpeg)

[02:07](#msg5a1cc4fa232e79134ddda934)Red is a very strong language, and very compact, so i expect it to come in under 2500 words. The real burning question, is how understandable is the red code? I see some very clever people using red, but isn't there always the danger of a language that lets people be too clever. Wasn't that really the reason COBOL was selected over FORTRAN? or was it just the ability to use fixed precision arithmetic in BCD that gave COBOL the edge? I personally hated COBOL, and the young whippersnappers on this forum never even learned it, but it has been very interesting to observe that the most verbose, lowest density language was usually selected over superior alternatives at the great junction points in the computer language history.

gltewalt

[03:14](#msg5a1cd4b0cc1d527f6bc28d45)Bad link

greggirwin

[03:49](#msg5a1cdce26b5080350f3b739d)@CodingFiend\_twitter, I also get a 404 from your link, but am anxious to see the spec.

[03:55](#msg5a1cde1f6b5080350f3b790c)I agree that language popularity doesn't go to those strongest in some specific technical area. It should go to those languages that help people solve their problems most effectively, which often means those for which they were designed. COBOL and FORTRAN have different targets. It may be that there's more COBOL because we need more business apps than scientific ones. I also agree with your implicit reason regarding verbosity. I don't think that's the actual reason, but the less there is to learn, and the less it can do, the easier it is to understand. I think this is also why Python has held, and gained, ground. From a business perspective, it makes us more of a commodity, which is a good thing for the business (even if not as much fun for us).

[03:57](#msg5a1cdea4ffa3e37919ca653b)What I hope to see, and the promise of Red, is the creation of new, more domain specific languages. Not all tiny, but ranging in scope. So someone can create a new COBOL, but also bake in the GUI part to make it the new PowerBuilder. And new tools for data scientists, learning from the Wolfram tools, J, R, and more.

CodingFiend\_twitter

[04:20](#msg5a1ce40ce5ed52e26c981e85)okay i can't fix the typo in my post, but i just renamed the file to fit the link so now it works. I apologize for the inconvenience.

greggirwin

[05:31](#msg5a1cf4a7df09362e675f7f72)Thanks!

numberjay

[08:13](#msg5a1d1aab232e79134ddf2bd3)given a block of valid forms like this: `[1 + 2 square-root 4 print "hello"]` (which would reduce to `[3 2.0 unset]`) how can i extract, say, the second form `[square-root 4]`?  
i can walk the single words and i can reduce the forms, but how do i extract a form in Red without reducing it?

greggirwin

[08:26](#msg5a1d1da3540c78242d593262)You can't, really, because each expression has to be evaluated to determine what it consumes. Unless you want to write your own evaluator (possible), or allow things to evaluate, using `do/next` to track where you are.

rebolek

[08:27](#msg5a1d1de5cc1d527f6bc3cbe5)@numberjay you can use something like:

```
extract-code: function [
	block
][
	b: copy block 
	exp: copy [] 
	until [
		do/next b 'b 
		append/only exp d: difference b block 
		remove/part block length? d 
		empty? b
	] 
	exp
]
```

[08:27](#msg5a1d1df487680e6230a44589)

```
>> extract-code block
hello
== [[1 + 2] [square-root 4] [print "hello"]]
```

greggirwin

[08:28](#msg5a1d1e30ffa3e37919cb88c9)The only way I can beat Bolek is if I write vague concepts while he produces working code. :^)

rebolek

[08:29](#msg5a1d1e70ffa3e37919cb89cc)@greggirwin I was interested if I can smash something together :)

[08:30](#msg5a1d1e8eba39a53f1af2d729)But anyway, without evaluating the code, I don't see how you can split it.

greggirwin

[08:30](#msg5a1d1e9871ad3f87363ba735)I was thinking about @CodingFiend\_twitter's chess challenge, so was distracted.

[08:31](#msg5a1d1efdcc1d527f6bc3d134)My thought on non-evaluation, was to parse, get values, if it's a func, find its arity, consume args, but don't do anything with them.

rebolek

[08:33](#msg5a1d1f438b3a9e2c0c27bcfc)That would work for simple code that does not modify any functions.

greggirwin

[08:33](#msg5a1d1f56540c78242d593c22)Yes, only simple cases.

rebolek

[08:33](#msg5a1d1f67cc1d527f6bc3d313)Which is actually like 90% of code anyway.

greggirwin

[08:33](#msg5a1d1f6e232e79134ddf45fe)My thought as well.

[08:34](#msg5a1d1f9ee5ed52e26c993cc8)So could be used for highlighting in an IDE in many cases, or other things like that.

numberjay

[08:35](#msg5a1d1fcd540c78242d593e73)@rebolek @greggirwin that's perfect for my use case! `do/next` was what i needed :-)

rebolek

[08:35](#msg5a1d1fe28b3a9e2c0c27bffa)@numberjay cool!

numberjay

[09:22](#msg5a1d2ad1ba39a53f1af31d8b)@rebolek while playing with your code, my Red console consistently crashes  
the culprit is doing something like this: `difference [] [1]`

greggirwin

[09:23](#msg5a1d2afb71ad3f87363beddb)Playing with ideas for how to represent chess in Red, prompted by @CodingFiend\_twitter's challenge and spec: https://gist.github.com/greggirwin/88fbce9c5835f038f4557b3181c7ee42?ts=4

rebolek

[09:23](#msg5a1d2b27df09362e676090a6)@numberjay I haven't tested the code very much, but if it crashes, it is definitely a bug. So if you have some code to reproduce the issue (above code does not crash for me), fill a bug report, please.

greggirwin

[09:23](#msg5a1d2b2cdf09362e676090be)Always fun to think about how to tackle different problems. Hack away folks. Let's see what the great Red optimizer can do.

CodingFiend\_twitter

[09:25](#msg5a1d2b77540c78242d597b38)actually i worked for a consulting firm called Stategic Planning Associates, a spin-off of McKinsey, in the 80's and we built a fortune 50 decision support tool that used at the time the highest resolution display available the 4000 x 3000 pixel Tektronix 4014, which consider this was 40 years ago was a pretty high resolution device. Anyway we did it all in FORTRAN, because actually COBOL is much more verbose than FORTRAN, and inferior in 99% of respects. COBOL had only tiny percieved advantages: the ability to have very long variable names (also a curse), the ability to specify formatting by example instead of the cryptic formatting metacharacters, and the almost never used copy by name which allows partial record copies based on identical names. Otherwise they were equivalent in most fundamental aspects.

numberjay

[09:29](#msg5a1d2c768b3a9e2c0c27fef2)@rebolek actually the snippet `difference [] [1]` is my minimal example to crash my console, do i fill a bug report by creating an issue?

rebolek

[09:29](#msg5a1d2c91ba39a53f1af3271d)@numberjay What version of Red are you using?

greggirwin

[09:30](#msg5a1d2cc6ffa3e37919cbdc9b)No crash here on Win7 with it.

rebolek

[09:30](#msg5a1d2cd3540c78242d5985c4)Maybe it was fixed recently.

numberjay

[09:32](#msg5a1d2d2fcc1d527f6bc41b5b)

```
--== Red 0.6.3 ==-- 
Type HELP for starting information. 

>>
```

rebolek

[09:33](#msg5a1d2d62ba39a53f1af32b3e)Try `system/build/date` please

numberjay

[09:33](#msg5a1d2d83232e79134ddf98fb)i didn't build it, i downloaded the exe a couple of months ago

```
Type HELP for starting information. 

>> system/build/date
== 11-Oct-2017/16:18:20+02:00
>>
```

rebolek

[09:34](#msg5a1d2da7e5ed52e26c99916e)Ok, I see. So try downloading latest automated build from http://www.red-lang.org/p/download.html

numberjay

[09:37](#msg5a1d2e748b3a9e2c0c280a80)done... actually now i seem to have \*two* issues... i can't paste anything in the console and it still crashes on my previous snippet :-)

[09:38](#msg5a1d2eaf232e79134ddf9f27)and also it seems identical to my previous console:

```
--== Red 0.6.3 ==-- 
Type HELP for starting information. 

>> system/build/date
== 11-Oct-2017/16:18:20+02:00
>>
```

rebolek

[09:39](#msg5a1d2ed071ad3f87363c0259)Have you downloaded the automated build?

numberjay

[09:42](#msg5a1d2f68e5ed52e26c999c34)oh right, my bad, everything looks fine now:

```
--== Red 0.6.3 ==-- 
Type HELP for starting information. 

>> system/build/date
== 28-Nov-2017/16:40:11+07:00
>> difference [] [1]
== [1]
>>
```

rebolek

[09:42](#msg5a1d2f7487680e6230a4a381)cool

numberjay

[09:45](#msg5a1d3036cc1d527f6bc42cc6)@rebolek so coming back to your code, it does extract the forms but it also evaluates them (that's what `do/next` does)  
is there a way to extract the forms \*without* evaluating them first?

rebolek

[10:19](#msg5a1d3835e5ed52e26c99cc51)@numberjay as we discussed with @greggirwin there could be a way using `parse`, but the code would be more complicated. I may give it a try later and let you know.

numberjay

[10:25](#msg5a1d39b1540c78242d59cd74)@rebolek @greggirwin i see, i guess the complication is not only from finding the arity of functions and skipping arguments, but also because functions could be operators... also functions may use more or less arguments depending if they have refinements... if there was a way to reuse `do/next` without actually doing stuff... mmm

9214

[11:15](#msg5a1d453dba39a53f1af3b03b)see word, `get` it without evaluation, determine if it's a function or not, if it's a function, figure out how many arguments it takes

[11:15](#msg5a1d455fe5ed52e26c9a1958)then either take that many arguments and extract the form or continue to traverse if there're more chained calls

[11:21](#msg5a1d46a08b3a9e2c0c289251)I'm not sure why you're concerned with `do/next` evaluating expression though

[11:21](#msg5a1d46c3ba39a53f1af3b9ed)

```
text
>> blk: [1 + 2 3 + 4]
== [1 + 2 3 + 4]
>> do/next blk 'b
== 3
>> blk
== [1 + 2 3 + 4]
>> b
== [3 + 4]
```

numberjay

[11:37](#msg5a1d4a5fba39a53f1af3cd1e)@9214 ok, using your example, how do i evaluate `3 + 4` without ever evaluating `1 + 2`?  
`do/next` seems of no use here  
we could certainly write a parser, but that would be overkill and redundant, as we would be replicating what Red already does  
also, skipping arguments is not the same as skipping items in the block, an argument could be itself an application (a form), that's why a parser is needed but we would like to reuse whatever parsing mechanism Red already uses  
if we throw infix operators in the mix, then the job is non trivial and really too much trouble for my use case

9214

[11:38](#msg5a1d4aab87680e6230a53628)again, what's the trouble with evaluating `1 + 2`?

[11:38](#msg5a1d4ac2232e79134de04043)@rebolek already showed you how to traverse block and apply `do/next` to any position

[11:40](#msg5a1d4b28540c78242d5a2dcd)without evaluation it's a non-trivial task

numberjay

[11:41](#msg5a1d4b66df09362e67614443)in the specific, `1 + 2` can never be a trouble, being a pure function application  
but that's not true in the general case  
if i have this:

```
[append blk 10 next blk]
```

it would make a big difference when evaluating `next blk` whether we already evaluated `append blk 10` or not, because the first form is a side-effecting application

9214

[11:42](#msg5a1d4b9b71ad3f87363c99cc)I see

numberjay

[11:42](#msg5a1d4b9ddf09362e6761464e)exactly, without evaluation it is a non trivial task

9214

[11:43](#msg5a1d4bd8232e79134de0465a)you can let this side effects to apply and then `exclude` them back, something like that

numberjay

[11:43](#msg5a1d4be18b3a9e2c0c28b12f)if we had something like `do/skip` to evaluate a form after skipping as many as we want, it would be great for my use case

9214

[11:43](#msg5a1d4be487680e6230a53dc1)not sure if it's applicable in general case

numberjay

[11:46](#msg5a1d4c8fffa3e37919cc9833)not in the general case, i think the most pragmatic choice is to change my use case a bit, at least for now, and wrapping the forms in brackets which was exactly what i wanted to avoid :-)

rebolek

[11:51](#msg5a1d4dbd71ad3f87363ca4ef)You can do the `do/next` evaluation in separate process to not change state of your environment.

numberjay

[11:52](#msg5a1d4de071ad3f87363ca65b)@rebolek that sounds great, how exactly?

9214

[11:53](#msg5a1d4e52232e79134de05712)@rebolek `call` to toolchain?

[11:55](#msg5a1d4e9cffa3e37919cca244)or you can `copy` `system/words` on each iteration, but that's insane

[11:55](#msg5a1d4ece232e79134de05a2c)or whichever context block is bound to

rebolek

[11:56](#msg5a1d4ef571ad3f87363cad54)@9214 @numberjay right, using `call`.

numberjay

[12:00](#msg5a1d4ff2e5ed52e26c9a5697)

```
>> blk: copy [a b c]
== [a b c]
>> call "do/next [append blk 10 next blk] 'b"
== 4452
```

but then how do i get a hold on `b` which i expect to contain `[next blk]`?  
because so far:

```
>> b
*** Script Error: b has no value
*** Where: catch
*** Stack:
```

[12:05](#msg5a1d50fe8b3a9e2c0c28ce85)i would like to fetch the value of the expression in the string and i would be done:

```
>> call/wait "do/next [append blk 10 next blk] 'b b"
== 1
```

so far i get an exit code

9214

[12:07](#msg5a1d516d8b3a9e2c0c28d15c)@rebolek it seems that we can fed to toolchain only files and not plain strings :(

[12:08](#msg5a1d51bcffa3e37919ccb450)@numberjay `call` executes provided command in system shell

[12:08](#msg5a1d51d5232e79134de06d41)so in your case you're trying to execute nonexistent `do/next` application with some arguments

rebolek

[12:10](#msg5a1d5222540c78242d5a5ad1)@9214 Yes, right now files only, but is that a problem?

9214

[12:10](#msg5a1d523cffa3e37919ccb716)@rebolek no, it just starts to get hairy :neckbeard:

rebolek

[12:11](#msg5a1d5262232e79134de07116)@numberjay you would have to write a script that will process your code, will write output to some other file and the mother process will get results from that file.

[12:11](#msg5a1d527d71ad3f87363cc49c)@9214 that's true. But it's what we have now, until `task!` or `thread!` will be implemented :)

9214

[12:12](#msg5a1d52cbdf09362e67617755)@numberjay believe me, wrapping expression in parens in the best choice you can do

[12:14](#msg5a1d531b232e79134de0764e)otherwise you'll get something like \[this](https://github.com/9214/rtool/blob/master/encap.red#L75)

numberjay

[12:17](#msg5a1d53cd540c78242d5a656d)yes, so far bracketing all forms is the lesser evil :-)

9214

[12:20](#msg5a1d54a38b3a9e2c0c28e482)another way is to preprocess block and find all `series!` that could be potentially modified, create an anonymous context with `get-word!`s from block that refer to that series, then bind block to this context and apply @rebolek function

numberjay

[13:02](#msg5a1d5e51ffa3e37919ccfede)yes, it could be promising  
need to play with it a bit

toomasv

[13:04](#msg5a1d5ef8540c78242d5aa776)Using \[info.red](https://gist.github.com/toomasv/eaac3829ac5e745f43121aa60b555d68)

```
Red []
do %../utils/info.red
extract-code: func [block [block!] /filter flt [word! block!] /local s nam fn refs inf len][
	refs: 0
	parse block [collect some [
		s: [
			path! if (any-function? fn: get/any nam: s/1/1)(
				inf: info fn
				;inf/name: nam
				len: length? inf/args 
				foreach ref next to-block s/1 [
					refs: refs + length? pick inf/ref-types index? find inf/ref-names ref
				]
			)
			keep (copy/part s len + refs + 1)
		|	word! if (any-function? fn: get/any nam: s/1)(
				inf: info fn
				;inf/name: nam
				len: length? inf/args 
			)
			keep (either op! = inf/type [copy/part back s len + 1][copy/part s len + 1])
		| 	skip
		]
	]]
]
extract-code [1 + 2 find/skip [a b c d] 'c 2 square-root 4 print "hello" copy/part [a b c] 2]
== [[1 + 2] [find/skip [a b c d] 'c 2] [square-root 4] [print "hello"] [copy/part [a b c] 2]]
```

numberjay

[13:10](#msg5a1d605287680e6230a5b627)@toomasv awesome!

toomasv

[13:11](#msg5a1d608a87680e6230a5b71c):)

numberjay

[13:13](#msg5a1d60e9ba39a53f1af45601)@9214 is it to be used as `extract-code`? it hangs the console

toomasv

[13:16](#msg5a1d61b48b3a9e2c0c2934b5)Actually, block delimiters after `s:` and after `skip` can be removed.

numberjay

[13:19](#msg5a1d6260540c78242d5abbbe)@toomasv yes and still works :-)

[13:22](#msg5a1d631d8b3a9e2c0c293c14)there's some glitch though:

```
>> extract-code [append blk 10 20]
== [[append blk 10]]
```

i would have expected:

```
>> extract-code [append blk 10 20]
== [[append blk 10] [20]]
```

toomasv

[13:23](#msg5a1d6364540c78242d5ac1ea)I extracted only code. It can easily be added. One moment...

numberjay

[13:24](#msg5a1d63a4ba39a53f1af465c2)i see, actually i need to extract all valid forms (that would reduce to a value)

toomasv

[13:28](#msg5a1d6483232e79134de0de34)Ups, not so easy to add, because of `op!`. First argument of `op!` would pass as "free".

[13:28](#msg5a1d6496540c78242d5ac7f7)Have to think about it a bit

numberjay

[13:34](#msg5a1d65eaba39a53f1af47309)@toomasv good news, it seems i can use it even as is  
i took off `some` so it returns only the first form  
i can take the rest of the code by skipping as many items in code as in the first form returned  
and if `extract-code` returns an empty block, i'll simply take the first item as a form and `next code`as remaing code to 'parse'  
basically i make it work as `do/next` but returning the form instead of evaluating it  
it will be perfect for me

[13:35](#msg5a1d662387680e6230a5d86e)@9214 thank you, i think @toomasv solution solves all my issues with no side effects

9214

[13:35](#msg5a1d663f232e79134de0e89b)then, whatever

toomasv

[13:39](#msg5a1d670cffa3e37919cd3304)@numberjay Good solution! But there is one problem more: if arguments to funcs are themselves funcs, the counting needs to be nested. My code does not handle this.

numberjay

[13:46](#msg5a1d68b8540c78242d5ae0e1)`some` is needed actually or sometimes it returns an empty block even if it should return a form  
but:

```
>> extract-code [1 + square-root 4]
== [[1 + square-root] [square-root 4]]
```

```
>> extract-code [1 + square-root square-root 4]
== [[1 + square-root] [square-root square-root] [square-root 4]]
```

here things break :-(

[13:49](#msg5a1d696b87680e6230a5ec44)i'm not yet into `parse` to find a solution, but it seems that an `extract-form` function that would extract just the first form is all i would need (in the last example above, the form would be `[1 + square-root square-root 4]` (the code itself)

[13:56](#msg5a1d6af671ad3f87363d5747)ok, let's step back...  
how do i get the arity of a function?  
for example something like `arity? 'do` would return `1`, `arity? 'do/next`would return 2, `arity? '+` would return `2` as well and so on

[13:57](#msg5a1d6b58540c78242d5af2c8)oh wait

```
>> info/arg-num 'skip
== 2
>> info/arg-num 'do
== 1
```

but

```
>> info/arg-num 'do/next
*** Script Error: get does not allow lit-path! for its word argument
*** Where: get
*** Stack: info
```

9214

[14:07](#msg5a1d6db9232e79134de11727)

```
text
expract: function [block /local x][
    ctx: context trim collect [
        parse block [
            some [
                set x skip (
                    keep all [
                        attempt [series? get x]
                        reduce [to set-word! x copy/deep get x]
                    ]
                )
            ]
        ]
    ]
    original: copy/deep clone: bind copy/deep block ctx

    also expressions: copy [] until [
        do/next clone 'clone
        first-expr: new-line/all take/part original any [find original clone length? original] off
        append/only expressions first-expr
        empty? clone
    ]
]

blk: [1 2 3]
probe expract [
    1 + 2 
    find/skip [a b c d] 'c 2 
    square-root 4 
    print "hello" 
    take/part [a b c] 2 
    1 + square-root square-root 4 
    append blk 10 
    20
]
probe blk
```

[14:08](#msg5a1d6df0e5ed52e26c9b062d)

```
text
[[1 + 2] [find/skip [a b c d] 'c 2] [square-root 4] [print "hello"] [take/part [a b c] 2] [1 + square-root square-root 4] [append blk 10] [20]]
```

toomasv

[14:09](#msg5a1d6e288b3a9e2c0c297fcf)@numberjay You can first do e.g. `probe i: info do`and then play further.

numberjay

[14:19](#msg5a1d705be5ed52e26c9b13ce)@toomasv yes, i have to play with `info` and write an `arity?` function as i showed, from there it would be (recursively) straightforward :-)

[14:21](#msg5a1d70ee540c78242d5b1450)@9214 looks promising, but:

```
>> expract [square-root 4 4]
== [[square-root] [4 4]]
>> expract [square-root square-root 4 4]
== [[square-root square-root] [4 4]]
```

and very strangely this works:

```
>> expract [square-root 4 5]
== [[square-root 4] [5]]
>> expract [square-root square-root 4 5]
== [[square-root square-root 4] [5]]
```

[14:33](#msg5a1d73b9ffa3e37919cd801c)@toomasv why does `info` omit the `/next` refinement of `do`?

```
>> info/refinements do
== #(
    expand: #()
    args: #(
        arg: [any-type!]
    )
)
```

9214

[14:34](#msg5a1d73dd540c78242d5b27ab)

```
text
expract: function [block /local x][
    ctx: context trim collect [
        parse block [
            some [
                set x skip (
                    keep all [
                        attempt [series? get x]
                        reduce [to set-word! x copy/deep get x]
                    ]
                )
            ]
        ]
    ]
    original: copy/deep clone: bind copy/deep block ctx
    lengths: copy [] 

    until [
        do/next clone 'clone
        append lengths length? take/part original any [find/last original clone length? original]
        empty? clone
    ]

    clone: copy/deep block
    collect [
        forall lengths [
            keep/only take/part clone first lengths
        ]
    ]
]
```

toomasv

[14:36](#msg5a1d7463232e79134de14240)@numberjay I noticed, will check it. May be connected somehow to `next` function.

numberjay

[14:39](#msg5a1d751ee5ed52e26c9b2f04)@toomasv thank you, an `arity?` function that takes into account refinements is all i need really

[14:41](#msg5a1d75a5232e79134de149f4)@9214 it can be a good solution if the context would take care of all types that can be 'side-effected', not just series:

```
>> m: #(a: 1 b: 2)
== #(
    a: 1
    b: 2
)
>> expract [put m 'c 3 select m 'c]
== [[put m 'c 3] [select m 'c]]
>> m
== #(
    a: 1
    b: 2
    c: 3
)
```

`m` got changed

9214

[14:42](#msg5a1d75e5cc1d527f6bc5cf01)anything else, except for `map!`?

numberjay

[14:45](#msg5a1d76a2e5ed52e26c9b3719)@9214 all that can change by side effect beside `series!`, i don't know if it's just `map!`  
maybe `object!` as well?

[14:47](#msg5a1d7706540c78242d5b38ff)but also:

```
>> expract [a: 10]
== [[a: 10]]
>> a
== 10
```

so `word!` can change as well

[14:48](#msg5a1d7735e5ed52e26c9b3acf)ah:

```
>> expract [print 10]
10
== [[print 10]]
```

it prints

9214

[14:49](#msg5a1d7790540c78242d5b3b49)yeah, so I'm unworthy and solution is Bad and Impure :)

numberjay

[14:50](#msg5a1d77b3232e79134de158b5)@9214 no, as it stands i can't  
the best bet is writing an `arity?` function, then i can build from there very easily  
it should work like this:

```
>> arity? 'do
== 1
>> arity? 'do/next
== 2
```

[14:52](#msg5a1d7827cc1d527f6bc5dde3)that should be much simpler i think, if you think you can write such `arity?` function, for me it is as good as a full solution, i can build from there very cleanly

x8x

[14:53](#msg5a1d786919147ac3231a0fbc)

```
rebol
arity?: func[f][
	result: [] w: 0 r: i: none
	result-add: func [r w][append result reduce [r w]]
	parse spec-of get f [
		any [
			word! (w: w + 1) |
			set i refinement! (
				i: to-word i
				either equal? i r [
						w: w + 1
					][
						result-add r w
						w: 0 r: i
					]
				) |
			skip
		]
		(all [r result-add r w])
	]
	result
]
```

```
arity? 'do
;   [none 1 expand 0 args 1 next 1]
```

9214

[14:55](#msg5a1d78d471ad3f87363db2fe)@numberjay `parse-func-spec` might help

numberjay

[15:02](#msg5a1d7a8971ad3f87363dbdb3)@x8x it may be perfect, as it stands there must be some subtle bug somewhere  
check this interaction in a fresh console

```
>> arity? '+
== []
>> arity? 'skip
== []
>> arity? 'do
== [none 1 expand 0 args 1 next 1]
>> arity? 'skip
== [none 1 expand 0 args 1 next 1]
>> arity? '+
== [none 1 expand 0 args 1 next 1]
```

toomasv

[15:03](#msg5a1d7ad8232e79134de16a20)@numberjay I found the mistake and updated \[info.red gist](https://gist.github.com/toomasv/eaac3829ac5e745f43121aa60b555d68)

numberjay

[15:05](#msg5a1d7b53df09362e67626f61)@9214 very useful if i need to write my own `arity?` function

[15:10](#msg5a1d7c6fffa3e37919cdb3f4)@toomasv it seems to work, now i'll see which one is best to use for my `arity?` function, if `info` or `parse-func-spec`

x8x

[15:10](#msg5a1d7c7551915d962afc7f11)should be fixed:

```
arity?: func[f][
	result: clear [] w: 0 r: i: none
	result-add: func [r w][append result reduce [r w]]
	parse spec-of get f [
		any [
			word! (w: w + 1) |
			set i refinement! (
				i: to-word i
				either equal? i r [
						w: w + 1
					][
						result-add r w
						w: 0 r: i
					]
				) |
			skip
		]
		(result-add r w)
	]
	result
]
```

```
arity? '+
;   [none 2]
  arity? 'do
;   [none 1 expand 0 args 1 next 1]
  arity? 'skip
;   [none 2]
```

numberjay

[15:19](#msg5a1d7e6be5ed52e26c9b6868)@x8x thank you very much, now i have 3 choices on which to build :-)  
i changed `func` to `function` because it leaked `i`, `w`, etc. in the global environment  
other than that, looks perfect for what i need

toomasv

[15:22](#msg5a1d7f4471ad3f87363ddb22)@numberjay Quickly hacked together `info/arity?` function. \[Try it](https://gist.github.com/toomasv/eaac3829ac5e745f43121aa60b555d68)

```
>> info/arity? find/part
== 3
>> info/arity? do/next
== 2
>> info/arity? do/next/args
== 3
>> info/arity? do
== 1
```

9214

[15:29](#msg5a1d80f187680e6230a67998)

```
text
arity?: function ['f /local entry][
    name: any [attempt [first f] f]
    spec: spec-of get :name

    table: append reduce [to refinement! name] parse spec [
        collect some [keep [word! | refinement!] | skip]
    ]

    table: collect [
        parse table [
            some [
                copy entry [refinement! any word!](
                    keep reduce [to word! first entry length? next entry]
                )
            ]
        ]
    ]

    either path? f [
        arity: 0
        forall f [arity: arity + select table first f]
    ][
        select table f
    ]
]
```

numberjay

[15:30](#msg5a1d80fc87680e6230a679c4)@toomasv yes :-) it will certainly do!

[15:31](#msg5a1d8140ba39a53f1af51c31)and @9214 solution as well :-)

[15:35](#msg5a1d82438b3a9e2c0c29fabd)so, now that i have the `arity?` function, if i want to apply it to the first item in this block:  
`[do/next [square-root 4 print "hello"]]`  
i can't just do:

```
>> w: first [do/next [square-root 4 print "hello"]]
== do/next
>> arity? w
*** Internal Error: reserved for future use (or not yet implemented)
*** Where: reflect
*** Stack: arity? spec-of  

>> info/arity? w
*** User Error: "Only function types accepted!"
*** Where: do
*** Stack: info cause-error
```

[15:37](#msg5a1d82bb87680e6230a685c8)maybe this:

```
>> reduce compose [info/arity? (w)]
== [2]
>> reduce compose [arity? (w)]
== [2]
```

toomasv

[15:37](#msg5a1d82c6e5ed52e26c9b86e6)On phone now, bu try ‘:w’

9214

[15:37](#msg5a1d82c7ffa3e37919cddb9c)that's the downside of using `lit-word!` in function spec

numberjay

[15:38](#msg5a1d82efdf09362e67629a5d)@toomasv `:w`! it works

toomasv

[15:38](#msg5a1d82fdba39a53f1af52613):smile:

9214

[15:39](#msg5a1d831ecc1d527f6bc62455)

```
text
arity?: function [f [word! path!] /local entry][
    name: any [attempt [first f] f]
    spec: spec-of get :name

    table: append reduce [to refinement! name] parse spec [
        collect some [keep [word! | refinement!] | skip]
    ]

    table: collect [
        parse table [
            some [
                copy entry [refinement! any word!](
                    keep reduce [to word! first entry length? next entry]
                )
            ]
        ]
    ]

    either path? f [
        arity: 0
        forall f [arity: arity + select table first f]
    ][
        select table f
    ]
]
```

[15:39](#msg5a1d832b232e79134de19acf)

```
text
>> arity? first [do/next [square-root 4 print "hello"]]
== 2
>> arity? 'parse/trace
== 3
```

[15:43](#msg5a1d8408ffa3e37919cde2f5)

```
text
>> blk
== [do/next [square-root 4 print "hello"]]
>> arity? blk/1
== 2
>> arity? blk/2
*** Script Error: arity? does not allow block! for its f argument
*** Where: arity?
*** Stack: arity?  

>> arity? blk/2/1
== 1
>> arity? blk/2/2
*** Script Error: arity? does not allow integer! for its f argument
*** Where: arity?
*** Stack: arity?  

>> arity? blk/2/3
== 1
```

numberjay

[15:43](#msg5a1d8439ba39a53f1af52f60)@9214 ok, i should be able to write my parser now :+1:

[15:48](#msg5a1d8538ba39a53f1af53530)by the way, can you give me a snippet of 'try/catch' use?  
maybe it will be handy instead of checking the type of each item

9214

[15:50](#msg5a1d85ce8b3a9e2c0c2a0f53)@numberjay what do you mean by `try/catch`?

toomasv

[15:50](#msg5a1d85d4e5ed52e26c9b9b97)Try ‘attempt’?

9214

[15:51](#msg5a1d85fc8b3a9e2c0c2a107f)`attempt` either behaves as `do` or returns `none` if some error happened during evaluation

toomasv

[15:51](#msg5a1d8606ffa3e37919cdf00c)@9214 :eyes:

9214

[15:51](#msg5a1d861787680e6230a69add)@toomasv what?

numberjay

[15:51](#msg5a1d861a540c78242d5b9a4a)@toomasv @9214 then `attempt` be it :-) thank you

toomasv

[15:52](#msg5a1d8659df09362e6762b256)You are welcome!

[15:54](#msg5a1d869a232e79134de1b1f9)@9214 :confetti\_ball:

[16:40](#msg5a1d919171ad3f87363e59f9)For uni-code-points:

```
>> unicode: func ['val][to-char to-integer debase/base skip to-string val 2 16]
== func ['val][to-char to-integer debase/base skip to-string val 2 16]
>> unicode U+2654
== #"♔"
```

x8x

[16:59](#msg5a1d95dc97cedeb0482c7c3b)@9214 nice and clean! :-)  
you could replace `name: any [attempt [first f] f]` with `name: first to path! f` and becareful you might have a refinement with the same name of the function, could add caching for `table` for added performance.

9214

[17:03](#msg5a1d96d987680e6230a70072)@x8x there's a lot of room for improvement, sure

numberjay

[17:23](#msg5a1d9b9bba39a53f1af5ca2f)my first attempt, `extract-form` extracts the first form:  
usage example :

```
>> m: #(a: 1 b: 2)
== #(
    a: 1
    b: 2
)
>> extract-form [put m 'c 3 select m 'c] 'rest
== [put m 'c 3]
>> rest
== [select m 'c]
>> m
== #(
    a: 1
    b: 2
)
```

code

```
extract-form: function [code [block!] rest [word!]] [
                        unless empty? code
                               [form: append/only copy []
                                                  w: first code
                                n: 0
                                attempt [n: arity? w]
                                either zero? n
                                       [either empty? code: next code
                                               [set rest []
                                                form]
                                               [either all [word? w: first code
                                                            op? get w]
                                                       [append append form
                                                                      w
                                                               extract-form next code
                                                                            rest]
                                                       [set rest code
                                                        form]]]
                                        [set rest next code
                                         repeat _ n [append form
                                                            extract-form get rest
                                                                         rest]]]]
```

[17:26](#msg5a1d9c4b71ad3f87363ea231)with more complex input (mix of functions and operators):

```
>> extract-form [square-root 30 + 40 print "hello"] 'rest
== [square-root 30 + 40]
>> rest
== [print "hello"]
>> extract-form [print 30 + square-root negate 40 do [1 + 2]] 'rest
== [print 30 + square-root negate 40]
>> rest
== [do [1 + 2]]
```

[17:26](#msg5a1d9c5e540c78242d5c2f49)now i can go to sleep :-)

9214

[17:54](#msg5a1da2c2ba39a53f1af5f2c8):neckbeard:

```
arity?: function [
    f [word! path!]
    /local match refinement
][
    parse spec: copy/deep spec-of get first to path! f [
        start:
        any [remove [not [word! | refinement!] skip | typeset!] | skip]
        :start
        (table: make map! length? spec)
        copy match any word! (extend table reduce [<func> length? match])
        any [
            copy match [refinement! any word!](
                unless /local = first match [
                    extend table reduce [to word! first match length? next match]
                ]
            )
        ]
    ]

    also either path? f [
        arity: 0
        add select table <func> foreach refinement next f [
            arity: arity + select table refinement
        ]
    ][
        select table <func>
    ](
        clear spec clear table
    )
]
```

numberjay

[17:55](#msg5a1da2fb232e79134de26d72)@9214 what's different in this version?

9214

[17:55](#msg5a1da3198b3a9e2c0c2ac14f)

```
text
>> fancy? 'arity?
== true
```

[17:56](#msg5a1da34c87680e6230a75294)@numberjay now it doesn't count `/local` and maybe is more effective performance-wise

numberjay

[17:56](#msg5a1da36acc1d527f6bc6f69b):+1:

9214

[18:03](#msg5a1da4d671ad3f87363edaa8)yeah, this version is faster but eats more memory

```
Count: 10000
Time         | Time (Per)   | Memory      | Code
0:00:00.387  | 0:00:00      | 25325568    | [arity? 'parse/trace]
0:00:00.524  | 0:00:00      | 22405120    | [arity?' 'parse/trace]
```

[18:04](#msg5a1da53dffa3e37919cecd15)well, it depends actually

```
Count: 10000
Time         | Time (Per)   | Memory      | Code
0:00:00.373  | 0:00:00      | 25325568    | [arity? 'parse]
0:00:00.53   | 0:00:00      | 27017216    | [arity?' 'parse]
```

```
Count: 10000
Time         | Time (Per)   | Memory      | Code
0:00:00.207  | 0:00:00      | 11407360    | [arity? 'arity?]
0:00:00.451  | 0:00:00      | 24588288    | [arity?' 'arity?]
```

[18:31](#msg5a1dab83ba39a53f1af62de3)@numberjay what are you trying to achieve, specifically?

greggirwin

[18:39](#msg5a1dad79e5ed52e26c9ca433)Wow! Can't keep up with it all. Here's my old arity func: https://gist.github.com/greggirwin/53ce7d1228422076e142fa5a061e7649

[18:42](#msg5a1dae28ba39a53f1af63e2b)Not directly applicable, but close, for @numberjay's plan (also interested, here, in what the goal is). That is, doesn't handle paths directly, so needs a prep func to aid it in that case. Also doesn't have any special `/local` handling, since you give it refinements to count.

[18:44](#msg5a1dae7d87680e6230a7985b)And, technically, you \*can* use `/local` as a refinement in a call.

9214

[18:44](#msg5a1dae9effa3e37919cf0688)I know, but never saw a valid use-case for that

[18:44](#msg5a1daeabffa3e37919cf06ad)should be trivial to fix if really needed

gltewalt

[19:09](#msg5a1db46387680e6230a7ba12)Isn't that kind of thing already written somewhere in parser or lexer?

greggirwin

[19:10](#msg5a1db4a4e5ed52e26c9ccfa4)It's not a bug, technically.

[19:12](#msg5a1db5328b3a9e2c0c2b2ad3)`/local` has a very strong convention surrounding it, so this behavior goes unnoticed, kind of like how the func spec dialect doesn't look like a dialect and how binding emulates scope.

9214

[19:13](#msg5a1db54871ad3f87363f43e2)@gltewalt

```
>> find mold system/lexer "arity"
== none
```

gltewalt

[19:17](#msg5a1db63f71ad3f87363f48e1)utils/preprocessor.r

9214

[19:21](#msg5a1db73d232e79134de2ec3e)okay, but you still need to port that from Rebol

[19:22](#msg5a1db7598b3a9e2c0c2b3741)not to mention copyrights ;)

gltewalt

[19:22](#msg5a1db76be5ed52e26c9cddc3)I'm not discounting your work, I was just thinking that Nenad had to have addressed it somewhere

9214

[19:23](#msg5a1db79ee5ed52e26c9cde9b)even if so, it could be not applicable to @numberjay's case

## Wednesday 29th November, 2017

greggirwin

[02:53](#msg5a1e211a71ad3f8736418066)@toomasv, in your `range` gist, is there a reason you use `unset 'stp+?` instead of `stp?: none`?

There's a lot going on in there. Will need to revisit when we work more on `range` ideas.

I did manage to hang it with `range/step 0 0 0`

[02:56](#msg5a1e21daffa3e37919d18150)`Lazy-range` seems maybe mis-named, since it just keeps going if you don't use a limiting refinement.

Thanks for including all the examples. Those are \*very* helpful to me.

numberjay

[03:40](#msg5a1e2c4571ad3f873641b260)@greggirwin @9214 @toomasv @x8x thank you all for your help  
an `arity?` function should be very useful as part of Red indeed  
as for me... today is gonna be Visual Basic day, which makes me sad beyond belief... :-)  
so i have to wait until tomorrow or later in the day to post code and examples and show you my use case and motivation, which is basically trying to use a single conditional form to rule them all instead of having to choose between `if`, `either` and `case`... for example i may start coding thinking that i need an `either` only to realize that i don't need an alternative really and so i need to change it to an `if` (otherwise i would get an error) or maybe realizing i need more conditions and so having to change it to a `case` which has also a different syntax altogether... this is slowish and, more important, distracting... having one conditional form with one fat-free syntax (no brackets) that can handle any number of conditions is how i do in my 'facelifted' Clojure, inspired by the Arc language `if` form

greggirwin

[03:42](#msg5a1e2c9bffa3e37919d1ade9)Sounds fun.

numberjay

[03:43](#msg5a1e2cd43a80a84b5b93b4fc)except Visual Basic is no fun at all :-)

greggirwin

[03:44](#msg5a1e2d0bba39a53f1af8da9e)I enjoyed my time with it, but it would be hard to go back to now.

numberjay

[03:45](#msg5a1e2d718b3a9e2c0c2d913a)i believe you 100% :-)

toomasv

[04:53](#msg5a1e3d4e8b3a9e2c0c2dd001)@greggirwin Thanks for reviewing! All good finds. I got confused with `stp+?` and this weird form with `unset` remained in as it worked. Corrected now in \[gist](https://gist.github.com/toomasv/0e3244375afbedce89b3719c8be7eac0). Ranges with `/step` 0 return `none` now. As about name, do you have a better one in mind? As `lazy-range` can just keep generating values, I thought it is still range, length determined by loop counting or stop values programmatically.

greggirwin

[05:14](#msg5a1e42448b3a9e2c0c2de656)Seems more like a generator than a range to me. As you say it "can just keep generating values".

toomasv

[07:22](#msg5a1e6045232e79134de63a95)Yes, whether `range` or not, as it is lazy, it is necessarily a generator. So, `lazy` in name refers to it as a generator. And it generates values in a range bounded at least in one end.

greggirwin

[07:38](#msg5a1e63dc8b3a9e2c0c2e8ba4)I can buy that.

numberjay

[09:50](#msg5a1e82ebcc1d527f6bcb718b)here's my use case and implementation (i'm using `arity?` by @9214) of a 'universal' conditional form which i'm calling `cond` (to avoid collision with Red words, although i would have called simply `if`)  
it can deal with any number of clauses/branches and it fosters a functional style as sequences of instructions (which are always side-effecting) need to be explicitly wrapped in a `do [...]`  
first a comparison (standard Red vs `cond` vs Lisp)

```
if a [b]
cond [a b]
(if a b)

either a [b] [c]
cond [a b c]
(if a b c)

case [a [b] c [d] ... 'else [e]]
cond [a b c d ... e]
(if a b c d ... e)
```

and here's the implementation (using `extract-form` which uses `arity?`)

```
cond: function [args [block!]] [
                unless empty? args
                       [val: do/next args 'args
                        either empty? args
                               [val]
                               [either val
                                       [do/next args 'args]
                                       [extract-form args 'args
                                        cond args]]]]

extract-form: function [code [block!] rest [word!]] [
                        unless empty? code
                               [form: append/only copy []
                                                  w: first code
                                n: 0
                                attempt [n: any [arity? w 0]]
                                either zero? n
                                       [either empty? code: next code
                                               [set rest []
                                                form]
                                               [either all [word? w: first code
                                                            op? get w]
                                                       [append append/only form
                                                                      w
                                                               extract-form next code
                                                                            rest]
                                                       [set rest code
                                                        form]]]
                                        [set rest next code
                                         repeat _ n [append form
                                                            extract-form get rest
                                                                         rest]]]]
```

9214

[10:27](#msg5a1e8b74ffa3e37919d3736e)@numberjay I think this can be achieved with code transformations

[10:27](#msg5a1e8b9971ad3f873643822f)* length of argument block is 2 - `if`  
\* 3 - `either`  
\* 4 ... - `case`

[10:43](#msg5a1e8f3971ad3f8736439481)and, again, you're using recursive definition, but we don't have TCO yet

toomasv

[10:53](#msg5a1e9190ffa3e37919d391ff)@greggirwin @9214 Added `binary!` values to \[range](https://gist.github.com/toomasv/0e3244375afbedce89b3719c8be7eac0) with `/enbase` refinement:

```
>> range #{F9} #{FF}
== [#{000000F9} #{000000FA} #{000000FB} #{000000FC} #{000000FD} #{000000FE} #{000000FF}]
>> range 2#{00000001} 2#{00000011}
== [#{00000001} #{00000002} #{00000003}]
>> range 64#{AQ==} 64#{BQ==}
== [#{00000001} #{00000002} #{00000003} #{00000004} #{00000005}]
>> range/enbase 64#{AQ==} 64#{BQ==} 2
== ["00000000000000000000000000000001" "00000000000000000000000000000010" "00000000000000000000000000000011" "00000000000000000000000000000100"...
>> range/enbase 64#{AQ==} 64#{BQ==} 64
== ["AAAAAQ==" "AAAAAg==" "AAAAAw==" "AAAABA==" "AAAABQ=="]
>> range/limit/enbase 64#{AQ==} 3 64
== ["AAAAAQ==" "AAAAAg==" "AAAAAw=="]
>> range/limit 64#{AQ==} 3
== [#{00000001} #{00000002} #{00000003}]
>> range/limit/step 64#{AQ==} 5 2
== [#{00000001} #{00000003} #{00000005} #{00000007} #{00000009}]
```

9214

[11:00](#msg5a1e933cba39a53f1afac46e)@toomasv :+1:

KimRoach143\_twitter

[11:08](#msg5a1e952387680e6230ac1d19)@toomasv good afternoon, any profiler script example confuse how to use it in my script

9214

[11:14](#msg5a1e96ae71ad3f873643baed)@KimRoach143\_twitter https://gist.github.com/greggirwin/908d44dc069ed84cf69f053e1308390d

examples start at 75th line

toomasv

[11:15](#msg5a1e96c2ffa3e37919d3aedd)Also:

```
>> range/limit/enbase/step "F9" 5 16 3
== ["000000F9" "000000FC" "000000FF" "00000102" "00000105"]
>> range/enbase "AQ==" "BQ==" 64
== ["AAAAAQ==" "AAAAAg==" "AAAAAw==" "AAAABA==" "AAAABQ=="]
>> range/enbase "00000001" "00000011" 2
== ["00000000000000000000000000000001" "00000000000000000000000000000010" "00000000000000000000000000000011"]
```

KimRoach143\_twitter

[11:17](#msg5a1e9730ffa3e37919d3b110)thank you @9214 , @toomasv :thumbsup:

[11:21](#msg5a1e983f3a80a84b5b95bbc6)any oracle bindings??

numberjay

[11:52](#msg5a1e9f8f71ad3f873643eef2)@9214 lack of TCO is a non issue in this use case, no one is ever gonna write a `cond` with more than a dozen clauses/branches anyway (you would need at least a couple hundred clauses/branches to blow the stack... and eventually Red will have TCO)  
and yes, it's conceptually a code transformation (a macro in Lisp), but it's not just a matter of dispatching on the length of the argument block (that is true only in my minimal comparison), in the general case each form will consist of more words in the block and no brackets to distinguish the forms, stuff like:

```
cond [even? length? b
      print "yes"
      empty? next b
      print "no"
      skip b 3]
```

greggirwin

[15:19](#msg5a1ed011ba39a53f1afc3d17)@numberjay, could you provide some examples, with their expected results, for your `cond` func?

gltewalt

[15:23](#msg5a1ed0e9ba39a53f1afc425a)Do we have to wait for `port` to play sound, or is there another way?

greggirwin

[15:23](#msg5a1ed1078b3a9e2c0c30ef8f)No internal way. Need to shell to OS or use an external lib.

[15:56](#msg5a1ed8a771ad3f87364562f4)@numberjay, nevermind, I think I understand it now, with your goal of not evaluating the case results.

numberjay

[16:41](#msg5a1ee355232e79134de96642)@greggirwin yes, only the 'true' branch needs to be evaluated (there may be no true branch)  
the following should clarify:

```
all [none = cond []
     true = cond [1 < 2]
     false = cond [1 < 1]
     3 = cond [1 < 2 1 + 2]
     none = cond [1 < 1 1 + 2]
     6 = cond [1 < 1 1 + 2 2 * 3]
     5 = cond [1 < 1 1 + 2 2 * 3 2 + 3]
     none = cond [1 < 1 1 + 2 2 > 3 2 + 3]
     7 = cond [1 < 1 1 + 2 2 > 3 2 + 3 3 + 4]
     "k" = cond [1 < 1 print "don't print me" next "ok"]]
```

9214

[17:50](#msg5a1ef35e71ad3f8736460ffa)that would be easier to implement if we could somehow create custom environment and evalute block in it

[17:50](#msg5a1ef37787680e6230ae6f31)and suppress output with side-effects

greggirwin

[18:29](#msg5a1efca18b3a9e2c0c320e8f)Well, the way we prevent evaluation is to use blocks, so this is just working around that to get the syntax he wants.

## Thursday 30th November, 2017

meijeru

[14:33](#msg5a2016a271ad3f87364bfa95)I would agree that putting the alternatives in blocks, no matter how many there are, is the more Reddish way to do it, and also clearer (!).

9214

[14:41](#msg5a201897ffa3e37919dbf19d)and that also allows to manipulate condition blocks (and clauses) more freely

greggirwin

[19:13](#msg5a20584c71ad3f87364d9acc)@numberjay is building his own dialect, so that's up to him.

rebolek

[20:45](#msg5a206de93a80a84b5b9fdfc3)I'm not sure why, but I just wrote a dialect that does this:

```
>> block: []
== []
>> lomeno [block/append/(1)/append/(3)/append/(2)/sort]
== [1 2 3]
```

9214

[20:50](#msg5a206f14ffa3e37919de1be6):suspect:

greggirwin

[20:51](#msg5a206f503a80a84b5b9fe71b)Because we can? :^) I have a couple old dialects something like that.

```
>>     b: [1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20]
== [1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20]
>>     walk b [reverse 4 skip 5 change 3  "ABC"  remove 2 reverse 3 insert [x y z]]
== [4 3 2 1 5 6 7 8 9 "ABC" 17 16 15 x y z 18 19 20]
```

```
with-series s: [] [
        append [1 2 3]
        insert tail 'xx
        remove skip -2
        head
    ]
    ; vs
    s: head remove skip insert tail append [] [1 2 3] 'xx -2
```

9214

[20:51](#msg5a206f50232e79134df1eeeb)that's interesting in fact, reminds me of ML pipes

rebolek

[21:46](#msg5a207c4d71ad3f87364e7611)@greggirwin Yes, we can! But should we?

[21:47](#msg5a207c5a3ae2aa6b3f6efaf4)Probably yes, it hurts no one.

greggirwin

[23:18](#msg5a2091e2232e79134df2c2f3)We know Red, and others know their langs, but experimenting with, and thinking about how to express ourselves, and solutions to problems, is one of the best things about Red. As @CodingFiend\_twitter noted, and as we all implicitly know, imperative programming, then OO became mainstream, while Lisp and FP have not.

gltewalt

[23:21](#msg5a2092653a80a84b5ba0ab7d)I like that `with-`

## Friday 1st December, 2017

numberjay

[03:17](#msg5a20c9b83c69dd49170c63bb)@greggirwin @9214 @meijeru it's hard to judge the merits of an idea in 'abstract'  
better see it in 'action'  
as a toy example, here's a function to calculate the power of a base raised to an exponent

```
power: function [base [integer!] exp [integer!]] [
                 either zero? exp
                        [1]
                        [base * power base
                                      exp - 1]]
```

it looks ok  
what if we used `cond` instead?

```
power: function [base [integer!] exp [integer!]] [
                 cond [zero? exp
                       1
                       base * power base
                                    exp - 1]]
```

it looks just as ok  
which is 'better'?  
well, `cond` being shorter and using one less set of brackets is \*technically* better... but that is a lousy metrics of comparing  
they're equivalent, even in looks  
so why bother with `cond`?  
because in real programming we 'evolve' our code  
to stick with this example, we'll get better performance by checking some conditions  
building on `either`

```
power: function [base [integer!] exp [integer!]] [
                 either zero? exp
                        [1]
                        [either zero? base
                                [0]
                                [either exp = 2
                                        [base * base]
                                        [either even? exp
                                                [power power base
                                                             exp / 2
                                                       2]
                                                [base * power base
                                                              exp - 1]]]]]
```

the code running all the way down to the right looks 'funny'  
it's not a matter of indenting style, no style can 'un-nest' nested expressions  
as a better choice, we go back and use a `case` which is meant \*exactly* for this scenario

```
power: function [base [integer!] exp [integer!]] [
                 case [zero? exp
                       [1]
                       zero? base
                       [0]
                       exp = 2
                       [base * base]
                       even? exp
                       [power power base
                                    exp / 2
                              2]
                       'else
                       [base * power base
                                     exp - 1]]]
```

now the code is tidy and we even save two sets of brackets  
but... \*\*we had to go back and change/rewrite our code\*\*!  
not just rename `either` by `case`, but switch to a new syntax  
for a while we had to forget our goal (calculating a power) and do some code juggling instead  
that distraction slows us down, we switch context... we go from thinking about our solution to thinking about our code as the languge gets in the way  
building on `cond` instead

```
power: function [base [integer!] exp [integer!]] [
                 cond [zero? exp
                       1
                       zero? base
                       0
                       exp = 2
                       base * base
                       even? exp
                       power power base
                                   exp / 2
                             2
                       base * power base
                                    exp - 1]]
```

besides saving seven sets of brackets... we see that we just had to keep adding our clauses as we thought of our solution (compare with our first `cond` example)  
no renaming  
no going back  
no rewriting  
no switching away from thinking about our solution  
no code juggling at all  
the language is 'transparent', only our solution is on our mind from start to finish  
that's how i like programming: thinking about the solution on my mind, not about the language i'm using  
to sum up... `cond` is not just a 'new' or 'different' syntax to please my aesthetics, that would be pointless  
i just shared what i find sensible and useful when i program and not expecting anyone to change his ways  
to each one his own :-)

greggirwin

[04:40](#msg5a20dd583c69dd49170cb109)@numberjay,

&gt; `cond` being shorter and using one less set of brackets is technically better

How is it technically better (even if not a good metric)? I will agree that gratuitous syntax and line noise are bad, but consider brackets as punctuation (which they are). Less punctuation in writing doesn't make it better. In any case, a more standard Red version of `power` would look like this.

```
power: function [base [integer!] exp  [integer!]][
	case [
		zero? exp	[1]
		zero? base   [0]
		exp = 2      [base * base]
		even? exp	[power power base exp / 2 2]
		'else        [base * power base exp - 1]
	]
]
```

Something else to consider. Free ranging evaluation, as in Red, is a blessing and a curse. We need to use it wisely. By using blocks for our expressions, we can reign in the evaluation. Without blocks, if you edit an expression and unintentionally change the evaluation range, it will affect the rest of the `cond` block, yes?

&gt; we had to go back and change/rewrite our code!

Indeed. You can absolutely use `case` for every branching operation in your code and avoid that problem. Then it's very close to your `cond` goal, yes? But there is a cost, you may agree. Words have meaning and impart intent. `If` tells the reader that 1 condition is being checked. `Either` says there is 1 condition and 2 possible outcomes. `Switch` and `case` are natural extensions into the "likely more than 2 conditions" realm. When I see them it means I'm matching possibly many conditions to one matching branch for each.

It does mean that when our logic or requirements change that we nee to think about how best to express the solution anew. That's on me, the author, to provide clues to the intent and structure, rather than making the reader decipher everything.

The push and pull of language design is to provide a holistic language that has conceptual integrity, isn't onerous to use correctly, and let's us express things so readers can understand them.

mikeyaunish

[05:40](#msg5a20eb3a87680e6230b8a002)Is there a way to get by this sticky error?

[05:43](#msg5a20ebe971ad3f8736505cfe)Here is the code `view [ a: field b: field react [ bb/text: a/text ] ]` with a syntax error in it - the reference to "bb". I of course get an error but if I try to retype it to correct the error like this 'view \[ a: field b: field react \[ b/text: a/text ] ]' I see the same error message "\*\** Script Error: bb has no value"

numberjay

[05:44](#msg5a20ec353c69dd49170cec35)@greggirwin very good points, i actually agree  
just i tackle those from a slightly different view  
i said \*technically* because \*\*everything else staying equal\** i'll take shorter code with less parens/brackets  
the first `either` and `cond` examples look virtually identical, right?  
and of course your standard formatting of `case` would identically apply to `cond` (even to the point of being able to use an `'else` in a `cond` if you like, the syntax being \*permissive* rather than \*restrictive\*)  
about being careful when editing because it could inadvertently change the range, again i agree  
but isn't that true of Red syntax in general?  
as you say it's its strength and curse  
about the last point of clearly expressing your intent, i totally agree  
now, what Red calls `if` other languages call `when`  
`either` in Red is `if` in most other languages  
Red's `case` is `cond` in Lisp  
just by a name, it's not that clearcut what our intention would be, we need to stick with a convention, then let's stick with Red's use of those words  
so how do we use a unifying flexible syntax (like `cond`) \*and* communicate our intentions to the reader?  
there's actually a very obvious solution that for unobvious reasons (to me) is practically never used, maybe even frowned upon  
in natural languages we have \*\*synonyms\** with largely overlapping meanings and no one seems worried because they're actually a \*\*good\** thing  
so imagine that you had just \*one* syntax exactly like `cond`and that `if`, `either` and `case` were all synonyms with `cond`, all using exactly the same one syntax  
problem solved  
you just have to rename `either` to `if` or to `case` 'after the fact', to communicate your intention explicitly, depending whether you ended up with none, one or more alternatives  
more importantly, it's something that you would \*\*not\** have to worry about \*during* the coding process, and \*that* is very valuable (no context switch) especially looking beyond my toy example and delving into more demanding code

[06:29](#msg5a20f6d0232e79134df46139)by the way, before someone here thinks that i'm proposing for Red to make `either`, `if` and `case` synonyms, \*\*i'm not\** :-)  
as usual, just expressing language design ideas

gltewalt

[07:28](#msg5a210494cc1d527f6bd8e862)@mikeyaunish Looks like a bug

[07:29](#msg5a2104c63c69dd49170d5f39)Even typing `view [button]` afterward throws the same error

greggirwin

[07:38](#msg5a2106f63a80a84b5ba29495)@mikeyaunish, please file a ticket for it. I think `clear-reactions` should handle it, and it does seem to clear relations, but the connection to `bb` stays around somewhere, because doing the `view` call again still errors, and the reaction reappears in `dump-reactions`.

endo64

[22:19](#msg5a21d5653ae2aa6b3f75f196)@greggirwin Where can I find your `walk` function?

greggirwin

[23:19](#msg5a21e39971ad3f873655c11d)I haven't ported it to Red or put it out anywhere @endo64. I don't think it's on rebol.org either.

From my notes, it looked like you may have helped with it at one point. R2 version:

```
walk: func [
        series [series!]
        cmds [any-block!]
        /local result cmd
    ][
        rules: [
            any [
                  ['skip    set val integer!]  (series: skip series val)
                | ['insert  set val any-type!] (series: insert series val)
                | ['remove  set val integer!]  (series: remove/part series val)
                | ['reverse set val integer!]  (series: skip reverse/part series val val)
                | [set cmd ['copy | 'take] set val integer!] (
                    append/only result do reduce [pick [copy/part take/part] cmd = 'copy series val]
                    series: skip series val
                )
                | [set cmd paren! (do cmd)]
            ]
        ]
        result: copy []
        parse cmds rules
        either empty? result [head series] [reduce [head series result]]
    ]
    ;walk [1 2 3 4] [take 1 (print "ok") copy 1]
```

gltewalt

[23:51](#msg5a21eaeb3a80a84b5ba78357)I'm experiencing a weird bug related to sleep mode on Win7 and `camera`. I was wondering if some folks could look in red/gui-branch and maybe be able to reproduce it?

[23:51](#msg5a21eb0d3a80a84b5ba783c0)@greggirwin Is it in your AltMe public stuff?

[23:52](#msg5a21eb39cc1d527f6bddcb2a)I checked AltMe out briefly when I first started and played your little text game

## Saturday 2nd December, 2017

greggirwin

[04:03](#msg5a22262bcc1d527f6bdeae24)I have a \*lot* of things that were either on an altme world, or an IOS world, or rebol.org, or private out of laziness. They seem to percolate out as needed.

Franktic2

[08:00](#msg5a225db3540c78242d749ee3)My first post so apologies if this has been answered before. I am trying to display an ampersand @ in a view layout without any luck.

[08:01](#msg5a225dcc3ae2aa6b3f78163c)The code I am using is:

[08:01](#msg5a225df5540c78242d749fd5)'''Red \[needs 'view]  
print "To &amp; Do"  
view \[text H1 "To &amp; Do"]

[08:02](#msg5a225e0687680e6230bfbdbd)The print works the view does not.

ne1uno

[08:54](#msg5a226a613a80a84b5ba961ee)Franktic2&gt; double ^ or &amp; should show them. &amp;&amp;, not sure why &amp; but ^ is an escape

toomasv

[09:09](#msg5a226db371ad3f873657bb36)"^&amp;" seems not to do it, but "&amp;&amp;" works in view.

Franktic2

[09:19](#msg5a22703bc65707ba2b0163de)Brilliant! and thanks.

jesperp

[10:30](#msg5a2280ad3a80a84b5ba9b572)

```
>> f: %file
== %file
>> view [text append f "was saved"]
*** Script Error: VID - invalid syntax at: [append f "was saved"]
*** Where: do
*** Stack: view layout cause-error
```

[10:30](#msg5a2280bbc65707ba2b01aaeb)not sure how I can do this?

toomasv

[11:03](#msg5a228891cc1d527f6be01a6e)@jesperp Needs `compose` to be used:

```
write %tmp.data "My data"
f: %tmp view compose [text (read append f ".data")]
```

9214

[11:43](#msg5a2291f2540c78242d75642d)@Franktic2 `&` and `^` are special cases on Windows, see https://github.com/red/red/issues/2610

endo64

[12:43](#msg5a22a0093ae2aa6b3f791730)@Franktic2 You can ask all your questions in /welcome or /help rooms don't hesitate to ask.

greggirwin

[17:31](#msg5a22e37471ad3f873659ac41)@Franktic2 @toomasv @ne1uno, the native widgets cause that behavior. It's used to underline hot key chars.

[17:32](#msg5a22e3993ae2aa6b3f7a3cbe)At least on Windows. I don't know what other OSs do. May be worth a note somewhere once we get reports from MacOS users.

[17:33](#msg5a22e3ea87680e6230c1f1c7)Ah, I see @9214 already tracked it down.

[17:34](#msg5a22e42fc65707ba2b035173)@matrixbot, there's no binary for Linux+GTK at this time. So far the GTK work has been done largely by a few community members, and isn't a priority for Team Red yet.

## Sunday 3th December, 2017

PeterWAWood

[05:50](#msg5a2390a6ffa3e37919ec717e)bdheeman: You are very welcome to the Red Community. Please open your own account to continue the conversation.

9214

[13:34](#msg5a23fd73cc1d527f6be5d1f3)and it's not the place for OS flamewars either

## Monday 4th December, 2017

greggirwin

[19:31](#msg5a25a2a93ae2aa6b3f86f61c)We have a number of new people here lately. Be sure to check out https://gitter.im/red/help and https://gitter.im/red/red/welcome as well. Welcome all!

## Tuesday 5th December, 2017

Arie-vw

[09:31](#msg5a26677fc65707ba2b1385bb)InfoQ calls for articles https://goo.gl/fZY37f Maybe one of the real authorities here could write an article about Red for InfoQ. It would generate a lot of publicity. I always wonder why other languages like Rust and Julia gained attention so easily, while Read doesnt (so much).

9214

[10:28](#msg5a2674c73a80a84b5bbbd38c)@Arie-vw hype train usually starts to move when language is close to `1.0`

KimRoach143\_twitter

[10:36](#msg5a2676ac3a80a84b5bbbde0e)looks like 0.6.4 will launch anytime 😉

9214

[10:37](#msg5a2676ddffa3e37919faa2e8)I haven't seen @dockimbel in years :sun\_with\_face:, this certainly means that work is going intensively

KimRoach143\_twitter

[10:40](#msg5a267797c65707ba2b13dc23)@dockimbel is preparing gifts 🎁 its almost Christmas 🎄

dockimbel

[10:41](#msg5a2677bda2be46682861d1d7)@9214 Been very busy offline last weeks, back now. ;-)

KimRoach143\_twitter

[10:41](#msg5a2677dec65707ba2b13dda8)holy cow 🐮 Santa 🎅 is here.

dockimbel

[10:42](#msg5a26782d232e79134d0e5103)@KimRoach143\_twitter Indeed. Prepare for a big surprise. ;-)

9214

[10:43](#msg5a26785ec65707ba2b13e1e0)https://www.youtube.com/watch?v=YmxXqMHfzl8

[10:43](#msg5a26786fa2be46682861d54b):flushed:

dockimbel

[10:44](#msg5a2678aaa2be46682861d6df) @9214 Hopefully, it should be way more pleasant than that. :laughing:

KimRoach143\_twitter

[10:45](#msg5a2678d7ba39a53f1a20eb77)@9214 not sure 🤔 may be not for me

[10:50](#msg5a2679f2232e79134d0e5a3a)why my gui freezes macOS even small example :confused: 😐

dockimbel

[10:50](#msg5a267a0a3a80a84b5bbbeebe)@KimRoach143\_twitter Which OS version?

KimRoach143\_twitter

[10:51](#msg5a267a25c65707ba2b13eb14)10.13.1

[10:55](#msg5a267b29c65707ba2b13f007)@dockimbel Here, Case : I open any example leave open or minimised for sometime flip down screen come back after sometime open it and there it is frozen program not every time.

dockimbel

[10:58](#msg5a267bedffa3e37919fabd25)@qtxie ^--- Can you reproduce it?

KimRoach143\_twitter

[11:06](#msg5a267db9ffa3e37919fac7d9)@dockimbel I can reproduce it and send images If that helps. ??

[11:07](#msg5a267de1c65707ba2b13fd41)any oracle bindings?

dockimbel

[11:08](#msg5a267e36ffa3e37919facaab)@KimRoach143\_twitter Thanks, but no need for now.

greggirwin

[14:29](#msg5a26ad633ae2aa6b3f8c3df9)@Arie-vw, I'll see if it's something I could help with, on InfoQ. Thanks for the link!

gltewalt

[14:31](#msg5a26adcdba39a53f1a221fcc)@KimRoach143\_twitter Anything like the wake from sleep part of issue #3130 ?

KimRoach143\_twitter

[15:08](#msg5a26b67ecc1d527f6bf3ace1)@gltewalt you got it. I am not sure which code gave me the issue but something similar happened.

BuilderGuy1

[17:54](#msg5a26dd54cc1d527f6bf4b136)@KimRoach143\_twitter Make a fresh account and try Red from there. I'm using 10.13.1 with no problems.

akavel

[22:03](#msg5a2717c3540c78242d8b4a28)I tried a recent nightly (red-05dec17-950c120.exe) and `#include` doesn't seem to work, or works differently than in red-063.exe; is that expected?

greggirwin

[22:53](#msg5a27235ea2be46682865d856)Can you provide an example? Really hard to tell from just "doesn't seem to work."

akavel

[23:20](#msg5a2729a8232e79134d128955)hm; I thought I narrowed it down to #include, but now I think it's not it. Running my VID script with `red-05dec17-... script.red` just closes the window with no message; running it with `red-05dec17-... --cli script.red` prints:

```
*** Runtime Error 1: access violation
*** at: 00433DD2h
```

[23:21](#msg5a2729f1cc1d527f6bf67480)Not sure how can I debug this further.

gltewalt

[23:50](#msg5a2730ac540c78242d8bcc29)Probably print statements - and hope it prints some progress steps before the access violation

## Wednesday 6th December, 2017

gltewalt

[00:01](#msg5a273358ba39a53f1a254041)Or make a gist and have others who may be on different versions run it

greggirwin

[01:42](#msg5a274aee540c78242d8c3da0)@akavel, again, really hard to help if we don't have \*any* idea what you're doing. Debug by eliminating code in this case, or logging to a file, since you likely won't see output in the console before the app dies.

toomasv

[20:34](#msg5a2854453ae2aa6b3f9551ac)What are your opinions about incrementation/decrementation funcs:

```
inc: function ['i][
	c: context? :i
	switch type?/word :c [
		function! [set :i 1 + get :i]
		object! [c/:i: c/:i + 1]
	]
]
dec: function ['i][
	c: context? i
	switch type?/word :c [
		function! [set :i -1 + get :i]
		object! [c/:i: c/:i - 1]
	]
]
increment: :inc
decrement: :dec
>> i: j: 0
== 0
>> inc i
== 1
>> i
== 1
>> loop 3 [decrement j]
== -3
>> j
== -3
>> f: func [/local i][i: 0 loop 5 [probe inc i]]
== func [/local i][i: 0 loop 5 [probe inc i]]
>> f
1
2
3
4
5
== 5
>> i
== 1
```

gltewalt

[20:51](#msg5a28583ac65707ba2b1e32a1)They're useful. If you handle strings somehow, and a range of 33 to 126 you can use them with loops for brute force password testing. Maybe `inc` and `dec` could default to the ascii range and add a refinement that will `inc` or `dec` through all printable characters?

[20:56](#msg5a28599587680e6230dd09b5)And if you can further control the range, you can fine tune to different specs, like testing for only letters and numbers.

greggirwin

[20:58](#msg5a2859f53ae2aa6b3f9573e2)Stepping strings should be a separate func IMO. I have an old `step` func for that. On `incr/decr`, here's what I've been playing with, idea wise:

```
incr: function [
	"Increments a value or series index"
	value [scalar! series! any-word! any-path!] "If value is a word, it will refer to the incremented value"
	/by "Change by this amount"
		amount [scalar!]
][
	amount: any [amount 1]
	
	if integer? value [return add value amount]			;-- This speeds up our most common case by 4.5x
														;	though we are still 5x slower than just adding 
														;	1 to an int directly and doing nothing else.

	; All this just to be smart about incrementing percents.
	; The question is whether we want to do this, so the default 'incr
	; call seems arguably nicer. But if we don't do this it is at 
	; least easy to explain.
	if all [
		integer? amount
		1 = absolute amount
		any [percent? value  percent? attempt [get value]]
	][amount: to percent! (1% * sign? amount)]			;-- % * int == float, so we cast.
		
	case [
		scalar? value [add value amount]
		any [
			any-word? value
			any-path? value								;!! Check any-path before series.
		][
			op: either series? get value [:skip][:add]
			set value op get value amount
			:value                                      ;-- Return the word for chaining calls.
		]
		series? value [skip value amount]
	]
]
decr: function [
	"Decrements a value or series index"
	value [scalar! series! any-word! any-path!] "If value is a word, it will refer to the decremented value"
	/by "Change by this amount"
		amount [scalar!]
][
	incr/by value negate any [amount 1]
]
```

```
w: 1
incr w
w
incr 'w
w
b: [1 2 3 x 4 y 5 z [6 7 8]]
incr b
b
incr 'b
b
incr 'b/x
b
incr/by 'b/y 2
b
incr 'b/z
b
incr 'b/z/1
b
o: object [i: 0 b: [a b c]]
incr 'o/i
incr 'o/b
o
v: 1.2.3
incr v
v
incr 'v
v
incr/by v 2.3.4
incr #"A"
incr 1:2:3
incr 1x2
incr 1%
decr 10%
```

gltewalt

[21:03](#msg5a285b30c65707ba2b1e45e8)why a different function?

[21:04](#msg5a285b4e3a80a84b5bc6201b)complexity?

greggirwin

[21:05](#msg5a285b8d540c78242d91f329)Yes. It's a big task with quite a bit of subjectivity about the design.

[21:07](#msg5a285c24ba39a53f1a2b66ca)Gitter losing messages again. :^(

Mine, above, increments series, which would conflict or require a refinement.

toomasv

[21:08](#msg5a285c4c87680e6230dd1920)@greggirwin Whoa.. have to digest it

greggirwin

[21:09](#msg5a285c83ffa3e37919053ab4)Just adds for scalars and skips for series, with path/word dereferencing.

gltewalt

[21:09](#msg5a285c95a2be4668286c5ed0)I didn't think it could be useful until I looped through a `step`ing string, fed each iteration into MD5 generator, and cracked hashed phone numbers

[21:10](#msg5a285cdaba39a53f1a2b6b2f)But, anyway, even the basic `inc` and `dec` would be useful. I've done a lot of `word: word + 1` lately

greggirwin

[21:10](#msg5a285ce0ffa3e37919053d6f)Stepped strings are enormously useful IMO.

[21:12](#msg5a285d353a80a84b5bc62a4a)@gltewalt we all do a lot of that. The battle may be over whether it should do \*only* that, and be made as fast as possible.

toomasv

[21:12](#msg5a285d3887680e6230dd1fec)

```
>> i: 0
== 0
>> incr i
== 1
>> i
== 0
```

:worried:

gltewalt

[21:13](#msg5a285d643ae2aa6b3f958d11)Ruby had nondestructive and destructive versions

greggirwin

[21:13](#msg5a285d693a80a84b5bc62b53)By design. You're passing it an evaluated result. If you want `i` to reflect the change, use `'i`.

[21:13](#msg5a285d97540c78242d91fe92)If you paste the examples above, I \*think* they're all producing what I planned.

[21:15](#msg5a285deda2be4668286c687d)i.e., mine doesn't use lit-word! args like yours. Those are always a tough call when you think they're a good idea.

GiuseppeChillemi

[21:21](#msg5a285f6bcc1d527f6bfce05a)What is this error:

[21:21](#msg5a285f6cba39a53f1a2b7c0f)\*\** Access Error: invalid UTF-8 encoding: #{E8202264}  
\*\** Where: read  
\*\** Stack: do-file

greggirwin

[21:23](#msg5a285fb43ae2aa6b3f95993f)@GiuseppeChillemi, just what it says. Red requires valid UTF-8.

toomasv

[21:35](#msg5a2862bfc65707ba2b1e75c7)Some danger, there is:

```
>> i: 0
== 0
>> j: incr 'i
== i
>> get j
== 1
```

So far, so good...

```
>> i: incr 'i
== i
>> get i
== i
>> get get i
== i
>> get get get get :i
== i
```

greggirwin

[21:38](#msg5a286342cc1d527f6bfcfb71)Good catch!

GiuseppeChillemi

[21:47](#msg5a286555232e79134d19310d)@greggirwin : I am trying munge from Ashley but it fails on reading data in a database with characters like "è"

[21:47](#msg5a28656cc65707ba2b1e865f)Also, if my script contains "é" even commented I have this error

greggirwin

[22:13](#msg5a286b88232e79134d1952ef)Maybe Ashley will chime in with a solution. First try an online UTF-8 encoder if the data isn't sensitive.

[22:26](#msg5a286e8d3ae2aa6b3f95f55a)@toomasv, so the question with the above reassignment is whether to change the result so you can't chain it. It's not as obvious as we when you do `i: 'i`, but easy to explain.

9214

[22:40](#msg5a2871efffa3e3791905b84b)@toomasv they don't handle `path!`s

[22:41](#msg5a28722dcc1d527f6bfd5309)and using `lit-word!` in a spec reduces their applicability

## Thursday 7th December, 2017

CodingFiend\_twitter

[07:26](#msg5a28ed163a80a84b5bc8c885)great progress on the chess program Gregg by the way. It is quite interesting to see how similar yet different Red is from Beads. The Eve team is perhaps stumped by this challenge. In their language, which doesn't have variables yet, it will be very difficult to manage state. In a database-type of system, where variables don't exist, you then have to stuff data into records, and do queries, which is a highly unnatural act when compared to the classic variable set and reference.

greggirwin

[17:41](#msg5a297d4787680e6230e2f597)Thanks Edward. Is Beads similar to Jonathan Edwards' SubText and other Table Oriented Programming tools? I couldn't find a demo or anything on your site, but it sounds interesting. I'm also reminded of Pick and M/Mumps/Cache, though they used multi-value, not graph databases.

With some recent chat here about generators, I thought about how a piece's move logic could be handled that way. e.g., the conditions that cause it to return (only one move, blocked by another piece) and the actual movement. And whether each cell gets annotations of its own (e.g. highlighted as legal move target) or whether features each get their own structure, so you can think of them like overlays. That is, you have a square and the dark/light squares are an overlay, the pieces are another one, highlights are another, capture targets another; so you're not touching any of the old stuff when you add a new overlay.

## Friday 8th December, 2017

dander

[08:39](#msg5a2a4fb9a2be46682876463d)I have this increment function. I originally had `number!` in there too, but something about incrementing scalars rubs me the wrong way. I feel like an increment involves a change in state. Otherwise, why not just use `add`? The only think I can think of would be when you don't know which type will be passed, but I can't imagine a scenario where I would use it. I really like the `/by amount` refinement, so I am taking that :)

```
++: incr: func [
    "Increment a value by 1"
    'value [word! path!] "thing to be incremented"
    /after "return the current value, then increment"
][
    either after [
        also get value
        set value (get value) + 1
    ][
        set value (get value) + 1
    ]
]
```

rebolek

[12:20](#msg5a2a83a3cc1d527f6b0803ef)Is there any benchmark or speed test for Red?

toomasv

[14:22](#msg5a2aa0363a80a84b5bd1e1cc)@dander :+1: Much better than mine, thanks

9214

[14:45](#msg5a2aa59aba39a53f1a3748a6)@rebolek you mean comparison with other languages?

rebolek

[14:46](#msg5a2aa5d387680e6230e8e3d3)@9214 No, I meant something like http://www.rebol.com/speed.r but it actually works fine in Red, you just need to remove all `recycle`s

9214

[14:51](#msg5a2aa702a2be4668287835b4)@rebolek maybe @greggirwin's `profile`?

[14:52](#msg5a2aa71e3a80a84b5bd20c10)https://gist.github.com/greggirwin/908d44dc069ed84cf69f053e1308390d

[14:53](#msg5a2aa756c65707ba2b2a17de)though Rebol script is more for comparing machines that runs it

rebolek

[14:54](#msg5a2aa7b0a2be4668287839e1)@9214 That's what I needed, to compare two machines.

nedzadarek

[16:48](#msg5a2ac25ecc1d527f6b098acf)Hi. Is there a tutorial about creating, extending and sharing gui elements?

rebolek

[17:40](#msg5a2ace74cc1d527f6b09d77f)Hi @nedzadarek AFAIK there is no such tutorial yet, but you can take a look for example at my \[Gritter](https://github.com/rebolek/gritter/blob/master/gritter.red#L161) where I define custom scroller.

[17:59](#msg5a2ad31ccc1d527f6b09f373)@nedzadarek also, if you have any questions about the example code, please ask me, I will try to help you. Preferably use \[this room](https://gitter.im/red/red/gui-branch)

greggirwin

[19:00](#msg5a2ae1393a80a84b5bd36eac)@dander,

&gt; ...something about incrementing scalars rubs me the wrong way. I feel like an increment involves a change in state.

This is an excellent point. I think the most common case \*will* be to change state, but \*incr* does add meaning, and has benefits, in my mind, when used with scalars.

\- By default, there is no step value, so you \*can't* get the `+ 1` part wrong.  
\- `Incr` is often used when looping, making loop variables stand out from other `add` ops that might be in expressions.  
\- `Incr` \*generally* means the step is small. Another mental hint.  
\- If we use a `lit-word!` param how do you use a computed `incr` arg?  
\- It's not a terrible thing to use `lit-word!` params. They are a tool. But they can make you think a bit more, especially in mixed expressions. For `incr` that may not be as much of an issue, but it may be used a lot, and that means that many more cases where a non-evaluated arg isn't directly visible when reading code.

[19:01](#msg5a2ae170ba39a53f1a38b060)As with most designs, we can limit it initially, to maybe it doesn't support scalars. But if we make it use a lit-word! param, we can't change that later.

## Saturday 9th December, 2017

dander

[00:32](#msg5a2b2f13cc1d527f6b0bcdb7)@greggirwin what do you mean by "computed `incr` arg"? Generating a path to pass into the `incr` function? For looping, wouldn't you always want to increment a variable, instead of scalar? Otherwise the scalar will always come out to the same result in each pass of the loop, unless I am misunderstanding.

greggirwin

[00:48](#msg5a2b32d287680e6230ebed07)&gt; what do you mean by "computed incr arg"?

e.g. `incr either zero? remainder i 5 ['i]['j]` or `incr (blk-with-lowest-count)`

[00:50](#msg5a2b3349a2be4668287b2d9a)For looping, and using a scalar, you still have to reassign. You just get the added meaning from the word `incr` to denote intent.

KimRoach143\_twitter

[05:40](#msg5a2b77633a80a84b5bd60541)good morning everyone my question is do I have to change my code after new release?? not every time but in future updates.

dander

[06:23](#msg5a2b8154ba39a53f1a3b582a)@greggirwin thanks, those are good food for thought

[06:24](#msg5a2b81a0232e79134d292674)@KimRoach143\_twitter I would say that breaking changes certainly happen, but are not that frequent

GiuseppeChillemi

[16:56](#msg5a2c15a13ae2aa6b3fa7e1d8)I have created the site https://www.programming.red.  
My goal is to create a multilanguage wiki for RED. It will also host REBOL documentation.  
Actually it is a great link collection of everything about programming RED/REBOL.  
Some table entries have no description as I am going to visit their target and fill it.  
I will ask Dockimbel to create a Gitter group to post only RED/REBOL Related links. It would help me/us to create a directory of RED resources.

meijeru

[17:11](#msg5a2c19543ae2aa6b3fa7f24f)Your entry on Red specification is actually on Red/\*System* specification. Beware!

GiuseppeChillemi

[17:31](#msg5a2c1defba39a53f1a3de217)Thank you, updated it !

[17:31](#msg5a2c1df9ba39a53f1a3de238)Now moving to RED/DOCS

9214

[17:58](#msg5a2c243fffa3e3791918250e)@GiuseppeChillemi I have mixed feelings about spawning diversed articles/tutorial/wikis/whatever when documentation base is already quite scattered

[18:04](#msg5a2c25c23a80a84b5bd8d6a9)@GiuseppeChillemi \*edit: accidentialy deleted post when I wanted to edit it*  
you can use this list of mine that I updated from time to time  
https://gist.github.com/9214/784e7f7af2342f117bc67a8e2698855b

[18:07](#msg5a2c26443ae2aa6b3fa82806)&gt; REBOL is interpreted, while RED is not

that's not quite correct, Red both interpreted and compiled language

GiuseppeChillemi

[18:07](#msg5a2c2650a2be4668287f0624)@9214 My project started many years ago on REBOL Wiki. My goal was to have a multilanguage WIKI to have the articles/documentation translated by volunters (first of all, my native language: Italian)  
However the Wiki Hosted on MEDIAWIKI was an old one and there was no multilanguage support.  
Also, no one had the time to update it so the project has been on halt for many years.  
Now, the people on Miraheze keep an always updated version of the wiki so we can host and tranlsate any language/documentation we want.  
Think about hosting any document/article being available in different languages ! Would you like it ?

9214

[18:08](#msg5a2c26a7540c78242da47016)@GiuseppeChillemi I would like it if it became official and central source of documentation there we can start pile up and organize everything

[18:09](#msg5a2c26c13a80a84b5bd8dac1)why RED all in caps btw?

GiuseppeChillemi

[18:09](#msg5a2c26f3ffa3e379191831d6)An habit from REBOL times.

[18:10](#msg5a2c271a3ae2aa6b3fa82aac)Also I like it being so marked. But if RED should be written as Red I'll change it.

[18:12](#msg5a2c277bc65707ba2b30cdba)Nice work at : https://gist.github.com/9214/784e7f7af2342f117bc67a8e2698855b

greggirwin

[19:03](#msg5a2c336bba39a53f1a3e451d)RED should be written as Red, because it's not an acronym for anything. Congrats on bring it back to life @GiuseppeChillemi. Doc spread is always hard, but if people at least write things down, others can find sites they like best and maybe help out. Eventually, we'll organize a more central set of official docs.

gltewalt

[19:23](#msg5a2c38473ae2aa6b3fa87c17)I thought it was an acronym for Rebol Enhanced Dislect?

[19:24](#msg5a2c3863c65707ba2b311b4a)Dialect. (Darn phone)

greggirwin

[19:31](#msg5a2c3a26232e79134d2c3b05)That may have been said at one point, but Nenad will have to say if that's how he still wants to define it.

## Sunday 10th December, 2017

KimRoach143\_twitter

[06:24](#msg5a2cd310a2be46682881c526)Do we have Something similar to MDI Form ?? Any vb guys or gals can #relate

dockimbel

[07:07](#msg5a2cdd1ecc1d527f6b128d8c)These days, I rather think of "Red" as a short form for "Reduce" or "Reduced".

GiuseppeChillemi

[08:08](#msg5a2ceb9087680e6230f2c177)Hi Nenad, while it could sound and avantege for people which now RED code is more coincise than other language, it could be interpreted as "reduced features"...

pekr

[08:48](#msg5a2cf4ef3ae2aa6b3fab42e1)Reduced, in a sense of simplicity vs complexity ....

dockimbel

[09:46](#msg5a2d027b87680e6230f31f10)Reduced code size, reduced executable footprint, reduced dependencies, reduced complexity, reduced time, reduced costs.

pekr

[10:00](#msg5a2d05d8540c78242da7c382)I also like "reducers" in a sense of "red users"

KimRoach143\_twitter

[12:16](#msg5a2d25900163b028101b81d5)@pekr like this https://i.ytimg.com/vi/sIctvBIhZ9w/maxresdefault.jpg lol

Arie-vw

[14:55](#msg5a2d4aec0163b028101c21e4)I'd like to check if a symbol (e.g.: x) has some kind of value. If I use an "unassigned" x i get: \*\** Script Error: x has no value. What I am looking for is a function to check for that. I tried: unset? value? etc. to no avail ...

9214

[14:56](#msg5a2d4b0c540c78242da8ea26)@Arie-vw `value? 'x` or `unset? :x`

[14:56](#msg5a2d4b34cc1d527f6b14503d)

```
text
>> x
*** Script Error: x has no value
*** Where: catch
*** Stack:  

>> unset? :x
== true
>> value? 'x
== false
>> x: 'something
== something
>> unset? :x
== false
>> value? 'x
== true
```

Arie-vw

[15:04](#msg5a2d4d140163b028101c272d)Aha. I tried unset? x which of course tries to first get contents of x and then check if that is unset.

[15:05](#msg5a2d4d1cba39a53f1a429fd0)Thx!

GiuseppeChillemi

[15:49](#msg5a2d577dc65707ba2b358108)@dockimbel the mind of us RED lovers let think about REDuced size, complexity... Other people could think differently on different starting mindset. If we don't guide the correctly with logo and accompaning words/concepts. The mind "context" must be properly engineered via proper communication, graphic, logo, or we could bound the word REDuced to a different, less likeable, one.

9214

[15:50](#msg5a2d57aca2be46682883e2c2)Relative, expression-based... dialect-oriented? :neckbeard:

GiuseppeChillemi

[16:04](#msg5a2d5b1eba39a53f1a42e19a)Redcool Reduce complexity object oriented language :-)

greggirwin

[18:35](#msg5a2d7e7e3ae2aa6b3fad9cdb)@GiuseppeChillemi, it's all in the marketing.

[18:37](#msg5a2d7eecba39a53f1a438af4)@KimRoach143\_twitter, I specialized in VB for a long time, so I know what you mean. But we don't have anything like that right now.

[19:28](#msg5a2d8adfcc1d527f6b15673f)Not long ago, someone suggested that it would be nice to see how different approaches compare in Red. That is, Red is a multi-paradigm language, so you have choices in how to use it. More organization will be needed if it grows, but I created https://github.com/red/red/wiki/Comparadigm-(Compare-Paradigms) as a basis for discussion.

\- Is it useful?  
\- What should the rules be?  
\- Should we structure it to make it easy to profile the entries, or include profile results just in cases where we feel like it?  
\- A table of contents and maybe a wish-list area for new entries would be nice.

9214

[20:13](#msg5a2d9567cc1d527f6b1597d4)@greggirwin I would also write a short TL;DR with wiki links which describes the given paradigm

[20:13](#msg5a2d957ccc1d527f6b15982d)same for each task (links to rosettacode or whatever)

## Monday 11st December, 2017

greggirwin

[04:08](#msg5a2e04ceffa3e379191fe295)Good idea.

KimRoach143\_twitter

[04:54](#msg5a2e0f6d3ae2aa6b3fafe90e)@greggirwin oh cool may be in next release :wink: . How can I do tabbing like Firefox. I am going through red learning phase yey

mikeparr

[16:09](#msg5a2ead9d87680e6230faff5b)@KimRoach143\_twitter Tabs - try http://www.red-by-example.org/index.html#0tab-panel

greggirwin

[18:15](#msg5a2ecb36ffa3e37919244a35)There was also an example somewhere for adding and removing tabs dynamically. Not sure where though.

@KimRoach143\_twitter, MDI has fallen out of favor and, IIRC, a different set of APIs is used to create and manage them, compared to normal child window styles. The other problem is that it's not supported on Mac or Linux (used to be, but not now AFAIK). Our efforts are probably better spent on features and tools that let us group, manage, and organize collections of windows, docking-to-floating, etc.

[21:35](#msg5a2efa04a2be4668288c2eb8)Dynamic tab alteration:

```
detail-tab: first layout/only [panel [text "hello"]]

toggle-detail: function [state [logic!]][
    either state [
        insert at tabs/data 2 "Detail"
        insert at tabs/pane 2 detail-tab
    ][
        remove at tabs/data 2
        remove at tabs/pane 2
    ]
]

view [
    tabs: tab-panel [
        "General" [check "Detail" [toggle-detail face/data]]
        "Tags"    []
    ]
]
```

RnBrgn

[23:42](#msg5a2f17d7232e79134d39b37f)strange comment on Red in Smalltalk post. https://www.reddit.com/r/programming/comments/7j3cvq/why\_learning\_smalltalk\_can\_never\_be\_a\_waste\_of/

## Tuesday 12nd December, 2017

BeardPower

[01:04](#msg5a2f2b0a232e79134d3a0fe0)@RnBrgn Which one? This?  
&gt;I have. I found it to be incomprehensible. The documentation is terrible, and I don't have the patience to watch video lectures. I learned a lot on how to use the documentation widget, and not much else.

[01:06](#msg5a2f2b7b540c78242db26e4a)Did I miss something? There is a documentation widget?

RnBrgn

[01:07](#msg5a2f2bdaffa3e37919265b71)Read Reddit Comments: "So is Red, and Red seems like a lot more fun. Why not learn Red, if we're going to gain useless skills?"

BeardPower

[01:08](#msg5a2f2c2a87680e6230fdd1c1)Well, both comments are from the same user.

[01:10](#msg5a2f2c9fcc1d527f6b1dcb44)He has failed to explain his rants.

greggirwin

[05:46](#msg5a2f6d46ffa3e37919275511)Sounds like he was referring to Pharo there.

dockimbel

[06:04](#msg5a2f717da2be4668288e5123)@BeardPower Programming communities on Reddit are known to be harsh places, (baseless) rants are common.

[06:06](#msg5a2f71fdc65707ba2b3faf32)@9214 I keep forgetting to link your big list of resources for Red on the website. Could you remind me the link?

9214

[06:07](#msg5a2f72100163b0281026b9a0)@dockimbel sure  
https://gist.github.com/9214/784e7f7af2342f117bc67a8e2698855b

[06:07](#msg5a2f7232540c78242db39635)I would however transfer it all to github wiki instead

[06:12](#msg5a2f734b540c78242db39b8d)oh, good news, wiki supports org-mode, so I can just copypaste everything

[06:28](#msg5a2f76f70163b0281026d542)https://github.com/red/red/wiki/Learning-resources

dockimbel

[07:26](#msg5a2f84b53ae2aa6b3fb7a286)@9214 You should consider making an "Awesome Red" repo for that content, and list it \[there](https://gist.github.com/9214/784e7f7af2342f117bc67a8e2698855b). ;-)

[07:29](#msg5a2f8561ba39a53f1a4d7b28)I have added a link to that page on the website, under Documentation.

KimRoach143\_twitter

[07:54](#msg5a2f8b28232e79134d3ba82c)@greggirwin Thanks for that awesome example @mikeparr red-by-example is great but, I can not find the way to put close button in tab. I want to do tabbing like browser.

rebolek

[07:56](#msg5a2f8baf232e79134d3babf9)@KimRoach143\_twitter Then you would need to make your own tabs.

KimRoach143\_twitter

[08:00](#msg5a2f8c98c65707ba2b402ad7)@rebolek And you lost me newbie here with red gui do you have any example? you mean create my own widget ??

greggirwin

[08:03](#msg5a2f8d3e540c78242db41de5)@KimRoach143\_twitter, yes. Red uses native widgets, and those are very basic for tab panels. If you see icons on tabs, those are custom widgets.

KimRoach143\_twitter

[08:11](#msg5a2f8f20232e79134d3bbe88)@greggirwin Never did big work with gui mostly backend programmer so can you put me in right direction may be you know some example of how to create custom widgets or some code snippets or some links might help

greggirwin

[08:20](#msg5a2f915e0163b02810275af4)@KimRoach143\_twitter, the best example right now might be the scroller style in https://github.com/rebolek/gritter/blob/master/gritter.red

rebolek

[08:24](#msg5a2f92283ae2aa6b3fb7ec07)@KimRoach143\_twitter yes, your own widget.

[08:24](#msg5a2f925ba2be4668288ef4fd)Basically you will make a button (with tab-like design and close button/area), that will change panel's content on click.

KimRoach143\_twitter

[08:29](#msg5a2f9355c65707ba2b404ffc)WOW 😲 @rebolek and @greggirwin thanks you guys are awesome 😎

[08:30](#msg5a2f93a1ba39a53f1a4dcbdf)Also do I have to make my code open source if I use red ??

rebolek

[08:31](#msg5a2f93ce0163b0281027660c)No.

[08:31](#msg5a2f93fbffa3e379192815cc)OTOH if you make some GUI styles, it would be nice to share them :)

9214

[08:34](#msg5a2f94a13ae2aa6b3fb7f590)@dockimbel :point\_up: \[not sure what you mean](https://gitter.im/red/red?at=5a2f76f70163b0281026d542), what content?

KimRoach143\_twitter

[08:35](#msg5a2f94d8a2be4668288f031f)@rebolek Sure mate I will share it here before that I have lot to study on Red GUI LOL 😂

[08:37](#msg5a2f9538cc1d527f6b1f8a7e)@dockimbel Can I use red in school for teaching purpose??

greggirwin

[08:37](#msg5a2f955a540c78242db44a64)

```
view [
    panel 600x400 [
        base "Drag me!" 160x30 loose
            on-drag-start [face/extra: face/offset/y]
            on-drag [
                if face/offset/y <> face/extra [
                	; setting offset here causes drag stalling
                    face/offset/y: face/extra
                ]
            ]
            on-drop [face/offset/y: face/extra]
    ]
]
```

[08:38](#msg5a2f958087680e6230ffa96d)Thinking of using loose faces for tab buttons.

9214

[08:38](#msg5a2f9595232e79134d3be730)@KimRoach143\_twitter you \*\*should\** use Red for teaching ;)

greggirwin

[08:38](#msg5a2f959787680e6230ffaa06)@KimRoach143\_twitter, yes, you can use Red however you want.

9214

[08:45](#msg5a2f971ac65707ba2b4062d4)@dockimbel Doc is concerned about documentation :point\_right: this means that soon there will be an income of new users who'll need it :point\_right: some big surprise is coming :santa:

KimRoach143\_twitter

[08:46](#msg5a2f975c0163b02810277a11)@greggirwin @9214 I am not sure about licensing and all that jazz comes with programming language I do teach python and C#. Python licensing is very flexible but C# with its components not so much.

9214

[08:47](#msg5a2f978bba39a53f1a4ddf33)@KimRoach143\_twitter  
&gt; Both Red and Red/System are published under BSD license, runtime is under BSL license. BSL is a bit more permissive license than BSD, more suitable for the runtime parts.

rebolek

[08:47](#msg5a2f978ba2be4668288f13e9)@KimRoach143\_twitter here's the Red license  
https://github.com/red/red/blob/master/BSL-License.txt

KimRoach143\_twitter

[08:49](#msg5a2f97fcc65707ba2b406752)@greggirwin just used that code cool drag me goes all around why its looks like CSS in some program

greggirwin

[08:50](#msg5a2f983fc65707ba2b406940)Does the dragging stall at times for you?

KimRoach143\_twitter

[09:07](#msg5a2f9c5affa3e3791928439d)Dragging goes left and right but it leaves window or panel if I move to edge

[09:08](#msg5a2f9c80a2be4668288f31fb)it works fine

[09:09](#msg5a2f9cbd540c78242db472b5)@greggirwin do we have good ide like visual studio?

greggirwin

[09:10](#msg5a2f9cea232e79134d3c0db6)Nope. People use various editors, and there's a plugin for VSCode.

[09:10](#msg5a2f9d070163b02810279c74)Quick hack to draw tabs. No mouse handling or anything. Just seeing what I could do with `draw` in a few minutes.

[09:10](#msg5a2f9d0fba39a53f1a4df8ef)

```
img-_: make image! [16x16 255.255.255.255]
img-1: draw copy img-_ [fill-pen red circle 8x8 7]
img-2: draw copy img-_ [fill-pen green triangle 1x15 8x1 15x15]
img-3: draw copy img-_ [fill-pen blue box 1x1 15x15]
img-x: draw 24x24 [fill-pen silver box 1x1 24x24 line-width 3 line 3x3 20x20 line 3x20 20x3]

tab-size: 100x30
tab-radius: 4

draw-tab-cmd: function [tab-num tab-data] [
	offset: as-pair tab-size/x * (tab-num - 1) 0
	compose [
		fill-pen 0.0.0.255 pen black line-width 2 box (offset) (offset + tab-size) (tab-radius)
		image (tab-data/image) (offset + 8x8) (offset + 24x24)
		text  (offset + 30x8) (tab-data/text) 
		image (img-x) (offset + 70x4)
	]
]
x: reduce [
	draw-tab-cmd 1 [text "A" image img-1]
	draw-tab-cmd 2 [text "B" image img-2]
	draw-tab-cmd 3 [text "C" image img-3]
]
view [base 302x30 draw x]
```

KimRoach143\_twitter

[09:13](#msg5a2f9dd43ae2aa6b3fb82f88)@greggirwin wow you did it 👏 I am going to save all this in my sublime

greggirwin

[09:16](#msg5a2f9e5287680e6230ffda0f)https://gist.github.com/greggirwin/4b3c9962dc682c12821f55583d702a8e might also have some useful hints in it.

KimRoach143\_twitter

[09:16](#msg5a2f9e88c65707ba2b408d0e)do you use Mac or windows because on my Mac if I run "red -c abc.red" it says command not found but if I open red console and run inside it than it works new to Mac

greggirwin

[09:17](#msg5a2f9e9affa3e37919285088)I'm on Win7.

9214

[09:18](#msg5a2f9ecccc1d527f6b1fbc72)@KimRoach143\_twitter have you added toolchaing binary to your `$PATH`?

[09:18](#msg5a2f9ed787680e6230ffdc8c)or whatever it's called on \*nix systems

KimRoach143\_twitter

[09:18](#msg5a2f9ee4c65707ba2b408ed4)NOP and how to do that

9214

[09:19](#msg5a2f9f310163b0281027a904)@KimRoach143\_twitter https://opensource.com/article/17/6/set-path-linux

greggirwin

[09:20](#msg5a2f9f433ae2aa6b3fb836f2)@KimRoach143\_twitter, for the above tab example (drawn), you can find the hit tab with something like this:

```
view [
	base 302x30 draw x on-down [
		print ["You clicked tab" event/offset/x / 100 + 1]
	]
]
```

[09:20](#msg5a2f9f57a2be4668288f452c)Then you could also look for hits inside the X area for your close button, etc.

KimRoach143\_twitter

[09:21](#msg5a2f9f8a3ae2aa6b3fb838dd)@9214 oh its like setting up environment variable in windows lol 😂 I will do that asap

9214

[09:21](#msg5a2f9f94c65707ba2b4091d4)@KimRoach143\_twitter and you don't need to compile script, just running `red abc.red` will do

KimRoach143\_twitter

[09:27](#msg5a2fa0f00163b0281027b1e0)@greggirwin @9214 thanks for helping me out, I am going for shopping see you all after some time

ldci

[10:37](#msg5a2fb156232e79134d3c7949)@dimsun just copy red in /use/local/bin

KimRoach143\_twitter

[10:50](#msg5a2fb474ba39a53f1a4e75ef)./red.dms abc.red is working fine for me now thanks

[10:55](#msg5a2fb5a20163b028102824ec)putting red.dms file in /usr/local/bin is not working for me

[10:57](#msg5a2fb60d3ae2aa6b3fb8b539)I have to type $red.dms abc.red that works too please update documentation

[10:57](#msg5a2fb61e0163b02810282969)"Document"

rebolek

[11:07](#msg5a2fb85b0163b028102835d6)Just rename `red.dms` to `red`

KimRoach143\_twitter

[11:24](#msg5a2fbc68232e79134d3cbd6c)@rebolek thanks it worked like charm. 😚

[11:42](#msg5a2fc0980163b028102862c0)@rebolek \*\** Runtime Error 1: access violation  
\*\** at: 00033B68h with gritter.red after inserting token

[11:51](#msg5a2fc2c7ba39a53f1a4ecd16)Gui starts for may be 2 sec then closes itself

rebolek

[11:57](#msg5a2fc42e0163b028102875a5)@KimRoach143\_twitter On Mac? Try it without compiling.

[11:59](#msg5a2fc486540c78242db55a27)It's probably HTTP-related Red bug that seemingly randomly pops up and goes away.

[12:00](#msg5a2fc4cc232e79134d3cecc3)I will check it when I have some time and will be on my Mac.

Arie-vw

[12:10](#msg5a2fc720a2be4668289022ef)@GiuseppeChillemi maybe add http://red-by-example.org/ to your site ;-)

KimRoach143\_twitter

[12:27](#msg5a2fcb15ba39a53f1a4ef7a7)@rebolek yes on Mac tried without compiling. I will test it on windows and let you know

[12:35](#msg5a2fcd0d87680e623000e9e9)@rebolek tried on windows 10 same issue.

rebolek

[12:39](#msg5a2fcdedcc1d527f6b20cadc)@KimRoach143\_twitter Same issue? Thanks for testing, I will take a look it back home.

KimRoach143\_twitter

[13:14](#msg5a2fd62e0163b0281028df3c)@rebolek no error code in windows but when I put token gui comes up and after 2 or 3 sec closes itself.

rebolek

[13:15](#msg5a2fd669ba39a53f1a4f398d)@KimRoach143\_twitter just not to pollute this channel, please report problems with Gritter in https://gitter.im/red-gitter/Lobby

KimRoach143\_twitter

[13:16](#msg5a2fd6c13ae2aa6b3fb96e1e)I am sorry 😐

rebolek

[13:20](#msg5a2fd7900163b0281028e650)No problem

gltewalt

[19:08](#msg5a302921540c78242db7c480)@9214 https://github.com/sindresorhus/awesome/blob/master/readme.md

greggirwin

[20:49](#msg5a3040edcc1d527f6b23872c)@nedzadarek asked about mapping value ranges to sliders, whose data range is fixed at 0-100%. Here's a little example, since it's likely a common need:

```
linear-interpolate: func [
    src-min  [number!]
    src-max  [number!]
    dest-min [number!]
    dest-max [number!]
    value    [number!]
][
    add dest-min ((value - src-min) / (src-max - src-min) * (dest-max - dest-min))
]
map-from-pct: func [dest-min dest-max value][
	linear-interpolate  0 1  dest-min dest-max  value
]
map-to-pct: func [src-min src-max value][
	linear-interpolate src-min src-max 0% 100% value
]
rng: [1 100]
print map-to-pct rng/1 rng/2 probe map-from-pct rng/1 rng/2  50%
rng: [0 1000]
print map-to-pct rng/1 rng/2 probe map-from-pct rng/1 rng/2  50%

view [
	text "Min:" f-min: field "1" return
	text "Max:" f-max: field "100" return
	sld: slider [print face/data]
	text "Result:" f-res: text react [
		face/text: form round map-from-pct f-min/data f-max/data sld/data
	]
]
```

[20:50](#msg5a30410dba39a53f1a51ccec)I also do something similar in https://gist.github.com/greggirwin/38883ca5109175a60896d2f406ee49f6

GiuseppeChillemi

[20:53](#msg5a3041b8232e79134d3fe3b3)@Arie-vw : it is already on my todo list.

## Wednesday 13th December, 2017

roobie

[20:28](#msg5a318d75a2be46682899fdcf)Hi there! I'd like to pose a question about why the following happens and if there are any ways for me to achieve a closure-like behaviour:

```
test-fn: func [a][
    func [b][
        equal? a b
    ]
]

eq-1: test-fn 1
print eq-1 2
*** Script Error: a is not in the specified context
*** Where: eq-1
*** Stack: eq-1
```

toomasv

[20:57](#msg5a319420c65707ba2b4b659d)@roobie Is this what you are after?

```
test-fn: func [a][
   context [
      val: a 
      return func [b][
         equal? val b
      ]
   ]
]
>> eq-1: test-fn 1
== func [b][equal? val b]
>> print eq-1 2
false
>> print eq-1 1
true
```

roobie

[20:57](#msg5a319452540c78242dbf4f70)that's perfect! Thanks a lot

toomasv

[20:58](#msg5a31945d232e79134d472aac)You are welcome!

greggirwin

[22:14](#msg5a31a63f3ae2aa6b3fc37bdd)@roobie, explanation here: https://github.com/red/red/wiki/Guru-Meditations#function-contexts

[22:15](#msg5a31a6660163b02810330641)We also have a bit of closure chat going on in https://gitter.im/red/help right now.

[22:16](#msg5a31a6ab3ae2aa6b3fc37ec6)And we started some notes in https://github.com/red/red/wiki/Closures for discussion and comparison.

roobie

[22:22](#msg5a31a83b232e79134d479d4d)Those are some nice resources. I've come to the conclusion that I should peruse the github wiki.

greggirwin

[22:25](#msg5a31a8d7ba39a53f1a5955cf)It's not a \*bad* idea. :^)

roobie

[22:32](#msg5a31aa9387680e62300b5c7d)@greggirwin also, thank you for your help

## Thursday 14th December, 2017

endo64

[00:38](#msg5a31c821540c78242dc06a71)I've added `modified?` native, I can compile Red console successfully, `modified?` didn't work correctly so made some more changes etc.  
Then my compilation fails with below error message. I revert everything I did (using Git, so I'm sure there is no forgotten or garbage files at all), but the compilation still fails with the same error. What could be the reason?

```
>> do/args %red.r "-r -u environment/console/console.red"
Script: "Red command-line front-end" (none)

-=== Red Compiler 0.6.3 ===-

Compiling C:\Users\endo\Documents\Red\red-endo\environment\console\console.red ...
...compilation time : 1756 ms

Target: MSDOS

Compiling to native code...
*** Syntax Error: Missing #"]" character
*** in file: C:\Users\endo\Documents\Red\red-endo\environment\console\console.red
*** line: 282
*** at: ""
```

[00:43](#msg5a31c9180163b0281033b910)I tried to compile with &amp; without `-u`

roobie

[00:45](#msg5a31c99a3ae2aa6b3fc43376)@endo64 Might be some ignored files interfering. You could try `git clean -fd` to remove them (will delete all untracked files and changes)

endo64

[00:46](#msg5a31c9df540c78242dc07292)I just deleted all files in `C:\ProgramData\Red` and I can compile again. Thanks for the suggestion @roobie

[00:46](#msg5a31c9ff0163b0281033c011)Not sure how they can interfere.

roobie

[00:48](#msg5a31ca5bffa3e37919349afd)Me neither, but my experience with e.g. visual studio is that sometimes the tools compiling the code flips the wrong bit or something, and one needs to do some manual cleaning

endo64

[00:56](#msg5a31cc4aba39a53f1a5a0fb9)I cleanup everything and apply my changes from stash now I get different error:

```
*** Red Compiler Internal Error: Script Error : Invalid path value: NAT_MODIFIED?
```

But it was working before... Its 03:56 AM I think its better to get some sleep and try tomorrow :)

roobie

[00:57](#msg5a31cc6e3ae2aa6b3fc4416d)Probably a good idea :)

[01:06](#msg5a31ce83232e79134d485cc9)Does the Red community have any thoughts about a common way of managing packages? Sort of like npm for node.js or clojars/leiningen for clojure.

gltewalt

[01:09](#msg5a31cf57ffa3e3791934b102)Need modules first

greggirwin

[01:15](#msg5a31d0b70163b0281033dbcd)@roobie, loads and loads of thoughts, at least from a few of us. As @gltewalt says, first we need modules, which will also play into how they are documented, versioned, what is exported, etc. Why isn't it there already? It hasn't been needed (see also: https://github.com/red/red/wiki/Red-Project-Approach).

We will try to learn from our own past, as well as others.

roobie

[01:31](#msg5a31d48d0163b0281033ea5f)I see. I'd like to argue though, that this sort of infrastructure, or what one would like to call it, could increase adoption of the language due to simplifying sharing code. Not that I have any statistics, but I do think that there being an ecosystem to both use and contribute to does influence (significantly) whether or not people take an interest or not. Maybe I'm preaching to the choir :)

greggirwin

[01:57](#msg5a31daa487680e62300c4ba8)Of course it would be great to have. Just a matter of where it falls on the priority list, and whether it beats out other things as the backers look at the importance of adoption by developers (who, today, notoriously don't want to pay for things), or features that might make commercial use come sooner.

And once you have PackageR, you need MakeR, TestR, IntegrateR, DeployR, etc. Which means we have to ask "If we build it, will they come? What should we build, that is official, versus letting things happen as has with JS and NPM?" This is going off into bigger pictures a bit, but it's a central question; and one without an easy or black-and-white answer.

[02:04](#msg5a31dc130163b02810340a62)I've done my share of R&amp;D on this kind of thing, even have a matrix comparing formats for \[REBOL DOAP RPM GemSpec DublinCore Qtask Maven OPML Roxy REBOL.org Packages(JS) NPM]. And there's nothing \*preventing* us from taking this on, but it's a big task. What are the best systems out there, and what makes them so? Are there older systems we can learn from? What works for both PitS and PitL?

To start, we can make some notes and recommendations. Anything we do to save Team Red time and effort is well spent.

roobie

[02:10](#msg5a31dd8cffa3e3791934e7d1)As long as it's not XML, it should be good. (kidding). I hear you, and I did not mean to make is sound like a simple thing. Is your matrix available for viewing? You've piqued my interest

greggirwin

[02:53](#msg5a31e797cc1d527f6b2c3d39)I don't have it up anywhere, and gitter won't let me post a message that long it seems. I can get it to you if you want.

[02:53](#msg5a31e7b6232e79134d48c314)No chance it will be XML, you can be sure of that. We eat our own data here.

nedzadarek

[14:09](#msg5a3286100163b02810376ee7)@greggirwin Thank you for `lineral-interpolate` code. It should works in some cases.

lepinekong\_twitter

[14:42](#msg5a328dc587680e62300fe0e5)Most elegant way to convert b: \["01/01/01" "1.12" "1.1" "1.2" "1.4" "5"]  
to  
b: \["01/01/01" 1.12 1.1 1.2 1.4 5] ?

[14:43](#msg5a328e250163b0281037a2cc)I mean without writing extensively b/2: to-float b/2 ... b/5: to-float b/5

codenoid

[14:58](#msg5a329198c254d1100e2446c6)helo

[14:58](#msg5a3291a40163b0281037ba89)how i can use http client in red ?

sptorin\_twitter

[15:02](#msg5a32926ac254d1100e244bbd)s: read http://red-lang-org

toomasv

[16:24](#msg5a32a5bfba39a53f1a5e6a83)@lepinekong\_twitter Not sure most elegant:

```
forall b [attempt [b/1: to-float b/1]]
>> b
== ["01/01/01" 1.12 1.1 1.2 1.4 5.0]
```

Or, being scrupulous:

```
forall b [b/1: either number? load b/1 [load b/1][b/1]]
>> b
== ["01/01/01" 1.12 1.1 1.2 1.4 5]
```

9214

[17:16](#msg5a32b1fa540c78242dc53187)

```
text
>> b: ["01/01/01" "1.12" "1.1" "1.2" "1.4" "5"]
== ["01/01/01" "1.12" "1.1" "1.2" "1.4" "5"]
>> also b change next b load form next b
== ["01/01/01" 1.12 1.1 1.2 1.4 5]
```

[17:17](#msg5a32b241232e79134d4d17be)depends on what you mean by "convert" though

toomasv

[17:29](#msg5a32b504c254d1100e25285d)@9214 Nice, but very specific.

9214

[17:30](#msg5a32b5221a4e6c82230c282c)@toomasv because we don't have general case?

toomasv

[17:30](#msg5a32b543540c78242dc54538)s/specification/case

9214

[17:30](#msg5a32b55087680e623010e07d)applied :eyes:

toomasv

[17:31](#msg5a32b55f87680e623010e0a8):+1:

dander

[17:31](#msg5a32b586c254d1100e252c2a)@codenoid, @rebolek has made some utilities for working with REST APIs here: https://github.com/rebolek/red-tools/blob/master/http-tools.red

lepinekong\_twitter

[17:54](#msg5a32bad4ba39a53f1a5eec4c)@toomasv @9214 it's for my tutorial I think it's too complicated for absolute beginner in Red/Rebol :) I was thinking of b/:i but creating an i variable not very elegant either or wish I could reference b item and use foreach with skip.

toomasv

[18:01](#msg5a32bc681a4e6c82230c5535)@lepinekong\_twitter You can change `forall` into `repeat`:

```
>> repeat i length? b [if number? load pick b i [poke b i load pick b i]]
== 5
>> b
== ["01/01/01" 1.12 1.1 1.2 1.4 5]
```

9214

[18:02](#msg5a32bcb0c254d1100e2554f9)"elegant" and "easy for absolute newbies" kinda contradict each other

toomasv

[18:02](#msg5a32bcc4ffa3e37919399e33):)

[18:05](#msg5a32bd69ba39a53f1a5f0053)Or better:

```
>> repeat i length? b [if number? load b/:i [b/:i: load b/:i]]
== 5
>> b
== ["01/01/01" 1.12 1.1 1.2 1.4 5]
```

9214

[18:13](#msg5a32bf5cffa3e3791939af72)

```
text
>> repeat i length? b: next b [b/:i: load b/:i] b: head b
== ["01/01/01" 1.12 1.1 1.2 1.4 5]
```

dander

[18:15](#msg5a32bfb0ffa3e3791939b178)Or there's `collect` / `keep`

```
>> collect [foreach i b [keep either number? num: load i [num][i]]]
== ["01/01/01" 1.12 1.1 1.2 1.4 5]
```

9214

[18:16](#msg5a32bffa0163b0281038d557)@dander AFAIK most newcomers struggle to get `collect/keep` combo

dander

[18:18](#msg5a32c076c65707ba2b5193f5)that's interesting, I thought it was pretty understandable (if not how it works)

lepinekong\_twitter

[19:10](#msg5a32cc945355812e57d6a7e8)From thought to code it isn't straight forward that's what I mean for newbie : load next head collect keep they'll get a headache whereas the need is simple :) But thanks I'll keep your suggestions for other intermediate tutorials.

dander

[20:13](#msg5a32db635355812e57d6faea)It can also help to break these one-liners down into shorter sections, but I think I agree with @9214 about it being contradictory. Too many new concepts to hold in one's mind can overwhelm. If you limit the tools you can use, you lose some expressiveness

[20:14](#msg5a32db8b1a4e6c82230d0ed4)for a total beginner, it might be good to start with something like

```
temp: copy []

foreach item b [
    loaded: load item
    
    if number? loaded [
        append temp loaded
    ]
    
    if not number? loaded [
        append temp item
    ]
]
```

[20:15](#msg5a32dbd3232e79134d4e08fd)then you could go through the process of \_reducing_ it to a simpler form, like `if`s -&gt; `either` -&gt; moving the `append` outside

[20:15](#msg5a32dbed0163b02810397546)just a thought. I'm not a teacher :smile:

9214

[20:17](#msg5a32dc710163b028103977fb)start from dumb C-like style which everyone with some programming background can understand, then slowly refactor it down to idiomatic Red version

[20:18](#msg5a32dc811a4e6c82230d1302)i.e. what @dander just said

gltewalt

[23:05](#msg5a3303c3ba39a53f1a6082ef)@lepinekong\_twitter is there a reason that all the values of the example block are strings? We lose a lot of Red power if we make things string-based instead of letting Red handle different datatypes

[23:06](#msg5a3303ef540c78242dc6ff54)Against the grain of the wood, so to speak

[23:23](#msg5a3307f55355812e57d7f473)&gt; Or better:

```
>> repeat i length? b [if number? load b/:i [b/:i: load b/:i]]
== 5
>> b
== ["01/01/01" 1.12 1.1 1.2 1.4 5]
```

[23:23](#msg5a33080ac65707ba2b532f05)@toomasv that works as long as the values are not already float

[23:24](#msg5a33082a0163b028103a61cd)Otherwise need to toss `mold` in there to be thorough?

[23:25](#msg5a330881ba39a53f1a609bb9)Or wrap in `attempt`?

greggirwin

[23:26](#msg5a3308ad540c78242dc71766)Keeping things simple generally implies a lot of assumptions. e.g. assume all values are strings.

gltewalt

[23:28](#msg5a33091aba39a53f1a609f44)Yeah, but if they run that example more than once as beginners are apt to do, they will wonder why it doesn't work all of a sudden

greggirwin

[23:29](#msg5a3309600163b028103a6716)Good point.

gltewalt

[23:29](#msg5a330970232e79134d4f0797)I only noticed it because that was the exact solution that I tried earlier today when I saw the discussion

## Friday 15th December, 2017

BeardPower

[00:21](#msg5a331581c65707ba2b536a93)As good documentation of Red is soon a thing and people already contributed great sources of documentation, I just wanted to ask, which tools are already used and/or would be great to be used in the future. Many developers are just using Markdown, but I'm looking for something like \[AsciiDoc](http://www.methods.co.nz/asciidoc/). Is something like this already used? Want to be used? A need for it?

greggirwin

[00:33](#msg5a3318655355812e57d84a63)I believe the official docs are now all going to target AsciiDoc, and most, if not all, have been converted.

BeardPower

[00:35](#msg5a3318c1c65707ba2b537a32):+1:

greggirwin

[00:51](#msg5a331ca10163b028103ac252)@BeardPower, is there an official AsciiDoc spec? I can't find one in a quick search.

BeardPower

[00:57](#msg5a331decc65707ba2b538d03)@greggirwin IIRC they never defined one.

[00:58](#msg5a331e1c5355812e57d860f3)But you can use the cheat-sheet: \[AsciiDoc CheatSheet](http://powerman.name/doc/asciidoc)

[01:01](#msg5a331ed5a2be466828a27c88)They plan one: UniDoc https://github.com/asciidoctor/asciidoctor/wiki/AsciiDoc-Specification-(aka-UniDoc)-Planning

[01:05](#msg5a331fdaffa3e379193bc9ae)Time to come up with Redoc? ;-)

9214

[04:19](#msg5a334d61a2be466828a3398c)@greggirwin last time I checked asciidoctor was good enough as a reference

greggirwin

[05:44](#msg5a336156c65707ba2b549882)What if I want to write a compliant parser?

@BeardPower, we had make-doc, long before Markdown took over the world.

In any case, it's an interesting area and a big need. The issue I see is that you want something that works according to Postel's law, to make writing content as easy as possible, with minimal requirements. At the same time, as soon as you want to do more than format a single document, you end up needing to be more strict. I thought DocBook was a nice spec, since it targeted a very specific need. So I won't rail against AsciiDoc, as I think that inspired them as well.

BeardPower

[14:00](#msg5a33d58a03838b2f2afb08ba)@greggirwin  
&gt;What if I want to write a compliant parser?

You can't, as there is no spec yet. You would need to adopt the rules implemented for e.g. \[Asciidoctor](http://asciidoctor.org/)

&gt;@BeardPower, we had make-doc, long before Markdown took over the world.

Didn't know that.

&gt;In any case, it's an interesting area and a big need. The issue I see is that you want something that works according to Postel's law, to make writing content as easy as possible, with minimal requirements. At the same time, as soon as you want to do more than format a single document, you end up needing to be more strict. I thought DocBook was a nice spec, since it targeted a very specific need. So I won't rail against AsciiDoc, as I think that inspired them as well.

Exactly. I used to create docs with LaTeX, which is awesome, but has a very steep learning curve. I did not dig that deep into DocBook, because of the XML-Boilerplate/Bloat. Many authors, who published work for O'Reilly, switched their tools to AsciiDoc. There are many other, high quality and light markup languages, reStructuredText being one of the favorite ones. It's primarily used in the Python programming language for technical documentation, which is of very high quality.

[14:08](#msg5a33d741ffa3e379193f40b7)reStructuredText has a spec: \[Spec for reST](http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html)

greggirwin

[19:48](#msg5a3426f85355812e57ddc2d3)http://www.rebol.net/docs/makedoc.html

[19:51](#msg5a3427c2540c78242dccd93d)Text formatting languages are like programming languages, more alike than different in most cases, with much time spent debating "benefits".

[19:57](#msg5a34293affa3e379194132e5)I have fond memories of an old system called Doc-To-Help, back when you had to create Windows %.hlp files by hand. It was a chore. WexTech Systems, IIRC, built this tool using \*entirely* MS Word macros, so you could write in Word and it would then produce a %.hlp file. It was amazing. Why I remember it is because automating Word with macros caused the UI to, basically, be ghost operated. It was cool and terrifying to say "Build Help" and watch Word flicker as the invisible robot hands pressed keys at high speed for. "High speed" being relative. It could take a \*long* time to build a help file. :^)

[20:53](#msg5a343664a2be466828a833c6)@meijeru posted https://github.com/red/red/issues/3144 about making `index?` none-safe. I started some thoughts, and thought about a general solution. It's not as concise as his specific need, and doesn't \*quite* work:

```
try-any: function [
	"TRY each expression, returning the first that is a true, non-error result."
    block [block!]
    /local result
][
    until [
    	if empty? block [return none]
    	set/any 'result try [do/next block 'block]	; error doesn't advance.
    	all [:result  not error? :result]
    ]
    :result
]
```

Something like `try-any [index? find [1 2 3] 4 0]` won't work, because `do/next` doesn't set the output word when there's an error. @dockimbel will have to say whether that's by design or what the implications are. My question is whether it would be useful to have a `/safe` option for `do/next`. I've never needed it in my normal work, but I'm thinking of tools that evaluate Red, like IDEs with step tracing.

gltewalt

[21:18](#msg5a343c1b1a4e6c822314380c)I made this awhile back because of the `index?` error thing.

```
contains?: make op! func [
    {Searches for a value in series!
     Returns true and the index of the value if found.}
    series [series!]      "Block of values"
    value [any-type!]   "Value to check for"
    /local match
][
    match: find series value
    either none? match [false][reduce [true index? match]]
]
```

## Saturday 16th December, 2017

meijeru

[13:26](#msg5a351eea540c78242dd0c19c)I accept @dockimbel 's reaction to my wish, but I observe that the underlying concern still needs a reaction/solution :smirk: .

dockimbel

[13:28](#msg5a351f7ec65707ba2b5cbd08)@meijeru Agreed, though I would like to see more real use-cases for that, because a frequent usage of `index?` can usually be a code smell for non-idiomatic Redbol code. Series with their implicit index, can cover most needs already without having to extract and directly manipulate index values. That is something many/most Redbol newcomers are missing.

meijeru

[13:30](#msg5a351fee1a4e6c822317c90c)You may wish to print the index for one thing...

greggirwin

[20:04](#msg5a357c5503838b2f2a026d0a)But you can still print `none`, yes, which has meaning?

gltewalt

[20:18](#msg5a357f89ffa3e3791946f1c0)Sometimes I only care about the index

lepinekong\_twitter

[20:19](#msg5a357fbd540c78242dd273c8)@gltewalt it's string because it comes from a csv file

gltewalt

[20:21](#msg5a35802cc65707ba2b5e7768)I think if you `load` the csv, you could work with the different datatypes directly

[20:21](#msg5a35804f5355812e57e37ca8)(I've been known to be wrong though :smile: )

[20:23](#msg5a3580af0163b0281045c3f5)Trim out the commas first

greggirwin

[20:36](#msg5a3583e11a4e6c8223197f84)Depends on the exact CSV file. If the fields are quoted, they will be strings.

[20:37](#msg5a358407ba39a53f1a6c056d)@gltewalt, exact use cases help. e.g., in this case, `find` fails and there \*is no* index.

gltewalt

[20:39](#msg5a358468a2be466828adb147)If it could consume and return `none` it would be alright

greggirwin

[20:41](#msg5a3584fe232e79134d5a651e)Did you read Nenad's comment on Rudolf's ticket? #3144

gltewalt

[20:42](#msg5a35854a1a4e6c8223198488)Just did.

[20:43](#msg5a3585840163b0281045dc09)Does that mean `attempt` is problematic then?

```
>> attempt [index? find "abcd" "ef"]
== none
```

greggirwin

[20:46](#msg5a3586265355812e57e39769)No, it means "why are you using `index?` when you know it may fail?"

[20:54](#msg5a3587eaba39a53f1a6c1534)Fortunately, it's easy to write our own `index??` version, then write code to compare. The best way to make a case is with concrete examples.

gltewalt

[20:55](#msg5a35883403838b2f2a02a140)My use case thing is my `contains?`.  
Is this thing in there? If it is give me the thing and its index.

greggirwin

[20:56](#msg5a35888c5355812e57e3a1c1)`contains?` seems like it should just return a logic value. What do you need the index for in this case?

gltewalt

[20:56](#msg5a358899ffa3e37919471a08)And I don't have to use the 'thing'. I can take the second element if I just want an index

[20:57](#msg5a3588c2ba39a53f1a6c18f0)Sometimes I don't care about using the match, I just want to know where it is

greggirwin

[20:59](#msg5a358927540c78242dd29dcf)"Sometimes" is vague. What are the \*exact* use cases where this is helpful? What do you do with the result? How is it harder using the current behavior? How often do we need this? Those are questions we need to answer if our suggestions meet resistance.

[21:10](#msg5a358bc6ffa3e37919472a87)(General thoughts here, not directed just at @gltewalt)

We have different idioms for working with different values. If we're doing index based work on series, we'll use `length?`, `pick` and `poke`, yes? But you don't need the index if you're using series offsets directly, e.g., with `change`.

But this also plays into how we structure code, in a big way. I get that. Sometimes we \*really* love packing things down to single lines, seeing how small we can get stuff, chaining calls, but that's not always best, especially for the reader who doesn't know how something works. The onus is on us to make our code and intent clear. Sometimes that \*may* mean using a temp var. Yup, you could then use the wrong one, rather than a chained result, but our job is making those decisions and choosing risks and tradeoffs. The language designer's job is to look at all the pieces and try to make each one serve a clear purpose, making them easier to use correctly than incorrectly, and giving us the tools to do \*our* job.

It will be a lot of push and pull, especially as the Red community grows. What is pragmatic and useful, and where is the line that says something should be built in versus external. Once things go external, all bets are off, yes? We have no control there, \*except\*, \*maybe\*, what we have instilled in those using Red, to improve it in ways that align with the internal goals, and help maintain conceptual integrity, encourage sharing, and make our lives easier.

[21:14](#msg5a358ca5540c78242dd2b06a)And Gitter just apparently lost my next big message. :^(

[21:16](#msg5a358d2d0163b0281045fccd)As Red spreads, non-programmers will use it too. Each can do things how they want, and we don't have to approve. So you and I are free to do things our own way, that makes sense to us.

gltewalt

[21:21](#msg5a358e74a2be466828addc84)I see the big message

[21:30](#msg5a3590800163b02810460dd9)Or was there 2 big ones?

greggirwin

[21:39](#msg5a3592991a4e6c822319c04a)There were 2.

lepinekong\_twitter

[22:42](#msg5a35a1705355812e57e40835)After some pain finally got finished Red for hopeless programmers - Part II :) https://dev.to/lepinekong/red-for-hopeless-programmers---part-ii-258

greggirwin

[22:56](#msg5a35a4a4ba39a53f1a6c95c6)Congratulations @lepinekong\_twitter!

[23:03](#msg5a35a64eba39a53f1a6c9cc3)Added to the wiki. Thanks @lepinekong\_twitter.

## Sunday 17th December, 2017

dockimbel

[04:10](#msg5a35ee2ac65707ba2b6012f8)@lepinekong\_twitter Great! In the first code example, you should put some spaces before the comment marker, to make it more readable: `lines/2; extract 2nd line (first line is header)`

[04:10](#msg5a35ee4c5355812e57e51132)`Csv`-&gt; `CSV`

[04:11](#msg5a35ee7e5355812e57e51271)All your inline comments in code examples need indenting before the `;`.

GiuseppeChillemi

[10:44](#msg5a364aa8540c78242dd542ae)Is there a way to download all gitter conversations of a chat ?

9214

[10:45](#msg5a364ac4ba39a53f1a6ebc14)@rebolek :point\_up:

meijeru

[12:30](#msg5a3663800163b0281048f111)@lepinekong\_twitter Without detracting from your educational effort, let me point out that there is a redefinition of `quote` in your text. That has a potential danger.

9214

[13:32](#msg5a367205540c78242dd5edb1)@lepinekong\_twitter \*cough* cum..? \*cough* :flushed:

meijeru

[13:59](#msg5a367838a2be466828b125a0)That is not a redefinition of something, but the author may not be aware of its "usual(?)" connotation. Let's suggest `cumul` to avoid any awkwardness.

9214

[15:09](#msg5a36888f5355812e57e73da6)`acc` or `total` will do

rebolek

[19:03](#msg5a36bf66a2be466828b25a86)@GiuseppeChillemi take a look at \[Gitter tools](https://github.com/rebolek/gritter/blob/master/gitter-tools.red), there is a function `download-all-messages` that does exactly that.

GiuseppeChillemi

[21:35](#msg5a36e31b0163b028104b0c6a)@rebolek I'll try it, thank you

## Monday 18th December, 2017

teamtad\_twitter

[13:27](#msg5a37c25d540c78242ddbafcb)I am an old user of REBOL from India. My name is Sabu Francis. If this is not the place to place this news, kindly pardon and let me know.

I am impressed by the work done on RED and now plan to use that for my work. I have written a BIM (Building Information Modeler) and it had an internal scripting language based on Prolog. I now plan to shift from that to RED -- primarily because the "reactor" feature of RED is quite impressive. And also, it can generate native executables.

There are quite some links/people who are writing about RED -- so that's a healthy sign but it's also confusing. As a first step; I have tried to collect all the links I could lay my hands on into a mind map here. If anyone wants to have edit access to the same, please let me know and I'll provide it

https://mind42.com/public/eca403e3-7c65-4d08-bee0-fd87a2290458

Hope to interact more here

sptorin\_twitter

[13:37](#msg5a37c4b51a4e6c822322e0b7)@teamtad\_twitter Nice mind map. You can add samples from http://rosettacode.org/wiki/Category:Red

9214

[13:40](#msg5a37c55cffa3e3791950620a)@teamtad\_twitter https://github.com/red/red/wiki/Learning-resources

endo64

[13:43](#msg5a37c61d5355812e57ecd3bd)Welcome back Sabu Francis, I remember your name from old R2 times :)

teamtad\_twitter

[14:45](#msg5a37d49a232e79134d640ef0)Thanks :-) Yes there was a long hiatus . Long story

greggirwin

[15:00](#msg5a37d804c65707ba2b683da8)Welcome back Sabu! Nice to see you again.

[15:01](#msg5a37d83803838b2f2a0c5927)I'll have to check out your mind map in more detail later.

teamtad\_twitter

[15:12](#msg5a37dadeffa3e3791950da97)@sptorin\_twitter @9214 added. Thanks

[15:15](#msg5a37db7aba39a53f1a75b789)I read somewhere that one could implement a function to do REST protocol calls from within RED. Are there some examples of this? (RED does not seem to have read/custom refinement)

[15:17](#msg5a37dbf3a2be466828b77d47)Also, I am trying to see if a websocket kind of mechanism can be implemented. One way is to do polling but that seems such a waste of CPU/time. Any other ideas for this? One idea (rather crude) is to implement a file watcher but for that I may need to load a DLL library (in windows) and the code wakes up on file changes in a particular folder

rebolek

[15:26](#msg5a37de2503838b2f2a0c7cd7)@teamtad\_twitter Take a look at https://github.com/rebolek/red-tools/blob/master/http-tools.red#L179 function and also various REST APIs in same repo that I wrote.

[15:27](#msg5a37de445355812e57ed5989)With web sockets, I would wait for full IO.

teamtad\_twitter

[15:59](#msg5a37e5e6ba39a53f1a75f54c)@rebolek Thank you! That is helpful

[15:59](#msg5a37e5f303838b2f2a0cad51)One more question: How to load a DLL library in Windows?

pekr

[16:03](#msg5a37e6bfa2be466828b7c906)Loading libraries is imo not supported yet, just wrapping them using Red/System. It is supposed to be part of an upcoming 0.6.4 release, just not sure, if it comes or is going to be rescheduled ...

9214

[17:53](#msg5a3800831a4e6c82232445e7)@teamtad\_twitter I thought you'll update wiki instead

lepinekong\_twitter

[19:21](#msg5a381530232e79134d65884d)I want a timer to trigger every minute but it only triggers once :( https://gist.github.com/lepinekong/6084164d6b1e1114d26b84a06321b097

teamtad\_twitter

[19:22](#msg5a3815710163b0281050dd4c)@9214 Ah, I misunderstood. I'll add the mindmap over there with my Github access

lepinekong\_twitter

[19:24](#msg5a3815fa1a4e6c822324c4d0)@meijeru ah yeah didn't realize it but what does it do ?

[19:25](#msg5a38160d232e79134d658c74)help quote gives no explanation

[19:26](#msg5a3816540163b0281050e15a)@dockimbel you're right will add spaces

luce80

[20:04](#msg5a381f32232e79134d65c13a)@lepinekong\_twitter use `do-events/no-wait` .

[20:08](#msg5a382023ffa3e37919527403)@lepinekong\_twitter or use something like:  
`loop 5 [probe now wait 0:0:5 do-events/no-wait]`

meijeru

[20:22](#msg5a38239fba39a53f1a774a24)@lepinekong\_twitter `quote` prevents evaluation of its argument, e.g. `quote a` evaluates to `a`, `quote (1)` evaluates to `(1)`. With words, `quote a` is thus equivalent to `'a`.

lepinekong\_twitter

[20:31](#msg5a3825a1a2be466828b92fd2)@luce80 thanks it works

[20:32](#msg5a3825f903838b2f2a0e1be3)@meijeru ok thanks

## Tuesday 19th December, 2017

dockimbel

[11:57](#msg5a38fec01a4e6c8223292445)https://twitter.com/red\_lang/status/943087849074712576

[11:58](#msg5a38feeca2be466828bd3059):small\_red\_triangle: :smiley: :small\_red\_triangle:

9214

[11:58](#msg5a38fef8ba39a53f1a7b681a)@dockimbel ya know, it's by BD today :smirk:

dockimbel

[11:59](#msg5a38ff2d540c78242de1f987)@9214 This tweet is then officially your BD :gift: then. ;-)

9214

[11:59](#msg5a38ff3b0163b02810554a6e):birthday:

rebolek

[12:01](#msg5a38ffad1a4e6c822329288d)That's not even a teaser!

dockimbel

[12:02](#msg5a38ffd81a4e6c8223292920)@rebolek Can't say more for now, you'll know all of it in a few days, when I'll find time to write a (long) article to explain it all.

rebolek

[12:03](#msg5a390010ba39a53f1a7b6d04)It would be better for me to know nothing and get the surprise when it's ready ;)

9214

[12:03](#msg5a39002d0163b02810555019)what are your bets, gentlemen? :shipit:

[12:04](#msg5a39003b1a4e6c8223292b26)it has something to do with AV vendors banishing...

dockimbel

[12:04](#msg5a390050ffa3e3791956af18)Whatever you can think of, it's bigger. ;-)

rebolek

[12:06](#msg5a3900c603838b2f2a12266a)Google is going to rewrite everything in Red.

[12:07](#msg5a3900e803838b2f2a12270d)Can't get much bigger than that ;)

9214

[12:07](#msg5a3900ea232e79134d6a025c)@9214 forgot how to breathe

dockimbel

[12:09](#msg5a39018b232e79134d6a0640)@rebolek Haha, that could be fun too, but no, something more future-oriented. ;-)

rebolek

[12:10](#msg5a3901d2540c78242de20893)Hmmm...

maximvl

[12:11](#msg5a3901f1c65707ba2b6e0af5)https://media1.tenor.com/images/c10e5764f2141fd9c6ac2ea88464dcab/tenor.gif

dockimbel

[12:12](#msg5a390219232e79134d6a08d9):santa: :sparkles:

maximvl

[12:12](#msg5a390238c65707ba2b6e0d32)the big news, hah? ok, you got all my attention :D

9214

[12:13](#msg5a3902560163b0281055599f)my speculations about documentation page update weren't groundless after all :shipit:

maximvl

[12:15](#msg5a3902f40163b02810555e0c)@dockimbel btw is it possible to share more on Red investors and sponsors and the process? I would say transparency can be good in this case

dockimbel

[12:16](#msg5a390323232e79134d6a0f2e)@maximvl Those aspects should be clarified after the announcement.

maximvl

[12:17](#msg5a390343ba39a53f1a7b7ef8)ok, I just remember there was a post about a grant long time ago

[12:17](#msg5a39035fc65707ba2b6e144f)but not much about focus, team, vision etc

dockimbel

[12:18](#msg5a390395ffa3e3791956c23b)@maximvl Not a grant, but a private investment for setting up our company (Fullstack Technologies Ltd), which is sponsoring the Red open source project.

maximvl

[12:18](#msg5a3903aba2be466828bd4a19)I see

[12:19](#msg5a3903c1ffa3e3791956c345)actually for me the big news would be announcement of Red conferences across the world :D

dockimbel

[12:19](#msg5a3903e81a4e6c8223293f13)@maximvl I think you will get most of the answers to those questions in my announcement article, and the big discussions that would happen after that. ;-)

maximvl

[12:20](#msg5a390412c65707ba2b6e17c0)ok ok, I just can't wait)

[12:21](#msg5a390433540c78242de21648)or maybe the Karl is back? xD

dockimbel

[12:21](#msg5a39043bc65707ba2b6e18af)@maximvl Well, that could easily happen next year, and the Red community should play a big part in it.

9214

[12:21](#msg5a39043fa2be466828bd4d43)Carl*

dockimbel

[12:22](#msg5a390472c65707ba2b6e1a77)@maximvl Nope. Very cold. :smile:

[12:23](#msg5a3904d4ffa3e3791956cb0e)I can just say that it is a group of related big news, and the Red community will play a major (even central) role in it. ;-)

[12:27](#msg5a3905a5540c78242de22008)It is also a big bet on the future, so not without risks, but that's often the way you make progress.

maximvl

[12:28](#msg5a3905d3ba39a53f1a7b8e2b)well, you started it so we trust you anyways, not much choice here :D

dockimbel

[12:32](#msg5a3906d503838b2f2a124b61)@maximvl I am pretty sure you and everybody in the community will be very excited by the new possibilities, both on technical and community aspects. It should be a big leap forward for us all here, and we'll need all your combined brain power next year to make it a big success (not just for the core team, but for each and every community member... that last part is a key part...hint hint. :smirk: )

maximvl

[12:33](#msg5a39070403838b2f2a124c4c)sounds like you want donations

[12:33](#msg5a3907085355812e57f337a4)kidding )

dockimbel

[12:33](#msg5a3907241a4e6c8223295109)Haha, actually the exact opposite. ;-)

rebolek

[12:33](#msg5a390728ba39a53f1a7b95d3)Red brain implants will be mandatory in China?

dockimbel

[12:33](#msg5a39073003838b2f2a124d90)Maybe I should stop there before ruining the announcement effect. :smile:

maximvl

[12:33](#msg5a390737c65707ba2b6e2a61):D

dockimbel

[12:34](#msg5a39075fba39a53f1a7b9740)@rebolek Yes, you will have to implant a USB-C compatible plug in the back of your head in order to participate. ;-)

rebolek

[12:35](#msg5a39078bc65707ba2b6e2c8d)Cool, I should order one from Ali express.

9214

[12:36](#msg5a3907b703838b2f2a124ff5)Redcoin..?

dockimbel

[12:36](#msg5a3907ba540c78242de22bc8)@rebolek Be sure to check that they are "Red certified". ;-)

rebolek

[12:36](#msg5a3907e303838b2f2a1250d1)will do :)

maximvl

[12:37](#msg5a390816540c78242de22d08)ok guys see you after the announcement :D

dockimbel

[12:37](#msg5a390817232e79134d6a2d74)@9214 Bigger than that. ;-)

maximvl

[12:37](#msg5a390819ffa3e3791956dd59)I still need to work

[12:37](#msg5a39081f1a4e6c822329565a)otherwise can't do it

rebolek

[12:38](#msg5a3908450163b02810557e2c)Same here, I have work to do, not time for speculations :smile:

BeardPower

[13:39](#msg5a39169f232e79134d6a8ce9)@dockimbel  
&gt; @maximvl Not a grant, but a private investment for setting up our company (Fullstack Technologies Ltd), which is sponsoring the Red open source project.

Are you making an ICO? ;-) It's so popular these days.

[13:41](#msg5a39171dba39a53f1a7bf332)&gt; Haha, actually the exact opposite. ;-)

Do I smell bug/code bounties?

pekr

[14:17](#msg5a391f7e0163b02810560ced)I wonder, if the Red community can stand few trolls here or there :-)

[14:18](#msg5a391fb0ffa3e37919577a9f)FT buyging Roku to get Carl onboard would be my bet, but as Carl got already dismissed, has to be something else ...

lepinekong\_twitter

[14:30](#msg5a39229b03838b2f2a12f76f)I'm trying to do reactive programming with red seems I don't understand how it works :) my field stays blank https://gist.github.com/lepinekong/da3922c10fc70b4ed61b788a4e35fb33

pekr

[14:41](#msg5a392520a2be466828be210a)Self hosted Red, throwing R2 away, now that would be BIG, along with cross-compilations to the new targets!

gltewalt

[14:43](#msg5a3925a50163b028105628eb)On board with RedHat?

pekr

[14:44](#msg5a3925c91a4e6c82232a13b8)In future, I would really welcome Red entering the robotics. And various ARM boards, sensors, etc.

BeardPower

[14:45](#msg5a39260700d569114bc5218b)Or the company in Redmond? Sorry, if someone got offended ;-)

pekr

[14:46](#msg5a39265b00d569114bc52371)Well, I would be satisfied even with 0.6.4. Anything bigger is more than welcome :-)

BeardPower

[14:47](#msg5a3926721a4e6c82232a17c4)Whatever it is, Santa comes fully loaded, and I'm in.

JacobGood1

[14:48](#msg5a3926cb5355812e57f40600)Excited here as well, in any case, good marketing @dockimbel =)

BeardPower

[14:49](#msg5a392700ffa3e3791957aa37)If it comes with I/O for TCP/TLS etc., it's perfect timing, as I can use Red to implement a TCP client/server instead of Nim.

JacobGood1

[14:50](#msg5a3927271a4e6c82232a1b90)I've got it all figured out... HostileFork is joining the red team.

BeardPower

[14:50](#msg5a3927440163b02810563250)The suspense is killing me.

gltewalt

[14:50](#msg5a392745540c78242de2eef8)Huawei?

BeardPower

[14:52](#msg5a3927a6a2be466828be2f82)We are all hired for the new company? :smile:

JacobGood1

[14:57](#msg5a3928d6ffa3e3791957b6c7)Doc: " we'll need all your combined brain power next year to make it a big success (not just for the core team, but for each and every community member... that last part is a key part...hint hint. "

Max: "sounds like you want donations"

Doc: "Haha, actually the exact opposite. "

@BeardPower inferring from that exchange, it would seem that Doc desires to pay community members for work done, or even hire some members. So you might be on to something.

rokf

[14:59](#msg5a39295703838b2f2a13213a):rainbow: :sparkles: :shipit:

pekr

[15:00](#msg5a39297103838b2f2a1321cc)Or guys run some Red powered Bitcoin farm, so they have enough money to rent your PC, to make even more money ....

BeardPower

[15:00](#msg5a39299bba39a53f1a7c6834)@JacobGood1 It would make sense, at least to me, based on hist hints. In case I missed an ETA, was there specific date for the announcement?

rebolek

[15:01](#msg5a3929c15355812e57f4161b)Christmas

BeardPower

[15:01](#msg5a3929cbba39a53f1a7c6952)Ahh! Well then :)

pekr

[15:02](#msg5a392a17232e79134d6b1139)Hopefully Christmas 2017 though!

gltewalt

[15:03](#msg5a392a4f03838b2f2a132768)Corporation is formed and anyone who has a commit gets a bunch of shares?

JacobGood1

[15:04](#msg5a392a8600d569114bc53b6a)@gltewalt I better go find a small spelling error somewhere and commit a fix for it.

gltewalt

[15:05](#msg5a392abc03838b2f2a132a0e):+1:

BeardPower

[15:06](#msg5a392af200d569114bc53e4b)@gltewalt Maybe the new company is a non-profit one :)

gltewalt

[15:06](#msg5a392b0a00d569114bc53ee9)boo

BeardPower

[15:07](#msg5a392b26ffa3e3791957c3a8)Why boo?

[15:09](#msg5a392ba4ffa3e3791957c621)In case there was a misunderstanding: A non-profit company, not an unprofitable company.

maximvl

[15:11](#msg5a392c06540c78242de30cb6)@JacobGood1 btw about hostilefork

[15:11](#msg5a392c1500d569114bc5458d)he doesn't really follow red, does he?

[15:11](#msg5a392c3a232e79134d6b1da4)I don't recall seeing him here

JacobGood1

[15:12](#msg5a392c6f00d569114bc547bd)I have no idea, but we should probably not start a discussion about hostile ;)

BeardPower

[15:13](#msg5a392c861a4e6c82232a3dfd)I'm not that much of an "insider", so would you mind explaining about him? Is he some other code genius?

maximvl

[15:13](#msg5a392c9e1a4e6c82232a3e60)oh you don't know dr Golfstanopetrovich?

BeardPower

[15:14](#msg5a392cc1ffa3e3791957cbe3)No, but it seems I should.

maximvl

[15:14](#msg5a392cc85355812e57f426ba)one sec

[15:14](#msg5a392ccf5355812e57f426cd)https://www.youtube.com/watch?v=iDKaz1iB9wQ

[15:14](#msg5a392cd95355812e57f42705)this crazy guy :D

rebolek

[15:14](#msg5a392cec5355812e57f42760)@BeardPower Hostile Fork is working on Ren-C which is language based on Rebol 3 and somehow similar to it.

BeardPower

[15:15](#msg5a392d045355812e57f427c9)I only read some posts, which were from this nickname. Don't know if they were from the same guy.

[15:15](#msg5a392d0ba2be466828be56db)Thanks!

maximvl

[15:15](#msg5a392d1f03838b2f2a133abd)just watch the video it's more than enough

BeardPower

[15:26](#msg5a392fa3a2be466828be6928):laughing: :+1:

rokf

[15:46](#msg5a393471ba39a53f1a7caea6)what a magnificent beard :smile:

BeardPower

[15:47](#msg5a39349e232e79134d6b59ba)What history told us: Great stuff comes from guys with beards ;-)

BuilderGuy1

[16:35](#msg5a393fd3540c78242de388e1)@dockimbel It's starting to sound like you have a training center/site setup. Am I close?!?

lepinekong\_twitter

[17:36](#msg5a394e3b5355812e57f4f1b0)I'm sorry to disturb you but anybody knows how to answer my question about reactive programming ;) why does field stays blank ? https://gist.github.com/lepinekong/da3922c10fc70b4ed61b788a4e35fb33

greggirwin

[18:03](#msg5a39548603838b2f2a142d61)@lepinekong\_twitter, have you read the official reactive docs at https://doc.red-lang.org/en/reactivity.html? From that, you can see that you need a reactive source to react to. A plain block (`portfolio`) is not a reactive source. It also tells you that Red's reactive model is a push model, not a pull model. Conceptually, then, reactors don't do anything without some kind of action happening first. In your example, there is no action, no change, that would trigger the `react` block in your view code.

lepinekong\_twitter

[18:10](#msg5a3955fe03838b2f2a1433e2)@greggirwin not yet I looked at the slider example http://www.red-lang.org/2016/06/061-reactive-programming.html I can't see difference with mine but ok will read your link first

greggirwin

[18:13](#msg5a3956d6540c78242de40348)

```
to-int: function [value [percent!]][to integer! 255 * value]
view [
        below
        r: slider
        g: slider
        b: slider
        base react [
            face/color: as-color to-int r/data to-int g/data to-int b/data
        ]
]
```

In the above example, the `base react` block is reacting to changes from the `r g b` sliders. The base face has no color until you move those, yes? And those sliders are reactive sources, which trigger the change.

lepinekong\_twitter

[18:15](#msg5a395747ffa3e3791958c8d4)@greggirwin yeah but in real world use cases not everything comes from the UI changes, it can just came from data fed from network or memory which is in fact what you can find in other languages frameworks as databinding

greggirwin

[18:21](#msg5a395897ffa3e3791958cfdb)You can do that in Red too. Reactive sources are just special objects.

[18:22](#msg5a3958cf540c78242de40fef)And faces are built on the foundation of reactive objects.

lepinekong\_twitter

[18:30](#msg5a395ad8232e79134d6c39f1)"You can do that in Red too. Reactive sources are just special objects.": what do you mean :)

greggirwin

[18:53](#msg5a3960140163b02810578252)They are Red objects with a couple special "hidden" functions in them, that allow them to trigger reactive events. If you do `print mold/all deep-reactor!` or `print mold/all reactor!`, you can see those hidden functions. You don't need to understand them, you just need to know that they work. :^) They are explained in https://doc.red-lang.org/en/reactivity.html#\_reactive\_objects.

[18:54](#msg5a39607d0163b028105783b3)I use one in this example: https://gist.github.com/greggirwin/38883ca5109175a60896d2f406ee49f6

rokf

[19:04](#msg5a3962ce0163b02810579019)The most beginner friendly example for reactivity from https://doc.red-lang.org/en/reactivity.html is probably this `a: make reactor! [x: 1 y: 2 total: is [x + y]]`.

greggirwin

[19:05](#msg5a3962e9ba39a53f1a7dac52)+1 I should remember that.

lepinekong\_twitter

[20:19](#msg5a39743e5355812e57f5c2a6)@rokf I have seen that example already but I can't see how I can use it WITHIN an UI like in my case.

[20:30](#msg5a3976e00163b02810580315)@greggirwin @rokf have tried this still doesn't work https://gist.github.com/lepinekong/2b434fd4f3e3fe73fe20df59add9428b

greggirwin

[20:55](#msg5a397ca75355812e57f5f3a5)@lepinekong\_twitter, please read the docs. It looks like you have some fundamental misunderstandings. For example, you're making a reactor, but not setting a word to refer to it. In the `react` block, you need that. You're also putting your `stock` definition after the reactor would be created, so it has no value to use when making the reactor. In your VID code you have the `react` block being set to the `data` facet. It would be clever if it worked that way, but it doesn't. You need to update the face inside the react block.

[20:56](#msg5a397cf603838b2f2a150ea7)When things don't work, pare it down. Start with something \*really* simple.

```
a: make reactor! [x: 1 y: 2 total: is [x + y]]
view [
    text react [face/text: form a/total]
    button "change" [a/x: random 10]
]
```

[20:57](#msg5a397d2da2be466828c02fff)If that works for you, see if you can understand \*how* and \*why* it works, as you read the docs. Then you can change things and see when they break.

x8x

[21:01](#msg5a397e2b0cef4fed2ebe8b24)Ohh.. I missed the preannouncement..

[21:01](#msg5a397e3851915d962afd4552)&gt; Haha, actually the exact opposite. ;-)

[21:02](#msg5a397e4a0cef4fed2ebe8b27)Great! Because I need a job! So Dear Santa here is the Red carpet :smile:

[21:03](#msg5a397e9d19147ac3231adafc)My guess, Musk just found out that to get on time on the Red Planet he has to rewrite every system in Red

lepinekong\_twitter

[21:24](#msg5a398389540c78242de4f640)@greggirwin when replace text by field why it doesn't work: a: make reactor! \[x: 1 y: 2 total: is \[x + y]]  
view [  
field react \[face/text: form a/total]  
button "change" \[a/x: random 10]  
]

greggirwin

[21:36](#msg5a398653ffa3e3791959cf27)It works for me on Win7. What OS are you on?

lepinekong\_twitter

[22:20](#msg5a3990b71a4e6c82232c858e)@greggirwin tried again it works at loading but not when clicking on change button (symbol not changing): https://gist.github.com/lepinekong/0dd198d745b4a80031241e8c1b430388

greggirwin

[22:28](#msg5a39927ca2be466828c0a8e7)Excellent @lepinekong\_twitter. I think you are now up against a syntax detail that you could file a wish ticket for. That is `:x` seems not to be detected by the reactive framework because it's a set-word, not a regular word. You can work around it though.

```
portfolio: [
    ["GOOG" 1000 [1018.07 07/12/2017] [1046.67 13/12/2017]]
    ["AAPL" 100 [175.95 18/12/2017] [177.80 19/12/2017]]
    ["FB" 200 [176.29 04/12/2017] []]
]

trade: make reactor! [
  x: 1
  symbol: is [pick pick portfolio x 1]
]
 
view [
    field react [face/data: form trade/symbol]
    button "change" [trade/x: random length? portfolio]
]
```

lepinekong\_twitter

[22:29](#msg5a3992b9ba39a53f1a7ebb49)@greggirwin great I was feeling stupid otherwise ;)

greggirwin

[22:29](#msg5a3992bb03838b2f2a158721)Even path paren syntax works!

```
portfolio: [
    ["GOOG" 1000 [1018.07 07/12/2017] [1046.67 13/12/2017]]
    ["AAPL" 100 [175.95 18/12/2017] [177.80 19/12/2017]]
    ["FB" 200 [176.29 04/12/2017] []]
]

;trade: make reactor! [
;  x: 1
;  symbol: is [pick pick portfolio x 1]
;]
trade: make reactor! [
  x: 1
  symbol: is [portfolio/(x)/1]
]
 
view [
    field react [face/data: form trade/symbol]
    button "change" [trade/x: random length? portfolio]
]
```

[22:30](#msg5a3992f8ba39a53f1a7ebcbc)Now you'll be the expert when someone else has that problem.

lepinekong\_twitter

[22:31](#msg5a39935f232e79134d6d80b6)@greggirwin it's fine for now if I can use (x)

rokf

[22:32](#msg5a3993920163b02810589e92):clap:

greggirwin

[22:40](#msg5a39955203838b2f2a159579)@lepinekong\_twitter if you open a wish ticket for that feature, I will submit a PR for it. The change was quick and easy. BUT, that doesn't guarantee my PR will be accepted. There may be deeper implications I can't see at a glance here.

[22:51](#msg5a3997d91a4e6c82232cb133)I'll also add a note to https://github.com/red/red/wiki/Reactivity.

[23:02](#msg5a399a8a540c78242de56d91)My PR isn't good. Needs more thought. Reactions for regular words aren't created correctly.

[23:23](#msg5a399f8d03838b2f2a15c8a1)Think I have it now.

## Wednesday 20th December, 2017

lepinekong\_twitter

[00:35](#msg5a39b0355355812e57f6fe87)@greggirwin never done this and what PR means :)

greggirwin

[01:19](#msg5a39ba9f540c78242de5fb93)Ah! Go to https://github.com/red/red/issues and click on New Issue. Fill out the information there, we can tag it as a "wish", and then link it to the code. PR means Pull Request, which is how code changes are submitted for approval and integration.

[01:19](#msg5a39babea2be466828c16a10)Look at some of the other issues to get an idea of how to name and format yours.

dockimbel

[02:43](#msg5a39ce6f03838b2f2a168f86)@JacobGood1  
&gt; I've got it all figured out... HostileFork is joining the red team.

That happened in an alternate reality. ;-)

[02:46](#msg5a39cef7540c78242de64b7b)@gltewalt Our company was formed in 2015, we haven't advertised it much so far, because we focused on pure Red R&amp;D.

[02:48](#msg5a39cf6000d569114bc89d7e)@JacobGood1  
&gt; @gltewalt I better go find a small spelling error somewhere and commit a fix for it.

You are on to something there... ;-)

[02:49](#msg5a39cfc8ba39a53f1a7fd035)@BuilderGuy1  
&gt; @dockimbel It's starting to sound like you have a training center/site setup. Am I close?!?

Nope, very cold. ;-)

[02:54](#msg5a39d0dd1a4e6c82232da2e1)@x8x  
&gt; My guess, Musk just found out that to get on time on the Red Planet he has to rewrite every system in Red

Terraforming Mars would take too much time, the Moon is a better option. ;-)

9214

[03:48](#msg5a39dd780163b0281059e7bb)@dockimbel winking so rapidly I think he over-excited himself and got a tic ;)

dockimbel

[03:48](#msg5a39dd9403838b2f2a16c6e0)@9214 ;-)

BuilderGuy1

[04:06](#msg5a39e1bf540c78242de696a9)@dockimbel Ok...I got it !! Red now runs as a RumpKernel and we can modularize everything!! No needs an OS. Just add modules to create your computing environment :+ I've got to be close this time ! :sparkles:

dockimbel

[04:08](#msg5a39e252ffa3e379195b730b)@BuilderGuy1 Closer yes, but we went a step further and figure out a way to implement a Red interpreter using brain neurons, so you can upload it in your brain directly, and have Red with(in) you all the time. ;-)

BuilderGuy1

[04:09](#msg5a39e2671a4e6c82232de90d)Man...this was so much easier as a kid... I could set my calculator watch to wake me up at 2am, sneak into the living room and open all my presents WEEKS in advance of X-mas!! ...Tweets just don't work the same. Darn.

[04:09](#msg5a39e27a540c78242de699a9)@dockimbel SWEEET !!! SIGN ME UP !!!

gltewalt

[04:55](#msg5a39ed47a2be466828c22c56)Totally mangled all of my git stuff just trying to do the thing that @JacobGood1 was joking about :sparkles:

JacobGood1

[05:05](#msg5a39efb2a2be466828c23512)@dockimbel you have caused quite a bit of hype over your tweet, I hope that it is something really, really, reeeeeally... good

9214

[05:35](#msg5a39f6bb0163b028105a4380)@dockimbel sometimes you just need to stop tease the public and start to write an article :D

dockimbel

[05:36](#msg5a39f6c40163b028105a439d)@JacobGood1 We'll try our best to not disappoint you. ;-)

[05:37](#msg5a39f7060163b028105a4523)@9214 I probably will write it over the weekend, as I am way too busy during this week. I am also really looking forward to the big discussions that will follow after the article will be posted. We'll need to open a new room here, maybe even several ones, to handle all the questions.

9214

[05:42](#msg5a39f82803838b2f2a172b84)jeez

dockimbel

[05:46](#msg5a39f94c03838b2f2a173001)I am also thinking about starting using a new more forum-like platform, like maybe Discord. Gitter realtime chat is nice for fast interactions, but not good enough for digging through archives and past discussions. We need a more browsable platform.

9214

[05:47](#msg5a39f9701a4e6c82232e3cde)agreed, though Discord is more gamer-oriented

[05:47](#msg5a39f989ffa3e379195bc8e5)plus another community migration (SO chat -&gt; Gitter -&gt; ?)

dockimbel

[05:48](#msg5a39f9c2540c78242de6f1a7)We need something forum-like (modern style, no PHP boards), with an HTTP API, so we can build custom Red clients for it.

[05:50](#msg5a39fa1d0163b028105a50e1)@9214 Not necessarily, Gitter is still great for fast interaction, but maybe more suitable only for:  
\* quick Q/A and coordination between code contributors and Red core team  
\* quick bug cross-checking  
\* users/newcomers quick help  
\* private direct chats

[05:50](#msg5a39fa2a1a4e6c82232e3f82)The rest could be moved to a new forum platform.

9214

[05:52](#msg5a39fa90540c78242de6f4ed)I guess we need to list existing options first, then start a discussion

dockimbel

[05:53](#msg5a39fae300d569114bc94288)@9214 Yes, I won't have time to handle the details for that myself, so it will be up to you guys to come up with the best set up. Gregg and PeterWAWood will be helping manage that.

9214

[05:55](#msg5a39fb3f00d569114bc943c2)to get the ball rolling:  
\* https://www.discourse.org/  
\* https://rocket.chat/

dockimbel

[05:56](#msg5a39fb96ba39a53f1a8075f9)@9214 Ah "Discourse" right, not "Discord". :+1:

9214

[05:57](#msg5a39fbc7540c78242de6f9ed)Discord ain't that bad either, just not suitable for programming community

teamtad\_twitter

[05:57](#msg5a39fbc8232e79134d6f368a)\[!\[image.png](https://files.gitter.im/red/red/RP5r/thumb/image.png)](https://files.gitter.im/red/red/RP5r/image.png)

[05:57](#msg5a39fbccba39a53f1a8076fb)Since we are on the topic on discussion boards ... may I request you to take a look at one I developed. I am an architect and a lot of my thinking is visual. My discussion board is called "standing space" -- in that people who login becomes avatars, and they move around on a circular "information garden" then they leave post-it notes into various locations. They can also chat with others who have logged in -- groups are formed automatically based on who gathers together in the white rooms inside spaces inside

I developed it in Meteor and I am not happy with the speed, etc. It works quite well but I have not yet launched it as the rest of my ecology for supporting it, etc is not yet ready. Also main site is very verbose http://www.standingspace.com

[05:58](#msg5a39fbf95355812e57f82f7c)I would love to rewrite standing space in RED

[06:01](#msg5a39fca2ffa3e379195bd429)The advantage of "Standing Space" over regular discussion board is that every note is visual -- and they become memorable visual symbols. So there is no concept of "pagination" You do not lose the note at all. Even the search is visual ... If you give the search terms, and press the search button it will animate those notes which contain the search. This is how it happens in real world architecture. So my experience is that as you put more and more notes, it becomes more and more useful -- as there is no pagination at all

gltewalt

[06:52](#msg5a3a0899ba39a53f1a80ac77)No php would probably mean Discourse  
Or: https://nodebb.org/  
Or the above from TAD Master.

greggirwin

[07:19](#msg5a3a0f025355812e57f88634)@greggirwin is taking notes. Thanks for the link @teamtad\_twitter, will check it out.

9214

[07:27](#msg5a3a10e100d569114bc9a662)@teamtad\_twitter interesting idea

pekr

[07:34](#msg5a3a128bffa3e379195c3367)If the commit remark is onto something a bit, it might be Red getting new investors, getting enough money to reward each community accepted commit as a motivation factor to boost the development process :-)

[07:36](#msg5a3a12eeffa3e379195c34d4)If only my girlfriend would know, that I have already got my Christmas presents in advance ;-)

[07:50](#msg5a3a1657232e79134d6fb114)Hmm, and the Moon remark ... Mozilla?

rokf

[08:18](#msg5a3a1cb80163b028105aeb78)Where does the Mozilla - Moon connection come from? Never heard of that. :open\_mouth:

rebolek

[08:21](#msg5a3a1d9c0163b028105af0a6)Me neither. But Moon is very often referenced in cryptocurrencies.

[08:22](#msg5a3a1dc2540c78242de79577)`blockchain!` type would be very easy to add.

pekr

[08:36](#msg5a3a2103232e79134d6fe594)There is special edition of Mozilla called Oon something

rokf

[08:48](#msg5a3a23f2232e79134d6ff4fb)Also Lua = Moon :wink:

teamtad\_twitter

[09:23](#msg5a3a2c23ffa3e379195cb944)@greggirwin @9214 and others ... Standingspace is free. You can easily register one (Ignore the payment link. It doesnt work ;-) ) -- you'll get a discussion board with 6 topics in it. I want to re-implement it using RED with some mechanism for websocket (possibly from websocketd.org) . If there is sufficient interest, I'll hasten the process :-) I would love to obtain feedback on the work. Thank you

rebolek

[10:36](#msg5a3a3d3e0163b028105b9a88)@dockimbel what about https://www.discourse.org/

9214

[10:37](#msg5a3a3d621a4e6c82232f91be)@rebolek great minds \[think alike](https://gitter.im/red/red?at=5a39fb3f00d569114bc943c2) :point\_up: :)

lepinekong\_twitter

[10:37](#msg5a3a3d711a4e6c82232f9216)@greggirwin ok thanks will do it this WE.

rebolek

[10:37](#msg5a3a3d7ba2be466828c3b182)@9214 oh, cool :)

[10:39](#msg5a3a3df20163b028105b9fec)@9214 OTOH when I read what our discourse admin writes about it, it may not be the best idea :)

9214

[10:40](#msg5a3a3e13540c78242de843a4)I guess we can do some test drive for Discourse and Rocket.Chat on weekends (though I have really busy week :()

[10:41](#msg5a3a3e50a2be466828c3b601)oh and there's a paywall https://payments.discourse.org/pricing

teamtad\_twitter

[10:41](#msg5a3a3e5e0163b028105ba25c)I use Mattermost for my own community-- quite stable. Quite easy to setup. The API is quite rich and easy to use. A very good slack clone. Written in Go

(But eventually I would move my community to Standing Space :-) )

rebolek

[10:42](#msg5a3a3e8703838b2f2a1884a6)Mattermost looks to me very Gitter-like

teamtad\_twitter

[10:43](#msg5a3a3ec9540c78242de84747)It is self-hosted so data remains with you. Very active community. Visually yes, Gitter, Mattermost, RocketChat, Slack... all of them are similar

rebolek

[10:44](#msg5a3a3efda2be466828c3b989)So it's not actually a forum :)

teamtad\_twitter

[10:47](#msg5a3a3fc9ba39a53f1a81ca4e)Nowadays lines between Forum and Chat are blurred. In discourse too, they have websocket push so it is almost like a chat only.

Another route is to use one of the various Facebook-for-organizations clone. Bitrix24 is one of them. Then there is Socialcast (Free upto 50 only from last I know) Yammer is famous as Microsoft took it over and integrated with a product of theirs. All of them attempt to replace intranets, group discussions etc

[10:49](#msg5a3a402b03838b2f2a188b09)@9214 Discourse paywall is only when you purchase from them. I have self hosted Discourse for another project on my own server

9214

[10:49](#msg5a3a40470163b028105babc7)@teamtad\_twitter okay then

teamtad\_twitter

[10:51](#msg5a3a40a91a4e6c82232fa585)If you want a Trello kind of discussion then I would strongly recommend Kanboard. Written in PHP, it is very robust. I don't like the clunky interface but someone could write a theme for that. I like the fact that the database is in sqlite. Backup is simply copying one file

pekr

[10:59](#msg5a3a42985355812e57f9a087)Well, hopefully we will not lose the chat as an option.

rebolek

[11:04](#msg5a3a43b503838b2f2a18a4ae)Nenad wrote that Gitter is very useful for discussion, so I don't think so.

dockimbel

[11:33](#msg5a3a4a995355812e57f9cbae)Gitter has some useful features, but they don't cover all the needs, so my wish is to complete it with a forum-like platform. I guess we can all agree on that.

rokf

[11:34](#msg5a3a4ac3ffa3e379195d61a0):thumbsup:

maximvl

[11:52](#msg5a3a4ee45355812e57f9e438)agreed, gitter is good for quick response but not for long discussions

BeardPower

[12:57](#msg5a3a5e37540c78242de8ff35)Absolutely. History and search functionality is a drag, at best.

[12:58](#msg5a3a5e6c00d569114bcb50d3)So PHP is an absolute no-go? Because there are some new, lightweight solutions around.

teamtad\_twitter

[13:04](#msg5a3a5fc2ba39a53f1a828287)My two-bits: Retaining raw data developed in the system is what I would give high priority. Recall of the location of some piece of information -- especially when the data has grown large is also high priority. Search, to me should be more of "Find" rather than search (In search, we sometimes uses synonyms and then even search can't locate the text) Anything which provides all those would be fine with me.

JacobGood1

[14:34](#msg5a3a750300d569114bcbd464)&gt; @JacobGood1 We'll try our best to not disappoint you. ;-)

@dockimbel I was fishing for extra information with that comment, it did not work... no bites =(

pekr

[15:51](#msg5a3a870bffa3e379195ec76a)Not sure my understanding is correct, but I've just read an article on one Czech server, stating, that starting from August 2018, Google Play will accept only apps adhering to the Android 8.0 Oreo specs (you will be able to run it on older devices), and starting from August 2019, only 64 bit apps are going to be accepted. Hopefully we get to 64 bits sooner than that ....

gltewalt

[20:10](#msg5a3ac3a9540c78242deb4215)nodeBB looks pretty decent, if you don't mind the look of Bootstrap

[20:10](#msg5a3ac3ab1a4e6c822332bb3d)https://github.com/NodeBB/NodeBB

[20:28](#msg5a3ac7d0ba39a53f1a84df52)Can use Redis

[20:44](#msg5a3acb95540c78242deb6bd0)Red team could always bribe a couple gurus to get together and make a forum app with Redbol. Convert it to pure Red when possible.

## Thursday 21st December, 2017

gltewalt

[00:59](#msg5a3b07645355812e57fde298)`gui-console.red` does not include `input.red`, but `console.red` does. Why?

dockimbel

[06:24](#msg5a3b5381c072deaf0be7af53)@gltewalt Because the GUI console uses its own input routines, while `input.red` relies on system shell input. Anyway, that is changing as the GUI console in 0.6.4 has been rewritten to use the View engine extensively.

maximvl

[12:11](#msg5a3ba4d903838b2f2a1fa94e)have you guys heard about kkrieger?

[12:11](#msg5a3ba4f2a2be466828cad74c)it's FPS with decent graphics and everything is in 96kb of memory

[12:11](#msg5a3ba4f6c072deaf0be956ba)https://www.youtube.com/watch?v=\_qrsHqDF4BA

[12:14](#msg5a3ba5890163b0281062b17d)&gt;The entire game uses only 97,280 bytes of disk space. In contrast, most contemporary first-person shooters filled one or more CDs or DVDs.\[2] According to the developers, .kkrieger itself would take up around 200–300 MB of space if it had been stored the conventional way.

BeardPower

[12:36](#msg5a3baad9ffa3e37919645a0d)@maximvl Yes, I played it a few years ago. German engineering 🤓. It needs a lot of RAM to run, because of its procedural nature.

teamtad\_twitter

[15:51](#msg5a3bd869e43a7a150c8f9ca4)Wow! That's quite neat @maximvl I work in 3D and doing rendered images with such a small program is really nice. I wish I could incorporate that into my own work. I've written a building information modeler (BIM) My central passion for around 30 years now. The executable is reasonably small (Not small as .kkrieger) -- but I concentrated on getting the data file being extremely small, rather than worry about the executable file. I can talk about a lot of buildings in full 3D and the data file is in kilobytes even for very large ones. This is the work for which I want RED to be a scripting language. See the screeshots and explanations at www.teamtad.com If there are architects here, maybe they could download it (It's free) and try it out.

9214

[16:06](#msg5a3bdc18ba39a53f1a8a195c)@maximvl https://fgiesen.wordpress.com/2012/02/13/debris-opening-the-box/

rebolek

[18:45](#msg5a3c01541a4e6c822338e7d6)Hm, I wonder what @qtxie is working on... \*"qtxie starred Pithikos/C-Thread-Pool - A minimal but powerful thread pool in ANSI C"*

BeardPower

[18:47](#msg5a3c01c803838b2f2a21c61d)Concurrency is in Santas bag 🤓

pekr

[19:13](#msg5a3c07df03838b2f2a21e33f)Well, in one of the commits, you can see kqueue and kevent. It might be just a part of general POSIX API, but also libevent and libuv are based upon that. And as far as I remember, Doc planned for an event library implementation similar to those two named

RnBrgn

[21:16](#msg5a3c24b0a2be466828cdab76)Post on Reddit about Red's "lexical scoping". May need some clarification.  
https://www.reddit.com/r/programming/comments/7l4nwz/writing\_gui\_apps\_using\_the\_red\_programming/

gltewalt

[21:21](#msg5a3c25dc5355812e57039257)It doesn’t have lexical scoping

greggirwin

[21:22](#msg5a3c261a232e79134d7a7c15)@BeardPower, Santa \*really* needs concurrency for his work, don't you think?

BeardPower

[21:44](#msg5a3c2b5ae43a7a150c915f19)@greggirwin Absolutely. And remember: Always lift with your legs.

greggirwin

[21:51](#msg5a3c2cdec072deaf0bec5606):^) I have a friend who always tells people "Drive fast and take chances!" or "Remember, lift with your back while jerking sharply and twisting."

BeardPower

[22:02](#msg5a3c2f6b1a4e6c822339cc07)That's the spirit. :v:

unreadable

[23:16](#msg5a3c40ce0163b028106607b9)Are there benchmarks comparing red lang :smile:

[23:16](#msg5a3c40d0e43a7a150c91c958)?

## Friday 22nd December, 2017

qtxie

[01:45](#msg5a3c63cc1a4e6c82233ab22a)@rebolek Yes. I want to implement a thread pool in R/S.

WayneCui

[03:37](#msg5a3c7dfa03838b2f2a240019)This statement just block the console, on ubuntu 16.04 LTS,

```
find/skip make vector! [1 4 4 4 5 6] 4 0
```

[03:40](#msg5a3c7ec61a4e6c82233b1981)and for negative number:

```
>> a: find/skip make vector! [1 4 4 4 5 6] 4 -1
== make vector! [4 0 11 35 5 0 11 37 6 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0...
>> a
== make vector! [4 0 11 35 5 0 11 37 6 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0...
>> length? a
== 6
```

PeterWAWood

[03:44](#msg5a3c7fb91a4e6c82233b1ccb)@WayneCui It looks like a bug. Please could you submit a bug on Github.

WayneCui

[03:47](#msg5a3c804ae43a7a150c92c5a3)OK,I will do it.

PeterWAWood

[03:48](#msg5a3c80815355812e57051c11)Thanks.

WayneCui

[05:23](#msg5a3c96e95355812e57056d3a)You are welcome. Just submit an issue.

rebolek

[06:31](#msg5a3ca6bc03838b2f2a249a7e)@qtxie cool! :yum:

lepinekong\_twitter

[13:56](#msg5a3d0f17ba39a53f1a8fce1e)How to avoid integer! overflow/underflow this works with to-base58 "Hell" works but crashes with to-base58 "Hello" https://gist.github.com/lepinekong/e7c22f2b91d17d2d9e4d0d0dc15085d6

9214

[16:27](#msg5a3d32790163b028106a7153)@lepinekong\_twitter use `float!`?

lepinekong\_twitter

[18:45](#msg5a3d52dda2a87ea0215f614e)@9214 can't see how I can use float! since the algorithm requires to get the integer part of division https://www.youtube.com/watch?v=GedV3S9X89c&amp;t=1m10s

[18:59](#msg5a3d5600b48e8c356657212e)@9214 you're right found a way thanks :) div: to-float cum  
while \[div &gt; 0] [  
remainder: mod div 58  
append remainders remainder  
div: divide (div - remainder) 58  
]

9214

[18:59](#msg5a3d56190163b028106b2e28)@lepinekong\_twitter what's the difference?

```
>> 4415860 % 58
== 30
>> 4415860.0 % 58.0
== 30.0
```

[19:00](#msg5a3d5632c072deaf0bf1d7aa)you can convert them back to `integer!` when it comes to indexing

lepinekong\_twitter

[19:05](#msg5a3d577fffa3e379196ceca8)@9214 maybe I misunderstood what you mean but the crash doesn't come from that line but from that one div: to-integer (divide div 58)

[19:06](#msg5a3d57ae0163b028106b3569)@9214 but yes I now use float and change formula of that line to div: divide (div - remainder) 58 and it works

9214

[19:06](#msg5a3d57b3a2a87ea0215f7ed4)@lepinekong\_twitter I told that algorithm won't differ much if you use float values for computations

lepinekong\_twitter

[19:08](#msg5a3d5811a2a87ea0215f814f)@9214 yes I now use float but when I use float result was weird I had also to change div: (divide div 58) to div: divide (div - remainder) 58

9214

[19:22](#msg5a3d5b6ab48e8c3566573de8)@lepinekong\_twitter

```
unfold: function [spec][
    to string! collect [
        repeat i length? bitset: charset spec [
            if bitset/:i [keep to char! i]
        ]
    ]
]

to-base58: function [string][
    base58: rejoin [
        exclude unfold [#"0" - #"9"] "0"
        exclude unfold [#"A" - #"Z"] "IO"
        exclude unfold [#"a" - #"z"] "l"
    ]
    
    acc: 0
    repeat i length: length? string [
        index:  length - i
        factor: 2.0 ** (index * 8)
        acc:    acc + multiply to float! string/:i factor
    ]
    
    to string! collect [
        foreach index reverse collect [
            until [
                keep add to integer! acc % 58 1
                zero? round acc: acc / 58
            ]
        ][
            keep base58/:index
        ]
    ]
]
```

lepinekong\_twitter

[19:53](#msg5a3d62c103838b2f2a286860)@9214 nice will study it :)

unreadable

[20:53](#msg5a3d70c7ffa3e379196d749f)what's aiming red for?

[20:53](#msg5a3d70e1c072deaf0bf26244)GUI/scripting/networking/system programming/etc ?

rebolek

[21:05](#msg5a3d73af0163b028106bc0cf)@unreadable all of it, see http://www.red-lang.org/p/about.html

[21:06](#msg5a3d73bec072deaf0bf26f8e)https://3.bp.blogspot.com/-xhOP35Dm99w/UuXFKgY2dlI/AAAAAAAAAGA/YQu98\_pPDjw/s1600/reichart-abstraction-diagram.png

unreadable

[21:09](#msg5a3d746eb48e8c356657b994)well, seems pretty big, but I don't think it'll be the swiss army

[21:09](#msg5a3d7484b48e8c356657b9e6)Is it LLVM backed?

[21:09](#msg5a3d7499ffa3e379196d8b0c)How does compares to Go/C++/Java when it comes to speed?

greggirwin

[21:09](#msg5a3d749e0163b028106bc57a)@unreadable, what kind of benchmarks? Red/System is 2-4x slower than C, as we have no optimizations yet. Red is high level, so comparable to the Python/Ruby level of langs. Faster on some things, maybe slower on others.

unreadable

[21:09](#msg5a3d74a4e43a7a150c9783f7)too many questions, such a short life

greggirwin

[21:10](#msg5a3d74b7c072deaf0bf2753f)No LLVM. All self contained. Red compiler emits machine code directly.

unreadable

[21:10](#msg5a3d74d7e43a7a150c9784a5)very interesting project, but the api seems from another universe

greggirwin

[21:10](#msg5a3d74de03838b2f2a28c5ec)JITs will be us for now as well, but we'll get JIT at some point too.

[21:11](#msg5a3d7505b48e8c356657bbe7)How so? Have you looked at the redLib docs (if that's the API you're talking about)?

unreadable

[21:11](#msg5a3d7509232e79134d80c708)are there any http frameworks or something like awesome red

[21:12](#msg5a3d752bba39a53f1a91e400)No, I'm talking about the language interface, for example I've seen some example of codes and looks like json/html sort of

greggirwin

[21:12](#msg5a3d7531a2a87ea02160143c)Hmm, can't see to edit typos on gitter today.

unreadable

[21:13](#msg5a3d7573c072deaf0bf278b9)a self contained language seems pretty big nowadays, excepting go and other old languages, there aren't any other that do this

greggirwin

[21:13](#msg5a3d7577c072deaf0bf278c0)Don't know what "awesome" is, but you can just `read http://...` and it will work. No HTTP server stuff yet. Full I/O will come in 0.7.0.

[21:14](#msg5a3d759c0163b028106bca27)It's neither JSON nor HTML, but it is its own data format.

unreadable

[21:14](#msg5a3d75bea2a87ea021601621)awesome-lang stands for a git page usually with all the packages that are worth it or whatever

[21:14](#msg5a3d75c2ffa3e379196d922a)e.g. https://github.com/avelino/awesome-go

greggirwin

[21:14](#msg5a3d75c4c072deaf0bf279be)It inherits from Lisp, Forth, and Logo, which Rebol did as well, and really look most like Logo in many ways.

[21:15](#msg5a3d75fa0163b028106bcb73)The readme on github has links to some resources, and you can get a sense of the base language from any older Rebol things online as well. Red has some difference, but the core language principles are the same.

unreadable

[21:17](#msg5a3d76520163b028106bcdd8)I'm looking into it, I'm mostly interested in the gui stuffs, but for now the linux support is not out

[21:17](#msg5a3d7653b48e8c356657c2de)yet

greggirwin

[21:17](#msg5a3d766b232e79134d80cd77)Correct. Use Wine if you can, for now.

rebolek

[21:25](#msg5a3d785effa3e379196d9fcc)@unreadable I have some (client) HTTP stuff \[here](https://github.com/rebolek/red-tools/blob/master/http-tools.red)

[21:26](#msg5a3d787effa3e379196da035)Sadly, Wine does not support networking

## Saturday 23th December, 2017

gltewalt

[06:40](#msg5a3dfa70232e79134d82a5cf)is `glass` and `transparent` supposed to be rgba?

9214

[07:13](#msg5a3e0232c072deaf0bf470bb)@gltewalt yes, they are fully transparent colors (and the same)

```
>> glass = transparent
== true
```

gltewalt

[07:14](#msg5a3e025c5355812e570bf988)Backwards in source. On windows 7 the alpha channel seems to have no effect

9214

[07:15](#msg5a3e02a2e43a7a150c997e5d)yeah, I noticed that on Win7 transparency doesn't work as expected, sometimes color just get all black

[07:16](#msg5a3e02bd03838b2f2a2ac259)IIRC @qtxie told something about that, can't remember what exactly

gltewalt

[07:16](#msg5a3e02c3b48e8c356659c72e)Yes, all black, because 0.0.0 is black

9214

[07:17](#msg5a3e02f4a2a87ea02162115b)@gltewalt have you tried `0.0.0.254`?

gltewalt

[07:17](#msg5a3e0305ba39a53f1a93eefd)Yes. No change.

9214

[07:18](#msg5a3e0331ffa3e379196f8f03)might be worth a ticket, but consult `gui-branch` first

gltewalt

[07:19](#msg5a3e036cffa3e379196f9031)Yeah, I'll look. I think I remember something about new gui console for 0.6.4 though

[08:06](#msg5a3e0e770163b028106dedb7)Is `glass` transparent on windows 10 or some other system?

rokf

[08:21](#msg5a3e12115355812e570c3415)It's transparent on 8.1, tested just now.

9214

[08:34](#msg5a3e150b232e79134d8304fb)on Wine too

gltewalt

[08:41](#msg5a3e16d5c072deaf0bf4b8d2)ok

[08:55](#msg5a3e19ecffa3e379196fe565)I see there was some confusion at one point. #2684

[09:13](#msg5a3e1e4aba39a53f1a944e1f)Looks like `as-rgba` name didn't get changed to `as-argb`, and there's another func `make-rgba`. :confused:

dockimbel

[09:19](#msg5a3e1f85e43a7a150c99e309)@gltewalt

```
>> help  make-rgba
No matching values were found in the global context.
```

gltewalt

[09:19](#msg5a3e1fabba39a53f1a945341)It's in tuple.reds

dockimbel

[09:19](#msg5a3e1fb9a2a87ea021627c51)R.G.B.A is the format for color values with alpha channel (as `tuple!`) and that should not change.

[09:20](#msg5a3e1fc7a2a87ea021627c6b)@gltewalt That's a R/S function, so irrelevant at Red level.

gltewalt

[09:22](#msg5a3e206c5355812e570c6a50)Is he not using argb though? In rgba 0.0.0.255 should be fully opaque black, no?

dockimbel

[09:24](#msg5a3e20eb5355812e570c6ce4)@gltewalt

```
>> transparent
== 0.0.0.255
```

[09:25](#msg5a3e2104232e79134d833405)Fully opaque black is: `0.0.0.0`.

gltewalt

[09:31](#msg5a3e2286ba39a53f1a945eeb)zero is transparent in the alpha channel. At least coming from css it is

dockimbel

[09:45](#msg5a3e25d0ffa3e37919701136)@gltewalt In Redbol, we rely on the notion of \*transparency* (you ask: "how transparent it is?", not "how opaque it is?"), which is more human-friendly than \*opacity* (which is an alpha channel mask), so we should maybe rather call our pixel format RGBT, rather than RGBA. That said, given that it can cause confusion with other popular coding environments that don't care as much about human-friendliness as we do, we might revise that choice before 1.0.

gltewalt

[09:46](#msg5a3e26130163b028106e3fb3)Oh, I see.  
Thanks for the clarification.

dockimbel

[09:48](#msg5a3e2680ba39a53f1a946cdc)I think it is worth a ticket in red/docs, about renaming the pixel format to RGBT, until we make a final decision.

lepinekong\_twitter

[10:07](#msg5a3e2afeffa3e379197025f9)@unreadable the language is powerfull but at the same time easy to allow people with no programming experiences to do things easily see https://dev.to/lepinekong/red-for-hopeless-programmers---part-i-3g0 and https://dev.to/lepinekong/red-for-hopeless-programmers---part-ii-258

[10:10](#msg5a3e2b80ba39a53f1a94829b)@unreadable by language api I guess you mean class and method. You can create instances of objects like in javascript. There's no class (like Javascript) and yet no module system (but it'll come in the future if I read well)

[10:34](#msg5a3e311ab48e8c35665a6ef9)@9214 my new version as well as yours have still integer overflow with to-base58 "Lépine KONG" whereas it should give L5Bvv8N4Sq9Zjcr :) https://www.browserling.com/tools/base58-encode

9214

[10:58](#msg5a3e36c6ba39a53f1a94ac79)@lepinekong\_twitter Red doesn't have `bignum!` datatype yet, you may consider to implement this algorithm in a different language

unreadable

[11:25](#msg5a3e3d24ba39a53f1a94c9fa)@lepinekong\_twitter language API should be pretty straightforward, the way the programming language looks like. What you're guessing with class and methods means OOP(object oriented programing) ;)

lepinekong\_twitter

[13:59](#msg5a3e612e03838b2f2a2c2880)@9214 I'm looking for another algorithm without requiring big integer maybe this one https://github.com/trezor/trezor-crypto/blob/master/base58.c ?

[18:00](#msg5a3e99a1a2a87ea02164573b)2#{00000001} ; -&gt; #{01}  
enbase/base #{01} 2 ; -&gt; "00000001"

[18:00](#msg5a3e99d55355812e570e4d08)Is there a way to convert "00000001" back to 2#{00000001} ?

9214

[18:03](#msg5a3e9a8f0163b028107006a3)@lepinekong\_twitter `debase`

lepinekong\_twitter

[18:04](#msg5a3e9a91a2a87ea021645b7e)@unreadable you can do OOP with Red and more like automodified code since data ~ code which you cannot do in other traditional languages. It has some drawbacks like any language has. Module is the most lacking but it should come.

[18:04](#msg5a3e9abbffa3e3791971eb28)@9214 &gt;&gt; debase/base #{01} 2  
\*\** Script Error: debase does not allow binary! for its value argument

[18:05](#msg5a3e9ada0163b028107007b4)@9214 ok thanks debase/base "00000001" 2

9214

[18:05](#msg5a3e9adf03838b2f2a2d1f32)@lepinekong\_twitter

```
>> enbase/base #{01} 2
== "00000001"
>> debase/base "00000001" 2
== #{01}
```

lepinekong\_twitter

[18:06](#msg5a3e9b13a2a87ea021645eec)@9214 I'm going to try to create base58 with that :)

[18:14](#msg5a3e9d0aa2a87ea021646771)Red split is different from Rebo 3 split ? What would be the equivalent of Rebol 3

[18:14](#msg5a3e9d13ffa3e3791971f40e)probe split "1234567812345678" 4 http://www.rebol.com/r3/docs/functions/split.html

9214

[18:18](#msg5a3e9dea03838b2f2a2d2c09)@lepinekong\_twitter

```
>> x: "1234567812345678"
== "1234567812345678"
>> parse x [collect some keep 4 skip]
== ["1234" "5678" "1234" "5678"]
```

lepinekong\_twitter

[18:18](#msg5a3e9defa2a87ea021646ae1)I want to do reserve of

[18:18](#msg5a3e9df0e43a7a150c9bd039)to-binary \[1 0] ; -&gt; #{0100}

9214

[18:20](#msg5a3e9e50232e79134d85300d)

```
text
>> to binary! [1 0]
== #{0100}
>> collect [foreach x #{0100} [keep x]]
== [1 0]
```

lepinekong\_twitter

[18:22](#msg5a3e9efb0163b02810701872)@9214 thanks

gltewalt

[19:13](#msg5a3eaaca03838b2f2a2d65da)Figured out that my Win7 issue was because it has to be set to "Best Appearance" to render transparency

[19:13](#msg5a3eaaeaa2a87ea02164a426)It works on `box` and `base`

greggirwin

[20:11](#msg5a3eb8730163b0281070819f)@gltewalt that may be worth a note in a wiki.

[20:15](#msg5a3eb957b48e8c35665c9e16)@lepinekong\_twitter, I helped develop the R3 `split` function, and hope we can make it into Red. But I have put some thought into redesigning it, so you have specific funcs for certain types of splitting. We still want to leverage common code as much as possible, too.

gltewalt

[20:36](#msg5a3ebe5b0163b02810709a60)Remember we want `split/at`

[21:06](#msg5a3ec56003838b2f2a2dcab8)@greggirwin Where would I put that in the Wiki?

lepinekong\_twitter

[22:09](#msg5a3ed416a2a87ea02165426e)@greggirwin yeah R3 split function would be really nice in Red, guess name will be something else since split name already exists maybe cut.

[22:12](#msg5a3ed4be5355812e570f329f)@9214 I think I have the idea for base58 without requiring big integer. I would use to-binary "Hello" -&gt; hex and divide directly in hex base by #{3A} which is 58.

[23:48](#msg5a3eeb3aba39a53f1a976c07)parse "48656C6C6F" \[collect some keep 6 skip]

[23:48](#msg5a3eeb49e43a7a150c9cf47d)gives \["48656C"]

[23:49](#msg5a3eeb7dc072deaf0bf7ecee)@9214 How to get \["48656C" "6C6F"] not just \["48656C"] ?

## Sunday 24th December, 2017

greggirwin

[00:13](#msg5a3ef1415355812e570f9d1d)@gltewalt How about https://github.com/red/red/wiki/VID-and-View-(GUI)-hints-and-tips for now. Maybe add a header for platform specific notes.

[00:14](#msg5a3ef167ffa3e37919733ccd)@lepinekong\_twitter I think we can replace the current split with the more advanced version without issue.

9214

[07:29](#msg5a3f5776ba39a53f1a98b905)@lepinekong\_twitter

```
>> parse "48656C6C6F" [collect some keep [6 skip | thru end]]
== ["48656C" "6C6F"]
>> parse "48656C6C6F" [collect some keep [9 skip | thru end]]
== ["48656C6C6" #"F"]
```

you'll need to work around last edge case

[07:33](#msg5a3f5856ffa3e37919748557)&gt; I would use to-binary "Hello" -&gt; hex and divide directly in hex base by #{3A} which is 58

you can't apply arithmetic operations directly to `binary!` value

maximvl

[11:55](#msg5a3f95ab232e79134d889368)ok guys I still see no announcement

[11:56](#msg5a3f95d4a2a87ea02167d61b)was it on critsmas time this year on 2018? :D

pekr

[12:21](#msg5a3f9bc3c072deaf0bfa2dc7)Well, Christmas is still not over over the World ....

9214

[12:21](#msg5a3f9be5a2a87ea02167ef9e)@dockimbel "Where's the announcement? Where's it? Where's it?"  
https://www.youtube.com/watch?v=J72GOv3G738

maximvl

[12:30](#msg5a3f9deab48e8c35665fb5e0)@9214 lol I can't stop lathing on this moment because of this video

[12:30](#msg5a3f9decc072deaf0bfa34f1)https://www.youtube.com/watch?v=enOHraf3LEk&amp;list=PLAEB286C039A1A25E&amp;index=3

9214

[12:32](#msg5a3f9e5f0163b0281073b3b8)"...like a lot" :D

[12:33](#msg5a3f9e8aa2a87ea02167f874)@maximvl you've made my day :+1:

maximvl

[12:34](#msg5a3f9edaba39a53f1a99bfff)there is no way I can rewatch the dark knight without lathing hard on this scene :D

lepinekong\_twitter

[12:49](#msg5a3fa264b48e8c35665fc404)@9214 cum: to-binary "Thank you very much, @9214" ;  
parse mold cum \[thru "#{" copy cum-hex to "}"]  
parse cum-hex \[collect some keep \[6 skip | thru end]]

[12:50](#msg5a3fa285ba39a53f1a99cd59)Works great: \["546861" "6E6B20" "796F75" "207665" "727920" "6D7563" "682C20" "403932" "3134"]

[12:50](#msg5a3fa2b2ffa3e3791975a7d0)@greggirwin good news for split

9214

[12:52](#msg5a3fa300232e79134d88c457)@lepinekong\_twitter

```
>> load #{796F752772652077656C636F6D65}
== [you're welcome]
```

lepinekong\_twitter

[12:56](#msg5a3fa3f803838b2f2a30d020)@9214 ;)

dockimbel

[13:04](#msg5a3fa5cfe43a7a150c9f7694)@maximvl Christmas gifts are delivered on 25th morning. ;-)

[13:05](#msg5a3fa606c072deaf0bfa50c2)I am writing the blog post already, but will post it on 25th morning HongKong time (GMT+8).

[13:05](#msg5a3fa632b48e8c35665fd444)You can read the nice Red article that I just retweeted in the meantime. ;-)

rebolek

[15:58](#msg5a3fce895355812e57129c04)Actually that depends on the country. Here in Moravia, Christmas gifts are delivered on Christmas Eve, 24th. But knowing when the article will be released is gift in itself, so thanks :)

9214

[16:53](#msg5a3fdb94ffa3e3791976953d)ahoy! it seems we're on the front page: https://news.ycombinator.com/item?id=16000015

maximvl

[18:20](#msg5a3fefee5355812e57131a45)hey, that's some advertisement :D

[18:20](#msg5a3feffdb48e8c356660f4ae)several timer per year Red makes it to the top of HN

tchoutri

[20:15](#msg5a400adba2a87ea021699493)hello there!

[20:16](#msg5a400b0a5355812e57137994)I'm trying to run the GUI example from the website, the simple `>> view [text "Hello World!"]`. But it fails, saying "\*\** Script Error: view has no value"

[20:16](#msg5a400b1c232e79134d8a5c6c)am I missing something that's not written on the website?

[20:16](#msg5a400b3603838b2f2a325a4f)I'm running Linux, btw

[20:18](#msg5a400b97e43a7a150ca0f815)oh, sorry, I'm seeing that it's not yet available on Linux

[20:18](#msg5a400b9bb48e8c3566615746)have a nice day o/

maximvl

[21:29](#msg5a401c50e43a7a150ca136db)@tchoutri hi, that's true, I'm also on Linux so cross-compiliation works very well with Wine

[21:30](#msg5a401c65e43a7a150ca13716)this may be an option to play with Red until GTK backend arrives :)

rebolek

[21:46](#msg5a40203903838b2f2a32a8e6)This is bug number one :)

PeterWAWood

[23:16](#msg5a40354903838b2f2a32f083)Could somebody with a Reddit account, please let Andre Garcia know about `#include` - https://www.reddit.com/r/redlang/comments/7lrunx/how\_to\_compile\_multiple\_files\_into\_single/

rebolek

[23:20](#msg5a40362b03838b2f2a32f2c7)Done.

PeterWAWood

[23:20](#msg5a40363803838b2f2a32f372)Thanks @rebolek

## Monday 25th December, 2017

gltewalt

[00:14](#msg5a4042dac072deaf0bfc8078)It’s Christmas morning Hong Kong time

PeterWAWood

[00:24](#msg5a40453f232e79134d8b2857)Christmas Day will be held on 7th January 2018 in Montenegro where Nenad's family originates.

There may be two weeks longer to wait ;-)

dockimbel

[00:59](#msg5a404d5b5355812e57145b2d)@tchoutri You can run it under Wine in the meantime.

[01:00](#msg5a404db3a2a87ea0216a7949)@PeterWAWood That's correct, 12 more days to wait is not that long. :-)

gltewalt

[01:17](#msg5a4051bfb48e8c356662597d):santa:

JacobGood1

[01:18](#msg5a4051cde43a7a150ca1e757)@dockimbel "Christmas gifts are delivered on 25th morning."

gltewalt

[01:19](#msg5a405221c072deaf0bfcad70):santa &lt;—— :rage3:

BeardPower

[01:23](#msg5a405325e43a7a150ca1eb44)Don't tease me, bro 😁

[01:24](#msg5a40534ee43a7a150ca1ebad)Merry Christmas everyone 🎁

JacobGood1

[03:09](#msg5a406bec0163b02810769083)@dockimbel announcement soon?

dockimbel

[03:30](#msg5a4070ecc072deaf0bfd106f)@JacobGood1 Writing it now...but it's a long article. ;-)

zcassini

[03:31](#msg5a407112c072deaf0bfd10c9)the suspense...

JacobGood1

[03:32](#msg5a407137ba39a53f1a9cc638)@dockimbel awesome, don't worry about grammar, spelling, or anything like that... just grunt the information if you have to

[03:35](#msg5a4071f35355812e5714ce5c)@zcassini I like your avatar, much better than mine =)

dockimbel

[03:38](#msg5a4072b1ba39a53f1a9cca24)@JacobGood1 You want me to make typos while announcing that we are moving the Red community to Mars using SpaceX ships? ;-)

zcassini

[03:38](#msg5a4072b3ba39a53f1a9cca27)@JacobGood1 its the grateful dead "steal your face" graphic teh RAcket languge was using for their offical logo some years ago, and somone changed the lambda symbol and colors to match clojure

[03:39](#msg5a4072df232e79134d8bbaa7)the new space suits run on red

JacobGood1

[03:41](#msg5a407367c072deaf0bfd17fa)I suppose I am actually delaying the announcement, so I shall shut my mouth(clinch my fists?) until the announcement...

dockimbel

[03:42](#msg5a40738fc072deaf0bfd186c)@JacobGood1 Extra hint: announcement\*\*s\*\*. ;-)

pekr

[03:42](#msg5a4073b1ffa3e3791978ae44)Red community should not move to Mars, but to LV426 instead. Terraforming is good, but beware - watch the aliens!

dockimbel

[03:43](#msg5a4073e75355812e5714d5ba)You can watch that while waiting: https://www.youtube.com/watch?v=gJ5KV3rzuag

[03:44](#msg5a407408232e79134d8bbe16)@JacobGood1 BTW, what's your local timezone?

JacobGood1

[03:44](#msg5a40741cb48e8c356662c259)10:44pm here

dockimbel

[03:45](#msg5a40745effa3e3791978b01f)Let me try to get that out before your bedtime.

KimRoach143\_twitter

[04:25](#msg5a407dba0163b0281076ca2c)To Red Family 🤗. https://dontgetserious.com/wp-content/uploads/2017/12/Merry-Christmas-Wishes-1.jpg

ghost~5680c5f416b6c7089cc058a5

[04:40](#msg5a40814b5355812e571501ff)@dockimbel Can't wait any longer!!! So bring on the announcement\*s\*.

[04:41](#msg5a4081650163b0281076d43c)Merry Christmas everyone! :santa:

9214

[05:29](#msg5a408c9d5355812e57152575)@9214 drools on the table and hyperventilates exhaustively

[05:43](#msg5a409002ffa3e37919790e45)@dockimbel keep the ball rolling  
https://www.youtube.com/watch?v=IBxywtW2Hbk

[05:46](#msg5a40909b03838b2f2a341ab6)with every new symbol typed in the article Bruce gets closer to brighter Red future ;)

dockimbel

[05:52](#msg5a409216b48e8c356663268d)@9214 ;-)

KimRoach143\_twitter

[06:39](#msg5a409d06c072deaf0bfda2f3)@dockimbel Looks like Santa is http://images2.onionstatic.com/clickhole/2441/5/original/800.jpg. or may be under the Gifts https://i2-prod.mirror.co.uk/incoming/article4828590.ece/ALTERNATES/s1200/Santa-Claus-and-presents.jpg

[06:41](#msg5a409db203838b2f2a3447bf)Or he need help https://media.istockphoto.com/photos/santa-claus-holding-a-big-gift-bag-picture-id143920302?k=6&amp;m=143920302&amp;s=170667a&amp;w=0&amp;h=8OgqvmGP1HprCqSBaaWDuyay0Y4imvSlgiq3dAbiWr4=

[06:47](#msg5a409ef8b48e8c35666350dd)\[!\[143920302.jpg](https://files.gitter.im/red/red/viWW/thumb/143920302.jpg)](https://files.gitter.im/red/red/viWW/143920302.jpg)

dockimbel

[07:58](#msg5a40afae232e79134d8c8f88)@KimRoach143\_twitter That's a good analogy, so many things to say and explain in that announcement...

pekr

[08:28](#msg5a40b6b4ba39a53f1a9db464)If you will see some strange chars here, it is not me becoming mad about an announcement, but my 11 months old son, constantly aproaching my notebook. We would need special parser though, to decode his intentions :-)

9214

[09:25](#msg5a40c403e43a7a150ca3605e)pageviews count on red-lang.org already crushed the ceiling

[09:27](#msg5a40c4685355812e5715ef67)but even Bran didn't see Santa sneaking through chimney :santa:

planetsizecpu

[10:28](#msg5a40d2b2c072deaf0bfe6a43)We wish you a merry christmas, We wish you a merry christmas, We wish you a merry christmas, and a happy new announcement!  
merry christmas to all redder people, stay with feet in ground don't go to mars :smile:

KimRoach143\_twitter

[10:30](#msg5a40d344e43a7a150ca39772)Or venus :wink:

9214

[10:30](#msg5a40d3600163b02810780404)or both

planetsizecpu

[10:31](#msg5a40d38be43a7a150ca39833)There is no planet size network in these planets, we can't share anything!

rebolek

[10:35](#msg5a40d46e5355812e57162fa1)What announcement?

9214

[10:36](#msg5a40d49ec072deaf0bfe7175)@dockimbel we've waited for too long, some of us already start to loose their minds :point\_up: :(

dockimbel

[10:37](#msg5a40d4e4ba39a53f1a9e22ea)Article is written, but reviewing for typos and improvements right now. Also waiting for the final ok of other reviewers.

9214

[10:37](#msg5a40d4f7e43a7a150ca39da5)mfw

[10:38](#msg5a40d50ea2a87ea0216c4605)\[!\[kyPhJRv.gif](https://files.gitter.im/red/red/lgKt/thumb/kyPhJRv.gif)](https://files.gitter.im/red/red/lgKt/kyPhJRv.gif)

KimRoach143\_twitter

[10:43](#msg5a40d64b03838b2f2a351e9f)@dockimbel then May be in USA time zone Morning, I guess 😂 From Hong Kong 🇭🇰 to USA cool 😎 🇺🇸

9214

[10:44](#msg5a40d6a503838b2f2a352111)@dockimbel might be worth to create rooms for discussion as you planned

[10:45](#msg5a40d6bcb48e8c3566641eb0)otherwise main channel will be overwhelmed

rebolek

[10:45](#msg5a40d6caffa3e379197a199c)I don't mind few typos.

dockimbel

[10:45](#msg5a40d6e4a2a87ea0216c4bf8)I will open a new room just after publishing the article.

pekr

[10:47](#msg5a40d75da2a87ea0216c4e4a)Can we expect news getting to the likes of HN, etc? I know such posts need good timing, to stay on top ...

x8x

[10:51](#msg5a40d84d81cd9a5d7ea21d29)Looks like Santa is currently delivering in Honolulu https://santatracker.google.com/tracker.html

[10:56](#msg5a40d96a0cef4fed2ebeb1a1)Live video of Santa https://www.noradsanta.org

OneArb

[11:02](#msg5a40dab6a2a87ea0216c5bdc) Merry Christmas to everyone!  
Keep in mind 2018 will bring one Red "killer app"  
With Doc today's announcement that's two gifts already!

pekr

[11:08](#msg5a40dc41a2a87ea0216c610e)How do you know? :-)

rebolek

[11:10](#msg5a40dca55355812e5716514c)@OneArb are you working on one? :)

KimRoach143\_twitter

[11:11](#msg5a40dce5232e79134d8d37f0)May be an awesome RAD IDE

OneArb

[11:12](#msg5a40dd07e43a7a150ca3b9b5)@rebolek 100%

rebolek

[11:12](#msg5a40dd2303838b2f2a353c08)cool :)

OneArb

[11:12](#msg5a40dd2803838b2f2a353c1a)@KimRoach143\_twitter Quite insightful

KimRoach143\_twitter

[11:15](#msg5a40ddecffa3e379197a3758)Or whole os purely written in Red and all the tools needed for all cross-platform development in one Bundle #Revolution.

pekr

[11:16](#msg5a40ddf9232e79134d8d3c17)https://memegenerator.net/img/instances/59261359/still-waiting-for-my-christmas-present.jpg

OneArb

[11:17](#msg5a40de54ba39a53f1a9e45a0)@KimRoach143\_twitter See Help channel for the first step

KimRoach143\_twitter

[11:18](#msg5a40de83c072deaf0bfe9620)@pekr 😂 😂 😂

OneArb

[11:19](#msg5a40dedab48e8c3566644020)@pekr There is one thriving ecosystem where Red could have a definite advantage.

KimRoach143\_twitter

[11:21](#msg5a40df2003838b2f2a35441d)@OneArb You mean mobile android and iOS 😉

OneArb

[11:23](#msg5a40dfa9ffa3e379197a3cea)@KimRoach143\_twitter I mean Bitcoin wallet scripting http://davidederosa.com/basic-blockchain-programming/bitcoin-script-language-part-one/

KimRoach143\_twitter

[11:24](#msg5a40dfde03838b2f2a354652)Oh very cool I am dumb 😆

[11:25](#msg5a40e00fb48e8c356664449d)Didn't looked in red/help

OneArb

[11:27](#msg5a40e087c072deaf0bfe9eee)I presume embedding Red REPL within C++ not to present any major hurdle?

dockimbel

[11:52](#msg5a40e669ba39a53f1a9e64c6)@pekr Can you remember when was the Rebol 1.0 release date and the Rebol Manifesto publication date?

pekr

[11:58](#msg5a40e7e5b48e8c3566646341)uh .... Google might be better answer .... but - Carl published Back to personal computing somewhere aroung 1995-95, when he left Viscorp.

[11:59](#msg5a40e816e43a7a150ca3e4f4)Apparently later - http://www.eskimo.com/~goody/links/back.to.prsnl.cmptng.html

dockimbel

[11:59](#msg5a40e819a2a87ea0216c8f73)I remember a "Manifesto", where he exposed Lava/Magma concepts around 1996-97. The title of the page had "Manifesto" in it.

pekr

[11:59](#msg5a40e8250163b02810785354)but maybe by "manifesto" you mean something different ....

dockimbel

[12:01](#msg5a40e880b48e8c35666465ad)Well, doesn't matter much actually, I just wanted to see if he released something on 25th Dec, 1997, as it would have been exactly 20 years later (Oh my...).

pekr

[12:03](#msg5a40e921ffa3e379197a5f50)Well, looking over my articles for Amiga Review, I don't have exact dates and moved over several PCs over the time, lost my Rebol Ally archives, I owned alphas since 0.6 ....

[12:04](#msg5a40e955232e79134d8d6842)Lava and MagmaOS ... that was the plan .... and multimedia being Carl's second name. Though Rebol never actually got into that area ....

[12:04](#msg5a40e966c072deaf0bfec2b2)Later on, Carl had different name in mind - Wildman OS ....

Cybarite

[12:13](#msg5a40eb65ffa3e379197a694e)Dr Dobbs article “Why Rebol Matters” has list of Rebol milestones. Says Rebol/Core 1.0 released in beta Aug-1998 and full release Sep-1998.

lepinekong\_twitter

[12:26](#msg5a40ee92e43a7a150ca3fc63)Merry Christmas everybody :sparkles: As for gift I'd like this feature for Red console: when one copy and paste code with "Ask" function console would actually wait for user to enter the input and not continue as if he entered newline whereas he didn't :smile:

lpvm

[13:29](#msg5a40fd4703838b2f2a35bcb9)@dockimbel Hi Nenad, although it's not going to happen any time soon,what many people fail to realize is that the macro is the same as the micro. Planets came from the sun, and planets move forward in orbits out of the Sun. So, in the place Earth is, Mars has been, and Venus will be. It's the same as in the micro, electrons that move out of the atom. The form is the same, the dimension is very different. But all this money and time that too many people spend to reach space is just silly. All the answers are here, within each of us.

9214

[13:30](#msg5a40fd72232e79134d8dbd51)2deep4me

lpvm

[13:32](#msg5a40fde35355812e5716da11)I'm very grateful for your work!

dockimbel

[13:37](#msg5a40ff06ba39a53f1a9ecb83)@lpvm Thanks!

[13:37](#msg5a40ff25a2a87ea0216ceaad)We should have published a few hours ago, but we got a last-minute naming issue... :worried:

9214

[13:42](#msg5a41006203838b2f2a35c9f7)https://www.youtube.com/watch?v=07So\_lJQyqw

pekr

[13:56](#msg5a41037e232e79134d8dd422)What does it mean - a naming issue? Clash with already some registered trademark or other publicly used name?

[13:59](#msg5a41044803838b2f2a35da87)So the first community task might be - let's find out a new nice name. We already held it for VID, Rebol/Services in the past. You would surely receive tens of suggestions .... if ... the article would get released :-)

[13:59](#msg5a41045dba39a53f1a9ee0c3)Well, can't push you more, you surely know what you are doing :-)

lepinekong\_twitter

[14:05](#msg5a4105b403838b2f2a35e037)@9214 yeah really nice tut https://wesleyhill.co.uk/p/writing-gui-apps-using-the-red-programming-language/ :)

[14:19](#msg5a4108dc5355812e571706bb)@OneArb @pekr agree for Blockchain ecosystem. Would be great if someone could implement robust libraries for base58, elliptic curve crypto,... I'm not red guru enough to do so :) I just do for Red learning purpose https://gist.github.com/lepinekong/e7c22f2b91d17d2d9e4d0d0dc15085d6

9214

[14:20](#msg5a410947232e79134d8debd6)@lepinekong\_twitter ?

[14:21](#msg5a410968ffa3e379197ae909)@lepinekong\_twitter you don't need to store alphabet as block of strings, use just string

[14:27](#msg5a410aef5355812e57171134)maybe if everyone starts to chant "Deshi basara" Santa will arise? :santa:

lepinekong\_twitter

[14:28](#msg5a410b13ffa3e379197af0a4)@9214 you're right but it's clearer for newbie ... like me :)

9214

[14:29](#msg5a410b2d232e79134d8df299)gtg home, hope to read something interesting while sipping green tea :tea:

KimRoach143\_twitter

[14:31](#msg5a410bbae43a7a150ca469a8)@9214 thanks for reminder I will get mine 🍵

pekr

[14:32](#msg5a410bf8e43a7a150ca46aff)3rd coffee since the morning already :-)

lepinekong\_twitter

[14:32](#msg5a410c0903838b2f2a35fa30)@9214 I've tried to search your base58 code on gitter, gitter is such a mess can't see how to narrow search :)

OneArb

[15:00](#msg5a4112a40163b028107902a3)@lepinekong\_twitter @pekr There is one alternative to rewriting cryptography functions in Red, use those already existing in the Bitcoin core wallet.

BeardPower

[15:06](#msg5a4113e10163b02810790709)Implementing cryptographic functions, which are reliable and bug-free is not an easy task. So you should rely on existing implementations, which are considered safe, bug-free and were audited.

OneArb

[15:15](#msg5a4115fc5355812e57174071)@lepinekong\_twitter @pekr

I intend  
integrate Red within one alt coin wallet  
a Bitcoin core wallet clone, that is  
max return min effort roadmap  
integrate LibRed API  
with or without REPL

JacobGood1

[15:30](#msg5a41198dffa3e379197b3003)woke up about an hour ago... no announcement =(

OneArb

[15:30](#msg5a4119a1b48e8c35666528f7)@BeardPower  
I agree / support / plan-on re-use the peer reviewed code within the trusted implementation of actual production code within a specific alt coin wallet.

Red can facilitate develop wallet UX. I identify two specific features that would both further Red proof-of-concept while benefiting an alt-coin.

BeardPower

[15:33](#msg5a411a4c03838b2f2a36381e)@JacobGood1 announcement(s) 😁

OneArb

[15:33](#msg5a411a57ffa3e379197b34c8)&gt; What does it mean - a naming issue? Clash with already some registered trademark or other publicly used name?

what about using a code name "Red Christmas" ;)

JacobGood1

[15:37](#msg5a411b51a2a87ea0216d61e2)ok, I give in, ANNOUNCEMENT(S)

[15:38](#msg5a411b740163b02810792b56)@BeardPower I assume you want 64 bit?

maximvl

[15:43](#msg5a411c9fba39a53f1a9f46f4)@JacobGood1 is it happening?

[15:43](#msg5a411cb5e43a7a150ca4b595)oh, I thought it's live :(

JacobGood1

[15:44](#msg5a411cc60163b0281079323a)no, were still here crying about it

dockimbel

[15:44](#msg5a411cde232e79134d8e3d07)&gt; We should have published a few hours ago, but we got a last-minute naming issue... :worried:

JacobGood1

[15:44](#msg5a411cf30163b028107932e5)it is getting late over in China as well...

[15:45](#msg5a411d085355812e5717608c)@dockimbel I do not suppose you stay up late do you?

dockimbel

[15:45](#msg5a411d34e43a7a150ca4b76c)I stay up as long as needed.

JacobGood1

[15:46](#msg5a411d4f5355812e57176189)Thanks for suffering it out =)

OneArb

[15:46](#msg5a411d6803838b2f2a3646d8)@dockimbel What about using a codename?

9214

[15:49](#msg5a411e1d232e79134d8e4235)@dockimbel always wondered... may I ask the meaning of your nickname? :)

dockimbel

[15:52](#msg5a411ea0e43a7a150ca4bd32)@9214 From \[there](https://en.wikipedia.org/wiki/The\_Fugitive\_%28TV\_series%29#Dr.\_Richard\_Kimble).

9214

[15:53](#msg5a411ee5e43a7a150ca4be59)@dockimbel nice, added to my watchlist

BeardPower

[15:53](#msg5a411ef55355812e57176993)@JacobGood1 As part of my wishlist. Nothing short of 128 bit support for the future 128 bit CPUs 😉

9214

[16:11](#msg5a41233903838b2f2a366219)@lepinekong\_twitter

```
unfold: function [spec][
    to string! collect [
        repeat i length? bitset: charset spec [
            if bitset/:i [keep to char! i]
        ]
    ]
]

to-base58: function [string][
    base58: rejoin [
        exclude unfold [#"0" - #"9"] "0"
        exclude unfold [#"A" - #"Z"] "IO"
        exclude unfold [#"a" - #"z"] "l"
    ]
    
    acc: 0
    repeat i length: length? string [
        index:  length - i
        factor: 2.0 ** (index * 8)
        acc:    acc + multiply to float! string/:i factor
    ]
    
    to string! collect [
        foreach index reverse collect [
            until [
                probe acc
                keep add to integer! probe (acc % 58) 1
                zero? round acc: acc / 58
            ]
        ][
            keep base58/:index
        ]
    ]
]
```

dockimbel

[16:11](#msg5a412344c072deaf0bffb088)Published! Brace for impact!

9214

[16:11](#msg5a41234d03838b2f2a366284)FUWAH?!

pekr

[16:12](#msg5a412351c072deaf0bffb0e5)Here we go!

9214

[16:12](#msg5a41235a5355812e57177cd7)shiiiiiiiiiiiiiiiieeeeeeeeet

KimRoach143\_twitter

[16:13](#msg5a41238d5355812e57177df3)Thank you 😊 🙏

dockimbel

[16:14](#msg5a4123f0ba39a53f1a9f696e)https://gitter.im/red/blockchain room opened for related discussions, as I expect a lot of questions. ;-)

ghost~5680c5f416b6c7089cc058a5

[16:20](#msg5a41253eba39a53f1a9f6e95)@dockimbel Its development will be in a branch of the main red/red repo or a private repo like for android?

dockimbel

[16:20](#msg5a41255bc072deaf0bffba05)Under red/ organization, fully open-source and public. The RCT token has been coded (using the bloody Solidity), and is under testing currently. We should move it to a public repo in a few days.

ghost~5680c5f416b6c7089cc058a5

[16:22](#msg5a4125de03838b2f2a366d7a)And android development will still be in the private repo or brought to the public red/red repo?  
(Sorry but after experiencing the really sad state of android w/ java development, I really want to try android w/ red ASAP (Much more ASAP than blockchains))

BeardPower

[16:24](#msg5a41263f5355812e571789f0)So I was right about an ICO 🤓

dockimbel

[16:24](#msg5a41265503838b2f2a366f99)@BeardPower Yep, but that is just a part of it. ;-)

[16:25](#msg5a41266ea2a87ea0216d9641)@nc-x We need to decide on the strategy for the Android-specific codebase. We have a working alpha version already, with a dozen widgets supported, though, mobile apps require more features than that. The ICO (if successful) should give us much more means to fund that too, including hiring extra coders from our community, if we find fitting profiles. ;-)

ghost~5680c5f416b6c7089cc058a5

[16:26](#msg5a41269ba2a87ea0216d96f5)@dockimbel :thumbsup:

dockimbel

[16:29](#msg5a41276403838b2f2a367458)@nc-x BTW, IIRC given your contributions record, you are eligible to some RCTs. ;-)

OneArb

[16:29](#msg5a412775ffa3e379197b6f44)I hate to raise a flag, but Ethereum ... I lean towards remaining coin agnostic.

dockimbel

[16:30](#msg5a412794a2a87ea0216d9a88)@OneArb We should move to the new chat room for such discussions.

ghost~5680c5f416b6c7089cc058a5

[16:31](#msg5a4127d9ffa3e379197b7062)@dockimbel Thanks! Though I don't know anything about cryptocurrencies. I hope I bring the RCT's to good use.

OneArb

[16:32](#msg5a4128310163b028107966e7)@dockimbel Did thanks, for reminding

rebolek

[16:33](#msg5a4128665355812e571794e6)@dockimbel Nice!

JacobGood1

[16:38](#msg5a41298aba39a53f1a9f8212)well, this is not the news I was hoping for, however, I wish the red team the best of luck =)

dockimbel

[16:39](#msg5a4129db03838b2f2a367eee)@nc-x  
&gt; Though I don't know anything about cryptocurrencies. I hope I bring the RCT's to good use.

This is a chance for you and many others here, who are not acquainted with such tech, to learn a lot about it!

[16:40](#msg5a412a0ae43a7a150ca4f007)@JacobGood1 What were you hoping for (just curious)?

9214

[16:41](#msg5a412a3ee43a7a150ca4f0a3)@dockimbel the questions is - where should we start? As you said, this topic is full of people who just throw dust in eyes and speculates (that's the main reason why I avoided all the hype and am still rather sceptical).

JacobGood1

[16:41](#msg5a412a5203838b2f2a3681ad)more immediate funds, a bigger team, and faster language development

OneArb

[16:42](#msg5a412a665355812e57179c99)@JacobGood1 Crypto is more than an alternative money, it is trust technology!

dockimbel

[16:42](#msg5a412a7bc072deaf0bffd043)@JacobGood1 That's covered in the last part of the announcement, though, it is still dependent on the success of the ICO. We should know in a few weeks the outcome of that.

OneArb

[16:42](#msg5a412a80232e79134d8e7787)A crypto will get all the funds you'd even need to use

JacobGood1

[16:43](#msg5a412a96ba39a53f1a9f86ca)Yes, I read that, I am just ready for Red 2.0 now

OneArb

[16:44](#msg5a412aee0163b028107971e8)@JacobGood1 What is the best roadmap to Red 2.0 and how many developers can be added to the project in an efficient manner?

JacobGood1

[16:45](#msg5a412b1eba39a53f1a9f8970)@OneArb I hope so, speculative investments are just that, speculation

[16:46](#msg5a412b60232e79134d8e7a5a)I said I wish them the best of luck, I really do hope the idea is successful

OneArb

[16:46](#msg5a412b72ffa3e379197b80bd)@JacobGood1 I can cite you many actual blockchain based project that do not rely on speculation and not even opened for investing

pekr

[16:48](#msg5a412be5a2a87ea0216dadc0)My question is - for the persons not knowing enough about all that blockchain stuff, apart from general possible fund raising effect - how can all that speed-up the Red development itself? Many ppl guessed incorrectly, speculating about 0.6.4, Android (0.6.5), IO (0.7), GC, or even self hosted or 64 bit variants of the toolchain, being developed behind the closed doors. Also - IOS was mentioned - what we know from the past is, that it in fact dragged out resources from the core development team, leading to drastic slow downs of the core language releases. I hope, my worries are highly unfounded?

JacobGood1

[16:51](#msg5a412c76ffa3e379197b8407)An investment in this sense is time, I would assume you could infer that from the context. Speculation: assumption that the investment of time will lead to a fruitful outcome. I was desiring an immediate solution announcement; "we received 10 billion from google, we will have 10000 devs working on red now".

OneArb

[16:53](#msg5a412d04a2a87ea0216db233)@pekr blockchain provides an immutable record keeping which replaces server-based repositories. This is the key feature, it cannot be tempered with. This drives mass appeal and massive investment.

[16:55](#msg5a412d6fb48e8c3566658485)@JacobGood1 an ICO is the way to get a couple millions for development, however the stronger the case can be made for Red, the more investment can be drawn towards Red 2.0

JacobGood1

[16:55](#msg5a412d84b48e8c35666585a9)@pekr it is simple, if they obtain monetary compensation for their efforts in crypto land, red development will speed up. However, if it is not successful, the development of red will be delayed, unless the open source community picks up the slack.

OneArb

[16:57](#msg5a412e02ba39a53f1a9f96ce)The real question is how to present Red as a viable language for blockchain. The entire blockchain eco-system runs through Script for Bitcoin and Solidity for Ethereum. I view Red as a stronger offer because it is interpreted / compiled / JIT agnostic

JacobGood1

[16:58](#msg5a412e265355812e5717abec)@OneArb I hope you are right, but objectively superior technologies are not always adopted en masse, or at all. Time will tell, I really, REALLY, hope you are right!

OneArb

[16:58](#msg5a412e4b5355812e5717ac4e)@JacobGood1 The real question is how many developers can Red add / pay and still remain an efficient effort?

JacobGood1

[16:59](#msg5a412e8bffa3e379197b8d5e)Too many real questions

OneArb

[17:00](#msg5a412ec7232e79134d8e8765)@JacobGood1 Bitcoin has been cited by every central banker that matters, it is not like it was hyped, it is now viewed as a threat to the banking industry. Bitcoin is the power to self-bank, but it's only one possible use of trusted ledgers or DLT Distributed Ledger Technology

JacobGood1

[17:04](#msg5a412faeb48e8c3566658eb4)@OneArb What does that have to do with Red doing well? Red's rise and fall is not contingent upon the success of bitcoin. It would be more dependent on whether people see it as a good technology for access to the cryptocurrency craze. Anyway, I have to go. Christmas celebration and all that =)

OneArb

[17:08](#msg5a413092c072deaf0bffea48)@JacobGood1 Bitcoin depends on real world projects using blockchain technology. Could focusing on actual use-case on how DLT is a productivity enhancement many well capitalized companies are willing to pay for today help line-up Red future and the coin idea?

BlackATTR\_twitter

[17:10](#msg5a41310603838b2f2a369c66)@dockimbel Congratulations on your bold vision for Red in the emerging blockchain market! Exciting news &amp; thanks for the community christmas present.

rebolek

[17:24](#msg5a413453232e79134d8ea1e3)So if Red is all-blockchain now, I should probably release my dialect for crypto trading on multiple exchanges.

OneArb

[17:31](#msg5a4135d6c072deaf0b0002dc)@rebolek you got a an exchange DSL?

rebolek

[17:31](#msg5a413601a2a87ea0216dd854)@OneArb yes, for Bittrex and Binance and can be extended to others easily.

OneArb

[17:33](#msg5a41367d5355812e5717ce5d)@rebolek you mean accessing their API, but doing what?

rebolek

[17:36](#msg5a413719b48e8c356665aa0b)@OneArb it's simple dialect over their API in form of `buy 3 ETH at 350 USD` etc.

lepinekong\_twitter

[17:45](#msg5a41393bc072deaf0b0010d1)@OneArb no each blockchain has api like for Pyhton

[17:46](#msg5a41395b0163b0281079ac2c)and there's a new kid on the blockchain https://hashgraph.com/

[17:46](#msg5a413965ffa3e379197bbb33)which has a lot of traction

[17:49](#msg5a413a1f03838b2f2a36c3a2)@OneArb yeah they're in c as I understand Red can embed c easily ?

[17:49](#msg5a413a3fba39a53f1a9fc8f3)@9214 put your code here so as not to search for it again https://gist.github.com/lepinekong/c9f5c5203cbfdaee2b5d337809f2b151

9214

[17:53](#msg5a413b1fba39a53f1a9fcc48)@lepinekong\_twitter :+1:

dockimbel

[17:59](#msg5a413c71e43a7a150ca53914)We got on HN front-page for the second time today: https://news.ycombinator.com/item?id=16004945

[17:59](#msg5a413c79b48e8c356665bd84)Please upvote! ;-)

gltewalt

[18:00](#msg5a413cc30163b0281079ba98)“Cannot be tampered with” that’s a mating call for every black hat, and rebel out there

9214

[18:05](#msg5a413de9c072deaf0b002591)now I see the trend - to get on the front page of HN, title of an article should contain one of the following buzzwords / buzzphrases:  
\* Electron / cross-platform GUI  
\* Crypto / blockchain  
\* Net neutrality  
\* Sexual harassment  
\* Equifax  
\* Javascript  
\* ..?

[18:09](#msg5a413ebeb48e8c356665c706)ah, and Elon Musk

[18:12](#msg5a413f82ba39a53f1a9fde7a)@dockimbel btw, @onetom mentioned https://www.notion.so/, I think it's another candidate for new community platform?

[18:12](#msg5a413f91a2a87ea0216e00dc)* https://www.notion.so/  
\* https://rocket.chat/  
\* https://www.discourse.org/

OneArb

[18:13](#msg5a413fb4232e79134d8ed6e5)@rebolek  
&gt; and there's a new kid on the blockchain https://hashgraph.com/  
I heard of it, promising, yet to be open source, requires a licence too...

onetom

[18:13](#msg5a413fc2c072deaf0b002cc3)@9214 notion.so is a paid solution though, so it's only feasible for a limited number of collaborators

9214

[18:14](#msg5a413feeffa3e379197bd4ed)@onetom dang!

OneArb

[18:15](#msg5a41403c232e79134d8ed8ef)@lepinekong\_twitter  
was intended to you...  
&gt; and there's a new kid on the blockchain https://hashgraph.com/  
I heard of it, promising, yet to be open source, requires a licence too...

BuilderGuy1

[18:15](#msg5a414058ba39a53f1a9fe178)@dockimbel What is the current plan for Red/Core? When will development continue there? From what I have read and understood, there will a delay in Red/Core development to get this new foundation setup. Is there an estimated date for the next release of Red? When might the graphical aspects of Red for Mac &amp; Linux reach what is implemented for Windows?

rebolek

[18:16](#msg5a41408fffa3e379197bd709)@OneArb thanks, I'll take a look at it.

9214

[18:19](#msg5a414148232e79134d8edce5)@dockimbel do you have a plan B if this idea will backfire?

KimRoach143\_twitter

[18:21](#msg5a414199c072deaf0b003426)@9214 I think He is sleeping 💤 😴 Hong Kong 🇭🇰 2:30 am I think

9214

[18:21](#msg5a4141a2e43a7a150ca54f2a)@dockimbel and is there any external support to your team? (I mean, private investors, interested authorities and such)

dockimbel

[18:22](#msg5a4141caa2a87ea0216e09d6)@9214 No need for one, we continue on previous plan. ;-)

[18:22](#msg5a4141f8b48e8c356665d639)@9214 Yes, but there are some advisors and supporting companies.

rebolek

[18:24](#msg5a4142575355812e571800d1)@dockimbel any estimate how far are we from 0.6.4?

9214

[18:24](#msg5a41425eba39a53f1a9feb2e)@dockimbel good then. I think it's risky, yet reasonable decision, though I'm a liiitle bit upset by the fact that language developement is slightly delayed, and yet I clearly undestand that it's a price we need to pay for possibly brighter future and solid ground

dockimbel

[18:25](#msg5a41427c0163b0281079d2e1)@BuilderGuy1 As said in the article the plans for Red/Core are unchanged, just a little delayed. The ICO is sucking all our resources for now, so we expect to resume full speed developement around between mid and end ofJanuary.

[18:25](#msg5a41429003838b2f2a36e691)@9214 You sumed it up perfectly. It was not an easy decision for me to take.

OneArb

[18:27](#msg5a4142feba39a53f1a9fed51)@@rebolek  
There are opportunities to monetize. There is one exchange API related project I consider. From an investor's perspectiveexchanges do not provide any statements, just raw transactions. There are features to deliver yet to be available in this space.

dockimbel

[18:28](#msg5a414355232e79134d8ee49e)@rebolek We need to finish the scrollers support (just a couple of days), then redesign the textbox support, and eventually add a thin dialect to support richtext description. Then the last part is about adding the console plugin API, and switching the roles between console and compiler binaries. That's about a few weeks of work, should not be more than a month.

KimRoach143\_twitter

[18:29](#msg5a41436ca2a87ea0216e11d8)@dockimbel on which website you will put white papers and offerings on like https://microventures.com

OneArb

[18:29](#msg5a41439f0163b0281079d681)@dockimbel Can you please reassure Red is going to remain code base agnostic, in particular mentioning Ethereum?

rebolek

[18:29](#msg5a4143a5c072deaf0b003bcd)@dockimbel cool, thanks. I did some rich-text dialecting for Gritter and other tools, if you are interested.

dockimbel

[18:30](#msg5a4143b1232e79134d8ee600)@KimRoach143\_twitter Not sure yet. We'll have our own landing page for the ICO with everything needed there.

rebolek

[18:30](#msg5a4143e003838b2f2a36ed2e)@OneArb if you can schare more info or are interested in my exchange APIs, let me know privately.

dockimbel

[18:30](#msg5a4143e2c072deaf0b003c91)@rebolek Yes, I am. There are some info to gather from @rgchris also in one of the rooms, he posted examples of his own design.

[18:31](#msg5a4143f8ffa3e379197be677)@rebolek So you're are a crypto-trader these days? ;-)

rebolek

[18:31](#msg5a41441db48e8c356665debf)I was doing some small scale trading during summer, but I sold almost everything to pay bills.

9214

[18:32](#msg5a4144235355812e57180aad)more like ... kingpinbolek? :smirk:

rebolek

[18:32](#msg5a414457b48e8c356665df6a):)

OneArb

[18:33](#msg5a41446ba2a87ea0216e16a9)@dockimbel I be direct. I invested in a RC20 based ICO, that is Ethereum smart contract based. I vowed to never invest again in an RC20 token. It is quite complex to invest and take the proper steps to protect one's pseudonimity.

[18:37](#msg5a4145720163b0281079dec5)@dockimbel On the converse, if Red can be used to simplify, streamline and secure an RC20 based ICO, this in turn adds value to the ICO itself :)

dockimbel

[18:43](#msg5a4146b75355812e571813be)@OneArb Well, that's the idea. You should be able to code an ERC20 token using the new Red dialect, and the relate crowdfunding contract, and have higher guarantees of safety than using Solidity.

OneArb

[19:07](#msg5a414c66232e79134d8f0a97)@dockimbel I can look over the RCT ICO user experience and security aspect from an investor perspective. There are significant friction points to address. I am available for testing, UX and design side.

gltewalt

[19:42](#msg5a4154b9232e79134d8f2fe8)Just have Irwin and rebolek finish up 0.6.4 while you work on the other stuff

9214

[19:46](#msg5a41558f0163b028107a213d)@dockimbel I guess I'll need to do some code cleanup and write a bunch of tutorials :moneybag:

[19:47](#msg5a4155c403838b2f2a373c19)also, will mentioning my (absolutely worthless) bachelor's degree in complex information security systems give me some tips? :money\_with\_wings:

[19:49](#msg5a415652a2a87ea0216e6105)https://youtu.be/SXRdeZki5hc?t=255

[19:50](#msg5a41566ae43a7a150ca5a3aa)skip up to 4:15 ;)

[20:25](#msg5a415ecfa2a87ea0216e861e)@dockimbel wouldn't you mind if I ask some provocative questions in private?

tallforasmurf

[20:35](#msg5a416122b48e8c3566665525)Initial exploration of red. Trying examples from "Short Red Code Examples". Noting some minor issues (e.g. "title" doesn't appear to have any effect). Where best to mention these?

9214

[20:36](#msg5a416152a2a87ea0216e9059)@tallforasmurf hey there, to which tutorial you refer to?

tallforasmurf

[20:37](#msg5a41617a03838b2f2a376c2f)http://redprogramming.com/Short%20Red%20Code%20Examples.html

9214

[20:37](#msg5a41619c03838b2f2a376caa)@tallforasmurf as I understand, you want title to be displayed on the window?

tallforasmurf

[20:38](#msg5a4161bab48e8c356666589e)That's one issue. Each bit of code starts like,

[20:38](#msg5a4161ca03838b2f2a376d0b)Red \[title: "Menus" needs: 'view]  
but the resulting window has "untitled"

[20:38](#msg5a4161e103838b2f2a376d3e)MacOS BTW

pekr

[20:39](#msg5a4161f4e43a7a150ca5d49d)That's just Red script header. It has its Title, as well as other properties ....

9214

[20:39](#msg5a4161f7232e79134d8f660a)@tallforasmurf this part of Red script is called a header, and it's just a metainfo with various information, some of it may be used by interpreter/compiler, like `Needs: View`, which tells compiler to include `View` module, and `Icon: %some-icon.ico`, which includes custom icon into compiled app.

[20:39](#msg5a416201232e79134d8f6627)here's how you can set a title

```
view/options [title "my first window"][size: 300x10]
```

tallforasmurf

[20:41](#msg5a416290ba39a53f1aa069d1)OK, well, ok then. Here's another: the 4th example, the one with title: "menus", seems to want to create some menus, but when I run it, there's just a blank window. It has no menus either in the MacOS menu bar or in its own window title bar.

[20:42](#msg5a4162afe43a7a150ca5d739)Maybe it only work in Windows?

9214

[20:42](#msg5a4162c4ffa3e379197c6b34)@tallforasmurf lemme eye scan it first and check on Wine

[20:43](#msg5a4162ffe43a7a150ca5d7f4)if we're talking about that snippet

```
Red [title: "Menus" needs: 'view]
g: layout [area 400x400]
g/menu: [
    "No Submenus" [
        "Print" prnt
        ---
        "Quit" kwit
    ]
    "Sub-menus" [
        "Sub-menus" [
            "Submenu1" s1
            "Submenu2" s2
            "Submenu3" [
                "Submenu4" s4
            ]
        ]
    ]
]
g/actors: make object! [
    on-menu: func [face [object!] event [event!]][
        if event/picked = 'kwit [unview/all]
        if event/picked = 'prnt [print "print menu selected"]
        if event/picked = 's4 [print "submenu4 selected"]
    ]
]
view g
```

then it works fine for me

tallforasmurf

[20:44](#msg5a416315c072deaf0b00be7c)On...

9214

[20:44](#msg5a41632ae43a7a150ca5d8ee)@tallforasmurf Linux with Wine

tallforasmurf

[20:45](#msg5a41634eba39a53f1aa06d83)So I'm doing this in a MacOS terminal window. Is there a known problem with menus in MacOS?

9214

[20:46](#msg5a41638bb48e8c3566665ffc)@tallforasmurf I'm not aware of any, though, lets wait for Mac users and core team to show up and help you

tallforasmurf

[20:47](#msg5a4163c803838b2f2a3774e8)Thanks. For future reference, is this chat the only support channel? Or is there a forum or an issues tracker where I could get a delayed response?

9214

[20:48](#msg5a416419b48e8c35666661e4)@tallforasmurf there're two rooms for \[newcomers](https://gitter.im/red/red/welcome) and for \[code helping](https://gitter.im/red/help), you can ask your questions in any of them or here

[20:48](#msg5a41642b0163b028107a6039)full list of Red rooms is available at https://gitter.im/red/home

[20:49](#msg5a416469c072deaf0b00c315)for bug reporting you can go to our Starship Trooper \[polygon](https://gitter.im/red/bugs), for GUI stuff go \[here](https://gitter.im/red/red/gui-branch)

[20:50](#msg5a41647cb48e8c35666663f0)you may actually ask your questions in `gui-branch` room, it might be asked more quickly

KimRoach143\_twitter

[20:50](#msg5a4164905355812e57189849)Confirming @tallforasmurf its not working

9214

[20:51](#msg5a4164e4232e79134d8f7087)@tallforasmurf congrats on your first bug :bug: :)

KimRoach143\_twitter

[20:53](#msg5a41652ea2a87ea0216e9e47)In windows 10 its working

tallforasmurf

[20:53](#msg5a4165325355812e57189a76)Cool!

[20:53](#msg5a41653a232e79134d8f7245)Thanks all.

9214

[20:53](#msg5a4165425355812e57189ab4)@tallforasmurf you're welcome

KimRoach143\_twitter

[20:54](#msg5a41659b232e79134d8f7352)@tallforasmurf menu name do appeared on normal place but sub menu not showing

## Tuesday 26th December, 2017

lepinekong\_twitter

[11:41](#msg5a42357f232e79134d925e46)I'm amazed that my debug function works with local var : https://gist.github.com/lepinekong/eafd436f56e9728df037678b8fd25444 but I don't understand why I don't need to do some context binding somehow :) Can anybody explain the magic ?

toomasv

[12:22](#msg5a423f19a2a87ea02171aede)@lepinekong\_twitter I am guessing here, but it seems that as `test` is evaluated first time in global context and second time in function's context, it is getting its value from corresponding contexts.

9214

[12:26](#msg5a423fff5355812e571bbcb5)@lepinekong\_twitter  
first time `debug` is evaluated in global context, second time it happens in function's context (`to-debug`)

[12:27](#msg5a42404a0163b028107d80a6)and what you're trying to achieve is already there

```
>> x: 1
== 1
>> ctx: [x: 2]
== [x: 2]
>> ?? x
x: 1
>> ?? ctx/x
ctx/x: 2
```

lepinekong\_twitter

[14:30](#msg5a425d02ba39a53f1aa40f6c)@9214 thanks for explanation. I didn't know about ?? syntax :clap:

[14:44](#msg5a426030ffa3e379198023ea)Is there a syntax for doing something like this except it doesn't work :) (not value? '\_\_TRACING\_\_) or (not \_\_TRACING\__ = false)

9214

[14:49](#msg5a426163c072deaf0b0478e4)@lepinekong\_twitter what are you trying to achieve?

lepinekong\_twitter

[14:51](#msg5a4261e45355812e571c5193)@9214 I want to be able to deactivate ?? when I have finished debugging :

[14:51](#msg5a4261e60163b028107e142d)??: func [  
"Prints a word and the value it refers to (molded)"  
'value \[word! path!]  
][  
if (not value? '\_\_TRACING\_\_) \[\_\_TRACING\_\_: false]

if (not \_\_TRACING\__ = false) [

prin mold :value  
prin ": "  
print either value? :value \[mold get/any :value] \["unset!"]

]  
]

rebolek

[14:56](#msg5a42630effa3e37919803382)@lepinekong\_twitter do something like

```
???: :?? 
debug?: true
??: func [value][if debug? [??? value]]
```

lepinekong\_twitter

[15:01](#msg5a42642cba39a53f1aa42fbb)@rebolek thanks for suggestion, still in general would like to know if there is a syntax for managing unset value (not value? 'TRACING) or (not TRACING = false)

9214

[15:06](#msg5a4265850163b028107e2539)@lepinekong\_twitter `unset?`

[15:08](#msg5a4265edb48e8c35666a32ab)

```
text
>> also debug?: on ??: func spec-of :?? compose/only [if debug? (body-of :??)]
== true
>> x: 1
== 1
>> ?? x
x: 1
>> debug?: off
== false
>> ?? x
== none
```

[15:19](#msg5a426895ba39a53f1aa444df)@lepinekong\_twitter

```
>> unset? :word
== true
>> word: 'some-value
== some-value
>> unset? :word
== false
>> value? 'word
== true
>> unset 'word
>> unset? :word
== true
>> value? 'word
== false
```

dockimbel

[15:22](#msg5a42692a0163b028107e364e)FYI, as it seems that my announcement requires more clarifications and explanations, I want to write a new post, answering the questions the community has about all that. You can send them to @9214, he will be gathering them in a wiki page. I will then write answers and post a new article during next weekend. Hope this will clear up some misunderstandings and misconceptions I am reading in the feedbacks.

9214

[15:22](#msg5a426941a2a87ea021726f48):guardsman: sir yissir

lepinekong\_twitter

[17:06](#msg5a42819e03838b2f2a3bb9cd)@9214 thanks will have to study :)

[17:12](#msg5a42830db48e8c35666ac02b)Optional arg: why do I have error when last f call below ?

[17:12](#msg5a42830fb48e8c35666ac02d)https://gist.github.com/lepinekong/842ae0b54414d44e806da2ffe770493f

9214

[17:20](#msg5a4284f0ba39a53f1aa4cac4)@lepinekong\_twitter because you're passing `g:` as second argument

[17:21](#msg5a42850de43a7a150caa2e67)every function has fixed arity

[17:21](#msg5a428519ffa3e3791980d4e0)if you want to pass optional argument, use refinements

lepinekong\_twitter

[18:12](#msg5a4290feffa3e37919810b93)@9214 this works with 1 argument: f: func\[][  
test: "test"  
?? test  
]

f

[18:12](#msg5a429129e43a7a150caa636f)so it's not mandatory to have 2nd argument ?

[18:14](#msg5a42917dba39a53f1aa504f3)@9214 it should have taken into account newline in code so that I'm in the case of one argument when I have f: func\[][  
test: "test"  
?? test

g: func\[]\[]

]

9214

[18:18](#msg5a42925c232e79134d9407a4)@lepinekong\_twitter hm, I vaguely remember that @greggirwin showed a trick similar to this one with optional quoted argument

[18:33](#msg5a4295e103838b2f2a3c0d84)looks like in the first case `unset` value pops up out of nowhere and it looks like you're passing only one argument, while in fact its always two

octetta

[18:33](#msg5a4295ea232e79134d941952)Hopefully I don't come across as lazy asking this here... is there currently a socket or network API available for red-063? I saw mention of a roadmap for this somewhere around 2015 but I'm so new I don't know quite where to look.

9214

[18:33](#msg5a4295f95355812e571d4582)in the second case `??` thinks that `g:` is the second arg, since it follow the first one

[18:34](#msg5a42963c232e79134d941ad0)@octetta hey there, welcome! Full I/O support is planned for `0.7.0` release, though with recent announcement things may speed-up a little bit, @qtxie already started to work on something

octetta

[18:36](#msg5a429695ba39a53f1aa5196c)While I'm still a total newb at red, I am very experienced with BSD network programming. Any useful way for me to help as I learn red?

[18:36](#msg5a4296ab232e79134d941dba)(BSD socket programming that is...)

9214

[18:38](#msg5a42973a5355812e571d4b04)@octetta I think you may contribute something valuable as soon as you learn language, @dockimbel may say for sure

[18:39](#msg5a429746232e79134d9420bb)maybe implement a couple of protocols

[18:39](#msg5a429764c072deaf0b057963)https://trello.com/c/Iz0cl1e8/61-070-full-i-o-support

[18:39](#msg5a42977fa2a87ea021734b00)specifically https://trello.com/c/BW1SPeOU/48-i-o-support

octetta

[18:40](#msg5a4297a5e43a7a150caa8595)Awesome. Let me learn a bit more. Excited for red's future.

9214

[18:47](#msg5a429924232e79134d942742)@octetta most learning resources are listed \[here](https://github.com/red/red/wiki/Learning-resources), good place to start is @Ungaretti's \[Red notebook](https://www.gitbook.com/book/ungaretti/red-language-notebook/details)

[18:47](#msg5a42995a0163b028107f1740)ask any questions you have in \[`help`](https://gitter.im/red/help) and \[`welcome`](https://gitter.im/red/red/welcome) rooms

lepinekong\_twitter

[19:13](#msg5a429f4903838b2f2a3c3905)"in the second case `??` thinks that `g:` is the second arg, since it follow the first one": normally an instruction is on a single line, so I don't agreee :)

9214

[19:20](#msg5a42a0e503838b2f2a3c3f82)@lepinekong\_twitter what?

[19:20](#msg5a42a119232e79134d944b0a)for interpreter space, tab, newline are equivalent

[19:21](#msg5a42a126e43a7a150caab0ce)`1 + 2` is the same as

```
1




+



2
```

[19:24](#msg5a42a1d4e43a7a150caab350)@lepinekong\_twitter language doesn't restrict you to fit one instruction in a single line, you can format your code whichever way you prefer

lepinekong\_twitter

[19:36](#msg5a42a4b3c072deaf0b05b96a)@9214 if I call f which requires 2 args and put 2nd arg on newline it doesn't work : g: func\[][

f: func\[a b]\[ print rejoin \[a b]]

f a  
b  
]

g

[19:37](#msg5a42a4eb03838b2f2a3c51d3)@9214 so there's no logical reason it does behave differently for my ?? isn't it logical :)

9214

[19:38](#msg5a42a51da2a87ea02173854f)@lepinekong\_twitter uhm, your example above doesn't work because neither `a` nor `b` words are bounded to any values

[19:39](#msg5a42a56903838b2f2a3c544e)again, your `??` \*\*always\** accepts two arguments, in the first case second argument is `unset`, and I'm not sure whenever it's a bug or a feature, in the second example it takes `g:` on the second line as the second argument and bails out because its type is `set-word!` which is not allowed in function's spec

[19:44](#msg5a42a68fe43a7a150caac568)if you want optional argument, then use refinement, like `foo: [a /option optional-arg][...]`

[19:44](#msg5a42a69eba39a53f1aa55ffc)and call function with that refinement

kybr

[23:45](#msg5a42df21e43a7a150cabb305)does anyone know the state of audio/sound, MIDI, Open Sound Control, etc.?

## Wednesday 27th December, 2017

are1000

[07:11](#msg5a4347a9ba39a53f1aa7c82f)Hi folks, I'm sorry if that's a recurring question, but I couldn't find anything in Google and I don't know if I can search the history of fitter, so here it goes:

[07:11](#msg5a4347bfe43a7a150cad2463)Is there any implementation of JSON parser available?

[07:13](#msg5a43481d232e79134d96bd1b)I've recently discovered Red and I absolutely love it. I would be up to writing such parser myself, but don't want to duplicate work if it already exists.

toomasv

[07:26](#msg5a434b2fba39a53f1aa7d528)Hello, @are1000 See here https://github.com/rebolek/red-tools?files=1

are1000

[07:28](#msg5a434babba39a53f1aa7d68d)@toomasv thanks a lot! I couldn't find it, because googling "red JSON parser" resulted in multiple node-red related issues :P

toomasv

[07:30](#msg5a434bfab48e8c35666dbdca)@are1000 You are welcome!

rebolek

[07:30](#msg5a434c0f0163b0281081bfca)@are1000 usage is `json/decode {json here}` and `json/encode [red here]`. I'll add it do documentation.

are1000

[07:33](#msg5a434cdd5355812e572011b8)Thanks @rebolek! I should just `load` the file?

rebolek

[07:35](#msg5a434d46c072deaf0b0821a2)`do %json.red`

are1000

[07:35](#msg5a434d480163b0281081c52a)Oh, got it. Do load.

rebolek

[07:35](#msg5a434d5e29ec6ac3118ab775)`do` loads automatically.

x8x

[09:09](#msg5a43633f0cef4fed2ebebab2)@are1000 There is also Chris's `altjson.red` https://github.com/rgchris/Scripts/blob/master/red/altjson.red

are1000

[09:15](#msg5a4364b429ec6ac3118b1ba8)thanks @x8x!

[09:15](#msg5a4364c503838b2f2a3f38bc)By the way, is there some kind of function/action composition?

[09:17](#msg5a4365330163b0281082314d)Or - is there a way to preserve context/scope from outer function? Do we have closures in Red?

dander

[09:30](#msg5a43682f0163b02810823d7f)@are1000 Closures aren't built in yet, but there are several methods available https://github.com/red/red/wiki/Closures

lepinekong\_twitter

[09:32](#msg5a4368a803838b2f2a3f4d90)@9214 I 'd like not to have to use refinement because It requires more typing which is a hassle in that case if I log every line of a program. So I'll try to use a turnaround by testing the 2nd argument and avoid the error.

[09:34](#msg5a436912232e79134d974162)@9214 still for me it's a bug: that it always take 2 arguments doesn't mean in the second case, it should set second argument like in first case as a red instruction stops at CRLF

[09:37](#msg5a4369d5232e79134d9745f2)Is there a syntax for pointing to a block item by reference for example like in that case below cum: static-var/1 so as I can write more expressively cum: cum + 1 https://gist.github.com/lepinekong/f543b7104adb1f328281b5db25cb2393

[09:41](#msg5a436ae5edd2230811e1918a)@9214 the interpreter should behave like a user expects. That kind of behavior is too much surprising.

9214

[09:52](#msg5a436d73ba39a53f1aa86427)@lepinekong\_twitter

&gt; red instruction stops at CRLF

wrong, instruction stops as soon as all called functions received as many arguments as they need, first `??` case turned out to be a \[special one](https://github.com/red/red/wiki/Guru-Meditations#variadic-function), and if you really want to exploit that, wrap `??` call in a `do` block, like `do [?? f] g: func [...] etc etc`

&gt; the interpreter should behave like a user expects

like which user: the new one, who have misconceptions, or well versed one, who understands evaluation rules? ;)

[09:57](#msg5a436e810163b02810825b20)@lepinekong\_twitter what stops you from using just `cum: 0`?

[10:00](#msg5a436f3f0163b02810825eb4)I remind everyone that Nenad wants to roll out Q/A session answering community questions with regard to recent announcement, Red's roadmap, development, etc. You can send your questions to me, either in private message or in any chat room, just be sure to mention me with @9214. I'll then collect everything in a wiki page.

lepinekong\_twitter

[11:33](#msg5a4384f6edd2230811e1ffcb)@9214 the expected behavior should be from external point of view of a user not from the internal point of view of a designer and not made to facilitate technical implementation instead of usability :)

[11:37](#msg5a43860b232e79134d97b8fd)@9214 just facilitating the creation of DAPP may not be enough it is the ease and speed one can build a whole system within prevalent ecosystem that is usefull. So capibility to interop with other mainstream libraries (java, python, c#, go,...) would really help without having to resort to low level programming in Red which is out of competencies of many.

9214

[11:38](#msg5a43864cb48e8c35666ec201)@lepinekong\_twitter nothing stops you from \*designing* brand new dialect which behaves the way you expect ;)

[11:39](#msg5a438656b48e8c35666ec219)good point about language interop by the way

lepinekong\_twitter

[11:39](#msg5a43868ec072deaf0b091fdd)@9214 I have limited neurons I have difficulty each time I use parse beyond the basics ;)

9214

[11:41](#msg5a4386d8e43a7a150cae38c0)@lepinekong\_twitter just play around, ask questions and take notes

[11:41](#msg5a4386f4edd2230811e2079a)https://www.youtube.com/watch?v=BSUMBBFjxrY

are1000

[11:43](#msg5a43874503838b2f2a3fd2a7)Are there plans for Red to support IPFS?

[11:43](#msg5a4387740163b0281082c79f)Or is it going to be more of an userland thing?

rebolek

[11:53](#msg5a4389b8ba39a53f1aa8d997)@are1000 it can be implemented as port I guess, if it's going to be in main distro is probably question of size and priorities.

are1000

[11:55](#msg5a438a4cba39a53f1aa8dce2)Red could be a great platform for small, decentralized apps, so I definitely see a lot of potential for Red and IPFS

lepinekong\_twitter

[12:54](#msg5a4397f6ba39a53f1aa9192c)Wanted to create a counter of ?? but problem when having subfunction call, is there a way to prevent this: &gt;&gt; afunc  
\[1] - a: 1  
\[2] - b: 2  
\[3] - c: 3  
&gt;&gt; afunc  
\[1] - a: 1  
\[4] - b: 2  
\[5] - c: 3 https://gist.github.com/lepinekong/848c638c4015e570ba966d58367c440b

[12:54](#msg5a43980e0163b0281083112d)&gt;&gt; afunc  
\[1] - a: 1  
\[4] - b: 2  
\[5] - c: 3

[12:55](#msg5a43982f232e79134d980811)afunc: func\[][  
a: 1  
??/start a  
asubfunc: func\[][  
b: 2  
?? b  
c: 3  
?? c  
]  
asubfunc  
]

[12:57](#msg5a4398b85355812e5721621d)have updated to be clearer https://gist.github.com/lepinekong/848c638c4015e570ba966d58367c440b

are1000

[13:15](#msg5a439d0cedd2230811e265a2)Is it possible to loop inside the `view` block?

[13:16](#msg5a439d24b48e8c35666f2a71)like, amount of `buttons` based on series

9214

[13:16](#msg5a439d3dba39a53f1aa92f5e)@are1000 sure, I'll try to show an example faster than @rebolek :eyes: :mouse:

[13:17](#msg5a439d7429ec6ac3118c1d42)https://gist.github.com/9214/307b69bfdfb8f71c96d7ebf8daeee628

[13:18](#msg5a439d8ae43a7a150cae9e8b)the important thing to understand that there's absolutely no difference between `view` block and any other block

are1000

[13:18](#msg5a439d91e43a7a150cae9e9e)wow, there is a lot going on there

9214

[13:18](#msg5a439d9c03838b2f2a4035ca)it's just a code/data which you can modify

are1000

[13:18](#msg5a439db429ec6ac3118c1eee)Yeah, thats what I imagined it would look like, I must read about `collect` a bit more tho

maximvl

[13:19](#msg5a439dc90163b02810832b83)but it's not running a `loop` inside `view`

[13:19](#msg5a439dd129ec6ac3118c1f6c)it's constructing a view spec using a loop

[13:19](#msg5a439ddbedd2230811e269a4)make sure you understand the difference

9214

[13:19](#msg5a439de1ba39a53f1aa9318c)@maximvl good point

are1000

[13:20](#msg5a439e050163b02810832e64)Isn't there a way to like... flatten into a block from inside of the block? That could be cool, right?

9214

[13:20](#msg5a439e1fba39a53f1aa93476)@are1000 depends on what you mean by "flatten into a block from inside of the block" :D

maximvl

[13:20](#msg5a439e2303838b2f2a403802)not sure what you mean %)

are1000

[13:21](#msg5a439e580163b028108330bd)Ok, let me try to explain

[13:21](#msg5a439e6029ec6ac3118c2242)so lets assume few things

[13:21](#msg5a439e6c5355812e57217d40)we have a function `function [x] [ [x] ]`

9214

[13:21](#msg5a439e70e43a7a150caea3cb)

```
text
>> block: [append block 'wow]
== [append block 'wow]
>> do/next block 'foo
== [append block 'wow wow]
>> do/next block 'foo
== [append block 'wow wow wow]
>> do/next block 'foo
== [append block 'wow wow wow wow]
>> do/next block 'foo
== [append block 'wow wow wow wow wow]
>> do/next block 'foo
== [append block 'wow wow wow wow wow wow]
```

are1000

[13:22](#msg5a439e9cb48e8c35666f312d)if I understand correctly it should wrap a value into a block?

9214

[13:22](#msg5a439eb2ba39a53f1aa93636)@are1000 it just returns block with a word

are1000

[13:23](#msg5a439ebc5355812e57217e4c)How can I evaluate that word?

maximvl

[13:23](#msg5a439ec4ba39a53f1aa93709)will you should try it ;)

are1000

[13:23](#msg5a439ecc03838b2f2a403b7d)I just did :P

9214

[13:23](#msg5a439ed5edd2230811e26f3b)further if you'll try to evaluate this block you'll get an error saying that `x` isn't bounded to any context

maximvl

[13:23](#msg5a439ed8ba39a53f1aa9375d)

```
>> f: func [x] [ [x] ]
== func [x][[x]]
>> f 5
== [x]
```

are1000

[13:23](#msg5a439edc03838b2f2a403bca) &gt;&gt; testf: function \[x] \[\[x]]  
\== func \[x]\[\[x]]  
&gt;&gt; testf 2  
\== \[x]

maximvl

[13:23](#msg5a439ee129ec6ac3118c23fe)yeah

9214

[13:24](#msg5a439efd03838b2f2a403c46)

```
text
>> foo: func [x][[x]]
== func [x][[x]]
>> foo 2
== [x]
>> reduce foo 2
*** Script Error: context for x is not available
*** Where: reduce
*** Stack:
```

maximvl

[13:24](#msg5a439f0ee43a7a150caea64c)so this is a very fundamental of Red - blocks are not evaluated by default, you need to explicitly ask for it

9214

[13:24](#msg5a439f17e43a7a150caea65d)so what you want, I guess, is:

```
>> foo: func [x][reduce [x]]
== func [x][reduce [x]]
>> foo 2
== [2]
```

are1000

[13:24](#msg5a439f19c072deaf0b098c2c)So how can I make a function that wraps a value in a block?

[13:24](#msg5a439f1fb48e8c35666f3478)exactly

9214

[13:25](#msg5a439f41232e79134d982710)@are1000 `reduce` and `compose` are your friends

are1000

[13:25](#msg5a439f5bc072deaf0b098dbd)I assume its not the same reduce and compose I'm familiar with :D

9214

[13:26](#msg5a439f6e232e79134d9827bf)@are1000 indeed, we have our own dictionary ;)

are1000

[13:26](#msg5a439f93edd2230811e2737b)Ok, so what I mean by flattening

[13:27](#msg5a439fa629ec6ac3118c276f)Lets assume this `wrap: function [x] [reduce[x]]`

[13:27](#msg5a439face43a7a150caea992)(or just `reduce`?)

9214

[13:27](#msg5a439fcfe43a7a150caeaa89)

```
text
>> a: 1 b: 2 c: 3
== 3
>> reduce [a b c]
== [1 2 3]
```

are1000

[13:28](#msg5a439fee03838b2f2a403f83)and a functional `map`, from the Functor

9214

[13:28](#msg5a43a00203838b2f2a403fce)@are1000 there's also

```
>> to block! 1
== [1]
```

are1000

[13:29](#msg5a43a0280163b028108337fc)so `map: function [series, fn] [ result: copy [] foreach i series [ append result (fn i) ] ]`

[13:29](#msg5a43a03bba39a53f1aa93d02)so `inc: function [x] [ x + 1 ]`

9214

[13:29](#msg5a43a03fb48e8c35666f3915)@are1000 you want to implement a `map`, right?

are1000

[13:29](#msg5a43a04f5355812e572184c2)Its just for illustrative purposes

[13:30](#msg5a43a05c29ec6ac3118c2a72)I don't know if its builtin using some other word :(

[13:30](#msg5a43a071c072deaf0b099364)so `map [1 2 3] :wrap` will evaluate to `[ [1] [2] [3] ]`

9214

[13:30](#msg5a43a07329ec6ac3118c2ab9)we don't have built-in functional stuff yet, though it's planned

maximvl

[13:30](#msg5a43a080232e79134d982c78)@are1000

```
>> ? reduce
USAGE:
     REDUCE value

DESCRIPTION: 
     Returns a copy of a block, evaluating all expressions. 
     REDUCE is a native! value.
```

9214

[13:31](#msg5a43a0a3232e79134d982d03)@are1000

```
>> block: [1 2 3]
>> collect [forall block [keep/only to block! block/1]]
== [[1] [2] [3]]
```

are1000

[13:31](#msg5a43a0b6edd2230811e27a3a)yeah, something like that!

[13:31](#msg5a43a0c05355812e57218678)So imagine we have such syntax, that:

9214

[13:32](#msg5a43a0e5232e79134d982d95)more easier to digest:

```
>> result: []
== []
>> foreach element [1 2 3][append/only result to block! element]
== [[1] [2] [3]]
```

are1000

[13:33](#msg5a43a10fc072deaf0b099696)This:

block: \[1 2 3]  
view [  
\*\[ collect \[forall block \[keep/only to block! block/1]] ]  
]

is the same as this:

view [  
\[1] \[2] \[3]  
}

[13:33](#msg5a43a11fba39a53f1aa94122)where `*[]` is some "flattening" syntax

[13:33](#msg5a43a12cba39a53f1aa9414c)It may have something to do with macros tho?

9214

[13:34](#msg5a43a14d5355812e5721893d)@are1000 why not use `reduce` or `compose` on this block?

are1000

[13:34](#msg5a43a16203838b2f2a4045f8)But what if I have few such collections?

[13:34](#msg5a43a177edd2230811e27d35)I need to join them then, right?

9214

[13:35](#msg5a43a187edd2230811e27de5)@are1000 can you show an example?

are1000

[13:36](#msg5a43a1d9c072deaf0b099bbc)I have a series of objects.

maximvl

[13:36](#msg5a43a1ede43a7a150caeb5a3)append flattens by default

are1000

[13:37](#msg5a43a1fcc072deaf0b099c41)I want to display a tab for every item in the series

maximvl

[13:37](#msg5a43a202b48e8c35666f4112)

```
>> append [1 2 3] [4 5 6]
== [1 2 3 4 5 6]
```

[13:37](#msg5a43a226b48e8c35666f4193)(and many other functions flatten by default, something to get used to)

are1000

[13:37](#msg5a43a228e43a7a150caeb653)How would you go about that @9214?

9214

[13:39](#msg5a43a290edd2230811e28279)@are1000 you mean GUI menu tab?

are1000

[13:39](#msg5a43a2a2e43a7a150caeb7d9)`tab-panel`

[13:40](#msg5a43a2e4b48e8c35666f44d3)It expects a block of `[ name def name def name def ... ]`

9214

[13:40](#msg5a43a2e80163b028108346d4)and what you want to display in tab's content?

are1000

[13:41](#msg5a43a322edd2230811e28629)Few other faces (does it matter tho?)

[13:44](#msg5a43a3b75355812e57219517)with "flattening" I could map my series of objects, flatten them into the `tab-panel` block (it really starts to sound like macros)

9214

[13:45](#msg5a43a3f1ba39a53f1aa94e9b)like this?

```
stuff: [
    "A" [text "howdy"]
    "B" [base red]
    "C" [field "type something"]
]

view [tab-panel stuff]
```

are1000

[13:45](#msg5a43a40eb48e8c35666f4b40)I can just do that?

9214

[13:46](#msg5a43a41b03838b2f2a405217)@are1000 sure, why not?

are1000

[13:47](#msg5a43a47bba39a53f1aa950b8)ok, this was way too simple :P

[13:48](#msg5a43a49d03838b2f2a405506)btw, is there any userland functional programming library?

[13:48](#msg5a43a4b0e43a7a150caec1be)or maybe its not a good idea to force it into Red?

maximvl

[13:49](#msg5a43a4d0c072deaf0b09a75d)yo guys check this out:

```
>> units/convert 10 'blink 'min
[blink day hr min]
== 0.144
>> units/convert 1 'min 'blink
[min hour day blink]
== 69.44444444444444
>> units/convert 3 'week 'day
[week day]
== 21.0
>> units/convert 3 'week 'hour
[week day hr min hour]
== 504.0
>> units/convert 5 'solarmass 'kg
[solarmass kg]
== 9.9455e30
>> units/convert 5 'solarmass 'tonne
[solarmass kg tonne]
== 9.9455e27
>> units/convert 5 'solarmass 'stone
[solarmass kg pound stone]
== 1.566148163256928e30
```

9214

[13:49](#msg5a43a4e20163b028108350d1)@are1000 there was one guy who decided that Red is too Bad and Impure and decided first to write Haskell in it :)

[13:49](#msg5a43a4efedd2230811e28cd4)https://github.com/unchartedworks/HaskellRed

are1000

[13:50](#msg5a43a5205355812e57219d3c)wow :D

[13:50](#msg5a43a5390163b02810835210)is this like, some `Parse` trickery?

9214

[13:51](#msg5a43a574b48e8c35666f510c)@are1000 AFAIK no, only arbitrary Red trickery :sparkles:

are1000

[13:52](#msg5a43a589ba39a53f1aa9548b)wait, so you can have a variable named `.` in Red?

9214

[13:52](#msg5a43a58db48e8c35666f515f)@maximvl cool! This reminds me on some Facebook Haskell library for unit conversions

are1000

[13:52](#msg5a43a596232e79134d984425)this is awesome.

9214

[13:52](#msg5a43a599232e79134d984432)with duck as logo and funny name... can't remember

maximvl

[13:52](#msg5a43a59dc072deaf0b09aa0a)@9214 this is better ;)

9214

[13:52](#msg5a43a5a3c072deaf0b09aa3a)@are1000 tell you what

[13:52](#msg5a43a5b4c072deaf0b09aa75)\*maniacally whishpers in the ear* there's no variables

are1000

[13:54](#msg5a43a610b48e8c35666f533a)\*curls in the corner while pulling his hair* noooooooooooo

[13:54](#msg5a43a630e43a7a150caec7dd)so `foo: 10` is just binding data?

9214

[13:55](#msg5a43a661ba39a53f1aa95953)well, yeah, it bounds `foo` word to a `10` value in current context

are1000

[13:56](#msg5a43a6985355812e5721a455)I feel like diving into Red is and will be absolutely painful at first, but I love it! And I want to thank you all for being so patient and welcoming!

9214

[13:57](#msg5a43a6b7b48e8c35666f55be)you can of course think of words as of variables, but then you may draw some false conclusions with regard to "scoping" rules and evaluation model

are1000

[13:58](#msg5a43a6ea29ec6ac3118c48ae)It's a shame that there isn't any bigger manual about how that stuff works

[13:58](#msg5a43a6f3e43a7a150caecabc)(or maybe there is?)

9214

[13:58](#msg5a43a6f929ec6ac3118c48ce)because, in my understanding, "variable" is a named memory location, which is not the case with words, which are more of a named location \*in the code itself*

maximvl

[13:58](#msg5a43a704edd2230811e29795)I plan to make one

9214

[13:58](#msg5a43a70929ec6ac3118c4928)@are1000 most information is scattered right now

[13:58](#msg5a43a715232e79134d984ab4)everyone have plans to write some tutorials and blog posts

are1000

[13:59](#msg5a43a73f29ec6ac3118c49c2)That is great @maximvl!

9214

[13:59](#msg5a43a74b03838b2f2a405fb9)what I've said might be plain wrong from technical side, but it's IMO easier to get, well, conceptually

are1000

[13:59](#msg5a43a753ba39a53f1aa95d4b)@9214 can you tell me whats going on here then?

[13:59](#msg5a43a75dedd2230811e299af)`a: 5 b: 10 c: 15`

[14:00](#msg5a43a7695355812e5721a7cc)`xs: [ a b c ]`

9214

[14:00](#msg5a43a775ba39a53f1aa95db6)@are1000 some words are bound to some values in some context

[14:00](#msg5a43a789ba39a53f1aa95dd9)`xs` word then is bound to a block that contains these words with these bindings

are1000

[14:00](#msg5a43a795c072deaf0b09b415)I would expect `xs` to be `[ 5 10 15 ]` but since blocks are not being evaluated immediately, its actually `[ a b c]`

[14:01](#msg5a43a7c0edd2230811e29bcc)Oooh, wait

[14:01](#msg5a43a7d729ec6ac3118c4b9e)so `reduce` gives my `xs` the scope to evaluate `a` `b` and `c`?

9214

[14:02](#msg5a43a7d8ba39a53f1aa95f3a)@are1000 correct, in this block every word has a hidden "pointer" to a namespace (i.e. context) there value associated with this word resides

maximvl

[14:02](#msg5a43a7e503838b2f2a4062d4)@are1000 this makes DSLs possible actually, like `[this is my coolest dsl if parsed with a right function]` makes no sense in conventional language because all these words would be undefined variables

[14:02](#msg5a43a7fae43a7a150caed017)but once you pass it to the correct function which knows how to parse it - it does work

9214

[14:02](#msg5a43a801c072deaf0b09b7eb)what `reduce` does is just evaluates all stuff, and if stuff is a word, it simply follows the "pointer" and gets word's value

are1000

[14:02](#msg5a43a80a5355812e5721a9ea)this is absolutely nuts

lepinekong\_twitter

[14:02](#msg5a43a80ee43a7a150caed068)@9214 haskellread seems usefull (I was frightened at first it was yet another mathematical masturbation from a functional programmer ;) )

are1000

[14:03](#msg5a43a814edd2230811e29c98)I feel like some doors has been opened

9214

[14:03](#msg5a43a8265355812e5721aa73)@lepinekong\_twitter that's not too far from the truth ;)

maximvl

[14:04](#msg5a43a86229ec6ac3118c4e94)@are1000 to blow your brain a bit more here's one of my favorites:

```
>> args: [x y]
== [x y]
>> body: [x + y]
== [x + y]
>> f: func args body
== func [x y][x + y]
>> f 3 4
== 7
```

are1000

[14:05](#msg5a43a8a6edd2230811e29e0c):o so `func` is just a... function?

maximvl

[14:05](#msg5a43a8b2e43a7a150caed308)exactly :D

[14:05](#msg5a43a8bcc072deaf0b09bd22)takes two blocks and constructs a function

9214

[14:06](#msg5a43a8c8edd2230811e29e9e)hand waving begins

```
>> inc: func [x][x + 1]
== func [x][x + 1]
>> inc 1336
== 1337
>> body: body-of :inc
== [x + 1]
>> body/2: '-
== -
>> inc 1338
== 1337
>> reverse body-of :inc
== [1 - x]
>> inc 1337
== -1336
```

are1000

[14:06](#msg5a43a8f85355812e5721af36)I need to write it myself

[14:07](#msg5a43a91fba39a53f1aa967b8)what does `'` before the word?

maximvl

[14:07](#msg5a43a9265355812e5721afab)here you just crossed a point of no return

[14:07](#msg5a43a934b48e8c35666f62b7)there is no way back to ordinary languages

[14:08](#msg5a43a944c072deaf0b09bfee)' prevents evaluation

9214

[14:08](#msg5a43a947b48e8c35666f62ee)

```
text
>> block: [reverse [1 2 3]]
== [reverse [1 2 3]]
>> do block
== [3 2 1]
>> do block
== [1 2 3]
>> bind block context [reverse: func [x][print "this is cool"]]
== [reverse [1 2 3]]
>> do block
this is cool
>> bind block system/words ; default context
== [reverse [1 2 3]]
>> do block
== [3 2 1]
```

maximvl

[14:08](#msg5a43a9500163b02810836621)

```
>> a
*** Script Error: a has no value
*** Where: catch
*** Stack:  

>> 'a
== a
```

9214

[14:08](#msg5a43a967ba39a53f1aa9688e)@are1000 you're doomed as a bloatware engineer if you'll cross this border

lepinekong\_twitter

[14:08](#msg5a43a96eb48e8c35666f637e)Found this to export gitter https://www.npmjs.com/package/gitter-export-room

9214

[14:08](#msg5a43a96f29ec6ac3118c53e8)so beware

are1000

[14:09](#msg5a43a9b45355812e5721b21d)\*heavily breathing*

[14:11](#msg5a43a9fac072deaf0b09c2a9)should I be concerned when I start to understand what is going on up in here?

lepinekong\_twitter

[14:12](#msg5a43aa32c072deaf0b09c33a)Can't Red introduce the notion of Parent Context ? If so I could solve my problem of ?? lines counter https://gist.github.com/lepinekong/848c638c4015e570ba966d58367c440b

9214

[14:12](#msg5a43aa46232e79134d9859a8)@lepinekong\_twitter parent context..?

are1000

[14:12](#msg5a43aa53b48e8c35666f69a0)basically closures?

maximvl

[14:13](#msg5a43aa7229ec6ac3118c59ba)@are1000 just go through the functions you executed with `help` - it's quite easy to see what's going on

9214

[14:13](#msg5a43aa8dc072deaf0b09c516)@are1000 yes, the best thing to do is to poke around with `?` and `??` functions

[14:14](#msg5a43aaaa0163b02810836c67)for starting, try out `? reduce` in REPL

[14:14](#msg5a43aacbba39a53f1aa96e17)no need to be concerned as long as you have fun :)

are1000

[14:14](#msg5a43aad003838b2f2a406fb7)this is absolutely amazing

[14:14](#msg5a43aada03838b2f2a406fd7)I wish I could contribute

9214

[14:15](#msg5a43aaeeb48e8c35666f6c11)@are1000 contribute by asking questions and helping other newcomers

[14:15](#msg5a43aaf9e43a7a150caedbc5)and spread a word about Red, that's more than enough

maximvl

[14:15](#msg5a43ab08edd2230811e2a9cd)this plus learn yourself, write code, examples, libraries etc

are1000

[14:17](#msg5a43ab6103838b2f2a407232)This is what I'm planning to do! I'm 100% sold on Red, I feel like it's what I have been looking for for quite some time already

maximvl

[14:17](#msg5a43ab6303838b2f2a407234)@are1000 we just showed you the basics here, really it goes very far with GUI, DSL and stuff

[14:17](#msg5a43ab7c5355812e5721b9f5)@are1000 as an inspiration I can show-off my small library :D https://gitlab.com/maxvel/red-shell-dialect

9214

[14:17](#msg5a43ab8b29ec6ac3118c5ef6)not to mention Red/System which I myself barely touched

are1000

[14:18](#msg5a43abac0163b028108371e0)like Elm is kinda cool, PureScript is fun, Pharo is cute, but Red is on completely different level of wow

[14:19](#msg5a43abf70163b028108372f8)wow, amazing job @maximvl!

[14:19](#msg5a43ac0bc072deaf0b09ccb9)(am I being over enthusiastic? :P)

maximvl

[14:20](#msg5a43ac175355812e5721bcd9)I was the same lol

9214

[14:20](#msg5a43ac26c072deaf0b09cd51)@are1000 you haven't seen my reaction when I discovered Rebol and then Red

are1000

[14:20](#msg5a43ac34edd2230811e2aebc)I'm like a kid with a new toy

[14:20](#msg5a43ac3b232e79134d9863e0)what can I put inside the block?

9214

[14:20](#msg5a43ac42edd2230811e2aed6)@are1000 \*\*everything\**

[14:21](#msg5a43ac56e43a7a150caee1e8)try not to pee in your pants out of joy tho

are1000

[14:21](#msg5a43ac7ae43a7a150caee29b)(apart from square brackets?)

[14:22](#msg5a43ac9629ec6ac3118c646e)(and mustache brackets) ((unbalanced))

9214

[14:22](#msg5a43ac9f0163b028108375cc)@are1000 since block is code (and data), it can contain every possible (and valid) value

are1000

[14:23](#msg5a43acce29ec6ac3118c6531)how can I prevent `{}` from evaluating?

[14:23](#msg5a43acdaba39a53f1aa97879)or am I just out of luck with using curly braces inside a block?

maximvl

[14:23](#msg5a43acddc072deaf0b09d098)`{}` is a string though

9214

[14:23](#msg5a43acdf232e79134d986786)@are1000 `{}` is an empty string

are1000

[14:23](#msg5a43acffedd2230811e2b3f6)ooooh

9214

[14:24](#msg5a43ad0ec072deaf0b09d15e)@are1000 you can prevent evaluation with `quote` or, for words, with backtick

[14:24](#msg5a43ad23ba39a53f1aa97a02)

```
text
>> (1 + 2)
== 3
>> quote (1 + 2)
== (1 + 2)
>> a: 1
== 1
>> a
== 1
>> quote a
== a
>>
```

[14:24](#msg5a43ad3a5355812e5721c2f9)whoops, not backtick but just a tick

are1000

[14:25](#msg5a43ad4d0163b02810837913)can series have negative indexes?

[14:25](#msg5a43ad5b0163b0281083793e)nope

maximvl

[14:25](#msg5a43ad63e43a7a150caee7d7)yes, though it counts from current index

9214

[14:25](#msg5a43ad6303838b2f2a407c47)@are1000 I don't thinks so, all series are 1-based though

are1000

[14:26](#msg5a43ad79b48e8c35666f77ae)I can already see reddit crying over 1-based "arrays"

9214

[14:26](#msg5a43ad79e43a7a150caee82f)you can use negative values to skip back

maximvl

[14:26](#msg5a43ad825355812e5721c475)

```
>> x: [1 2 3 4 5]
== [1 2 3 4 5]
>> y: at x 3
== [3 4 5]
>> y
== [3 4 5]
>> y/-1
== 2
>> y/-2
== 1
```

9214

[14:26](#msg5a43adb329ec6ac3118c6a86)and there're boundaries check

```
>> x: [1 2 3]
== [1 2 3]
>> x/-100
== none
>> x/100
== none
```

are1000

[14:27](#msg5a43adc4c072deaf0b09d4b2)Is there some kind of more traditional arrays and/or lists?

maximvl

[14:27](#msg5a43add3edd2230811e2b6e6)why

9214

[14:27](#msg5a43add9b48e8c35666f7968)&gt; why

are1000

[14:27](#msg5a43addb0163b02810837b53)well, now that I think about it

[14:27](#msg5a43ade0ba39a53f1aa97cda)there is absolutely no reason

maximvl

[14:27](#msg5a43ade603838b2f2a407e27):)

are1000

[14:27](#msg5a43ade7232e79134d986c7e)tho a linked list would be cool

maximvl

[14:28](#msg5a43adf5e43a7a150caeea17)block is superior to any of those

are1000

[14:28](#msg5a43ae0de43a7a150caeea3f)actually block seems kinda dumb, its just data

maximvl

[14:28](#msg5a43ae17232e79134d986d64)it's really not

are1000

[14:28](#msg5a43ae23e43a7a150caeea9b)(I didn't mean it in a bad way tho D: )

9214

[14:28](#msg5a43ae2629ec6ac3118c6cbb)@are1000 is `[1 + 2]` code or data? :smirk:

maximvl

[14:29](#msg5a43ae33c072deaf0b09d79e)

```
>> x: [1 2 3 4]
== [1 2 3 4]
>> x: tail x
== []
>> x
== []
>> index? x
== 5
>> x: head x
== [1 2 3 4]
>> index? x
== 1
```

[14:29](#msg5a43ae42232e79134d986dd1)block stores current index which you can manipulate at will

are1000

[14:29](#msg5a43ae5729ec6ac3118c6d9f)@9214 its the same, isn't it?

[14:29](#msg5a43ae63c072deaf0b09d904)code is data, data can be code

9214

[14:30](#msg5a43ae6cedd2230811e2ba65)@are1000 yes, there's absolutely zero difference

are1000

[14:30](#msg5a43ae99c072deaf0b09d9c8)its like lisp but on steroids

9214

[14:31](#msg5a43aea8232e79134d986f71)plus Forth and a pinch of Logo

maximvl

[14:31](#msg5a43aeafc072deaf0b09da58)ahahaha, this is what I said about a year ago

9214

[14:31](#msg5a43aedeba39a53f1aa9811d)@maximvl how long are you in this chat btw?

rebolek

[14:32](#msg5a43aee0edd2230811e2bb8a)@are1000 linked list is being worked on

maximvl

[14:32](#msg5a43af0d5355812e5721cc43)@9214 about a year, I think  
@rebolek why do we need one?

are1000

[14:32](#msg5a43af1b0163b02810837ff9)@rebolek that is great! @maximvl probably Red/System stuff?

9214

[14:33](#msg5a43af34232e79134d987258)@maximvl I think longer, because I popped up here roughly a year ago (beginning of December) and you were here already

rebolek

[14:33](#msg5a43af3cc072deaf0b09ddf9)@maximvl I’m not the one to ask, I just saw it in a commit. Probably makes some stuff easier/faster?

are1000

[14:34](#msg5a43af7903838b2f2a4084f9)I see there is a lot of people from not-America?

9214

[14:34](#msg5a43af90edd2230811e2bf1f)yup, we're multicultural community :)

are1000

[14:35](#msg5a43afabedd2230811e2bf66)I don't know why I haven't dived in earlier :(

maximvl

[14:35](#msg5a43afccedd2230811e2bfd8)well I actually came here after discovering and playing with Rebol

are1000

[14:36](#msg5a43afd429ec6ac3118c7576)Red have picked my interest few months ago, but I somehow missed it

9214

[14:36](#msg5a43afde03838b2f2a4086fd)@are1000 you're here after all, so, welcome!

maximvl

[14:36](#msg5a43afe703838b2f2a408728)I saw pretty much all the magic things already, but it was abandoned

9214

[14:36](#msg5a43afec29ec6ac3118c75c0)and enjoy the ride

are1000

[14:36](#msg5a43b006e43a7a150caef1f7)I do! and thanks again for such a warm welcome and great help!

maximvl

[14:37](#msg5a43b035c072deaf0b09e2a1)btw don't drink much kool-aid, IO and GC are still not here yet :\\

9214

[14:37](#msg5a43b03fe43a7a150caef2c1)@are1000 be sure to check out \[`welcome`](https://gitter.im/red/red/welcome) and \[`help`](https://gitter.im/red/help) rooms

[14:38](#msg5a43b05cb48e8c35666f874f)@maximvl grumble-grumble

are1000

[14:38](#msg5a43b077e43a7a150caef3cf)well, I was never really that "deep" to care about GC anyways

rebolek

[14:38](#msg5a43b07803838b2f2a408a47)@maximvl if you are not pissed about current state of things, you are not true Redboler!

maximvl

[14:39](#msg5a43b08829ec6ac3118c791e)lol

[14:39](#msg5a43b0b85355812e5721d470)@are1000 well once you want your program to run for a while this is a must

[14:40](#msg5a43b0c3edd2230811e2c437)if you want to implement your own cron for example or a chat bot

[14:40](#msg5a43b0cce43a7a150caef694)and many other things

are1000

[14:40](#msg5a43b0cf0163b02810838697)@maximvl absolutely

[14:40](#msg5a43b0dec072deaf0b09e6e6)What are/were your previous/other languages of choice/of work?

[14:40](#msg5a43b0eb03838b2f2a408c48)(or maybe we do not speak about those? :P )

maximvl

[14:41](#msg5a43b12529ec6ac3118c7c28)there were many, c/c++/java, ocaml/haskell/erlang, lisps, schemes, forth, smalltalk

[14:41](#msg5a43b13203838b2f2a408e08)prolog

[14:42](#msg5a43b154b48e8c35666f8be0)not professionally, but I played a decent amount of time with each I found interesting

are1000

[14:43](#msg5a43b18503838b2f2a408f45)I always wanted to take a hold of ocaml, but somehow missed it too

9214

[14:44](#msg5a43b1b60163b02810838a57)I consider Red to be the first language which I really dig, before that I dabbled my feet a little with Scheme (rather `#sicp` lang in Racket), very little of Forth, desperate attempts to accept C#, Haskell, Python

maximvl

[14:44](#msg5a43b1c40163b02810838a9a)it's like haskell but for programmers and not for scientists

are1000

[14:44](#msg5a43b1d8e43a7a150caefb30)yeah, I felt similarly looking at it @maximvl

maximvl

[14:44](#msg5a43b1e0232e79134d987ecc)and they have super weird `;;` stuff which I still don't get

9214

[14:44](#msg5a43b1e80163b02810838b01)now I'm looking into J, because my current activity involves some data analysis/processing and NumPy IMO is a joke in terms of hairy syntax and crutches

are1000

[14:45](#msg5a43b207232e79134d987f84)well, Python was never meant to be doing heavy data analysis?

maximvl

[14:45](#msg5a43b214e43a7a150caefc16)`J` is fun, I newer looked at it but it should be interesting to implement as a dialect in Red ;)

are1000

[14:45](#msg5a43b2185355812e5721dab3)just like JavaScript was never meant to be doing backends

9214

[14:46](#msg5a43b22eedd2230811e2cc11)@maximvl either interop with J or an array-processing dialect, yes

[14:46](#msg5a43b23d232e79134d988021)although with more human syntax :D

maximvl

[14:46](#msg5a43b240ba39a53f1aa99432)just a dialect, we don't need any more interops :D

[14:46](#msg5a43b2495355812e5721dbd0)same as Prolog actually

are1000

[14:47](#msg5a43b285edd2230811e2cdae)wait, I have a terrible, atrocious idea

maximvl

[14:47](#msg5a43b291b48e8c35666f90e0)@9214 if you understand how it works - I encourage you to try to make a J dialect

are1000

[14:48](#msg5a43b2afc072deaf0b09eefe)ReactJS in Red for GUIs?

9214

[14:48](#msg5a43b2cb29ec6ac3118c83b3)@maximvl I \[started](https://gitter.im/red/sandbox?at=5a295d22ba39a53f1a308178) to learn but sidetracked :(

are1000

[14:48](#msg5a43b2ccedd2230811e2d023)so instead of `view []` you do `render [ Hello world! ]`

9214

[14:48](#msg5a43b2da29ec6ac3118c83d3)and there's a lot to consider in terms of design

rebolek

[14:49](#msg5a43b2fcc072deaf0b09f112)@are why not `h1 "Hello world?"` http://lest.qyz.cz/

9214

[14:49](#msg5a43b30eba39a53f1aa996cc)@are1000 check out @rebolek's `lest`

rebolek

[14:50](#msg5a43b31fedd2230811e2d183)@9214 I told you I am faster than you.

are1000

[14:50](#msg5a43b322b48e8c35666f92f4)so its compatible with existing React components? ....maybe? :P

9214

[14:50](#msg5a43b32a29ec6ac3118c856f)@rebolek :mouse: masaka

are1000

[14:50](#msg5a43b3405355812e5721df3f)but `lest` looks really useful

rebolek

[14:50](#msg5a43b34a0163b028108391b6)@are1000 No, when I wrote it, React wasn’t a "thing" yet, but it can be extended to support it.

are1000

[14:51](#msg5a43b363ba39a53f1aa998f0)@rebolek it shouldn't be a thing tbh :P

9214

[14:51](#msg5a43b37ab48e8c35666f94dd)@are1000 that's the spirit :+1:

are1000

[14:52](#msg5a43b393b48e8c35666f957f)I use it every day in work, and while I like using it; I hate it with all of my will

9214

[14:53](#msg5a43b3d2ba39a53f1aa99b69)@are1000 good... good... let the hatred flow through you... join the Red side

[14:53](#msg5a43b3e0232e79134d9888fc)\[!\[Emperor-Palpatine-meme-from-Star-Wars.jpg](https://files.gitter.im/red/red/nupV/thumb/Emperor-Palpatine-meme-from-Star-Wars.jpg)](https://files.gitter.im/red/red/nupV/Emperor-Palpatine-meme-from-Star-Wars.jpg)

are1000

[14:53](#msg5a43b4015355812e5721e238)Just give me a compile target for webassembly and a cute little webserver in Red

[14:54](#msg5a43b41703838b2f2a409a18)and I will never go back to the old ways

9214

[14:55](#msg5a43b47a232e79134d988ce9)@are1000 maybe you'll code them yourself, sometime ;)

[14:56](#msg5a43b496edd2230811e2d791)gtg, have fun everyone

are1000

[14:57](#msg5a43b4d3ba39a53f1aa99fd4)cya, you too!

soapdog

[15:06](#msg5a43b6dce43a7a150caf12d5)Hi friends, I am having some trouble here getting text to wrap inside an 'area, can someone help?

[15:09](#msg5a43b7aee43a7a150caf15a8)got it!

lepinekong\_twitter

[15:17](#msg5a43b98729ec6ac3118ca94c)@9214 forget seems impossible question :) I'm going to be pragmatic and use a cum global variable !

rebolek

[15:33](#msg5a43bd495355812e57220fac)@soapdog cool!

soapdog

[15:37](#msg5a43be42edd2230811e30d61)@rebolek I am attempting to build some tools for usage in Secure Scuttlebutt (http://scuttlebutt.nz) using Red since all the current tools are CPU and RAM hungry due to being built with electron. I am using a lot of your source code from gritter, trying to get my head around rich-text and marky-mark now... I posted about it on scuttlebutt, it can be seen on the web at https://viewer.scuttlebot.io/%25rX2xUDO3zEhvlJyjsx9FaoX8r2MDbzpAxxPNhMzNcdw%3D.sha256

rebolek

[15:43](#msg5a43bf8803838b2f2a40d3ef)@soapdog wow, cool! I will certainly take a look at it. It's something I've never heard about, but I love to learn new things. If you want some info about GUI programming, feel free to ask me privately.

9214

[15:47](#msg5a43c07c232e79134d98ca65)@lepinekong\_twitter it's just that I don't really get what are you trying to achieve

rebolek

[15:48](#msg5a43c0b3232e79134d98cba2)@9214 @maximvl if you wonder how long you are on this channel:  
@maximvl's first message was sent on 31-Oct-2015/11:20:15.879  
@9214's first message was sent on 17-Dec-2016/15:47:15.724

maximvl

[15:48](#msg5a43c0cdb48e8c35666fdf95)oh, two years then

9214

[15:48](#msg5a43c0d4e43a7a150caf4326)@rebolek nope, I clearly remember that I was here on 9 Dec

[15:48](#msg5a43c0e0232e79134d98cc39)building macro with @maximvl

maximvl

[15:48](#msg5a43c0e8c072deaf0b0a340e)maybe another channel like /help

9214

[15:49](#msg5a43c10cba39a53f1aa9dbd6)https://gitter.im/red/red/welcome?at=584ab4ffb4ffd59e3808745c

soapdog

[15:49](#msg5a43c10fb48e8c35666fe096)@rebolek thanks a lot for the kind words. Scuttlebutt is an awesome new protocol/platform for decentralized networks, it is very resilient and works offline and outside of the internet as well. It might be cool for the future Red foundation as a channel for official communication (as more and more stuff goes decentralized). Right now I am trying to understand the Red view/draw/VID system better... I haven't used REBOL in many years, but I am loving to come back to Red (which for me is like REBOL on steroids)

rebolek

[15:49](#msg5a43c110232e79134d98ce23)@9214 I have stats for this channel only right now.

[15:51](#msg5a43c168edd2230811e31c49)@9214 Right, that's red/red/welcome, I don't have multichannel stats currently.

9214

[15:52](#msg5a43c1cce43a7a150caf4a10)the very first message seems to be https://gitter.im/red/red/welcome?at=584a00650da034021b887ed0

[15:52](#msg5a43c1d1ba39a53f1aa9dfcc)so 9 Dec it is :)

rebolek

[15:52](#msg5a43c1d229ec6ac3118cd4bb)@soapdog I agree that Red is Rebol on steroids. And native GUI is IMO much better approach than custom one (although you can make custom widgets when needed).

soapdog

[15:57](#msg5a43c2cf0163b0281083ddb2)@rebolek Let me ask you a simple question? How to I set a `area` or `pane` content to the result of an `emit-rich` from `marky-mark`? I probed the result and it looks like view dialect to me but I don't know how to add it to something inside my view...

rebolek

[16:00](#msg5a43c39303838b2f2a40ea0c)@soapdog `emit-rich` produces Draw dialect, so you need to use `base` or similar simple widget to display it.

[16:03](#msg5a43c45b5355812e5722340a)Actually, it's bit more complicated, `emit-rich` produces Lest-like dialect, that is translated to Draw with `rich-text` function.

[16:06](#msg5a43c5090163b0281083eb61)This way I can support more display methods, like Red's `text-box!`, or even HTML.

soapdog

[16:06](#msg5a43c521ba39a53f1aa9f131)@rebolek I have code like `body: rich-text/info emit-rich marky-mark data/content/text 600` which succesfuly generates the draw dialect. Trying to set `message-content/pane: body` (message-content is declared as `base`) I get an error saying that font is not in specified context...

[16:07](#msg5a43c5475355812e5722391c)sorry for being such newbie here, I do learn fast though :grin:

rebolek

[16:13](#msg5a43c6bce43a7a150caf62b8)@soapdog Ok, fonts... this is something that I need to check, I haven't been working with this code for few months. Take a look at the `make-fonts` function in https://github.com/rebolek/gritter/blob/8af0e3e477e8a2c557abb743f1753a59f9ace75c/rich-text.red . IIRC you need to add required fonts with this fc to global fonts to be able to use them.

soapdog

[16:18](#msg5a43c7f0e43a7a150caf68e9)@rebolek thanks a lot! checking it out... I didn't expected it to be a font issue :-)

rebolek

[16:20](#msg5a43c832c072deaf0b0a565e)@soapdog sorry for my buggy code :)

soapdog

[16:21](#msg5a43c89b29ec6ac3118cfc60)@rebolek it might be something different... I do have "Segoe UI" font available. I'll investigate it further, at least "Segoe UI" appears in `system/view/fonts`

rebolek

[16:24](#msg5a43c93b232e79134d98f9cf)@soapdog I'm sorry, I really don't remember details about Gritter UI, I'm mostly on Linux now and it's unsupported platform in Red/View, so I use just gitter tools from terminal mainly. I can take a look at it on my Hackintosh, but it will take some time.

soapdog

[16:26](#msg5a43c9ad232e79134d98fc0c)@rebolek don't worry, I will work through the code here, I think the problem is with the `font` variable being out of scope. I will check it out, I am sure you have plenty in your hands already.

9214

[16:47](#msg5a43ceb7ba39a53f1aaa21a9)@lepinekong\_twitter you want something like this?

```
context [
	counter: 0
	set '?? func ['value /reset][
		if reset [counter: 0]
		counter: counter + 1
		print rejoin [
			"[" counter "]" tab value ":" space 
			mold get/any value
		]
	]
]
```

[16:49](#msg5a43cf0b5355812e5722685b)

```
text
>> foo: has [a sub][a: 1 ??/reset a sub: has [b c][b: 2 ?? b c: 3 ?? c] sub]
== func [/local a sub][a: 1 ??/reset a sub: has [b c] [b: 2 ?? b c: 3 ?? c] sub]
>> foo
[1]    a: 1
[2]    b: 2
[3]    c: 3
>> foo
[1]    a: 1
[2]    b: 2
[3]    c: 3
```

[16:50](#msg5a43cf4fedd2230811e36309)

```
text
>> ?? abracadabra
[4]    abracadabra: unset
>> ??/reset whatever
[1]    whatever: unset
>> whatever: 'something
== something
>> ?? whatever
[2]    whatever: something
```

Oldes

[19:32](#msg5a43f5540163b0281084d102) A

rebolek

[19:35](#msg5a43f5fce43a7a150cb04dd2)@Oldes wow

9214

[21:38](#msg5a4412e8ba39a53f1aab60f0)2deep4me

## Thursday 28th December, 2017

onetom

[05:15](#msg5a447dfd03838b2f2a43fd05)i was just looking into this n+1 package manager for nodejs called `pnpm` and in the comments it someone mentioned Red:  
https://www.kochan.io/nodejs/why-should-we-use-pnpm.html#comment-3262893081

it was a nice surprise :)

greggirwin

[07:05](#msg5a44979eba39a53f1aad483d)@octetta, definitely stay in touch on this. People with experience in specific areas are enormously valued. You may be able to help review design specs for sockets and such as Team Red works on them.

[07:07](#msg5a44983629ec6ac3119063e3):point\_up: \[December 26, 2017 4:45 PM](https://gitter.im/red/red?at=5a42df21e43a7a150cabb305) @kybr, no sound in Red yet, unless you link to external libs.

[07:28](#msg5a449d35232e79134d9c6f68)Man, you guys are writing faster than I can read lately.

@are1000, we don't have official HOF stuff yet, but ask and we can post things we are all experimenting with in different areas. There's a general plan for them, but still need to nail down the overall design intent for consistency.

are1000

[07:30](#msg5a449daeedd2230811e6c7af)(HOF?)

9214

[07:31](#msg5a449dbae43a7a150cb2e287)@are1000 High Order Functions

are1000

[07:31](#msg5a449dcfe43a7a150cb2e2c4)Oh, right, mindblocked for a second

9214

[07:43](#msg5a44a0bfba39a53f1aad6fd8)I humbly remind everyone that we have an upcoming QA session which aims to answer questions with regard to recent announcement, Red/C3, Red/Core, RCT, ICO, and any other Red-related stuff. So, if you want to ask something, either PM me your question or drop it in any other room with @9214 mention.

greggirwin

[07:45](#msg5a44a124b48e8c3566737f8e)@are1000 , you may flounder for a bit, with all the new concepts, but you'll be fine. We won't let you drown. Still, I'll dunk you under a bit. In addition to `lit-word!` params, you can have `get-word!` params in funcs. I don't do this to scare you, but to point out that there are a \*lot* of subtle details that make Red flexible and powerful...and most of the time you should forget they exist and just do the simplest thing. But when you need them...

```
>> fn: func [:arg][print type? :arg]
== func [:arg][print type? :arg]
>> fn ()
paren
```

9214

[07:46](#msg5a44a14aedd2230811e6d7ba)@greggirwin AFAIK `:arg` and `'arg` are the same in Red, at least last time I checked

are1000

[07:46](#msg5a44a15d03838b2f2a448667)@9214 what about webassembly as a compilation target? If Red aims to be full-stack, isn't it only natural to target web browsers as well?

[07:46](#msg5a44a16929ec6ac311908d25)(is it suitable for a QA?)

9214

[07:47](#msg5a44a1835355812e5725dff6)@are1000 sure, IIRC Doc wants to aim on asm.js (or whatever it's called) first

are1000

[07:47](#msg5a44a19229ec6ac311908eda)@greggirwin wait, parenthesis is a type?!

greggirwin

[07:47](#msg5a44a1a0edd2230811e6d9ba)@9214, I thought so as well, and we need to clarify the exact differences.

```
>> fn: func ['arg][print type? :arg]
== func ['arg][print type? :arg]
>> fn ()
*** Script Error: fn does not allow unset! for its 'arg argument
*** Where: fn
*** Stack: fn  
>> fn: func ['arg [any-type!]][print type? :arg]
== func ['arg [any-type!]][print type? :arg]
>> fn ()
unset
```

[07:48](#msg5a44a1c1e43a7a150cb2f2d2)@are1000, yes. Do `help datatype!` to see them all. More will come.

[07:48](#msg5a44a1daedd2230811e6da60)Also, `help typeset!`

are1000

[07:49](#msg5a44a1eeb48e8c3566738352)wait, `rebol` is `false`?

[07:49](#msg5a44a1f60163b02810876cc2)is this some kind of easter egg? :P

greggirwin

[07:49](#msg5a44a2200163b02810876d2c)Makes sense to me.

```
>> not rebol
== true
```

gltewalt

[07:49](#msg5a44a22603838b2f2a448988)I think it was intended so that you can have rebol code and red code in the same program

are1000

[07:50](#msg5a44a24403838b2f2a448a4f)wouldn't header be a problem? or `Red` tolerates `Rebol` as a header?

9214

[07:50](#msg5a44a24a29ec6ac311909189)@greggirwin interesting, so, how exactly `'arg` differs from `:arg`?

greggirwin

[07:51](#msg5a44a27f5355812e5725e447)More seriously, Red is currently written in Rebol, and as long as we have mixed code bases, that \*could* run under either, it can help to test sometimes. Also prevents errors from `rebol` being unset when working with old code and porting it.

gltewalt

[07:51](#msg5a44a29cedd2230811e6dcf0)Ah, there we go :point\_up:

greggirwin

[07:52](#msg5a44a2bd5355812e5725e58e)@9214, that's what we need to document...and figure out. ;^)

are1000

[07:53](#msg5a44a2e0b48e8c35667388a0)Ok, so I have a question

gltewalt

[07:53](#msg5a44a2e529ec6ac3119093fc)'arg is literal arg. :arg is value of arg. With scalar (or atomic?) values it should be equivalent

9214

[07:54](#msg5a44a336ba39a53f1aad7a59)so far the difference is only with parens, `'arg` still evaluates them for some reason

greggirwin

[07:55](#msg5a44a369c072deaf0b0de7fb)`Get-word!` params are even stricter in not evaluating the arg.

```
>> fn-g: func [:arg [any-type!]][print type? :arg]
== func [:arg [any-type!]][print type? :arg]
>> fn-l: func ['arg [any-type!]][print type? :arg]
== func ['arg [any-type!]][print type? :arg]
>> fn-g :append
get-word
>> fn-l :append
action
```

are1000

[07:56](#msg5a44a39929ec6ac311909627)(better to use `func` or `function`?)

9214

[07:56](#msg5a44a3a203838b2f2a449026)@are1000 it depends :)

are1000

[07:56](#msg5a44a3b1ba39a53f1aad7be6)`function` declarations are local, right?

9214

[07:57](#msg5a44a3d5c072deaf0b0de991)usually I encourage newcomers to stick with `func` for a while, to gain better understanding of how function's contexts are created

[07:57](#msg5a44a3f403838b2f2a4490f5)`function` is "smart" and will localize all `set-word!`s (and iterator's words) in its body, which sometimes is not desired

[07:57](#msg5a44a405b48e8c3566738ccb)`func` on the other hand is "dumb" and you should specify everything manually

[08:01](#msg5a44a4ef29ec6ac311909ae1)@greggirwin `'arg` is a crippled version of `:arg`? :confused:

gltewalt

[08:02](#msg5a44a4ff5355812e5725edc0)You can use `/extern` to have some set-words in `function` body not be local, but it's harder for me to reason about. I prefer `func` with `/local` for now

are1000

[08:03](#msg5a44a56c0163b02810877a23)@gltewalt opposite here - it's harder for me to reason about `func`? But then, maybe its because javascript - it's all about local scopes

gltewalt

[08:04](#msg5a44a58b0163b02810877a92)@are1000 Whatever works best for you

are1000

[08:05](#msg5a44a5ae29ec6ac311909dd3)As for now, nothing really works :P

gltewalt

[08:05](#msg5a44a5c0c072deaf0b0df313)@9214 How is it crippled?

```
>> probe :z
unset
>> probe 'z
z
== z
>>
```

9214

[08:05](#msg5a44a5d929ec6ac311909ef3)@gltewalt I meant in function spec

[08:06](#msg5a44a5f529ec6ac311909f70)so far `:arg` behaves like `'arg` IMO should

are1000

[08:10](#msg5a44a6d8e43a7a150cb308a0)What about this?

[08:10](#msg5a44a6f35355812e5725f607) &gt;&gt; f: func \[ :x \[any-type!] ] \[ print type? x ]  
\== func \[:x \[any-type!]]\[print type? x]  
&gt;&gt; g: func \[ 'x \[any-type!] ] \[ print type? x ]  
\== func \['x \[any-type!]]\[print type? x]  
&gt;&gt; f :f  
get-word  
&gt;&gt; g :g  
\*\** Script Error: x has no value  
\*\** Where: type?  
\*\** Stack: g

9214

[08:13](#msg5a44a7b203838b2f2a44a290)@are1000 it seems that `'x` still evaluates argument

are1000

[08:14](#msg5a44a7d75355812e5725f98b)Every other thing works the same tho

[08:14](#msg5a44a7eb0163b028108785b8)It doesn't

[08:14](#msg5a44a7efc072deaf0b0dfe96)It evaluates parens

greggirwin

[08:14](#msg5a44a7f4b48e8c3566739f84)

```
>> g: func [ 'x [any-type!] ] [ print type? :x ]
== func ['x [any-type!]][print type? :x]
>> g :g
function
```

are1000

[08:15](#msg5a44a816232e79134d9ca0cf)Why does it throw in my example?

9214

[08:15](#msg5a44a835e43a7a150cb30cf9)@are1000 `type? :x` vs `type? x`

are1000

[08:16](#msg5a44a85d29ec6ac31190ad99)so it seems that `g` tries to call itself when doing `print type? x`

[08:16](#msg5a44a86fb48e8c356673a1d1)since you can't quote a function?

9214

[08:17](#msg5a44a8a1232e79134d9ca409)it should quote `get-word!`

are1000

[08:18](#msg5a44a8bcb48e8c356673a2a6)what does `quote reduce (:g)` then?

9214

[08:18](#msg5a44a8be0163b02810878ab7)and IMO print `get-word`

are1000

[08:18](#msg5a44a8ce0163b02810878ae2) &gt;&gt; quote reduce (:g)  
\== func \['x \[any-type!]]\[print type? x]

9214

[08:18](#msg5a44a8e6232e79134d9ca64e)@are1000 just returns unevaluated value of `:g`, because you've `quote`d `reduce` ;)

are1000

[08:19](#msg5a44a902ba39a53f1aad96d9)oh :o

gltewalt

[08:21](#msg5a44a9a6c072deaf0b0e0836)

```
>> g: func [ 'x [any-type!] ] [ print type? x ]
== func ['x [any-type!]][print type? x]
>> g g
word
```

greggirwin

[08:23](#msg5a44aa0f232e79134d9cacc2)This brings us back to a central mindset in Red, that must be embraced: Everything is data until it is evaluated. And, again, most of the time...like almost always, you won't have to worry about this level of detail. It will be good to get down on paper, and important, but a bit esoteric. Shows, though, how evaluation being so important, Red gives you tools to control it in many ways.

gltewalt

[08:24](#msg5a44aa20edd2230811e6feca)`unset? g g`

[08:24](#msg5a44aa56b48e8c356673abf0)And `print` carries a `reduce` around with it

greggirwin

[08:25](#msg5a44aa7203838b2f2a44af8a)&gt; print carries a reduce around with it

I like that. :^)

are1000

[08:25](#msg5a44aa7fc072deaf0b0e0cb9)Can Red read command line arguments?

9214

[08:27](#msg5a44aad6edd2230811e701ab)`system/options/args` or `system/script/args`, can't remember which one

[08:27](#msg5a44aae3e43a7a150cb31883)maybe both, but in different formats

greggirwin

[08:27](#msg5a44aaf5c072deaf0b0e0e53)@9214 Correct.

9214

[08:27](#msg5a44ab000163b0281087959d):mortar\_board:

are1000

[08:28](#msg5a44ab48232e79134d9cb33b)First one is a block of strings, second one is a string

gltewalt

[08:30](#msg5a44aba00163b02810879a30)@greggirwin This is a weird one though

```
== func ['x][print type? x]
>> g g
word
>> g :g
*** Script Error: x is missing its 'x argument
*** Where: x
*** Stack: g
```

9214

[08:30](#msg5a44abbb5355812e57260be5)@gltewalt in the second case `:g` is evaluated as a function which expects some argument

[08:31](#msg5a44abdc0163b02810879c07)so it looks like a bug, or rather unfinished feature

[08:31](#msg5a44abf629ec6ac31190c06b)I mean `'arg` and `:arg` syntax in specs

gltewalt

[08:31](#msg5a44abfd0163b02810879c7e)mmhm

are1000

[08:32](#msg5a44ac25c072deaf0b0e13c2)how to join two paths? for example I have a local path `%directory/` and I want to specify a file in this directory, i.e. `"file.red"`

9214

[08:32](#msg5a44ac36c072deaf0b0e13f7)@are1000 `append`?

are1000

[08:33](#msg5a44ac415355812e57260e8e)`path!` is a series?

9214

[08:33](#msg5a44ac46c072deaf0b0e141e)

```
text
>> append %directory/ %file.red
== %directory/file.red
>> append %directory/ "file.red"
== %directory/file.red
```

are1000

[08:33](#msg5a44ac545355812e57260edb)so why `/1` doesn't work on `path!`?

[08:34](#msg5a44ac7cedd2230811e70bba) &gt;&gt; m: %dir/file.red  
\== %dir/file.red  
&gt;&gt; m/1  
\== %dir/file.red/1

9214

[08:34](#msg5a44acb1232e79134d9cbaa2)@are1000 it's not a `path!`, it's a `file!`

greggirwin

[08:35](#msg5a44acdae43a7a150cb3212f)@are1000, note that you can `do` another script, and with `do/args` you can pass a block with other values if you want.

9214

[08:35](#msg5a44acdc03838b2f2a44b7b5)@9214 though, it's a `series!` too

are1000

[08:35](#msg5a44acdd232e79134d9cbb1f)so what is a `path!`?

9214

[08:36](#msg5a44acf429ec6ac31190c40a)@are1000

```
>> type? 'a/b/c
== path!
```

[08:36](#msg5a44ad18b48e8c356673b7e5)

```
text
>> split-path m
== [%dir/ %file.red]
```

are1000

[08:37](#msg5a44ad58edd2230811e70e7f)so is `%file.red` any file of that name or is it A file in cwd folder?

greggirwin

[08:37](#msg5a44ad5c5355812e572613a9)A bit confusing, because we talk about file paths, and files are a type of string. `Path!` values are a type of block.

[08:38](#msg5a44ad6bb48e8c356673b90f)So they have different semantics.

are1000

[08:38](#msg5a44ad78b48e8c356673b936)Oh, ok

9214

[08:38](#msg5a44ad8503838b2f2a44bb3d)@are1000 it's just a value

[08:39](#msg5a44ada85355812e57261502)file with the same name may or may not be in your working dir

greggirwin

[08:40](#msg5a44adf5c072deaf0b0e1afe)Adding to that, actions like `read` will be cwd aware, but other things may not care about that, and use just the filename. You can use `clean-path` to make it absolute.

gltewalt

[08:43](#msg5a44aec8e43a7a150cb32914)http://www.rebol.com/docs/core23/rebolcore-12.html#section-2

greggirwin

[08:44](#msg5a44aef7232e79134d9cc37d)+1 Good one @gltewalt

are1000

[08:48](#msg5a44afc703838b2f2a44c681)"What is Rebol?" "Documentation for Red"

gltewalt

[08:48](#msg5a44afe4ba39a53f1aadb551)You'll run in to some differences

greggirwin

[08:49](#msg5a44b03729ec6ac31190d643)You have a wiki for that all ready for @are1000, right @gltewalt ? :^)

gltewalt

[08:50](#msg5a44b06329ec6ac31190d6d9)Yes, but I might be wrong in some cases :smile:

[08:51](#msg5a44b07629ec6ac31190d752)https://github.com/red/red/wiki/REBOL-Core-Users-Guide:--A-walkthrough-with-Red

are1000

[08:53](#msg5a44b0eee43a7a150cb33120)why this will freeze Red?

[08:53](#msg5a44b0f0ba39a53f1aadb9a9) foreach \[site action] sites [  
data: read site  
do action  
]

gltewalt

[08:53](#msg5a44b11be43a7a150cb33224)Looks like I didn't do File chapter yet

9214

[08:54](#msg5a44b1400163b0281087b2b0)reading urls might take some time

are1000

[08:54](#msg5a44b1610163b0281087b39c)but temporarily, right?

[08:55](#msg5a44b17229ec6ac31190dbaf)is there a plan for Promises/Futures or something else (like callbacks)

9214

[08:55](#msg5a44b18b0163b0281087b479)callback hell isn't planned for sure ;)

greggirwin

[08:55](#msg5a44b19ac072deaf0b0e2b28)Red is single threaded and doesn't have concurrency yet (or non-blocking I/O). The goal is...to look at what @9214 said. :^)

9214

[08:56](#msg5a44b1c0232e79134d9cce7d):muscle:

pekr

[08:57](#msg5a44b20aba39a53f1aadbe37)¨¨

are1000

[08:58](#msg5a44b22929ec6ac31190dde3)What about `libuv`?

pekr

[09:00](#msg5a44b2a003838b2f2a44d3d2)I remember guys talking about libuve and or libevent as an inspiration for the Red event loop. It would not be a binding, but reimplementation imo ...

gltewalt

[09:01](#msg5a44b304b48e8c356673cea6)@9214 So should you make a ticket for 'x :x in func spec?

9214

[09:02](#msg5a44b32ce43a7a150cb33a51)@gltewalt idk, I remember that Doc said that this syntax is not yet implemented correctly

greggirwin

[09:03](#msg5a44b349e43a7a150cb33ab7)@are1000 don't forget that Red is its own compiler as well. A single EXE toolchain. Added weight isn't just in the final deployment.

9214

[09:06](#msg5a44b42a5355812e57262de6)it might be worth a ticket though

are1000

[09:07](#msg5a44b46eba39a53f1aadc7a0)@greggirwin wouldn't it be possible to create some wrapper for libuv and use it as a pluggin for Red?

greggirwin

[09:09](#msg5a44b4d9232e79134d9cdaf2)Can't say, but it would only be a stopgap solution in any case. We are a full stack shop here. :^)

[09:10](#msg5a44b50e5355812e572630f5)Still, we'd have to build libuv first, correct? And what do we need in our toolchain, then, to do that?

[09:11](#msg5a44b54a232e79134d9cdda1)Or, if we use it as a dynamic lib, you lose the single exe option, and libuv then has to be built for each platform you support too, yes?

pekr

[09:11](#msg5a44b54fe43a7a150cb342e6)Yes, compile it for all of our targets, if we want to wrap it, right?

[09:12](#msg5a44b583ba39a53f1aadcb30)I believe that it will come. I even believe, that Red is going to be better in multimedia, than Carl envisioned for Rebol, even if he called himself a multimedia guy :-)

greggirwin

[09:13](#msg5a44b5c4ba39a53f1aadcc04)So it's not that we don't want to leverage existing tools, just that they end up not buying us anything in most cases. What we gain in one way, we lose in another. And, because the full stack approach is new, the more things we build in it ourselves, the more we learn, and the better the next version is.

are1000

[09:14](#msg5a44b6065355812e572634fa)I absolutely agree @greggirwin, I talked about libuv as a more of a "test" solution

[09:15](#msg5a44b624c072deaf0b0e3bbc)I wouldn't put libuv in a finished product, Red would be definitely better off with its own implementation of event-loop

pekr

[09:16](#msg5a44b675c072deaf0b0e3d01)I would also like to point out, that it does not necessarily mean to reinvent a wheel for each area we need to solve. I know that Doc is studying and evaluating many systems and concepts out there. Once the architecture is decided, the coding itself is a more narrow part of the task ... well, imo :-)

[09:17](#msg5a44b6b0ba39a53f1aadd037)But generally yes, libuv was talked here as an inspiration, if I remember it correctly ...

9214

[09:24](#msg5a44b837edd2230811e741cd)https://github.com/red/red/issues/3174

[09:27](#msg5a44b90f0163b0281087d8c6)@greggirwin I think it could be marked as a wish, since Red team has more important things to do right now ;)

lepinekong\_twitter

[09:50](#msg5a44be65b48e8c35667403ec) @9214 @greggirwin Async/Await http://stackabuse.com/avoiding-callback-hell-in-node-js/

PhilipotPatrick\_twitter

[10:41](#msg5a44ca5bb48e8c3566743b65)Hi, I'm new here, but not totally new to Rebol. I'm in the process of using Red with old Rebol code. I'm starting with a variation of mine of the famous makedoc program. And I'm missing the "join" command. I found it strange that "rejoin" is supported and not "join". Should I replacer all the join with rejoin ?

pat665

are1000

[10:44](#msg5a44cb060163b0281088376e)`join` and `rejoin` is not the same

[10:44](#msg5a44cb26ba39a53f1aae3042)I mean, it doesn't have the same syntax

[10:45](#msg5a44cb65232e79134d9d4661)but otherwise it's similar

[10:46](#msg5a44cb7c0163b02810883a1d)you could also create `join` command that is compatible with Rebol's `join`

pekr

[10:49](#msg5a44cc310163b02810883c9e)Yes, just use `source join`in Rebol and copy/paste it into Red, modify if needed ....

are1000

[10:50](#msg5a44cc5fe43a7a150cb3b7cc)you could just base `join` on Red's `rejoin`? `join: function [a b] [ either block? b [ rejoin [a rejoin b] ] [ rejoin [a b] ]`

maximvl

[10:57](#msg5a44cdff29ec6ac3119162f6)anybody knows a guy named Jack Potte?

PhilipotPatrick\_twitter

[10:59](#msg5a44ce80ba39a53f1aae3b27)Thanks ! I did not expect an answer so quickly. I'm in France.

I like the "source" trick from Petr. It's very good for non native functions.

My next problem will be with native commands like parse. The parse/all refinement for example is not supported in Red.

xqlab

[11:06](#msg5a44d04529ec6ac3119171c4)@PhilipotPatrick\_twitter Reds parse uses the /all as default

pekr

[11:42](#msg5a44d8a6e43a7a150cb3f6f7)In other words, your parse rules should be compatible, as far as spacing go ...

9214

[13:00](#msg5a44ead4e43a7a150cb44935)@greggirwin, @dark-november clarified current behavior of lit args an get args  
https://github.com/red/red/wiki/Guru-Meditations#literal-arguments-and-get-arguments

PCarlsson

[13:00](#msg5a44eaf5232e79134d9de2bf)Hello! I can see in the roadmap that network I/O is 20% done. Where can I get information about what those 20% include? Specifically, I want to know if it is possible to send email.

9214

[13:12](#msg5a44edc503838b2f2a45e619)@PCarlsson usually everything is reflected in https://trello.com/b/FlQ6pzdB/red-tasks-overview

[13:13](#msg5a44edeeba39a53f1aaed80b)for now we have a really basic I/O like `read` or `write/into` with POST/GET

lepinekong\_twitter

[13:24](#msg5a44f087edd2230811e85c1f)@9214 seems what I want will try with my functions thanks https://gist.github.com/lepinekong/191f146659d058ed257b0edaea256e0a

[13:26](#msg5a44f0eac072deaf0b0f507e)@PhilipotPatrick\_twitter if you're totally new with Rebol / Red you can use these tuts https://dev.to/lepinekong/red-for-hopeless-programmers---part-i-3g0

[13:29](#msg5a44f1b6ba39a53f1aaeeb80)@PhilipotPatrick\_twitter for source I also use for example write-clipboard mold :rejoin

PCarlsson

[13:49](#msg5a44f655e43a7a150cb4838e)@9214 Thanks! How can I see what's done and what's not from the Trello-URL? I can only see that for example I/O support in Road to 1.0 has checkboxes for smtp://, esmtp://, imap:// among many others, but I can not see their individual statuses.

9214

[13:51](#msg5a44f6f329ec6ac31192252e)@PCarlsson usually you can see what is in development from recent commits, full I/O support is planned for `0.7.0` release, and usually, once feature is implemented, it's just marked as being complete on Trello board

[13:53](#msg5a44f74703838b2f2a46153e)all exact details could be answered only by main contributors, but they are kinda busy right now :)

PhilipotPatrick\_twitter

[13:55](#msg5a44f7eb5355812e57277f1f)@lepinekong\_twitter  
Thank you for the link.

I'm a bit rusted but I've used Rebol2 for a long time.

PCarlsson

[14:20](#msg5a44fdbbe43a7a150cb4ab38)@9214 Thanks again for the answer! Good to know the main contributors are busy :smile:

x8x

[16:11](#msg5a4517b70cef4fed2ebec19f)@are1000 Gregg kindly provided an enhanched `join` function:

```
join: func [
    "Concatenate values" 
    a "Coerced to string if not a series, map, or object" 
    b {Single value or block of values; reduced if a is not an object or map}
][
    if all [block? :b not object? :a not map? :a] [b: reduce b] 
    case [
        series? :a [append copy a :b] 
        map? :a [extend copy a :b] 
        object? :a [make a :b] 
        'else [append form :a :b]
    ]
]
```

[16:24](#msg5a451abe19147ac3231b127b)Actually @lepinekong\_twitter asked for `join`.. :-)

are1000

[16:26](#msg5a451b21e43a7a150cb54b6b) I just posted a small (seemingly working and untested) replacement :P

PhilipotPatrick\_twitter

[16:46](#msg5a451ff703838b2f2a46e878)My first experience porting Rebol code to Red code has been quite satisfactory with the help I got from here.  
Those interested will find more detail on this page (generated by Red) :

http://www.pat665.free.fr/doc/rebol2red.html

rebolek

[16:48](#msg5a45204403838b2f2a46ea4a)@PhilipotPatrick\_twitter :+1:

gmlewis

[18:52](#msg5a453d8029ec6ac311939679)\[warning: Red newbie question] I'm using the red-0.6.3 REPL on Ubuntu (from the command line) and trying to work through the rebolcore docs (http://www.rebol.com/docs/core23/rebolcore-4.html#section-7.3) - I seem to have a bunch of missing words, like "for", "request-file", "request-dir", etc. Obviously I'm doing something wrong. Any ideas?

9214

[18:57](#msg5a453e81ba39a53f1ab06d62)@gmlewis these words are not defined in Red, I think you can safely skip this examples

[18:57](#msg5a453ea9b48e8c35667675de)Red is only ~90% compatible with R2

gmlewis

[18:58](#msg5a453ee8b48e8c35667676a5)Ah! That explains it. Thanks, @9214! :smile:

[19:11](#msg5a4541d95355812e5728f5fb)From here: https://dev.to/lepinekong/red-for-hopeless-programmers---part-i-3g0 is "view" supposed to work from the command-line REPL?

rebolek

[19:12](#msg5a4542130163b028108a7f6a)@gmlewis not on Linux, unfortunately

gmlewis

[19:12](#msg5a454230b48e8c3566768522)OK, thanks, @rebolek!

rebolek

[19:13](#msg5a45424ae43a7a150cb602fd)You need to use Wine (but then networking wouldn't work, so it's not a good solution).

gltewalt

[19:21](#msg5a454445e43a7a150cb60cef)@gmlewis https://github.com/red/red/wiki/REBOL-Core-Users-Guide:--A-walkthrough-with-Red

gmlewis

[19:22](#msg5a454486c072deaf0b10f11e)I'm not sure if Red owners are in this chatroom, but the "Getting Started" docs here: http://redprogramming.com/Getting%20Started.html#section-3.1 mention "request-file" and "request-dir"... so they might need updating... or maybe these are only missing on Linux? I don't actually know... but a comment would be nice if that is the case. Cool... thank you, @gltewalt!

BrianGilbert

[19:49](#msg5a454ab4ba39a53f1ab0a6a1)Has anyone looked at making a dockset for Dash / Velocity / Zeal https://kapeli.com/docsets

greggirwin

[20:00](#msg5a454d4c03838b2f2a47bfaa)@gmlewis if you do `help request` in the console, you should see that a few requestors are in place today (dir, file, font). Redprogramming.com is not an official Red site. Nick is a longtime community member, with lots of great content out there, but I don't think he hangs out here.

[20:00](#msg5a454d6bedd2230811ea364a)Those funcs \*may* be missing on Linux, because no GUI there yet, except experimental bits done by a couple community members.

9214

[20:00](#msg5a454d6d29ec6ac31193e17e)@gmlewis this site is unrelated to Red team, in a sense that it's maintained by community member(s)

greggirwin

[20:01](#msg5a454da8ba39a53f1ab0b73a)@BrianGilbert, never heard of Dash (in this context), or seen it mentioned here before.

9214

[20:01](#msg5a454da80163b028108ab650)and it seems that latest update was in 2016, so, caveat emptor

rebolek

[20:01](#msg5a454db4edd2230811ea37b9)@greggirwin He unfortunately can't do that, because he's on Ubuntu.

9214

[20:02](#msg5a454de529ec6ac31193e454)@BrianGilbert we have settled down with asciidoc

greggirwin

[20:04](#msg5a454e43b48e8c356676bf48):point\_up: \[December 28, 2017 6:00 AM](https://gitter.im/red/red?at=5a44ead4e43a7a150cb44935) Thanks @9214. I want to see if we can put Andreas's notes in a wiki, as it's great historical info.

9214

[20:06](#msg5a454eb0ba39a53f1ab0bbdd)once documentation matures, and if this generators support asciidoc format, it would be nice to have, although I think that we'll go a bit further with documentation system

[20:07](#msg5a454ef6e43a7a150cb63d52)jeez, gitter is so slow on mobile

[20:09](#msg5a454f815355812e572933d1)@greggirwin https://groups.google.com/forum/message/raw?msg=red-lang/fBFcgty3Ox4/aLn4WEwSY3UJ

BrianGilbert

[20:54](#msg5a455a2129ec6ac3119421a2)@9214 last major version Dash update was February

[20:57](#msg5a455ac229ec6ac3119423a5)@9214 doh.. https://github.com/Kapeli/Dash-User-Contributions/issues/449

## Friday 29th December, 2017

maximvl

[10:50](#msg5a461df729ec6ac3119727c8)is there any way to download a build for a specific date?

are1000

[10:51](#msg5a461e375355812e572c5104)I thought that there were binaries in github releases

[10:51](#msg5a461e3cedd2230811ed5f18)but apparently not :(

maximvl

[10:52](#msg5a461e5729ec6ac31197290f)these are only for official releases

[10:52](#msg5a461e65ba39a53f1ab3ef13)sadly latest builds are completely broken

rebolek

[10:52](#msg5a461e7eba39a53f1ab3ef54)I build them myself, it's the easiest way IMO

ghost~5680c5f416b6c7089cc058a5

[10:52](#msg5a461e7f03838b2f2a4afbd0)@maximvl You will have to manually download sources from github and then use rebol.

maximvl

[10:53](#msg5a461e8f232e79134da30c1c)guys

[10:53](#msg5a461ea2b48e8c356679f4a9)one of the main reasons I'm here is that Red is a 1MB single binary

[10:53](#msg5a461eb15355812e572c5363)I'm so done with compiling stuff manually

rebolek

[10:54](#msg5a461ecb03838b2f2a4afd0d):)

maximvl

[10:54](#msg5a461ee303838b2f2a4afd68)the other day I had to compile a perl package at work

[10:54](#msg5a461efae43a7a150cb960cd)it's like a journey to hell

rebolek

[10:55](#msg5a461f2f03838b2f2a4afe6f)I believe, but compiling Red console is just `do/args %red.r "-r environment/console/console.red"` on Rebol command line.

are1000

[10:56](#msg5a461f49e43a7a150cb961e1)@maximvl TravisCI?

[10:56](#msg5a461f6168d092bb6200555a)if you don't want to compile it yourself every time

maximvl

[10:57](#msg5a461f95b48e8c356679f80b)@are1000 there is Travis but how do I get builds from it?

[10:58](#msg5a461fd129ec6ac311972f31)well there is this: https://ci.appveyor.com/project/red/red/build/1.0.1780

are1000

[10:58](#msg5a461fee5355812e572c5958)you need to configure it properly so it uploads it somewhere

[10:59](#msg5a461fff232e79134da312cb)thats what I do with my npm projects on a commit to master

maximvl

[10:59](#msg5a46200e03838b2f2a4b0230)that's just a multiplication of problems

are1000

[10:59](#msg5a46201c68d092bb6200591d)Travis builds them, and after successful tests and such it uploads it to npm with bumped version

maximvl

[10:59](#msg5a462022edd2230811ed6626)there is already a CI for Red

are1000

[10:59](#msg5a462025232e79134da31364)well, you have to store the builds somewhere, right?

[11:01](#msg5a46206f0163b028108dded1)https://www.appveyor.com/docs/packaging-artifacts/

[11:01](#msg5a462081b48e8c356679fba7)just add this to config, tho I don't know about pricing/tiers and stuff on appveyor

[11:02](#msg5a4620bfba39a53f1ab3f913)and then you would have `https://ci.appveyor.com/api/projects/red/red/artifacts/red-063.exe` for example

maximvl

[11:02](#msg5a4620dbb48e8c356679fca0)@greggirwin @dockimbel is that possible? ^

are1000

[11:02](#msg5a4620e3edd2230811ed6a3e)or this https://www.appveyor.com/docs/deployment/github/

[11:03](#msg5a462102b48e8c356679fd45)so it would be on GitHub page

[11:03](#msg5a4621110163b028108de115)I could try to modify the `config` in a pull request if that would be desired

[11:12](#msg5a462323232e79134da31f56)Can Red zip/unzip files?

[11:12](#msg5a4623355355812e572c6957)or tar or gz or whatever?

x8x

[11:28](#msg5a4626e451915d962afd818a)@maximvl I'm of the same opinion of @rebolek , having a local copy of the red repo and building your own takes no more than 30 seconds. Thought, if there is more requests and it would help finding issues and regressions, it shouldn't be hard to keep an archive of previous nightly builds.

maximvl

[13:44](#msg5a4646ca0163b028108e8beb)tadam https://gitlab.com/maxvel/red-units

are1000

[14:09](#msg5a464c92e43a7a150cba3df0)Congratulations @maximvl :clap:

rebolek

[14:14](#msg5a464dbae43a7a150cba43a0)@maximvl cool! Just a minor issue, `μ` is in the prefixes list twice.

maximvl

[14:15](#msg5a464df029ec6ac31198136e)they are different ;)

[14:15](#msg5a464e09e43a7a150cba44e2)

```
µ-                      micro       # micro sign U+00B5
μ-                      micro       # small mu U+03BC
```

are1000

[14:17](#msg5a464e7db48e8c35667ae313)is Red unicode friendly?

maximvl

[14:17](#msg5a464e8fe43a7a150cba4830)it's friendly but not 100%

are1000

[14:18](#msg5a464e9b5355812e572d3098)just like me!

[14:18](#msg5a464e9dba39a53f1ab4cd95):P

[14:18](#msg5a464ea0e43a7a150cba4873)what's not supported?

maximvl

[14:19](#msg5a464f0303838b2f2a4bde99)I think I reported it already

[14:19](#msg5a464f0503838b2f2a4bde9d)

```
>> read https://raw.githubusercontent.com/minimaxir/big-list-of-naughty-strings/master/blns.txt
*** Access Error: invalid UTF-8 encoding: #{EFBFBE0A}
*** Where: read
*** Stack:
```

[14:20](#msg5a464f18232e79134da3f035)there is a list of strings which covers all unicode guts

[14:20](#msg5a464f2368d092bb6201321f)https://github.com/minimaxir/big-list-of-naughty-strings/blob/master/blns.txt

[14:21](#msg5a464f555355812e572d3685)even `Strings which crashed iMessage in various versions of iOS`

are1000

[14:22](#msg5a464fab0163b028108eb76e)although I can use emojis for my variables :tada:

[14:23](#msg5a464fd3e43a7a150cba4feb)Sadly, they are black and white

maximvl

[14:24](#msg5a46500003838b2f2a4be64e)well it depends on your editor :D

[14:24](#msg5a46500f29ec6ac311981e12)Red ide should support colorful emojis and stuff

are1000

[14:24](#msg5a46501dedd2230811ee5097)I mean Red Console doesn't

[14:30](#msg5a465173edd2230811ee5650)where is Red IDE?

[14:30](#msg5a46518303838b2f2a4beedc)I mean, is it even downloadable? or is it going to be in the future? @maximvl

maximvl

[14:31](#msg5a4651adb48e8c35667af691)I hope so

are1000

[14:31](#msg5a4651be232e79134da40211)oh, so its just an idea?

maximvl

[14:32](#msg5a4651ffba39a53f1ab4e09c)so since Red team is busy with ~~mining bitcoins~~ going blockchain probably we have to make a community effort for it to happen

are1000

[14:32](#msg5a46520dedd2230811ee5a92)I'm all for this

[14:33](#msg5a46522c68d092bb620142cc)Although I'm experimenting with package manager for Red

[14:33](#msg5a46523d0163b028108ec5fd)(like, userspace, before the official one)

maximvl

[14:33](#msg5a4652430163b028108ec665)you have experience with smalltalk stuff like pharo, right?

are1000

[14:33](#msg5a46524f0163b028108ec677)A bit of experience with Pharo and Amber

maximvl

[14:34](#msg5a4652610163b028108ec6fa)so Pharo-like environment is my vision pretty much

[14:34](#msg5a465281e43a7a150cba60c7)DrRacket is pretty similar, steal some cool ideas from LightTable

are1000

[14:35](#msg5a4652a7edd2230811ee5d78)btw, once we get networking IO, we can write a plugin to debug live code

[14:35](#msg5a4652ae68d092bb620144fd)to your favourite editor

maximvl

[14:35](#msg5a4652ceedd2230811ee5e33)yeah, debugger should be a part of it as well as package manager and live coding environment

are1000

[14:36](#msg5a4652e768d092bb6201461f)In my humble opinion, networking and asynchrony are two most needed features for Red

[14:37](#msg5a465325edd2230811ee5f93)I'm doing a command line package manager for now, but I think that some ideas that went well could be ported into the "Pharo" one

[14:38](#msg5a46536703838b2f2a4bfb39)I'm not sure if the way that I'm imagining a cli package manager for red is correct or even that good

[14:39](#msg5a4653a4e43a7a150cba6611)but it fits my fantasy for a server-side, interpreted, command line Red language

maximvl

[14:39](#msg5a4653be29ec6ac31198363f)red doesn't even have a "module"-like entity yet

are1000

[14:40](#msg5a4653c268d092bb620148bd)exactly

[14:40](#msg5a4653d7e43a7a150cba6738)so if you would use my package manager, your code would be uncompilable (for now)

maximvl

[14:40](#msg5a4653d703838b2f2a4bfca8)so for now it's just `load http://github/library.red` :D

rebolek

[14:40](#msg5a4653dbb48e8c35667b0382)You can run server-side interpreted Red as CGI even now

are1000

[14:40](#msg5a4653fa29ec6ac311983783)I'm doing something like this:

[14:41](#msg5a4654105355812e572d528d)`redository get http://github.com/some/package`

[14:41](#msg5a46541868d092bb620149e3)my code:

[14:41](#msg5a46542e03838b2f2a4bfdf7)

```
import 'package

package/dosomething [ foo bar ]
```

maximvl

[14:41](#msg5a46542fba39a53f1ab4ed83)waiting for 0.6.4 there should be some progress on something, I hope xD

are1000

[14:42](#msg5a4654390163b028108ed001)I run this using `redository run main.red`

maximvl

[14:42](#msg5a46544d68d092bb62014aa3)@are1000 honestly I would do it as a DSL

are1000

[14:42](#msg5a465459b48e8c35667b05cf)DSL?

maximvl

[14:42](#msg5a4654675355812e572d53df)`requre [ abc >= 1.0 cba [ with-feature ] package as new-name]`

[14:42](#msg5a465468232e79134da41292)and so on

are1000

[14:43](#msg5a465486b48e8c35667b0762)well, the exact `import` semantics are up to change

[14:43](#msg5a4654a5ba39a53f1ab4ef9d)I mean, its just a working prototype written by a person that started Redding like few days ago :P

maximvl

[14:44](#msg5a4654b5ba39a53f1ab4efe3)it's just from what I saw in all other package managers is how they all struggle with a format for specifying requirements

are1000

[14:44](#msg5a4654d603838b2f2a4c004b)You would like a lisp-like with extra spice from Red `parse`?

maximvl

[14:45](#msg5a46550a29ec6ac311983cec)look at this: https://github.com/elixir-ecto/ecto/blob/master/mix.exs#L41

are1000

[14:46](#msg5a465537232e79134da41665)that would be cool, but I don't think that should be in a code file

[14:46](#msg5a46553e03838b2f2a4c0203)but in like a separate package file, right?

[14:47](#msg5a465566e43a7a150cba6ef8)I don't think we should mix requirements with destructuring and renaming the package in code

[14:47](#msg5a4655965355812e572d59b6)so while `deps [ abc (>= 1.0) (< 2.0) (optional) ]` would be cute, the rest should be

maximvl

[14:48](#msg5a4655a1edd2230811ee6bfa)in Red amount of code is usually very small

[14:48](#msg5a4655b0b48e8c35667b0e24)in Rebol people did put dependencies into header actually and I would suggest doing the same

are1000

[14:48](#msg5a4655dbe43a7a150cba71ab)but what if you want some bigger project

[14:49](#msg5a4655e2e43a7a150cba71d7)where few of your files use some library

[14:49](#msg5a4655ed29ec6ac3119841b8)now you have to write the dependency in every file?

rebolek

[14:49](#msg5a465605e43a7a150cba7256)@maximvl :+1: for header

maximvl

[14:49](#msg5a46560503838b2f2a4c0571)it depends on what is a project

are1000

[14:50](#msg5a4656190163b028108ed97e)for example an enormous GUI application

[14:51](#msg5a465655b48e8c35667b1062)as I said, you can put your requires into the header

maximvl

[14:51](#msg5a46565fe43a7a150cba7446)a project in any language is just a set of files which some tool can work with

[14:51](#msg5a46566eb48e8c35667b10bf)so it's up to you to design your tool and define what's project

are1000

[14:51](#msg5a46567a68d092bb62015748)well, yep, thats right

maximvl

[14:52](#msg5a465690b48e8c35667b1111)and then you can say that all dependencies should be in a "project" file like many do

are1000

[14:52](#msg5a465696e43a7a150cba74e4)I don't know, I personally would feel safer to have all the requirements in one place, with some kind of information about the package I'm making in one place with it

[14:52](#msg5a4656bd0163b028108edbe4)I agree that using the header for the import would be optimal

[14:53](#msg5a4656d35355812e572d6063)because you can easily do it statistically and without executing the code

maximvl

[14:53](#msg5a4656f20163b028108edcdb)and again, for a big application there should be a "main" file which runs stuff, you can put dependencies into it

are1000

[14:53](#msg5a4657070163b028108edd13)but then, should every other file inherit dependencies from the parent?

maximvl

[14:53](#msg5a46570768d092bb62015a02)and this would be enough

[14:54](#msg5a46570eb48e8c35667b1309)what does that mean

[14:54](#msg5a4657145355812e572d61b6)`inherit dependencies`

are1000

[14:54](#msg5a46571b68d092bb62015a2c)ok, example

[14:54](#msg5a465734232e79134da41f0f)`main.red`, `lib.red`, `foobar.red`

[14:56](#msg5a465780ba39a53f1ab4fbb1)in `main.red`:

```
Red [
    imports: [
      %foobar.red as foobar
   ]
]

probe foobar/calculate 2 3
```

maximvl

[14:56](#msg5a46579329ec6ac311984abf)ok

are1000

[14:56](#msg5a4657acb48e8c35667b15f7)in `foobar.red`:

```
Red [
     exports: [
          calculate
     ]
]

calculate: function [ x y ] [ x * y ]
```

[14:57](#msg5a4657c70163b028108ee02e)and what happens when I add another dependency into `main.red`, like `%lib.red`?

maximvl

[14:57](#msg5a4657c803838b2f2a4c0c2d)red with js fusion, ok :D

are1000

[14:57](#msg5a4657e468d092bb62015d08)should `foobar.red` have access to `lib.red`?

[14:57](#msg5a4657ef03838b2f2a4c0ca6)since they are both imported from `main.red`?

[14:58](#msg5a4657f9e43a7a150cba7bdf)@maximvl I'm just having fun with it :P

maximvl

[14:58](#msg5a4657fc232e79134da422e0)ye, why not

are1000

[14:58](#msg5a46580c03838b2f2a4c0d40)so what happens when I do this

maximvl

[14:58](#msg5a465814e43a7a150cba7d19)I mean all this `restricting access` stuff is mostly bloated in my opinion

[14:58](#msg5a46581b03838b2f2a4c0d68)just make it simple

are1000

[15:00](#msg5a46587203838b2f2a4c0e4c)`main.red`:

```
Red [
  imports: [
    %foobar.red
    library@2.0.0
  ]
]
```

`foobar.red`:

```
Red [
  imports: [
    library@3.0.0
  ]
]
```

[15:01](#msg5a4658b303838b2f2a4c0f7d)what I mean is that there may be suprising things happening when something is inexplicit

[15:01](#msg5a4658d55355812e572d699f)so if I import a file, in the file contexts, every other import should be explicit, not visible from the parent (importing script)

maximvl

[15:01](#msg5a4658dbb48e8c35667b1c2b)thinking about it a little bit

[15:02](#msg5a4658ea5355812e572d6a4e)so the files are not of any importance in Red world

are1000

[15:02](#msg5a4658f4edd2230811ee7aec)yep

maximvl

[15:02](#msg5a4658f803838b2f2a4c1115)the structural entities are blocks

are1000

[15:02](#msg5a465903edd2230811ee7b31)(don't forget that every file requires header)

maximvl

[15:02](#msg5a4659045355812e572d6aad)so I would do a block-level imports

are1000

[15:02](#msg5a4659165355812e572d6afb)(so they are not that irrelevant actually)

maximvl

[15:03](#msg5a465928b48e8c35667b1dc1)eg `with-library [ lib-1.0 as mylib ] [ my coding using this lib ]`

[15:03](#msg5a4659565355812e572d6b85)the one specified on header would apply only for whole block (which is current file) then

are1000

[15:04](#msg5a465961b48e8c35667b1e9f)this is the same as

```
import [ lib-1.0 as mylib ]

my coding using this lib
```

maximvl

[15:04](#msg5a46596fba39a53f1ab5077f)no

are1000

[15:04](#msg5a46597cedd2230811ee7d34)\*almost the same

maximvl

[15:04](#msg5a46598868d092bb6201651e)it exactly fixes the problem you posted

are1000

[15:04](#msg5a4659945355812e572d6c59)but then you would need closures?

[15:05](#msg5a4659ab5355812e572d6d02)or you cannot nest `with-library`

maximvl

[15:05](#msg5a4659bd232e79134da42b30)it depends a lot on how closures are implemented

[15:05](#msg5a4659cd68d092bb620166c0)but in general case there is no problem

[15:06](#msg5a4659e10163b028108eec5a)a library is just a value which is assigned to a word and can be closed on as any other value

are1000

[15:06](#msg5a4659faedd2230811ee8117)yeah, but how we obtain the value is the most important thing

[15:06](#msg5a465a0503838b2f2a4c160f)or do we just `mylib: import [ lib-1.0 ]`?

[15:07](#msg5a465a47e43a7a150cba8543)so as for now we have 4 (?) possible strategies?

maximvl

[15:08](#msg5a465a52edd2230811ee8226)this can work with multiple libs: `import [ mylib: lib-1.0 your-lib: lib-2.0] ...`

are1000

[15:09](#msg5a465abaedd2230811ee84b4)* static import in the header  
\* closure-like `with-library`  
\* dynamic `import` expression (`mylib: import ...`)  
\* `import` statement (`import [ mylib as ...]`)  
\* macro (`#import`)

maximvl

[15:10](#msg5a465aef29ec6ac311985a6d)2 and 3 and 4 are the same

are1000

[15:10](#msg5a465afdedd2230811ee8634)maybe the same, but don't have to

maximvl

[15:11](#msg5a465b0f5355812e572d776e)but they are doing exactly the same :D

[15:12](#msg5a465b42232e79134da433fd)I was thinking about general `with` expression, then it could by used for anything including imports

[15:12](#msg5a465b76ba39a53f1ab50fb9)`with [f: open %myfile.txt lib: import 'my-lib-1.0] [ my-lib/write f ]`

are1000

[15:14](#msg5a465bc029ec6ac311985dd2)but in your example, would `import` be only available in `with` or could i use it anywhere else too?

maximvl

[15:14](#msg5a465bd35355812e572d7b06)no `with` just executes and binds words

[15:14](#msg5a465bde29ec6ac311985e8e)you can put anything inside, so `import` is just a function

are1000

[15:15](#msg5a465c1a68d092bb620172e3)you know what `with` is? IIFE

[15:15](#msg5a465c1dba39a53f1ab513ee)(kinda)

[15:16](#msg5a465c33ba39a53f1ab51447)its just a function that is executed immediately basically

maximvl

[15:16](#msg5a465c3fba39a53f1ab51484)lol

[15:16](#msg5a465c49b48e8c35667b2e79)what does it mean `function executed immediately`

[15:16](#msg5a465c5468d092bb62017426)when should it be executed? tomorrow? :)

are1000

[15:16](#msg5a465c6968d092bb62017476)so the same as `function [f lib] [ my-lib/write f ] open %myfile.txt import 'my-lib-1.0`

[15:17](#msg5a465c7eedd2230811ee8cc4)this is basically your `with` statement in Red

maximvl

[15:17](#msg5a465c7fedd2230811ee8cc6)you can't do like this in Red

[15:17](#msg5a465c8f03838b2f2a4c2257)the idea is similar, yes

[15:18](#msg5a465cc75355812e572d7ec6)it can be done easily using contexts, no function is needed here actually

are1000

[15:20](#msg5a465d2ab48e8c35667b341d)contexts?

[15:20](#msg5a465d3d68d092bb620178d3)btw, how do you use `bind`?

[15:20](#msg5a465d4b0163b028108efc50)"To do by red-by-example team ..."

maximvl

[15:20](#msg5a465d4de43a7a150cba92f4)yeah, they way bindings blocks and functions work in Red is very different

are1000

[15:21](#msg5a465d63b48e8c35667b3502)functions in Red are basically trickery

[15:21](#msg5a465d7968d092bb62017ace)like, I don't feel like functions in Red are 'real'

maximvl

[15:21](#msg5a465d7b68d092bb62017ada)@are1000 this is still a best explanation out there: http://blog.revolucent.net/2009/07/deep-rebol-bindology.html

rebolek

[15:25](#msg5a465e4d5355812e572d8595)@are1000 `bind` is super-simple:

```
>> o1: context [a: 3] o2: context [a: 7]
== make object! [
    a: 7
]
>> print bind [a] o1
3
>> print bind [a] o2
7
```

are1000

[15:26](#msg5a465e9ee43a7a150cba9bec)oh, ok

[15:26](#msg5a465ea55355812e572d87c0)this is tricky

maximvl

[15:26](#msg5a465ec303838b2f2a4c2e53)it is, like everything until you get it ;)

are1000

[15:27](#msg5a465ec9edd2230811ee99b1)I mean, its pretty straightforward, but tricky

[15:27](#msg5a465edd03838b2f2a4c2eca)can I execute a function using a context?

maximvl

[15:27](#msg5a465eecb48e8c35667b3d98)not sure what you mean

are1000

[15:27](#msg5a465efdedd2230811ee9adb)can I execute a block using a context?

maximvl

[15:28](#msg5a465f14232e79134da446c6)yes, in fact it's always executed using a context, with a global context by default ;)

are1000

[15:28](#msg5a465f24ba39a53f1ab5228f)like, `ctx: [a: 10]` and then `magic ctx [a + a] == 20`

[15:28](#msg5a465f3ae43a7a150cba9e74)well, the `magic` is your `with` :D

[15:29](#msg5a465f6b0163b028108f081a)ok, so

maximvl

[15:29](#msg5a465f715355812e572d8b9b)

```
>> ctx: context [a: 10]
== make object! [
    a: 10
]
>> do bind [a + a] ctx
== 20
>> a
*** Script Error: a has no value
*** Where: catch
*** Stack:
```

are1000

[15:30](#msg5a465f835355812e572d8be6)

```
with: function [defs block] [
    do bind block context defs
]
```

maximvl

[15:30](#msg5a465f8568d092bb62018427)this is a very very fundamental of Rebol and Red

are1000

[15:30](#msg5a465f9b03838b2f2a4c32c0)difference between using `reduce` and `do` here?

maximvl

[15:30](#msg5a465fb129ec6ac3119874e4)

```
>> do [1 2 + 3]
== 5
>> reduce [1 2 + 3]
== [1 5]
```

are1000

[15:31](#msg5a465fb8e43a7a150cbaa0bd)oh right

[15:31](#msg5a465fbeba39a53f1ab52552)`do` returns the last one

rebolek

[15:31](#msg5a465fc268d092bb6201856d)Both execute block, `do` returns last value, `reduce` returns all reduced values.

are1000

[15:31](#msg5a465fcd68d092bb6201857c)This is so confusing

rebolek

[15:31](#msg5a465fdd0163b028108f09a3)You are just not used to it.

are1000

[15:31](#msg5a465fe7b48e8c35667b42ca)Because in FP `reduce` reduces a List&lt;Value&gt; into a Value

maximvl

[15:31](#msg5a465fe8ba39a53f1ab526d0)

```
>> with [a: 5 b: 10] [a + b]
== 15
```

[15:31](#msg5a465fed232e79134da44aba)nice, @are1000 you got it

are1000

[15:32](#msg5a466007ba39a53f1ab52736)and in Red, `reduce` works like `map`

maximvl

[15:32](#msg5a466010b48e8c35667b43ac)forget FP, this is SP

are1000

[15:32](#msg5a46601329ec6ac311987870)SP?

maximvl

[15:32](#msg5a46601f5355812e572d8e9c)symbolic programming

[15:32](#msg5a466023b48e8c35667b444f):D

[15:33](#msg5a46604d03838b2f2a4c3601)well, they are called symbols since lisp times, here we call them words

are1000

[15:33](#msg5a46605b68d092bb62018788)it would be really cool to combine SP and FP, imho two best Ps in P world

maximvl

[15:34](#msg5a4660740163b028108f0c5c)FP is just a library actually

are1000

[15:34](#msg5a466084ba39a53f1ab52977)well, it is, but it requires few things from the host language

maximvl

[15:34](#msg5a466089e43a7a150cbaa51f)you should make one as an entry exercise

[15:34](#msg5a466090e43a7a150cbaa527)you have all you need

are1000

[15:34](#msg5a4660a2b48e8c35667b4638)I actually did few simple things earlier, because I literally cannot live without my `map`

[15:35](#msg5a4660b1ba39a53f1ab529fc)I get really lost without `map`

[15:36](#msg5a466115ba39a53f1ab52c12)Wow, what I'm going to do is finish my alpha package manager and then write the first package - FP library :P

[15:37](#msg5a46614303838b2f2a4c39e7)I honestly haven't been so excited about programming language since I discovered js a long time ago

maximvl

[15:38](#msg5a46615d03838b2f2a4c3a31)you should do it, especially because there is a chance to get some coins for a contribution now ;)

[15:38](#msg5a46617b5355812e572d9711)@are1000 do you think they joked by putting `Fun guaranteed!` into a language feature list? :D

are1000

[15:39](#msg5a4661ae03838b2f2a4c3c57)Now I know that it is a definitive truth :D

rebolek

[15:40](#msg5a4661de03838b2f2a4c3d29):)

are1000

[15:41](#msg5a466216b48e8c35667b4e1c)I mean, if you don't then its not because of Red :P

constfun

[15:48](#msg5a4663d95355812e572da37c)Hello friends, I've been poking around Red for a few days and have a fly by question for this room. Where do I look to understand how the \*core* of red is implemented? It sounds like I'm interested in the interpeter, my expectation is that it would be simpler to understand. I'm interested in how the homoiconic representation turns to running code... loosely speaking.

rebolek

[15:50](#msg5a46642aedd2230811eeb6f7)Hi @constfun  
You can read the source of Red at http://github.com/red/red/ , but it's written in Red (and Red/System), so asking questions here will help you more than looking at the source.

are1000

[15:53](#msg5a4664e803838b2f2a4c4d3b)Hi @constfun! I agree with @rebolek, but I want to add that you may also look at https://github.com/rebol/rebol (since its written in C and REBOL is mostly similar in syntax to Red).

pekr

[16:12](#msg5a4669835355812e572dc3cf)Today's commit: FEAT: adds R/S thread support on Windows. .... seems like good times ahead :-)

constfun

[16:33](#msg5a466e63b48e8c35667b8d50)thank you, i'll take a look in both repos and come back with questions, i find Red quite readable actually, the C source helps though!

9214

[16:34](#msg5a466eaa5355812e572dde03)jeez, 99+ messages

[16:39](#msg5a466fcd68d092bb6201d84e)I actually defined `with` as `func [contexts block][forall contexts [bind block get first contexts]]`

rebolek

[16:39](#msg5a466fdf0163b028108f5c5d)@9214 just FYI, `red/red` is around 200 messages daily nowadays, while last peaks were around 120.

9214

[16:40](#msg5a466fededd2230811eef184)kinda multi-bind or something

[16:43](#msg5a4670a35355812e572de6ef)@rgchris loves to use Rebol's `use` (nice pun), which is similar to @are1000's `with`

toomasv

[16:49](#msg5a46720468d092bb6201e51e)Sounds like

```
>> f: func [/local a b][a + b]
== func [/local a b][a + b]
>> f/local 5 10
== 15
```

9214

[16:56](#msg5a4673c768d092bb6201ef19)someone actually found use-case for `/local` :)

toomasv

[17:05](#msg5a4675c629ec6ac31198e969) :grin:

[17:15](#msg5a46784e5355812e572e12cc)@are1000

&gt; is Red unicode friendly?

Few weeks I throwed together a small \[unicode viewer](https://gist.github.com/toomasv/e819fa2452f38a15cea6e20182ab9309) (Needs also \[range.red](https://gist.github.com/toomasv/0e3244375afbedce89b3719c8be7eac0)):

```
>> unicode 'emoticons
== [#"😀" #"😁" #"😂" #"😃" #"😄" #"😅" #"😆" #"😇" #"😈" #"😉" #"😊" #"😋" #"😌" #"😍" ...
>> unicode/chart 'emoticons
```

Gitter in not so good on showing raw emoticons :(

lepinekong\_twitter

[17:17](#msg5a46789cedd2230811ef1b78)@gmlewis @9214 would be great to have for implemented one day, it's a bit awkward not to have this basic loop :)

toomasv

[17:20](#msg5a46796c5355812e572e16c7)@lepinekong\_twitter Something like this?

```
>> foreach i range 5 10 [print i]
5
6
7
8
9
10
>> foreach i range/step 10 5 2 [print i]
10
8
6
>> foreach i range/step 10 5 -2 [print i]
9
7
5
```

lepinekong\_twitter

[17:23](#msg5a467a0cedd2230811ef22a3)@toomasv yep :+1: didn't know that, should be put somewhere (at least I put it here https://gist.github.com/lepinekong/d5cf963ec815b1c093cc01fa61952268)

toomasv

[17:24](#msg5a467a67e43a7a150cbb32ed)@lepinekong\_twitter Look up this :point\_up: \[December 29, 2017 7:15 PM](https://gitter.im/red/red?at=5a46784e5355812e572e12cc)

lepinekong\_twitter

[17:27](#msg5a467aff68d092bb62021179)@toomasv how can you get the url of a git ?

toomasv

[17:28](#msg5a467b26ba39a53f1ab5a9a2)@lepinekong\_twitter Do you mean formatting?  
`[title](http://)`

lepinekong\_twitter

[17:30](#msg5a467ba3ba39a53f1ab5abeb)@toomasv I don't mean markdown syntax I mean how do you get for example https://gitter.im/red/red?at=5a46784e5355812e572e12cc

[17:30](#msg5a467baeedd2230811ef28be)@toomasv that you posted

toomasv

[17:30](#msg5a467bd2ba39a53f1ab5ac9f)@lepinekong\_twitter Hover over time of the post, alt-click

lepinekong\_twitter

[17:33](#msg5a467c8268d092bb620219e6)@toomasv OK why on earth didn't the put the command in ... menu :clap:

[17:37](#msg5a467d5d68d092bb62021dec)https://github.com/red/VScode-extension works great, hope one day there will be a debugger, it's a bit difficult to debug just in red console when you have complex recursive loops.

rgchris

[18:42](#msg5a468cb35355812e572e7490)@9214 This is true—I do like using `use` :smile: — I do have a `with` function that is quite similar to @are1000 except it takes an existing context, e.g. `with system [probe version]` (really just a shortcut for `do bind [probe version] system`)—would be equivalent as `with context [a: 1 b: 2] [a + b]`

[18:46](#msg5a468d860163b028108ff0ac)

```
lisp
with: func [
    context [any-word! object!]
    block [any-block!]
    /only
][
    bind block context
    either only [block] :block
]
```

gltewalt

[20:51](#msg5a46aacd5355812e572eff0b)@are1000 Wouldn’t `does` be like IIFE?

[20:52](#msg5a46ab050163b0281090797d)Or just `func` with no set-word?

are1000

[21:01](#msg5a46ad1f29ec6ac31199ec54)@gltewalt IIFE is a concept from JavaScript that helps avoid polluting global namespace

[21:02](#msg5a46ad7103838b2f2a4da7d0)

```
js
window.lib = (function (lib) {
    lib.foo = x => y => x * y
})({})
```

[21:02](#msg5a46ad810163b02810908491)so you have an anonymous function that is immediately executed

[21:03](#msg5a46ad8f29ec6ac31199edac)this part: `(function () { ... })()`

[21:03](#msg5a46adba03838b2f2a4da91a)Therefore you have a new, fresh scope that is guaranteed to be clean.

gltewalt

[21:36](#msg5a46b54fe43a7a150cbc3baf)So js sees function definition unless it's within ( ) ?

are1000

[21:38](#msg5a46b5ba68d092bb620319a0)In js there are multiple ways to declare a function

[21:38](#msg5a46b5c003838b2f2a4dd11f)there is a function declaration

[21:38](#msg5a46b5cc68d092bb620319d2)

```
function add (x, y) {
  return x + y
}
```

[21:38](#msg5a46b5d4edd2230811f030ca)function expression

[21:38](#msg5a46b5f2edd2230811f03139)anonymous:

```
let add = function (x, y) {
  return x + y
}
```

[21:39](#msg5a46b604232e79134da5e476)named:

```
let add = function add (x, y) {
  return x + y
}
```

gltewalt

[21:39](#msg5a46b605ba39a53f1ab6c3e5)&gt; Sounds like

```
>> f: func [/local a b][a + b]
== func [/local a b][a + b]
>> f/local 5 10
== 15
```

That is what `has` is @toomasv

maximvl

[21:40](#msg5a46b63f03838b2f2a4dd25c)as I understand the idea is to not pollute a namespace

are1000

[21:40](#msg5a46b64168d092bb62031ad3)Anonymous function expression doesn't pollute global namespace

maximvl

[21:40](#msg5a46b64a0163b0281090aada)then it's easily done with contexts, function is not even needed

gltewalt

[21:40](#msg5a46b65968d092bb62031b6b)I see

are1000

[21:40](#msg5a46b6695355812e572f325c)I know, but what I said is that `what` is similiar to what `IIFE` does

[21:41](#msg5a46b67fb48e8c35667cdc07)because you can also pass arguments into the anonymous function that will shadow the ones outside

[21:41](#msg5a46b6a103838b2f2a4dd3d5)

```
let x = 10
;(function (x) {
  console.log(x) // 42
})(42)
console.log(x) // 10
```

[21:42](#msg5a46b6abe43a7a150cbc41ca)same with `with`

[21:42](#msg5a46b6b8edd2230811f033e2)

```
x: 10
with [x: 42] [ probe x ]
probe x
```

[21:42](#msg5a46b6cdb48e8c35667cdd0c)this should IMHO print `42` then `10`

[21:43](#msg5a46b6f50163b0281090ae84)do you see what I mean by calling `what` an IIFE?

[21:43](#msg5a46b71f5355812e572f368f)because it behaves like a function that is immediately called:

[21:44](#msg5a46b7340163b0281090afac)

```
x: 10
temp: function [x] [ probe x ]
temp 42
probe 10
```

maximvl

[21:45](#msg5a46b769b48e8c35667cdf94)in the end that's just a JS terminology, this approach is knows since lisp times and it was so obvious that nobody threat is as special ;)

are1000

[21:46](#msg5a46b7a4ba39a53f1ab6cb54)Yeah, of course, just clarifying since Greg asked for details

maximvl

[21:46](#msg5a46b7a829ec6ac3119a1ad4)even more CL has more extensions like `with-open-file`, `with-connection`, `with-whathever-you-like` with their own semantics

gltewalt

[21:46](#msg5a46b7cc03838b2f2a4dd929):+1:

are1000

[21:46](#msg5a46b7ccedd2230811f037ae)btw, JavaScript also has `with` statement ;)

[21:47](#msg5a46b7da03838b2f2a4dd94a)https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/with

maximvl

[21:47](#msg5a46b7df0163b0281090b288)is it recent? I don't remember it back when I studied it

are1000

[21:47](#msg5a46b7e6e43a7a150cbc46e5)It is old actually

[21:47](#msg5a46b7faedd2230811f03963)it is not recommended and forbidden in strict mode

maximvl

[21:47](#msg5a46b803ba39a53f1ab6cc63)ah

[21:47](#msg5a46b806edd2230811f039b3)maybe that's why

[21:47](#msg5a46b80f5355812e572f39d0)any idea why it's forbidden?

are1000

[21:48](#msg5a46b81cedd2230811f03a10)Because it can be confusing:

[21:48](#msg5a46b82f29ec6ac3119a1cbc)

```
let x = 10
let ctx = { x: 20 }

with (ctx) {
  console.log(x)
}
```

[21:48](#msg5a46b835edd2230811f03a3d)what should `console.log` log?

[21:49](#msg5a46b8805355812e572f3eef)how should prototype be handled?

[21:50](#msg5a46b8a70163b0281090b8c0)It just adds uncertainity to the code

maximvl

[21:50](#msg5a46b8a829ec6ac3119a226a)should be 20, why 10?)

are1000

[21:50](#msg5a46b8ba29ec6ac3119a2295)Yeah, it is 20, because `ctx` shadows `x`

[21:50](#msg5a46b8bdedd2230811f040db)but what now?

[21:51](#msg5a46b8d3e43a7a150cbc4eb8)

```
function (x, o) {
   with (o) {
      console.log(x)
    }
}
```

maximvl

[21:51](#msg5a46b8e6b48e8c35667ceb5a)if `o` has `x` then it's value, x otherwise

[21:51](#msg5a46b8f1232e79134da5f6ec)nothing confusing for me

are1000

[21:51](#msg5a46b8f129ec6ac3119a23aa)yep, and it's not ok

maximvl

[21:51](#msg5a46b8f5ba39a53f1ab6d3f1)what

[21:51](#msg5a46b8f6e43a7a150cbc4f36)why?

are1000

[21:52](#msg5a46b90429ec6ac3119a23da)because just by looking at the function you can't really know how it behaves

[21:52](#msg5a46b90ee43a7a150cbc4f84)and we are trying to avoid that

maximvl

[21:52](#msg5a46b91068d092bb620329b4)you know

[21:52](#msg5a46b9200163b0281090baec)it binds values of `o` and prints value of `x`

are1000

[21:52](#msg5a46b920e43a7a150cbc4fd8)you can't know before evaluation what `x` is going to be*

maximvl

[21:52](#msg5a46b931edd2230811f042b5)you know exactly how it behaves, you don't know the result

[21:53](#msg5a46b9410163b0281090bbf0)let me tell you a secret

[21:53](#msg5a46b949e43a7a150cbc508c)you never know what's the value is going to be

[21:53](#msg5a46b95803838b2f2a4de3a1)`function (x) { console.log(x) }`

[21:53](#msg5a46b95cba39a53f1ab6d5b9)what's the difference?

[21:53](#msg5a46b96568d092bb62032ab4)you also have no idea where the `x` is coming from

[21:53](#msg5a46b969ba39a53f1ab6d5fd)maybe from `o` as well

are1000

[21:53](#msg5a46b97229ec6ac3119a25e5)you do know, it comes from the arguments

[21:54](#msg5a46b9810163b0281090bce3)you don't need to know what that is, but you know where it comes from

maximvl

[21:54](#msg5a46b983232e79134da5f954)ok, in your example it also comes from the arguments, either from `x` or from `o.x`

are1000

[21:54](#msg5a46b985edd2230811f04479)with my example you cant

[21:54](#msg5a46b9990163b0281090bdc5)`either`

[21:54](#msg5a46b99bedd2230811f0450c)so you don't know

maximvl

[21:54](#msg5a46b99f0163b0281090be00)I mean, maybe I am stupid

are1000

[21:54](#msg5a46b9a729ec6ac3119a2754)no, I definitely know what you mean

maximvl

[21:54](#msg5a46b9aaedd2230811f04520)but that's the same complexity as `if` statement

are1000

[21:54](#msg5a46b9af29ec6ac3119a2776)but because we are using trivial examples

maximvl

[21:55](#msg5a46b9b5e43a7a150cbc524f)I mean, if that confuses a programmer

are1000

[21:55](#msg5a46b9cdb48e8c35667ceee4)if you put 50 conditions into 1 if, then it also can be confusing :laughing:

[21:55](#msg5a46b9e3232e79134da5faae)well, I'm not defending why js world doesn't like `with`

maximvl

[21:55](#msg5a46b9ea29ec6ac3119a283e)

```
if(o.x) { console.log(o.x) } else { console.log(x) }
```

are1000

[21:55](#msg5a46b9ec5355812e572f44be)I'm just trying to explain it

maximvl

[21:56](#msg5a46b9f45355812e572f44d7)that's the same exact logic

are1000

[21:56](#msg5a46b9fc68d092bb62032e28)but you see @maximvl, this was explicit

[21:56](#msg5a46b9fe68d092bb62032e30)`with` is not

maximvl

[21:56](#msg5a46ba0d232e79134da5fb42)how it is not, you are specifying it using `with`

are1000

[21:56](#msg5a46ba1868d092bb62032e80)but you cannot control it inside the function

[21:56](#msg5a46ba20ba39a53f1ab6d981)if you have `with`

maximvl

[21:56](#msg5a46ba21232e79134da5fba4)you perfectly can

[21:56](#msg5a46ba27edd2230811f04762)why can't you?

[21:57](#msg5a46ba4103838b2f2a4de71b)ok, let me put it another way

are1000

[21:57](#msg5a46ba4a0163b0281090c1b4)I absolutely know what you mean

[21:57](#msg5a46ba4e03838b2f2a4de76f)I understand

maximvl

[21:57](#msg5a46ba55b48e8c35667cf139)by using `with` you want to bind some variables, otherwise why the hell would you use it, right?

[21:58](#msg5a46ba8529ec6ac3119a2a4a)if you want to bind a known, predefined set of variables you just make a context object using them only

are1000

[21:59](#msg5a46baa8edd2230811f048dc)http://2ality.com/2011/06/with-statement.html

maximvl

[21:59](#msg5a46baaa232e79134da5fd96)eg

```
my ctx = { a: o.a, z: o.z}
with (ctx) { ... }
```

are1000

[21:59](#msg5a46babcba39a53f1ab6dbaa)this article (which is also really old) explains the rationale behind deprecation

[21:59](#msg5a46bad1edd2230811f049da)from the link:

```
function foo(arg) {
        with(arg) {
            console.log("arg: "+arg)
        }
    }
```

[22:00](#msg5a46bae629ec6ac3119a2bb8)

```
foo("Hello");
// arg: Hello  ->  parameter arg
    
foo({});
// arg: [object Object]  -> parameter arg
    
foo({ arg: "Hello" });
// arg: Hello  -> property arg.arg
```

[22:01](#msg5a46bb5303838b2f2a4deb32)I mean, I don't really care about `with` in javascript since there are many better ways to do the same

[22:02](#msg5a46bb5a0163b0281090c72f)which are clear and explicit

[22:02](#msg5a46bb7429ec6ac3119a2e6a)but it's just what has been decided :P

maximvl

[22:02](#msg5a46bb75b48e8c35667cf62a)that's not the problem really, it just means you are writing code without understanding what the hell you are writing

[22:02](#msg5a46bb7cedd2230811f04c58)

```
with violates lexical scope, making program analysis (e.g. for security) hard to infeasible.
```

are1000

[22:02](#msg5a46bb8f0163b0281090c7e5)but you know, sometimes you are not the only person that writes the code

maximvl

[22:02](#msg5a46bb9303838b2f2a4dec15)this is different, that's true that such a construct is very dynamic and analysis becomes impossible

are1000

[22:03](#msg5a46bbb5edd2230811f04d6d)therefore you don't want to spend additional time in big codebases to look for `with`s

maximvl

[22:03](#msg5a46bbca5355812e572f4e3a)but you can relax, here in the Red land we go full nuts with dynamics :D

are1000

[22:04](#msg5a46bbd4b48e8c35667cf757)and I absolutely love it!

[22:04](#msg5a46bbede43a7a150cbc5bb8)well, JS and Red are completely different, but I don't think that JS is a bad language

maximvl

[22:04](#msg5a46bbf3ba39a53f1ab6e158)and such deprecation is not really possible because contexts are the very core of the language

[22:05](#msg5a46bc2003838b2f2a4dee5e)btw that guy retweeted Red's tweet with my talk about Red :D

are1000

[22:05](#msg5a46bc2568d092bb62033730)and in JS you don't even have to do that, you can just `let { destructure, everything, that, you, need } = context`

maximvl

[22:05](#msg5a46bc3a68d092bb62033778)so Brendan is aware of Red, maybe even interested

are1000

[22:06](#msg5a46bc6b5355812e572f534b)which guy? Alex?

maximvl

[22:07](#msg5a46bc94b48e8c35667cfa42)Brendan Eich

[22:07](#msg5a46bc9dedd2230811f05158)I heard he wrote JS

[22:07](#msg5a46bca029ec6ac3119a338b):D

are1000

[22:07](#msg5a46bcb1b48e8c35667cfaf5)THAT guy :P

[22:09](#msg5a46bd0e0163b0281090cdc7)tho he had to step down from Mozilla

maximvl

[22:09](#msg5a46bd260163b0281090ce62)well, who cares since he founded Mozilla ;)

[22:09](#msg5a46bd37ba39a53f1ab6e6b4)those people owe him everything

gltewalt

[22:10](#msg5a46bd6868d092bb62033bd9)Some things seem similar when I look. Prototype object, json, hoisting

[22:11](#msg5a46bd8468d092bb62033c65)(forward declarations I think they might call it)

are1000

[22:11](#msg5a46bda9e43a7a150cbc6494)js has hoisting

gltewalt

[22:12](#msg5a46bdba232e79134da60ade)That's what I meant.

are1000

[22:12](#msg5a46bdd029ec6ac3119a3888)&gt; Douglas Crockford, known for his involvement in the development of JavaScript, has described Rebol as "a more modern language, but with some very similar ideas to Lisp, in that it's all built upon a representation of data which is then executable as programs" and as one of JSON's influences.\[5]

gltewalt

[22:12](#msg5a46bdd2ba39a53f1ab6e954)I think they say 'forward declaration\` in Rebol and Red

maximvl

[22:12](#msg5a46bde5b48e8c35667d002b)wikipedea says json was influenced by Rebol so

are1000

[22:13](#msg5a46bdeee43a7a150cbc65b8)oh, I mixed it up then, I thought you meant the other direction

maximvl

[22:13](#msg5a46bdf2e43a7a150cbc65ce)for sure they were aware

are1000

[22:13](#msg5a46be17b48e8c35667d0126)tho js is older than rebol, javascript is still growing

[22:14](#msg5a46be335355812e572f5a28)and they like to borrow nice things since es2015

[22:14](#msg5a46be34b48e8c35667d01b7):P

[22:14](#msg5a46be4b68d092bb62034117)also, isn't Rebol influenced by Self?

[22:14](#msg5a46be55b48e8c35667d0257)Self was a big influence for JS

gltewalt

[22:28](#msg5a46c18fba39a53f1ab6f80d)Yep

[22:28](#msg5a46c1a5232e79134da61a90)https://dzone.com/links/the\_making\_of\_json\_by\_douglas\_crockford\_an\_influe.html

[22:29](#msg5a46c1d829ec6ac3119a4c35)Oh, I see you already grabbed a blurb about it

[22:37](#msg5a46c3b1ba39a53f1ab6ff6f)Gah... `forward references`, not `forward declaration`.  
Anyway, I've probably dragged this room off-topic enough

[23:05](#msg5a46ca475355812e572f8a8e)Opinions on the behavior of the following vs. the default behavior of `pad/left`?

```
pad-with-zeros: func [num-zeros val][
    print pad/left/with val (num-zeros + length? to-string val) #"0"
]
```

```
>> pad-with-zeros 4 3.24
00003.24
```

[23:07](#msg5a46caba0163b028109103f2)`pad/left/with` is the total count of characters

```
>> pad/left/with 3.24 4 #"0"
== "3.24"
```

are1000

[23:13](#msg5a46cc10e43a7a150cbc990e)Oftentimes you want to pad numbers so they take the same amount of space

[23:13](#msg5a46cc2fedd2230811f08ec4)so I think `pad/left/with` seems reasonable

## Saturday 30th December, 2017

greggirwin

[03:02](#msg5a4701bf0163b0281091c08b)@maximvl @are1000, thanks for the appveyor idea. I will pass it along for when the team surfaces.

@maximvl cool on Units! Need to check it out.

@are1000, maybe ping @roobie, as he's interested in packages as well (and so am I).

[03:16](#msg5a4704fbe43a7a150cbd5ea5)For those wanting a `for` func, it's possible we may have it someday, I hope: https://github.com/red/red/wiki/REP-0101---For-loop-function

[03:22](#msg5a47068f03838b2f2a4ef735)@gltewalt, good interfaces for formatting control are tricky.

bigtunacan

[04:07](#msg5a4710f3ba39a53f1ab80505)I'm getting an error trying to compile some very basic code

[04:07](#msg5a4710faedd2230811f17339)

```
Red [ needs: 'View ]
#include %environment/console/input.red

;view [ text "Hello World" ]
print "Hello"
request-file
ask "Enter some text: "
```

[04:08](#msg5a4711525355812e57307f18)The error message is `*** Compilation Error: word terminate not defined in system/console/terminate`

greggirwin

[07:38](#msg5a474262232e79134da7d436)Are you on Linux? No requestors on Linux yet, because no GUI there yet.

[07:40](#msg5a47430503838b2f2a4fba25)Though...I should read in detail, since it's `terminate` that seems to be your problem.

[07:50](#msg5a4745295355812e57312a28)Where's @rebolek when I \*want* him to beat me with an answer?

rebolek

[07:50](#msg5a47455b29ec6ac3119c0e69)@greggirwin making breakfast, sorry :bread: :fork\_and\_knife:

greggirwin

[07:51](#msg5a47456cba39a53f1ab8ac87)OK, good excuse.

rebolek

[07:58](#msg5a47470a68d092bb62050675)Anyway, I can't reproduce the error. I tried compiling with Windows target and it went fine.

[07:58](#msg5a47474229ec6ac3119c15d1)Compiling for Linux throws

```
*** Compilation Error: undefined word request-file
```

but that's expected.

greggirwin

[08:21](#msg5a474c6fba39a53f1ab8c613)Path issue perhaps?

rebolek

[08:22](#msg5a474cb3edd2230811f23f28)Then it would probably throw something like file not found.

greggirwin

[08:25](#msg5a474d6a232e79134da7f8db)I thought so too, but haven't built with console myself. I got a different undefined word here, then fully qualified the include, \*then* got a file not found on %auto-complete.red. Thinking it might be the path setting launching from my editor.

are1000

[08:29](#msg5a474e6203838b2f2a4fe1ee)Btw folks, is `system/script/args` a known issue?

[08:31](#msg5a474eca29ec6ac3119c3053)When I run a script with `red --cli main.red`, the `system/script/args` is `""`, but when I compile it with `-r` and run `./main.exe` it is actually a `none`. Is this known?

greggirwin

[08:33](#msg5a474f4e68d092bb62052478)Can you find an existing ticket for it?

are1000

[08:35](#msg5a474fbf68d092bb620525aa)Not really? I know there was a buncha issues with cli arguments some time ago and it was fixed in some release, but I didn't find anything specifically about this behaviour

greggirwin

[08:35](#msg5a474fef68d092bb62052616)I remember issues and fixes as well. Sounds like you can file a ticket for it.

GiuseppeChillemi

[08:53](#msg5a47540b232e79134da8139d)Maybe the RED/C3 project will speedup the implementation of MONEY! datatype :-)

greggirwin

[08:53](#msg5a47541d5355812e57315dee)YES!

dockimbel

[08:54](#msg5a475431b48e8c35667efd88)@GiuseppeChillemi Definitely! Such datatype implementation can be easily out-sourced.

GiuseppeChillemi

[08:57](#msg5a4754e9ba39a53f1ab8e288)@dockimbel Nenad, is there any risk making money calculation now we do not having such datatype ?

greggirwin

[09:17](#msg5a4759a3b48e8c35667f10e6)@maximvl, Units is very cool. Will look more when I have more time (which seems to be never), but your `starts-with` func can be even simpler. Use `find/case/match` directly.

[09:34](#msg5a475db5b48e8c35667f1e85)And these aren't a \*better* `but-last`, just different ways, for fun.

```
but-last: func [ser [series!] /part n][
	copy/part ser skip tail ser negate any [n 1]
]
```

```
but-last: func [ser [series!] /part n][
	ser: copy ser
	take/last/part ser any [n 1]
	ser
]
```

```
but-last: func [ser [series!] /part n][
	head clear at copy ser (1 + length? ser) - any [n 1]
]
```

For those new to Red, you'll find that there are often many ways to do something, which is both good and bad. It means you can try to express your intent clearly, by how you do something, but also means that very different looking code may produce the same result.

9214

[09:54](#msg5a47625503838b2f2a502477)I want to remind everyone about upcoming QA session, which aims to answer some questions with regard to recent announcement, Red/C3, Red/Core and RCT. Don't be shy and send all your questions either to me in PM or drop them in any room with @9214 mention.

bigtunacan

[09:54](#msg5a476269e43a7a150cbe95a4)@greggirwin @rebolek I'm on Mac OSX compiling with `red -c hello.red`

rebolek

[09:55](#msg5a4762845355812e5731934e)@bigtunacan thanks for info, I will try on Mac and let you know

bigtunacan

[09:55](#msg5a476287edd2230811f28cee)When I just now retried the compile step this time I got a different error though for same code.

[09:56](#msg5a4762d0232e79134da848e5)

```
-=== Red Compiler 0.6.3 ===-

Compiling /code/red/hello.red ...
Compiling libRedRT...
...compilation time : 1816 ms

Compiling to native code...
...compilation time : 44266 ms
...linking time     : 555 ms
...output file size : 937984 bytes
...output file      : /code/red/libRedRT.dylib

...compilation time : 135 ms

Target: Darwin

Compiling to native code...
*** Compilation Error: undefined symbol: red/unicode/decode-utf8-char
*** in file: %/code/red/environment/console/POSIX.reds
*** in function: exec/terminal/fd-read
*** at line: 236
*** near: [
    unicode/decode-utf8-char utf-char :len
]
```

greggirwin

[09:58](#msg5a47632f5355812e57319602)That's the error I got here as well @bigtunacan.

KimRoach143\_twitter

[10:00](#msg5a4763d4ba39a53f1ab91552)can you send me code I am on mac

bigtunacan

[10:01](#msg5a4763ffb48e8c35667f35da)

```
Red [ needs: 'View ]
#include %environment/console/input.red

;view [ text "Hello World" ]
print "Hello"
request-file
ask "Enter some text: "
```

[10:01](#msg5a47640729ec6ac3119c7dde)@KimRoach143\_twitter

KimRoach143\_twitter

[10:03](#msg5a4764750163b02810930b2d)same error

bigtunacan

[10:04](#msg5a4764c368d092bb620570ef)Is there a bug in my code that I'm missing? This is my first time writing anything in Red.

[10:05](#msg5a4764d80163b02810930c64)Or should this compile?

[10:06](#msg5a47653e68d092bb62057209)This seems to be something to related to the `#include` line that I added so I could try out the `ask` functionn

greggirwin

[10:08](#msg5a4765a729ec6ac3119c8369)@rebolek said it compiled fine for him, and there is active work on the new console, so it's possible there's a temporary glitch when building custom consoles.

bigtunacan

[10:10](#msg5a4765fe68d092bb6205754a)Are you on a Mac or Windows? @greggirwin

greggirwin

[10:10](#msg5a476630232e79134da855a0)WIn7, so my exact error message refs different files, but the error word is the same.

bigtunacan

[10:11](#msg5a476666b48e8c35667f40e2)Ok; was just wondering if I might have better luck If I switched to a Windows box :/

greggirwin

[10:14](#msg5a47672229ec6ac3119c8a0a)Run interpreted in the meantime. :^\\

KimRoach143\_twitter

[10:15](#msg5a47672eb48e8c35667f4349)\*\** Syntax Error: Invalid Red program windows 10 on line 1 ""

rebolek

[10:17](#msg5a4767a184fb74b9401b45c7)@bigtunacan on macOS I get the same error as you (`*** Compilation Error: undefined symbol: red/unicode/decode-utf8-char`).

KimRoach143\_twitter

[10:17](#msg5a4767b2edd2230811f2a2d7)Compiling to native code...  
\*\** Compilation Error: undefined symbol: red/unicode/decode-utf8-char  
\*\** in file: %/C/Users/jigar/Desktop/red/environment/console/win32.reds  
\*\** in function: exec/terminal/stdin-read  
\*\** at line: 190  
\*\** near: [unicode/decode-utf8-char as c-string! utf-char :len  
c  
]

[10:18](#msg5a4767ebedd2230811f2a417)windows 10

[10:20](#msg5a47687968d092bb62057dbb)@greggirwin will it change the output if I run program on Parallels on Mac ??

[10:21](#msg5a476894232e79134da85ec4)Instead of running on bare metal

greggirwin

[10:21](#msg5a47689cb48e8c35667f4958)It shouldn't. We're all seeing the same error, so that's good.

bigtunacan

[10:21](#msg5a4768ac84fb74b9401b49be)@greggirwin For what I'm doing now I can run interpreted. Just wondering what I was doing wrong, but it sounds like this is a bug on the current build?

KimRoach143\_twitter

[10:33](#msg5a476b6d84fb74b9401b52fe)#include %environment/console/input.red  
Red \[ needs: 'View ]  
view \[ text "Hello World" ]  
print "Hello"  
request-file  
ask "Enter some text: "

[10:33](#msg5a476b9629ec6ac3119c9914)' #include %environment/console/input.red  
Red \[ needs: 'View ]  
view \[ text "Hello World" ]  
print "Hello"  
request-file  
ask "Enter some text: "'

9214

[10:34](#msg5a476ba1b48e8c35667f52b3)@KimRoach143\_twitter 3 backticks

[10:34](#msg5a476bb784fb74b9401b53dc)\`

KimRoach143\_twitter

[10:34](#msg5a476bc75355812e5731b6d5)\`#include %environment/console/input.red  
Red \[ needs: 'View ]  
view \[ text "Hello World" ]  
print "Hello"  
request-file  
ask "Enter some text: "

9214

[10:34](#msg5a476bd00163b0281093275b)at the end too :D

KimRoach143\_twitter

[10:36](#msg5a476c485355812e5731b864)

```
#include %environment/console/input.red
Red [ needs: 'View ]
view [ text "Hello World" ]
print "Hello"
request-file
ask "Enter some text: "
```

[10:38](#msg5a476c9bba39a53f1ab93343)

```
#include %environment/console/input.red
Red [ needs: 'View ]
view [ text "Hello World" ]
print "Hello"
request-file
ask "Enter some text: "
```

9214

[10:38](#msg5a476caf03838b2f2a504a92):tada:

KimRoach143\_twitter

[10:39](#msg5a476cd8232e79134da86d4c)\*\** Compilation Error: undefined word ask lol

dockimbel

[13:35](#msg5a47960eedd2230811f352ce)@bigtunacan Use release mode (`-r` instead of `-c`) when trying to compile any Red script which includes Red/System code.

[13:42](#msg5a4797de29ec6ac3119d41a2)@maximvl  
&gt; tadam https://gitlab.com/maxvel/red-units

Nice! Be sure to PR a copy to red/community, so that it can be found more easily (you can reference your source repo in the header for latest version if you prefer Gitlab).

[13:44](#msg5a479845ba39a53f1ab9d26b)@GiuseppeChillemi  
&gt; @dockimbel Nenad, is there any risk making money calculation now we do not having such datatype ?

With what is available right now, the safest way is to use integers and handle the decimal point manually on input/output. Don't use floats for finance!

bigtunacan

[15:38](#msg5a47b30eb48e8c3566806b75)@dockimbel Ah yes! That is how I was getting my original error, which was different. Using `red -r hello.red` also fails, but with a different error.

[15:39](#msg5a47b31803838b2f2a515a2e)

```
-=== Red Compiler 0.6.3 ===-

Compiling /code/red/hello.red ...
*** Compilation Error: word terminate not defined in system/console/terminate
*** in file: /code/red/hello.red
*** near: [system/console/terminate]
```

ldci

[16:12](#msg5a47bb08b48e8c3566808dec)Update for video samples according to evolution of red camera object (https://github.com/ldci/redCV).

abdllhygt

[21:00](#msg5a47fe550163b02810955f21)Hi

[21:02](#msg5a47fed4232e79134daab8e0)I start to teach red language on \[my blog](http://abdllh.com/red-dersleri-1/) (Turkish)

[21:03](#msg5a47ff1068d092bb6207ca5f)Now, it has two lessons.

[21:04](#msg5a47ff5a68d092bb6207cb6d)I think to show "ask" function, but... :smile: doesn't compiles

rebolek

[21:04](#msg5a47ff5a03838b2f2a528eb2)@abdllhygt that's pretty cool, even when I don't understand a word :)

abdllhygt

[21:05](#msg5a47ff7e68d092bb6207cbe3):smile:

gltewalt

[21:10](#msg5a4800bcb48e8c356681a64f)https://github.com/red/red/wiki/Guru-Meditations#how-to-compile-ask

abdllhygt

[21:14](#msg5a4801bcb48e8c356681aadd)this is not easy for beginners

[21:16](#msg5a48022dedd2230811f516d4)When released is red? new version?

gltewalt

[21:17](#msg5a48025e5355812e573418f7)When is the next version? Or where to find newest version?

abdllhygt

[21:19](#msg5a4802ce84fb74b9401db775)Thank you! When is the next version? :smile: Is the new version 0.7?

rebolek

[21:19](#msg5a4802fb5355812e57341b17)No, there should be 0.6.4 and 0.6.5 before 0.7

gltewalt

[21:20](#msg5a4803155355812e57341b65)Next version - goal is end of january, I think

abdllhygt

[21:20](#msg5a480321edd2230811f51adb)I see, thank you

dsunanda

[21:22](#msg5a48039cba39a53f1abb7f17)Is this intended behavior? When typed into the console, no output appears until the BREAK is triggered:  
n: 1 forever \[print n n: n + 1 if n &gt; 10 \[break] wait 1]

rebolek

[21:23](#msg5a4803e05355812e57341f32)@dsunanda I guess you are using gui-console under Windows. This is known limitation that would be fixed.

dsunanda

[21:24](#msg5a4803fdba39a53f1abb8015)Yep -- windows. Thanks!

abdllhygt

[21:24](#msg5a48040cedd2230811f51e59)How to add my materials on red-lang.org - documentation?

rebolek

[21:25](#msg5a4804385355812e57342037)@abdllhygt you should probably ask @dockimbel directly

abdllhygt

[21:25](#msg5a4804515355812e573420b8)oh thank you

rebolek

[21:26](#msg5a48049384fb74b9401dbdd2)@dsunanda you're welcome!

greggirwin

[21:45](#msg5a4809125355812e573436db)@abdllhygt, you can add a link to your blog here: https://github.com/red/red/wiki/Learning-resources

abdllhygt

[21:47](#msg5a48095fba39a53f1abb929b)thanks

## Sunday 31st December, 2017

GiuseppeChillemi

[00:33](#msg5a483065edd2230811f5c3ac)@dockimbel Ho do I handle calculations like 235,02 * 345,98 with integers ?

greggirwin

[00:39](#msg5a4831d30163b028109611c6)@GiuseppeChillemi, not clear what you mean. Integers should just work.

[00:40](#msg5a48320603838b2f2a534da1)Can you post what result you get, and what you want?

GiuseppeChillemi

[01:28](#msg5a483d40ba39a53f1abc43eb)Ho many digits after the decimal does RED manage for this kind of number ?

greggirwin

[01:31](#msg5a483df75355812e5734ec5c)They are standard floating point numbers right now, so ~15.

teamtad\_twitter

[07:17](#msg5a488ef7232e79134daca32f)Here's wishing you the best of everything for the new year! Party and remain safe!

greggirwin

[17:21](#msg5a491ca8ba39a53f1abf64ac)The same to you @teamtad\_twitter, and everyone else in the Red community!

rgchris

[17:52](#msg5a4923eb0163b0281099680f)Updated my Google Charts wrapper to work with Red:

```
do http://reb4.me/r/google-charts.r
view reduce [
    'image chart [
        title: "Red Chart Example"
        type: 'pie
        size: 350x150
        labels: ["Reddest" "Red" "Redder"]
        data: [50 10 40]
        colors: [#ee0000 #aa0000 #cc0000]
        area: [color solid #f4f4f0]
    ]
]
```

Overview \[here](http://ross-gill.com/page/Google\_Charts\_and\_Rebol).

BeardPower

[17:55](#msg5a4924a584fb74b94021d7e6)👍

greggirwin

[17:55](#msg5a4924abedd2230811f93fa4)+1

[18:01](#msg5a4925e1b48e8c356685caa5)@rgchris, sadly, charts could go away at any moment, yes? From your web page.

[18:01](#msg5a4925fcedd2230811f94540)Looks like we have an opportunity for a new service! :^)

rgchris

[18:02](#msg5a49264203838b2f2a56ba01)Yep. As-is it's an example of how to re-frame a service, and using objects as a sort of poor-man's dialect.

[18:11](#msg5a492857232e79134daef282)But, yes—this type of service would be well-served by a draw-based solution :)

BeardPower

[18:18](#msg5a4929ee68d092bb620bf9cc)Definitely! 🖌

rebolek

[18:46](#msg5a493086ba39a53f1abfb968)@rgchris :+1:

PhilipotPatrick\_twitter

[19:11](#msg5a49366d03838b2f2a5701aa)Drag and drop is easy with Red, but I have a question I've not found the answer. How to move to foreground the dragged object.

greggirwin

[19:13](#msg5a4936c1ba39a53f1abfd064)@rgchris, my thought exactly.

[19:13](#msg5a4936f55355812e57388bcf)@PhilipotPatrick\_twitter, faces are rendered as they appear in order in the pane, so you just need to remove the face from the pane and move it to the end.

PhilipotPatrick\_twitter

[19:13](#msg5a4936f503838b2f2a5703c2)Red \[ needs: 'View ]

view layout [  
box 75x145 blue loose  
box 75x145 white loose  
box 75x145 red loose  
]

When the blue rectangle is moved, it goes under the white one, and the red one. I would like it to move over them.

[19:16](#msg5a49379dedd2230811f98ff3)@rgchris Thanks Gregg ! Very quick answer.  
Bonne Année à tous :)

greggirwin

[19:18](#msg5a49380629ec6ac311a35cf1)

```
move-to-top: func [face] [move find face/parent/pane face tail face/parent/pane]
view layout [
	box 75x145 blue loose  on-down [move-to-top face]
	box 75x145 white loose
	box 75x145 red loose
]
```

rgchris

[19:57](#msg5a49413d84fb74b94022469f)@greggirwin Possibly still have it somewhere, but there was a charting script out there using the original Draw that I adapted as a style for our mutual project. The original might be on rebol.org and instructive for anyone that might want to give it a go...

[19:59](#msg5a494187b48e8c3566863426)Think it might be this one: \[EZ Plot](http://www.rebol.org/view-script.r?script=ez-plot.r)

[20:03](#msg5a49427ab48e8c3566863727)Ah, no—that was a documentation wrapper for \[Quick Plot](http://scripts.rebol.info/scripts/q-plot)

greggirwin

[20:24](#msg5a494789b48e8c35668648c4)I remember that as well.

[20:27](#msg5a4948310163b0281099f3aa)I still have all the ASAP stuff as well. Remember our little `arrow` style experiments?

PhilipotPatrick\_twitter

[22:00](#msg5a495e0629ec6ac311a3e620)@greggirwin Thanks for the move-to-top function. I've used the on-over event that was more convenient in my case but nonetheless great help.
