# Archived messages from: https://app.gitter.im/#/room/#red_bugs:gitter.im (https://app.gitter.im/#/room/!mjbZGzLqlsqlDLaQVP:gitter.im)

## 1-Dec-2020

[20:06:31](#NjpOMzur_UtBZnGL11mmgoYb--ADbcLy3XFfh2c62yY) <greggirwin (Gregg Irwin)>:
@hiiamboris `set/only`.

[20:08:05](#PKfUDxaAlmpGUB4TlpAtf383i2-B3Bt-rrApHxGvjWk) <greggirwin (Gregg Irwin)>:
It's an interesting chat. Only time will tell, and also vary by personal aesthetics, how bending set-word use works.

[20:09:05](#IcwySes7GVadiPu-KFPdjQhXDXUc8dAi8BEyv6LyvTk) <hiiamboris (NOT THIS ONE)>:
Oh great!

## 2-Dec-2020

[19:58:12](#ipwCl1sBhME2hfRlwKf7vnuX7doxzSZy75m0Nu6x09M) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
@greggirwin since when there is `remove/key`? In the doc-string there is _Removes a key in map._, but it works in any-series... and I'm not sure that this was expected result for me:
```
>> remove/key "abcd" #"b"
== "ad"
```

[20:00:06](#lhiR8Rj5INoCP802ItkKSwU-8LCZ4pRN1NaDzOyYCiM) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* @greggirwin since when there is `remove/key`? In the doc-string there is _Removes a key in map._, but it works with any series... and I'm not sure that this was expected result for me:
```
>> remove/key "abcd" #"b"
== "ad"
```

[20:05:20](#e4I_i7njMc3kU0xLj8B3N-7_x0uuZeD8JxML9NShX4A) <rebolek (Boleslav BÅ™ezovskÃ½)>:
                `remove/key` is there since `none` was allowed in `map!`

[20:05:27](#6r2HMc72kLu1_hDiK_QEPR0m9Qz75_sFcu3hkzZRMGA) <rebolek (Boleslav BÅ™ezovskÃ½)>:
* `remove/key` is there since `none` was allowed in `map!`

[20:07:17](#5bLVUP1PocDMwLzCYXWyxvn0dyXgaQ2Nw-VkFHGKbVg) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
That is the reason why I found it... since when `none` is allowed in `map!`?

[20:10:41](#ck2WiPtd7hQR_ZUm2F9w6k4jlA1qnDGOTpD6WQGYwnQ) <rebolek (Boleslav BÅ™ezovskÃ½)>:
For about a year I believe

[20:14:43](#hLqLVS_jhgODBbVcYEaasoYorWrKfStYYrZ9VJHwF64) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Hm... [almost 2 years already](https://github.com/red/red/commit/ab3dc0c8bbf976bd41b4fee053dcc46e9a37f3f5)

[20:14:52](#S4D_eHBmcZvrnGihYGiJruM6pVHBUsdhQ-cLeARdHv0) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* Hm... almost 2 years already https://github.com/red/red/commit/ab3dc0c8bbf976bd41b4fee053dcc46e9a37f3f5)

[20:14:53](#FPMFVid1AEmk4pNPPG-fgdaqKmJWmnJmPBVC-Wl0l4s) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* Hm... almost 2 years already https://github.com/red/red/commit/ab3dc0c8bbf976bd41b4fee053dcc46e9a37f3f5

[20:16:45](#-PSrBLWQAAzHRRAp_9G8GTtd0nhiHmeEX3BOFsZq-l8) <rebolek (Boleslav BÅ™ezovskÃ½)>:
How the time flies :)

[20:56:17](#nSxG9ueZXGxr88jnnzJ1fRG5bNwCPbn7tpyaUn1FtLY) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Anyway.. if used for non `map!` series... now it is:
```
>> remove/key [a b b c] 'b
== [a c]
```
Wouldn't it be better to have it `== [a b]`?
So it would more work as a shortcut for much longer:
```
>> if pos: find/skip blk: [a b b c] 'b 2 [ remove/part pos 2 ] blk
== [a b]
```

[22:46:25](#BIUKPqKyXEV3Xq4hsK-jsc9uucInzRYpJ1C01lnj85M) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Anyway.. if used for non `map!` series... now it is:
```
>> remove/key [a b b c] 'b
== [a c]
```
Wouldn't it be better to have it `== [a b]`?
So it would more work as a shortcut for much longer:
```
>> if pos: find/skip blk: [a b b c] 'b 2 [ remove/part pos 2 ] blk
== [a b]
```

## 3-Dec-2020

[4:47:37](#Q9U_MHxRdfFbWg8OQSbGqcB4Loh2fnelHLlaBPsBk9g) <greggirwin (Gregg Irwin)>:
@Oldes that's what I would expect too, and obviously haven't tested it with series before now. If someone is willing to make that change and write tests, I will propose it to Nenad directly before we open a ticket, just to make sure he didn't do that by design.

[4:51:48](#49pxWLSaYZ2vupaZ92vQ_Pb_RCmBLtDtl7HsoUQehKI) <toomasv>:
As block is not strictly key-value pairs and element at any position can be used as key for the next value, I don't think it is good to enforce `skip 2` on blocks while removing with `/key`. 

[4:52:57](#RBGPjpfddwKzGZVBrZyT7zrqKUSp7Gf57cc8zuMnRWs) <toomasv>:
* As block is not strictly key-value pairs and element at any position can be used as key for the next value, I don't think it is good to enforce `skip 2` on blocks while removing with `/key`. (Compare to `select`)

[4:53:49](#pZrPnQOWyx3tDN2EPuTpE6moi0Mh7bMoqOVv5YvmdV8) <toomasv>:
* As block is not strictly key-value pairs and element at any position can be used as key for the next value, I don't think it is good to enforce `skip 2` on blocks while removing with `/key`. (Compare e.g. to `select`)

[6:11:49](#R8cA1GAVX3jVG29FigFl9w9jbk9MKkZdTY90gH7hpMY) <pekr (Petr Krenzelok) (@pekr-556ae86715522ed4b3e131b2:gitter.im)>:
Wha would be even better, if such function would have `/skip`refinement, where you would be able to skip by the record length. Why do we expect the key-value being only pairs?

[6:12:06](#g4ERx92CBZXWWOJ7903bEI6intwW2Cjwiu0VO593Dhw) <pekr (Petr Krenzelok) (@pekr-556ae86715522ed4b3e131b2:gitter.im)>:
* Wha would be even better, if such function would have `/skip`refinement, where you would be able to skip by the record length. Why do we expect the key-value being only option as pairs?

[9:16:19](#2wWrWvC5s6ex1ec5t7x4VqSy31BK22RWuS073ijROXM) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
@toomasv I really would like to see a use case where you have a block with not key-value pairs and you need to remove 2 values from it using lookup for the first one.

[9:17:01](#_U-0KMHWeFgg_iIr3-YerY42ukEDW6wc84OwABc2SOw) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Also `select` has a `/skip`.. I don't think it should be in `remove` action.

[9:17:14](#ODyINtiAodmdj_PhX6xwyCxH-JCgdpJt4v4z2a-QC0M) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* Also `select` & `find` have a `/skip`.. I don't think it should be in `remove` action.

[9:19:25](#qFyZ5p1cWJMqWtpFqBn4nTPwvm0D3NUApPorvCbK45w) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
I would personally allow `remove/key` only on `map!` and `block!` (where with `block!` it would work like if mentioned `find/skip` lookup)... Maybe also `paren!` could be allowed as it does not hurt so much as using `remove/key` on `string!` or `path!`

[10:11:34](#lcfeBnd-pvKl7RDTrj1glTxriepke_P2JK-rC7xSI14) <toomasv>:
E.g. remove `matrix [...]` from Draw block. Draw block is not key-value pairs, but may contain some. Manipulating it (or some different dialect) surely doesn't *need* `remove/key` but might use it.

[10:29:42](#a3wPlep-BVZ0gPuqlK56K1aBuowS8raoMqoqTBxHvtY) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Although is sounds logical, I don't think `remove/key` will be ever used (and is not used) in such a situation, because it is case sensitive and so it's not good to be used with dialects, which are supposed to be user friendly and so case insensitive.

[10:30:19](#4cEw1UP77lIcatCfXPz--3_Lew1ZvHkugeeThsLmn6M) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
```
>> remove/key [a b c] 'A
== [a b c]
```

[10:37:05](#BVRuuiwvD6MlCPNzWDB85ZicoCV7VrJ073Ytj_PIl4k) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
So... I think that:
```
remove/key [a 1 b 2] 'b
```
is better to be used as equivalent to longer:
```
head remove/part find/skip/case [a 1 b 2] 'b 2 2
```
than current:
```
head remove/part find [a 1 b 2] 'b 2
``` 

[15:47:11](#2l1yCgN9s5A6g7K3f9CVzSi06O-njQ-nfaamJ7K7KfM) <hiiamboris (NOT THIS ONE)>:
I agree that the proposed `remove/key` behavior is subjectively more useful than what we have. However I find the whole `remove/key` thing inelegant, and though I don't see a better design for maps, promoting `remove/key` use on series is not something I would like to see. Just as the whole `/skip` thing is not a design, it's a horrible crutch, that should be forgotten and replaced with human-friendly table API.

[15:53:42](#08QeZIr6Yh4nDyhOW-Ta4t0pOIbw9oAJWIi6aXmlMmM) <pekr (Petr Krenzelok) (@pekr-556ae86715522ed4b3e131b2:gitter.im)>:
Don't tuch `/skip`, unless it is replaced by something bettter! :-)

[15:53:52](#pr_szsOF4cNZ3CllFAyFE5M80yl7LDtkVXitpEHHnl4) <pekr (Petr Krenzelok) (@pekr-556ae86715522ed4b3e131b2:gitter.im)>:
* Don't touch `/skip`, unless it is replaced by something bettter! :-)

[18:50:27](#nWLIVtEtHK0H21xT2sxsNK0L0AiM5H8BWRgVddcrcXo) <greggirwin (Gregg Irwin)>:
Can we agree that the most common case for `/key` is the key-value pair scenario (i.e. `/skip 2`)? I'll guess *by far* the most common. I think it's also the least surprising, and lets you safely change from maps to blocks without needing to know if values might also be keys.

I don't think any of us *like* `remove/key`, but it was the best we could come up with.

I view `/skip` as I do a number of things. It's a low level design feature that lets you build things on top of it. It's better than nothing, but we clearly have some consistency issues with `find/select`. 

I'm anxious for `table/tree` work to continue, which ties also to HOF and markup codec. Then we can tie it all together and make HOSS, the Higher Order SpreadSheet. :^)

[19:13:41](#6nh49qUcbcyc-7VpZabq0B73goU1rY_mzdxT0j6duOo) <pekr (Petr Krenzelok) (@pekr-556ae86715522ed4b3e131b2:gitter.im)>:
Should change/key work then too?

[19:25:09](#9-6y807luo0DrC2hEY_k4icj764wZf2iaVIIMEK4YDA) <greggirwin (Gregg Irwin)>:
It's a slippery slope. `Change` doesn't work for maps today. Let's get this one out of the way first. I've pinged Nenad on it.

[19:49:25](#qd-mgFdxw73s1TV21iNZluBQGuJWAfFJOJIZJr9im-k) <hiiamboris (NOT THIS ONE)>:
`change/key` or rather `put/key`?

[20:58:19](#GgrqEzl4IY9ejw9-5cJLOJ2nvCaQruvXfFJnkNpofNM) <greggirwin (Gregg Irwin)>:
OK, after chatting with Nenad, here's the design stance:

> If people need an associative array, with an enforced key/value model, they should use a `map!` and not a `block!`.

There is no perfect solution. The semantics are currently mixed, because `/part 2` is implied, but it's a closer match to how `put/select` work. 

Now we just need to decide whether to remove series support for `/key`. He said it wasn't there, but someone requested it. By design it's a shortcut for the `remove/part find <series> <value> 2` idiom. 

Now, about that `table` design...

[21:36:03](#j8F6IEuqXQjE917brcjKtxGBqdEufJVxWUSWJY10UP0) <hiiamboris (NOT THIS ONE)>:
I guess the minimal thing to do would be to embed `skip` (row length) into the block itself. And allow pair addressing for blocks as we have for images. It's not a `table` replacement, just a saner block/hash interface that is still low-level.

[21:40:34](#cc40KxCkdd9iAuKdQ4AyqVNr0s2pdqWuQCg8xPrQils) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
@greggirwin to be precise, now it is by design a shortcut to: `head remove/part find/case <series> <value> 2`

## 4-Dec-2020

[21:30:06](#WdVrgwqnelKcXtx3tAzCjihykw6zvOcp4Xc5cyiZFIs) <greggirwin (Gregg Irwin)>:
@Oldes we should note that somewhere, maybe in the `block!` doc page?

@hiiamboris do you mean as metadata in the R/S struct, or with mezz wrappers?

[21:58:02](#Knj8pIy6ylRgcEaMpLNBYnhD4JWd5TyRltgXkorugEc) <hiiamboris (NOT THIS ONE)>:
`skip`? as part of the R/S cell. The most annoying thing about it is that it is a part of the block (logically), but you have to carry it around manually. Imagine if Red values didn't carry their type, and you had to write the type every time you access a value? It's the same kind of nonsense that's happening here.

[22:00:05](#J1GHuiRRr36r1M13APwClhiCDeu8PDzbwjdUPUuW0Xg) <hiiamboris (NOT THIS ONE)>:
* `skip`? as part of the R/S cell. The most annoying thing about it is that it is a part of the block (logically), but you have to carry it around manually as if it was a part of operation you perform on data. Imagine if Red values didn't carry their type, and you had to write the type every time you access a value? It's the same kind of nonsense that's happening here.

[22:12:22](#gODJk8e__pMHusMhF9LlOZ3XaOIFzILVDPEpvaGApd0) <hiiamboris (NOT THIS ONE)>:
mezz-wrapper solution is like a crutch made of smaller crutches

[23:06:36](#DDCelYICDAjiSzKH0PmhrQqSeMqg8J2WxMG5MGbNB-M) <greggirwin (Gregg Irwin)>:
So we'd use the `extra` field, which is reserved for different uses in other block types?

My brain is split right now, so will need to let it digest. It opens up a lot of questions WRT other funcs. 

## 5-Dec-2020

[5:48:31](#nwR_TEcKKCjiYwRXM_z25c-d2W-OgGkwN1EOPjVvj2A) <pekr (Petr Krenzelok) (@pekr-556ae86715522ed4b3e131b2:gitter.im)>:
@hiiamboris How do you solve the case, when the block is not a record lenght ordered storage, but just a list of values you need to store? Then skip value would be 0 or none?

[5:50:57](#g4S3NySHW1wDA2wezZDxUXrpSL5ATTvNXWURNs-XfPk) <pekr (Petr Krenzelok) (@pekr-556ae86715522ed4b3e131b2:gitter.im)>:
Maybe that's why Doc hesitates to have /key for blocks? I wonder, where array and table stand? We have e.g. array in R2, but I never liked to use it, dunno why. Maybe I don't like HOFs and fear of slowness ...

[10:10:29](#xYFSWZBfZfm4Dlx9F-U7ivKCudV1QyJ9RQOxVkaz4IU) <hiiamboris (NOT THIS ONE)>:
@greggirwin to be precise, it would be not in the `cell!` itself, but in the `series!` buffer, together with block's length. So there should be enough space and also applicable to hash and vector.

[10:11:32](#9NoOjXlkxkUZnYH-dy3_S7IgCQn212n82Ke02lChd6c) <hiiamboris (NOT THIS ONE)>:
@pekr `0` is the sanest reserved value on R/S level. What it would translate to in Red is a matter of convenience.

[10:12:37](#4voG0kVwew4IoFDDwUfLJ6Kj63WSMipuUFv3xXTgMs0) <hiiamboris (NOT THIS ONE)>:
* @pekr `0` is the sanest reserved value on R/S level. What it would translate to in Red is a matter of convenience (and `none` seems also sane).

[16:42:55](#Uty2kyv7yvDmQ430c1aMBuM-MJa1qnhBwTSEFs2gw6k) <greggirwin (Gregg Irwin)>:
@hiiamboris that will be a lot of work, given all the things that reference the underlying series at the R/S  level. If it's the skip/row size, the default could also be `1`. Could prototype it as a block clone of the current code, but I'd still start at the mezz level to see how the interface works out. But we also need to consider that there is another approach now, which is to use nested blocks for each record. This is where the design part comes in, and where a dialect may still win. With nested blocks you don't have keys at all, they can vary in length, and can be arbitrarily nested. A table model also doesn't think in terms of keys, but indexes, so the `find /skip 2`, assuming a key for n-sized records is something to play with. Yet another model is column store. This gives you both keys and efficiency for a large number of records, but needs an API for dealing with entire records rather than fields. `load-csv` has a refinement for that format.

[16:45:13](#Ar7nqR_893D5yFcvjaWtGLAPdw86aMAac4T6uvYPFO4) <greggirwin (Gregg Irwin)>:
```
>> load-csv "a,b,c^/1,2,3"
== [["a" "b" "c"] ["1" "2" "3"]]
>> load-csv/as-columns "a,b,c^/1,2,3"
== #(
    "A" ["a" "1"]
    "B" ["b" "2"]
    "C" ["c" "3"]
)
>> load-csv/as-columns/header "a,b,c^/1,2,3"
== #(
    "a" ["1"]
    "b" ["2"]
    "c" ["3"]
)
```

[16:47:03](#6qQyz2XJtTYKp-41OgDYyhfbtwMVvBIX2ldblsdrdT8) <greggirwin (Gregg Irwin)>:
* ```
>> load-csv "name,rank,id^/1,2,3"
== [["name" "rank" "id"] ["1" "2" "3"]]
>> load-csv/as-columns "name,rank,id^/1,2,3"
== #(
    "A" ["name" "1"]
    "B" ["rank" "2"]
    "C" ["id" "3"]
)
>> load-csv/as-columns/header "name,rank,id^/1,2,3"
== #(
    "name" ["1"]
    "rank" ["2"]
    "id" ["3"]
)
```

## 6-Dec-2020

[7:30:20](#xi_fD9t9onWq3wgTqXJ0eh7kpk3-9PMrSM_iYkXXjmg) <dander (Dave Andersen)>:
The certificate for progress.red-lang.org has expired

[15:55:45](#c82Ihl5nYB13EPksSqhEgWMwZR4NPxV-mT8blDDrfUs) <endo64>:
@dander It looks fixed. 

[19:02:34](#9Ktw5Oy1NkVtRq2CEUY-Tc-UxZa1tEJafMk0GbCb3XQ) <greggirwin (Gregg Irwin)>:
Looks like it renewed today. Thanks for the report.

## 7-Dec-2020

[12:50:07](#wSHokJhBtuXiI2_wtvlWULoLIk5LF8ZJZu0uD3PoYrE) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
It's not possible to write binary values with escaped new-lines in console:
```red
>> load {[#{00^/01}]} ;<-- this is ok
== [
    #{0001}
]
>> [#{00^/01}] ;<-- this will enter into multi-line input!
{    
```

[12:50:39](#TjlZ3UAc8d7TBKvM4J1nTFFwXv2XiHpkGRM6TJtnOF0) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* It's not possible to write binary values with escaped characters in console:
```red
>> load {[#{00^/01}]} ;<-- this is ok
== [
    #{0001}
]
>> [#{00^/01}] ;<-- this will enter into multi-line input!
{    
```

[12:51:27](#2sFfrrPfnoAl2u7eRzunml9GPV3rvvyO_tS2P3KevqQ) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* It's not possible to write binary values with escaped characters in console:
```red
>> load {[#{00^/01}]} ;<-- this is ok
== [
    #{0001}
]
>> [#{00^/01}] ;<-- this will enter into multi-line input!
{    
(escape)
>> [#{00^-01}] ;<-- this will enter into multi-line input!
{    
(escape)
```

[12:52:06](#cJ0Q8knLwTpJ6j7La10hDVecIhYcOrqe7h1EerNvjHw) <hiiamboris (NOT THIS ONE)>:
`>> [#{00^/01}]` typed in console is actually `">> [#{00^^/01}]"` isn't it?

[12:52:54](#j4hFxbxaK9t9ZYKV0IcKp-JS46PrFmV4mB6L_a2Reo0) <hiiamboris (NOT THIS ONE)>:
* `>> [#{00^/01}]` typed in console is actually `"[#{00^^/01}]"` isn't it?

[12:53:32](#-0L4_WGuUW5UxD8E58uOem2NIPaupgMyOWhxmoJiCdU) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
```
>> {^/}
== "^/"
>> #{^/}
{    
```

[12:54:05](#A569xDt5iUdKAzMYaDO-ml5X4NauUC6L28pXjtOWltM) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
the escaped char is not terminated

[12:54:24](#bS-j7LDpWJxGUo-sKB7RQ8DubI6O7omq05g8HuIiW0E) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* the escaped char is not terminated (when used in binary)

[12:54:33](#9PJj_q-wXLP0fIUox6UnGYhP74OM3-gi1z9qmjSMqNQ) <hiiamboris (NOT THIS ONE)>:
Funny though, it never quits the multi-line mode. That's certainly a bug:
```
>> [#{00^/01}]
{    }
{    }
{    }
{    }
{    }
```

[18:05:23](#LPwuIpN6aTaFSILn4yArPkaBo0pnmuLWzsSZQyji3Hk) <loziniak (Maciej ÅoziÅ„ski)>:
https://github.com/red/red/issues/4743
Maybe we could treat it as a bug in Windows then, since Mac and GTK versions act the same? í ½í¸‰

[18:11:23](#sPzCkNnhfUV-VvtF5Yj79aNNiAt9p8vfw9My-HwQzCU) <hiiamboris (NOT THIS ONE)>:
ask @toomasv  í ½í¸‰

[18:11:52](#q4euvpQzDHI-pig8kaMfL9KGLHJVqlP85AW8cv9aPP8) <toomasv>:
Nooooooo!

[18:12:00](#umJ4xq8YH1Tl2bBQOEEurGDa3lePR_X9DVfUOFk_Z0I) <hiiamboris (NOT THIS ONE)>:
lol

[19:50:41](#PEjsorHvGwDM0-gOToXm8TlZLCv-2NbQ8CHJbRi5dMw) <hiiamboris (NOT THIS ONE)>:
Shouldn't these be equivalent?
```
>> make "" 1.1 * 100
== ""
>> make "" 110% * 100
== "11000%"
>> make "" 100 * 110%
== ""
```

[19:56:24](#IRDujwoiiTMGLA5670N6uv7AcKQTvSTFWOf07y6PgGU) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
They are equivalent in R3 (preallocated string)

[19:59:51](#ZyseciS_906nKZ3xXnumh_o6N_C3YmedIStFRY2ouL8) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
I think that source of incompatibility in this case is that Red has `110% * 100` = `11000%`

[20:24:19](#Vndhr3qgrvAEIj81xGnkYUpwVV_6KqIU7uvsIoBEk1I) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
What this one?
```red
>> to integer! #0F
== 15
>> to integer! #F
== 0 ;<--- ????
>> to integer! #XX
*** Script Error: data not in correct format: #XX
```

[20:25:52](#FZaKevotYV7geYWuAN7RZWE94vnY0j1sA_OMjBf88bw) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Ah... it ignores unfinished pair:
```red
>> to integer! #FFF
== 255
```

[20:29:41](#UCyQtBAFrAZSnclsaX4KF6yeKY33-SYsCO03-pSI55U) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
I don't think it's useful as it is.  I think that more interesting would be to have: `16777215 = to integer! #FFF`

[20:33:13](#Ki2oFWcWdxhCL9pPCtA31k-SeKXs7tqRepPnHebtrRM) <hiiamboris (NOT THIS ONE)>:
it makes sense in VID (hex-to-rgb), but generally? not sure

[20:33:14](#LcjUGcA2J-S2CGFRSz03yZuXTYEyV8wzSR8DYyPu7z4) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Or `4095` how it is in Rebol2&3

[20:37:11](#4IevyLh1I6T9kPblck1vOeWxp8Wo53_QS1ELh2sAgPE) <greggirwin (Gregg Irwin)>:
How about simply disallowing odd numbers of chars? 

[20:38:52](#CQ-FSl7-CtUjgc79RsjCiYF3t3Gp4ifW3hIIAc2owjc) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
That would also work... I don't think anyone is using it anyway.

[20:39:46](#JrlQE3sRXq4FLOiDWjKXj-56u8vfpBBByC4XtC_z5Ik) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
But `0` is really strange.

[21:13:01](#m6bgH7ozT0GwGuRksUXcmboQT2ANmOY-7IsKNOoNs6k) <greggirwin (Gregg Irwin)>:
My gut says that hex values with an odd number of chars are malformed, and trying to guess at what they mean will lead to bugs and surprises.

[21:13:17](#UABdJJuvbNIF4_tRszAWBKbyMMMGsl8JAbxjIx1THIs) <greggirwin (Gregg Irwin)>:
If others agree, we can open a ticket for it.

[21:27:42](#TgpNbhcFT6tc5I9Qroz4_qLGhsnXWG4Z8Lm6dQr2FGQ) <hiiamboris (NOT THIS ONE)>:
Silent ignoring alone warrants a ticket IMO.

[21:37:28](#x5toOMsH7p9sxl0wlnmCQ9DOYw2BekdLrEzmSQzxjg0) <greggirwin (Gregg Irwin)>:
Agreed, but how do you feel about errors instead?

[23:02:45](#vA6E3vh5XraLbZVRIf0yX8CxvzQ8rjLvF6INV52rShE) <hiiamboris (NOT THIS ONE)>:
`4095` is ok, error is ok too, but less ok (because FFF is a valid base 16 number if we abstract from byte thinking)

[23:06:28](#mIfDxBeHqzN-sCL2EzWtkkKHX9VjDHu8FhPMaSip4XM) <greggirwin (Gregg Irwin)>:
Is there value in supporting non-byte thinking? If so, does it outweigh byte thinking being far...far...far more common?

## 8-Dec-2020

[9:38:29](#DYJXHx5FUnX4g11At-bJBgD3nBpvIwMgMXRTrcy4j_I) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
And today we can extend it with this inconsistency:
```red
;current behaviour:
>> to block! "abc: def"
== [abc: def] ;<---- I think this should be ["abc: def"]
>> to block! #{00}
== [#{00}] ;<--- this is OK
```

[9:39:49](#lacDaFUZppoqafuGPsTPeoUrs7XPkkn0dLFYsjK_RL4) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
@greggirwin what is your opinion today? Still same like here? https://www.curecode.org/rebol3/ticket.rsp?id=2056

[9:42:01](#-jHuyY4U0ByPRnypD0t2GknrFJkXLuZqyygCe_0e_FA) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* @greggirwin what is your opinion today? Still same like was there -> https://www.curecode.org/rebol3/ticket.rsp?id=2056

[9:42:08](#Uo-gWHr2Xl7NmrbKw1PhzCUxJV-_vpaNhrwTZOZ4W60) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* @greggirwin what is your opinion today? Still same like was there -> https://www.curecode.org/rebol3/ticket.rsp?id=2056 ?

[9:54:10](#cgj0dIvD8BmCuJluO9isJfCsKlUe6yjAIuc_eYxA6kQ) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Also:
```
>> to paren! "foo"
== (foo) ;<--- I think that it should be ("foo") instead
```

[16:05:50](#TxOJMqH_tB9dJxU8qXFT8gln-pYXaPa043Iocuq8HI4) <hiiamboris (NOT THIS ONE)>:
> Is there value in supporting non-byte thinking? If so, does it outweigh byte thinking being far...far...far more common?

The value is simplicity. When you write `1234` you don't think "how many bytes is this?". Why should you think about that when you change the radix from 10 to 16?

[19:19:46](#SM_TupPTfbl5XoRyhoPBfPv7W6ALgZZAZuTmUHeizAw) <greggirwin (Gregg Irwin)>:
@oldes, yes I still think that's a good change. We have other ways to load, and round-tripping should be lossless if `to` is used both ways. That's something to create a matrix for, and see what other holes there are.
```
>> to string! to block! "abc: def"
== "abcdef"
>> form to block! "abc: def"
== "abc def"
```

[19:42:27](#EnyrlkVc6gYQAqZPuLpg8o9uCnvf9uVsaVvgayw8osc) <greggirwin (Gregg Irwin)>:
@hiiamboris good argument. But my feeling right now is that hex notation is synthetic, and designed for computers rather than people. So when you use it, you're speaking computer. And today that means in 8 bit bytes.

Let me ask another question though. If we analyzed all the hex values in every bit of code, or recall them from our own anecdotal histories, how often are an odd number of hex digits used? Now remove `0` as a special case. My guess is that the number is vanishingly low. Given that, it's more likely that an odd number of hex digits is a mistake.

The next special case is a single hex digit. We use those for chars, but it's not allowed for Red's hex notation. e.g. `Ah` is not allowed. But you *can* use an odd number of digits there. `>> FFFh == 4095`.

So we have literal hex values and issue conversion. Just noticed this too:
```
>> to integer! #12345678
== 305419896
>> to integer! #123456789
== 305419896
```
`To` only honors 8 chars max, silently truncating. That's bad. I'll say that clearly lies behind the use case of hex colors, but that should throw an error too if the issue is too long. If someone would ticket that, I'd appreciate it.



[19:48:07](#JFUJ9M6IddOUATh8rqNupuRwY7lEwngTY-fYH60pwEI) <greggirwin (Gregg Irwin)>:
Creating an integer from an issue relies on `binary/decode-16`, so what do binaries do?
```
>> to integer! #{FF}
== 255
>> to integer! #{FFF}
*** Syntax Error: (line 1) invalid binary at }
*** Where: case
*** Stack: load 
>> to integer! #{FFFF}
== 65535
```

[19:50:23](#Tx3Wt28QxsWhpCoK2GLT0cvJUMa-CP5BmxqfeFS8Bo4) <greggirwin (Gregg Irwin)>:
`integer/from-binary` also silently truncates at 4 bytes.

[21:21:54](#xdHzgoY6aTb6tms1mJREzAknuwrY5zxGU8Tolcl5n_Y) <hiiamboris (NOT THIS ONE)>:
Well, that's also interesting.

[21:22:31](#lP7iNYhutJloiUh63f1DzAXvg3tgIPXYMjyvpJHZsfE) <hiiamboris (NOT THIS ONE)>:
If our integer becomes 64-bit, we can store all 16 digits, so why limit at 8?

[21:23:54](#pahFhZgdpxOpNGoZ4eY8sAKYsIbA3Xp3GU48wC4p3yQ) <hiiamboris (NOT THIS ONE)>:
https://github.com/red/red/issues/4750

## 9-Dec-2020

[4:55:31](#f5RLXRclvxMhxlEG2vVCzAb5l4SeuoZxzFZPFY9xMJo) <toomasv>:
Some more interesting stuff:
```
>> 1000000000
== 1000000000
>> 2000000000
== 2000000000
>> 3000000000
== 3000000000.0
>> 4000000000
== 4000000000.0
>> 5000000000
== 705032704
>> 6000000000
== 1705032704
>> 7000000000
== 7000000000.0
>> 8000000000
== 8000000000.0
>> 9000000000
== 410065408
>> 5000000000 = 705032704
== true
>> 6000000000 = 1705032704
== true
```

[5:29:18](#kirdxbo_S4nSDsbvMHPg2iHJto18BJ8OYZzNQWZSorQ) <greggirwin (Gregg Irwin)>:
Oy. That's a big ticket item. Good find. :+1:

[8:33:58](#DuGkn6tMxIR6mIinEYGdpJh9yL-5ztc9IwmbQYMwCPc) <toomasv>:
https://github.com/red/red/issues/4751

[9:55:48](#F-cLpxWcN9w4yHqk8_tt7MTBlTSD-1QS657g7Q_A7ys) <giesse (Gabriele Santilli)>:
@greggirwin my question here simply is... is handling an odd number of hex digits really more work? max length is another issue, but this odd/even digits thing sounds either like a bad case of premature optimization, or just a silly artificial limitation

[10:43:20](#lRMt_gUoosztGe_BjBESGiT9u2s6ExdNIwFc9PLfmaA) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Here is a crash bug:
```
transcode/prescan/into "a" none ;<-- will CRASH!
```

[10:43:57](#k2OivCpy2BPCPC7X7zCnZ75O5bf9cRYs38aicD_tGIc) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
(btw.. I wonder why there is `/prescan` and `/scan`?)

[10:45:51](#npt_Dh__W2NhR5-KP7P8zi2F5zI_zYXTSk7tgDC-NBU) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* Here is a crash bug:
```
transcode/into "a" none ;<-- will CRASH!
```

[11:13:23](#1a1l1RnyhWWeU06-59nnE72u8pN16FbjglJGEyaD_R4) <hiiamboris (NOT THIS ONE)>:
see https://github.com/red/docs/blob/master/en/lexer.adoc#scanning-values

[13:24:39](#A7CjxqOklmax7l-sDXJ75HWYAH0of-C8ZktIv0_t790) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
I understand that prescan will be faster than scan.. but I wonder if there are any real use cases.

[14:22:39](#N5wFP-DP5vNz_ApKHcVnDke2Ig43mrVOkhutmzWmiqM) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Another console multi-line issue:
```
>> %%%{...}%%%1
{    }
{    }%%%
{    
(escape)
```

[14:23:45](#B-jpVAdK3YJpcaU3xWfUWBHQMUDIqGHyA6xFY7-N_3k) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* Another console multi-line issue:
```
>> %%%{...}%%%1
{    }
{    }%%%
{    
(escape)
>> load "%%%{...}%%%"
== "..."
>> load "%%%{...}%%%1"
*** Syntax Error: (line 1) invalid string at %%%{...}%%%1
```

[14:25:23](#mzRbgDLRghMadDuHKaYJGC3qq0ogvgVvVGcxDvshrmE) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
I think it should recognize end of raw-string in the same way how normal string is closed:
```
>> load "{...}1"
== ["..." 1]
```

[15:21:40](#EwMsvx3prlDzXJ_qDH58yR9j-6jzwZiKTF2OvFTaDrg) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
And last one for today.. I promise!
```
; making a series with position past tail...
>> a: [1 2 3 4]
== [1 2 3 4]
>> b: skip a 3
== [4]
>> remove/part a 3
== [4]
>> b
== []
>> [] = b
== false ;<--- b is past tail, so it's false, but should it be?
```

[15:22:55](#JD9LUvN543mcJxMpcerESOFrKCuIcvE_VHebLLo1ahI) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* And last one for today.. I promise!
```
; making a series with position past tail...
>> a: [1 2 3 4]
== [1 2 3 4]
>> b: skip a 3
== [4]
>> remove/part a 3
== [4]
>> b
== [] ;<--- looks empty
>> empty? b
== false ;<--- but its not?
>> [] = b
== false ;<--- b is past tail, so it's false, but should it be?
```

[15:23:05](#Vqoiy2GIhJeoYO2GfC4ZJaJBI18thVzXAVCWqtyEEzU) <hiiamboris (NOT THIS ONE)>:
https://github.com/red/red/issues/3369

[15:23:39](#g0RDwZeTsKUr3RCiP5aHAr3haq0UDrAbQx-xD7JoLtM) <hiiamboris (NOT THIS ONE)>:
I fixed it all 2 years ago í ½í¸‰ still waiting for review

[15:24:26](#vz5zw0cYxJ_OZ_HutEGcqx-gJqjoHdxHDK_lxYvlO2A) <hiiamboris (NOT THIS ONE)>:
* I fixed it all a year ago ;) still waiting for review

[15:26:03](#rBbcPNjISXDntNvhtKIfXyci7tMB88yXmqrJ-uDxcaU) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
And in your solution... is the last `[] = b` from my code truthy?

[15:26:41](#d7MufpqddvqducN3YSTV58_zXKycp2v9HnsxoHEDutA) <hiiamboris (NOT THIS ONE)>:
Indeed

[15:26:58](#-3XImrPB4ZlPAQxvgfk_VPPfYfva-SiA4mgn6tY1syE) <hiiamboris (NOT THIS ONE)>:
But `[] =? b` is not truthy

[15:28:57](#gCfQvszjBjGJTwfu8w1rXKnux8eHVEDqGmbE3R2cAdo) <hiiamboris (NOT THIS ONE)>:
* But `[] =? b` is not truthy (IIRC :D year is a long period)

[18:45:58](#tKl38lOLAj-UFtpQ5CpeZ_wzJmBpFeAEmKO9sJPVaqo) <greggirwin (Gregg Irwin)>:
@giesse I don't care about internal optimization in this case. I care about what's best for users.

[18:50:00](#usLMQVwps2H8XNhXtUiwK3vbG8V1_GRYmqWJoHKe7u8) <greggirwin (Gregg Irwin)>:
@Oldes I agree that raw strings should terminate at their last matching sigil, but have a bit of hesitation as well. e.g. `%%%{...}%%%%file` is pretty ugly, and hard to see as an error if you're one sigil short at the end. So, worst case, the current behavior is just a bit strict. Something good to note, but probably fine as is.

[18:51:47](#4xErHt2_TX42ScGkAXEoaFrnSGcp6n6YISRjH05cU-Q) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
It's not fine, because it should throw an error in console and not to enter multiline input which is not able to end (except hitting ESC)

[18:52:18](#NKLqCp7IZv7Nc3KyRBKU46_U5frxVh_mEyQBcRqm-Uc) <greggirwin (Gregg Irwin)>:
OK, I agree that it's a console issue. I was talking about the `load` issues.

[18:52:20](#8SHT5TYnWGTVimCK-khfaFOabeLkad8rCzP446heygo) <greggirwin (Gregg Irwin)>:
* OK, I agree that it's a console issue. I was talking about the `load` issue.

[18:52:38](#ffSE9wQgrVXYXQfKI-73I_EubNVJXlo2Hp_C1e70uZU) <greggirwin (Gregg Irwin)>:
But you still can at least hit `escape`. :^)

## 10-Dec-2020

[10:58:08](#VX-d9orxfpG7oqzsRNz8aT9NGxHqxMj6zTJ7QS1pVl4) <giesse (Gabriele Santilli)>:
> @giesse I don't care about internal optimization in this case. I care about what's best for users.

right, but, why is even number of digits better for users? I'm all for removing features that don't bring enough value... but this seems just an extra arbitrary restriction that would only make sense in a very low level environment. just MHO

[13:19:56](#1G68rqBZFTDbEnXpDvF1vKXs1qXxsj2tjVURoOx2aYs) <zwortex (zwortex)>:
Hi everyone, I managed to get the room for bug pre-submission. And I'd like to submit the following. What do you think ? Thanks.

**Halt from within a view**

Halt from within a view triggers an error and does not return to input prompt when run from the gui console.

```
view [
    b: button "The Button" [ halt ]
]
```

The same in Rebol2 returns to the input prompt.

```
In Rebol 2 :
view layout [
    b: button "The Button" [ halt ]
]
```

[13:20:25](#SyoPW8GIdv8BGZUqHo6GpbO8TMS4XpBOQyHZo3U6fu8) <zwortex (zwortex)>:
* Hi everyone, I managed to get the room for bug pre-submission. And I'd like to submit the following. What do you think ? Thanks.

**Halt from within a view**

Halt from within a view triggers an error and does not return to input prompt when run from the gui console.

```
view [
    b: button "The Button" [ halt ]
]
```

gives the error :

```
*** Throw Error: no catch for throw: halt-request
*** Where: =
*** Stack: view do-events do-actor do-safe halt
```

The same in Rebol2 returns to the input prompt.

```
In Rebol 2 :
view layout [
    b: button "The Button" [ halt ]
]
```

[13:41:44](#PhXHtvBETlGG-vpj9solY6XboRABNj92ojwJ_SnhHxI) <zwortex (zwortex)>:
Hi, close to the previous one, is this one. However there is already an issue regarding errors in general that are less meaningfull as compared with Rebol (#4532). Does it fall in that category and I could add a comment on it, shall I create a specific issue for this one or none is needed ? Thanks !

**Error from within a view provides no detailed indication as to the location**

```
view [
    b: button "The Button" [ 1 / 0 ]
]
```

Gets the following error :

```
*** Math Error: attempt to divide by zero
*** Where: =
*** Stack: view do-events do-actor do-safe
```

The same with Rebol 2

```
view layout [
    b: button "The Button" [ 1 / 0 ]
]
```

Gets a more targeted message :

```
** Math Error: Attempt to divide by zero
** Where: func [face value][1 / 0]
** Near: 1 / 0
```

[14:25:31](#4TlKFXo85xD-s_GooWYnynAtfWlunABl9-j6kwOzJpY) <zwortex (zwortex)>:
Hi, I got this minor issue as well. Is it a bug ?

**Seconds in time!**

When displaying seconds with milliseconds...

```
t: 10:05:12.8
print t
print [t/hour t/minute t/second] ; (1)
```

Extra digits are added, (1) returns :
10 5 12.80000000000291

Rebol 2 returns as expected
```
10 5 12.8
```

Platform : Windows 10 x64 /  Red 0.6.4

[14:28:29](#eXyTyapwlx0PtFqBzohsPFRHk5R0RrFIwUMR0Dakqeo) <rebolek (Boleslav BÅ™ezovskÃ½)>:
This is an artifact of IEEE floating-point handling. See this https://0.30000000000000004.com/

[15:00:34](#VsuodvvFfo0IAfxgoP43nKJzUJcx3zT9FVHJLNie91A) <hiiamboris (NOT THIS ONE)>:
@zwortex í ½í¸‰
on `halt` - it's a bug right, and I don't believe it was reported, so feel free to do so
on errors - probably no point, it's a well known issue that will be improved in due time (but if you encounter error reports where even stack trace gets you nowhere - please add those to #4532)
on floating point output - you got your answer, I'll just add that `t` is time and is formatted accordingly, but `t/second` is a float, so `mold` output with maximum precision is expected for it

[18:51:59](#19h6CHpSOqqpG-fNTDSx2IxczRzve8Vo2ayNOI8rGW4) <zwortex (zwortex)>:
@rebolek, @hiiamboris, thanks for the reply.
I created the issue #4757 for halt.
Ok for error message.
For time, I disagree.

[19:04:30](#_ycmlzo-O5CoiW__cepZqrhIYgotMRNxn9ipUpPdP4s) <zwortex (zwortex)>:
For the time issue, float is perfectly capable of representing 12.8 without weird digits. This is just the underlying implementation whatsoever, that is surfacing when calling /second. Beyond a certain number of decimals, a fraction of a second is meaningless. If you perform to-float on the time value, there is no such floating lost digits. So in my opinion, whatever the reason those digits appear, they should not.
```
t: 10:05:12.8
print 12.8 ; no weird decimals
print to-float t ; no weird decimals either
````

The documentation needs reviewing as it indicates that time! holds milliseconds (0.001), see
[https://github.com/red/docs/blob/master/en/datatypes.adoc], though this is not further mentioned in [https://github.com/red/docs/blob/master/en/datatypes/time.adoc] where only decimals of seconds are mentioned.

When testing however, it appears decimals of seconds are rounded to a precision of fraction of a millisecond (0.0001)
```
t4: 17:57:35.1123 ; fraction of millisecond accepted !
probe t4 ; and displayed as such
t5: 17:57:35.11236 ; fraction of fraction of millisecond accepted
probe t5 ; but rounded to a fraction of millisecond
```

I would assume that this the max precision intended. If so, when requesting the seconds, I would expect to get the same.

Be aware however that Rebol2 has a bigger precision of max 9 decimals. I don't know why this value was retained, but in any case, it always shows that number of precision if needed and no more.

```
t6: 17:57:35.112362 ; 6 digits accepted in rebol2
probe t6 ; same number displayed as time
probe t6/second ; or as second
t9: 17:57:35.141592653 ; max precision in rebol2 - 9 digits - works alike
probe t9
probe t9/second
t10: 17:57:35.1415926535 ; more digits are silently gotten rid of
probe t10 ; 
probe t10/second
```

Still in Rebol2, things do not get messy either when performing an addition.
```
t6: 17:57:35.112362
t9: 0:0:0.141592653
p: t6 + t9
probe p
probe p/second
```

Final point worth mentioning, though unrelated, I noticed a weird problem in the following case, where mold and form display slightly differently the float value.
```
t3: 17:57:35.112 ; this one outputs with a rounding difference 99 => 100
probe t3/second ; => 35.11200000000099
print t3/second ; => 35.112000000001
t4: 17:57:35.1123 ; this one outputs alike
probe t4/second ; => 35.11230000000069
print t4/second ; => 35.11230000000069
```

[19:11:20](#UJvb3LOYzonCzUals0nPVxW4DkUchT7rAhtfyKGNXts) <hiiamboris (NOT THIS ONE)>:
This is by design that `mold` outputs with better precision than `form`. It was done to get rid of "weird decimals" as you call them í ½í¸‰

[19:14:27](#mhdFZsUtlnefHTekspOgeTiULjG1ciHSTNJf4WqewQI) <hiiamboris (NOT THIS ONE)>:
I'll show you a trick. Maybe you'll understand. It explains all your confusion when you get it í ½í¸‰
```
>> t: 10:05:12.8
== 10:05:12.8
>> to-float t
== 36312.8
>> to-float 10:05:00
== 36300.0
>> 36312.8 - 36300.0
== 12.80000000000291
```

[19:14:45](#A-pxTbBWkp-r6UTxPwDcMnWnqtulb9VGSqdryw2oCOQ) <hiiamboris (NOT THIS ONE)>:
* I'll show you a trick. Maybe you'll understand. It lifts off all your confusion when you get it ;)
```
>> t: 10:05:12.8
== 10:05:12.8
>> to-float t
== 36312.8
>> to-float 10:05:00
== 36300.0
>> 36312.8 - 36300.0
== 12.80000000000291
```

[20:32:12](#Pb83cYGEEdewH-XS6UrbWvAW8xI-gvRajeBF_GjAJoQ) <zwortex (zwortex)>:
Hi @hiiamboris, I was not commenting on float arithmetic (i.e. what @rebolek provided as well).

In red, similar commands as yours

```
t1: 10:05:12.8
t2: 10:05:00
d1: to-float t1
d2: to-float t2
d1 - d2
t: t1 - t2
t/second
```

output 
```
>> t1: 10:05:12.8
== 10:05:12.8
>> t2: 10:05:00
== 10:05:00
>> d1: to-float t1
== 36312.8
>> d2: to-float t2
== 36300.0
>> d1 - d2
== 12.80000000000291
>> t: t1 - t2
== 0:00:12.8
>> t/second
== 12.80000000000291
```

Similar commands in Rebol2 :

```
t1: 10:05:12.8
t2: 10:05:00
d1: to-decimal t1
d2: to-decimal t2
d1 - d2
t: t1 - t2
t/second
```

give :
```
>> t1: 10:05:12.8
== 10:05:12.8
>> t2: 10:05:00
== 10:05
>> d1: to-decimal t1
== 36312.8
>> d2: to-decimal t2
== 36300.0
>> d1 - d2
== 12.8000000000029
>> t1 - t2
== 0:00:12.8
>> t/second
== 12.8
```

Float arithmetic the same, however, the last command returns the seconds neatly rounded, for anyone to enjoy, whereas, in Red you have to round them first.

On top of that, the mold string for time rounds seconds at 0.0001 precision, and the documentation is inconsistent...

[20:35:12](#VyGtvfPyQzCUZv5_sPPBo5fjx9C5SLEltvCWHd-SK3I) <hiiamboris (NOT THIS ONE)>:
R2's time format is not a float IIRC.

[20:36:00](#iPQ4LuogsErZuv8TBkFaYYzKPOhMT6To31jvMe2CHQs) <hiiamboris (NOT THIS ONE)>:
As such it simply doesn't have that kind of precision. Hence, truncated "pretty" output.

[21:10:30](#cNHHBYPkkRXEqlNGOpwn3jGerYpjG8mRJdKNwPaA-W8) <greggirwin (Gregg Irwin)>:
@zwortex the time issue is indeed due to float being used, which may not be that way forever, but it's there now. Something to note for users. @hiiamboris' note about subtraction applies because that's what `time!` does internally when you ask for `t/second`. When taken as an entire `time!` value, different formatting rules apply. Once you ask for just seconds, it becomes a float (currently). If you need to display seconds separately, you can use `round` to control the precision.

## 11-Dec-2020

[13:15:08](#Rk1ahK7gCQqK51hFRjlk7UOc2nHts5opdppErjcwIw4) <zwortex (zwortex)>:
Hi @greggirwin, @hiiamboris, no problem. I introduced the issue as minor. Case is closed as far I am concerned. I understand that you don't view that as a bug, at least for now. There is no definite specification, the job is done and the user can perform the conversion by himself as you've said.

I had a quick look at the java specification [https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html][https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html]. For them the minimum duration is the nano-second, the same as in Rebol (64bits for storing the seconds, and 32bits for the milliseconds). I guess both made the same reasoning and implementation.

When I said weird digits, it is because, in my opinion, at the application level, these should not come up. When you ask for seconds, you should have seconds, and not seconds with the tiny bits that come with it because, underneath, float is used. It does not look neat. The thing is where do you set the boundary between Red/system stuff (c like stuff) and Red stuff : what is low-level and what is high-level. But this is a more general debate... 

[13:38:47](#3rHZhw26P92m3tWgWQGzULMLePqsm1LExm2-izYxc8I) <hiiamboris (NOT THIS ONE)>:
You can go way beyond nanoseconds there in precision, it all depends on your timescale...
```
>> century: 100 * 365.25 * 24:0:0
== 876600:00:00
>> to-float century - (century - 0:0:0.000001)
== 9.5367431640625e-7
>> to-float century - (century - 0:0:0.000000001)
== 0.0
```
As you can see, even microseconds are inexact on a century scale, whereas nanoseconds are nonexistent

[13:42:21](#MvDwbo25bMt6Tqp3TJrHGqhPE91T9ipRqWzvvbEd-0A) <hiiamboris (NOT THIS ONE)>:
More astronomic timescale eats whole seconds :D:
```
>> manvantara: 3067200 * century
== -2147483648:00:00
>> to float! manvantara - (manvantara - 0:0:5)
== 4.0
>> to float! manvantara - (manvantara - 0:0:1)
== 0.0
```

[13:43:37](#q_vxBfH9SqfJHbe0ILnD2DUizla37x0uNka6Wdb2jNw) <hiiamboris (NOT THIS ONE)>:
So here seconds become "weird decimals" already

[13:47:37](#wL1v3Rl-G196i7qElG6jIKNpZ22rBexXXrf9nbN-KYI) <hiiamboris (NOT THIS ONE)>:
Should we get rid of seconds and display only minutes? Who's in a rush anyway...

[14:58:45](#TR20_5df7CZApYn78OVWjmeUCMqpo2B49WFPytBEcE8) <Numeross__twitter (Lop)>:
Hello ! This gives me trouble:
```
>> append [] 'a/b
== [a b]
```
and not `== [a/b]`

What I try to do is to turn `[1 bla 2]` into `[1 bla/result 2]`, and using collect/keep is the same

[14:59:18](#QWFt0ykf-7Cpjpo5nspXg6pAV0nIZvr6KemnOFwNits) <Numeross__twitter (Lop)>:
* Hello ! This gives me trouble:
```
>> append [] 'a/b
== [a b]
```
and not `== [a/b]`

What I try to do is to turn `[1 bla 2]` into `[1 bla/result 2]`. Using collect/keep is the same

[15:09:14](#E-uWT9aJdmSmlN4kH6yXKh10oKKwuWwIPGk-DViBocA) <Numeross__twitter (Lop)>:
Oh I have to put it in a block like `append [] [a/b]`

[15:18:55](#laP7kdMwI6LdwfakhCSENYA6kEdK4aP3rPJBZiEUF2o) <hiiamboris (NOT THIS ONE)>:
`append/only`

[15:19:11](#Wf--C7kFE7hllNXbMgr7R1H5It7IRI17DqQBje5Hc6k) <hiiamboris (NOT THIS ONE)>:
* `append/only`, `keep/only`

[15:20:59](#EbviED-gdnPRPdGbkA6VfvmHQNdrchYHcqYNjHWZTpw) <rebolek (Boleslav BÅ™ezovskÃ½)>:
@Numeross__twitter actually there's a reason for it and the reason is the difference between series and atomic values. The reason why `append` works as it does is so you can do this:

```
>> append [John Paul] [George Ring]
== [John Paul George Ringo]
```

getting `[John Paul [George Ringo]]` is certainly not something you wanted.

It may seem counterintuitive when appending `path!`, but path is `series!` also so you need to use `append/only` as @hiiamboris pointed out.

[15:22:36](#XE2lFGozPM12jOWE1kAETH6SgiOY7tc-HadbF7pgkL0) <hiiamboris (NOT THIS ONE)>:
Not just `series!` in this case, but a block type (`any-block!`)

[15:22:55](#vs2ryN3OY-UwVksQlygoaHF5yEK6DlBDOeVbYifxpu0) <rebolek (Boleslav BÅ™ezovskÃ½)>:
Right, thanks for correction.

[15:23:12](#kJMmF3sa9lr29uTgldwaq_cD0JodlHyUwcBEftkvWGw) <Numeross__twitter (Lop)>:
That makes a lot of sense, thanks !

[15:30:52](#9ypliiGyxwbxhr3dG_ar6BAaotyUNEoTwLT6nFCA8N4) <toomasv>:
Although, I'm not sure if `append` needs to append `o`s to words  í ½í¸œ

[15:32:41](#6UD_t7U-cq5ePMRpWoeEMDmiRP5aZbYw_W4hpdzpiDA) <toomasv>:
* Although, I'm not sure if `append` needs to append `o`s to words. @rebolek, may be you should rise an issue  :stuck_out_tongue_winking_eye:

[21:40:21](#-z9DlXgN09X039EtlDCvLiIkxoZTQfAZnPTLIy195qI) <greggirwin (Gregg Irwin)>:
@hiiamboris +1. Always take the long view. ;^)

> When you ask for seconds, you should have seconds, and not seconds with the tiny bits that come with it because, underneath, float is used.

@zwortex you and I agree 100%. I feel the same way about floats pretty much everywhere. Why does anyone use them? And yet, everyone does. 

Funny side note, many years ago I needed an indexing system for date-time values, which would allow searching for ranges in both dimensions. e.g. `01-jan-2020 to 01-feb-2020 / 9:00 to 17:00`.  I ended up using `tuple!` values to represent each time segment. e.g. `CC.YY.MM.DD.HH.MM.SS.XX`. A bit wasteful in some ways, but worked well.

## 14-Dec-2020

[12:26:42](#_7L3DxLcIfK6eiGVpntFsfeFzi7rX_QX7iSQnhKZWwU) <toomasv>:
Lexer bug?
```
>> .5
== 0.5
>> .5 ;4
== 0.5
>> .5;4
*** Syntax Error: (line 1) invalid float at .5;4
*** Where: case
*** Stack: load 
```

[12:54:35](#B_m_b8CqfzaXPrxpTVoX-hLdkScJ0FUhSNrvvx6swvA) <zwortex (zwortex)>:
Hi everyone, is this a bug? 

```
; when merging objects, the second object takes precedence in case of conflicts
a: object [ val: 1 ]
b: object [ val: 2 wal: 3 ]
c: make a b

; works also with functions
a: object [ show: does [print "hello"] ]
b: object [ show: does [print "chau"] ]
c: make a b
a/show
b/show
c/show

; but not when mixed...
a: object [ val: 1  show: does [print val] ]
b: object [ val: 2 wal: 3 show: does [print [val wal]] ]
c: make a b
a/show
b/show
c/show
```

[13:21:42](#eyTk8xmTRF64X7aN2YTqvkRw72FZ69jTo1xV4yV_etg) <hiiamboris (NOT THIS ONE)>:
It is. See also my notes above https://github.com/red/red/wiki/[DOC]-Object-Notes#return-in-spec-blocks

[13:23:49](#AQkILLCi3nY5TsDZhqT3g5-ffl7TFFwdqTwiVan4P-A) <hiiamboris (NOT THIS ONE)>:
Please report it.

[13:24:15](#kPH2H__5PkdN2_yX0CXcOSfmA05ivi8a6O_pY40GEPs) <hiiamboris (NOT THIS ONE)>:
* Please report it to https://github.com/red/red/issues/.

[13:27:22](#qt8GUK5dU8OdxtrdxeWtr609T5bSczZNWXZGdf0wrOs) <hiiamboris (NOT THIS ONE)>:
R2 fares even worse, lol:
```
>> a: make object! [ val: 1  show: does [print val] ]
>> b: make object! [ val: 2 wal: 3 show: does [print [val wal]] ]
>> c: make a b
>> a/show
1
>> b/show
2 3
>> c/show
** Internal Error: Stack overflow
** Where: wal
** Near: wal
```

[13:28:47](#cPb02JkQWC6RTYPGXEg7qZDQZcrwzKtqM0WHxfQln1U) <hiiamboris (NOT THIS ONE)>:
What a mess..

[14:11:13](#zf2CObZjGyM7APiGC7K9yl2gN8k_LECW9RFgTX8EOZo) <toomasv>:
Depends on the order:
```
a: object [ val: 1  show: does [print val] ]
b: object [ val: 2 show: does [print [val wal]] wal: 3]
c: make a b
c/show ;>> 2 3
```

[14:34:59](#Nsax2w27Kqeg0QaTT-cmRRqKO1Qu2BmKQ45ZC4-cVzk) <zwortex (zwortex)>:
@hiiamboris, @toomasv, added #4765 taking into accounts your remarks. For the return in the spec - Had read it already. How is it related to this very case ?

[15:32:46](#V6qVTWxFDzRvohk-tJei9DBNWPzj9bPX3vZlV6Psefc) <hiiamboris (NOT THIS ONE)>:
> my notes above https://github.com/red/red/wiki/[DOC]-Object-Notes#return-in-spec-blocks

*above* is the keyword here


[16:12:18](#nIpvKsh9161Wnv5Y-SohqNL2gpf_JycSVXx1m4m4gf4) <zwortex (zwortex)>:
Ok, I will read that through. Regards.

[23:47:07](#og1jrtlY9h6Iklsta9W_-2qf4s756XWwvqGF_8KbAAc) <greggirwin (Gregg Irwin)>:
@toomasv `.5;4` looks like a regression. Used to work, so likely something in fast lexer.

## 16-Dec-2020

[19:58:41](#Bd-eBLHRlwLf_Y6RhS7lMPVUXOVsnMlywjfDxkhs75U) <zwortex (zwortex)>:
@hiiamboris, still on the same subject of obj functions with global words that are not rebound when copied. I've seen it is the very subject of #3365, that's why I put it here (rather than help where the conversation started).

In this issue, you suggest that only words that were local to the source object should be rebound to the new object. However, this behaviour leaves the new object out of sync with its specification, at least as written and made apparent when calling mold.

```
x: 0
a: make object! [ f: does [print x] ] 
a/f ; >> 0 - a/x is global
b: make a [ x: 1 ]
b/f ; >> 0 - no rebound of f because f/x is meant global
c: do mold b ; create a new object from b spec
c/f ; >> 1 - though c/x is set after c/f, x in f and c/x now refer to the same context
```

It is not wysiwyg and it breaches the mantra : code is data and data is code. In the new object, the code that is really executed is not the one reflected in the data. If the "old" global variables were to be kept, at least, that should be made visible in the code : all words that are global but hidden by local variables should be rewritten as system/words/<var> or similar trick to emphasise they are global variables.

The lack of synchronisation between the spec. and the running object may have implication on serialization or other similar issue, but I haven't put further thoughts in that matter.

Personally, I'd rather have all the source object code rebound with all the local variables, both old and new (the other behaviour can be left as a refinement for advanced users that manipulate mixed objects). That has the benefit of keeping the code unchanged and that might also be useful when overwriting global functions, and not just values.

In #3365, the test is the following. If one applies the same rule of thumb, that is to expect a wysiwyg behaviour against specs, it leaves c, d and e as noks :
```
unset [a b x c d e f g h i]
a: context [x: 1]
b: context [f: does [print x]]
x: 0
c: make a b
d: make b a
e: make b [x: 2]
f: copy d ; R2 error no copy of object
g: copy e ; R2 error no copy object
h: make d []
i: make e []
b/f ; 0 == OK
c/f ; 0 == NOK - expecting 1
d/f ; 0 == NOK - expecting 1
e/f ; 0 == NOK - expecting 2
f/f ; Red 1 - R2 error - R3 - 0 == OK 1
g/f ; Red 2 -  R2 error - R3 - 0 == OK 2
h/f ; Red 1 - R2 1 - R3 - 0 == OK 1
i/f ; Red 2 - R2 2 - R3 - 0 == OK 2
```

[20:37:20](#gfuuMdxsmt_yvGSlJ6V_wQpJnyKypukM3LKWtw4EVqw) <hiiamboris (NOT THIS ONE)>:
I prefer not broken code over wysiwyg code (which is not wysiwyg anyway because words have *hidden* context). But I'm not pushing for `make` specifically in that ticket. I'm pushing for `copy`.

[20:40:21](#cpLfJvXEBMumpeNLvb5mk8TDbT_-59P-ZckJM3v5tzc) <hiiamboris (NOT THIS ONE)>:
You should be able to serialize your binding with Redbin btw.

[21:14:50](#oz24RRK7o2Jtz5zQtTiFIXgk2HhoPgNpeLB5E-h7i1o) <Numeross__twitter (Lop)>:
Is this normal ? x)
```
>> to-set-path reduce ['input to-set-word 'x]
== input/x::

[21:14:53](#AtQ7OThMxtSIcnfvjbpcJL_KtpHBUj_x3NZwgOVySZM) <Numeross__twitter (Lop)>:
* Is this normal ? x)
```
>> to-set-path reduce ['input to-set-word 'x]
== input/x::
```

[21:15:29](#ybQhA9YfWkjnHsizqUNr9i2Logn6x1soXll9YyQ-csM) <Numeross__twitter (Lop)>:
It seems to work well as a set-path tho

[21:18:48](#1x3AL-OlCHhvaMisaS3eBV8nimvoj4ePfalBZoX1Uag) <hiiamboris (NOT THIS ONE)>:
It is.

[21:19:35](#XvN56nhoCmw3abdWlXYbjsgWbFGii8trfW6f1C2U1LE) <hiiamboris (NOT THIS ONE)>:
https://github.com/red/red/wiki/%5BDOC%5D-Path!-notes

[21:22:59](#2ZnFw4WwqUe-pxz8BVX6u2ihjAiYYay2eGiBMra7qgc) <Numeross__twitter (Lop)>:
Woah that's trippy, thanks

## 18-Dec-2020

[22:36:28](#LTkU8Jb7kQlNPIyX2yBHWb327NpBDGc7CgOzMEzxi3o) <loziniak (Maciej ÅoziÅ„ski)>:
`view [button "cancel" button "show another"]` buttons overlap in Windows 10 and in Wine. Can anybody confirm?

[23:01:47](#-HsHED6_VmOhKvkniwc2TNqkCs7iB_gf_9yxWmnhlnQ) <greggirwin (Gregg Irwin)>:
Confirmed, due to OS metrics application of the Cancel button. Worth a ticket.

[23:02:34](#oSqUJp1XL0mgYPbuTf0Hpp0TpyhVAijhPIENHTMaK88) <greggirwin (Gregg Irwin)>:
If you change the title of the Cancel button, you can see the difference.

[23:46:37](#5cBp9cR4wk3PKeok8c6y5cfS3HXC77emuOvFQjCdiXc) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Actually it is because the width of the `"show another"` button.

[23:46:49](#r311k_yJRs_aoBKhQJKR4KUBsAouzBAyshrrVCLtUAo) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* Actually it is because the extended width of the `"show another"` button.

[23:48:31](#mKE8IoseNt5deFBN6NZacmO8l00Qb4KAuvQ5FhhbLlk) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
I'm quite not sure if I like how Red's View wants to be clever and swap button positions.

[23:54:27](#CGIXfMbJRjklAfs5s47F4lT3CaLY-24Vkf2822dUAg8) <greggirwin (Gregg Irwin)>:
https://www.red-lang.org/2017/07/063-macos-gui-backend.html shows how you can easily disable it.

[23:57:14](#ZOJ3p9y_UXVwtBkDbWpepnYP2CcW6dwwySEnGNp5y4g) <greggirwin (Gregg Irwin)>:
Without this feature, it's a lot of work for the user who wants to honor OS GUI guidelines. And the rules can be improved. So even better than a ticket would be a PR in this case.

## 19-Dec-2020

[14:18:58](#v9XuwLwDCdpGfLMC7oetxKHVfk-6OkmESVfq_LoVoc0) <loziniak (Maciej ÅoziÅ„ski)>:
PR is always better than issue!

[14:21:58](#crn3TzG0OVjRUwFVTYZmhaiFl4LmkRVPev8hqBCldHg) <loziniak (Maciej ÅoziÅ„ski)>:
> I'm quite not sure if I like how Red's View wants to be clever and swap button positions.

It's out of language's responsibility, and also unpredictable behavior for me.

[16:19:28](#uvp6rHL07_81Z3aPveje-9m2DP1VGbNXsvSY_k83nsY) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Is this known crash case? `body-of :is` or any `op!`

[16:20:10](#PDD1uEY23M2WhT6EqoBh46gGDj0Dna98PzpBm2TiOs8) <rebolek (Boleslav BÅ™ezovskÃ½)>:
I believe it has been reported, wasnâ€™t it?

[16:20:17](#pR5J_7vq3mkDE8Dz5z0ala7S8B06Jjbyw-by8KnoyAs) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
This also does not look gooo:
```
>> body-of í ½í¸›rint
== 23
```

[16:20:24](#3OuoXir6UY6WWVD_6ylmQS8ukxRGANrFJ-CJBcRPYt4) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* This also does not look good:
```
>> body-of :print
== 23
```

[16:21:01](#4R2IdPDfHXi8y0v6RVYHU4tP4cBXYan9zUJMxXFjaI8) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
(although it is probably just a native index)

[16:21:40](#evt84DUvYYbXcu4S-eOUjabIy8d6GwfgVfdNAQMip7M) <hiiamboris (NOT THIS ONE)>:
I do not recall such crash report

[16:21:47](#nbtK680DTc54epUsuNbeVA3EaO_NTHj4aP_j1d84sMw) <rebolek (Boleslav BÅ™ezovskÃ½)>:
actually I believe thatâ€™s intentional

[16:23:31](#mfQSmQGW5AuL1Tc_ki-BfweYkaNmjEeCfmUgbvAyTGQ) <hiiamboris (NOT THIS ONE)>:
crashes on all non-native ops

[16:24:46](#t4gDguyfH5dxiQWq-NP4hocBcMIU3v24pBymr43DTlA) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Right.

[16:25:04](#jgkz2lOFVn3tRpNpldRY3NH6807vZv_OSyYoKwIgeXo) <hiiamboris (NOT THIS ONE)>:
and it's a regression btw

[16:25:27](#71jit137lk3Yj8yQpKS1UAMgcN6dpfjYqH64F3duytA) <hiiamboris (NOT THIS ONE)>:
```
>> body-of :is
*** Internal Error: reserved for future use (or not yet implemented)
*** Where: reflect
*** Stack: body-of
>> about
Red 0.6.4 for Windows built 5-Mar-2019/0:09:36+03:00 commit #53b5b37
```

[16:25:57](#-y_Kg3irPdFLMsaaopBSlI7GeFSNyfGqkcXtLrZKNVo) <hiiamboris (NOT THIS ONE)>:
same, May 2020

[16:26:38](#7UKUqvL2A_YtpG4JIWl1PHgnALCgzSGWKOrR3LgSCls) <hiiamboris (NOT THIS ONE)>:
August not crashing too

[16:27:04](#GjaetyaDJfrmyc8N-LfWSHNOpr3bWfeivGU1xSrRaAQ) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* Is this known crash case? `body-of :is` or any not native `op!`

[16:28:04](#yO6zR3-s9RgA8koO1b043hVTC56oLZOTfXjBEkbLko4) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
reported

[19:14:56](#_LDPOSfNH8Qdr6qYUmJYN56jUyF1zUDEouVk0mhdODI) <greggirwin (Gregg Irwin)>:
On system metrics and GUI features in general, it will always be a work in progress. We can probably all agree that having View use default margins, spacing, and face size by style is a good thing. Otherwise we have to pick one OS as the rule and the others lose out. For more advanced rules, as noted you can disable them. But here's another way it's a good feature. As soon as you see it happen, you ask "Why?" Once you know why (this comes to docs of course, but people can hit this easily in simple scripts), it's easy to fix, but what makes it helpful in another way is that you *learn* that there are guidelines for each OS and can improve your UIs to match them accordingly. 

## 20-Dec-2020

[9:43:50](#zVf6ayRcUl-IOjAHiATDWyIh_rq2pc02ZNZaJNsbJw8) <raimundasa (raimundasa)>:
>> request-file
*** Runtime Error 1: access violation
*** at: 0807915Dh
>> request-dir
*** Runtime Error 1: access violation
*** at: 0807915Dh
>> about
Red 0.6.4 for Linux built 19-Dec-2020/14:56:50+02:00 commit #d082313


[17:00:25](#uhkbcUuOTn2ChgB8XFL0t5vMczs0dDK0_1L-nyczRnU) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
I was reviewing `request-dir` today and I believe it does not work as it should.... now it is (in fresh console):
```
request-dir ; starts in default directory (%/C/Users/[name])
;== %/C/Users/Oldes/
request-dir/keep/dir %/c/ ; this starts again in default dir but I think it should be in %/C/
; when I select some folder in above requestor... like %/C/Dev than...
;== %/C/Dev/
; and I use again:
request-dir/keep/dir %/c/ ; than is starts in %/C/Dev but I believe that /dir should be used and so it should be in %/C/
``` 


[17:00:39](#wqYUwS4ACyN-AZKQ1L_noKJVfrpulZRkkYIhiY-gNUg) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* I was reviewing `request-dir` today and I believe it does not work as it should.... now it is (in fresh console):
```
request-dir ; starts in default directory (%/C/Users/[name])
;== %/C/Users/Oldes/
request-dir/keep/dir %/c/ ; this starts again in default dir but I think it should be in %/C/
; when I select some folder in above requestor... like %/C/Dev than...
;== %/C/Dev/
; and I use again:
request-dir/keep/dir %/c/ ; than is starts in %/C/Dev but /dir should be used and so it should be in %/C/
``` 


[17:02:05](#Y5sTrSng1hvuMoXqeSTuOB38NS09vwly8q2zIHnQh6I) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
In other words... when `/keep` is used with `/dir` than `/dir` should be used as a start and `/keep` should just store result

[17:02:57](#0268G4h4SJi-VzkuTbAbWbg56MNCvf8C6XFrOzd-qPo) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* In other words... when `/keep` is used with `/dir` than `/dir` should be used as a start and `/keep` should just store the result.

[17:03:31](#SpxUEaclcXlU16iPxnyc2lXda8i-I8_AG32A2I5jIp8) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* In other words... when `/keep` is used with `/dir` than `/dir` should be used as a start and `/keep` should just store the result.
When used only `/keep` than it should start in the last stored location.

[17:20:06](#oO0UVmHqSbyF9ZVQ5s9Ld6BcwCq7OYvXQjqG1Gw4Ei4) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Also the dialog looks quite ugly if there is no title.. maybe there should be used some default text when title is not defined by user.

[17:24:20](#jKh3Gm9uVERXFNnItwERJ2AXoR2f8Ny_BPdsncPcQEM) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Although the dialog is ugly even with a single line title.

[19:14:05](#RnhUOa55sbRvfMnQMw3kcru1jBIm8xw-QuK6lGB9VY8) <hiiamboris (NOT THIS ONE)>:
I think `/keep/dir` should:
- navigate to given dir when first invoked
- navigate to saved dir afterwards

Then we control the starting directory but allow user to change it on subsequent calls

[19:14:38](#yX1fMmT78LrNiwoIzVBYTWEC_mBYauLt7aVcoF3YbfM) <hiiamboris (NOT THIS ONE)>:
* I think `/keep/dir` should:
- navigate to given dir when first invoked
- navigate to saved dir afterwards

Then we control the starting directory but allow user to change it on subsequent calls without interfering with it

## 21-Dec-2020

[10:08:30](#85Z8z4Xeu84WoOXTaADkpwXM0cDgR7SqH0-hMeFtHYA) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
When thinking about it.. it could keep last dir always (no need to use /keep) and the /dir would always set starting dir. Using /dir with none would force to use root as a starting dir.

[10:10:25](#AU73Jj8Lvsbi7kf3nMqymtLg1JSLKuq9VQ1Q8Y_4XiM) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Also.. I'm not sure if it's possible on mac or linux.. but win api allows to specify directory root... (allow only paths in given folder)

[10:32:52](#ZMjqGgsrgelD_m2iPFIk5oMC1BDvWYZ7PXwgVQzcKYQ) <hiiamboris (NOT THIS ONE)>:
What if you for some reason want to reset the last dir? With implied /keep you can't, right?

[11:07:39](#L2sMXxzGtNlNwXj_r7Hj0bNbCHqFEcYhsceejHGAvhk) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Yes... that is the issue:)

[11:08:46](#pkIDZVAXypKbdY-IIJAkoYiGuFsKGw5c81tXEcSvhTc) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* Yes... that is the issue:) I think that if one explicitly use `/dir` than it should use this dir and not some previous one, which may be unrelated. 

[11:09:08](#m-WNGP6qTF_5GEEnjvFB4HIy_c7WqlGWjUyXl5icY_o) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* Yes... that is the issue:) I think that if one explicitly use `/dir` than the dir should be used and not some previous one, which may be unrelated. 

[11:09:59](#xJEi5ySveB7E-Kkm6d-6NOt8P6i2Qfdvk5wf-0W2qQ8) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
But hard to say.. to be honest.. I was not using `request-dir` so far. That is reason why I try to discuss it here í ½í¸‰

[11:10:14](#xEihU1lut4sb-KpG4bQPbognhLJDlqX6kXd3KWyoYtw) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* But hard to say.. to be honest.. I was not using `request-dir` so far. That is the reason why I try to discuss it here ;-)

[11:44:15](#0Q3mleUoADLZguUmE8EZb1b9UrUZ9RZd7dQK_H2Zu64) <hiiamboris (NOT THIS ONE)>:
I see í ½í¸‰ Well, then in this model you'll have to reinvent the `/keep/dir` logic in your program likely, by using `/dir` for the first request and then with no refinements after that.

[13:08:22](#TnvhE26b27HuYrrqx9iimCyXIV8fDj1MWF5mZQUVcLI) <loziniak (Maciej ÅoziÅ„ski)>:
@hiiamboris thanks for reporting [that](https://gitter.im/red/bugs?at=5fdd2eeb93af5216fc4d3925)â†‘. I'm always a little late í ½í¸›

[14:17:19](#CCNrIW06a82nvSpgT_EpRLR6Kx2_LCU7EZV_kVx7ujE) <hiiamboris (NOT THIS ONE)>:
Sure. Bugs are easy to forget about, so better to report them asap í ½í¸‰

## 25-Dec-2020

[11:43:43](#lUhRd4EUMLaHhKuY2fcP5HHhwbowPqErrwrlKvDNtaQ) <raimundasa (raimundasa)>:
```
>> 3:3:3.3
== 3:03:03.3
>> 3:3:3,3
*** Syntax Error: (line 1) invalid time at 3:3:3,3
*** Where: case
*** Stack: load 
>> about
Red 0.6.4 for Linux built 25-Dec-2020/1:08:25+02:00 commit #98f31b5
```

[16:37:12](#wMLb-0ygD5g--xRluv3YyEEE2YH1lVfi8MJrj-sJ9Uc) <greggirwin (Gregg Irwin)>:
Good catch. It lexes in R2 and earlier Red versions, so it's a fast-lexer regression. Please see if a ticket already exists, and create one if not.

[20:59:44](#Ozvz1pcZYJqATIF2qT4OdiAr9b4Z-D7XnK2496ya998) <raimundasa (raimundasa)>:
Done

[21:02:08](#F1-bK_hNlPU3H9qdk8ir-xODoApRq39w0dnmwzuIzvU) <greggirwin (Gregg Irwin)>:
Thanks.

## 26-Dec-2020

[10:01:10](#cyNBiogy0tTmWX01g04P0-QroLoVOY42ExtHtott2DI) <raimundasa (raimundasa)>:
```
>> to-date [2020 12 26]
== 26-Dec-2020
>> to-date "2020-12-26"
*** Script Error: cannot MAKE/TO date! from: "2020-12-26"
*** Where: to
*** Stack: to-date  
>> about
Red 0.6.4 for Linux built 25-Dec-2020/1:08:25+02:00 commit #98f31b5
```

[11:40:43](#LoITCVLVIiWaICOThIuKqSKIjKFUL7Mwh4pxke_LvkA) <toomasv>:
From string use `load`:
```
>> load "2020-12-26"
== 26-Dec-2020
```

[19:58:28](#MlZDCqWOifymCohpDpY5R2nHIXkTZxTMdROcUC8MgQA) <greggirwin (Gregg Irwin)>:
[Date docs](https://github.com/red/docs/blob/master/en/datatypes/date.adoc) discuss a few subtleties, like `to` normalizing and that you can use epoch time conversions between integers and dates.

[20:58:20](#2vO9XDpk4veL3-lxJU6xbRHHnS-zGj5JOywYN3sYql8) <raimundasa (raimundasa)>:
Strange when i can do it
```
>> to-time "20:12:26"
== 20:12:26
```
but not `to-date "2020-12-26"`

[23:10:24](#9I_mtid01Q7VMylJ1PpQDY8G_9S_P1IxIoM4V4fMTP4) <greggirwin (Gregg Irwin)>:
Support can be added. Time values just `load` the string internally, and dates could do the same. Does anyone know if we have a ticket for this already?

## 27-Dec-2020

[12:12:33](#BXL4L5ZUlkP6dor76F5IeubQ5t5IQHL5vbUiFEgez98) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
I'm sure it's a bug.

[12:15:26](#fv5ksE2BWnYCvM8tKRLgB-5HmGRvqfoEWlQlAXPdlQo) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
I would not recommend use of  `load` for such conversions as `load` is very high level function. If needed, it's better to use low-level `transcode`.
```
>> transcode/one "2020-12-26"
== 26-Dec-2020
```

[17:43:33](#CJiGa3EGg8h3S_Ik-qOfXQ91VMCfhmVLaoqJBlIQllc) <mikeyaunish>:
I have been experiencing crashing using `offset-to-char`. If you click on the area in this example the window closes. ```
view [
    a1: area on-down  [ x: offset-to-char face 0x0 ] 
]
```

[17:50:49](#PM-x8RXPbCpzE3VjcDTyA7nd4qFhkFUrgjOIZwV4qRU) <hiiamboris (NOT THIS ONE)>:
I asked a few years back, these functions were meant for rich-text only IIRC

[17:51:16](#_M0WR5C6PJh8mfe3sYKHiUiEUfUS_2OXAvXk6BVg2c0) <hiiamboris (NOT THIS ONE)>:
probably worth raising an issue as a reminder that they're still crashing

[17:51:22](#1lksDLilxZTz7eSV-2re6lMjyh1Sg6S9EMiV7_uku5U) <hiiamboris (NOT THIS ONE)>:
* probably worth raising an issue as a reminder that they're still crashing on other faces

[20:52:49](#352zyxhuV1Rylz3EZnpYSR9BgR61r4H6Kpn_7AFDy5Y) <greggirwin (Gregg Irwin)>:
@oldes, good point. I was going to say "just use `load`", and that's still fine for 99% of cases I imagine, where you're loading a single value, or just a few. e.g. in a GUI data exchange scenario. But for large data transformation uses, where you may be doing it millions of times, it will make a huge difference. Memory pressure increases with `load`, but not `transcode`.
```
Count: 10000
Time         | Time (Per)   | Memory      | Code
0:00:00.004  | 0:00:00      | 484         | [transcode/one "2020-12-26"]
0:00:00.005  | 0:00:00      | 484         | [transcode/one "12:34:56"]
0:00:00.007  | 0:00:00      | 440284      | [to time! "12:34:56"]
0:00:00.015  | 0:00:00      | 2320440     | [load "2020-12-26"]
0:00:00.021  | 0:00:00      | 2320284     | [load "12:34:56"]
```
`Time!`'s `to` action uses `load-value` internally, which maps to `load-single-value`, which  then uses `lexer/scan-alt`.  `Transcode` also boils down to `lexer/scan-alt`.

[21:00:46](#SJbTnJ20z5IlcSH15dgPq8EOZXJwix7y2aTzdyA28pQ) <greggirwin (Gregg Irwin)>:
For conversions where `load-value` is used today, it would be a win to use `transcode` internally...I think. Those copy the cells today, with a comment that `load-value` changes the spec. If that copy is safely avoided, it's a lighter hit. In the meantime, people who benefit can use `transcode/one` or wrap it with a more human friendly name.

[23:34:42](#TR-WtgisuIttpEWLSQksowBbfWTZwpqPAALzAjrknpk) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Right... still I think that it should be possible to do just `to date! "2020-12-26"` as it is in Rebol.

## 28-Dec-2020

[0:15:44](#J3lgNmYS077Rnq5qme6K5C6aBLNzRjmAzfjII1NsrLo) <greggirwin (Gregg Irwin)>:
Agreed, my thoughts were just to add that it could be more efficient internally as well.

[2:11:39](#A6Om0rnRLRrOf3ECMUTjogjvWff8dyPScscBwijYTJA) <litew (litew)>:
Could you please share how did you make this time and memory measurement for code, as in this table?

[6:13:17](#3Db-oOVgKGcg9gZUN6_sg08ONsWdMjI7cWUoOOj9Lyo) <greggirwin (Gregg Irwin)>:
https://gist.github.com/greggirwin/908d44dc069ed84cf69f053e1308390d

[6:15:00](#Iwg5Oh8u4Xfu9OEuXwViFPlgEMYwSzNzKfvPuhDp5Bs) <litew (litew)>:
Awesome. Thank you, Gregg!

[6:18:38](#rT2WGDzVqGwbv3CfxjA0Hv5kNlZNpUwCpCMSe07TP4o) <greggirwin (Gregg Irwin)>:
This is the actual call for that table:
```
profile/show/count [
	[load "2020-12-26"][transcode/one "2020-12-26"]
	[load "12:34:56"][transcode/one "12:34:56"][to time! "12:34:56"]
] 10000
```

[10:50:01](#831Q7VyKsdMQhj5Ln_xCxTowsWZ9zpgA8I6-yZZp4xM) <giesse (Gabriele Santilli)>:
with my version:
```
>> profile/show [
[        [load "2020-12-26"][transcode/one "2020-12-26"]
[        [load "12:34:56"][transcode/one "12:34:56"][to time! "12:34:56"]
[    ]
Time                 | Memory      | Code
1.0x (623ns)         | 372         | [transcode/one "2020-12-26"]
1.13x (703ns)        | 372         | [transcode/one "12:34:56"]
1.5x (932ns)         | 427728      | [to time! "12:34:56"]
3.68x (2Î¼s)          | -318692     | [load "2020-12-26"]
4.27x (3Î¼s)          | 1071548     | [load "12:34:56"]
```

[10:50:13](#aJa27JLLMjJhL6OSTNPtYmZdrV7KWUS2-Zsk4r30uV8) <giesse (Gabriele Santilli)>:
https://gist.github.com/giesse/1232d7f71a15a3a8417ec6f091398811

[10:53:27](#QmxbgydU01Chge9OYkKKSOBwLhBV2vWhOiFXO65wdYw) <litew (litew)>:
Thank you guys!!

[18:18:26](#ylw0sE_eFJV30u_4l4W33ZifbyeSh4F9ANanwCudNio) <greggirwin (Gregg Irwin)>:
Thanks @giesse. I need to revisit our differences.

[18:46:47](#mCDbBNSnGz6i7I-CGoeyC2aOUX45qvI9nFIa5Edx9F0) <giesse (Gabriele Santilli)>:
@greggirwin mostly automatically figuring out the optimal "count" value, at the expense of taking longer to run (but you can choose lower accuracy to compute results faster)

[18:51:51](#JvByXZuQglfUbDZGssGczQOY1vAQH5JUxIMvfM011Rg) <greggirwin (Gregg Irwin)>:
Thanks. 

## 29-Dec-2020

[22:56:07](#krPh7W1vgAbkgNCfxupri39GTDYggaGZNddngl2Y-2o) <pepdiz (Pep)>:
hi

[22:56:44](#60CoJYb0epMS0ehAVADK1dlQqpCqOEcWKVCnUHMny2g) <pepdiz (Pep)>:
I've discovered a weird issue, maybe a bug, in red-064 for windows

[22:57:45](#zDQzK6Rkon_YWgVRn9VUR345rOsO2OuSH4Awwx3pu6Y) <pepdiz (Pep)>:
maybe it's not thant  important because it affects red-064 32bits in windows XP (don't know if affecting other windows too)

[22:58:07](#7n-Yq3OU8NiyU_7mGOY_skEAIaHu51XwLT8BtvKuQM0) <pepdiz (Pep)>:
the problem is I had a gui program in red compiled as .exe file

[22:58:26](#STqUW8onGWRI-6aLFoaWPFd-xsQELQDZGOyVD3EYmdU) <pepdiz (Pep)>:
yesterday when running it all texts just dissapeared

[22:58:35](#J-vDZv9BL48VRR75d8T9-UcytGMJiw6zKkTn42GrjuQ) <rebolek (Boleslav BÅ™ezovskÃ½)>:
@pepdiz hi, I believe that XP is not a supported platform anymore

[22:58:47](#UlD_nEyOS7MJbe1TOFfyFSV50jWptlZ2jYT7pCI5z6c) <pepdiz (Pep)>:
no text in buttons, neither labels, nor lists

[22:59:27](#5NWi680WplPuE_QTFuwHmakR54OBNCLxTcj_aeAFI_s) <pepdiz (Pep)>:
to solve it I had to explicity define styles for every face setting the font-name

[22:59:59](#wYaSMjPYDQIZfT-xWtFAUGyPqy8bAeOEhaKuA39vszw) <pepdiz (Pep)>:
I know, xp is not a supported platform but this issue may be serious enough if affecting other windows

[23:00:12](#dP6vWRpP5elJ-76pV3YAcMVCiPW1WSnXL4BTjMu8nyY) <pepdiz (Pep)>:
What is the default font coded in red ?

[23:01:43](#sOEAxmCeXaMEa25JtOgwR4aH_laZvi691p7adm-FNpk) <pepdiz (Pep)>:
another issue is console blows out when trying to "parse system", I suppose it's a memory issue but very unpolite í ½í¸‰

[23:02:19](#uH2CIz6Be6VPa4SLOHA027GbrJcGeudmWcu6HKyS-BE) <pepdiz (Pep)>:
sorry, not "parse system" but "probe system"

[23:15:30](#3KdLxox_qmQuZxbjA-OtfPDe6hsDNnr1vY4hHm2zkTg) <hiiamboris (NOT THIS ONE)>:
@pepdiz can you paste the output of `? system/view/fonts`

[23:15:37](#u-VdjFrh5f044bX07PfMoc0EZvzbNF9Z8b0Ft4DscU8) <hiiamboris (NOT THIS ONE)>:
* @pepdiz can you paste the output of `? system/view/fonts` ?

[23:16:54](#57aEp9EdFjfNsq54N3D1-lXr4o8W4xMTn1Qz4uQN624) <hiiamboris (NOT THIS ONE)>:
and are you using a nightly build? built when?

[23:37:18](#BceV7kRF6N_0QyrcJD9Lul6rpyTgCCMTKbbwCK45LN0) <pepdiz (Pep)>:
ok, let me see and I post it

## 30-Dec-2020

[0:07:49](#aIkEoW7PW571BE1zSOzvMYaVlOeGwQCdIPjHjFwFu9E) <pepdiz (Pep)>:
here you are

[0:07:51](#XEZorlq7im_2H1Mpz0Z_OgU96c6-sgxJBk6IMSZ0-o4) <pepdiz (Pep)>:
>> probe System/View/fonts
make object! [
    system: "ïº ^Ré°ç²€~"
    fixed: "Courier New"
    sans-serif: "Arial"
    serif: "Times"
    size: 0
]
== make object! [
    system: "ïº ^Ré°ç²€~"
    fixed: "Courier New"
   ...

>> system/version
== 0.6.4
>> system/build
== make object! [
    date: 30-Nov-2019/1:40:31+01:00
    git: make object! [
    ...



[1:18:03](#Dszy99WsvXuwCJlpUjOPs17nl_xidoCdVxdTE_PTLS8) <greggirwin (Gregg Irwin)>:
@pepdiz what is your locale setting for XP. It may be a combination of the OS and the system font for the locale. 

[1:20:43](#otP_zFLQFbyRVb1sj2RIsUT43roJ-d9XGnryewXtjCE) <greggirwin (Gregg Irwin)>:
`probe system` works in both consoles on Win10. I don't know of anybody else on XP at this point, so may be hard to debug. Fortunately, probing the system isn't a critical path issue. Would be nice if it just said "out of memory" though.

[1:52:55](#b1-0XO85syA7rvmItQCNiuRLn0I3TvMjNk90dGtjAXI) <pepdiz (Pep)>:
yes it would

[1:53:35](#F2Jjd5_OVRulkYxibo0NsDB1teGAXaABaZuCMgabBck) <pepdiz (Pep)>:
anyway it doesn't happend in my windows 10 so I suppose it's too related to xp and lack of memory in the machine

[2:02:00](#K6g505taZ2Yrwrr3wey5HRBw1gYmS58_AooVyVoFh-g) <pepdiz (Pep)>:
my locale setting for XP is spain/spanish

[2:02:41](#Aq1ze84my5Zuh1dgZgN5yPvnslzTBQ5U57VbztSlY10) <pepdiz (Pep)>:
one strange thing is you see nothing if using view gui facets

[2:03:24](#sNz5FE9Z3tZRXgyaFy0hcQSuouQzJ-IO7i2zf8L7zBA) <pepdiz (Pep)>:
but if you set some font property for any facet, for example, font-size, then everithing works right, even for facets without font-setting

[2:03:58](#TsSrcPWJV3e-dxDYGlruQgf6CNX3_CzX9IySxKUTPVw) <pepdiz (Pep)>:
it seems like font is not set up right initially and first reference to font property forces a font load

[2:04:30](#wPLvl4EL9Um0y_qoPwVOuQQqXTT8B9pImQ63W5CI4zg) <pepdiz (Pep)>:
anyway, weird enough

[10:05:22](#QOp4aF4fZVaWGTN0jnoDd7BSknljT9Kg2hG_VeXJ-O0) <hiiamboris (NOT THIS ONE)>:
`ïº ^Ré°ç²€~` looks like garbage to me

[11:01:48](#sKr4US7kR7UlBjogD6poCDpbjHOHCtnE2GDx9GIMcI8) <greggirwin (Gregg Irwin)>:
It certainly doesn't look like Spanish.

[23:50:48](#SxiimzsZ10QaKZwAfHZHT7P9BAc51oXco-ygZXuFsI8) <pepdiz (Pep)>:
sure it doesn't look like spanish but it's a task for red console to assign right locale isn't it?

[23:51:20](#IAFtrSOMq4Cll3Co3h-U_qN0yaIqcPTyX23AutZ_BG4) <pepdiz (Pep)>:
I mean, red console should read the right locale from OS and set its own word properly

[23:51:46](#mJEAApEN1Cfh06xdd9MYQFzQfj7BfPrcZUKvsmXfR50) <pepdiz (Pep)>:
anyway I assume no one is using xp nowadays so it's not a real problem

[23:51:58](#XWeYNFFa8SCW1h9EOHDrN2qSVYgsaaDZ-GuBHxCDRDg) <pepdiz (Pep)>:
unless begin to happen in modern windows

[23:52:17](#4iUcHEBWouYYXHtsSXcIez4OFW-bzgytv7UcisCABDM) <pepdiz (Pep)>:
because I didn't do anything strange, simply one day begin to fail

## 31-Dec-2020

[0:15:17](#wr3u1iNjVs7aU6rKjHSaKnlHviovCDC-mWxLOi8F99g) <greggirwin (Gregg Irwin)>:
Yes, Red should do the right thing of course. But I don't know if the deep core team is still testing on XP, and it could be quite a bit of work to dig into. So chances are that it won't get fixed unless someone using XP narrows it down. Given that, we can doc it in a GUI related wiki page, so others are forewarned.

[0:17:39](#qtycSxZDB6EEQSQuBUhvYKxvEtZGavT7JG8NuQ2LKO0) <pepdiz (Pep)>:
ok

[0:18:10](#e3masxHvRA7XeJ0TBLcw6grin2xzZeOGJrkt42khusk) <pepdiz (Pep)>:
let me introduce an off-topic question (not bug)

[0:19:03](#L--UnnESNgkDTwIN__3evoxnQdY9evQXl4rSCP8s-Gg) <pepdiz (Pep)>:
is there any way of "disassembling" a red executable?  I mean to get the red code from a red compiled .exe

[0:21:48](#cJBvD23CMfwwUYbbvF-Xb0hiDyfNOvGCPnMg0zR3p2Q) <greggirwin (Gregg Irwin)>:
No.  When you compile Red, it is first converted to Red/Sysem, and machine code is generated from that. It would be possible with encap mode, as that doesn't really compile. 

[0:39:57](#itQGe4qqINVYqv5xHfCJIinR9-s04MNYYPGueGG6OLc) <pepdiz (Pep)>:
what is encap mode? I suppose it's a kind of wrap of rebol core with your source

[10:16:51](#1HRx7s3d8YfaVpvC5QVB-FB05OkDaJGG5B6G7SdjwQc) <hiiamboris (NOT THIS ONE)>:
> rebol core

red core í ½í¸‰

[20:29:24](#zHJoH7tN4Nb2GMNcSFbhV6iWO91QFARe28mXFublhyM) <greggirwin (Gregg Irwin)>:
The `--encap` command line switch for the compiler causes the code to be embedded basically as-is, and interpreted at runtime. This allows you to distribute a single EXE that contains code which is too dynamic for the compiler to handle, or to work around compiler limitations. You can see all the compiler options in the readme of the main Red github repo.

## 1-Jan-2021

[22:14:26](#91rKQ9-zVARwyOtYlOaIgNW2PTasLI_0JSBxnbfMllw) <dsunanda (dsunanda)>:
Weird stuff with system/words (issue found when trying to LOAD a script which may or may not have been COMPRESSED)
```
attempt [load compress "hello"]
*** Access Error: invalid UTF-8 encoding: #{8B000000}

; the ATTEMPT was not trapped, and now system/words is partially inaccessible:

system/words
*** Access Error: invalid UTF-8 encoding: #{8B000000}

recycle
system/words
== make object! [...]
 ```
Tested on Windows 24-Dec.


[22:16:34](#idlXm2qYKN2RQuPVnD_LHba2Rvptbopf1qtCcasP3Fs) <hiiamboris (NOT THIS ONE)>:
worth a ticket

## 2-Jan-2021

[0:01:29](#mnkLI7i6b6FzJYXBGHeR3yGbW4I1OQnO6Ut-zU6ymt4) <dsunanda (dsunanda)>:
@hiiamboris Thanks - I did not know if it was known or not. New issue #4790

[23:56:30](#tOvz9AbypyLriMk4c2FMrrXjFVu2P36D5uJBCjbpA84) <GiuseppeChillemi (GiuseppeChillemi)>:
Still can't `read http://www.repubblica.it` and similar with latest Red, I get a `read timeout`. It should be connected to the Italian language of the page, any hint to debug it?

## 3-Jan-2021

[1:04:42](#w4xbrYToh5knV-cLGqu6wmG81gSPqL3gL0xsIQly6qs) <gltewalt (Greg T)>:
I get `invalid UTF-8 encoding`

[1:17:03](#Vcm6Y9ci98ROITyAnlpSIMYKyqyHgwjxcsl0ZcVu2-A) <gltewalt (Greg T)>:
It should be utf8 though

`<meta charset="utf-8">`

Maybe an issue I've forgotten about. I'm on linux now.

[1:18:39](#KsrNm6IwumqXAEUWK80mLHnqss5JKc26RBjz3FqRjjU) <gltewalt (Greg T)>:
Works with `read/lines` though

[1:20:49](#DWWHD3kR9BXCXbEPi5IoZsV-PSXF9s1NHCRV0J3n94g) <gltewalt (Greg T)>:
I take it back. It worked one time with `read/lines`, it times out now.

```
>> read/lines https://www.repubblica.it
== ["<!DOCTYPE html>" {<html class="no-js" lang="it">} " <head>" "  <meta chars...
```

[1:25:22](#MySDgvTRa_BRN309lM9w1S8rAhbJoBvHr_Kra-w7pd8) <gltewalt (Greg T)>:
SSL issue

[2:08:05](#3YDFtzwpGC2Fw-HlEXxRh-UFffSdqgpt0fZYBKi7MTw) <greggirwin (Gregg Irwin)>:
It works for me here. 

[2:31:50](#CQBlJJWAfrTN4HKIBp7lI1LzeG3KuefuAemER6p00Bc) <gltewalt (Greg T)>:
Every time?

[3:15:24](#zHxtIaPYymIls8s9VMVER2wkG4QJBb3bdasf_kyQMfA) <greggirwin (Gregg Irwin)>:
Yup. About 10 times so far. Just tried again.

[3:18:46](#47EiGiU3j_Clcqq7g06Ggi_nFhZNssT_02MDuFAD4i8) <greggirwin (Gregg Irwin)>:
Both with and without `/lines`.

[3:21:03](#_dzUa1kM4qdpO7dO4eE6nbUwY91CU5t3gzcQTl0i910) <GiuseppeChillemi (GiuseppeChillemi)>:
You have to try with other domains  like www.virgilio.it or www.ilmessaggero.it .

[3:22:03](#Mdhp693UsFLjqIwKV8UmeKXji3HJE1R8BTAGokPyIj8) <GiuseppeChillemi (GiuseppeChillemi)>:
Or other DOMAINS, until we found the exact rule

[3:34:42](#vbs6K5K9I66VAE8adZzXwQeCakXXm6QEaQuDiLDtzGs) <gltewalt (Greg T)>:
Those work with `read/lines`, but error with `read`. 

[3:35:23](#-wPfL-j2PGbtg5gjGmxUJrVjhr9l5cJ0aH5bIbysuXs) <gltewalt (Greg T)>:
* Those work with `read/lines`, but error with `read`.  `Access Error: invalid UTF-8 encoding`

[10:45:37](#zomiTrFCCKKUa4233wjUGfElSjdChICFtUdpFZ4o7cA) <GiuseppeChillemi (GiuseppeChillemi)>:
No luck for me, even with `read/lines`:

```
>> x: read/lines http://www.ilmessaggero.it
*** Access Error: cannot connect: http://www.ilmessaggero.it reason: timeout
*** Where: read
*** Stack:  
```


[11:06:22](#6UcCjjGRA__Z9T_5E7RNL3gT1_96Ax04_HC368kohEk) <GiuseppeChillemi (GiuseppeChillemi)>:
I have opened a ticket:  https://github.com/red/red/issues/4791

[11:22:14](#ythMUATW70tMqcYX1EnLdf4BjiglTDCq0BSmTPSdTa0) <litew (litew)>:
hmm, works for me:

```
>> x: read/lines http://www.ilmessaggero.it
== [" <!doctype html>" {<html lang="it">} "<head>" {<meta http-equiv="content-language"...

>> about
Red 0.6.4 for Linux built 25-Dec-2020/10:51:48
```

[12:58:25](#Z3p6GIEAyIsycRZxfg2XzFrBlqlHBgoi2cq7-SLS3R4) <toomasv>:
Works here too.

[14:17:13](#hf3V0BDVzOlZHR2V1BISQmFnKzFAx1jMIpSiLOy3gKE) <GiuseppeChillemi (GiuseppeChillemi)>:
We have different results connecting from different countries and system languages.

[14:28:26](#VO58lBLH8-SQWmZMCmBg8E6xmY1wWbaSfLGtq9boQE0) <GiuseppeChillemi (GiuseppeChillemi)>:
I have just tried the lastest release of 24th of December, same result.

## 9-Jan-2021

[11:34:31](#Y4J09gWxdd8q3GS8xwyuO5Ty8K_swxli5sHdgGYBroU) <toomasv>:
I didn't find if it is known, that misformed literal string cannot be ended:
```
>> %{}%%
{    }%
{    }%
{    
```

[11:36:22](#t20BEfniHh4QToy8iDyhlO9N5IOE1HheDSygGH7R8Ro) <toomasv>:
* I didn't find if it is known, that misformed literal string cannot be ended in console:
```
>> %{}%%
{    }%
{    }%
{    
```

[12:37:56](#BcCDS7YKTcHMy5g1iWY6xHs-ysj4ZVGtAMWdpyrmm-8) <hiiamboris (NOT THIS ONE)>:
I don't remember such issue

[12:38:17](#dMjXHqY5Zfwcy-DnEvBvPFUQ-RzLEVAqVg6I-5wHcgg) <hiiamboris (NOT THIS ONE)>:
but reminds me of https://github.com/red/red/issues/4744 

[14:01:32](#E9_4ochocpXQqJ-D0b7jm-VIzN1AoKbX9rGFkF6pzjU) <toomasv>:
Thanks https://github.com/red/red/issues/4796

## 11-Jan-2021

[19:42:13](#imFul8Lev7g96kEA4S-6roUk3-0dwiwE-lOqPdrMsh8) <gltewalt (Greg T)>:
Am I wrong that `cd` is wrong in using get-word? 

[19:42:31](#PNHFsB3Y2t5EmSIoDGYlwLweo1-_2-T7EApYSLsr7II) <gltewalt (Greg T)>:
```
change-dir: func [
    "Changes the active directory path" 
    dir [file! word! path!] {New active directory of relative path to the new one}
][
    unless exists? dir: normalize-dir dir [cause-error 'access 'cannot-open [dir]] 
    system/options/path: dir
]
>> source cd
cd: func [
    "Changes the active directory path" 
    í ½í¸ƒir [file! word! path!] {New active directory of relative path to the new one}
][
    change-dir í ½í¸ƒir
]
```

[19:43:14](#fXJ3pz8iCiX9HeChm0pNPEnZckYtHNLvswmGvxJxNFo) <gltewalt (Greg T)>:
`cd request-dir` will not work, but `change-dir request-dir` of cource will

[19:44:51](#1UP_jgB7RtiSdiGUUQdBfACueVSIJrK_-Pb_Xbv-6AM) <rebolek (Boleslav BÅ™ezovskÃ½)>:
`cd` is a shortcut for use in terminal

[20:09:09](#vcmzNnug3sRPrJQ2WBpdz8Ih4JouA-JAdYAdAMMA1Yw) <gltewalt (Greg T)>:
What's the reason for using `:dir`?

[20:12:15](#EE_BomZykWQ6bWzH7Atjy-QhPF74vWevvyQsefYD1rQ) <gltewalt (Greg T)>:
Or the benefit

[20:16:08](#OXWXm3tDmbXj5ce_BqTGV1UBtYScR_CMip9CrUdYmHQ) <rebolek (Boleslav BÅ™ezovskÃ½)>:
So you can write for example `cd ..` and not get `.. has no value` error

[20:20:51](#phx3LuC2Wk6kfhEX06vh_ELOzHz1cc-3s-2nz_ePiKw) <gltewalt (Greg T)>:
ah, of course...  (braindead)

[20:25:28](#QCK9JMpShi5dTDqyMCQFo4OxdvzUjz5Qp5sJW6X8Ses) <greggirwin (Gregg Irwin)>:
Which is nice for being a portable shell, but we should encourage people to use `file!` syntax. e.g. `cd %..`. The more we think in terms of Red values, the more power we can leverage.

[20:27:39](#Xe6V_MKlYWgEVtmrTsgwEZmR2cPAZnoqHJAN4IgvHrk) <gltewalt (Greg T)>:
`my-cd: func ['dir][change-dir dir]` also works for `cd ..` or `cd %..`


[20:41:38](#WO4J4ldxWXia5tBE6o8SwiHw-VejL-_Zn0BQutQrnCg) <rebolek (Boleslav BÅ™ezovskÃ½)>:
I believe that in Red `:word` and `'word` in func specs are interchangeable.

[20:59:12](#dNpDoia6piR8c9W99a_MMTA4oWylNbXc4u1puZsIQTY) <greggirwin (Gregg Irwin)>:
https://github.com/red/red/wiki/%5BDOC%5D-Guru-Meditations#literal-arguments-and-get-arguments

[21:00:05](#PcTTKdb14HyH0TBNikdnRoWShEhTvZy4fWnU85uyGTw) <greggirwin (Gregg Irwin)>:
https://github.com/red/red/issues/1850

[21:44:27](#angWcF54Si4PPapcAX2dUG8-EJtwgdRPSARr3CocSig) <gltewalt (The other Greg)>:
I made a quick assumption that cd was an alias, it blew a finger off

## 13-Jan-2021

[6:17:02](#-4Qh08UfYbtZQ_EgHtDIj5W-c2yySXRV9kNtnoJJdMs) <raxod502-58051fc3d73408ce4f2ee6d0>:
Hey all. I'm getting an SSL configuration error on the Red website:
```
curl -fsSL https://static.red-lang.org                                        
curl: (35) error:1408F10B:SSL routines:ssl3_get_record:wrong version number
```
Chrome reports "static.redlang.org sent an invalid response" on the iframe at https://www.red-lang.org/p/download.html. Is this a known issue?

[6:17:09](#1Z3N0-VE3Nwxn0oE7-HEP2QLroMLPJdoskN6WBDLB9I) <raxod502-58051fc3d73408ce4f2ee6d0>:
* Hey all. I'm getting an SSL configuration error on the Red website:
```
% curl -fsSL https://static.red-lang.org                                        
curl: (35) error:1408F10B:SSL routines:ssl3_get_record:wrong version number
```
Chrome reports "static.redlang.org sent an invalid response" on the iframe at https://www.red-lang.org/p/download.html. Is this a known issue?

[6:20:33](#oQpxmA6Dsxawy2Q9WcsgbKcroxPUwNe9-OEJg-ie5Gc) <raxod502-58051fc3d73408ce4f2ee6d0>:
HTTP traffic continues to work but I'd prefer to use HTTPS, if possible. I recall that it previously was working some months ago.

[8:41:13](#ZlXhAoTt_ZwgKRK9eL3hd0TYeNqvwIAfZ0o_t4dLRR8) <litew (litew)>:
@raxod502 Hello! Seems like SSLv3 negotiation is not offered by google server on which static.red-lang.org is placed: 

[8:41:30](#WQAp2cirq2xMZAIMfXd8fVF4GgMA-XoaodmypXd8tJE) <litew (litew)>:
* @raxod502 Hello! Seems like SSLv3 negotiation is not offered by google server on which static.red-lang.org is placed: 

```
 SSLv2      not offered (OK)
 SSLv3      not offered (OK)
 TLS 1      offered
 TLS 1.1    offered                              
 TLS 1.2    offered (OK)    
```

[8:42:02](#zXrgz6AicJgLMDuj-e3Ln521-dbt0237A_W71pVXse4) <litew (litew)>:
* @raxod502 Hello! Seems like SSLv3 negotiation is not offered by google server on which static.red-lang.org is placed: 

```
 SSLv2      not offered (OK)
 SSLv3      not offered (OK)
 TLS 1      offered
 TLS 1.1    offered                              
 TLS 1.2    offered (OK)    
```

Which OS do you use?

[9:35:57](#kTpty1zjkTRR_xi1446ORtBWzxrrvapTyFZsV3Ben50) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
[SSLv3 is derecated since 2015](https://ma.ttias.be/rfc-7568-ssl-3-0-is-now-officially-deprecated/#:~:text=The%20IETF%20has%20taken%20an,SSL%203.0%20is%20now%20deprecated.&text=The%20Secure%20Sockets%20Layer%20version,that%20SSLv3%20not%20be%20used.)

[10:28:45](#zhTGM1jFwrllfmSVFZvAuHMMQ0E0XQOX52_gC6kOhYM) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
@raxod502 try to use `openssl s_client -connect static.red-lang.org:443 -status` to see what protocol is used on your system.

[10:30:02](#V6m9y-doZYAMcVrZMNV0-uZpb3cKxObN-bCtoue3h40) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* @raxod502 try to use `openssl s_client -connect static.red-lang.org:443 -status` to see what protocol is used on your system.
And `curl --version` to validate, that  your libcurl is not too old.

[15:37:43](#_iqnUWzNSHQRjfnMTJEe-KEDV4duDo8dkBJUXViSGL4) <raxod502-58051fc3d73408ce4f2ee6d0>:
@litew @Oldes This is Ubuntu 20.10 in Docker
```
curl 7.68.0 (x86_64-pc-linux-gnu) libcurl/7.68.0 OpenSSL/1.1.1f zlib/1.2.11 brotli/1.0.9 libidn2/2.3.0 libpsl/0.21.0 (+libidn2/2.3.0) libssh/0.9.3/openssl/zlib nghttp2/1.41.0 librtmp/2.3
Release-Date: 2020-01-08
Protocols: dict file ftp ftps gopher http https imap imaps ldap ldaps pop3 pop3s rtmp rtsp scp sftp smb smbs smtp smtps telnet tftp 
Features: AsynchDNS brotli GSS-API HTTP2 HTTPS-proxy IDN IPv6 Kerberos Largefile libz NTLM NTLM_WB PSL SPNEGO SSL TLS-SRP UnixSockets
```

```
% openssl s_client -connect static.red-lang.org:443 -status
CONNECTED(00000003)
140166965028160:error:1408F10B:SSL routines:ssl3_get_record:wrong version number:../ssl/record/ssl3_record.c:331:
---
no peer certificate available
---
No client certificate CA names sent
---
SSL handshake has read 5 bytes and written 320 bytes
Verification: OK
---
New, (NONE), Cipher is (NONE)
Secure Renegotiation IS NOT supported
Compression: NONE
Expansion: NONE
No ALPN negotiated
Early data was not sent
Verify return code: 0 (ok)
---
```

[15:42:09](#u1n4IC-kMjp1jKzPwwjoJdsFtRLcsJNuw-TuyDt1Me4) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
hm... I don't know... you have both tools newer than I have... but it definitely is problem on your side.

[15:42:18](#rHu9tfQL7Ut3_YMmQfM16Ev57TGpzoZdQWsdmJPqzHE) <raxod502-58051fc3d73408ce4f2ee6d0>:
You can reproduce the issue by trying to curl from `docker run -it --rm ubuntu:groovy`

[15:42:47](#aD9W13vmXEysLK1BdGvi0AUpj7X0jJzWRdiNIZlHfoM) <raxod502-58051fc3d73408ce4f2ee6d0>:
This seems to imply that the problem is not with my system configuration

[15:43:32](#zyCcDyxx--5LCbQr3aWI3J7mY0egqNibnAYRKlfAzQc) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
I guess it's problem with the docker configuration... but I'm not docker user... maybe someone else can tell you.

[15:44:37](#zXCdiNlCzhNmmnGRghhD-aOZkKE1vl5ha0qW0EtwRbk) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Maybe using [some google-fu](https://community.letsencrypt.org/t/solved-30810293761408f10b-ssl-routineswrong-version-number-ssl-record-ssl3-record-c-332/98244)

[15:53:18](#hEmreLj245cqF0LTEd-rvs7sIegAm5JvqCP_xGd5ZzM) <litew (litew)>:
@raxod502 i've installed this ubuntu:groovy image with podman and run curl inside of it: https://ghostbin.co/paste/mugxp

[16:05:20](#jt7lpzmgzmpAPQXy5_HdibZsHRGcJ_TDkAJ3jFKPvn4) <raxod502-58051fc3d73408ce4f2ee6d0>:
That confuses me greatly. Apparently, a fundamental assumption that I made about Docker was not correct, sorry about that. I will investigate to see what could be wrong.

[17:58:36](#sxTHhhkMjO5SAuaUyNk6cE8EN4S8PRkIoj_eq0lJilM) <greggirwin (Gregg Irwin)>:
@raxod502 let us know what you find out. We can add a note to help others. 

Thanks for assisting @Oldes and @litew!

[18:46:41](#l1lnVvbVrsg7CAmmSu9XPDdQP78wDD_I1awuhlbOTlI) <endo64>:
I got 404 `not here` on https://static.red-lang.org/ page.

[20:26:59](#HjeaRKZgLNVM_jnTyr_DMbZhP-blvbsR6uBzAjFVzUo) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
That is ok... as it's used just for tests.

[20:27:46](#RkmfyPZ2pCdNP8IJa_N4UAKC-MenFYma-vMXnYmuJnc) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* That is ok... as it's used just for tests. (it's shorter to write than `https://static.red-lang.org/dl/win/red-064.exe`)

[20:28:44](#JwmgBfTYWCW29rbyslCrxZoq_1IkOcyHWhqNJ9NQnD4) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* That is ok... as it's used just for tests. (it's shorter to write than `https://static.red-lang.org/dl/win/red-064.exe` and result is same)

## 14-Jan-2021

[12:44:49](#L9BtL6nU3OvzUtQzJTwNwg1le2N5GnOOpCQQFJAkgrs) <zwortex (zwortex)>:
Hi everybody, happy new year to all and thanks for your support that is much appreciated to rookie red programmer like me.

I dug a bit further in View and when comparing rebol vs red, I tried the following code from Rebol

```
squares: make image! 2x2
squares/1: red
squares/2: green
poke squares 3 blue
poke squares 4 yellow
view layout [ image squares 100x100 ]
```

It shows a rather nice, though no perfect, checkered canvas, in Rebol2. The same in Red is not that nice (using Windows 10 x64). 

[12:47:03](#y4-TcKZNO2zT_4cUs9C3QPx--LJkSBQml-SfI2Bs5mI) <zwortex (zwortex)>:
* Hi everybody, happy new year to all and thanks for your support that is much appreciated to rookie red programmer like me.

I dug a bit further in View and when comparing rebol vs red, I tried the following code from Rebol

```
squares: make image! 2x2
squares/1: red
squares/2: green
poke squares 3 blue
poke squares 4 yellow
view layout [ image squares 100x100 ]
```

It shows a rather nice, though no perfect, checkered canvas, in Rebol2. The same in Red is not that nice (using Windows 10 x64). 



[13:09:09](#awFkX9axV1npJdRdAAmB9wRaFZKbSYnDmDXjtAIndGE) <zwortex (zwortex)>:
Another one :

The following recursive call provokes a crash of the console on windows 64:

```
a: make object! [
    s: copy []
    empty?: function [return: [logic!]] [
       return empty? s
    ]
]
a/empty?
```

There are a couple of issues related :
#4323 : crash on stack overflow
#4559 : crash on recursive print
#1858 : crash occurred on recursive call without an exit condition

The #1858 looks fairly close. Shall I had a comment to that one to provide another use case ?

[13:48:55](#XgqYWFrTGTGupdb2DOwLjnVbRIycibnmEFOkUw4eKwQ) <rebolek (Boleslav BÅ™ezovskÃ½)>:
@zwortex hi, what version of Red are you using? So called "stable" or latest build?

[13:53:16](#Q8e3eP0Ix9IYiDgkcvLRIaeajQpKByOKY4plzUN3v2c) <zwortex (zwortex)>:
@rebolek, latest build (i.e. yesterday)

[13:55:30](#DhLpQj1Ak4a9FxtJO-VM5FxwtuttSYIvHJDAeZqYYac) <rebolek (Boleslav BÅ™ezovskÃ½)>:
OK. I tried on Linux and can't reproduce it, so it must be Windows related. Are you using GUI console?

[13:58:41](#LgO6bfIUFwRwEYcZankLJRbodEqnyAx7Oe5ZXHWumV0) <zwortex (zwortex)>:
Gui console, regular console, regular console with view alike.

[14:00:26](#lVKXzfq71Ck-P2sBxbjrALddCD_ZSh5aqnF-Vy9kyk4) <rebolek (Boleslav BÅ™ezovskÃ½)>:
Interesting. I got stack overflow error as expected but no crash.

[14:02:13](#1uhWmEQMX8k2dsee7SNNM5Y2PoCEq_69rsylgd4uHHs) <zwortex (zwortex)>:
something wrong with my console compilation or environment ? 

[14:23:14](#b1_NzVX0pejpMaljn-6-PBb-3-4kiASdhcLWlaR_itM) <hiiamboris (NOT THIS ONE)>:
crashes for me on W10

[14:24:06](#43RlPqCSkInOAlEWVWivwOMbIXoIVOui_biVyIWUEnc) <hiiamboris (NOT THIS ONE)>:
but since #4323 was never fixed, it's expected

[14:24:42](#ztxXQlBzZTQPzjw2R0qmBWrrwWC9Dm58l43buSpAf9w) <hiiamboris (NOT THIS ONE)>:
2x2 image upscaling works as expected too

[15:31:18](#uwLTf5XoWjvFZsA4YiZ-yC1b2UreOx6gz2A3X-tZU2k) <zwortex (zwortex)>:
hi @hiiamboris, thanks for your replies. Ok for 2x2 image. What about the crash case : shall I add it as a comment to #4323 or #1858 ?

[15:36:39](#FMg8R6SuYzFNRPNAqFTszLE3i-0WuSjvgkjOM3b6eZk) <hiiamboris (NOT THIS ONE)>:
What would your contribution be? There is an infinity of snippets that will trigger this bug.

[15:37:05](#23WbnH3gyAc59XkRt3CjGjchBUOPwParBisJq_C-BKk) <hiiamboris (NOT THIS ONE)>:
Don't bother í ½í¸‰

[15:43:12](#8kgpdNcvhdreY2uFow16-lQXX8g-R2xuW8f2Kaq3zzQ) <zwortex (zwortex)>:
no problem

[15:46:59](#a5XxPuvYxmBoRCMh0b2OrtxqMXYcG2YSl7VQYaTp0pU) <zwortex (zwortex)>:
I have encountered also an issue with on-deep-change*. I have seen there is ongoing issue. Don't know if this one is known. 

When on-deep-change* is defined even with a wrong signature, there is no warning triggered. 

```
;; No warning when too little arguments (i.e. misuse on-change* signature)
obj: make object! [
    a: "Obj"
    s: copy []
   on-deep-change*: function [word old new][
        print ["Hello:"]
        print "Word" probe word ; word is owner
   ]
]
append obj/s 1

;; No warning either when too many arguments ...
obj: make object! [
    a: "Obj"
    s: copy []
    on-deep-change*: function [owner word target action new index part one-too-many][
        print ["Hello:"]
        print "Owner" probe owner
        print "Word" probe word
        print "One too many" probe one-too-many
   ]
]
append obj/s 1
```

[15:50:01](#jQeljsMDEbpi7_WpGu6l6TvxxVVQvxYt_AsmAEi6Fb0) <hiiamboris (NOT THIS ONE)>:
now that is a good catch

[15:50:10](#QSFH_3VK9EY0tHcVFt0vZD3AMAbe7YexjT0RsMeTNDg) <hiiamboris (NOT THIS ONE)>:
please report it

[16:16:58](#d5nSSjcD0VlcwSFNKhPvpao8j2UVhAt5fHYeX7Z97iU) <zwortex (zwortex)>:
I have added #4798

[16:19:59](#_iIaDuGbz-k-ejxXJfjtwxqy80U7jzSwBKkcv64mZBE) <zwortex (zwortex)>:
I have this one as well in my basket.

An error thrown from an event handler is trapped silently and the event is sent a second time.

In my opinion, the error should appear and the event should not be resent (at least not to the same interested party).

view/no-wait [
    f: field "a" 100x20 react [
       print ["Push" n/data]
       face/text: rejoin [ pad " " to-integer n/data "a" ]
    ]
    n: text hidden data 0
    c: check "Check it for error and double push"
    button "Push-me" [
       n/data: n/data + 1
       if c/data [ 1 / 0 ]
    ]
    b: button "Bye" [ unview ]
    do [ the-f: f the-n: n the-b: b ]
]

[16:37:40](#ZXWkukxNH-ql0PsczYNy6ug9JqPh54tMUhvbM054bOE) <hiiamboris (NOT THIS ONE)>:
this is known

[16:49:16](#vgvgrLImBOCmgi-cdWKpnr-2HldaXehG-E6niKm-XDs) <zwortex (zwortex)>:
ok

[17:18:38](#NITkmnC7ybghyVysq-kGKEc3WsduONZesJHfVHtuXMc) <zwortex (zwortex)>:
While using compress, I found it strange that compress would accept string!, and decompress only return binary!. Strange also to find out that binary and string equal, though even more strange that they strictly equal. Is it intended or known ? Cheers.

```
a: "foo"
ca: compress a
dca: decompress ca
probe dca ; #{666F6F} and not "foo"
print to-string dca ; there it is
equal? dca a ; strange !
strict-equal? dca a ; stranger ! 
```

[17:41:39](#Xx_x-k47h9jBRIlSukwtfSxWo2CDYn4WzFi71Yfehdg) <hiiamboris (NOT THIS ONE)>:
Haha that's a funny bug

[17:41:43](#k9yqfiqybp359UDbO8SOtzTWOwfF60kRAYfXL6M3V4A) <hiiamboris (NOT THIS ONE)>:
```
>> a == dca
== false
>> dca == a
== true
```

[17:41:51](#O_Evj4aQXtW3R-SnDvE2oljaGHPXmXD7WQUCmfe2eKY) <hiiamboris (NOT THIS ONE)>:
Please report it as well

[17:43:24](#q_m4WrxjpGPdgTJbFuCPgfF27CKamjJAHmOG5qohDPg) <hiiamboris (NOT THIS ONE)>:
essentially,
```
>> (to #{} "foo") == "foo"
== true
>> "foo" == to #{} "foo"
== false
```

[17:54:31](#-NDN6fMfQKZpEeD8qN_VCCMthqb-LpU8luohqjBSlLQ) <zwortex (zwortex)>:
Ok

[18:07:21](#n9OS_gqHwMJeYcfMSR-tqKT-s3cdhCEDayfZ5Zm_6IQ) <greggirwin (Gregg Irwin)>:
For `on-deep-change` I commented and closed the ticket before seeing the chat here. @hiiamboris are there other cases where this kind of thing is caught, or how would Red do that without significant changes (or checking the arity of the callback func before calling it every time)?

[18:09:29](#ieGGEeTsmAJgH6RsB18Ve9Tt_N455Pnf8y7l6BD2r2A) <greggirwin (Gregg Irwin)>:
For the `one-too-many` case, I'd have to look at the calls to `on-deep-change` to see why it gets `none` rather than `unset`, which would trigger an error.

[18:15:17](#LGIjCyWe3yormPOYyrFxXtIgVPtP8BZxmo1btlpn-vY) <hiiamboris (NOT THIS ONE)>:
Can't say without digging this. But I think that function's arity is known (and fixed) at the time of function creation, and even cached by the interpreter. So I think there should be a way.

[18:29:20](#NjXcjbu-uqnwJ2MeiNzujyXlx7v2fq7k7r8I52BssbQ) <greggirwin (Gregg Irwin)>:
Interesting. It looks like `function/calc-arity` is used when objects are made. But you could replace the callback func, so it would still have to check every time.
```
obj: make object! [
    a: "Obj"
    s: copy []
    on-deep-change*: function [owner word target action new index part][
        print "Old"
    ]
    new-on-deep-change*: function [owner word target action new index part one-too-many][
        print "New"
    ]
]
append obj/s 1
obj/on-deep-change*: í ½í¸®bj/new-on-deep-change*
append obj/s 2
```

[18:34:53](#_lEMCM5ctFexg69KBZswYfFi2XGFAGExHfPhO9ZikIg) <greggirwin (Gregg Irwin)>:
And while we can change how this works for standard objects and the ownership/change model baked into Red, any other user-defined system would have to define its own check system. 

It's another design choice on protection versus consistency and flexibility. 

[18:47:27](#7InHxJdHJMM9Zf01Am4JFlNGXS1mKJQQ-phIwGVQwl8) <hiiamboris (NOT THIS ONE)>:
OTOH if we do enforce it, someone would ask to enforce also View events arity, parse and lexer callbacks arity.

[18:53:12](#6tlGZ-Y5yJT85KmHqY8tFAZ85vwnzHuiABZSSm-CoRA) <zwortex (zwortex)>:
For the binary string comparaison, created  #4799

[19:01:56](#FZzLfjieRh7Lj2lANYEWDwi56N6gNK4j4Vc3KccRaxQ) <zwortex (zwortex)>:
@greggirwin, for the #4798, I don't see why it should not be enforced (at least at creation time) : it is a callback red system relies upon. Even the meaning of the argument are those intended by the caller, not the callee, that can just rename the arguments if he wish so. Anyway it is nice to notify the developper that he made a mistake, just swaping two arguments. But even so, let's say a new version of Red comes up that change the signature of the callback for whatever reason - would be even nicer to notify people relying on it that they need to check their code. The worst being the extra argument that is accepted. It looked as if the stack frame boundaries be not checked. If it is not the case, I am happy.

[19:08:30](#gUyE0Xbc8qYjLwPTizctFvhyUwDnaGLixmFOkAlqgpI) <zwortex (zwortex)>:
I have got a situation that looks similar to the issue #4549.  A use case where `return or exit not in function` is thrown in the event handler of a view.

Here is the error :
```
*** Throw Error: return or exit not in function
*** Where: return
*** Stack: do-file run view do-events do-actor do-safe error? on-expression-update as-string rejoin empty? compute _compute-rec _compute-rec _compute-rec _compute-rec
```

The error is thrown from a recursive call (_compute-rec) and it appears or disappears if you change one line of code in that function. With the line written like this **return _compute-rec node/child**  the problem appears, if rewritten like this : **return (_compute-rec node/child)**, it disappears.

I can provide for the full script and the sequence to reproduce the error. I cannot provide better however as any attempt I've made to extract the issue made it disappear. Tell me if it worth investigating further ? As for myself, I rewrote the code so I don't get the problem anymore anyway.

[19:12:14](#7TdCEv8I3t2RTTgHn5AJvr6l8fygiu_oG-_0UUrFEHY) <hiiamboris (NOT THIS ONE)>:
If you can, upload your code to gist.github.com and link to from the #4549 ticket, so we will at least test it after we develop a fix.

[19:35:42](#yygfLKKK-sKPiJ0lEyU7dpeWa0SwJUFdFdCU1pHCBzw) <zwortex (zwortex)>:
ok I'll try and see how to do that and let you know.

[20:06:23](#QGq8hW6cLHqZwq2eAhG-JnqXVO98CxQ1tqYgjJMCvwU) <greggirwin (Gregg Irwin)>:
@zwortex @hiiamboris for `on-deep-change` here are some thoughts:
- 7 parameters is a lot to begin with, so writing the func spec manually is not a great idea.
- The ownership system *is* expected to change, so now it a good time to think about how to improve it. With luck we'll avoid breaking changes or a secondary system later.
- If callbacks are treated strictly, that's less idiomatically Red, but this crosses the R/S boundary so it's a gray area.
- @hiiamboris I remember some of the many experiments you've done (e.g. `try` reboot and recent VID layout work and some reactivity stuff as well), but I don't remember if you tackled ownership yet. If so, point us to it.
- Nenad needs to weigh in on this, so we can't go too far down this road without knowing we're headed in at least a reasonable direction for his goals and other private work he may have done.
- Design questions like this are interesting, because we want the language to help us as much as possible, but sometimes knowing there's danger in an area makes you more aware and careful. That puts more burden on the user, but there are also cases where you can get a false sense of security (in the real world too, not just languages), which can be just as dangerous. 

That said, arity aside, type checking is something a user can do today, which will catch some issues. e.g. 
```
on-deep-change*: func [
	owner  [object!]
	word   [word!]
	target [series!]
	action [word!]
	new    [any-type!]
	index  [integer!]
	part   [integer!]
][...]
```
It won't catch swapping like types (`word/action` or `index/part`), and `new` is a wildcard as well, but this comes for free right now.

I think this is also a great impetus for someone to start a Red linter experiment. Any volunteers?

[20:09:38](#IBkQnJPFQ4JFAIipDgFI9Cv66w9iCrj-mUz0rc-qobs) <hiiamboris (NOT THIS ONE)>:
Type checking won't work because R/S does not check value types before inserting it into the stack.

[20:09:54](#yPe_ypYl6ts91VA9ma5LlhsxVsd4ctFB6yCjvIu0fXw) <hiiamboris (NOT THIS ONE)>:
* Type checking won't work because R/S does not check value type before inserting it into the stack.

[20:12:35](#uwtu6iFcglifFO1HtFHZnqLBR2IPf2AhOaN-qhgIPdQ) <greggirwin (Gregg Irwin)>:
Ah, curses. :^\

[20:13:12](#m1AVb74z0eSQM2CRu91aYYn_xn1J0ejU0s-l5pWOxLI) <hiiamboris (NOT THIS ONE)>:
On ownership, apart from https://github.com/red/REP/issues/92, I didn't do anything, as I'm also clueless to what Nenad's plans are. I do have some notes in https://github.com/red/red/issues/4524 though.

[20:14:36](#ze6_FKfT_RO-yVnVq7tHRGeWBQwL2di56eGKcqbzwo8) <greggirwin (Gregg Irwin)>:
I will ping him. I remember the recent REP now, thanks.

[22:37:46](#dyaP5kXmHJKLI4i_gSS3KXU9NwU4RiJFK2LTbZ2Jta4) <zwortex (zwortex)>:
@hiiamboris for the error "return or exit not in function", I uploaded a simplified version of my script at the following url :  https://gist.github.com/zwortex/56b0d90befb1b01e189c1aa044b4a2ce
Instructions for reproducing the problem are detailed in the script header. Let me know if it falls into a possible #4549 use case, in which case I will link it there. Cheers.

[22:59:55](#qPW98eaMV4mTg-zrsbFsnRiOejThvojXesn4luwBrcY) <hiiamboris (NOT THIS ONE)>:
doesnt run

## 15-Jan-2021

[7:05:55](#mX_8bg__h8y7GmwLraxgtj4z6OeM6ObNvdoqxGT_gIk) <pekr (Petr Krenzelok) (@pekr-556ae86715522ed4b3e131b2:gitter.im)>:
@greggirwin reading many of @hiiamboris tickets, it seems to me, that there is many areas of improvement proposed. Really a good work. I was especially surprised, that his fixes / proposals showed, that Red's reactivity, is not all that ideal and could be streamlined / sped-up.

[9:24:25](#BftQ1nOCWlyCzJcjkEBnhUfQ3bChAdZISRjRX81RdgM) <hiiamboris (NOT THIS ONE)>:
thanks @pekr (:

[10:18:43](#jDWVbJ52C-wceXqYtU9THt9NXuQqdRdkqnTQwHk1_P8) <zwortex (zwortex)>:
@hiiamboris, sorry I forgot a dependency. I've modified the script but you may as well just set cls and run again :
cls: 0 

[11:15:45](#bv5he8YApoMBU7IKugVYO8ZUC9Zn4Qk0y8plT79-JUc) <hiiamboris (NOT THIS ONE)>:
I can reproduce the error, and `(expr)` vs `expr` tells me that it's a bug indeed, so worth a mention there

[12:50:28](#KmG_9IcWMpNauBSn2ODqXeaxy5jNCXsQlDsbi7nOZ_k) <zwortex (zwortex)>:

Ok I added a comment to #4549

[12:53:02](#5tcU8CPSH9EkaK7u0j79lPaVeeP4JZxRNXxsznGm9VM) <hiiamboris (NOT THIS ONE)>:
thanks

[16:06:48](#IZtWdxIc2bbzO-d2KwLMocf5FHpMaAA_gTbGA7P09-U) <zwortex (zwortex)>:
true: false or string!: integer! provoke immediate crash. For such crash, how do you get information.

[16:45:38](#2qNKChRAc5NeaRLNuxZaynvD1ocMDzvr_inkWskpiRE) <zwortex (zwortex)>:
Hi, another question save/all %tst reduce[binary! 'binary false 'false] gives a file with  binary! binary! #[false] false. Guess first binary! should also be serialized ?

[16:56:31](#txqdRxSYe39qhoA8d3xRt88mWg3MJmrSYiz49TxTnrU) <hiiamboris (NOT THIS ONE)>:
mold/all is TBD

[17:03:50](#GcTaxSgX_bvwCxKRkTmheyQlF4umyuV3rvGct_uF8E8) <zwortex (zwortex)>:
I am too hasty then.

[17:33:42](#HqCr6J9ntix-q1noRt-wjlK6PO6dZIScLltTkxHbk3o) <zwortex (zwortex)>:
Path in parse rule do not work (see 2). I guess they should. Note that a workaround exists. It consists in referring the rule with a word locally to avoid using the path syntax (see 3). Don't know if it worth mentioning.
```
a: context [
    r: [ "1" | "2" ]
]
parse "1" a/r ; (1)

b: context [
    r: [ a/r ]
]
parse "1" b/r ; (2)

c: context [
    ra: a/r
    r: [ ra ]
]
parse "1" c/r ; (3)
```

[17:47:09](#Q6rNSfRVYZcIsYamF4KKWooWOFkJX0SH_j3I49WB3is) <hiiamboris (NOT THIS ONE)>:
by design

[17:47:47](#Bth6jIR7seZJ_KfvOneGUaQ4odwWJbr3wHYjW-9K8zE) <hiiamboris (NOT THIS ONE)>:
IIRC path lookup is slow was the main argument 

[17:57:42](#j-FX5Zkp9JEduJ_RXo1kTZehvGtazX22keKVNYwK4ro) <zwortex (zwortex)>:
I thought that parse was implemented with a state machine ? i.e. there was some sort of pre-computation of the rules before they are run.

[18:08:13](#rWWPzuAQtx4TF7AoZJsIeQRjThkGMIQBBMtDKWa3MfQ) <hiiamboris (NOT THIS ONE)>:
doesn't look that way

[18:08:36](#Th91hklDjSGdPHr-OJ9UlGUYRN3jl4BbUMwZOZq_2no) <hiiamboris (NOT THIS ONE)>:
besides, you can't cache word's value as you are free to change it during the parsing

[18:18:00](#F9yUn1nYUHs2uuvTiVdD0-lQ8geE-axkrPjSN3ReSBo) <zwortex (zwortex)>:
do you mean parse rule can be changed dynamically ?

[18:18:08](#IQo9YzRRR_iKV89xxzpeIrJ9iiIj5ymkX81r2hI_ySk) <rebolek (Boleslav BÅ™ezovskÃ½)>:
of course

[18:18:15](#Mhfn3AEvZ-F1UguNFyTX8RQmsSsi_-_wnWqlGBg-908) <rebolek (Boleslav BÅ™ezovskÃ½)>:
not only parse rules but input also

[18:20:00](#3NgJYzRJpQRQwWyXuiq0pbZBmzohoUXKozTssRQ3b-M) <hiiamboris (NOT THIS ONE)>:
e.g. `[... (word: rule1) if match (word: rule2) word ...]`

[18:20:43](#4quJyK8AQcACB8OwzOkH4NZwyjMCSwBE0d_ecT_xcgM) <hiiamboris (NOT THIS ONE)>:
you can't cache `word` for it is yours to change

[18:26:34](#_AXBQ0KVRfSLyxePwkN9ZsnJhArJOlGKE-QBOqIKZgg) <zwortex (zwortex)>:
ok I need to review that. changing the input dynamically is one thing ; changing the rules is another. 

[18:26:55](#3Bv6QUvi1mK_VrAnK2R2RkGg94k_2MfdzQpVIZJAcZ4) <hiiamboris (NOT THIS ONE)>:
í ½í¸‰

[18:27:34](#4AvLLHaF9QaCV9QUGNKMiBvUfs1HNoy7eNk97Zy_sMc) <hiiamboris (NOT THIS ONE)>:
you've just stumbled upon one of the really *dynamic* concepts of Redbol

[18:28:36](#Feigh60OV4zwT-ZaWP4r3-A68TO4w5D2jnVjq6TJFiM) <hiiamboris (NOT THIS ONE)>:
just like all code is data and you can change it before it's evaluated, so you can do with parse

[18:29:54](#hsrAT_hCcfuFPE3f1Z9qO4KkZqPS7785zE0Rvi0i4DE) <rebolek (Boleslav BÅ™ezovskÃ½)>:
you can for example add new rules from the input you are parsing

[18:31:38](#PfXrQ9nY0hyIsmAzbOWUjlRKI4rrZYhwVTg2kK3Aaqk) <zwortex (zwortex)>:
OK. I understand that it is possible. Be it advisable is another story.

[18:32:01](#ro0k5DdLxFWbZ1NAgTiJKSUA4jGdhpq_Q-QwYP2wJ4Y) <rebolek (Boleslav BÅ™ezovskÃ½)>:
it's certainly fun í ½í¸‰

[18:32:01](#REHFWTdxLUJqxqigfj2WF2oSdiY6WDZE1WT6Gt01rYE) <hiiamboris (NOT THIS ONE)>:
why not?

[18:32:45](#MIunb8OmH1Ho4MimmC-DM8DgmJ-p06RRgGb0btweAWo) <zwortex (zwortex)>:
I need to go... I'll post an answer later.

[18:35:19](#iUvMEFh60d5cwyVNboDhAsnPF_cQEiLbnvu2X6G1-nM) <hiiamboris (NOT THIS ONE)>:
you can use paths with `parse data compose/deep/only [... (my/path/rule)...]` btw

[19:10:08](#GMuWjO3vjqI-KKfBBecnuC8nh5koJNvLHF5rRzcO98g) <giesse (Gabriele Santilli)>:
> IIRC path lookup is slow was the main argument 

pretty dumb argument if you ask me

[19:13:28](#3HQewSlrXJKeoNUMwL805HXN5Xg-n5-k336x0e63wlE) <hiiamboris (NOT THIS ONE)>:
why?

[19:15:12](#YskiSkgEgujZFBPEDRnLq54q4vppA9EPg_nUqsMQa9Y) <greggirwin (Gregg Irwin)>:
The question is how slow, and does it affect only paths used or `parse` in general, even if you never use them. If it's half the speed and everybody takes a hit but it's only used in 1% of cases, then it's a valid concern.

[19:16:34](#S9_C2PHEBq6puiB4UBskHrNT1IOhsnkPML3GIHPx4uw) <greggirwin (Gregg Irwin)>:
@zwortex one of my early `parse` language playtime experiments was a Logo interpreter. I stumbled on things the same way, falling out of my chair when I realized I could parse a func spec and immediately add it to the block of rules.

[20:42:02](#xkpcdDgboSrOLb-XPsjYDThyz0Fi5WIgKh6bxxw28pM) <zwortex (zwortex)>:
@hiiamboris, @greggirwin, @rebolek I had another question related to how to generate dynamic parse rules and localise them. I guess you answers address that most probably. However, I will post that particular question in the help forum as it looks more appropriate there.

For the bigger question as to whether changing dynamically the code (or the rules in that particular case) is advisable, this is a tough question. And there is no easy answer, certainly not a definitive one. My first impulsion was to draw some parallel.

In biology, the code is the DNA and change in the code is most often a decay, possibly leading to a cancer, and death at the end, anyway. Not very entertaining. 

There is a gray area, though, that is the gene expression : the way certain genes are turned on and off by the environment. This regulates the differentiation between cells (a skin cell is not a liver cell) and their functioning vary, despite the fact that they share the same code. You may have a code immutable and still have profound differences in behaviour. The environment serves as a feedback on the rule and how they apply.

Other parallel, you plan a trek in the mountains. You may go with few items, not even a map, wander without purpose, get lost, fall off the cliff in the middle of the night, too bad... Or you may plan for your trip, get a detailed map, gear up for the winter, reach the summit on time, and be back safely to the refuge before night. The first strategy is probably a good one for an explorer that venture in unknown territories - hopefully he has some good heuristics ; the latter is more appropriate for big challenges and/or reproducible performances - then you train or rely on external knowledge - those are code.

More generally, I think the main activity when coding is where you set the boundary between what is general and what is specific, what can be factored, reused and what should be left unknown, what is worked on and what tool you use to work on it. This is often the pitfall too : either over designing, or not providing enough flexibility. This, along with the design and conquer strategy, are probably the two major paradigms in software design, though I've not thought that through. This is basically what you do when you write a function (stateless) : the arguments are the interface to the world, what is worked on, and the code is how you manipulate the world.

As in the biology case however, you also need a gray area : that is the ability to have certain flexibility between what is code, how it is being expressed, and what is data, however I see it more like a two stage process rather than an ongoing process : i.e. a meta process that turns code into data, to produce another code rather than an ongoing modification of the code. A meta process is when you create your tool or modify it : the code becomes the data of a meta process. 

A final image : you're cutting grass with a big scythe and from time to time you need to stop, get some rest and sharpen the tool : cutting the grass is the process (data: grass, code : tool the scythe) ; resting and sharpening the tool the meta process (data : scythe , tool : the sharpener). You can perform one and the other but I would discourage doing one while doing the other.

[21:13:33](#GRhoL16B9qEHznSuu9MMZDm2Tb9PECJwT0eBmlPS0lc) <hiiamboris (NOT THIS ONE)>:
Indeed. Chosen strategy depends on the application. And Red gives you enough power to not be limited by the tool once and for all.

[21:14:29](#cQ2yQcgUoSxLjgyXoHcnI42--1MwP74D8U0eQb1dbE8) <hiiamboris (NOT THIS ONE)>:
That power comes at a price. Like, principal incompileability í ½í¸‰

[21:22:20](#6UD7qqni4QytoKXVTuLW9DfE98TJPtzzKHL5Mh1cgOQ) <zwortex (zwortex)>:
With great power comes... great responsibility ?? I heard that one. No => great incompileability ! That's a nice one. 

[21:42:21](#HxpBf0kkp1Guu7nZeKtToOjOORxfkT1u8Eyp7pS0R4Q) <greggirwin (Gregg Irwin)>:
*Great* thoughts @zwortex. And a nice joke at the end. :^)

I think of things in a couple major ways:

- It's much easier to start flexible and get more strict on top of that, rather than the other way around. It does mean you have to be more careful where you have maximum flexibility, but that's also what makes it fun and powerful, because you can think of new ways to do things. Do strict languages allow that? Not so much.

- Some people trek in the mountains, but a lot more people go to the park. Sure you can still get hurt in a park, but the risk is much lower, so you just need to wear comfortable Red shoes. For a hike, you need boots, a jacket, water and snacks, and a simple plan (this trail, back by dark); maybe a stick, a friend. The bigger the challenge, the more you need. Finally you have huge projects which, even with planning and experience, can fail like a Shackleton expedition. The world runs on people going to the park, but everybody thinks they need to do things like Facebook.

## 16-Jan-2021

[3:46:19](#juAo8t27XHpAmtPOzBmjrhoYuaPGRorbH24gwBuJl5A) <gltewalt (Greg T)>:
Can you return the whole rule with changed data?

[3:50:54](#tEq57C7o5sGw3GUp6osl6VsSBIvzwNqOiuht5-0HbG8) <gltewalt (Greg T)>:
Copy of the whole rule

[15:21:56](#w6_DZuxbLNguVgRQBabw1yvz4a42j9c0LPxyD7VhCCM) <giesse (Gabriele Santilli)>:
> why?

@hiiamboris because if you care, then nobody forces you to avoid paths, and if you don't, why should you be forced to use workarounds?

[15:22:08](#kAUecYXfXle2KvVGRDsQZ6NNTJ70LCyhMy7r9yfrVOY) <giesse (Gabriele Santilli)>:
* > why?

@hiiamboris because if you care, then nobody forces you to use paths, and if you don't, why should you be forced to use workarounds?

[15:42:11](#7byq75lhdqk9WeAKUIbKsE2c7leFETY6nHSYMeAFRfY) <hiiamboris (NOT THIS ONE)>:
I guess it was just so less people would blame parse for their slow code they've written with paths. But I actually think like you too. Why not support it.

[16:55:10](#H2h8h9g-_rvbLoCAwHBbRIgOah3QwyzEcGNqFN3fjf4) <dsunanda (dsunanda)>:
The code below implements a UI where you can move boxes around, and the current box is always on top (ie it rerranges the Z-index on an OVER event).
On Windows at least, it fails badly - just jiggling the for a couple of seconds will generate error messages, and - very likely a console crash).
The problem is a race condition between the REMOVE and the APPEND in multiple invocations of MAKE-TOP:

[16:55:24](#B-O8UNeRS8ZaDemB4UIemN2h1jPjQ3XzH1ZORZ3kR9g) <dsunanda (dsunanda)>:
```
lo: copy [] loop 10 [append lo compose [at (random 200x200) box loose 100x100 (random 200.200.100) on-over [do make-top face]]]
make-top: func [
  face [object!]
   /local
   parent z-index
][
    parent: face/parent
	z-index: find parent/pane face
    if last? z-index [exit]
  	remove z-index
    append parent/pane face
]
view/no-wait lo
```

[16:56:59](#Gi4AW0l_LEiKSrdEqG_LVvQu3Qm4nWA2rWWilnugtjE) <dsunanda (dsunanda)>:
I have an almost-fix (it seemingly works with two provisos - see below). The fix is to effectively hand-carve a MUTEX using a shared word:

[16:57:08](#EptnVhxaH-GLVtx9MhEM4PnMy0nHQzT48cAlPTHptfU) <dsunanda (dsunanda)>:
```
make-top: func [
  face [object!]
   /local
   parent z-index
][
    parent: face/parent
	if parent/extra [ wait 0.01 if parent/extra [exit]]  ;; wait or yield
	parent/extra: true
	z-index: find parent/pane face
    if last? z-index [parent/extra: false exit]
  	remove z-index
    append parent/pane face
	parent/extra: false
]
view/no-wait lo

```

[17:00:42](#jScAzV0Ytg7E0QhC4Jsd89Ld8SIabMJmJglvdVEZQtA) <dsunanda (dsunanda)>:
The two provisos are:
1. Testing and setting parent/extra is not guaranteed to be atomic.On a sufficiently slow or busy machine, the race is still on - I really need  a proper Compare and Swap function to get this perfect
2. There's still "shimmering" at times when it seems VID gets confused about which face is on top - that's obviously a separate issue to the need for user-level Mutex abilities.

Thoughts on better fixes welcome!

[17:29:47](#EUAZSO1xBu9suRUGUqd8h-fnv8Fru6Ua4tR5C6NFkNk) <hiiamboris (NOT THIS ONE)>:
```
lo: copy [] loop 10 [append lo compose [at (random 200x200) box loose 100x100 (random 200.200.100) on-over [do make-top face]]]
make-top: func [
  face [object!]
   /local
   parent z-index
][
    parent: face/parent
    z-index: find parent/pane face
    if last? z-index [exit]
    move z-index tail parent/pane
]
view/no-wait lo
```

[17:32:55](#l0pKl87XaHG6GjAdKYYZUlUAeskFpjdmb_ErNfPOSEI) <greggirwin (Gregg Irwin)>:
I never got a crash with @dsunanda's code, but did get a couple flickers. With @hiiamboris' code it's rock solid here.

[18:03:25](#7sEXSgAeLh-sgZ0agiOIYOPs6HIjozfzHgS4CVNAWSQ) <dsunanda (dsunanda)>:
I never got a crash with @dsunanda's code, but did get a couple flickers. With @hiiamboris' code it's rock solid here.

[18:04:31](#T5SdlmPw1Rs7QxRa_PKKUOD2ZA9r-FKivvAZtcDfSFo) <hiiamboris (NOT THIS ONE)>:
Crashes for me. I'll try to isolate the crash later.

[18:06:18](#2yYbCodmUpQAiiE7cyy0dsEPWK_z3LEziYzBAOg4vp4) <dsunanda (dsunanda)>:
@hiiamboris  @greggirwin  Thanks! That version looks as solid as my second one - but the shimmer is still there.
It seems to only happen when the 9th Z-index  box is moved -- see this instrumened version:
```
lo: copy [title "hiiamboris + n count"] loop 10 [append lo compose [at (random 200x200) box loose 100x100 (random 200.200.100) on-over [do make-top face]]]
make-top: func [
  face [object!]
   /local
   parent z-index n
][
    n: []
	append n 1
    parent: face/parent
    z-index: find parent/pane face
	print [length? n index? z-index]  ;; print Nth invocation + z-index of box being topped
    if last? z-index [exit]
    move z-index tail parent/pane
]
unview/all view/no-wait lo
 ```

[18:15:07](#I6EycBpwqVIbi3RoQMSyWqQGazPBSv5_3i_rm5IDqcE) <hiiamboris (NOT THIS ONE)>:
funny that it crashes in different places completely

[18:20:00](#1LGT1ptUoTt4vj4YrOMgh5UXF4OKHxqtgKcGBN0nrns) <dsunanda (dsunanda)>:
Fun problem, no? I've been head scratching for the past 24 hours :)

[19:00:44](#jRvymtLEyf_lIiQcsVJ3sj4U_-VNDasYAfk-H_qezH4) <dsunanda (dsunanda)>:
Better version of the instrumented code - it adds text to show what the z-index of the boxes are. Overlap box 9 and 10 a few times to get the shimmer:
```
lo: copy [title "hiiamboris + n count"] loop 10 [append lo compose [at (random 200x200) box loose 100x100 (random 200.200.100) on-over [do make-top face]]]
make-top: func [
  face [object!]
   /local
   parent z-index n rec
][
    n: []
	append n 1
    parent: face/parent
    z-index: find parent/pane face
	print [length? n index? z-index]  ;; print Nth invocation + z-index of box being topped
    if last? z-index [exit]
    move z-index tail parent/pane
	rec: parent/pane
	forall rec [rec/1/text: form index? rec]   ;; label boxes with their z-index value
]
unview/all view/no-wait lo
```

[19:01:57](#DU4g9BwSHUTmv4NikihWEwhnCGbjPsUE2ZzLy1zOqPM) <dsunanda (dsunanda)>:
It does not help putting a dummy box (with no ON-OVER) in the 11th place, and having
```
move z-index back back tail parent/pane
```

[19:50:12](#BPm0cW8EsvhZcP8HrrGGcOteX-p4xVV9YgXrh6sfRpE) <hiiamboris (NOT THIS ONE)>:
this code shows nothing

[19:50:42](#Aa0xkJTzccURS11Jd9YwQWk-koVT5IKWwFzHrlTBLxA) <hiiamboris (NOT THIS ONE)>:
I see, you've nicked the '2' in '200'

[20:01:12](#dCn2pECQ_GTfbgjvpPlMjapUnoCKax_cp-4Eue85teE) <dsunanda (dsunanda)>:
 @hiiamboris  -- odd somehow  I clipped the 2 in pasting to Gitter. The source is find. No idea how that happened.
Screen shot of above code shimmering - Boxes with z-indexes 9 and 10 are repeatedly triggering the ON-OVER:
https://i.imgur.com/Zl7za5T.png

[20:03:41](#yzCve4_V5Oax00MIVUmmBXvz1dm1d786EBqo7oY72yU) <hiiamboris (NOT THIS ONE)>:
yeah I know

[20:03:47](#WJVmswNceaXJ1zR0SoI0hWgksIcUFChQBuavQ-YG7xo) <hiiamboris (NOT THIS ONE)>:
it's a problem with your design

[20:04:20](#km8OOwvBTpiYL5RZJz6lZQ7dxAXyrVLw_WbzAAxN0fk) <hiiamboris (NOT THIS ONE)>:
and a simple solution would be to check (in screen coordinates) that mouse was moved by at least 2 px

[20:04:34](#DD0Mf4bWzyg3pXaplD5k8oPwOoQ-2GtAvpizDZMKwdA) <hiiamboris (NOT THIS ONE)>:
* and a simple solution would be to check (in screen coordinates) that mouse was moved by at least 2 px after the last event fired

[20:05:36](#1DaNWGvZXc9XNUyMAJG8S5uU_IDQeCr2t7phTBjnQgc) <greggirwin (Gregg Irwin)>:
Thanks for the details @dsunanda.

[20:08:28](#ejE1GNXOBkvdRcGhn0f1nHeSWCdDkQqgDFO8uFHmoHQ) <dsunanda (dsunanda)>:
@hiiamboris I am happy to try any sort of work around - but right now, it seems that Vid is triggering an OVER event for a box which is not on top, and so is a spurious event. Looks to me like an edge case issue in Vid somewhere.

[20:09:44](#3lMSl4Nc89Vp6XHe69CmXvXonWkxtzyqpQVyt9Iqbds) <hiiamboris (NOT THIS ONE)>:
over should be triggered when mouse *leaves* the face, so it's ok

[20:10:04](#N32OjpZaYuFSQe9F-nInhnpqYDKlnosPhEUXxlAKVvE) <hiiamboris (NOT THIS ONE)>:
you can use `face-to-screen` from here https://gitlab.com/hiiamboris/red-mezz-warehouse/-/blob/master/relativity.red 

[20:12:55](#2RugHk8HWzipTYtRPqCT1N1OuB3boydqDDnVUA5XSuc) <dsunanda (dsunanda)>:
> over should be triggered when mouse *leaves* the face, so it's ok
That makes sense now - thanks! I originally had the code ON-DRAG - because I really only need to pop the box to the top when it moves. But that had another problem...I'll save that for another time.

[20:15:07](#iCd1rUWqHDK5kjQWUzpmfUtNo5EnjmY1p9udL4B-Uig) <dsunanda (dsunanda)>:
Thanks both for the help!

## 17-Jan-2021

[1:41:10](#-UzKRuWcYkFXFoU-8WFI8ZZVI67QlUqO1nYvxTTif2I) <GiuseppeChillemi (GiuseppeChillemi)>:
I don't expect double quotes to be here.

```
probe to-file location: "C:\Users\Porty\AppData\Local\Google\Chrome\User Data\Profile 1\bookmarks" halt
```
Output
```
%"C:\Users\xxx\AppData\Local\Google\Chrome\User Data\Profile 1\bookmarks"
```


[1:41:32](#uvcxkQf_YbgqqTjRn3oeMkZNmPpgjxp7y1KEY5w2_kQ) <GiuseppeChillemi (GiuseppeChillemi)>:
* I don't expect double quotes to be here.

```
probe to-file location: "C:\Users\Porty\AppData\Local\Google\Chrome\User Data\Profile 1\bookmarks" 
```
Output
```
%"C:\Users\xxx\AppData\Local\Google\Chrome\User Data\Profile 1\bookmarks"
```


[1:43:30](#b4iSxZnFV0Wo1zNyl5jA7LaCyYJ8ZzIjaRxv7_A7bJg) <GiuseppeChillemi (GiuseppeChillemi)>:
* I don't expect double quotes to be here.

```
probe to-file location: "C:\Users\xxx\AppData\Local\Google\Chrome\User Data\Profile 1\bookmarks" 
```
Output
```
%"C:\Users\xxx\AppData\Local\Google\Chrome\User Data\Profile 1\bookmarks"
```


[1:46:01](#SxS4y5vmEpVYgdzqr4sEu11cMm93HkBWnbuf7cDH2CI) <dsunanda (dsunanda)>:
@GiuseppeChillemi Strange....I see the spaces escaped as %20 (using Red under windows) using your code.
Do you get what is expected with TO-RED-FILE rather than TO-FILE ?

[1:49:59](#lUM6SQp4ZDZ1lWZVPDipenxEkaL3LoM5Jr3k-u4CoSw) <GiuseppeChillemi (GiuseppeChillemi)>:
We are near:, `C:\` has been properly converted

```
%"/C/Users/Porty/AppData/Local/Google/Chrome/User Data/Profile 1/bookmarks"
```

[1:50:07](#vE-drLbwwvLjfUtxlFyj-DAsyrjjoHpg_uL_CClQMEM) <GiuseppeChillemi (GiuseppeChillemi)>:
* We are near:, `C:\` has been properly converted

```
%"/C/Users/xxx/AppData/Local/Google/Chrome/User Data/Profile 1/bookmarks"
```

[1:50:46](#FWjU5eBP1T523O4eazOQVY1qWX7FVBunVPWBtsFKzdo) <GiuseppeChillemi (GiuseppeChillemi)>:
* We are near:, with `to-red-file `C:\` has been properly converted

```
%"/C/Users/xxx/AppData/Local/Google/Chrome/User Data/Profile 1/bookmarks"
```

[1:52:41](#eykri5-QztHUeEV4PGCQBsC7mJQJ_CJiD0TnxidD74w) <GiuseppeChillemi (GiuseppeChillemi)>:
The file is loaded but I didn't expect the double quotes.

[1:54:49](#GRkiUKq8DhqdJ11gtOGNmZCOkaI1Me8BFVz46sa91FA) <GiuseppeChillemi (GiuseppeChillemi)>:
The visual aspect is different from the content, the result of `first` is 
```
#"/"
```

[1:57:38](#L3UrkMSKmLILcbrfzKCnB7qcB5Kb2tX0tMpBsp9prHQ) <GiuseppeChillemi (GiuseppeChillemi)>:
* The file has been loaded but I don't expect the double quotes.

[2:45:59](#lXVWYLBfWxW9mf9RXO4NlPO-GsIp58ge0mU_jxuSLnU) <greggirwin (Gregg Irwin)>:
@GiuseppeChillemi why don't you expect the quotes?

@dsunanda we changed it not long ago, so files with spaces no longer use percent escaping. That format is OK for URLs, where it originated, but is not good for local file system use and readability.

[2:53:26](#wVhduOv14pogE3E2-ZdWmLILcUFCJvmt1-9FguaI_zc) <gltewalt (Greg T)>:
It's a broken path without the quotes

[3:05:22](#T0TXxT2E3DUiA0TIaKdQdJS2l8VEO-5_KdyRRSb7TYQ) <GiuseppeChillemi (GiuseppeChillemi)>:
@greggirwin because we had percent escaping up to some time ago. But I think it's more correct in this way on a file system POV. But if you look from the FS side, the first character is a double quote, from red side it is the slash. How should I think? FS or Red? Well, I understand it is the best compromise out there and nothing more can be done. 

[3:08:59](#phTqUzDj47e51kuFPBKtRPFmyODGphDKbKHAe5RzdIY) <GiuseppeChillemi (GiuseppeChillemi)>:
Now remains to understand why the difference between `to-file` and `to-red-file.

[3:18:10](#oeqrTA9Y4VBQYi3LeHkNbfD_gOMs_ELwFk-hHSjIyGI) <greggirwin (Gregg Irwin)>:
You can just think of them as a string with a sigil to denote its specific string type.

[13:01:12](#RHNV_Z1MXWwR910ZtyjG5Fpi-FqwNu0yBmCYuiVedcQ) <hiiamboris (NOT THIS ONE)>:
`to-file` is a shortcut to `to file!`

[13:41:52](#oHqK5fLh9fFCEPtzPTYE8aXtEj3OqS4X_aMel-vQL-g) <dsunanda (dsunanda)>:
@greggirwin Thanks - I'm working on a month-old nightly. Should try to keep up more :)

[17:39:17](#mffoE1Icy4h2l0S0SOh0ZDLoSNVNiHxFHEfmFPrl_Us) <greggirwin (Gregg Irwin)>:
`to-local-file`  is the opposite of `to-red-file`.

[17:39:44](#MK6U4qoCSH8NPabkBHZP832Kda1nRVyb6RzV0vwgDKk) <greggirwin (Gregg Irwin)>:
`to file!` has only to do with the datatype, not the path format.

[17:39:55](#y7YMlwPyiZeWwtpZFGvvcymmAW6xvyfYQNvlFLX7tlE) <greggirwin (Gregg Irwin)>:
* `to file!` has only to do with the datatype, not the local file/path format.

## 18-Jan-2021

[21:48:08](#Re3Vvh_TD-pa4HcYyBKsIzgy87K2HZc3r-H8QnJxfNQ) <zwortex (zwortex)>:
Similar to #4744 and related #4796, entering **a: #{ name: "john" family: "doe" }** in the console enters in an infinite loop as if waiting for a closing }. Even when provided, it is ignored. Need (escape). Shall it be mentioned in related issues or is it taken care of ?

[21:48:51](#heMrboHTgAxFJhEu_1biQCriSBtq_lYPHS4yJdSdEEE) <zwortex (zwortex)>:
* Similar to #4744 and related #4796, entering by mistake **a: #{ name: "john" family: "doe" }** instead of a: #( ... ) in the console enters in an infinite loop as if waiting for a closing }. Even when provided, it is ignored. Need (escape). Shall it be mentioned in related issues or is it taken care of ?

[21:52:47](#5eBMryLV4MvWRttgaZ2eixOowOkljhGM58fId4l8j5w) <hiiamboris (NOT THIS ONE)>:
it's the primary point of #4744

[21:55:19](#0TfWPu89sNp-LbSRAu_XDGMAmVdVyC0-Q2ZiJg-eQGQ) <zwortex (zwortex)>:
There is no escape char in this particular sequence, is there ?

[21:55:34](#t-jYvSBLsg6v9oEuXTyozu8DypNfNVUfSESGYgvz6Yo) <hiiamboris (NOT THIS ONE)>:
okay true, mention it there

[21:56:52](#O0ROckctTj0ZCmpQS9EDvusXoUFFoyB8VMaUd0zWklo) <hiiamboris (NOT THIS ONE)>:
could be other chars that binary does not support that cause the same issue

[21:59:19](#s4l_w2n13tnPEw39ofZr7yimhvxUGKXHMLW6zMpPig8) <hiiamboris (NOT THIS ONE)>:
yep, lots of actually

[21:59:59](#96FFF9RGMm5tA2K3qbvcfaEqoGv47M3m1IyKZ_LS6d8) <hiiamboris (NOT THIS ONE)>:
`%`, `^`, `"`, `:`, `$` and I'm lazy to continue

## 20-Jan-2021

[13:23:09](#5AVgE4jZz1XDXJ6IhzvkTCZFwAEgWkf_mfbXMamTQqw) <rebolek (Boleslav BÅ™ezovskÃ½)>:
Sometimes when I crash Red (which happens few times a day), it takes done other Red processes too. Not all, but some crash. Has anyone experienced it?

[13:38:37](#wNsqfui28PJb82H-xHNHLFMVLvCCpDeOuYJwRknIPzk) <toomasv>:
Not me.

[13:54:07](#8LjY7VoPSrdBBfzgXrnRKuRw3sor_dsLb-xGC8xce_U) <ne1uno (ne1uno)>:
is static compile of red crush etc dll/so possible? I remember python programs would often crash other python processes.

[18:53:55](#JSWpzKhjZe2r287e2tT9XebU97aNOGnJBSSZpgimdQk) <greggirwin (Gregg Irwin)>:
@rebolek are you using release builds of your scripts, running interpreted, or using a shared runtime? If the processes are separate (release builds), there must be some other shared resource affecting all instances. e.g. if you're using newer I/O, maybe there's something deep in there related to the networking stack?

[18:55:37](#949VG7Yd4Fxtt3W71hKHNYnzXIV3Rliuj9jrwtH3bck) <greggirwin (Gregg Irwin)>:
I guess "crash Red" is unclear to me, unless you're running parallel build processes which could conflict over a single shared resource (e.g. disk file), if that wasn't planned for in the compiler.

[18:59:33](#qkIQ8Uw-QXstooYA-ibaIWl1phX7ZOA3iu-tvFGxCxc) <pekr (Petr Krenzelok) (@pekr-556ae86715522ed4b3e131b2:gitter.im)>:
Or those otherwise separated Red apps might react to some other aspect of OS level changes. E.g. with R2, all apps would crash with the screen resolution change, when those apps were running. 

## 21-Jan-2021

[7:39:10](#KmHAyAWgGVz24_ln_bKta25McrmkjFus0ymOchsqfrc) <rebolek (Boleslav BÅ™ezovskÃ½)>:
@greggirwin I am running multiple instances of Red console, recent build from main branch. It's downloading stuff and converting JSONs to maps. Lots of it. And sometimes it crashes, usually with `access violation` but I've seen other messages too. Unfortumately the crash is hard to reproduce as it takes a lot of time before it happens.

And when one console crashes, it sometimes takes done other consoles (same `access violation` error) that are also downloading. I believe that consoles not downloading are running fine.

[8:32:35](#K5kPYCB3_81ZWOzRsF0uKHdkF_HgSlZaFsr2lQTYqrQ) <hiiamboris (NOT THIS ONE)>:
@giesse just yesterday encountered a random crash, likely in send-request (even more likely in linux's version of write/info), so I would paint it as a main candidate

[8:56:12](#Zky40NChH67rqIkr8AJNhGqbUNdWEwnkfdhX5tXX6Yg) <rebolek (Boleslav BÅ™ezovskÃ½)>:
Let's hope it's not present in the new IO :)

[8:56:32](#2UaCsrYV_jjLlwotEUsm3iBEXZHadO8SLxeRLz18XNo) <rebolek (Boleslav BÅ™ezovskÃ½)>:
Once I have `send-request` rewritten for new IO I can test it.

[12:06:41](#M6OqUBZ3NcKa49A2Lh-QIyFAxIIN4Z94sWItGAmXUVY) <meijeru (Rudolf Meijer)>:
I am curious: what is this about "new IO"? I don't see an active branch dealing with this. Perhaps @qtxie is working on it? What is the status?

[12:48:54](#EY2YFnIbX8xwpciyuU6aorLEIjeisLSkCQgYoe5wY0Q) <pekr (Petr Krenzelok) (@pekr-556ae86715522ed4b3e131b2:gitter.im)>:
New IO = qtxie's IO2 brach here? https://github.com/qtxie/red/commits/IO2

[13:01:05](#iWaky83UuVfle2dv3mdecMJPAWxL3mBQ9lPmXzP8bKY) <pekr (Petr Krenzelok) (@pekr-556ae86715522ed4b3e131b2:gitter.im)>:
My understanding is, that the basics might work, there even seems to be a TCP client / server example. @hiiamboris did some certificates related stuff in that regards ...

[13:14:42](#l6AmllmR9f9PFPFjoe5VZo0uqStCN8RJs9NcSr83YeA) <hiiamboris (NOT THIS ONE)>:
confusing me with someone (;

[13:18:53](#vtlMHesHQNa9miz4BtfSgLjBrMe4qmgY4n7xlhoAX5w) <pekr (Petr Krenzelok) (@pekr-556ae86715522ed4b3e131b2:gitter.im)>:
well, maybe bitbegin?

[13:20:15](#cL4YEYJ2le2Oh8ekhuY8nn_k92H9uaxwjWievBIGH1c) <pekr (Petr Krenzelok) (@pekr-556ae86715522ed4b3e131b2:gitter.im)>:
https://github.com/bitbegin/red/commits/IO2-y

[18:45:17](#oQvsKOYQj7N4hHKqzNky3mjCAfISsu1WjonahW-QxM8) <greggirwin (Gregg Irwin)>:
@rebolek thanks for the info.

@bitbegin was working on certs, yes.

## 22-Jan-2021

[15:46:52](#7ObQJvGeNycmGgwKov-39Vbr_HW78OIJT2yEkAqvY_g) <dsunanda (dsunanda)>:
Why am I no longer seeing a console error when bugs occur in VID action facets? Looks like a recent change. This code does not trigger an error:
```
unset 'do-it unview/all view [box "click" on-up [do-it]]
```

[15:47:27](#fONEhu0qZvfkZUR-6ATJsBI_AzFw1_dbkV69DlPuMLc) <dsunanda (dsunanda)>:
That's Windows, 22-Jan build

[15:47:41](#t2fmoQspbVJojnO6QR16LW9NxNYkJ2_hPYxC7X2t2uw) <hiiamboris (NOT THIS ONE)>:
https://github.com/red/red/issues/4784

[15:58:31](#NEleoEE72HDxEWgViKoYJZ0tdupdNrYYepRGlG0HNOA) <dsunanda (dsunanda)>:
@hiiamboris Thanks - that was quick! It kinda makes any attempt to code pointless as bugs are invisible :)

[15:59:21](#6KfuJj62lZLlLyQDvPpDp2r2z3fcv3c26qj9dODvVUE) <hiiamboris (NOT THIS ONE)>:
use D2D branch í ½í¸‰

[16:02:08](#EiMWWyHOB8Kf54YIGlAnJ8fLDRfsNjkA74c5g7RGTx4) <dsunanda (dsunanda)>:
I've just gone back a month or so :) 

[16:37:05](#oR49JHAP0VQotQ3brWLUw9L-wDxNuGFCcvXERFCU7dg) <pekr (Petr Krenzelok) (@pekr-556ae86715522ed4b3e131b2:gitter.im)>:
D2D is already a PR, but so far not accepted ....

[16:48:34](#bgLMXcIRGzpiwHYWgpHjJiyUfKWJQh2Q8TEe2BJ_fok) <hiiamboris (NOT THIS ONE)>:
need more onion rings...

[18:41:38](#vr4zgrEeQGOUkLh6BZpRJ9_owg_haa-GKJ_f8fKR1HY) <rebolek (Boleslav BÅ™ezovskÃ½)>:
@pekr not only basics, but there is also pretty good TCP/TLS implementation on top of which other protocols can be built.

[19:05:01](#otOmESRdHZDNdz-VUkaCLQ81YUf92WyvujPTNXac1lA) <pekr (Petr Krenzelok) (@pekr-556ae86715522ed4b3e131b2:gitter.im)>:
So why don't we merge into Master then? We are alpha anyway, so if almost complete, let's live the latest :-)

[19:14:15](#1eFpqulfkQqVyqeLLmxFUUaKGYJWeRbE0vCszmJnfAI) <greggirwin (Gregg Irwin)>:
For I/O there are still open design questions. Yes, we're alpha, but our Alpha is not like most others. :^)

## 23-Jan-2021

[9:53:05](#aw02KUddA9G2VRkyPE9vHY8CxBEhJYD9tEAuURSp_zw) <GiuseppeChillemi (GiuseppeChillemi)>:
"King, the crowd is hungry and asking for a release!"

[17:45:29](#3FY2MZjtp6_sy50wXhVTXNNr52IiUDFaYqDJvxkeASY) <greggirwin (Gregg Irwin)>:
Let them eat cake.

[21:09:42](#arGKFGn2cjUSylkmaGksr6HjwiwpC1i2p9aw4rcWriI) <hiiamboris (NOT THIS ONE)>:
Is this by design? Inconsistent with R2/R3:
```
>> a: object [s: next "abc"]
>> b: copy a
>> c: make a []
>> head a/s
== "abc"
>> head b/s
== "abc"
>> head c/s
== "bc"
>> c: make a [probe head s]
"bc"         ;-- truncated before user code evaluates
== make object! [
    s: "bc"
]
```

[23:09:51](#8LcSBPMyevDSSO0tl9-PAWDVZJaDV5JDIiujXOu0eAY) <hiiamboris (NOT THIS ONE)>:
reported

[23:10:46](#eJaZal5cUIYI0pnQhguiisauDo1Xv60y3xneaUelySg) <greggirwin (Gregg Irwin)>:
Thanks. I was thinking about it after seeing your first message, and trying to come up with a reason it would be by design.

## 24-Jan-2021

[4:20:49](#7gv5gqiN1kkoRE0UAN3at-HyUQUQU1mMg4qJu5YPh3k) <raxod502-58051fc3d73408ce4f2ee6d0>:
@greggirwin Hey, I figured out why I was getting a weird TLS error from https://static.red-lang.org/. Turns out my ISP was to blame. They considered the website to be "untrustworthy" for some reason, and were inserting an interstitial page which was breaking the TLS. I didn't realize, because the TLS error was so bad that no browser would let me see the page. I had to explicitly visit the HTTP version (so it would load at all) and click the button telling them I knew what I was doing, and after that (at least for a few days before the page is re-inserted by my ISP) both HTTP and HTTPS work fine. I guess there's nothing you all can do about that, since I doubt Comcast will be of any help in explaining things.

[9:17:06](#uvLZCZ5-cxnPhMrUW2jFf-aL0x_9hTQrHuVqZGhsxX0) <hiiamboris (NOT THIS ONE)>:
Where I live, rebol.com and rebol.org were completely banned for like two years í ½í¸‰ These Evil Redbol sites!

[18:58:57](#lpDKN6_FVlSlh2yipIyjZR_qJReAaDkMj5EWhN_UD4c) <greggirwin (Gregg Irwin)>:
@x8x is the one who has all the power and knowledge in that area. Thanks for the report @raxod502.

[22:12:12](#LHSeDg4xqJ4ldutu4ElEOkAkUguVBkvciTSlkb0FhT8) <FLuX>:
@raxod502 All good with our setup, try using a VPN to bypass your ugly ISP. I can only guess they may have blacklisted that subdomain of ours as it serves our binaries that get wrongly flagged by AntiVirus tools.

[23:33:36](#Ww5CcmTxds7G5zOndE3Cj0U3q3JhbR0MYZHVGMes_9g) <GiuseppeChillemi (GiuseppeChillemi)>:
What is wrong here?

```
>> help any-type!
ANY-TYPE! is a typeset! value: [datatype! unset! none! logic! block! paren! string! file! url! char! integer! float! word! s

```


[23:34:06](#_zalRaXIHHy1WLuLaAsDfUqxTacueHm2aNIN4AGer0w) <GiuseppeChillemi (GiuseppeChillemi)>:
What is the last `s`? And why the block is not closed?

## 25-Jan-2021

[0:05:52](#tOcbJ0IFlWFfP7jgwMCBOGb1ARKnlfsqdgsfF7TqEU8) <greggirwin (Gregg Irwin)>:
Looks like https://github.com/red/red/pull/4683 is the cause. So now we get less than we might want, rather than running amok.

[8:28:35](#LDLIU_X84BZMI7heeILGbFurrU8HX6u7ObdsWJJtW7A) <rebolek (Boleslav BÅ™ezovskÃ½)>:
@hiiamboris OTOH it's probably not directly related to the networking stack, because I can get the access violation even with `read-thru`

[15:57:14](#92iBasvS_xNIohUiZgU49B8aesJXRQDT78JunVxhql8) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Some time ago there were changes related to `file!` datatype... like this one:
```red
>> %aaa\
== %"aaa\"
>> dir? %aaa\
== false
```
I wonder if there is any document or available discussion log explaining why it was changed (in backward incompatible way).

[16:09:17](#6FZGK3psdo_Sj-rQkpRdoQFRKe89_xUoJicInCWxAnI) <greggirwin (Gregg Irwin)>:
There was a lot of chat about it, but I'd have to dig it up. The issue is that URLs have a spec for including spaces, percent encoding, but file systems do not. A *lot* of filenames have spaces in them. Having `%20` in them is very, very human unfriendly. 

```
>> dir? %aaa\
== true
```

[16:11:23](#-YNDwuTdBL4iu3cLmhlxDmV87kexx-pNPqIZbys2xYA) <greggirwin (Gregg Irwin)>:
* There was a lot of chat about it, but I'd have to dig it up. The issue is that URLs have a spec for including spaces and other special chars, percent encoding, but file systems do not. A *lot* of filenames have spaces in them. Having `%20` in them is very, very human unfriendly. 

```
>> dir? %aaa\
== true
```

[16:14:06](#VpTzz_SIDEkVrpwPJO0eDSernwocZp-0O2oYQ20dfKw) <hiiamboris (NOT THIS ONE)>:
Did you redefine `dir?`?

[16:14:33](#gFwDbXSf5EwDK52MlspgDOADWNokMfEOyssXelBqOqY) <greggirwin (Gregg Irwin)>:
Hmmm, maybe. I load a %user.red here.

[16:14:54](#K0aLbwKADWYxmn3F_dttdZVwL__GwOfTgtQHrKmN6AM) <greggirwin (Gregg Irwin)>:
Indeed. Sorry about that.

[16:17:42](#9csUqGC7GkeCgFSX0pLPBPl8sEsmIriWrS4B5NMFriU) <greggirwin (Gregg Irwin)>:
For the backslash change, I wonder if it's a fast lexer regression.

[16:24:43](#BPyGViO0MdvX-1jFgRioq65PU7SqloDw0lxQQqq2wWc) <greggirwin (Gregg Irwin)>:
Looks like it changed 12-Apr-2020, based on old console tests.

[16:25:58](#sIDTbGy6Pyjy4g9a1Y3BEykgcPow4pMeR_LqRtHTfk8) <greggirwin (Gregg Irwin)>:
* Looks like it changed (for me) 12-Apr-2020, based on old console tests.

[16:28:43](#WvdNUXfaVU2jZ7W8tn_9_Wih4urK7FRCSE6NqLKsps8) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Also:
```red
>> make-dir %new-dir ;<---- path accepted without a slash (OK)
== %new-dir/
>> exists? %new-dir  ;<---- path accepted without a slash (OK)
== true
>> delete %new-dir
== false ;<----------- not deleted! (BUG)
>> delete %new-dir/
== true
```

[16:29:34](#-evwEE4qwki9wbTNWLWVCMGY4pp5R7Ohr9B6We32k3g) <hiiamboris (NOT THIS ONE)>:
> Looks like it changed (for me) 12-Apr-2020, based on old console tests.

I prefer the new version

[16:29:39](#_FgHeZ_ZcJGi6kX2oVylfylXQUDJwKiNanKiTZMEbuU) <greggirwin (Gregg Irwin)>:
But the real question is which is better? If you expect to have backslashes in a filename, you should use `to-red-file`.

[16:31:09](#bvyEdD5aCkDcUgEQzhUQfMfDXIc0R2j6fPmzR_11rv8) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
That is also my opinion... but maybe there are some reasons which I don't see.. that is why I'm asking.. I don't think the slashes are related to URLs.

[16:33:42](#muj6G6eLIU4bI329C19aHUAMqksjvYUuwLh-ZA0jA70) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
It must be related to this feature (to me not introduced feature):
```red
>> read %"r:\" ;<---- using file path in system format!
== [%"System Volume Information/" %Temp/ %VS_Fallback/ %x.png %xx/]
```

[16:34:58](#kUm3-GG1yzqgsnqm4peArIeb_YBia2M6yUMeCcRDJOE) <greggirwin (Gregg Irwin)>:
The delete issue may be OS specific. On Windows you can't have a dir and a file with the same name. But on other systems, case sensitive differences may allow it.

[16:37:35](#OlcenNVpAtFM4xkVOIjxGOLI1eIggEwxI4l9KTIfJTI) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
```red
>> dir? %"r:\Temp\"
== false ;<---- not recognized as a DIR...
;... but accepted by READ
>> read %"r:\Temp\"
== [%0600fd54-a93d-491e-8817-cbb2795e263e.tmp %0ada0c50
```

[16:39:23](#H-VnFnWJO7vHUu7kRyHB2-4bRPEamCMd2ats0-PyW3E) <greggirwin (Gregg Irwin)>:
Simple I/O converts to local file format when reading. 

[16:39:53](#gfEiuoR9GXrVY0sdFyZQXmgWs-Cc3i6Nyuy4c30EFdM) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
So is it a bug or a feature?

[16:40:09](#UI7YefjJ9QeJMN4XcDztUlGMjyZDztTvF3gIYWqYv5Y) <greggirwin (Gregg Irwin)>:
`dir?` checks for backslash at tail (which my local version obviously extends to slash as well ;^).

[16:40:40](#FkZ0E0BTvifR7IzGZ9JYHYIsOrtJYWcu0IJwrVtsHRc) <greggirwin (Gregg Irwin)>:
It's a good question. :^)

[16:40:55](#4487DSh6zrQ4Qb-B_0KDaGV6j0uwbGEAk5P23JTuDWo) <hiiamboris (NOT THIS ONE)>:
`/` is not a *back*slash í ½í¸‰

[16:41:25](#hEnuPDpKmAuExnnOuhsIHHsy-sT-h4OgkRNvNWN1gF4) <greggirwin (Gregg Irwin)>:
* `dir?` checks for slash at tail (which my local version obviously extends to backslash as well ;^).

[16:42:19](#ZAY3rT7YDSMGd0L3x-XGQfjK7imwm16QilLMRPrOdV0) <greggirwin (Gregg Irwin)>:
...whatever do you mean? (thankful for editability to look less stupid)

[16:42:25](#Jv3rAyWIlRG15Y8QXpaJp9UclH1qyNENFnHMEsdKSuI) <hiiamboris (NOT THIS ONE)>:
í ½í¸ƒ

[16:43:03](#zA3U5Mj5TFh2SixsB2BSTxxu24Ol42C3uXwHkQ3mn3o) <hiiamboris (NOT THIS ONE)>:
I don't know why `dir?` should not support `\` as well.

[16:44:14](#TPKhwEv7Lm8HlQxkGha6mJ8G_qe_6Ny2suRW1IYZ-zs) <hiiamboris (NOT THIS ONE)>:
Since it accepts a `file!` it should work with files of any format.

[16:44:25](#wXI74jEp-UzPTQmwOmohTVaVUKXNToO0Orrxz2YE-K8) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
I think that the reason was, that it was expecting that `file!` is normalized like in Rebol:
```rebol
>> %path\
== %path/
```

[16:44:44](#qvM9JbggZm_TMXL3d0OSurhadv1GITL_O33S4AtSXJo) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* I think that the reason is, that it's expecting that `file!` is normalized like in Rebol:
```rebol
>> %path\
== %path/
```

[16:45:12](#mVwd_dvjCO5raYROY5SpkUSU-FA6fvjOqa8_McIv-P0) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
And that in `url!` the _backslash_ is not for dirs.

[16:45:53](#TQvuXBOK48o0426n-bY-0GwZZvLbk67kFK3Ou9pGt50) <hiiamboris (NOT THIS ONE)>:
Never seen a backslash in an url..

[16:46:24](#TCIF8k0MPbqUtaPEEY0q8vqKgNW1F1o6ggUr8vBF3W8) <greggirwin (Gregg Irwin)>:
This is the bug/feature question, and how mezzanines like `dir?` track with underlying I/O API use. e.g. in R2 it asked the OS if the thing was actually a dir, not just a string that looked like one.

[16:47:38](#Ou_XU_zr_ynywsWeVLEUMEAblzyQKoTGrsk1NtiE2CY) <greggirwin (Gregg Irwin)>:
If you don't tell Red it's a local file, should it *assume* so?

[16:48:51](#Dc8W3jpvWj7FGsu82wekT9LBDv9e3nBcS1LOXxSEtOw) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
The source of the issue is, if Red should normalize slashes or not. Now it does not:
```red
>> %aa/bb\cc
== %"aa/bb\cc"
```

[16:51:50](#x_U6BMCtaRQOJnLvGOkwcLP6gHWN14IYtX0yq3x08_Q) <hiiamboris (NOT THIS ONE)>:
No it should not. Normalization only when loading a file value seems to me like strange special case.

[16:53:53](#YAJ5njfW9qWhvm5V5dkZJjzgRYIvVITgX2EIvMFAvBY) <hiiamboris (NOT THIS ONE)>:
R2:
```
>> append f: %a "\"
== %a\
>> load mold/all f
== %a/
```
initial value lost in translation...

[16:58:10](#rVTD8NSxANaWRQShAOM7YHJjCC1t9bYaezY4nvszlMI) <hiiamboris (NOT THIS ONE)>:
On `dir?` - if we make it accept `\`, we will want the same for `split-path`, `clean-path` and others, increasing overall complexity and pushing the problem around

[17:06:40](#uwdbOBT2LAxjO-qAatvRKGWug1-lQi8FSJV-9wovhLk) <gltewalt (The other Greg)>:
A type is not necessarily dependent on its lexical representation, at least right now.


[17:08:59](#sY37NC-epz_EvoKyvSqeTvV1Aw8T6EyV-ZXHcRb1-KI) <greggirwin (Gregg Irwin)>:
I agree with @hiiamboris. It helps for Red to be more strict about file forms, so translations to OS forms are more explicit and files are truly passive, not lossily adapted. But we know that *at some point* a file has to be read from the OS, and necessarily use its conventions. So then the question is pass-thru behavior and overall consistency.

[17:10:35](#NIVPh5W0ypGxClts2g5UNiXDSW_GjBLhx41CSVeWToc) <greggirwin (Gregg Irwin)>:
@gltewalt:matrix.org forms define types when loaded, but rules can be broken. 

[17:12:36](#WOxGmvTJtJOB4lklg7zT6Tld8AQnWue9ntjz7Sn0FR0) <gltewalt (The other Greg)>:
Yes, with `to`

[17:45:52](#E6f29IdgLdCbwO5P_7WXCiOFR2fIICkHOkxU1Dvpxuw) <greggirwin (Gregg Irwin)>:
[:point_up:](https://gitter.im/red/bugs?at=600e0b60cf8b8277345079a6) 

```
>> ? any-type!
ANY-TYPE! is a typeset! value: [datatype! unset! none! logic! block! paren! string! file! url! char! integer! float! word! set-word! lit-word! get-wor

>> help-string any-type!
== {ANY-TYPE! is a typeset! value: [datatype! unset! none! logic! block! paren! string! file! url! char! integer! float! wo...
>> print help-string any-type!
ANY-TYPE! is a typeset! value: [datatype! unset! none! logic! block! paren! string! file! url! char! integer! float! word! set-word! lit-word! get-wor
```

So this may not be `help`'s fault. @hiiamboris @qtxie worked on a console issue recently, which I thought was resolved, but the above is from a fresh build here.

[17:46:05](#OJG7wIuUDJzJ1yEKt0JE-NvFda3d5-p471t6LeNHxEw) <greggirwin (Gregg Irwin)>:
* [per :point_up:](https://gitter.im/red/bugs?at=600e0b60cf8b8277345079a6) 

```
>> ? any-type!
ANY-TYPE! is a typeset! value: [datatype! unset! none! logic! block! paren! string! file! url! char! integer! float! word! set-word! lit-word! get-wor

>> help-string any-type!
== {ANY-TYPE! is a typeset! value: [datatype! unset! none! logic! block! paren! string! file! url! char! integer! float! wo...
>> print help-string any-type!
ANY-TYPE! is a typeset! value: [datatype! unset! none! logic! block! paren! string! file! url! char! integer! float! word! set-word! lit-word! get-wor
```

So this may not be `help`'s fault. @hiiamboris @qtxie worked on a console issue recently, which I thought was resolved, but the above is from a fresh build here.

[17:46:20](#sIotMApnOR9QwdG1C8gU2JIwoSoHRsSkzCUhGX817Yw) <greggirwin (Gregg Irwin)>:
* [per](https://gitter.im/red/bugs?at=600e0b60cf8b8277345079a6) :point_up:

```
>> ? any-type!
ANY-TYPE! is a typeset! value: [datatype! unset! none! logic! block! paren! string! file! url! char! integer! float! word! set-word! lit-word! get-wor

>> help-string any-type!
== {ANY-TYPE! is a typeset! value: [datatype! unset! none! logic! block! paren! string! file! url! char! integer! float! wo...
>> print help-string any-type!
ANY-TYPE! is a typeset! value: [datatype! unset! none! logic! block! paren! string! file! url! char! integer! float! word! set-word! lit-word! get-wor
```

So this may not be `help`'s fault. @hiiamboris @qtxie worked on a console issue recently, which I thought was resolved, but the above is from a fresh build here.

[17:48:15](#GM7GZ0-9rAgV85h7SonpErMpL0RHPrEddlCh9m7O01I) <greggirwin (Gregg Irwin)>:
https://github.com/red/red/issues/4809 is what I'm thinking of.

[17:52:43](#G7ip5LhTvVTNRkw4opLn8ys7GHy5tDevWLq6pVua7as) <hiiamboris (NOT THIS ONE)>:
I also noticed the output is too small often, but didn't report it.

[17:55:03](#AK5T7jADU-Rmnu8tPb7UFbfQzOG-K5DqTV-ovXIvvPE) <hiiamboris (NOT THIS ONE)>:
```
>> probe help-string any-type!
{ANY-TYPE! is a typeset! value: [datatype! unset! none! logic! block! paren! string! file! url!^/}
```
this looks like help issue to me

[17:55:22](#yz1JdXo95l8WK0JPrHAAmzabKEX2q5XcQnpwqPBMdds) <hiiamboris (NOT THIS ONE)>:
* `>> probe help-string any-type!`
`{ANY-TYPE! is a typeset! value: [datatype! unset! none! logic! block! paren! string! file! url!^/}`

this looks like help issue to me

[17:57:37](#GrrmVSOxk5lVrW9TRL47YjLp3HX4ML9EuwZmRSrbm5o) <greggirwin (Gregg Irwin)>:
OK, I'll take a look.

[17:59:08](#xxL5gleHWQEqRG1Dpp3q0T0b0C6fqriErnXCe8VQ9P0) <gltewalt (The other Greg)>:
While you're taking a look, add in a help/buffer

[18:06:04](#egVJgRORB1M-AGfFjJZsXKDLb42xW7oKYIi4jMEIhDE) <greggirwin (Gregg Irwin)>:
What do you mean @gltewalt:matrix.org ?

The issue is letting the truncator act on typeset values, which will never be outrageously large.

[18:10:36](#d8smemGe1cKskCpmDAiBx8pOB5TMBKLQTSJSEXDs0m4) <greggirwin (Gregg Irwin)>:
PR submitted to fix `help`.

[18:18:51](#nR6oiMNx3bOh9WYt5oA5S700X9z2x3WSQHC3MCVVzw8) <gltewalt (The other Greg)>:
I mean give folks the equivalent of what/buffer for help

[18:20:27](#-dk-gjFpe0lKHFavkVM4lidPJjfBxuPEHqbI7ob27rE) <greggirwin (Gregg Irwin)>:
You mean like `help-string`?

[18:22:21](#aa-rTqo6PSt0M6epNYmz7kGOI05ULRos3-0Ox2Nw9mg) <gltewalt (The other Greg)>:
It isn't obvious that help-string is a thing folks can use. (At least last time I looked)

[18:26:34](#Nm6R3tNmI9jf3Gq_dG9kYNMSAgNQMRC1g1XM7ZVzBRs) <greggirwin (Gregg Irwin)>:
Both `what/buffer` and `help-string` are not really  meant for normal use. `Help` in general is console oriented, so the goal is to present information in the console. We did add the ability to get those formatted results for tools to leverage.

[18:32:05](#IYL_XS5H1TKBajvSlVAEO7dEtwveHoi4ETJClift1oI) <gltewalt (The other Greg)>:
Ok

## 26-Jan-2021

[9:25:14](#0kltUxoXqlgIZvFdygr81YDqgtCo_CqbxOQ1_rNVSpQ) <loziniak (Maciej ÅoziÅ„ski)>:
Hi! I've got a garbage collector crash:
```
root: 7669/106222, runs: 4, mem: 7618812
*** Runtime Error 1: access violation
*** in file: /mnt/share/prj/x3m/wallet2/allocator.reds
*** at line: 461
***
***   stack: red/update-series F45D5B1Ch 2867320 1103392
***   stack: red/cross-compact-frame F4760004h 084C4648h
***   stack: red/collect-frames 1
***   stack: red/collector/do-mark-sweep
***   stack: red/collector/do-cycle
***   stack: red/alloc-series-buffer 48 1 0
***   stack: red/alloc-series 48 1 0
***   stack: red/alloc-bytes 48
***   stack: red/binary/do-math 7
***   stack: red/binary/xor~
***   stack: red/actions/xor~*
```

[9:26:25](#7ouPu4Jm9JEO4pAQNuay42dc8DbemtcIdIsGHorQfDk) <loziniak (Maciej ÅoziÅ„ski)>:
(Another thing being that there is no `allocator.reds` in this folder anway)

[9:27:18](#trLnLFAtRxOFjulUhkYNfsM1Z-hS03HG6fpoNGkgVLI) <loziniak (Maciej ÅoziÅ„ski)>:
```
>> about
Red 0.6.4 for Linux built 18-Jan-2021/10:06:33+01:00 commit #de5c05e
```

[9:32:45](#OmD_ddUtBH8gusVRgfKBEcno7sFvyXhf1Z8T-9KVNEU) <hiiamboris (NOT THIS ONE)>:
need a way to reproduce it í ½í¸‰

[9:54:45](#ATT73js0RdCx9gswvTdZuZfZmWu7tcePVMbNIauOX1A) <loziniak (Maciej ÅoziÅ„ski)>:
It can be hard, probably no way to separate it into minimal case, as this is GC. And my code is not public í ½í¸Ÿ

[12:33:11](#jhj0XrxAP_OLLIZgq4eclQkAYKCIZiN7mLuLlRAFNYc) <rebolek (Boleslav BÅ™ezovskÃ½)>:
I recently had GC doing `recycle` very hard for almost three minutes and no crash! :-)

[14:24:11](#pRGRpfDutYEWpHWwpbbIeGyAPRb30OmfSanVf00vH_4) <hiiamboris (NOT THIS ONE)>:
When GC crashes it is no guarantee that GC is to blame. Something else may have corrupted the memory.

[17:25:12](#j6Y3K1ZsNih-_NeGvoUwJ-r2TyO8dsYO85IS_FjoVUc) <greggirwin (Gregg Irwin)>:
@hiiamboris is your memory marker experiment something @loziniak could use locally? 

[17:26:27](#EBhaCkOtSaY1M-5Npv4N70hmGpbiTmASRtNpzCvkOgM) <hiiamboris (NOT THIS ONE)>:
Not if he cannot reproduce it himself í ½í¸‰

[17:26:35](#U1svvNgsXQ_tnj5uOTVbOIYABQ01NNn1JsO-yKTZEtw) <hiiamboris (NOT THIS ONE)>:
And it's 1.5 years old already...

[17:27:49](#dwdwzBwjMzLbTrb1reSNUdxnKGTgyo2G0P1VoLrSMn0) <greggirwin (Gregg Irwin)>:
I thought he meant he couldn't minimize it for us to test. 

Time flies. 

[17:28:10](#zQHP1Uj-feG0yEqCJCUSENV2EVXmsnrna5z8PwWGIU4) <loziniak (Maciej ÅoziÅ„ski)>:
For now I'll probably leave it, because after some updates to the code the error disappeared. However, it may come up later. Thank you, guys!

[17:30:08](#2I5N5nbtzT6hpGKAAgcT2CshGZ1Mw3veoaa48gwvcoM) <loziniak (Maciej ÅoziÅ„ski)>:
> I thought he meant he couldn't minimize it for us to test. 
That's because I assumed it's GC bug. As [hiiamboris mentioned](https://gitter.im/red/bugs?at=6010260b36db01248aa240cf) â†‘, it's not necessarily the case.

[17:30:28](#l4MoLiUHbwIRP9l0LCyRzGGMCIOkxVcvvdTmLo7eRlQ) <loziniak (Maciej ÅoziÅ„ski)>:
* > I thought he meant he couldn't minimize it for us to test. 

That's because I assumed it's GC bug. As [hiiamboris mentioned](https://gitter.im/red/bugs?at=6010260b36db01248aa240cf) â†‘, it's not necessarily the case.

[17:30:45](#MPM-oGY5wb1i2emj_0EYEbuNtic5FdNN4UHeKr0L-Kw) <loziniak (Maciej ÅoziÅ„ski)>:
* > I thought he meant he couldn't minimize it for us to test. 

That's because I assumed it's GC bug. As [hiiamboris mentioned â†‘](https://gitter.im/red/bugs?at=6010260b36db01248aa240cf), it's not necessarily the case.

## 30-Jan-2021

[3:13:05](#Za6MPpUZKsSNUUVZer4tpLNG6Cy2q-Z0TlvdYkmk11U) <ne1uno (ne1uno)>:
d2d merged current tip, shape no longer closes? `view [base 80x210 snow draw [fill-pen off translate 40x15 shape  [move 0x-10 line 30x0 0x10 -30x0]  ]] `

[3:13:05](#RI0EvZbh-YOg0i9gulDm2ZyQgfeR6AE6XmcnW8IhVmc) <ne1uno (ne1uno)>:
debug versions of console don't work well

[9:45:49](#-8CvYi8NFNJh5CKqBQuGswSBc5ETmSw3Om-8H-NgqgA) <hiiamboris (NOT THIS ONE)>:
@qtxie I thought you fixed that, no?

[9:47:20](#ytNkbKqgyXyHkBuKD2-ACdIR3yzOYCeiQ5j_UeP618U) <hiiamboris (NOT THIS ONE)>:
Ah.. we probably decided that we should fix other platforms instead

[9:47:37](#8sq78NS1Dz3_quBrFDpC37vRdh95GSO3YGn7sRIdFeY) <hiiamboris (NOT THIS ONE)>:
@ne1uno use `close` keyword

[9:47:57](#nk80hUWoE2FwPjsKfLLZ9WZmhny1Fmw3jYgHdkC1xfo) <ne1uno (ne1uno)>:
ty

[17:39:23](#e0rOsfucMrBHZ0qZhTMA3QxznueKy3rYv9rKs8O7BqU) <gltewalt (Greg T)>:
This should probably throw "x has no value". Looks like `is` is escaping `help`?

```
>> help is x
*** Script Error: is does not allow word! for its 'field argument
*** Where: is
*** Stack:  
```

[17:52:43](#14PA64-TZwgjbFMYb6THlJCfy6yrpcDSFoVMEqq55jc) <hiiamboris (NOT THIS ONE)>:
operators have bigger priority than functions

[17:57:54](#AI6gf94Nh7vZ8wMo9ZNNONXn9JSPBal0ehJm9DboXmg) <gltewalt (The other Greg)>:
Its the only op that I get an error on with my script, so... still scratching my head

[18:11:28](#7UUvkZGrIiaW3-CRMD7m1gRByqJD0CZ2xNN16zprIuM) <gltewalt (Greg T)>:
`is` is unique here. 

[18:12:21](#1-oVQE6s3b4LhQROqfja3KQ_4BUTYDjujyTEad65ERU) <hiiamboris (NOT THIS ONE)>:
of course

[18:12:37](#G5fAi9WQKXn64zLAB3pNYPqbGwwkPSi0Z7Zc5g8Xst0) <hiiamboris (NOT THIS ONE)>:
`is` has a get-word argument semantics, just as `help`

[18:13:18](#_AlS-NtUh1D8-mg1cku5_rzb6-YBCKNDaxeT7yFvHxM) <hiiamboris (NOT THIS ONE)>:
* `is` has a lit-word argument semantics, just as `help`

## 1-Feb-2021

[20:41:49](#dfAsGrD5INQufRqvc_7oJHmCJ44fl3qGlDn-SvXrOYs) <dsunanda (dsunanda)>:
#4790 is marked as fixed and built (by the good doc himself!) - and the Windows 01-feb build does fix the specific examples given in the bug report and comments.
But it seems there is still a wider issue at large:
```
loop 1000 [
    print xx: to-binary random/secure 31415926535
   attempt [load xx]
   mold system/words   ;; trigger error if system/words is now messed up
]
```
I can usually see the error occurring in under 10 iterations.

[21:40:33](#imDKGRe7VZ3F3tTWU7LRGKZ01NQNlUhWsbzC0AxTdV0) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Can be simplified to something like:
```red
>> load #{42137E26C646365C}
*** Syntax Error: (line 1) invalid character at \
*** Where: transcode
*** Stack: load  

>> system/words
*** Access Error: invalid UTF-8 encoding: #{C6463600}
```

[21:41:47](#f1PanbIogQcxBWVaxbp_pt36b0Vsx8MvYCm42cAPF_4) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* Can be simplified to something like:
```red
>> transcode #{42137E26C646365C}
*** Syntax Error: (line 1) invalid character at \
*** Where: transcode
*** Stack:

>> system/words
*** Access Error: invalid UTF-8 encoding: #{C6463600}
```

[21:44:36](#qCs0PPvmvn9QqffZivkwsDo8EF2inYLUZH6ASdik6eQ) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* Can be simplified to something like:
```red
>> transcode #{8B}
*** Access Error: invalid UTF-8 encoding: #{8B000000}
*** Where: mold
*** Stack: 
>> system/words
*** Access Error: invalid UTF-8 encoding: #{8B000000}
```

[21:54:01](#uAPEgVRoNE0OLe_sN8NhLk4A9X_e7YXuZTid82IKQrk) <dsunanda (dsunanda)>:
@Oldes I'm seeing that specific value - #{8b} - as not corrupting system/words any more.....It did prior to 01-feb.....It still errors, but without damaging system/words 

[21:55:09](#MAD0oEjaCEAm8CPa72pKga5RIjctZBH_AqhPKUqUKEk) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
I just made a current build and both corrupts `system/words`.

[22:00:50](#HhJrQT64NYkJibYsXmEQVhEVfyj9UAANmxit2GLPjos) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Also notice, that the error is not from `transcode` in this case, but from `mold`:
```red
>> transcode #{8B}
*** Access Error: invalid UTF-8 encoding: #{8B000000}
*** Where: mold
*** Stack: 
>> error? try [transcode #{8B}]
== false
```

[22:01:56](#TN8W3nzlBEokr1kXvu1Q1GnxWiqCVBz1cIa5l1kRE7c) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* Also notice, that the error is not from `transcode` in this case, but from `mold`:
```red
>> transcode #{8B}
*** Access Error: invalid UTF-8 encoding: #{8B000000}
*** Where: mold
*** Stack: 
>> error? try [transcode #{8B}]
== false
```
compare with:
```red
>> transcode #{42137E26C646365C}
*** Syntax Error: (line 1) invalid character at \
*** Where: transcode
```

[22:02:52](#kekhRPDSl1C53IDYOkGZxEbX2EfAIymhpiIezUjGTCk) <dsunanda (dsunanda)>:
Thanks.....Looks like the fix was only partial and/or hasn't made it to all builds. The error can go weird. eg (after you've got an unmoldable system/words):
```
recycle mold system/words
== "make object! [...]"
```
It's now moldable, but useless :)

[22:12:59](#ObsVac7YltLMbmCc4TaFT7PL2mfN1DJJMD5Ws1iWkfo) <greggirwin (Gregg Irwin)>:
Reopened. Thanks for the tests and reports.

[22:55:48](#ioqLXAyEJKsWpaO5vhxJO3ZF5g7PAE1yLXpuAO6NMGs) <dsunanda (dsunanda)>:
@greggirwin Thanks too - wasn't sure what the modern etiquette is for reopening bugs :)

[22:56:19](#cMnsGv34rDO_IrLxD8uQpVg1oAIyYt5tkcMdhl6giLA) <greggirwin (Gregg Irwin)>:
I lack social graces, so... ;^)

## 5-Feb-2021

[14:39:47](#SF1nTmCDh9RVWCDbtGEbpaBxXjhAOCQf1EIc0ATmJ2U) <guaracy (Guaracy)>:
I'm having some trouble sorting blocks of strings (Linux)
```
>> sort ["Ã¡gua" "azedo" "Casa" "carro"]
== ["azedo" "carro" "Casa" "Ã¡gua"]
```

must be

`["Ã¡gua" "azedo" "carro" "Casa"]`

Maybe sort should use `strcoll` instead of `cmpfunc`(?)

```
>> about/debug
-----------RED & PLATFORM VERSION----------- 
RED: [ branch: "master" tag: #v0.6.4 ahead: 3581 date: 5-Feb-2021/0:06:04 commit: #6440af53301c09ea21166d320b1045d9548e0469 ]
PLATFORM: [ name: "Linux Mint 19.3" OS: 'Linux arch: 'x86_64 version: 5.4.0 build: {#73~18.04.1-Ubuntu SMP Tue Jan 19 09:02:24 UTC 2021} ]
--------------------------------------------
```

[17:45:42](#4iG8wfrn16mUrf8sWVXCdpq0QMwuw1nnnNX-pT4UCuI) <hiiamboris (NOT THIS ONE)>:
you can provide your own comparison func to `sort`

[17:49:06](#i_QJj8I0iZ6Mdoqy5v5TU29TC-kcpuL0ivZZzXEidFI) <hiiamboris (NOT THIS ONE)>:
or open a wish ticket at https://github.com/red/REP/issues

[17:56:14](#Y3kNRjp5VHe5R7H9eelTsoI1U9vn9CpE3BtMgCx-KjE) <gltewalt (Greg T)>:
`sort/compare  ["Ã¡gua" "azedo" "Casa" "carro"] func [a b][a/1 > b/2]`

[17:59:29](#cdbvTIt5s9cnyBp3AfpLkkC43kTZABdFMrehticFjio) <gltewalt (Greg T)>:
`sort/compare [stuff...] func [a b][a < b]` etc

[19:34:48](#8tHhH0Rw9UwrwxOSeocd3JImLGDhilaBJiIQQYeRs3A) <greggirwin (Gregg Irwin)>:
@guaracy I don't know what the equivalent to `strcoll` is on Windows, but we need to be portable. Unfortunately, there are two right answers for sorting: ordinal and linguistic (locale based). From a quick search, there are also locale-invariant considerations. As @hiiamboris notes, the best way to start on this is a custom comparison. 

## 7-Feb-2021

[13:42:58](#Po0iXZduUI7Qx_08VuVpRAJF0fDkIanMoHnhJfrljEE) <toomasv>:
After switch to new `transcode`, `load/trap` doesn't work anymore. 
It used to be so:
```
>> load/trap/all {a: [}
== [[a:] "" make error! [
    code: 201
    type: 'syntax
    id: 'missing
    arg1: #"]"
    arg2...
```
But now only error is returned.
Is it bug, or, more probably, intentional change? If intentional, is there some other way to get previous behavior? And then help should also reflect the change.

[13:44:00](#TrmEid8a8jM81Yk1NAwVC9TyfAQQMzY4MLBN7bYK-qM) <toomasv>:
* After switch to new `transcode`, `load/trap` doesn't work anymore. 
It used to be so:
```
>> load/trap {a: [}
== [[a:] "" make error! [
    code: 201
    type: 'syntax
    id: 'missing
    arg1: #"]"
    arg2...
```
But now only error is returned.
Is it bug, or, more probably, intentional change? If intentional, is there some other way to get previous behavior? And then help should also reflect the change.

[13:54:51](#2hbtsWvAHcdguta5RC9jD-WtQ7CwbVzptINyPG6aU84) <hiiamboris (NOT THIS ONE)>:
Better ask on TG í ½í¸‰

[13:54:58](#Q8WI98M1ldgxhA_hxWDZrwwZYPfVAIvDZeT3bXBc4Cw) <hiiamboris (NOT THIS ONE)>:
Tests were commented out https://github.com/red/red/commit/3bf08791f0208761c0a93acca21b8f96c558890c

[13:55:18](#LhnDg8jOHDv-XDwNfVrmYr9uITYw_OMEri0ul66WlNM) <hiiamboris (NOT THIS ONE)>:
I figure `transcode/trace` can be used, but that's a bit more work

[15:10:48](#cW6iOl7V1g6uA4cnZm6Lay3-72D1C01y629dpaVkDro) <toomasv>:
OK, thanks!

## 8-Feb-2021

[12:16:31](#A3S_pmuHbvC_aJ4Cv0PVtKhfCL4KXgwQSg1_rCP9fRA) <ldci (FranÃ§ois Jouen)>:
Hello there is a problem for downloading red sources from Red Language: not here

[12:38:12](#LkNwUlpmDXdp-aygguhcXHvJrwkl5KnoH-R1ZjBab3o) <hiiamboris (NOT THIS ONE)>:
dl from github

[17:55:51](#I9NO4OPD-pyL2WtTFkhHoDEwkqaYON9sGvHx3jqlhZ8) <ldci (FranÃ§ois Jouen)>:
@hiiamboris Of course Itâ€™s possible by Github. I was juste pointing to a problem with Red web server :)

[17:57:41](#wCMuPi_GMD6e01CTS2oTlqDbUfJVhqHeJSFwVxsNGJ0) <hiiamboris (NOT THIS ONE)>:
Sure, thanks í ½í¸‰ IIRC it's known, just idk why it takes so long to fix a broken link on the site..

[18:03:22](#6Y7tFQkxQpboIswLxAxhxYL6hCIAVAGDjE_TOgiPwEE) <ldci (FranÃ§ois Jouen)>:
BTW: https://twitter.com/fjephe/status/1358838235775049733/photo/1

[18:06:08](#0z4iFT7wmxRzwACArK7XO5mFS3YP_ZjwJ89IFFq6Q4g) <hiiamboris (NOT THIS ONE)>:
What's the animation for buttons? It shows me only a static jpeg

[18:21:27](#3EXHRaoOMIhmtbtF24Vqy22LGMHV8CGB5TAfh4kCoqs) <ldci (FranÃ§ois Jouen)>:
No: I use a base face with a png image and then  this code 
â€˜â€™'
selectButton: func [
	flag	[integer!]
][
	switch flag [
		1 [bt1/size: zoomsize]
		2 [bt2/size: zoomsize]
		3 [bt3/size: zoomsize]
	]
	do-events/no-wait
	show [bt1 bt2 bt3]
	wait 0.25
	bt1/size: bt2/size: bt3/size: dftsize
	show [bt1 bt2 bt3]
]
```


[18:22:17](#_2PgWpcZUnCJd1gp1B_floHPDU3896K50XNOIRqnPSs) <ldci (FranÃ§ois Jouen)>:
With `dftsize: 64x64
zoomsize: 128x128;32x32`


[18:25:57](#YWFUktOB43rsX9gHpUpDlQNkR5X96kk-cfwmWarphoc) <hiiamboris (NOT THIS ONE)>:
So it zooms in for 1/4 sec when you hover over it?

[18:26:45](#hTuj-Qu2eOqCJeRqLNinyXRucPua8KM9ezDsb5bBotg) <ldci (FranÃ§ois Jouen)>:
Yep when I click on base facet :)

[18:27:01](#-eIRZpC9Xvd268dd1XBpD6g-5cjj2YNWppWpP1DelPU) <hiiamboris (NOT THIS ONE)>:
I see í ½í¸‰

[18:27:13](#FLgyXh-CCa30sskEdVYTkVVIe3TnhNj_AoMgYKDabKc) <ldci (FranÃ§ois Jouen)>:
Rather funny

[19:17:46](#GkrhBmcHg28NqTYEhJyjpaBB-NUBN6xCSohMewFDN_E) <greggirwin (Gregg Irwin)>:
@x8x can you confirm the download link problem?

## 9-Feb-2021

[15:29:13](#jdgpRdo-2uw9kU6huJTS-IKR4bX-Vd2SQb9GF19DLCM) <mikeyaunish>:
Now that Direct Code is working I have a very bizarre error that I'd like to report. 
Load up: [Direct Code](http://https://github.com/mikeyaunish/direct-code)
Then within Direct Code, Open the GIST: [find-in-array-BUG.red](https://gist.github.com/mikeyaunish/893e71ee6964eab977530a7269172341)
Confirm proper operation by editing the green 'Hello' base with the Object Editor - and modifying the offset with the green arrows.
Create the error by commenting out the 'print ""' statement at line 17 then try modifying the object again with the green arrows.

[15:32:00](#wSRoUL-mIE7kUin3RtkT3cOGH3ARg4nIRaPZ9yx70P0) <mikeyaunish>:
* Now that Direct Code is working I have a very bizarre error that I'd like to report. 
Load up: [Direct Code](https://github.com/mikeyaunish/direct-code)
Then within Direct Code, Open the GIST: [find-in-array-BUG.red](https://gist.github.com/mikeyaunish/893e71ee6964eab977530a7269172341)
Confirm proper operation by editing the green 'Hello' base with the Object Editor - and modifying the offset with the green arrows.
Create the error by commenting out the 'print ""' statement at line 17 then try modifying the object again with the green arrows.

[15:45:02](#cn_oOLcaS1ptuoawYHIiOIhYzBDthn_sBPVa5WfAIi8) <hiiamboris (NOT THIS ONE)>:
![](https://i.gyazo.com/a2dc3bcb20c75c5c00d0fe3084be8826.png)
where do I find object editor and green arrows?

[15:50:24](#7xK_MUZcXTvH2JTEmIeAN7ho4-qsp1vX9F8W04JYETg) <mikeyaunish>:
@hiiamboris middle click on the green box or mouse over green box and press 'control tilde' then the Object Editor will open up - you will see 'green arrows' there.

[15:53:10](#J1QX3lLbH4inPj0upXhi9WBimUSqrp_tey5zEPPTIE0) <hiiamboris (NOT THIS ONE)>:
Found it after ctrl~, thanks. Though it was only 10px sticking out of the taskbar

[15:54:18](#yoLil1dTYiDO1yFqGjySkqFkjAHe9lQc-29IemxhrVI) <hiiamboris (NOT THIS ONE)>:
I don't think I have middle click configured on my touchpad lol

[15:56:27](#tfPmpG-PsoaPhNG2a_FN6nJVPkdboIedklNlmSlK_Ms) <hiiamboris (NOT THIS ONE)>:
Works for me either way, with or without `prin '"`

[15:56:31](#Ch7tHlfa2U3ef29D7O-Px35YdhyZzBtnDWrvG8SXOwQ) <hiiamboris (NOT THIS ONE)>:
* Works for me either way, with or without `prin '""`

[15:56:36](#VQFZI6KpoZCY0c6UX29oYf1ioOGQNQp7Pixysyxr9Tg) <mikeyaunish>:
That's an interesting design consideration - not sure what would make sense on a touchpad. What do you think should be used on a touchpad?

[15:56:36](#Qi2nueP_aelG32gyzhu7BbUrXrUBXIhvsH3n8c7zba4) <hiiamboris (NOT THIS ONE)>:
* Works for me either way, with or without `prin ""`

[15:56:51](#OaRJmtDamsUMQLr1BRFNRqONqrBTCT8w-Z0_eWYLp8E) <hiiamboris (NOT THIS ONE)>:
right click?

[15:57:49](#4uNmoiYhrdDHxJi8MNjb8JAB9hHbTF8KuHfPJhg-yUU) <mikeyaunish>:
After you comment out the prin "" restart Direct Code - by pressing F12 or just close and open it again to see the error.

[15:58:08](#XSvBNloEJeLaAago85rwHI3ooizntwcaO-MuL_mGdk4) <mikeyaunish>:
I am running on Windows - so maybe there is some issue there?

[15:59:07](#8V1hZ-K99dPreClGdj5KIg9Jc6D8gwCuTQGvvrpIqUc) <hiiamboris (NOT THIS ONE)>:
Tried all that, still working.

[15:59:09](#SCfodi6pgjYFSn6mQxOWW2-KY6l4atbSJgmdT6WkY3E) <hiiamboris (NOT THIS ONE)>:
I'm on W10.

[15:59:28](#UXl3cJcBu53-bsWdJmXBl3bFcR95o2OcNs29xcwQ754) <hiiamboris (NOT THIS ONE)>:
It's heisenbug, so it's expected that it hides.

[16:00:53](#LskgGfYjOqoWEqw2Y5AI3WZ7kiu6Z6oleHqk6Umsu0M) <mikeyaunish>:
OK - I'll try to narrow it down.

[16:01:33](#45CDScm7vi7VNo5b8W-DHoCs4eqR_dtvetixvKZWfGs) <hiiamboris (NOT THIS ONE)>:
Thanks

[16:01:41](#ubrGmqRwa8TlrEU0t0LEG1uRViYqB85cQfpFrb1QYaU) <hiiamboris (NOT THIS ONE)>:
FYI the issue is here https://github.com/red/red/issues/4549

[16:02:07](#rvmopqcUhd0PP5Ce8_rpv0oo1fe1QI9b6gizzX54ZSs) <hiiamboris (NOT THIS ONE)>:
But maybe you have found yet another approach to it

[16:08:09](#OUXVGSAUj8EvrrSci4jz4n1eiBbLi2-W2SVp5PdfD4o) <mikeyaunish>:
It may be. My operation is using reactions heavily. I'll do some more research.

[16:09:28](#OLAXX8_1ive_Z6EcrXidoKzKcVlc-Xpye0MqnCyLW08) <mikeyaunish>:
@hiiamboris are you using: Red Build 0.6.4 - 8-Jan-2021/16:47:49-07:00 ?

[16:09:51](#3gsKwC1btgcnKXLAZ2OkRxmf0pX0xmY8PT_lEclkSYM) <hiiamboris (NOT THIS ONE)>:
Try also using https://github.com/red/red/pull/4529 build to see if it fixes it

[16:11:25](#fWQxgMVzgkv4uyNwSfB1aQ5V6-buRv3uLebGmo46ohU) <hiiamboris (NOT THIS ONE)>:
Though it's a bit of work to build it properly, considering the bugs surrounding it

[16:11:54](#C4sn1fEqRmofEhlGBy4So7b3DuXdAHiV744rW48Up1Q) <hiiamboris (NOT THIS ONE)>:
> @hiiamboris are you using: Red Build 0.6.4 - 8-Jan-2021/16:47:49-07:00 ?

No, `Red 0.6.4 for Windows built 28-Jan-2021/14:26:17+03:00 commit #bae0c34` though it shouldn't matter


[16:16:22](#TF7qDMIBVhdUdMDoAW1Op_WL9SrD33yNXEM2o4JCdho) <mikeyaunish>:
The bug disappears when I run it using: Red Build 0.6.4 - 31-Jul-2020/9:55:01-07:00. I'll try the newest version.

[16:20:39](#29IVBPWQ79bP3-8p_q5DeM_TMzEsdER83FlhzbR-44g) <mikeyaunish>:
It runs perfectly now with: Red Build 0.6.4 - 4-Feb-2021/17:06:04-07:00. Thanks for the second set of eyes @hiiamboris 

[16:21:16](#srl4gK6DazsXmjkf0p7kw2ZJsDsAv0ZR3ZjiztFRFyw) <hiiamboris (NOT THIS ONE)>:
Well, I expect it will return to haunt you yet í ½í¸‰

[16:40:42](#iAxoGv8Q8uQxAsUiDRQSKj8zO2oVjKqcB821xlulHjc) <mikeyaunish>:
I guess as Direct Code continues it will be a bit of a torture test for Red í ½í¸‰ I am good as long as I have a stable version I can play with.

## 11-Feb-2021

[20:12:53](#TMSjKWWE3TRJ6ywMxBX_tnxXZChdUUAdCRqPjDqsBiM) <hiiamboris (NOT THIS ONE)>:
Anyone else getting silly gray background in the new GUI console builds?

[20:24:07](#EDGQZttXaj3UVqoroRu70TyGV9oO-xP0dha_0T4Z8hE) <toomasv>:
I haven't seen. Any specific scenario?

[20:26:58](#5v3yS2oMdzxJRXQNHZekIVAAlYY4IlqjeB2agiJovWM) <hiiamboris (NOT THIS ONE)>:
On every restart

[20:27:19](#8SZLT_stf92XE2rZGUOdDtu3yP_3hWq15NGRTain6Os) <hiiamboris (NOT THIS ONE)>:
I'll report it

[20:34:53](#MWsZz6n82hwoy15Qpl1acdfkSlfpRLwz6VxTZ_tRyt8) <hiiamboris (NOT THIS ONE)>:
https://github.com/red/red/issues/4825

[21:56:20](#IjTVkVJRQWpupCbRqBDFjKFzOUneYWQTztLcHtQ_O1I) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Is this expected?
```red
>> parse "a" [#{61}]
== false
```

[21:56:57](#uwMKQnmhQA_-jjQC6YVE-otyS7Jr7gzuOMvzgaToaKU) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* Is this expected?
```red
>> parse "a" reduce [to binary! "a"]
== false
```

[21:57:52](#vX07YuXexDP_nLE9kn8IFnGyiFBHCMrSIfrEVSKQHro) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* Is this expected?
```red
>> parse to binary! "a" ["a"]
== true
>> parse "a" reduce [to binary! "a"]
== false
```

## 15-Feb-2021

[4:55:03](#YHyK-eXWpOFwB0n0juAuZwSe8U-v0vh0Q93KEuRtxfw) <gltewalt (Greg T)>:
If you add `print` to the `does` block,  it blows up. Known?

```
    book: object [
        title: author: none
        list-fields: does [print words-of self]
    ]
    book/list-fields 
```

[4:55:30](#wZmdoZuBsEcpbUMzhcwMaQyWPpR0q21F-Uu1WqpaWos) <gltewalt (Greg T)>:
Vs. `does [words-of self]`

[5:01:50](#yRwaFFu4e1yocnWfr97KZ5hn_MoZOwTYEAQDIEV6IZo) <greggirwin (Gregg Irwin)>:
Probably [this](https://github.com/red/red/issues/4552)

[5:14:00](#gVN9v_d4kOJ6daH22sy7D6DClJc3vtOejHoWiXaR520) <gltewalt (Greg T)>:
Doesn't overflow the stack with `print form words-of self` or `print mold words-of self`

[9:40:53](#B6UNkrdjtvyaAhdI89tSkSLgBwxlfDVAqACyWFALg-E) <hiiamboris (NOT THIS ONE)>:
obviously `print words-of self` -> `print [..list-fields]` -> `print [... <evaluates list-fields here recursively>`

[10:55:12](#1Fm-XFahSQV1Aa5webhXqtxvbSeowrToIQE7K_4s7uk) <giesse (Gabriele Santilli)>:
`print` implies `reduce`

## 17-Feb-2021

[11:58:30](#sC9sqe76imaOah88GFpbVX2siV3vIIt-9kuh33LhVLU) <9214 (Vladimir Vasilyev)>:
@gltewalt https://github.com/red/red/issues/4559.

[19:31:56](#4vlA9NJQRNuDlsGIXYc4yshnHE2lpEAnbp2GqkwQuGQ) <gltewalt (Greg T)>:
@9214 lives?

## 20-Feb-2021

[22:16:16](#rlm5RXwSpkIcsqFeMkheZm4reYZA-hs507SCVHd5v2A) <gltewalt (Greg T)>:
This is a little off, it seems

```
>> cd ..
== %/
>> ls
	bin/               	dev/               	srv/               
	boot/              	lib64/             	mnt/               
	lib/               	swapfile           	media/             
	cdrom/             	home/              	proc/              
	run/               	sbin/              	sys/               
	var/               	tmp/               	root/              
	usr/               	lost+found/        	opt/               
	etc/               
>> pwd
%/
>> cd root
*** Access Error: cannot open: %/root/
*** Where: set-current-dir
*** Stack: cd change-dir  

>> pwd
%/root/
```

[22:27:59](#5iQIHEiSPYfDfMGwF23o8oLCOADXXD5Dcn5AJRulGLI) <gltewalt (Greg T)>:
It's the fact that it reports a working directory as `%/root/`

## 21-Feb-2021

[15:13:56](#yWb_L8jW3n6pifBFoxR5OaKcKR6zWBE-4gyG04ou8g0) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Although I consider as a nice change, that `delete %not-existing-file` now returns `false` instead throwing an error, I still believe, that it _should_ throw an error, if the file exists and cannot be deleted (rights, locked..).

[16:06:02](#-ZdGggviSl2-j-JqcRz-m8y-F5rTOaJUuTKif4xcdkk) <hiiamboris (NOT THIS ONE)>:
make a  wish ticket (;

[17:06:33](#pahZTbnac9jff-Nj8nbUKccyjg3ojoF2OtFzKz6G07M) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
[done](https://github.com/red/REP/issues/99)

[21:05:04](#4qXdHeIOu9mxerRy4EePVSd91hGZAQBD3luwi-TJvAI) <greggirwin (Gregg Irwin)>:
@gltewalt maybe OS specific. I don't get that problem on Windows.

[21:06:13](#BsqHcHGpbuPkR43G-MH6sopj2crXoNLkdRAj9SgwIPg) <greggirwin (Gregg Irwin)>:
There was an old ticket related to this: https://github.com/red/red/issues/1725

## 25-Feb-2021

[3:15:38](#I0wPQMq-s5seqGgznz-8rTKjEBz1AYFJ06GjKo7DnNU) <greggirwin (Gregg Irwin)>:
Can someone confirm, and ticket, that load `%"` crashes Red. Affects trying to type `file!` values into fields.

[3:15:56](#kPKUBpykJ_3l0ckZXCjAMjEuW4eIC6aFaqL8XekglxE) <greggirwin (Gregg Irwin)>:
* Can someone confirm, and ticket, that `load {%"}` crashes Red. Affects trying to type `file!` values into fields.

[4:32:41](#qio6f5Tbj5UoFTeGxDmttojoOMRojUXG2V-3GNmEurY) <toomasv>:
Confirmed https://github.com/red/red/issues/4834

[4:33:06](#m4zDG7X8OkZuZL9zUKll9dgIRjqEOLVT6d9zEfL9rEk) <greggirwin (Gregg Irwin)>:
Thanks.

[15:19:05](#Q7e0wgeRToQhHfKBYfM1m-21opZQlklobSpuzOZUY2Q) <GiuseppeChillemi (GiuseppeChillemi)>:
A draw backed bug arose while testing the redbin save fix:

â˜ [draw-end error: 142213121](https://gitter.im/red/red?at=6037b5136eb766540c22d54f)




[15:21:10](#0f0yQ57GQNpqQXvYpACr4jRxLrPShMVRNQj34W3u8zk) <hiiamboris (NOT THIS ONE)>:
Can you find a way for us to reproduce it?

[15:24:51](#JWS39t71BEnxbSGbDl8ZkNIzo2-ZRTndSV0wcjmDr4k) <GiuseppeChillemi (GiuseppeChillemi)>:
I suppose you should create an huge random json file and run this script:

â˜ [February 25, 2021 3:57 PM](https://gitter.im/red/red?at=6037baf7cfd9b375cd55af75)

I think the bug is related to the console being frozen for a long time while doing heavy computing and the backend is not receiving some kind of ACK on time. 

[15:28:24](#48d3NViPWRHwqRoMapbxwSF_g_t1exYLgxO7FT39JF4) <9214 (Vladimir Vasilyev)>:
@hiiamboris Redbin codec [goes brrr](https://knowyourmeme.com/memes/money-printer-go-brrr) way too fast and generates torsion fields that interfere with GUI console, as in https://github.com/red/red/issues/4825.

[15:31:04](#aZJNbiHAmM2rA1nyiT0ZbhdSIfJh9GJvQ-sdeFK2HMc) <hiiamboris (NOT THIS ONE)>:
haha thanks @9214 that makes sense then í ½í¸ƒ

[15:48:11](#A9FK4D_3YZ-0BNsEtRVDLEyQKFP3LuKJhdM3Vpj-sN0) <hiiamboris (NOT THIS ONE)>:
Tried 2M strings, can't reproduce.

[16:04:33](#eamKV-SJAgGuX_LnwZw55mlc52nuw9DOApdX8oZRi4Q) <GiuseppeChillemi (GiuseppeChillemi)>:
Could you give me your 2M strings build script?

[16:05:45](#-3qh6O0nutsv_0fZY_PlVhuJJlSofj4xsnaS3nlA97A) <GiuseppeChillemi (GiuseppeChillemi)>:
Maybe the problem is related to the high variety of data types/length/content in my bookmarks file. 

[16:06:22](#niTjo-HR3G-KQG0BKIF61yr4TkqYZIK3qbW7Cq8BKsI) <GiuseppeChillemi (GiuseppeChillemi)>:
* Maybe the problem depends too from the high variety of data types/length/content in my bookmarks file. 

[16:06:39](#QXWRh2Ek2GoQ7-_OII46-OJr5q_7v__JoJKA82rbOpE) <GiuseppeChillemi (GiuseppeChillemi)>:
* Maybe the problem depends too from the high variety of data types/length/content in my json bookmarks file. 

[16:12:29](#6lOcIERSfBExdSmNaAwtY4giWdKv_H3nxqb1dlLGlYE) <hiiamboris (NOT THIS ONE)>:
`b: [] repeat i 2'000'000 [append b rejoin ["aoofhoahohd" i]]`

[16:12:34](#ZAaBHbd04aUYGd9CpHYGzhQYBxW5rgs7J10W9obgYzA) <hiiamboris (NOT THIS ONE)>:
nothing fancy

[16:13:46](#ZzkESX0K8ZJZBCjdHxl2LYkmjQ_ElRbt2arr5fgRek0) <hiiamboris (NOT THIS ONE)>:
given the size of your bookmarks, you could be operating near the 4Gb RAM limit

[16:14:32](#N55e9-U8lb6ljCZDFIqHI9UgHnGxE5W1AS9HJa72YUs) <hiiamboris (NOT THIS ONE)>:
I just finished testing 5M strings, no problems

[16:14:34](#CD-QbtRjerzJ45JkgM_fAsVhY9CtmFFXwxSyOX78qzw) <hiiamboris (NOT THIS ONE)>:
```
>> loop 5 [probe dt [save/as %111 b 'redbin]]
0:00:18.2836
0:00:09.13954
0:00:08.97996
0:00:08.97397
0:00:09.48476
== 0:00:09.48476
>> loop 5 [probe dt [load/as %111 'redbin]]
0:00:15.0108
0:01:24.0658
0:01:35.6338
0:01:32.5812
0:01:35.375
== 0:01:35.375
```

[16:16:02](#DkUzpY4zAg7xx7GiYqmQSxAgBXuiyp2xHZS6Sk5p3rI) <hiiamboris (NOT THIS ONE)>:
Although manual `recycle` call never returns, so I'm not using it. That smells like a bug btw.

[16:20:20](#sOr_OyZEWmYJDf8r85dLoW7EHYqjRWu9Wobw_JuaHLs) <GiuseppeChillemi (GiuseppeChillemi)>:
You do not have a json save / json load phase. 

[16:20:54](#-wzY5aQZVGwIC5h7XpFz_vIy5_Sfm1ohDqu3VLHD8nA) <hiiamboris (NOT THIS ONE)>:
I don't

[16:21:01](#tzkMhoroGX-H9F8D6-uQefG-Z4N0Nj4KZnzMnb6p0Bc) <hiiamboris (NOT THIS ONE)>:
You think it's json codec?

[16:24:30](#9zG4T55yPmIeVeI7Xzx1UHgjKLpPR53eNDh8MlCmOBM) <GiuseppeChillemi (GiuseppeChillemi)>:
I suppose it is the high number of different data, it could be even parse.....  But no, it isn't!

[16:25:27](#Fyz6h4Jm_DDAr1fu45ymt5QuY7gGKWs3qcmHR7tqRBE) <GiuseppeChillemi (GiuseppeChillemi)>:
I have tested it and the error has been triggered.

[16:25:54](#a47G8dDbMWCxL4TvOoqFxPcYI704tWiBsbuqF_BGj2Y) <GiuseppeChillemi (GiuseppeChillemi)>:
* I have tested your code here and the error has been triggered by it

[16:29:21](#twKj8V2PhS78Qn_zoYmC8-FvnGaVROiomE-eBSs_Xp8) <9214 (Vladimir Vasilyev)>:
@GiuseppeChillemi what is the output of `about` typed in the console?

[16:30:05](#g0noXf4Ux9o13bQuHt43P6b851akg-ddk1-dDr1FmCU) <GiuseppeChillemi (GiuseppeChillemi)>:
`Red 0.6.4 for Windows built 25-Feb-2021/1:27:54+01:00 commit #0645c80`

[16:30:19](#qARHi-PFYxfaOcPw7lYGFuUL6RhG-WUDTgVQuFE9ZNo) <greggirwin (Gregg Irwin)>:
@GiuseppeChillemi if I give you a data anonymizer, would you run it against your bookmarks and let us use the result to test?

[16:30:32](#4QvFdRGTTbCm7xUDM49CGCV8F5RinzsXaqgM3z6wytE) <9214 (Vladimir Vasilyev)>:
@GiuseppeChillemi alright, what version of Windows are you on?

[16:32:12](#-Ymeytd1AxkLgmSw2v4W-TrtVFGvHs0LMN9sc66h7jI) <GiuseppeChillemi (GiuseppeChillemi)>:
@greggirwin Hiiamboris script triggers the error too.

[16:32:18](#ODyhTWbUc9O9szaVt-POaD2oivqGKTRHo828xJy1A6g) <GiuseppeChillemi (GiuseppeChillemi)>:
@9214 Windows Server 2012

[16:34:06](#yX34i2kCXcUYsr0xlpTI9faHNyww3XdIRuv40KwJvU4) <GiuseppeChillemi (GiuseppeChillemi)>:
I am now testing it on Win10 and report.

[16:34:20](#lAwPyI-nt3VFCeUEy8AoTe6Ttnp1OCjGR0fsv7bZ7lg) <GiuseppeChillemi (GiuseppeChillemi)>:
* I am currently testing it on Win10 and report.

[16:34:27](#QjNcbP2BUetJeE6c2kwwrLo6w-R8cz1Qqtozimm30XU) <GiuseppeChillemi (GiuseppeChillemi)>:
* I am currently testing it on Win10 and I will report.

[16:34:42](#MlyT83uKZ_Csaccak7cijixE2R28nEbjHfi0q6xsVpY) <9214 (Vladimir Vasilyev)>:
D2D backend on Windows Server 2012. 'nuff said.

[16:34:47](#wQqUKUlPdiyQQnccnx7DwXBxOIImUWag5CBTcDSUL30) <hiiamboris (NOT THIS ONE)>:
```
>> loop 5 [probe dt [save/as %111 b 'json]]
0:01:11.1895
0:00:11.2962
0:00:11.6351
0:00:11.9162
0:00:11.6467
== 0:00:11.6467
>> loop 5 [probe dt [load/as %111 'json]]
0:00:29.9287
0:00:28.6335
0:01:29.7587
0:02:36.5228
0:01:28.7192
== 0:01:28.7192
```
(json results on 5M strings in GUI console)

[16:34:55](#OOsHx1n-w7SxwPHaqDqUZSTYzw9SkiqgP95tMFw0Gzs) <hiiamboris (NOT THIS ONE)>:
* ```
>> loop 5 [probe dt [save/as %111 b 'json]]
0:01:11.1895
0:00:11.2962
0:00:11.6351
0:00:11.9162
0:00:11.6467
== 0:00:11.6467
>> loop 5 [probe dt [load/as %111 'json]]
0:00:29.9287
0:00:28.6335
0:01:29.7587
0:02:36.5228
0:01:28.7192
== 0:01:28.7192
```
(json results on 5M strings in *same* GUI console)

[16:36:21](#PymkSCMkUMePs1mA9bDLSHmRDNz5F_BA6UwQcHzhXS4) <hiiamboris (NOT THIS ONE)>:
D2D should work down to Vista I think. Although I suppose server editions may not receive enough bug fixes in graphics area..

[16:39:20](#L0K6lWRkyOSnAdfBXhwEj-aiwk6Oe39-o_F_n3oGP8c) <GiuseppeChillemi (GiuseppeChillemi)>:
Also, it is being used in terminal server mode. 

[16:46:07](#nR8znOJALRhxwgxmaoNPZmeKmKhwUqPnuhhcpx0RubU) <GiuseppeChillemi (GiuseppeChillemi)>:
While the test is running on Windows 10, I see a second icon appearing other than the console one, then it disappears:

[16:46:09](#l7Zz-GNf1jVqhnMOuGtB3q5kf5fFurIcyJCZdZEPnrs) <GiuseppeChillemi (GiuseppeChillemi)>:
[![image.png](https://files.gitter.im/5902e8c1d73408ce4f5b94ba/A3oU/thumb/image.png)](https://files.gitter.im/5902e8c1d73408ce4f5b94ba/A3oU/image.png)

[16:46:36](#dm7g0E5vi44jokIhF7YruKTBLvQUwTF9flW4SJoHUWY) <GiuseppeChillemi (GiuseppeChillemi)>:
* While the test is running on Windows 10, I see a second icon appearing on the windows bar other than the console one, then it disappears:

[16:46:46](#JMGnChzRBCFukemMuCNLRTkBKZzi0B85wcb7YW4M4d8) <GiuseppeChillemi (GiuseppeChillemi)>:
* While the test is running on Windows 10, I see a second Red icon appearing on the windows bar other than the console one, then it disappears:

[16:48:37](#if8EJHz5kIR1QU-TwytrNC3r_HnLUoU6t5ksRvsQmok) <GiuseppeChillemi (GiuseppeChillemi)>:
* While I run the test script on Windows 10, I see a second Red icon appearing on the windows bar other than the console one, then it disappears:

[16:51:04](#pxrAfAmFD7-_6lHa7kIkhklZDQmRI-C8jFksllrbUkg) <hiiamboris (NOT THIS ONE)>:
W10 is packed full with heisenbugs, so no surprise

[16:53:18](#lzqVnUgMVRm8KLwcg3rO_AE2xA0TQzyp51PPe2Mpdc4) <greggirwin (Gregg Irwin)>:
This won't be fast, but should anonymize Chrome bookmarks.
```
anon: func [val][
	alpha: "aieouAEIOU bcdfghlmprst BCDFGHLMPRST"
	copy/part random rejoin [val alpha] length? val
]
rule: [
	some [
		[{"guid": "} | {"name": "} | {"url": "}]
		st: copy tmp to {"} change st (anon tmp)
		| skip
	]
]
;s: read %bookmarks
í ½í¸œrint parse ss: copy s rule
```

[16:56:27](#gOtWmt6GMhFg9Hfks705P6XaWZZQkNaGNu0synRfzrw) <greggirwin (Gregg Irwin)>:
Does the problem happen only when running in the GUI console? 

[17:01:40](#OMikmWQM1kZRaPPblj1tMcliIMNG3a-guIAr0I9ycSg) <GiuseppeChillemi (GiuseppeChillemi)>:
I run the test script with `do %mytest.r`, so I suppose the second icon is the effect of a second process being run. Then the huge workload blocks the draw engine from removing it. When the append loop ends, the second icon is removed.

[17:08:40](#GTKJ8rfQVaWoFkhINEMOUtpVZPd3V-0_eaM64E88NEg) <GiuseppeChillemi (GiuseppeChillemi)>:
@hiiamboris I have run your cycle 6 times. but I have not initialized the block at each round with `copy`. So the array is increasing its size of 2.000.000 string for each round. While you would expect similar results, the last round takes **19 times** than the first one. 

```
How many times should I loop generate array? > 6
How many times should I loop redbin-save? > 1
generate array: cycle # 1  Time: 0:00:19.7088
generate array: cycle # 2  Time: 0:00:50.4766
generate array: cycle # 3  Time: 0:01:45.3246
generate array: cycle # 4  Time: 0:03:03.3033
generate array: cycle # 5  Time: 0:04:47.9442
generate array: cycle # 6  Time: 0:06:33.0716
save-redbin: cycle # 1  Time: 0:01:28.4641
```

(Note: redbin saved file size is 350MB)


[17:10:16](#pfAugvO7hwgaOlVrcf9IZaNTt9RvApLwRxfI7b8Zi4E) <GiuseppeChillemi (GiuseppeChillemi)>:
Memory consumption is 1,5GB

[17:10:34](#nVjhPVc7g3BkIDlyAUV7Zc80GB70gUA5z9LGDq4Qw4s) <GiuseppeChillemi (GiuseppeChillemi)>:
* @hiiamboris I have run your cycle 6 times. but I have not initialized the block at each round with `copy`. So the array is increasing its size of 2.000.000 string for each round. While you would expect similar results, the last round takes **19 times** than the first one. 

```
How many times should I loop generate array? > 6
How many times should I loop redbin-save? > 1
generate array: cycle # 1  Time: 0:00:19.7088
generate array: cycle # 2  Time: 0:00:50.4766
generate array: cycle # 3  Time: 0:01:45.3246
generate array: cycle # 4  Time: 0:03:03.3033
generate array: cycle # 5  Time: 0:04:47.9442
generate array: cycle # 6  Time: 0:06:33.0716
save-redbin: cycle # 1  Time: 0:01:28.4641
```

(Note: redbin saved file size is 350MB


[17:10:39](#K_tilGs4eqURZJ47f6UwlJLFCKpuVWbhZgppK6HZLVI) <GiuseppeChillemi (GiuseppeChillemi)>:
* Memory consumption is 1,5GB)

[17:10:47](#zs1es0-KqAbX4JL4K2dIqdiOQKYuF6gO7cUb808EHfQ) <GiuseppeChillemi (GiuseppeChillemi)>:
* Memory usage is 1,5GB)

[17:14:39](#PlirFtxu7vxbIR01cUcApRNGw46RTMFON5mi--OpFBk) <hiiamboris (NOT THIS ONE)>:
I think it is expected that GC time grows exponentially.

[17:16:07](#8dGAesMPcaXFItr8r-CUFOAR9mnQnY2WBP4F1odfxr4) <GiuseppeChillemi (GiuseppeChillemi)>:
I have issued a CLEAR on the array, it has happened immediately, then a manual `recycle`.. the result is interesting: the console is frozen and I am actually seeing the used memory by the red task going down on a 2MB rate per second.  It will take at least 10 minutes to garbage collect everything. 


[17:16:32](#fVTwMoQBlTPKNF3HFPVEbZLaG558g3qYhduZmt4AcKM) <GiuseppeChillemi (GiuseppeChillemi)>:
* I have issued a `CLEAR` on the array, it has ended immediately, then a manual `recycle`.. the result is interesting: the console is frozen and I am actually seeing the used memory by the red task going down on a 2MB rate per second.  It will take at least 10 minutes to garbage collect everything. 


[17:18:20](#7T3HNknqZ1C1vSjCY_EFPdh8y0FSgAdNAB3VsYFbQwA) <hiiamboris (NOT THIS ONE)>:
Exactly

[17:18:39](#9nNf7jI5gNwnsoZ0HwugM21zFjuD3KHz_GMoH2jTnww) <GiuseppeChillemi (GiuseppeChillemi)>:
(And yes, the second icon is here even without running an external script, just `recycle`)

[17:18:53](#M-wvNWpiEOgupmn-kOUvnpPMUyBk7eb-zoflms0W6kY) <hiiamboris (NOT THIS ONE)>:
I ran out of patience and just killed the console

[17:21:40](#aDqgqiCY6GgxBsDd5eWnnrVzbKjtlPDKEIH78O36VF8) <GiuseppeChillemi (GiuseppeChillemi)>:
My patience is still here but it is being consumed too by the `recycle`, I can see it in my inner task manager í ½í¸‰

[17:21:54](#P0NoCfviNjvgezcDyEn7tdvos7uIpXhIh0-TkXzC94E) <GiuseppeChillemi (GiuseppeChillemi)>:
* My patience is still here but it is being consumed too by the `recycle` process, I can see it in my inner task manager ;-)

[17:25:53](#owFWAclqtcxbcbiUL6G1wosbTB37dmxMuf9BVJbCMUs) <greggirwin (Gregg Irwin)>:
:^) It's a good stress test...for us. Decluttering is a big thing here in the U.S., it's the human version of GC.

[17:26:24](#f8wtMa4JxvblQz76JCG2ltgJMYP6eXGKPBOE9dh7JQ4) <GiuseppeChillemi (GiuseppeChillemi)>:
Well, the recycle has ended its job and there are still 750MB used. There is no reason for such memory to be used as there is just one word whose block I have cleared.

[17:32:38](#RAGRyEEA8lS7-th6lzxk9Djw2QtARrPwNUlAWuiHx6Q) <GiuseppeChillemi (GiuseppeChillemi)>:
* Well, the recycling has ended and there are still 750MB used. There is no reason for such memory to be used as there is just one word whose block I have cleared.

[17:33:00](#f3XM-Q6ljAbq8g7YSOj33p4_sQc1l-mwjjG2RpXV5Lw) <GiuseppeChillemi (GiuseppeChillemi)>:
* Well, the recycling has ended and there are still 750MB used. There is no reason for such memory to be allocated as there is just one word whose block I have cleared.

[17:33:12](#3YroKmXl_-xw69rzZthK__FY2Xb8cwMiq_8HR7aLhnY) <GiuseppeChillemi (GiuseppeChillemi)>:
* Well, the recycling has ended and there are still 750MB used. There is no reason for such memory to be allocated as there is just one word set whose block I have cleared.

[17:41:07](#_JPH2Lrd0FxSUGIo2SbDhp-9Gr1_jRu46Rj-5J2bUDc) <GiuseppeChillemi (GiuseppeChillemi)>:
A last run of the script in this live lab test:

`b: copy []` at the start of each loop:

```
How many times should I loop generate array? > 6
How many times should I loop redbin-save? > 1
generate array: cycle # 1  Time: 0:00:18.2067
generate array: cycle # 2  Time: 0:00:35.351
generate array: cycle # 3  Time: 0:00:21.2558
generate array: cycle # 4  Time: 0:00:21.3288
generate array: cycle # 5  Time: 0:00:20.8471
generate array: cycle # 6  Time: 0:00:42.6395
save-redbin: cycle # 1  Time: 0:00:12.7431
```

After this I have run: 

```
j: clear head j
recycle
```

Memory is still 132MB while the  fresh consolle is 8MB






[17:41:21](#qmmkINyLHaZrz5EkYcFx4fWk8_DYL-ua2VSzM2CDUrw) <GiuseppeChillemi (GiuseppeChillemi)>:
* A last run of the script in this live lab test:

`b: copy []` at the start of each loop:

```
How many times should I loop generate array? > 6
How many times should I loop redbin-save? > 1
generate array: cycle # 1  Time: 0:00:18.2067
generate array: cycle # 2  Time: 0:00:35.351
generate array: cycle # 3  Time: 0:00:21.2558
generate array: cycle # 4  Time: 0:00:21.3288
generate array: cycle # 5  Time: 0:00:20.8471
generate array: cycle # 6  Time: 0:00:42.6395
save-redbin: cycle # 1  Time: 0:00:12.7431
```

After this I have run: 

```
b: clear head b
recycle
```

Memory is still 132MB while the  fresh consolle is 8MB






[17:41:57](#hEkQk2HzVug3bEaAheusK9hipx76n3OeEA4tXqa87eY) <GiuseppeChillemi (GiuseppeChillemi)>:
Al last one before closing:
```
>> help stats/info
*** Script Error: unsupported type in stats/info get-path
*** Where: get
*** Stack: help help-string  

>> 
```

[17:46:06](#n0H-o26NPIpAtS8diDNPEI3I5IQHInGCyxqnuiosfsk) <GiuseppeChillemi (GiuseppeChillemi)>:
I would write the following bug reports:

1) The draw backend problem
2) The garbage collector keeping structures allocated, (and its long time and low mem freeing rate)
3) The double icon being visible under high load
4) The stats error.

What about this?



[17:46:54](#rGvfJXfbxqPkgq9xsOnPMcrIlTs84vlJz9Bl5KMJyaY) <GiuseppeChillemi (GiuseppeChillemi)>:
* I would write the following bug reports:

1) The draw backend problem
2) The garbage collector keeping structures allocated, (and its low mem freeing rate)
3) The double icon being visible under high load
4) The stats error.

What about this?



[17:47:19](#R7CCjL-AhmfYr3aUFS1o6yhBCoOsmOfOG5of5Xioj5k) <GiuseppeChillemi (GiuseppeChillemi)>:
* I would write the following bug reports:

1) The D2D draw backend problem
2) The garbage collector keeping structures allocated, (and its low mem freeing rate)
3) The double icon being visible under high load
4) The stats error.

What about this?



[17:48:02](#DLynOGVXmq4NcuXuu6ZN-gCNpwKwZ0iqbzdkpZTpKEs) <GiuseppeChillemi (GiuseppeChillemi)>:
@greggirwin Thank you, I will anonymize my data and send you the file

[17:57:57](#t-pQfsR8wESBROEdoZB-GwMWHVrrzXW8EavzBr2hOJY) <greggirwin (Gregg Irwin)>:
Thanks @GiuseppeChillemi. 

File a `help` ticket. For the others, we need a simple test case to reproduce. GC issue is probably not a bug. It's designed to run periodically, so as not to stop the world. Allocations are made for Red which can release the memory, but that doesn't mean the OS will reclaim it if it's not needed. 

[17:59:53](#TIkDa8KMx2t9jxyJHKkGN0BzEOaOjZDfyb6MRPRCwjE) <GiuseppeChillemi (GiuseppeChillemi)>:
Is there any way to see the inner memory usage which counts the memory areas as seen by Red?

[18:00:17](#_krpJ0oZl0fCcLudVuDHzVdkTTaUd4dedNaGMggLoJI) <hiiamboris (NOT THIS ONE)>:
1) irreproducible
2) 750M after recycle - looks like a bug
3) irreproducible, and it's not Red bug


[18:23:08](#JommyyBqNsVeWyO7JVvIw9cgll-9M15lrBP_Qm4kB_o) <GiuseppeChillemi (GiuseppeChillemi)>:
1) I can reproduce it locally and could try help debugging with your assistance
2) Agree
3) Will do further test on other machines
4) ?

[18:30:09](#1hkluCOlx60ZE1ftqq1tsHPuJutuEPtqrcxCEfyeS48) <greggirwin (Gregg Irwin)>:
File a ticket for 4, to help me remember to look into it. 

[18:32:45](#A2IR9C5R7EXIZd_KsUwE9ij6o-OCmHRZhFiKrnAe4V4) <9214 (Vladimir Vasilyev)>:
@GiuseppeChillemi `help stats`. `help` does not support paths that form functions with refinements.

[18:36:38](#rh5MybDT8USCbVeSerH9v7AyLSKPh8a7RXqdtO_ecv4) <9214 (Vladimir Vasilyev)>:
* @GiuseppeChillemi `help stats`. `help` does not support paths that form functions with refinements. The actual issue boils down to:
```text
>> :append/only
*** Script Error: unsupported type in :append/only get-path
*** Where: catch
*** Stack:  
```

[18:37:11](#xDMW3jN70BQJJGykqDFUoh4LMIfSNJumC0K2kG21V3M) <greggirwin (Gregg Irwin)>:
I just figured that out too @9214.

[18:39:53](#8DNr0oni2J5DtVL0BEGoHOUtmmpKUOT9TR4euVLGP10) <GiuseppeChillemi (GiuseppeChillemi)>:
So, should still open an issue as a reminder, or it will be solved automatically as it is on the roadmap?

[18:41:48](#YfQqgFgo9OQg-S8aFzA4NPtX3V9eYAbzouxEvIdYOdg) <GiuseppeChillemi (GiuseppeChillemi)>:
* So, should still open an issue as a reminder, or it will be solved automatically as it is on theRed development  roadmap?

[18:41:56](#nqNGWl5sGp05b7prrVuD4gG_H8eEyZKEGUS8V037Qhw) <greggirwin (Gregg Irwin)>:
Ticket it, noting what the underlying issue is. Then we need to decide if `help` should ignore the refinement part or provide more helpful error information.

[18:42:58](#Te2MSwVqjIqof94dJBHjLQcZOZnJv1401-m22eLVdDc) <greggirwin (Gregg Irwin)>:
i.e.  `help` can check if the path refers to a func.
```
>> type? get first 'help/stats
== function!
```

[19:16:16](#o-LSTXT_CcJDVQYiPe8rEXty0KXj_dQIjDOAJLxpIN0) <hiiamboris (NOT THIS ONE)>:
or a func with refinements within an object within a block...

[19:16:33](#1tqcUHDKa5P96v_Ap6TXhe2G0PsIBkLhuQNzdXn-QIg) <hiiamboris (NOT THIS ONE)>:
* or a func with refinements within an object within a block within a map...

[19:29:12](#3YdddHlvpEz4l7Jmi12Cn1rknuObiM9YdTJl3ZPOlxM) <greggirwin (Gregg Irwin)>:
```
>>help my-horrible-mess/messier-inside/a-messy-object/process/with

You got yourself into this mess.
```

[19:44:28](#A_sQ9Uf7V0yzVi1RSb4vfPoaRwaO7ZTfLpgEHgJK-V8) <hiiamboris (NOT THIS ONE)>:
í ½í¸ƒ

[20:40:52](#fmVSJTbPixbrkh2gnEJVYLM_vhs5aQ2ttKWNTwtM0g4) <gltewalt (Greg T)>:
That's the help message I get all the time

[20:44:40](#5sFvP8jY2als_XaOE98NaS5QPZSab4P4ae0MwDptT8A) <gltewalt (Greg T)>:
You can just decide, Gregg. It's your help system. 

[20:48:17](#NnLbs1LbV-6JToFepuHNP4HwvPa9GiTAVjlzUqoaXBs) <greggirwin (Gregg Irwin)>:
:^)

[23:00:50](#h_wWIjJvgW6LH5394Y3O9HxY0zySgXcl4mLkIqR1Tno) <GiuseppeChillemi (GiuseppeChillemi)>:
@greggirwin Your anonymize code running on my bookmarks is frying my CPU, it's an oven and the fan is at full speed. I have had to open the window to let the smoke go out of my room and lower the ambient temperature.

[23:01:47](#alGaq3eRnVbIhATZx8ep37wVmQ60RX_erfN2rLqZO_E) <GiuseppeChillemi (GiuseppeChillemi)>:
I can't even understand if it is running because the console is frozen!

[23:14:23](#RHCqP4c0NjHXwCObumhdNhS0zZvY3tfj3Dnu0mAvcIU) <greggirwin (Gregg Irwin)>:
I was afraid that might happen. Go ahead and kill it if needed. When I need big test data I can just dupe my 5M file  a bunch of times.

[23:14:50](#ADANMidBnlnmEdX1t1V4R0zh00UUR7ajENIHKgYfIC8) <greggirwin (Gregg Irwin)>:
If it's still smoking, it's still running. ;^)

[23:16:03](#BAhuBfdOSfAwMB65aSHCGTk8Eefyxlu7hc3-ocNl6PM) <GiuseppeChillemi (GiuseppeChillemi)>:
I was joking to let you know I am already at work using it. It could even run the whole night. Tomorrow morning I have just to remember to make a manual `SAVE` on `ss:` otherwise I will loose the work.

[23:17:03](#cOOitOq07Gth1gZM37r1RUUp5tf_tNpgv_CSMzIY10I) <greggirwin (Gregg Irwin)>:
It's a good stress test. And people will just think Etna leaked into your computer.

[23:20:43](#xLc8L38Qx0lJ1qaNdjhjMcwYrxWhgfk15q0TlZIwRHQ) <GiuseppeChillemi (GiuseppeChillemi)>:
There is a race for the to here, go Red, go go go!


[23:20:46](#fkWf4WnBN_kO7KbaatatCSuO_RFQWoXmE4L5oY8-EhQ) <GiuseppeChillemi (GiuseppeChillemi)>:
[![image.png](https://files.gitter.im/5902e8c1d73408ce4f5b94ba/LLLQ/thumb/image.png)](https://files.gitter.im/5902e8c1d73408ce4f5b94ba/LLLQ/image.png)

[23:21:18](#LyjsDJJQSk2tOJzXLiHSyY7RmFAFHm3f9Td7gZhDtOM) <GiuseppeChillemi (GiuseppeChillemi)>:
* There is a race for the to here, go Red, go go go! You are reaching google chrome memory usage!


[23:21:33](#s0YrILs3eq687VnFxRCon3RYu3pHnopYwyYkxq9J8Rs) <GiuseppeChillemi (GiuseppeChillemi)>:
* There is a race for the to here, go Red, go go go! You are reaching google chrome memory usage!


[23:21:47](#IL2YVgAxxDJRu6Ddr4C4bHJIx1xZqRG9qnbn5Gs7K9o) <GiuseppeChillemi (GiuseppeChillemi)>:
* There is a race for the to here, go Red, go go go! You are reaching Google Chrome memory usage!


[23:22:06](#56sXw_ST8wIWRFJ3OnyBkIKRcurwKlZ96M-27DpMYVs) <GiuseppeChillemi (GiuseppeChillemi)>:
* There is a race for the to here, go Red, go go go! You are reaching Google Chrome memory usage rate!


[23:22:19](#H5uFSp0BbiF4JZ04XC-kudx1HbgP7HluiaW9DuPQxXs) <GiuseppeChillemi (GiuseppeChillemi)>:
* There is a race for the to here: go Red, go go go! You are reaching Google Chrome memory usage rate!


[23:22:30](#aeDKU6PIjlbJnlqNnBgIsyp0W5BA7D06OnrEbSqiGs8) <GiuseppeChillemi (GiuseppeChillemi)>:
* There is a race for the to here: go Red, go go go! You are reaching Google Chrome memory usage level!


[23:22:43](#VhKCJVcjwESR9EHvOHlSN2vq0aetk5bfcvGkIY8mlZA) <GiuseppeChillemi (GiuseppeChillemi)>:
* There is a race for the TOP here: go Red, go go go! You are reaching Google Chrome memory usage level!


[23:24:42](#FKL_P1DeeHgZF42iEYrqg46GjvNBSkuOqzZZHAHr7Hc) <GiuseppeChillemi (GiuseppeChillemi)>:
* There is a race for the TOP here: go Red, go go go! You are reaching Google Chrome memory usage level! Another million of cycles and memory allocations and you will have surpassed it!


[23:24:58](#MVeJAXQiwUIL82w3lz8N7oqToWb4S8L2k4VJMLRLYCw) <GiuseppeChillemi (GiuseppeChillemi)>:
* There is a race for the TOP here: go Red, go go go! You are reaching Google Chrome memory usage level! Another million of CPU cycles and memory allocations and you will have surpassed it!


[23:25:53](#brHehK69DdOXhD_tuVg__ecqfDxcIZssAnUYW_zyuS4) <greggirwin (Gregg Irwin)>:
I hoped by changing the part to the same size content (did just `random` on the first pass but wanted to provide more anonymity) it would lighten the load by not having to shift the big string.

[23:29:12](#nqJn-L0SRjHqqhvPnMoIabhkzDCgdyiB2Gt23Gl8BZ4) <GiuseppeChillemi (GiuseppeChillemi)>:
I have 2 CPU cores, I am running another instance of the script with `RECYCLE/OFF` and let see if will be placed on the second core and if it will surpass the first one.  

[23:32:56](#6USZckfEeVQNFSeWqnDyAXLd27JOQ3W9wvKBy9fn7eU) <GiuseppeChillemi (GiuseppeChillemi)>:
* I have 2 CPU cores, I am running another instance of the script with `RECYCLE/OFF` and let see if it will be placed on the second core and if it will surpass the first one.  

## 26-Feb-2021

[8:46:54](#dN3e1qUVbvlG2xRXANb32PNtc7tRH17iuzNoXkrX2hU) <GiuseppeChillemi (GiuseppeChillemi)>:
Tomorrow the code was still running. I have checked on a small part of the original file on another instance and I have discovered the little modification I have made to you script was causing a problem. I have restarted it, In few our we will receive the result (I hope).


[8:47:10](#rMkb5rCEoJzaltgRU78lvjDlDmWnFvQOCPUUMZrNr9I) <GiuseppeChillemi (GiuseppeChillemi)>:
* @greggirvin
Tomorrow the code was still running. I have checked on a small part of the original file on another instance and I have discovered the little modification I have made to you script was causing a problem. I have restarted it, In few our we will receive the result (I hope).


[8:49:46](#T3GqMkq3MjYar_w_s_gF2AbxqShXtq5xE5VN7FKa9zs) <GiuseppeChillemi (GiuseppeChillemi)>:
In the meantime, I ask: why the Red console is not immediate as Rebol one? If I run a heavy inner computation and I print something in the loop, the console is not updated. 

[8:55:32](#cG3bSz7cir1BjNi-uAVtxYR4icl-NXNVD1uXghpZwug) <hiiamboris (NOT THIS ONE)>:
Perhaps because GUI console too slow to let every every `print` refresh it.

[9:07:17](#ER9aZmApYYw6WL8FRiBpt9TBgUxkvugT1-gdhf_tPTw) <hiiamboris (NOT THIS ONE)>:
Or because calling `do-events` from every `print` is likely to hang in a lot of cases. And since GUI console is a regular View window it has no other way to update itself in current design.

[10:26:39](#y0T87hMQ80qmBECZT4i0hildaFxPzdw21IgNaXgRIo8) <GiuseppeChillemi (GiuseppeChillemi)>:
This complicates debugging a lot. I have tried to add some code in the middle of the test loop but nothing has been printed on screen until the end of the loop which took place after many hours.

[10:27:06](#AOrsuNxkjPh9fwBj3YISdRrF4Z_SEci4IoS5BT0Kwv0) <GiuseppeChillemi (GiuseppeChillemi)>:
* This complicates debugging a lot. I have added  some print code in the middle of the test loop but nothing has been printed on screen until the end of the loop which took place after many hours.

[10:32:45](#F9JCZ8IHO37DiHp0anH9_OpP1oHbXUyHL8eJ1mP3Ic4) <hiiamboris (NOT THIS ONE)>:
Perhaps you should learn `do-events/no-wait` command then í ½í¸‰

[11:28:30](#ZMwNN0A1bd3r3cNR9YVPRZNPF5yoF6mcOb6NFbafqe4) <GiuseppeChillemi (GiuseppeChillemi)>:
Ohhh, food for my mind!

[18:15:46](#-B-yMvWgfLuq62RxsizAsCi4HwEVhJ9OTpWOfse1ilI) <greggirwin (Gregg Irwin)>:
Thanks for the update @GiuseppeChillemi. What was the change you made that caused the problem (so I don't make the same mistake)?

[18:38:39](#DFxw9EQVp91UWdk3C0s5vPTmrYFpMJBXlM6YFFON4dw) <GiuseppeChillemi (GiuseppeChillemi)>:
You would never make such an error: I have put a counter increment as the last value of the `anon` function, forgetting it was used by the parse routine. In this situation, each match in parse would be set to "none".

[18:42:02](#Yj8UBraVQCDJf8fp9bZHvNbM-J2qh4odg1NyEaza48k) <GiuseppeChillemi (GiuseppeChillemi)>:
The anonymization has ended after 9 hour, but I have got a surprise:

```
>> do %prj-bookmarks/anonymize.r
DT Result: 9:17:36.5448
>> write %definitive.txt ss
*** Internal Error: not enough memory
*** Where: write
*** Stack:  
```

[18:42:12](#n5s1R22BaW988MCxu7LEnNqySZ924MoXJbn1eQNazsc) <GiuseppeChillemi (GiuseppeChillemi)>:
í ½í¸Ÿ

[19:07:19](#PQ47agB-bInYQimYh8DRF41__wYPIbTDaCogyyRxnQc) <GiuseppeChillemi (GiuseppeChillemi)>:
I am redoing everything from scratch. tomorrow morning the anonymization process will end. 

[19:08:06](#UJ5BT8gMYXJJgz3XCSCyi3alk6X6aGQBAqKwo086Dr8) <hiiamboris (NOT THIS ONE)>:
Some persistence í ½í¸‰

[19:08:44](#AR8cqUbcCaa9jiEYE-i0W2zV5e4jNjrr-2Y-CrU4rzk) <GiuseppeChillemi (GiuseppeChillemi)>:
* I am redoing everything from scratch. tomorrow morning the anonymization process will end. It will try to append one char at time in the output file, traversing the whole string. Very slow but it is the only non memory consuming thing to do.

[19:08:52](#Hy_t7vvAxCSIXmVyf-q9Dz8VXA_wTH8j9SX70rBMm0s) <GiuseppeChillemi (GiuseppeChillemi)>:
* I am redoing everything from scratch. tomorrow morning the anonymization process will end. It will try to append one char at time in the output file, traversing the whole string. Very slow but it is the only non memory consuming thing to do. [EDITED]

[19:21:57](#bLi0KnKG5ZwHSZ3YCeCk2pRfEJ5esrU4PmcUX03Cl8Q) <greggirwin (Gregg Irwin)>:
I make mistakes like that all the time. :^) Sorry it failed at the critical moment. 

It could write in chunks, when it finds things to anonymize, and buffer skipped chars to write out.

[19:28:25](#-t4Sh1Xij1mFKY4rAiKvxv0BuIUBqS6qzc6OmOLzBBg) <GiuseppeChillemi (GiuseppeChillemi)>:
Well, what could have caused the out-of-memory error? No contiguous chunk of memory to allocate in the OS or something else? I hope the answer is not the former...

[19:34:09](#73--vo9spci9pNdhAztzRc8leiRasX4NIYCunatJzw8) <greggirwin (Gregg Irwin)>:
I wonder if you could have written it a bit at a time. 

[19:36:30](#3AvuAPC5l0FhXiaxnsWWHU2PQvXwv9TFoKNZ3Z7rzsI) <gltewalt (Greg T)>:
Advantage to doing a git repo, even if it's an experiment or a toy - If you commit and push each step, you can roll back

[19:37:11](#8UJ6-JgKpGcODS6KhrLp3iuT5zMB6DMBtW2NNWSrin0) <gltewalt (Greg T)>:
And even if you don't roll back, you know things were working before the last time you commited something

[19:37:49](#cddBtoqS3ygLOZIqihClhX-gtSF1epCt5aNN0yBRpeE) <gltewalt (Greg T)>:
* And even if you don't roll back, you know things were working before the last time you commited something, so you know what section the problem lies

[19:37:57](#SciaYMSz8OQeMyHAbp0YBmunEFgd6qWnBVIQJBLm0QE) <gltewalt (Greg T)>:
* And even if you don't roll back, you know things were working before the last time you commited something, so you know what section the problem is

[19:40:27](#VuLPKTNYDjbNnKc-xeRnNxUtzr0wvfI9aFn2UB_vUy0) <gltewalt (Greg T)>:
Or TDD. But no thanks on that

[19:52:27](#AE461jCDqkqTkS3iOQHyS_R1MYg2AAe4XVYbA7m1Dak) <GiuseppeChillemi (GiuseppeChillemi)>:
I would call the repository "perseverance".

[23:33:30](#eQ6AsK3h69oy78GwZGLbe34K_Eq49y3HFoVtwJEyJc8) <GiuseppeChillemi (GiuseppeChillemi)>:
@greggirwin Some discoveries while waiting for completition:

I have made some optimization and tried on smaller chunks of the bookmarks file: 10.000 and 500.000

 (`recycle/off`)

Base Rule 
```
rule: [
    some [
        [{"guid": "} | {"name": "} | {"url": "}]
        st: copy tmp to {"} change st (anon tmp) ;skip
        | skip
    ]
]
```
Time = 1

Optinimization on first char with repetition numbers:

```
rule2: [
	some 
     [
       1 {"} 1 [{guid} | {name} | {url}] 1 {": "}
        st: copy tmp to {"} change st (anon tmp) ;skip
        | skip
    ]
]
```
-15% on 10.000 characters 
-18% on 500.000 characters

No repetition numbers
```
rule3: [
	some 
     [
       {"} [{guid} | {name} | {url}] {": "}
        st: copy tmp to {"} change st (anon tmp) ;skip
        | skip
    ]
]
```
-45% on 10.000 characters 
-18% on 500.000 characters

It seems that on short runs, setup time is relevant for parse

Also an interesting discovery:

Average time A on 100.000 characters: 1 - 00.00.00.20
Average time B on 1.000.000 (10x) characters: 30x - 00.00.06.00 

The full file is about 90.000.000 characters so you expect parse would take the time for 1.000.000 characters multiplied by 90, so 00.00.06.00 x 90 = 540 seconds. Instead it takes 32.400 seconds, which is 60 times than the expected.

Some structures parsing time increase exponentially



[23:34:07](#tB5EAsVSdUqOrRS9QkWjHIUHqO-6kEc1d9EAIOa3X38) <GiuseppeChillemi (GiuseppeChillemi)>:
* @greggirwin Some discoveries while waiting for completition:

I have made some optimization and tried on smaller chunks of the bookmarks file: 10.000 and 500.000

 (`recycle/off`)

Base Rule 
```
rule: [
    some [
        [{"guid": "} | {"name": "} | {"url": "}]
        st: copy tmp to {"} change st (anon tmp) ;skip
        | skip
    ]
]
```
Time = 1

Optinimization on first char with repetition numbers:

```
rule2: [
	some 
     [
       1 {"} 1 [{guid} | {name} | {url}] 1 {": "}
        st: copy tmp to {"} change st (anon tmp) ;skip
        | skip
    ]
]
```
-15% on 10.000 characters 
-18% on 500.000 characters

No repetition numbers
```
rule3: [
	some 
     [
       {"} [{guid} | {name} | {url}] {": "}
        st: copy tmp to {"} change st (anon tmp) ;skip
        | skip
    ]
]
```
-45% on 10.000 characters 
-18% on 500.000 characters

It seems that on short runs, setup time is relevant for parse

Also an interesting discovery:

Average time A on 100.000 characters: 1 - 00.00.00.20
Average time B on 1.000.000 (10x) characters: 30x - 00.00.06.00 

The full file is about 90.000.000 characters so you expect parse would take the time for 1.000.000 characters multiplied by 90, so 00.00.06.00 x 90 = 540 seconds. Instead it takes 9 hours - 32.400 seconds, which is 60 times than the expected.

Some structures parsing time increase exponentially



[23:35:37](#095qcIuk2SaS9JxV8S5H7TXgHQD8ULIveH-Gxgy8-fg) <GiuseppeChillemi (GiuseppeChillemi)>:
* @greggirwin Some discoveries while waiting for completition:

I have made some optimization and tried on smaller chunks of the bookmarks file: 10.000 and 500.000

 (`recycle/off`)

Base Rule 
```
rule: [
    some [
        [{"guid": "} | {"name": "} | {"url": "}]
        st: copy tmp to {"} change st (anon tmp) ;skip
        | skip
    ]
]
```
Time = 1

Optinimization on first char with repetition numbers:

```
rule2: [
	some 
     [
       1 {"} 1 [{guid} | {name} | {url}] 1 {": "}
        st: copy tmp to {"} change st (anon tmp) ;skip
        | skip
    ]
]
```
-15% on 10.000 characters 
-18% on 500.000 characters

No repetition numbers
```
rule3: [
	some 
     [
       {"} [{guid} | {name} | {url}] {": "}
        st: copy tmp to {"} change st (anon tmp) ;skip
        | skip
    ]
]
```
-45% on 10.000 characters 
-18% on 500.000 characters

It seems that on short runs, setup time is relevant for parse

Also an interesting discovery:

Average time A on 100.000 characters: 1 - 00.00.00.20
Average time B on 1.000.000 (10x) characters: 30x - 00.00.06.00 

The full file is about 90.000.000 characters so you expect parse would take the time for 1.000.000 characters multiplied by 90, so 00.00.06.00 x 90 = 540 seconds. Instead it takes 9 hours - 32.400 seconds, which is 60 times than the expected.

Something is increasing parsing time exponentially.



[23:41:00](#1gPOb9W7228Qn79v0sZRR5Wk0O_W6n8Jt7H8STMWPkE) <GiuseppeChillemi (GiuseppeChillemi)>:
Waiting for the anonymization to complete to send the file to you. We have a lot of interesting discoveries here. 

## 27-Feb-2021

[0:46:23](#pJX6CPCdjABlNG0DRpZiJF5rsk2ie6XSClK1bTMZJ98) <gltewalt (The other Greg)>:
What kind out output are you looking for?

[7:15:58](#QW6GX7m-H2oAinH-b6dYBUPgwIYoMq3kem2xWKjRiKQ) <GiuseppeChillemi (GiuseppeChillemi)>:
@gltewalt:matrix.org I have not understood your question

[7:16:46](#eH-qiFrZYFQnSpf19PUOlzMlvWmkt04JZb-0gHnDSsI) <GiuseppeChillemi (GiuseppeChillemi)>:
OGM Red is not here and the file is 5% of what it should be.

[8:01:22](#33Vl-L8Lx51uxzbXwhs2rETiefYDD7U2pls1QhSC0fY) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
I think that if you want to process big file like that.. you should not try to modify the data using `change` in the parse rule but instead build a new data using `append`... ideally writing the new data into file directly and so save some memory.

[8:05:33](#3iRmEMPwIGuGC5PrEzkFPBFkOqmGtCc9XGMKpy--h24) <GiuseppeChillemi (GiuseppeChillemi)>:
I have moved to Rebol, the file is here: 

Start 8:54:21
End 8:54:30

9 Seconds VS 9 hours.

https://drive.google.com/file/d/1WIv2BeqYEdRJIsNmJxl_CD-qr9yNpZGp/view?usp=sharing

[8:05:45](#SNqpNYXu3a2boLvUGm9IYba-z7G84n1hzfX7Sr1sQY4) <GiuseppeChillemi (GiuseppeChillemi)>:
* I have *moved to Rebol*, the file is here: 

Start 8:54:21
End 8:54:30

9 Seconds VS 9 hours.

https://drive.google.com/file/d/1WIv2BeqYEdRJIsNmJxl_CD-qr9yNpZGp/view?usp=sharing

[8:06:04](#p3owOPPgYA9C_s-vVUvClVEXzFy5xnEnrSfJIgecX6c) <GiuseppeChillemi (GiuseppeChillemi)>:
* I have *moved to Rebol*, the file is here: 

Start: 8:54:21
End: 8:54:30

9 Seconds VS 9 hours.

https://drive.google.com/file/d/1WIv2BeqYEdRJIsNmJxl_CD-qr9yNpZGp/view?usp=sharing

[8:06:29](#CUbDCRzHFIfFBBN2qCfYUZqElGgSOPbvdwXpiPHCHJ4) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Also I wonder if there was already fixed the `to end` performance issue.. it wad reproducible in simple one liner.. so no need of huge data.

[8:07:27](#GufAkIZapQgv0tLunjY-WjOyCXCzPnp64UmnLwyUUu0) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
I'm just on mobile.. so hard to search for it.

[8:07:56](#E6poXQCooNtb44wkpfVrdNl3Qsobd5BsLsKq0Ecsxjs) <GiuseppeChillemi (GiuseppeChillemi)>:
* I have *moved to Rebol*, the file is here: 

Start: 8:54:21
End: 8:54:30

9 Seconds VS 9 hours, 3600x

https://drive.google.com/file/d/1WIv2BeqYEdRJIsNmJxl_CD-qr9yNpZGp/view?usp=sharing

[8:08:14](#lZkjb0glQyxktvsdo4yrAAXbfQnn2OJoN1J6KIGRgqY) <GiuseppeChillemi (GiuseppeChillemi)>:
* I have *moved to Rebol*, the file is here: 

Start: 8:54:21
End: 8:54:30

9 Seconds VS 9 hours, 3600 times faster

https://drive.google.com/file/d/1WIv2BeqYEdRJIsNmJxl_CD-qr9yNpZGp/view?usp=sharing

[8:08:27](#V1u-nQX5_5wIgGZ4aMYtWWILhjfIWjwKwUysKcQiUjI) <GiuseppeChillemi (GiuseppeChillemi)>:
* I have *moved to Rebol*, the file is here: 

Start: 8:54:21
End: 8:54:30

9 Seconds VS 9 hours: 3600 times faster

https://drive.google.com/file/d/1WIv2BeqYEdRJIsNmJxl_CD-qr9yNpZGp/view?usp=sharing

[8:08:37](#QV8S4DE_TVXeWPf3CrYarIbxuqCUUOEeEh1RduT3GtQ) <GiuseppeChillemi (GiuseppeChillemi)>:
* I have *moved to Rebol*, the file is here: 

Start: 8:54:21
End: 8:54:30

9 Seconds VS 9 hours: 3600 times faster! :-(

https://drive.google.com/file/d/1WIv2BeqYEdRJIsNmJxl_CD-qr9yNpZGp/view?usp=sharing

[8:09:54](#hct2ASrJ17tn9Ikp1pD9bupO6FBbJWY9ofUNkz2ESnA) <GiuseppeChillemi (GiuseppeChillemi)>:
* I have *moved to Rebol*, the file is here: 

Start: 8:54:21
End: 8:54:30

9 Seconds VS 9 hours: 3600 times faster! :-(

https://drive.google.com/file/d/1WIv2BeqYEdRJIsNmJxl_CD-qr9yNpZGp/view?usp=sharing

I hope my work will help Red reach these speed levels

[8:10:23](#h66AX8U7gEBpG0V7nFMRFrVdGFvzZGV7JluG2_3TVJ0) <GiuseppeChillemi (GiuseppeChillemi)>:
* I have *moved to Rebol*, the file is here: 

Start: 8:54:21
End: 8:54:30

9 Seconds VS 9 hours: 3600 times faster! :-(

https://drive.google.com/file/d/1WIv2BeqYEdRJIsNmJxl_CD-qr9yNpZGp/view?usp=sharing

I hope all of my work of the past 2 days will help Red reach these speed levels

[8:13:14](#bvTFLHioG12MjbUFX9JioC3Xo0nyp_QyQhrTS1AsDaA) <GiuseppeChillemi (GiuseppeChillemi)>:
* I have *moved to Rebol*, the file is here: 

Start: 8:54:21
End: 8:54:30

9 Seconds VS 9 hours: 3600 times faster! :-(

https://drive.google.com/file/d/1WIv2BeqYEdRJIsNmJxl_CD-qr9yNpZGp/view?usp=sharing

I hope all of my work of the past 2 days will help Red reach these speed levels and debug the other issues.

[8:47:22](#pj8UZHgIhWp0ss8VdF4fUQcNFXRWk3GHr1JYNyeMLYg) <GiuseppeChillemi (GiuseppeChillemi)>:
The file I have sent was saved from Rebol, so it is ANSI and not UTF8. I have saved it using ultra edit (finding also a bug in this editor) but `Red Load/as xx 'json` returns an `error?` value as result.
Does the json codec suffer if it finds spurious chars in strings?

[8:47:37](#TrYlyWSkAU7rt3Utw0aM8VsBnkRQoqCuCRlePkqpoKc) <GiuseppeChillemi (GiuseppeChillemi)>:
* The file I have sent was saved from Rebol, so it is ANSI and not UTF8. I have converted it using ultra edit (finding also a bug in this editor) but `Red Load/as xx 'json` returns an `error?` value as result.
Does the json codec suffer if it finds spurious chars in strings?

[8:47:49](#INcivE3on4jxusLHtLJx1vaNctvxLRlmYgwEjIMc-C0) <GiuseppeChillemi (GiuseppeChillemi)>:
* The file I have sent was saved from Rebol, so it is ANSI and not UTF8. I have converted it using ultra edit (finding also a bug in this editor) but Red `Load/as xx 'json` returns an `error?` value as result.
Does the json codec suffer if it finds spurious chars in strings?

[9:23:03](#T4__S1GALOAJheaqsm9iblGLKnGWU4QlaIlwmi4NxT8) <hiiamboris (NOT THIS ONE)>:
`read` working?

[9:53:52](#ACu_H9bDCz2DJocQ1bO3ihrMjAVXUgccX3cjTy18qqI) <GiuseppeChillemi (GiuseppeChillemi)>:
@hiiamboris Yes, it loads the file as a string.

[9:55:10](#JTkEJNH2BFINQofDJiW2JTsQMvQEsWs0Nd2lx1XOTjU) <pekr (Petr Krenzelok) (@pekr-556ae86715522ed4b3e131b2:gitter.im)>:
@GiuseppeChillemi Parsing that file takes Red 9 hours vs 9 sec using Rebol?

[9:55:20](#7wWfIbjmWemIFcN57vTYCLLW1h3KAFgo2enQ1kJz-Lc) <GiuseppeChillemi (GiuseppeChillemi)>:
I feel like I have opened a can of worms.

[9:55:25](#nk0B2w-ua275pb7Lw2Jpe5MWWdLYyHWrrwMiYrYl6SI) <GiuseppeChillemi (GiuseppeChillemi)>:
@pekr yes

[9:56:06](#GmatV0rANrDUZ08XFPMinRTGdBTSNrTxtoOyEsNm520) <hiiamboris (NOT THIS ONE)>:
I also noticed that Parse's `change` is inexplicably slow.

[9:58:09](#vwX6v1nePwzOE3upkyYRnMu0kl-jaNCFWqE1_APYNh8) <pekr (Petr Krenzelok) (@pekr-556ae86715522ed4b3e131b2:gitter.im)>:
There has to be bug somewhere, or we've got a problem then. I have always sold Rebol's parse as really fast parsing tool. Maybe we need fast-parse then, the same way we've got fast-lexer :-) But parse is already R/S code, isn't it? Is there really technically a reason, why it should be that slow, when we claim, that R/S code is around of 4-6 times slower than C and hence Rebol itself?

[9:58:19](#o4gkTer9S-zuEwdYSaDw18YwZV0uh-TOZP6y-b6QMAQ) <GiuseppeChillemi (GiuseppeChillemi)>:
In Rebol I have used this code:

```
anon: func [val][
	í ½í¸œrobe val
	í ½í¸œrint val
    alpha: "aieouAEIOU bcdfghlmprst BCDFGHLMPRST"
;    xx: copy/part random rejoin [val alpha] length? val
    xx: random val
    change/part st xx en
]

source-file: %bookmarks
s: read source-file

ss: copy s 

parse/all ss rule3
```


[9:58:45](#8cKSWqYvaKQ_PemD2eHKN7lC00SBwrKkILn_24TDE1I) <pekr (Petr Krenzelok) (@pekr-556ae86715522ed4b3e131b2:gitter.im)>:
Beware - my understanding of the low level stuff is limited. That's also I can find it likely, that there is some real room for improvements or solving the edge cases.

[9:58:54](#DVUrZU2c8e9B8m11EnZnPayjcIT0vpanu2igIL9YRxo) <GiuseppeChillemi (GiuseppeChillemi)>:
* In Rebol I have used this code:

```
anon: func [val][

    alpha: "aieouAEIOU bcdfghlmprst BCDFGHLMPRST"
;RED    
;xx: copy/part random rejoin [val alpha] length? val
    xx: random val
    change/part st xx en
]

source-file: %bookmarks
s: read source-file

ss: copy s 

parse/all ss rule3
```


[9:59:17](#fqpt1rhDk5GGYzu-6jdXqFslvn6ZnYVdKAvnypDM_zA) <GiuseppeChillemi (GiuseppeChillemi)>:
* In Rebol I have used this code:

```
anon: func [val][

;RED    
;alpha: "aieouAEIOU bcdfghlmprst BCDFGHLMPRST"
;xx: copy/part random rejoin [val alpha] length? val
    xx: random val
    change/part st xx en
]

source-file: %bookmarks
s: read source-file

ss: copy s 

parse/all ss rule3
```


[9:59:24](#lI7B6ZfOO7T0TfuONx3x7SyA0rDDwxhfDZHOXYcpChE) <pekr (Petr Krenzelok) (@pekr-556ae86715522ed4b3e131b2:gitter.im)>:
Could you use something else than change?

[10:00:35](#7N3oIWmJM_36x1JoxJPCiXuNzDygVqVuaRVf4OK_Ilw) <GiuseppeChillemi (GiuseppeChillemi)>:
I could try to use CHANGE function than PARSE one, like I have done in Rebol.

[10:00:48](#gRDzd837ZlkIiGuSsK0Nelh2WvQtJ9UibVZd8lG5Lpw) <GiuseppeChillemi (GiuseppeChillemi)>:
* I could try to use CHANGE as separae function than PARSE one, like I have done in Rebol.

[10:01:16](#O0veRBhR_mW_djzTfoKq-K_aWRBSaqlEVMJzTI7gJxU) <GiuseppeChillemi (GiuseppeChillemi)>:
* I could try to use CHANGE as separate function than PARSE one, like I have done in Rebol.

[10:01:58](#6Dmd2lV7Gy_7M5kigZ57vdCxngTz5ScNBBEm8KZFJ08) <hiiamboris (NOT THIS ONE)>:
doesn't look like you have `en` defined by rule3

[10:02:48](#wiDVXjbbuMnnIYiNoOg2LCdfy101bjSjpuuP2tAkM6I) <GiuseppeChillemi (GiuseppeChillemi)>:
* In Rebol I have used this code:

```
anon: func [val][

;RED    
;alpha: "aieouAEIOU bcdfghlmprst BCDFGHLMPRST"
;xx: copy/part random rejoin [val alpha] length? val
    xx: random val
    change/part st xx en
]

rule3: [
	some 
     [
       {"} [{guid} | {name} | {url}] {": "}
        st: copy tmp to {"} en: (
        ;probe copy/part skip st -20 skip st 20 
        if (index? st) < (index? en) [anon tmp]
        
        ) skip
        | skip
    ]
]

source-file: %bookmarks
s: read source-file

ss: copy s 

parse/all ss rule3
```


[10:03:38](#KAYe2XfAqXoxvQ3pZnM03mQ442abTyw0xuzbv6mjIzU) <GiuseppeChillemi (GiuseppeChillemi)>:
* In Rebol I have used this code:

```
anon: func [val][

;RED    
;alpha: "aieouAEIOU bcdfghlmprst BCDFGHLMPRST"
;xx: copy/part random rejoin [val alpha] length? val
    xx: random val
    change/part st xx en
]

rule3: [
	some 
     [
       {"} [{guid} | {name} | {url}] {": "}
        st: copy tmp to {"} en: (
        ;probe copy/part skip st -20 skip st 20 
        if (index? st) < (index? en) [anon tmp]
        ;For ""        
        ) skip
        | skip
    ]
]

source-file: %bookmarks
s: read source-file

ss: copy s 

parse/all ss rule3
```


[10:03:59](#NqX_3lntLY_6MDIR8scq316sduTnZhwLxv2-RprecxY) <GiuseppeChillemi (GiuseppeChillemi)>:
@hiiamboris please, take a look now í ½í¸‰

[10:05:18](#Vep4vxktGArsPUIVRaBEAtkDbgYFK0x0dj9fR2UXLfc) <GiuseppeChillemi (GiuseppeChillemi)>:
* In Rebol I have used this code:

```
anon: func [val][

;RED    
;alpha: "aieouAEIOU bcdfghlmprst BCDFGHLMPRST"
;xx: copy/part random rejoin [val alpha] length? val
    xx: random val
    change/part st xx en
]

rule3: [
	some 
     [
       {"} [{guid} | {name} | {url}] {": "}
        st: copy tmp to {"} en: (
        ;probe copy/part skip st -20 skip st 20
        ;For debugging. It shows the string before and after the first catch position
        if (index? st) < (index? en) [anon tmp]
        ;For ""        
        ) skip
        | skip
    ]
]

source-file: %bookmarks
s: read source-file

ss: copy s 

parse/all ss rule3
```


[10:05:36](#E_pD27ttvy0QisUzPnW6-17IaSuAnHfJK2dFLI96kbg) <GiuseppeChillemi (GiuseppeChillemi)>:
* In Rebol I have used this code:

```
anon: func [val][

;RED    
;alpha: "aieouAEIOU bcdfghlmprst BCDFGHLMPRST"
;xx: copy/part random rejoin [val alpha] length? val

    xx: random val
    change/part st xx en
]

rule3: [
	some 
     [
       {"} [{guid} | {name} | {url}] {": "}
        st: copy tmp to {"} en: (
        ;probe copy/part skip st -20 skip st 20
        ;For debugging. It shows the string before and after the first catch position
        if (index? st) < (index? en) [anon tmp]
        ;For ""        
        ) skip
        | skip
    ]
]

source-file: %bookmarks
s: read source-file

ss: copy s 

parse/all ss rule3
```


[10:06:21](#iW2Bv4UhEPSsmnEoYatLrWojOASzBJnZt1sbku2d7aI) <GiuseppeChillemi (GiuseppeChillemi)>:
* In Rebol I have used this code:

```
anon: func [val][

;RED    
;alpha: "aieouAEIOU bcdfghlmprst BCDFGHLMPRST"
;xx: copy/part random rejoin [val alpha] length? val

    xx: random val
    change/part st xx en
]

rule3: [
	some 
     [
       {"} [{guid} | {name} | {url}] {": "}
        st: copy tmp to {"} en: (

        ;Uncomment for debugging. It shows the string before and after the first 
catch position
        ;probe copy/part skip st -20 skip st 20
        if (index? st) < (index? en) [anon tmp]
        ;For ""        
        ) skip
        | skip
    ]
]

source-file: %bookmarks
s: read source-file

ss: copy s 

parse/all ss rule3
```


[10:06:39](#NU8eksXmPRQRcGWnjdXKZ0YBcypxZXN3XCJLGY_flss) <GiuseppeChillemi (GiuseppeChillemi)>:
* In Rebol I have used this code:

```
anon: func [val][

;RED    
;alpha: "aieouAEIOU bcdfghlmprst BCDFGHLMPRST"
;xx: copy/part random rejoin [val alpha] length? val

    xx: random val
    change/part st xx en
]

rule3: [
	some 
     [
       {"} [{guid} | {name} | {url}] {": "}
        st: copy tmp to {"} en: (

        ;Uncomment for debugging. It shows the string before and after the first 
catch position
        ;probe copy/part skip st -20 skip st 20

        if (index? st) < (index? en) [anon tmp]
        ;For ""        
        ) skip
        | skip
    ]
]

source-file: %bookmarks
s: read source-file

ss: copy s 

parse/all ss rule3
```


[10:07:40](#67ZJSJiFiKaSgOm7mak7VBqTOpg7HHZNTlqmN6agt-w) <GiuseppeChillemi (GiuseppeChillemi)>:
* In Rebol I have used this code:

```
anon: func [val][

;RED    
;alpha: "aieouAEIOU bcdfghlmprst BCDFGHLMPRST"
;xx: copy/part random rejoin [val alpha] length? val

    xx: random val
    change/part st xx en
]

rule3: [
	some 
     [
       {"} [{guid} | {name} | {url}] {": "}
        st: copy tmp to {"} en: (

        ;Uncomment for debugging. It shows the string before and after the first 
catch position
        ;probe copy/part skip st -20 skip st 20

        ;Checks for empty string "", otherwise anonymize 
        if (index? st) < (index? en) [anon tmp]

        ) skip
        | skip
    ]
]

source-file: %bookmarks
s: read source-file

ss: copy s 

parse/all ss rule3
```


[10:12:42](#6pwgh-9ag0w8s364OsQq_xy2DVinQpymkWB7khPHus4) <hiiamboris (NOT THIS ONE)>:
I'll report this bug. We've discovered it with @toomasv quite a while ago anyway.

[10:13:08](#5IUpR0NgPo9dibk5jGh3ZoXgJzbQhVIvySxbfm5b6kg) <hiiamboris (NOT THIS ONE)>:
* I'll report this issue. We've discovered it with @toomasv quite a while ago anyway.

[10:25:22](#e6Ci5LjPxq7G2ss9B5jAAY4a2DQ1NF8S1pi-gDHOBrQ) <GiuseppeChillemi (GiuseppeChillemi)>:
I am currently using my Rebol version on Red, it was very quick on 1MB part but it is still running on a 90MB one. 
There are multiple issues causing an amplification effect.
I will try to build some polished test scripts.  

[10:26:29](#ruestJatYD_9gnOqsNMMaryCLlbtewvUNk1CUrUw2DY) <hiiamboris (NOT THIS ONE)>:
https://github.com/red/red/issues/4836

[14:00:34](#Ogdmee05wRoaz1aEgjbdYP-4UGFGw1fYQtdEyvASstY) <GiuseppeChillemi (GiuseppeChillemi)>:
@hiiamboris Three hour ago I have run a Red version of the Rebol Script, it is still running. There is more than just a `change ` in `parse`. I will investigate and report.

[14:00:50](#ZB40InA8UEPgD-dfnwSsg81xXMqDz1E4-ieJSGLCF_I) <GiuseppeChillemi (GiuseppeChillemi)>:
* @hiiamboris Three hour ago I have run a Red version of the Rebol Script and it is still running. There is more than just a `change ` in `parse`. I will investigate and report. 

[16:17:41](#j2I4646jxoXTQ3SGJMJre1sukk073pSH6iDpXb0m5OA) <GiuseppeChillemi (GiuseppeChillemi)>:
On garbage collector: https://github.com/red/red/issues/4837

[19:23:22](#q_3OU6LN5HhZ7gQR0iU33ziErL_O5HWtdHojgQ7JYqY) <greggirwin (Gregg Irwin)>:
Thanks so much @GiuseppeChillemi. These are really important bugs. Changing data in place should be fine. Of course it will have a big impact if you have allocations due to expansion; but if the size stays the same it should be fast and efficient. 

[19:34:21](#KgWG5Wm5aqbKS_Dxbm4He0hI7p6T0O5WJBUFqPLOHh4) <GiuseppeChillemi (GiuseppeChillemi)>:
I have some more juice... (give me few minutes!)

[19:45:58](#Cz_g8yWFFz0VKBPt9ni2tnUu8-ZlMnNAEXzZha6vqLM) <greggirwin (Gregg Irwin)>:
I'll need to fix the ANSI issue here to load your test file in Red.

[19:46:53](#NXMnNdZsuKAhuWCSO2O_w9pwJufSZ0xXCVESIBokeuU) <GiuseppeChillemi (GiuseppeChillemi)>:
I have a new dataset 

[19:47:52](#BtHlBZPDMiLXOpd6PwosQYChZD64r2qGWhljbixiS8I) <greggirwin (Gregg Irwin)>:
I see the bug you mean in UE. No Unicode save option with this file.

[19:48:36](#dVKcFijRHriogYvv07D98e9xDinHjQDEEJfwVWOcyNg) <greggirwin (Gregg Irwin)>:
Will await your new dataset if it's UTF-8. :^)

[19:50:10](#PWjsZH7mvzu1e-t-DGvOKTYxsJsiPvy9k4XkyKD5GvM) <GiuseppeChillemi (GiuseppeChillemi)>:
https://github.com/red/red/issues/4840

[19:50:32](#mrKa_PjqXcbjEB1k3y5oK264dXLTveJD4pkaAdDo3Ys) <GiuseppeChillemi (GiuseppeChillemi)>:
Direct link to the dataset: https://drive.google.com/file/d/11eqFwcWZE_iQxE4WtGmLSZjIbw0s1P65/view?usp=sharing

[19:50:54](#tRDQ8JkgSS10_OkQamM7QgL1R-y9W1SgwVQp6Bagssk) <GiuseppeChillemi (GiuseppeChillemi)>:
(Note: load/as 'json returns error! in Red) 

[19:51:13](#leHOuYPCjqZW_cJC1mF-3tJ5EK8s8wINZabmK87TGDw) <GiuseppeChillemi (GiuseppeChillemi)>:
* (Note: load/as 'json returns error! in Red, use READ) 

[19:52:16](#JeM3B40HJEsuorRfWcCmyDanVZ8B2rmFG7IFw3eKvwY) <GiuseppeChillemi (GiuseppeChillemi)>:
> I see the bug you mean in UE. No Unicode save option with this file.

Yeah, this file has really been a can of worms!!!

[19:58:35](#crC12HjzvZ-ZvaLVdT-QSPsu91aXwxV7sRqKsgDGwIw) <GiuseppeChillemi (GiuseppeChillemi)>:
* *(Note: load/as 'json returns error! in Red, use READ)* 

[19:58:51](#Nn1j6FsuS4DkBmrIl_TtDWdkQtfh3diux1SUobj_6dY) <GiuseppeChillemi (GiuseppeChillemi)>:
* **(Note: load/as 'json returns error! in Red, use READ)** 

[20:02:21](#zlLjkqaH4W8E2tN5vgV3Q_AHju1b36c6REsGYSly-z8) <greggirwin (Gregg Irwin)>:
The funny thing is that sync metadata field is half the file, so it's ~45M, as a single string, on a single line.  Really Google?

[20:06:15](#2rbLYgKGw3ePA_fFJKxBPcg9KAP_eNDuG7z1NX1ipik) <GiuseppeChillemi (GiuseppeChillemi)>:
Yes, it is í ½í¸ƒ

[20:09:32](#NSVCLlunlSr5_KaWfFj481bDby0ktHUy1gPf8L0OFLA) <greggirwin (Gregg Irwin)>:
Step one might be to make the JSON error location more informative. It's not helpful at all right now. 

[20:17:39](#SccBeibMH0weMRG1GqmgYYr8m8s3kgvwYnXlp9RTS20) <GiuseppeChillemi (GiuseppeChillemi)>:
@greggirwin It is really important to have the read offset of the error

[20:24:26](#AAjYe_e7C6f-9dizZQHfubEsvwhh7P-Rq1RmPPVRqXo) <greggirwin (Gregg Irwin)>:
Agreed.

[21:33:58](#-n53o-Zu3PNjprjx2AcM3XENip5o-fS62-7AGl78pcA) <greggirwin (Gregg Irwin)>:
@GiuseppeChillemi the randomization causes problems because of backslash escaped chars in the source JSON. e.g. line 490.

[21:36:06](#DGhntmqU0_BbsDZ9QSyGyvh4nnLKL7vVkqSzKbbRF7E) <greggirwin (Gregg Irwin)>:
What we should probably do to anonymize it is use only a safe subset of chars, which don't require escaping, rather than randomizing the original content. 

[21:43:37](#I_BHPe9qARekEgaIYqD7oK8wF83V4UmJCbqOFw8q0V8) <gltewalt (Greg T)>:
like nothing but "*"

[21:57:25](#hZBlUkOcgccHg36nA2pSXl0RS5ZZlLRcVC7BBBCgGz0) <gltewalt (Greg T)>:
error messages get printed to terminal if I start my compiled program from the command line. Should they be?
It can be alleviated by wrapping the error producer in attempt, but.. just wondering

[23:24:07](#mwrHd3ZlKub1c7k8-gGdotSlY1ugbTFWM9RcCeaPRKQ) <GiuseppeChillemi (GiuseppeChillemi)>:
@greggirwin Would you please test this: https://gist.github.com/GiuseppeChillemi/0f67922e5b5c76cff445c3c38b103987
Maybe I have found a bug on DT

Here is the output I get:

```
Start Time: 27-Feb-2021/23:54:51+01:00
"-- start read file--"
Source-size:  91265933 Characters to-scan:  1000 time: 0:00:00
"-- start read file--"
Source-size:  91265933 Characters to-scan:  10000 time: 0:00:00.0040034
"-- start read file--"
Source-size:  91265933 Characters to-scan:  100000 time: 0:00:00.064964
"-- start read file--"
Source-size:  91265933 Characters to-scan:  500000 time: 0:00:01.17734
"-- start read file--"
Source-size:  91265933 Characters to-scan:  1000000 time: 0:00:04.99314
"-- start read file--"
Source-size:  91265933 Characters to-scan:  2000000 time: 0:00:23.0888
"-- start read file--"
Source-size:  91265933 Characters to-scan:  3000000 time: 0:00:53.2765
"-- start read file--"
Source-size:  91265933 Characters to-scan:  4000000 time: 0:01:49.5493
"-- start read file--"
Source-size:  91265933 Characters to-scan:  5000000 time: -23:57:10.2192
(halted)
```

The last negative value would to be there.

*I have just noticed I have passed midnight, maybe it is caused by `DT` not recognizing this? We should call it "the cinderella bug"*



[23:24:34](#UOoiRToombaZeiD3S0SK6DPkQoMZ8ZE8C9pmkCv8mUU) <GiuseppeChillemi (GiuseppeChillemi)>:
* @greggirwin Would you please test this: https://gist.github.com/GiuseppeChillemi/0f67922e5b5c76cff445c3c38b103987
Maybe I have found a bug on DT

Here is the output I get:

```
Start Time: 27-Feb-2021/23:54:51+01:00
"-- start read file--"
Source-size:  91265933 Characters to-scan:  1000 time: 0:00:00
"-- start read file--"
Source-size:  91265933 Characters to-scan:  10000 time: 0:00:00.0040034
"-- start read file--"
Source-size:  91265933 Characters to-scan:  100000 time: 0:00:00.064964
"-- start read file--"
Source-size:  91265933 Characters to-scan:  500000 time: 0:00:01.17734
"-- start read file--"
Source-size:  91265933 Characters to-scan:  1000000 time: 0:00:04.99314
"-- start read file--"
Source-size:  91265933 Characters to-scan:  2000000 time: 0:00:23.0888
"-- start read file--"
Source-size:  91265933 Characters to-scan:  3000000 time: 0:00:53.2765
"-- start read file--"
Source-size:  91265933 Characters to-scan:  4000000 time: 0:01:49.5493
"-- start read file--"
Source-size:  91265933 Characters to-scan:  5000000 time: -23:57:10.2192
(halted)
```

The last negative value would to be there.

*I have just noticed I have passed midnight, maybe it is caused by `DT` not recognizing this? We should call it "the cinderella bug"* :-)



[23:25:21](#pV0lVNqZfSRTnYt-LD4daTAVfckHH22HcN1_brP6Yag) <GiuseppeChillemi (GiuseppeChillemi)>:
* @greggirwin et all
Would you please test this: https://gist.github.com/GiuseppeChillemi/0f67922e5b5c76cff445c3c38b103987
Maybe I have found a bug on DT

Here is the output I get:

```
Start Time: 27-Feb-2021/23:54:51+01:00
"-- start read file--"
Source-size:  91265933 Characters to-scan:  1000 time: 0:00:00
"-- start read file--"
Source-size:  91265933 Characters to-scan:  10000 time: 0:00:00.0040034
"-- start read file--"
Source-size:  91265933 Characters to-scan:  100000 time: 0:00:00.064964
"-- start read file--"
Source-size:  91265933 Characters to-scan:  500000 time: 0:00:01.17734
"-- start read file--"
Source-size:  91265933 Characters to-scan:  1000000 time: 0:00:04.99314
"-- start read file--"
Source-size:  91265933 Characters to-scan:  2000000 time: 0:00:23.0888
"-- start read file--"
Source-size:  91265933 Characters to-scan:  3000000 time: 0:00:53.2765
"-- start read file--"
Source-size:  91265933 Characters to-scan:  4000000 time: 0:01:49.5493
"-- start read file--"
Source-size:  91265933 Characters to-scan:  5000000 time: -23:57:10.2192
(halted)
```

The last negative value would to be there.

*I have just noticed I have passed midnight, maybe it is caused by `DT` not recognizing this? If someone confirm we have "the cinderella bug"* :-)



[23:26:03](#kdXPXGQwma6QZhZUT9bUUd-EYEmZNXfZRJZucqI6htQ) <GiuseppeChillemi (GiuseppeChillemi)>:
Note: dataset address is inside the script

[23:31:03](#aKC7uqmrPseMK-t_wbbE845QIrVmVMhrU8YVlbWa_Kc) <GiuseppeChillemi (GiuseppeChillemi)>:
* @greggirwin et all
Would you please test this: https://gist.github.com/GiuseppeChillemi/0f67922e5b5c76cff445c3c38b103987
Maybe I have found a bug on DT

Here is the output I get:

```
Start Time: 27-Feb-2021/23:54:51+01:00
"-- start read file--"
Source-size:  91265933 Characters to-scan:  1000 time: 0:00:00
"-- start read file--"
Source-size:  91265933 Characters to-scan:  10000 time: 0:00:00.0040034
"-- start read file--"
Source-size:  91265933 Characters to-scan:  100000 time: 0:00:00.064964
"-- start read file--"
Source-size:  91265933 Characters to-scan:  500000 time: 0:00:01.17734
"-- start read file--"
Source-size:  91265933 Characters to-scan:  1000000 time: 0:00:04.99314
"-- start read file--"
Source-size:  91265933 Characters to-scan:  2000000 time: 0:00:23.0888
"-- start read file--"
Source-size:  91265933 Characters to-scan:  3000000 time: 0:00:53.2765
"-- start read file--"
Source-size:  91265933 Characters to-scan:  4000000 time: 0:01:49.5493
"-- start read file--"
Source-size:  91265933 Characters to-scan:  5000000 time: -23:57:10.2192
(halted)
```

The last negative value would to be there.

*EDIT: I have just noticed I have passed midnight, maybe it is caused by `DT` not recognizing this? If someone confirm we have "the cinderella bug"* :-)



[23:31:08](#h_uW4j2IxG7QQT1i-ctusgfBgepZtxUJ1U4mbltoX4A) <GiuseppeChillemi (GiuseppeChillemi)>:
https://github.com/red/red/issues/4842

[23:31:26](#84wDXYn1Cayn1PdccaGJWIAyEHvJgRqaoxzQE2NmkuA) <GiuseppeChillemi (GiuseppeChillemi)>:
* Note: dataset address is located inside the script header

[23:56:36](#kndlpmvjbgi9YjtGOtlN1HsJSar-7oi-bKQLVA1XMak) <GiuseppeChillemi (GiuseppeChillemi)>:
I have made a little update to the gist: modify `use-change: true` to false to see the speed without change. 
Code is compatible for both Red and Rebol

[23:57:16](#37LKFIvVO1FQH-RLyaytt_HKx17V1-WLZTJJjMyazOI) <GiuseppeChillemi (GiuseppeChillemi)>:
* I have made a little update to the gist: modify `use-change: true` to `false` to obtain the `find` speed without `change`. 
Code is compatible for both Red and Rebol

## 28-Feb-2021

[0:09:54](#8jpgRmFPlv7yoZaL7G9svt7ZRAfwgJoM0kJJpLR093s) <GiuseppeChillemi (GiuseppeChillemi)>:
I have tested the script on Red and Rebol. Without `change`, on pure `find` speed result is Rebol being 5x faster.

Red:
```
Source-size:  91286172 Characters to-scan:  5000000 time: 0:00:01.06039
```

Rebol:
```
Source-size:  91331302 Characters to-scan:  5000000 time: 0:00:00.156
```

[0:10:42](#628tnId1PEOHYMb_F6ok43xIrJE7_SVy8lVr_HeNo1Y) <GiuseppeChillemi (GiuseppeChillemi)>:
* I have tested the script on Red and Rebol. Without `change`, on pure `find` speed result is Rebol being 5x faster.

Red:
```
Source-size:  91286172 Characters to-scan:  5000000 
time: 0:00:01.06039
```

Rebol:
```
Source-size:  91331302 Characters to-scan:  5000000 
time: 0:00:00.156
```

[0:11:01](#dGUpSgpp4M_a05D8XH0vbRdN7DTZnxE8jZAOLO-o9F8) <GiuseppeChillemi (GiuseppeChillemi)>:
* I have tested the script on Red and Rebol. Without `change`, on pure `find` speed result is Rebol being 5x faster on the average, peaking at 6x

Red:
```
Source-size:  91286172 Characters to-scan:  5000000 
time: 0:00:01.06039
```

Rebol:
```
Source-size:  91331302 Characters to-scan:  5000000 
time: 0:00:00.156
```

[0:11:38](#NOSKAnVNUIoVkF69jt7SPDyAGS9mitd4PNmZ7FshW2g) <GiuseppeChillemi (GiuseppeChillemi)>:
* I have tested [the script](https://gist.github.com/GiuseppeChillemi/0f67922e5b5c76cff445c3c38b103987)  on Red and Rebol. Without `change`, on pure `find` speed result is Rebol being 5x faster on the average, peaking at 6x

Red:
```
Source-size:  91286172 Characters to-scan:  5000000 
time: 0:00:01.06039
```

Rebol:
```
Source-size:  91331302 Characters to-scan:  5000000 
time: 0:00:00.156
```

[0:12:13](#9-qzp_94EZ4xJf1nWi3bI_6Wad0zyXCulrXVeWYpzSQ) <GiuseppeChillemi (GiuseppeChillemi)>:
* I have tested [the script](https://gist.github.com/GiuseppeChillemi/0f67922e5b5c76cff445c3c38b103987)  on Red and Rebol. With`use-change: false`, on pure `find` speed result is Rebol being 5x faster on the average, peaking at 6x

Red:
```
Source-size:  91286172 Characters to-scan:  5000000 
time: 0:00:01.06039
```

Rebol:
```
Source-size:  91331302 Characters to-scan:  5000000 
time: 0:00:00.156
```

[0:13:01](#D5jZPYFDCeFkecgG-PfNx4FJwFSi5Q8oPjcLTbq7asc) <GiuseppeChillemi (GiuseppeChillemi)>:
Enough for today, good night to everyone. See you tomorrow.

[0:13:29](#WGbYoL0OGVHGVk_jAnleduCqkJv-pn3BoAPRMtaVNjk) <GiuseppeChillemi (GiuseppeChillemi)>:
* I have tested [the script](https://gist.github.com/GiuseppeChillemi/0f67922e5b5c76cff445c3c38b103987)  on Red and Rebol. With`use-change: false`, on pure `find`, speed result is Rebol being 5x faster on the average, peaking at 6x

Red:
```
Source-size:  91286172 Characters to-scan:  5000000 
time: 0:00:01.06039
```

Rebol:
```
Source-size:  91331302 Characters to-scan:  5000000 
time: 0:00:00.156
```

[0:27:56](#-nPtCKDY4E8yN_12qGvWXxkX0QTbY7bZTe0_OHmg_Us) <GiuseppeChillemi (GiuseppeChillemi)>:
@greggirwin 
> @GiuseppeChillemi the randomization causes problems because of backslash escaped chars in the source JSON. e.g. line 490.

If you explain me which are the combination to avoid I will change the randomized to be json compatible.

Also, I want to randomize URLs maintaining the length of each segment, the characters `:`, `\` and what is before the first `:`. I will change only numbers with numbers and alphabetic characters with other of the same type (Am I missing something?) 

[0:29:07](#4JwciKl_nzICpFw0hRkMVhg7-wgef39dzg22N2uDRFI) <GiuseppeChillemi (GiuseppeChillemi)>:
* @greggirwin 
> @GiuseppeChillemi the randomization causes problems because of backslash escaped chars in the source JSON. e.g. line 490.

If you explain me which are the combination to avoid I will change the randomizer to be json compatible, redoing the randomization a forbidden combination is in the generated string.

Also, I want to randomize URLs maintaining the length of each segment, the characters `:`, `\` and what is before the first `:`. I will change only numbers with numbers and alphabetic characters with other of the same type (Am I missing something?) 

[0:29:15](#T8MLpWsRxOVYffk9FPcifH27HoI9C19JRYhTAHI0JWY) <GiuseppeChillemi (GiuseppeChillemi)>:
* @greggirwin 
> @GiuseppeChillemi the randomization causes problems because of backslash escaped chars in the source JSON. e.g. line 490.

If you explain me which are the combination to avoid I will change the randomizer to be json compatible, redoing the randomization a forbidden combination is found in the generated string.

Also, I want to randomize URLs maintaining the length of each segment, the characters `:`, `\` and what is before the first `:`. I will change only numbers with numbers and alphabetic characters with other of the same type (Am I missing something?) 

[0:52:14](#PNJw2BAMr1J0YAPdd8sgVgws_Sx9RUPlfUz6E5MuIPo) <greggirwin (Gregg Irwin)>:
One of them had an extra double quote in the middle, and `/` is a problem. If you just use alpha chars, it should be fine.

[0:53:09](#zZw_TGXJYF_dCUEwtKnE6UyE2aoGpeT1AT8NWUeGo8o) <greggirwin (Gregg Irwin)>:
I submitted a PR to improve the JSON error information.

[0:59:30](#xyqgw6uL2G0Sc6jwZQIFslZ72PLq01V-iBZI2JzDIjg) <GiuseppeChillemi (GiuseppeChillemi)>:
Can't sleep...

[1:00:16](#YpTHidMoJILjP3J71uOC4SnvqR0q9EZGzRMV5uP3cLI) <GiuseppeChillemi (GiuseppeChillemi)>:
Do we have a function or a parse rule to test if an url is a valid one?

[1:00:49](#OaGTIGCiFUvFDW9t9Cd3jgmNWBsTWC4soA9UKcbddy8) <GiuseppeChillemi (GiuseppeChillemi)>:
Also, which is the solcatiin of such tests in Red source?

[1:06:39](#ffQfNJKPlkboB8v0rdnSE8oc71M5hLOsn3wyO84CdI4) <greggirwin (Gregg Irwin)>:
I don't know what "solcatiin" is, but `url-parser` used by `decode-parse` is probably what you're after.

[1:07:19](#6O5YfbfrekbzXrHJmVcZCvQxRffpUPMBHO4gE974zi0) <greggirwin (Gregg Irwin)>:
* I don't know what "solcatiin" is, but `url-parser` used by `decode-url` is probably what you're after.

[1:10:46](#lPou5HbK389dbVXLdln8qhIMIYkAg7JwqjhKzb_YBBo) <GiuseppeChillemi (GiuseppeChillemi)>:
LOL, thank you auto corrector! 

[1:11:00](#0cEMuoVSwU32PL4OU34tBhvNpt5QasSAaTBeRCN2dB0) <GiuseppeChillemi (GiuseppeChillemi)>:
Also, which is the LOCATION of such tests in Red source?

[1:22:24](#gNVBo9kfN6V-lHnA3xkCj_woetHMV5AoaUgxLyFkhAQ) <greggirwin (Gregg Irwin)>:
%environment/networking.red

[9:19:02](#qMDrJgQmnWf6TPI55Qo5rqQPhehqg5Zv1K3zyJmdg2s) <GiuseppeChillemi (GiuseppeChillemi)>:
@greggirwin However, I think that the giga sync string is there on purpose, to hide any information that could be extracted about their internal data structure. 

[18:05:03](#bMf8vr7V8qXxK6QUmPqb0xPWEqygDNT8OG0L_JeME08) <gltewalt (Greg T)>:
Can't `form` a block with `,` or `\` words in it. How do I handle this?

[18:05:35](#ofgVYBWA-aT86WT8KiFubT-LFB0OoWYFw7PZz6vibBI) <gltewalt (Greg T)>:
invalid character in transcode

[18:06:07](#1dU81aq0IFhWCy3YvzlhMRVfw6heGGVaKWnU0LgzVK8) <hiiamboris (NOT THIS ONE)>:
`,` and `\` are no words

[18:07:36](#CWvN2GL3EK8-8EVopyzDtKWE01NFUlzvsCZWXjqb2Bk) <gltewalt (Greg T)>:
values

[18:16:39](#F_zE7GG-AA1a-8f7K6dFEfpPzLooPmp_UJAaranVQ4I) <hiiamboris (NOT THIS ONE)>:
what kind of values?

[18:17:25](#g9T98PAwtgEZUHrrrXh0IrJ5v5PV6GztzkClS_mo3Nc) <gltewalt (Greg T)>:
[one, two three\]

[18:17:39](#jTllZI19bTgbzlgUemvm2TN0BCA0mtdMPJ9BrmTKPkQ) <hiiamboris (NOT THIS ONE)>:
it's a string not a block, right?

[18:17:45](#4QFSylFDIvwC_1XbOe7Io4ViaNVy7whJl3zvJmxYGHE) <gltewalt (Greg T)>:
Block

[18:17:48](#zmcaznDl2LFlouVwTVHCplbu4y0GJdvVYVjd-dtvSKM) <gltewalt (Greg T)>:
* `[one, two three\]`

[18:17:55](#0zfz4_4TBDOMule4zQOzQANEF0ug1tlGqmV115o1hdw) <hiiamboris (NOT THIS ONE)>:
no it's not

[18:18:14](#wPhewPaTf9jKf-cLnLsceBYrAA9AWDPQWJRBGvPBZgg) <gltewalt (Greg T)>:
That's not a block up there?

[18:18:50](#su66KXGL0LTIic6r9lc-7zK4wnMlp8EaIRAyhtjuoAc) <hiiamboris (NOT THIS ONE)>:
I see a string, unloadable

[18:20:16](#ZwGpvP9EfPusqytaz1QEmkze7NmRlklzW3Hgj39ZBig) <gltewalt (Greg T)>:
I see a string, unloadable

[18:21:50](#E1bMvRwICEB996UmR8bOCskzebqdlVx9sHgnHqo_gCg) <gltewalt (Greg T)>:
I see a block with 2 weird words. Only they aren't legal

[18:22:07](#-1wxpCft5HYue4yct3zNLWSkA3jFl3eluCUmnZrwokA) <gltewalt (Greg T)>:
* I see a block with 2 weird words and one normal word. Only they aren't legal

[18:23:58](#dE2dvk6Ez2K5kQddSGtDO2y-10o4FSZKCbfueudf4Z0) <gltewalt (Greg T)>:
I guess we just can't deal with that, since illegal

[18:35:07](#PqnT7jg-SCxMi3QmCh3LSx8cJ8LxWpJYjJps3oxETAI) <gltewalt (Greg T)>:
err, two illegal words and one normal word

## 1-Mar-2021

[2:31:06](#2BjU1wQJOc0LJidn3mPyWFsgS_MtwNS0Dni8ROK_Cd8) <greggirwin (Gregg Irwin)>:
@gltewalt there's valid Red, and there's everything else.

With the fast lexer, we lost `load/trap`, at least for now, but you can [roll your own](https://gist.github.com/greggirwin/91dc025b1c25b9efc24996af0207bde2). @toomasv has a tweaked version as well, depending on your needs.
```
>> show-nice-trap-info load-trap "[one, two three\]"
So far I loaded 0 values 
The last of which are  [] 
But I stopped parsing after "one" 
On line 1 
Where I thought I found a word! 
But then saw ", two three\]" 
```

[2:34:18](#FrjNh8zTRC3Tky5Bz-0cu9Tgpi4Epc-Kx8LYkaDBVIA) <greggirwin (Gregg Irwin)>:
A fun experiment will be to try loading *anything*, sifting the good from the bad, and seeing how it might be useful. From there we can look at the most common unloadable patterns, especially in automated texts, and suggest `pre-load` patterns people could use on their non-Red data that would make it Red friendly. 

[2:42:37](#H_yG2xBY0tN-rJcCxVaIMgZZ8Eet8IVeZObq8XHCRcM) <gltewalt (The other Greg)>:
Yep I tried load/trap first off, but it no worky 

[2:43:03](#ObwqoojkZw4mlD1z176Np77q4d08MH0Hj6lF75D5EWg) <gltewalt (The other Greg)>:
I'm guess most common non loadable would be comma

[2:44:35](#GwbUN7ptLabj8mk6LchxFlyMUPesM-AATm273R1WltI) <gltewalt (The other Greg)>:
That does sound like a fun thing to explore. 

## 5-Mar-2021

[10:56:37](#KRbyI86PvsChtfBQx58zacgIaH7phoAVmqGRxFq3HwY) <zwortex (zwortex)>:
Hello. The following opens up the window on the top-left corner of the screen, however the window's position includes the title bar (on Windows 64). Is it normal ?

Furthermore, the button position is -1x-1. Same question.

```
view/flags/options [
    origin 0x0
    at 0x0
    button "click to close" [
        print reduce [
            "button/offset:" face/offset ; -1x-1
            "window/offset:" event/window/offset ; 0x0
        ]
        unview
    ]
][] [offset: 0x0]
```


[11:12:05](#vDMttsCm7TMLk3z1_C3gTbmzKTn_G1cLqdUTROwQrKs) <hiiamboris (NOT THIS ONE)>:
yes, it's by design

[11:16:38](#45vqLn8VN8g-1pOrgALQ4zc_VFqrbu4777tB2lssBRE) <zwortex (zwortex)>:
Hi hiiamboris, how do I compute the screen position of a widget then ? 

[11:29:46](#F0JwOFgR4GLIFHfT9_zEKxd866lObsBP2OUuCPFpOQc) <zwortex (zwortex)>:
Maybe I should rephrase. My question was : the window's position does not include the title bar.

[11:56:33](#Cm2Pj0dBKNbLUp5YHLKJCFb89-_WFVXJ-Fc6l2kufd8) <zwortex (zwortex)>:
I have further issues with window's offset

[11:57:06](#PvQ1ZDa6YjpJCVhYDPIoMec7gtOFRT1nK21fl0Cselc) <zwortex (zwortex)>:
; Here, the offset of the window opened when clicking on "Window", is shifted by -1x-1 once opened (at least when calling window/offset)
```
view [
    button "Window"
        [
            pos:  ( event/offset + face/offset + event/window/offset )
            print reduce [
                "w2/offset:" pos
            ]
            view/flags/options [
                button "Close" [
                    print reduce [
                        "w2/offset:" event/window/offset
                    ]
                    unview
                ]
            ][
                ;no-title no-border no-buttons
            ][
                offset: pos
            ]
        ]
    button "Close" [ unview ]
]
```

[11:57:46](#g5qmMT6UBB6gsONxTdfiKcK51efgTc0634n6EwQbDNY) <zwortex (zwortex)>:
; Here, the position of the window opened when clicking on "Window" button is not the mouse position. Should it not be so ?
```
view [
    button "Window"
        [
            pos:  ( event/offset + face/offset + event/window/offset )
            print reduce [
                "w2/offset:" pos
            ]
            view/flags/options [
                button "Close" [
                    print reduce [
                        "w2/offset:" event/window/offset
                    ]
                    unview
                ]
            ][
                no-title no-border no-buttons
            ][
                offset: pos
            ]
        ]
    button "Close" [ unview ]
]
```

[12:00:36](#Jnm_-ZlcVKFm-qJBDyYG91PUZJVnH8D1yyl6dZN5IW4) <hiiamboris (NOT THIS ONE)>:
> Maybe I should rephrase. My question was : the window's position does not include the title bar.

It's a known design issue. Both offsets (of client and non-client area) are useful, but there's only one `offset:` facet. I raised the question in https://github.com/red/red/issues/4270 but didn't receive an answer.


[12:03:02](#4jeG1ZZy-57PsI965UnrtPM3J-3bqAyPy6XvYp0Q9h4) <hiiamboris (NOT THIS ONE)>:
I was using routines on Windows: https://gitlab.com/hiiamboris/red-view-test-system/-/blob/master/sys-ui.red#L8

[12:07:59](#gZ7jfNM_eP4Bq0jnWyKNrFu85bFP8xX_eAWWOb2Uc4M) <hiiamboris (NOT THIS ONE)>:
> Here, the offset of the window opened when clicking on "Window", is shifted by -1x-1 once opened (at least when calling window/offset)

How do you know that about -1x-1? This code does not seem to illustrate it.

[12:08:16](#KCPBbZsDzZIa8kSf5p2xlBZ8cqllj96xMi8C-3FVSFw) <hiiamboris (NOT THIS ONE)>:
> ; Here, the position of the window opened when clicking on "Window" button is not the mouse position. Should it not be so ?

Looks like a bug to me

[12:10:31](#prW_9io2Mqfr38T5er0JHryvm4lGzD5-XnEe-KYVZkA) <hiiamboris (NOT THIS ONE)>:
I see what you mean by -1x-1. It is random between 0x0 and -1x-1. And it's a rounding error. Not a bug.

[12:20:14](#WKhgM4pyMnMn2mnXLgXfdXrfVptGFNl7sM51NzhEkWY) <hiiamboris (NOT THIS ONE)>:
Perhaps all faces should include sizes of all borders, but it's not gonna be very useful until floating point pairs are implemented.

[12:33:59](#_5Nqg9XZK3HPuP3UquEDh6jqg9xrEbCXLAhMPJstl4c) <zwortex (zwortex)>:
Leaving the -1x-1 apart, if windows offet is the client area top-left corner in the screen, example 1 and 3 are bugs : 
1- should display the client area at 0x0 and not the client area shifted to account for the title bar
3- should display the client area exactly at the same position whether there is a title bar or not

If window offset is not the client area top-left corner but the window top-left corner, it should be possible to know the client area offset, maybe adding an intermediate pane for the client-area.

As in any case, it should be possible to get any face absolute position within the screen.

[12:34:37](#HgtnKcKoW6S-pW9gqaPzyXWrr9dj5N7PGZDVnQ8Cowo) <zwortex (zwortex)>:
* Leaving the -1x-1 apart, if windows offet is the client area top-left corner in the screen, example 1 and 3 are bugs : 
1- should display the client area at 0x0 and not have the client area shifted to account for the title bar
3- should display the client area exactly at the same position whether there is a title bar or not

If window offset is not the client area top-left corner but the window top-left corner, it should be possible to know the client area offset, maybe adding an intermediate pane for the client-area.

As in any case, it should be possible to get any face absolute position within the screen.

[12:36:09](#2K7pItd9ShZnlmsems44DZa7WG6GrZGzfskqBtIOki4) <zwortex (zwortex)>:
* Leaving the -1x-1 apart, if windows offset is the client area top-left corner in the screen, examples 1 and 3 are bugs : 
1- should display the client area at 0x0 and not have the client area shifted to account for the title bar
3- should display the client area exactly at the same position whether there is a title bar or not

If window offset is not the client area top-left corner but the window top-left corner, it should be possible to know the client area offset, maybe adding an intermediate pane for the client-area.

As in any case, it should be possible to get any face absolute position within the screen.

[12:42:36](#r8A5i6o1epuLrpNZD8fj6ErZcvvCMAPQnjkhHvw5JpQ) <hiiamboris (NOT THIS ONE)>:
I agree. Should you have any ideas on how to solve it and make everyone happy, share them, we'll be listening í ½í¸‰

[13:02:02](#k02yapSu409gYfb9u7W9qfoyyVKvZWCXmet__v9kyjQ) <zwortex (zwortex)>:
I laid before you examples of behaviours that look strange to me. Either you tell me, raise a case, maybe several, or that's the way it is, so be it. Your latest answer is in between and leaves me confuse. What shall I do : raise a case, several or not ?

[13:04:45](#dZVSCk7i8wtwgSIrnT5nxDwG1j4QOkAaVIKEHtkzzZM) <zwortex (zwortex)>:
* I laid before you examples of behaviours that look strange to me. Either you tell me, raise a case, maybe several, or that's the way it is, so be it. Your latest answer is in between and leaves me confused. What shall I do : raise a case, several or not ?

[13:05:07](#7WwJmwNuxNRzJKakhxNUaaYF884Ndh4We380HlB_ZP4) <hiiamboris (NOT THIS ONE)>:
Like I said, client/non-client problem is known, rounding error too, but example with borderless window is a bug.

[13:05:52](#lup4xCurKkzHoZPTV5Dhz6-eizrLguJ5Galia5VEbm8) <hiiamboris (NOT THIS ONE)>:
* Like I said, client/non-client problem is known, rounding error too, and they're waiting design decisions. But example with borderless window is a bug.

[13:06:01](#yB9u4K1Sh5knJHh9S7ARwnC6Rst6mnFe7mfIYuk_VLU) <hiiamboris (NOT THIS ONE)>:
* Like I said, client/non-client problem is known, rounding error too, and they're waiting design decisions. But example with borderless window shows a bug.

[13:09:23](#liqP3eVhbV20lfozZ60lWhLeV0JOjrzfdIW61T03foE) <zwortex (zwortex)>:
Bordless window ok, but what about the initial offset of a window that is interpreted differently at the screen border : in case 1, without the title bar, and in case 2 with the title bar.  

[13:23:36](#FtpSIhnW8iE47OnvSkOIsKD_xhbJ9_Vac98QEWsU6xg) <hiiamboris (NOT THIS ONE)>:
I think you misinterpreted your own code. `( event/offset + face/offset + event/window/offset )` returns position on the screen that's one titlebar higher than you think it is. That's why your borderless example shows window higher too. And I take my words back - it's a not a Red bug, it's your bug.

[13:27:48](#gPYvDnOFSxMyK4GpbB8GmDpBMhCrTyXecUF2-H1smTQ) <zwortex (zwortex)>:
Then initial windows offset refer to the total window with the title bar (without the border), not to the client area. In which case, why in 2, it looks refering to the client area. 

[13:28:30](#oNTo-syKEEJJ_MzODZQGFgSwL-eYH3QXSNj5bqeRr50) <hiiamboris (NOT THIS ONE)>:
Yep

[13:28:31](#wC_GOP1ZkmZTURUHL9ZNPhB0t0py4b3n3MnNkf9w02s) <zwortex (zwortex)>:
* Then initial windows offset refer to the total window with the title bar (without the border), not to the client area. In which case, why in 2, it looks refering to the client area.  It is either one case or the other. This is what gets me confused.

[13:29:25](#BkylrUV4kGXYv_6uK7gV1pcqG-IGNbRMuMFJndqQRQ4) <hiiamboris (NOT THIS ONE)>:
* Yep. "Total" window. Or *offset of non-client area of the window*.

[13:31:02](#M-GD-VKA7sKr8T6zq-p3PtxVRKHE8nIJK5ZJ5h81oJs) <hiiamboris (NOT THIS ONE)>:
Like I said, think again on the result of `( event/offset + face/offset + event/window/offset )`. You miss by a titlebar, then Red missed by a titlebar and it *looks like* none of you missed. But it's not the case í ½í¸‰

[14:09:13](#2dXKFtPRDGw3osH-BkH-PAaiR6ywCfgGqLyTonbnp9c) <zwortex (zwortex)>:
ok - everything trickles down to window/offset that is not reporting the client-area offset but the window's offset (your non-client area) and therefore, there is this gap of the client-area offset within the window that prevents computing the screen absolute position of a widget, or of a mouse event. Surely, this should be a bug ? Maybe re-open/extend #4270.

[14:14:20](#doCVS8bV8zTUKExYHYS4ZXkbKWNsqotqmfgYN2imlXM) <hiiamboris (NOT THIS ONE)>:
Would you rather have `view/options [] [offset: 0x0]` open your window with titlebar *outside* the visible screen?

[14:20:04](#jlhp2WLrgiMq717vIMAHpTMzasBoWJ7uLHtMokXucs4) <zwortex (zwortex)>:
I am fine with the window's offset being what it is. But I am not fine with the fact that I cannot compute the absolution position of a widget or a mouse event within the screen, unless I correct the window's offset by adding up the title bar height, which I have no means to know for sure. 

[14:22:25](#ZygYgJX3qOAhioyJi5dBFCQKvMH0Ei8l4K3lCU-8XUg) <zwortex (zwortex)>:
* I am fine with the window's offset being what it is. But I am not fine with the fact that I cannot compute the absolute position of a widget or a mouse event within the screen, unless I correct the window's offset by adding up the title bar height, which I have no means to know for sure. 

[14:30:06](#bCwqC1k-i3JfVvz0b04MXGdDGaNcUimgEvfFDBa9sgc) <hiiamboris (NOT THIS ONE)>:
Right.

[14:32:35](#TbU4cgtDAbNd_6QEjOERFJxeG21U952i8tb7XWtyaDM) <hiiamboris (NOT THIS ONE)>:
That's why I said you're welcome to propose a solution.

[15:53:35](#aIhaTHeATt6tnLJZZ6SX5bllJ0Y2b6l0x4KAovRicKs) <zwortex (zwortex)>:
This is a tough question. I remember you told me once I should be well versed in Red language, and the underlying implementation, before to even start suggesting any sort of improvements. Anywhay, as I said, I need to know the client area offset relative to the window's outer-box. The way you provide me with that information is your business. If I have a hierarchy of faces, then when I sum up their relative offsets up to the screen, I should get the absolute position of this widget within the screen (the same goes for an event). That's the required invariant. So either you add the missing windows's container, that is the client area, as a sub-face within the window face - but you may find it it is too much just for that requirement. Or you should ensure that window's offset behave like any other offsets, that is that it refers to the client area and not to outer box. Remains the problem you were mentionning of positioning the entire window within the screen, to which I may suggest to add a view option, for instance screen-offset, that would allow positioning the entire window into the screen and not just the client area. What you do about adornation, border and whatever else, should be consistent across all faces. And the same goes with sizing. A more complex, and definitive answer should probably distinguish between inner and outer box, like HTML/CSS does distinguishing between border box and content box.

[16:00:08](#zdmRhc1myEcWSJEB0iTFC03-5BDC6jKmDavGHZJ2Nf4) <pekr (Petr Krenzelok) (@pekr-556ae86715522ed4b3e131b2:gitter.im)>:
`view [button "ok" [probe system/view/screens/1/pane unview]]`- I don't probably get it - you are able to get the screen resolution, your View window size and offset, so you should be able to calculate those things? Of course if not displaying the top bar does not mess with offsets, etc.

[16:06:57](#3xxdtof2Pc9xuC6ouVWeM8sHb6AqvfCeHSsad_Amvps) <hiiamboris (NOT THIS ONE)>:
@zwortex we understand all that

[16:23:20](#2OYrT7IuqRp4ZPE5jXxRvbls_33YKQJ5Gn9QdWH-Uf4) <zwortex (zwortex)>:
Then problem settled. Up you go.

[16:27:05](#I8mjtkj7TAbXIovAmnSjGi8A0c2OPNz2aUIxFNP9vdE) <hiiamboris (NOT THIS ONE)>:
For the record, what's your use case? Why you require screen offsets?

[16:27:41](#g5CCfzTDIoHh7rh3cO12YT1EH7qjgJCOonzgt_HHDRQ) <hiiamboris (NOT THIS ONE)>:
If it's just reinventing context menus, that doesn't count í ½í¸‰

[16:39:30](#Bj-3TEzV2WMBvyqFnrX3P4k6AcDrf9wMgaRo4qdxhTE) <zwortex (zwortex)>:
It is a sort of contextual menu, but an extension of it. Anyway, any situation where you need to display a sub-window (popup, information box) at a precise location related to the main window might need the screen location. I guess any communication back and forth with another process might require that as well.  

[16:44:02](#7FKCAIjU6yWd1sC-O19uKec34xB7ULvn8izsDlb5LH4) <hiiamboris (NOT THIS ONE)>:
:+1:

[17:19:31](#pTvt9mbjVA_XTFKCFP4RKN97MO4XBzQ8vOnvRPEwgcY) <pekr (Petr Krenzelok) (@pekr-556ae86715522ed4b3e131b2:gitter.im)>:
But you know the screen location, don't you?

[17:22:44](#tBcB6gBSirPt2zc-5tyr3owGusKVGjm9-3WokBmQtoA) <pekr (Petr Krenzelok) (@pekr-556ae86715522ed4b3e131b2:gitter.im)>:
* But you know the screen location, don't you?

```
>> view/options [button "ok" [probe system/view/screens/1/pane/1/offset unview]][offset: 200x200]
200x200
```

[17:25:54](#fyu7dK8bPylupLQQXlQK0dkX4FTXlcw_vh_JTugV_xg) <hiiamboris (NOT THIS ONE)>:
@pekr window has a title bar

[17:31:29](#FiWDugDYUudrvYNWy6N95NzCHvWHuGu7Ednz53Y9sHg) <pekr (Petr Krenzelok) (@pekr-556ae86715522ed4b3e131b2:gitter.im)>:
So the 0x0 of a window is just a window user area? Not a top left corner including title bar?

[17:32:02](#ZJWzxEgaooX-WH4h4mvMI-ihwQFOUNXrHKatyYRonE4) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
@hiiamboris isn't `system/view/metrics` the place where info about window title and edges should be available?

[17:32:10](#n-2cfjpMPuUpMG-x4Zwx8eoKbhJsiA0hPn2IGYy99BQ) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
@pekr yes.

[17:33:02](#STF8c6vNhuI5QKx09TSwtfgMZQ5XQi00uPd9skO4qRM) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* @pekr no... it's top edge of the window

[17:33:13](#AVlqQUuS9mdWNhu3KQpMr-xkzSlgFoLfGvlspBEgATM) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* @pekr no... it's top left corner of the window

[18:15:34](#2mPqXmdEbNHLn0LY3vmlwotTTNbwDPjZANdnzwBJm6Y) <hiiamboris (NOT THIS ONE)>:
> @hiiamboris isn't `system/view/metrics` the place where info about window title and edges should be available?

Possibly. Like borders of each face type. Thought about that. However, this will make it harder to know which window has what borders. E.g. for one window you have full frame, for other it's no-buttons no-title, other window has some alternate frame, etc. So might be more reliable to just put it into the face.

[18:16:36](#mF82a3EyB4GxvBJMqG1PAIfJzdmhZwiXhDTxdGUCu9E) <hiiamboris (NOT THIS ONE)>:
Still, there's a question: can we know the size of the titlebar and borders *before* we create the window, or only after that?

[18:16:57](#nxb6jUV8yPCBUmt7waeY4WIgmPgGW-0CPBfwFmSdenM) <pekr (Petr Krenzelok) (@pekr-556ae86715522ed4b3e131b2:gitter.im)>:
Having edges for the face is a road to hell imo. It needs to be all inclusive, outer interface and then margin/paddings defined ....

[18:17:20](#8shuD-db8l54hJ0HPDXzhGevcjQfn-auQHuwU4Uq85U) <pekr (Petr Krenzelok) (@pekr-556ae86715522ed4b3e131b2:gitter.im)>:
* Having edges for the face is a road to hell imo. It needs to be all inclusive, outer border and then margin/paddings defined ....

[18:17:47](#aXZwaa0Bu75XBSnY2jV0Dtoa1S-m2YIxExqrEiFVJYE) <pekr (Petr Krenzelok) (@pekr-556ae86715522ed4b3e131b2:gitter.im)>:
Or simply let's copy the CSS model, but face should be a bounding box, no?

[18:18:21](#DBDx7QnxuXXRMndR67-dVbPdQAf96h5NokY0cIe2SX4) <hiiamboris (NOT THIS ONE)>:
Well thing is, we do have edges for buttons, panels, windows. But for windows we use the outer edge, for buttons - inner edge, for panel idk need to check. Etc etc.

[18:20:24](#0xabIbPv7y16B0IVdG4zkUqoatBdk3jykw5uNFWkbDQ) <hiiamboris (NOT THIS ONE)>:
It's okay I guess, edges can be positive or negative depending on face type.

[18:22:47](#cNDeQxLvJqLHfgPOXDPq3SyEQF6cuBGfJ2RKaIBv3VI) <hiiamboris (NOT THIS ONE)>:
Margins imply control over positioning. But we can't position a new button on window's title bar for example. It's out of Red control.

[18:26:01](#SYooae8oQ9asZl5B64EtIBnqc0BOw7MDLloFdKnVht4) <hiiamboris (NOT THIS ONE)>:
Other consideration is do we even need to complicate the current model with borders? Can't we just provide a function that returns any face's position/size *directly on screen*? Then we wouldn't have to even traverse the face tree to get one face's position relative to another.

[19:01:53](#_gGXLeyK_Eqywtq3_TdmpUzVybxvvcZoDjtTbYriTjw) <greggirwin (Gregg Irwin)>:
@hiiamboris @zwortex does the `GetWindowRect` API (at least on Windows) work for this? If so, do other OSs have a similar API?

[19:19:53](#lyGj1Q9Xoh72MlicfMKO9ADuVEBQhgjXSCuuDy5V_XU) <hiiamboris (NOT THIS ONE)>:
@qtxie might know

[19:21:47](#pf9tqDYMj8IYgV83wY-ekBao5EwPv4AqS3O4ZHoukpc) <hiiamboris (NOT THIS ONE)>:
But whatever. We should focus on how this works on high level

[19:28:57](#VDMu3l7XXoq7Z5SHDs-4dVqZCjLgBPjCKlK7aabqjDw) <greggirwin (Gregg Irwin)>:
Agreed. A lot of things can be done locally, e.g. highlighting or pointing to faces,  but sometimes the global view is useful. e.g. old "spy" tools that let you mouse around and inspect values for any window. That of course opens security questions as well, but other ideas too. e.g. once we have programmatic IPC, a tool might let you hover over a face and see details about it, or imagine a telemetry based tool that's a heat map for user interactions. The UI gathers data, and in our secret lab we can see the UI with hotspots and patterns of use.

## 6-Mar-2021

[3:38:49](#fJ5bFtN7BnG_yfanrKAljVk04sMNTiCkUQOW8qPQhnM) <gltewalt (Greg T)>:
Agreed. A lot of things can be done locally, e.g. highlighting or pointing to faces,  but sometimes the global view is useful. e.g. old "spy" tools that let you mouse around and inspect values for any window. That of course opens security questions as well, but other ideas too. e.g. once we have programmatic IPC, a tool might let you hover over a face and see details about it, or imagine a telemetry based tool that's a heat map for user interactions. The UI gathers data, and in our secret lab we can see the UI with hotspots and patterns of use.

[3:39:26](#guDdSYyWS3CF0ZlC32rRbtSarJgBfkx76JxZbjW3ZhA) <gltewalt (Greg T)>:
Agreed. A lot of things can be done locally, e.g. highlighting or pointing to faces,  but sometimes the global view is useful. e.g. old "spy" tools that let you mouse around and inspect values for any window. That of course opens security questions as well, but other ideas too. e.g. once we have programmatic IPC, a tool might let you hover over a face and see details about it, or imagine a telemetry based tool that's a heat map for user interactions. The UI gathers data, and in our secret lab we can see the UI with hotspots and patterns of use.

## 8-Mar-2021

[18:34:34](#V2ozEaLfldhZiJ1j188wSYriHzgQHtguLeBWmDBsuCc) <greggirwin (Gregg Irwin)>:
Can someone confirm this problem>
```
>> $
*** Syntax Error: (line 1) invalid money at $
*** Where: case
*** Stack: load 
>> -$
== -$4.00
>> +$
== $4.00
```

[19:01:42](#xK1COrCckqxbWIm-c55KJezfWb8jMT3eX8sNzVn20Ok) <hiiamboris (NOT THIS ONE)>:
yep

[19:02:00](#lNsKc4h4dpkXL2-o6h0qGXIeqUVltMr3DBz26YX47Lw) <greggirwin (Gregg Irwin)>:
Thanks.

[19:03:02](#EgiRgMFwSbsrKLTbVkKOMBa5AKv10R_GH38qMv6ADF0) <hiiamboris (NOT THIS ONE)>:
I wonder where 4 comes from

[19:08:07](#YNSv4R2HjCrCKfwu3nb-BGW1QK1KqOtJfkYmrJ6L6fQ) <greggirwin (Gregg Irwin)>:
Maybe a consistent state from the lexer tied to the nibble based BCD implementation.

[19:15:42](#zJt0F87gZsx_GXmDdSQhrCFIib4I-Mr1R5d2vKas2t4) <greggirwin (Gregg Irwin)>:
I'm not going to try to figure out where the problem might be in `load-money` in %lexer.reds right now. :^) OK, I can guess that the lack of a denomination and the sign skipping combine to not see it's at the end of the value and throw an error.

## 9-Mar-2021

[16:39:44](#u2Et1H8HiNRsKdbOZVTluTzVrW8YZ8UmDdqKGbMIL9c) <dsunanda (dsunanda)>:
Progress bars do not seem to dynamically adapt to being resized, eg
```
view/no-wait [p: progress 200x20 data 0.5]
p/size: 400x20
```
P is now showing 25% complete. Seems to be no way to force View to recognize the change.

[16:55:49](#tCPTazzxfGAmvYKVCRIwSr8RdX_KPRLYIKJW1ZQtjBo) <hiiamboris (NOT THIS ONE)>:
I see 2 bugs:
1. after doubling the size (200 -> 400), the range multiplied by 6 (1.0 -> 6.0)
2. `p/data: integer` does nothing

[19:40:31](#zUCm-gtqOLu7sZwRIWgYQPpQfM-e_hBi08bhx2EYioc) <greggirwin (Gregg Irwin)>:
Same here, please file a ticket @dsunanda. Good find.

[19:54:45](#DBaZgKvD-KAgXNO6rBKO_RIkLtlOy3_IsXi0qADTvBQ) <dsunanda (dsunanda)>:
@hiiamboris  @greggirwin  Thanks! Ticket #4850  .... It's a sign that I am actually getting around to testing the resizer utility I trailed  a few weeks ago :)

[20:00:12](#T_nLXe4lw53SJ-n_L2GAGJxQf1UN1aJWjavSsU0hLVc) <hiiamboris (NOT THIS ONE)>:
in the future please use the provided report template

[20:30:18](#AQDPlhj1dyFaAFqt5i5axYPn5zJbec2AOVf7jHibOEc) <dsunanda (dsunanda)>:
@hiiamboris Githib did not present me with the template - I was expecting  it, looked around for it. But it was not there. Odd.

[20:35:16](#VqnqNERTa7RF-232UkY9sEUrbXa7r-MUY1KB3_VCpgg) <hiiamboris (NOT THIS ONE)>:
I see. For some time already I feel like Github devs are on their way to success.

[20:37:42](#AfqNj1g1_z7aV_EowzdWlhsSy-CBIZMn_Rv7EACjS8Q) <hiiamboris (NOT THIS ONE)>:
Along with the rest of MS that is..

[23:16:27](#bZ0yDbro_m8CM_S8BdZQmpwW3sBcmLFKB5E7G_COGiM) <dsunanda (dsunanda)>:
:)

## 11-Mar-2021

[9:06:03](#meSBeDIHD6Z431Lsw6gcJwQB5zrkSfJcs6fngPe6RIY) <GiuseppeChillemi (GiuseppeChillemi)>:
@dsunanda maybe the template is on [OVH datacenters](https://www.datacenterdynamics.com/en/news/fire-destroys-ovhclouds-sbg2-data-center-strasbourg/)

[9:19:02](#jdgT-gCAnMEbY8e6U68H_ycwDeOvcInuEreBeDglfTo) <dsunanda (dsunanda)>:
@GiuseppeChillemi Sentences that made no sense 20 years ago: "My cloud burned down".

You've just prompted me to go look see what I did wrong - turns out I should have clicked the green "Get started"  link. That does have the template.

Just gone back and correctly formated the issue.

[9:45:21](#0lDudytAUgOZIRIm3oZvENz3BS_Av0f-JWdBUYOwOQY) <GiuseppeChillemi (GiuseppeChillemi)>:
At least Four datacenters buildings with no distance from each other. I did better on SimCity 1989 with proper distancing between strategic infrastructure. With just 80Mt distance and interconnection cabling between buildings, it would have not happened. When the BUG is the engineering or the decision-making team. 

[9:49:13](#X_MUFDV0RSweNb3DABL3SMuH5HCfxr9iWJm0v3Cv6L0) <GiuseppeChillemi (GiuseppeChillemi)>:
About the template, I did exactly the same on my first bug report! But, hey, old coders never click on "get started" links, Red team should know this, it's their fault!

[18:32:58](#vKjIN1z2svXZmUXh3KCrs85PuKpQ0w1oJ9cCUKbcdoQ) <greggirwin (Gregg Irwin)>:
Blame the UI. It puts that button way off to the right, while the other link is right under what you're reading.

## 12-Mar-2021

[9:10:44](#0cCD8W8LJ6XSajkNUCZNgUQXoQtmPy4u2mLuLphBeEA) <dsunanda (dsunanda)>:
What's going on with what looks like some low-grade anti-aliasing in View?

```
view [h1 "red 2020-06-16" box  draw [line 0x0 100x100]]
view [h1 "red 2021-03-09" box  draw [line 0x0 100x100]]
```

![](https://i.imgur.com/duDJAP7.png)

[9:22:09](#byTnWULoA_EWWvAGPcIWyfYO7NTOn_ATqK8cPE_MtXk) <hiiamboris (NOT THIS ONE)>:
I aint got no transparency at all 
![](https://i.gyazo.com/e860c6a829210aeec965dcc2f19918a2.png)

[9:22:23](#M30hTPbKBv2mOr2PVsd0s910UejqdF8TCPMkVWr2yEk) <hiiamboris (NOT THIS ONE)>:
must be D2D regression

[9:26:34](#7cbtcGGSqwl--ky3tYkf_K7f0KvhUU3U_poy-x-G79w) <ldci (FranÃ§ois Jouen)>:
[![image.png](https://files.gitter.im/5902e8c1d73408ce4f5b94ba/lsBG/thumb/image.png)](https://files.gitter.im/5902e8c1d73408ce4f5b94ba/lsBG/image.png)

[9:26:47](#SDCDl4oa7234qhbdU5JieN-2QvbZjQPA16GHeV56KJM) <ldci (FranÃ§ois Jouen)>:
on macOS itâ€™s OK

[9:28:53](#Iu9kOGXQjkRT3p4wasIrxNZ6ynKlehkTky4XfBUkgSo) <dsunanda (dsunanda)>:
@ldci Sorry - should have said seeing under Windows

[9:30:20](#R8nBHQgJ4mAHHWt6j4_WAF3K2XNZYZsYSfl_-FBcAdg) <dsunanda (dsunanda)>:
@ldci Sorry - should have said seeing under Windows

[9:56:25](#F16z5zU5hiqar94bd0O6h0jSna2tVotqKJtSeuiIn28) <dsunanda (dsunanda)>:
@hiiamboris There are some much more messed up examples too - what I posted was just the simplest. Will bug-report....


[9:56:57](#mMhwFQdAQs_BfT2ZrAFj4y8oq9aXm7UTTYeJ4R3JQ-Q) <dsunanda (dsunanda)>:
* @hiiamboris There are some much more messed up examples too - what I posted was just the simplest. Reported:  #4852


[9:58:48](#X09P1qYmS78ik9FxOenJ-JuIEBfLy040P7tT4XW8Up4) <hiiamboris (NOT THIS ONE)>:
@ldci your 1-line email looks very messy on Github :)

[9:59:05](#GfUitCQnSx-qPjLZ3UbsGRejhSs2DJOGiNry_xNzxog) <hiiamboris (NOT THIS ONE)>:
@dsunanda thanks!

## 18-Mar-2021

[19:14:14](#_mpzQrAMSkVUd3I6D9ClYV-51iMFMN1dqRKLnusuGaI) <hiiamboris (NOT THIS ONE)>:
ANNOUNCEMENT: `about/cc` now will automatically copy the version into the clipboard, saving you from mouse/touchpad aiming exercise í ½í¸‰

[19:16:30](#Lr86EFJvA_LbaonHbfhMCgVU3kAOeMAMNzuYe1HhKoQ) <GiuseppeChillemi (GiuseppeChillemi)>:
I am about to like it! (Just the time to download the new version)

[19:28:30](#tVJDbzDZmh_u3FmmAJk53KI1RkTDIPD_d18474lxu7U) <greggirwin (Gregg Irwin)>:
Issue template updated to note its use. Thanks @hiiamboris!

[19:38:15](#ofXmfhA78f9In9HatLCz-kKy1ipb32GyQc1y38w_zu0) <dsunanda (dsunanda)>:
Is there a way of telling if a fix has reached a build? 
#4852 (jagged anti-aliasing - above) was closed a couple of days ago with  status.built.
But I can see instances of the same problem in the mar18 windows download.

[20:39:28](#COWD3qlHY8hzBwohhbgurUbEClljtEyT4wM33zWXGpM) <hiiamboris (NOT THIS ONE)>:
If there's a commit then the recent build has it. Let me update and see...

## 19-Mar-2021

[9:25:50](#U4ahhoyw1UtarLXWQKX_xo_SzVEv6bsnq2UNFiUfWZQ) <dsunanda (dsunanda)>:
@hiiamboris Thanks - this may be a different bug along the same lines. I'd expect both of these two images to be smooth (though not identical - random is used):
```
view/no-wait compose [h3 (system/build/date/date)
     b: box 100x100 draw [
      pen off fill-pen black spline 100x100 100x50 50x50 50x100
	 ]]
	 repeat w 30 [
	    xx: random length? b/draw
		if pair? b/draw/:xx [b/draw/:xx: random 100x100]
		]		
```
![](https://i.imgur.com/vSEmtJw.png)

[9:42:16](#NBQhqzdc1XiZJGFaSBPQ7dCWCuhiECFVWG1m9NWfP6g) <hiiamboris (NOT THIS ONE)>:
`Red 0.6.4 for Windows built 18-Mar-2021/22:28:01+03:00  commit #73d9bd2` here and it's smooth and looks identical to the 1st one

[9:43:09](#JfcAYkaoOT--qNBLFGe_A5xFCWBmtTgZEp28cFpICE0) <hiiamboris (NOT THIS ONE)>:
I assume @qtxie also doesn't get this artifact

[9:44:10](#1ZIXfBw69yknI7Raaik07Ar96J53bqypLaFJTndE4zM) <hiiamboris (NOT THIS ONE)>:
subsequent iterations morph the curve but it's still smooth

[11:01:13](#bOReV6fVJBX-vUo8ZZWClUDbDFkBnrvnPTvfWua5pOk) <bubnenkoff (Dmitry Bubnenkov)>:
Not sure that it's a bug (the code is not valid)
But Red hang:
```
a: [b: none]
set a/b "dddd"
```

[11:08:10](#onlsvxtIdwObCuMDuLITa35EIZFBfR3EdmWUDolOKK4) <hiiamboris (NOT THIS ONE)>:
you're changing the value of `none`

[11:08:32](#NVBs30jtK_TY4X_pSgCCTT4XXcfUK2uOO_j6tz0XJZ8) <hiiamboris (NOT THIS ONE)>:
it's a known thing

[11:08:57](#EPbnIAWh2Bwp0MWxPS34gIzAH9t8msLIsDJrqySKJ3k) <gltewalt (Greg T)>:
He means this, I think
```
>> set a/b "dddd"
== "dddd"
>> a
== [b: none]
dddd
dddd
dddd
```

[11:12:21](#vYyVps9Y6nnuWOvBW3aHgoEdNdr3iZL1x_Y7HkpPI2Y) <gltewalt (Greg T)>:
use `set 'a/b "dddd"`

[12:12:47](#_YC9AQSg9_iHAYmVJQeznGUo5kPJrZXA_MEMgGJVPxA) <dsunanda (dsunanda)>:
@hiiamboris Thanks - I was using a 3-hour earlier commit (didn't realize we can get more than one build  a day).
But I've just tried....
```
date: 19-Mar-2021/7:34:02
 commit: #7316b75f3454a13bbe9ec5f112b6bc53bdb96cbd
```
....And I am still seeing the jaggies.

[12:37:13](#n0cMgfYytNXVtjH0ETrvaDGBzXj_7HtMVQIvqsCZOw8) <hiiamboris (NOT THIS ONE)>:
Comment on the issue? Anyway, we can't fix it if we can't reproduce it..

[19:47:55](#bEnYKO19D8cTo15DEGZaRAyB04j0zDgLHPsvqURSIFo) <greggirwin (Gregg Irwin)>:
I also don't see jaggies from a 16-mar local bulid.

## 20-Mar-2021

[15:38:05](#Ao2gCRhedaBX3Jolxb19VEua5YQ-MqMGwBZl_6F5s3s) <dsunanda (dsunanda)>:
@greggirwin  @hiiamboris Thanks for testing.
I see the problem on Win10 but not on Win7 -  may be (as hiiamboris has suggested) a graphics driver issue. Have added a comment to the issue.

## 22-Mar-2021

[2:34:34](#jjv96dHS9pJLtxIsDllGrsMBMQAu33m8v6k6DOrE_uY) <ldci (FranÃ§ois Jouen)>:
Under macOS itâ€™s impossible to update font/color for text-based facets except for area facet.
 2 facets: ar: area and hs2: h2. ar/font/color: red is OK. hs2/font/color: blue raises an error
```
*** Stack: view do-events do-actor do-safe update-font-faces 
*** Script Error: cannot access state in path none
```


[4:03:28](#jpuc51KqvvUulTfRGARFtsqhWv12SH0vxJ3FPL8OsHs) <dsunanda (dsunanda)>:
@ldci Many facets start with NONE for their font object - so you need to add a font object by hand. This works in Windows - which seems to have the opposite problem to macOS:
```
unview/all view/no-wait [ar: area "AAAA" hs2: h2 "HHH"]
ar/font: make font! []  ;; AREA has no font object in Windows
ar/font/color: red
hs2/font/color: blue
```


[8:31:10](#fh_-L_JsVFNBlXMBHu6S6HEMKTQtg42TmLFGkUqA3tk) <hiiamboris (NOT THIS ONE)>:
Just specifying `font-color` inside VID should be enough.

[8:35:02](#DhJRxne6rGrNcO55bZD62zwiqGWdurpVv_eDBcxR4yM) <ldci (FranÃ§ois Jouen)>:
@dsunanda OK, we can use font-color to initialize font Color. Itâ€™s running both for macOS and Windows and a simple print f/font:color confirms that the color is initialized. We really have a bug under macOS. When I want to modify the f/font/color, the facet font is updated but not displayed . This code sample runs under windows but not with macOS.
```
Red [
	needs: view
]
random/seed now/time
view layout [
title "Tests"
	button "Color" [	c: random white 
						ar/font/color: c				;--correct
						ret/text: form t1/font/color	;--OK color updated
						t1/font/color: c 				;--bug macOS
					]
	button "Quit" [quit] 
	return
	t1: h3 "Test" font-color blue ret: field 
	return
	ar: area 100x100 "Test" font-color red font-size 25
]
```


[8:39:52](#3Gc-E1O5SFlVDZUTnWrZQTuYhOWH1VGPxkJCMrRlkRY) <hiiamboris (NOT THIS ONE)>:
windows has similar issues https://github.com/red/red/issues/3730

[8:51:36](#AZ82vnhrFrI_cOrCLXIasXuR_8ByqecOQbNvi0UT0UU) <ldci (FranÃ§ois Jouen)>:
@hiiamboris Thanks. Itâ€™s a general problem in this case.

[10:17:54](#FwEuo14ummh-_KxJQac27UcekDC_O9I45xHk2pW0wNI) <ldci (FranÃ§ois Jouen)>:
@hiiamboris . Perfectly running: Red 0.6.4 for Windows built 16-Feb-2021/9:41:34+01:00 commit #0187423

[15:55:21](#tH_rcDoUzFkLDaLPlOaI_cASF_6i6r7s6jId6icR8yA) <dsunanda (dsunanda)>:
Is this a deliberate design choice? It's off by one compared to Rebol:
```
find "aaa <bbb> ccc" <bbb>
== "bbb> ccc"
```

[15:57:58](#6HqQdGzaOCRB1-wsgRZIjzU1dT_mzXpnzR3KfA7nWc0) <hiiamboris (NOT THIS ONE)>:
looks like an oversight

[15:58:27](#Oo1sLL4GxTz2yDh7jNUMFkCY_m1yrMJFQ8FzjavfUtg) <hiiamboris (NOT THIS ONE)>:
if `insert "" <tag>` forms the tag, so should `find`

[15:59:20](#CVrebWVgUgo6ZI-NYuwMAiXXyUDcFGtdnj6qvRUxBKw) <hiiamboris (NOT THIS ONE)>:
```
>> find "abc" <b>
== "bc"
```

[16:46:37](#hV5D0DJNCbjEb1LrmyFWvwyJmpTGCpFSOhEqpyJs8wM) <dsunanda (dsunanda)>:
Thanks -- reported. Issue #4860

## 24-Mar-2021

[19:31:42](#G9sqARtxqNzd1k1gqqzWreg0xJUqwNW2-T4mHYmCQX0) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
It looks that `%` cannot be used as a word inside a path:
```red
>> o: make object! [%: 1]
== make object! [
    %: 1
]
>> o/%
*** Syntax Error: (line 1) invalid path at o/%
```

[19:33:01](#W6_KJD5Yhhs6aRzw3ve034lY738zvE0j_7nUPsPIHiQ) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* It looks that `%` cannot be used as a word inside a path:
```red
>> o: make object! [%: 1]
== make object! [
    %: 1
]
>> o/%
*** Syntax Error: (line 1) invalid path at o/%
>> get in o '%
== 1
```

[20:02:01](#l-wiWDFs-UABvoFBEDdxREL9o4_w1bjwgNCOYzL11Ao) <hiiamboris (NOT THIS ONE)>:
and another bug (note 'word' not 'path'):
```
>> '%/%
*** Syntax Error: (line 1) invalid word at '%/%
*** Where: case
*** Stack: load 
```

[20:05:18](#hU-3si4FF9xhmPwk-pxNpIuYcbKXh2kIzF7Vd8mcsUo) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
that is not a bug.. (if you don't count that it should be `invalid lit-word`)

[20:07:47](#9D8-FqazZ3r9XqRazeSUbpSNylx6u9aMTLLbqmdji54) <hiiamboris (NOT THIS ONE)>:
it should be valid lit-path

[20:08:14](#OkQkfyXnBcXMywVeEHMT0QjrdLgwzvD95J66QXxs-GE) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
No.. it cannot be valid, because than you could not use `%` for files... like in `%/1`

[20:08:24](#s2-i70pFLpna5e3NI6Umc71pHc0iqVZeEHvlxDT98GE) <hiiamboris (NOT THIS ONE)>:
although.. we're approaching gray area indeed

[20:08:26](#c6JcWnimJgfPAUS4v_opL7Ol6eJFs_aYDScG7LQsXrI) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* No.. it cannot be valid lit-path, because than you could not use `%` for files... like in `%/1`

[20:09:02](#rh5f-mICweeWmBb4hx7ZcDCpBouutYQrZXGojFpi-RQ) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* No.. it cannot be valid lit-path, because than you could not use `%` for files... like in `%/root/`

[20:09:31](#OpYjgi3HIvoX8OS6oIKsClyzKoN-w1Y-xi1QylKAnIY) <hiiamboris (NOT THIS ONE)>:
then we have to agree that `%` cannot be used in paths and that's it

[20:10:11](#xFaVooqzHnJiKzC2lbfJid1sxqfx79i9W1PbRa4FQuQ) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
It cannot be first part of the path, to be precise.

[20:10:27](#RKqdyL8oweE_aSbXnQOfxxKnZhtjKHA0lc4n7Y166gA) <hiiamboris (NOT THIS ONE)>:
Like paren then

[20:11:22](#mbv8RNvg5o5KeCzrJxqW3it5Y7_DeJCaytOpGxQMNdA) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Not a problem if it's error or not... I was just looking for extreme cases.

[22:01:35](#r5_IuXROngymnIChCcUrycNsTQAIP1Y61IlRDePCtlo) <rebolek (Boleslav BÅ™ezovskÃ½)>:
it can, just not directly:
```
>> p: make path! [a v c]
== a/v/c
>> insert p '%
== a/v/c
>> p
== %/a/v/c
```

## 25-Mar-2021

[3:16:36](#AmDWfBtnaEdE6JqSrInpGZ_x61rCFecra8crHIrx8Jg) <gltewalt (Greg T)>:
```
Red 0.6.4 for Linux built 23-Mar-2021/2:29:50-06:00  commit #6378183

>> system/console/do-command

*** Runtime Error 1: access violation
*** at: 08090D7Eh
```

[15:06:21](#mSrZinKUf16jN8Q2DmXRFJzMopdYzFhn4Httu6s3Rjk) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Is there any specification of _suppose to be valid arrow like words_?

[15:09:29](#pTyCRaqoXGSkc6CQx0H1d2OIdjJvmOCr9FD2U9RY6eg) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Because I can create a lot of not handled variants.. just use one of these in console: `<_` ,`<@`, `<#` and many more probably.

[15:11:13](#afaXNmHTR43lllWlsuhzirVymfnA1CVRjjARGkWkBBQ) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
I would like to also know, if this `<-<-<` should be single word or 3 words as it is now.. simply having some spec what is expected and what not could be useful.

[15:16:24](#bzb-yH0TKidLS84GY1vl5Ifi1MQc5ghi5X41-rR0h0k) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
I think, that maybe only words like `<---`, `<===` or <<=-=-` should be valid... but now there is also:
```red
>> type? first [<=_.]
== word!
```

[15:16:55](#gv2JICqFXePkW1bxnt_MsFak-rk7xBufPjI3337LG8A) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* I think, that maybe only words like `<---`, `<===` or <<=-=-` should be valid... but now there is also:
```red
>> type? first probe [<=_.]
[<=_.]
== word!
```

[15:17:16](#td8M6jOZQgfKnEhSX9BR39X99ncWqFEwxoXTLsTaV5w) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* I think, that maybe only words like `<---`, `<===` or `<<=-=-` should be valid... but now there is also:
```red
>> type? first probe [<=_.]
[<=_.]
== word!
```

[15:24:35](#U57QC17IWEj7G9NEFyvVFDV-ObnRzPIuUP_MH-X0crM) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* I think, that maybe only words like `<---`, `<===`, `<<=-=-`, `<<<->` or `<->>>` should be valid... but now there is also:
```red
>> type? first probe [<=_.]
[<=_.]
== word!
```

[15:31:45](#8WkelXlPbfdYATrWGyjG2LyCA3YaMXULXZpD-DssTCo) <gltewalt (Greg T)>:
This isn't accurate?

[15:31:53](#qI1ypyfoLKlzNj_5w7DIy_gX-uMeMWUs7CltQoFeQBU) <gltewalt (Greg T)>:
https://github.com/meijeru/red.specs-public/blob/master/specs.adoc#525-word

[15:42:11](#wVdxJezqPIDzUtPQWrVSdAnL1QudgBjQVJcV3tzX_lA) <hiiamboris (NOT THIS ONE)>:
`<_` should be a word, not tag according to that spec

[15:46:15](#kiT8LjLffzHEaNGafMAn3JGb2WQYi8Q6KHQbuM90-8w) <hiiamboris (NOT THIS ONE)>:
I'm also using `.<.` as an operator (which is not valid according to the spec)

[15:46:41](#hHYRrvwl6FYZk2TjOUxPQC4A2qm0A83BP4INTcOZkHw) <hiiamboris (NOT THIS ONE)>:
And:
```
>> .<.: 1
== 1
>> .<.
== 1
>> load "'.<."
*** Syntax Error: (line 1) invalid tag at <.
*** Where: =
*** Stack: load  
```

[15:48:27](#4V3QTLsw2sUFZqEqImLI6FsPda0P6pzuXi33TKThskM) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
It looks that lexer is somehow undefined in this field í ½í¸•
```red
>> type? load {<-~~}
== word!
>> type? load {<~~}
*** Syntax Error: (line 1) invalid tag at <~~
```

[15:48:53](#vFXZ3IcjM2W3g4KnTZV-GlYgmMIO0KltKOyKqpphEP8) <hiiamboris (NOT THIS ONE)>:
what a mess :)

[15:53:50](#ATvbI9jc_-I7Js4FloYPSgFVy3o8oEVCBPDIuZlCeXY) <gltewalt (Greg T)>:
Is it a `some` vs `any` issue? 

[15:54:55](#ltzKkWqavJZXnxnCdPhK1lpOrq_SJ8vRvBeFAcWXI68) <hiiamboris (NOT THIS ONE)>:
lexer isn't parse based

[16:12:12](#aRzkKwht0DLR7RhwiUsiKqhkKlhSU9y26_TUZdNIVfw) <gltewalt (Greg T)>:
https://github.com/red/red/blob/6378183233387d79c0b514511923c6cf51e42691/lexer.r#L544

[16:15:17](#hxTpzjkKvno23ZZAxTnJt0B3xAvkuF2UoAgk1guj_z8) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
@gltewalt that is Rebol version of the lexer (used in compilation).. there is also the new lexer used at runtime, which is not parse based.

[16:16:23](#O7Rbx9ACBlxlq3OjzOolBY-7btJaiPUVT3lZ1hKPQkU) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
As there are two of them.. I believe that they are most probably out of sync in this mine field (if it's not covered in compilation tests)

[16:18:46](#DKaALcaUDk5RNc9oIsCu4VmarnngJV_ijJhSJwYNkpw) <gltewalt (Greg T)>:
Ah, ok

[16:28:04](#iaolzG6ymtHJmBxWJuK1riJHpDtiZxvPOfLfP8ZE92k) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
I think that fundamental question is, if something like `<=f&@o` should be a valid word (as it is now) or rather not.

[16:29:01](#uvPirGqfezyVFXrql517DlYGaYQmO0O2wxyn-D2DeYQ) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* I think that fundamental question is, if something like `<=foo` or `<=f&@o` should be valid words (as it is now) or rather not.

[16:37:08](#lMu0hb5_fyyTTQKGm3i9CXzS-7TGKdbr3mvZxEBsiKQ) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
This is definitely an issue... as one can have  `<<<` word, but it's not possible to use it:
```red
>> <<<: 1
*** Syntax Error: (line 1) invalid word at <<<: 1
```

[16:57:00](#tHCHGszEIMTzrPVBFe5JVMMnNmFEpCDxYhFGzHjxXOw) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
```red
>> load {:<<<}
== [:< <<]
```

[17:26:02](#qagVhCrINu6iNsCGLqJ29pa75ZtTSgmBI6XnnJnrJ20) <9214 (Vladimir Vasilyev)>:
> Is there any specification of _suppose to be valid arrow like words_?

[`docs/lexer`](https://github.com/red/red/tree/master/docs/lexer). d2230781 specifically introduced some support for them.

> ```red
> >> load {:<<<}
> == [:< <<]
> ```

https://github.com/red/red/issues/4731.

[17:26:30](#RRI9xvNlLWSSdd79472omWTR0XOgqieba7KLJO7eYOM) <9214 (Vladimir Vasilyev)>:
* > Is there any specification of _suppose to be valid arrow like words_?

[`docs/lexer`](https://github.com/red/red/tree/master/docs/lexer). https://github.com/red/red/commit/d2230781a9bc58752d63474b13d9480d62d584e8 specifically introduced some support for them.

> ```red
> >> load {:<<<}
> == [:< <<]
> ```

https://github.com/red/red/issues/4731.

[17:46:29](#M3ny984Mn8Uqe5Z5WX5wRvMQqSL-KXt-uh2_9wLK8qc) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Yes... I had a feeling of a _DÃ©jÃ  vu_ í ½í¸®)

[17:50:56](#2qGxa355Y0pFCW0zKx-gBG_D2L_U5Nqxr7hsKQvss38) <hiiamboris (NOT THIS ONE)>:
it's clear that .txt is outdated and not valid anymore, while lexer state table is probably the very reason lexer is in such a messy state í ½í¸‰

[17:51:50](#3I_JeywAQlyFrVjNZYpqgroR8crr5bMUmlI3kxg0dGg) <hiiamboris (NOT THIS ONE)>:
(because go try to figure out all the sequences of jumps for any given type)

[18:23:26](#UB3U9Pm1AIUsiCjHeHUSrPyoW-aI1XiEnIm9mdsgZkI) <greggirwin (Gregg Irwin)>:
These are important issues to note, ultimately leading to a cleaner spec. From a usability standpoint I'm OK slapping people's hands when they try to use them, as long as we tell them `Here there be Tygers`.

[18:30:56](#JkNqhdCRSrkFDfzPTQFQnNFnM5PzXnoIE-0lOrmCnLc) <greggirwin (Gregg Irwin)>:
Angle brackets are already so heavily used that we have to question how clear things will be in dialects that overload them further.

[18:32:23](#uX5sOphwq54oEbxPtnIjWG5Hf3JY-raQtrmnqc9ckSM) <hiiamboris (NOT THIS ONE)>:
arrows are good to have, and alternative spellings for < > <= >= is a must

[18:32:42](#OAIgrjqUkQUlZokQd0RVr4RDCjI_4tLTVY753GV3FC0) <hiiamboris (NOT THIS ONE)>:
* arrows are good to have, and possibility to write alternative spellings for < > <= >= is a must

[18:45:50](#KcTnxL19YHOUSViNjG9EYxOxLeF8dKDKxYtwGraDTdQ) <greggirwin (Gregg Irwin)>:
I agree that arrows are nice, so it's a matter of clearly defining the rules and weighing the costs. 

These are all OK today, correct?
```
>> [<==> <== ==> <= >= <- -> <-- -->]
== [<==> <== ==> <= >= <- -> <-- -->]
```

[18:47:26](#f8gT1l90TtTYWDk993x-vNnYa4SkVI-OKRlVJMtYyyU) <hiiamboris (NOT THIS ONE)>:
`<-- -->` is a tag I guess

[18:47:37](#VKZXGslMckQkMDCCf0NQLXVDMf3aS-wGMqrNqv-uTzE) <hiiamboris (NOT THIS ONE)>:
* `<-- -->` is a tag I guess, and `<- ->`

[18:48:13](#lGsu6qi11oeypIrlGlTPZ03xLVlhRentq9Gaws97FX8) <hiiamboris (NOT THIS ONE)>:
am no expert on tags though

[18:48:48](#BwzJWAaivhwVfwC9okFmif7YEcq0GPSDoPZEnoJjUX0) <greggirwin (Gregg Irwin)>:
Not according to the current loader, but that's the question. e.g.
```
>> last [<==> <== ==> <= >= <- -> <-- -->]
== -->
>> last [<==> <== ==> <= >= <- -> <!-- -->]
== <!-- -->
```

[18:49:08](#Ex-M5tnINju5NujWByQFQMc0os5b1ShqRVEN8icaV5A) <hiiamboris (NOT THIS ONE)>:
I see..

[18:50:01](#JEes2deZEPkzB6OrQQ-mTaCiDsv61FIiV8WIgtXfTRg) <greggirwin (Gregg Irwin)>:
Arrow ops can create confusion and limitations with tags, which comes back to the spec and what compromises we make on each side. Ultimately, our goal is to make both sides equally unhappy.

[18:50:53](#UckPXIml83PydT4rEqzwphBz_KKwGWxr-FGzr2wzRto) <hiiamboris (NOT THIS ONE)>:
Sure. Just need to draw a clear line between these. And between all datatypes for that matter.

[18:51:39](#QrqMfF2J-uphl5vBUYUeTR1XQcks3Ok1xutjnYIS-v8) <hiiamboris (NOT THIS ONE)>:
Something we could give other people to read.

[18:53:43](#Ufb0KJF5rh0aRKP4aEoUNy_SiaqSz4b3997RcRJopu0) <greggirwin (Gregg Irwin)>:
Right. All we can do is mark the traps an pits. When it comes to content in the wild that's where application, context, and dialects apply. If you have content that may be ambiguous, you need to be aware. And while tags are passive content, we don't want to make it easier to create exploits with arrow ops, for example.

[19:08:08](#PW7o6QHifsb72SWE56RZRXpmL-kgKPQym7iMdUSri8g) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
That's why I ask, if it's not better to limit _arrow words_ to use specific chars only. Namely from `=` `-` and `~` with `<` and `>` of course.

[19:09:51](#BCsJEoylvR5SuScu0WxbuSJnCmwShjELpelqOASaaa0) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
It's good that `<!-- -->` is a tag.. I don't see a reason why `<-- -->` should be tag as well. It's not used anywhere what I know.

[19:14:25](#J4tvoFHJ8BAUGrCQlK6PPpFPfcMTWFRKQBp-PPXFVNI) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
RSP was using `<% %>` and `<%= %>`... PHP has `<?php ?>`, `<? ?>` and `<?= ?>`. All is fine as it does not starts with `-` or `=`.

[19:16:22](#vtVtdR_fYeenEZrt9mzEnm-06lxsJnV1vQCKemr88OY) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Btw... when mentioning tags, I still have a feeling that the datatype should be more clever.. not just a string with different decoration as it is now.

[19:18:55](#i8WAE-1pqx2Rx0C27b1M0eAoVCy9dSZmYDG5JPihD9I) <hiiamboris (NOT THIS ONE)>:
Design actions for it í ½í¸‰

[19:25:05](#KDDiM6rRCgmMbPzdHSbb-unPhuRWsenVvkGBdDBcQ2c) <9214 (Vladimir Vasilyev)>:
>  I still have a feeling that the datatype should be more clever.. not just a string with different decoration as it is now.

https://github.com/red/red/issues/4326#issuecomment-602311890

[19:28:24](#3UhZz-5toR6nw-KehYJ0Nptmg_5ZJeyksnz06VAcJaM) <hiiamboris (NOT THIS ONE)>:
I knew he said that somewhere! thanks for digging it í ½í¸‰

[19:43:37](#Xo26F0iOclMBnRs_Kd7V39_eSHnb8xzLHFH9EmiEhd4) <greggirwin (Gregg Irwin)>:
The problem with supporting tags as they are used in the wild today, but seeing into their structure, is that you are escaping into a different lexical form. If Red treats them as opaque values, you can still process them at the mezz level. They are foreign invaders, just as they are used to infiltrate HTML and escape to script code.

It could be a fun can of worms, and worth mezzing with libs and ideas for anyone who wants to. We can also add a section for it to the Red Should... wiki page.

[19:45:27](#EKgswCUWI4erAov7bX0knDEBEQbKEM3VN24q3J_l09g) <greggirwin (Gregg Irwin)>:
But we probably all agree that tags have some issues, e.g. when you're building them, so I'm all for improving their behavior if we can.

[19:54:17](#2mWT9TPwUpFbt1NuqE5RliDaK8QKUaiCQalzoFRirIY) <gltewalt (Greg T)>:
What do the bring to the table as a separate type that makes things easier than string! or word! ?

[20:16:34](#4rCbr9pm_jmGCrdHDS1GQFgh4wapIAGcW-Vwh56ymEo) <greggirwin (Gregg Irwin)>:
Easier handling of HTML/XML/SGML content, and I often use them to denote placeholders, or like footnotes. They can span lines and contain spaces, so much more than words in that sense.

[21:00:10](#VmwpePyklOiPP-324rqXW4yYS-5bTlqu07G3JzGVgkQ) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
The biggest issue is, that one cannot play with them in console.

[21:01:20](#nLkWHK3xWpQEFxI1_VH1T9rPdIS1c2YHBxNmMgYW4hA) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* The biggest issue is, that one cannot play with them in console. Even @hiiamboris `[<tag flag=">]` code from above mentioned issue halt's console's input.

[21:01:33](#YeaR7ZfOdYjHnlry4Y5S9k7TmASYgDeXRg2eqPsi9x8) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* The biggest issue is, that one cannot play with them in console. Even @hiiamboris `[<tag flag=">]` code from above mentioned issue halt's console's input now.

[21:03:13](#b09l6MTkzGM9v_pq5StC_tyim2tHOhyU0OYnDUnNlyg) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Although in this case one can at least close the `"` string and `]` block and is back.

[21:04:12](#UG6K2e6in0K06BeUXccSh_pI-nLo8h1CXKqEUISSju8) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* Although in this case one can at least close the `"` string and `]` block and is back. But try to type in console `<@` and hit enter.

[21:14:01](#y9qL7kI02abEH4Hi3xMaN4LSigH84IRq1RID6TxyI1o) <hiiamboris (NOT THIS ONE)>:
maybe mention it in https://github.com/red/red/issues/4744 as a reminder

[22:15:33](#g0ay617Fh--fg_rjpr9UjpK-KigtgUg8EW-FWx_07Aw) <greggirwin (Gregg Irwin)>:
@Oldes that seems more of a console issue.

[22:16:09](#JWLlkuL4Nbt1EqOSXdyn5qLOdR_J43J8skb7hN0Bso0) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Probably.

## 27-Mar-2021

[11:09:44](#CVeBvgGL4ud0miOAU-SaITOFSpYIMqD7JzfJ4fwLZ64) <meijeru (Rudolf Meijer)>:
> This isn't accurate? https://github.com/meijeru/red.specs-public/blob/master/specs.adoc#525-word
Indeed not, most probably . It is hard to rephrase the actual lexer behaviour in a few readable sentences. Should the behaviour be changed to make the sentences more easy to formulate, or the other way around? I would go for the former, myself.



## 31-Mar-2021

[19:31:42](#Z_UrYbdZHvVxanwjOKLXf1uyXoPqLwrQ3ELspNqr7aw) <dsunanda (dsunanda)>:
Is this a known problem?
```
2147483637 // 11
*** Math Error: math or number overflow
*** Where: +
*** Stack: mod 
```

[19:37:51](#UzP6vwVBv6rRaI6csk8pD0yu1hdpmaGOj5cbaA4Yb00) <hiiamboris (NOT THIS ONE)>:
looks like it was dismissed previously https://github.com/red/red/issues/2158

[19:38:52](#7lEgpburk1ucoOXq7bO2GChuxMo8v93EiMt_bCsoXno) <hiiamboris (NOT THIS ONE)>:
I recommend using https://gitlab.com/hiiamboris/red-mezz-warehouse/-/raw/master/modulo.red instead for Red's modulo is a sack full of bugs

[19:40:40](#HgfVEFk3NuIbEWLrjzHVSjyY02dnhjB_3OHvM8N1SFs) <hiiamboris (NOT THIS ONE)>:
I should add edge cases to the unittest. Thanks for the heads up.

[19:42:50](#Xnk0ZyM2cJ6NpenlVbyYP6hLDHCMRecnX2ptzrnA6FA) <dsunanda (dsunanda)>:
@hiiamboris Thanks - old habits die hard - I was converting some Rebol code and kept // rather than % .... % seems to work.

Will play with your modulo.red - thanks,again. And I am testing a lot of edge cases right now (that's how I rediscovered the issue).....I'll let you know if I find more :)

[19:44:57](#EBPuh1ptxrH2K9r_ZhocF-RGZ0Fl3IPkigiYiXgROzE) <hiiamboris (NOT THIS ONE)>:
Great. Let me know if you find any bugs in modulo.red

## 2-Apr-2021

[18:57:08](#Ctqk_YbHDSOPxteYRieYGRwZmpjkTT-3XDGZMrq8Dk4) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Is this ok?
```red
>> type? '-1
== word!
```

[19:24:47](#0bZEcjeZwnYymjG6HbN-KhcQGslMI4RonkaE4YD_MGs) <toomasv>:
Fun:
```
>> set '-1 2
== 2
>> get '-1
== 2
>> minus-one: reduce [to-get-word '-1]
== [:-1]
>> reduce minus-one
== [2]
```

[19:57:06](#9oeA8zo1nGq4eyFdGOg79z5sYZe_8i2SYkrqKyPFwWU) <greggirwin (Gregg Irwin)>:
I was going to say we should disallow it. It's not a fast lexer regression though. It doesn't trip up literal values, which is the big concern, but I can certainly see it creating confusion when reading if abused. Disallowing it means scanning the entire number, if we want to allow things like `'-1x`. Extend that to pairs and you have another area. You can't do it with `%` in the word though. e.g. `'+1%` fails.
```
>> +1
== 1
>> set '+1 2
== 2
>> +1
== 1
>> ++1
*** Script Error: ++1 has no value
*** Where: catch
*** Stack:  
>> set '++1 3
== 3
>> ++1
== 3
```
If it's not exploitable when loading data, though it could be used to obfuscate things, what are the biggest problems or downsides?

All that said, if it's not used in Red today, we can disallow it for now and not break anything. If someone has a great use for it, that adds value, we can consider that.

[20:47:18](#KohnWhKz_JNIsFJfa8oISb8U6vUylCqK1XH_5ajcU3g) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
I think it should not be allowed.

[20:50:17](#lWsiCtWUVml7UfASDMC4TRYf8Z0rKamZ2tk1MjTYx4E) <hiiamboris (NOT THIS ONE)>:
`'-1` should be an error, `'--1` should be a lit-word

[21:20:16](#lZ6-SP9jyWmhEhBo694IZO35jWS_5QbGsKkvaVP20rA) <greggirwin (Gregg Irwin)>:
The general rule being that it can be a word if it can't scan as a number? What about the `pair!` case?

[21:29:49](#Ffh5m1O7VgKJjTPrWG1iypp6GST7haW4mm2ABMarzo0) <hiiamboris (NOT THIS ONE)>:
what about it? There's no lit-pair or get-pair

[21:31:51](#j5Ft3sEaeXqhzjUhfCzEo9Zne76-WSv_Ey1x0Ge964w) <greggirwin (Gregg Irwin)>:
```
>> '-1x1
== -1x1
```

[22:00:01](#FKlOWV4QEdzjQcFkD5vsJSecuYPFn2VpzHYieaWw3yo) <hiiamboris (NOT THIS ONE)>:
Should be an error, like before. `'` starts a lit-word or lit-path, so `'[sign][digit][letter]` shouldn't be allowed

## 6-Apr-2021

[9:41:27](#MigMtELKbGRw4lnsqMEVPeauAB-vt6eH9-WASupALJE) <loziniak (Maciej ÅoziÅ„ski)>:
Hi. I'm gonna resurrect an [old thread â†‘â†‘â†‘](https://gitter.im/red/bugs?at=5dab13094bc69e6b6601b19e).

@hiiamboris pointed at line 510, where `0` is returned. But Red/System [implementation of `quit-return` routine](https://github.com/red/red/blob/c5722b6efcd299c46df6469d14d23020bca40d95/environment/routines.red#L17) is: `quit status`, so returning 0 does not seem intentional to me. Also, I have no idea how could this `quit status` be "bypassed" or what?

[10:09:52](#K2nb5QXWQ63-8pKVa9g2QoJnZsGpZXlM7JpgIoRr5q0) <loziniak (Maciej ÅoziÅ„ski)>:
Relevant issue: #4095

[10:10:08](#PSlT8Fy29jqpDBV7QeUh7LrqgFjE-CI5mEovo4U9LgM) <loziniak (Maciej ÅoziÅ„ski)>:
* Relevant issue: https://github.com/red/red/issues/4095

[10:10:37](#9tXjE6xcVLmCXY1-1NYQaC-sELrVGAMC-_RN_x75BZE) <hiiamboris (NOT THIS ONE)>:
I answered to the ticket. It should be a no-brainer fix.

[10:10:51](#w1YW-MACJ_CSj4Hvwtsod9sB-LJgc_yxjybcormrakE) <hiiamboris (NOT THIS ONE)>:
Just nobody but you cared so far.

[10:11:07](#mrKNakcP8jD46Bl6gWual2NRh6Y1PbZLkJ30_ydUByM) <loziniak (Maciej ÅoziÅ„ski)>:
Just noticed it, thanks. I'll try to push a PR.

[10:24:24](#NqcCSD9D6qsLC93HPnJdXIOb-VbaKUf4g4vSzdWP-zA) <rebolek (Boleslav BÅ™ezovskÃ½)>:
What a strange bug:
```
*** Syntax Error: (line 1) invalid float at 10842288.0
```

[11:09:12](#rEjGryDhmf5pq8TTIGHDvHeTRIxXhiiBscyB4gxMKFA) <rebolek (Boleslav BÅ™ezovskÃ½)>:
Ah, old Red version, seems to be fixed now.

[11:47:13](#jRtB44KYM5bKlkWsk3V3NFB-DW5eI-eHz7nfzcI32EU) <loziniak (Maciej ÅoziÅ„ski)>:
@hiiamboris it's working, thanks.

## 8-Apr-2021

[11:52:58](#noPZSY6L5O3WdDKzzJealBEjcHUyt2UuBTbEhkgDqxw) <loziniak (Maciej ÅoziÅ„ski)>:
Hi! Found this:
```
>> to word! "<<<>>>"
== <<<>>>
>> '<<<>>>
*** Script Error: <<>>> has no value
*** Where: catch
*** Stack:  
```

[13:24:20](#E5huIUt978DpDo3qMYXdx4NaFxYf8KaqRROSIbbgjZU) <hiiamboris (NOT THIS ONE)>:
Fun

[13:54:14](#M1vKk3kTt2BOS22eGN3220DCCksjR7DjqyPZShjVYXM) <hiiamboris (NOT THIS ONE)>:
opened https://github.com/red/red/issues/4872

## 11-Apr-2021

[10:08:35](#ItmeboIDE7tYdg3C64PWCxvxqrXomuvP0jYQ58uXP_k) <loziniak (Maciej ÅoziÅ„ski)>:
thanks!

## 23-Apr-2021

[22:28:12](#qBD4VVII2S5GIbgT4upInI4_DL6SpWy5KZrJEqp4vJM) <zwortex (zwortex)>:
The following code makes use of the reactive framework to link a view to an underlying model.
It works fine though only if the model field that is modified is assigned using self. If modified with the field, no update is triggered. Cannot understand why. Is it by design ? Cheers.

```
a: reactor [
    x: 1
    y: "positive"
    update: function [ val [integer! ]][
        x: val
        y: either val >= 0 ["positive"]["negative"]
        ; un-comment for triggering the update
        ; self/y: either val >= 0 ["positive"]["negative"]
    ]
]
view/no-wait [
    text react [ face/text: a/y ]
    button "positive" [ a/update 1 ]
    button "negative" [ a/update -1 ]
    button "close" [ unview ]
]
```

## 24-Apr-2021

[8:01:00](#R7L2xoxLZzo4wZy5n-AyNrsx0MRN5p3z2WdHHZCqD_g) <hiiamboris (NOT THIS ONE)>:
```
>> spec-of :update
== [val [integer!] /local x y]
```

[9:54:18](#hO_en1_h6M8-HTPZ3_zXB37g4KJ1xT8vn0VoN1ryJjE) <zwortex (zwortex)>:
Thanks. Yeah. I realised that while sleeping. Should have known better. Sorry for the trouble. Still this function function gets me confused. Is there any method function that has better consideration for object fields : not localizing them, while retaining the localization mechanism for other set-words ?

[10:43:54](#oiXZ7JlxjDOLglw05xJh_OnIMnXkknPnt1GosgSj0jY) <hiiamboris (NOT THIS ONE)>:
well, function doesn't "know" that it's used inside an object, but let me think...

[11:08:51](#LT48jS8ZAhamNNA5vC-xw1IqrQ38_1Pt6z0oFc_Y9gM) <hiiamboris (NOT THIS ONE)>:
how about this:
```
Red []

smartobj!: object [
	method: func [spec [block!] body [block!]] [
		parse body [any [
			to [set w any-word!] if (in self w) change only skip (
				as switch type?/word w
					[get-word! [get-path!] set-word! [set-path!] lit-word! [lit-path!] word! [path!]]
					reduce ['self to word! w]
			)
		]]
		function spec bind body self
	]
]

dumpxy: func ['o] [print [o "x=" select get o 'x "y=" select get o 'y]]
context [
	x: y: 0
	test: make smartobj! [
		x: 1
		f: method [] [x: 2 y: 2 print ["test/f:" x y]]
	]
	?? test/f

	dumpxy test
	test/f
	dumpxy test
	dumpxy self

	test2: make test [
		x: y: 1
		g: method [] [x: 3 y: 3 print ["test2/f:" x y]]
	]
	?? test2/f
	?? test2/g
	dumpxy test2
	test2/f
	dumpxy test2
	test2/g
	dumpxy test2
]
```

[11:48:16](#OIadHuk8TAuGcI-dSNHWMz3YhvvF1nBG_OpKvNtWVHQ) <zwortex (zwortex)>:
Works like a charm. A smart object that is auto-correcting missing self paths. Thank you for this nice illustration of how to make use of parse. 

[15:14:20](#Zn_RCf6WSELgpuDI4jBXLxNZFs5fgpZ_k6z5seV6yxU) <zwortex (zwortex)>:
Crash with modify 'owned and object that has circularities

While testing reactivity with objects that are node trees, I encountered a crash. 
*** Runtime Error 19: stack error or overflow   
*** at: 0042A933h       

Digging into the code from reactor/on-change, I pinpointed the following file, line and code :
reactivity.red, line #31 :
if any [series? í ½í¸®ld object? í ½í¸®ld][modify old 'owned none]

In my case, the old word refers to an object that is a node tree, however with circularities : i.e. children of the tree refer back to their respective parents.

The following code reproduces the issue :

```
create-node: function [][
    node0: make object! [
        node-type: 'node0
        label: none
        value: none
        parent: none
    ]
    node1: make node0 [
        node-type: 'node1
        child: none
    ]
    n0: make node0 []
    n0/label: 'n1
    n0/value: 1
    n1: make node1 []
    n1/child: n0
    n0/parent: n1 ; if commented no crash
    n1/label: 'sine
    return n1
]

; However in context, it looks more like this
a: reactor [ 
    node: none
    push: function [][
        self/node: create-node
    ]
    pop: function [][
        self/node: none
    ]
]
a/push
a/pop

```

Should probably work. In any case should not crash. Note that following code is enough to provoke the crash. Therefore I circumvented the crash by overloading reactor/on-change and avoiding this very call.

```
n: create-node
modify n 'owned none 
```

[15:20:27](#CDgmQd2plzkP2vYVvmtI8CJqs_SEwqEO8sk0VQnp-u8) <zwortex (zwortex)>:
* Crash with modify 'owned and object that has circularities

While testing reactivity with objects that are node trees, I encountered a crash. 
*** Runtime Error 19: stack error or overflow   
*** at: 0042A933h       

Digging into the code from reactor/on-change, I pinpointed the following file, line and code :
reactivity.red, line #31 :
if any [series? :old object? :old][modify old 'owned none]

In my case, the old word refers to an object that is a node tree, however with circularities : i.e. children of the tree refer back to their respective parents.

The following code reproduces the issue :

```
create-node: function [][
    node0: make object! [
        node-type: 'node0
        label: none
        value: none
        parent: none
    ]
    node1: make node0 [
        node-type: 'node1
        child: none
    ]
    n0: make node0 []
    n0/label: 'n1
    n0/value: 1
    n1: make node1 []
    n1/child: n0
    n0/parent: n1 ; if commented no crash
    n1/label: 'sine
    return n1
]
a: reactor [ 
    node: none
    push: function [][
        self/node: create-node
    ]
    pop: function [][
        self/node: none
    ]
]
a/push
a/pop

```

Should probably work. In any case should not crash. Note that following code is enough to provoke the crash. Therefore I circumvented the crash by overloading reactor/on-change and avoiding this very call.

```
n: create-node
modify n 'owned none 
```

[16:09:21](#K1qv4E3Ux4SNwDRftm6O2WO9qGCyi4JC4QoJVawU3BU) <hiiamboris (NOT THIS ONE)>:
thanks! added this to https://github.com/red/red/issues/4546#issuecomment-826114798

[16:33:18](#j4fG7Mtf3iy9RrcX2nIR5DWpn6SwjsQ0t79SwN6JL5U) <zwortex (zwortex)>:
You're very welcome. A one liner bug ! I cannot be that terse.

[16:42:00](#vas6OfRdTp2HQcMj18pE5QxaTP04dd5vE5xydIqgJDw) <hiiamboris (NOT THIS ONE)>:
you've done the hardest part of locating the buggy line í ½í¸‰

[16:42:11](#IeU8h-WcxYNHPN6oDzqx4qtnS6-VC2uDd_Ko4NUwo90) <hiiamboris (NOT THIS ONE)>:
* you've done the hardest part of locating the buggy `modify` line ;)

[17:11:03](#2iRzFwHXF4P7rVEdvoPoA3Bk1dIVBz9MAcWjfFO9Zu4) <zwortex (zwortex)>:
You can't imagine : I had to crawl to find out where it was. By the way, how do you print out the stack trace that is shown in the bug. It might have given me an entry point to search the issues or the code, at least. Regards.

[17:18:30](#g3IGmCl73v-AX2PY7sRUIKG-eQ1Srmet-8Jb9ZCQbQ8) <hiiamboris (NOT THIS ONE)>:
you need to compile your console with `-d` flag

[17:19:20](#ZZcNUTn_LrkTKcfwiYjtlBrHJkkYjDmuc66CahMeVJg) <hiiamboris (NOT THIS ONE)>:
as in here: https://github.com/red/red/#running-red-from-the-sources-for-contributors
but adding `-d`

[17:21:39](#k_JA9DZl9jcBJjqAXfP4GcMisqseUgEVS2RAO3YjeXs) <zwortex (zwortex)>:
Thank you ! I'll do that.

[17:22:08](#qLBOeEikOKdx0sVCWGcFnhU_iGhLc6U3mGd41f009H8) <hiiamboris (NOT THIS ONE)>:
:+1:

[17:23:28](#J3fFv3ColJsgVrzyb6JnOpULWweXGvdcRO4TJSNSLTc) <hiiamboris (NOT THIS ONE)>:
as a bonus, GUI console compiled this way will mirror it's output to the terminal, which is both realtime and leaves a trail when it crashes

[17:54:56](#GxE7q1fq8Adcu7HGd4pziO3QBR3Tw_Pa4jcFiJifnno) <zwortex (zwortex)>:
Worthy bonus indeed !

## 30-Apr-2021

[3:28:38](#vGNYc33Y5RLPlkCy1H3XR2v39PqVSNOC6n66-pmFrlM) <gltewalt (Greg T)>:
Worthy bonus indeed !

[3:30:26](#LeiaO0a0WWEs9eocYfRBejT0_COCnbVltKeafBu79HM) <gltewalt (Greg T)>:
Worthy bonus indeed !

[3:31:01](#nQW9GGZWdK6iR1pxtOdbiU499en4brBXaJd4elXimDk) <gltewalt (Greg T)>:
Worthy bonus indeed !

## 4-May-2021

[18:39:55](#_NpsQ3HOqbnfD3xmjUrpIS7hvoQ9p_ulBNumf_VkN0o) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Currently in Red there is:
```red
>> 0 = 0:00
== true
>> 0:0 = 0
== true
```
These are both `false` in Rebol as [Carl wanted](https://www.curecode.org/rebol3/ticket.rsp?id=1103).

[18:43:20](#M7h_uy_4BXnIoIaUxpAimDsfT6WCnqLd-6YnGk0AC6w) <hiiamboris (NOT THIS ONE)>:
What's the rationale?

[18:44:10](#E8QRV2DhnzVB8cZsbRTqul2qHJf5m8BZQ2kPD4j_cWg) <hiiamboris (NOT THIS ONE)>:
And what about this?
```
>> 0:0:1 = 1
== true
>> to 1 0:0:1
== 1
```

[18:44:26](#gHQU-4S0TEtBcUP0BFZtvapQ4g6TuvbTix6KMB62t1U) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Hm.. maybe Carl was wrong

[18:45:04](#Sm9YMls7C8tYs3GynK9ncfmFAcETwAw8URFVFJ2h_Hc) <hiiamboris (NOT THIS ONE)>:
I think it's okay to have loose comparison.

[18:45:32](#vSIeJrnYmJ1j_m4O6tGj3akBy6nZvpQI_mgReSEiDHY) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Ok.

[18:50:41](#tqBgTd0khke7uOFRXynTLdbDfhwXIaIxB3WFL-6MNLc) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
It's just a little bit strange to see something like: `100% = 0:0:1 ;== true` but I know I can use `100% == 0:0:1 ;== false`

## 5-May-2021

[18:42:09](#_RTb2sPqYzmUjZblVj0cI7c9l20bng9CW3RbEgNU1f0) <greggirwin (Gregg Irwin)>:
It's another one of those things where you have options. If you don't have a non-strict comparison you have to coerce values. There's no right or wrong, but a subjective design decision.

[22:13:11](#IQ2ZrozU9K2hgiBPeEKzX3eNMEwailTFCuGV73LYHW4) <rsheehan (rsheehan)>:
Is anyone else getting the following error running red programs on the most recent builds for the Mac? `*** Driver Internal Error: Script Error : status needs a value 
*** Where: run-console 
*** Near:  [status: either all [Windows? gui?] [
gui-sys-call exe any [all [file form-args file] ""]
]] `

## 6-May-2021

[6:59:32](#iror6lrDEVW_PUUsWgG_KRLrhDWr0qo38zXGgylZ55k) <hiiamboris (NOT THIS ONE)>:
regression from https://github.com/red/red/pull/4869

[6:59:58](#8VYXQj0naArtaQWuMqU13LrZY-4zJn0S_MdTZXoRwvI) <hiiamboris (NOT THIS ONE)>:
please [report it](https://github.com/red/red/issues/new?template=bug_report.md)

[7:00:28](#CG4AQXCbOxHR0uifTN9IBRFal0z3ICa_diA6nbmhoes) <hiiamboris (NOT THIS ONE)>:
looks like `sys-call` routine is defined without an integer return value

[7:00:33](#O6gCtakIo1hw_wz_WkAe9A8BDdyqAKo-9_DuXbK-W7U) <hiiamboris (NOT THIS ONE)>:
in a few places even

[8:20:56](#claF5BISvRmNU6KKVC_zowoVoimFmxsIgxsS8P_v39M) <rsheehan (rsheehan)>:
@hiiamboris Done.

[12:41:30](#UjUH_oc7fOY9oqUAi5ALBbh1b4F3XOpxSVz1gMrqjGQ) <zwortex (zwortex)>:
Key is wrong with key-down or key-up events. Is it intended ?

```
check-event: function [from event][
    print [ from "type:" event/type "key:" event/key "flags:" event/flags "ctrl?:" event/ctrl? "shift?:" event/shift? ]
]
win: layout [
    h: field 0x0 hidden
    text "click a key and check the console"
]
win/actors: object [
    on-key: function [face event] [
        check-event "window" event
    ]
    on-key-down: í ½í¸®n-key
    on-key-up: í ½í¸®n-key
]
view/no-wait win
```

[12:48:48](#MWcMYgUFwdUXXyGrhK9qsKCUnjBhaOTJcoH-HgYIiFg) <hiiamboris (NOT THIS ONE)>:
wrong how? works for me

[12:49:48](#aHmb6A2L27cdmZcZRfpgkEy-CdY-VBMhZ8Odv15v9zM) <hiiamboris (NOT THIS ONE)>:
if you mean, not translated into a character then it's by design

[12:50:24](#nQ6FWyMACyA7iWzJruu0xeUrgSEwKLGiRy3NzWbHw2Q) <zwortex (zwortex)>:
that's what I meant

[12:51:36](#QvgcYvI0OabGEp5Yge9ikK1v6fqvw-2M2qpn7n4McjY) <zwortex (zwortex)>:
how do I get the translation ?

[12:52:46](#6wRlHMdi1__HmaWIOzyWqAmBkQxqEsuU8wbzbrs-00I) <hiiamboris (NOT THIS ONE)>:
think on it.. e.g. `#"K"` is a combo: `+Shift +K -K -Shift` it's 2 key-downs and 2 key-ups, there is simply no such thing as 'releasing a #"K" key'

[12:53:05](#5eVw5LeAJ41H4IW28bpEfaav8FbVHdCDVEePcEtfREc) <hiiamboris (NOT THIS ONE)>:
* think on it.. e.g. `#"K"` is a combo: `+Shift +K -K -Shift` it's 2 key-downs and 2 key-ups, there is simply no such thing as 'releasing a #"K" key' (which you expect in on-key-up)

[12:53:43](#nJy-12skctni0VWy0XzcyMMmPEkL1kG_dHrZ-QG7uY8) <hiiamboris (NOT THIS ONE)>:
translation is only available in on-key, cache it if you need it

[12:53:50](#LX2QNohOe2uUKes_FGkPVcsU6rDNY_SCIprfhr6P_Uc) <hiiamboris (NOT THIS ONE)>:
why do you need it?

[13:07:31](#LiOWsciy6lqvEsLoJ3UKo_5EZvTbAUX_J_v3867h3C4) <zwortex (zwortex)>:
I don't need it. I was using on-key-down then I figured out it was not using the proper event. As for your explanations, which I understand, event/key refers to a key in the events key-down and key-up, but to a character in the event key. This is confusing though understandable.

[14:35:53](#seaaHanS2KVVhLkI0cPganX6YlnQc9iHZEzazm9CjQg) <zwortex (zwortex)>:
The following code changes the font size of a button when clicked :
```
view [
    style op: button bold font-size 18
        on-down [ face/font/size: 20 ]
        on-up [ face/font/size: 18 ]
    op "Click-me" [ print "Morning Joe!" ]
    op "Click-me-also" [ print "Morning Jack!" ]
]
```

However, as the font is common to all widgets that use the same style, the change is made to all buttons. I tried to create a separate style using a different font :

```
view [
    style op: button bold font-size 18
        on-down [ face/font: op-clicked/font ]
        on-up [ face/font: op/font ]
    style op-clicked: op font-size 20
    op "Click-me" [ print "Morning Joe!" ]
    op "Click-me-also" [ print "Morning Jack!" ]
]
```

This also fails as the style is not known in the event handler. As a work around, I created an explicit face, though hidden, to hold separate fonts. 
```
view [
    style op: button bold font-size 18
        on-down [ face/font: a-op-clicked/font ]
        on-up [ face/font: a-op/font ]
    a-op: op 0x0 hidden ""
    a-op-clicked: op 0x0 hidden "" font-size 20
    op "Click-me" [ print "Morning Joe!" ]
    op "Click-me-also" [ print "Morning Jack!" ]
]
```

This works but I'd rather be able to refer styles directly. Is it a wish wishable ?

[14:44:42](#VEDKassow1xNPYE2zP-6F47toKJXWw5DplqnBlVkL2A) <hiiamboris (NOT THIS ONE)>:
https://github.com/red/red/blob/3723789c63bb057966b1eace6f0292af3cac958e/modules/view/VID.red#L527
Styles are currently local to the layout function. 

[14:46:13](#niTBfb5_vRLKtg0s4uqZVqOxGlvaO_b4pCm9d8uD03w) <hiiamboris (NOT THIS ONE)>:
I suggest defining fonts separately and reusing from styles. 

[14:47:50](#CL8MYM4LV2FePMYGVKRiG4k_B9g7QKqosTPpph3-G_8) <hiiamboris (NOT THIS ONE)>:
Your last example doesn't change the font size for me

[14:49:09](#KFsO5zRYRcA05GZ_flewGZ39RczUZSkiAch9KrUyOrQ) <hiiamboris (NOT THIS ONE)>:
No, wait, it does :) Just hard to notice

[15:22:01](#2XOEG7eHJNfVpc71e6220TSRAHMgJl0Ck_pVYYkY1eg) <zwortex (zwortex)>:
ok

[15:23:01](#Z9vBSAd34reKjpvrn7W39K5joHUARtbTh3CyGFzfmgg) <zwortex (zwortex)>:
When creating the layout of a view, I can use set-words to designate some particular widgets. Then I may use those words in event handlers to interact with these particular widgets. However those words are local to vid. They are not exported (you have to export them explicitly using a do block or an on-create event). Also they don't show when probing or dumping a face tree.

```
win: view/no-wait [
    a-button: button "Click" [ print "Hello" ]
        on-create [ a-button-for-all-1: a-button ]
    do [
        a-button-for-all-2: a-button
    ]
]
do-actor a-button-for-all-1 none 'click
do-actor a-button-for-all-2 none 'click
dump-face win
true
```

I wish set-word in vid be accessible from outside. For instance : win/a-button or a reflective function like get-face-by-word win 'a-button. And have this information visible when dumping the face. Does it make sense ?

[15:25:54](#CEWg2wWAkL2sJhVbUMvM2LBGyikSoujUONUW47zsmz4) <hiiamboris (NOT THIS ONE)>:
a-button is global.

[15:40:05](#FW38ij_EKKGZhfcbTFHEvJixmTkrTwE1rG-0dxChgK0) <zwortex (zwortex)>:
How come I thought it was not ? Anyway, the remark regarding the dump of faces still holds. 

[15:53:25](#qQ8YvQQHkSRWIHpfizzSqtZbMz02N3HHpxKlRjwls8M) <hiiamboris (NOT THIS ONE)>:
How do you envision it?

[16:04:06](#InS_hwR5-Ki4_vvipwMIQyyRDnjynTWsqIyjXyD2V-M) <zwortex (zwortex)>:
With the late enlightment, I guess set-words should be local to the view that is created or local to an enclosing context (that would not be a face object), instead of being made global. Alternatively, a face facet holding the set-word used to designate the face object.

[16:08:35](#uW6q1FEUU8RTiVg3eXob34g_plwt1ieyPjB5nmDbVKs) <hiiamboris (NOT THIS ONE)>:
You can wrap 'view' call into a 'function'.

[16:45:48](#CiSxF8qSoE-FWcNhOo3-knGwS52d1aRYUB0za_BCrBc) <zwortex (zwortex)>:
I guess with the intention of containing the set-words to the local function. But I still don't see how it would made them available, or just visible, when dumping the face tree. 

[16:46:33](#Y0MLHZsNjwtwTXBpY82fZlOtghoNGpftIsVJlG34lQk) <zwortex (zwortex)>:
I'll think about it later.

[16:49:50](#O1XL3OYey7YhlEb35yYphDbwTG2fkml34SIbGeO4VHQ) <zwortex (zwortex)>:
Different subject. Reduce flattens a block. Compose does not. Why is it so ? It is not with Rebol 2.

```
a: [
(1)
2
]
a
reduce a
compose a
```

[17:28:07](#5BofiFFwnQfvYAI4Ndw8vx5FeZqYaHYoIBE_P1ooFv8) <hiiamboris (NOT THIS ONE)>:
reduce changes every value, compose only touches those it evaluates

[17:40:02](#c7pCvkoh68Bn87Ge4U35ZNQrohmIc8rMWJeH4vKngEM) <hiiamboris (NOT THIS ONE)>:
In R2 it's a total mess:
```
>> a: [
[    1
[    (2)
[    3
[    ]
== [1
    (2)
    3
]
>> reduce a
== [1 2
    3
]
>> compose a
== [1 2
    3
]
```

[17:43:17](#1ogHYwqC90ARQ82Nx_Id4p3exeF2I_5U9zjLPfV_DWE) <zwortex (zwortex)>:
I guess line feeds should be preserved unless the evaluation spans across it, be it with reduce or compose. In the case of compose, that means the line feed is within the parenthesis. For reduce, it depends on the evaluation itself.

[17:43:52](#-aO-8AeAmjVwGNysnT2CO6ot_31iDUySoizN-nvYaSs) <hiiamboris (NOT THIS ONE)>:
Yeah, good idea. I'll make a ticket.

[17:54:01](#JZZ053nsrHkwK4GIqOpkslVnmDkT5VTkEB0nd-ISnoY) <hiiamboris (NOT THIS ONE)>:
https://github.com/red/red/issues/4890

[18:26:47](#JeURVDfARf9EdPzh4RzOh7_Z_hzNHrHWIXgjJC93xfg) <zwortex (zwortex)>:
genial

[23:51:45](#PojutUIe_fIBzDooCDoyzFlKwCCIMWi4gbCVgPmkN-4) <zwortex (zwortex)>:
If I load a tiny float, it is rounded to 0.0, or so it appears

```
a: load "1.2354e-16" ;=> 0.0
print a ; 0.0
probe a ; 1.2354
a * 1.E16 ; 1.2354 ; no it's still there
mold a ; 1.2354e-16
```

I digged into the code and system and found the option float/pretty? in system. 

When starting the console, it is set to false. Still, the display of float is rounded :
probe system/options/float/pretty?
load "1.2354e-16" ;=> 0.0

However, if I set it explicitly to false, the rounding gets removed as expected.
```
system/options/float/pretty?: false
load "1.2354e-16" ;=> 1.2354e-16
```

I guess there is some initialisation confusion somewhere.

[23:52:29](#VeHXdG1_J0FBzu4oO1tIPP0v8x8DRixUZtGhRM2uo3A) <zwortex (zwortex)>:
* If I load a tiny float, it is rounded to 0.0, or so it appears

```
a: load "1.2354e-16" ;=> 0.0
print a ; 0.0
probe a ; 1.2354
a * 1.E16 ; 1.2354 ; no it's still there
mold a ; 1.2354e-16
```

I digged into the code and system and found the option float/pretty? in system. 

When starting the console, it is set to false. Still, the display of float is rounded :
```
probe system/options/float/pretty?
load "1.2354e-16" ;=> 0.0
```

However, if I set it explicitly to false, the rounding gets removed as expected.
```
system/options/float/pretty?: false
load "1.2354e-16" ;=> 1.2354e-16
```

I guess there is some initialisation confusion somewhere.

## 7-May-2021

[6:27:54](#UlgxYG6e6d9CBxBFE9cG9r2gg7ZGwMPojeK_5NWHFhQ) <hiiamboris (NOT THIS ONE)>:
Float is not rounded by load, but by mold. Use mold/all if you don't want it.

[6:29:24](#ZDBgHFhquxv0ls28rZIg4IKllfZB0O1kmT4X9uGt7-I) <hiiamboris (NOT THIS ONE)>:
Sorry, by 'form'. Mold probably doesn't round anything but -0 to 0 maybe.

[8:27:33](#PHMFkmk9RJUQaLI7Aq-To0CMq9EeZiCsK9vzyhkGLA4) <zwortex (zwortex)>:
I was not commenting on mold vs form. But on the fact that system/options/float/pretty?, that is used by form, is not taken into account after initialisation, but only after its value has been set again. Whether it is relevant of something else, is beyond my concern.

[8:36:40](#lpQr5x5rVtYX5mZY2Opdlld6Ur4evoFAubkCenB3tMA) <hiiamboris (NOT THIS ONE)>:
right, it's out of sync

[8:37:05](#-IG5chh-X9N5wYdhRUnCeHLqZ3W4bcy_NxVsKqvECqI) <hiiamboris (NOT THIS ONE)>:
file a ticket if you like

[9:52:54](#Pt_CvEGUmzOkL5L7WeDUDK5AbTTM_q_aRWkb0FydT5s) <zwortex (zwortex)>:
Here it goes : https://github.com/red/red/issues/4893

[9:53:50](#XTE-A4j8XmM8BAFgFDr5PzhIecY38kd8pWJlCu0P6y8) <hiiamboris (NOT THIS ONE)>:
:+1:

## 8-May-2021

[9:38:53](#K5uz8ugy6gY_2ww65rR2xee5xoNeY1Ecd-EGVJ0lbos) <zwortex (zwortex)>:
Is it known ? Documenting return: for a function provokes an error

```
f: function [
   "My function"
   value [integer!] "Value"
   return: [string!] "Returned value"
][
    s: copy "res"
    append s to-string value
    return s
]
```

*** Script Error: invalid function definition: return:
*** Where: =
*** Stack:  

The same with func works fine though
```
f: func [
   "My function"
   value [integer!] "Value"
   return: [string!] "Returned value"
][
    s: copy "res"
    append s to-string value
    return s
]
help f
```

[9:50:59](#vWlzgudjv1DUTbGGNH1Z4cWPZ3tQJNJN-2_Kb3SqgaQ) <zwortex (zwortex)>:
Is it known ? Documenting return: for a function provokes an error

```
f: function [
   "My function"
   value [integer!] "Value"
   return: [string!] "Returned value"
][
    s: copy "res"
    append s to-string value
    return s
]
```

*** Script Error: invalid function definition: return:
*** Where: =
*** Stack:  

The same with func works fine though
```
f: func [
   "My function"
   value [integer!] "Value"
   return: [string!] "Returned value"
][
    s: copy "res"
    append s to-string value
    return s
]
help f
```

[9:52:06](#a3EEWdJkF31r906MoTWQn6BhMhip5NpMVJdbBS_XEZA) <zwortex (zwortex)>:
* And as I am on it. Maybe I pointed this out already. It should be prevented to use return as an argument of a function. Once again this is something that is needlessly error prone. Some exceptions are useful. This one I doubt.

```
zero?: function [ value [integer!] return [logic!] ][
    if value = 0 [ return true ]
    return false
]
a: 0
either any [ zero? a a = 1 ] [ print "Yes" ] [ print "No" ]
```

[10:09:41](#oKaQ0Zxek1dadHOsvEr7twFtB8UjiAATxjGio0IRPmA) <ldci (FranÃ§ois Jouen)>:
@zwortex 
```zero?: function [x [number!]
][
	either x <> 0 [false] [true]
]
```


[10:43:24](#hlUwJF--n0zhRwCpLtuCA839HBWlLVrwtAMfhg3I1RY) <zwortex (zwortex)>:
@ldci Thanks for the tip. My point though was on the argument return:, that might be mispelled as return, and provokes errors subsequently. Furthermore, I should not have used zero? as example it is part of the core functions. Sorry about that. I will delete the post and put it back.

[10:47:59](#_K0Iv8k2DHuY96K7yAYp4EHai4UQaV0rvL8_kZVOaX8) <ldci (FranÃ§ois Jouen)>:
@zwortex BTW: words declared in func are global and words declared in function are local. When youâ€™re using functions, in most cases you donâ€™t need return. By default the last evaluation is returned by the function.

[10:49:01](#RG73amgGAKPkbBDKnm5Z174bRZc78CGyU6qY9gPAM6c) <zwortex (zwortex)>:
(Rephrased)
Maybe I pointed that out already. It should be prevented to misspell return: as return in a function spec, as it will trigger no warning and might lead to bugs that are hard to find. In my opinion, this is something that is needlessly error prone. Some exceptions are useful. This one I doubt.

```
is-zero: function [ value [integer!] return [logic!] ][
    if value = 0 [ return true ]
    return false
]
a: 0
either any [ is-zero a a = 1 ] [ print "Yes" ] [ print "No" ]
```

[10:51:45](#-tpNXKLWf0UcPpc6RLgU469boXhz61ciDttTh7JuwIQ) <zwortex (zwortex)>:
@ldci - ok

[11:30:13](#Wmrry_912UzjSY6jWgnD-LIHNrj9CMKBzaG32VfU6eU) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
@zwortex your function is too verbose... you can use just: `is-zero: func[value][value = 0]`

[11:47:25](#W2iKrcIi5-hYRpDtGrYGvH-bPM0kEhLMcvk7V9uphYI) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
The `return:` inside `function` specification is interesting bug:
```
f: function [return: [string!] ][s: copy "res" return s] ;= OK
f: function [return: [string!] "a"][return "s"] ;= OK
f: function [return: [string!] "a"][s: copy "res" return s] ;= ERROR
```

[11:54:07](#ZlV-S_Ir_YUvM7ZXcZ03gR4BcAX1YMVP01JrVESq2aA) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* The `return:` inside `function` specification is interesting bug:
```
f: function [return: [string!] ][s: copy "res" return s] ;= OK
f: function [return: [string!] "a"][return "s"] ;= OK
f: function [return: [string!] "a"][s: copy "res" return s] ;= ERROR
f: function [return: [string!] "a"]["a"] ;= OK
f: function [return: [string!] "a"][a: "a"] ;= ERROR
```

[12:10:39](#beRssUg6_vbV6X7Nthrq1yS8Ntm8sdsZSPDZS-9oMKI) <zwortex (zwortex)>:
@oldes, are you a bug keeper as well ? shall I create it with your additional examples ? 

[12:44:09](#8Pp6IYxM3nkCxgcEzaiTu08jJrpGA2ttCbcWASZkSZ4) <hiiamboris (NOT THIS ONE)>:
Yes please report it

[12:54:18](#OFRAFw_O-OuYh9OWAKmYCB_mCahpzriVX84OzvMms54) <hiiamboris (NOT THIS ONE)>:
As for your original `return` vs `return:` exception, restrictions may help you learn but only learn for a short time. After that restrictions only limit your expressive power. Red is a language  that aims not to do that.

[12:54:27](#omdYWrPJgIm9qAwnaLDJuZej6bdSfHjH0yzble4aFmE) <hiiamboris (NOT THIS ONE)>:
* As for your original `return` vs `return:` exception, restrictions may help you learn but you only learn for a short time. After that restrictions only limit your expressive power. Red is a language  that aims not to do that.

[12:57:03](#OcN4CBjPspwiOM13Hh2qcGV2Fl7CzI4pgdB_gDcsw9Q) <hiiamboris (NOT THIS ONE)>:
But this is where additional code analysis tools may at least in theory prove useful.

[13:56:12](#loFNBKXOezH9tuC0EbENowlF7hg3dvghljEcf3L54pE) <zwortex (zwortex)>:
For the bug, here it is : https://github.com/red/red/issues/4894

[14:10:16](#8ELSvASNiZwUCCipygf8SZpAjrHYQN1OkHkh4TM35QQ) <zwortex (zwortex)>:
For the return vs return:, I disagree. A basic of good ergonomics is to give a proper feedback. If you need to have return as an argument or as a local variable, you can just add a refinement for that very purpose : lets say a refinement /return. The exception here is the want of an argument that is called return, whereas you will use endlessly return:. At the same time, using return in lieu of return: might trigger a bug, possibly very hard to find and that could be easily prevented at the core of the language. Like other languages, you will end up with strict settings, that will enforce those and save the life of millions. When you educate a child, you teach him how to say please and thank you. No please. No cookie. Similarly, a programmer that uses an argument named return, should not be rewarded. No function at all. Clear. Simple. Error free.

[14:16:48](#Uqp3PGLQ8lr4PMeQsbS8Vd0PSSGpY4jc8mcgGFbkIxw) <hiiamboris (NOT THIS ONE)>:
Let's no exaggerate. I never recall making this mistake and it looks as contrived as writing `'none` instead of `none`. But I did use `return` as a `/local`.

[14:16:57](#rnRNMMOyFFMt-8ykchr19_NI3eNEjcX75CyX41m9g3M) <hiiamboris (NOT THIS ONE)>:
* Let's not exaggerate. I never recall making this mistake and it looks as contrived as writing `'none` instead of `none`. But I did use `return` as a `/local`.

[14:21:04](#9B3rEXB-brB2onGaGGnku7KJc-YaI8AdWOYyV9uKWtw) <hiiamboris (NOT THIS ONE)>:
I also doubted a lot of core design decisions when I was only learning Red :)

[14:21:33](#qNXqmNP1lV2UJBRtV_FBJL6w2BH7TWzCpP5qdXNxljA) <hiiamboris (NOT THIS ONE)>:
So mark my word, you'll reconsider your views.

[14:24:51](#1wjLbM_5RZ_1pB-uf-51eHxLnzsuvMoxqeuPoiLqVFM) <zwortex (zwortex)>:
Different subject. 

[14:25:00](#cgacRiGvC_7XJ338kaZVGZ4JkQxEsdB_vjzH9TsARk8) <zwortex (zwortex)>:
; Try with a block ending with an exit is not usable
f: function [v] [ divide 10 v exit ]
err: try [ f 10 ]
; Ok I need to add a final value to be returned in all cases
err: try [ f 10 true ]
error? :err
err: try [ f 0 true ]
error? :err
; But I may not know what the block is doing.
; Try should do that job of making sure to return something in any case (maybe return unset! as a convention)

[14:25:25](#mToJ8IQD-Zw73kgSZvOfsSY7Qh7ASeH_AhJnaBzMooM) <zwortex (zwortex)>:
* ```
; Try with a block ending with an exit is not usable
f: function [v] [ divide 10 v exit ]
err: try [ f 10 ]
; Ok I need to add a final value to be returned in all cases
err: try [ f 10 true ]
error? :err
err: try [ f 0 true ]
error? :err
; But I may not know what the block is doing.
; Try should do that job of making sure to return something in any case (maybe return unset! as a convention)
```

[14:52:08](#9LV8KkrkVLrZ65BQsfjlX93KvSdOqW5_l2U19EqZWOQ) <hiiamboris (NOT THIS ONE)>:
Sorry, no idea what is your point here..

[14:52:28](#51Tlvh_29N8bvKICnGpwFN739IGOkjQV9uMqOqYreCo) <hiiamboris (NOT THIS ONE)>:
Every Red expression always returns something

[15:00:07](#-bFN0XRUtPxV7vyrnHL1u0wHH813S7Ocgvrvgk4Npl4) <zwortex (zwortex)>:
I run some command block. Some potentially with errors, some potentially returning nothing because of an exit. If I write :
err: try command
if error? err [ 
    ; error encountered
]
that may fail whenever the command returns nothing. I need to write
err: try [ do command true ]
to protect against a possible exit

What's the point of having try, if you have to add on top another layer of protection ?

[15:04:31](#BUcgi4YMJ6qrgMxw955ynOKvZtNmVbVVHVD4R33NPAQ) <hiiamboris (NOT THIS ONE)>:
Relevant issue https://github.com/red/red/issues/3755

[15:06:06](#SANfxuVtoSz-4CXpHTG6t8nPuX2j43f4CqaoYhKNub0) <hiiamboris (NOT THIS ONE)>:
Also a relevant solution: https://gitlab.com/hiiamboris/red-mezz-warehouse/-/raw/master/catchers.red

[15:11:01](#rKBtVkCB2UXeAV4a1-ROs_bhgSGHzK6oT76oWMLzUOg) <zwortex (zwortex)>:
This is a catch all of try/catch issues... Does it cover my particular remark ?

[15:15:52](#N6v9Fw2IH_tMAHgxlS5A_Z0lLTrKNEUpgc-kPeTOqgg) <hiiamboris (NOT THIS ONE)>:
Solution does, the issue description doesn't

[15:20:04](#qJqOGbNgO4LMj2Jh7S4kL1Ugm3B5rNpMJ2qHUKntPMs) <zwortex (zwortex)>:
What would you suggest ? Worth mentioning as a comment. Or just leave that be... as more thoughts are being brewed on the subject anyway.

[15:29:16](#p1n6-RT_9K3V4IHSoPW4Va2zntmQvFPgT_JMTMPiLHQ) <hiiamboris (NOT THIS ONE)>:
I was thinking that a comment with a use case description should be good enough.

[16:57:25](#e2Fts6OlhIDu0uxiXNQ5NTcGrWOGxZtBq_kTc-BZQ8c) <zwortex (zwortex)>:
I will had the following.
Try is also limited for handling blocks that don't return any value, for instance a function that ends with exit or print. As there is no returned value, relying on it to return a possible error is meaningless. It will trigger an error which is exactly what you were trying to prevent.
```
f: function [v][ print [ 10 / v ] ]
cmd: [ f 5 ]
either error? err: try cmd [
    print [ "NOK:" mold err ]
][ print "OK" ]
```
The workaround is to combine try and do so as to make sure a returned value is returned in all cases.
```
f: function [v][ print [ 10 / v ] ]
cmd: [ f 5 ]
if error? err: try [ do cmd true ] [
    print [ "NOK:" mold err ]
][ print "OK" ]
```
However, you would expect try to handle that situation already. You never known what could be returned by the code that is being evaluated. If nothing is returned, it should return an agreed upon value : unset!, none or whatever might be set by the caller with the adequate refinement.

[16:58:08](#MUkj8NB12llygxcP76cwcfU-4kvO3s0t88VSR4WSPbI) <zwortex (zwortex)>:
* I will add the following.
Try is also limited for handling blocks that don't return any value, for instance a function that ends with exit or print. As there is no returned value, relying on it to return a possible error is meaningless. It will trigger an error which is exactly what you were trying to prevent.
```
f: function [v][ print [ 10 / v ] ]
cmd: [ f 5 ]
either error? err: try cmd [
    print [ "NOK:" mold err ]
][ print "OK" ]
```
The workaround is to combine try and do so as to make sure a returned value is returned in all cases.
```
f: function [v][ print [ 10 / v ] ]
cmd: [ f 5 ]
if error? err: try [ do cmd true ] [
    print [ "NOK:" mold err ]
][ print "OK" ]
```
However, you would expect try to handle that situation already. You never known what could be returned by the code that is being evaluated. If nothing is returned, it should return an agreed upon value : unset!, none or whatever might be set by the caller with the adequate refinement.

[17:00:22](#1-Z1n3bRXjq61xHRAHSQmMP4IZFeG1m_SNnO4t3rZZE) <zwortex (zwortex)>:
* I will add the following.
Try is also limited for handling blocks that don't return any value, for instance a function that ends with exit or print. As there is no returned value, relying on it to return a possible error is meaningless. It will trigger an error which is exactly what you were trying to prevent.
```
f: function [v][ print [ 10 / v ] ]
cmd: [ f 5 ]
either error? err: try cmd [
    print [ "NOK:" mold err ]
][ print "OK" ]
```
The workaround is to combine try and do so as to make sure a returned value is returned in all cases.
```
f: function [v][ print [ 10 / v ] ]
cmd: [ f 5 ]
if error? err: try [ do cmd true ] [
    print [ "NOK:" mold err ]
][ print "OK" ]
```
However, you would expect try to handle that situation already. You never know what could be returned by the code that is being evaluated. If nothing is returned, it should return an agreed upon value : unset!, none or whatever might be set by the caller with the adequate refinement.

[17:00:35](#X8_eI6PJjw5HyFNtmOMSaB0zqcJAJRh-IeV9hwamjhs) <zwortex (zwortex)>:
or something alike.

[17:08:32](#Zdii-Eqwi2yh6Z3EclxwuP8Evzn0UmbBAqnj-AuCtoQ) <hiiamboris (NOT THIS ONE)>:
This argumentation is erroneous. If you don't know what value your code is going to return, then you should not write `cmd:` in the first place (but `set/any 'cmd`).

[17:09:17](#vbN4x3H6LXai_b4K3zB8jt-NYl5h7onWdtO4mhOSneU) <hiiamboris (NOT THIS ONE)>:
* This argumentation is erroneous. If you don't know what value your code is going to return, then you should not write `err:` in the first place (but `set/any 'err`).

[17:11:11](#IgqJ75TBjwsldZvfLtClPeHnmuD7m_Pii_BYaWS7jmI) <hiiamboris (NOT THIS ONE)>:
It is no fault of `try` that it returns `unset!`. Try just passes it through as any other value.

[17:11:22](#WyeXDKlX5Hj8VLJXiYGoE7x5704GDCLp5dFTQZBMDu0) <hiiamboris (NOT THIS ONE)>:
* It is no fault of `try` that it returns `unset!`. `try` just passes it through as any other value.

[17:13:24](#KcBkjF2uKKkV2bl4VYTCrdJ4smdTMVxzusMv3CSFR6g) <zwortex (zwortex)>:
There is something I don't know or I don't get here

[17:14:18](#bsj5iSSstgrXla7SXXp2j2GDW4otNHk8p_frHiI2Ixg) <zwortex (zwortex)>:
exit does not return anything, not returns something, even unset! 

[17:14:46](#7ulLTMVaZ35pnKv4S-xwSrziOzjXqVymduuW1BDf0CQ) <hiiamboris (NOT THIS ONE)>:
It returns `unset!`. As I told before, every Red value returns something.

[17:14:54](#5rq-T2VxQo6-WUts6eWZyAl0aM4tuc2aN4of60n2XAM) <hiiamboris (NOT THIS ONE)>:
* It returns `unset!`. As I told before, every Red expression returns something.

[17:15:40](#7Ab-pdOJnK7CaTEkJ2dUHkyigcY7CUqcz3nuPCIw3Fk) <hiiamboris (NOT THIS ONE)>:
Sometimes we can say "doesn't return anything" but what we mean is "returns unset".

[17:16:44](#YuxVTjfETTGLeeDXpOtAPzXA7lYa8qULMzj2bRpB-VA) <zwortex (zwortex)>:
Fair enough. I am happy with that.

[17:21:08](#gtjQ6e2keHXhpgjLl_rv90SSUqMsvH9LzadBCP9kLpU) <zwortex (zwortex)>:
I still don't get it. In the following code, if try was returning unset! there would not be an error : 
f: function [v][ print [ 10 / v ] ]
cmd: [ f 5 ]
set/any 'err try cmd 
either error? err [
    print [ "NOK:" mold err ]
][ print "OK" ]

[17:21:35](#tgUG1rpdLmtJ4lKMwcx36cbVGwtDRdsjphRiXAEmXaE) <zwortex (zwortex)>:
* I still don't get it. In the following code, if try was returning unset! there would not be an error : 
```
f: function [v][ print [ 10 / v ] ]
cmd: [ f 5 ]
set/any 'err try cmd 
either error? err [
    print [ "NOK:" mold err ]
][ print "OK" ]
```

[17:26:29](#BKjpEnaFKikEpr1cRJ_-YwLVa9dtXZrPIAe0oaQmZW8) <zwortex (zwortex)>:
OK. I found it 
```
f: function [v][ print [ 10 / v ] ]
cmd: [ f 5 ]
set/any 'err try cmd 
either all [ not unset? :err error? err ] [
    print [ "NOK:" mold err ]
][ print "OK" ]
```

[17:27:06](#38B5P3zhsMTfTwQc9W7o7SuDKGPIRftBFqXog99mQ5c) <hiiamboris (NOT THIS ONE)>:
just `:err`

[17:27:34](#z9Q_AbphhNq5dPjifd121JuXAsDvgs6mTzPZlRjbnHI) <hiiamboris (NOT THIS ONE)>:
or `get/any 'err` if you're feeling verbose

[17:28:40](#G0Z7GQMuDUN2X1vvv0JGkLTpf8Fx68gdLzBsg8Lmpis) <zwortex (zwortex)>:
unset is like fire. Don't touch it or burn.

[17:29:13](#SnFl9lKJaXTSGs9EzMwDnrYXiMTwqzzn7TrQfDddldA) <hiiamboris (NOT THIS ONE)>:
`err` is synonymous with `get 'err`, and triggers an error

[17:30:05](#ZCcWlvdb--tzJ7Up4jYnZdeZ7f7pWe5f_RnK6AEU82I) <hiiamboris (NOT THIS ONE)>:
https://github.com/red/red/wiki/[LINKS]-Design-questions#why-x-throws-an-error-if-x-is-unset-and-more-on-rationale-behind-unset-invention

[17:30:18](#vSf232S-qkk77U16yFYghLvu7gWkjjoBwTJyZHBDq80) <zwortex (zwortex)>:
I thought there was get-args that would prevent that. But unset is handled even before.

[17:31:24](#1k9NEZ62n6Beo_NMEO7pEKKLiLm1PxQEN3LKj5Rt6Ck) <hiiamboris (NOT THIS ONE)>:
get-args have nothing to do with this

[17:32:19](#O2lz6xjzHI9kR0OQV025JKN7iuHEOZ5xIG-F3W-BzTs) <zwortex (zwortex)>:
Why not ? for instance an error can be passed around without triggering

[17:34:12](#pqtIHdJ1Of-aF6ZxFjDbEd-Mnf0xftLu74O21uV8vgA) <zwortex (zwortex)>:
Anyway. I think try should take care of all this nonsense as you never know what might come back. 

[17:36:49](#IgOUIgunlnUgvgSlFWtxNWlHMOF3GSLCUOTxu_uN-8c) <hiiamboris (NOT THIS ONE)>:
Think like Lego. If your blocks are of very specific unique shape and only fit for a single task, you're not gonna build a lot. Instead you want them to be as generic as possible and in any-fits-any relation.

[17:37:27](#bH1_kPoUZ6ZbR4I3DlHFS6RBLLv3rfuqQ20kQd3vIBA) <hiiamboris (NOT THIS ONE)>:
Forcing `try` to replace some classes of return values would be a silly limitation.

[17:37:57](#e5y4QY5Qn3uh8NU7lBaB_USrrSR-G-van7-lavPKlvY) <hiiamboris (NOT THIS ONE)>:
Although no one stops you from trying it out in your code and see how that scales.

[17:40:20](#90RG4uK314vM3WiBFya7EWooVJSvVCjts36zs7t80zI) <hiiamboris (NOT THIS ONE)>:
* Think of it like Lego. If your blocks are of very specific unique shape and only fit for a single task, you're not gonna build a lot. Instead you want them to be as generic as possible and in any-fits-any relation.

[17:52:26](#l56MSpd8GTw6uVP9BFA51yXN_7VEGej3K1dhfCsrI9s) <zwortex (zwortex)>:
There is this principle of robustness in software design (leave aside other applications) : "be conservative in what you do, be liberal in what you accept from others".  Try is meant to catch possible errors, triggered by a code you may not master, that may return exit or not or whatever. If it uses the returned argument to inform on any potential error, this returned argument should be accessed, in the normal way, even if the underlying code did returned an unset value. I don't see your point of lego and stuff like. If try returns a value, it should be in all cases, even if the underlying code has not returned any value.

[17:55:59](#otxb3CsUthngA-cOFIQIzJImwjAmTSerrbvTxTfTcIM) <hiiamboris (NOT THIS ONE)>:
Like I said `try` returns transparently any value from the code it evaluates.

[17:57:54](#qkSwLKZUgBAVmZlFwogMmJwdZxzwrWX8lUAV7OVRUsw) <hiiamboris (NOT THIS ONE)>:
As such it is "liberal" in this sense.

[18:00:48](#G-InftraSoeBpQX7gXAIoM_AkoHLJd7F-VQEkshnCGA) <zwortex (zwortex)>:
Obviously I disagree with you. It's like quantum mechanics. The only fact of having throw and relying with its returned value to detect a possible error is an interaction with the process. Your action is to check for an error (whatever it is) and you should not have to care about what is being returned or not.  

[18:03:32](#ByTOARhyoHByjZZOtnH-p_9eZHBuIxYBuMh1jb3lfww) <hiiamboris (NOT THIS ONE)>:
That's why you should never use `err: try` pattern on a code you didn't write. Just as you shouldn't use `x: do code` pattern.

[18:03:38](#fAnJsn6SxC4man67LOt5fBFxCt1HxMeWAiJplNn64UE) <hiiamboris (NOT THIS ONE)>:
* That's why you should never use `err: try code` pattern on a code you didn't write. Just as you shouldn't use `x: do code` pattern.

[18:04:33](#KAjPzzorFDoUHwE9Y1qF-dVrXm3n1RtTx_gBj3wvNOk) <hiiamboris (NOT THIS ONE)>:
Again, what does this have to do with `try`? It's your mistake of not knowing how to handle unset values.

[18:05:11](#rPonh0i9bE0qNKMwA8gP6KUv78-7XRnDd-Y4Ik2sr2g) <hiiamboris (NOT THIS ONE)>:
`try` is no magic bullet to fix syntax errors a programmer makes. It's mechanism to handle runtime errors.

[18:06:24](#QbbWQFusQei8Z5doOfyBsadoQGcCUTqctHr2h9Grtqs) <hiiamboris (NOT THIS ONE)>:
Anyway, at this point I'm not even sure what do you propose.

[18:25:02](#Lo5lkPKoCvNrar4SdSTUYWmdCUPpt5Sy7AyegKAOxgs) <zwortex (zwortex)>:
Let's leave that aside for the time being. I get your point. Though I am not entirely satisfied with it. In particular, the possibility of a code that may return unset. The fact that I am trying to catch an error, and that doing so I get another error is too much for me. Try is not used as part of an evaluation process but as a gatekeeper : do that and if there is an error let me know. That I have to take precautions to make sure nothing got wrong is wrong in itself. Period. But like I said, I need to think it further.

[18:35:13](#MVS2ozZrU-VdHghNRmnGEwxRdPXPHj_2aL57XA-hgxk) <zwortex (zwortex)>:
All the more, thanks for your thoughtfull answers.

[18:53:11](#Jdyq3SZojkCqPHHYJLBs1jJGtM8XqE-wXoIORLqzXcg) <giesse (Gabriele Santilli)>:
This issue with `try` has been debated at length for REBOL 2. The design is simple but I find it bad overall. Especially in R2 where errors blow up, and you have to be wary of `unset!` values and a number of other issues. This means that if you are writing a *generic* function that uses `try` you have to bend over backwards to handle all edge cases. Red is a little better but not much IMHO.

In Topaz I use a completely different approach: https://github.com/giesse/Project-SnowBall/blob/master/topaz/natives.topaz#L350

You don't write `if error? err: try [...] [...]` - you write `try [...] 'err [...]` which does not require anything else to handle *all* cases. (Including the code legitimately returning an `error!` value, which you *cannot* handle in R2 and Red.)

[19:51:02](#ntlK2wbq8Zk3ByUnwZK9vosKxmw1DadOc445NouYZik) <hiiamboris (NOT THIS ONE)>:
I kinda proven that you *can* handle it in Red. But I agree with this design mostly. My only remark is it makes code harder to follow in simple `try [open ..]`-like scenarios.

[19:53:15](#aoRIKpbw5-3FEryIfHBbQfsgvrtxGNlgmCgpaa3Uv68) <hiiamboris (NOT THIS ONE)>:
* I kinda proven that you *can* handle it in Red. But I agree with your design mostly. My only remark is it makes code harder to follow in simple `try [open ..]`-like scenarios.

[19:56:56](#o3QPyUQP60KHBcSQMq9vmXZ2ZdqYbKWheAO4bBb_S-4) <hiiamboris (NOT THIS ONE)>:
E.g. `#assert [error? e: try [code that should produce an error] 'e]`

## 9-May-2021

[11:13:52](#k3dvNC6_EJx-LmBg3tIJvCZujztPdlqxRpv5KL2eCWY) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
In Rebol 3 there is `try/except`:
```
try/except [1 / 0][ print "No divide by zero, please!"]
```

[11:13:59](#zn83V-Hf8p7o98BAKWWyRrM2JT7Aw1YNC3e9D7XYL44) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* In Rebol 3 there is `try/except`:
```
try/except [1 / 0][ print "No divide by zero, please!" ]
```

[11:15:56](#k0JSCTiUKkV44UmKPlaHeCsf2FVlhwllV-1Nzx_bS0U) <hiiamboris (NOT THIS ONE)>:
`except` is an OK name too. Thanks. I'll consider it in my mezz.

[11:18:39](#5GewH3vqjnhzlnFGVArdppv6-w5Lk0KSSPE0Tfm3HfM) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
I consider it very useful as one can use also function as an exception, like: `try/except [...] í ½í¸®n-error-quit-gracefully`

[11:19:34](#F75uAHu3n18bvRI-CCWUNR8a0owG-3bc0iJmtG-jc3o) <hiiamboris (NOT THIS ONE)>:
would this be any better than just `try/except [...] [on-error-quit-gracefully]`?

[11:20:46](#6xLhG5eC70Nw3KVOaO9z_h-ahowdw76UdZDMXX0Mtlo) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
```rebol
>> on-error: func[e][print "oh no!"] try/except [1 / 0] í ½í¸®n-error
oh no!
```

[11:21:17](#5x-orWV0AA4eXXx-RyIcxqb_5oP3iLTdIqjuNS50Iv4) <hiiamboris (NOT THIS ONE)>:
Ah, it has an argument.

[11:21:45](#KnZVIPeNo0yULJEr_Ijoppx-bnR2XmwrjvT34UXed0M) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* ```rebol
>> on-error: func[e][print ["oh no," e/type "error again!"]] try/except [1 / 0] :on-error
oh no, Math error again!
```

[11:23:21](#-b__Lpns6BnnsYZsSWTPmwLRsF-wgQQacJzqXCdyLag) <hiiamboris (NOT THIS ONE)>:
You know what's funny is that after some amount of thinking I've come exactly to the same design (not knowing that R3 had it):
https://gitlab.com/hiiamboris/red-mezz-warehouse/-/blob/master/catchers.red#L140

[11:25:05](#5YhLN4kYa-5cp4WsMD0BJJdHuO9J9xJETt668yt0KDY) <hiiamboris (NOT THIS ONE)>:
The only difference is that R3 doesn't seem to support access to the error in block mode, but my version does.

[11:25:05](#e_Jn1zk2qzROOEeFEklcoC1M7zDq7GQ675s6Omtrat0) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
In my R3 branch I also store last error in `system/state/last-error`, so I can do also:
```rebol
>> try [1 / 0] probe system/state/last-error ()
make error! [
    code: 400
    type: 'Math
    id: 'zero-divide
    arg1: none
    arg2: none
    arg3: none
    near: [/ 0]
    where: [/ try]
]
```

[11:25:30](#pj6Z-fpWs7Z0cSxuM3XvEkI8K-XJ3817KF1hfHGfnbk) <hiiamboris (NOT THIS ONE)>:
Ah, I see.

[11:26:32](#WwYUuEYxwIzGSXsf-wK_BNHeZvUhnHlAVYgJtJWQBI0) <hiiamboris (NOT THIS ONE)>:
This is OK too, but more limited: if your error handler triggers another error handler, it loses the original error after it finishes.

[11:26:45](#UhbwNz484V2c0sw_yi7rNlgoLVoMfhuHVMj6a4Rz-tY) <hiiamboris (NOT THIS ONE)>:
* This is OK too, but more limited: if your error handler triggers another error handler, it loses the original error after the second handler finishes.

[11:27:31](#gmw5vWahwbKbmW9jcbAzdw4NWwM5mjfeEf8xrDit85U) <hiiamboris (NOT THIS ONE)>:
Glad to hear it's battle proven though â˜»

[11:47:41](#lmHdoK_bO5h5TRra6_2RHWb6e2TuKpgIdDYkZG91BuM) <loziniak (Maciej ÅoziÅ„ski)>:
Hi! Is piping code to Red supported?
```
% echo "abc: 15 probe abc" | ./red-23mar21-637818323 
--== Red 0.6.4 ==-- 
Type HELP for starting information. 

15
*** Internal Error: not enough memory
*** Where: append
*** Stack: 
^C%
```

[11:48:20](#5m2FZlteG4Hp4H27szYMrySzGCrZkhyphQeA4rFkgzw) <hiiamboris (NOT THIS ONE)>:
no IO no ports, coming soon â„¢

[11:48:29](#_iJ24yiO1bPkkQ2exncjqlSMcQffdJLpQMgXqEJXsow) <hiiamboris (NOT THIS ONE)>:
* no IO no ports no stdin, coming soon â„¢

[17:55:36](#SrjaQMvb8uX1gpjE8gbriOsvGnnDwZOvopydyYpb-sk) <giesse (Gabriele Santilli)>:
> I kinda proven that you *can* handle it in Red. But I agree with your design mostly. My only remark is it makes code harder to follow in simple `try [open ..]`-like scenarios.

@hiiamboris you can handle it in R2 too. Ladislav wrote a number of examples. The fact that we had to work hard to handle the general case was what made me and him talk to Carl about it and propose different solutions (in person in the 2004 DevCon).

[17:59:22](#5nye9B3f5YnOfjxHB8mSWsbHaF5WEkULnD-Uk0VB0Wo) <hiiamboris (NOT THIS ONE)>:
:+1:

[17:59:36](#hASrYXTA2fnSWdA7XAajTl8KEWK2PaGJBgKtZRY-TtQ) <hiiamboris (NOT THIS ONE)>:
Did he listen? í ½í¸‰

[18:01:12](#RM10fGStHEXayaqntdeg4_7QUCItWzThNVQVVWTaoF0) <hiiamboris (NOT THIS ONE)>:
Well, maybe R3 design is the result of that talk..

## 10-May-2021

[18:52:28](#zI5ej0K4P5hjI-1SrjFv3tHSNCFP1sR4t7ky26_n7pY) <giesse (Gabriele Santilli)>:
It is. But there are compatibility concerns as well. Me and Ladislav wanted to get rid of `unset!` too for eg. but that didn't pass. :) One of the reasons I made Topaz was to actually test those ideas (among many others).

[19:02:32](#uHQBNqZVQsxFjt2gzCmCgjWlqPAOXPxI-2C_H-PlVgw) <hiiamboris (NOT THIS ONE)>:
@giesse did you get rid of unset in Topaz?

## 11-May-2021

[18:52:58](#qpWFxvG-Fvb9yJCIN4vGtrRR_wyXKMTT7L4A3phv9DY) <giesse (Gabriele Santilli)>:
yes

[19:08:25](#Vzl2kD_2FSmrkjbvks-wEoT2Lun4GMxhPAm84rFrgSk) <hiiamboris (NOT THIS ONE)>:
Or you just hid it? E.g. you have lit-word `'no-value` - what value does it have internally?

[19:37:17](#WMXnJzO1nfAQwLUN1VIFtvbb5ivPKrHoTtcB_lGKZVQ) <hiiamboris (NOT THIS ONE)>:
Or you have words without context?

## 12-May-2021

[16:24:37](#nmmLn1RniT_M1IIIIm0-8L0hfPvgKOau-wBsmaw6vwY) <zwortex (zwortex)>:
Is it normal ?
```
1.#NaN == 1.#NaN ;= false
1.#NaN = 1.#NaN ;= false
NaN? 1.#NaN ;= true
```

[16:29:29](#Sd461C3nx332d9KRFxZ7qJ9MqKlxeUI2RFEt1mLFPuk) <hiiamboris (NOT THIS ONE)>:
No it's not. You can use https://github.com/red/red/pull/4717 or wait a few years before it gets merged â˜º

[16:29:43](#qW6k7ggNzteGGJChFkd07xFaw091EtAKTwQc5MaAwlc) <zwortex (zwortex)>:
Apparently it is. https://en.wikipedia.org/wiki/NaN#Comparison_with_NaN 

[16:30:16](#h1LcLQ4UVUxaxIGpfASz-bWSY3H_xRHryw4nIjWu__U) <hiiamboris (NOT THIS ONE)>:
* It is. You can use https://github.com/red/red/pull/4717 or wait a few years before it gets merged â˜º
(edited)

[16:30:30](#z-2-VY8BzLBYNrNojNts_OdVMTtWDbA67TQGfPUz0zo) <hiiamboris (NOT THIS ONE)>:
* It is, but it's not all working if you test more. You can use https://github.com/red/red/pull/4717 or wait a few years before it gets merged â˜º
(edited)

[16:31:36](#vPLwLPvnzYCECHKshwri-ADp-sJNaxdLMqPMSdbCHrU) <hiiamboris (NOT THIS ONE)>:
You can compare nans with `same?`

[16:32:00](#DzNdqvQ7yXhh3WAlgAcWDxDHJjElGrvZR33q6jTlVQ4) <zwortex (zwortex)>:
ok I'll check. Thanks.

[16:32:21](#yD-Lpvifh1z8AHCz9w37CiZnvVj_Cs4WeOo3eoopFuM) <hiiamboris (NOT THIS ONE)>:
* You can compare nans with `same?` but be aware that there are different nans, e.g. `0 / 0` isn't the same as `0 * 1.#inf`

[16:33:53](#NFoYi-c6HCD0aC2aCaH4e71Mw0yjHOcKrW5FUqRsNG8) <zwortex (zwortex)>:
quiet or not quiet

[16:34:39](#nFhDpcQU61clJ7acFBCcu8emKiqDn6X-BzzSo5CPiOI) <hiiamboris (NOT THIS ONE)>:
Red only uses quiet NaNs

[16:44:20](#qwyf3jGjIih3mJafNW3PE0OQBbmRBrp0zEEKo4lB4jo) <zwortex (zwortex)>:
Incidentally. If all is ready to be fixed. Why is it not done yet ?

[16:44:50](#v9pPyHzEo3JCsPwMx4kieBkh496SoMkI0YH4Iuk-TL8) <hiiamboris (NOT THIS ONE)>:
Who knows...

[16:45:31](#ieMGlYWv4ydIhxS1dRvQ0njl664Pn0Nvg69m3T7qeP4) <zwortex (zwortex)>:
Not me.

[17:46:19](#Q9-c0iRuyCzUybANfaTywMviNUlm4MwuG3T0pk7FYAU) <giesse (Gabriele Santilli)>:
> Or you just hid it? E.g. you have lit-word `'no-value` - what value does it have internally?

@hiiamboris well, in the current implementation internally it would be Javascript's `null`. You can think of it as a hidden `unset!` if you wish, though it is never really the result of anything and it's not an actualy Topaz value.

```
>> i-have-no-value
*** Script error: Word has no value: i-have-no-value
*** Stack: i-have-no-value
>> context-of 'i-have-no-value
== context [
==     conjure: native [
==         "Conjure a value"
==         name [word!]
==       ...
>> get/any 'i-have-no-value
== none
```

[17:46:37](#ps0n_IClOLCKxn5YKYSvJ81TuymJ4uTVH35kzhcp8EE) <giesse (Gabriele Santilli)>:
* > Or you just hid it? E.g. you have lit-word `'no-value` - what value does it have internally?

@hiiamboris well, in the current implementation internally it would be Javascript's `null`. You can think of it as a hidden `unset!` if you wish, though it is never really the result of anything and it's not an actual Topaz value.

```
>> i-have-no-value
*** Script error: Word has no value: i-have-no-value
*** Stack: i-have-no-value
>> context-of 'i-have-no-value
== context [
==     conjure: native [
==         "Conjure a value"
==         name [word!]
==       ...
>> get/any 'i-have-no-value
== none
```

[17:53:27](#HAVKpBVz4ca1iacyDFr9qElaAzgxMQnlDLJ20aNHroU) <hiiamboris (NOT THIS ONE)>:
OK. And if I want to suppress console output, how do I go without unset?

## 13-May-2021

[10:39:38](#hFusWlaul5na-qUspRKbqefrYBS5E37wL_Z757G8wPQ) <zwortex (zwortex)>:
Different subject: Parse with into rules get lost on a buffer with removed elements. You need to copy the buffer to avoid the issue (see the following cases). Is it known ?
```
adds: [  mults any [ adds-rec ] ]
mults: [ into [ 'value integer! ] (print "MULT") ]
adds-rec: [ into [ 'binary op-binary-add ] (print "ADD") mults ]
op-binary-add: [ '+ | '- ]
buffer: [ ['value 1] ['binary +] ]
clear at buffer 2
probe buffer
parse buffer adds ;= MULT / ADD - NOK
buffer: [ ['value 1] ['binary +] ]
take/last buffer
probe buffer
parse buffer adds ;= MULT / ADD - NOK
buffer: [ ['value 1] ['binary +] ]
remove at buffer 2 length? buffer
probe buffer
parse buffer adds ;= MULT / ADD - NOK
buffer: [ ['value 1] ['binary +] ]
buffer: copy/part buffer 1
probe buffer
parse buffer adds ;= MULT - OK
```

[10:45:01](#GKZqRapcQPSLgBozaDoEB7-1aYU-UYK1v6RgKTGYf6I) <hiiamboris (NOT THIS ONE)>:
any shorter snippet?

[10:45:08](#zMCkTHL84QhbziGJNcrpOhi5gqSUFyJpTsVuB6a_vNc) <hiiamboris (NOT THIS ONE)>:
what a mess

[10:45:52](#oc4VmCC0xznx6VC97Vws5uaN_OwwkshLREHDHUQdBZY) <zwortex (zwortex)>:
then takes the first 8 lines -

[10:46:37](#_Z85i1Gl7ID9HLWN0R0kAl3I9ThJjD6SuwFgwmRFGdk) <zwortex (zwortex)>:
this just various cases on the buffer serie with clear, take/last, remove to get rid of the last entry 

[10:48:19](#CSfH8SODJpmO6_qHk3UEToASWXrspAJv_nyVCud6Z30) <zwortex (zwortex)>:
unless copy, ['binary +] is matched when it should not

[10:49:33](#jtMq_dPw1m0z8qamj3LNarfY9kim2ruZFbHpFlNjsto) <hiiamboris (NOT THIS ONE)>:
I get MULT in all cases

[10:50:26](#NwYRpXbp9uKjuZufzRvihJN52cXaArGnjuuJWjB7fYg) <hiiamboris (NOT THIS ONE)>:
`Red 0.6.4 for Windows built 12-May-2021/6:12:03+03:00  commit #cebd5b9`

[10:52:59](#NxHAujUl6hzzIfQe_GwUwCnOEMC7i_4emrk5PywXqbg) <zwortex (zwortex)>:
mine is not that recent Red 0.6.4 for Windows built 24-Apr-2021/19:27:28

[10:53:11](#2ROn6dZpW9x5pafg9z-MXST7-hn5glRD5knZ2SfVP_w) <zwortex (zwortex)>:
I will try with a more recent

[10:53:35](#6ZzP894uDCwaeIIFxnSpmvnW6hJpQLtz_Sbd2I02YPM) <zwortex (zwortex)>:
I get the problem in all cases and with console, or console gui

[10:54:06](#kFTVo6sOrv5F_GI1jM3HyzSFWQZhIBdmqNFjVvyNWD0) <zwortex (zwortex)>:
are there global settings that might influence ? 

[10:56:37](#C9nVgcLi0lZZXZaIs3jfP5Dn3xgTHR4d90qL1RMs634) <hiiamboris (NOT THIS ONE)>:
nope

[10:59:58](#7n7CxDVy1-OHSY8dVTvS3YHA7MJDbZg6jn7wP1gnGYc) <zwortex (zwortex)>:
I got the automatic build and the problem disappeared. Good. I will recompile my environment and see how it goes. Cheers.

[11:16:57](#hdqrkXVCSnX8dhwn0bERAUuERLB-Vd3-iVU8TkxkYuw) <zwortex (zwortex)>:
With my own compilation, the problem arises. Can it be rebol that has changed ?

[11:19:56](#S0MOSo-En29epeDKhzJbzEG95AlQRZl4TeapSjB5f6k) <zwortex (zwortex)>:
how do you get the commit tag in your about ?

[11:23:52](#1bSUw6GA4QSfdTmQCAP_4RUEvajKizEHR5-9My3nIjg) <hiiamboris (NOT THIS ONE)>:
those you download from the site

[11:24:18](#HXlVXgU4WBvFGIcPkc5RgB-L1nMEix26AxMYUl3SzgU) <hiiamboris (NOT THIS ONE)>:
great, gittard reorders my messages.. way to go

[11:30:28](#uc8Ldn_HoGJwkzUZ0bFetdKvNoX9_lPn6LPE9v7lMmo) <hiiamboris (NOT THIS ONE)>:
> With my own compilation, the problem arises. Can it be rebol that has changed ?

Automatic builds are using Rebol 2.7.6, it's possible that it affects but very unlikely


[11:34:22](#YDIDgezTFXq81MXPgT05VH_bMLQ_AyCgxtHUIWDjxxg) <hiiamboris (NOT THIS ONE)>:
http://static.red-lang.org/build/rebview.exe

[12:12:26](#erVFA_LQlwm1rHVAzSwNvEGvifEsQScDUEzKVqw6rWM) <zwortex (zwortex)>:
Must have had a corruption in my environment somewhere. It looks to have disappeared now. I pulled the red repos again. Droped into it rebol, just the console, not the view, and the latest (2.7.8.3.1). Started it and ran the script do/args %red.r "-r %environment/console/CLI/console.red". The resulting console does not show the issue any longer.

[12:15:44](#D0SRHuYcY21F3AoK5Lwa70LSxklQXDenVNt50T8R7QE) <zwortex (zwortex)>:
Are there other dependencies I should check ? User>AppData>Roaming rebol or red I see

[12:42:28](#0Qup8IYXga5IbqLn-tNpmOEVSObUA4iY2OWDv6hrLB0) <hiiamboris (NOT THIS ONE)>:
`git status` to see if you modified something and forgot about it

[12:43:38](#7lPBeERUgYFuuUUJDoLPgHCMvIo_fjWeGd5u8X9Tuhs) <hiiamboris (NOT THIS ONE)>:
if you're compiling with `-c` flag, delete your `libRedRT.dll` to force it's rebuld

[12:43:49](#mKInCTGLY6u0wXOgWsvK8O2glWa4ccKVXw5jL2gaN6A) <hiiamboris (NOT THIS ONE)>:
* if you're compiling with `-c` flag, delete your `libRedRT.dll` to force it's rebuild on the next compilation

[12:49:21](#rz_LkmGAcFFE5gobvTfzgDC7hY8PTiAFRMhOkR9VaK4) <giesse (Gabriele Santilli)>:
> OK. And if I want to suppress console output, how do I go without unset?

@hiiamboris I don't see why, but, if you're hard pressed for a special case, you could use `none` for that.

[13:01:24](#lgiuGbUFTO4ogcEI_g5eJ4U_IiohuOVb53fVxqv_VEM) <hiiamboris (NOT THIS ONE)>:
Just curious. I don't like unset either.

[13:04:08](#Go0hLv7jEhhgSxYZqYugyX6STsFWXaaeTYzFPW3GU28) <hiiamboris (NOT THIS ONE)>:
What is the result of `()`? `none`?
And I guess Topaz must have an ability to `unbind` a word totally then.

[13:04:26](#M4-WQnVbkE-nHTgy9B9JIHZRrW8qRNdjTlBKtE8ujYo) <hiiamboris (NOT THIS ONE)>:
* What is the result of `()` or `do []`? `none`?
And I guess Topaz must have an ability to `unbind` a word totally then.

[13:07:51](#OFTl0kk0qIxKbkE9QxNXpdjN0Fbhko7a2zl77xZ1V6c) <hiiamboris (NOT THIS ONE)>:
OK just checked:
```
Topaz Interpreter - (C) 2011 Gabriele Santilli - MIT License
>> do []
== none
>> ()
== none
```

[18:43:56](#22dNtCpvfcJCIkNksIiXTmFvsJv4RDsSykbgHHLJpZQ) <giesse (Gabriele Santilli)>:
```
>> get make word! "no-context"
*** Script error: Word has no context: no-context
*** Stack: get make word! "no-context"
```

[18:52:14](#OKnQOPvvQSMb_kA6juNhDVJzQ8tQff7NK8j-AbK18wc) <hiiamboris (NOT THIS ONE)>:
:+1:

## 14-May-2021

[14:22:51](#4lpZOsKLZ8wkak2vO0vjL65Hm_INsF18Mmw3tMjeUqw) <loziniak (Maciej ÅoziÅ„ski)>:
Hello. Is anybody getting the same result as me? It's probably connected to https://github.com/red/red/pull/4869 and I'm trying to debug/fix this.

```
% ./red-14may21-a15845a9c
--== Red 0.6.4 ==-- 
Type HELP for starting information. 

>> q
*** Driver Internal Error: Script Error : status needs a value 
*** Where: run-console 
*** Near:  [status: either all [Windows? gui?] [
gui-sys-call exe any [all [file form-args file] ""]
]] 
```

[14:30:01](#0bvWVnVLKw9tHrwAKBJz-5FSWmMe-sNovV2ZdweEoGc) <loziniak (Maciej ÅoziÅ„ski)>:
my system is *Arch Linux*

[14:30:06](#522d22dgXK6TjvSlNi28kuOZuzL0JsS-xolzGWBNGrE) <hiiamboris (NOT THIS ONE)>:
Yep. Everyone.

[14:30:26](#D_JGI91RnhpPWJ8_UNyboUl2UA2PnRkHnr166U_HK3w) <loziniak (Maciej ÅoziÅ„ski)>:
í ½í¸ƒ

[14:30:31](#XSwRUsWtvxWqjsmsoezOp4ejB4g08I1XGCCKFTCBj0g) <hiiamboris (NOT THIS ONE)>:
https://github.com/red/red/issues/4889

[14:30:58](#M1Lz18T8F4o8ByMoxggP64rgltzNAqLJqmrIo_WHl1Q) <loziniak (Maciej ÅoziÅ„ski)>:
thanks

[14:31:19](#nSPtEXAJGGaWZJJIRRufpkRqwi1pMDMfL_l1_gm52m8) <hiiamboris (NOT THIS ONE)>:
see my comment above

[14:32:00](#-tDcxyoocir_33BdMlLXGnymbv4zIvX4zqA9SS4_tm0) <hiiamboris (NOT THIS ONE)>:
â˜ [May 6, 2021 9:59 AM](https://gitter.im/red/bugs?at=609393d375aeb43be72d64f0)

[14:37:14](#-zuYxKRfSJ6aPmtX03vKwpZt2HjXx52bVldx6ll44Uw) <loziniak (Maciej ÅoziÅ„ski)>:
found it. hard to debug until you have licensed rebol. I'll submit a PR and keep fingers crossed for success :-)

[14:54:54](#boL0dVBl6wOfM5y2I6-LNik6g5iQwJ2n1zqFCnz3rCg) <loziniak (Maciej ÅoziÅ„ski)>:
Are there any tests that I could run to check this before submitting PR? Somehow to debug?

[14:56:15](#bioJ7wtgIEAtNnGcZeBjvyLOe9ZYbKzvwbf8v1BOCr4) <loziniak (Maciej ÅoziÅ„ski)>:
I can compile console, and dry-run compiler like this: `echo 'Rebol[] do %red.r' | rebol +q -s` without errors. Is there something more I can do?

[15:10:44](#PXEVo7OqVIbtKf2_BXqzQek_NSmxoQM8isxg2gBuMEc) <hiiamboris (NOT THIS ONE)>:
tests suite can be run with `rebol -qs run-all.r`

[15:11:40](#KAOfrvlvuBiQoqQ7WosKbdCzP8jnNXlFXI_GOUBnS_k) <hiiamboris (NOT THIS ONE)>:
but for your issue, just running a console and typing `q` should be enough :)

[15:15:06](#nvYJfCzHHp8sgJBLSVout0l59oTzzXiL1xBifyxZl9o) <loziniak (Maciej ÅoziÅ„ski)>:
Isn't this code used only when running console through `red` executable?

[15:15:20](#ETNv-GtPqvr4DDc9ZkjmKkKcBj77S3DCSZoCCBgAEn0) <hiiamboris (NOT THIS ONE)>:
ah.. right, I forgot you're modifing the launcher itself í ½í¸ƒ

[15:15:25](#CvpXqfUCcM-kqtEfh4Wee0-Xg6B1M-JASM0saAu4L_g) <loziniak (Maciej ÅoziÅ„ski)>:
btw `console` and `q` is clear :-)

[15:15:25](#aDm70rmQ2OX0pisCpP2ZugJtFjSp-2LNkyAlbTTocGw) <hiiamboris (NOT THIS ONE)>:
* ah.. right, I forgot you're modifying the launcher itself :D

[15:17:00](#VKV9i6D4X9jaUgDMfeIDjXGydh58nRHrhQ2vEtsMJmo) <hiiamboris (NOT THIS ONE)>:
well, Travis output will be ready in an hour or so :)

[15:17:15](#TjkpsMbNqJoMypNvRx8mhE03VPxGG0LXnVQyU5iRcGs) <hiiamboris (NOT THIS ONE)>:
But I think R2 doesn't allow `return:` in function spec..

[15:21:09](#633hhLsOF6oFhzio98QucT_79EUkhhbdzzuiZ0gvIjM) <loziniak (Maciej ÅoziÅ„ski)>:
oh great...

[15:25:45](#BH079wNFWr7DMb2HZ_50mTwTcwHA4AVyxNfwskiAXG0) <loziniak (Maciej ÅoziÅ„ski)>:
```
% echo "Rebol [] a: func [return: [integer\!]] []" | ./rebol
...
** Script Error: Invalid argument: return
** Where: throw-on-error
** Near: func [return: [integer!]] []
```

[15:27:11](#iI3244EBBP-JhQ3i0kcKgBLA7IalsFHJPax_g10KWOQ) <loziniak (Maciej ÅoziÅ„ski)>:
seems like I have to leave this to someone with greater experience.

[15:28:08](#4T1B6xK8i2TKbqkBAXjRP3OJvGWkTHF2QcitSkc3Ur8) <hiiamboris (NOT THIS ONE)>:
Just remove `return:` from `func`

[15:28:10](#GVlrBbYHGkaq1YfSFNVfn1g4qfqBOpxhtB6_X_6liao) <hiiamboris (NOT THIS ONE)>:
* Just remove `return:` from `func`s

[15:28:48](#rFjHXMFcGt949kKk-nLAQdv7kX2ysm3F12gcjMT0XTE) <loziniak (Maciej ÅoziÅ„ski)>:
and in routines it's ok?

[15:30:17](#2g0OF8xVG36B4aADJoJyxgXyvHLlOOKyTag3z8y9MTg) <hiiamboris (NOT THIS ONE)>:
yep

[15:34:47](#AsCKhY1n_ujGsR6DGxat0xUJGTPAvcxB83gbhXtfvm4) <loziniak (Maciej ÅoziÅ„ski)>:
Won't it leave `Script Error : status needs a value` error unfixed?

[15:37:05](#_Dc5jcEzIIN9_rmiZl60Mczb3NRpH4KwnjdxNIb44Jk) <hiiamboris (NOT THIS ONE)>:
no of course not

[15:37:41](#Cr7wSeKMXNcNJKZCDod5KDQfhPGgooETpyTUHPwboko) <hiiamboris (NOT THIS ONE)>:
every `func` returns a value, always, that's why `return:` was not needed

[15:37:59](#uZXMmN2Q70MTeti3tC_ikn9I_AXkXQcmW17tvycLCs4) <hiiamboris (NOT THIS ONE)>:
In Red it's only used for documentation (and maybe someday will be used for type checking)

[15:38:26](#ryq5HgQIhhAGhgZieTr7kf_PV48UkBEwjEjhmChXLss) <loziniak (Maciej ÅoziÅ„ski)>:
In Red I know that, but I lost my ground on Rebol :-)

## 17-May-2021

[17:54:25](#IVIVjn1ZoLVUaizsYQfVniuQqTXCBiaBBXkkbFRuMas) <zwortex (zwortex)>:
I have this inconsistent behaviour between interpretation and compilation. Don't know if it is worth notifying.

The following script evals properly.
```
Red []
a-func: function [ /ref [logic!] return: [unset!] ] [ either ref [ print "with ref" ] [ print "without ref" ] ]
a-func ;= without ref
a-func/ref ;= with ref
```

Rightly though it triggers an error when being compiled :
```
*** Compilation Error: invalid function spec block: [[logic!] return: [unset!]]                       
*** in file: D:\Developpements\RedTest\thetest.red                                                    
*** near: [[/ref [logic!] return: [unset!]] [either ref [print "with ref"] [print "without ref"]]     
    a-func                                                                                            
    a-func/ref                                                                                        
] 
```

[18:12:39](#sWV-guFlHHlxq-mxXGMgNy5iZd2Cta6_3ffJz7V10A4) <hiiamboris (NOT THIS ONE)>:
it's not valid to specify typeset for refinements

[18:13:17](#1eZ-iRXhklb8eOtNiWFk4fUeWIwAR3_q7c2c7kscnhw) <hiiamboris (NOT THIS ONE)>:
perhaps it's worth reporting that interpreter allows it

[18:35:31](#_3tvWtlrp3eZFpI9pVP5ABVSOHieANGLaCJJTpc0C8o) <greggirwin (Gregg Irwin)>:
Agreed. You can spec types for refinement args, but not refinements themselves.

[19:10:04](#WihSKjQRvCMBKl7M3e7gjoBTZulmuLJSf0D5hFFALCI) <zwortex (zwortex)>:
I'll open a ticket.

[19:22:36](#QSK4X7pfQOnbS30XtsXhqKrW7-ZV6h0mSQLFICpLMlk) <zwortex (zwortex)>:
Another discrepancy, in the following script. This time the other way round :
```
Red []
f: function [ v [integer!] return: [boolean!] ][
   print "Here"
   all [
       v == 1
       v == 2
   ]
]
f 3
print "There"
```

Interpreted => nothing triggers, error on boolean!
Compilation => accepted, the output is :
Here
There

[19:24:56](#KWQoyE--swOSS4jJlMfenS5vRxs0dpSlNNxryX6iWYo) <greggirwin (Gregg Irwin)>:
There is no `boolean!` in Red: `logic!`.

[19:25:24](#6iaSH-cegVP6AB-5B299tJaaNa-CSYCyTRZPsmcKD6M) <greggirwin (Gregg Irwin)>:
That sounds like an oversight in the compiler.

[19:32:38](#C4l59LvtOdtoVCO9ceCOlePgctD0yeLB0RLPz65V22A) <zwortex (zwortex)>:
Shall I create a ticket ?

[19:34:11](#0FTa4nZNwZUvV8ZplA6hlKvl9vrvhinYXirzCeLuZlI) <zwortex (zwortex)>:
Meanwhile. My original problem when compiling looks have been this one :
Literal syntax for a datatype triggers an error in the compiler

The following script runs fine if interpreted.

```
Red []
f: function [ v [any-type!] return: [logic!] ][
    return (type? v) == #[object!]
]
print [ f 3 ]
```

When compiled the following error is shown :
```
*** Red Compiler Internal Error: Script Error : Out of range or past end      
*** Where: percent-value?                                                     
*** Near:  [forall blk [                                                      
if multi-line? [nl?: new-line? blk]                                           
item: blk/1                                                                   
either any-block? :item [                                                     
either with [                                                                 
emit-block/sub/with :item main-ctx                                            
```

[19:35:19](#Kr3tT5pEGsJrnpeMtEKbx3eORtnamsq2ypcQjabn9F4) <hiiamboris (NOT THIS ONE)>:
`#[object!]`

[19:36:39](#LH4j2HOzWACRPSJBJdOYrMrhRO26O95ozrwJGn_4XNQ) <hiiamboris (NOT THIS ONE)>:
not even worth reporting

[19:39:23](#gMD40KvjA7m3-QL1diHfdYsDO5tx4Rsz7ysDevLO_aY) <zwortex (zwortex)>:
why is it so ? on one hand boolean! no warning and if using the literal syntax a cryptic error.

[19:40:25](#Vg5NJKQcYm1aMH-qbSKnMyVziokt3tvChlNXWJNGBqM) <zwortex (zwortex)>:
I had to restructure all the code to feed the compiler step by step until I found the original error

[19:40:55](#Mz7SEZY_bOhY8QFayQyuSVfjK3boh9UGYBlFxD4ck9E) <zwortex (zwortex)>:
if you consider that as not worth reporting, I don't know what is worth reporting

[19:50:40](#RSIWjxrtSMsTQAAORu7Rpj_W2mhGvE8-gS2-48ZnZA4) <zwortex (zwortex)>:
Also, I tested again the case case, the situation already discussed that returns none instead of unset...
```
Red []
a: 2
b: case [
    a == 1 [ "1" ]
    []
]
probe b ;= none
```

=> if compiled, it triggers the error
*** Compilation Error: CASE is missing a value    
*** in file: D:\Developpements\RedTest\test.red   
*** near: []    

[20:12:38](#k7m6w14biQoSmMGEgSVJv5FrwN8XO64d5qw1pfuUr8Y) <hiiamboris (NOT THIS ONE)>:
`#[object!]` is an invalid construction syntax, not worth reporting until somebody *designs* what construction syntax should be in the first place

[20:15:15](#T5PwkESv_omSifvXJOkP2B8USyv0Bh7GTU1G2hcR5Rg) <hiiamboris (NOT THIS ONE)>:
that it returns a datatype currently should not be relied upon as I assume this will be broken later

[20:18:19](#cno63dpePHgmKNtUHAlXGrM9U2CPOtfzbQutuCGpKyo) <hiiamboris (NOT THIS ONE)>:
funny though, let's comment on https://github.com/red/red/issues/4126

[20:20:08](#2swkXxu2p01WJ8TAZuYXGx0Ym-amyv6QgCpu-Jurxio) <greggirwin (Gregg Irwin)>:
Certainly seems like a glitch, since interpreted and compiled differ.

[20:31:36](#DYu0I6bVX8pw2y0PV_i8QaxOcFQfmWHcOD5FTIF_YHM) <zwortex (zwortex)>:
Why an invalid construction syntax ? How do you switch against a datatype ? using to-string ?

[20:31:44](#tLrTFhLWg5go6wOxezFGqhi5y_JtmwcHECx0C1R4CWw) <zwortex (zwortex)>:
or to-word

[20:32:55](#6jWMtpqPBuZYvRv4pRIHg3Km8DcZRUw_7Ko4NQrkphM) <hiiamboris (NOT THIS ONE)>:
`type?/word`

[20:33:43](#Jwo5ps8R0xtHZytqL98_NxqjBa1qO4BJIcw2GRSYXps) <hiiamboris (NOT THIS ONE)>:
but your example should be just `object? v`

[20:43:32](#Cnby6tHPN0d35LJXrABJgREo2VKYtbqc8QkR8citVKU) <zwortex (zwortex)>:
I will change my code. However currently in my code #[string!] or #[block!] in switch or in equal? work and no issue raised at compilation time. If it should not be used, it should trigger an error in all cases. If it can be used, it should be accepted in all cases. Here we are in the middle and the compilation error is cryptic.

[20:57:00](#9C0_i5eh8niyrtDK7108Q2iakW2MO_sLOR-BSaAyZOE) <hiiamboris (NOT THIS ONE)>:
of course

## 18-May-2021

[14:35:43](#ex6kKibE1q7yX3H9O-RFfN016cD1uhEdWQ6GfWx5RQw) <zwortex (zwortex)>:
The following script runs fine when evaluated :

```
Red []
f: function [ a [integer!] return: [logic!]] [
    res: false
    either a > 10 [
        print ["Sorry not covered"]
        break
    ][
        return true
    ]
]
f 1
print "Hello"
```

But triggers an error when compiled :

```
*** Compilation Error: BREAK used with no loop    
*** in file: D:\Developpements\RedTest\test.red   
*** near: [                                       
    break                                         
]
```

However if calling f 11 rather than f 11, i.e. forcing the execution path through the break statement, an error is triggered also when interpreting. Question should not the interpreter have detected the possible issue without being forced into it ?

[14:50:22](#RCmOea1tTfpdR-QiM4yuKSTgVDk52gM3OqSeUlSBj_Q) <hiiamboris (NOT THIS ONE)>:
no

[14:53:46](#o-Eq7W-MdBXa42U0DT9SNe0QYAHK_8jTZvTYvBuFI-U) <zwortex (zwortex)>:
ok I see the interpreter is a blinkered fellow

[16:13:46](#JyAVFLjDEq-Nn8amILVIJO9hZKPzIYGbicAiGMg72yo) <greggirwin (Gregg Irwin)>:
@zwortex when should the interpreter detect the issue?
```
f: function [ a [integer!] return: [logic!]] [
    res: false
    either a > 10 [
        print ["Sorry not covered"]
        break
    ][
        return true
    ]
]
attempt [f 11]
print "Hello"
change at body-of :f 6 11
f 11
```
This may seem an artificial example, and we don't *recommend* people modify functions at runtime this way, but it shows the true nature of Red. Everything is data until it is evaluated. The tradeoff with the compiler is you can't write as much dynamic code. This is where Red can give us new approaches, by having some parts strict and some parts more relaxed, along with tools that can analyze things from both perspectives. 

## 19-May-2021

[9:23:13](#AOTc4umPz_nN3zL90HIAoteQHU_Vy-pE78R1g2epGls) <rebolek (Boleslav BÅ™ezovskÃ½)>:
If you have `file!` with semicolon, for example `%/mifs/.;/` (this is real example from my http server log), if you `mold` it (no matter if you use `/all` refinement), you get `%/mifs/.;/`. So if you `save` some block with  a filename like this, you canâ€™t load it back as everyhting after semicolon is ignored. I would suggest to check filename for a semicolon and when present, add quotes to get `%"/mifs/.;/"`

[9:39:15](#qthzgXxa2JxGHUFzKbuqq0gZfpS0OioTVJK8G7VKkQs) <hiiamboris (NOT THIS ONE)>:
worth a ticket â˜»

[9:52:30](#8pDkkj8bg6RXJdyeEmm4bMiNgDa5sbWL6RtZzUr6wpE) <rebolek (Boleslav BÅ™ezovskÃ½)>:
OK, will do

[10:06:08](#WakWIiM5ck-5-oJ3drhidxZqAH35GcuvGIvjZEH37Jg) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
In Rebol:
```
>> to-file "/mifs/.;/"
== %/mifs/.%3B/
```

[10:07:31](#ydTQP8OovJPyMYw6LjUh78vT4sGlxQsVt9P_EOlxEsE) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
In Red there is also:
```
>> to-file {a"b}
== %"a"b"
>> %"a"b"
*** Syntax Error: (line 1) invalid string at "
```

[10:09:36](#itbucD94YxZdllxgOgteQwY-t2GOkwqUaBgzh0uSDts) <rebolek (Boleslav BÅ™ezovskÃ½)>:
https://github.com/red/red/issues/4906

[10:10:42](#UlQeWAEObcNKty6TgF5kpTizKAlr1bOwrGYbZK_rNJM) <rebolek (Boleslav BÅ™ezovskÃ½)>:
That the second example is syntax error is understandable. Probably percent encoding should be the default.

[10:13:28](#6WdUL2HjVBuVmaVxJl-W7AuZaUqdbpNCzdVqciFCSo0) <hiiamboris (NOT THIS ONE)>:
`%""` form was introduced because percent-encoded files are unreadable and impossible to type by hand (unless you recall all the unicode table)

[10:13:59](#rHHHcKsGd4mCirzpJfSqgEKSuTNaPI2Uj0g12eLCsLA) <rebolek (Boleslav BÅ™ezovskÃ½)>:
both forms can coexist I believe

[10:14:11](#0-ciJAms9VK3Od0QD1n23uDJDd_A6W9icxKZNCL-UlU) <hiiamboris (NOT THIS ONE)>:
I think `^` should be used as in strings inside `%""` form

[10:14:29](#D3b497BymMax3SBPhbl3-PCngEK-uE0y_vYB9ycmbmA) <rebolek (Boleslav BÅ™ezovskÃ½)>:
that makes sense

[11:15:44](#rO7ZKHGQn_seaLHYQ3W9opCCF7AdJe4MsalfAKcBY_0) <zwortex (zwortex)>:
@greggirwin - get your point on interpretation. I leave aside the data vs code. We had this conversation already. I am more practical in my remark. Currently I am attempting to compile my code and find out that having a code that works when interpreted is far from enough to have it compile. There are little issues as the one about break, and harder ones as dependencies, and the way the compiler decide whether things should be compiled or not. My impression is there is a missing step of pure syntactic analysis that are likely to prevent the compilation, otherwise it seems you get stuff that are left to interpretation or wrongly compiled with wrong assumptions.

[18:34:43](#TQ4hrJ87qdKRMZg4Khu41nDkbSH8UE1m_AwXn2HBayk) <greggirwin (Gregg Irwin)>:
@zwortex understood, and agreed. We currently have compiler limitations, and address them as we find them. But, to your point, there will always be things that can't be compiled, and that's a *BIG* research project. We can cover a lot of bases with simple analysis, which is where we'll start.

## 23-May-2021

[16:54:46](#yQhtdOw-schCLOiKudv67guNAVsvqXnD29Jodh_ai1U) <GiuseppeChillemi (GiuseppeChillemi)>:
There is something strange here, the last one should return `none`

```
>> a: [b c d e [f g] h]
== [b c d e [f g] h]
>> :a/e
== [f g]
>> :a/e/j
== none
>> :a/e/f/z
*** Script Error: path :a/e/f/z is not valid for word! type
*** Where: catch
*** Stack:  
```

[16:56:45](#DtzDgDrlFImPw9pH-IuFD7j8iUZrgUr9yYk5UetTG8A) <hiiamboris (NOT THIS ONE)>:
no, it shouldn''t

[16:56:49](#Yooo4D_0HTTHEILgJqKTDdZjsnvo4VjoW2SHclDbPF0) <hiiamboris (NOT THIS ONE)>:
* no, it shouldn't

[17:01:19](#jD7WaNLN1V8dxvi9Z8Zkj-msJXRv8eWdo_wd4-vh0qA) <GiuseppeChillemi (GiuseppeChillemi)>:
@hiiamboris Why? Paths returns `none` if an elementis non existant.

Here I expect `none` too

```
>> a: [b c d e [f g] h]
== [b c d e [f g] h]
>> a/e/f/z
*** Script Error: path a/e/f/z is not valid for word! type
*** Where: catch
*** Stack:  
```


[17:02:04](#NFw5yuWdLrlOmW7MFHd5PqvtCzkisIj3hwo-lhpS9-4) <GiuseppeChillemi (GiuseppeChillemi)>:
* @hiiamboris Why? Paths returns `none` if an element is non existant.

Here I expect `none` too

```
>> a: [b c d e [f g] h]
== [b c d e [f g] h]
>> a/e/f/z
*** Script Error: path a/e/f/z is not valid for word! type
*** Where: catch
*** Stack:  
```


[17:19:48](#LGkvph1G7YMWHoDmyITpfSudXV_Zx-1az8iZHvP_k40) <hiiamboris (NOT THIS ONE)>:
and here?
```
>> x: 'x
== x
>> x/a
*** Script Error: path x/a is not valid for word! type
*** Where: catch
*** Stack:  
```

[17:24:06](#bihu88q-2sIry3eLPi0-pCgg1qz98Tq8fpXFT8yl5JU) <GiuseppeChillemi (GiuseppeChillemi)>:
An `invalid path value x` would be better, `

[17:25:10](#hZkf8g6EgiQl0Jovjcgu3jXjdoTsvyiUep6DcEoctjQ) <hiiamboris (NOT THIS ONE)>:
I would prefer different docstring too (but not the one you propose)

[17:25:58](#WTdyNxOsvEByp0Tfe2Nmtk5ESusL766IYBNOcvijQkM) <hiiamboris (NOT THIS ONE)>:
at the very least it should tell which item lookup failed

[17:26:35](#kpWOOf9mQlzK7E4uarzwMTZ7knIUs9yUFKh17MtyGmY) <GiuseppeChillemi (GiuseppeChillemi)>:
Anyone is better than the actual string that you can interpret in 3 ways and without subject.

[17:27:14](#uIX2Y4OacDcORpLdxj3vJj9Sdt_0kl8NQoG_vE4LuLA) <GiuseppeChillemi (GiuseppeChillemi)>:
* Anyone is better than the actual string that you can interpret in 3 ways and without any reference

[17:27:43](#kkpdGY2GWjt7AmU7esqR_Z9LAMKmhLFrLRHOE7m_RIc) <GiuseppeChillemi (GiuseppeChillemi)>:
> at the very least it should tell which item lookup failed

I Agree 100%

[17:41:22](#89mEoSiD-iGRiDmIGqaCe1XVAK2o7Fd-2o-QT2Mu_qM) <GiuseppeChillemi (GiuseppeChillemi)>:
I was working on a way to know if a path on a block is returning a `none` because the element does not exist or because it is a return value of a function.

```
>> ff: reduce ['lib reduce ['f func [/aref] [print "hello" none]] 'z]
== [lib [f func [/aref][print "hello" none]] z]
>> ff/lib/f
hello
== none
>> ff/lib/g
== none
```

`ff/lib/g` and `ff/lib/f` both returns `none` but for very different reasons.





[17:41:42](#cd7Dd0fPhvGkIkDMJ7Z6h-bvzENUq7KWVssqn1cD5Ys) <GiuseppeChillemi (GiuseppeChillemi)>:
* I was working on a way to know if a path on a block is returning a `none` because the element does not exist or because it is a return value of a function.

```
>> ff: reduce ['lib reduce ['f func [/aref] [print "hello" none]] 'z]
== [lib [f func [/aref][print "hello" none]] z]
>> ff/lib/f
hello
== none
>> ff/lib/g
== none
```

both `ff/lib/g` and `ff/lib/f` returns `none` but for very different reasons.





[17:43:53](#mKjzPOpsJgaYhYsGJfMpeeOXWliUTw9hfqeN3jVZFYE) <GiuseppeChillemi (GiuseppeChillemi)>:
I have even tried `exists?` 'ff/lib/g` which has some sense but with no luck.

[17:44:11](#WbltaGC8h6LUhKj8-v9bNu_aZOlOvzBH_GjVuZZZ25I) <GiuseppeChillemi (GiuseppeChillemi)>:
* I have even tried `exists? 'ff/lib/g` which has some sense but with no luck.

[17:44:22](#MwVp-i707ldrkaXIp96dnITyqArpJ259eqsAg1p7vIY) <hiiamboris (NOT THIS ONE)>:
well, possible but not without your own path evaluator

[17:45:34](#WG3-J4UnyjmeCdwMslcJiLXbaqo-cPwviSD6fnI4cxM) <hiiamboris (NOT THIS ONE)>:
although what about testing for `function? :ff/lib/g` first?

[17:46:21](#8i8noMFAKIHAOpjIfg20eznUfPbpzTV18QXUF8o7Ctg) <hiiamboris (NOT THIS ONE)>:
not gonna work for `:ff/lib/f/aref` but idk your needs

[17:50:00](#by6wT4HZ0T4GUZJ-5IGIZKKAdg8xh74F4O1zrww8ccU) <GiuseppeChillemi (GiuseppeChillemi)>:
Yes, it is a solution but does not work for this too:

```
>> function? :ff/z/a
*** Script Error: path :ff/z/a is not valid for none! type
*** Where: function?
*** Stack: function?  
```



[17:52:19](#aGkthmsWWAD368SK3u4rI87rXutAMOJiXRxPOvf7HGc) <GiuseppeChillemi (GiuseppeChillemi)>:
There are multiple scenarios to considers handling function at the end of paths. The last one is `attempt [function? :ff/z/a]` where `none` is also the return value of `attempt`

[17:53:02](#SlTmUNawLeV5nS0wA3KUq_wxVL4q_bqPw0uzCk8-ESs) <GiuseppeChillemi (GiuseppeChillemi)>:
* There are multiple scenarios to consider while handling function at the end of paths. The last one is `attempt [function? :ff/z/a]` where `none` is also the return value of `attempt`

[17:56:14](#AXjoyXLy5r5nMcjt2FZzRNLhEDyhLXYuaMOt3deYC8Y) <GiuseppeChillemi (GiuseppeChillemi)>:
I was trying to parse a block of code with my own handler and I had to check if a path ends with a function. There are some ambiguous situations to handle. 

[17:56:48](#m4FR5d9Ez-vZgzfKRcRS2H2KkYrLzumKTBoKwkzagwM) <GiuseppeChillemi (GiuseppeChillemi)>:
* I was trying to EXECUTE a block of code parsing it with my own handler and I had to check if a path ends with a function. There are some ambiguous situations to handle. 

[18:10:15](#4q7Spcj7atRAjmtPCSJXxvLAucnFWSrMU4Q-hSBHTc0) <hiiamboris (NOT THIS ONE)>:
Yeah, paths are hard.

[18:10:39](#XFtsdx5rUxLctXLjl7GlltUG9BY_DZhtzXzD67e5sfE) <hiiamboris (NOT THIS ONE)>:
A lot of special cases

[18:52:20](#iJ5IzGoLrQDeWB1J6k5b78Wnj9aTeHJdqikseIkNKJk) <GiuseppeChillemi (GiuseppeChillemi)>:
Do you have links in the source where the decoding happens?

[18:54:42](#AAW66o4uhZwp_78eX8y8g8l3qizlaA_2bR2_ZP1tyEA) <hiiamboris (NOT THIS ONE)>:
sure https://github.com/red/red/blob/500fba7b93ea9ef36f3affb33d43a0b703d80f5b/runtime/interpreter.reds#L647

[18:57:43](#vdsDEzlBJzpjqe6-sk-t4HpdrnXD9qJh59NxoW7D3gk) <hiiamboris (NOT THIS ONE)>:
then it dispatches by datatype, e.g. https://github.com/red/red/blob/500fba7b93ea9ef36f3affb33d43a0b703d80f5b/runtime/datatypes/block.reds#L774

[19:08:56](#xPXdUtyYVujxGbqT5B3Zz7BY25mADfqRe90M1bbNHfk) <GiuseppeChillemi (GiuseppeChillemi)>:
Thank you.

## 24-May-2021

[9:48:22](#JTW4h2TopCGkaFaKsNwIId-e5zvSwPsoZmovmg9fnq8) <ldci (FranÃ§ois Jouen)>:
Thank you.

[20:12:23](#QG-qT2FmHLEqZbTpGgJLaZJhkc8NdA0iLoeFcD7lT5U) <greggirwin (Gregg Irwin)>:
I agree that more info in error messages is better. If we don't have a ticket for that, let's open one.

[20:18:10](#Z2M1PgHq5rC5_gN62VX1pwcpKT5m8SIZwnB19IQb_lY) <hiiamboris (NOT THIS ONE)>:
https://github.com/red/red/issues/4532 ?

[20:18:45](#UKtk1WkfUzOpKk7G6p9_lFEFUIkDoHDOMt9WENdUzQQ) <hiiamboris (NOT THIS ONE)>:
GH doesn't load for me at all, strange..

[20:19:35](#0J0Vnij35MkoStm3T-1g2PbHV1VdUeKnICCYX3J6ZVU) <greggirwin (Gregg Irwin)>:
:+1:

## 9-Jun-2021

[15:04:41](#XcUKlTE-5Porr6DS3UEs_bsnXb4kXq9sWGecIwTQXUo) <hiiamboris (NOT THIS ONE)>:
This doesn't make much sense to me:
```
>> find/only reduce [1 integer! 2] number!
== [1 integer! 2]
>> find/only reduce [1 integer! 2] integer!
== [integer! 2]
```
Anyone can defend this behavior?

[15:06:22](#l_dbT9kTfVFzBP7x2Llk4XxB3Ma1UuWOXA4ETHf_Yd8) <hiiamboris (NOT THIS ONE)>:
R2 returns first result in both cases, but I would prefer 2nd in both case (i.e. /only would disable the smarts)

[15:06:56](#1sS2umfqKgwRzL5SEOd2DQDw2cVmmc5XyWS-n21AuFw) <hiiamboris (NOT THIS ONE)>:
* R2 returns first result in both cases, but I would prefer 2nd in both case (i.e. /only would disable the smarts) because there's no other way to disable them

[15:09:24](#ertNyiihsqkcKXAQ8ugvdcpkbcWlrDE910maFWpDgu0) <hiiamboris (NOT THIS ONE)>:
* R2 returns first result in both cases, but I would prefer 2nd in both cases (i.e. /only would disable the smarts) because there's no other way to disable them

[15:09:34](#N4J3bjllWOFz8zu3gQr7qGdkefNAq8AYQcp7MzrFmV0) <hiiamboris (NOT THIS ONE)>:
* R2 returns first result in both cases, but I would prefer 2nd in both cases (i.e. /only would disable the smarts because there's no other way to disable them)

[20:44:20](#ivgIuTMTL3zZMiXaDyej0n4UvKp0h6WBrPFSW9I6N3g) <greggirwin (Gregg Irwin)>:
@hiiamboris I agree. Then we need to update the doc string for `/only`. 

Current: Treat a series search value as a single value.

Possibly: Treat series, datatype, and typeset search values as singular.

## 10-Jun-2021

[0:28:25](#KVnM4QyuADvk85yExopafOy-u8kwUXta8QThjVwL8Q4) <zentrog>:
Or "treat the search value as literal". The `value` parameter could probably also use some docstring explanation. I don't know how else someone would discover that behavior changes depending on datatype

[0:40:16](#KCRinCyZu8h8X0838ZZB-QrDm7VLg_tZphPhtPNReCY) <greggirwin (Gregg Irwin)>:
I considered `literal` as well, but that's confusing in other ways. e.g. there's no such thing as a literal block, because they always are. Adding docs for `value` is a great idea though.

## 13-Jun-2021

[4:42:28](#x3OpUowFpmnc-Ei3yJ1ewaacxeFx6dAetKrdR3ItFP0) <toomasv>:
What is `1.5` for?
```
extract/index make hash! [a b c d] 2 2
== make hash! [1.5 b d]
```
It seems to have appeared a year ago.

[4:44:44](#D-W_qsYj8vdZGnuEudSSeiDy804iQD8l2DgTv_9vyU0) <greggirwin (Gregg Irwin)>:
Well, it's a fun bug. 
```
>> extract/index make hash! [a b c d e f] 3 2
== make hash! [1.6666666666666667 b e]
```
@qtxie ?

[4:45:17](#TCejWGvLf9kVj5WjGdizWs8PSdku6HkCs-xQrgi8MM8) <greggirwin (Gregg Irwin)>:
* Well, it's a fun bug. 
```
>> extract/index make hash! [a b c d e f] 3 2
== make hash! [1.6666666666666667 b e]
>> extract/index make hash! [a b c d e f g h] 4 2
== make hash! [1.75 b f]
```
@qtxie ?

[4:46:33](#E20BaoOzHMLfDaklcMQi3tIU_P8gtizH0U5vxmCvTfQ) <toomasv>:
:)

[4:53:56](#wwd9u4CDCEZ-r88COF0N7bf754INBs5b4l7cx-b0EP4) <greggirwin (Gregg Irwin)>:
```
>> extract/index/into make hash! [a b c d] 2 2 h: make hash! 2
== make hash! [b d]
>> extract/index/into make hash! [a b c d] 2 2 h: make hash! 1.5
== make hash! [1.5 b d]
```

[4:54:33](#r133LBdLcYyFZ5zO64XcWh0vgymQPWUcFHjRFx3rG5s) <greggirwin (Gregg Irwin)>:
* ```
>> extract/index/into make hash! [a b c d] 2 2 h: make hash! 2
== make hash! [b d]
>> extract/index/into make hash! [a b c d] 2 2 h: make hash! 1.5
== make hash! [1.5 b d]
>> make hash! 1.5
== make hash! [1.5]
```

[4:57:32](#_S_LwliGdcdf6Va9tlq_Y3H--kBPvKGJ6FT87fiLNfQ) <greggirwin (Gregg Irwin)>:
Not enough type checking in `make`. Only checks for integers and blocks currently. Anything else falls to `to`, which should probably be an error. I can't imagine we want to rely on the current behavior, and hope it's not used anywhere.

[6:59:54](#mLQn2ttFeBH7vstALDeZWcWjiWGp08O-gUrVBc69Kc0) <qtxie>:
í ½í¸… 

## 14-Jun-2021

[23:56:38](#KSIjhi1cffVHyPHotf80R4BRymOs_H8zPP006gVO_2w) <luis-rj (Luis)>:
In order to confirm bug "Panel Draw shows black on Ryzen7":
```view  [panel  draw [line 10x0 160x50]]```
Someone has W10 with AMD Ryzen7 chips ?

[23:58:10](#iis3JUganDrVC5C43fdGVelUSa_lJGh69oWRCxiY240) <luis-rj (Luis)>:
* In order to confirm bug "Panel Draw shows black on Ryzen7":
```
view  [panel  draw [line 10x0 160x50]]
```
Someone has W10 with AMD Ryzen7 chips ?


[23:58:43](#EA6Yw1DAqFMyoOtrrG3g95Ntga1SVkVH_a-8JhgoiPI) <luis-rj (Luis)>:
* In order to confirm "Panel Draw shows black on Ryzen7" bug
```
view  [panel  draw [line 10x0 160x50]]
```
Someone has W10 with AMD Ryzen7 chips ?

## 15-Jun-2021

[0:04:08](#Bv8YqODWHtR65KKWWRXf00SDZcdYekyz3Uifibqg86M) <luis-rj (Luis)>:
Tests with another OS and Ryzen versions are welcome. 

[3:32:37](#lpuMSpOEjyiNwC-gQSSUJ-vkbKHmn6sPvxERWmKA5Q0) <zentrog>:
![https://matrix-client.matrix.org/_matrix/media/v3/download/matrix.org/LeuELgQjYnzZPLIndvOtfRUz](https://matrix-client.matrix.org/_matrix/media/v3/download/matrix.org/limcXEYpAdZxPQQxSDMTPVIr)

[3:32:40](#dq11jNAuuO25bb9vHxx6n4MGMuSDdvL_1rgsXWC0hMk) <zentrog>:
I think this is what it should look like, right? Win 10 Ryzen 5


[22:27:44](#Nbh42aBQWXnUjJiVDm7zib1Zxogs9alQSXV-voEPm4A) <GiuseppeChillemi (GiuseppeChillemi)>:
Console closes with this code:

```
 a: #(a: 22 b: 33 c: probe a)
```

Do you confirm?

[22:27:56](#fhnORvts0AfZlhvT0r2qGMBKhLfy9UhIEUdRBWB0D1E) <GiuseppeChillemi (GiuseppeChillemi)>:
* Red crashes and console closes with this code:

```
 a: #(a: 22 b: 33 c: probe a)
```

Do you confirm?

[22:28:45](#OkqXN0qGm4vuukTQtzH5FGaBWXg51LYq1tnnvZ_tAzc) <GiuseppeChillemi (GiuseppeChillemi)>:
Its the same with:

```
a: #(a: 22 b: 33 c: x: a)
```

[22:29:38](#hf8SnB9AzrMY0NZk-G-6hCjz1JsG6qRcYuKCMUY0DxQ) <GiuseppeChillemi (GiuseppeChillemi)>:
It is related to having 2 elements after `C:`

[22:58:38](#jzd3-d3ljztzWZrjVMFwQa4aJbW243DwcQkBOYg8h6E) <greggirwin (Gregg Irwin)>:
Confirmed. 

## 16-Jun-2021

[1:12:04](#k6g0-kVkx533X7fk6zbdJRtD5qnO5u-1_xwF9kRRn5k) <luis-rj (Luis)>:
@zentrog:matrix.org  Yes, bug seems limited to W10 Ryzen7.

[3:17:59](#dhonighGPLVyq3rch4L76SpiGRHiNajB-ppxq8uE3_w) <toomasv>:
@GiuseppeChillemi Confirmed, but the problem is not having 2 elements assigned, but having in the end a key which is already assigned, but now without value. Consider these:
```
>> a: #(a: 22 b: 33 c: x: 1)
== #(
    a: 22
    b: 33
    c: x:
)
>> a: #(a: 22 b: 33 c: x: x)
== #(
    a: 22
    b: 33
    c: x:
)
>> a: #(a: 22 b: 33 c: probe probe a)
== #(
    a: 22
    b: 33
    c: probe
    probe: a
)
```

[3:19:23](#XgelHTtRunu2e1yTClgjDPzj4JMmiZHv5NH8yrQqH0I) <toomasv>:
* @GiuseppeChillemi Confirmed, but the problem is not having 2 elements assigned, but having in the end a key which is already assigned, but now without value. Consider these:
```
>> a: #(a: 22 b: 33 c: x: 1)
== #(
    a: 22
    b: 33
    c: x:
)
>> a: #(a: 22 b: 33 c: x: x)
== #(
    a: 22
    b: 33
    c: x:
)
>> a: #(a: 22 b: 33 c: probe probe a)
== #(
    a: 22
    b: 33
    c: probe
    probe: a
)
>> a: #(a: 22 b: 33 c: x: a b)
== #(
    a: b
    b: 33
    c: x:
)
```

[3:27:52](#xzNb_-YL4n8SPFmfmbV8GiiPBpm6nsz1AiyPiu9NM4U) <toomasv>:
Remember that maps are not evaluated:
```
>> #(a: 1 + 2)
== #(
    a: 1
    +: 2
)
```

[3:28:35](#3IlPIqWoK7nMhjT3TqaIlYI2meLcL28RAmf4EFfDb20) <toomasv>:
* Remember, that maps are not evaluated:
```
>> #(a: 1 + 2)
== #(
    a: 1
    +: 2
)
```

[8:08:45](#BS3PFJWzo5wb1HlsreBsvYAUofrvj9yyCHUhdJtcKIY) <GiuseppeChillemi (GiuseppeChillemi)>:
https://github.com/red/red/issues/4914

[8:11:31](#H259idGdhBW_kGkZOJxDGztgEBF4WmZv5-g9ZvQKDX8) <GiuseppeChillemi (GiuseppeChillemi)>:
> Remember, that maps are not evaluated:
> ```
> >> #(a: 1 + 2)
> == #(
>     a: 1
>     +: 2
> )
> ```

I would like they could be reduced as Object's creation blocks but without context being set to words, I have some nice use cases.

[8:14:09](#ASGT13-Cgi1CKRx4IJL2i8REJpcqeLqimuWnl-Y3xws) <GiuseppeChillemi (GiuseppeChillemi)>:
Compose does not work here:
```
>> probe compose #(a: 22 b: (3 + 4))
*** Script Error: compose does not allow map! for its value argument
*** Where: compose
*** Stack: probe 
```

[8:26:05](#zA2DUSn4t5njcyGwuXW1FFGMBzIKIbNxMhnzOWcRZXo) <rebolek (Boleslav BÅ™ezovskÃ½)>:
What's so hard about
```
>> make map! compose [a: 22 b: (3 + 4)]
== #(
    a: 22
    b: 7
)
```

[9:19:45](#XCYnxICw57SQjk-L4ayW8nFMt2JVXfcoirf8I5VOpWU) <GiuseppeChillemi (GiuseppeChillemi)>:
Because once used in blocks they have to obey set-words rules limit, and you can't use key names like "2do" :

```
>> 2do: 22
*** Syntax Error: (line 1) invalid integer at 2do: 22
*** Where: case
*** Stack: load 
>> 
```

It is needed when you map external world data. 

[9:20:38](#l7vEze3kCin9PEDGMpJdDYBgl2-oLV1QgZpMEmoJ54M) <GiuseppeChillemi (GiuseppeChillemi)>:
* Because once used in blocks they have to obey set-words syntax limit, and you can't use key names like "2do" :

```
>> 2do: 22
*** Syntax Error: (line 1) invalid integer at 2do: 22
*** Where: case
*** Stack: load 
>> 
```

It is needed when you map external world data. 

[9:29:48](#yeDuDZw7-YE4KX0a9xwCxPaboP3__Enj8viLs9AgUi8) <rebolek (Boleslav BÅ™ezovskÃ½)>:
What? You can't have key named `2do` in a map! also.

[9:30:41](#_a01gCC56zsL8c8PxzOxVnzHTVZJUFmAFNfM1JW8xOI) <rebolek (Boleslav BÅ™ezovskÃ½)>:
But if you mean `"2do"` instead I see no problem there:
```
>> make map! compose ["2do" 22 b: (3 + 4)]
== #(
    "2do" 22
    b: 7
)
```

[11:11:25](#ubzbdGZA1fIMr2lHuRa7oseQCoFM7dxpZcV2k1YMkpQ) <GiuseppeChillemi (GiuseppeChillemi)>:
I remember a thread where I have read  Maps permits overcoming limitation of object-based approach for Json keys. I admit that I have always seen map examples with `GET-WORD` `VALUE` couples, so I thought the "KEY" part could only be a get word.  Ok, so the key part could be anything but Functions with Doc deprecates and a final decision has not been made.

[11:12:23](#y5OW7foKpV5ae_VQp2lOYldJQzVzNDZ7lZPiyWmVuvk) <GiuseppeChillemi (GiuseppeChillemi)>:
That's good, in some sense it could give me even more flexibility in my project.

[11:44:51](#wYFamafThLTf4KCpTFcoHBEoO5JtYgxD2LS2v5hoxUE) <rebolek (Boleslav BÅ™ezovskÃ½)>:
not just `function!`, but also `block!`, `object!`, `map!`, etc. are not allowed as keys

[11:45:26](#kCwsmqNVUh9D01VF9TRnu69jQjy67wLK20egpFTNPRw) <rebolek (Boleslav BÅ™ezovskÃ½)>:
but `number!`, `any-word!`, `any-string!` are fine

## 17-Jun-2021

[23:28:34](#chP4CNn01LTiW5mgm7os50uhN0Ze2VqFtm6B9G1LJi4) <zentrog>:
greggirwin (Gregg Irwin): 

[23:30:52](#ybBZbrh-cuKR2Hl2YNtLNpibYVp905kkY39tk5av-tk) <zentrog>:
I was following the discussion on #4910, and thought that if you agree, it could be useful to split [your comment](https://github.com/red/red/issues/4910#issuecomment-863535181) into separate comments for each option, so that people could 'vote' for the ones they like without adding too much extra noise

[23:31:40](#eDrjVjz3KnSfFQMPxbZN-tDYVPeZp8lLOrLZmbALZnc) <zentrog>:
 * I was following the discussion on #4910, and thought that if you agree, it could be useful to split [your comment](https://github.com/red/red/issues/4910#issuecomment-863535181) into separate comments for each option, so that people could 'vote' for the ones they like (using the reaction emoji) without adding too much extra noise

## 18-Jun-2021

[13:56:15](#ovuCKMCu_Y6H0X7fB_sV2AknAWKUX67CIy6J1Z9t0hs) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
First of all the question should be, why is not allowed to have `to map! object [a: 'a]`

[13:58:17](#rl0SQQzgYmatPXCD8UJupY3-N6pJv7m5tEu9kqI22XE) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
@greggirwin my main concern with current Red's state is this inconsistency:
```red
>> o: object [a: 'a] type? o/a
== word!
>> b: to block! o type? b/a
== lit-word!
```

[14:01:42](#K5v9S8qXMtPlkAghxlpDYk8dMktIvMA0bjPkzT9AL1g) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
The `lit-word!` makes sense if used with the `make object!` (because object construction is reducing the block), but it should not be present when block is created from object's value/key pairs.

[14:02:58](#Ao2ZWssChuYA0yYEw-0v7iPklS4J_baUr09lItRamF0) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Maybe there could be different result of `body-of` and `to block!` on object.

[14:03:11](#Szc_GMRuHe9P_mregkPbqKs_r-3Yp0tRGTqlcN4NLt0) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* Maybe there could be different result of `body-of` and `to block!` on an object.

[14:03:54](#FtGsqX_joZz8RHvpg0_5LcsnPqKIKg-Bn-qHtFv723w) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* Maybe there could be different result of `body-of` and `to block!` on an object. (but I'm not sure if it's worth complications)

[14:04:18](#PbPJ1xySa1JA4gFPT88C7NTfpUYQja4geAEN4ljhET4) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* First of all the question should be, **why is not allowed to have** `to map! object [a: 'a]`

[14:04:28](#jUvNhx0Qq_gCXzcO0fvRHQPaM1EDjyd8rSmb5nl18f8) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* First of all the question should be, **why is not allowed to have** `to map! object [a: 'a]`?

[14:08:04](#1tVFl8wrfyCQFX7piDe14X-tty9ChV4AgMhTzIDZnq0) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Also I should remind, that in Rebol there is _construction syntax_ and there is:
```rebol
>> #[object! [a: a]]
== make object! [
    a: 'a
]
```
So the result `[a: a]` of `body-of #[object! [a: a]]` makes more sense!

[14:10:38](#ctYkFXLkJZasJBxBRBv_fiilXfwxYQ63AzwFo0SMTng) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* Also I should remind, that in Rebol there is _construction syntax_ and there is:
```rebol
>> #[object! [a: a]]
== make object! [
    a: 'a
]
```
So the result `[a: a]` of `to block! #[object! [a: a]]` makes more sense!

[14:13:16](#OAsRJ4ri48mQSMPZ4284BrLzZHZR2694_aDMKo581Fo) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Also in Rebol3 it's possible to make the object without block evaluation using `construct`, so one can convert object to block and back to object using:
```
>> construct to block! object [a: 'a]
== make object! [
    a: 'a
]
```

[14:18:28](#1rUJRWkcDF8FIFAsTpHI5PA8WVV5APPCu4waf9lRK9U) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
â˜ [June 17, 2021 1:11 AM](https://gitter.im/red/bugs?at=60ca8534bed13a2dba89fed2) @greggirwin the difference between 1 and 2 can be demonstrated with this code:
```rebol
>> reduce [to lit-word! 'a  'a]
== ['a a]
```

[14:21:10](#mQqiO87wrz6yhoVYfVcC3hleF_1QfmNAckd7xXI5asA) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* :point_up: [June 17, 2021 1:11 AM](https://gitter.im/red/bugs?at=60ca8534bed13a2dba89fed2) @greggirwin the difference between 1 and 2 can be demonstrated with this code:
```rebol
>> reduce [to lit-word! 'a  'a]
== ['a a]
```
and
```
>> o: object [a: to lit-word! 'a] type? o/a
== lit-word!
>> o: object [a: 'a] type? o/a
== word!
```

[14:24:03](#9sFWQWHWPBslnbWCq7xM3e_EpASNiAvcI9BN8PSPlAE) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* :point_up: [June 17, 2021 1:11 AM](https://gitter.im/red/bugs?at=60ca8534bed13a2dba89fed2) @greggirwin the difference between 1 and 2 can be demonstrated with this code:
```rebol
>> reduce [to lit-word! 'a  'a   to word! 'a]
== ['a a a]
```
and
```
>> o: object [a: to lit-word! 'a] type? o/a
== lit-word!
>> o: object [a: 'a] type? o/a
== word!
```

[14:24:13](#Z6HdGjAf60Nu2gjb5azg5BTLiLipyUJ2kJ2gO7JIklI) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* :point_up: [June 17, 2021 1:11 AM](https://gitter.im/red/bugs?at=60ca8534bed13a2dba89fed2) @greggirwin the difference between 1 and 2 can be demonstrated with this code:
```rebol
>> reduce [to lit-word! 'a  'a  to word! 'a]
== ['a a a]
```
and
```
>> o: object [a: to lit-word! 'a] type? o/a
== lit-word!
>> o: object [a: 'a] type? o/a
== word!
```

[14:31:08](#4qzAojqAISd6AT4UoJMk2faYQhwpliBKwBpoSdMo_fw) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
â˜ [June 17, 2021 11:04 AM](https://gitter.im/red/bugs?at=60cb10263169e234986e8b72) @GiuseppeChillemi actually the best solution is to have always result in the construction syntax (not yet implemented in Red) like:
```
>> make object! [b: 22 c: 'z]
== #[object! [
    b: 22
    c: z
]]
```

[14:34:26](#EUh7Ss9gpmHESYvEzOrPWj1g8qLF9GCao4e8xGw6Kts) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Which reminds me, that: `first reduce [true]` should print in console `#[true]` instead of just `true`.


[14:38:13](#AFkhHV495tsMXXG3V_8V8Z_QZ5WVjzY0RnUH1j8-jCo) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
It's a deep rabbit hole :)

[15:07:56](#4-2S0CGinQp7jPuIzwovqYr78utYN2LSM6zGMN-sHfs) <rebolek (Boleslav BÅ™ezovskÃ½)>:
I agree with @Oldes .

[15:13:49](#2U3gDJxxpCaSycYEZYRdyqSGigIGZvGpXmLed7Cazm0) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Hm... it looks that gitter has some issues, because I believe that I was answering in the `help` room, but it's all in `bugs`.

[15:18:54](#J8txutS3DRUUm0ABRaQCLY4_r7RRLKHU-GCDqFBiJw8) <hiiamboris (NOT THIS ONE)>:
Familiar issue to me í ½í¸‰ Been there many times.

[15:19:22](#nKItFbkeaSpMCRZ19X2J4a7qLGYKNITqIM96QtPW8X4) <hiiamboris (NOT THIS ONE)>:
Seemingly happens when you change rooms before it fully loads the previous one.

[15:19:37](#MUU8YAl1fw8O_xqYThZoVG2SoTH6pdOIkmJ_A99eHeM) <hiiamboris (NOT THIS ONE)>:
* Seemingly happens when you change rooms before it fully loads the previous one (but sometimes right away when you open gitter).

[15:52:51](#Tfk2TQnbbV8mxbTJyv8RbMq3-6fXWzlgR6CKj7bPk6o) <rebolek (Boleslav BÅ™ezovskÃ½)>:
Use gritter í ½í¸‰

[15:57:01](#_6ALFBE4A9y7uOVsLp6NZ0pzl320kRnkIKpww0yhdC4) <hiiamboris (NOT THIS ONE)>:
I once tried í ½í¸‰

[16:08:42](#qBSJZhVozW68Qaw3LEoBzw1qrEEqG2cnnpxGSBPwhxg) <rebolek (Boleslav BÅ™ezovskÃ½)>:
:-)

Without proper IO it's barely usable. It can't properly refresh and not block UI. I'm going to try with the new IO.

[16:09:41](#aRjehG9UJjXWLkeAYviwY_LJYrF8OmLInEmuBFiS7Fg) <hiiamboris (NOT THIS ONE)>:
Riight.. single-threadedness...

[16:10:31](#s8CFspYaK4IUwkwQBur7HVAQdYksAVsOHUNEpICGUQ8) <hiiamboris (NOT THIS ONE)>:
And I have such internet that gitter sometimes takes 10 min to load í ½í¸‰

[16:12:06](#cIwuJJDbaL8qdyqRsBB6tjtxxKypwjN5Mpeiq33_TiA) <rebolek (Boleslav BÅ™ezovskÃ½)>:
wow. I believe gritter should really help in such case as it doesn't need so many requests to just show a room.

[16:13:28](#dNetlSk3lVO1_RmE3fZuiwABcS5t2UN9hX8JyuaKFR8) <hiiamboris (NOT THIS ONE)>:
Will it handle huge packet drop? í ½í¸‰

[16:18:02](#lyf2ZS14D5ogAOgehYDvsZ1bQFFwY6k7oC5rddHmvY8) <rebolek (Boleslav BÅ™ezovskÃ½)>:
I guess that depends on their API. í ½í¸Ÿ

[17:31:08](#k78cj5coL66WrYuLA-jItG4-Jy_S3xl6SGGCUUD3ZbY) <GiuseppeChillemi (GiuseppeChillemi)>:
@Oldes Could you make a table with your proposal?  3 Columns: on the leftmost one: the command used together with the block, then comes the proposed result, and on the rightmost one, some additional observation from you/us.

[17:31:18](#oCoxRXEZh2QYdeOHp76guhZq4R2ff6jnRxT7PuUOj3w) <GiuseppeChillemi (GiuseppeChillemi)>:
* @Oldes Could you make a wiki table with your proposal?  3 Columns: on the leftmost one: the command used together with the block, then comes the proposed result, and on the rightmost one, some additional observation from you/us.

[17:46:02](#Yi5teZhxAcWOsCDFDToM1HZVqP-Kf8REIVoBAJqxI40) <greggirwin (Gregg Irwin)>:
@zentrog, I'll try breaking things out in the future. Thanks.

## 29-Jun-2021

[2:51:30](#e2jk2ZWa2JX-HobLQPiHbCkfUtCmriNroRuT6K9W1f0) <gltewalt (Greg T)>:
@zentrog, I'll try breaking things out in the future. Thanks.

[2:52:34](#ku7ndNaBY80pSBFUNkhTieI-JKswPCPwNFMJMZEcmmg) <gltewalt (Greg T)>:
@zentrog, I'll try breaking things out in the future. Thanks.

[2:53:14](#aF11bZ2nAlW98H6ldfAcrDFhIZrk0pMx4pXhA__tPV0) <greggirwin (Gregg Irwin)>:
Yes.

[3:10:20](#PvGPh3X7JWACkULwKhm7FuzJxSW0CTvQe7ueMdooYqs) <gltewalt (The other Greg)>:
I saw it about the time I hit enter

[4:17:52](#KvdcxXoDfoPZJEZEUom_nxc9OVnQzCekUN64VzOhAZw) <gltewalt (Greg T)>:
Can a linux person confirm that `radio` does not toggle with the latest automated build?

[6:34:54](#yiiniOpgZpPZ6NSMDWaRAUyZ4ydYo_3O3dxFcchxi-o) <hiiamboris (NOT THIS ONE)>:
`view [radio false radio]` works for me

[6:35:04](#ewbZxsXKPuX2LboN0inVDqdW7VyGi_k6tVg_uR97QC8) <hiiamboris (NOT THIS ONE)>:
* `view [radio false radio]` works for me on WSL2/Ubuntu

[6:35:39](#Xf2-Knqhw41eS2KpudE9bs3eCb2Mbqs9mICyX3UHl2s) <hiiamboris (NOT THIS ONE)>:
maybe not entirely latest though

[6:39:45](#q-GnmVMXxwTV-Q8gQhQ35lcZUvHVWf3CZldlUAa1hvc) <hiiamboris (NOT THIS ONE)>:
* ~~maybe not entirely latest though~~ latest as well

[7:44:56](#rPrLDJuQ7PG-vDDkbLBtji-fFwP8NKPbkZd6sUEldRs) <gltewalt (Greg T)>:
hmm...

## 13-Jul-2021

[7:29:53](#asjX9--dTF5a3Jz2j0bQQFvuOmPh3jNrAm8T8sxm8UI) <meijeru (Rudolf Meijer)>:
Found an interesting bug related to the interaction of looping (`repeat` or `loop`)  and printing by `prin`. See #4929

## 14-Jul-2021

[3:19:44](#slp2NKs4K_O3DY-JaOlFQrRnxBj4XwuwssUlUvQngok) <gltewalt (Greg T)>:
`rename` doesn't work for me with linux nightly build

## 17-Jul-2021

[13:16:07](#IAgj912DdLmplpc8Mnmb_VyUacbJa9x8se9lT6biuig) <giesse (Gabriele Santilli)>:
`load/next` fails with non-ascii chars?
```
>> load/next {"Gabâ€™s Books"^/Work In P} 'pos
== "Gabâ€™s Books"
>> pos
== "ork In P"
>> load/next {"Gab's Books"^/Work In P} 'pos
== "Gab's Books"
>> pos
== "^/Work In P"
```

[13:16:40](#rRhWWTIFzpAgnxCoiaVuEaLVzcr0k_UXBpIGVjIR9ek) <giesse (Gabriele Santilli)>:
for reference:
```
>> to binary! {"Gabâ€™s Books"^/Work In P}
== #{22476162E280997320426F6F6B73220A576F726B20496E2050}
```

[14:17:21](#kC8hxjFf72vcUKrSeWxmDpoezcbEiAziVaDxpb4dKuI) <hiiamboris (NOT THIS ONE)>:
certainly seems so...
```
>> transcode/next "Ñ„Ñ‹Ð²Ð°Ð¿Ñ€ abcdef"
== [Ñ„Ñ‹Ð²Ð°Ð¿Ñ€ "f"]
```

[14:18:08](#fzBIMa33xCo-WrhTT3EkL2hihax_DntxXj0o4bVwLHM) <hiiamboris (NOT THIS ONE)>:
but works if I convert it to binary and back

[14:18:23](#DMd6iL8qKlb8VCTSScE98530KYEs1OeYjCjvdO3qb9E) <hiiamboris (NOT THIS ONE)>:
so it's some naive conversion there

[17:34:31](#smob2ux0DHwg2aMUO5R9Htu4s6Gvv-men7fEi76KMbQ) <greggirwin (Gregg Irwin)>:
Good find. :+1:

[18:42:02](#R5r37gWdpgcX5RS0Rc6QM9ScbRFboss111BwcG48LNk) <giesse (Gabriele Santilli)>:
> but works if I convert it to binary and back

Hmm, interesting, my case was originally coming from a file via `read`.

[18:42:49](#4XJLBp0xJgpWCktptQYOoerQOjKah6FQzq1NZzjaUPI) <greggirwin (Gregg Irwin)>:
Does it work with builds prior to the fast lexer change?

[18:44:17](#LHfOrI6Rea6dA9C4_eiWny2LRFmbtEYPC2dtIPH8zRw) <giesse (Gabriele Santilli)>:
`to string! read/binary` does not seem to make a difference though.

[18:44:33](#89oupTCNoonfoF0_yw8ZjT5ZMUXY7X3qAR36gJo1WCM) <giesse (Gabriele Santilli)>:
@greggirwin i'll try to do a quick test.

[18:45:24](#wvmP63qHiRvnPz49Zb7dWpZToaZcqeBdoQ5GbLUZO1s) <hiiamboris (NOT THIS ONE)>:
```
>> to "" second transcode/next to #{} "Ñ„Ñ‹Ð²Ð°Ð¿Ñ€ abcdef"
== " abcdef"
```

[18:47:46](#mrLax6ZIdjkLOhKKQiuMl5zUq0sEBEvbfaYe2L5Me6Y) <giesse (Gabriele Santilli)>:
@greggirwin do you know which commit i should check out? i don't see any tags or branches on a quick look.

[18:49:52](#DHNEJT5VOYKU343IdQcnXXsD_7OpI9t-7ZK90df8AZc) <giesse (Gabriele Santilli)>:
@hiiamboris ah, I see what you mean

[18:50:53](#_Hm7DVi4n-GfyCOz-Fsi-q95b4nYZYOPnGtvwSL-1W8) <giesse (Gabriele Santilli)>:
I've worked around it by adding an extra space to my file for now. hopefully it's easy to fix given it works with binary.

[18:51:19](#9-4oawA4wuPF-ZtQfLdFH0ES64v3uZdtk4wiEy2MYAg) <giesse (Gabriele Santilli)>:
should i create an issue or is there one already?

[18:52:10](#4o_547h1qWHEZMP1HmTxt6oa3Uyecm9KkO9_kjjNb9s) <hiiamboris (NOT THIS ONE)>:
not that I know of

[18:55:05](#G90WPWAY9zD2jaxqdtoXZayokYKe4LYRtwUh3TgtrZ8) <greggirwin (Gregg Irwin)>:
Sounds like it's worth a ticket.

[18:56:20](#wdUbnZLpMCHqFGnb5Ea8KuaiRSsbFFTh8N35oWZYB6Q) <giesse (Gabriele Santilli)>:
https://github.com/red/red/issues/4933

## 18-Jul-2021

[1:44:56](#mRNBsdklV4wu_D6NMF6k_FQImPEHxKRxoaFDspBN75Y) <gltewalt (Greg T)>:
helpful

```
>> rename %cow.mp3 %chicken.mp3
*** Script Error: rename does not allow file! for its from argument
*** Where: rename
*** Stack:  

>> help rename
USAGE:
     RENAME from to

DESCRIPTION: 
     Rename a file. 
     RENAME is an action! value.

ARGUMENTS:
     from         [port! file! url!] 
     to           [port! file! url!] 
```

[6:20:31](#XtwR7_duo3QusjuYySYrRRVUAzftBwwQHEQwvM_cTvU) <hiiamboris (NOT THIS ONE)>:
lol 

[17:27:41](#pv596q-db0A6sreY_alSgM_sTq9dAA7357DHftwbVMo) <greggirwin (Gregg Irwin)>:
Do we have a ticket for that? And since it's a common need, not tied to full I/O, it would be great to implement that. @qtxie, I know you're busy, but maybe it won't take too much time.

[17:49:20](#RzCEue2VfU-YA3Rz9TBy-5hgWL2z9hcON-NPXxkBehs) <gltewalt (Greg T)>:
It should be one of the common things that newcomers would care about ...and not a good look if what we point them to doesn't work

[17:49:52](#oLk_4OlhP0Yz3e74I0bd2MQu6xa9jCeFQUCMgArR0n8) <gltewalt (Greg T)>:
I doubt there's a ticket unless boris made one just recently, but I'll look

[17:50:44](#chTRIkEAJFHrzCUfq2BoHi2wpr7GmaBJ7Bol350I4ls) <gltewalt (Greg T)>:
Oh, there is:
https://github.com/red/red/issues/4307

[17:53:58](#f6wskdm0Yly-CqUw9UyMGDGeqDTMt1nki0CsJusARC0) <gltewalt (Greg T)>:
Oh, there is:
https://github.com/red/red/issues/4307

[17:56:06](#0bBypxaZAusMLFI6UZvvThRjF2z4sw7xDa_2mnj5_x4) <gltewalt (Greg T)>:
* It's in port.reds, but not action.reds

## 21-Jul-2021

[21:14:29](#7pyKWCLLEzYcn9LP7ZKL0g9JJFogvnMAfCGm7enbP0Q) <hiiamboris (NOT THIS ONE)>:
```
>> v: make vector! [1.0]
== make vector! [1.0]
>> w: make v []
== make vector! []
>> append w 1.0
*** Script Error: invalid argument: 1.0
*** Where: append
*** Stack:  

>> append w 1
== make vector! [1]
```
I know `make` just blindly takes the type of the value. And vectors are a single type. 
But how can we make a vector of the same type as the one we have?

[21:35:08](#SxYQi5H8_wvjzCNLIONGjFNfy-bEAu2E1_lVL0Qh3kU) <greggirwin (Gregg Irwin)>:
Seems we have to work around it for now. e.g. this doesn't work either:
```
>> v: make vector! [1.0]
== make vector! [1.0]
>> w: make vector! v
*** Internal Error: reserved for future use (or not yet implemented)
*** Where: make
*** Stack:  
```
So `copy` it is.
```
>> v: make vector! [1.0]
== make vector! [1.0]
>> w: clear copy v
== make vector! []
>> append w 1.0
== make vector! [1.0]
```

[21:37:57](#82KjbXD7oJINE5uz33b7ujS_QIdA1QR1VEhTPhjaAyI) <greggirwin (Gregg Irwin)>:
Though it should be within your realm to add a branch in `switch type` for making vectors for `vector!`. Seems like a little hole to fill.

[23:14:49](#cLtZbZt9DAfdbSUM7cq-tXDC9b6Hd0gJkqV3zrPnqxE) <ldci (FranÃ§ois Jouen)>:
Another way
`
v: make vector! [float! 64 0]

[23:15:56](#ZQbBr11uncq7zTZD82vuF1w61rE1gIHfPjiPmo1Bpaw) <ldci (FranÃ§ois Jouen)>:
` w: copy v append v 1.0`


## 22-Jul-2021

[0:38:39](#LBwMrIt3q9KYwGC7fYxQWESiPBkwCsZlD3sIUdShhZg) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Is it correct when:
```red
>> f: func [arg][p: 'arg] f 1 context? p
== func [arg][p: 'arg]
```
but:
```red
>> get p
*** Script Error: context for arg is not available
```

[0:41:14](#vmgO4usvZXNuTmwJ5HCj96sEqocS4ZzT6Zjhvh4RT80) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
I have a feeling, that `context?` should return something only in cases, when it is accessible, like in this case:
```red
>> f: func [arg][probe context? 'arg probe get 'arg] f 1
func [arg][probe context? 'arg probe get 'arg]
1
```

[0:43:00](#1G1cLQLOIHuqDRHV8eTmtqNuSgvyAXhY-zyAdSmyaSU) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* Is it correct when:
```red
>> f: func [arg][p: 'arg] f 1 context? p
== func [arg][p: 'arg]
```
but:
```red
>> get p
*** Script Error: context for arg is not available
```
?

[1:00:37](#4hTe0SZApD01SxtQ8ux9-gMvzJouDxTyRND2gJxpinM) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Another reason why it should not return function definition outside of the function call is, that when the `context?` is evaluated, the function may not exist anymore, like in this case:
```red
f: func [arg][p: 'arg] f 1 f: none recycle context? p ;<--- will CRASH!!
```

[1:01:08](#SsU8whhkkJJx5DpCzCIU9mlLWGcgsEOMHrVqBfoOYCA) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* Another reason why it should not return function specification outside of the function call is, that when the `context?` is evaluated, the function may not exist anymore, like in this case:
```red
f: func [arg][p: 'arg] f 1 f: none recycle context? p ;<--- will CRASH!!
```

[4:06:36](#EVCGRDc9ZgLnkAuKID9CJn-ZfzXwpLBWr7m8uYsYh-k) <greggirwin (Gregg Irwin)>:
I don't have a use case handy, but it would be possible to hold the value, evaluating it later when it's valid, or for debugging. Referring to things that may not exist applies to all words, doesn't it?

I agree it shouldn't crash, and that's a good ticket.

[5:01:55](#zxIfXzbsIQOKlq_A2Y_C3gL-GKYZCNoJX4YhZujDnnk) <toomasv>:
Funny workaround:
```
>> v: make vector! b: [1.0]
== make vector! [1.0]
>> w: clear make v b
== make vector! []
>> append w 1.0
== make vector! [1.0]
```

[5:46:23](#JlMXGHdw01Se5wXD3xzFHERDfRGiRQ2OXaNmGLhxMYM) <hiiamboris (NOT THIS ONE)>:
I'm for returning context. But GC has a bug if it does not mark the word's context.

## 23-Jul-2021

[14:49:40](#ZrBM0Rr1f72rMx8fZjFUHRA9AkAOacWrZ4D2kzT8Exs) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
And what about this recursion related crash?
```red
f: does [f] f
```

[14:50:30](#3nOLW0UUOnR0SSTs4DGkuL2vpfCyLMMjFaPM6eLHOzw) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
I guess it should be handled with: `** Internal Error: Stack overflow`

[15:29:20](#nuwbVpijEYrI6Jv3y6aGbJO8piN5Fy6Wy9wbnbgUsEo) <greggirwin (Gregg Irwin)>:
Another good ticket. Something a static analyzer could also catch. 

[18:12:14](#pHUWMANTFRa-AFF9qAGAJpOQIkoItKbeQH5PCUlpPBI) <hiiamboris (NOT THIS ONE)>:
known

[18:12:15](#oYcGcJauFAh6gqMVwB9bR_I8167-ZpQAqD79q3BbXt8) <hiiamboris (NOT THIS ONE)>:
https://github.com/red/red/issues/4323

[19:13:36](#vWrU1sj1_woD6YwpRYMYvtfbyjRyV_Zd0d25I90KHSU) <greggirwin (Gregg Irwin)>:
Thanks. :+1:

## 30-Jul-2021

[12:52:49](#bgJD1lfHoUYTkxCBmmup85x5bBnjHKhTNCVoBmOuCgw) <toomasv>:
`clip <shape> <commands>` seems not to work, or is it just me?
Should it show clipped region with e.g.
```
view [box 200x200 beige draw [
   clip [move 10x10 line 100x10 100x50 10x50 close] 
         [fill-pen gold box 10x10 198x198]]]
```

[12:52:54](#I8eEOn9T3Tg0QgcZXuuU0qjyL4BvXPTNtgRc_Ctu0tc) <toomasv>:
* `clip <shape> <commands>` seems not to work, or is it just me?
Should it show clipped region with e.g.
```
view [box 200x200 beige draw [
   clip [move 10x10 line 100x10 100x50 10x50 close] 
        [fill-pen gold box 10x10 198x198]]]
```

[12:53:26](#3AZyr_vnf959_E24ybQ6_kIOOaZTsMJSdSrhS8qDkro) <toomasv>:
* `clip <shape> <commands>` seems not to work, or is it just me?
Should it show clipped region with e.g.
```
view [box 200x200 beige draw [
   clip [move 10x10 line 100x10 100x50 10x50 close] 
        [fill-pen gold box 10x10 198x198]]]
```
?

[13:10:43](#w4jN561z5AuQPoHMrjUQf0n-4I6j_Al6YsPUeN09oag) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Isn't clipping supposed to work only with rectangular areas?

[13:11:42](#boPer5wdHOXo55h6PItGW1TDL6wo_W-m6pnundSVuNo) <toomasv>:
Docs allow two forms: by rectangular area and by shape commands. Rectangular works.

[13:12:08](#hiMWHVtBzXk-X5vIl8AGntSTRIFMT-DujDP4WUF2Qd8) <hiiamboris (NOT THIS ONE)>:
D2D regression. Worth reporting

[13:12:10](#_0d0LwMoHakieLAu8B7Dmoj4GwJMvVJbqPc43lafgJA) <toomasv>:
* [Docs](https://github.com/red/docs/blob/master/en/draw.adoc#228-clip) allow two forms: by rectangular area and by shape commands. Rectangular works.

[13:13:18](#KpA6K3zaYxD5ujr7Yx3Rb7cAwAWp3hHaqrbvNh3QzYY) <hiiamboris (NOT THIS ONE)>:
* D2D regression (Windows only). Worth reporting

[13:23:22](#HhwYuhBjFOsN89P_UCtPtuJbyEhVFXUailtVDGNYqNU) <toomasv>:
OK https://github.com/red/red/issues/4939

[13:23:32](#seuAZKTGhyMJ4JlSshDAI-BFUvQshx2QSv55avLJdWs) <toomasv>:
* Ok, thanks https://github.com/red/red/issues/4939

[17:35:39](#zCR8CgklqA43DnO33G9oma15mU2JHrXVtW6NEaImOto) <greggirwin (Gregg Irwin)>:
Good catch @toomasv. Thanks for confirming it's a regression @hiiamboris.

## 17-Aug-2021

[13:06:13](#RMXg0cN0SvZ8_Zm2Amw7O_9k2fLh7xBcaDSvZpKBxbM) <zwortex (zwortex)>:
Mold on a multi-line block add a new line character at the end. Don't see why it should.

```
a: [ 1 
2]
new-line? tail a ;= false as you would expect
mold a ;= "[1 ^/    2^/]"
```

[13:12:03](#7_GfW4dwbCBgQCgHRZHjfbbBDMYtLBQHE7SHANlCFTY) <hiiamboris (NOT THIS ONE)>:
```
>> new-line? load "[^/]"
== false
```
New-line markers use value cells. If block has 1 value in it, it can only have 1 marker (though output contains N+1 new-line chars).

[13:12:37](#O6yxmN7n_-1hsI1b3_Nw88OELTaAXknI7m7Rk5iSbQU) <hiiamboris (NOT THIS ONE)>:
By convention, each value slot defines a marker *before* it. So `tail` marker is undefined and has to be deduced.

[13:13:18](#uKuEw_6jFLphm14SH_1nJRLU6Ar9pmTLuZXY-ExS2yM) <hiiamboris (NOT THIS ONE)>:
Current behavior I think is optimized for columnar output:
```
>> load "[^/1 2^/3 4]"
== [
    1 2 
    3 4
]
```

[13:16:13](#GF9z9Oh22rpztggKYSQp03zHOXu4pSPERVrlCbrbC04) <hiiamboris (NOT THIS ONE)>:
* ```
>> new-line? load "[^/]"
== false
```
New-line markers use value cells. If block has N=1 value in it, it can only have 1 marker (though output contains N+1 new-line chars).

[13:43:29](#omQUS3Wj-ZwsDCgR2Q9LWY1Bntm-KVHro1ZsL72Yog8) <zwortex (zwortex)>:
ok for the missing slot where to put the last newline marker. My sense of symmetry however would have dictated a different inference rule : match it with the first newline marker. I guess the reason it does not is that it is applying code style rule, and puts the closing bracket after a newline. That's fine.

```
a: [
1
2]
trim mold a ;= "[^/1^/2^/]"

; but
a: [1
2]
trim mold a ;= "[1^/2]" rather than "[1^/2^/]"
``` 

[13:50:18](#SQugw2t-nCuPpIfqb8RsocAxc49HykqNL1ModZcNZhk) <hiiamboris (NOT THIS ONE)>:
Let's take a step back. Why would you even want such badly formatted output?

[13:57:46](#MygqwNGqlqRYxST9L24-MHTDSPwH4UuggbjVuGE_gek) <zwortex (zwortex)>:
Good question. No answer.

[15:55:17](#SG281hmzmEXt9b9E6x9uAfmKQOMluIOzwH5XQCbkGpA) <greggirwin (Gregg Irwin)>:
It's one of those interesting and subtle design points that works really well most of the time. :^)

## 24-Aug-2021

[3:35:17](#fT88BPP3kjzgFkjZ_CmlLJrhbc5qyghoOxHgFDZibqY) <cjohnson318 (Connor Johnson)>:
Hi, I'm having trouble running the mac OS binary. I get the following error:
```
unable to execute ./red-064: Bad CPU type in executable
```

[3:35:52](#Tu8zRlz616WDBqbwtVrmCe61shH_mVc5FnhBVsEifd0) <cjohnson318 (Connor Johnson)>:
* Hi, I'm having trouble running the mac OS binary. I get the following error:
```
unable to execute ./red-064: Bad CPU type in executable
```
I'm running Big Sur 11.5.2. Thanks!

[3:51:10](#TzVKOKE7sG0aai85Dtxr_Lad9p_qAvEyjkaypqUj2KQ) <greggirwin (Gregg Irwin)>:
Red is 32-bit only at this time. Use a VM or Docker in the meantime. We have notes on that if you them.

[3:55:48](#ML4By7xoSjV5rDJ8Dhn_HglLrB9A0DupeTqYbQ6U_sU) <cjohnson318 (Connor Johnson)>:
Okay, I'll try using Docker. Thanks @greggirwin !

## 31-Aug-2021

[11:19:27](#6ZFpUyrFGTlWl6YDwPiV7o4_G0xBt6MetvnwsOpKAQs) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Is it ok, that `find` accepts _binary_ target, but `parse` not?
```red
>> find "a" #{61}
== "a"
>> parse "a" [#{61}]
== false
```

[15:06:02](#LkQhJaHENIyDWCuYiv0S8A0tyambHC0hVNdKgnb4nz8) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Also... if there is:
```red
>> find/reverse tail %foo.x %.x
== %.x
```
wouldn't it be logical to have:
```
>> find/reverse/match tail %foo.x %.x
== %.x ;<--- and not none as it is now?
```

[15:37:19](#peT35SJlPq8knqp6mdIoMFV4RtPftvYZCzdONbVZMg0) <hiiamboris (NOT THIS ONE)>:
https://github.com/red/red/issues/3609 https://github.com/red/red/issues/3339 

[15:41:20](#fT0cWgATtUllsIJdv-GqUd6s3_ZRiviETq8RhdIkLFw) <hiiamboris (NOT THIS ONE)>:
I also think it's logical and straightforward.

[15:41:30](#IAsQ5FSLZkEnIfY5fODROpyrUAgsO3mARSrIMdlHoxY) <hiiamboris (NOT THIS ONE)>:
And consistent.

[17:41:56](#7lgR_nTXskhBciz6hF7Iio0dTqauIZpltoPgZlLlgl8) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
There is also this incompatibility with Rebol2:
```red
>> index? find/reverse/last skip "2222" 2 #"2"
== 4
```

[17:42:13](#jcOK4DOuOCGLoDnhpNu_Btjj3rNWprqNFTxH2YUxeHQ) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* There is also this incompatibility with Rebol2:
```red
>> index? find/reverse/last skip "2222" 2 #"2"
== 4 ;<--- is 2 in Rebol2
```

[18:38:36](#2y5x8Nz1YAD9Ym3RSYN2qDES9250E3i_-9nEXcJnb-Y) <greggirwin (Gregg Irwin)>:
On `parse` with binary target against a string, if there's not a ticket, please open one. We should either allow it or doc why we don't.

[18:42:18](#LLL60iY_E7nxn7Y_n-idsyXzIl8ICR0ichlHIRCK6Qw) <hiiamboris (NOT THIS ONE)>:
`2` doesn't make any sense

[18:43:59](#OHR1xto6aIqnKnWcEFBx-hdzPMoJRP_Y8u6FfmxVd6I) <greggirwin (Gregg Irwin)>:
On `find/reverse` the question for me is not compatibility but expected behavior. Should we go past the head of an offset series reference? I think Red does the right thing here. For example, this seem surprising, doesn't it?
```
>> str: skip "1234.2.." 2
== "34.2.."
>> find/reverse/last str #"2"
== "234.2.."
```

[18:50:28](#i-JxHjzxGjbfdusKqGXzKyiFniizINubxiuGxScpeZE) <hiiamboris (NOT THIS ONE)>:
I think it should error out on `/last/reverse`

[18:50:36](#8fRpgjD0O6E0z9qfTa6al3Gt3F5K-oFuneTwnU3PMmY) <hiiamboris (NOT THIS ONE)>:
```
     /last        => Find the last occurrence of value, from the tail.
     /reverse     => Find the last occurrence of value, from the current index.
```

[18:50:52](#Uxta-tNTGRvpW_BjvTnnB_SEAlAOlPpdrASbyFcoXZE) <hiiamboris (NOT THIS ONE)>:
Mutually exclusive options

[18:51:38](#m7HGyyrt_HoO0FrGW7VIK2XzHaoC2d2CCui4dIkPJ2o) <hiiamboris (NOT THIS ONE)>:
https://camo.githubusercontent.com/33f774ecd293642c68c196a23b9e1e98f592bb238c8f0d67a988773f0fd845d5/68747470733a2f2f692e6779617a6f2e636f6d2f33663062323863366662303036323338633239663131366161353931303164362e706e67

[18:52:03](#HFMI734d1q833Bk8pjOogbP3xQlyL3nbbczSVcEMWFY) <hiiamboris (NOT THIS ONE)>:
* ![](https://camo.githubusercontent.com/33f774ecd293642c68c196a23b9e1e98f592bb238c8f0d67a988773f0fd845d5/68747470733a2f2f692e6779617a6f2e636f6d2f33663062323863366662303036323338633239663131366161353931303164362e706e67)

[18:52:45](#anlYqKKR-3QqpsNjJg2YrcSmgx0ewzhTMpaeyTDSm2k) <greggirwin (Gregg Irwin)>:
Thanks for the reminder on that. :+1:

[19:30:24](#L50wTiXtt5jE3b5dJHGNk9jv3DmPR8FqL3tj9gZIw3Q) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
@greggirwin actually [Red is ignoring `/reverse` when `/last` is used](https://github.com/red/red/blob/19a74defb8260f2807305261af31ecbf3a674a18/runtime/datatypes/string.reds#L2071-L2090)

[19:33:08](#dr2dWOmMepAtfOUs2G6cZyHJW90gkOLz5bbaRRW1zzc) <greggirwin (Gregg Irwin)>:
Ah, yes. So @hiiamboris' point is the one to take.

## 1-Sep-2021

[10:12:05](#vq8dBpHCtyt8C96ci4BntLMSK2JUMymmxQltaEjcGNM) <ldci (FranÃ§ois Jouen)>:
Ah, yes. So @hiiamboris' point is the one to take.

## 6-Sep-2021

[23:08:23](#CgXZ7TKmdkVEIeQGrrqHKtvO8XD84JKkaN33HB5gTQw) <cjglo (Chris J Gallo)>:
I believe I found a bug for Red/System.  

Made a simple file to read from using the simple-io-minimal.reds, however it will read out part or the whole file totally depending on if I declare a variable right before print.

file reading from: (named 'test')
```
This is a test file
that can be used
to test grep
```

.reds file version 1 (that prints part of file)
```
Red/System [
    Title: "Testing stuff out"
]

#include %./lib/simple-io.reds ; simple-io-minimal (from red/code)


if system/args-count < 2 [
    print "Error: No file listed to check"
    quit 1 
]
fileName: system/args-list + 1 ; So I am incrementing pointer to get second cli arg (file name)


filePtr: simple-io/open-file fileName/item simple-io/RIO_READ no ; openning file by dereferencing the ptr to the command line arg (Along setting it to read mode)
buffer: declare pointer! [byte!] ; this declares a pointer 

file: simple-io/read-data filePtr buffer simple-io/file-size? filePtr


i: 0  ; <-- This is the line that affects it

print file   => outputs "st file
                                              that can be used
                                              to test grep"

```

.reds file version 2 (that prints whole file)
```
Red/System [
    Title: "Testing stuff out"
]

#include %./lib/simple-io.reds ; simple-io-minimal (from red/code)


if system/args-count < 2 [
    print "Error: No file listed to check"
    quit 1 
]
fileName: system/args-list + 1 ; So I am incrementing pointer to get second cli arg (file name)


filePtr: simple-io/open-file fileName/item simple-io/RIO_READ no ; openning file by dereferencing the ptr to the command line arg (Along setting it to read mode)
buffer: declare pointer! [byte!] ; this declares a pointer 

file: simple-io/read-data filePtr buffer simple-io/file-size? filePtr


; i: 0   <--- this line is now commented out

print file    => outputs "a test file
                                               that can be used
                                               to test grep"
```


[23:09:14](#ZgA-ZAo1FSYGdUj5fjmHrRpjESIfAJSNam6v7nBJWhI) <cjglo (Chris J Gallo)>:
* I believe I found a bug for Red/System.  

Made a simple file to read from using the simple-io-minimal.reds, however it will read out part or the whole file totally depending on if I declare a variable right before print.

file reading from: (named 'test')
```
This is a test file
that can be used
to test grep
```

.reds file version 1 (that prints part of file)
```
Red/System [
    Title: "Testing stuff out"
]

#include %./lib/simple-io.reds ; simple-io-minimal (from red/code)


if system/args-count < 2 [
    print "Error: No file listed to check"
    quit 1 
]
fileName: system/args-list + 1 ; So I am incrementing pointer to get second cli arg (file name)


filePtr: simple-io/open-file fileName/item simple-io/RIO_READ no ; openning file by dereferencing the ptr to the command line arg (Along setting it to read mode)
buffer: declare pointer! [byte!] ; this declares a pointer 

file: simple-io/read-data filePtr buffer simple-io/file-size? filePtr


i: 0  ; <-- This is the line that affects it

print file   => outputs "st file
that can be used
to test grep"

```

.reds file version 2 (that prints whole file)
```
Red/System [
    Title: "Testing stuff out"
]

#include %./lib/simple-io.reds ; simple-io-minimal (from red/code)


if system/args-count < 2 [
    print "Error: No file listed to check"
    quit 1 
]
fileName: system/args-list + 1 ; So I am incrementing pointer to get second cli arg (file name)


filePtr: simple-io/open-file fileName/item simple-io/RIO_READ no ; openning file by dereferencing the ptr to the command line arg (Along setting it to read mode)
buffer: declare pointer! [byte!] ; this declares a pointer 

file: simple-io/read-data filePtr buffer simple-io/file-size? filePtr


; i: 0   <--- this line is now commented out

print file    => outputs "a test file
that can be used
to test grep"
```


[23:09:38](#fVLrwqJuimOB3evFCup0MXbxRJnO3Kv6bMcPeNgQcXg) <cjglo (Chris J Gallo)>:
* I believe I found a bug for Red/System.  

Made a simple file to read from using the simple-io-minimal.reds, however it will read out part or the whole file totally depending on if I declare a variable right before print.

file reading from: (named 'test')
```
This is a test file
that can be used
to test grep
```

.reds file version 1 (that prints part of file)
```
Red/System [
    Title: "Testing stuff out"
]

#include %./lib/simple-io.reds ; simple-io-minimal (from red/code)


if system/args-count < 2 [
    print "Error: No file listed to check"
    quit 1 
]
fileName: system/args-list + 1 ; So I am incrementing pointer to get second cli arg (file name)


filePtr: simple-io/open-file fileName/item simple-io/RIO_READ no ; openning file by dereferencing the ptr to the command line arg (Along setting it to read mode)
buffer: declare pointer! [byte!] ; this declares a pointer 

file: simple-io/read-data filePtr buffer simple-io/file-size? filePtr


i: 0  ; <-- This is the line that affects it

print file   => outputs "st file
    that can be used
    to test grep"

```

.reds file version 2 (that prints whole file)
```
Red/System [
    Title: "Testing stuff out"
]

#include %./lib/simple-io.reds ; simple-io-minimal (from red/code)


if system/args-count < 2 [
    print "Error: No file listed to check"
    quit 1 
]
fileName: system/args-list + 1 ; So I am incrementing pointer to get second cli arg (file name)


filePtr: simple-io/open-file fileName/item simple-io/RIO_READ no ; openning file by dereferencing the ptr to the command line arg (Along setting it to read mode)
buffer: declare pointer! [byte!] ; this declares a pointer 

file: simple-io/read-data filePtr buffer simple-io/file-size? filePtr


; i: 0   <--- this line is now commented out

print file    => outputs "a test file
    that can be used
    to test grep"
```


## 7-Sep-2021

[8:07:39](#i0WAlrcuMHUbhlizNEzsIuEg_CUSGRa4_-7omtA2ZmM) <hiiamboris (NOT THIS ONE)>:
you should be printing `buffer`, not the random non-zero value which it returns

[22:12:15](#_1UzvL8Ni5iY2mKAKtKjZ12C5O4UGRYXomJYLqggXus) <cjglo (Chris J Gallo)>:
Ahh my mistake, that seems obvious.  Thank you

## 16-Sep-2021

[15:06:00](#dQjSHJSXfHo-g8PDwYPL_BcYP2MuZLafgiNYGMe3TSE) <loziniak (Maciej ÅoziÅ„ski)>:
Hello. Seems #4095 is back, can anyone confirm?

[15:57:52](#l9juyxHmXEVF5xiTQWiqOo41bFctQXRU85NZqmvl1Hc) <loziniak (Maciej ÅoziÅ„ski)>:
It seems to be working only on console compiled from sources:
```
$ echo "Red [] quit/return 1" > ~/issue-4095.red
$ git pull origin master
$ echo 'Rebol [] do/args %red.r "-r -o console-new environment/console/CLI/console.red"' | ./rebol +q -s
$ ./console-new  ~/issue-4095.red; echo $?
1
$ ./red-16sep21-391fe774f ~/issue-4095.red; echo $?
Compiling compression library...
Compiling Red console...
Gtk-Message: 17:37:23.229: Failed to load module "xapp-gtk3-module"
Gtk-Message: 17:37:23.229: Failed to load module "xapp-gtk3-module"
0
```

[16:04:12](#xwVzmR-O0bMfQH0fPN_90IOg6gRYK26gsVcf9884kJU) <hiiamboris (NOT THIS ONE)>:
Why would automatic builds be different?

[16:05:59](#Uaisvw_zl2-AmIeNwckISM3DNWDEKB27BXJQuNgDtvw) <hiiamboris (NOT THIS ONE)>:
I don't think anyone modified the R2 wrapper

[16:08:42](#7SW_R_3JygDaYF7UGEVLzNQSOJAnVmePUtnnzRhvWzI) <hiiamboris (NOT THIS ONE)>:
No one did: https://github.com/red/red/commits/master/red.r

[16:12:13](#L5KwzkXq1UZMdhdNTIFxlRPxZkcqP1aiZ_ScLXQ64PE) <loziniak (Maciej ÅoziÅ„ski)>:
Perhaps it was always like this?

[16:12:37](#ZaTPD2XuXfYu1GWnyda1Z8htBDsOubczIOeosSPAao0) <loziniak (Maciej ÅoziÅ„ski)>:
I tested my PR only on compiled console.

[16:17:24](#SqXTZcOVJhi1E0BBhAxmCls6MbARqzTUgGJVAzg_lRc) <hiiamboris (NOT THIS ONE)>:
Can't reproduce

[16:19:23](#GM-iebQNmFYTFDAis6Kve-H4sWZ2XOQHD8ny8tOAmvE) <hiiamboris (NOT THIS ONE)>:
Ah

[16:19:31](#NtTS_hZkBAecxoab_Uhrj0E-RgL-AC2bMmXnzLZICD8) <hiiamboris (NOT THIS ONE)>:
Sorry, I can. Returns 0 for me too.

[16:21:34](#DEajrlHgfpxW13VGKsZayzcOVtYyzcGb5VW5SNWtHjU) <hiiamboris (NOT THIS ONE)>:
Looks like you fixed it for Mac only í ½í¸‰

[16:22:41](#4sl6_bbN43baNIHYmgjFIXbO3H7tMMt3tcyQZ3I92r8) <hiiamboris (NOT THIS ONE)>:
Nope, that's not it

[16:36:13](#3g8qH0Hxl3Ew_75_rCuzGYGbBE3cb8eGNBG-9-lR0UQ) <hiiamboris (NOT THIS ONE)>:
No idea. Everything looks good.

[16:49:22](#ohlXAX2lcECuj7TBTcADhEsLwQjwZWfc8qr0VKHnaUQ) <loziniak (Maciej ÅoziÅ„ski)>:
I have some idea. Perhaps you [were right](https://gitter.im/red/bugs?at=5dab13094bc69e6b6601b19e) and [I was not](https://github.com/red/red/issues/4095#issuecomment-813979298).

[16:52:15](#q7Rd1PaWZ-88Zj7jxMVoFLYmDSLvt5w_zZsQ99vkVqs) <loziniak (Maciej ÅoziÅ„ski)>:
libc's `system` returns a value of *console* exit code, but [it's not returned](https://github.com/red/red/blob/15b13004d3263ad0a9182be6bcb851b77346f653/red.r#L510) from `red`.

[16:53:33](#PmN9axuN52qFo6ht-vbtx4RIKGwVl90dwkEgiGtfHfU) <hiiamboris (NOT THIS ONE)>:
but why? í ½í¸‰

[16:54:30](#8XSEDF7adZn6l-B_lYMT-9ErWLEkC0ZBeZ2LX9PGyyc) <hiiamboris (NOT THIS ONE)>:
I mean you're referring to a very old build

[16:54:48](#y4D7c2lneMDuTSrgTkGJZpj0uxnc_SLh-LMHy-d_Ir0) <hiiamboris (NOT THIS ONE)>:
in current build it *should* return it AFAIK but *doesn't*

[16:55:07](#B1mXeLv-NWr2PzGJeJ6nULCLgpZWCBY_oUDMpdpkS7A) <loziniak (Maciej ÅoziÅ„ski)>:
ah, indeed. but as you noticed, nobody touched it since :-)

[16:55:38](#fDfPA33ku-BPPFqiECko-UoaJTfE4AM2y6WRi9I7Wm4) <hiiamboris (NOT THIS ONE)>:
* in current build it [*should*](https://github.com/red/red/blob/master/red.r#L520) return it AFAIK but *doesn't*

[16:55:46](#muHuK6BpUDTOi-iO3LSkXoMSS3mRXkgYWGoTYptEqZI) <hiiamboris (NOT THIS ONE)>:
yeah

[16:56:36](#vfJlxtxW1uDDHTrJClAdb3GlZJePeB_bhWVX85pi4xU) <hiiamboris (NOT THIS ONE)>:
well, it looks like some R2 issue to me

[16:56:43](#BCQq49VI3opcsmnOgdsuWIxyP-pO5Hqg3xIG7vg_ZCo) <loziniak (Maciej ÅoziÅ„ski)>:
It seems in Windows `sys-call` and `gui-sys-call` return values are not  consistent.

[16:57:12](#kJbjfBsv-vdPb2yABx-80TKmAV0qkU2iqDN9OfRH8Ks) <loziniak (Maciej ÅoziÅ„ski)>:
perhaps it's the reason they are not handed over.

[16:57:31](#wnPjDe4psyPdiErVUg4rcihm4c19CfR3oe2empmOx6I) <hiiamboris (NOT THIS ONE)>:
but you're on linux

[17:00:27](#r0IUfTBCAWkcjCwjeg1XE7wo7SdtmebYbqbPjLsfWhU) <loziniak (Maciej ÅoziÅ„ski)>:
I'm just guesssing why the code is written like that.

[17:01:54](#L1TE1gYnqO3kj2MmTkreu0b12JWQ-aNossXlI61rLdw) <hiiamboris (NOT THIS ONE)>:
ShellExecute is a mess, I wouldn't bother trying to fix it: https://stackoverflow.com/questions/10896778/how-to-get-return-value-of-an-exe-called-by-shellexecute

[17:03:29](#3RSxxVxte0EQPrcJwkgcK-Il_fXYKVFDuBaaRuX5odI) <hiiamboris (NOT THIS ONE)>:
CLI `red` command returns proper on W10

[17:05:14](#MAuNAVxNfLqtkjJ9B0ibzkfOu9t3sAdOYpzlIBxPrTE) <loziniak (Maciej ÅoziÅ„ski)>:
CLI `red` command returns proper on W10

[17:07:31](#SeJCeE40EGL2g5-u4pC6frahxryL13NbfFTic0qLRXs) <loziniak (Maciej ÅoziÅ„ski)>:
* that is also strange...
(deleted, false accusations haha)

[17:12:06](#zHEVu17S5Mjyh-RJEY64lYe7dlwZe97P2x9GpE6NoN8) <loziniak (Maciej ÅoziÅ„ski)>:
Damn, I indeed was looking at old version. I'm somewhat tired today :-)

[17:42:46](#-R1PfO3zcaPpa-NPqaIwA67X287h4Cx5FXTo1dB1qS8) <loziniak (Maciej ÅoziÅ„ski)>:
Maybe `/return' refinement is present only in v3?

[17:43:10](#_XqA5x7ufulL3NLTw9nwFb3iG0Mt0xZkgup0J6WBLeM) <loziniak (Maciej ÅoziÅ„ski)>:
http://www.rebol.com/docs/words/wquit.html
http://www.rebol.com/r3/docs/functions/quit.html

[17:48:42](#R5SNylI066cPykioTgQmwaRqa5icJYvw3QMvbc_irj4) <loziniak (Maciej ÅoziÅ„ski)>:
* Maybe `/return' refinement is present only in R3?

[17:58:48](#eJI4JCKwVNerNKvk7wR9spyluIVo3lZ1wGWsAE82spA) <hiiamboris (NOT THIS ONE)>:
Nope.

[17:58:51](#0k7-mbTh52NdtGvk4kGXIshzCLstVI9y7YT2PW4Jm_Y) <hiiamboris (NOT THIS ONE)>:
```
>> ? quit
USAGE:
    QUIT /return value

DESCRIPTION:
     Stops evaluation and exits the interpreter.
     QUIT is a native value.

REFINEMENTS:
     /return -- Returns a value (to OS command shell)
         value -- (Type: integer)
```

[17:59:05](#L8_2qG_KfDyrjY2GsxaitDsy4nZqDcGz6xk5DiAFHXE) <hiiamboris (NOT THIS ONE)>:
And I checked and it works (in Ubuntu).

[18:12:53](#pl4XItfa_Ncadw1IPz-WRU8mC9WOkAUjr_Nsw6HQPZw) <loziniak (Maciej ÅoziÅ„ski)>:
Uhm, works in Arch also. It's getting strange indeed.

[18:14:22](#3_HGyQUwcx8nqcBLB9He7UvFSUj_zCKWSepn1QmQvnY) <loziniak (Maciej ÅoziÅ„ski)>:
Perhaps paid/licensed version of Rebol is buggy?

[18:15:05](#D2WSS04SVcThJYq-pVXZ3kAgewYjz-Pxu_BtqRMscvI) <loziniak (Maciej ÅoziÅ„ski)>:
Or something changes when Rebol is embedded inside executable?

[18:22:50](#Y5A11xQRLjxAnMze6aOqFwYxw0ujymYjjCVPsAmxqy8) <hiiamboris (NOT THIS ONE)>:
Or runtime is built with another (buggy) version (I tested on 2.7.8)

[18:22:55](#gqXsU3ZeoZk6lfbAnGGDZ2FUBMox8zP-bR5_5CuFLg0) <loziniak (Maciej ÅoziÅ„ski)>:
Maybe something with automatic builds environment? Someone could try to compile Red toolset binary locally and try to reproduce the bug.

[18:23:30](#UwBXL4SFHmuMgv0LfESkmrT2pRkcuEWwkJcEje5Nru4) <loziniak (Maciej ÅoziÅ„ski)>:
`REBOL/Core 2.7.8.4.3 (6-Jan-2011)` here.

[18:24:05](#Pa12wDXEq9IWsOm_NmtK14gMwT2Udnkh6JmeVKqqdwM) <loziniak (Maciej ÅoziÅ„ski)>:
* I tested on `REBOL/Core 2.7.8.4.3 (6-Jan-2011)`, probably the same one.

[18:24:11](#LvligHVBe57Tn0Y9N3usmoZNmIQJ9TjT_IfqBrWpZKM) <hiiamboris (NOT THIS ONE)>:
lemme try 2.7.6

[18:26:19](#kWJGnoKEWO9WIPlYpBew3yjQ5JjRWo_xIBrXEkHKMvg) <hiiamboris (NOT THIS ONE)>:
actually no, it looks like 2.7.8 is used to build Linux toolchain

[18:29:50](#hT690op_Nov_Z9Gi20za2zlOJdy00J92_OKPPeplM5I) <hiiamboris (NOT THIS ONE)>:
must be an encapper bug, idk what else

## 18-Sep-2021

[21:58:54](#ZnQnxAZN3XrKPZ17R3llA6K2JOFhDzIHq_bV5LUhC_I) <loziniak (Maciej ÅoziÅ„ski)>:
```
>> if 0 = 0 % 10 ["rr"]
*** Script Error: = does not allow logic! for its value1 argument
*** Where: =
*** Stack:  
```
Shouldn't it be `Script Error: % does not allow logic! for its value1 argument`?

[22:12:02](#puEOYSYiuACXJbsWTCNHRSSCED91l7W7cv0dAiRQegc) <hiiamboris (NOT THIS ONE)>:
https://github.com/red/red/issues/4311

[22:13:48](#hkhCyPxE3iqGsvw7bzhyIorFtqnlIOAA3VCnKAcV46Y) <loziniak (Maciej ÅoziÅ„ski)>:
that's it, thanks.

## 19-Sep-2021

[13:55:10](#OhRBYUoME9pVbpoEenF6jSXkX1p8_kjoClE9cuw-vuo) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Is it by design that copy of `error` is an `object`?
```
>> type? copy try [1 / 0]
== object!
```

[17:08:35](#fBL5Hj4mYcdkyLMlZnUVijjCauIcGqj4w0fBuDrWos4) <greggirwin (Gregg Irwin)>:
I will say No. Error inherits `copy` from `object!`, which always sets the type header to `object`. It's the only type that inherits from `object!` currently, but if others are added, we certainly want their type preserved. 

[17:08:53](#7OBWrINUqMcdO2LKU8gW8D7D-BbdzQ7T2JmK0R_KQzA) <greggirwin (Gregg Irwin)>:
* I will say No. Error inherits `copy` from `object!`, which always sets the type header to `object`. It's the only type that inherits from `object!` currently, but if others are added, we certainly want their type preserved. 

Please open a ticket. Good catch. :+1:

## 21-Sep-2021

[12:38:22](#d2dGA54yEN4N7Wg0CRW9_qrlPObP5jTLpbmOvX_SGac) <toomasv>:
Sometime between Sep and Dec 2020 behaviour of `replace` changed:
```
>> replace copy "hi" [any newline end] lf
== "hi^/"
>> about
Red 0.6.4 for Windows built 23-Sep-2020/18:24:34+03:00 commit #add4b06
```
```
>> replace copy "hi" [any newline end] lf
== "hi"
>> about
Red 0.6.4 for Windows built 9-Dec-2020/0:03:34+03:00 commit #98457f4
```

[12:39:17](#R6xLvzg7JiL-yaXLO8JQfYz4Bniy44aC4XDM0GBowbs) <toomasv>:
* Sometime between Sep and Dec 2020 behaviour of `replace` changed:
```
>> replace "hi" [any newline end] lf
== "hi^/"
>> about
Red 0.6.4 for Windows built 23-Sep-2020/18:24:34+03:00 commit #add4b06
```
```
>> replace "hi" [any newline end] lf
== "hi"
>> about
Red 0.6.4 for Windows built 9-Dec-2020/0:03:34+03:00 commit #98457f4
```

[12:40:22](#MBdeSKzpaDqwgqBSLq8BgF6mnB4OfiHCvCloHNyz6B4) <toomasv>:
* Sometime between Sep and Dec 2020 behaviour of `replace` regressed:
```
>> replace "hi" [any newline end] lf
== "hi^/"
>> about
Red 0.6.4 for Windows built 23-Sep-2020/18:24:34+03:00 commit #add4b06
```
```
>> replace "hi" [any newline end] lf
== "hi"
>> about
Red 0.6.4 for Windows built 9-Dec-2020/0:03:34+03:00 commit #98457f4
```

[12:48:05](#Y88-AtIH9Kab4IkvFy-p7AAPfaa2MS6clXGDANyKkc0) <hiiamboris (NOT THIS ONE)>:
Personally I don't think this case should be supported at all. But former behavior is buggy as well: it shouldn't have worked without `/all` refinement.

[12:48:22](#bv_lR5hXNyenxLduFYftAkbrpIjUjoAXZV7GsqxH7B0) <hiiamboris (NOT THIS ONE)>:
* Personally I don't think this case should be supported at all.

[12:48:36](#nrhFfwTzpaw2YPotC4tNf1O0F-_NN-f6sadpL9qcb-M) <toomasv>:
Why not?

[12:50:45](#-rqyg5dXe8NfmCgtJzaZWH5pOKHJF621Rdqy0V43DO4) <hiiamboris (NOT THIS ONE)>:
Well, `end` is a gray area of Parse right now. E.g. if a rule eats full input, it will stop parsing without waiting for your rule to contain `end`:
```
>> parse "ab" [2 skip end (probe "at the end")]
"at the end"
== true
>> parse "ab" [any [2 skip | end (probe "at the end")]]
== true
```

[12:51:14](#9ak5HqhX_FU7CTZ54bnJnDgYKde5qvpY1tDYH-FjaHA) <hiiamboris (NOT THIS ONE)>:
It will match the end position but is not required for Parse to terminate at that position. So little twists in the rule affect it.

[12:51:43](#0LrDU75CEERbLWFZpeewCUrgLihHv9Sal4YUXAzb0tk) <hiiamboris (NOT THIS ONE)>:
Also I think it's an esoteric use case :)

[12:51:54](#wAtTyxpDOMT1QpX8T9s4ByWo8fgPn6YLDXCPgUmPpng) <hiiamboris (NOT THIS ONE)>:
`replace` should expect non-empty rule matches í ½í¸‰

[12:53:38](#YnCEYK1BY1-WnAnVYKV4exkNSbw3NpiK6NEolC-KYcs) <hiiamboris (NOT THIS ONE)>:
I also think `replace` should not be using Parse at all.

[12:54:28](#5OkNwFcz7hfllvzcrYR2mspZzJHm2paC_9lzKSRK_pU) <hiiamboris (NOT THIS ONE)>:
* I also think `replace` should not be using Parse at all, because it makes switches between Parse and non-Parse modes totally unpredictable.

[12:56:12](#o0ovXSURam0sLJsPI-g9w-cndgKrQYLaeR66MfjkD4Y) <hiiamboris (NOT THIS ONE)>:
* It (`end`) will match the end position but is not required for Parse to terminate at that position. So little twists in the rule affect it.

[13:02:40](#dJDeeYhi-X74Of5S1kHZw2ltQrMkMv12-sO8J_DwQwU) <toomasv>:
OK, how would you guarantee, that a string ends with single newline (allowing other whitespaces before it)?

[13:12:41](#10ftQ7YOra7VPAkck8gQsid3jfO7V4fYigVN6JbDeOQ) <hiiamboris (NOT THIS ONE)>:
hmm smth like `append trim/tail/lines "hi^/^/" lf`?

[13:15:08](#ggAiS2qMyyHu9kApjWnNZSv77-MEZX-W2WUcWjJPOcU) <toomasv>:
Nope:
```
>> append trim/tail/lines "hi^/ho" lf
== "hi ho^/"
```

[13:17:38](#cftexPDfV97KYpTVoEUIQ9W8KiAuUqpxE2G2ilEKtsc) <hiiamboris (NOT THIS ONE)>:
looks like a bug in `trim` (probably known?)

[13:18:18](#wOwrYYCw7GrxImq_UCsIV3CrJ1WB3hu7cC4i4WeVTgU) <toomasv>:
This works:
```
>> append clear find/last/tail "hi^/ho" n lf
== "hi^/ho^/"
```
but parse rule is simpler

[13:18:46](#to1usD9brOXZJUsKzqtk0zTCJYytFh9ElOAS2Nheh3w) <hiiamboris (NOT THIS ONE)>:
this one will fail if no newlines in the string

[13:18:50](#YatggY6J3ozdmiCBRphIHvkD7UdVZl0gJvy7n0DAdn0) <toomasv>:
* This works:
```
n: charset [not #"^/"]
append clear find/last/tail "hi^/ho" n lf
== "hi^/ho^/"
```
but parse rule is simpler

[13:19:03](#AUAy5z-O0hMgiR9L5f-IGMStmXwuksx45y5YnQpfbaI) <hiiamboris (NOT THIS ONE)>:
* this one will fail if no newlines in the string, no?

[13:19:29](#VN8GaVQ8pdIYSc_pnQbEJWS3JXVgYTSVSY1LOkyoTZs) <hiiamboris (NOT THIS ONE)>:
no, works

[13:22:00](#wQe1moKlOh1dxo3GvZ2qWQIzPnknz4NJlnPuzmkJ5eU) <hiiamboris (NOT THIS ONE)>:
`parse s: "hi^/ho" [to [change [any lf end] lf]] s` if you could care less about performance

[13:23:04](#gkR8ZEV2c7HCOvgQpOPtABQtQc3YC0gyMpNFGlkHI2M) <hiiamboris (NOT THIS ONE)>:
but it's better to fix `trim` :)

[13:23:48](#jjIjHfHY_2KMwUlYmwFyILCnE6Fu7Xzh--ThiZTZiGQ) <toomasv>:
I don't think it is bug:
```
? trim
...
/lines       => Removes all line breaks and extra spaces.
```

[13:24:16](#tFsB69i_BZU8Of10vY18HFWpQPUZPA5wy3h2m1kFJwc) <hiiamboris (NOT THIS ONE)>:
Then a design flaw í ½í¸‰

[13:25:13](#LzCxQZ5U_HT0yAm_IA6NxA3OOKahoQGgNAnKLDuWyiQ) <hiiamboris (NOT THIS ONE)>:
* Then a design flaw ;) Or documentation flaw..

[13:25:21](#XjWvFkXaryno-QZbyB4pFrVfYrc0tcKDQXIxZaeqfnM) <toomasv>:
Could have used `/with`, but:
```
/with        => Same as /all, but removes characters in 'str'.
```

[13:25:52](#w0BTyHNTtIQAy5F4g1hWuQ1pr6zM9RzzO34zw09Attk) <hiiamboris (NOT THIS ONE)>:
```
>> append trim/tail "hi^/ho" lf
== "hi^/ho^/"
```

[13:26:16](#OmohAUV6x3tgk4PMUrjz7-ZjyViIH3zxNNq-WssDokg) <hiiamboris (NOT THIS ONE)>:
no need for /lines in current version, which goes against the docstring "Removes space from a string or NONE from a block."

[13:26:57](#ylCA7fNE9FJzlA_mTVM-7sJanb3cInr2jdDOSqBgZas) <toomasv>:
Nice try :) 
```
>> append trim/tail "hi^/ho   " lf
== "hi^/ho^/"
>> append clear find/last/tail "hi^/ho   " n lf
== "hi^/ho   ^/"
```

[13:27:38](#42DA_PDzxAdTMhLdvNrYw76aIUwfdoUpi1nIle2xGcg) <hiiamboris (NOT THIS ONE)>:
You get trimming of dangling spaces for free í ½í¸‰

[13:28:16](#HaNTrT0JZahaI_AabOzU_C_ADL5e57CetBQsrUT_S6k) <toomasv>:
Well, as said above "allowing other whitespaces" before final newline.

[13:29:01](#_YrhCbD39yKBjEXWV_gWdZcCu-KhqrL8gKqV1JD0OgM) <hiiamboris (NOT THIS ONE)>:
OK then `find` is the correct and fast solution

[13:30:30](#w030AMWwMl4ahKLL_ZPDwAiMkYNdfadn9_yVqtEmw90) <toomasv>:
Still, I think as long as parse rules are supported in `replace` this looks like a regression.

[13:31:04](#c0WX9osTJd4qFA08QFFgxlTpxt3qgJXC1dHfpmdmvmE) <hiiamboris (NOT THIS ONE)>:
Question is should we pursue such esoteric cases in design?

[13:32:07](#q2CYqGHawTJAlTOsoypjzByCJ8j7KgQ3hAtFuMoB8ZM) <hiiamboris (NOT THIS ONE)>:
What's the win?

[13:32:25](#Pr7gA7X_0OBcybrDjVdLirEeRwE2SdmMB-HTQopXdU8) <toomasv>:
But this is normal, valid parse rule. Why esoteric?

[13:33:08](#v9onDTChdcxaQx4gtVYSIRFGjElZ6fDmQbIWa5Ag-JU) <toomasv>:
Why some rules should not work?

[13:36:27](#WmQWJOU-gJ2qTsDbbLp8TA2NGnfHW2_zVSQXgLLABCw) <hiiamboris (NOT THIS ONE)>:
Because you're replacing an empty match and behavior starts depending on layout of rules. It's more important for `replace` not to contain any hidden gotchas and be predictable as a hammer than to support edge cases like `end` or `""`


[13:37:54](#5R20jsVqC5v1JV_VMZlOFOchFQA6mCHzrgyDaB9N6Rs) <hiiamboris (NOT THIS ONE)>:
My `mapparse` implementation suffers from this order dependence as well btw:
```
>> mapparse [any lf end] "hi^/" [lf]
== "hi^/"
>> mapparse [any lf end] "hi" [lf]
== "hi"
>> mapparse [any lf end] "hi^/^/" [lf]
== "hi^/"
```

[13:41:45](#ThAkJZJvavkMLAvfryH5vSyYxTx4PfuB9zZxrhiL6jU) <hiiamboris (NOT THIS ONE)>:
```
>> parse "" [any [end (probe "ended") | skip]]
"ended"
== true
>> parse "x" [any [end (probe "ended") | skip]]
== true
```

[13:42:58](#NGI1GU8SGiCR2fpzgwmuMGNdtB9sD2KNs5sPsu8HJlU) <hiiamboris (NOT THIS ONE)>:
To "fix" this we would need to slow down Parse by asking it to do another iteration of `any`/`some` loops when it sees the end of input. We need solid arguments to do that.

[13:45:23](#zD3fklSdtRlYtlQM3HGSQTIk9gTgSP5ZP6siIa9EPcI) <hiiamboris (NOT THIS ONE)>:
* To "fix" this we would need to slow down Parse by asking it to do another iteration of `any`/`some` loops when it sees the end of input. We need solid arguments to justify that.

[13:50:44](#H7suBt4EvZbE3ctvH3YT5DXCoclzDBpsfnS4niTJ-FE) <toomasv>:
Could have been written
```
>> parse "x" [any [not end skip] end (probe "ended")]
"ended"
== true
```

[14:02:47](#KOH-nBFVl8QxdWBl7HEhHaxP3tHh3CmXwc-mVkMbeuU) <hiiamboris (NOT THIS ONE)>:
My point is, relying on the order of rules inside `replace` (which is not defined) will not make your code robust and long-living í ½í¸‰

[14:08:48](#GsnSeA805PwFUb5shcG1FAgGsBC0IdgwMIbIhC0e01o) <toomasv>:
PEG parser rules are inherently order-dependent. Excluding some specific cases of order does not make it order-independent. But ok ...

[17:43:21](#_g7c8mWxFFi_B3bHfdK7Hw0Nn3j_l2mEAhF3v6nEx5g) <greggirwin (Gregg Irwin)>:
As I read this, I had the same thought as @toomasv about PEG parsers. Order matters. No way around that.

`End` in `parse` is a separate issue from using `parse` rules in `replace`. If `end` needs clarification, or design changes, we should absolutely address that. 

When it comes to predictability, that applies to everything in Red. It doesn't mean we'll succeed 100% in all cases, so if things don't just work as you expected them to, or guessed at while quickly writing a piece of code, the next line of design defense is that we explain it, and our explanation makes sense. That also doesn't mean things are perfect. There will be edge cases that people choose to avoid, which is perfectly OK. I tend to prefer plain, obvious code myself...when reading others'. :^)

`Replace` is an ignorant accomplice when it comes to the use of `parse` within it. That is, it is not going to analyze the rule it was given to see if it makes sense. We can and should write tools to help people play, test, and understand it though. If someone then chooses to use `end` in their rule, that's up to them. A general `bad-parse-rule` analyzer would be great (as part of a general static analyzer). 

That said, if there *isn't* a good reason to support `parse` rules in `replace`, we shouldn't. ?? replace

[17:43:25](#6FjPZFQEVmYBoLvI4GuATFKp_hRWOsbFrtyr8cTkHF0) <greggirwin (Gregg Irwin)>:
* As I read this, I had the same thought as @toomasv about PEG parsers. Order matters. No way around that.

`End` in `parse` is a separate issue from using `parse` rules in `replace`. If `end` needs clarification, or design changes, we should absolutely address that. 

When it comes to predictability, that applies to everything in Red. It doesn't mean we'll succeed 100% in all cases, so if things don't just work as you expected them to, or guessed at while quickly writing a piece of code, the next line of design defense is that we explain it, and our explanation makes sense. That also doesn't mean things are perfect. There will be edge cases that people choose to avoid, which is perfectly OK. I tend to prefer plain, obvious code myself...when reading others'. :^)

`Replace` is an ignorant accomplice when it comes to the use of `parse` within it. That is, it is not going to analyze the rule it was given to see if it makes sense. We can and should write tools to help people play, test, and understand it though. If someone then chooses to use `end` in their rule, that's up to them. A general `bad-parse-rule` analyzer would be great (as part of a general static analyzer). 

That said, if there *isn't* a good reason to support `parse` rules in `replace`, we shouldn't.

[17:49:58](#9TCwZwhtzr49dWR9ZMIHl3a6X67Tg5ysZX0VHC1r_nc) <greggirwin (Gregg Irwin)>:
`Replace`'s code is not easy to understand at a glance. (Let's at least refactor it to remove `also series either parse? ...`, which a great way to hide an exit point and obfuscate the result in a function. Maybe I should start a "worst practices" wiki page to vent my opinions. ;^)

It's also a bit tricky, because we don't have larger docs for funcs like this, to clarify how refinements interact with `parse` rules. That is, you're not *really* writing a generic parse rule, but one that works in the context of those refinements. That should be made clear.

## 24-Sep-2021

[14:30:03](#tKt9I10ruGUHJJ9zFqTvLY3rHMK8wMwuUYP-D3HQJDg) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
This seems to be quite inconsistent:
```red
>> foreach a [w 'w :w w: /w] [print to tag! :a]
<w>
<w>
<w>
<w>
</w>
```

[15:40:54](#9AkCVHt1grS9bDaXNB6BUuQETwQ8-0ZoZXZGW19DoSM) <hiiamboris (NOT THIS ONE)>:
but it makes sense

[15:44:26](#WOjsh7m1MM1B8wjej3yzaDy8u75r_F3X2yd5ZHyjzM4) <hiiamboris (NOT THIS ONE)>:
though the less special cases of dubious usefulness we have, the better

[16:28:22](#GGb7gMNOW1c1NKE8caimdezQ4Wrfq8cwcaLsaIWWjyY) <rebolek (Boleslav BÅ™ezovskÃ½)>:
I think that turning `refinement!` into closing tag is not a bad thing.

[16:29:47](#H4S7b0EzG39V0K6Oqwe7nCdo5v04oQoKiQFD768e7_w) <hiiamboris (NOT THIS ONE)>:
but can you imagine anyone doing `to tag! /em` to get a closing tag?

[16:30:20](#BPVFim6KXP8f_wjWD_lt_NH3MyUTJh-E_iUsViad_xY) <hiiamboris (NOT THIS ONE)>:
well maybe in some dialect..

[16:31:10](#saS2BZPCp8OdRQo4mPked0v_JOy9zZZyv7PAxM1ZhIw) <rebolek (Boleslav BÅ™ezovskÃ½)>:
Yup, exactly.

[17:54:55](#TQTW2mVdAkhF35BuAT71yBjQ_dk7kS5OI3I-rA64_7I) <greggirwin (Gregg Irwin)>:
It's by design. `to ref!` also keeps the sigil.

Agreed on dialect use.

## 30-Sep-2021

[12:49:18](#AnTQ7sbPbSiBZ_nYYOIvN5WHJAZCBY-mwnY2qZTO458) <loziniak (Maciej ÅoziÅ„ski)>:
Invalid `map!` make console quit:
```
>> #(x: 44)
== #(
    x: 44
)
>> #(x: 44 'test)
*** Script Error: invalid argument: (x: 44 'test)
*** Where: transcode
*** Stack: 
[maciek@laptop ~]$ 
```

[13:57:43](#rkSItNTw7ixq4d1olffeddmI-tH8_IeB-2Dtt18GO5I) <hiiamboris (NOT THIS ONE)>:
Make a ticket í ½í¸‰

[13:58:43](#Wq56zHtkxLCTccwOXM1hyDXsg-GcGvp0QYUPJXUHZ-c) <hiiamboris (NOT THIS ONE)>:
Some recent regression.

## 10-Oct-2021

[23:31:04](#acjLRXI1jwiG0swOSaPksk0wXDZIHs5L0IaA9qA1ivc) <gltewalt (Greg T)>:
`read-clipboard` has Runtime Error Access Violation if no data has previously been written to clipboard

[23:35:28](#Yzp3NHApYSBhCQbvPw3Oy0JothVfQtUdnPaBro3Ibk4) <greggirwin (Gregg Irwin)>:
Worth a ticket if we don't have one already.

[23:35:40](#Bg5kJ-AaV959uMamVamWcygeYaLNoQeuuvDSUYJKVw4) <gltewalt (Greg T)>:
With a new console session, if there's data in clipboard from a user copying something with the keyboard, then it's fine.
Otherwise -
Data has to be first written to the clipboard with `write-clipboard`, or a user has to have copied something previous to the new session 

[23:38:21](#gCDIxI0vgrWeU9Mc_7-OpW15k-mGbCUlFMB0ZOp7VWk) <gltewalt (Greg T)>:
clipboard-test.red should have caught this?

[23:45:29](#MXeZ-ed_ZwLmsSM6joGKwRfLOv1xWlraDkdwdMcCRAk) <gltewalt (Greg T)>:
Suspect it is only Linux. `gdk`

## 13-Oct-2021

[10:26:25](#Rwk8cdKZ26Z3mPju0fpN0i4fmO36kKST6y1ktjSJDTg) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
This is strange:
```
>> to-red-file "//"
== %/none
```

[10:26:54](#bpuGlMFpHR-n4xakNTDE_c39Vd5l7nlJkuEYq9gsLlg) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* This is strange (on Windows):
```
>> to-red-file "//"
== %/none
>> to-red-file "\\"
== %/none
```

[10:27:55](#LI_wj_SNdqYlB2vBmqLKPXCj9g02J02_ueMNhQfCla0) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* This is strange (on Windows):
```
>> to-red-file "//"
== %/none
>> to-red-file "\\"
== %/none
```
`%//` should be root of the current logical drive

[10:41:29](#Buwdxt5fCDbJg0KI93malYWPoVy9LOky2T_-ho9DLGY) <hiiamboris (NOT THIS ONE)>:
looks like a bug

[10:41:49](#VBB_vICh8OpKMtr5lG2pbwT3YcWIUN59hkNMCt5_Zcc) <hiiamboris (NOT THIS ONE)>:
* looks like a bug (`none` thing)

[10:42:11](#FTm1RaezelKxR0teJCxeYSnPe3b8ZoNXufQb0G0qSBc) <hiiamboris (NOT THIS ONE)>:
but `\\` is UNC path start actually

[18:43:17](#tvz2qIH9uuplK9kkoOs3o_BxHyNxz9UWaMyywjwJwZo) <greggirwin (Gregg Irwin)>:
Definitely a bug, but also an indication that we should clearly spec the expected behavior.

## 14-Oct-2021

[19:47:11](#bxixJcdxGbrTwPMAcrsp7IUe3N7iN3L_w4PSNF4vXHg) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
@hiiamboris you are right and it looks, that it works in full path case:
```
>> to-red-file "\\machine\shareName\msvcSrc\crt\headerFiles\stdlib.h"
== %/machine/shareName/msvcSrc/crt/headerFiles/stdlib.h
```

[20:01:04](#2WDQm53N5B3R2WC-UVtVVHDj2jYYtc9FW1U7nygKBDE) <hiiamboris (NOT THIS ONE)>:
I would represent them as `%//machine/shareName..` instead in Red. What if `machine`=`c` or `d`?

[20:01:43](#m_eoZoFYCNY8Na0oqkJwwVpFw6d-bl2sYA9LPqApiCg) <hiiamboris (NOT THIS ONE)>:
* I would represent them as `%//machine/shareName..` instead in Red. What if `machine`=`c` or `d` or any letter?

[20:12:55](#v0W-qsakeNU2972VjfqkE-7poUhEDOIl3sgqdPYo3K8) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Is it allowed?

[20:17:07](#tIbOZp2ie02xsR0AEyolEvF5EvEc1lps4wP8WIx2FWs) <hiiamboris (NOT THIS ONE)>:
I don't see why it shouldn't be

[20:20:06](#sfTCDlWdQJJ1MJhA67YLSiC-u05E4SwFK_F1-Fq2vrM) <greggirwin (Gregg Irwin)>:
I agree with @hiiamboris that a UNC path should map to a UNC equivalent. I've never tried it with a machine name matching a drive letter, but the OS file system should handle the rest for us. In a UNC scenario, the driver letter is not the real drive letter, but a share name which maps to a dir (which may be a drive's root). So if you have %//c/c/c/c/c.txt it should work. to read %c/c/c.txt on a given machine and share.

[20:21:15](#AEgVRPAKUldwfmDKNPv6yJ783_Zkb06KjES3jZBzB2g) <greggirwin (Gregg Irwin)>:
However, R2 didn't distinguish UNC paths, and I know (because I used it a lot), that it all worked.

[20:22:51](#XgBGBUngR-MXmvDXpErH39U948NWD04Xf6J5tAMHx-Q) <greggirwin (Gregg Irwin)>:
So while it might be *nice* to know if it's a mapped share visually, if it means more work internally we have to ask how much value it adds in a world of heterogeneous systems.

[20:23:44](#Fs9LeX6RVmTNXjdAB8TilryqSVL7J5l8Ldqt3GBv3l8) <hiiamboris (NOT THIS ONE)>:
https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-dfsc/149a3039-98ce-491a-9268-2f5ddef08192
1 char is okay

[20:28:00](#gMWcyfRg9Tt5DsstCfM05bIIeBSk5yY4VtXx65Dxavg) <greggirwin (Gregg Irwin)>:
So nothing needs to change, and maybe it shouldn't. 

[20:28:53](#NlyVJ5ATajjacCD7a29Qs-0p9MzfjOej139psk_d_uQ) <hiiamboris (NOT THIS ONE)>:
well, we don't get `//` right now
```
>> to-red-file "\\a\b"
== %/a/b
```
so something need to

[20:29:48](#idpIxIooQiA7fdFlCH4DwzdUDx551a54Lu4K1vsDM2A) <greggirwin (Gregg Irwin)>:
But we don't *need* that. It works as is. The resulting `file!` works correctly to access the share, that's what I'm saying.

[20:31:59](#MzPBqsBIM5N89M2n5t0uTzLhg_VhEC3hoJREkz7-RWg) <hiiamboris (NOT THIS ONE)>:
no it doesn't, it will try to access floppy drive `a:`

[20:42:11](#LyZg5InPZ4fwd_djGjov6_jqcYd9_ibZaRjcEO5ZptE) <greggirwin (Gregg Irwin)>:
OK, file a ticket for it then. But it's a very low priority IMO, not a showstopper. Important to note though, so it's doc'd for users.

[20:44:42](#YCy7Oghuc3vTE8N1Wg5O2teZcwiUr7cRYV74ZWBs6h8) <greggirwin (Gregg Irwin)>:
I don't have a machine on my network called `a` to see if that overrides the floppy. Oh, I don't have a floppy in this machine either. 

## 15-Oct-2021

[4:25:55](#fk5z7aNadsF4jLqg5yYCUI5szqBbBFPqfGEw4zmLTaU) <gltewalt (Greg T)>:
I don't have a machine on my network called `a` to see if that overrides the floppy. Oh, I don't have a floppy in this machine either. 

[4:26:18](#tvR7lO4b36IMBfWbHhNF54klqVt6B5OBJjUdk6N4N1w) <gltewalt (Greg T)>:
I don't have a machine on my network called `a` to see if that overrides the floppy. Oh, I don't have a floppy in this machine either. 

[5:43:17](#3hYJgKZzgm-E1HTkFqNekvP1Hi2H8d-7sRdnb34pXQc) <ne1uno (ne1uno)>:
https://github.com/red/red/issues/2254    says not implemented?

[5:43:17](#7iu77cC064K6IxZhlWjEU7rpNRFiZS-WumKhC8xzuPU) <ne1uno (ne1uno)>:
what is an only `non-scalar` type?

[6:07:53](#QXyLLKt0Ks-JRKzI_kNE3zP6NRiwMqTuPNpkJ1tKtAs) <gltewalt (The other Greg)>:
Atomic values I think

[6:08:28](#BwqaxaX6pNF78qBnblkb-sikJDp7OCRrsEbuRuJqmMs) <gltewalt (The other Greg)>:
Errrrr non atomic. Like series

[6:09:51](#lDosKK4cOeN2rEF6hcX5IteBeMKoE-du7SuOuQYC8LU) <gltewalt (The other Greg)>:
Yeah, it's still reserved for future use. I was typing it wrong

## 17-Oct-2021

[12:39:56](#RxEmPM6uS91OQpdvLx236WiXBEWOaH4HEtI1oiZDsIU) <endo64>:
About crash with`read-clipboard` @gltewalt:matrix.org  reported, it also crashes if the argument is a block (probably other types would crash, didn't test yet)

[12:41:12](#7E9NZb3jBdlwIMPhfp4UIJrDZLNPf_FIHyH8c98OiMY) <hiiamboris (NOT THIS ONE)>:
tried with the latest build?

[12:46:42](#LgRhqA941n2flKcDnQ6CidSlZGyL2k01AeQcm-kGxFc) <endo64>:
not the latest build, but ~3 weeks old. 

[12:47:07](#VFRwej4pdIabeNkoN00GO3n2FYZsknL0SCaCekk43oo) <hiiamboris (NOT THIS ONE)>:
try with the latest

[23:28:38](#EUOzhqkwEAJr01SxzEE4T0GZvVYllTSmfNylDQLNQXw) <endo64>:
Crash was about `write-clipboard` not `read-clipboard`
It still there:
```
; Red 0.6.4 for Windows built 17-Oct-2021/7:07:46+03:00  commit #80300ee
>> write-clipboard [1 2 3]

*** Runtime Error 1: access violation
*** at: 0044C11Eh
```


[23:29:45](#BdGcW6hckC83Kz1zA2sdYKbMBBGQBgVUGMriEWGoSXg) <endo64>:
It's an old issue: https://github.com/red/red/issues/4331

## 22-Oct-2021

[14:46:22](#mG-D7rKv05F7VmH_oocLzaisquKAFaI1_5nRKLTUxtc) <bubnenkoff (Dmitry Bubnenkov)>:
Could anybody check next code:
```
data: [
    foo: none
]

set data/foo "123"

probe data
```
it's hang for me


[14:47:04](#U5P1EoFI46E7f3GEMEhnQJ1EtF5ViuKYuBmMaJQzEZE) <bubnenkoff (Dmitry Bubnenkov)>:
* Could anybody check follow code:
```
data: [
    foo: none
]

set data/foo "123"

probe data
```
it's hang for me


[14:49:56](#Rz8Sk-Ce8noGD6e9uJB1OWLd5TY2p3iXhHUzt4WI1t0) <toomasv>:
`set 'data/foo "123"`

[15:25:44](#JJzhzzRu9xTQChxHRWZdoRngo7GNHLdHHRxP6mSJcVQ) <bubnenkoff (Dmitry Bubnenkov)>:
is there any another way?
```
 to-lit-word to-path [a b c]
```
do not work. I need to generate path for setting in dynamic 

[15:28:54](#M3AUJazRcnf9NpFT6g5vqh8vhorrhmHm0m3mti5HzsY) <hiiamboris (NOT THIS ONE)>:
to-lit-path?

[17:26:45](#AI_MNrGc9k5Eb-SahtysbNokFuChLjEkgWm52A_NUHc) <greggirwin (Gregg Irwin)>:
Do we have a ticket for why that example hangs? 

[17:38:13](#ovSu4_k5pVygif5M47z80SngxkCYkCiK7LzBOljvyQs) <hiiamboris (NOT THIS ONE)>:
he overrode `none`

[18:56:20](#1b8LY-slj7AwLBMPwIrGwSuEBII_tdNdPTjWGLigbYY) <greggirwin (Gregg Irwin)>:
Ah.

## 25-Oct-2021

[13:46:17](#hfdjo-8woef2yBIgYR8YFpwl-zSWuXZJuSYk3swSvRE) <cblp-54a27d7edb8155e6700e3f19>:
hi! is there a plan to support MacOS Big Sur? I'd like to help

[13:47:05](#3onIFFU7iVrI453WgqxGGU4QLVlunTwZ4lzuuH52W84) <cblp-54a27d7edb8155e6700e3f19>:
now it is
```
$ ./red-064
-bash: ./red-064: Bad CPU type in executable
```
should I report it as a bug?

[13:51:46](#gilr0Mm9xOY0NzWU1ZgjRldZ6jk-6QVIhfkfOQBS9q4) <hiiamboris (NOT THIS ONE)>:
https://github.com/red/red/issues/4652#issuecomment-695329813

[14:01:42](#UMbcL0H339Kpik6--eiuswRkXFvI8petkwslTqONrk0) <cblp-54a27d7edb8155e6700e3f19>:
@hiiamboris https://gitlab.com/vazub/red-docker -> 404

[14:03:47](#asnjvHOlMhZMJaB2XBz9WFzcgyfGMGL6RiAnhsd785Q) <cblp-54a27d7edb8155e6700e3f19>:
ok, so the problem is in 64 bits support

[14:11:23](#srj11n4ju4Cx2z1Z1whUMroJj8rzyMLbU2E5TQEAwFA) <hiiamboris (NOT THIS ONE)>:
https://github.com/red/red/wiki/[LINKS]-Unofficial-Red-images

## 4-Nov-2021

[12:05:41](#G7KbQ9rji06XzAYwiyhlWz05upazb7L2khxMI5yLol0) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
```red
>> to-tuple #{0102030405060708090A0B0C}
== 1.2.3.4.5.6.7.8.9.10.11.12
>> to-tuple #{0102030405060708090A0B0C0D}
== 1.2.3.4.5.6.7.8.9.10.11.12 ;<--- is it ok that there was not an error?
```

[12:07:28](#KOivbbX9GFiAN5eoBrw5_oRS1P-jVNqt40knLTMl_WI) <hiiamboris (NOT THIS ONE)>:
```
>> to 1 #{1020304050607080}
== 270544960
```
no error either

[12:19:24](#DGOespYNQJckNEGSOvZspoF1Bp45yhR_XXh1EpCN0V0) <ldci (FranÃ§ois Jouen)>:
@Oldes tuple datatype is limited to 12 positive integer values.

[12:20:23](#y7xRnStWVrOSEwp3n_Nv92-YuB4QLkSfjyQYdPMtvQw) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
@hiiamboris I'm aware of this.. but is it good or no?

[12:20:43](#xaPKEg0ApSTcJlxUVflsPnC_L9feljjSZ4r3h9dHUVA) <hiiamboris (NOT THIS ONE)>:
I think it can be useful

[12:26:46](#yHi2S0bwdSH5wDJ-YGrwkN9EulW4xE2nennsb5YBvCc) <hiiamboris (NOT THIS ONE)>:
btw I have no idea what anyone is going to do with all the 12 parts of a tuple

[12:29:42](#M5QHcqCkcoMVMMAaiLPxTIjtGEN2hPLf1TLNcnkhkUY) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
In Rebol there was just 10 parts.

[12:36:11](#HxieiwlBryhzmhKea84rzJQ5QfAmvStNIvAmFP-tYVA) <ldci (FranÃ§ois Jouen)>:
Yes, mainly used for versions, colors, network addresses

[18:07:15](#jBXNinp2AshxQRcTKvNYrUZN0YrMnkMHflxt2yfRKWU) <greggirwin (Gregg Irwin)>:
@hiiamboris I used them as date-time indexes in an R2 system `CC.YY.MM.DD.HH.MM.SS.nn.<spare-1>.<spare-2>`. It allowed quite a bit of flexibility in searching.

[18:14:26](#6pebe8Izus-ZHVdEJgY9IZjU6GvIVeavAXYP5Jcsj8o) <hiiamboris (NOT THIS ONE)>:
interesting

[21:24:44](#B0iu9VjDx4mGGq4zZSl-zdlKHJslfyZI2ijaMMpXekA) <greggirwin (Gregg Irwin)>:
On `to` errors, we carried over Rebol behavior for most everything I believe, but we don't have a table of which conversions cause errors (e.g. integer overflow from a large float) and those that don't (conversions from binary just taking as much data as needed). It's an important area, and we should nail it down when we work on full specs in the coming months.

## 5-Nov-2021

[11:54:05](#CE-sZForJI8PKDZsU8R6ff1Pm_7MZbYAYkai46rMu4s) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Regarding the `tuple!`... Red allows shortening:
```red
>> t: 1.2.3.4.5.6.7.8.9.10
== 1.2.3.4.5.6.7.8.9.10
>> t/4: none
== none
>> t
== 1.2.3

[11:54:08](#Ui9aW5hMpAZzgu4FhZPwx9UR2w5R1t398mDHlIsiL3s) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* Regarding the `tuple!`... Red allows shortening:
```red
>> t: 1.2.3.4.5.6.7.8.9.10
== 1.2.3.4.5.6.7.8.9.10
>> t/4: none
== none
>> t
== 1.2.3
```

[11:56:37](#JZIzUuMMfXrPDVZlFUajvdIX5L_cJgeYeOLZwV68inY) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* Regarding the `tuple!`... Red allows shortening:
```red
>> t: 1.2.3.4.5.6.7.8.9.10
== 1.2.3.4.5.6.7.8.9.10
>> t/4: none
== none
>> t
== 1.2.3
```
but does not allow extension (like was introduced in Rebol3)
```rebol
>> t/8: 8
== 8 ;<---- will be an error in Red so far
>> t
== 1.2.3.0.0.0.0.8
```

[12:00:59](#4lSazAFP5wejxIX_q-jb-wb4FqFG_uI9-Argw5Rq0vk) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
although one can do in Red:
```red
>> 1.2.3 + 0.0.0.0.0.0.0.8
== 1.2.3.0.0.0.0.8
```

[20:39:20](#mW25c-QFq4z-SVja3YpLqLSQDgOeu4qk4d59YC3J6tU) <greggirwin (Gregg Irwin)>:
Another good topic for when we work on detailed specs. We can make notes [here](https://github.com/red/red/wiki/[LINKS]-Design-questions) or in a dedicated page linked there.

## 7-Nov-2021

[22:58:09](#w_j4YRa_VslRnnYCFJImnEhnaZhxKRVQrjLuZmqJ6As) <GiuseppeChillemi (GiuseppeChillemi)>:
Does ISSUES have limitation when used as keys?

```
>> a/#mo/words-of
*** Syntax Error: (line 1) invalid issue at #mo/words-of
*** Where: set
*** Stack: load 
```

[22:58:32](#jZkjK2_e9RxpW7UStz8ptlbAkjUofxuNIaKzg0NDBLs) <GiuseppeChillemi (GiuseppeChillemi)>:
* Does ISSUES have limitation when used as keys?

```
a:  [#mo [words-of 1]]
>> a/#mo/words-of
*** Syntax Error: (line 1) invalid issue at #mo/words-of
*** Where: set
*** Stack: load 
```

[22:59:06](#JCh_9ttkWqPnaTxqyShYfHpFs-AAluu5d3ndjiZhQ3c) <GiuseppeChillemi (GiuseppeChillemi)>:
* Does ISSUES have limitation when used as keys?

```
>> a:  [#mo [words-of 1]]
>> a/#mo/words-of
*** Syntax Error: (line 1) invalid issue at #mo/words-of
*** Where: set
*** Stack: load 
```

[23:17:37](#pRvCMolMrXYXR18M_4COmpiieY7mtuDtvn6lufaiJSg) <greggirwin (Gregg Irwin)>:
Looks like a regression. But I don't know that it ever worked. In old builds it returns `none` for the full path. Check for tickets and file a new one if none match. Thanks.

## 8-Nov-2021

[6:02:39](#TR_YxJFXFvHB-5S1HuyCJTHZe_ave1sQ1NhRYQtaaMk) <rebolek (Boleslav BÅ™ezovskÃ½)>:
I donâ€™t think issues could be used in paths.

[6:26:06](#RNJxyAFN0pS2jLLzA6lYz6oLXLcX4bQZkVkCIrvEMmU) <greggirwin (Gregg Irwin)>:
My question is whether it should throw an `invalid issue` error. You can escape it of course.
```
>> a/(#mo)/words-of
== 1
```

[6:34:40](#s21_FtUpMNiI1twRsQmT2NVtej5K4JC9NiQ8ABbzNu4) <rebolek (Boleslav BÅ™ezovskÃ½)>:
Itâ€™s interesting that it loads `a/#mo` as a `path!`

[7:31:39](#najo_51HZgC47Q-CwklkCV4lJDx6IJhHQCOiLcO8Rp0) <GiuseppeChillemi (GiuseppeChillemi)>:
@rebolek Rebol uses them as a word. I have been searching for an alternate word type to avoid possible collision between keys and their content, so a time ago I have adopted issues. 

[7:32:48](#Y3YJZBFs_Ov_H3AN-vNugLGLdYi6iwUZxnCDMQK2nAI) <GiuseppeChillemi (GiuseppeChillemi)>:
@greggirwin I don't think, I see no reasons. 

[7:44:03](#k28zsyILOLVbCfYT-35Wyf0xGdatEf0BkfYvFgb7vnw) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
@greggirwin I believe it should be like in Rebol:
```rebol
>> load {#mo/words-of}
== [#mo /words-of]
```

[10:30:19](#cHzs2sSStCXjkMhp-rshpHx7lnMW_M93UVXurD6Rle8) <GiuseppeChillemi (GiuseppeChillemi)>:
Note:  I have used it on an object: 

```
ao make object!: [words-of: func [][]]

a: reduce [#mo a]
a/#mo
...
*** Syntax Error: (line 1) invalid issue at #mo/words-of
...
```

[10:30:39](#ySZ0xFhIkfXyvyG2PN4lsgDGe3kdslgw7TTlIIU5nXA) <GiuseppeChillemi (GiuseppeChillemi)>:
* Note:  I have used it on an object: 

```
o: make object!: [words-of: func [][]]

a: reduce [#mo o]
a/#mo
...
*** Syntax Error: (line 1) invalid issue at #mo/words-of
...
```

[10:55:00](#TC_wJZ8a_VKXYKg77mfQvS1csaZxjMtIasi36OknLE8) <toomasv>:
It is not a bug, but intentional.

Here is issue rule according to [lexer](https://github.com/red/docs/blob/master/en/datatypes/error.adoc):
```
ws: [space | tab | cr | lf]
delimit7: compose [ws | (charset "])}:<>,")]
delimit1: compose [ws | (charset "[](){}^";@") | end]
issue-rule: [
  #"#" [delimit7 (cause-error 'user 'message "Invalid issue") 
  | some [
    [#"/" | #":"] (cause-error 'user 'message "Invalid issue") 
    | not delimit1 skip
  ]
]
```

[13:10:01](#FjI-gvUkR9DnvCMEXKzsbgqBx9LktG96o4CRrTolgI8) <GiuseppeChillemi (GiuseppeChillemi)>:
So, which datatype do you suggest to be used as an alternative for keys in place of words? It should have the same select speed.

[13:11:52](#7zSSITKmVbZhKVKyQFcJQay2IZKSfJS4KNN2aHbpSXU) <hiiamboris (NOT THIS ONE)>:
just use `select` or wrap in parens

[13:28:57](#mBK27UxGDT2z6yo5AF7T5yu7HA3gFmQ6S0vN1Bh6mEw) <GiuseppeChillemi (GiuseppeChillemi)>:
`select ['data [values]  somename] `

Using parens, How would I avoid the situation where `somename = 'data` and it won't be selected?

[13:29:25](#8o4QeoSQGMTQYpi2NXmBoZDJz5HioAfbbu_koccY8Ms) <GiuseppeChillemi (GiuseppeChillemi)>:
(Note that this block could also need to be composed)

[13:30:13](#yd4drGtWuPPb_0l0fUeTGxhiO4qP5Qa87nkl0Kb7Jio) <GiuseppeChillemi (GiuseppeChillemi)>:
* `select ['data [values]  somename] `

Using parens, How would I avoid the situation where `somename = 'data` and it won't be selected because the first data would not permit this?

[13:30:28](#DLbqhLupGZ4LmIapjNYS2gZzxTwp82YdWd-tZ_n2jPA) <GiuseppeChillemi (GiuseppeChillemi)>:
* `select ['data [values]  somename] `

Using parens, How would I avoid the situation where `somename = 'data` and it won't be selected because the first `data` keyword would not permit this?

[14:12:40](#pSY-xjKkGDXUr7fKIEZvl2-u3rLRp2VM4VvT0Xdh8ks) <hiiamboris (NOT THIS ONE)>:
I didn't get that. What parens have to do with your data layout?

[14:13:33](#GmZ1CSBlRkkWmSL3ZIVyLMESQc2Ta7g9GIK3DUcaeWE) <hiiamboris (NOT THIS ONE)>:
Parens is just one way to put issue into path. Another is get-words.

[14:13:49](#aUSkJQFkXOXUtOh8XEYoKc6--6_ZCeUuevA3y-ULk8I) <hiiamboris (NOT THIS ONE)>:
Third one is to use `select` instead of paths.

[14:55:26](#7nFWaYx5KRJyOkIOgN_h5zL5SBZ1IlnSNaQfTpHa0o0) <GiuseppeChillemi (GiuseppeChillemi)>:
Did not know about parens used  around issue, it is  a new notation to me.

[15:24:43](#6IrLV8NnRdU_j5bFhndhgHnkEQefPXK5UZLlXVcSTos) <hiiamboris (NOT THIS ONE)>:
â˜ [November 8, 2021 9:26 AM](https://gitter.im/red/bugs?at=6188c2fe98c13e75502170f0)

[16:40:52](#u-wekpkEl0qv2QDDPf9EQMPC3s1Ds7hBE3Baiot5M3M) <GiuseppeChillemi (GiuseppeChillemi)>:
I have seen it but I have not understood it fully. Does it work the same of `get-word` or is there any difference?

[16:42:15](#sNEwWv6T4XGSES3s52lyU5oNjU1pONzQHf-Y8hdQEVM) <hiiamboris (NOT THIS ONE)>:
no difference

[16:58:43](#ZZMEJwgTOX00yMnBr9zGHDbhEdKOB-kKT6Y7HNAEpyM) <hiiamboris (NOT THIS ONE)>:
@GiuseppeChillemi https://github.com/red/docs/blob/master/en/datatypes/path.adoc

[16:59:45](#ViQSTe9WnAZ1NL6Vc00u18hC7N96sx8R9pzH8qbkyao) <hiiamboris (NOT THIS ONE)>:
I admit it is silent about accessors and files though.

[17:02:23](#pUNPLq3vZboszvn_d3wdG37KjWnJSXKoWdv5xDhTfWs) <GiuseppeChillemi (GiuseppeChillemi)>:
It's better than not having it at all.

[17:09:44](#ClhzLixgaeoMdkIkO-yfS_9MPiU_igZfF3nTNrwo9Js) <hiiamboris (NOT THIS ONE)>:
it also speaks only of word type that is transformed into `select`, not a word about the fate of parens and get-words after their evaluation

[17:11:35](#T54RfIVfvQx36ryXyW4LO_moM9E6XUdfQ0hpKlUHdO4) <hiiamboris (NOT THIS ONE)>:
* it also speaks only of `word!` type that is transformed into `select`, not a word about the fate of parens and get-words after their evaluation

[17:14:37](#Jq7RQjz2q52LHbqoZDHZXHWXRYJxks_jAIwV1P3ALLY) <hiiamboris (NOT THIS ONE)>:
and other peculiarities like:
```
>> select b: [1 2 3] k: [2]
== 3
>> b/:k
== none
```

[17:20:54](#NO6Fn4NCOtBs7pBJ7nKYPN_BUhhHWoMPhsWaMweMYZ4) <gltewalt (The other Greg)>:
There's no k in b

[17:21:34](#svESj3FJL9wBwtu4clPsErOfhblkArzZW-p7wNk6fG0) <hiiamboris (NOT THIS ONE)>:
which means it's not select but select/only that is used

[17:22:24](#qId4-ia72TW2ZGwpAi0cWGkEyk4auP51QtEI1WAluR8) <hiiamboris (NOT THIS ONE)>:
there's more:
```
>> unset 'k
>> select b :k
== none
>> b/:k
*** Script Error: cannot access :k in path b/:k
*** Where: catch
*** Stack:  
```

[17:23:34](#3g-rRmChmyIa2Bg54g4D5vX1UUpDf0lEWIfOd2pJDE8) <hiiamboris (NOT THIS ONE)>:
then there's errors when accessing object's missing fields..

[17:23:54](#uJHAtQ4_8kGETwb3k-yFPrBnemvO3T2OKMMvoIC3eKI) <hiiamboris (NOT THIS ONE)>:
I can't even think of all the differences between paths access and select í ½í¸‰

[17:27:06](#8weoV-uQ7TQ01Kb2bQLUte_WBPwMfYSWuAoRM_OwZzU) <gltewalt (The other Greg)>:
```
>> selector: 'bar
== bar

>> my-block: [foo bar baz]
== [foo bar baz]

>> my-block/:selector
== baz
```

[17:27:38](#K9VL3RzVHvXVpud_HgU0lJmF8lMrp7TPqepryC_FPJ0) <gltewalt (The other Greg)>:
```
>> my-block/('bar)
== baz
```

[17:28:17](#2xhqt7NMhhz6liDd0wYsTS39wed3k44Dyo7jiPwgFO4) <gltewalt (The other Greg)>:
That doesn't render as code on this element app...

[17:29:18](#WpdI0XqKmW9--WAFIGhEOI1SWzi4TbsjGSJrgmJhEGk) <gltewalt (The other Greg)>:
I'm not sure why path and select interplay is so complicated, but it is

[17:33:44](#sqVBKQ7-ocedGoQLAH64L37IThIHWQakSXc6GD6Ylsw) <gltewalt (The other Greg)>:
Missing object fields (or values) should return none, or it isn't consistent. No?

[17:39:31](#QszZxXfTUeO0fbrqB9CMZuCGpFp5eJHqW_5Dfy3jFzs) <hiiamboris (NOT THIS ONE)>:
```
>> o: object []
== make object! []
>> select o 'x
== none
>> o/x
*** Script Error: cannot access x in path o/x
*** Where: catch
*** Stack: 
```

[17:41:26](#nTypDDVd2HaWlRfMtby1C61BkXrx7PMqvwOcqIJ27xM) <toomasv>:
```
select b: [1 2 3] k: [2]
;== 3
b/:k
;== none
select b: [1 2 3] k: 2
;== none
b/:k
;== 3
select b: [1 2 3] k: [1 2]
;== 3
b/:k
;== none
select b: [[1 2] 3] k: [1 2]
;== none
b/:k
;== 3
```

[17:42:29](#U7F4K31ha0aBoM-m8He6uJeeo-nmGsmp_Wd1xk40VfA) <toomasv>:
* ```
select b: [1 2 3] k: [2]
;== 3
b/:k
;== none
select b: [1 2 3] k: 2
;== none
b/:k
;== 3
select b: [1 2 3] k: [1 2]
;== 3
b/:k
;== none
select b: [[1 2] 3] k: [1 2]
;== none
b/:k
;== 3
select b: [[1 2] 3] k: [[1 2]]
;== 3
```

[17:43:13](#duJncLcc1a96C_UPdxfk94zAKt0zRG2hL1ZLzfHy57g) <toomasv>:
* ```
select b: [1 2 3] k: [2]
;== 3
b/:k
;== none
select b: [1 2 3] k: 2
;== 3
b/:k
;== 3
select b: [1 2 3] k: [1 2]
;== 3
b/:k
;== none
select b: [[1 2] 3] k: [1 2]
;== none
b/:k
;== 3
select b: [[1 2] 3] k: [[1 2]]
;== 3
```

[17:43:45](#_f-GRYC3WHwJegpiFgyclSj6yOeYfnc-Kg5CPkHjes4) <toomasv>:
* ```
select b: [1 2 3] k: [2]
;== 3
b/:k
;== none
select b: [1 2 3] k: 2
;== 3
b/:k
;== 2
select b: [1 2 3] k: [1 2]
;== 3
b/:k
;== none
select b: [[1 2] 3] k: [1 2]
;== none
b/:k
;== 3
select b: [[1 2] 3] k: [[1 2]]
;== 3
```

[17:45:59](#nV0XKxaDN-heueLZyD_UTX7i_ou88KIB9qDzpbJ5fZ8) <toomasv>:
* ```
select b: [1 2 3] k: [2]
;== 3
b/:k
;== none
select b: [1 2 3] k: 2
;== 3
b/:k
;== 2
select b: [1 2 3] k: [1 2]
;== 3
b/:k
;== none
b/:k
;== 3
select b: [[1 2] 3] k: [[1 2]]
;== 3
```

[17:46:55](#QytUCw0w8u3J1DKoKwqTdkRzSamcIx_TFxYnDkyjNu4) <toomasv>:
* ```
select b: [1 2 3] k: [2]
;== 3
b/:k
;== none
select b: [1 2 3] k: 2
;== 3
b/:k
;== 2
select b: [1 2 3] k: [1 2]
;== 3
b/:k
;== none
select b: [[1 2] 3] k: [1 2]
== none
b/:k
;== 3
select b: [[1 2] 3] k: [[1 2]]
;== 3
```

[17:51:06](#rICg5Fx9G0v58ipAX3ZqY8tjOtWwJdUAtqu0n3V0A7I) <toomasv>:
It is all ok, but needs some reflection.

[17:58:13](#oKtaTXdn9eKpnhZezDQzIg_jsOskth46g7t-lH-jIQw) <hiiamboris (NOT THIS ONE)>:
There's also set-path/poke/put abyss í ½í¸‰
```
>> t: 1:2:3
== 1:02:03
>> poke t 1 2
*** Script Error: poke does not allow time! for its series argument
*** Where: poke
*** Stack:  

>> t/1: 2
== 2
>> t
== 2:02:03
```

[18:00:19](#DrHCUK93xn3oIW5hILL8rJjoFm2D6agk697I08pKzNQ) <hiiamboris (NOT THIS ONE)>:
poke/put are never mentioned in set-path doc though, so there was probably never any equivalency by design

[18:33:39](#5V-kw82BMnxREfsRsZuHytaM-2jxQmMhS5POs71ZZyE) <greggirwin (Gregg Irwin)>:
`Time!` isn't a series.

[18:34:21](#JCN5nBZASMzb19uh1IiNeRSmCPfVBR-1cMA5uxvWxTI) <greggirwin (Gregg Irwin)>:
But that doesn't mean time values *couldn't* support it.

[18:36:22](#s88Wu6g5wEjrsGaX9phSLKak6vO_Hhfc-bD3mftHDnI) <hiiamboris (NOT THIS ONE)>:
I mean we don't have a non-path way of doing this, or do we?

[18:37:16](#3ZrQh13xBdpJsKbkIOv1EZXNE22EP2n3IfnO29LxOX8) <greggirwin (Gregg Irwin)>:
R2 supported more types with `pick/poke`, R3 removed a few but added bitset support. 

[20:15:33](#9T5pgIYG9SkcOflhCTSnjOnX45ynWbEUnrkmnB2Mxr4) <greggirwin (Gregg Irwin)>:
I don't recall ever trying it, or wanting it. It's a grey area in my mind right now. We `make` values from ordered blocks, which have assigned positions. We also have named accessors. There is a tension between unnamed slots and named/keyed attributes. Using paths makes it a bit more work, though not much, to use indirection. But this will come down to how they're used, as a non-path may be clearer, which is the real goal.

For series, the index/position *is* the key, but for other types, you use words as accessors and that leads you to `put` rather than `poke`, as the inverse of `pick`. If you can `pick` something, it makes sense that you can do the opposite. But here we get into deeper changes. Should `pick` support both keys and indexes for types that have special accessors, or objects and maps?

It feels like we can make this work consistently, at the cost of more code in the runtime for what may be rarely used patterns. The rule being that integer args are always treated as indexes, except for maps. Why this all feels uneasy to me is that we're making different tradeoffs. Yes, we have more ways to express things, but at the cost of having more cases that may lead to subtle bugs. e.g. where you have funcs that take types and use `pick` on them, where you may now need to dispatch to different logic in otherwise generic funcs, lessening their leverage. 

Once again, @GiuseppeChillemi's superpower seems to be inadvertently opening cans of worms. :^) This is similar to the `copy` issue, where we want consistency, but also need to look at whether it leads to *clearer* code or if a little less flexibility enforces patterns that make intent clearer. 

One thing I *am* sure of is that we should write a design spec for this, as part of our official spec project if not sooner.

[20:29:46](#kQ4_-P3TkR7Sghrm_u9dLkqF7P8BDmXFXrPtKTAw3RM) <hiiamboris (NOT THIS ONE)>:
This topic was raised here https://github.com/red/REP/issues/68

[20:34:19](#vCmqsnuMJO5lY8k2MTqdYkcQ652md-ETmO7cljEMlz0) <GiuseppeChillemi (GiuseppeChillemi)>:
@greggirwin I think this happens because I take uncommon coding roads.

[20:35:44](#5Y0GgX2x-T6akj-G_FBxYoG78u8_hdG_yjSppSKc5-4) <hiiamboris (NOT THIS ONE)>:
The longest ones í ½í¸‰

[20:44:53](#eW8e5l7Hy6tWLHbKlQRUazHVkyG6HXQ4w-pM9UiSFzw) <greggirwin (Gregg Irwin)>:
Thanks @hiiamboris. Touched briefly on there, yes. At least I seem consistent with my own comments. :^)

[20:49:44](#kbJRDitgJm464BVSQCCA4yMvBnVFi3gHWgAWzzJdeeo) <GiuseppeChillemi (GiuseppeChillemi)>:
@hiiamboris In life, I also like to drive via small counties rather than highways. You take longer but you see a lot more and also your driving skill betters a lot! 

[20:50:30](#QrcTx3ARlttDUU_l1znccN-FhgdL0YeXb2mkVHusbko) <hiiamboris (NOT THIS ONE)>:
:+1:

[20:56:13](#ioTe07pkay-zR4HTNVFbFDel_ddLfOyYQtU7lGrSvmE) <GiuseppeChillemi (GiuseppeChillemi)>:
Just FOY, I am experimenting on a datatype system. 
`[#custom datatype-name! #management-object <object> data [.....]]` was one of the possible structures (also object is another one). 


[20:58:19](#JAH3zLH731k0xsRDclZVYusPxtkRwwrlOFk4vvfiRzI) <GiuseppeChillemi (GiuseppeChillemi)>:
It would be fantastic to give a custom type to block and also extend the Red datatype system with your new datatypes, using a set of functions inside a context. Ideas are welcome if you think there is a way.

[20:58:31](#0rFWOoEFw9Q20BXH_-BzO6V0971M_tF59KHOF50L8RU) <GiuseppeChillemi (GiuseppeChillemi)>:
* It would be fantastic to give a custom type to blocks and also extend the Red datatype system with your new datatypes, using a set of functions inside a context. Ideas are welcome if you think there is a way.

[20:59:13](#kqzFBsuDRXvWslylDc8SgXk8YwErgNGJw6n_3DKX-6E) <GiuseppeChillemi (GiuseppeChillemi)>:
* It would be fantastic to give a custom type to blocks and also extend the Red datatype system with your new datatypes, using a set of functions inside a context (this so any function accessing your custom DT would use your code). Ideas are welcome if you think there is a way.

[21:18:07](#cFD-gPbfEDDjPNBMS3CjHX16796T_S3McZTuRAR8a6M) <greggirwin (Gregg Irwin)>:
That's highly unlikely. It's functionality that becomes much more specific, and is better handled at higher levels, where datatypes have a fixed set of generic actions for broad use. But if someone comes up with a brilliant design for UDTs, we'll certainly review it in detail.

[21:25:23](#H7msI-mRRn7vqU38RlrWLcKw3qe0VIW8wpmvMG7TC44) <GiuseppeChillemi (GiuseppeChillemi)>:
I think I am on the right road to make something simple and compatible with current Red way of thinking. Let's see.

## 13-Nov-2021

[5:23:13](#fcsbkZiBl5_rTSxT8DifHJ8int_EBiFW3PdyhYbLtbI) <loziniak (Maciej ÅoziÅ„ski)>:
I think I found something in Redbin implementation:

[5:23:16](#L2u0irnCw0dL0JioFtAIK2kZUBmQSyMQM_JqZ5ya8Gc) <loziniak (Maciej ÅoziÅ„ski)>:
I think I found something in Redbin implementation:

[5:23:30](#Feq26dl0kFlr-MmbGV23cBDByr4iUvqJaxRhs0oeiks) <loziniak (Maciej ÅoziÅ„ski)>:
* I think I found something in Redbin implementation:
```
echo -n "í ½í²–" | iconv -f UTF-8 -t UCS-4 -o ucs
red
>> read/binary %ucs
== #{0001F496}
>> save/as a: copy #{} "í ½í²–" 'redbin
== #{
52454442494E0200010000001000000007040000000000000100000096F40100
}

echo -n "Ä…" | iconv -f UTF-8 -t UCS-2 -o ucs
red
>> read/binary %ucs
== #{0501}
>> save/as a: copy #{} "Ä…" 'redbin
== #{
52454442494E0200010000001000000007020000000000000100000005010000
}
```

[5:24:37](#efmAV6busd10m4HQgRGpxIIj1CTUifh8-x5WTXX9K9Y) <loziniak (Maciej ÅoziÅ„ski)>:
when encoding 4-byte strings, byte order is reversed in relation to `iconv`'s byte order.

[5:53:22](#fWcPv-cZsH5wX3Bxi-SyIdbb5Fwpb2gIfcQ_scWDLck) <hiiamboris (NOT THIS ONE)>:
Uhm.. and?

[13:43:47](#hlx9_wmUnh6qYkF3onexvrQ-HGHSRfa3I3c2k8ilsyQ) <loziniak (Maciej ÅoziÅ„ski)>:
> Uhm.. and?

...and I solved it :-)
```
echo -n "í ½í²–" | iconv -f UTF-8 -t UCS-4LE -o ucs
red
>> read/binary %ucs
== #{96F40100}
```

## 18-Nov-2021

[9:52:51](#i7o6r7fIFt0veGK5-kOQl5XYW9ecgWnXO7iMthMA0dA) <duskhorn>:
```
$ red
>> load %file.png
*** Access Error: cannot open: %file.png
*** Where: decode
*** Stack: load
```
 the file in question is the following

[9:53:01](#b_1TsUsi3h1eCFlDjOrc1DRsLJcNQwI4ST4gL2SEKZ4) <duskhorn>:
![https://matrix-client.matrix.org/_matrix/media/v3/download/matrix.org/xNmgoCmRLItPyxjDncdorFos](https://matrix-client.matrix.org/_matrix/media/v3/download/matrix.org/BbYbaEvDTngiJRautFSewOhP)

[9:58:02](#RkNyFXbX-Id4br9PXFj6VtlJpknN1DkEPBTv68KHwDE) <toomasv>:
[![image.png](https://files.gitter.im/5902e8c1d73408ce4f5b94ba/xSJw/thumb/image.png)](https://files.gitter.im/5902e8c1d73408ce4f5b94ba/xSJw/image.png)

[9:58:03](#4ADfoN5NrRONcHE_CyF5oPL9LAjK3ITh79Od7HXwMBs) <rebolek (Boleslav BÅ™ezovskÃ½)>:
Iâ€™m not sure if Gitter doesnâ€™t do any conversion, but I can load the file just fine

```
>> load %file.png
== make image! [1280x1143 #{
    000000000000000000000000000000000000000000000000000000000000
    000000000000000000000000000000000000000000000000000000000000
    000000000000000000000000000000000000000000000000000000000000
    0000000000000000000000000000000000000000000000...
```

[10:00:57](#V9TZzE-naxSWhrXehGOGbmJCrqmEb3znuEXrYKyePr8) <duskhorn>:
I should mention that my OS is Void Linux

[10:02:02](#R_biQgArtylEmexmI0Owz4ozncd36F3kVmGAYk4SMCI) <duskhorn>:
to be precise
`Red 0.6.4 for Linux built 13-Nov-2021/11:17:19+01:00  commit #5f09829`

[10:02:29](#GVbV8Z9O0vhNOn1jSZHFYp9cF2j2tqpxstbwI6TKt9Q) <hiiamboris (NOT THIS ONE)>:
works on ubuntu

[10:03:05](#4ker47iUX0GJ49gHAPIG2fAyjDLIbuwkNiJ7gDSiDrk) <duskhorn>:
Then I suspect I'm missing some required libraries for the conversion?

[10:03:53](#AGX4u5QHEP5y9vaIc-Dbr52AYCHXQA2b3K0cA-jD6CQ) <rebolek (Boleslav BÅ™ezovskÃ½)>:
Hm I guess if you would miss some libs, it would warn you on start and wonâ€™t run.

[10:04:06](#wd3VnFtIU21b-4F0x3CDm9croi4mVwhlHmjVQdlHZec) <hiiamboris (NOT THIS ONE)>:
what's the checksum of your file.png?
`probe checksum read/binary %file.png 'sha1`

[10:04:34](#yJMebYRzbQsQ_N9beNY1G0n5N52OWBfkKsVCaus-iTw) <duskhorn>:
`#{56C5F2B97C679477856EFDF3CEFE6B30E3C214D0}`

[10:04:53](#iI38hwiXDMpCtiAvHJNBBa-ahwdjgmi_XRnDvd2S0bA) <hiiamboris (NOT THIS ONE)>:
okay conversion ruled out

[10:04:59](#n9GXrP5K0ZUv1OTNwCOEl7L5rRI71HuUOJG0b29Ogk0) <rebolek (Boleslav BÅ™ezovskÃ½)>:
Iâ€™ll try to setup Void Linux VM and test it

[10:05:04](#qrK46ezigH4-htBdwqARfNujQolOIxznQgJfQAU_bsQ) <hiiamboris (NOT THIS ONE)>:
then it must be libs yes

[10:05:41](#Qv1uFYjNQcPKyixrygC9nQb7MrEstvafW2zUvCayE4Y) <duskhorn>:
Is there a list for full Red libs dependencies? I'm gonna check if I'm missing something

[10:05:48](#E3mNBkFzaY02pC86ddv-Yuy6MbY6Jey-NW6g3ILNNG8) <rebolek (Boleslav BÅ™ezovskÃ½)>:
If itâ€™s libs I wonder why it didnâ€™t complain on start.

[10:06:33](#wlf8AqW1efy9ypkC4zYj0LvBI3TzH2WyUqi2qdRx2Rg) <duskhorn>:
Do I open an issue on the repo or I wait?

[10:06:56](#-769OVcyo8M8ADUQV3gaHT6nwZiYOQz_H-glH90Knt4) <rebolek (Boleslav BÅ™ezovskÃ½)>:
@duskhorn:matrix.org what version of Void are you using? libgc/musl?

[10:07:37](#L92qwReC0Ps3VgVFM2q59ezFS0ilPRtqjt0-KC3nMj8) <rebolek (Boleslav BÅ™ezovskÃ½)>:
* @duskhorn:matrix.org what version of Void are you using? glibc/musl?

[10:07:41](#YTWgdqWGHclDdNYoRJrAf57A_MU1CMaoTAa7jNr1kEQ) <duskhorn>:
glibc

[10:07:59](#z6W9Ne5e1d6ovzLD7ceU_7954HvigZvNpTPTXAqZpCM) <rebolek (Boleslav BÅ™ezovskÃ½)>:
Ok, Iâ€™m going to try it

[10:08:40](#CJ1llaQ-iXSyJRVc95zN4FoB5ELxgSpI2IrC9VHf-Ak) <duskhorn>:
Thanks! 

[10:53:19](#39x5cRiZBGyftVh3_tkdTFjcqETiiwbWdNnk0Pji634) <rebolek (Boleslav BÅ™ezovskÃ½)>:
@duskhorn:matrix.org 

So I downloaded Void Linux live image (32bit version), run it in Virtual Box, in Void I downloaded Rebol and the latest Red sources, compiled Red and in Red tried to open your file. It worked.

[11:05:55](#HdmCo2Rvcqdof8bLmjz8vSG0sFnHl14FzeMczL2odzY) <duskhorn>:
Hm ok then I have no clue anymore

[11:09:28](#Fh91qzQXRON58sSo9NL_H4eymyJHlergZDcSHnp2OWc) <rebolek (Boleslav BÅ™ezovskÃ½)>:
I can share the executable with you so you can try it. Is your Void Linux 32bit or 64bit?



[11:10:46](#9aMboN2IKE9l042Vuqq2sortrqEY1e73IMhW1hqtOqA) <duskhorn>:
64bit. And I'm ok with that :)

[11:12:27](#iDRfurUGxrSdARqPQTuLQPiaqqSiYryU5e-ANdcr65c) <rebolek (Boleslav BÅ™ezovskÃ½)>:
Maybe some 32bit libs are missing on your system

[11:12:51](#UQFnD8yA0i5UCiRT-Zr29Hy96h3ygb08p3ZTFSkB074) <rebolek (Boleslav BÅ™ezovskÃ½)>:
I used 32bit system so I donâ€™t have to deal with that :)

[11:13:34](#iw_bxHAj5kb9LbGbjueKm45PwnmDgVhpiZUDVoyJrXw) <duskhorn>:
Ok so uh what libs do you think I may need?

[11:15:59](#GTXUCg0OORSJ4m9Af37yvXeG98zEUxJAmUbR5iiAm34) <rebolek (Boleslav BÅ™ezovskÃ½)>:
You can try `ldd /path/to/red` to list used libraries

[11:18:58](#SCxIzEIuDSPc65CL-GccTwf8BkA5lTN99-KihDY_YFw) <rebolek (Boleslav BÅ™ezovskÃ½)>:
Take a look at the [download page](https://www.red-lang.org/p/download.html) what libs are needed.

[11:27:11](#EMETkPTKRmGuEdjjf7vXWPXDDjhHat3EhIov_bgOJXY) <duskhorn>:
> <@rebolek-5565a4bf15522ed4b3e100bc:gitter.im> You can try `ldd /path/to/red` to list used libraries

	linux-gate.so.1 (0xf7fb8000)
	libm.so.6 => /usr/lib32/libm.so.6 (0xf7ea7000)
	libdl.so.2 => /usr/lib32/libdl.so.2 (0xf7ea1000)
	libc.so.6 => /usr/lib32/libc.so.6 (0xf7cb3000)
	/lib/ld-linux.so.2 => /usr/lib/ld-linux.so.2 (0xf7fba000)

[11:27:54](#MemfTp95AGmsy8_hCZV-j7CDNQYhc9N0OS9E-wB1t3U) <duskhorn>:
> <@rebolek-5565a4bf15522ed4b3e100bc:gitter.im> Take a look at the [download page](https://www.red-lang.org/p/download.html) what libs are needed.

I have installed those already, and I'm sure because red wouldn't even compile without them

[11:49:07](#RsVnxSRz9fG1mxrNn77JzsKobJ5jTpIK0nX6GvbmwEY) <rebolek (Boleslav BÅ™ezovskÃ½)>:
Yes, that makes sense.

[11:50:06](#aD2p-7DtHPVppmczBuljr90cIl5blmZHu_sCflflHeE) <ne1uno (ne1uno)>:
gtk up to date?

[11:50:51](#WQfD_1X6ihLn22e0XXmVv4AH0SHQ0sfTetNtrOdEiqY) <ne1uno (ne1uno)>:
no idea if that matters for png

[11:53:10](#0dkGUsGye4_KOX61KY_L3gDkRJpmbycA-lY0QoxVJ4o) <rebolek (Boleslav BÅ™ezovskÃ½)>:
@duskhorn:matrix.org hereâ€™s my Red compiled in Void: https://file.io/5whCH0eWifKo

[12:23:34](#koPbU-_X2VkyXoWDJED970Hg1J79qJ7NGFvBiTdF7Gw) <duskhorn>:
Currently away from my machine, I'll try it in a bit when I return home, thanks!

[12:26:55](#d7CnoSfvo1C7XR_akLIzUXZbU0jlaLtjSfjOvFZiZ_E) <rebolek (Boleslav BÅ™ezovskÃ½)>:
If the file disappears just let me know and I reupload it.

[12:32:50](#MAI913nk3KgAcn6X5w0qRl5xLzIG74PcGWTUDlSWa_s) <duskhorn>:
> <@rebolek-5565a4bf15522ed4b3e100bc:gitter.im> If the file disappears just let me know and I reupload it.

it tells me that the file has been deleted

[12:34:37](#iAoQdI9_d-co1xcJthb16Dq7XVuzzw90hcIvp3uSLOc) <rebolek (Boleslav BÅ™ezovskÃ½)>:
ok, somebody else probably downloaded it already. Iâ€™ll PM you the link.

[12:35:01](#PIGCp4fQWCjBoVk4MX-9Omg0TcvSf01d8MVXPLqGoWQ) <duskhorn>:
why would someone do that XDDD

[12:35:52](#PJSQVk0f8J-nFSxF_u56GePJshcmaf_joI-sAxYerrU) <rebolek (Boleslav BÅ™ezovskÃ½)>:
people love clicking on links :)

[12:58:31](#EHeyl6qulMmMLkBSo1L8Ur5FHfTWfwR3OUf5NQZIcVc) <rebolek (Boleslav BÅ™ezovskÃ½)>:
Actually, itâ€™s possible to compile Red without needed libraries, but you canâ€™t run it.

[13:00:50](#FTscaLQv_EjMs4rJycL5EPDencXRA_IZAQaDOoL1AKc) <duskhorn>:
Ok so it's true that I may be missing a library
Is the ldd output the same as mine above?

[13:01:51](#uGp_V_HVdxQ3HjfUXy7ODWlxg_6gBvkOhlFDBOcqDS8) <rebolek (Boleslav BÅ™ezovskÃ½)>:
No, I have more libraries there. But if I have a missing library I get a warning what is missing when I try to run Red.

[13:02:53](#v0_jXArOYnC7UqjwxkegSks--ooimpz13l75RMOT48I) <duskhorn>:
I get no warnings running the console, why would that be?

[13:03:16](#amEpKqKZs1445GAYPXm5o7DMqX-NAf2Ezln_6hxTvc4) <rebolek (Boleslav BÅ™ezovskÃ½)>:
btw, can you `load` other PNG files?

[13:07:06](#nBNzVQWgxWdpfuqWndIgvEaig5Znh6L_tehdqTRrVG0) <duskhorn>:
Tried with other PNGs

[13:07:09](#DafnOQm68A56ig_Ukvq9jxizzQw6sKBOfAuUvLUWd8U) <duskhorn>:
No chance

[13:11:15](#SCA0F4Enc0aswJXRBG5PO9kOCA7K63Uv1jvWNY7PbWU) <hiiamboris (NOT THIS ONE)>:
maybe you need debug console to get warnings

[13:12:05](#a597h3kbbYfs27VizOJQRuNNZJ3O8IZFDyyFpMtF5ZU) <rebolek (Boleslav BÅ™ezovskÃ½)>:
Hm, my Void Linux VM crashed and the file is gone. I would need to start from scratch í ½í¸•

[13:12:41](#YbuDYf0agOI18HzNS2-MPskj5cBnt4ndI0YInr5-9lw) <duskhorn>:
> <@rebolek-5565a4bf15522ed4b3e100bc:gitter.im> Hm, my Void Linux VM crashed and the file is gone. I would need to start from scratch í ½í¸•

That really sucks to hear
I'll try the debug console since I didn't know it was a thing

[13:13:45](#wAisjqtTHjkJb1wOkC4KW9tTACNpXD7dkx9DEm8kuDc) <duskhorn>:
Uh, how do I get the debug console?

[13:14:30](#dSSLjPpSOKEG9wp_5Vc4I1fs9oLIRgyM4YGBYtw1M-0) <hiiamboris (NOT THIS ONE)>:
follow https://github.com/red/red/#running-red-from-the-sources-for-contributors
but add `-d` switch during compilation

[13:15:43](#CSYQgjZnOTLYl5-wol2ExwjZFE5vUEZTYdKk0TnaWZ4) <hiiamboris (NOT THIS ONE)>:
> compile the Red console from source

this part of it

[13:16:12](#ujuNKXnc6-vGsz70igiK0829JHP5afKXwDvZxGYLJ5c) <duskhorn>:
Ok, thanks!

[13:30:32](#yOdIUAO3a2rrGLr3R21BDPhB3MZf8HyayuX3HRixWbI) <duskhorn>:
ok update, after installing some required libraries the rebol executable tells me this
```
** User Error: Bad face in screen pane!
** Near: size-text self
```


[13:41:48](#Ft8RgE1U5ZAjNud4e1YrLXd-1p0efSAXixYu0ELZWPw) <rebolek (Boleslav BÅ™ezovskÃ½)>:
Try rebol/core instead of rebol/view

[13:42:12](#fNtuD2PO5eDNmdhXraC7rW8E5K6MAB1zkjwxjp7GnI4) <rebolek (Boleslav BÅ™ezovskÃ½)>:
http://www.rebol.com/downloads/v278/rebol-core-278-4-3.tar.gz

[13:54:47](#IsIpWijnFhTBWKua88KBTYBnvthH30zjW9DLOwKPcuk) <duskhorn>:
ah! I was using the view version, my bad

[13:58:52](#MDIjlibi9cfZt_inhR9nb7IL4d5GZZTtbWXDgnDBWbA) <hiiamboris (NOT THIS ONE)>:
idk, Red releases are built using rebol/view, so why shouldn't it work

[13:59:57](#epGj5WTfYUeTrE3KTeGbdN1irPay1N5KkshjvLDjiSw) <hiiamboris (NOT THIS ONE)>:
smth fishy is going on there in void linux

[14:03:51](#YGaOC_j4sx--rYuDA6dQKL334ojH4E3bi3sWAM29iww) <duskhorn>:
> <@hiiamboris-5a077c7ad73408ce4f7e3333:gitter.im> smth fishy is going on there in void linux

most likely

[14:04:39](#31mX3QYfCuW_CSGDgPeg6jIiJXtH9GDINYpc7pMCd-o) <duskhorn>:
so let me see if I' doig this correctly, inside the Rebol console I have to compile the console like this
`do/args %red.r "-d -r %environment/console/CLI/console.red"`
correct?

[14:06:46](#YnsSuAKB2UP1ll4yMMXvExIn2QA5Ue5yMNDJzUZlC5o) <hiiamboris (NOT THIS ONE)>:
yep

[14:07:05](#Yvm6es9-Bbnj5Pv57YW_1x17Y8e3FIrRGEYBEt1SFu0) <hiiamboris (NOT THIS ONE)>:
but wait

[14:07:21](#RkYQJAagmtXEm2uu68egr3NpksQl2l7Rpf5aTHrPBWs) <hiiamboris (NOT THIS ONE)>:
you need to add `needs: view` to console.red to get View module in i

[14:07:23](#tluEHwVZ_lGX6c_whV-2L4z8ASoZQpz059bGhLkhB84) <hiiamboris (NOT THIS ONE)>:
* you need to add `needs: view` to console.red to get View module in it

[14:07:41](#2oybWqFaoxmNNDMba2GfWYW9Jaw_viAl3FpRKCv6sIk) <hiiamboris (NOT THIS ONE)>:
* you need to add `needs: view` to console.red header to get View module in it

[14:11:36](#PQSvwfTCzCRQYa2puUcb9UmYkMLtwfR3fGUsAoyS3Jg) <duskhorn>:
Oh
Well the load doesn't work still even in debug console. No errors and no warnings prior to that

[14:27:28](#4pmL3FhBWARMGm3nhxgnIWi9NfnDjEchWRovy1IDqTI) <hiiamboris (NOT THIS ONE)>:
@qtxie any ideas?

[19:19:29](#3f4lRx9duYfFw1YD-q8A3tbRGDFYAhUsZ39R_dOWX0g) <giesse (Gabriele Santilli)>:
IIRC correctly, that means that some fonts are missing
Use /Core as suggested though, not worth getting /View to work, it's really ancient (so dependencies are a bit of a pain in some cases).

[19:19:41](#w-YriP0rC9PTlhE3ezIMqCw8-r7G_xtdLenVX_OJqiY) <giesse (Gabriele Santilli)>:
* IIRC, that means that some fonts are missing
Use /Core as suggested though, not worth getting /View to work, it's really ancient (so dependencies are a bit of a pain in some cases).

## 19-Nov-2021

[7:26:49](#JlZ61wiAbj_VE-BVWyDfWl5kKakAzvLcwxnSf3hjCag) <qtxie>:
The image datatype rely on `libgdk_pixbuf-2.0.so.0` on Linux. Maybe this lib cannot load png on void Linux.

[7:28:01](#m9Y_x2yVIWzvO3BvPcJIxVezlRwVwMvhP09CS28Nlqk) <gltewalt (The other Greg)>:
I thought it was supposed to be load/as

[7:28:40](#6RMiTCMqmOl2Gu6u6rG-HbE6bnL02Q-rLXHMfDog32M) <qtxie>:
> you need to add `needs: view` to console.red header to get View module in it

No need `view` to use image anymore.

[7:31:55](#fKaLz__y0N01PsahDrKuZpDaCSjoH7zPMrtCc-k52bw) <duskhorn>:
> <@qtxie-55659cf315522ed4b3e10064:gitter.im> The image datatype rely on `libgdk_pixbuf-2.0.so.0` on Linux. Maybe this lib cannot load png on void Linux.

Ok, I have both the 32bit and 64bit versions of pixbuf installed, but not the devel versions. I try installing those and see what I can get

[7:33:51](#BgnvYqs7TX4_qkzn49_cgGsVt22aI3v3TCRQUurUFr8) <duskhorn>:
No chance, error persists
Does red save some config files? Like in ~/.red for example? If so, what's there?

[7:39:42](#CFvOsXCHvg9N80Z4fgVaI9BNxe3UuVV7nFxoTbMQO38) <duskhorn>:
Is it meaningful that the ldd output doesn't show the gdk-pixbuf library?

[7:52:24](#wG00Phvaim3YXb4Q7sc_XQwx1JrGUaFaYQV_NCH9uTU) <rebolek (Boleslav BÅ™ezovskÃ½)>:
Yes, in ~/.red :)

[7:54:42](#NUCd9T5YKOhk_3HqFZ7qIktExm6MpaGaqZevAbluCjo) <duskhorn>:
I tried removing the .red folder and having the console be recompiled, after reinstalling the pixbuf devel packages but it's the same as before 

[8:09:02](#NlyJMDRsmf9y0VcMLqaRTtQWbdgTEsvTJV8piLBMgRA) <qtxie>:
OK. I got the same error.

[8:10:10](#6OpgdZ60oAP5yWarFWj85jKVAbXyO0ejn1HcRnh-KPw) <duskhorn>:
Oh, did you manage to reproduce it?

[8:15:10](#IWh2DY89WGjbpr1to_eSAKOYQlfEdGplz3qho6ypDoc) <qtxie>:
Yes. I use this Void Linux on WSL. https://github.com/am11/VoidWSL?

[8:15:53](#EP7E3hZ085nP3Q_-eFsdTsPy9apF-aMvNWkfi7q4ing) <qtxie>:
https://github.com/red/red/wiki/%5BNOTE%5D-Linux-GTK-dependencies/_compare/06cd42c%5E...06cd42c

[8:16:15](#cJuJhUQ3zv5WRg46pdZ5VZub3ZdO1V8ZrV1jVoS4fes) <qtxie>:
* Dependencies:
https://github.com/red/red/wiki/%5BNOTE%5D-Linux-GTK-dependencies/_compare/06cd42c%5E...06cd42c

[8:20:25](#e44I7ntkr9cbvo1DCDtmMRgGRSDBzW6Gt7dn3zdAS5Q) <rebolek (Boleslav BÅ™ezovskÃ½)>:
@duskhorn:matrix.org Iâ€™ve rebuild the Red console on Void, itâ€™s [here](https://rblk.eu/red-void). Warning, my server currently doesnâ€™t autodetect binaries, so it has wrong MIME type and shows as text. Iâ€™ll fix it ASAP

[8:25:43](#L2YsFuNG5t9yUcVOqi5u-okAl80hvsoxHQgPtZzipKY) <rebolek (Boleslav BÅ™ezovskÃ½)>:
Server fixed and restarted, it now serves binary files properly.

[8:58:02](#9e9i5z0SOPRUbDdOwIGChzT_Ci51LdSdTwq8eImpBvY) <duskhorn>:
downloading it atm, thanks in advance!

[8:59:01](#XSuOHFlzJ73FJKdWa7d-7AJR0IcsGpZGS0F0cm9qwRI) <hiiamboris (NOT THIS ONE)>:
@qtxie why would there be no warnings?

[9:01:45](#rPmXJd_UIUoMK69fdyLq85cdugcVShTEhx1D8Yn-yFQ) <duskhorn>:
same error
```
*** Access Error: cannot open: %file.png
*** Where: decode
*** Stack: load
```
 

[9:04:09](#GABMAKKku44iqERacjM6QeG6b2k-JGiyDPsTMEF22bc) <hiiamboris (NOT THIS ONE)>:
you installed the dependencies @qtxie just listed?

[9:06:47](#oPAlmHw_JmnIf8W7vRt--p9H1fY7X7W4oRagHWnSp3k) <qtxie>:
> @qtxie why would there be no warnings?

Warning? Actually the `gdk_pixbuf_new_from_file` failed. Seems gdk_pixbuf cannot find the loader to decode the image.

[9:07:16](#ZUoSeJez5wf_fBbc1aSJgnrmPd5uP9QzgSMhwCVBhjo) <qtxie>:
@rebolek Does it work on 32bit VoidLinux?

[9:07:59](#3ny-5JhqJNww-5Z1Q2G5KlDgGfj8VUM9uz9QqM4Gdfs) <duskhorn>:
> <@hiiamboris-5a077c7ad73408ce4f7e3333:gitter.im> you installed the dependencies @qtxie just listed?

yes, I have all of them already installed

[9:09:11](#dz1igKutyZYJ-EkAkSInwfcWX0U2DqUkld2hM7wRQAU) <qtxie>:
I suspect the `loaders.cache` doesn't update for 32bit gdk on Void. https://github.com/void-linux/void-packages/blob/master/Manual.md#gdk-pixbuf-loaders

[9:12:32](#N7Cu2bM-JCYQMHJVGyFfCAtcSl_68hvPh55YiNfXfDM) <qtxie>:
It cannot load other image formats either. I have all the loaders on the system, just that gdk_pixbuf cannot find it for some reasons.
```
#  ls /usr/lib32/gdk-pixbuf-2.0/2.10.0/loaders
libpixbufloader-ani.so   libpixbufloader-ico.so   libpixbufloader-qtif.so  libpixbufloader-xpm.so
libpixbufloader-bmp.so   libpixbufloader-jpeg.so  libpixbufloader-tga.so
libpixbufloader-gif.so   libpixbufloader-png.so   libpixbufloader-tiff.so
libpixbufloader-icns.so  libpixbufloader-pnm.so   libpixbufloader-xbm.so
```

[9:15:01](#5CZW9oUJ9KG7R93PnPiYeMjRZfmr1LeES9lpggMd-iE) <duskhorn>:
> <@qtxie-55659cf315522ed4b3e10064:gitter.im> It cannot load other image formats either. I have all the loaders on the system, just that gdk_pixbuf cannot find it for some reasons.
> ```
> #  ls /usr/lib32/gdk-pixbuf-2.0/2.10.0/loaders
> libpixbufloader-ani.so   libpixbufloader-ico.so   libpixbufloader-qtif.so  libpixbufloader-xpm.so
> libpixbufloader-bmp.so   libpixbufloader-jpeg.so  libpixbufloader-tga.so
> libpixbufloader-gif.so   libpixbufloader-png.so   libpixbufloader-tiff.so
> libpixbufloader-icns.so  libpixbufloader-pnm.so   libpixbufloader-xbm.so
> ```

I confirm I have the exact same output for that folder

[9:20:45](#qIm52Li1ZBezCM5e6Ap7-ITOYiCWJLC1ssrw8tIBwrE) <rebolek (Boleslav BÅ™ezovskÃ½)>:
Yes, I build and tested it on 32bit Void Linux live image.

[9:21:38](#6rYtPC2cc2QhT6AzlMLG_a4_Ts79ppsikSkJTxdIiEY) <qtxie>:
@duskhorn:matrix.org Did you install the gtk+3 package?

[9:24:31](#ZawuTm2y-xmRS_KVJqTPMee3xvvWRTlJz9HuZbeHikk) <duskhorn>:
Yes

[9:25:16](#Q6JypYTYilGiAzgWtM3WWeRc5T6ax55g_ET5uKz5CKg) <duskhorn>:
Both 64bit and 32bjt

[9:25:22](#qAuLtqYMMpeC-x8xwJxOGq8meAkL_Y6McItXwMQF1KY) <duskhorn>:
* Both 64bit and 32bit

[9:53:02](#z73-MSDQIuqjS-vdt5IYHFYt16FS5H3fVB_A5oJ6pGs) <qtxie>:
@duskhorn:matrix.org Do you know how to run `gdk-pixbuf-query-loaders --update-cache` for 32bit gdk-pixbuf.

[9:53:09](#jlMvgXTgO2sal2ZUUSUt8ydwYZTEj9VOxeVMgauVXIQ) <qtxie>:
* @duskhorn:matrix.org Do you know how to run `gdk-pixbuf-query-loaders --update-cache` for 32bit gdk-pixbuf ?

[9:54:11](#dvtlyQa9oO2vUYDM0c0JVlWz58S5r6eSHDH92w3vjIE) <duskhorn>:
I honestly have no clue

[9:54:28](#10BFjUoSmSEzb2oiYwdjG_y-izfZoHOSeqyuPUVgVB4) <duskhorn>:
I've never done something like that before

[11:52:04](#ZkfGBmtW9tJJkEe2PpTtT8_O0DC4n00hOcivud3j5_Q) <qtxie>:
Thanks. Then it's an issue on 64bit Void Linux.

[11:56:18](#sSazzgykpaHZbHWITRc5WJlMXs6XsJBhUYcECHSX4SE) <duskhorn>:
> <@qtxie-55659cf315522ed4b3e10064:gitter.im> @duskhorn:matrix.org Do you know how to run `gdk-pixbuf-query-loaders --update-cache` for 32bit gdk-pixbuf ?

How can I try doing this?

[11:56:20](#VzMEMKu8grk_JN6yQNiazbr9nRvmiQzos_1ZA6SeQv8) <qtxie>:
* @duskhorn:matrix.org Do you know how to run `gdk-pixbuf-query-loaders --update-cache` for 32bit gdk-pixbuf ?

[12:25:35](#jV6ZRjUtWH_NPmcn-AEsMaza3JXbNn2ioWyorpizd_8) <qtxie>:
I don't know. í ½í¸… This is the first time I use Void Linux.

[12:25:35](#ZuxLlpxqKjJ_uq3iPA9bpqnL3yXuc91qETSOTeV04Co) <qtxie>:
* @duskhorn:matrix.org Do you know how to run `gdk-pixbuf-query-loaders --update-cache` for 32bit gdk-pixbuf ?

[12:29:15](#d0mty79TVCd02xbZLwWcPM8s_9KM1v89GT6mkZ6Oqk4) <duskhorn>:
Haha that's ok.
How would you do in any other distro? 

[20:08:26](#Iu1syiUC_MZFcUKqze45Y7x7eqEzz4MP-1w4NqqlEXw) <greggirwin (Gregg Irwin)>:
Let's make sure to note this issue in the wiki, for future reference.

## 21-Nov-2021

[18:51:05](#SBPX6RGaP2XyLvjZan500W64bex4y8ep8DSnZyovncA) <hiiamboris (NOT THIS ONE)>:
I *love* floating point...
```
>> mold/all 0.00263
== "0.00263"
>> mold/all round/to 0.00263 0.00001
== "0.0026300000000000004"
>> mold/all round/to 0.00263 10.0 * 1e-6
== "0.0026299999999999995"
```

[19:01:23](#p0OF7oJJVY5eLT_CMpdofx8Gxou3w5rZkWlhwEuVej0) <greggirwin (Gregg Irwin)>:
Welcome to Hell. 

[19:08:13](#g60B3MqfmG62EUj-nQd4QY4H0fJrObkktdsIlpsz7hI) <hiiamboris (NOT THIS ONE)>:
what's also fun is that both `round/ceiling` and `round/floor` produce the same value, but not the original one í ½í¸‰

[19:10:36](#z_Tc9uXti6A3-we0zNANS--YMNHXvyReEn4a47kIrb8) <greggirwin (Gregg Irwin)>:
`ceil` and `floor` are coming from the std C lib?

[19:36:53](#gf00LX832uMeF1BDpkae4qmkU3xGpQQGfFh_pw59iLg) <hiiamboris (NOT THIS ONE)>:
yeah, but I guess `/to` requires two multiplications: before and after rounding

[19:39:21](#qaRxED2xHT9-5gjyihDsgxsVXZdeiRAHCB3t-2hjuqc) <greggirwin (Gregg Irwin)>:
I see that now. 

[19:40:00](#WI6DDPm5kyUXzs5_sH2i2OYc4FUP-u5oskCVlDsRwDM) <greggirwin (Gregg Irwin)>:
But is that only for scales >= 1?

[19:41:26](#kq5QEBknHC1xPDsB6WZJALRvsX6o-yxNpdC5SByqrjI) <hiiamboris (NOT THIS ONE)>:
I guess it should be the same issue. Just need to figure out magic numbers í ½í¸‰

[19:43:16](#MzJoyH8At6e6yXzyERjASMmIjOlXDC19OT3k-oOABvM) <hiiamboris (NOT THIS ONE)>:
It's solved at formatting level though, if I limit precision at 16 digits.

[19:47:28](#h7hvDhB9cz16GR_7LSex237kC2yBRjnv9S7PW8opy9U) <GiuseppeChillemi (GiuseppeChillemi)>:
I don't see my mesages anymore!

[19:47:33](#tBBnU7Buuu1FC2cvz_8pDClEDgO1X5jJcz-Lj1WtsFA) <GiuseppeChillemi (GiuseppeChillemi)>:
* I don't see my messages anymore!

[20:31:34](#YH5el8V8DmCtI4XrjUIueKChovrs3HMOsuuOTU-ybT4) <greggirwin (Gregg Irwin)>:
I don't remember what my comment referred to, but maybe it's some Gitter glitch. I still see all your comments in red/code, and some earlier in this group.

[21:54:21](#qXnm9elm4Olgnjuu5kwTtGz88u56S3LFXdFe7LhCwu8) <GiuseppeChillemi (GiuseppeChillemi)>:
Could you link to the first one?

[21:56:16](#vK0ElQ0iTVheHt16xjmOp-mgZCsVhkKae-Mcx26DbFU) <greggirwin (Gregg Irwin)>:
This is the most recent: https://gitter.im/red/bugs?at=618995c3fb8ca0572b0e8cd7

[21:57:19](#BhYRXk9G6ZGZ2zkzd5wd3Y88Kl01wDKvHdjXsiP_bco) <greggirwin (Gregg Irwin)>:
@GiuseppeChillemi I replied in the thread about deleted messages, but Gitter said the thread was deleted. No idea what's going on there.

[21:58:06](#VknU155hUnPwdcjAMh6XTxpgkMZxEtT0Qep4Or1BaiY) <greggirwin (Gregg Irwin)>:
@hiiamboris I'm OK with 16 digits in `format`.

[22:06:07](#kIxjsje57PSxKdeTBGiX3jQvH_oaxuKom4UZu2M57mM) <hiiamboris (NOT THIS ONE)>:
Yeah I'm too í ½í¸‰ 

[22:37:13](#LZns-ZanVLxObkHxKySc4gqQG0YatfdgNtBd3fQOdT4) <GiuseppeChillemi (GiuseppeChillemi)>:
Here it is: someone move to red/code
@greggirwin 
â˜ [21 novembre 2021 17:38](https://gitter.im/red/red/code?at=619a761975fa481649492939)


## 22-Nov-2021

[23:31:11](#GkaJLLItUmbSBI7qtmqb57qP4NplL_20A4du2hmAfrs) <gltewalt (Greg T)>:
> ```
> $ red
> >> load %file.png
> *** Access Error: cannot open: %file.png
> *** Where: decode
> *** Stack: load
> ```
>  the file in question is the following

Worked fine for me

[23:32:10](#M0xuLTwge4Z4hD6YP3bexoVEZcu5BH539QJY3GyKSvI) <gltewalt (Greg T)>:
```
>> i: load/as %file.png 'png
== make image! [1280x1143 #{
    000000000000000000000000000000000000000000000000...
```



[23:32:41](#SYrV5t9jg-ZuU8nJsydw8iQLC7nDpf36FRp2aUocf6c) <gltewalt (Greg T)>:
`Red 0.6.4 for Linux built 6-Nov-2021/23:54:30-07:00  commit #fd1f289
`

## 24-Nov-2021

[5:11:37](#3rhtxQNTcxllmugg-ZA2dC3WUNxLDddmDvORtMudjPo) <gltewalt (Greg T)>:
`request-dir` hangs on newest Linux.  Cancel and Ok buttons no respond.


[5:11:44](#EXciSVNazJEJgNRaGUl1p8Eu0m29QTYzg0BXPrkYQGA) <gltewalt (Greg T)>:
`Red 0.6.4 for Linux built 13-Nov-2021/3:17:19-07:00  commit #5f09829`

[5:15:12](#zdGxEdlETjjeUGP2pJbuhq-yZvD_zQV27VGTNK-IdpM) <gltewalt (Greg T)>:
Same with `request-file`

[5:21:11](#9tA2pvYatj05L1W3CZ0qTlnNHFgDHCHkgVdKV3jug54) <gltewalt (Greg T)>:
* Window is not dismissed with `request-dir`  on newest Linux.  Cancel and Ok buttons no respond.


[20:36:04](#hzVHJUmd4qNkyGI1tLuX4ua5yIyqZtxP7QlpWGzOfFw) <gltewalt (Greg T)>:
yay? nay?

[20:58:11](#Zkrq-eiWtAhDgHpndDfgswdhSJVnxazVmH6co_fxRL4) <hiiamboris (NOT THIS ONE)>:
just crashes on Ubuntu

## 27-Nov-2021

[18:00:03](#zBZahCgDEw0Qs8Y6zbcAL34WbF3nSZri2MQdbtkZfqw) <hiiamboris (NOT THIS ONE)>:
is this by design I wonder?
```
>> m: #(ab 1 Ab 2 aB 3 AB 4)
== #(
    ab: 1
    Ab: 2
    aB: 3
    AB: 4
)
>> loop 4 [remove/key m 'ab]
== #(
    Ab: 2
    aB: 3
    AB: 4
)
```

[18:00:39](#yXt7W-RIBmwO1WfeIeWuv-eZA-Vg0hIL-2UOqK7YR_Y) <hiiamboris (NOT THIS ONE)>:
access is case-insensitive, while removal is sensitive

[19:32:52](#fGOiZ1ebGeI0svr8bKfp_MBAIohqAgiZIgVU7lz88H8) <gltewalt (The other Greg)>:
Probably - because accidentally losing something makes people uncomfortable.
They should both be sensitive 

[19:59:12](#jxVcsSecxBJjgGhppHsgtaf4L1oYkwbH-AGgy_LAGZw) <greggirwin (Gregg Irwin)>:
https://github.com/red/docs/blob/master/en/datatypes/map.adoc#removing-keys 

It is documented, but not explained. We can add to docs that if you *need* case sensitive access you can use other funcs to access values (that is in the access section). Because there is no other way to remove entries, it is always case sensitive.

There seems to be an error in the retrieval docs though:

> Trying to access a key not defined in a map will:

> produce an error if the path syntax is used.

It should, and does produce `none`.

## 7-Dec-2021

[10:30:55](#PrOl5q1E0xZ-9eMXxw7GOOsWNEOCcH9jIMCzxuKr3Bw) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Comments on [these two lines](https://github.com/red/red/blob/265878868474077d30b29478d1a7f836df0051d6/runtime/redbin.reds#L61-L62) seems to be reversed!

[22:20:18](#QKf4FQwZ-oEgCBLd3C3E_18fFaeVrcAwo-N2uv76qnw) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Also there are differences between the Rebol encoder and Red/System one. Like [padding strings to 32bytes in R/S](https://github.com/red/red/blob/265878868474077d30b29478d1a7f836df0051d6/runtime/redbin.reds#L1907), but [padding to 4 bytes in Rebol](https://github.com/red/red/blob/265878868474077d30b29478d1a7f836df0051d6/utils/redbin.r#L240).

[22:55:37](#Hdwv2TXsPd7mO6AYFd6F4Xvjy9jAJan_KF3lVKoZ6P4) <greggirwin (Gregg Irwin)>:
Redbin may not be Rebol compatible, but the comments are something @qtxie  should be able to confirm quickly. Unless @9214 happens to be lurking.

[23:11:24](#zngAPBR_za7jGbsawWFjUjKhfleJP00pL-tIN-RqP_I) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Hm... now I see that the padding is in R/S specified in bits and in Rebol by bytes. That is source of the difference.

[23:13:34](#QsgrfYTHjpXulqBpOOUsaicaUed6lMe67wxR8A-sBzs) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* Hm... now I see that the padding is in R/S specified by bits and in Rebol by bytes. That is source of the difference.

## 8-Dec-2021

[1:41:11](#ZBHyiIjT8KjVelvlg0HR9nHT0bHdKdDpoUawrijEehI) <qtxie>:
> Comments on [these two lines](https://github.com/red/red/blob/265878868474077d30b29478d1a7f836df0051d6/runtime/redbin.reds#L61-L62) seems to be reversed!

Yes. I think so.

[3:19:10](#4pnSRFgAvoVlaAYCldmRlhlndzo7VfvVWUYx8qklNg8) <greggirwin (Gregg Irwin)>:
Thanks @qtxie, and thanks for catching that @Oldes.

## 9-Dec-2021

[14:46:09](#W5mX1_OZU2wBCOJZ60TK9ePXHZwpGef1gj-UbgJsAzs) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
@qtxie looking at [this part of code](https://github.com/red/red/blob/c691a4193dc9a350d254f83aa69913f6d3b5b1e7/runtime/crush.reds#L46-L48), there is also something wrong, because `524288` is not `1 << 18`, but `1 << 19`!

[14:48:57](#bGsNr3kbldm7e6Dd-9efbS4buLdgWZTQSj3if552uRs) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
As [there is](https://github.com/red/red/blob/c691a4193dc9a350d254f83aa69913f6d3b5b1e7/runtime/crush.reds#L52) value `7`, I suppose, that `CRUSH_HASH1_BITS` should be `19`.

## 10-Dec-2021

[10:52:00](#9F_YiByLez634zMRoKXjLH2WfXnpXWI8e91G_qTNgGg) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
(But it is not an issue, because the `CRUSH_HASH1_BITS` is not used anywhere (just in comments for the other defines)

## 12-Dec-2021

[4:29:08](#ZK95SPlNR-2YKHDp7GO-NmGWyDyhwNh_MSAoWy9YrGA) <qtxie>:
Some comments may be incorrect. IIRC, I adjusted some parameters to get better compression ratio for Redbin.

## 24-Dec-2021

[11:28:34](#yg5tpj05NovAPWTbe2bAtGmEQjO4e2LWL6Lyp2YKuc0) <kermitaner (kermitaner)>:
is there a problem with the forall / continue commands ? this script is crashing for me ( latest build / windows ) 
```
Red []
arr: ["1" ""]

forall arr [ 
  if empty? arr/1 [continue] 
]
?? arr
print "end"
```

[11:38:48](#zjkH-1n2a1gZh8SFMjkuyYxtrBNYVG9TNZumlNBqJkw) <hiiamboris (NOT THIS ONE)>:
yes https://github.com/red/red/issues/4990

[12:11:06](#j40P6-uvOFrJmnXMm8gY-g4mFsFk9zIYgdSyHtgBEIw) <kermitaner (kermitaner)>:
thx, good to know

## 5-Jan-2022

[16:55:01](#s3dD88DhAN_dzOMQyqvhLFymL8DwWaU0lUsm0ahiRrU) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
I believe, that there should be `%""` instead of `none` in these cases:
```red
>> split-path %/
== [%/ none]
>> split-path %./
== [%./ none]
>> split-path %../
== [%../ none]
```

[17:12:16](#iJg4etaVZdioIMtyKmqNt3z4plBpBLhVJVOKNoUA4Nc) <hiiamboris (NOT THIS ONE)>:
looks like it will be a win in some cases and loss in others

[17:18:31](#ydH5mqfJTEpczB9bSpFO7DKKRSJ57AuobS9N8Yn03kE) <greggirwin (Gregg Irwin)>:
@Oldes I can dig out my old `split-path` tests, based on Ladislav's idea that `rejoin split-path` should produce the original result. I always liked that idea, but as @hiiamboris it's not a silver bullet, just a different design choice.

[17:20:46](#m0I_3xGRKDb8Jn4sW4Ksfe2jmhG0vaHQNxjh6ABfxk4) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
@hiiamboris can you be more specific? For me it is clear issue. It does not make sense to have 3 exceptions, where there is `none`.

[17:36:17](#tUGiKZL81N-B2POg77z131Mwdgx2hPkLt1_wYJVLpeo) <hiiamboris (NOT THIS ONE)>:
well, for example you could put split-path into `until` until loop and check if file part is none

[17:36:29](#kH7NsvK-RwziiMhfexfkLiQUcj2gcTuwvYLFPoWaan0) <hiiamboris (NOT THIS ONE)>:
or just use default filename when it is none

[17:37:08](#VxTzMy2OopHfZDLLXbJF638mrRSXw99fxhFmh1HPPxc) <hiiamboris (NOT THIS ONE)>:
both cases are a bit shorter with none than with `%""`

[17:37:57](#h822zk8bqZNU2ddYG4YCKLeJ1SbOKEXTkZOQpit0J_0) <hiiamboris (NOT THIS ONE)>:
I'm not against either design

[17:39:30](#MrCvnvpcVu9B_RaxiV17Jgq5y3XZoBmhuCLjfUpC50s) <hiiamboris (NOT THIS ONE)>:
but this is totally an inconsistency:
```
>> split-path %""
== [%./ %""]
```
enough to open an issue

[18:18:19](#1QQF1ggnYDo9yoZB1fU7kYrMNGSzeUBqhlrnVNAUzeE) <greggirwin (Gregg Irwin)>:
Here's one I drafted some time back that matches the current behavior, but is much simpler.
```
split-path: function [
	"Returns a block containing a path and target."
	path [any-string!]
][
	target: any [find/last/tail path slash   path]
	reduce [copy/part path target  to file! target]
]
```

[18:25:00](#epifKnQnQEYz0QhWePn-KCURS2RyLq7VjNRaKln9J8Y) <zentrog>:
Could it be that the problem is not with `split-path`, but with `rejoin`?
```
>> rejoin [%/ none]
== %/none
```
Why does it convert `none` to `%none`? I know it's just just forming it, but it doesn't seem that helpful to me. The empty file `%""` seems weirder to me than `none` for "no file"

[18:25:00](#DkLvzz6nWmUXD9-jr00hWh7BSIU0peirr4UIuO3k9to) <hiiamboris (NOT THIS ONE)>:
PR it :)

[18:28:27](#uOVef1mB76IiimWSPFTy7IspPuV3LQJ75Qur_kXPIUg) <greggirwin (Gregg Irwin)>:
Sorry, mine does *not* match the current behavior, which is probably why I didn't PR it. But it *does* hold true to `rejoin`.

[18:30:22](#8AVdKpj186yFZmb0pOZJFfVWYbQLLhsz03q4usZJcEk) <greggirwin (Gregg Irwin)>:
@zentrog:matrix.org if `none` formed to `""`, you would never see it in a lot of output.

[18:40:43](#MJFer5P3-vu4gZMsibtpJy5QU9LzBDvoIXUsCMs8iD4) <zentrog>:
I don't mean changing `form`, but `rejoin`, since it is producing a `file!`, not a `string!` in this case. It just seems weird to me that you would get a file named "none" out of the value `none`.

[18:47:43](#Wyh9zlFeg3o8n9DrPuH4yx063kLEhj4Gwh_5v9bZRCE) <toomasv>:
Could use `trim`? 
```
rejoin trim split-path %/
== %/
```

[19:24:09](#ox6NB_C5c6XCz-RWdThSOSxYaZleEEzZumQflj2h8Oo) <greggirwin (Gregg Irwin)>:
While we can work around it, the best thing to me seems to be making `split-path` the best it can be first.

[19:28:17](#OZfY1r3uH7qDEPA52r3EDSChv-erWjvAQ_rCgBmiTJc) <gltewalt (Greg T)>:
```
>> help split-path
Func spec couldn't be parsed, may be malformed.
func [
```



[19:39:12](#CIievZGk6O6o7fXZGJbr0Kf-pq1-1ckKJg8V-FwCcy8) <greggirwin (Gregg Irwin)>:
I added notes and comments to https://github.com/red/red/issues/5024

[19:40:27](#U3__H4T2KAC0-CNAuSFlXxzBl_d0oCjJoPfW5CdP0nc) <hiiamboris (NOT THIS ONE)>:
@gltewalt can't reproduce

[19:40:30](#dluf4dbaXJ15QAl9oA4H9RBvAbKq7zqAD7cHflEUgvk) <greggirwin (Gregg Irwin)>:
@gltewalt good catch. We're going to see a lot of that now, as the interpreter events changed func specs. Oy.

[19:41:10](#Xd8-u2logdI7iyHvfyAImshNTjO9ONkgVXekSQRVFis) <greggirwin (Gregg Irwin)>:
`split-path` now has `[no-trace]` in it.

[19:41:13](#fNBSevn3PBHrbFgLOcVTvC-JzcML2smUZwZ1mZE3DSE) <hiiamboris (NOT THIS ONE)>:
oh, on newer build I can

[19:41:53](#4B68D86IeNGD54RdvigeviCuzGbwUqiWuVO9D-EgAKM) <greggirwin (Gregg Irwin)>:
`clean-path` and `layout` are also broken.

[19:44:28](#0W_Via9HndBI5fluwyzNVCUJdKtf5vfhy0CjOr9KTL8) <greggirwin (Gregg Irwin)>:
Patching `help` now.

[19:45:16](#7YEUg4JguYq746JPmLRBE12SLz_bMiLIPJhjnaYQHGQ) <gltewalt (Greg T)>:
@greggirwin  `split-path` is too dense. Your split-path is better, is it not?

[19:48:21](#t9oIG9R1t5LKSlZvwaPOlZLTwGICGTaxxQU3hTQRLUI) <greggirwin (Gregg Irwin)>:
The old one is pretty dense, but at least not too large. Mine is *different* and a breaking change, so not to be considered lightly. If we want magic relative dirs added, per my comments on the ticket, mine will get uglier as well.

[19:50:43](#mNlMJ6H0k-jy4UfH1Oiz-RHiPSokKMFr7H_VeJEK34I) <gltewalt (Greg T)>:
@hiiamboris  Yeah `Red 0.6.4 for Linux built 30-Dec-2021/17:47:48-07:00  commit #972994d`

[19:54:11](#Gv6q3O_16et-2hSz_-yPh7qzIHi_lW2b5vyX2agW93c) <gltewalt (Greg T)>:
According to this `Splits a file or URL path. Returns a block containing path and target`, `split-path %""` should be `[%./ none]` Right?

[19:57:34](#OfHgbPT76GQl2lhswmZvKaDO5pLt0Yv3s5dXNtIQRZw) <gltewalt (Greg T)>:
Because their is no target. 

[19:58:46](#QA3EhgdmvOYsuo-S8UT8eCXDyV3N-MMj1_aQM1Hv43M) <zentrog>:
From a purely logical standpoint, the existing behavior makes sense to me. If the function is meant to always return a directory part with a file part - I like `none` better for "no file part", instead of a `file!` which cannot exist. But maybe there are some use cases which are really awkward dealing with that? I've never used it so far though. I always run into little things that are different from my expectations, and it's not always clear to me what the idiomatic way would be.

[19:59:29](#azt_U_lR9-PFQ5fCkbq2wk8DDkop2x40hKXoTtikYiI) <gltewalt (Greg T)>:
And it's a result  of `find` when find fails 

[20:00:04](#sznYTevuKYZ2JHkAltDwEJqEa-TP8skLYPI1ULtvE8s) <gltewalt (Greg T)>:
* And `none` is a result  of `find` when find fails 

[20:00:04](#QB5MwZXyVKXloG3FqGuF_21QWWiN3KPrAZ-5FvFJmKc) <zentrog>:
A test could be added which checks that all defined function specs are valid

[20:11:08](#os09_r0IAEwTaHxh21zt2X8qi1KhPH3O07QMGkkiIhY) <greggirwin (Gregg Irwin)>:
@zentrog:matrix.org that's a good use case for a static analyzer. This is a case of `help` being specific in the attrs it checks for, rather than just accepting a block, and suffered the classic fate of other changes breaking that. :^\

[20:13:08](#pGrxJvZcc7ubvIkYERlHEvVW40zpkiZCiQc176hlFT8) <greggirwin (Gregg Irwin)>:
It's also an interesting area because people can write new func-making wrappers that don't follow the same spec, and which `help` will then choke on. What it does in that case is show you the source as a fallback.

[20:23:02](#27Nd78hOfUamb6HsDSPfCoiOOdQggE266PiDXuDNGTI) <gltewalt (The other Greg)>:
Hey, I use the wrong "there"

[20:59:08](#A_48UlC0FX6RMnLglfz6aWv7RqvGjIZxuoQISoImGXg) <greggirwin (Gregg Irwin)>:
I all do that sometimes.

## 9-Jan-2022

[20:41:05](#hLBm3-6xCNf4V3acHsixaz3Ao06AXmSqVVmHCwtUa4I) <GiuseppeChillemi (GiuseppeChillemi)>:
Could user defined part be added to the new function specs? I mean `[USR: [content]] ` and everything inside it is ignored but accessible. It would be great for flagging, tagging, cataloging, so extending the functions info.

[21:04:53](#xCuqr9V0Esai0FgJdxo9kL6cFAp1BHjtjK8EvA6tjls) <hiiamboris (NOT THIS ONE)>:
no

## 10-Jan-2022

[6:07:57](#u1rWiYkLDj9HPrzYbtuMVvo03_Wr9BFGRVGplBNJbCA) <rebolek (Boleslav BÅ™ezovskÃ½)>:
It can, if you write your own function constructor.

[6:09:29](#HUH6HrtKjbGeAx8i1baWpix8NiR-_BwMXxAttSAIhBA) <rebolek (Boleslav BÅ™ezovskÃ½)>:
Or you can abuse refinements for that

[7:48:25](#tFmpuwTHC6PRpHfS9l7G-qJ7jFz3ybE0LaJxfj4AMoU) <gurzgri>:
Is this to be considered a bug? I would expect LENGTH? to return 20, but it returns what seems to be a memory address or some other random value:

```
Red []
register-scheme make system/standard/scheme [name: 'len actor: context [
    open: func [port] [port]
    length?: func [port] [20]
]]
probe length? port: open len://test ;== 75611332
```
Or is it some kind of misunderstanding on how port schemes are supposed to be implemented?

[8:20:59](#QvbjBU796He9oS1GW9brLZOKoBAJ_AkyyO_Qkpz2S6s) <rebolek (Boleslav BÅ™ezovskÃ½)>:
Interesting. @qtxie do you know what is going on here?

[8:54:31](#FntXAYM3MNQdMH7s4SE6ta5s8We0OP0GjZtMmDCxgrA) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
@gurzgri it's a bug... the `length?` on opened `len` port should return `20` according your spec.

[8:55:57](#8XpgVZkmcN_17eT6k4xX18F31h0Or4M9TWjKe_dUddo) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
In Rebol3 it is:
```rebol
sys/make-scheme [
	name: 'len
	actor: [
	    open: func [port] [port]
	    length?: func [port] [20]
	]
]
length? open len://test ;== 20
```

[9:00:29](#BeNrr-aoMVk7sPFAzm_pOjVb-CLu6y5iZYyMFe_geL0) <gurzgri>:
I'll open a ticket then, thanks for confirming.

[17:21:05](#fXXe2Nf7Y7jlnvYRHY-QBW19Z40EOO8pDxG8x2nDlWQ) <gltewalt (Greg T)>:

Buggy?

[17:21:21](#UEUapMgMs-6hxxRMto5PA19q5yHDUmyaVXGrYj-0C7A) <gltewalt (Greg T)>:
```
>> b2: ["aa" "bb"]
== ["aa" "bb"]
>> unique form b2 
== "a b"

>> b2: ["aa" "bb" "cc" "dd"]
== ["aa" "bb" "cc" "dd"]
>> unique form b2 
== "a bcd"
```


[17:23:02](#9AsbUa3GQFXkYwHM0FMTWxY8llsStY8OoGhutRBZfog) <hiiamboris (NOT THIS ONE)>:
no

[17:23:52](#aCW_4k2BMhJEJoAfAb0uQzPZrrqBRffN9SocO5eyIEM) <gltewalt (The other Greg)>:
It's unique-ing space also?

[17:28:52](#_30lRiL7xIu1aAtYRD_xl5c7l0FDEXIPF1W8Ez89uAE) <gurzgri>:
```
>> unique probe form b2: b2: ["aa" "bb" "cc" "dd"]
"aa bb cc dd"
== "a bcd"
```
Not as far as your example goes. `unique` on strings removes all duplicate chars just as it should, I'd say. 

[17:31:13](#80zQXDrD6t9plMZq0VRtARGc4jW4hRZLQV11BLaj83k) <gurzgri>:
* ```
>> unique probe form b2: b2: ["aa" "bb" "cc" "dd"]
"aa bb cc dd"
== "a bcd"
```
(edit after re-reading your question:) Yes, it uniquifies spaces, too. `unique` on strings removes all duplicate chars just as it should, I'd say. 

[17:32:06](#GXjw3jyY_SOzMdH95qZFOQA8x3Tbud9LNMn67_99NLc) <gltewalt (The other Greg)>:
Should it be when applied to string though 

[17:35:18](#hx8p8CHw0pK-cyAnkmuBdLdVMuE4_zudMVGm-w3W2j8) <gurzgri>:
Yes it should, as per definition. `unique` removes all duplicate values from string arguments. 

[17:35:35](#GrIbyMa0F6156kLCur3DDUTdwLsMmDg0WciPV9WgIC0) <gurzgri>:
i.e., all duplicate chars

[17:51:30](#-CTcRms1nASKu53LXS0zJosfvZY5gWprNV5uoggLYXU) <gltewalt (The other Greg)>:
That it does according to description, and "should it?", are different things

[17:58:03](#KDx4a-dDovkbQppjMAGkjeZ3vTLmO16esmcjPssWAcU) <gurzgri>:
Ah, I'm sorry, I didn't realize that you're actually proposing a different behaviour than the one spec'ed. Then you'll probably need some very good arguments for your proposal, because that would be very breaking change. 

[17:58:48](#WvAKJ-xTgFFX6v3pz4n7BPnKyoBlLM_fjhLOs_US-nM) <gurzgri>:
* Ah, I'm sorry, I didn't realize that you're actually proposing a different behaviour than the one spec'ed. Then you'll probably need some very good arguments for your proposal, because that would be a very breaking change. 

[19:17:26](#iJIXT3qxaoAlKB13g4NHRQ0psFyjBwsggl-sQvvMDeY) <greggirwin (Gregg Irwin)>:
@gltewalt:matrix.org I second @gurzgri here. First, tell us why it should. Think about all the other cases, including non-string cases, what they should return, and how you'll reason about them. Maybe throw a `sort` in there to prime the problem pump.

## 12-Jan-2022

[0:01:56](#R7DGB4h_iIoBnGzWtS_5Of68yR4aLWGu3gReZJN0H2A) <greggirwin (Gregg Irwin)>:
@GiuseppeChillemi WRT https://gitter.im/red/bugs?at=61db48616d9ba23328b2ab38 and func metadata, it needs to be a fully-fleshed out proposal. Metadata is good, but we don't want func specs to become bloated. It's also important to think about whether, or how the data may be used at runtime, and how it may be exploited as a security risk. Even in a live system, like Smalltalk, it sometimes makes sense to separate the data for processing and handling. 

For example
```
Re: WRT: func ['name content][ <add content to system catalog> ]
WRT incr [<INCR metadata here>]
```

With an approach like this, you can still put the data close to the context of the function, but can also spec more definitively what its purpose is, formats allowed, etc. With a general dumping ground, things get much messier, as I'm sure we'll see in the wild with `face/extra`. 

[8:24:50](#wCOcG92cJEO5x3FkHrE_b2VOANALwhGI5UH2sJxlQV8) <toomasv>:
But you can also define you func in context containing metainfo, e.g.:
>> context [meta: "My additional thoughts on this func" set 'my func [arg /meta][if meta [print self/meta] arg]]()
>> my/meta 1
My additional thoughts on this func
== 1
```

[8:25:00](#-m4v6lCNPRo2RMXU9WqeQPG4CtE8PMGxAi8c0bHQQ98) <toomasv>:
* But you can also define you func in context containing metainfo, e.g.:
```
>> context [meta: "My additional thoughts on this func" set 'my func [arg /meta][if meta [print self/meta] arg]]()
>> my/meta 1
My additional thoughts on this func
== 1
```

[8:28:21](#0ICzRXE4C7mHCa7ip7SbhMs8YEaX3nTQ1BtiwzJN02I) <toomasv>:
* @GiuseppeChillemi But you can also define you func in context containing metainfo, e.g.:
```
>> context [meta: "My additional thoughts on this func" set 'my func [arg /meta][if meta [print self/meta] arg]]()
>> my/meta 1
My additional thoughts on this func
== 1
```

[23:13:38](#VDTK37JvaHKHii-ovfq67EMuk5mAOsANrk_Vr4yWlmM) <GiuseppeChillemi (GiuseppeChillemi)>:
@toomasv This solution is good but not readable.

[23:48:26](#D-VAuea28MxSm0KGuErmqP8PrrcofMQDQxrUSAog1L4) <GiuseppeChillemi (GiuseppeChillemi)>:
@greggirwin 
> With a general dumping ground, things get much messier, as I'm sure we'll see in the wild with face/extra

I like this idea as it gives the flexibility you need.  `self/extra` or `/user` and you can store and you `LOAD` without reducing anything. 

 I am experimenting with using this inside the function's body:

```
	F-INFO: [
		STATUS: []
		VERSION: 1.0
		LOG: {}
		TODO: {}
		NOTES: {}
		DOCS: {}
		IDEAS: {}
	]
```

But I have found it can also be included in specs body using this technique:

```
f: func [
  arg 
  /local
  any-local 
  F-INFO {
		STATUS: [WORKING]
		VERSION: 1.0
		LOG: {}
		TODO: {}
		NOTES: {}
		DOCS: {}
		IDEAS: {}
}
] [
  <my-function-body>
]
```

And you can get it using:

```
>> parse spec-of :f [thru 'f-info s: (probe load first s) to end]
[
    STATUS: [WORKING] 
    VERSION: 1.0 
    LOG: "" 
    TODO: "" 
    NOTES: "" 
    DOCS: "" 
    IDEAS: ""
]
```

I am starting to adopt this technique so I can start to keep track of each function stage of development as we do with the script heading.  

[23:50:14](#KDYqF9-CPJ0ruo_VmMWkRiemLXpaQYL-Z7ZeyvkxGW0) <GiuseppeChillemi (GiuseppeChillemi)>:
* @greggirwin 
> With a general dumping ground, things get much messier, as I'm sure we'll see in the wild with face/extra

I like this idea as it gives the flexibility you need.  `self/extra` or `/user` and you can store and you `LOAD` without reducing anything. 

 I am experimenting with using this inside the function's body (I would prefer having it in function's SPECH)

```
	F-INFO: [
		STATUS: []
		VERSION: 1.0
		LOG: {}
		TODO: {}
		NOTES: {}
		DOCS: {}
		IDEAS: {}
	]
```

But I have found it can also be included in specs body using this technique:

```
f: func [
  arg 
  /local
  any-local 
  F-INFO {
		STATUS: [WORKING]
		VERSION: 1.0
		LOG: {}
		TODO: {}
		NOTES: {}
		DOCS: {}
		IDEAS: {}
}
] [
  <my-function-body>
]
```

And you can get it using:

```
>> parse spec-of :f [thru 'f-info s: (probe load first s) to end]
[
    STATUS: [WORKING] 
    VERSION: 1.0 
    LOG: "" 
    TODO: "" 
    NOTES: "" 
    DOCS: "" 
    IDEAS: ""
]
```

I am starting to adopt this technique so I can start to keep track of each function stage of development as we do with the script heading.  

[23:51:05](#SnGZk9wBMYastO5IMpb75gRaYh2KGcHHNqHrENKJzPg) <GiuseppeChillemi (GiuseppeChillemi)>:
* @greggirwin 
> With a general dumping ground, things get much messier, as I'm sure we'll see in the wild with face/extra

I like this idea as it gives the flexibility you need.  `self/extra` or `/user` and you can store and you `LOAD` without reducing anything. 

 I am experimenting with using this inside the function's body (I would prefer having it in function's SPECH)

```
	F-INFO: [
		STATUS: []
		VERSION: 1.0
		LOG: {}
		TODO: {}
		NOTES: {}
		DOCS: {}
		IDEAS: {}
	]
```

But I have found it can also be included in specs body using this technique:

```
f: func [
  arg 
  /local
  any-local 
  F-INFO {
		STATUS: [WORKING]
		VERSION: 1.0
		LOG: {}
		TODO: {}
		NOTES: {}
		DOCS: {}
		IDEAS: {}
}
] [
  <my-function-body>
]
```

And you can get it using:

```
>> parse spec-of :f [thru 'f-info s: (probe info: load first s) to end]
[
    STATUS: [WORKING] 
    VERSION: 1.0 
    LOG: "" 
    TODO: "" 
    NOTES: "" 
    DOCS: "" 
    IDEAS: ""
]
```

I am starting to adopt this technique so I can start to keep track of each function stage of development as we do with the script heading.  

[23:52:01](#SkIbHWuG48nKpO_-pYXueALwC26Bfkmg-_BEnLZLC9k) <GiuseppeChillemi (GiuseppeChillemi)>:
* @greggirwin 
> With a general dumping ground, things get much messier, as I'm sure we'll see in the wild with face/extra

I like this idea as it gives the flexibility you need.  `self/extra` or `/user` and you can store and you `LOAD` without reducing anything. 

 I am experimenting with using this inside the function's body (I would prefer having it in function's SPECH)

```
	F-INFO: [
		STATUS: []
		VERSION: 1.0
		LOG: {}
		TODO: {}
		NOTES: {}
		DOCS: {}
		IDEAS: {}
	]
```

But I have found it can also be included in specs body using this technique:

```
f: func [
  arg 
  /local
  any-local 
  F-INFO {
		STATUS: [WORKING]
		VERSION: 1.0
		LOG: {}
		TODO: {}
		NOTES: {}
		DOCS: {}
		IDEAS: {}
}
] [
  <my-function-body>
]
```

And you can get it using:

```
>> parse spec-of :f [thru 'f-info s: (probe info: load first s) to end]
[
    STATUS: [WORKING] 
    VERSION: 1.0 
    LOG: "" 
    TODO: "" 
    NOTES: "" 
    DOCS: "" 
    IDEAS: ""
]
```

I am starting to adopt this technique so I can start to keep track of each function stage of development as we do with the script header.  

[23:52:49](#vzhf1XKnEM_wKIID6fAngbZfkcsg5p2rkcNbN4VTK5I) <GiuseppeChillemi (GiuseppeChillemi)>:
* @greggirwin 
> With a general dumping ground, things get much messier, as I'm sure we'll see in the wild with face/extra

I like this idea as it gives the flexibility you need.  `self/extra` or `/user` and you can store and you `LOAD` without reducing anything. 

 I am experimenting with using this inside the function's body (I would prefer having it in function's SPECH)

```
	F-INFO: [
		STATUS: []
		VERSION: 1.0
		LOG: {}
		TODO: {}
		NOTES: {}
		DOCS: {}
		IDEAS: {}
	]
```

But I have found it can also be included in specs body using this technique:

```
f: func [
  arg 
  /local
  any-local 
  F-INFO {
		STATUS: [WORKING]
		VERSION: 1.0
		LOG: {}
		TODO: {}
		NOTES: {}
		DOCS: {}
		IDEAS: {}
}
] [
  <my-function-body>
]
```

And you can get it using:

```
>> parse spec-of :f [thru 'f-info s: (probe info: load first s) to end]
[
    STATUS: [WORKING] 
    VERSION: 1.0 
    LOG: "" 
    TODO: "" 
    NOTES: "" 
    DOCS: "" 
    IDEAS: ""
]
```
Now `info` contains our information block.

I am starting to adopt this technique so I can start to keep track of each function stage of development as we do with the script header.  

## 13-Jan-2022

[0:10:16](#bZcipdzlrYzX3lA560UQX_ZcX309arpZnh02hxYPdho) <greggirwin (Gregg Irwin)>:
As long as you accept the risk that Red may break code that does clever things like this. :^)

[8:58:49](#ZNSuBFEfnBbMJ6gu-iYZZp94A0RFb7EzN6sje5ijkzQ) <GiuseppeChillemi (GiuseppeChillemi)>:
In this case, first position in the body of function is a safer place. 

[16:11:30](#CTUcb_VpcWwRKbpZsdFic7_77aNCSAGdOzkWODwsmV8) <GiuseppeChillemi (GiuseppeChillemi)>:
@greggirwin Do you think we could continue this discussion elsewhere?

[19:36:39](#TIINanpuxArBvAy6CpGVBSXf1fSJj3WFq_c-9vtjl7E) <greggirwin (Gregg Irwin)>:
I don't like the func body hack either. Nenad and I talked about it recently. I'm overloaded, but if others want to chat in red/red or elsewhere for fun, I will at least skim things.

## 14-Jan-2022

[14:38:52](#fTDfjTbKVHSljWUNSWEtl1NKr9qdVzftKM0kG1RW2Es) <hiiamboris (NOT THIS ONE)>:
@greggirwin this quite surprised me when I used it inside the lexer's trace func:
```
>> x: block!
== block!
>> ? x
    code             length: 0 index: 24 []
    b                length: 0  []
    p                length: 0 index: 7 []
    e                length: 0 index: 3 []
    included-scripts  length: 26  [%/d/devel/red/common/expect.red %/d/de...
```

[14:40:03](#YBayp1szLz4b8lVc8J56L9hVcTWmSfvLYHTaK75O4M8) <hiiamboris (NOT THIS ONE)>:
I understand technically there's no difference between `? x` and `? block!` but talk about shooting off one's feet..

[14:41:26](#skaFpe5h89kMRp8W0xUwhXxv8ZWnpxa9H8AeWKZnYuY) <hiiamboris (NOT THIS ONE)>:
Somehow in R2:
```
>> x: block!
== block!
>> ? block!
Found these words:
   any-object!     block!    length: 3
   any-path!       block!    length: 3
   bar-effect      block!    length: 4
   base-effect     block!    length: 4
   ctx-edit        block!    length: 152
   ctx-viewtop     block!    length: 371
   datatypes       block!    length: 54
   dtw-keymap      block!    length: 18
   immediate!      block!    length: 17
   internal!       block!    length: 3
   scalar!         block!    length: 7
   suffix-map      block!    length: 25

>> ? x
No information on x (word has no value)
```

[14:42:14](#1pWgg_6kQZyQmx5shoHxo4fj8ig_q9L0BiHj-xVZFsA) <hiiamboris (NOT THIS ONE)>:
the output I don't even understand :)

[14:42:26](#7OvjAqf-HKU3jB7qzKtzBNL6wNMLRpMtZz89WehI578) <hiiamboris (NOT THIS ONE)>:
why would it have no value..

[15:16:14](#NjvSbxM_ehv4WMo4-lUdPJlntbby46_fkpLOoE28lsE) <toomasv>:
That's what I get in fresh console (Jan 11 build, W10):
```
>> x: block!
== block!
>> ? block!
No block values were found in the global context.
```
And in not so fresh I get looots of blocks:
```
>> x: block!
== block!
>> ? x
    val              length: 6  [455x1055 15x15 square to-right 0x0 []]
    B1               length: 119 index: 2 [translate 0x0 [push [fill-pen 0.0.0 line-width 1.0 box 0x0 15x1...
    B2               length: 115 index: 6 [translate 15x0 [push [fill-pen white line-width 1.0 box 0x0 15x...
...
```

[15:17:51](#5L9dth-UzKzuwFKvKU9gQG2jr4kXBgpZ0mMCWnFvQyU) <toomasv>:
* That's what I get in fresh console (Jan 11 build, W10):
```
>> x: block!
== block!
>> ? x
No block values were found in the global context.
```
And in not so fresh I get looots of blocks:
```
>> x: block!
== block!
>> ? x
    val              length: 6  [455x1055 15x15 square to-right 0x0 []]
    B1               length: 119 index: 2 [translate 0x0 [push [fill-pen 0.0.0 line-width 1.0 box 0x0 15x1...
    B2               length: 115 index: 6 [translate 15x0 [push [fill-pen white line-width 1.0 box 0x0 15x...
...
```

[15:35:05](#H2hFLaGQpVM9zRjFAw-5zxTi-dLH2OTsXtg5bWbo_-o) <hiiamboris (NOT THIS ONE)>:
well I must have had some globally defined blocks
```
>> x: block!
== block!
>> ? x
No block values were found in the global context.

>> ? block!
No block values were found in the global context.

>> b: []
== []
>> ? x
    b                length: 0  []

>> ? block!
    b                length: 0  []
```

[15:35:40](#jtM5asjjfUpHyM1vCGBrv0CRTW86dosuSamxnhXjlJQ) <hiiamboris (NOT THIS ONE)>:
anyway what I wanted to know is what `x`'s value is, not how many blocks there are around :)

[15:36:31](#7Siaot_OYDBoyxG6N3oCRN3F1mCOlQWgZSXV0qrtarM) <hiiamboris (NOT THIS ONE)>:
`x` in this case is the `type` parameter passed to me by the lexer, and I wanted to know if it passes me words or datatypes (`??` is of no help here)

[15:36:44](#O41ujA3lROEFTQ40gF8t8dSRp70ZeZgMdItsL_G59tk) <hiiamboris (NOT THIS ONE)>:
* `x` in this case is the `type` parameter passed to me by the lexer, and I wanted to know if it passes me words or datatypes (`??` is of no help here, nor `mold/all`)

[16:02:56](#JT4HmOiz7mu8yiJUNvC_TKAjFJ0mi7lKn5dxqMZuZMc) <toomasv>:
Ah, sorry, my head is a bit hazy now... so, why `type?` is not good?

[16:07:50](#9WsDO-xkNmRodrovtcOeMxzahtvIgGo0xdddCkY0X7E) <hiiamboris (NOT THIS ONE)>:
it's what I did eventually `print [type type? type]`, but obviously during debugging I'd like to intrude less into the code, so `?` was my first try

[16:42:39](#Y2Nz4G0zICwNfGHZhGcY91Kyv0hDGyAEHOgnHMEAuis) <gltewalt (The other Greg)>:
Quote it?

[16:48:34](#NdIm0PXLD1R9W_aYf37qRanipANifkrtKW5yfw3bMdo) <gltewalt (Greg T)>:
```
>> x: 'block!
== block!
>> ? x
X is a word! value: block!

>> ? (reduce x)
    b                length: 0  []
```


[16:49:18](#qbGIrtpPD5666tGPZ7csM3CxGkcY9ZgrGoFEjXruEFI) <hiiamboris (NOT THIS ONE)>:
I don't get to choose what lexer spits at me.

[17:07:35](#wK3ePMVzxEQvtmoWHmmph7MzTVnN-Oo8-Czs4mJxcJ0) <gltewalt (Greg T)>:
`datatype?`  ?

[17:10:18](#FM-8VLUUF4GIHwa5C32a7lKwiLTNO2ivIaZ3JvQq4L0) <gltewalt (The other Greg)>:
That should say yes or no to if it passes you a datatype 

[17:11:32](#4kx8HE1cp5ERYoWKQxcWk-OEbn7uwr-CVBn4O5t9d44) <hiiamboris (NOT THIS ONE)>:
you're totally missing the point â˜»

[17:12:24](#WcdvflCh00Nwxfh2htAH_wrlPCFk_D0KqZTtD9DZ1fg) <gltewalt (The other Greg)>:
Does not surprise me, but that's what you typed

[17:30:54](#hzTbbpEophj0qqzRPOwGTTW14SzBNed-WToXPTtObro) <hiiamboris (NOT THIS ONE)>:
R3 btw:
```
>> x: block!
== block!

>> ? block!
BLOCK! is a datatype.
It is defined as a series of values.
It is of the general type block.

Found these related words:
  datatypes       block!     length: 57 [end! unset! none! logic! integer! decimal! percent! money! char! pair! tu...

>> ? x
X is a datatype of value: block!
```

[17:32:12](#hFiIy7Ydfz8DeqaUuVZ5h9eXTpagMxWyE0BacZ6cgKU) <hiiamboris (NOT THIS ONE)>:
there's a great idea there:
```
>> ?? ?
...
 datatype? :value [
     spec: spec-of :value
     either :word <> to word! :value [
         output ajoin [
             "^[[1;32m" uppercase mold :word "^[[m is a datatype of value: ^[[32m" mold :value "^[[m^/"
         ]
     ] [
         output ajoin [
             "^[[1;32m" uppercase mold :word "^[[m is a datatype.^[[m^/"
             "It is defined as" either find "aeiou" first spec/title [" an "] [" a "] spec/title ".^/"
             "It is of the general type ^[[1;32m" spec/type "^[[m.^/^/"
         ]
         unless empty? value: dump-obj/match/only system/contexts/lib :word [
             output ajoin ["Found these related words:^/" value]
         ]
     ]
     throw true
 ]
```

[17:34:21](#liFZE4N3fo-sV0OShl7xgtWnvYTP1ZU-ODpd9zJhaJM) <hiiamboris (NOT THIS ONE)>:
* there's a great idea there, brilliant even:
```
>> ?? ?
...
 datatype? :value [
     spec: spec-of :value
     either :word <> to word! :value [
         output ajoin [
             "^[[1;32m" uppercase mold :word "^[[m is a datatype of value: ^[[32m" mold :value "^[[m^/"
         ]
     ] [
         output ajoin [
             "^[[1;32m" uppercase mold :word "^[[m is a datatype.^[[m^/"
             "It is defined as" either find "aeiou" first spec/title [" an "] [" a "] spec/title ".^/"
             "It is of the general type ^[[1;32m" spec/type "^[[m.^/^/"
         ]
         unless empty? value: dump-obj/match/only system/contexts/lib :word [
             output ajoin ["Found these related words:^/" value]
         ]
     ]
     throw true
 ]
```

[19:37:46](#nNxzb-KMrkY9X7dcLPq5OCmri9bZQfa4aCQ4wkEDp7M) <mikeyaunish>:
@hiiamboris  here is what I get. ```
>> x: block!
== block!
>> ?? x
x: block!
>> v: mold x
== "block!"
```

[20:01:16](#lCpNym7-x1ekabkiNFpcRNmfc1s96QdgCyrPIXzfVIc) <greggirwin (Gregg Irwin)>:
Here's what I get in R3 (Atronix).  You must be using a different one. Maybe @Oldes version based on the escapes in there.
```
>> x: block!
== block!

>> ? x
x is a datatype
It is defined as a series of values
It is of the general type block

No values defined for x
>> ? block!
block! is a datatype
It is defined as a series of values
It is of the general type block

Found these related words:
   datatypes       block!    length: 58
```
So `? x` is not helpful there IMO. And this is the key question: What should `help` do?

[20:04:36](#BYSXm2Y5d48ar9t3LTbrhbY58Zvv1J23UoGgqRte_Rw) <hiiamboris (NOT THIS ONE)>:
do what Oldes' R3 does

[20:09:31](#4Bw2RHKq_fMY1ZBNLfbmWR4ynTdNR9IRW22vHYQ183Y) <greggirwin (Gregg Irwin)>:
Open a ticket if you want. Can't think deeply about it right now.

[20:18:03](#-CZt2WdCR4zvVystwo3PJW-TOWIDLXluQeuEESFEybw) <hiiamboris (NOT THIS ONE)>:
done

## 15-Jan-2022

[13:25:31](#QungMaLFZDD_mDvr3IRo6yMNGp66J2pPBrwbqIikGxc) <toomasv>:
This crashes console on W10:
```
x: [a 1] case/all [a: x/a [a] b: x/b [b]]
```

[13:45:19](#c0KPZ7B7XnzaclbbMPc1_YEh_GWfj9ceMn7VmF_Mc8Y) <hiiamboris (NOT THIS ONE)>:
true

[13:45:27](#M102WJujQdTYIhVpHTK5sJVMKit1qWyqsYTST4Kj_ko) <hiiamboris (NOT THIS ONE)>:
better report that to Nenad though í ½í¸‰

[14:42:02](#EoB02JSgkkGIsMwiJ9F1zy70rJw94bhDOI9eZ0_eGso) <toomasv>:
Another problem with console on W10: generate a view, let it fall behind some other window, close the view without bringing it into foreground first -- console that produced the view hungs.

[14:57:22](#_8UA3UGVGookAsMZRzx0L1dYx-aqiBIPI78Al1Qs7j0) <hiiamboris (NOT THIS ONE)>:
`view [base rate 0:0:3 on-time [unview]]` works for me

[14:58:23](#Yh8z6y0iNk_hFDMH2R588wE8XXqv6yrKSj_PtfHybcc) <hiiamboris (NOT THIS ONE)>:
oh if I kill it from task manager then hangs

[14:58:52](#Lo8_nhLlik7thGmpeKvi9MmPJ2pAkFTzij20hb1xodg) <hiiamboris (NOT THIS ONE)>:
actually it still works just doesn't print anything

[14:59:03](#zCMUF9C0wKF1tYrxHNo1gvIFSd6UDjKoeIi-VN6x86Q) <hiiamboris (NOT THIS ONE)>:
I can type `view [] (enter)` and show another window :)

[14:59:35](#VmWD7JFWl1GRfIheqZVrsUHBXyUR8ecMsUtdoh5WLE8) <hiiamboris (NOT THIS ONE)>:
create an issue 

[15:03:00](#mlYiLsGp3IvlrRVqUC05p-iD4WArtZcupIVfXNtx4rY) <toomasv>:
This does not correspond to my description. Do this: in console enter `view [base]`. Click into console. Mouse over console icon in bottom of screen and close the view from there. My console hangs. Does yours?

[15:10:21](#m-WAgrk9kV7cSbYru5C_yGUEIp1_xmdFtpFlnG5nVGU) <hiiamboris (NOT THIS ONE)>:
like I said it doesn't hang

[15:10:49](#lEVBv4xK6e4e4Vk1LYjb2vTKVvhoahNGWClPytNlxyA) <hiiamboris (NOT THIS ONE)>:
try inputing `ESC view [] ENTER` blindly even though it doesn't reflect keystrokes

[15:11:01](#8iwD9Lh5GNcoFE-qneiWaH_EWzFZOzhdQi6hK2K5R1U) <hiiamboris (NOT THIS ONE)>:
menu also works

[20:24:05](#9M4BX_McY5_Eb-dwUQU2AysuTzVuQ_gKdl2VXvZT8jI) <greggirwin (Gregg Irwin)>:
Confirmed `case/all` crash. 

Console hang issue confirmed as well. Scroller itself still moves, but the text area doesn't respond.

[20:54:39](#RMkcCyw3s5f0dfweQlVcAP1IMr5p_8Nq3B2EirDSFSU) <mikeyaunish>:
Checking in on a new behaviour.
```
Red 0.6.4 for Windows built 4-Feb-2021/17:06:04-07:00 commit #6440af5

>> foreach i jo [ print [ type? i mold i ]]
datatype logic!
datatype percent!
datatype date!
datatype file!
datatype tuple!
datatype pair!
datatype string!
datatype word!
datatype set-word!
>> find jo file!
== [file! tuple! pair! string! word! set-word!] 
```
Since Feb/2021 build find gives this result:
```
>> find jo file!
== none
```
I can work around this. Just checking to see if this is an intentional change?


[21:31:06](#fSbTxcOoKojVoG_C0khiN7Ok-kDn8sfsW4-yq3bX5ZQ) <greggirwin (Gregg Irwin)>:
This feels like a regression related to `/only`. You can use `find/only` for now, but we should check tickets, as there are a couple related to this.

[21:32:01](#iw8ai53Ffg9d_soa9MST8lNxSua-N15vEciqsDXaJOA) <greggirwin (Gregg Irwin)>:
https://github.com/red/red/pull/4924

[21:42:28](#xlIpyffhAb0GoaYby_JIM4iKuXjeFk4jtpR-q-sabUA) <hiiamboris (NOT THIS ONE)>:
this is september though

[21:45:23](#BQHjPg012xtnWBmcAO4mvVMn85C6iBwKnxZiCic1gt0) <hiiamboris (NOT THIS ONE)>:
I confirm this is the cause and it was intentional:
- /only finds `file!` datatype
- no-/only - finds any value of `file!` datatype

[21:45:34](#AEubMCNl2Vz8GL8kH92f1zXahP43rZR5FcRG5yYCaHE) <hiiamboris (NOT THIS ONE)>:
before this PR it was a crazy mix of both

[21:45:59](#pKQfzLheJPacIsNmhB_JySuikbbYiH-RJKTTL1ZZ0j4) <hiiamboris (NOT THIS ONE)>:
* I confirm this is the cause and it was intentional. Now:
- /only finds `file!` datatype
- no-/only - finds any value of `file!` datatype

[22:22:26](#xkqtly3e5uqKXFlpCXxUkt33AwmB0_JWZ9QIjUWnscM) <greggirwin (Gregg Irwin)>:
Thanks @hiiamboris. 

## 16-Jan-2022

[0:44:04](#BwLLe4CE-HDHxmVokEYK0RTt6fBHVIFIKnk83m_RESY) <mikeyaunish>:
Great - thanks for clearing that up.  The new usage makes sense.

## 20-Jan-2022

[22:32:57](#IHTBbIWw_XohauvONoIetrqzVloBjjCawxE4ePsOwYo) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
It is nice, that `trim` works on binary as:
```red
>> trim/head #{0011002200} 
== #{11002200}
>> trim/tail #{0011002200} 
== #{00110022}
```
But I believe, that when used `trim/head/with`, it should throw an error, that incompatible refinements are used instead of ignoring the `/head` silently:
```red
>> trim/head/with #{0011002200} 0
== #{1122}
```

[22:35:56](#qTCJACXryzMJ9GWLJScCN-N0Zen8m_FR70n_2lIQH9U) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
The same with normal string:
```red
>> trim/head/with "abcabc" #"a"
== "bcbc"
```

[22:38:44](#XTTfjSNkEmXk-Hzs_qtURSgAiI5M5rYq418UeMWt43A) <gltewalt (Greg T)>:
There are other instances of functions with incompatible refinements. No errors thrown.

[22:39:05](#DwCkRaQ1ytM_fPZAsnDeTIQlHiesUo93GvRZoAehREM) <hiiamboris (NOT THIS ONE)>:
all of them should be fixed :)

[23:36:53](#oVY51mCiV52zLw_XXakQ8RKJVtVg_gMFth5cOsQ3vRk) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
And this seems to be clear error:
```red
>> head trim/tail back tail #{0000110000}
== #{0000110000} ;<--- Wrong, should be #{00001100}
```

[23:37:43](#3mEQa34Xwzxaia2R5SSkqfqDHEyfrDE9POTTFCIYp0I) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* And this seems to be clear error:
```red
>> head trim/tail back tail #{0000110000}
== #{0000110000} ;<--- Wrong, should be #{00001100}
```
This is ok:
```red
>> head trim/head back tail #{0000110000}
== #{00001100}
```

## 21-Jan-2022

[0:03:10](#iRBqhcGlKAWI4NZfTCLHJPvPbZLuR9nlq0_5dfKVhTw) <greggirwin (Gregg Irwin)>:
Why would `/head` and /with` be incompatible, conceptually?

[0:53:02](#aEWU7WXKL6jvxxBots9qy04B-hrAMZ2JeLtRHJQr2gI) <gltewalt (The other Greg)>:
If they shadow, or "clobber" each other silently.

[0:59:08](#b9sVCbf1fmEiZPfJY_LdUA80gEjKwH5sFP8JeqyqPKc) <greggirwin (Gregg Irwin)>:
That's a bug. You should be able to say "Trim only from the head, and use this alt value." at the same time.

[1:00:29](#gL8iqcAHLJqFQE4UHhTHUXmLEylG60ZXWWNTaNhwBvo) <gltewalt (Greg T)>:
Unless im miss remembering there are others that clobber

[6:21:09](#7esDW8KpVnc3GxSzC9Uo8pXgsrhMGld6KuZsXkd3_Cc) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
â˜ [January 21, 2022 1:59 AM](https://gitter.im/red/bugs?at=61ea055c742c3d4b21a9f772) That would nice, but it is not as easy as to add the error message for now... currently `/with` is same as `/all`, but with alternate chars... as is noted in the doc string:
```
     /with        => Same as /all, but removes characters in 'str'.
        str          [char! string! binary! integer!] 
```

[6:25:09](#pfGmrgfrSf8ijXLpUnsSUIwL181YJ5Ue0S0qlu-_UqE) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
https://github.com/red/REP/issues/52

[7:08:15](#URaSPvSOCqy-P-LkIlc5xZ_TF6CcIiRyT4vHKyOnqUw) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
```red
>> trim/tail #{000000}
== #{00}
```

[7:17:31](#pN_1JFvfTw2CmTDano-jMUbjDfmKy5-THsyPDRSLiNE) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Silently ignored `/with`:
```red
>> trim/with [#[none] 1 #[none] 2 #[none]] 1
== [1 2]
```

[7:19:33](#EI7sIjE8ALE2VseJ3PQYNiwwvgv21ckYkKUnxx1bb7A) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
not to mention, that: `trim [#[none] 1 #[none] 2 #[none]]` should be `[1 #[none] 2]` instead of `[1 2]`, because that is known issue https://github.com/red/red/issues/4210 

## 23-Jan-2022

[20:55:11](#dJStq-0z-FL5MoWU8GoZgPFe8d1IR5x2fVdAoCPv1NM) <greggirwin (Gregg Irwin)>:
```
>> sort/compare [[a 3] [c 1]] 2
*** Script Error: incompatible or invalid refinements
*** Where: sort
*** Near : 2
*** Stack:  
```
Should work. In May-2020 it changed from "value out of range" to this error. I don't see a ticket for it. Does anyone know of this being reported already?

[20:58:27](#HNvSpWD3MHT__f0xQfnxGLNqorWOe8LI4hEefFqMojc) <hiiamboris (NOT THIS ONE)>:
no it's not reported

[20:58:47](#u4UAdlJT1ymjLjRf1Gp3_NR0Juzpm7ZWF8cqgo0wn6s) <greggirwin (Gregg Irwin)>:
Thanks. :+1:

[21:06:01](#IqAFuibVIkQCrcUFYMXkpfOhOZGKEce1jGtAoOV3WPI) <greggirwin (Gregg Irwin)>:
https://github.com/red/red/issues/5050

## 25-Jan-2022

[1:25:37](#0DDWzNVzGnGxN-VlsPfsZC5aXqB9nO7H0HJp0XkNroc) <gltewalt (Greg T)>:
should `body-of` applied to a native! give an error?

[1:25:57](#JMV0PkVUDoRykQEN36jkbI9LLpwq2BYOrq_YOsvFDa0) <gltewalt (Greg T)>:
The latest build returns an integer

[1:27:32](#4M9jmXVHxqL0VEJqUY8bG5Utkr0f9uMfJFGJdOL0fWA) <gltewalt (Greg T)>:
```
>> body-of :zero?
== 98
>> add body-of :zero? body-of í ½í¸›rint
== 121
```


[2:47:27](#uubGdZxvHIEiHtWfDFKMVDgxLw_aXhAd4jYuJGfaVeU) <gltewalt (Greg T)>:
What the heck?
```
>> set/some [a none c][1 2 3]
== [1 2 3]
>> a
== 1
*** Script Error: ask does not allow integer! for its question argument
*** Where: ask
*** Near : result
*** Stack: ask 
```

[2:47:55](#p2ZiUHDetDoQU8apt6QNelQiPeF07H6r_pSHWraBaGY) <gltewalt (Greg T)>:
Fresh session. `a` not previously set to anything

[4:31:45](#fpCg5kfaLb0KNO7nAaBSe68rlpg-FmWQ3YKooqbF8LQ) <greggirwin (Gregg Irwin)>:
`Body-of` returning an int is something we can note, about why, but it doesn't hurt anything to do so at this time.

In the second example, you are redefining `none` to be `2`, so all bets are off on behavior after that.

[4:33:14](#TMtEZQy8JJ_oF9tS3_KWt10C_UxcQPqK3qeSHWPGLfY) <gltewalt (The other Greg)>:
Isn't set/some not supposes to set none ?

[4:34:07](#7Ban5mUTHC7DP6YTP12SV99W1yimf3uSVSWXFV4Bmfg) <gltewalt (The other Greg)>:
Even if it's backwards 

[4:34:33](#JMRBJyndsis53QzzeSyPkDaVKTVnueRTw3b4oNKAndA) <greggirwin (Gregg Irwin)>:
Nope. It does not treat `'none` specially if on the left hand side.

[4:34:44](#2IvWz6Hr6lSn32juIhRF9mWPR9GLXIEfdRtvP8ltHH8) <greggirwin (Gregg Irwin)>:
Because it's not a `none` value, it's just a word.

[4:36:04](#UjrHnat4UAP4AEji9VJA2rz8fSvRcMI42LExY9Ho1CU) <greggirwin (Gregg Irwin)>:
And, yes, this can lead to "Should Red have at least a *few* keywords to avoid this kind of thing?" The answer being: No. :^) At least not until somebody comes up with a complete and rock solid proposal for that.

[4:36:43](#zTmIOk3Y5hyIbLz6bICygonPugvjD4zJrsQTpMbkMPE) <greggirwin (Gregg Irwin)>:
Note that the doc string clearly states "In a block or object *value* agrument".

[4:39:38](#k0zFTi1tf-kf4xzIMLHED3fUoshyz0GRxQKY7rZgrCI) <gltewalt (The other Greg)>:
Yep but if for some reason they have unrelated blocks and decide to set the wordss of one to the values of the othet

[4:40:34](#bOpSdpgMAVLvq-hsmPY08RJme7VLhBWD-ptfO0YwtZE) <gltewalt (The other Greg)>:
Low probability, but chaos ensues 

[4:43:02](#sXiTVbOBTNE3xPBsq0UruN4prYoIn3Hx7nsMK4Tz85E) <gltewalt (The other Greg)>:
Any complete proposal shouldn't be more than: none, true, false 

[4:46:17](#oMaWv3xHUhZ39YfDEEU3u8cT90Z5MfOtnahTwh31f5I) <gltewalt (The other Greg)>:
Maybe... NaN

[12:32:21](#k3jPbC6O7k3lRxykooSrRiDyhfGWG9zHQN-e0lR-IVc) <gltewalt (Greg T)>:
I haven't looked at how `reflect` works yet, but:
```
>> probe get 'print
make native! [[
    "Outputs a value followed by a newline" 
    value [any-type!]
]]
```

[12:33:45](#Jo6X17Ei89ji9_erLZTQJeJFDNb9BaDwH2D7t1bBfFU) <gltewalt (Greg T)>:
Which is better than `23`

[12:37:14](#vav74McuruKGG6fl8TF55Av7zB1MT-KnXDOzfUyiLsY) <gltewalt (Greg T)>:
And, am I further confused?
```
>> set/some [a b c][1 none 3]
== [1 none 3]
>> b
== none
```

[12:45:27](#ducslrigNW6UgXuJcOK5RvDjfnWtBtCRGJ3XbL9dfBk) <rebolek (Boleslav BÅ™ezovskÃ½)>:
@gltewalt whatâ€™s your confusion here?

[12:52:11](#U39xZ6Gii4wSZlqKG9lEMgqiZQGYUmrwNiH5OMRaBo0) <gltewalt (The other Greg)>:
Spec says it isny supposes to set a word to a none value?

[12:52:35](#kHKlwm9KAkc-NAW11JxS2pB53URzw3x2hdDlLuKgI70) <gltewalt (The other Greg)>:
Isn't supposed to

[12:55:09](#ILWnarVG1teUsR3QpL6pmmotjMIvJNBP2t3U0iAFKTA) <rebolek (Boleslav BÅ™ezovskÃ½)>:
Ah, I see.

[12:58:00](#pOuo6ywSt7L83389vnzb-j-y0sc2fRQAZqxunEZ6VWE) <rebolek (Boleslav BÅ™ezovskÃ½)>:
Again, you are confusing `none` word with `none!` value.
```
>> type? b
== word!
```

[12:58:16](#cZsaMfMJj3-yMPnc3x_04Hzgx0eFW_R2L-BUbDYWXqY) <rebolek (Boleslav BÅ™ezovskÃ½)>:
If you do `reduce [1 none 3]`, it works as expected.

[12:58:34](#CxrW8s9j_suYhUenLIDTgMjxemi8PN-y5_0Z1Yj5P0s) <rebolek (Boleslav BÅ™ezovskÃ½)>:
or `[1 #[none] 3]`

[14:52:17](#3gJZo-2QDs0YRzNmVnGyJsJj7_0KsShuJOwVvr4mUO0) <gltewalt (The other Greg)>:
I know that none in an unreduced block is just a word. 
Isn't it the job of /some to check the value (reduce)?
If the words none are fine to set, no reason to use/some. Just use set.

[14:55:29](#e1G-e8zZ7wLNEmkOGCe-MRZHBJuVHrzIod8G_UwoCjA) <hiiamboris (NOT THIS ONE)>:
why would `set` reduce anything?

[16:38:39](#loDF2yn4JWbGIFaQYNWOOdMXWWJ8gaQcxXRiXzbcef8) <gltewalt (The other Greg)>:
The some refinement would iterate, get the value, and act accordingly 

[16:39:21](#g025Woqb1tggXHwo01aNcE53HfmkCJDR-BmPuIQneCo) <gltewalt (The other Greg)>:
Set by itself shouldn't 

[16:56:41](#-ofhOYxjYtY7IYGX7BYGTHRU76B355I8fpH_jh0T5Kk) <hiiamboris (NOT THIS ONE)>:
don't complicate things :)

[17:26:51](#RvS4qH6Ry5hXHt0LRqywu-BlpmrbMFOjg2eP8ufhvB8) <gltewalt (Greg T)>:
Looks like it's not an issue if collecting values. The issue is the human not being able to tell if it's #[none] or none if they look at a block of values that has been collected.



[17:27:06](#z0i5H9bn8VZEzPzm_qGFo0p-f8z4_0BiMO-pV7KnTf4) <gltewalt (Greg T)>:
```
>> x: ["a" "b" "c"]
== ["a" "b" "c"]
>> y: [none none none]
== [none none none]
>> type? y/1
== word!
>> z: collect [foreach i b [keep find i "Oh"]]
== [none none none]
>> type? z/1
== none!
```


[17:33:04](#qDa6mqIBjQal0dWK5Wkfqc-NVrYZQhbgFxhUIWJ1in8) <hiiamboris (NOT THIS ONE)>:
what's `b`?

[17:33:35](#jxgIHqgNfYK3j7T8E0pPeL1fzcD-MRJKoqWOqvw3mwI) <gltewalt (Greg T)>:
Oh... I forgot to change it

[17:33:44](#b1l2fUU4mmuFb-fEk0KkQel_gNCBFLDKIp6N8YPo_m4) <gltewalt (Greg T)>:
* ```
>> x: ["a" "b" "c"]
== ["a" "b" "c"]
>> y: [none none none]
== [none none none]
>> type? y/1
== word!
>> z: collect [foreach i x [keep find i "Oh"]]
== [none none none]
>> type? z/1
== none!
```


[17:33:49](#FkFipHkis9TnIR1ZczbsrlP76QEq-Y8eC_MZ3JtyGU8) <gltewalt (Greg T)>:
There

[17:34:53](#6WqxdrFjFNUg1DPxjpaLe1pBrMydBqNB670mflHPqbE) <gltewalt (Greg T)>:
That begs the question, should functions returning none, return #[none] ?

[17:35:14](#l_zlQSf4V0SdYN8JjogRYOrtWZM171xzPeGzcqyORls) <hiiamboris (NOT THIS ONE)>:
funny, they actually do return `#[none]`

[17:36:03](#hdJO57we-TXFFL9AlfpMll1xPxle5xsZbraUn40Ff2w) <hiiamboris (NOT THIS ONE)>:
you got a really strange mental model there

[17:37:54](#3PiHWfhws4WG0tFnUgIq_yLfGm914h6bf4pjv6JQY_o) <gltewalt (The other Greg)>:
Lexically they don't. For the humans. 

[17:38:58](#uNvJNeMUIfqmlET8gMqz688L0iFt4-ppTv747SjRFEM) <hiiamboris (NOT THIS ONE)>:
but it's humans who prefer `none` as it hurts the eye less

[17:39:35](#eglEOeRYunStUKKG3S7XfxLV25JQktCR-qdjo4EskWc) <rebolek (Boleslav BÅ™ezovskÃ½)>:
I agree it can be confusing sometimes and having literal `none` (and logic values) would make things easier.I sometimes run into that too, especially in `parse` where you write a dialect that checks for `none!` and depending if a human writes it or if the machine produces it, `none` can be either a `word!` or `none!`.

[17:39:43](#ym3SD6RCcx_M-h0eQ6LwlZu5HrnqhRrpxMBD6SEPx6Q) <gltewalt (The other Greg)>:
Maybe so, but then they have to check types. Can't tell by looking

[17:40:14](#qQNoj4VgEPXtq8c3JrGFcMbv0zg7A9LbFhRwqDxu6XA) <rebolek (Boleslav BÅ™ezovskÃ½)>:
OTOH all words have invisible properties in Redbol.

[17:40:22](#eIUD28mKVOxsAqeQeG7ATEwXsTu_OSCyIiPeTgE2zas) <rebolek (Boleslav BÅ™ezovskÃ½)>:
Like context.

[17:40:34](#AHG6uhCIjI2N-PHb0A1jcgVmI22QUO8rR0U5H-MRFdc) <gltewalt (The other Greg)>:
You see I'm not so crazy

[17:40:57](#eC6NsXeHRee_b299FV1c7cgpX54nw-6HBj2LVNzA6G4) <rebolek (Boleslav BÅ™ezovskÃ½)>:
Itâ€™s just that you need to get used to it.

[17:41:30](#sn-SEG7AvjQK9arOAoP-mCkHlity4cw0POaZloJEmx0) <rebolek (Boleslav BÅ™ezovskÃ½)>:
Red is different than most of the languages, but itâ€™s different for a reason.

[17:41:57](#fkqWOu3WjXeXuCemc-mq4kVsNfpi6X_lv1awjm4g_YA) <rebolek (Boleslav BÅ™ezovskÃ½)>:
Can some things be improved? Certainly. Do you know how? Write a proposal.

[17:43:00](#jQBFpG7Ev4nLdiVU3AvONg_BDcySUVMsWYl3Xkrw2zM) <gltewalt (The other Greg)>:
Can you give an example of when literal none, true, and false would be bad?

[17:44:03](#aa4Ubm50Xw1kv1zQPZOlXMwQ6tpJ_UYNJaYmAcSWTwA) <rebolek (Boleslav BÅ™ezovskÃ½)>:
Thatâ€™s not the point. The point is, how would they look?

[17:44:48](#pcbDaXg-6jY2M0yFIP5B18CJBE5TZ5HlscgJxBQXFk4) <gltewalt (The other Greg)>:
Honest question though, as I cant off the top of my head, but I'm nowhere near a guru

[17:44:54](#IypaMtLVR6ifV8ZWDJOyvjEWS-0I9iHRod3BmaauzNs) <rebolek (Boleslav BÅ™ezovskÃ½)>:
You canâ€™t use `none` because that would limit its use in dialects if it wouldnâ€™t be a `word!`.

[17:46:22](#8nzg3-3-bkFNThmAzmixSKj87cwAivROaeL-QcKC5uo) <hiiamboris (NOT THIS ONE)>:
perhaps we should write this reasoning down somewhere for the future reader

[17:46:25](#UqHgCiX3miSC_m18o1yHjkuK6PbClv9tozUzYqi1nKM) <gltewalt (The other Greg)>:
I guess they would look like the construction syntax, since users are already exposed to it

[17:49:22](#86fcOyORr_qHtCVguDgfVr3dceNu_fvfdVKsC7BPNyA) <gltewalt (The other Greg)>:
It would probably go in Guru Meditations on the wiki. But I don't know how much it gets used. 

[17:55:41](#-OrilbX2xem1a_hv48a1TjjuhXnKmd_RDufXriJ7W-E) <hiiamboris (NOT THIS ONE)>:
or I might load some XML: `<a>text</a><none>text</none>` and having `none` as keyword would trip me up

[17:57:42](#tDCHIuoJrKtcxKYFwno35_jU3K7MAAyW2JGaZNrCc6U) <gltewalt (The other Greg)>:
#[keyword]  ?

[18:06:40](#MmoSrn9NzIdlaeVXJ5B80EZiM1kSdI7zvBStbUJI3Eo) <hiiamboris (NOT THIS ONE)>:
you already have that

[18:06:54](#yuqpSewxfuQ6d8EQLlpr7mjxPVULc2eVvPhikfT9FmU) <hiiamboris (NOT THIS ONE)>:
just use mold/all

[18:08:46](#KeUE_7FNCPD0eNwdkKukJqPSbCUwuCgv5-xriatsEA0) <rebolek (Boleslav BÅ™ezovskÃ½)>:
@gltewalt:matrix.org `#[none]` 

[20:11:18](#tXaS60bAYIGiBEHRFsfbHWvYrv64Ry5QNOUaKiKmRnk) <greggirwin (Gregg Irwin)>:
> Any complete proposal shouldn't be more than: none, true, false

 What about `[on off yes no]`? Those are also logic values and will break code that uses them just like `[true false]`. And `unset`? *All* the `datatype!` words? Those suffer the same problem. Then what about `if` and every other standard function. You tripped over `none`, but redefining any standard function will break code. The more common, the more code. 

This design aspect is fundamental to Red. @rebolek noted a key reason: dialects.

Any complete proposal is going to take a long time and be a lot of work, because it has to address *everything* related to words, their evaluation, and their forms. 

The issue of construction syntax (serialized form), and whether or how to show more details by default in the console, is in active chat by the team.


[20:30:53](#q9ykfEMAEIDgl3OO3ap52TQh08Smr-tvt8RAbQG8MD0) <gltewalt (The other Greg)>:
On off yes no, are aliases. Unset is like none, but datatype! words are not. 
I dont think anyone talks about making function names reserved. 

[20:31:46](#ZRHreM-qt8nZlgt9SaGcVQRVSUWWj4Qa-muP7rPHQrE) <gltewalt (The other Greg)>:
Easier to browbeat you over coffee 

[20:49:57](#cLCYq1utV57R8Evs9KL4EPjDyD3OxS53MpYME1-fsiE) <greggirwin (Gregg Irwin)>:
If you're going to browbeat me, you're buying. ;^)

[22:35:32](#5p-3kFj1I306z9SrQylWVt_HPjeAgb4mwE-c2esG-h0) <rebolek (Boleslav BÅ™ezovskÃ½)>:
> Unset is like none, but datatype! words are not.

of course they are! There's the same difference between `none` unevaluated `word!` and `none` evaluated to `none!` and for example unevaluated `string!` word and evaluated `string!` `datatype!`.

## 26-Jan-2022

[0:27:09](#dPq6c5tQEwh8E4d5E4dkhLnKc5I7aIho7kiSDRMz9sI) <gltewalt (The other Greg)>:
None, true,, and false, are self describing. They act as pseudo constants.
You know if evaluated, none means none!. true means true! false means false!
Sure, you can do `none: "hi"` or similar.

`s: "string" `
s is not "self describing", so string! Isn't like none!

[0:28:23](#IVDzYSnQEEPVTPRorelWwQOz6Di2vXYGnN3yRMypbSo) <greggirwin (Gregg Irwin)>:
I think @rebolek meant `string!` and `string!`. Can you tell which is a word and which is a datatype?

[0:36:37](#5WIE9sw_cUGbF_1k-yC24st5bmTM8e0DdH58K1XkwLE) <gltewalt (The other Greg)>:
Ah, I see

## 27-Jan-2022

[1:53:42](#SI2yhLTNJfrlQVk5LtKpeQM26J-wpZg6OVZP7UNNiXM) <ralfwenske (ralfwenske)>:
[![image.png](https://files.gitter.im/5902e8c1d73408ce4f5b94ba/2vRG/thumb/image.png)](https://files.gitter.im/5902e8c1d73408ce4f5b94ba/2vRG/image.png)

[1:57:28](#6kRvNp4mfq8JE38yo1vl_AdaW89Z8Sl6x5iAZo47SCQ) <ralfwenske (ralfwenske)>:
[![image.png](https://files.gitter.im/5902e8c1d73408ce4f5b94ba/SfG9/thumb/image.png)](https://files.gitter.im/5902e8c1d73408ce4f5b94ba/SfG9/image.png)

[1:59:12](#rHFmy0NzKmjI4PO5C-2tGDfUovB60iRNwrMwsGbw5aY) <ralfwenske (ralfwenske)>:
Iâ€™m playing with Red again on Linux Mint and Mac.
The above works on Linux fine (apart from the size difference between slider and progress bar).
On Mac I get an error (see above).
Red 0.6.4 for macOS built 25-Jan-2022/2:32:52+10:00  commit #ae5482d
Linux is also from 25-Jan-2022


[2:02:33](#0TRmoyfg-pfq59u0WUfYyK8Ct-coVZKyLZjsMwt_mXc) <ralfwenske (ralfwenske)>:
* Iâ€™m playing with Red again on Linux Mint and Mac.
The above works on Linux fine (apart from the size difference between slider and progress bar).
On Mac I get an error (see above).
Red 0.6.4 for macOS built 25-Jan-2022/2:32:52+10:00  commit #ae5482d
Linux is also from 25-Jan-2022
(the same if I use `view [ title "TABS"â€¦.`

[10:17:46](#isXzqXRZP6W6MNF7ieyb8Npe4UBYcMipegZZPNyBnu0) <hiiamboris (NOT THIS ONE)>:
What exactly causes the error?

[10:49:29](#7Wyz-nNr36unHnMIyU9AfGHoKYXV4DJnCB0-UGyGXiA) <ralfwenske (ralfwenske)>:
I can only guess that it might be in layout. Like I showed it works in Linux. I think that a synched â€˜*.redâ€™ source should result in identical result when run in linux, mac or windows version of the same red compiler.

[10:50:15](#9cP9qgTKqjLbKHuDKiC016m83O7CDacaFefZlTz9FTs) <ralfwenske (ralfwenske)>:
(version)

[11:12:38](#Zc3EwxtTyf1DaNg5d2He3NoWEKBLg4rq8PKKi44YOnE) <hiiamboris (NOT THIS ONE)>:
try to minimize your snippet until you figure out what's causing it?

[11:30:18](#U2YnAoyKDvl4igS57Z9_4dTHitZEviWoAfWY3eQkBzE) <ralfwenske (ralfwenske)>:
Sorry @hiiamboris - I could have done this in the first place.
`progress` is the culprit. The program works on Mac  when I comment it out.
```
Red [ needs: 'view]
view [ below
    progress 100x20 data 20% react [face/data: s/data]
	s: slider 100x20 data 20%
]
```
results in  (not on Linux - only on Mac):
```
*** Script Error: float! type is not allowed here
*** Where: eval-set-path
*** Near : no
*** Stack: view layout eval-set-path
```

[11:43:20](#GJRdk7b5AYIZq6a-tAwz1eCwrX-muUh-8vLiBP0NEmA) <hiiamboris (NOT THIS ONE)>:
does it happen during `face/data: s/data`?

[11:45:05](#0LJjARnUPLGWuSZcXnZYf29D78H2vhiNbuDqU_m2BUk) <hiiamboris (NOT THIS ONE)>:
what if you remove `s` line and `react`?

[19:18:18](#4c-JLuCBq-_vjB--_YXM6smK3mtH74ZK6O3q3kRidvU) <greggirwin (Gregg Irwin)>:
I think @ldci reported a `progress` issue not long ago. We have other tickets for it, but I don't see that one.

[21:31:32](#Qy6VIjVhTRszxxhMLSKEYK_1FvL_2YHF0iKUx7Js2TU) <ralfwenske (ralfwenske)>:
[![image.png](https://files.gitter.im/5902e8c1d73408ce4f5b94ba/ssCO/thumb/image.png)](https://files.gitter.im/5902e8c1d73408ce4f5b94ba/ssCO/image.png)

[21:35:54](#PIFCrUplfVZilecImH63WBYEe7IACSffCShwKzuNymc) <ralfwenske (ralfwenske)>:
[![image.png](https://files.gitter.im/5902e8c1d73408ce4f5b94ba/YgiJ/thumb/image.png)](https://files.gitter.im/5902e8c1d73408ce4f5b94ba/YgiJ/image.png)

[21:38:21](#0SqBaTw-bnV1gYqWupw6n3leQ2huy84_iKifNF1EJHU) <ralfwenske (ralfwenske)>:
[![image.png](https://files.gitter.im/5902e8c1d73408ce4f5b94ba/ZjCh/thumb/image.png)](https://files.gitter.im/5902e8c1d73408ce4f5b94ba/ZjCh/image.png)

[21:40:09](#3ODdNqMxzJEYLzbbWyYU26cxklIr0sZjAvzkii_2Zc4) <ralfwenske (ralfwenske)>:
```
Red [needs: 'view]
view [
    progress 50% 100x20   
]
```
on Mac leads to:
```
*** Script Error: float! type is not allowed here
*** Where: eval-set-path
*** Near : no
*** Stack: view layout eval-set-path 
```



[21:42:04](#kWqBRSFFw9-Sea_UQDn3iB4Pc_c2-ZpEVfBXNDTTpYE) <hiiamboris (NOT THIS ONE)>:
good! now please create an issue so @qtxie can fix it

[21:51:04](#4mkmncOa8BYt_Frr0xNj4pzLUolQWv6WJWWbpYhUq58) <greggirwin (Gregg Irwin)>:
Thanks for tracking that down @ralfwenske !

[22:02:41](#wcrJ8k3Onu2Sl-ISGsI4Cw2JzJQ9mOqhWO2gZNhwAiU) <ralfwenske (ralfwenske)>:
Ticket:  Progress bar on Mac causes script error #5056 

## 28-Jan-2022

[7:36:46](#3g4CWINGDjupF9qvNhfYyQtXVM4UzEwKBwd5fVlB-E8) <ldci (FranÃ§ois Jouen)>:
For macOS there is a problem with pair!. This code runs
```
Red [
	needs: 'view
]
view [
    p: progress 200 
    do [p/data: 50%]
]
```


[12:58:31](#9jdszumd2opOLEX49i54rUCkc1XUVmAVvWYMhZlXo_k) <qtxie>:
IIRC, the height of the progress bar cannot be changed. I agree it should accept pair! without error.

[12:58:48](#oYtANYK16hZGd34fH8s8R9Ap88cQCwwdkIfwS_8HQzE) <qtxie>:
* IIRC, the height of the progress bar cannot be changed on macOS and GTK. I agree it should accept pair! without error.

[18:40:17](#-96TrlBTUuiiD_KnuJhGsasnzgcxvpF2YYxcbcBpoRA) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Having...

[18:40:33](#BVnoLhAeH0jQsIY79iQtbSHkbMCsfFToxdQ8rifg3_g) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* Having...
```
>> #{11111111} xor #{ffffffff}
== #{EEEEEEEE}
```


[18:41:31](#k1fbNaAmdyDyBcweQ6JYeZUF4yj9MaDxpiXpdV8w9Cc) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* Having...
```
>> #{11111111} xor #{ffffffff}
== #{EEEEEEEE}
```
Than isn't this wrong?
```
>> head ((skip #{11111111} 2) xor #{ffffffff})
== #{EEEEFFFF} ;<---- I expected #{1111EEEE}
>> head ((skip #{11111111} 2) xor #{ffff})
== #{EEEE} ;<---- I expected  #{1111EEEE}
```

[18:48:29](#RMt7enaUIuoViB3Q5qLHwE1PI9nyntkXA4G6Jt8iU1A) <hiiamboris (NOT THIS ONE)>:
looks weird, however R2 does the same..

[18:48:41](#Smek9hCgbqeiRH3KbrwY7QTk6-Scw6fmMmXll-jA7IU) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
It does... but I think it is a bug

[18:49:15](#CaIENV3kO1OUQf4fUHkABOlmiOCmn1wS6IaQTwq7jFA) <hiiamboris (NOT THIS ONE)>:
how come Red and R2 has the same bug though?

[18:49:42](#fQXeeo4JfY2p6v34w604lej3ni0P-Moa62vU5EgrdRg) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
the index is ignored.. easy to happen.

[18:50:05](#V_xuqz1rE-RwlaX38Xur2eR9-5dCFXoeFzb5bFHkvv0) <hiiamboris (NOT THIS ONE)>:
actually I think it makes sense what it does

[18:50:09](#X6c46FhZZZG2du9rjFvI8dWv72CYCBdOSuTkzFrgnO4) <hiiamboris (NOT THIS ONE)>:
I got it

[18:50:26](#VewqZqsCc1zNpCnBjStsEfMCRz49ahz7647A4nFURXg) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
It does not make sense to me

[18:50:35](#3fRfQR6MrQlJvP4C86BxVuXYNFzYf5O89ymFcuDLsKQ) <hiiamboris (NOT THIS ONE)>:
```
>> #{1111} xor #{FFFFFFFF}
== #{EEEEFFFF}
```

[18:50:52](#YJceS5DnLIelCdfzsmJ6ZXEbCTlWj7-xMDjDaYmuglk) <hiiamboris (NOT THIS ONE)>:
it created new series

[18:51:26](#3pTuqcTHIYJVinxL1GAEZrfDD-AwLCMI4yy8Zt3L7IA) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
ah... right.. so the first is right.

[18:51:46](#Cp0CgC3eDFZTASCoj_aF9MtMEEyQvxUDHZFrYdCMg20) <hiiamboris (NOT THIS ONE)>:
both are

[18:52:11](#VZi5Q81BeBmwFZ5jNkINOEsRwY4NQ_2zFfuh_O45joA) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
But I want to modify only the tail of the first binary

[18:53:19](#9uVJj5ywZd9f8SIEJJBFbCblIPnyrOUiudHfeFK3RIQ) <hiiamboris (NOT THIS ONE)>:
can't think of a builtin solution..

[18:53:36](#wPhr9cUr61KeuhX2GfLyXvbfGWBO5uz6Vmj0xXeWyU0) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
In the same way how it is for example:
```
>> head uppercase skip "aaaa" 2 
== "aaAA"
```

[18:54:39](#5NzeyE1xmLivkav31h97le-swAfx_WZ9PMcuhB0p09A) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
So I think, that it ignores the index as I said and just pads the shortest value with 0

[18:54:47](#2SU6hKhz6GGnztn0ht-Uf5b3cQUJsN2fh_ovZAkcDek) <hiiamboris (NOT THIS ONE)>:
yep

[18:55:15](#ukBto73tbgG1YrlYDNIqGnVPenzfIbsEcOmk0_iY1ZA) <hiiamboris (NOT THIS ONE)>:
ideally there should be some `xor-in-place` routine that `xor` would dispatch to but it should be a REP

[18:56:07](#oBl2BoMnldYQhHPokj2o20X-GZaW-ZsQhzaxKXR7FkQ) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
why there should be `xor-in-place`?

[18:56:24](#R-pl14VjIw-qqPjHBHyij_DMwrHMVfGasuxiCHlYT_0) <hiiamboris (NOT THIS ONE)>:
isn't that what you want? modify the buffer?

[18:57:10](#h4rN_WuGR1XdLEMIKpg7LUMzfpPrZnmdj3lF7heOuRQ) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
I wanted:
```
>> head ((skip #{11111111} 2) xor #{ffff})
== #{1111EEEE} ;<--- not #{EEEE}

[18:57:13](#CNo54aTIhgOcZkSdQLBfCQhA0pJ5IYlAmZqI0oCL_58) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* I wanted:
```
>> head ((skip #{11111111} 2) xor #{ffff})
== #{1111EEEE} ;<--- not #{EEEE}
```

[18:57:56](#oqNxXtRXhsl0lywxlzYNBIqXGMT1KPOJzc-RwSnRsq0) <hiiamboris (NOT THIS ONE)>:
that's actually `#{EEEE}`

[18:58:03](#sQ5ngB9uBuY_HYEnxB7-lBSOOXfKGVnfS0pGn2NDkVY) <hiiamboris (NOT THIS ONE)>:
```
>> head ((skip #{11111111} 2) xor #{ffff})
== #{EEEE}
```

[18:58:28](#z4bGhmOuyuoNUldqwp5EdzZuozccmpdXHQvYrHTByRw) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Now it is, but I don't want it to be í ½í¸•

[18:58:55](#On61OFMEjuW9oTWIxaze3MWN3SC5Z3PHkl9S6CACDQI) <hiiamboris (NOT THIS ONE)>:
you want the original buffer modified, yes

[18:58:58](#EjURpB1e4d5CeGRGiUAoA2j1cUhgbyz1sU3fkf3-1sk) <hiiamboris (NOT THIS ONE)>:
write a routine :)

[18:59:02](#Ep6_I4me3M2Caqr0eK8XLRcMLXUPGAXIqMsELCUECig) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
But the reason probably is, that it does not modify the source, but creates a new binary

[18:59:16](#0qHawVx9nloWaRjEB-lQJ6Bfpfs84k4HPqVYMLK2E2g) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
so it is not a bugí ½í¸•

[18:59:39](#ggINfycKKtWjN1-iCnGpLP3LoH_yOAY4Z7JQraX8WlY) <hiiamboris (NOT THIS ONE)>:
> creates a new binary

as it should :)

[18:59:50](#ScMdwkS3FsrwSGCDTWaujCnvP1fboKj4BjW25CyylMM) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
hm

[19:00:13](#I9gLg6QWMryLjVtRceGee_4-vF2xX0zXI8OqMGmRnUw) <hiiamboris (NOT THIS ONE)>:
why do you need to modify the original though? is it big?

[19:00:47](#-qtFBHlJqHWH0Wt_DpMXZcHbsgPHwc9yYKC9kEOemy8) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Ok.. I can pad the second with zeros to get the expected result:
```
>> #{11111111} xor #{0000ffff}
== #{1111EEEE}
```

[19:01:40](#igry_m3oqNN5jWTDCpvG-mlXZDYxa-X5zkW3xbIctdo) <hiiamboris (NOT THIS ONE)>:
yeah or `change` it with the result depending on your needs

[19:51:30](#8mxleY_XcnkozF7XKoOWbcmqiQIyZPDX8j5BRg-0mEU) <zentrog>:
> Ok.. I can pad the second with zeros to get the expected result:
Oldes (Oldes Huhuman) only if the input is all ones though... it needs to be padded with the input inverted

[19:53:01](#jvQ5F3oAafsLT_5Dx9XsbB5KuLiQPbi8KC6eyNeXia8) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Right. I don't want to create so many copies anyway... better to do it byte-by-byte. And optimize later.

## 1-Feb-2022

[9:50:06](#UBo7IfLl54lXTvuD20SC-Z9-qdAf-pz-Dc5wQOVroRk) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
```red
a: make block! 0
b: at [1 2 3 4 5 6 7 8 9] 5
insert/part a b -2
a ;== [5 6 7 8 9] ;<---- it should be [3 4], like in Rebol!
```

[11:25:19](#waR5LovcOFIWpTuCFrnzUhSYdAw3rOiX1ybhIOZusm0) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
```red
a: make block! 0
b: at [1 2 3 4 5 6 7 8 9] 5
insert/part a b -2
a ;== [5 6 7 8 9] ;<---- it should be [3 4], like in Rebol!
```

[19:31:56](#ZwbC3PC2GAsMUswW545EplX8pwNCzycAAPGWo0pbU8A) <greggirwin (Gregg Irwin)>:
Hmmmm. This feels like it should be an error. Just a couple quick checks make me think we need to spec this behavior across the board. e.g. `sort` seems to honor it, but `reverse` does not, and `reverse/part b -3` in R2 is an error.

If it's going to work, it should work consistently.

@Oldes do you depend on this behavior? 

[19:46:31](#SPy3Vi86crxXnzvwn0WzIanBn9xeDJlFPd4UfhHNsBs) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
@greggirwin no, I don't depend on it... But I want Rebol/Red compatibility and I was just trying this code https://www.curecode.org/rebol3/ticket.rsp?id=856

Why you have a feeling, that is should be an error? To me it is clear, that it is a bug. If there can be
```
copy/part b -2 ;== [3 4]
```
Than it should work also with `insert` and `append`.

[19:47:18](#JSne_ES6EbbUslgxA_0wwDKaiLJ0gpIENLQsskPHXLs) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
And it is known issue -> https://github.com/red/red/issues/4106

[19:52:50](#oFDuhH9AbmWsYxlFV1qmf7ov2_lz8M3AEwanQSuXUsQ) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
And the `reverse/part` should also work... in Rebol3 it is:
```rebol
>> b: [1 2 3 4] reverse/part tail b -2
== [4 3]
>> b
== [1 2 4 3]
```

[19:55:06](#qndLUm44kKPPx_yYQ8vIdQhcu_hgZMg0bBZ1FmvYbCA) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* And the `reverse/part` should also work... in Rebol3 it does:
```rebol
>> b: [1 2 3 4] reverse/part tail b -2
== [4 3]
>> b
== [1 2 4 3]
```

[20:14:47](#gWTiXEK3Lv0TdUq1kPDhIsLHP84rzHzoxEuJWvreUTg) <greggirwin (Gregg Irwin)>:
> Why you have a feeling, that is should be an error?

Where you think it should work because another func works that way, I'm looking at it from "What does a negative part even mean?"

> /part  Limit the length of the result.

You can't have a length less than zero for a series. Given a `series!` value for `length/range` is different than an `number!`, so we need to define the behavior for both. 

In the grand scheme, we have to ask if something is useful, and whether it's a win overall when it comes to writing code we can reason about. Another important question is if we disallow something now, can we allow it later without breaking code? In this case, we can.

I'm not saying we *shouldn't ever* support negative `part` amounts, but I *am* saying that we shouldn't propagate unspecified behavior. +100 for a complete `/part` evaluation, design spec, and proposal. :^)


[20:15:26](#Y6L9H-Ptid-MXww2zPYVP7Z9Dhc2zpFza1hL7KknxKg) <greggirwin (Gregg Irwin)>:
Note that @hiiamboris has a general `part` func and design as well, which should be the first thing someone looks at.

[21:35:17](#j_h3KxqNdwnvbj0KJM6MB69NK_ajY1iukxZfkZJMbfg) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Negative length/range is something, what is completely normal in Rebol... it is said, that in Red one would have to write:
```
append buffer copy/part skip tail b -2
```
instead of shorter on more optimal:
```
append/part buffer tail b -2
```


[21:36:16](#2bDtqgPR25r6OChfHbVH_w7rObdEVbkecaCENW19zpE) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* Negative length/range is something, what is completely normal in Rebol... it is said, that in Red one would have to write:
```
append buffer copy skip tail b -2
```
instead of shorter on more optimal:
```
append/part buffer tail b -2
```


[21:36:43](#tjEZ9hgwAff8UL8muwFUQmeuDJsoOFj6UHegLU56Mq8) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* Negative length/range is something, what is completely normal in Rebol... it is said, that in Red one would have to write:
```
append buffer copy skip tail b -2
```
instead of shorter and more optimal:
```
append/part buffer tail b -2
```


[21:40:52](#Q4OgyTo9DqNpDDw5QxpMV5B7EisxrYED3bQKyYRbNNg) <hiiamboris (NOT THIS ONE)>:
I totally agree with Oldes.

[21:41:37](#dROSmrokKWTdnSag_YdHPtDiWrsxdkLF9yij15GFLNU) <hiiamboris (NOT THIS ONE)>:
@greggirwin sometimes experiences a hard reset in his design thoughts í ½í¸‰

[21:42:41](#fGax3uQ8d8T5ZfT4QkoaEpvbuyvaES97QSICc_G-nks) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* Negative length/range is something, what is completely normal in Rebol... it is sad, that in Red one would have to write:
```
append buffer copy skip tail b -2
```
instead of shorter and more optimal:
```
append/part buffer tail b -2
```


[21:43:02](#VsfhTsKgCfOAp-oTL4QrBAT3gc1uqqI0jb4qHPcsCMI) <hiiamboris (NOT THIS ONE)>:
But it's a good note that `part` func should support negative length too.

[21:44:30](#ltK8QddGiJXT9tiCabSq8a6jfzZHqwaLL6rdNNs0PjY) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Where is the `part` func proposal?

[21:44:41](#GW6VUdRc5I5rHXiHLFadsElBfjJbqJC3glMZm_HO1Aw) <hiiamboris (NOT THIS ONE)>:
Unfortunately, looks like Nenad didn't get the point of it, so it's going to just collect dust.

[21:44:55](#pcKqgYyMDaAZE2wJH8Y6US97nuaKaxINuc6an4WqZ30) <hiiamboris (NOT THIS ONE)>:
https://github.com/red/REP/issues/97

[21:46:54](#Ewfsua24j7-wSx3gWc-DRd_VEHtqYC8st0OLHsUC5HQ) <hiiamboris (NOT THIS ONE)>:
It's easy to extend it to negatives by defining `limit` as `abs part` and skipping back the same amount.

[22:56:35](#AFP0nk5qxCRoVUQu0QkaxSZ5EWEhvHvqbvjLImZwS2g) <greggirwin (Gregg Irwin)>:
Moving to red/red for my response.

## 2-Feb-2022

[13:37:26](#U0TvpRfBTOOMSS9dA6kmMkyvGnSlmRh9V9-V984FF28) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
I think that the error message is wrong.
```red
>> remove/part (make bitset! "ABC") "AB"
*** Script Error: missing a required argument or refinement
*** Where: remove
*** Near : "AB"
*** Stack:  
```

[13:43:05](#jQLJvYzpjc40rHsqp5b-_mn-aMJS2I75PYR7Kcsex9s) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
I believe, that there should be `bad-refines:		"incompatible or invalid refinements"`

[13:47:13](#Ibqzu9fhVrqs9bU4gv80yEUWkS7Twv2S0YRp1D7z9bI) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Or maybe it could work just like:
```red
>> remove/key (make bitset! "ABC") "AB"
== make bitset! #{000000000000000010}
```

[13:56:15](#finRiu7Tcz3s_UmnPYLwtFO7NPUFaAHFf_ly7a4P_sw) <hiiamboris (NOT THIS ONE)>:
I think it should be `invalid-arg` but agree that the existing message is wrong. There's a ticket about messages.

[13:56:40](#sYG9gBnOp7x6AANFUPDdNqSLph4N3fKatVPjBeocnx8) <hiiamboris (NOT THIS ONE)>:
https://github.com/red/red/issues/4532#

[13:56:44](#j4V0en2mVAe_2lo_s5JjpHzP9jXllQUDoB-SW6deWNg) <hiiamboris (NOT THIS ONE)>:
* https://github.com/red/red/issues/4532

## 3-Feb-2022

[13:33:07](#EBtZrJt6kL8BkOmPJIv2HvEBFc9Yh6r_Cl712fsvXT4) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
I noticed, that in Red one can use:
```red
>> rejoin [#{00} [#{01} #{02}]]
== #{000102}
```
which is nice, but:
```red
>> rejoin ["a" ["b" "c"]]
== "ab c" ;<---- I expected the inner block to be also joined, so have "abc"
```

[13:35:05](#YeJnbEMwU5itFD3zkZPaJgmx_wpqG463Kq_N82zK1hU) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Hm... the inner block is just _formed_ and it has same result like in Rebol í ½í¸•
```red
>> rejoin ["a" ["b" now]]
== "ab now"
```


[13:36:43](#9X-kGra_2_6xEbPfqjOks6BXxBekZ2VQ2PpzceQ__-w) <toomasv>:
Hm... the inner block is just _formed_ and it has same result like in Rebol í ½í¸•
```red
>> rejoin ["a" ["b" now]]
== "ab now"
```


[13:36:48](#UDUCSugC5ibmU2Z7nJdzBLamukO8aYnwOmLAv_DAOKQ) <toomasv>:
* Nope, inner block is appended to first element, which is formed first if not series.

[13:39:39](#Y3lFllXRvrDgsmwg90YltPIEnd6z7iubzCGIRu9-hXA) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Never mind... it is how it should be.

[13:39:54](#F_0CdqDTBlxv0JLtpsu2mJsK30JfDgAh58L2Th0y3iA) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* Never mind... it is how it should be. At least I like how it works with binary.

[13:41:06](#Y0ZQ4h9AgR_OmsxoyQt_2mUBBdObKiWWFUgG3wp73-M) <ne1uno (ne1uno)>:
Wish  `rejoin/deep`

[13:41:26](#_q9Qjf6aNDxDGfK3T-UhGowSsrf5jrR6JwedQQKNrqc) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
It would slowdown rejoin even more.

[13:42:26](#DTAXJUZSX0zJPn6DNjHWTEet_8kzb1Ga0R6bXpnfJss) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* It would slowdown rejoin even more. Looking how complex this mezzanine is, I wonder why I still have such a strong habit to use it.

[18:40:34](#9Nru4M5mPj_nnDIvMeZdeetaWo73Jwwzg_zfqH-5gg8) <greggirwin (Gregg Irwin)>:
Probably because concatenation is used a lot. In my 2012 func counts, it's about number 25 in the list by use.

## 9-Feb-2022

[16:15:24](#xIVMVMVX2QAkQc48MN3QKOaA1E6oAoBGUzddlf61eqk) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Using `select/skip` in Rebol2 was like:
```
>> data: [a 1 2 b 3 4]
== [a 1 2 b 3 4]
>> select/skip data 'b 3
== [3 4]
```
while in Rebol3 and in Red it is now:
```
>> select/skip data 'b 3
== 3
```
Would not it be better to have is same like in R2?

[16:18:30](#uXthSPjw54RG1xbzuGpC0aUnl7ZRhq5ru1kyzxo8pmk) <hiiamboris (NOT THIS ONE)>:
would be slower

[16:18:53](#GPfTiHoDIpimZIAeT7ZfxZEiB3Xka51ifaApEfAvjcI) <hiiamboris (NOT THIS ONE)>:
* would be slower if it's a copy

[16:19:22](#RKCd6OnxDiEr-w1x75yHu8xcBo9oYM879CA9JohMlRw) <hiiamboris (NOT THIS ONE)>:
if it's not a copy, then it's `find/tail`, so pointless

[16:19:53](#GIigdr62bp8sXQMFopMu8Ghvgdituh4E4P7b1gBWFIU) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* Using `select/skip` in Rebol2 was like:
```
>> data: [a 1 2 b 3 4]
== [a 1 2 b 3 4]
>> select/skip data 'a 3
== [1 2]
>> select/skip data 'b 3
== [3 4]
```
while in Rebol3 and in Red it is now:
```
>> select/skip data 'b 3
== 3
```
Would not it be better to have is same like in R2?

[16:20:47](#6JKAZMFFGgf70S_PYNcXBXvHou1jkp_-Qwp_MUR6DQ8) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* Using `select/skip` in Rebol2 was like:
```
>> data: [a 1 2 b 3 4]
== [a 1 2 b 3 4]
>> select/skip data 'a 1
== 1
>> select/skip data 'a 3
== [1 2]
>> select/skip data 'b 3
== [3 4]
```
while in Rebol3 and in Red it is now:
```
>> select/skip data 'b 3
== 3
```
Would not it be better to have is same like in R2?

[16:24:30](#wKY-SjokXCOSsMUPhJc5J0wArDcYrfNUOz58Jgznokk) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
But now to have the same result, you would have to do:
```
>> either tmp: find/skip data 'a 3 [copy/part next tmp 2][none]
== [1 2]
```

[16:25:23](#975aNO4YqKqbqFA9M9bvs-WCOAvv4Lu3IXBZeESUpzM) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* But now to have the same result, you would have to do:
```
>> either tmp: find/skip/tail data 'a 3 [copy/part tmp 2][none]
== [1 2]
```

[16:25:57](#CBkSCqXA2v-WdO-_JPkE4GRy0QSkGdRCM9IiFYHFmnc) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* But now to have the same result, you must do:
```
>> either tmp: find/skip/tail data 'a 3 [copy/part tmp 2][none]
== [1 2]
```

[16:28:30](#34-d_ySWpNIuzeWLxWJsVGSmxvTd1KY13czmr-VFglc) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
@meijeru https://www.curecode.org/rebol3/ticket.rsp?id=730

[16:34:32](#adH_A9dAgKsgEw2VThPCUlLXvIIeSqbN9Gg0uFz2I7A) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
I somehow feel, that it should return a block, when `skip-size > 2`

[16:36:57](#F4Z45Zkkozq_-dVu-eIzR-wAAymR6Mg_w-s5wtongr0) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
I think that in R2, when `skip-size <= 1`, than it works like if there is no `/skip` and that in R3 the _block selection_ was never done.

[16:37:52](#DHOAGY4v6Gth-DILddfqJB_d3VIC1djhqE86B7C4oSA) <hiiamboris (NOT THIS ONE)>:
I can't agree. The role of select is to select, not to `find`. Making yet another special case in the design only to omit one if-expression is not woth it.

[16:38:19](#amuWBprTBrV9vW7Om5w8K8g-2oZAMh0m1vn1-9rNA1g) <hiiamboris (NOT THIS ONE)>:
`either tmp: find/skip/tail data 'a 3 [copy/part tmp 2][none]`
is the same thing as
`if tmp: find/skip/tail data 'a 3 [copy/part tmp 2]`

[16:39:14](#Z5RYlCCYrh-P_FE0z0vBivx9L0F6WVKG0yNbenFhYsw) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
```
...
     /skip        => Treat the series as fixed size records.
        size         [integer!] 
...
```

[16:40:38](#bIY5-xQbekaHhowgdfTbxppIOYfme6frvbSm2a_HTn0) <hiiamboris (NOT THIS ONE)>:
So it does. `skip`s the indexes that are not integer multiples.

[16:41:37](#eh3DeY0L1HdZbOObKbEcXXD9CAS3kQhZWu3yKazf0Zc) <toomasv>:
BTW In Red `find/skip/tail` returns *after  the skip*, not after needle as in your example.

[16:42:17](#9iuFY0YjL4OIjmt_pf1QTu2SQZzAaGbGJlltXiBVUAE) <hiiamboris (NOT THIS ONE)>:
Now that may be a bug.

[16:42:48](#XgNffnP9MbqdEWqC8hyzGXfBMdcnkjb0GiUWtcsxmmA) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Ok.. counted your opinion. I will wait on @greggirwin's input, why it is how it is and why it cannot be changed.

[16:42:55](#P5UYNhitwSHO3-XMl-1_nCd9L5I2cWt3_lJowUYLEQw) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* Ok.. counted your opinion. I will wait on @greggirwin's input, why it is how it is and why it cannot be changed, because there are no hard data.

[16:43:20](#nH7PrOW4EBQlOnkeTihPl1pn1jd5xrgzOSmQygByd7k) <hiiamboris (NOT THIS ONE)>:
* Now that *may* be a bug.

[16:44:44](#VPj4cL8EIzFKK9TpAG2lGh9gQUcUKJ5OukxSudUTC3c) <hiiamboris (NOT THIS ONE)>:
* I can't agree. The role of select is to select, not to `find`. Making yet another special case in the design only to omit one if-expression is not worth it.

[16:45:08](#r-VunhkB3xtC1hpP18L6Ymeh0rO0ld60_WpcC3OrUrs) <toomasv>:
* I can't agree. The role of select is to select, not to `find`. Making yet another special case in the design only to omit one if-expression is not worth it.

[16:45:49](#Hkd1s6BHtQ_ppt0eFjikRmUdmmbCITv43w0DnyHKzpI) <hiiamboris (NOT THIS ONE)>:
* I can't agree. The role of select is to select, not to `find`. Making yet another special case in the design only to omit one if-expression is not worth it.

[16:46:42](#V450xKGTI-fqAdkYzQqJ7egRyuqblYzG0kphfr_qeJI) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
So instead of:
```
select/skip data 'a 3
```
there must be:
```
if tmp: find/skip data 'a 3 [copy/part next tmp 2]
```

[16:49:26](#sPi8fh1K9B0u1EVSuJxxINDOkuKl0FAWTKc9dxmYjso) <hiiamboris (NOT THIS ONE)>:
if /tail is final then yes

[16:57:01](#z76bNlXvK66uP_CecBzlFYWFu3FjR_ZoudZ63iIDh28) <toomasv>:
Or
```
all [tmp: find/skip data 'a 3  copy/part next tmp 2]
```


[17:18:03](#fp-aqQ0oNlhJN6RehQWVjXQm4LVxL_EGgdW0E0FK3fs) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Yes... there are options, but I wanted to know, if everybody is find with current single value result from `select/skip`

[17:18:15](#hKsKWYhwH85RjzMik9vT9ArVZrGbuWckExvxMVR3ww0) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* Yes... there are options, but I wanted to know, if everybody is fine with current single value result from `select/skip`

[17:18:21](#0Bq_MCW5jhucRnRYM_nxPB13y_4qgWNPz0JujA-Hp8U) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* Yes... there are options, but I wanted to know, if everybody is fine with the current single value result from `select/skip`

[17:33:08](#3QdNSNLwHydiUOzQwU6X5p5Dkk6nDP9Ay5rs2j7Pcuw) <toomasv>:
It might be good to get the whole record after needle, but I usually need just one element of the record, so there is not much difference between
```
pick select/skip data 'b 3 2  í ½í¸œrovided /skip returns block
```
and 
```
pick find/skip data 'b 3 3
```
except that in first case there is created an additional block.

[17:43:12](#o0UG1_6YfHdlkE6zEwkJIeEqt_pbxCvpXxt3U0Fx3vs) <hiiamboris (NOT THIS ONE)>:
and if you need more than one, it's more efficient to access items in place `row: find/skip ... row/1 row/2 ..` than work with the copy

[20:24:20](#oH5NOruseSvBRLNdfutLa1c_wwO92XAeLxVpmR3SQVY) <greggirwin (Gregg Irwin)>:
I need to get some coffee, as this is an oooold topic and no matter what I say will likely contradict at least something I've said about it in the past. :^) But, to @hiiamboris point:

> The role of select is to select, not to find

Yes it is. First find the value, then select what comes after it.

> select:    *Find* a value in a series and return the next value, or NONE.

[21:39:55](#1GbuXWE-jqZECRqcBUCeeWjVuH_QQ_G8OIhplNdnd5M) <greggirwin (Gregg Irwin)>:
I did a quick search on R2 code, and got about 125 hits on `select/skip`, roughly discounting dupes by eye. Most common skip value by far is 3. Next is 2. A few used 4. 2 is kind of funny, because it's the same as 1, but returns a block. I imagine this was Carl's clever way of letting you get a single value or a block, but it's a bit odd from a consistency reasoning perspective. I'll come back to this.

That's a good number of uses, which are now broken in Red. I don't know how much it's used in any R3 code, that but that would be good to know. Most important is Red use of course. There it's used 3 times in the Java bridge, and once in `help`. Lots of tests for it though.

From the above chat we know that the `/skip` part applies to the value/key/needle you're searching for; what's returned is separate from that.

I haven't searched old altme chat but, coming back to the first para I wrote, I'm confident that the change was made in R3 because using blocks as key-val stores is one of the most common things people do. The catch is that there is no inherent `/skip 2` when you do that, for `select` or path syntax. *This* design chat I do remember coming up at times in R2. Most R2 code is probably OK, but every time path syntax is used, or plain `select`, it runs the risk of finding the key as part of a record or non-key value. That's bad. I can't be the only one with multiple versions of helper funcs to avoid this problem. I even ported mine to Red.

The reason the change was made in R3, and adopted by Red, is to avoid the double-clock problem. If you have a key-val model, and your vals are blocks, you get this in R2:
```
>> blks: [a [1 2] b [3 4]]
== [a [1 2] b [3 4]]
>> select/skip blks 'a 2
== [[1 2]]
```
When what you want is what Red/R3 do:
```
>> blks: [a [1 2] b [3 4]]
== [a [1 2] b [3 4]]
>> select/skip blks 'a 2
== [1 2]
```
But that makes you work harder for every other case, outside `/skip 2`. `/only` is already used for the key, so we can't even add that to flatten the result. This is a rock and a hard place. It makes perfect sense to return everything in a "record" when you select for its key (the R2 model), but it also makes perfect sense to optimize for the most common use case. 

Raw, flat blocks are harder to reason about as records, but more efficient. the CSV codec has an option for just this reason, as it can make a big difference on large datasets. @hiiamboris considers this in his `part` REP. The idea being that series values could have an internal `skip` value. But that's beyond this issue for now.

Where flat blocks are used, e.g. CSV, they are less often keyed (guessing a bit here, but also thinking back on my own experience), and are based solely on offset and field count. So `select/skip` doesn't apply as often.

Given all that, I think the current behavior is best. What we can and should do, of course, is cookbook an example for the alternate case.

[21:46:16](#eQseNg69yO03JjKh2NdqjllRSR5PkWLmBbaSp8tT-SM) <gltewalt (Greg T)>:
`/last` is not deep. Is that an issue?

[21:46:54](#fOAUwSkZEJYV8j9UXYHGBCkTT-RlL88YTtsG1_JWcH4) <gltewalt (Greg T)>:
```
>> select/last [a b c d e f g a h] 'a
== h
>> select/last [a b c d e [f g a h]] 'a
== b
```


[21:50:03](#I6YqESM7G7xgHZmI7mSYdY_KSSHve_-oNPt-MYr5LHo) <gltewalt (Greg T)>:
Or should there be a deep?  The second example is technically correct since [f g a h] is a different block

[21:52:54](#Xrm5AbhKt_gmdo36EMWF-gfz-4vRByvDYIycXOhdYiA) <greggirwin (Gregg Irwin)>:
There is no `deep`. Good exercise to think about why. :^)

## 11-Feb-2022

[15:57:33](#ShFMogBUvr5FAaS_wdfrhjx8Eypk2AfDNuPM8_hMfHI) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Is `read/info` supposed to be used with the new IO? Because it has no doc-string now.

## 12-Feb-2022

[2:28:37](#417P7c2FFC8pWNaBg2fth1bV8sfTqTFpf-BAtZlCX1g) <greggirwin (Gregg Irwin)>:
Right now it returns full HTTP info `[response-code headers content]`. Full I/O behavior is TBD.

[9:47:07](#BGBwPiqMY8UwgVHeHRoltovQT82PEgQDkZSQR58iIT8) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
I know what it does.. I wonder if the name of the refinement will be kept.

[17:31:04](#nE2Rgd5USja4b4mc6enT8O3NDNoz9a26GZVp2Ty5a7s) <greggirwin (Gregg Irwin)>:
I don't now what everyone knows. :^) I can't commit to the name being frozen at this time.

## 13-Feb-2022

[23:12:58](#t5GGU_oP8nXLzHH5MlGcfbMMOiFcdI58yeu-WWU02Ng) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Wouldn't it be better to be named `read/all` instead? So it would be more in sync with `load/all`?

[23:13:27](#lGltIAVLbloK8tNCGDIGr39TPWMHmXsBPRNyHkd0pdo) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* Wouldn't it be better named `read/all` instead? So it would be more in sync with `load/all`?

[23:15:51](#jbjfr3vkk1exx-BB9KYZUn5qdBbQvXH7fNbcXZSEDRY) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Although it would be strange to have `read/all/part`

[23:15:57](#n-bB7CROmACXIByBvkQebFKfzXLIouzS3ZzOWE4x1dc) <greggirwin (Gregg Irwin)>:
That's a good name, and existing. What we should do is make sure we know what its purpose is for types that support it.

[23:16:54](#Q1gYlT9-nZ8oPipWPxkdTEs1S86EbePBOh5HtWyWwQQ) <greggirwin (Gregg Irwin)>:
`/all` is better for what it returns now, I agree. Because it's not just `GET HEAD` for HTTP.

[23:17:05](#lBuCglhzaNELWUwdDBKhkNhOFWEclXy5QEf6Fk_d8es) <greggirwin (Gregg Irwin)>:
* `/all` is better for what it returns now, I agree. Because it's not just `HEAD` for HTTP.

[23:21:35](#WXacwRpwBFyfnlBXyiAaRJop5ibu3eR06spn9yTb5LU) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Hm.. I think `read/all` is better than `read/info`.. because for example in case of error, it returns the error html content page too.. and not jus error.

[23:21:38](#3lbzUtqbQcD_1iQpoTvbuqusvCBrH1axW7W0ZoILMc8) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* Hm.. I think `read/all` is better than `read/info`.. because for example in case of error, it returns the error html content page too.. and not just error.

[23:21:54](#H-FWLMMazEM-AryiAgKq-g_30NeDJaYfa3pEc8cfm3w) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* Hm.. I think `read/all` is better than `read/info`.. because for example in case of error, it returns the error html content page too.. and not just error. Which is useful.

## 14-Feb-2022

[16:10:06](#JnHG2c5ad1tRJqC6Q4oWyvpxGUgMMHi8N7fzaCF_42A) <endo64>:
I remember `select/skip` discussion with Carl on Altme, but don't remember the  conclusion :) 
```
b: new-line/skip [a b c d e f g h i] on 3
>> select/skip probe b 'd 3
[
    a b c
    d e f
    g h i
]
== [e f]
```
If we treat series as a record then I want to get the selected part which is `e` and `f`.
Otherwise I just use `find`.

[16:10:07](#e5l88BckAzMCNwrACMN-EoKvieTGZW37FsyFiWv0o9E) <endo64>:
[![image.png](https://files.gitter.im/5902e8c1d73408ce4f5b94ba/4oqF/thumb/image.png)](https://files.gitter.im/5902e8c1d73408ce4f5b94ba/4oqF/image.png)

[16:21:10](#t6dlGKj_HmeUYoeM8tx9qJQqvCXzmcgk9oLy8jR3Tfc) <hiiamboris (NOT THIS ONE)>:
What if your key is in 2nd or 3rd column?

[16:22:36](#xILVHR9u41vWco_BFZCdRcmwq6peVFU6mrbH9LgNs7Q) <endo64>:
You need to organize your data then.

[16:23:12](#RMbdZPhaZXVFyywfIBsLQkjhc9RX3tE5dvIoHmPthjs) <hiiamboris (NOT THIS ONE)>:
Nope. Sometimes you use different columns as keys. E.g. `reactivity.red`

[16:24:09](#izhMJ1uwdkIc9K5X2Hf0D1-W6ZH_7RptjhnYGw2Wv6M) <hiiamboris (NOT THIS ONE)>:
You can just use maps with block values if your data is organized, and key is in 1st column.

[16:26:10](#QuV1Xf0GxdB33WHrY2Vst4-POc8xGVixQ5JwII7dSUg) <endo64>:
`select/skip probe b [d e] 3  ; == [f g]` on R2, which I think it should be [g]

[16:26:32](#DTQNatcIEMixQ9urCikiZxPorkSdEm9O8SILLbsoIT0) <endo64>:
* `select/skip probe b [d e] 3  ; == [f g]` on R2, which I think it should be `[f]`

[16:27:39](#4y0H201iXG2s3rNsG7wPWL8x_MtVO2uxKNWcP2YuwNo) <endo64>:
Here I found the discussion: http://www.rebol.net/cgi-bin/r3blog.r?view=0194#comments

[16:35:19](#pUF6Re7W-nsYshkonY65591x2KHFdGDJtqbxSHZwioQ) <hiiamboris (NOT THIS ONE)>:
Zero arguments in that, only momentary preferences.
Well, anyway GC pressure of this design would render select near-useless for anything but console tinkering.

[16:36:30](#q-gg3lhUmfRzMm-cCgZ5mlSn7vBnxOiz48LL7zXng5I) <hiiamboris (NOT THIS ONE)>:
Plus, every select-using function will have to split it's logic based on /skip size.

[16:36:59](#ccE0fgDGV2wnsTpZ1D3fY61u_bgph1K_BOy2PMZRvOM) <hiiamboris (NOT THIS ONE)>:
Plus, everyone will have to keep this quirk in their minds.

[16:37:08](#cgzt_Mnazva55XfyUlsYWplchd49kl7sTDQXdnV9spA) <hiiamboris (NOT THIS ONE)>:
Horrible idea :)

[18:06:55](#fRsjF7AZGvV4CRi_mh3DjmdPEJgQIkydvoif6Lohh-o) <greggirwin (Gregg Irwin)>:
>  GC pressure of this design would render select near-useless for anything but console tinkering.

Or people would still write a lot of useful code, completely ignorant of what happens behind the scenes. Fewer people would optimize beyond that, by choice or need. That's what I think would happen.

## 15-Feb-2022

[10:29:43](#W7PeYRcL9R6YKLw_P3a9MEVBH29XZjhSV3ykjMp6CLA) <rebolek (Boleslav BÅ™ezovskÃ½)>:
>  GC pressure of this design would render select near-useless for anything but console tinkering.

Or people would still write a lot of useful code, completely ignorant of what happens behind the scenes. Fewer people would optimize beyond that, by choice or need. That's what I think would happen.

[13:34:11](#ZH3PKxXFkPgdTIge9svUfJ3gwIYn0T6FeaGTVQRD3zs) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
There is not much info in the [Altme chat](http://www.rebol.org/aga-display-posts.r?offset=0&post=r3wp453x13747) either. But it looks that years ago the preferences were to have R2 behavior. 

[13:36:02](#NzkE7uJigT8xwYasc3fxZvFp4UWPJtWT-wpT5HDaDdA) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
It's a shame that we don't know Carl's opinion... as many times he asked a question and that was all.

[13:46:57](#Skx-pqoYSetQQd5iA8nHYlIxpYNWzs4lwBZKxFi3QXs) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
And after checking my old code... I used `select/skip` only with `length = 2` (mostly because there was no `map!` type for key-value pairs in Rebol2)

[14:09:12](#4-XAzBWAw-qMvYQQZGcN2gKTM6a6_nbZyKpQIUIEJGI) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Also in 1238 scripts from rebol.org there is only `select/skip` with `2`.

[19:16:56](#5Z3Mshf8Ajfzz403n6vzEN4uNJH6ykbegLoS5V2wbq0) <endo64>:
Thanks for the info @Oldes 

## 19-Feb-2022

[1:07:57](#WvOIFQaK-0jf4IwZbcJuo9RVGef89xWIw2WE9983dLo) <zentrog>:
I'm not clear whether this is a bug or by design. I'm trying to `select` with a `path!` to get at a nested value.
```
>> select [a: [b: 123]] 'a/b
== none
```
I thought maybe it's because `select` is looking for a literal `path!`, but these didn't confirm that suspicion either...
```
>> select [a: [b: 123] a/b 456] 'a/b
== none
```

[4:40:17](#HW2JH8yOG_qGMcR9M895t5kjt-BBD31AoGCOO6egzKg) <toomasv>:
For last one use `/only`. But `select` does not go deep: *"Find a value in a series and return the next value, or NONE"*


[8:32:00](#3zlcZUXfkgv5UiRV9Nbbz-kcmbLZky1P8-qh_3UYh-s) <toomasv>:
Path works same as block:
```
>> select [a: b: 123 a/b 456] [a b]
== 123
>> select [a: b: 123 a/b 456] 'a/b
== 123
```
And:
```
>> select/only [a: b: 123 a/b 456] 'a/b
== 456
>> select/only [[a: b:] 123 a/b 456] [a: b:]
== 123
>> select/only [[a: b:] 123 a/b 456] [a b]
== 123
```

[8:32:28](#NHuflrsfDiYBCOl9kFQgtHE5t4s8rUWZDoYjXJ-y7Rc) <toomasv>:
* Path without `/only` works same as block:
```
>> select [a: b: 123 a/b 456] [a b]
== 123
>> select [a: b: 123 a/b 456] 'a/b
== 123
```
But:
```
>> select/only [a: b: 123 a/b 456] 'a/b
== 456
>> select/only [[a: b:] 123 a/b 456] [a: b:]
== 123
>> select/only [[a: b:] 123 a/b 456] [a b]
== 123
```

[8:54:42](#nPWrKF2eoPYlyji3r3Z97ttX9lXvSreqA3ApohMhrSo) <toomasv>:
Extension :)
```
select*: function [blk key /only][case [only [select/only blk key] path? key [foreach k key [blk: select/only blk k]] true [select blk key]]]
select* [a: [b: 123] a/b 456] 'a/b
;== 123
select*/only [a: [b: 123] a/b 456] 'a/b
;== 456
select*/only [[a: b:] 123 a/b 456] [a b]
;== 123
select* [a: b: 123 a/b 456] [a b]
;== 123
select* [a: [b: 123] a/b [c 456]] to-path [a/b c]
;== 456
>> select* [a: [b: [c: [x y z d 123]]] a/b [c 456]] 'a/b/c/d
== 123
select* [a: [b: [c: [x y z d 123]]] a/b [c/d 456]] to-path [a/b c/d]
== 456
```

[8:55:22](#67Eg1atxD4Nl_2VwwQBwvcVcarMbfbVKduY9REFyE3Q) <toomasv>:
* Extension :)
```
select*: function [blk key /only][case [
    only [select/only blk key] 
    path? key [foreach k key [blk: select/only blk k]] 
    true [select blk key]
]]
select* [a: [b: 123] a/b 456] 'a/b
;== 123
select*/only [a: [b: 123] a/b 456] 'a/b
;== 456
select*/only [[a: b:] 123 a/b 456] [a b]
;== 123
select* [a: b: 123 a/b 456] [a b]
;== 123
select* [a: [b: 123] a/b [c 456]] to-path [a/b c]
;== 456
>> select* [a: [b: [c: [x y z d 123]]] a/b [c 456]] 'a/b/c/d
== 123
select* [a: [b: [c: [x y z d 123]]] a/b [c/d 456]] to-path [a/b c/d]
== 456
```

[9:25:57](#LAlSIMWX84LQf0nrInjNU3bhQHuMzCxy-NptzTUa9go) <toomasv>:
Better just `select-path: function [blk key [path!]][foreach k key [blk: select/only blk k]]`

[9:26:20](#u3jyl2XoyFFmiBFnZNWZsXW8BeedLOU1zy7iXv8lMdo) <toomasv>:
* Better just 
```
select-path: function [blk key [path!]][foreach k key [blk: select/only blk k]]
```

[9:26:35](#YK8EtmQdgGz4F3iRqfysMTTX_Z6OPUUQ1L0oHQMyjB4) <toomasv>:
* Better just 
```
select-path: func [blk key [path!]][foreach k key [blk: select/only blk k]]
```

[9:26:45](#Dag7d1fH05cZsvYFAkpovcmDK1cqK7a7COj_93QnXRs) <toomasv>:
* Better just 
```
select-path: function [blk key [path!]][foreach k key [blk: select/only blk k]]
```

[9:49:01](#G_U2kjbikfIPcJAwjKHmYKByacP5UFWXy3nKBbm2K0Q) <gurzgri>:
Is this a known lexer bug? `transcode "1.79769313486232e308"` (or typing `1.79769313486232e308` in the console) hangs Red 0.6.4 for Windows built 19-Feb-2022/3:17:54+01:00  commit #abb5641.

[10:29:28](#USMayvgB4gHx1Uio3gxu3B8LKI6kZ91c4uWAnWlnBOo) <hiiamboris (NOT THIS ONE)>:
nope, pls report it

[10:42:14](#EkY7itCKMBxBMBSnk9HmEjzWWzHv9rD_nH7BoftfsbY) <gurzgri>:
will do

## 21-Feb-2022

[7:53:26](#4crMDTPbO_xxIpqQNtFKcpVyvzrCAu_cT3sPO1gsIaI) <zentrog>:
toomasv (Toomas Vooglaid): Thanks! That is pretty nice. I was trying to construct a new path and `do` it, but hadnâ€™t gotten that working yet

[9:13:46](#emKHlrDiGskGL7NZf4jBPt2wH6hIj2uhxxh4TXqrCLU) <toomasv>:
@zentrog:matrix.org You are welcome!

## 27-Feb-2022

[11:59:51](#em32KfetvYwYnClq68iyD1xjH__lheRo40NybESkcsY) <loziniak (Maciej ÅoziÅ„ski)>:
```
>> type? load "[test"
*** Syntax Error: (line 1) missing ] at [test
*** Where: transcode
*** Stack: load  

>> type? load-json "[test"
== error!
```
How do you think, is consistency important here? If yes, should `load` return error, or `load-json` should cause error instead?

[12:02:06](#7F5RXeyvXNyxehfdDd4Kx8J43zp3tZeXCyuJrX3PZHU) <hiiamboris (NOT THIS ONE)>:
load-json should cause error instead

[12:03:29](#KfO9d8FPfPrNLnLPeSjVCtuH8SBQ-PtDsHxqsVdknvo) <hiiamboris (NOT THIS ONE)>:
though Gregg disagreed with this IIRC

[18:50:40](#XRk_20jKQ7FUh8pJFLAjsOIMcNtNG3X6bVszO9-hqjo) <greggirwin (Gregg Irwin)>:
We need to think about it for all codecs, and other modules as well. CSV causes an error in one case, but returns them in the rest. JSON returns it for a top level problem, but `unescape` is now a routine that `fire`s an error. XML has a lot of `do make error!` calls. @rebolek, is there a reason you don't use `cause-error`?

Error handling choices are always fun. And by "fun" I mean the other thing. :^) There is no single right or wrong here. Consistency is a good thing, but also not universal. This is one of a things I've seen a lot written about in the Java space. If you decide on exceptions (caused/fired/thrown errors), that ripples up to the top of the app that may crash. As you start building levels and layers in apps, each layer has to handle them. In Java this is painful because exceptions are typed, meaning the caller has to handle every specific type of error you may throw in some way, or default to a general handler, which abdicates some responsibility.

In Red, people may eventually build large, layered apps, but for us that issue is much more about libraries. Consistency in the ecosystem will help everyone, but again, we can use too broad a brush. No easy answers.

So let's think about Red's strengths, and how that plays into this. Consider IPC, distributed systems, logging failures, event streams, messaging, HOFs, and more. We may *not* have a single standard model for error handling.

We can chat in red/red and extract thoughts to https://github.com/red/red/wiki/%5BDOC%5D-Error-handling, or people can add their own thoughts directly there (with self-attribution so we know whose thoughts they are).

[18:58:51](#DyzEa2GRPx-n04-1Zddifb64E9iMNeyJjMYDah9_xR8) <hiiamboris (NOT THIS ONE)>:
> Consider IPC, distributed systems, logging failures, event streams, messaging, HOFs, and more. We may not have a single standard model for error handling.

I honestly don't understand why we should consider any of that. The only thing we should consider here is whether user has to write `if error? data: load-json` or `if error? try [data: load-json ..]`. And answer here is clear as it comes down to what user gets if he omits `if error?`: a clear error from the JSON codec or something like `error! type is not allowed here`.

[19:11:35](#rxmUORJ3io1R2L0j_Kpv9UXnJMfDUKk4_ATLxszDDXU) <greggirwin (Gregg Irwin)>:
> The only thing we should consider here is whether user has to write...

If that were the case, and easily agreed on as clearly superior, wouldn't all languages use the same mechanism at this point? 

[19:12:45](#K9zrXKX8n_NhFeitjLD4D7OExqPWqfU-ZCCNyMNdhR8) <greggirwin (Gregg Irwin)>:
In some ways it's like the distinction between assertions and errors. 

[19:15:47](#ijN9X6ufCl8dqgtZGBWCy1oFhYDjOOeoSComaybZmSs) <greggirwin (Gregg Irwin)>:
> And answer here is clear as it comes down to what user gets if he omits `if error?`

Who is the user? The one writing directly against a call? The person using the library the first one wrote? The front end dev who uses the wrapper and doesn't know that they need to use `try`, so their app crashes?

[19:16:47](#NNjkFJrS4jp3jyekk6mwVIxuWVNS2aQsbozWWRiL5NQ) <greggirwin (Gregg Irwin)>:
Believe me, I'll be *thrilled* if we can find an easy answer to this that everyone agrees on and works universally.

[19:17:44](#PnF7vz0YX2gClr2_9ws1T_PdrNiDh_nmU7sM2DnH8BM) <hiiamboris (NOT THIS ONE)>:
I don't really care about those languages. E.g. in C you have to put an error check after *every* call, which seems nonsensical but has two reasons: exceptions are slower, and exceptions were invented much later than C. 
D already throws everywhere by default.

[19:17:57](#5zaTTxjqY5g75pFtXeCibsevu0iCRGJFVgzMOofb_uM) <hiiamboris (NOT THIS ONE)>:
> The front end dev who uses the wrapper and doesn't know that they need to use try, so their app crashes?

But app crashes either way

[19:19:39](#sp8zE8eUnc5ZMRk6DfXcDsu1waQw6A2DOATxl12ivv4) <hiiamboris (NOT THIS ONE)>:
* I don't really care about those languages. E.g. in C you have to put an error check after *every* call, which seems nonsensical but has two reasons: exceptions are slower (if you wrap every call in a `try` that is, but if you just use a reasonable number of `try`es then it may even easily be a win), and exceptions were invented much later than C. 
D already throws everywhere by default.

[19:22:29](#P2q_YdGLmPcem3HxdDiWn_d3bfiVI4VokJfdNSFl0lE) <greggirwin (Gregg Irwin)>:
> But app crashes either way

`view [a: area 600x480  button "Load" [a/text: form load %fail2.json]]`

[19:23:52](#PZG7Hho1Ky-ssEAo30m8bWKlcYFKhEwmJ42zqewX7uM) <hiiamboris (NOT THIS ONE)>:
counter-example:
`view [a: area 600x480 button "Load" [a/text: form (do make error! "fail2.json")]]`

[19:24:36](#gISK0nxQtdnOhqq8fuA6InyQfS5lBRxUvY4DhpJ7YTA) <hiiamboris (NOT THIS ONE)>:
Basically throw or not comes down to two programming paradigms:
1. (old) Meticulously check results at every step and provide error message for every occasion
2. (modern) Divide code into more broad blocks and provide messages for every block failure

[19:25:17](#0k2TW0TdOJJEr3RmLULQcfB48j-xJxcl6Vg_Xuo2obE) <hiiamboris (NOT THIS ONE)>:
* counter-example:
`view [a: area 600x480 button "Load" [a/text: do make error! "fail2.json"]]`

[19:26:59](#5NIGM8jUUSRhm9wy-WenIl0uRmSfGZG-3LDFcEhlIB4) <hiiamboris (NOT THIS ONE)>:
Well, there's 3 (ultramodern) - Do not provide any messages and say "something went wrong" on every failure :)

[19:27:13](#nZrwi64ePaosUryDkMmp2HmR5tr-zWGac-HOsd7h0MY) <hiiamboris (NOT THIS ONE)>:
let's not consider it though

[19:32:48](#0iYFL0jAf5cKoRBbE-6_yYC8GQ2qUkh07cTGb8kC3KE) <greggirwin (Gregg Irwin)>:
In your counter-example, it's a more silent failure, yes? I had to test. :^)

Anyway, wrong room to continue the design chat on this.

To get back on topic, do new GUI consoles not let you select with the mouse, after at least one evaluation, unless you go down a line, for anyone else? 

[19:36:09](#DxL4AEx_lChYowwvibIErZooGmInE4XkIFtFhqmBRxg) <hiiamboris (NOT THIS ONE)>:
broken for me too

[19:36:22](#nKPORSISFdvzU1PtfVxqA7S9iTq54RVk0OKzp5He48o) <greggirwin (Gregg Irwin)>:
Thanks. :+1:

## 28-Feb-2022

[6:43:35](#6c8QlsKAfGZw4JwaVQXUWlaxoB4W4W6Xt4_yrGXh_ac) <rebolek (Boleslav BÅ™ezovskÃ½)>:
@greggirwin 
> is there a reason you don't use cause-error?

Yes, itâ€™s a confusing function without documentation.

[6:43:54](#hVK3hqqHuEnd32lknK9HhZDOguGn_Obv29mXkKSuFvM) <rebolek (Boleslav BÅ™ezovskÃ½)>:
> CSV causes an error in one case, but returns them in the rest.

[6:44:17](#7tE9JKldCJZJYmoqa8-BAwVM1V4hQFy9TqAT1uqSWCA) <rebolek (Boleslav BÅ™ezovskÃ½)>:
t should cause them in all cases, Iâ€™ll fix that.

[18:36:21](#Gg9J1rZtsDui6lcikLlao9iHMeiCMxxNb5yZQQcnVuo) <greggirwin (Gregg Irwin)>:
> itâ€™s a confusing function without documentation.

We should address that then. Making errors can be a bit tricky, and we should outline best practices.

Don't change CSV just now, as we have so many other tasks pending. Let's sync everybody up on general error handling models and guidelines, and write that up.

[18:53:18](#ou5k72JNNbnQfHs-2outHRSgC3OtRbDvSRfl-wlPCLE) <hiiamboris (NOT THIS ONE)>:
I agree with Bolek that `cause-error` is quite low level. Preferred way should be the `#error` macro in most cases. 

Error catalog is designed for R/S code that uses it extensively.

In Red code, benefit of `cause-error` is that by using error catalog you don't have to duplicate the same message all over. And also your compiled code also doesn't have to include extra error message strings. So it makes sense to wrap it in *some* contexts.

In general though, errors are often unique, and if we use `cause-error` in place of clear to-the-point error messages we forfeit important clues and waste our and everybody's time in the end.

[18:53:52](#yoQ274ykjDh2y4XrtGFRYsCEn5hVRtAGSLwATXFhgnw) <hiiamboris (NOT THIS ONE)>:
It *can* still be used as alias to `do make error!`, but it's a bulkier alias in this case.

[18:56:07](#_6gnfPMHKccokUaQ7zbjIsndqdG6VmqdEK2irXUZJ0g) <hiiamboris (NOT THIS ONE)>:
`cause-error 'user 'message "error text"` vs `do make error! "error text"`

[19:00:21](#L_H-Hej2Pld5T1BsH47u9OrXy1E8GNGaNH4cthGNRoY) <hiiamboris (NOT THIS ONE)>:
* I agree with Bolek that `cause-error` is quite low level. Preferred way should be the `#error` macro in most cases. 

Error catalog is designed for R/S code that uses it extensively, and `cause-error` is just a Red wrapper for that.

In Red code, benefit of `cause-error` is that by using error catalog you don't have to duplicate the same message all over. And also your compiled code also doesn't have to include extra error message strings. So it makes sense to wrap it in *some* contexts.

In general though, errors are often unique, and if we use `cause-error` in place of clear to-the-point error messages we forfeit important clues and waste our and everybody's time in the end.

[20:44:32](#08DdJ68TAo68sk6nsWMGZfwOSkvCtK8cG9l-PDX4z8Q) <greggirwin (Gregg Irwin)>:
For me the issue is clarity of intent. `do make error!` makes you think a lot more. At least it does me.

[20:54:18](#9Fi0CF-0CLQgA_4WfXoteozvlBB_XhU4j7tpoZ-pVfA) <greggirwin (Gregg Irwin)>:
One downside to `#error` is the lack of an active verb in the name, so it looks like a definition more than an action.

I have similar naming issues about `do/cause/fire/throw/...` in the error domain as with all the variants of `append/extend/rejoin/reform/join/ajoin/combine/merge` in string and structure building.

[21:08:57](#qlBgcxZA3Zi_usRsJvO89booMBMfGOHNi0hhpJPi3f0) <hiiamboris (NOT THIS ONE)>:
I proposed a few alternative names [here](https://github.com/hiiamboris/red-formatting/discussions/20#discussioncomment-2210811), but I would still choose `#error`

[21:09:25](#fr7TVBJQM5HpmGae3iMSbaJZY4MY6b607b3d0ojZhhI) <hiiamboris (NOT THIS ONE)>:
Besides, that's far from the only name that is not canonical in Red

[21:16:45](#Yy5zxWNJRsaBsTfxx6F7L04uMOMhgKclvWVZKwDCdys) <hiiamboris (NOT THIS ONE)>:
E.g. `math`, `layout`, `what`

[21:17:31](#rwdNP0VwGRQBnbu2Z3NcyGvdjL1SwPxBHswOeSOZ48Y) <hiiamboris (NOT THIS ONE)>:
I agree would be nice to have a verb, but is e.g. `#err` better?

[21:26:40](#8ns3NdskXZ2WDLYd7RVJ031sZ__CapA-KGJsNuLLeJ4) <greggirwin (Gregg Irwin)>:
We're on the same page. Also in how we can condense the most common patterns when it comes to string output, including interpolation and errors. `Math` is probably best suited as an optional piece. It's a nice example to have included, also so small that it seems silly to break it out. OTOH, it's also limited in scope and `math` is a very broad term.  And handy if people want to expose math expressions to end users. They shouldn't have to know about Red's internals. `do-math` or `eval-math` at least verbify it.

[21:26:42](#lRAc69jCzTd7mjlZ7WmPmShiSH_32WUAWaS94F0DOBI) <hiiamboris (NOT THIS ONE)>:
`#fail` would probably be my next fav after `#error`

[21:27:36](#t3CTDyk03ySGk6VSkUESf9pR26H6O_hOpLdWgBfElBw) <greggirwin (Gregg Irwin)>:
`Layout` is interesting, because it is a verb as well as a noun, and so works very well mapped to a declarative dialect.

[21:27:54](#CV88oaf35MVEt3UXDOCqxgij7ybHdQBx-xWKtX2DlU0) <hiiamboris (NOT THIS ONE)>:
shouldn't be `lay-out` as a verb?

[21:28:01](#rXzETOl5M4-9fmBE5pnta8BW-G1HvOLzgtGKxsal_Ao) <greggirwin (Gregg Irwin)>:
I never liked `what`.

[21:28:44](#h69j9sqnk58T6wjY2ZaXMYkT2tkJ5llCKSZtceRhrxo) <greggirwin (Gregg Irwin)>:
> shouldn't be `lay-out` as a verb?

It's an imperfect world. :^)

[21:28:50](#RzUJvN4QHKz3LUx3LYhWSphOvOJYnV2z9hi-9qsofG0) <hiiamboris (NOT THIS ONE)>:
:)

[21:36:26](#fb1_4MUl1oFaY6p5IDLeE97LKyDbIJW2pIoLrDqlekE) <hiiamboris (NOT THIS ONE)>:
If we switch to emojis, no more verb/noun issues í ½í¸‰

[21:37:21](#QPBqn821uR-l-SPDQZ2qH2VOEPeH0zkcCo3AohmuEg0) <greggirwin (Gregg Irwin)>:
I think you mean *more* issues. :^)

[21:39:31](#iIqp_MeKNHWw5QlZfKZTUJx5LZNaitDD3yCytvz6yL8) <hiiamboris (NOT THIS ONE)>:
Of other type, yes í ½í¸‰

## 1-Mar-2022

[1:27:58](#9NnFCxBR01bLcO1PQlYNAnwcuwtEWnOfXvTprSutQCs) <zentrog>:
`complain` is cute, but kind of informal or something. I seem to remember that appearing somewhere else. Does `what` need to be a global value? Maybe it could be folded into `help`. It seems like it doesn't have a clear role distinct from help. For instance, either returning a value, _or_ printing results (and maybe printing and returning). I think it would have more utility if it just returned results. And why does it reuse the same output buffer?

[2:42:50](#ILJeRu9H9nosdXrXCJTHWkg_wf78dVNw4N8JUskDYhw) <zentrog>:
I also found `cause-error` extremely confusing. There is no indication what `type` or `id` are used for. And when you intercept an error, it's not super clear what you are supposed to do with it either...
```
>> probe try [do make error! "ack"]
make error! [
    code: 800
    type: 'user
    id: 'message
    arg1: "ack"
    arg2: none
    arg3: none
    near: none
    where: 'do
    stack: 75580124
]
```
`where` is nice, but most other languages would call that the `stack`. So what is this `stack` for? If you just want to present the message to the user, do you just show them `arg1`? What are the other args for?
I'm not actually asking for answers to these questions, just talking about the thought process.

[6:45:10](#ksa1pqvNXFlIvpTRq5OX0OpEBuThmYWPCdE5zjaiLCo) <greggirwin (Gregg Irwin)>:
- `What` we simply inherited from Rebol, but changing it doesn't break anything beyond unlearning it. I doubt it's used much anyway (I know I don't), because the information isn't presented in a terribly useful way.

- `cause-error` needs improvement, so I'll ping Nenad on that. Just let him know we're talking about it and may propose something better.

- `Where` vs `stack` is interesting, and I believe it's OK in the context of Red being data centric, including "code". The new interpreter instrumentation, and @hiiamboris 's improvements on the mezz wrappers are great. Another case of needing to outline guidelines for people as an important step.

[8:14:20](#PwbDs9jnoIpeO9H1-HfXUMV48FgqjL9rUoXSPD-9Whs) <rebolek (Boleslav BÅ™ezovskÃ½)>:
Thinking about `cause-error` a bit more: As CSV is part of the main distro, probably it shouldnâ€™ throw `user error` but its error should be added to error catalog. Then `cause-error` would make sense using.

[15:03:11](#pF5ng5knIh6SGo_UHoqyqvKHhw3jI_EVOfK6PleJng8) <gltewalt (The other Greg)>:
Use this

[15:03:20](#rXrPX620PCQ-mGk9qkWq0ngK-5ArUl79NRRMNApvNK4) <gltewalt (The other Greg)>:
![](https://matrix-client.matrix.org/_matrix/media/v3/download/matrix.org/wlzEtivqeYyVPesMhfKgxDlH)

[17:31:39](#f4DQexkiS37NfZ9QpcO9uMZqmDMYdfD_ndr9v1ZcBWY) <greggirwin (Gregg Irwin)>:
Moving to red/red.

## 4-Mar-2022

[8:15:13](#_zs4dR6MT6zREhAPMgC7YK3cB3fY-AVxn0Fd-XdLOlQ) <endo64>:
> > its error should be added to error catalog

I agree on that, currently we have `throw, note, syntax, script, math, access, reserved1, reserved2, user, internal` in `SYSTEM/CATALOG/ERRORS`, we might have `codec` or `data` for JSON, CSV, XML codecs.

## 8-Mar-2022

[8:26:37](#3wfTkv7uvcSZ1tWwD0SYXhxk8hjISACM9bYKFN4kFTE) <rebolek (Boleslav BÅ™ezovskÃ½)>:
```
>> c: context [a: 1]
== make object! [
    a: 1
]
>> c/b: 1
>> c
== make object! [
    a: 1
]
```

I am setting a value not present in the context. Red happily accepts it, even if it canâ€™t set it. I would expect an error in such a case.

[9:07:25](#xoHjGgRfn-PvzTCYOyAQ7BXup2YKMqW5hLA6oWU11S0) <toomasv>:
Seems to be regression introduced sometime around June/July last year.

[9:11:23](#3TimuyB7ehXQJHiHV9eHpogIGZ-0sN-Am-aQNxZcQMA) <rebolek (Boleslav BÅ™ezovskÃ½)>:
Thanks, Iâ€™ll open a ticket for it.

[22:37:55](#JbCevVMkWDtrAPeZiNXMjwAb3yVCblxbfVHLGf0TDL4) <greggirwin (Gregg Irwin)>:
Good catch!

## 11-Mar-2022

[11:22:50](#yDblSMJoFIm-KeA2VA7ekX3PtILEy8jTNytfZKQ3z1Q) <hiiamboris (NOT THIS ONE)>:
> Thanks, Iâ€™ll open a ticket for it.

@rebolek forgot? í ½í¸‰

[16:37:04](#iMZBUR135Jm3oP1xepHcMIiM_VknKuJZzqzJ6NYL_YE) <rebolek (Boleslav BÅ™ezovskÃ½)>:
@hiiamboris Yup, totally :) It was a byproduct of working on IO and I focused on it again.

[16:47:51](#QwM0dGUxxFVajKYAK9OzFkr03Vy0dnC0dsyDbiwihdE) <rebolek (Boleslav BÅ™ezovskÃ½)>:
Done https://github.com/red/red/issues/5101

[16:49:40](#Eze7TSQJr8lxxrnnprIjCNZrpPHlhzmqLAK7xatg1hA) <hiiamboris (NOT THIS ONE)>:
:+1:

## 13-Mar-2022

[21:09:03](#z8Cf1J1JusqJXbiX9VS-wNY-RThYowggQFqWuohbcs4) <mikeyaunish>:
Can't seem to catch this `font-size 0` error.

Red 0.6.4 for Windows built 10-Mar-2022/17:40:53-06:00  commit #27f71f9
```
view [
    button "layout with font-size 0" [
        the-vid-code: [base1: base "HELLO" font-color white font-size 0]
        either error? err: try/all [
            output-panel/pane: layout/only the-vid-code 
            true
        ][
            print "error"
        ][
            print "no-error"
        ]
    ]
    output-panel: panel 400x400
]
```
`attempt` didn't seem to catch it either.

[21:15:09](#OXQ0CwOnUep5mHtVCgknt-59RNIUagp_5JWBDbkn0Dk) <hiiamboris (NOT THIS ONE)>:
confirmed: `base "x" font-size 0` crashes

[21:15:20](#v7MQtoD4VNY29Eu__sCfB3TAILlXABEGp1u8lhzRCCI) <hiiamboris (NOT THIS ONE)>:
pls create an issue

[22:39:20](#OMr7ss_YvHKi5ofcrrIwTyUoszu8pbaPqyCYfVSRSUY) <mikeyaunish>:
@hiiamboris OK - thanks.

## 14-Mar-2022

[1:14:04](#O3bo_gXbrA_xETddPpIS_7QBB0Jewb2X_JgI-CmYe0A) <greggirwin (Gregg Irwin)>:
Thanks @mikeyaunish. :+1:

## 17-Mar-2022

[2:11:29](#orfH4vLyfoJvHsOvWiYNp4CjpPYNOXVB-LcQ7YTBwys) <loziniak (Maciej ÅoziÅ„ski)>:
Hello. On my Manjaro Linux machine I get a core dumped when executing any script by console compiled by `echo 'Rebol[] do/args %red.r "-d -r --no-view %environment/console/CLI/console.red"' | rebol +q -s`.

[2:12:06](#-e-5_3mlTKZMlBE4BV-_fRwNJ52jmWnzwupiFhU9KS0) <loziniak (Maciej ÅoziÅ„ski)>:
Example script:
```
Red []
print "test"
```

[2:12:18](#6AA3EKwGvudKhqA_zT1w745cUbz4UQfyyv_CYvU3tXM) <loziniak (Maciej ÅoziÅ„ski)>:
* Hello. On my Manjaro Linux machine I get a core dumped when executing any script by console compiled by `echo 'Rebol[] do/args %red.r "-d -r --no-view %environment/console/CLI/console.red"' | rebol +q -s` from latest master.

[2:14:37](#20UbZBLEhLmlduOZHokoat45Ln_2HJrdRPBIwwpk010) <loziniak (Maciej ÅoziÅ„ski)>:
Can anyone confirm?

[2:21:29](#xOavXf4y0uwEy7uQf9Jk-3MQVi1bsbH5oXjmqTOrChM) <loziniak (Maciej ÅoziÅ„ski)>:
There is no problem when running scripts from toolchain build *11-Mar-2022*

[2:22:18](#76BfMAlONN6jXGDgupmixSV87nB6Cma4bkQOXQphxFo) <loziniak (Maciej ÅoziÅ„ski)>:
* There is no problem when running scripts from toolchain build *10-Mar-2022*

[16:51:46](#D1-HEbsJtHAVWvJh4Ti7KlO5XKi_AJB8f_P-ZAbByyE) <hiiamboris (NOT THIS ONE)>:
no issue on ubuntu

[16:51:53](#Wd2QEvkEc3PgO7QqAPhRKpjKZV98ohE6i4k-qzlWIqk) <hiiamboris (NOT THIS ONE)>:
```
>> about
Red 0.6.4 for Linux built 17-Mar-2022/9:27:47
```

[16:52:38](#-L5_0Vnh_Jkg9o30Bm4JIrHz-K1okPzu7e1o37EsV54) <hiiamboris (NOT THIS ONE)>:
ah wait, I need a script

[16:53:28](#6m0qKO0IbkO-1IN1sQbsh3fRzsTEDX0ETMIWY5i1tvY) <hiiamboris (NOT THIS ONE)>:
no, still no issue

[17:32:31](#zBwt2BQnC2poIC_tkJOu-Pww9Dm5Sffs9AlTJjPoQ_k) <loziniak (Maciej ÅoziÅ„ski)>:
I tracked down the error, it's introduced in commit af98e79db717134b924160101f8a1e75566aa575 "FIX: partial fix for #5094."

[17:36:25](#4x-Dv6o-5kvtv9EYWRHxXqpelNV5HsEuPO0DWXhkvKQ) <hiiamboris (NOT THIS ONE)>:
hmm seems I forgot to pull, so on 11 Mar commit now

[17:36:31](#tgXPN_gvjZ6AQWgvGnfrPWmNfHBWOaIfrP_Yx9gH_gk) <hiiamboris (NOT THIS ONE)>:
let me test on current

[17:39:06](#a3ZGdvW6IW5EuF9LZ5i5_f7AMN1YSrvKNTqKBGKKfkA) <hiiamboris (NOT THIS ONE)>:
yes, segfaults on ubuntu too, after the script is executed

[17:39:53](#A5mQYILE5CkR0JyknQ_UDc4Kim5wAkfpJOXL_O1Os3A) <hiiamboris (NOT THIS ONE)>:
please add a note on that commit

[17:45:20](#CUkTE9ED_2mw8lreZ5Jvgh_16pX3I9fpIt5ZgUuPd9M) <loziniak (Maciej ÅoziÅ„ski)>:
ok, sure. thanks for checking

## 24-Mar-2022

[11:24:24](#Q4WusBIqwXlX-rkq2kj3BLqWv9sy1KlBu_n0aMBqVoU) <GiuseppeChillemi (GiuseppeChillemi)>:
One of the most recent Red Version console, does not let me select the output of a command. Has this bug appeared here?

[11:24:33](#006udQq-q0r_BzrjZvGnPYmuUBnVuPEUFymyZb75Bpk) <GiuseppeChillemi (GiuseppeChillemi)>:
* One of the most recent Red Version console, does not let me select the output of a commands. Has this bug appeared here?

[11:58:11](#oQAMDuycq_1Wyq0LuxMqPT-VoGSaQl04fx673VojENg) <hiiamboris (NOT THIS ONE)>:
yep

## 28-Mar-2022

[7:44:17](#FdTOoJXDcZoFPU1HCs9pQRyJ-ykXRNuKOYIFBTSx5uk) <rebolek (Boleslav BÅ™ezovskÃ½)>:
Try typing this in console: `[http://test.com]`. When I press Enter, Red opens a block for me. I must type space before the closing bracket to get this input accepted.

[8:24:09](#04Hjqsqca2UO47Eb__KLAiTO8BQ82_LUP9iR89FHfm0) <toomasv>:
Seems OK on W10.

[8:39:35](#V3EhzzdrY_EYOYL6cAPCZyi7UllN_xZksCvspHE09NA) <rebolek (Boleslav BÅ™ezovskÃ½)>:
I tested it with master branch and itâ€™s fine. This happens on IO branch only. Probably some master branch fixes are not merged in.

[17:15:54](#MP-NIYXO8mfWw0jVR0B1rg0kdhULDC_NUP24h0mnKkg) <dsunanda (dsunanda)>:
 8-bit arithmetic dept: is this expected?
```
#"a" - #"b"
*** Math Error: math or number overflow

0 + #"a" - #"b"
== -1
```

[17:18:57](#sU0_qu4BP-Lydfu3EfCVn5TFmvVRnY9U9pEDHD-UJ4U) <hiiamboris (NOT THIS ONE)>:
yes

[17:19:25](#MNJQRIuZp3PqZjNu_uhrb5wbRgH0IhRCRGP8gUbFU2c) <hiiamboris (NOT THIS ONE)>:
it's not 8-bit, it's because char! codepoint cannot be negative

[17:19:37](#nM96t3768Zp8BdQOWIz5JJ2Ca2kIdWjxa8cV_BkYGos) <hiiamboris (NOT THIS ONE)>:
same for tuples, but they are silent

## 30-Mar-2022

[11:11:21](#Nz4nfOx8IIonb4AbKjjquMzSuWaNFzgrDDeb1-3BRLA) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
It should return `-1` imho instead of the error.

[11:21:28](#xKTmnH5DVkkOXj3jA4JjX1Gfsj_9iwclUpBwutq8DJI) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
In R3 it is:
```
>> #"b" - #"a" 
== 1
>> #"a" - #"b" 
== -1
```
But also:
```
>> #"a" + #"b" 
== #"Ãƒ"
```
Which I'm not sure if should not be also an integer instead.

[11:23:02](#zGhjlNy8nS1NMd_oe7VIHNE9FodD2BXX0HgoMA_Eu_I) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Anyway.. for subtraction the result is always an offset, which is the most useful result.

[11:23:10](#0aMOU9OYAlZGFavMNMU6W9kOlT0k08YZKRlq9foXzCo) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* Anyway.. for the subtraction the result is always an offset, which is the most useful result.

[11:23:46](#XCpwq1jGqfhmod69wooS1VQz93MdL8_UfntgAmnNteY) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* In R3 it is:
```
>> #"b" - #"a" 
== 1
>> #"a" - #"b" 
== -1
```
But also:
```
>> #"a" + #"b" 
== #"Ãƒ"
```
Which I'm not sure if should not be also an integer instead (but I don't care).

[11:49:50](#rxMPAzdcacHcI2OMppT4jro86g_ZXCjD3MeScpoW5r4) <hiiamboris (NOT THIS ONE)>:
does R3 also auto expands integer on overflow?

[11:50:05](#lQ4CGEWA65rTKRN2th1r5wy4ArZ6L2ShtSqXx165c-M) <hiiamboris (NOT THIS ONE)>:
* does R3 also auto expand integer on overflow?

[14:14:12](#LdBvjoeaNGoFgwARtReKMKipowTgAYFvlCY-RpCOk40) <dsunanda (dsunanda)>:
```
#"a" - #"b"
```
R2 returns 255, Atronix R3 returns -1, Red errors .... Between the dialects, it looks like every defensible option is catered for :)

[14:50:41](#4IXabS1FfSTEkw7V5oCvv63Yu_Ug1y--c14YBbhYYgU) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
What is wrong with the offset between 2 chars? 255 does not make sense when the char is now 32bit

[15:44:29](#hFuAiKfALs8cUkME9aHSXzxPzZsJmR3HvfP4rM1ip5I) <hiiamboris (NOT THIS ONE)>:
-1 seems most useful, but has to be consistent with integers IMO

[17:55:55](#2kALttQ4yIX8AF3Cu0v0-57M7sJFZosVkM71IeesUtI) <greggirwin (Gregg Irwin)>:
> for the subtraction the result is always an offset, which is the most useful result.

What makes it most useful? I understand ASCII casing offsets, but that's a very narrow...case.  For me it feels odd that arithmetic on matching types produces a different type. 

The Red behavior is by design and [documented](https://github.com/red/docs/blob/master/en/datatypes/char.adoc#arithmetic) but can be changed if it leads to a more consistent and reasonable design. I'm not against removing the error in this case, and we do want to maximize leverage. But we also want to make sure types have consistent and appropriate behavior in their domain.

[18:40:50](#47Ungiee4Jy2UMLKWmylCNd4VfEJserm4XvnIvzZx00) <hiiamboris (NOT THIS ONE)>:
>  For me it feels odd that arithmetic on matching types produces a different type. 

```
>> 2/2/2 - 1/1/1
== 397
```

[21:36:19](#6kHEqcH-QgCmGd8u010pbO_zO8cx5XscyA1ZoHfPheU) <greggirwin (Gregg Irwin)>:
That one I'm normalized to. :^) And why I said it needed to be appropriate to the domain of the type. Returning offsets for chars probably *is* the best option, and worth thinking about how negative offsets might be used. What are the cases?

[21:39:35](#wKxmizBSYbpD3AQ7ugMYysWIH9DayfiKLXZRvNx2muk) <hiiamboris (NOT THIS ONE)>:
my use case is eliminating boring errors [like this](https://gitlab.com/hiiamboris/red-mezz-warehouse/-/blob/master/tracing.md#tracing-sub-expressions-with-traceall)

[21:45:45](#y5Nj0LP0SfAKHvfOH3A-F5YiRUT2orHKjiB1NLN3SYo) <greggirwin (Gregg Irwin)>:
1) Has anyone ever hit this error in production code? 2) Since it returns an integer offset, we can justify it not erroring out. It doesn't error on `32 - #"a"`, which is a case for consistency. 

[21:46:46](#xI7uP8KXKAPJzU3TZJ0OMAkLyfA5AwUNc8-TlVDAyn4) <hiiamboris (NOT THIS ONE)>:
do we have "production code" in Red? í ½í¸‰

[21:47:17](#z3jA2uLy6Srfs19KJj3HKix_FMypgw2sSKxxBieWe-U) <hiiamboris (NOT THIS ONE)>:
that was not a made up example if that's what you mean

[21:48:14](#asFFwNvgY59YV7hWxlM-S6l3Dzo-PlEQwIrOah8Byw4) <hiiamboris (NOT THIS ONE)>:
still I'm not convinced myself we're shuffling things a better way here

[21:48:43](#2rDyfqb-KEg1cfPWjK6OaU1folAVv3W9_meoWlwwuXw) <hiiamboris (NOT THIS ONE)>:
if anyone has strong argumentation for the change, open a REP pls

[21:51:56](#D53CTWsNe3gDX2ZXlrOqhbUA4z2E3MS_DMREmXJRkY0) <greggirwin (Gregg Irwin)>:
:+1:

## 2-Apr-2022

[16:35:16](#zUvt8PIoWR9kgDssKAD5Rpl1fjLmtON605ZLYD4AmA0) <hiiamboris (NOT THIS ONE)>:
I recall someone posted a link to a page with assumptions about time... One of that was "time is always monotonic", lol:
```
>> loop 10000 [t: dt [loop 1000 []] if t < 0 [probe t]]
-0:00:00.0001707
-0:00:00.0005066
-0:00:00.0003257
-0:00:00.0003281
-0:00:00.0003163
-0:00:00.0004959
== none
```

[16:35:42](#yJEhTPxi00myG991AtoXGj1G3BytanSnUI_nU-8DsG4) <hiiamboris (NOT THIS ONE)>:
Only reproducible on Windows.

[18:00:51](#SgDGFU6FFJUob2_OxrahazB6eg_-Y8pjpNbxpM4A7ag) <hiiamboris (NOT THIS ONE)>:
must be some math error in get-time

[19:10:20](#ruDO23qnG4meSoKXF8PbCAOGzKAMbVKvSrGAXwsu1CA) <greggirwin (Gregg Irwin)>:
Lamport clocks. :^)

## 3-Apr-2022

[14:13:32](#8JrO1_LXxv0J5lKB7tFbLxjRUkwD_AVkKoUMli-cDNw) <GiuseppeChillemi (GiuseppeChillemi)>:
Wow, time machine exists! 

[14:31:42](#vE1vIR4ClOzrm3F8w8k0-KmpRF0IJOuBNjwP8Bb2XF0) <dsunanda (dsunanda)>:
@GiuseppeChillemi Clock-independent timing loops were an integral part of the VTOS operating system that was built in the 1980s to support the BABBAGE language. Windows has clearly inherited some of the design goals.
http://www.tlc-systems.com/babbage.htm

[15:24:35](#tltXsOMudg2WUFaxJjD7PUI89TMZPRySMqiI3pQBrGk) <hiiamboris (NOT THIS ONE)>:
> Wow, time machine exists! 

Brain is a time machine í ½í¸‰ [We know the future before it happens](https://www.spiritualityhealth.com/articles/2012/01/27/science-premonitions)

[15:25:05](#mCupOGKwzrW854G57oKdmz0mMxPisDaPr_WmmYfQFVc) <hiiamboris (NOT THIS ONE)>:
No wonder Red learned that as well í ½í¸ƒ

[15:35:26](#zzei4AFvprx44v2S9QvQ7n-gGoBsNg5_ZaAaaP-BOa4) <pekr (Petr Krenzelok) (@pekr-556ae86715522ed4b3e131b2:gitter.im)>:
@hiiamboris with your negative time measures, we have finally got ultra fast timers, so we can compete with the LibEvent, LibUV,  etc event loops :-) https://stackoverflow.com/questions/9433864/whats-the-difference-between-libev-and-libevent

[15:38:16](#uJgW1iu0eUmmZ5vwv9AbvoB3o4IQBt9LkzpovdV-GBY) <hiiamboris (NOT THIS ONE)>:
lol

## 11-Apr-2022

[22:01:29](#CAriCrQKv_3xKyi0Rc24KrLLDziAzuBDoS55GdfN3_8) <GiuseppeChillemi (GiuseppeChillemi)>:
Is this correct?
```
quote none = pick y 1

** Script Error: = operator is missing an argument
*** Where: catch
*** Near : = pick y 1
*** Stack:  
```

[22:01:41](#jGUaRShPVfBI0VbYiNweBG_4XV8DqUVWwUefYOV2nSM) <GiuseppeChillemi (GiuseppeChillemi)>:
* Is this correct?
```
>> quote none = pick y 1

** Script Error: = operator is missing an argument
*** Where: catch
*** Near : = pick y 1
*** Stack:  
```

[22:02:09](#LHojbwNN9-mmjqPhpsssBy22ZA_ngbjDeVSUeDLlVkY) <GiuseppeChillemi (GiuseppeChillemi)>:
* Is this correct?
```
>> y: [none none!]
>> quote none = pick y 1

** Script Error: = operator is missing an argument
*** Where: catch
*** Near : = pick y 1
*** Stack:  
```

[22:15:38](#bWhhjteHTwA3UUfSdkzaNhz_7iJXifkTkGVJCTT7_KY) <greggirwin (Gregg Irwin)>:
Yes.
```
>> quote none
== none

>> = pick y 1
*** Script Error: = operator is missing an argument
*** Where: catch
*** Near : = pick y 1
*** Stack:  
```

[22:16:51](#nWmNXIB6VctZ2HRheAWF5JQ2Ruf5V8OKTzZ9qYISpiY) <greggirwin (Gregg Irwin)>:
```
>> 'none = pick y 1
== true
>> #[none] = pick y 2
== false
>> 'none! = pick y 2
== true
```

[22:20:13](#n8N2LegcHjPAa5iieSBmMbJ3xsIw0NLrZ3gC8-d1i3A) <GiuseppeChillemi (GiuseppeChillemi)>:
Wow, I didn't know about `'none`

[22:20:53](#yayob7XNvKU9eFasmlkrWiXhIdsBiwz8HDg0Ye_Z6F8) <greggirwin (Gregg Irwin)>:
It's just a `lit-word!` like any other.

[22:25:03](#dGq2t4D5y09ZmjcVzeYw2NDpwHwdn-u8m_fqn1mmx-c) <GiuseppeChillemi (GiuseppeChillemi)>:
more I think I know, more I know I don't know.

[22:25:31](#i1IU7mybm2Ii3UMDHggnN5wPMAFq-aIsbp2HPSVTFL4) <GiuseppeChillemi (GiuseppeChillemi)>:
* the more I think I know, the more I know I don't know.

[22:25:42](#b4LfmfXHcsbCgVonsXjKNCfqIk-JrvENcgcv9RKulOQ) <GiuseppeChillemi (GiuseppeChillemi)>:
* The more I think I know, the more I know I don't know.

[22:27:35](#4w6PAcKCRxuF8z1Xsr2zRmTiEuuRvpOlNmPWk4fU4qo) <GiuseppeChillemi (GiuseppeChillemi)>:
Also, it is not starting to be late.... I have forgotten that as Red priorities work, that phrase is read as:
```
 quote (none = pick) y 1
```

[22:28:27](#PskT8oN-wYh_PUKzlbdI8t_Rrttps8LS3x_Br97ZCq0) <GiuseppeChillemi (GiuseppeChillemi)>:
I must quit and go to be, I am doing the usual late night error you know. 

[22:28:41](#X3X_rcvOdVDwyyk0w7OVu6kPkHOSNVwcfaKIAHPf6jo) <GiuseppeChillemi (GiuseppeChillemi)>:
* Also, it is starting to be late.... I have forgotten that as Red priorities work, that phrase is read as:
```
 quote (none = pick) y 1
```

[22:28:56](#fNXOG6x2TPhC67tyV7F21MjsG9LnjRmDrO-01w-kIKo) <GiuseppeChillemi (GiuseppeChillemi)>:
* I must quit and go to bed, I am doing the usual late night error you know. 

[22:29:03](#vSu5Jlfe9iuWovHk2UFO7cC7Mhprl_KWUxF4fEOc8-k) <GiuseppeChillemi (GiuseppeChillemi)>:
* I must quit and go to bed, I am doing the usual late night errors you know. 

[22:34:14](#GfMwEjix__K-vRnfacgTmsxSc-c0JEIpqPs2wk9mVUI) <GiuseppeChillemi (GiuseppeChillemi)>:
* I must quit and go to sleep, I am doing the usual late night errors you know. 

[23:02:49](#r3caRPAC-x1utu8Sge_S7LyklTfo1AufTFvfbQ3kRrA) <greggirwin (Gregg Irwin)>:
:^)

[23:23:55](#Zi55fL91ub3ijh8Wkd_uHmMbCUMrnnvscElIE766CEg) <gurzgri>:
I don't think that is how it is evaluated by the `do` dialect, see
```Red
>> do/next [quote none = pick y 1] 'step
== none
>> step
== [= pick y 1]
>> do step
*** Script Error: = operator is missing an argument
```
Have a look into the `spec-of :quote` to see how that is defined and why therefore your line is explicitly not evaluated the way you assume. 

[23:33:56](#ToQKtwXghe2lrnjBMk5_msjYrMySNh_cK7pXGMCvd4E) <gurzgri>:
`(none = pick)` would itself raise an error, because then `pick` would be missing it's arguments. If any, then `quote (none = pick y 1)` â‡” `quote (none = 'none)` â‡” `quote false` (with the parens only for explicitly demonstrating alledged evaluation order), but as shown: no, not in this order.

[23:40:12](#XCYo7qN6uoC2gYxizngXnSgagrUIObnLGTY4ot29LAc) <gurzgri>:
Therefore, I'm a bit puzzled too because of
```Red
>> quote none = pick y 1
*** Script Error: = operator is missing an argument
>> (quote none) = pick y 1
== true
```

[23:48:40](#Bg6_4skS9OXG-ZkH2IshYBOybF_ignrgNm-qkDVkF9s) <greggirwin (Gregg Irwin)>:
https://github.com/red/red/issues/3179 and a couple other related tickets come into play here, because `quote` uses a get-arg.

## 12-Apr-2022

[15:09:05](#tB_ODPgeKQ1AUsiGnGvWuRmsV9yLm4DPiT9bgxLRRx4) <hiiamboris (NOT THIS ONE)>:
It's an optimization as I understand it. Esoteric use case not worthy of slowing down the interpreter with it.

[15:13:41](#g4nmfIhR2vw0L9WBKc-VGC4IdMWT8zRCCXO5Elo09zU) <hiiamboris (NOT THIS ONE)>:
Some more esoteric cases can be found here: https://github.com/red/red/issues/941

[15:21:15](#phdiLK6bqvZZS-IJsSECaJkrB6j94aufqTqpbD9kuL8) <gurzgri>:
Okay then, with much emphasis on "okay" :J I'm all against esoteric cases, but was just curious.

[21:32:19](#DNw3iIrTC4juzQRntBcUqkM1vKPeAk5H1jghdfxETdg) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
```
>> mold to url! "http://aa/bb[]cc"
== "http://aa/bb%5B%5Dcc" ;<--- OK
>> mold to url! "http://aa/bb()cc"
== "http://aa/bb()cc" ;<--- WRONG, it should be: "http://aa/bb%28%29cc"
```


[21:54:43](#ESf-q93_ISdpKQQblBeEf2_XwFrgj8oizQMzrBLMW4c) <hiiamboris (NOT THIS ONE)>:
https://github.com/red/REP/issues/112

[21:55:01](#c__s9Ow4C0mI9P0V9aeTa_HtQ5l2MwMxbwfSTCO0qr0) <hiiamboris (NOT THIS ONE)>:
see trailing comments

## 13-Apr-2022

[22:12:36](#fjtp-Rpfgh8yvJbEABg0lR1uXKzLwBgqyzUoul1FLis) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
```
>> %"aa:bb"
== %aa:bb ;<=== not backwards loadable
>> load {%aa:bb}
== [%aa :bb] ;<=== two values
```

[22:36:38](#P5I7kURxxVXyoLxJ6lp5ZF3mkaY_SEw569gCPlUUfAs) <greggirwin (Gregg Irwin)>:
Good catch @Oldes. Please report it.

[22:49:00](#ONKjNQbShcN0gbOzCJ5GPyCwfJB5UGnugj5gSfGxYtE) <hiiamboris (NOT THIS ONE)>:
https://github.com/red/red/issues/4060

[22:50:22](#VbVdXj8tXjLfCqOHNUNyJYnACGME5JjptzKtqp40lWA) <greggirwin (Gregg Irwin)>:
Ah, thanks.

## 15-Apr-2022

[7:06:48](#0fZiosNKULCBl99y8uqHJDQP4DW8yMtTu4UfeA3AIEo) <bubnenkoff (Dmitry Bubnenkov)>:
I have found a bug:
```
>> out: copy []
== []
>> loop 10000 [collect/into [keep [[a: 1]] ] out] 
== [[a: 1] [a: 1] [a: 1] [a: 1] [a: 1] [a: 1] [a: 1] [a: 1] [a: 1] [a: 1] [a: 1] [a: 1] [a: 1] [a: 1] [a: 1...
>> ; probe out
>> 
>> 
>> unique out
*** Internal Error: stack overflow
*** Where: unique
*** Near : out
*** Stack:  
```

[8:57:13](#D6Mm-bQT7f9Urglkj9kxqrNUG7UYbKPXHGa3hUSro6U) <gurzgri>:
Have you realized that you're inserting 10'000 times the exact same block `[a: 1]`? Just to make sure. Then there is no need to 10'000 times `collect`, you can often use it only once as an outer "bracket". And then there is `keep/only` to insert blocks as blocks:
```Red
>> out: collect [loop 10'000 [keep/only [a: 1]]]
```

However, the problem you encoutered with `unique` remains. It happens with most `any-block!` types but interestingly doesn't happen for `map!`:
```Red
>> unique collect [loop 10'000 [keep/only [a: 1]]] ;*** Internal Error: stack overflow
>> unique collect [loop 10'000 [keep/only quote (a: 1)]] ;*** Internal Error: stack overflow
>> unique collect [loop 10'000 [keep/only quote a/b]] ;*** Internal Error: stack overflow
>> unique collect [loop 10'000 [keep/only quote :a/b]] ;*** Internal Error: stack overflow
>> unique collect [loop 10'000 [keep/only quote a/b:]] ;*** Internal Error: stack overflow
>> unique collect [loop 10'000 [keep/only #(a: 1)]]
== [#(
    a: 1
)]
```

[8:57:59](#BZpLt5AOldYcTQ6kDfgE8iuFoRGceB1Tr_hkNSRfhTU) <gurzgri>:
* Have you realized that you're inserting 10'000 times the exact same block `[a: 1]`? Just to make sure. Then there is no need to 10'000 times `collect`, you can often use it only once as an outer "bracket". And then there is `keep/only` to insert blocks as blocks:
```Red
>> out: collect [loop 10000 [keep/only [a: 1]]]
```

However, the problem you encoutered with `unique` remains. It happens with most `any-block!` types but interestingly doesn't happen for `map!`:
```Red
>> unique collect [loop 10000 [keep/only [a: 1]]] ;*** Internal Error: stack overflow
>> unique collect [loop 10000 [keep/only quote (a: 1)]] ;*** Internal Error: stack overflow
>> unique collect [loop 10000 [keep/only quote a/b]] ;*** Internal Error: stack overflow
>> unique collect [loop 10000 [keep/only quote :a/b]] ;*** Internal Error: stack overflow
>> unique collect [loop 10000 [keep/only quote a/b:]] ;*** Internal Error: stack overflow
>> unique collect [loop 10000 [keep/only #(a: 1)]]
== [#(
    a: 1
)]
```

[9:00:55](#3IxqrGuUDA2zXi1peamiLVwOVyQWLt4g2L2g8qejKmo) <hiiamboris (NOT THIS ONE)>:
Please create a ticket @bubnenkoff 

[9:02:56](#hjBp2TLeLEapZ90aeuAV0LZ0-mWiI754zzr5Mxv_tYY) <bubnenkoff (Dmitry Bubnenkov)>:
> Have you realized that you're inserting 10'000 times the exact same block [a: 1]? Just to make sure. 
Yes, I inserted same block on purpose 

@hiiamboris ok

[9:03:22](#84fhwrtwv_93Z4kRTOAjuoQVIlD85S4N9aRmM0VPCYM) <gurzgri>:
Good then :J

[9:08:58](#5mn8lp5PlwJZQ6_4z0FRz-GahpQccDSAG4c0m1ciDeM) <bubnenkoff (Dmitry Bubnenkov)>:
done https://github.com/red/red/issues/5123

[9:45:18](#64p9earnjSDSwbz5yq6_330Yz8v2HwJZNX4ssKLdd6E) <hiiamboris (NOT THIS ONE)>:
thanks

## 18-May-2022

[20:06:30](#QN-dMdj3TVCwZuH38hYGwttizZeWkVm1S6EmM59WAmg) <ALANVF (theangryepicbanana)>:
found a nice View bug where attempting to use `return center` between widgets causes a syntax error, and `return middle` causes nothing to be shown. I'm sure that bugs exist for other attributes as well

[20:11:08](#rPqgs3RVUsqOCkuOsawswCGnLmDNr_QKGQhu0hyoE74) <ALANVF (theangryepicbanana)>:
* found a nice View bug where attempting to use `return center` between widgets causes a syntax error. I'm sure that bugs exist for other attributes as well

[20:11:57](#nsZFcqSEWl_P7MEeDLjQM2oQiXekN8ABIUeVEPPp7So) <hiiamboris (NOT THIS ONE)>:
why should it not be a syntax error?

[20:12:08](#lkNxAaAPqc3IFMajPDZql5b9XIeu8wHv_4LvgIC9-v8) <ALANVF (theangryepicbanana)>:
the docs say that it's allowed

[20:12:19](#J9jzzEg9-jX3_aDyF7TRy9B8wr9T_3SyxsilgJdiOxo) <ALANVF (theangryepicbanana)>:
https://github.com/red/docs/blob/master/en/vid.adoc#43-return

[20:12:27](#7cMYM5u-Tf32S82KpcgeW-BCasZ7saLHjdwK34M0j_k) <ALANVF (theangryepicbanana)>:
either the docs are wrong or Red is wrong

[20:12:40](#g55ZgNmMh51GZgU_SIYMjjKKf4zFd3jahW0yJ8eYg_I) <ALANVF (theangryepicbanana)>:
(in which case, I'll move this to red/docs)

[20:12:47](#R_yCEmADjtRqDWYoxF6JqTuc4F4aIyqIqZqNGvYPMY4) <hiiamboris (NOT THIS ONE)>:
ah

[20:13:21](#QQOmb1_iRxXCrBMDVaw1bCkccQy1yBG2EuLbe_Oiy0o) <greggirwin (Gregg Irwin)>:
Question of whether it's just docs that are wrong. This example from an old blog entry makes me think docs just copied some bits they shouldn't.
```
 view [
        style chk: check "Option" data yes
        style vline: base 2x60 red
        across top    vline button "Ok" text "Text" field chk return
        across middle vline button "Ok" text "Text" field chk return
        across bottom vline button "Ok" text "Text" field chk
    ]
```
But the docs aren't just copied from other direction commands. @qtxie any thoughts?

[20:14:17](#rQEDj9ONxVPBkCUbu-goMMffjM1bHn0hJpFBe7oH0Dg) <hiiamboris (NOT THIS ONE)>:
@ALANVF I think it's a docs problem, since `return` accepts either new row with `middle/top/bottom` or new column with `center/left/right`, but when you mismatch these you get the error

[20:14:31](#UGzvF_qUuKA7vOU9qO5HYkYfCwIZQsx4QsfBILuyScg) <greggirwin (Gregg Irwin)>:
We need examples directly in docs, or at least links to them. I know that has its own issues, but when we don't know who to trust, it's bad.

[20:14:48](#l_PHuvFPuIDalNPySFcJ-cTEdyCUX23F9ZL6pKBaVpM) <greggirwin (Gregg Irwin)>:
Good quick R&D @hiiamboris. 

[20:15:50](#9lBkrrS1FmQ8nPbIgCxvxMlO47E4MucBl5MgU_4adO0) <hiiamboris (NOT THIS ONE)>:
I just recalled it from my previous `layout` work :)

[20:19:39](#QKTY0lWyCOjmtA2sUYInOlMNf9ssvkwM10UafHme0II) <greggirwin (Gregg Irwin)>:
Pffft. Too easy. ;^)

[20:19:58](#B5lS7wE0MuyUFdu02Om8OkGpb_wnGgj0bkOtaRrYF9E) <greggirwin (Gregg Irwin)>:
@ALANVF please R&D it and make an example if you would.

[20:26:46](#xOWyeYDn_R3zwCo-88j6-U1GL28jA3fzoE40R5NBu20) <ALANVF (theangryepicbanana)>:
sure

[20:31:38](#NsK_mQyvlGbkvLuIBKY34k-jlOlUnPjSgisJ8l_XKOY) <ALANVF (theangryepicbanana)>:
doesn't crash in this specific example, but `return` doesn't do anything either (I am still learning VID)
```red
view [ below text "a" return center below text "b" ]
```

[20:32:15](#3rxWFZ7uXF29auTs-X0zfqWLOhlKhdRTrQk7YKwkvo4) <ALANVF (theangryepicbanana)>:
oh I should look up what R&D actually means

[20:32:46](#cDv9Gqtqnu-te3bw8q9C3pFHmmhymmONEmEfede4Jgs) <ALANVF (theangryepicbanana)>:
ahhh ignore that then

[20:56:06](#m6I8Wu19ePkUdnHwQohBsbM0pn_Pq8OlI60b9AmRdw8) <greggirwin (Gregg Irwin)>:
Interactive R&D. "I tried this..." :^)

[20:56:37](#iC7HVw5sYMTKhhX7QZJQZpvpoIleOYz9TtGIi6aA1gE) <greggirwin (Gregg Irwin)>:
I do that, because I can't keep everything in my head like @hiiamboris and some others.

[20:59:03](#_1KShbFHlh9gCky01g6f8k751GdOndoGtumP4lxeGSY) <ALANVF (theangryepicbanana)>:
ah, I usually just keep like a text/markdown file for stuff like that lol

## 19-May-2022

[22:54:22](#BbMhFV3Iwnh9T56FkLUfFRqK0EIYe1DJz0JvYMI_p4Q) <ALANVF (theangryepicbanana)>:
pog found a new crash:
```red
o: make object! [ f: does [self] ]
context? first body-of í ½í¸®/f
```

[22:54:56](#WS3l60SSKDzMjSHOZGORcCXcipuKCTIfmAul8ZvfZ34) <ALANVF (theangryepicbanana)>:
I'm not sure why it crashes though

## 20-May-2022

[0:24:16](#epZ4ZMevVNsM-jTXwPqUhAfa2bftE9Xf0CFaZ4UyZQU) <greggirwin (Gregg Irwin)>:
There are a few `self`-related tickets out there. If you can't find this one, please add it.

[0:25:15](#kL-g-Ho-70gpKKjI9o34cB8xIsW4QCCEofBjQKfbMn4) <ALANVF (theangryepicbanana)>:
do you think it's related to #4552?

[0:29:26](#32Kqb2wmwBuzrms8X-NJYXpZa86vFezl6WQrQ-tASsI) <greggirwin (Gregg Irwin)>:
Looks like it. And something good to note as @dockimbel said something about redbin having issues with objects IIRC.

[0:29:42](#GJvk5SicAzC5_Den-jKOjg3kjICqiWSrTmcENiEPR0c) <ALANVF (theangryepicbanana)>:
ok

[0:30:00](#-HHAnrmavlaoPSej1oPrpXYdvL2e1uJVdXltl7HHhrU) <greggirwin (Gregg Irwin)>:
Add a note to that ticket. 

## 21-May-2022

[16:57:11](#8wJOPcP0XJ2YNP1FA36NdW2GBYr4QFHCH4O7puN4qPQ) <dsunanda (dsunanda)>:
I can't get compile option -e to work under Windows --- it appears to not understand that #includes may be in sub-folders. This code can create the conditions to test (you need to change the name of the Red executable in the two .BAT files):
```
    ;; create sub-programs
attempt [make-dir %utility-scripts]
write %utility-scripts/math.red "Red []^/^/halt"
write %utility-scripts/gui.red  "Red []^/^/halt"


  ;; create main program
write %test.red {
Red [needs: View]

#include %utility-scripts/math.red
#include %utility-scripts/gui.red
halt
}


   ;; compile with -e
write %compile-test-with-e.bat {
echo on
red-2022-05-17 -r -e -t windows test.red 
pause
}


   ;; compile without -e
write %compile-test-without-e.bat {
echo on
red-2022-05-17 -r -t windows test.red 
pause
}
```

[16:58:10](#_whC4QD9XudR7kNGeVCS8GsxpigCQkKR_Kbs2ayVypQ) <dsunanda (dsunanda)>:
Attempt to compile with -e gets:
```
*** Compilation Error: include file not found: utility-scripts/gui.red
```
Without -e, I get a correctly compiled .exe, as expected.

[17:10:27](#SB5Y1HZhWKrrtV0A2aoQraTG_A6EiTTjJHjZmbGwfzQ) <hiiamboris (NOT THIS ONE)>:
a long known bug

[17:11:25](#kcatQkuc8r2_PWYH6mXK4kwhVG3FyRA967QNjoV_xxg) <hiiamboris (NOT THIS ONE)>:
solution: https://gitlab.com/hiiamboris/red-cli/-/tree/master/mockups/inline

[17:12:07](#9QdbkD-NsCglazsnpb1Im_zQ8IAZ6rMnfc5XBix0pk8) <hiiamboris (NOT THIS ONE)>:
solution: https://gitlab.com/hiiamboris/red-cli/-/tree/master/mockups/inline

[17:23:56](#49laCOLkHkT_IysxXD2_HoEEuF-4gzN_GLtlB84mxn0) <dsunanda (dsunanda)>:
@hiiamboris Thanks. Any idea when it might be fixed? My actual nest of scripts contains a script that won't compile without -e .... So, right now, the app is undeployable.

[17:33:55](#eopEjHC0w2biDxSdIjXSDes65mUyZ-_R9uFFkKmsW50) <hiiamboris (NOT THIS ONE)>:
no idea

[17:33:59](#ARmj4M_5cip5C8aBJqMzAJriMpRr2_sF5vC3ShmneOE) <hiiamboris (NOT THIS ONE)>:
I'm just using `inline`

## 22-May-2022

[7:08:35](#hANBomb_IQ0llFKBUECsEV9NUY_p99d0Or7v4hFlXFY) <dsunanda (dsunanda)>:
@hiiamboris Thanks. inline looks useful for overcoming the brokenness of -e.
But, basically, the whole compiling model is, at the very least, looks due for a rethink if -e is even necessary.
 Essentially, right now, compiling is useless for anything beyond a moderate level of complexity.

[8:17:09](#bHTuXzltPxBWsMV6pugH75Tzb_TwJzUkooyWHycDLrs) <hiiamboris (NOT THIS ONE)>:
True.

## 25-May-2022

[13:45:10](#Mexvk9v4z-_ma5aa8Je4diUcl34rmJMut7DqVm8sYkc) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Is this ok?
```red
>> to-integer "3.4E+2"
== 3 ;<==  is 340 in R2 and R3
```

[13:47:58](#PfuscKJMlxtQL5xcgsjLHAzHf97B--yW1HkbnvSbvL4) <hiiamboris (NOT THIS ONE)>:
I think it should be as it is

[13:48:12](#13hhpYduJsfirx8xABWAiVQ5B0oz7iepd9A-TTK9Dgk) <hiiamboris (NOT THIS ONE)>:
for speed and less surprises

[21:11:02](#tcbkesOlkOxiix9zDTdQ55-GIt8CX6h1-gPMeqU5CFw) <ALANVF (theangryepicbanana)>:
I personally find that pretty surprising

[21:23:59](#LT8btjdFN1cZLfjAjYgv-Lpyp_xtRD1U75hTIuX7Lo4) <hiiamboris (NOT THIS ONE)>:
well, since it fails on many other invalid inputs, an error would be preferable

[21:24:54](#tEM6b16KdvkCJJ_SNIsjhWyr8929hIlxVXLBKLhlBVU) <hiiamboris (NOT THIS ONE)>:
or it should stably eat as many digits as it can

[21:25:33](#Qd6VRh5U7WZqXKrnRFBiRB5Bhdf6yW7aeYZOzxiSZUw) <hiiamboris (NOT THIS ONE)>:
right now it's result is just implementation dependent gray zone

[21:30:12](#tUvivRuz3PktDbq28uZRtiI9prcuWBcB3PIaqjEjLJU) <hiiamboris (NOT THIS ONE)>:
this is clearly a bug:
```
>> to integer! "3.4e2"
== 3
>> to integer! "3e2"
*** Script Error: cannot MAKE/TO integer! from: "3e2"
*** Where: to
*** Near : "3e2"
*** Stack:  
```

[21:30:48](#nqspOCSc0muzhaHSfqZm78S1YuV5aoDwtAEvlQDSWgc) <ALANVF (theangryepicbanana)>:
that actually seems intentional to me?

[21:30:54](#Iftef0PI_z7jQgtL0pEy2qP0zAJIgtX4RaEDY4MB5eo) <hiiamboris (NOT THIS ONE)>:
how so?

[21:31:21](#p5AGBW3IVV8ohGYQuqD1oGHauT69CeJTpitlyFNanWU) <ALANVF (theangryepicbanana)>:
integer parsing is often defined so that you can successfully parse the beginning of a string, but not all of it

[21:31:44](#-C9AXB5-ZXZpJvemeC6V65ZaHVNe90cb61m59e8-8u4) <ALANVF (theangryepicbanana)>:
`.` is a common punctuation, so once it's encountered the parser stops

[21:32:02](#O-LdXbIzoUJu6o41biEwFGA4MT-HQF44ktP-ipUmwBc) <hiiamboris (NOT THIS ONE)>:
agreed, but then:
```
>> to integer! "3x2"
*** Script Error: cannot MAKE/TO integer! from: "3x2"
*** Where: to
*** Near : "3x2"
*** Stack:  

>> to integer! "3 inches"
*** Script Error: cannot MAKE/TO integer! from: "3 inches"
*** Where: to
*** Near : "3 inches"
*** Stack:  
```
so it totally doesn't work as I thought

[21:32:05](#EcdssGjgnAmpSKsj6nudWyfvr8sYv2VF2RDWyLfOA7c) <ALANVF (theangryepicbanana)>:
but a letter is seen as a parsing error, because of course letters aren't separators

[21:32:16](#RRWxBqenjS381Ck8sgoimnpbHUelK1lqmA6KOr7r1B8) <ALANVF (theangryepicbanana)>:
hmm

[21:32:24](#57seBkmC_2wXT95cXKkU3WIULMDoa0Pu3CgKt0bHj38) <ALANVF (theangryepicbanana)>:
that just makes it seems more intentional

[21:32:31](#tntwAYWn5EpyKZSmO1mcHoRVt6rPZZCXo7f1YcO45uU) <ALANVF (theangryepicbanana)>:
possibly even for this exact use case

[21:32:50](#dVVLaWkemL75CKfsX6RjhFYX6FuqBnShzqYA9xGRP7c) <hiiamboris (NOT THIS ONE)>:
for extracting integers only from floats that have a period?

[21:32:58](#wMO5_RkLZQMvzpWw1dh8aIKyWVyXmWm2AI3a6pEY3Kw) <hiiamboris (NOT THIS ONE)>:
hardly

[21:33:04](#XLc_X3GYPkJuSgO2Tlb7VqLMcSN6VRE2UBuC1H678AA) <ALANVF (theangryepicbanana)>:
yeah, or more simply, extracting an integer from a float string

[21:33:08](#2rWxePwsAt9ZF1orPyYMfUbVysw77Ait0nlDcTvHfsY) <ALANVF (theangryepicbanana)>:
* yeah, or more simply, extracting an integer from a float input

[21:35:59](#WMLTdZRgSV-Qk-tXzQrLodoREw6JSGZMvozBFuDlLIk) <hiiamboris (NOT THIS ONE)>:
@ALANVF if you're willing to open an issue report and describe what R2/R3 does and possible use cases and drawbacks of both loading (as in rebol) and simple forgiving integer extraction, that would be welcome

[21:36:29](#42og_T8dhJjm1HXaHHGKJhNVABZbumihdl0pkguJqtE) <hiiamboris (NOT THIS ONE)>:
whether it should understand `'` delimiter is also questionable

[21:36:40](#-TdIGhx37tL3Ej0VakzoyTxmKfsrM-45ZO8biSVRShk) <ALANVF (theangryepicbanana)>:
well I'm kinda torn between returning 340 and returning an error

[21:36:48](#eFLga8jXd_bZo8RhIhKa2AzSfiEnZg2r5QfoRfCFHiY) <ALANVF (theangryepicbanana)>:
* well I'm kinda torn between returning 340 and throwing an error

[21:37:30](#DDlBkU5dzBK01Vok59LqrXWCqGRzHxfOItLrvypm6ds) <hiiamboris (NOT THIS ONE)>:
of course, that's why we need a ticket to collect input and design ideas 

[21:37:58](#q6OPVYYiIa1Kk70EdpJv_CN5UlsIX59grbOQkVg0dLM) <ALANVF (theangryepicbanana)>:
ok

[21:38:03](#QGI0QVTAg8O128rVdPyI7fg6DBoCe9aKXI7gby4FzDw) <hiiamboris (NOT THIS ONE)>:
:+1:

[21:53:14](#ro8IAElKHYR-fFJuxWCx_TW0ItvHLWB5Bib08SkykQw) <ALANVF (theangryepicbanana)>:
@hiiamboris #5147

[21:53:35](#pi_qxtg3daYebJJWLOVH-PnTD8tEaz0RkeZCSVsDJyE) <ALANVF (theangryepicbanana)>:
I'm not great at writing, but that should be a good description of the issue

[22:03:24](#3GVX1Ud9cDssmlGxArqfls0I6rpLMJYUnkyODxc-hyI) <hiiamboris (NOT THIS ONE)>:
thanks

## 11-Jun-2022

[16:01:38](#W3aSoRYp5KY8TqGj9ewkxMxl_IBY4XdN-pl9TH-1Vys) <gurzgri>:
Is it to be expected that a script as simple as  
```Red
Red [] #system [memory-stats 3]
```

compiled with `do/args %red.r "--release --debug %memtest.red"` fails with 
```
PS C:\Users\Christian Ensel\Development\red-master> .\memtest.exe

====== Red Memory Stats ======

-- Node frames --
#1: used = 10000/10000 (100%), free = 0/10000 (0%)
#2: used = 424/10000 (4%), free = 9576/10000 (96%)

    2 frames

-- Series frames --
#1: used = 1048520/1048576 (99%), free = 56/1048576 (1%)
 - 05450014: size = 64000, offset pos = 0, tail pos = 25568    T
 - 0545FA28: size = 53491844, offset pos = -88472092, tail pos = 4

*** Runtime Error 98: assertion failed
*** in file: /C/Users/Christian Ensel/Development/red-master/runtime/debug-tools.reds
*** at line: 194
***
***   stack: red/list-series-buffers 05450004h
***   stack: red/memory-stats 3
```

(this is with a freshly cloned Red 0.6.4 for Windows built 11-Jun-2022/15:58:04)? I expected that to work.

[16:08:29](#EuCmZUK2uDith8mKk7qFdfxVpOjg5J4njweTgnzuA64) <hiiamboris (NOT THIS ONE)>:
I guess just nobody used `memory-stats` in a while?

[16:09:13](#mgyMjEBrsM748pYIc0ifBnZk8KN0JJT7qZqy-MHNtGs) <hiiamboris (NOT THIS ONE)>:
raise an issue, I'm sure it was never reported

[16:28:01](#jrKjxZna3sdGOoJF9ToFj3yxzRgr7VMcySheAVi9PTI) <gurzgri>:
[#5150](https://github.com/red/red/issues/5150)

## 18-Jun-2022

[11:49:54](#mrWe5FUGvOF_7pOqj973ISDaKCf2TDiWMS9XXMDUd4M) <dsunanda (dsunanda)>:
I am trying to convert an old Rebol system which has run rock-solid for at least 15 years. The Red port of it will crash after about an hour's usage. The problem seems to be running out of memory after displaying around 2000 images - even though only one is on screen at any one time.
My high score for the  code below is around 950 loops before crash. The code is under Windows 10. I really need a high score of at least 10,000 to have a viable application:

[11:49:58](#P6z5z_IQ_tRD5ufWBsBEsC3dHbH849xiJuRe2jzrQb4) <dsunanda (dsunanda)>:
```
     ;; Create a couple of fairly small images:
im-1: to-image view/no-wait compose [box 500x500 red (copy/part mold system 4000 )]
im-2: to-image view/no-wait compose [box 400x400 blue (copy/part mold system 2000)]
save/as %image-1.jpg im-1 'jpeg
save/as %image-2.jpg im-2 'jpeg
unview/all

view/no-wait [im: image 200x200 count: text 100x50]
recycle/on       
try [delete %log-file.txt]
n: 0
     ;; swap between the images until failure:
loop 5000 [
   n: n + 1
   count/text: rejoin [form n " " stats]
   im/image: load/as %image-1.jpg 'jpeg
   im/image: load/as %image-2.jpg 'jpeg
   write/lines/append %log-file.txt count/text
   recycle
   ]
print "worked this time"   ;; be nice to see this message :)
```


[11:51:06](#MVJFxz-m1-LUmt26S3p2ArpnCC0Xpe0u8xD70jWXCj8) <hiiamboris (NOT THIS ONE)>:
images are not collected

[11:52:06](#Eijk05usemlVdTExP9IYyfqHrnsSuV4vXDA2oRJ34wA) <hiiamboris (NOT THIS ONE)>:
you can use this very old branch for your task https://github.com/red/red/pull/4662

[11:52:43](#6FHgKHNwd7ZyGOga5bcI6aFmBdJVaBYezJi-hu6vMfE) <hiiamboris (NOT THIS ONE)>:
it's still GDI backed

[11:52:48](#38r7Ib62y2xkXUIp90uqlDLDTivc0jY7T_SOAm7ZEp0) <dsunanda (dsunanda)>:
So basically,  Red's View is a GUI with no images!?  Can that be fixed?

[11:53:26](#qwt6wR6CgqpkpxLgsHvowhs1gtKOlW8m_tj55jdUGCU) <hiiamboris (NOT THIS ONE)>:
why with no images? a few will work fine, you just can't spawn a lot

[11:55:30](#ewcszMFDym6_aefNWLeV0xWrzORa9B7wf-wESglraN8) <dsunanda (dsunanda)>:
Thanks for the comments and info .... My issue is the application is a membership database that shows the member's headshot. So spawning one image per person is kinda the minimum expected of it.

[12:03:44](#jfE6NbRves5TV4pLKfbYrTXbxU_7VW0KEBnvbRgxNbw) <hiiamboris (NOT THIS ONE)>:
well...

[12:04:35](#Fwsu5X16f7KJSI1vz3kICmT-htsu2D7rEId7IkupOy0) <hiiamboris (NOT THIS ONE)>:
are you using ODBC branch then?

[12:18:20](#rVBodVstk_HwIKh8wzrXhPcqacoptSWVsukfvJuMM_s) <dsunanda (dsunanda)>:
No - just the latest nightly. (Handling the DB side without ODBC is story for another time :)

[12:25:57](#7e8w37MU6sCbrbgWmwSSzLLO7BNZwOaib_LdN-787iM) <hiiamboris (NOT THIS ONE)>:
then that old branch might still be an option

[12:38:05](#c0qn6qGZs62xqQ689-ErPGKBcGzR5ptIciWx89QcmcQ) <dsunanda (dsunanda)>:
I'll take a look ..... But it seems unlikely as I have had bugs in the official 0.6.4 release - which is of a similar age.
Right now, it looks like Red is not an appropriate choice if the app needs to display more than 100 images (depending on size), even if just one at a time.

[12:46:07](#oDHniRMqmNbgVljcaPElKsV---RGvtbvHdQY9b7uqes) <hiiamboris (NOT THIS ONE)>:
Gregg will come and say that our coffee machine is not smart enough :)

[12:47:38](#gwoTddSBjk0x5XP4T414eCOxWtJZOEZoIE6_p3lVAjQ) <hiiamboris (NOT THIS ONE)>:
But we have an old coffee machine which is noisy but was able to clean the glasses í ½í¸‰

[13:14:15](#8I6a9WxNe_gp7XARSjmUdBteMmAldduMSSou0oT8iBs) <dsunanda (dsunanda)>:
:) But the slowly growing problem with the Rebol app is that it is accumulating cruft - eg things like 'browse doesn't work properly any more.

So I'd like to replace it with something that isn't aleady years old, and hard to update .... So a spun-off branch is not that attractive :)

[16:35:03](#0sXRWw7elvAKKKVdv9P1ESEvoy_fENr5XrnzxG9OMjw) <hiiamboris (NOT THIS ONE)>:
Sure, but your best bet for now, given what we have

## 24-Jun-2022

[12:33:21](#phvhAXfSidTZBR55vdiq2VkCXFFJplrO_0PgheIJ85U) <loziniak (Maciej ÅoziÅ„ski)>:
```
$ ./red-16jun22-15b93aff8 
Gtk-Message: 14:32:15.045: Failed to load module "xapp-gtk3-module"
Gtk-Message: 14:32:15.045: Failed to load module "xapp-gtk3-module"
--== Red 0.6.4 ==-- 
Type HELP for starting information. 

>> system/build/date
== 24-Jun-2022/12:28:44
```

Perhaps worth checking?

[12:33:50](#HQdh4Y9qhv-9aRoSKZRrDnJnRyY-75TLE95qXv-ov6I) <loziniak (Maciej ÅoziÅ„ski)>:
downloaded from https://www.red-lang.org/p/download.html

[13:51:20](#NEr5GZ9W4L7L6mi4mz5o3t02pY7hOZSipZIC0wlUpuE) <greggirwin (Gregg Irwin)>:
Do you have 32-bit libs installed? That's the first issue people usually hit.

[13:51:37](#sfwU8pIGJN7R5Fy-Xf0TvUuV00w4eABMULh4pYFOwRE) <greggirwin (Gregg Irwin)>:
And is it only the new build that errors?

[15:40:53](#Lwn3Qro9CplrYPHOUFSRatAPDQFJEmtl5yT6IrSDgv8) <GiuseppeChillemi (GiuseppeChillemi)>:
I see `port?` not implemented into RED while PORT! is, it is correct?

[15:41:01](#IPw4oz1IW5IeoLEM_n3q526d_TA9FgUn2tFcdhIo6p8) <GiuseppeChillemi (GiuseppeChillemi)>:
(Tested on RED-ODBC)

[16:03:18](#WNNieXU0kaDG7eCaswMoeC_mo78cieS_N3C9uNEMyzI) <gurzgri>:
can confirm, noticed that too, probably waits for i/o branch or so.


[17:22:06](#uGIH2KU0acumvL_w1ZOiEr-RpFLwzuZXsAptBoOEJZY) <GiuseppeChillemi (GiuseppeChillemi)>:
This works:

```
f1: func [/local data1 data2] [
   data1: "hello" data2: none
    f2 words-of context? 'data1
   	reduce [data1 data2]
   ]
f2: func [ctx] [
   set next ctx reduce [uppercase get ctx/2 " world!"] ;next avoids /local
   "DUMMY RETURN"
]
```

```
>> f1
["HELLO" " world!"]
>> 
```

This eats the stack:

```
f1: func [/local data1 data2] [
   data1: "hello" data2: none
    f2 context? 'data1
   	reduce [data1 data2]
   ]
f2: func [ctx] [
	 ctx: words-of ctx halt
   set next ctx reduce [uppercase get ctx/2 " world!"] ;next avoids /local
   "DUMMY RETURN"
]
```
!!!
```
*** Internal Error: stack overflow
*** Where: data1
*** Near : "hello" data2: none f2 context? 'data1 reduce 
*** Stack: probe f1 f2 words-of f2 words-of f2 words-of f2 words-of f2 words-of f2 words-of f2 words-of f2 words-of 
f2 words-of f2 words-of f2 words-of f2 words-of f2 words-of f2 words-of f2 words-of f2 words-of f2 words-of f2 words
-of f2 words-of f2 words-of f2 words-of f2 words-of f2 words-of f2 words-of f2 words-of f2 words-of f2 words-of f2 w
ords-of f2 words-of f2
```

[17:22:57](#KJvcK1dsV8JmIQAoISU-zGVt-D2RgQLHut0VJlYovGY) <GiuseppeChillemi (GiuseppeChillemi)>:
* This works:

```
f1: func [/local data1 data2] [
   data1: "hello" data2: none
    f2 words-of context? 'data1 ;<--------- The difference is here
   	reduce [data1 data2]
   ]
f2: func [ctx] [
   set next ctx reduce [uppercase get ctx/2 " world!"] ;next avoids /local
   "DUMMY RETURN"
]
```

```
>> f1
["HELLO" " world!"]
>> 
```

This eats the stack:

```
f1: func [/local data1 data2] [
   data1: "hello" data2: none
    f2 context? 'data1 ;<--------- The difference is here
   	reduce [data1 data2]
   ]
f2: func [ctx] [
	 ctx: words-of ctx halt;<--------- The difference is here
   set next ctx reduce [uppercase get ctx/2 " world!"] ;next avoids /local
   "DUMMY RETURN"
]
```
!!!
```
*** Internal Error: stack overflow
*** Where: data1
*** Near : "hello" data2: none f2 context? 'data1 reduce 
*** Stack: probe f1 f2 words-of f2 words-of f2 words-of f2 words-of f2 words-of f2 words-of f2 words-of f2 words-of 
f2 words-of f2 words-of f2 words-of f2 words-of f2 words-of f2 words-of f2 words-of f2 words-of f2 words-of f2 words
-of f2 words-of f2 words-of f2 words-of f2 words-of f2 words-of f2 words-of f2 words-of f2 words-of f2 words-of f2 w
ords-of f2 words-of f2
```

[17:23:28](#JO0QZxcA1VpFxeYiVsyR-MPrN8gXi508DIEtVv7YkA0) <GiuseppeChillemi (GiuseppeChillemi)>:
* This works:

```
f1: func [/local data1 data2] [
   data1: "hello" data2: none
    f2 words-of context? 'data1 ;<--------- The difference is here
   	reduce [data1 data2]
   ]
f2: func [ctx] [
   set next ctx reduce [uppercase get ctx/2 " world!"] ;next avoids /local
   "DUMMY RETURN"
]
```

```
>> f1
["HELLO" " world!"]
>> 
```

This eats the stack:

```
f1: func [/local data1 data2] [
   data1: "hello" data2: none
    f2 context? 'data1 ;<--------- The difference is here
   	reduce [data1 data2]
   ]
f2: func [ctx] [
	 ctx: words-of ctx;<--------- The difference is here
   set next ctx reduce [uppercase get ctx/2 " world!"] ;next avoids /local
   "DUMMY RETURN"
]
```
!!!
```
*** Internal Error: stack overflow
*** Where: data1
*** Near : "hello" data2: none f2 context? 'data1 reduce 
*** Stack: probe f1 f2 words-of f2 words-of f2 words-of f2 words-of f2 words-of f2 words-of f2 words-of f2 words-of 
f2 words-of f2 words-of f2 words-of f2 words-of f2 words-of f2 words-of f2 words-of f2 words-of f2 words-of f2 words
-of f2 words-of f2 words-of f2 words-of f2 words-of f2 words-of f2 words-of f2 words-of f2 words-of f2 words-of f2 w
ords-of f2 words-of f2
```

[17:25:31](#QSRLI-YWkZd2Ikt__d8HcbafltrlVXpEhbsoAF098-0) <GiuseppeChillemi (GiuseppeChillemi)>:
Have I done something wrong or could I write a bug report?

[17:28:32](#6_2UTJbKQK3PmvdaCDFPsZmuZ8_q4EkDn5WTR0ZJ1e4) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
It's not a bug. `ctx` in `f2` is a function, which call itself.

[17:28:42](#-sPdS07Ry9nr_i0ZDx5y7JakBJqaXrEivvSUwemSHQE) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* It's not a bug. `ctx` in `f2` is a function, which call itself, until the stack's end.

[17:29:27](#Fwxd4zlTTJ5WuLXhexmAmX-GCrOq0ZOLL3QEuWfBzu8) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Use `ctx: words-of :ctx` and it will be ok.

[17:29:48](#1lOH03ZZh5sSAeQxopuaJFy08303E3MIw6_PzqC5osY) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* It's not a bug. `ctx` in `f2` is a function, which calls itself, until the stack's end.

[17:39:17](#5GtpNKgV9Fr2eyGrcx1Y1gLe54cujzVsORAPrdUeg3A) <GiuseppeChillemi (GiuseppeChillemi)>:
Thank you Oldes, to me CTX was just a context, as I have obtained it with `context?` and not the function itself. Changing it to `ctx: words-of :ctx` has solved.

[17:48:00](#GU4n5mYuU6Jko5WT5nUMToC8_TOAtwFMRoAduo9yj5E) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Even function may be a context.

[17:48:04](#7gm9lEMWMIHPASlt6FkAPWGMOPHTxhQN_NdBA9NZa4s) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* Even a function may be a context.

[17:58:24](#BTJSVOu7GxA2ehr-XfpfOinnp7RTjnAyRXdlnEiGFl0) <GiuseppeChillemi (GiuseppeChillemi)>:
Yes but I have supposed it would have been more like regular object than an active function.

## 27-Jun-2022

[11:22:12](#tltXm2uUUj7biM0JUxjtLlYiTKgetiULJKHjYUfE6BE) <loziniak (Maciej ÅoziÅ„ski)>:
@greggirwin It was not about `Gtk-Message`s, but build date â€“ it's different than filename. 16 vs 24 jun.

[11:22:20](#_u3NXW2tai5wk74J4lXZVUcIFcjDYe1S6N2eGdfs-70) <loziniak (Maciej ÅoziÅ„ski)>:
* @greggirwin It was not about `Gtk-Message`s, but build date â€“ it's different than filename. 16 vs 24 Jun.

[11:24:31](#OhMNidNhoCPJOMU4Bg9VffUU0qxLX7BFwuzL8TNrBDM) <hiiamboris (NOT THIS ONE)>:
happens when there are no new commits

## 29-Jun-2022

[10:07:19](#N9HpqbVMIIPhr6Wl58xigSLptTdpyu4ncwSaS86paUE) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Is the `try/all` functional? It looks that `try` catches these `break`, `continue`, `exit`, etc. exception any time. 

[10:07:24](#YOGRJY5KLat9VOjVXFrYs0cg-qikYCcIt0XJWvIpon4) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* Is the `try/all` functional? It looks that `try` catches these `break`, `continue`, `exit`, etc. exception any time. 
```
>> error? try [exit]
== true
>> error? try/all [exit]
== true
>> 
```

[11:59:17](#WK7SMB52fsqwO-XjBtlAPH7s35x3FeGxo0F9CdQBy20) <hiiamboris (NOT THIS ONE)>:
```
>> ? try
USAGE:
     TRY block

DESCRIPTION: 
     Tries to DO a block and returns its value or an error. 
     TRY is a native! value.

ARGUMENTS:
     block        [block!] 

REFINEMENTS:
     /all         => Catch also BREAK, CONTINUE, RETURN, EXIT and THROW exceptions.
     /keep        => Capture and save the call stack in the error object.

```

[11:59:45](#2TD6mLprKrz3IlhdnOYoeP3HR2glnECOs2I0RbOp0wI) <hiiamboris (NOT THIS ONE)>:
`try/all` is fine

[12:00:04](#fL7mD7guphSMFIOjI_huFsXPwiyX6SUZESpmYBE81fc) <hiiamboris (NOT THIS ONE)>:
with `try` you need a function to use `exit`, otherwise it's an error indeed

[12:28:46](#qp-WopfPQza8YZ5HEMT6JmeZBk0TI8ByN2osqbSXOWs) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
I don't see any difference between `try` and `try/all`.

[12:30:21](#-Pe7XOEvZ0Gi3hS2aoMIroF1QciywsZhQswZdOoevko) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
In Rebol, which don't have `try/all`, the `try` don't catch these exceptions:
```rebol
>> error? try [exit]

** Throw error: return or exit not in function
```

[12:30:44](#VDxSdyFfFJjRLMXyDO9RgR9rZN8oeJMmXH9aDHcpZ2Q) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* In Rebol, which don't have `try/all`, the `try` don't catch these exceptions:
```rebol
>> error? try [1 / 0]
== true

>> error? try [exit]

** Throw error: return or exit not in function
```

[12:31:06](#H25YwZcbpwU-yPgY8unHbGxYQKacySyooBXyfHbM9c0) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* I don't see any difference between `try` and `try/all` in Red.

[12:34:55](#WljStNpg363hOY_MLeLVU0jjxxAWLyQNWpRytwqzTaY) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
So I think that if there is not some invisible reason, `try/all` could be removed in Red and Rebol should be able to catch these exceptions by default like Red does.

[12:35:24](#TwH1ySsP-V0kFVhYqLelJpFwkWXRPweNsB-aKgQ6Ocs) <hiiamboris (NOT THIS ONE)>:
```
>> do reduce [does [try [return 42]]]
== 42
```

[12:35:38](#FnCxkniLQzx_tocbs_oWkcOKRJB4g2nG20aYjxXgC-0) <hiiamboris (NOT THIS ONE)>:
like I said

[12:37:22](#uQBsf-TrkqpME_jLzKTSsXhHqdayhiEp21BRwIuvFeQ) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
How it is related to `try/all`? And you don't have to send help on try. I'm not a newbie!

[12:39:00](#rjeSOGwDt4ozJjydEsv0EVKXrADkgGGdZGNUt-2xUII) <hiiamboris (NOT THIS ONE)>:
sure

[12:39:37](#TEVMlMTyghBOvevPs5Y2hjXJM6xIKzIyvOgI5tQdybY) <hiiamboris (NOT THIS ONE)>:
```
>> do reduce [does [try [return 42]]]
== 42
>> do reduce [does [try/all [return 42]]]
*** Throw Error: return or exit not in function
*** Where: return
*** Near : 42
*** Stack: run eval-command do-command try-do 
```
This clears up the difference?

[12:52:46](#S-7xXtlejm86UIXd9ompGH2k-Z4eUI0rZRyb2p5aSSY) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Yes.. that makes sense.

[13:29:28](#jstqpsLVynQR4TMLTK978k75l2VhWB2KQFq5t4ciJUM) <hiiamboris (NOT THIS ONE)>:
I agree though, design was too quick. In my experience when you build loops, you want to catch only continue or only break, and get it's argument, and leave the rest untouched. As for exit/return, on the contrary, you want transparency to these, esp. for function body.

## 5-Jul-2022

[19:23:51](#xDecWfrB1PfEaSMXkCfvSY23VRvccB5rxRCPxR-8bQU) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
There seems to be such inconsistency:
```red
>> to-string quote a/b:
== "a/b:" ;<-- keeps decoration
>> to-string quote b:
== "b" ;<-- removes decoration
```

[19:25:55](#gnXsw95bPl5wiZSN0QtT0DNVcPRu8JsmpKvOFqU01Ok) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
No difference:
```red
>> form quote a/b:
== "a/b:"
>> mold quote a/b:
== "a/b:"
```

[19:53:30](#VamxU3AGPUjeAh64imxYHUvRnzrD-BxeJZHw1cRl950) <greggirwin (Gregg Irwin)>:
Listed [here](https://github.com/red/red/wiki/%5BDOC%5D-Table-for-to-string-etc.), but it's a good design question. 

[19:55:46](#Y4iJDvOtsZWyURtmoP-YRgeuoFzhuY0HS1pe2UzxiZ8) <greggirwin (Gregg Irwin)>:
That table needs a quick update, as `mold/all` produces serial syntax for `none!` and `logic!` now.

[19:57:07](#hPyoW4glmbY6F70YVa78_DNyv0BpC71IzTdP1Qcm1eM) <greggirwin (Gregg Irwin)>:
Done.

[20:00:21](#cw_kaOoDREUSuGGLxByoNgwyJPAsUUlADbJPUPe6hFg) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
@meijeru do you think that `form quote a/b:` and `to string! quote a/b:` should remove the decoration how it is with set-words?

[20:01:26](#aEU0bO3JRDYOH8fMM8U3k_GWZqnHSl60OlfRVxjtkL4) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* @meijeru do you think that `form quote a/b:` and `to string! quote a/b:` should remove the decoration like it is with set-words?

[20:03:59](#M7HBd5naEmdK5uLL_07EoiFqwBJ7oQUEZflhzayLxdM) <meijeru (Rudolf Meijer)>:
Yes, for consistency and ease of remembering, I would think that (lit/set/get)-paths should be treated similar to (lit/set/get)-words by form and to-string.

[20:07:16](#41yt9hLMX59f_Wf4y1jIIWdGO1i8EQ9_QhnRS8dVagU) <hiiamboris (NOT THIS ONE)>:
agreed

[20:12:41](#5k-7mYvWCePKpiwafkA38UvSXB3LfLXMvMAAgaq8DZU) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
I wonder if it should be removed also when used with other string types.. like `email!`, `ref!`, `url!` etc.?
```
>> to-url quote a/b:
== a/b:
>> to-url quote a:
== a
```

[20:16:54](#BJdOCb_-lN49Dy-oz2vFvR-S2jxsp0xUXiJVAfP0YYg) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* I wonder if it should be removed also when used with other string types.. like `email!`, `ref!`, `url!`, `tag!` etc.?
```
>> to-url quote a/b:
== a/b:
>> to-url quote a:
== a
```

[20:24:06](#XlEjJMgxvsDSY1qaGSSz_Re60YJPLp5tuuVgWIIeTbA) <hiiamboris (NOT THIS ONE)>:
`:` is ok in urls refs emails tags

[20:24:23](#D24yMDZiM7X_zxui74T9tArONq8zUnkVRqZAEGHwobY) <hiiamboris (NOT THIS ONE)>:
but I don't care really

[20:24:31](#87z8Ii2ktiWBq-9mkjpgs_cM4tu6bDnCtmZH4MgBTF4) <hiiamboris (NOT THIS ONE)>:
who builds these from words?

[20:32:13](#d_pl7bJlfNoKHgkXS9NCb_SGo6AB8Rr5cYQYCASwCwU) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
I would remove it there too for simplicity and consistency. I thing these conversions are there just because some result is better than error. 

[20:32:29](#IXr4HhpLMMR8jenY-uvnzqZu_LNaQKGRrgS3P6uYp8E) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* I would remove it there too for simplicity and consistency. I thing these conversions are there just because some result is better than error anyway. 

[20:38:50](#w6nP-CQ7NfVbtq9kvrD2RnaI20ljzJaedx2DnLMCvwA) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Also... currently there is:
```
>> to string! [(a b) [c d] e/f g h]
== "a bc de/fgh"
```
I think, that `"a b c d e/f g h"` looks like better result í ½í¸•

[20:40:18](#C6TA3Gf8BP5293bNRR0MstYNnOFCEOknYJUadR_h2H0) <hiiamboris (NOT THIS ONE)>:
I would prefer `form` to form and `to-string` to call itself

[20:40:22](#UTQrKqLp73eKCn30MAFKsjomSCvdctYwhi7cFQrCjYI) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Or is there someone using something like:
```
>> to-string [h e l l o]
== "hello"
```
?

[20:40:23](#Wpfo-Xh_b5gMRSjh9lZcKDvdpTKyhWm6plFDMr6A1zc) <hiiamboris (NOT THIS ONE)>:
```
>> form [(a b) [c d] e/f g h]
== "a b c d e/f g h"
```

[20:40:39](#ojSejxJ9r2cDmjke5Rh63D6p4ZlkiJqROkQcKRNrnf8) <hiiamboris (NOT THIS ONE)>:
then `to-string` would yield `abcde/fgh`

[20:40:47](#Oo47GT7NZmtrJZxnUp5CrOT8n7trn0odUlzlEilrwUA) <hiiamboris (NOT THIS ONE)>:
* then `to-string` would yield `"abcde/fgh"`

[20:41:45](#AMhllS1zLKGrd9_yZxN7FWzFpBQQAal5epW7gGkQKF0) <hiiamboris (NOT THIS ONE)>:
it's counter-intuitive that `to-string` calls `form` on blocks

[20:46:42](#pC9rIyHF0k4apH9MyXPH71CR2SN43hYVYNSygvERUc0) <greggirwin (Gregg Irwin)>:
> it's counter-intuitive that `to-string` calls `form` on blocks

Agreed.

## 7-Jul-2022

[10:02:46](#Zr3Z10hxTZMUCRa7eMzwIRBX5i_4qjgIKFqQVpTHc7A) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
The escape char `^` behaves strangely when used in file:
```red
>> %^
== %"^"
>> %"^"
== %"""
```

[10:05:10](#Gz-Fflm6R31EMK4cliNSXKgNhyem9NtYpdp-5W4xOm8) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* The escape char `^` behaves strangely when used in file:
```red
>> %^
== %"^"
>> %"^"
== %"""
>> %"""
*** Syntax Error: (line 1) invalid string at "
```

[10:49:07](#67yqztdm2blojyZx7Qop9DaL2-1ir16R1T2Pi61Be8k) <hiiamboris (NOT THIS ONE)>:
Yeah
```
>> %"^""
*** Syntax Error: (line 1) invalid string at "
*** Where: set
*** Near : token/y
*** Stack: load 
```

## 11-Jul-2022

[14:35:39](#m407yFipeYaQEC_uB8-U16MmhIRr-AtZRNV2EVCgbu8) <inc0n>:
Hello everyone, I'm on Mac m1, red 0.6.4 from the download page result in "bad CPU type in executable". And I'm also unable to build from source, since it requires a rebol intepreter, which is also bad CPU type. What would my options be for trying out red??

[14:35:45](#UvfgzuWZctwlDkcXAFn2mab1XAFyk3qRhbQzMIdb2pw) <inc0n>:
Thanks in advance

[14:50:01](#O7c-s7Dnydke5FZFJU3yez-rzHN3qftk-8XN05f8Tf0) <ldci (FranÃ§ois Jouen)>:
@inc0n:matrix.org .Unfortunately Red is 32-bit only. Iâ€™m also on Mac m1 and the only way I found is to install parallel desktop and a windows 64-bit version.  

[14:50:32](#WTRS-pSIae1yel5IjWFCvofEWlYKKc8F4Yv0xbAVzSs) <greggirwin (Gregg Irwin)>:
There are some Docker images available as well.

[14:51:28](#92tHQ1Qrpb2aQe7XmwFBNXLCH7BkxrjQbV4RBhWuc7Q) <greggirwin (Gregg Irwin)>:
https://github.com/rebolek/red-tools/wiki/Red-on-Catalina

[15:48:19](#1xwHr5CG5i_334D4E6nYttqGwsBY1a5waIuxJa_GoEg) <inc0n>:
> <@ldci-5673ead416b6c7089cbf2ba5:gitter.im> @inc0n:matrix.org .Unfortunately Red is 32-bit only. Iâ€™m also on Mac m1 and the only way I found is to install parallel desktop and a windows 64-bit version.

Ah, that's unfortunate

[15:51:24](#2CbIzwDcdDAvFOxct7JJGJOxWFMnAIjHXES-nGu-R-c) <ldci (FranÃ§ois Jouen)>:
Yes. You can also try WineSkine. Successful for Rebol but not for Red

[15:51:58](#1x_spmiEupQWB_NictR9l58FJvcEx7lNFvlLfTy7WmA) <inc0n>:
> <@greggirwin-55659ddb15522ed4b3e1006f:gitter.im> There are some Docker images available as well.

Thanks for sharing! I might prefer waiting for a 64 bit release instead of using docker images, until then .....

## 13-Jul-2022

[20:53:31](#bLiBAveM5wk-5Boy9GIxbpFcpKTvBLAdWqOSiLx0PIM) <gltewalt (Greg T)>:
```
--== Red 0.6.4 ==-- 
Type HELP for starting information. 

>> system/words/what

*** Runtime Error 1: access violation
*** at: 080943BBh

```


[20:54:58](#ISBhBYsUWdHu0bm-3mL92Boj3Mh8zOsX-BfaGt2Z5fw) <greggirwin (Gregg Irwin)>:
Reproduced. See if there's a ticket for that.

[21:01:42](#U2luC2OZPYPj2clKYOiV4Ot-KCXRuQ4lLjoIbvXxvu8) <gltewalt (Greg T)>:
Not sure exactly what to search for, but so far I don't see one

[21:03:14](#MYOOxO-0G9xmiscGeqrUQ4IgJNPaUoxzrY-5MAgEG1Q) <greggirwin (Gregg Irwin)>:
Open a new one then. Thanks!

[21:03:59](#-Thc9_izF_PiiOwrKLrsPgAb_ofZ01KD59BUQE2A4J0) <greggirwin (Gregg Irwin)>:
Please note that `what` by itself works fine.

[21:04:53](#x3wsFBkB_JMjqQDwhT7NGCxOeQ5iXKATKV1mfbWqu-U) <gltewalt (Greg T)>:
Yeah. And... should I go through each system/words(where applicable) looking for other bombs?

[21:05:40](#qG-pg596qVg931528-40SuiHFhbfhG7k95e1HndoKQ4) <greggirwin (Gregg Irwin)>:
Help, about, and source seem OK.

[21:08:12](#sCqysxZw5g-7hYrE9wrMR9y-I1tzV0HeI3iiB-5MkD4) <hiiamboris (NOT THIS ONE)>:
wow

[21:08:57](#17AtVxpxgPKlQ72kl8kTy_hgioW6QwaJPAVHIFEAmoA) <hiiamboris (NOT THIS ONE)>:
compiler's glitch by the looks of it

## 14-Jul-2022

[12:59:30](#DGH0XVieiaexOj6IOznknE2WewjOkhQ0Ogwivt--VM8) <dockimbel>:
Please open a ticket for that if not done already.

[13:06:53](#-VPKVfw_63Wii1-Yv8lk4UtiC2U6lQ2qhZBizmi43cc) <hiiamboris (NOT THIS ONE)>:
sure

[13:08:48](#0JTb8ed-kzrguSnaxiOr46qWKHCpZadeRhxlpthAP6o) <hiiamboris (NOT THIS ONE)>:
https://github.com/red/red/issues/4060#issuecomment-902292155

## 19-Jul-2022

[9:49:35](#rliIyYyBxKP5QnVevX54cirBGfgcuIZ-XjivMcowxP4) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
When inserting `char!` key into a `map!` it is always case-sensitive... as there is `put/case` available, I guess that `put` without `/case` should be insensitive:
```
>> m: #() put m #"a" 1 put m #"A" 2 m
== #(
    #"a" 1
    #"A" 2
)
```

[9:59:26](#mR_xYnZpbjaHd9cb_tVYETOvu8v3uYmDoJEQm_DedSU) <hiiamboris (NOT THIS ONE)>:
It's insensitive:
```
>> m: #()
== #()
>> put m "ab" 'ab
== ab
>> put m "AB" 'AB
== AB
>> m
== #(
    "ab" AB
)
```

[9:59:54](#1x-dhHj6uM_6tbHj7yeSrlWu2xPsN-1uwJvUNe39Oyw) <hiiamboris (NOT THIS ONE)>:
Red just has this char problem:
```
>> #"a" = #"A"
== false
```

[10:00:16](#z5phFzLrWjArV0W-Yary_4uh1CEVIM20AceEd1Sds-Q) <hiiamboris (NOT THIS ONE)>:
and you have to form chars to compare

[10:43:34](#A2-YRibQam0rEw-uiJc3fGhT3tcwt1ZxGtGhIvTDYK0) <toomasv>:
Are chars not always case-sensitive in Red? And strings by default case-insensitive.

[10:44:11](#d9sn8xHYsgAEdp_sbFaGeCMYVM_wDDM27Ccb4YvYXaE) <ldci (FranÃ§ois Jouen)>:

```
m: #()
put m 1 "ab"
put m 2 "AB"
m

[10:44:54](#8Qy_sm_YdIuQAkarJ_qz22idp5WtesYuavlMVETmgx4) <ldci (FranÃ§ois Jouen)>:
```
>> m
== #(
    1 "ab"
    2 "AB"
)
```


[10:45:13](#l6Z1JrqhWkDZGWISETJjsVQgoN3aNjFV_nFghPh1S20) <ldci (FranÃ§ois Jouen)>:
* 
```
m: #()
put m 1 "ab"
put m 2 "AB"
m
```


[11:40:55](#3E0EnnmHOmq8k3hJt0kbwQtxf56yJMIJEO9W3yhT5R4) <ldci (FranÃ§ois Jouen)>:
```
>> a: "ab"
== "ab"

>> b: "AB"
== "AB"

>> a = b
== true
```


[11:45:29](#plBVJ9uzQxi2xg6KAJk9emLZQRAB6kDlp00VOI4Rjpc) <ldci (FranÃ§ois Jouen)>:
`#"a" = #Â Â»AÂ Â»`is also true with R3

[12:23:07](#VbHOEiWKJBYpwWGP4GZROCnvFUFfwO4wRNlRQ5pc0d4) <ldci (FranÃ§ois Jouen)>:
`#"a" = #Â Â»AÂ Â»`is also true with R3

[12:25:35](#G3DqA-6xO9dvKMya9ifz8C3cJcFzf4klUhqCEOGJuao) <toomasv>:
`#"a" = #Â Â»AÂ Â»`is also true with R3

## 21-Jul-2022

[21:14:13](#QnoHxDm_E6TfK-563Qop3Y2QpwM8321foJk1p-bWRv4) <GiuseppeChillemi (GiuseppeChillemi)>:
I have a probable bug

If you use a datatype in a function specs without a block, the function eats and additional argument:

```
		f: func [
			a 
			/b 
			arg-b word! "Should work?" 
			/local
		] [
			
			either b [
				probe a * b
			] [
				probe a
			]
		]
		
		f/b 2 3 
```
 



[21:14:26](#S6-2o99j-cn8841lzZo6MKaWnRpVRd6iusKlEcIrNOE) <GiuseppeChillemi (GiuseppeChillemi)>:
* I have a probable bug

If you use a datatype in a function specs without a block, the function eats and additional argument:

```
		f: func [
			a 
			/b 
			arg-b word! "Should work?" 
			/local
		] [
			
			either b [
				probe a * b
			] [
				probe a
			]
		]
		

```
 



[21:14:48](#sW1etkB-ELtmUekS2tHTvbNhyNOpzHyaIVFz_6GPikA) <GiuseppeChillemi (GiuseppeChillemi)>:
Try:

```
f/b 2 3 
```

It ownt work

[21:15:01](#jdBCrkCc5oK1SenJ-krBcgdk494dCU9JNHyO5FVCIak) <GiuseppeChillemi (GiuseppeChillemi)>:
* Try:

```
f/b 2 3 
```

It won't work

[21:16:43](#gixvC-f4jtIQ4UyQOyhYkTRID7QZYkc9Q_u_kuzPUHM) <GiuseppeChillemi (GiuseppeChillemi)>:
But if you try:
```
f/b 2 3 4
```
You get an error `"logic type not allowed here"`


[21:18:06](#Ms5jil1aoa5YL8umeQjad_c_7-vh7fC8nPxLLyNLCPs) <GiuseppeChillemi (GiuseppeChillemi)>:
* I have a probable bug

If you use a datatype in a function specs without a block, the function eats and additional argument:

```
		f: func [
			a 
			/b 
			arg-b word! "Should work?" 
			/local
		] [
			
			either b [
				probe a * arg-b
			] [
				probe a
			]
		]
		

```
 



[21:18:14](#3XP3E8cqI6_e1XnOykwd1DNf2cwACRzSpCCRGYj7ieM) <GiuseppeChillemi (GiuseppeChillemi)>:
* But if you try:
```
f/b 2 3 4
```



[21:18:48](#ZcwHzKEL_t5nI0zOweS4ofSuFqQMNxg-0R-TcRwUOxE) <GiuseppeChillemi (GiuseppeChillemi)>:
It is executed!

[21:20:54](#Fc8tmGCtgfZ4_mTBifEfFC-jJAkuo1RdcZc7mgVc02M) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Actually it is not a bug... you just made a function, where `/b` has 2 arguments: `arg-b` and `word!`

[21:21:44](#PSWdAqZAdkwvcl4lwZbYPga53sdLpdKxshowQqDHX3Q) <GiuseppeChillemi (GiuseppeChillemi)>:
Nice explanation but I don't think it should be allowed í ½í¸‰

[21:21:45](#Q2SPolRnlWVPcT6iPaHyPeYy7yF4MIMAETlZ2zqihgo) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Because:
```
>> type? first [word!]
== word!
>> type? first [x!]
== word!
```

[21:22:06](#aPx8msos6NtdecSrnfjga8PYV2A11ZpyFDTDeYyR7c4) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
The `!` is just a convention.

[21:22:51](#Js3HxWzfuDbE8_2K2mq-1279kscEOZ-k9e271d6bq0Q) <GiuseppeChillemi (GiuseppeChillemi)>:
Yes, In the last months you have already enlightened me.

[21:24:19](#pJ9ja_NQUDMYrPS4suNz1JCNJDtoX782vwIp3Toy2F0) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
It is your bug. Just use correct syntax.

[21:25:57](#H0uSQjfmjVtkx6OPVDnR7kkhhMX11F_4gg-zhfpcJCI) <GiuseppeChillemi (GiuseppeChillemi)>:
I won't answer. I have to think about it. 

[21:30:01](#xZn2r15g_eHN7tAIRJtHeD5fKTCbM-ylNNwS_p0jCek) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
```

>> f: func[word! [string!]][ probe word! ]
== func [word! [string!]][probe word!]
>> f "a"
"a"
== "a"
>> f 1
*** Script Error: f does not allow integer! for its word! argument
```

[21:30:08](#ExLdmnkktBTlbvgn2O5BL661lav1wTvXxZEgsbnz4P4) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* ```
>> f: func[word! [string!]][ probe word! ]
== func [word! [string!]][probe word!]
>> f "a"
"a"
== "a"
>> f 1
*** Script Error: f does not allow integer! for its word! argument
```

[21:31:15](#QyRXpTNoypkT6IxG8lRmIVYuJ0D1FvDl0LXS1Yhaz_8) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Red (and Rebol) cannot do anything with this... `word!` and `string!` are just words like `word` and `string!`.

[21:31:20](#EXQ8QL0pFzob_hrs0zaXTeJTPRwJ6TMhUwCSNUHFM3I) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* Red (and Rebol) cannot do anything with this... `word!` and `string!` are just words like `word` and `string`.

[21:32:47](#QBzKKlYRCQvAQM3tjkMdK1DPtURPwmxgIii63GfTcsQ) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
It can try to do checks, if you really want `word!` and not correct `[word!]`, but it would be expensive.

[21:52:09](#hl_MZzxFw2RktKGig7-xkgESLPxwmakhVn4WOm6GoQA) <GiuseppeChillemi (GiuseppeChillemi)>:
No, leave everything as is.

[21:52:26](#okw7tjF49PhhFyQqV_Eis0WOfoFML9QcrLQnZGXZuo8) <GiuseppeChillemi (GiuseppeChillemi)>:
Just we whould add notes to the docs-

[22:15:35](#206GXJNwI-1fio8JXjMCPYONFeXBCcL7WnJHYhQ7qHI) <GiuseppeChillemi (GiuseppeChillemi)>:
Being in the middle of the transition from Rebol to Red, I have discovered interesting things:

Rebol
```
probe bound? to-lit-word! word!
== none
```

```
You must do 
to-lit-word! to-word word!
```

While in Red 
```
to-lit-word word word!
```

Is sufficient to have aword with a context


[22:15:51](#oPwwv8q7sa4Lw_Aks3BA4phjWmcKKDEp7bEPJYonIGU) <GiuseppeChillemi (GiuseppeChillemi)>:
* Being in the middle of the transition from Rebol to Red, I have discovered interesting things:

Rebol
```
probe bound? to-lit-word! word!
== none
```

You must do 
```
to-lit-word! to-word word!
```

While in Red 
```
to-lit-word word word!
```

Is sufficient to have aword with a context


[22:16:21](#zPZWaAbV7oLqhTdrrUmoYU4utpexDDz7sXBgF2gmXyQ) <GiuseppeChillemi (GiuseppeChillemi)>:
* Being in the middle of the transition from Rebol to Red, I have discovered interesting things:

**Rebol2**
```
probe bound? to-lit-word! word!
== none
```

You must do 
```
to-lit-word! to-word word!
```

While in **Red** 
```
to-lit-word word word!
```

Is sufficient to have aword with a context


[22:16:30](#jsWdsuwZkOLbRiESM6mMzsKMUknlRJrSEcQuEHQtmro) <GiuseppeChillemi (GiuseppeChillemi)>:
* Being in the middle of the transition from Rebol to Red, I have discovered interesting things:

**Rebol2**
```
probe bound? to-lit-word! word!
== none
```

You must do 
```
to-lit-word! to-word word!
```

While in **Red** 
```
to-lit-word word word!
```

Is sufficient to have a word with a context


[22:17:41](#WMBBhkmhjctbs0I8Imz84Qe8AXheq2d1l6LtQwrvFSs) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* Being in the middle of the transition from Rebol to Red, I have discovered interesting things:

**Rebol2**
```
probe bound? to-lit-word! word!
== none
```

You must do 
```
to-lit-word! to-word word!
```

While in **Red** 
```
to-lit-word word word!
```

Is sufficient to have a word with a context


[22:17:54](#WgoDtip310wV0VpTSazOS2eJkWshSkRmcSDzCMW6pMs) <GiuseppeChillemi (GiuseppeChillemi)>:
* Being in the middle of the transition from Rebol to Red, I have discovered interesting things:

**Rebol2**
```
probe bound? to-lit-word word!
== none
```

You must do 
```
to-lit-word! to-word word!
```

While in **Red** 
```
to-lit-word word word!
```

Is sufficient to have a word with a context


[22:18:23](#fO4_LTCgU_wTBXHN9GgrngeyESQ15JkUJoBonUJWq_Y) <GiuseppeChillemi (GiuseppeChillemi)>:
* Being in the middle of the transition from Rebol to Red, I have discovered interesting things:

**Rebol2**
```
probe bound? to-lit-word word!
== none
```

You must do 
```
to-lit-word! to-word word!
```

While in **Red** 
```
to-lit-word word word!
```

Is sufficient to have a word with a context


[22:18:31](#0dx1bG3PGDeQhEGFyiIT0ZAvyT54HHT_SLZU_vMiJAA) <GiuseppeChillemi (GiuseppeChillemi)>:
* Pardon, I have added a `!` while typing, look at it now

[22:18:43](#2SaJ3XJK4FSAVyHTPiO_uHxgh5o5BOAmwlyCmVWU9_E) <GiuseppeChillemi (GiuseppeChillemi)>:
* Being in the middle of the transition from Rebol to Red, I have discovered interesting things:

**Rebol2**
```
probe bound? to-lit-word word!
== none
```

You must do 
```
to-lit-word to-word word!
```

While in **Red** 
```
to-lit-word word word!
```

Is sufficient to have a word with a context


[22:21:29](#dMrDzHev0cCASJ4OILwkYveiOhhnINMeFmBWPngr26g) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Don't understand what you mean.

[22:21:51](#46i6Z4NbJUovebLQqsdturaMaU3IOsuOP_SCiQscAtE) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* Don't understand what you mean. In Red you do:
```
>> context? quote word!
== make object! [
```

[22:21:54](#aZtqf2DmT43hK8tk3FTvhQ2SPLun_8whO7QhxB7gmyk) <GiuseppeChillemi (GiuseppeChillemi)>:
* Being in the middle of the transition from Rebol to Red, I have discovered interesting things:

**Rebol2**
```
probe bound? to-lit-word word!
== none
```

You must do 
```
to-lit-word to-word word!
```

While in **Red** 
```
to-lit-word word!
```

Is sufficient to have a word with a context


[22:22:47](#NrrWxu_5iluq3-zoy76Zv1CxLltJQD-RbUPe01_QZ1w) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* Being in the middle of the transition from Rebol to Red, I have discovered interesting things:

**Rebol2**
```
probe bound? to-lit-word word!
== none
```

You must do 
```
to-lit-word to-word word!
```

While in **Red** 
```
to-lit-word word!
```

Is sufficient to have a word with a context


[22:23:02](#TfJwO28qxfsOycRfPwGWagw5ITGhEnPxrl-kvNPO9fc) <GiuseppeChillemi (GiuseppeChillemi)>:
* Being in the middle of the transition from Rebol to Red, I have discovered interesting things:

In **Rebol2**
```
probe bound? to-lit-word word!
== none
```
you get no context from this conversion

You must do 
```
to-lit-word to-word word!
```
To have a context 
While in **Red** 
```
to-lit-word word!
```

Is sufficient to have a word with a context


[22:23:14](#kxT9bcBvLZ_ANYXDMDSXkJqL1qmyvrivj4Xahx2Myp4) <GiuseppeChillemi (GiuseppeChillemi)>:
* Being in the middle of the transition from Rebol to Red, I have discovered interesting things:

In **Rebol2**
```
probe bound? to-lit-word word!
== none
```
you get no context from this conversion

You must do 
```
to-lit-word to-word word!
```
To have a context 
While in **Red** 
```
to-lit-word word!
```

Is sufficient to have a word with a context as result


[22:23:47](#2w7KOobMMqJki3ThYRWzTurF8nQL2yrLkElo-ZJ_A2Q) <GiuseppeChillemi (GiuseppeChillemi)>:
Try `bound? to-lit-word word` in Rebol2

[22:23:55](#gZohQhwtpSXeJulacs21TP58_0q7dUZf4f6H-XDY73o) <GiuseppeChillemi (GiuseppeChillemi)>:
* Try `bound? to-lit-word word!` in Rebol2

[22:24:14](#_E952r4KJ5ORv2ngCoKXzR5Ua36ETboU9w8x22rJhzE) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
And so? It is Rebol2 bug.

[22:24:32](#Ioc5i4UUmVStB87zpzT3dG5TAizCYoKJwan-OXZH03s) <GiuseppeChillemi (GiuseppeChillemi)>:
I have thought it was a difference

[22:25:00](#-yH9FXk1XLsQVG4UoLaT9AR3BXBMfqiZD1Wv8NLOYoQ) <GiuseppeChillemi (GiuseppeChillemi)>:
However, you should consider this when converting code

[22:26:48](#q4Hp6-PKY1smHwyDEnJdr1S-ccyvWEKzp8kKRUuJM1c) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* And so? It is Rebol2 bug.
```rebol
>> type? to-lit-word word!
== word! ;<= should be `lit-word!` like in Rebol3 and Red
```

[22:27:04](#eI24LvcSJB_Obk5hOhv4ciHMhC7LH-1D4_TJfNKxa2w) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* And so? It is Rebol2 bug.
```rebol
>> type? to-lit-word word!
== word! ;<= should be lit-word! like in Rebol3 and Red
```

[22:27:22](#kBJzylLZG-2MRG1yDjcjebHwyN2KTkBNbGIYFD848ow) <GiuseppeChillemi (GiuseppeChillemi)>:
> And so? It is Rebol2 bug.
> ```rebol
> >> type? to-lit-word word!
> == word! ;<= should be lit-word! like in Rebol3 and Red
> ```

Funny

## 22-Jul-2022

[18:25:31](#26DzcgN2QMWkORle5Yx47Y62xAzPM0e6h0NbKGBtjIc) <greggirwin (Gregg Irwin)>:
@GiuseppeChillemi on func specs, an easy way to see what Red thinks is to use `help` on the function.

[20:37:20](#CGvFesedZS10KJTkPHUJdCFuz0mwr9ZWuswATT7WJ5s) <GiuseppeChillemi (GiuseppeChillemi)>:
If I try to print probe all the words of the system context I get an `invalid utf -8 error`

Try:

```
red-words: words-of system/words

foreach [word] red-words [
   probe word
] 
```


[20:37:30](#7QQp1MVXLaZ-3SA525DzgowxCmhCbDBqPZf9Cb1-xbk) <GiuseppeChillemi (GiuseppeChillemi)>:
* If I try to print probe all the words of the system context I get an `invalid utf-8 error`

Try:

```
red-words: words-of system/words

foreach [word] red-words [
   probe word
] 
```


[20:39:06](#_LpFDI0-ba7FyoOyXIOhTgfsrBsZE20h4U8nsK5SjDs) <GiuseppeChillemi (GiuseppeChillemi)>:
* If I try to print probe all the words of the system context I get an `invalid utf-8 error`

Try:

```
red-words: words-of system/words

foreach [wordx] red-words [
   probe wordx
] 
```


[20:39:32](#_GPYHtl-xlfztX1L_ZKWuEa2l3dBy5P-wNMLpI7A1-0) <GiuseppeChillemi (GiuseppeChillemi)>:
* If I try to probe all the words of the system context I get an `invalid utf-8 error`

Try:

```
red-words: words-of system/words

foreach [wordx] red-words [
   probe wordx
] 
```


[20:40:30](#R2--bcgKna9HKREag_xgkfkWVbcMJq1RXTvTqb3MPCo) <GiuseppeChillemi (GiuseppeChillemi)>:
* If I try to probe all the words of the system context I get an `invalid utf-8 enoding: #{A0D0A7FE}` 

Try:

```
red-words: words-of system/words

foreach [wordx] red-words [
   probe wordx
] 
```


[20:40:45](#6ke0h21D9vKM1vc6EpO7jMgx4CvEfjWDclkckvvhWrw) <GiuseppeChillemi (GiuseppeChillemi)>:
* If I try to probe all the words of the system context I get an `invalid utf-8 encoding: #{A0D0A7FE}` 

Try:

```
red-words: words-of system/words

foreach [wordx] red-words [
   probe wordx
] 
```


[21:24:42](#Hw1FeHLbyyf-38bdce-M2-j3fTOZyjTQLRLZimgxTNo) <greggirwin (Gregg Irwin)>:
Works fine here for me.
```
RED: [ branch: "master" tag: #v0.6.0 ahead: 8140 date: 16-Jun-2022/2:23:20 commit: #15b93aff8e561de22905572ada060699eb3a4146 ]
PLATFORM: [ name: "Windows 10" OS: 'Windows arch: 'x86-64 version: 10.0.0 build: 19044 ]
```

[21:25:43](#4F9nu_9i9F89ADjwb4z6C013FFqVVlw45pDQFvKXrIA) <GiuseppeChillemi (GiuseppeChillemi)>:
Maybe my italian language windows influences it? I suppose some accented italian strings 

[21:26:08](#D30hUVR7kT9AhP0HQg3yAYDZ0gqK2IsWBYltEc6hqlY) <GiuseppeChillemi (GiuseppeChillemi)>:
Could be date related like `lunedÃ¬`

[21:26:16](#kNNqTe0-FESaCHQFyeqt8GSzivWVh_N-yznZJQxdOmE) <GiuseppeChillemi (GiuseppeChillemi)>:
* Could be date related like `lunedÃ¬` (Monday)

## 30-Jul-2022

[10:06:24](#8r10HfUKr36vVQvZRKQC4-vI8qu_rlLS17VKC1vSxjU) <PeterWAWood>:
I installed the new GUI and CLI console builds on a Raspberry PI running the latest 32-bit OS (Buster) which is fully updated. The cli console runs fine but I get a 

[10:15:10](#a3mKZhEta5W5LVFMCfs6S5KayAWVXbxs0YQfphF1CXI) <PeterWAWood>:
* I installed the new GUI and CLI console builds on a Raspberry PI running the latest 32-bit OS (Buster) which is fully updated. The cli console runs fine but there is an issue with missing libcrypto.so.1.0.2

```
pi@Pi4B:~ $ cat /etc/os-release
PRETTY_NAME="Raspbian GNU/Linux 11 (bullseye)"
NAME="Raspbian GNU/Linux"
VERSION_ID="11"
VERSION="11 (bullseye)"
VERSION_CODENAME=bullseye
ID=raspbian
ID_LIKE=debian
HOME_URL="http://www.raspbian.org/"
SUPPORT_URL="http://www.raspbian.org/RaspbianForums"
BUG_REPORT_URL="http://www.raspbian.org/RaspbianBugs"
pi@Pi4B:~ $  getconf LONG_BIT
32
pi@Pi4B:~ $ Red/red
--== Red 0.6.4 ==-- 
Type HELP for starting information. 

>> quit
pi@Pi4B:~ $ Red/red-view
Red/red-view: error while loading shared libraries: libcrypto.so.1.0.2: cannot open shared object file: No such file or directory
```

```
libcrypto.so.1.1 (libc6,hard-float) => /lib/arm-linux-gnueabihf/libcrypto.so.1.1
```

[10:15:48](#ICwyAlmdEsiX2_CAHkHWhvQssHdRJTugPK86BxyOJAA) <PeterWAWood>:
* I installed the new GUI and CLI console builds on a Raspberry PI running the latest 32-bit OS (Buster) which is fully updated. The cli console runs fine but there is an issue with missing libcrypto.so.1.0.2

```
pi@Pi4B:~ $ cat /etc/os-release
PRETTY_NAME="Raspbian GNU/Linux 11 (bullseye)"
NAME="Raspbian GNU/Linux"
VERSION_ID="11"
VERSION="11 (bullseye)"
VERSION_CODENAME=bullseye
ID=raspbian
ID_LIKE=debian
HOME_URL="http://www.raspbian.org/"
SUPPORT_URL="http://www.raspbian.org/RaspbianForums"
BUG_REPORT_URL="http://www.raspbian.org/RaspbianBugs"
pi@Pi4B:~ $  getconf LONG_BIT
32
pi@Pi4B:~ $ Red/red
--== Red 0.6.4 ==-- 
Type HELP for starting information. 

>> quit
pi@Pi4B:~ $ Red/red-view
Red/red-view: error while loading shared libraries: libcrypto.so.1.0.2: cannot open shared object file: No such file or directory
```

libcrypto1.1 is installed.

```
libcrypto.so.1.1 (libc6,hard-float) => /lib/arm-linux-gnueabihf/libcrypto.so.1.1
```

[11:05:58](#C2Z2Fn7FQLumh94hWZtNex_l-XOMMcLZGM4HU9izE1Q) <hiiamboris (NOT THIS ONE)>:
was also reported here https://gitter.im/red/red?at=61e693276d9ba23328c9c1b5

[11:06:19](#0kVGLGqPikNjoXJOrcpfAsei0hEfKY52SnF4lTg2Vvc) <hiiamboris (NOT THIS ONE)>:
symlink is the only solution for now I guess

[11:30:25](#v-v_HqsUqpZrbaN-iC6wSDZzLMWSCYJ5sZuels-WUEc) <PeterWAWood>:
The linked comment reports libcrypto.so.1.1 could not be found. I got a message that  libcrypto.so.1.0.2 could not be found when I have 1.1 installed.

[11:39:00](#bLo-wKmtRfBUfylwZGNvYcIXO7lJIVx0E4bPeae73G0) <hiiamboris (NOT THIS ONE)>:
tried symlinking?

[13:07:04](#ubhNKN21JMWy1c2svTJswnERfooIUWzGmUTUcrskI7g) <dockimbel>:
Thanks Peter for reporting it. I remember a similar issue on my RPi, I'll have a look to see how I solved it.

## 31-Jul-2022

[1:32:32](#USWIdWpS_4dQpJlIX7qg9h2QQA_hI76bxnJ-ibTIfEw) <PeterWAWood>:
@hiiamboris @dockimbel Symbolic linking libcrypto.so.1.0.2 to libcrypto.so.1.1 gets Rebol/View console working on an up-to-date 32-bit PiOS Buster system. For the benefit of others trying, this is the command that I used to "symlink" to the installed library.
```bash
sudo ln -s /lib/arm-linux-gnueabihf/libcrypto.so.1.1 /lib/libcrypto.so.1.0.2
``` 

[3:06:22](#kYklIMaGOv9H9Vs5Y4jR5dlXUzcRUeRP7YTY_0h930c) <qtxie>:
This lib name along with others we used in Red are varies in different Linux distros. Even in the same distro, it changed in newer versions. 

[8:14:06](#MOFzIPsjgmtXRG2TbBNUsyZRFvMCIlljGITHInt48Ss) <hiiamboris (NOT THIS ONE)>:
https://stackoverflow.com/questions/3839756/how-do-applications-resolve-to-different-versions-of-shared-libraries-at-run-tim

[22:59:40](#WSeBEZjjcS8dlCoXeRiyCbsCrxt4B7dDDjDErmwhwBA) <qtxie>:
Not everyone follows this rules in real world. That's why language like `go` use static link by default.

## 1-Aug-2022

[1:01:36](#BgoL09_-hziMPRDXbF0SPsj8mnaHmEu9ahNyZB9S8Dk) <PeterWAWood>:
At some time in the future, It might be worth thinking about publishing a statically-linked "beginners'" edition for the Raspberry Pi. It would make it easier for youngsters and the technically inept (people like me) to try out Red.  

[6:54:08](#iuOZiXR4K27O38s2Nm_clE3HED7cdUNDjt3S8OYacuo) <hiiamboris (NOT THIS ONE)>:
@qtxie you mean `libcrypto.so.1` is absent on some distributions?

[6:54:25](#4OE4Gtu_Kl4ZcyEgHjjXaCkYooYfCgOI8VE3eS41bzQ) <hiiamboris (NOT THIS ONE)>:
* @qtxie you mean `libcrypt.so.1` is absent on some distributions?

[6:54:56](#1n7gAhaNtTAJUb7fLCSoaMvDUAfbsJ3KsV6M2zpNCfQ) <hiiamboris (NOT THIS ONE)>:
that would be weird

[6:55:22](#4GBRzd_E-Y4H1BigR14_sAFNXUalgYWG6GXvx_o7JX4) <hiiamboris (NOT THIS ONE)>:
* @qtxie you mean `libcrypt.so.1` is absent on some distributions, but `libcrypt.so.1.1` present?

[8:39:08](#P-goG1wC50eWnAOCoG_ZbJNJbqoFUKSa4Rbi3T2H75Q) <qtxie>:
@hiiamboris I mean `libcrypto` doesn't follow this rule. `libcrypt` and `libcrypto` are two different libraries.

[8:42:23](#gxkMGWegzdh5CRX71a31Dc2ObBHgXGvvc97xfxAiFjA) <hiiamboris (NOT THIS ONE)>:
oh

[8:42:38](#OUz4XNCvdRfDdwYMBoMywN2t9u3mx9EJJP2GvZArbDQ) <hiiamboris (NOT THIS ONE)>:
right í ½í¸ƒ

[8:42:42](#AcqLcVsigieJDEEbk4ru_rffg1tylIg9__ZAyiOhesk) <hiiamboris (NOT THIS ONE)>:
even on WSL

[8:44:23](#wJkri_yAXi42_uTwoo-1KwkV3Z3w75fj8wkiIoji0Js) <hiiamboris (NOT THIS ONE)>:
well if such basic rules do not hold, no wonder everything on linux is either monolithic or not working

[16:31:45](#u_h5PpHrjB02xy3amCOBa1Qwalqxq9vyfWJLuR726GY) <greggirwin (Gregg Irwin)>:
I consider being self-supporting one of Red's great superpowers. But the tradeoff is implementing things ourselves, to avoid this kind of issue. It all has to be balanced.

[17:32:15](#nOJqitN4ySfGYtdjWnG7haepKyFEdCn6JVo1QL9cir0) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
There is another inconsistency... 
```
>> type? #[none]
== none!
>> type? #[none!]
== datatype!
```
but than:
```
>> type? #[unset]
== datatype! ;<--- I was expecting `unset!`
>> type? #[unset!]
== datatype!
```


[17:48:16](#Ijf2tczUKXCwyU3ZKUMBmfKPtcZbqY7AdibTHojEDmU) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Also it looks that it is not possible to _find_ a datatype:
```
>> find reduce [string! binary!] #[binary!]  
== none
>> find [#[string!] #[binary!]] #[binary!]  
== none
```

[17:49:46](#I7D8Fy6ByW5kTW1TVRG95bGmy1y0STkE5Aj3EAHu5M0) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
In `switch` it is ok:
```
>> switch #[binary!] [#[binary!] ["this works"]]
== "this works"
```

[18:12:51](#BBtZqfrjigUYk4r85Y0guR5e1956rtIQYwAz7JXh0o8) <hiiamboris (NOT THIS ONE)>:
`find/only`

[18:13:15](#OjBLbrY3o77_HiufdVGM8UV4gMVNnbLWJfYM_Mm-t2w) <hiiamboris (NOT THIS ONE)>:
else you're looking for values of that type

[18:14:26](#sx-wfey3FrfKvHVdVnhujEtjmKXVgiPLXge18zlVFRU) <hiiamboris (NOT THIS ONE)>:
```
>> ? find
USAGE:
     FIND series value
...
     /only        => Treat series and typeset value arguments as single values.
```

[18:14:55](#tQJwtfv8f2tiTAzmUCu2IuuatmioIIAAM1p4M-wlyIQ) <hiiamboris (NOT THIS ONE)>:
OK it could have `and datatype` in it

[18:15:07](#Q3MnlA7HpNacQhLDkjSVsQuTR3Yn1wx2DXEnTeRjc0Q) <hiiamboris (NOT THIS ONE)>:
But length is limited

[18:15:44](#-bZfQ2tggALqyczCOqVnxsxzNdXhB53kNLvuN4ViGmg) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Makes sense.

[22:14:39](#BGkVjQKoqM1nsQEi8RQPKjSTYKKWV8jqA5vvbX1GpgA) <greggirwin (Gregg Irwin)>:
There's also a ticket on finding typesets. Specs are first on the new roadmap. A big reason is to make behavior choices explicit.

[22:59:54](#RliDpo045y1YMGZGdHWYy8u0kGYhGMI7uHkieF_KbL0) <dockimbel>:
```
>> type? #[unset]
== datatype! ;<--- I was expecting `unset!`
```
Please open a ticket for this one, that's an easy fix.

## 2-Aug-2022

[3:19:37](#xB7qeTSqF3E7PvsRcLtrNpL6LU23DM7nCBHJkx7u5gQ) <PeterWAWood>:
A to tag! test in %convert-test.red is failing on RasPI Buster.
```Red
--test-- "to-tag!-integer!"
		--assert <-1> = to tag! -1
```
The failure:
```
> <-1> = to tag! -1
*** Script Error: <-1> has no value
*** Where: =
*** Near : <-1> = to tag! -1
*** Stack:

[3:20:12](#3XqRuKXD_NrHMjmn2hwnzozNuPOOAcWCYb7Qh53r8e4) <PeterWAWood>:
* A to tag! test in %convert-test.red is failing on RasPI Buster.
```Red
--test-- "to-tag!-integer!"
		--assert <-1> = to tag! -1
```
The failure:

```
> <-1> = to tag! -1
*** Script Error: <-1> has no value
*** Where: =
*** Near : <-1> = to tag! -1
*** Stack:
```

[3:40:29](#43BBSEp4-p_BjlTEWLwbf-j7iuaOMt5a4DGxIzdBiV0) <PeterWAWood>:
Test "#4781" in lexer-test.red is failing on RasPi4 32-bit Buster. It seems to be related to  floating point precision.
The test:
```Red
--test-- "#4781"
		--assert 3:3:3.3000000001 = transcode/one "3:3:3,3"
```
The issue:
```
>> 3:3:3.3000000001 = transcode/one "3:3:3,3"
== false
>> transcode/one "3:3:3,3"
== 3:03:03.3
```

Perhaps the test could be changed to :
```
--assert 3 = first transcode/one "3:3:3,3" --assert 3 = second transcode/one "3:3:3,3"
== 808
>> --assertf~= 3.3 third transcode/one "3:3:3,3" 1e-10
== 809


[3:41:51](#3qV8rxil3MSLd254yOJXA8-mu74YSjzI6D3RyMXxrFk) <PeterWAWood>:
* Test "#4781" in lexer-test.red is failing on RasPi4 32-bit Buster. It seems to be related to  floating point precision.
The test:
```Red
--test-- "#4781"
		--assert 3:3:3.3000000001 = transcode/one "3:3:3,3"
```
The issue:
```
>> 3:3:3.3000000001 = transcode/one "3:3:3,3"
== false
>> transcode/one "3:3:3,3"
== 3:03:03.3
```

Perhaps the test could be changed to :
```
--assert 3 = first transcode/one "3:3:3,3" 
--assert 3 = second transcode/one "3:3:3,3"
 --assertf~= 3.3 third transcode/one "3:3:3,3" 1e-12
```

Note ~--assertf~= 3.3 third transcode/one "3:3:3,3" 1e-13` failed on the Raspberry Pi.


[3:42:24](#ZjVYlWSv0zt1wcgA-5yk2h5TOuL0tgGVh9BexPk5kyU) <PeterWAWood>:
* Test "#4781" in lexer-test.red is failing on RasPi4 32-bit Buster. It seems to be related to  floating point precision.
The test:
```Red
--test-- "#4781"
		--assert 3:3:3.3000000001 = transcode/one "3:3:3,3"
```
The issue:
```
>> 3:3:3.3000000001 = transcode/one "3:3:3,3"
== false
>> transcode/one "3:3:3,3"
== 3:03:03.3
```

Perhaps the test could be changed to :
```
--assert 3 = first transcode/one "3:3:3,3" 
--assert 3 = second transcode/one "3:3:3,3"
--assertf~= 3.3 third transcode/one "3:3:3,3" 1e-12
```

Note ~--assertf~= 3.3 third transcode/one "3:3:3,3" 1e-13` failed on the Raspberry Pi.


[4:01:36](#nhEev3Z9WvK9B5SVCuJq-DpHaxeLNzBUTrTTDL2HslY) <PeterWAWood>:
Test "mp-12" in serialization-test.red is failing on RasPI4 32-bit Buster. I suspect that it is because `mold pi`  is only displaying 15 significant digits "3.14159265358979" whereas the test is expecting 16 significant digits "3.141592653589793"

[12:56:18](#O7u9heXPFlmgbmXvTHDH2kx-kImnnPgPMXgwWXdRplA) <PeterWAWood>:
Does Red treat filenames as Case Sensitive on Linux? I found the following
```
>> ls 
	README.gtk3       
>> read %readme.gtk3
*** Access Error: cannot open: %readme.gtk3
*** Where: read
*** Near : %readme.gtk3
*** Stack:  

>> read %README.gtk3
== {sudo apt install at-spi2-core #for Error retrieving accessibility bus address: org.freedesktop.DBu...
>> equal? %readme.gtk3 %README.gtk3
== true
```

[13:00:56](#Mz6OVOa78ROMZSPPyls755X5KsE4kYkjqyt8DaVpo00) <hiiamboris (NOT THIS ONE)>:
what do you expect? linux file system treats them as case sensitive

[13:48:24](#cyjVz86AjmEaGz1cqLjeOvaxYLAvBYEg1XosWLhvQ7U) <dockimbel>:
Fixed.

## 4-Aug-2022

[10:09:50](#vpBVOx_KT5md5Oj374vdSZxrL9aGRj-GwfEVIFNHNNo) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Is it ok?
```red
>> transcode/one ""
== [] ;<--- why not #[unset] instead?
```

[16:38:23](#sOi01hxUZTpEKZyCMzhsEV7cCybdzHlsBo6zqFfpcUs) <dsunanda (dsunanda)>:
Is this a bug?....Trying to replicate the last two values in series to its head:
```
blk: copy [1 2 3 4 5 6]
insert blk skip blk -2 + length? blk
probe head blk
== [3 4 1 2 3 4 5 6]
```
For reference (and what I was expecting, as this is ported code): Rebol 2 and 3 give:
```
== [5 6 1 2 3 4 5 6]
```
While Red seems to need an extraneous COPY to get the same behavior:

```
blk: copy [1 2 3 4 5 6]
insert blk COPY skip blk -2 + length? blk
probe head blk
== [5 6 1 2 3 4 5 6]
```

[16:43:45](#66wA_ooOj4Y7owTAL6cKIs6zecphiS9PJc-psINcOa8) <hiiamboris (NOT THIS ONE)>:
I'd certainly call this a bug. It first inserts cells then fills them, understandable, but this is not an intuitive result.

[17:03:09](#M05xfl7QWJBok6HDe3IncKUm2DH2NSrAT_xGc0z2wQA) <dsunanda (dsunanda)>:
Thanks .... Is now issue #5171

[17:04:11](#i6HBpmqfeYQoZ4UlKMlnk851F038TaQWuof1JNMIFQw) <dsunanda (dsunanda)>:
* Thanks .... Is now issue #5171 ..... The behavior was making a linked list in some ported code go weird :)

[19:23:04](#Gi_v8TR7PvN3RIz8wVbVDf7oYqc8HaXID6hv97GDN4Y) <greggirwin (Gregg Irwin)>:
@Oldes it's correct the way it is. There is no unset value in there. No values at all.

[19:38:03](#S95goO6OVKEvXsQDyfQyo8X6_IB_MJoT3rLJJfBdY8Y) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
So it is good to have same result for `""` and `"[]"`?

[19:39:26](#a-phS9wjQVuC1AlHAqndT3VpVRsiaFdoLaeLQWfugyI) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
There should be `null` in this case.. but that does not exists in redbol

[19:45:58](#D6Atk-U7W899PLq5fZJ2bBGXpCcvAPBo4XkIRFvh5mE) <hiiamboris (NOT THIS ONE)>:
unset seems more reasonable

[19:48:13](#4v0KKrIcFYs1yd1BSxF36OE6nPmZh20prVIUfIi1dYU) <hiiamboris (NOT THIS ONE)>:
or an error

[19:48:32](#_-nRX7LhXkHXvTckRDiZXLFmqAqQGVpqKIJsoCMBH9U) <hiiamboris (NOT THIS ONE)>:
* or an error (requested `one` value, but none found)

[20:02:03](#4JdQRmPmrplhV6z1ij7gKPngOQXJIR6aIJpwGAs_9pA) <greggirwin (Gregg Irwin)>:
1) Why should it be unset? There is no input to say "There's an empty/unset placeholder value here." Unset is something to avoid, not propagate.
2) What is the use case where we care? e.g. we have `/next` and `/scan` as well. 

[20:05:27](#xidkYDYxciDgz33we7GyibXFrnvgwvJfhEtRkUJKeK8) <hiiamboris (NOT THIS ONE)>:
`/next` has the same behavior

[20:07:02](#elbN8UOFR8ypf9Anyy-lLdPdKhbKGDzSHR0TasQ-Q-c) <hiiamboris (NOT THIS ONE)>:
1) why should it be a block?

[20:08:09](#XD0nkpuyUn9mlby10X8Bg00WUa-tVoudX-S7BHcnmLY) <hiiamboris (NOT THIS ONE)>:
2) probably when we forget to check for `empty? input`

[20:08:12](#MlD9vva87gULFMO0Zy5FHMpLKPJQJduAKA8Adg9SsZU) <greggirwin (Gregg Irwin)>:
I understand `/next ` does the same thing.

No fair asking the same question back in reverse. I asked first :^)

[20:08:27](#3o9ZK6tmubwAPSqUfcthw_yv5X08PUPKK18t4OdvpAo) <hiiamboris (NOT THIS ONE)>:
í ½í¸‰

[20:08:47](#3l2DkycgkTGcXd4hCxjmEzYchGArVFO57vPCpLnxGYg) <hiiamboris (NOT THIS ONE)>:
a question can partly be an answer in itself

[20:09:10](#4704kS-r-rkemf1R6tsjv1VgBoPLko1rDPq5CyM29m0) <gurzgri>:
@PeterWAWood `equal? %a %A ;== true` yes, but also `strict-equal? %a %A ;== false` in OS independent ways. I don't think  `equal?` returning true even on Linux is a contradiction to the fact that Linux allows them to be different files. And no contradiction in Windows not treating `%a` and `%A` as the same file either. As in both cases file names are compared, not files.

[20:09:11](#8BLuBSrmLoQxtNwq9zuNF3K7AAsTQ45P92HxOTd5pUY) <hiiamboris (NOT THIS ONE)>:
in this case, it points that the question formulation is invalid

[20:09:54](#_QKpf6l2unConlIkQRnXjlwl6v6H2U9dKUU66M3vcos) <hiiamboris (NOT THIS ONE)>:
TBH, unset gnaws at me too, so proposed error

[20:10:26](#ESrsjr41gPZbe_uUEqnWux66K8LJH0Krb6TGeBvE4NU) <greggirwin (Gregg Irwin)>:
Why is the question invalid? 

[20:10:58](#7C86KE7A6TXdYUPRsYlrQX0IlqQt8HDcsaCXZJ1zEqc) <hiiamboris (NOT THIS ONE)>:
because 
> There is no input to say "There's an empty/unset placeholder value here." 

doesn't justify the block either

[20:11:27](#tD8WzyZFRg0Jrm6bgt1Ywg73vp0mSqkLrdu7F9NXQfM) <hiiamboris (NOT THIS ONE)>:
and if anything, unset at least triggers an error slightly faster

[20:12:06](#O3bhnTWxGOM0SihkGK0YS6T0KoIyGveCkIbfi1aPQKs) <greggirwin (Gregg Irwin)>:
`load ""` sets a precedent, does it not?

[20:12:29](#RzTQtUyhHevvXwouTzWnY3VPD5yr_EPqCHJA2lfWO3M) <greggirwin (Gregg Irwin)>:
As does `transcode` itself, without the refinement. 

[20:12:39](#W-KXS2ogsjQGa59qhwhrUYF1wz4ERN9KXtbrnLZs5cI) <hiiamboris (NOT THIS ONE)>:
mind `transcode` vs `transcode/one` (which @Oldes used)

[20:13:04](#tt8lXEFg5HC4lWIKQDzobN3yNltXNc9Bxc7WnoQCp5Y) <hiiamboris (NOT THIS ONE)>:
`load ""` and `transcode ""` are not questioned

[20:14:01](#3nkNuF6TnpQ78UsbDCH02Xk118kz72dbNsAfMeyL1v4) <greggirwin (Gregg Irwin)>:
Again, I am clear on @Oldes question. My point being that what `/one` means is the crux, as it's not clearly defined yet.

[20:15:06](#8GG8EetPIzh5mHs4wouHIOye334H6UodlP-2YmnNPpA) <hiiamboris (NOT THIS ONE)>:
ok, well, for me `one` means exactly one value

[20:15:44](#n-LGcIuqEDLVG4JWnIPil5zaeqtYGnCZVmMn1niV14Q) <hiiamboris (NOT THIS ONE)>:
and while `transcode ""` always returns a block of zero or more values, `one` is unsuitable for zero case

[20:15:58](#930_ZvNAx4jY2TPedJWiVvUkfQydf3zun2NM5kfJyWs) <greggirwin (Gregg Irwin)>:
I watched a great talk recently by John Ousterhout, and plan to get his new book. One of his principles, which Red already does quite often, is to avoid raising errors when they aren't important. His example is out of bound indexes on slices. Just return what data you can. 

[20:16:36](#WSVMEctxUql60pkSa6bdGwbiN19Fgs4fi47oULosAwI) <hiiamboris (NOT THIS ONE)>:
* and while `transcode ""` always returns a block of zero or more values, `one` is unsuitable for zero case
think of `transcode input` as a series of `transcode/one` input: then `/one` on empty should be undefined, otherwise it breaks the model

[20:17:25](#dUh2CxkUsHubXXZOx3ssD44vNtMkNpcVpPpOQViAZk4) <hiiamboris (NOT THIS ONE)>:
what's his rationale for that?

[20:37:29](#07j1h425GXlTpQ8qcBSiaMT6QHtEvlI06KHIcvnPX8o) <greggirwin (Gregg Irwin)>:
https://www.youtube.com/watch?v=bmSAYlu0NcY

[20:41:21](#VDQGv7Yv5R75eFal8DdLTTd68b8YR8oNs5eSYOj6TdM) <greggirwin (Gregg Irwin)>:
> think of transcode input as a series of transcode/one input: then /one on empty should be undefined, otherwise it breaks the model

Good point. But `/next` solves this, as does `/scan`, right? Following your logic, `/next` would throw an error at the end, meaning all `transcode/next` loops still have to check for empty input or handle the possible error if you go to the end. This is why I asked for use cases. How do we expect `/one` to be used?

[20:41:54](#p0x1wMg9uSHanj7gHvGx-Olg8lV9_7lPDYcNkOvVD74) <greggirwin (Gregg Irwin)>:
Rather, how did @dockimbel *design* it to be used.

[21:12:33](#aBxMOLeL0i9ejJdOnnccIm7ddnH_nYy6FmFTEeiMBUE) <hiiamboris (NOT THIS ONE)>:
If you don't check for empty, you end up with an invalid result, or infinite loop (as it will return `[]` indefinitely)

[21:17:32](#Mj82FibbfmP4CaiqvIC4zHYAuyP6kEo9Cw5B8XLLT4A) <greggirwin (Gregg Irwin)>:
So you want the error to protect from that?

[21:21:18](#x2m3Rup8DXp0sSHio_sTxRlQk1Qs-epKtnmcj0x2yM8) <greggirwin (Gregg Irwin)>:
And how does that relate to other possible infinite loops? Certainly, I agree that preventing problems is a good thing. Just a matter of how best to achieve that.

## 5-Aug-2022

[8:08:36](#jBu8ef8pAV3xIf1QPsPEx6lQiC4ap7Ko8SWgDuNHKSU) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
If `#[unset]` is not good enough and there is no `null` type, than the only acceptable result (for me) would be:
```
>> transcode/one ""
** Script error: out of range or past end
```

[8:44:21](#Jlwn8Hlc7_3e1hV662ZUTdfJrBPL3zBewXfDC8Qw3AQ) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
The same for `transcode/next` imho.

[8:45:07](#KAcVeVCcaR29tV_L-bvyP7VwvMBWSCq7zyy9SbkOtMg) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* The same for `transcode/next ""` imho.

[15:04:00](#YyRqEGZnH66jLhPKb16_IYisqLlPwJvQzzazqZq8zjE) <meijeru (Rudolf Meijer)>:
I have a difficulty with `remove-each`: the following gives an error
```
>> a: [1 2 3 4 5]
== [1 2 3 4 5]
>> remove-each w a odd? w
*** Script Error: w has no value
*** Where: odd?
*** Near : w
*** Stack:  
```

[15:04:12](#fz-gkcAEYXmFeO8NsxuwvdgJE1KYqubPQC7m-5_92mw) <meijeru (Rudolf Meijer)>:
What do I do wrong?

[15:05:08](#rdSFDJsEt1CsYO-LF_FD4atmtkabju2ScXZtRfMZ_II) <meijeru (Rudolf Meijer)>:
From the docstring I conclude that w is set to a/1, a/2 etc.

[15:05:13](#76wkGNkHWbIB8Ci_l-JbZdfonlqaFLT8NElaDdTQCro) <pekr (Petr Krenzelok) (@pekr-556ae86715522ed4b3e131b2:gitter.im)>:
A subblick?

[15:05:29](#y6ca4uW0qdnmlSImTvf8a9JoEGJ0UoDm97CULH76dmU) <pekr (Petr Krenzelok) (@pekr-556ae86715522ed4b3e131b2:gitter.im)>:
Block, sorry, on a smartphone. 

[15:05:56](#5NF-bFByrG6Ogx_4Mz8QTAzkvTeGM5f8RRQT1TcKOcI) <meijeru (Rudolf Meijer)>:
Aha, w is set to a, next a, next next a etc.?

[15:07:15](#p1CyMYncZA_Yj4OWYEmdHA2KledCAf9l6FLUSolX5fM) <pekr (Petr Krenzelok) (@pekr-556ae86715522ed4b3e131b2:gitter.im)>:
I mean, should not `odd? w` be in a block?

[15:08:38](#kJS9LVs2VXN8zWXF2-he5AsxW2-caITiQnPXkBKHLQQ) <meijeru (Rudolf Meijer)>:
I apologize, of course it should!

[15:12:43](#1eaQfofnTpVza2q1HrBaP18iozq3J7xQfJHLIc0v_KQ) <pekr (Petr Krenzelok) (@pekr-556ae86715522ed4b3e131b2:gitter.im)>:
I was not sure anyway, long time since I last programmed, so did not remember the exact syntax. Shame on me, I get okder and start to forget things í ½í¹‚

[15:29:19](#ow15Nf9jnEG2uUl_fNDPXUONV4V5g7diySvRKfGgpQc) <ldci (FranÃ§ois Jouen)>:
remove-each w a [odd? w]

[16:01:35](#ERxi4ADq8CfY5uqkMIuTc34sHRpiwl-z2LnnHUd3Exw) <GiuseppeChillemi (GiuseppeChillemi)>:
Could someone explain what is happening here?

```
t: func [
	a
	/copy
	/local
	out-data
	o
] [
	out-data: copy []
	o: make object! compose/only [
		copy: (copy)
	]
]

t2: func [
	a
	/local
	out-data
] [
	out-data: copy []
	probe out-data
	
]

t [] 
t2 []
```

This is the output:

```
make object! [
    copy: false
]
none
[]
```

`none` should be `[]`

If I comment out `copy` in the object of the first function, I get the correct result. 


```
	o: make object! compose/only [
		;copy: (copy)
	]
```
 I have used defined a refinement `/copy`so both `copy` and `(copy)` should not interfere with the global words.


[16:02:12](#jCvpjiVxZbL0ptVyy-Vv2LTyax9-rvZ8oh2wm8TgAJY) <GiuseppeChillemi (GiuseppeChillemi)>:
* Could someone explain what is happening here?

```
t: func [
	a
	/copy
	/local
	out-data
	o
] [
	out-data: system/words/copy []
	o: make object! compose/only [
		;copy: (copy)
	]
]

t2: func [
	a
	/local
	out-data
] [
	probe out-data: copy []
]

probe t [] 
probe t2 []
```

This is the output:

```
make object! [
    copy: false
]
none
[]
```

`none` should be `[]`

If I comment out `copy` in the object of the first function, I get the correct result. 


```
	o: make object! compose/only [
		;copy: (copy)
	]
```
 I have used defined a refinement `/copy`so both `copy` and `(copy)` should not interfere with the global words.


[16:02:52](#tn_GysIUuPpfv3p609JpopMpkzuMUouQHgmbLq07GkI) <GiuseppeChillemi (GiuseppeChillemi)>:
* Could someone explain what is happening here?

```
t: func [
	a
	/copy
	/local
	out-data
	o
] [
	out-data: system/words/copy []
	o: make object! compose/only [
		;copy: (copy)
	]
]

t2: func [
	a
	/local
	out-data
] [
	probe out-data: copy []
]

probe t [] 
probe t2 []
```

This is the output:

```
make object! [
    copy: false
]
none
[]
```

`none` should be `[]`

If I comment out `copy` in the object of the first function, I get the correct result. 


```
	o: make object! compose/only [
		copy: (copy)
	]
```
 I have used defined a refinement `/copy`so both `copy` and `(copy)` should not interfere with the global words.


[16:03:11](#AuDNGlLx0rGFXNCmoFuqQVhjgmNiakqQOTX8ERLqUo0) <GiuseppeChillemi (GiuseppeChillemi)>:
* Could someone explain what is happening here?

```
t: func [
	a
	/copy
	/local
	out-data
	o
] [
	out-data: system/words/copy []
	o: make object! compose/only [
		copy: (copy)
	]
]

t2: func [
	a
	/local
	out-data
] [
	probe out-data: copy []
]

probe t [] 
probe t2 []
```

This is the output:

```
make object! [
    copy: false
]
none
[]
```

`none` should be `[]`

If I comment out `copy` in the object of the first function, I get the correct result. 


```
	o: make object! compose/only [
		copy: (copy)
	]
```
 I have used defined a refinement `/copy`so both `copy` and `(copy)` should not interfere with the global words.


[16:03:34](#EF89Qh8wVC7p0P4ZLGvrivAd9KwbXT3hZK9bGuKmzTQ) <GiuseppeChillemi (GiuseppeChillemi)>:
(Note, I have fixed the script)

[16:05:07](#jSZUlGwktaK0rwD5-83TPhM556QlLZrL646y4NKVeDU) <GiuseppeChillemi (GiuseppeChillemi)>:
* Could someone explain what is happening here?

```
t: func [
	a
	/copy
	/local
	out-data
	o
] [
	out-data: system/words/copy []
	o: make object! compose/only [
		copy: (copy)
	]
]

t2: func [
	a
	/local
	out-data
] [
	probe out-data: copy []
]

probe t [] 
probe t2 []
```

This is the output:

```
make object! [
    copy: false
]
none
[]
```

`none` should be `[]` but  `copy` in the second function is `none`

If I comment out `copy` in the object of the first function, I get the correct result. 


```
	o: make object! compose/only [
		copy: (copy)
	]
```
 I have used defined a refinement `/copy`so both `copy` and `(copy)` should not interfere with the global words.


[16:10:24](#KbaPrMK6wZkY9FHM0i0_sySILSi7G1WMC9thhszwZB8) <GiuseppeChillemi (GiuseppeChillemi)>:
* Could someone explain what is happening here?

```
t: func [
	a
	/copy
	/local
	out-data
	o
] [
	out-data: system/words/copy []
	o: make object! compose/only [
		copy: (copy)
	]
]

t2: func [
	a
	/local
	out-data
] [
	probe out-data: copy []
]

probe t [] 
probe t2 []
```

This is the output:

```
make object! [
    copy: false
]
none
[]
```

`none` should be `[]` but  `copy` in the second function is `none`. The third `[]` should not exists.

If I comment out `copy` in the object of the first function, I get the correct result. 


```
	o: make object! compose/only [
		copy: (copy)
	]
```
 I have used defined a refinement `/copy`so both `copy` and `(copy)` should not interfere with the global words.


[16:10:44](#6-EdqZtYCu4NQowV3hKdg0oIbhg5-hbQyoobxOKF8L0) <GiuseppeChillemi (GiuseppeChillemi)>:
* Could someone explain what is happening here?

```
t: func [
	a
	/copy
	/local
	out-data
	o
] [
	out-data: system/words/copy []
	o: make object! compose/only [
		copy: (copy)
	]
]

t2: func [
	a
	/local
	out-data
] [
	probe out-data: copy []
]

probe t [] 
probe t2 []
```

This is the output:

```
make object! [
    copy: false
]
none
[]
```

`none` should be `[]` but  `copy` in the second function is `none`. The third `[]` should not exists.

If I comment out `copy` in the object of the first function, I get the correct result. 


```
	o: make object! compose/only [
		;copy: (copy)
	]
```
 I have used defined a refinement `/copy`so both `copy` and `(copy)` should not interfere with the global words.


[16:25:36](#dWFbsAMzrHVi5_OOihRxjdvykkw-DWg4hyT_M0tniFU) <GiuseppeChillemi (GiuseppeChillemi)>:
I have found the cause

[16:30:01](#IZ4JNCDLReULgn4CAACT1ZM2FjHWs06XCnF8n1bDKbo) <GiuseppeChillemi (GiuseppeChillemi)>:
It is a side effect of the upper `function` which encloses both functions. It seems it makes `copy:` local. 

[16:30:20](#VKx3KW4ybIaFJPZpUNh6AJA3pGGSLxTr38DyJZU42aM) <GiuseppeChillemi (GiuseppeChillemi)>:
* It is a side effect of an upper `function` which encloses both functions. It seems it makes `copy:` local. 

[16:32:25](#dNZ6RdwYnuteHEYYihPP1UzACinmg3GGPxswtT-im-Y) <GiuseppeChillemi (GiuseppeChillemi)>:
I didn't expect `function` would collect any `set-word!` even  prototypes keys in object creation

[16:32:40](#zIveVVHkqtKPOJG8R5_iQzWIPBaMCroi5fhecq3UN8k) <GiuseppeChillemi (GiuseppeChillemi)>:
* I didn't expect `function` would collect any `set-word!` even  on prototypes keys in object creation

[16:39:18](#nSa7uQGl6BXQhcvvDsT4j2XsuDQQ8sNVVzZBRjhWRy4) <hiiamboris (NOT THIS ONE)>:
I get caught by careless overrides all the time í ½í¸‰

[16:49:51](#rCBk3FFsBqwVKsmXylij3ObKT7PulBfE_Bbx07jfSv4) <GiuseppeChillemi (GiuseppeChillemi)>:
It is one more reason to keep using `func` instead of  `function`. Having nested functions and objects definition inside them, makes `function` really a plague!  You have to shield blocks from it defining them in a word outside the `function` binding range and then reduce the word when needed. But then you loose the binding of the refinement and you must bind the block manually. OMG, you can go crazy with this!

[16:50:52](#hc1fmG3h1xEiWdPVXWG3fF-Ad4Pk-C1JlhlJJGdQMA4) <GiuseppeChillemi (GiuseppeChillemi)>:
* It is one more reason to keep using `func` instead of  `function`. Having nested functions and objects definition inside them, makes `function` really a plague!  You must shield any block with `set-word!`s from binding, defining them in a word outside the `function` binding range and then reduce the word when needed. But then you loose the binding of the refinement and you must bind the block manually. OMG, you can go crazy with this!

[16:51:30](#Lz_v3Z3Z66EB5CzDibKZx3UkZyR6ue49d8LnaBHAb0o) <GiuseppeChillemi (GiuseppeChillemi)>:
* It is one more reason to keep using `func` instead of  `function`. Having nested functions and objects definition inside them, makes `function` really a plague!  You must shield any block with `set-word!`s from binding, defining them in a word outside the `function` binding range and then reduce the word when needed. But then you loose the binding of the refinement word to the inner function and you must bind the block manually. OMG, you can go crazy with this!

[16:52:21](#jPz_gxEPs81lgUFlfQhQTKQ64L9Hm0xnTYoHlT4miT4) <hiiamboris (NOT THIS ONE)>:
Tip: keep functions small. Get what you can out of them.

[17:01:47](#WpX1zYcEfnDZtr6Sfzlvm-g4foecuCa1rXG8t6YQzxY) <GiuseppeChillemi (GiuseppeChillemi)>:
I usually prefer keeping local needed structures inside the function, to have them organized inside the "container" where they are used.
Maybe, I now see a good use fort `function/with` in Rebol3.

[17:02:38](#_COpHC57bNYvdmv0mS0vFg09TGPEhuL2qxZh1UHYUnA) <GiuseppeChillemi (GiuseppeChillemi)>:
* I usually prefer keeping local needed structures inside the function, to have them organized inside the "container" where they are used.
Maybe, I now see a good use fort `function/with` in Rebol3, keeping my structures  outside the function's block.

[17:14:48](#JtlYVqnd5T-fcy1Krt7O3kn9-xKHSGu7GdWwUKjTm9o) <hiiamboris (NOT THIS ONE)>:
`context [structures... f: function [] [...]]`

[17:15:16](#cYif2dfvDlB2mrC1zepkgKuV0EbipIQpOdjzJihqh6s) <hiiamboris (NOT THIS ONE)>:
Mind that function re-evaluates whatever you define inside it *on every call*!

[17:15:20](#N9r2uxcV22uSHa5rr23qDoBJsn4lmEuFU_78vQ5qkAU) <hiiamboris (NOT THIS ONE)>:
* Mind that function re-evaluates whatever you define inside it *on every call!*

[17:24:10](#lGdBLrGMOPmjzSasaKePplHA1nVgxMJNAHZJOeaTwjM) <GiuseppeChillemi (GiuseppeChillemi)>:
Yes, I know but I do this when I must have new operative objects on every call, so the the function is recursive.  Otherwise I keep inside just the prototype which is a litte `word: [proto]` setting operation and a small binding overhead. 

[17:24:29](#sqakj6VhyLBeLz75NVChZiUExucPXNsxiCPMVDNoSfg) <GiuseppeChillemi (GiuseppeChillemi)>:
* Yes, I know but I do this when I must have new operative objects on every call, so the the function is recursive.  Otherwise I keep inside just the prototypes which are a little `word: [proto]` setting operation and a small binding overhead. 

[18:37:51](#2-oiJpxC3I7cm-jLvqlwe5x3nlkzS44Fe9j1FoprVAY) <greggirwin (Gregg Irwin)>:
On `transcode/one`, @oldes what are you using it for? Anyone else have use cases?

This is the difference we're talking about, right?
```
; Trim because all spaces is like an empty string to transcode
input: trim "your data here"

; Current design: choose empty default/logic as you wish
val: either empty? input [none][try [transcode/one input]]
if error? val [
	; Invalid data for sure
]

; New error proposal
val: try [transcode/one input]
if error? val [
	; Is the error because it's empty or invalid data?
]
```
I think this comes back to the design intent that @dockimbel has to weigh in on. `Transcode` takes an input, and we probably all agree that inputs should be checked. An empty input is a legal edge case. It is not an error. It's also not a value placeholder (unset). But it has to return something. Can't distinguish empty from `#[none]` if we go that way, which is an issue elsewhere (e.g. `select`). Today we can't tell `""` from `"[]"` either.

It's a design *choice* with no right or wrong. Any change here is just different, not better.

Side note/bug: Why can't we `trim` tags?
```
>> input: trim <your data here>
*** Script Error: trim does not allow tag! for its series argument
*** Where: trim
*** Near : <your data here>
*** Stack:  
```

[18:47:35](#kZfQGJ1P0dLj3hH_4Jm9v7wNnLXT086i0HFsAgUsLUw) <hiiamboris (NOT THIS ONE)>:
> It is not an error

This is where we disagree with you. `one` (`next`) value requested - condition that cannot be fulfilled.

[18:47:44](#UkJ97lASRyxZPchSfzNLnBOxyvBNs-4SVqovuYkNSls) <hiiamboris (NOT THIS ONE)>:
* > It is not an error

This is where we disagree with you. `one` (`next`) value requested - condition that cannot be fulfilled by empty input.

[18:49:10](#QV-VrBtcveq43J4wHHmV-nTiCsQA5YR_mNySLQ3nuEw) <hiiamboris (NOT THIS ONE)>:
`take` returns `none` in this case though, understandably

[18:51:02](#JowuB-jTlxVlpSxsjDenMICq4iwsDx6t2H5yGF67I00) <hiiamboris (NOT THIS ONE)>:
* `take` returns `none` in this case though, understandably (still an error, but we chose to muffle it)

[19:07:12](#xRB3XQqG8kSQa-VnqrMvvf4ehV2gCcvE0qHEKY5Y5v4) <pekr (Petr Krenzelok) (@pekr-556ae86715522ed4b3e131b2:gitter.im)>:
I don't like /one name. Maybe /once, not sure either ....

[19:08:01](#xCLWf7tm7xowSA_rVXwN8lzk4A_tqZ7h1xtNPFbU2U4) <pekr (Petr Krenzelok) (@pekr-556ae86715522ed4b3e131b2:gitter.im)>:
I do agree, that returning empty string/block at edges (tail / head) is perfectly valid

[19:26:09](#iJUgO4JN9bIu9mC6b9Z7sNPI_Vvq2RNh3RRlHiVp5zU) <hiiamboris (NOT THIS ONE)>:
sorry, where have you seen an empty *string* and what does it have to do with *head*?

[21:34:37](#ycyFaQSs1UjjP1sqeNcc7zd6ZUpbHekHBecI3gx1ttk) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
@greggirwin I was reviewing `translate` in Rebol3. So my use case was to write test cases with acceptable results. I don't consider current Red result for this case correct, so I mentioned it here.

[21:37:21](#QjnK5cabbED6Ln4vVeC6IXSfSF-2C5WjQ5bLzzoY93g) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Btw.. in R3 there is `/error` refine for relaxed behavior.. returning error instead of throwing it, so no need to use `try`. I'm on mobile now.. so no advanced example.

[21:39:32](#JCR4NHdNDNBnZdJlrMLFxrrerTH-a6_M_x5P0pSHDvM) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
https://github.com/Oldes/Rebol3/blob/9ea5fc1a3de5a11759a36df50145ec36a3c21aaa/src/tests/units/lexer-test.r3#L29

[23:23:23](#hVTAxS8d0khnBO5jpU2Ir9cz0uTtWI6ZyzBkacvprF0) <greggirwin (Gregg Irwin)>:
I haven't kept up with your version of R3. Looks like `/line` is new there, and I will have to make time to see what `translate` is. Thanks.

## 6-Aug-2022

[6:17:57](#3zHEeDEKPgMGdwNHQVNmjxsgtla0ZGV5RLQifp9OviU) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Sorry.. transcode.. not translate.. it was too late for me.

[17:02:10](#RcGbi1GWFcai8ZFVKXyg9GVcXY8exaJv9UHvqYUBPbY) <greggirwin (Gregg Irwin)>:
<hehe>

## 9-Aug-2022

[8:02:32](#399oofRpEHdb5_10h0ML4vjOkwjsD0LYvq5XXXTrE4c) <bubnenkoff (Dmitry Bubnenkov)>:
Could anybody check next code:
```
d: [test: none]

x: none 
set d/test 'x
```
it seems a bug. Console become blank and hang

[8:02:38](#1jaWc6bwzdUrmOrqbft1Mvp6WqWOWXnl3_Notbcsqb8) <bubnenkoff (Dmitry Bubnenkov)>:
* Could anybody check next code:
```
d: [test: none]
x: none 
set d/test 'x
```
it seems a bug. Console become blank and hang

[8:18:03](#KTnIZUGDULME4troboWK13yCPqiSRvJmKDeyrxTlIEI) <hiiamboris (NOT THIS ONE)>:
You're destroying `none` value globally.

[8:18:39](#3MgP1oixsoXPyX_CxZh2fYAIFCcWr6h_SUNQR7u0Lrs) <hiiamboris (NOT THIS ONE)>:
Forgot the `'` before `d/test`?

## 10-Aug-2022

[16:39:32](#GtBaH1eV0dq-bBwn7ie1BfES0EP76siWQgAPfmK_nI0) <luce80>:
```
>> help load
USAGE:
     LOAD source

DESCRIPTION: 
     Returns a value or block of values by reading and evaluating a source. 
     LOAD is a function! value.
...
```
Does it really evaluate the source ?

[16:45:23](#GGfm4zfjlTGRcmrk2hG-MNDtn_-Ls0olqQlai6jWJzw) <dockimbel>:
No, the docstring is wrong and need to be changed.

[16:46:28](#5YOIw_w2vmyRHHfy9aN2kYCsyu1oCUQDVqJ5eV1vqxA) <dockimbel>:
* No, the docstring is wrong and need to be changed. The Rebol version is much clearer:
```
Loads code or data from a file, URL, string, or binary.
```

[16:46:34](#_m7iyWAAXWYq611WhfoaHftNL4XsYdc1q7S2oWppthA) <dockimbel>:
* No, the docstring is wrong and need to be changed. The Rebol version is much clearer:
```lisp
Loads code or data from a file, URL, string, or binary.
```

[16:47:08](#Vh9CFaqicpJ-nDTGtT-gypEf6HBVRfdTCCHGSQnr0Us) <dockimbel>:
* No, the docstring is wrong and need to be changed. 

[16:55:01](#jpLDvCgxYTsgtqjuJ4-U0g3k0-ygs1geqUQKsQnNOOo) <hiiamboris (NOT THIS ONE)>:
Nope.

[17:54:10](#Sx6J5r45roNbocYatOBmps25Efq39JhJOpzrYJCQis4) <greggirwin (Gregg Irwin)>:
It's a bit of a gray area, as a string needs to be tokenized and turned into Red data. We don't have a term for that, except `load` itself.

## 11-Aug-2022

[14:20:37](#eULQy39i2GYBc4RRbRh6mPn-1nynQZ-suufFvtYWtdo) <luce80>:
@greggirwin IMHO tokenizing is far away from evaluating but I do not want to start a despute.

[14:20:58](#anq-rxlKytYZe1v2jsarQ5riRdSd_bsGIJvXtz6TUCE) <luce80>:
```
>> help layout
Func spec couldn't be parsed, may be malformed.
...
```
In which way is the spec unparseable or malformed ?

[14:25:32](#UoIKkhKEu0tTP9VtLFL8Uzwr5hL4bvxRsHCxfldf-O8) <ne1uno (ne1uno)>:
  are you using an older interpreter?

[14:25:32](#-ZGjwNYGpZgsYlR8Fz0sgbSfGLMetUHUpli92oJqAC8) <ne1uno (ne1uno)>:
@luce80,  probably from a change with debugging `[no-trace] `

[14:26:17](#0tS3FOu3kr6CiOw3aKu-N2EkduQbWtd6nYyuQZ31Lbw) <ne1uno (ne1uno)>:
`?? layout`

[14:28:12](#54BdjzzEBnwZgrzVuQORsELnij6lBA6TwmUm0U5InPA) <hiiamboris (NOT THIS ONE)>:
same result for me, even on today's build

[14:31:38](#JuThvXjNhbnDIZ2joTknS_FwCf3UIo1ki2K9qv80DkI) <hiiamboris (NOT THIS ONE)>:
I think it was reported but can't find the report itself í ½í¸•

[15:01:54](#gMeGZqnEAvcSbRsRG7krG1BtjyevMJhkvLSZvR13x30) <dockimbel>:
Contributions are welcome to fix that `help` issue.

## 12-Aug-2022

[18:43:41](#PY8lAwgSDLGB6aFJr5vw7zAgXsad7u3scnUeLDSMXlM) <hiiamboris (NOT THIS ONE)>:
@dockimbel 
```
>> replace/all/deep "abc" [skip] ""
*** Script Error: PARSE - matching by datatype not supported for any-string! input
*** Where: parse
*** Near : deep?
*** Stack: replace also
```

[18:44:26](#_wO_eelns_HRpRxI1BiBzzPmNzJPcVtCldOKpDT5DZg) <hiiamboris (NOT THIS ONE)>:
found a regression after all í ½í¸‰

[19:25:19](#949LDYuO9EDE2MKt-HeNiishKT1ZkcynaT9AX3FM3d8) <dockimbel>:
Thanks, fix pushed.

[19:27:00](#ZisbYFHpjfowUKx8Rsa5agJER_XvrMalgd9bCmp9ae0) <hiiamboris (NOT THIS ONE)>:
I think problem is in `any-list` though.

[19:27:28](#2BdU3LPJYDEDJxNRiYUD4oTuJQaeLHO34DctWUCZiYI) <hiiamboris (NOT THIS ONE)>:
Try `replace/all/deep "abc" ["b"] ""` - works?

[19:28:51](#zKmJSxJgnwMPjczc4OLEtjKBRXi5Ffwzqnb27job75A) <dockimbel>:
That one crashes, so the fix is not efficient for it.

[19:32:20](#ckI4Lh29FY3wYlkuByFXU24AphkjrLLGgbY7fHvRw3E) <dockimbel>:
* That one is not related is not related to end check removal. It crashes the same on commits before the merge.

[19:32:38](#BdroqC-TFJokdRJKf-ksTMABPft1GusAbByUmOXBzyA) <dockimbel>:
* That one is not related to the end check removal. It crashes the same on commits before the merge.

[19:50:36](#tYY9OQkhUvhUdehAU3kHGTwqlpcyMCCz6CDZZBuHfc0) <hiiamboris (NOT THIS ONE)>:
Not reported AFAIK

[19:51:46](#xCOvAfwtFweROR0kRlZ2y58dGrkEGiqB0RrO5BGzt9s) <hiiamboris (NOT THIS ONE)>:
(but it's not crashing for me)

## 15-Aug-2022

[15:19:56](#9_ZXgBwaLC8xVLlmTjJZT4u2Dfm6ntofqurpDO4gENk) <luce80>:
```
>> about
Red 0.6.4 for Windows built 14-Aug-2022/9:23:14+02:00  commit #4eb8ad8
```
```
system/view/silent?: yes
system/view/auto-sync?: no
drawing: [circle 30x30 20]
view compose [
	below
	inp: field 200 "pen green circle 30x30 20" focus on-key-up [out/draw: probe load inp/text show out]
	out: base
	do [out/draw: load inp/text]
]
```
Try to **rapidly** remove the "green" word and an access violation will happen.

[15:21:35](#BydqkV5FwHfwqV0_ADos2kSDR_elR6X9aGL46S_pHvk) <luce80>:
* ```
>> about
Red 0.6.4 for Windows built 14-Aug-2022/9:23:14+02:00  commit #4eb8ad8
```
```
system/view/silent?: yes
system/view/auto-sync?: no
drawing: [circle 30x30 20]
view compose [
	below
	inp: field 200 "pen green circle 30x30 20" focus on-key-up [out/draw: load inp/text show out]
	out: base
	do [out/draw: load inp/text]
]
```
Try to **rapidly** remove the "green" word and an access violation will happen.

[15:24:16](#KZWT7jR9IUFkWM-FVIHfU1twmiQ9qpN0VNC3jtrNnl8) <luce80>:
* ```
>> about
Red 0.6.4 for Windows built 14-Aug-2022/9:23:14+02:00  commit #4eb8ad8
```
```
system/view/silent?: yes
system/view/auto-sync?: no
view compose [
	below
	inp: field 200 "pen green circle 30x30 20" focus on-key-up [out/draw: load inp/text show out]
	out: base
	do [out/draw: load inp/text]
]
```
Try to **rapidly** remove the "green" word and an access violation will happen.

[16:10:53](#FQwPdm_xxdvNoBOEQ2gPYg_DHJZDGA8UtLSdjfT9Obc) <hiiamboris (NOT THIS ONE)>:
reproduced

[16:19:43](#44px21XsynvYl1gFGtOyQK9FzY8Txp2xFXpq5ksgtpg) <hiiamboris (NOT THIS ONE)>:
looks like `silent?` crashes it?

[16:20:19](#ZwddeRCGJgJGokBNMsRNqjHVctZJZlcs74ofrbYgGHA) <hiiamboris (NOT THIS ONE)>:
modified version:
```
Red []
system/view/silent?: yes
system/view/auto-sync?: no
text: "pen green circle 30x30 20"
view [
    out: base rate 10 on-time [
		remove skip text 4
		out/draw: load text show out
	]
]
```
just press any key to crash it

[18:41:45](#K6R2Hs4m1RI1ZADBQbqNrzhHNzQ7BLZ96LeJMHKPI6Q) <greggirwin (Gregg Irwin)>:
If nobody else gets to the `help` issue before I'm back online I'll look into it.

## 16-Aug-2022

[12:33:19](#_IlGW1L-lzZqBXanPDL0oqKTCthRK5U_Lvwy_TIB3QQ) <hiiamboris (NOT THIS ONE)>:
@dockimbel on linux when console is just started it prints an error:
```
*** Access Error: cannot open: %""
*** Where: read
*** Near : 'Red
*** Stack:
```

[12:33:26](#5tYy-Ha5MsP0Le2o-arPUsebRj5opjYltxJJ1PHruHQ) <hiiamboris (NOT THIS ONE)>:
could be parse related

[12:53:29](#R6Wzf7xFtcwwQI5FXsWIBqa45V7DEy9C9-I5Xt68u0U) <hiiamboris (NOT THIS ONE)>:
perhaps adding `not end` before https://github.com/red/red/blob/58444429bcaf09ed4500496936a1c3657b533969/environment/functions.red#L758 will fix it?

[13:01:54](#HNHQxJo-Dj0UKXr4GSXPniliUtXYuYnfVJnvb2waV30) <FLuX>:
this commit break it  https://github.com/red/red/commit/1f3694334e94236e5b1c2cce8406978426fceb6e , after it on linux `system/options/args` returns `[""]` instead of `none.
that error is actually a printed trapped error from here https://github.com/red/red/blob/58444429bcaf09ed4500496936a1c3657b533969/environment/console/engine.red#L68

[13:20:54](#YwV5SZSSq5ZZWb2BdOo2HCJGpE4sTszuaBrKbq_qRfo) <hiiamboris (NOT THIS ONE)>:
@qtxie was there a change to anti-aliasing mode recently? I'm detecting that text drawn on images became more blurry

[13:28:44](#IGVg7Bh20j-S9iaEb7oSx-83lo4pXXLTs3Fbsti8Sjo) <qtxie>:
@hiiamboris Yes. In order to drawing text on fully transparent image.

[13:29:10](#4jdSQ_gmCQh9R5JTovSxsFdMY33GMEP3i_4dTJkcokI) <hiiamboris (NOT THIS ONE)>:
okay

[13:29:30](#HgS-cD5kGTf9N-mqABEcwA0DjwgfGNZKeRAYNSWT4l4) <hiiamboris (NOT THIS ONE)>:
cleartype doesn't work with alpha I guess

[13:34:08](#s5FWPujyEEs8zSq52m-1cpi6INW1GujHt3zdbLQyzDA) <qtxie>:
Seems so. Not sure if it's a limitation or a bug in DirectWrite.

[15:13:48](#3SDrOBTQ40ICELfdofYbNzv85PiZRNdgaCH7JzhWnMY) <dockimbel>:
Fix pushed.

[15:24:12](#nR_0fawEk02n9SISx3eNwhVW4bHoDX0QpJyL2Bocgz8) <FLuX>:
That fixed it, thank you!

[16:06:57](#k4sO5WKBdyX6JZwL_kkLU_FIGVTMK4SCKjvYRfMaoM4) <luce80>:
about `system/view/silent?`, I don't know if this makes things easier or not but when I forgot to use compose:
```
>> system/view/silent?: yes
== true
>> drawing: [pen green circle 30x30 20]
== [pen green circle 30x30 20]
>> view [
[    	below
[    	inp: field 200 (form drawing) focus on-key-up [out/draw: load inp/text  out]
[    	out: base draw drawing
[    ]
*** Throw Error: no catch for throw: silent
*** Where: either
*** Near : no
*** Stack:  

```

[17:04:07](#CiiMzZuvkdK-OXbJ-A6Zrf885U_ez5E0poI9q5LgGKI) <GiuseppeChillemi (GiuseppeChillemi)>:
has someone experienced the debugger going on like having hit `enter` after a `do/later` and then `stop`  in a subcall?

[17:04:37](#Rn5Cz4rReXkGj3jn4EsCmw9xTIFxL364eXlft41Zmz8) <GiuseppeChillemi (GiuseppeChillemi)>:
* has someone experienced the debugger continuously  going on on screen, like having hit `enter` after a `do/later` and then `stop`  in a subcall?

[17:05:58](#Mi2bXGnR9GRGA3ken44AT5LUkdWhGJOixq3Eai4clFU) <GiuseppeChillemi (GiuseppeChillemi)>:
Note: call has been invoked inside a VIEW  button actor code.

[17:06:13](#J0GLc87_kb_I-DdsCOE86B_wp2DiLVQHXEhHM4--NBI) <GiuseppeChillemi (GiuseppeChillemi)>:
* has someone experienced the debugger continuously  going on creen, like having hit `enter` after a `do/later` and then `stop`  in a subcall?

[23:13:58](#pvcB_k9Y6sc9ino5QIdKv92Ulje51GX72IMvy33b8qA) <loziniak (Maciej ÅoziÅ„ski)>:
hello. I've got a nasty one:
```
>> to block! make vector! [2]
== [2]
>> 
>> to block! make vector! []

*** Runtime Error 98: assertion failed
*** in file: /mnt/share/downl/red-master/runtime/allocator.reds
*** at line: 903
***
***   stack: red/alloc-series-buffer 0 16 0
***   stack: red/alloc-series 0 16 0
***   stack: red/alloc-cells 0
***   stack: red/block/make-at 08920554h 0
***   stack: red/vector/to-block 08920564h 08920554h
***   stack: red/block/to 08920554h 08920564h 5
***   stack: red/actions/to 08920554h 08920564h
***   stack: red/actions/to*
***   stack: red/interpreter/eval-arguments 08920544h F65B0A00h F65B0A00h 08920524h 00000000h 00000000h F67B0DF8h
***   stack: red/interpreter/eval-code F67B0DF8h F65B09C0h F65B0A00h 08920524h false 00000000h 00000000h F67B0DF8h
***   stack: red/interpreter/eval-expression F65B09C0h F65B0A00h 08920524h false false false
***   stack: red/interpreter/eval 08920524h true
***   stack: red/natives/catch* true 1
***   stack: ctx||495~try-do F7F8B808h
***   stack: ctx||495~do-command F7F8B808h
***   stack: ctx||495~eval-command F7F8B808h
***   stack: ctx||495~run F7F8B808h
***   stack: ctx||495~launch F7F8B808h
***   stack: ctx||514~launch F7F8B214h
***   stack: ***_start
```

Can anyone confirm? It's on recent master.

[23:36:08](#mL79gYZ19Nghz4pw8pPAY-MHZO530UdNiESWoHaMPu4) <dockimbel>:
Confirmed, you can open a ticket for it.

[23:39:56](#z9fbHlo80tQkn4GmcIa0Q8tk3L0SOWoQz9ADm5Rds0A) <dockimbel>:
* Confirmed, you can open a ticket for it. It's a trivial fix.

## 17-Aug-2022

[5:54:32](#d1dDkUSV64W4mA79VR6B1BFZJvpj1BvTUx-DwLhyVuk) <loziniak (Maciej ÅoziÅ„ski)>:
Here it is: https://github.com/red/red/issues/5178 :-)

[14:06:05](#OGJlCD-hW2FNr1HPOdmaaG-8IMHZlQYf6ddHbLP0rk8) <luce80>:
A strange thing happens on Win11.
* open gui-console
* `do` a script that opens a window
* go to another window (not console nor script)* close the script window using the thumbnail that appears hovering on the task bar
* when you go back to console it is as if the script did not finished

[14:07:15](#IKb0eXIZWjkVUuR5998SL7r0CMlR812Zkxhb31sEyPE) <luce80>:
* A strange thing happens on Win11.
* open gui-console
* `do` a script that opens a window
* go to another window (not console nor script) 
* close the script window using the thumbnail that appears hovering on the task bar
* when you go back to console it is as if the script did not finished

[14:12:45](#DPDaeS0Vg4qCwVBz22eNXSRx6znEpdz2T3FAApr4pyU) <hiiamboris (NOT THIS ONE)>:
it's a known bug for a year or so, but I can't find it í ½í¸•

[20:27:33](#-J7mvecfbGjbbojfxOzH7Lk4L-CepnC7_ULMgkcFPnw) <dockimbel>:
I can reproduce the issue using your description. Please put it in a ticket.

[20:27:33](#DYDjX-mjKzKXGf0s9el0LnP2CDEWeuVBOlV7XKll1dE) <luce80>:
* A strange thing happens on Win11.
* open gui-console
* `do` a script that opens a window
* go to another window (not console nor script) 
* close the script window using the thumbnail that appears hovering on the task bar
* when you go back to console it is as if the script did not finished

## 18-Aug-2022

[13:12:45](#Hi8-ZOaWbg6o4CMK3xTBHvm0zPlHXo-c0FsUKMYuFFg) <luce80>:
Another annoying thing. **Without** console opened, try this on Win11:
```
print "" ; open console for debug
view [text "Hello world!" button "Hi" [alert "All right"]]
```
When I press the "OK" button of the alert the console disappears . It is gone behind other windows I have opened.

[13:30:22](#jypbDCDLiCCBhmZ9355fmjtMgKbyr-LvhzwqVMeUhj0) <dockimbel>:
Can't reproduce that on Win10, might be specific to Win11.

[16:57:25](#yjNRsc9m_FZleWbtVBbijllrbPX_wo4GBi9UEPa5mUM) <greggirwin (Gregg Irwin)>:
Looks like `help layout` broke mid-December of last year.

[17:02:59](#ZOEil9GE7F7bnYe8LcWGvnDLdkL7AgTr0TVzDXA3eUI) <greggirwin (Gregg Irwin)>:
That's when `no-trace` was added, which a patch was made for on 11-Jan-2022, but `'layout` must not have been used when testing it.

[17:05:28](#inRW29ZDrPG-405hFEjD-sZP5eik7KtXN5hde2VbuyI) <greggirwin (Gregg Irwin)>:
`split-path` and `clean-path` as well. 

[17:08:36](#WLa7lBlH508yKhJaihqpvZIb8J8eq7a1JGi5H1_xFog) <rebolek (Boleslav BÅ™ezovskÃ½)>:
`help` can't parse func attributes

[17:12:13](#IZPJ40AgTPTI0Eo1LD_kO6Kmx62ofgOCiVjbJv5f9W0) <greggirwin (Gregg Irwin)>:
Looks like a spec ordering issue. The parser expects any doc string to come before attrs. 

[17:16:45](#Xwtsm5q8Pj_9BaGiDa6x_tV6FfLX1Wn3set0Y-zmLMU) <greggirwin (Gregg Irwin)>:
For now we can make `help` forgiving, but it points out why specs are important.

[18:55:20](#qUlP4GNBLBtEMkajxE2Hg2p_UvXDBDaJVWwEH2Mqllc) <greggirwin (Gregg Irwin)>:
The reason for that presumed ordering came from R2, which also didn't have a hard spec, but here's an example:
```
>> ?? throw-on-error
throw-on-error: func [
    {Evaluates a block, which if it results in an error, throws that error.}
    [throw]
    blk [block!]
][
    if error? set/any 'blk try blk [throw blk]
    get/any 'blk
]
```

## 19-Aug-2022

[4:27:58](#w2Y4x4_d6IJcm74ozQwAA0h_n7Ucgx2U5bbCQwrg26U) <qtxie>:
> Another annoying thing. **Without** console opened, try this on Win11:
> ```
> print "" ; open console for debug
> view [text "Hello world!" button "Hi" [alert "All right"]]
> ```
> When I press the "OK" button of the alert the console disappears . It is gone behind other windows I have opened.

It's a known issue which caused by we use a normal window to simulate a modal dialog. 

[4:29:56](#Jdxx9pt_bjAmWw5PscX1ri9bZz-4UzuE_Qt6clR2c_U) <qtxie>:
Seems a modal dialog on Windows is kind of special. 

[8:18:35](#J9hI2n96dKgRN8ohD7dx4q8qPGn1fD4Q5Alq5xTSAI0) <hiiamboris (NOT THIS ONE)>:
I have the same issue with my email client: newly opened (non modal) email window goes to the bottom of Z-order. I think it's one of the permanent Windows bugs, which we'll have to find a workaround for.

[9:20:24](#MZOX0ucichCh8QeqmzUHGZbTwn2y-PdiDj57eP5dS7g) <qtxie>:
@luce80 @hiiamboris Pushed a fix. 
```
ShowWindow

SW_HIDE
0 	Hides the window and activates another window.
```

*activates another window* í ½í¸“ 

[11:25:25](#_6C1JRw1PnFoUGUDPvfJvsxCJ_rNNM_ISzA8t2xjQu0) <hiiamboris (NOT THIS ONE)>:
But that makes sense. Otherwise focus will just get lost, which is the most annoying thing to happen.

[11:36:46](#-QTbA9IY6VKUCCzp1NohLDg8GGIAWszaM-O67TIZfL4) <hiiamboris (NOT THIS ONE)>:
The fix works fine. But how is SW_HIDE an issue I wonder?

[11:39:17](#v5tRlU3jqX4nSVohEIfo_TJvM_oH2rk2APL6pBG6pyk) <hiiamboris (NOT THIS ONE)>:
I have a regression though. Need to locate it only í ½í¸•

[11:44:59](#NAYC0D_k6EE3-frtMrsnMAfW4geZjoi00Ecwdnqjkog) <hiiamboris (NOT THIS ONE)>:
I have a regression though. Need to locate it only í ½í¸•

[11:52:25](#dWX_0jNuvI6PTRhVeOZKFt214VIr6hYlzC7RlUtPxX4) <hiiamboris (NOT THIS ONE)>:
Ohh that's a big one.

[11:52:40](#DigqjDhmaTymrmYspdC1RjHVeWHVFbO555_aPc8OR4w) <hiiamboris (NOT THIS ONE)>:
@dockimbel 
```
>> a: context [x: none]
>> a/x: func [x][]
*** Script Error: a/x: is missing its x argument
*** Where: x
*** Near : []
*** Stack: x  
```

[12:03:49](#hTvWVNjhdu4qkvEinJvoAiHEauVvguZGXpqSmHqfDO4) <dockimbel>:
Looking at it...

[12:28:27](#VDqU8Zx4Qh2c3J69tf0VOn3XaTReD5bugpnSB9-oiKU) <dockimbel>:
Fix pushed.

[12:30:01](#HroD5fpZ26kXtd3i4GEwk19TfhRTI6tpxTzcmYEWow4) <hiiamboris (NOT THIS ONE)>:
:+1:

[21:22:32](#h_DVTZMUnsGVACLFZWNZ6lxI8XNFGy7Wv2QCpeiABeU) <qtxie>:
It activates a window in another process. So all the windows in current process moved behind it.

## 20-Aug-2022

[16:27:31](#kJWLekAMVi9lVhtuCZOrstHEVJzuSCpauoPBrnZQ-KM) <hiiamboris (NOT THIS ONE)>:
@dockimbel encountered this?
```
Compiling to native code...
*** Loading Error: file access error: %../image-utils.reds
*** in file: %/D/devel/red/spaces/programs/datatypes/image.reds
*** at line: 13
```

[16:29:23](#RHlz572pDhN6sj4qMLFm7KyQaIeHnI4m7a1pWlGKD-U) <hiiamboris (NOT THIS ONE)>:
Compiling `-r` any script leads to this error

[16:29:43](#UllwGE8jGqNJtx9MOnLpWR0vdRb5yNRAOGSY8hqN4wo) <hiiamboris (NOT THIS ONE)>:
Must be related to you moving files around recently.

[16:31:21](#YcPggXKXIuanM0Y0tnWoJgq6-0Rk4FWIvfpiDeWCxBE) <hiiamboris (NOT THIS ONE)>:
Above path is invalid ofc.

[19:05:39](#nRHHs109-P-rOTSN4tg4aZx9avPjfMv2h9X4THPDzw8) <dockimbel>:
I can reproduce it.

[20:07:08](#JkROuDPxWGC91WXl4G9F-1HhM9vYsclWexnv577fYJU) <greggirwin (Gregg Irwin)>:
Maybe not worth a ticket, but there's a typo in %function.reds. `decode-attributs` should be `decode-attributes`.

@dockimbel it looks like you have it coded so func attrs must come first, before the doc string. Rather than allowing both orders, should I just switch the rules in `help` from:
```
				opt func-desc=
				opt func-attr=
```
to:
```
				opt func-attr=
				opt func-desc=
```
?

## 21-Aug-2022

[15:21:08](#vF69uJGhnDj4RYM0N4YIy9myfcx9xI7b3a6cBLqtAxw) <dockimbel>:
Attributs (for now) should come first, yes.

[15:21:14](#y7dmRuC0Klr8jAIId0l2SsBqTgzTLvyAJEdRZbi9UbA) <dockimbel>:
* Attributes (for now) should come first, yes.

[15:21:25](#y3YwyfvHG6a4MYCU-UPmSuEWpKdPngyT8-D4s1KBgV0) <dockimbel>:
* Attributes should come first (for now), yes.

[16:57:35](#r7FzYhjSAZJzOWtAdouwTlubh_ytYghe2u90Rxjf7L8) <greggirwin (Gregg Irwin)>:
Will do. :+1:

## 22-Aug-2022

[13:24:16](#MvMmbramocnHTNpWY5VXBNjwBbfwHbw5Tfgb9jQa-dU) <dsunanda (dsunanda)>:
@dockimbel Thanks for fixing #5101 - it's been extremely annoying when writing code - typos can be hard to find, and cause weird misbehavior.

[13:26:30](#kRNohBGe8tEeLZkmpurrzyXdFKKiHzlX_f2dokxjICw) <dockimbel>:
@dsunanda You're welcome! I should have fixed it much earlier.

[13:28:36](#Hl76lpYd_8ugvAv3oNBC_QY3XrG3-LCgq808Pz2UvMs) <dsunanda (dsunanda)>:
:) I just discovered it was fixed because some old code broke (it had a typo). Very happy that your bug fix found my old bug.

[22:31:44](#Hfvfy8p8t-d5WmylLa3zd1jc6_BwsINUnd0pVuFNRyE) <GiuseppeChillemi (GiuseppeChillemi)>:
Is it a bug or a feature?

```
>> a: random "lak4tl24k43g3rvuj" probe reduce [random a random a]
["3342atvur4kl4jlgk" "3342atvur4kl4jlgk"]
```

The randomized strings are equal but if you run the block multiple times, the randomization works. 

[22:38:13](#hwbGT_6EnHY-KlBbYCxBqLODlqUBWXhZ3URjcTowk1o) <greggirwin (Gregg Irwin)>:
`random` works in place, so by the time you `probe`, `a` still refers to the original series...both times. :^)

[22:41:59](#nsDcCMha1I__YJ7uFj-4WqUGMb1YXAy-IJK85TDnFLE) <GiuseppeChillemi (GiuseppeChillemi)>:
but shouldn't the internal randomized seed (pardon If I call it in the wrong way) change at each run, so the randomization on the same string will change at each run?

[22:42:09](#hAJko5N8rQECERL3QE2SBdk8lahZeD0ugdTeDgEcJig) <GiuseppeChillemi (GiuseppeChillemi)>:
* but shouldn't the internal randomized seed (pardon If I call it in the wrong way) change at each run, so the randomization on the same string will change at each call?

## 23-Aug-2022

[0:08:27](#hWfyKc52Ix51vrsNTzzTrEWLtmqIpC-vhK8aS1dTH_4) <greggirwin (Gregg Irwin)>:
```
>> a: random "lak4tl24k43g3rvuj"
== "llk43kt4u2r3avgj4"
>> reduce [x: random a y: random a]
== ["vk3rl3kuj442atg4l" "vk3rl3kuj442atg4l"]
>> same? x y
== true
```

[6:59:38](#VT01kQa3GsNvEWIsyfjYKc8lIiCVJ60MGmqhPZXrrbU) <GiuseppeChillemi (GiuseppeChillemi)>:
While building a test on `hash!` table with this loop:

```
table: make hash! [[a b c d e]]
random-string: "lak4tl24k43g3rvuj"
repeat idx 100000 [

	random-string: random "lak4tl24k43g3rvuj"
	
	append/only table reduce [
		random-string 
		random-string
		random-string
		head insert copy [] idx
		random-string
	]
]
```

Red has eaten 3,5GB of ram in 1 minute and then has hanged. Is it expected or should I open a ticket?

[7:47:10](#dXngwUaz7DU8Euj5HuCpqlcd9RvMhukhVMKIJjKNw8U) <hiiamboris (NOT THIS ONE)>:
it's probably a GC freeze

[7:47:37](#gf4_PZIe8A0JrK0wm_Hfny96W-3DVNjsBJm1t_82bM4) <hiiamboris (NOT THIS ONE)>:
* 

[7:49:09](#DwnW9OciexeOaAC0xcFopnNJkZikQJJWqDuROjfDJ-g) <hiiamboris (NOT THIS ONE)>:
https://github.com/red/red/commit/671dae6581601abf2e54f695a36e44c120887fe0 this should be the answer

[7:50:46](#8uK9gJIhku9f8MPvBzK6DderWu0XDqSCo12_LOPF8ek) <hiiamboris (NOT THIS ONE)>:
tip: don't make hash until you have a finished block

[9:34:10](#xpsClzm5ZQWBWt5BeBQu3JIT9_yWrGQGf7WKabyP0DQ) <GiuseppeChillemi (GiuseppeChillemi)>:
So I have not understood how RANDOM works: I thought is would return a different result at each invocation, because on the console:

```
>> random "lak4tl24k43g3rvuj" 
== "llk43kt4u2r3avgj4"
>> random "lak4tl24k43g3rvuj" 
== "k3akjltv2u44l3g4r"
```

OMG... maybe I have the answer. It could be because in the console, the same string content is a different series! Lets test it!

```
>> random s
== "jlva32l44t3grk4uk"
>> random s
== "4vrgu24jl43katk3l"
```


[9:34:19](#vcAUeddEy08xPexqqxuC_i9voYKd72ewBSxA3LIbIp4) <GiuseppeChillemi (GiuseppeChillemi)>:
* So I have not understood how RANDOM works: I thought it would return a different result at each invocation, because on the console:

```
>> random "lak4tl24k43g3rvuj" 
== "llk43kt4u2r3avgj4"
>> random "lak4tl24k43g3rvuj" 
== "k3akjltv2u44l3g4r"
```

OMG... maybe I have the answer. It could be because in the console, the same string content is a different series! Lets test it!

```
>> random s
== "jlva32l44t3grk4uk"
>> random s
== "4vrgu24jl43katk3l"
```


[9:34:49](#a0PhtxM1lHRO78gIFh8CG87R0gCPEgHNRZaXzPBs1Bs) <GiuseppeChillemi (GiuseppeChillemi)>:
* So I have not understood how RANDOM works: I thought it would return a different result at each invocation, because on the console:

```
>> random "lak4tl24k43g3rvuj" 
== "llk43kt4u2r3avgj4"
>> random "lak4tl24k43g3rvuj" 
== "k3akjltv2u44l3g4r"
```

OMG... maybe I have the answer. It could be because in the console, the same string content is a different series! Lets test it!

```
>> s: "lak4tl24k43g3rvuj" 
>> random s
== "jlva32l44t3grk4uk"
>> random s
== "4vrgu24jl43katk3l"
```


[9:35:15](#d4TbF7i4uQPuwgwIJVK7CdGMu0umUElBzV4kUWcBoPU) <GiuseppeChillemi (GiuseppeChillemi)>:
Not, even on the same series, I get different result inside the console

[9:37:02](#P9OtNSCOLDIanN8DBBgiOJybGB7ykca9TEXZc891pFQ) <GiuseppeChillemi (GiuseppeChillemi)>:
â˜ [23 agosto 2022 02:08](https://gitter.im/red/bugs?at=63041a7a647d633cf6bda1db)

Aren't this test and my last one on the console the same? (Apart the first `random`?

[9:37:37](#ZvWPBCADb7GepivHg6HEivuOi_jU4FuAZc2vftzmp_c) <GiuseppeChillemi (GiuseppeChillemi)>:
* :point_up: [23 agosto 2022 02:08](https://gitter.im/red/bugs?at=63041a7a647d633cf6bda1db)
@gregg
Isn't this test and my last one on the console the same? (Apart the first `random`?

[9:38:08](#QRGq664hHkVktRIOIY7T9oCumtjScHuhqWjVlgH3MeI) <GiuseppeChillemi (GiuseppeChillemi)>:
* @gregg Isn't this test :point_up: [23 agosto 2022 02:08](https://gitter.im/red/bugs?at=63041a7a647d633cf6bda1db)
and my last one on the console the same? (Apart the first `random`?

[9:56:06](#mUNZLBbfMd9I1MUeeMqTrSo-TCFcGybW_IlBWHi7k9w) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
`random` just modifies content of the series' data

[9:56:38](#flipxK9Ca99FfzXbVJ1KnTGJYmKHmfMUe3qAFX3LSKg) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
I don't understand, what you don't understand.

[9:57:54](#U2AlcsykCx3vZ1EXEgvstZy3a2uwzKEuqyGzOZUAtMA) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
It is event in the doc string twice... _...shuffles series... result (modified when series)..._

[10:00:08](#6DK6eHCSplKoM4URl8nni6a__H3-i1DHjKauicQ9Eb0) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
It is event in the doc string twice... _...shuffles series... result (modified when series)..._

[10:01:24](#_uDBCG240vvr3eBjbRsUrmr2g1-cQH0ltEnAC5z1fhk) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* Use `random/seed` if you want consistent results...
```
>> s: "12345"
== "12345"
>> random/seed 1
>> random s
== "52134"
>> random s
== "31425"
>> random/seed 1
>> random s
== "52134"
>> random s
== "31425"
```

[10:04:19](#7RBIaT7X5B6zmuZUUIclQLpeA80pXcfD-S7RqNWa5-Q) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Use `random/seed` when you need consistent results and `copy` to have a new series.
```
>> s: "12345"
== "12345"
>> random/seed 1
>> random copy s
== "52134"
>> random copy s
== "31425"
>> random/seed 1
>> random copy s
== "52134"
>> random copy s
== "31425"
```


[10:04:44](#q09PntAyNz0_7uADl8qJV10MTrGEKAhZMlN_wT6E_PA) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* Use `random/seed` when you need consistent results and `copy` to want a new series.
```
>> s: "12345"
== "12345"
>> random/seed 1
>> random copy s
== "52134"
>> random copy s
== "31425"
>> random/seed 1
>> random copy s
== "52134"
>> random copy s
== "31425"
```


[10:04:57](#5k8rWlQNlb4X1sbLMoyLbFixYQR2jsvVBSenaCML8ws) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* Use `random/seed` when you need consistent results and `copy` when you want a new series.
```
>> s: "12345"
== "12345"
>> random/seed 1
>> random copy s
== "52134"
>> random copy s
== "31425"
>> random/seed 1
>> random copy s
== "52134"
>> random copy s
== "31425"
```


[10:07:18](#EroTuiBH3DISDnK-fZyblo5mJpQIW2K0-kcLzvQiHy0) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
In your test, you should have:
```
random-string: does [random copy "lak4tl24k43g3rvuj"]
```

[10:14:31](#A8m2y6m-YfpaJOqrh5wq289HbbVqTURqP1NWrDNPsGU) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Or something more random, like:
```
random-string: function[len][s: make string! len loop len [append s to char! (48 + random 73)]]
```

[10:14:56](#EVEI0YMOdZ_xxEA3V1xiLucKRyI58frSZe-Ow4aBEqg) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* Or something more random, like:
```
random-string: function[len][
    s: make string! len
    loop len [append s to char! (48 + random 73)]
]
```

[10:15:43](#GLWEkpIb1NhUFYvKXQzyjOznO5eOHBBjTespYee7opY) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* Or something more random, like:
```
random-string: function[/length len [integer!][
    len: any [len 8]
    s: make string! len
    loop len [append s to char! (48 + random 73)]
]
```

[10:16:02](#cQCD5CJb_VaYy0ffEPIXX1o5tvO3pX_H5slVV823MsM) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* Or something more random, like:
```
random-string: function[/length len [integer!]][
    len: any [len 8]
    s: make string! len
    loop len [append s to char! (48 + random 73)]
]
```

[10:17:11](#pisL_NZt6y_UV66RQSDASEYcrkEkqpapmUHo8nPZ7so) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* Or something more random, like:
```
random-string: function[/length len [integer!]][
    len: any [len 8]
    s: make string! len
    loop len [append s 48 + random 73]
]
```

[10:17:37](#us0fD0Y2LkZqGXXTRpQRf2wNU_drzBsDi7iGISnFLDQ) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* Or something more random, like:
```
random-string: function[/length len [integer!]][
    len: any [len 8]
    s: make string! len
    loop len [append s to char! (48 + random 73)]
]
```

[10:19:17](#xqm6M8Hh8qcMT6NHxeYGlBmaJ28q4m5MPh6cQqrvmo0) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* Or something more random, like:
```
random-string: function[/length len [integer!]][
    len: any [len 8]
    str: make string! len
    loop len [append str to char! (48 + random 73)]
]
```

[10:20:01](#3sp_x4rpS-q_7czQepbWU-me27g0_MQkamJF25oo-c8) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* Or something more random, like:
```
random-string: function[/length len [integer!]][
    len: any [len 8]
    str: make string! len
    loop len [append str to char! (47 + random 73)]
]
```

[10:21:39](#VnmZoTzHeS5wMq5vQvJcpFWIjfwK5U9zwL45QUzp38Q) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
(maybe it would be fine to have `random` working on `bitset!` too)

[10:23:03](#KvJYDmyQ5404CEh2xbBA_aFGQV2y9j45CYkfh5IrY_4) <GiuseppeChillemi (GiuseppeChillemi)>:
What is causing me to not understand is here:
```
>> s: "lak4tl24k43g3rvuj" reduce [random s random s]
== ["kuglj3at432vlk4r4" "kuglj3at432vlk4r4"]
;------ In the console 
>> random s
== "lg4ajurltkvk34243"
>> random s
== "t3r43kg42vlk4ajlu"
```
If `Random` modifies the series, why using it twice in a block does not modify it and I get the same results in both first and second position?

[10:24:16](#6GmISYCt_1LN_2zhRvH8vsZ4ejgdFpssZATJ4GgHG4w) <GiuseppeChillemi (GiuseppeChillemi)>:
* What is causing me to not understand is here:
```
>> s: "lak4tl24k43g3rvuj" reduce [random s random s]
== ["kuglj3at432vlk4r4" "kuglj3at432vlk4r4"]
;------ In the console 
>> random s
== "lg4ajurltkvk34243"
>> random s
== "t3r43kg42vlk4ajlu"
```
If `Random` modifies the series, why using it twice in a block does not modify the series and I get the same results in both first and second position?

[10:24:46](#IUPAQJT96ONV61rKINfTs3IIEmdQ6HjbmbW_50tohFQ) <GiuseppeChillemi (GiuseppeChillemi)>:
* What is causing me to not understand is here:
```
>> s: "lak4tl24k43g3rvuj" reduce [random s random s]
== ["kuglj3at432vlk4r4" "kuglj3at432vlk4r4"]
;------ In the console 
>> random s
== "lg4ajurltkvk34243"
>> random s
== "t3r43kg42vlk4ajlu"
```
If `Random` modifies (shuffles) the original series, why using it twice in a block does not modify the series and I get the same results in both first and second position?

[10:24:47](#dgoN0xkzt6Dj1TATXIy0K0nzfRya1kJveSjrjxITvIQ) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
It is same like:
```
>> s: "123" reduce [next s next s]
== ["23" "23"]
```

[10:25:30](#QbfWqKUytOpIDU_pWnCXhuT_7aKzk1eGUs0gziBWy7U) <GiuseppeChillemi (GiuseppeChillemi)>:
No, it's different, here you are modifying series content not the pointer to the series

[10:25:59](#i_qnFDBCfpBOETGv0gzkuRSKg5WI_y7dHibFqy11CG0) <GiuseppeChillemi (GiuseppeChillemi)>:
* No, it's different, there you are modifying series content not the pointer to the series

[10:27:02](#vXyxZ-vY5sUE2ll20v-YeCa1ZAzK1hodR-t8vfEQuVs) <GiuseppeChillemi (GiuseppeChillemi)>:
One moment, I have understood.

[10:27:37](#5M3ReAPO3YHgLl5dVlp97x35hR_Uzg7yY69ufJT_o_E) <GiuseppeChillemi (GiuseppeChillemi)>:
No, I havent.

[10:27:48](#XrBgFvVyNxGG15YsYYgmSvaOC36ulgPltsHIocvzUPY) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
```
>> s: "123" b: reduce [s s]
== ["123" "123"]
>> random s 
== "231"
>> b
== ["231" "231"]
```

[10:28:25](#7FRR6ulSo1qMAU2Rh_23PIDWZYP9XNfQBHbG5bldyYY) <GiuseppeChillemi (GiuseppeChillemi)>:
But if you run `random s` a second time in the console, you get a different result

[10:28:31](#o7Ta9PkzFiZTiUQUOQ8Gr2snD4og9fS2MaerYQoJhDo) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
The block `b` has two pointers to the same series data.

[10:29:34](#RdgyrKC3varkZaja-VK0PZSQaQyqnQIhtZA9R66c7Pc) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* The block `b` has two pointers to the same series data, which are modified by `random`. But this is not right group for this chat. It is basic working with series in redbol languages.

[10:31:27](#0plXSLcTuJG-gilpeOWv9_wYGQ8p47n3-72YTPAa6oc) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Last try to let you understand, what is going on... than you must meditate over it yourself.
```
>> s: "lak4tl24k43g3rvuj" random/seed 1 reduce [probe random s probe random s]
"r3g444jal2kv3ktul"
"4tlvrau42gk3kl34j"
== ["4tlvrau42gk3kl34j" "4tlvrau42gk3kl34j"]
```

[10:32:14](#8IecQqlHmBz_TZbCGH_3_hUY394Zd9XE8JPzOf8Od4o) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* Last try to let you understand, what is going on... than you must meditate over it yourself.
```
>> s: "lak4tl24k43g3rvuj" random/seed 1 reduce [probe random s probe random s]
"ll3v2ru4k34gkat4j"
"4gvkuj4k3r2tlal43"
== ["4gvkuj4k3r2tlal43" "4gvkuj4k3r2tlal43"]
```

[10:32:29](#i475eI9KdRu3vPBaXTgsvYRBVPw-IaX18mTm1uOt-zE) <GiuseppeChillemi (GiuseppeChillemi)>:
> But if you run `random s` a second time in the console, you get a different result

â˜ 

This is the point

[10:37:02](#HRftUqO-e4S0jm9qLolfX-uZCnuRwZxrySOQriMSlOA) <GiuseppeChillemi (GiuseppeChillemi)>:
With the last examples you have totally confused me. Where could we move to talk? red/help?

[10:43:59](#XrEhivy26g6q7gs2S2-kUNOmhkEGXsGA7gN1MCNSX-k) <riprwwa (riprwwa)>:
I see this as: the probe expressions are evaluated while the block is being reduced.
This makes us see the 2 different strings, as probe outputs stuff to the console, aka has side effects.
But the end result is the same series s, to which random has been applied twice in-place - the block refers to the same series s

[10:46:01](#LNH56JT-f77Pd8WQ6tK0oQmQewOJGFEDc2GZB7bZzwU) <GiuseppeChillemi (GiuseppeChillemi)>:
@riprwwa I will move this topic to red/help to continue, but now I need I hour to relocate.

[10:46:08](#ysnmjgNpjibLjb2l_pOBzyM-3Rfuxx-UkXa54R_Li7c) <GiuseppeChillemi (GiuseppeChillemi)>:
* @riprwwa I will move this topic to red/help to continue, but now I need 1 hour to relocate.

[10:50:36](#lWVb0BeXxyF2OlrH3evw9TEj1FB01E6GCcZubKFCCM0) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
```
>> s: "12345" random/seed 1 b: reduce [probe random s probe random s]
"52134"
"15324"
== ["15324" "15324"]
```
is same like:
```
>> s: "12345" random/seed 1 b: reduce [s s]
== ["12345" "12345"]
>> random s
== "52134"
>> random s
== "15324"
>> b
== ["15324" "15324"]
```
And that is really my final post on this topic.

[10:53:27](#qjWme7B1kAiLOWKsqt2TeC-T9CkFg03RSPU4EXX1zQw) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* ```
>> s: "12345" random/seed 1 b: reduce [probe random s probe random s]
"52134"
"15324"
== ["15324" "15324"]
```
is same like:
```
>> s: "12345" random/seed 1 b: reduce [s s]
== ["12345" "12345"]
>> random s
== "52134"
>> random s
== "15324"
>> b
== ["15324" "15324"]
```
And that is really my final post on this topic. If you don't understand it, you should go to the first class again and learn, why we have to use `copy` when working with series.

[10:55:45](#VY-LKDZwFzOWpc-XZNJ3xgSf56f3wCY410zKPhPm__g) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* ```
>> s: "12345" random/seed 1 b: reduce [probe random s probe random s]
"52134"
"15324"
== ["15324" "15324"]
```
is same like:
```
>> s: "12345" b: reduce [probe append s "x" probe append s "y"]
"12345x"
"12345xy"
== ["12345xy" "12345xy"]
```
and
```
>> s: "12345" random/seed 1 b: reduce [s s]
== ["12345" "12345"]
>> random s
== "52134"
>> random s
== "15324"
>> b
== ["15324" "15324"]
```
And that is really my final post on this topic. If you don't understand it, you should go to the first class again and learn, why we have to use `copy` when working with series.

[10:55:51](#jRuzlwBsL-0r7s519qMC83_Ompr4Nagd1nUxfZOy-Js) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
* ```
>> s: "12345" random/seed 1 b: reduce [probe random s probe random s]
"52134"
"15324"
== ["15324" "15324"]
```
is same like:
```
>> s: "12345" b: reduce [probe append s "x" probe append s "y"]
"12345x"
"12345xy"
== ["12345xy" "12345xy"]
```
and:
```
>> s: "12345" random/seed 1 b: reduce [s s]
== ["12345" "12345"]
>> random s
== "52134"
>> random s
== "15324"
>> b
== ["15324" "15324"]
```
And that is really my final post on this topic. If you don't understand it, you should go to the first class again and learn, why we have to use `copy` when working with series.

[10:59:58](#sIb9ZYqcVqmUz0kBwGGL1QrHry29gHhIJOSlLQVuI7I) <GiuseppeChillemi (GiuseppeChillemi)>:
@Oldes don't offend me, otherwise I will say to Hostile Fork that you love his Ren-C and you are asking to accept all his modifications to your Rebol3 í ½í¸í ½í¸í ½í¸

[11:15:06](#DAJmzlxJwkka7-gSvbwmdsYBd5dk2C-istFsN21eM1s) <GiuseppeChillemi (GiuseppeChillemi)>:
I have finally understood. The console shows the correct behaviour.  It returns the same series but modified. Inside the block the second `random` modifies the series a second time,  so that all results,  being the same series are modified. In my code there are 4 random numbers but see just the last result in all (the last modification of the series).

[11:21:45](#hdqcM6Y6bsXCFRaXgwnaiHP75HjLMC-GJ7v7tUaRCQM) <GiuseppeChillemi (GiuseppeChillemi)>:
It modifies the series and returns the original one. This was to understand.  Because another possible hyphotesis where valid too,  like `random`returning a new instance of the series,  randomizing its content in the copy,  and at the same time returning the same randomized original value when called again in the block.

[11:22:41](#cQN9nTr07H438Cq7yoRWHoUxe5nQsJx1CpaHfoQr7DQ) <GiuseppeChillemi (GiuseppeChillemi)>:
* It modifies the series and returns the original one. This was to understand.  Because another possible hyphotesis was valid too,  like `random`returning a new instance of the series,  randomizing its content in the copy,  and at the same time returning the same randomized original value when called again in the block.

[11:23:20](#Ap81BQ4AZXgCtdRYacsxq6ni_eEvUyhXDHx2QjzpJDI) <GiuseppeChillemi (GiuseppeChillemi)>:
* It modifies the series and returns the original one. This was to understand.  Because another possible hyphotesis was valid too: I have supposed `random`was returning a new instance of the series,  randomizing its content in the copy,  and at the same time returning the same randomized original value when called again in the block.

[11:31:52](#AFwGjn6T7qLeblFOttbne-zRoXivW-TU9KlArKON3HI) <GiuseppeChillemi (GiuseppeChillemi)>:
@Oldes Thank you, this time I have been caught by a really powerful illusion. Without your example where you have used `happend`, I would still be entrapped. Redbol languages have multiple possible working scenarios you can imagine, because of the multiple ways things could be done. 

[11:33:08](#CQYMrs-ssBqiWxZgKEm38joX5JMxUFoVAbIXf7rH3iY) <GiuseppeChillemi (GiuseppeChillemi)>:
(I promise I will not tell Hostile Fork you love his work and you want to merge í ½í¸ƒ )

[11:47:33](#COBygCNuHi27Zu9TldVdbx-JN3hcr_zt-zpRi-lzYlo) <GiuseppeChillemi (GiuseppeChillemi)>:
I sudden storm has forced me to remain home, so I have done further investigations on all parts involved.

Also, 2 linguistic problems in the help string have influenced the creation of multiple interpretations:

`Maximum value of result (modified when series)`

What is modified here: the "result" or the maximum randomized value when series?

And also:

`Returns a random value of the same datatype; or shuffles series`

Does it shuffles the series and returns the shuffled value, or "shuffles" the original series?


I would modify the function description into:
 
`Returns a random value of the same datatype; shuffles the original series and returns it`



[19:24:18](#kQlNYyo2GLbB2lVUrWYxaF0c5whkXprTnyGPlLnFu1M) <greggirwin (Gregg Irwin)>:
@GiuseppeChillemi per your console question:
```
>> random a: "lak4tl24k43g3rvuj" 
== "llk43kt4u2r3avgj4"
>> random b: "lak4tl24k43g3rvuj" 
== "k3akjltv2u44l3g4r"
>> same? a b
== false
```
It's very important to remember that the console does not work exactly like in a script in this sense.

[19:24:47](#FsVwwMV4uBSgjOqGxskg2QwTkFeVkYbb_P_kxIYkSLU) <greggirwin (Gregg Irwin)>:
It's easy to trip over, especially for those new to Red, but I still do it once in a while too.

[20:22:29](#f2lVeWY7nHpv0wzcSdC3z_Gdh4HcsF49s1YJFd-ALEg) <GiuseppeChillemi (GiuseppeChillemi)>:
@greggirwin Gregg the cause of the problem was to find in many different concurrent and possibile scenarios. My brain has been totally blocked, thinking that:
`a: "k3akjltv2u44l3g4r" [random a random a]` would not modify the original series but it generates the same random value for the first time it was encountering  `"k3akjltv2u44l3g4r"`. Instead, as all the elements of the block refers to the same string, the last round of `RANDOM` was shown into all the elements of the block.  This is the same output you have if the function would work generating the same output for the first call of random to the passed string.

[20:23:24](#v0QGKOvitx_NtG_OhsjVDIMY3AMhX7485-HZUoQoXG4) <GiuseppeChillemi (GiuseppeChillemi)>:
* @greggirwin Gregg the cause of the problem was to find in many different concurrent and possibile scenarios. My brain has been totally blocked, thinking that:
`a: "k3akjltv2u44l3g4r" [random a random a]` would not modify the original series but it was generating the same random value when it encounters  `"k3akjltv2u44l3g4r"` for the first time. Instead, as all the elements of the block refers to the same string, the last round of `RANDOM` was shown into all the elements of the block.  This is the same output you have if the function would work generating the same output for the first call of random to the passed string.

[20:24:12](#IC8kOwNcztXLE69h0mic_vtNVKJHNv7-usOjILr1pFI) <GiuseppeChillemi (GiuseppeChillemi)>:
* @greggirwin Gregg the cause of the problem was to find in many different concurrent and possibile scenarios. My brain has been totally blocked, thinking that:
`a: "k3akjltv2u44l3g4r" [random a random a]` would not modify the original series but it was generating the same random value when it encounters  `"k3akjltv2u44l3g4r"` for the first time. Instead, as all the elements of the block were referring to the same string, the last round of `RANDOM` was shown into all the elements of the block.  This is the same output you have if the function would work generating the same output for the first call of random to the passed string.

[20:24:30](#Yw4ea7SRKu_OpCcRVkELucdxp3SF037x_Bjd2L8r9eE) <GiuseppeChillemi (GiuseppeChillemi)>:
* @greggirwin Gregg the cause of the problem was to find in many different concurrent and possibile scenarios. My brain has been totally blocked, thinking that:
`a: "k3akjltv2u44l3g4r" [random a random a]` would not modify the original series but it was generating the same random value when it encounters  `"k3akjltv2u44l3g4r"` for the first time. Instead, as all the elements of the block were referring to the same string, the result of the last round of `RANDOM` was shown into all the elements of the block.  This is the same output you have if the function would work generating the same output for the first call of random to the passed string.

[20:25:33](#HS0tLmreYKgFY9pu1bLdM5nrXIbR3lBhhntpFw9lFXM) <GiuseppeChillemi (GiuseppeChillemi)>:
* @greggirwin Gregg the cause of the problem was to find in many different concurrent and possibile scenarios. My brain has been totally blocked, thinking that:
`a: "k3akjltv2u44l3g4r" [random a random a]` would not modify the original series but it was generating the same random value when it encounters  `"k3akjltv2u44l3g4r"` for the first time. Instead, as all the elements of the block were referring to the same string, the result of the last round of `RANDOM` was shown into all the elements of the block.  This is the same output you have if the function would work not modifying the original string and genereating the same output when it is called over `"k3akjltv2u44l3g4r"` 

## 28-Aug-2022

[18:35:53](#h1Lbb55i-OS7GKaNaEZ-ePYuL-h-VRVJ-YVFHVXWjjw) <luce80>:
If I have a custom style in whose `template` I set `options` they are delete and overwritten by user options, is it by design?:
```
system/view/VID/styles/ascroller: [
	default-actor: on-change
	template: [
		type: 'scroller
		size: 16x16

		options: [direction: -2]
	]
	init: []
]
view [
	scrl: ascroller options [a: 1 b: 2]
]
?? scrl/options 
; scrl/options: [a: 1 b: 2 style: ascroller vid-align: top at-offset: none]
```
How can I have default `options` ?

[18:44:45](#HvNYbf1-HzntbUBg91eL3d502CWjBb5bqSaTYFERuq8) <greggirwin (Gregg Irwin)>:
You do have default options. :^) As you say, they are overridden by the user.  `Options` is just a piece of data like any other. There's is no built-in mechanism for templating or merging from VID. For now, the best you can do is document it for users, unless you want to do quite a lot of deep work on VID itself. In that case, the first thing to do is make a proposal to see if it may be accepted.

[18:45:15](#JZ174iQsv5WHJu_zzs8l9cE5N6g07Wvjyzh-ba59UII) <greggirwin (Gregg Irwin)>:
A general templating and merging system is on my list, as it's useful in many contexts.

## 1-Sep-2022

[4:18:40](#LL6B-qQKeJFd59USoEED_8XH9Q_X2htUm97qA_5ILYI) <qtxie>:
> I installed the new GUI and CLI console builds on a Raspberry PI running the latest 32-bit OS (Buster) which is fully updated. The cli console runs fine but there is an issue with missing libcrypto.so.1.0.2

@PeterWAWood Seems the binaries on the download page are wrong for RPi. It should use `libcrypto.so.1.1` if it's compiled with target `-t RPi`.


[4:19:36](#qfhi9ertqIbWOIpBPsNRprb6CEk9tg6cid6FOP_jnQY) <qtxie>:
BTW, you can use 64-bit OS too.
https://github.com/red/red/wiki/%5BNOTE%5D-Linux-GTK-dependencies#armbian

[4:20:08](#Q929Y5cV7MU7gqTJPrXAN9AYqfnJSalZTP_XLN4JjtM) <qtxie>:
* BTW, you can use it on 64-bit OS. https://github.com/red/red/wiki/%5BNOTE%5D-Linux-GTK-dependencies#armbian

## 3-Sep-2022

[12:16:02](#T7CTW6Xm6SLPMST4iLe4KbQcEDbRQlRwPyhIOpRT234) <hiiamboris (NOT THIS ONE)>:
Uhm.. what do you guys think of this?
```
>> f: func compose/deep [n [(number!)]] [? n]
== func [n [make typeset! [integer! float! percent!]]][? n]
>> f 10
N is an integer! value: 10
```

[12:17:08](#qWXfHmThMHxRPwR07BmUywqG0626VLXt-uuVD9QhINM) <hiiamboris (NOT THIS ONE)>:
```
>> f: func compose/deep [n [(number!) (any-string!)]] [? n] ?? f
f: func [n [make typeset! [integer! float! percent!] make typeset! [string! file! url! tag! email! ref!]]][? n]
>> f "abc"
N is a string! value: "abc"
```

[12:17:18](#NZrSpe2RCHY1oq8qL1O6F2mKtdybeaRQ1sToUKOrxwA) <hiiamboris (NOT THIS ONE)>:
I suppose it's a `help`s problem

[12:18:12](#akhqisfZsY32TO5i-HTybDhH06lWl-7LAPXS6D6VEwQ) <hiiamboris (NOT THIS ONE)>:
though I can abuse it:
```
>> f: func compose/deep [n [(number!) (number!) (number!)]] [? n] ?? f
f: func [n [make typeset! [integer! float! percent!] make typeset! [integer! float! percent!] make typeset! [integer! float! percent!]]][? n]
>> f 10%
N is a percent! value: 10%
```

[15:37:45](#BQWFPlNuq_NBZO4L4v8bRCWPvaafASi1IHY9jcNOrBo) <dockimbel>:
That's legal both in Red and Rebol. The arguments types are usually specified with words, but it's only because it's more convenient for us to write even though it's just a proxy for the real thing: datatypes and typesets. The "abusing" example is not a problem as multityping is allowed, it may affect performances though in Rebol. In Red, the arguments cache would squash all type declarations for a given argument into a single typeset.

[15:38:23](#LxrbkHURtPIRqTcZhH88jQ3tgMyX1T37f6vL9_bzWH8) <dockimbel>:
`help` should be adjusted to take such cases into account.

[15:38:31](#wS3AqCqV59eQZOkm4k2LXtCDlFVpjqK2xvmkf2-4Kzc) <hiiamboris (NOT THIS ONE)>:
Also, is this a bug or necessity @dockimbel ?
```
>> o: object [x: 1 on-change*: func [w o n] [print mold/part context? w 200]]
== make object! [
    x: 1
]
>> set o none
make object! [
    datatype!: datatype!
    unset!: unset!
    none!: none!
    logic!: logic!
    block!: block!
    paren!: paren!
    string!: string!
    file!: file!
    url!: url!
    char!: cha
== none
>> o
== make object! [
    x: none
]
>> í ½í¸‰ 'x word was reported bound to `system/words`
```

[15:46:36](#vmdlkEs7jGD4gD26w2fvT4CfDiTobSigoVTAqUHkDXg) <dockimbel>:
Neither. `system/words` is not a normal object, it serves as a first-class symbol table also. So every symbol gets an entry there (set to `unset!`) by default. It's an implementation choice (same as in R2, not sure if R3 changed it or not). Anyway, modules inclusion might change that implementation model eventually.

[15:47:00](#nWNtyR11cmoyA05VxPMHo74eYlam7hip0X8U0yKNOPI) <dockimbel>:
* Neither. `system/words` is not a normal context, it serves as a first-class symbol table also. So every symbol gets an entry there (set to `unset!`) by default. It's an implementation choice (same as in R2, not sure if R3 changed it or not). Anyway, modules inclusion might change that implementation model eventually.

[15:47:30](#JftKirJi_2ATDHcRDjnrHhGa5jDsu8HnK52OldS6iN8) <dockimbel>:
* Neither. `system/words` is not a normal context, it serves as a first-class symbol table also. So every symbol gets an entry there (set to `unset!`) by default. It's an implementation choice (same as in R2, not sure if R3 changed it or not). Anyway, modules inclusion might change that implementation model eventually.
```lisp
>> to-word "googles"
== googles
>> skip tail words-of system/words -1
== [googles]
```

[15:47:50](#KCMqt90W9pTzidQSyGFFcSOLKNQri0fBYnQBRbM83Vw) <hiiamboris (NOT THIS ONE)>:
No, I know that. But all other set operations report words bound to the proper object.

[15:48:15](#rWPu6C30EGArSpHZsVTSCTx_4IsHhZRVpEwm6kDn2FU) <hiiamboris (NOT THIS ONE)>:
```
>> o/x: 1
make object! [
    x: 1
]
== 1
>> set in o 'x 2
make object! [
    x: 2
]
== 2
>> o/('x): 3
make object! [
    x: 3
]
== 3
```

[15:48:50](#rZe035byor-Bh80rr_Nb24LuBha0xX3cUIjRLzgEJoU) <hiiamboris (NOT THIS ONE)>:
Shouldn't `set obj value` also take words from object's context?

[15:58:14](#m7-6kPzfd1oJ37qUaGUpGkMhqe3On2FtLe5WgLQ1kfE) <dockimbel>:
It should provide a word bound to object's to `on-change*`, though it seems that can't be always [guaranteed](https://github.com/red/red/blob/master/modules/view/view.red#L422).

[16:00:45](#WRZBN7q5wqrWkxnjvLIG_C7oc7I0KrhhxOEQVgAR34M) <GiuseppeChillemi (GiuseppeChillemi)>:
@dockimbel I don't think Rebol 3 system context works as R2 and Red. `Load` has the following refinement: 
`/unbound - Do not bind the block`
So, if the block is unbound, its word elements are not added to the system context and this means that not all symbols have there an entry.

[16:01:23](#K9CXN91n9ICHURDcDPMyd1BpCg-KuVwT3PqlS77LPWw) <GiuseppeChillemi (GiuseppeChillemi)>:
* @dockimbel I don't think Rebol 3 system context works as R2 and Red. `Load` has the following refinement: 
`/unbound - Do not bind the block`
So, if a block content could be unbound, the word elements are nott added to the system context and this means that not all symbols have there an entry.

[16:01:36](#tuKnyPNY01qrry_dg1lKdMaggHXo3_ULQmQqpNOLWc0) <GiuseppeChillemi (GiuseppeChillemi)>:
* @dockimbel I don't think Rebol 3 system context works as R2 and Red. `Load` has the following refinement: 
`/unbound - Do not bind the block`
So, if a block content could be unbound, the word elements are not added to the system context and this means that not all symbols have there an entry.

[16:12:41](#mQfYcFeL8yOe5KtnI2d5iSHyEXYJkYMuNAQcpU7WMnU) <hiiamboris (NOT THIS ONE)>:
@dockimbel it seems like while context's words are `red-word!`s, they don't carry the binding info? I see `_object/set-many` just passes them as is to `fire-on-set`.

[16:13:19](#fYs-FO8w1McVAATyaaOBjewjEhkQHQDkn7DwqiJ4aco) <hiiamboris (NOT THIS ONE)>:
I also think it's fixable if `fire-on-set` sets the context info from it's `obj` argument.

[16:13:51](#n8ngaTCvjxE8vmCkTRgchZtiVUk155NAQWqwnznhe7o) <hiiamboris (NOT THIS ONE)>:
Question is though, why aren't they bound in the first place?

[16:29:06](#SAneumgLcaCVnIbnrWMcoLy5id076JnpvCheMKmxY_E) <dockimbel>:
Because they should have been used as "symbols" only, that are combined with a context node to form words on demand, but we got lazy and just directly reference them or `copy-cell` those slots instead of properly constructing them  when needed. Also object events now could benefit from pre-bound words from context's symbols array.

[16:51:02](#SshCxLPm6LuWHeDM0hwg_zrwwPX3DrucqgsPSOqpKm0) <hiiamboris (NOT THIS ONE)>:
OK I'm putting this into an issue then

## 4-Sep-2022

[12:46:34](#eB-XC6mPbyBp8wkpvgHHgO-aCJQJKjhm-PtEwkPoIcM) <luce80>:
For some values of font size the calculated text length is wrong and the text is clipped. I am on Win11
```
>> about
Red 0.6.4 for Windows built 4-Sep-2022/12:59:01+02:00  commit #d85b2ef
>> view [text "targets react to slider , slider reacts to field" bold font [size: 10]]
```

[12:49:38](#n5sHvaY3cHD9J4elnZQyvHQrztrc1yIFO5z02yID3FY) <luce80>:
[![image.png](https://files.gitter.im/5902e8c1d73408ce4f5b94ba/xqWu/thumb/image.png)](https://files.gitter.im/5902e8c1d73408ce4f5b94ba/xqWu/image.png)

[12:49:57](#TXeT6OuVem-aO2LILK7xixxtWxHmXtoUB10jYi9l-JY) <hiiamboris (NOT THIS ONE)>:
W10: ![](https://i.gyazo.com/3eb32483e2ad053071e5920f05b5f15b.png)

[12:50:14](#N7bWMJoINNtVTsg4nYHReXbU2gt9BchDKQXOb7hCIrM) <hiiamboris (NOT THIS ONE)>:
Make an issue

[12:52:14](#d5vD1P0pDduwn0CTxUyfiLi5euN-Eyk3Bozq7Y4KRuU) <hiiamboris (NOT THIS ONE)>:
Ellipsization in GUI console also regressed for me

[12:52:55](#l_zkhifV-MVfsPEJO02DS2yLCGMfpBBovuNDd4ipGn0) <hiiamboris (NOT THIS ONE)>:
It's the `wrap` flag that's the culprit

[12:53:45](#JFVqMnv4c1Y4KgGb8ZVqepx1QiZ541IkuNiuXDARKxE) <hiiamboris (NOT THIS ONE)>:
![](https://i.gyazo.com/e84cca6d43764106b98f70e6c9ab9c28.png)

[12:54:14](#xA0Xm_7DY1s7SbAlLVocIh3vDM3nEFEcTf-f9Vylb6A) <hiiamboris (NOT THIS ONE)>:
well, also a failure í ½í¸‰

[13:01:20](#8UKHpIa9UP41i_X0lx7HsGpR8y3op2eJ-OpGFmdenoc) <luce80>:
About ellipsization wouldn't it better to have a third option instead of assuming ellpsization instead of clipping ?

[13:10:33](#NvI4bUQKRKlJ9ip-421_t4XsiD4OwK8fTiPnbg9VkHw) <hiiamboris (NOT THIS ONE)>:
Well, yeah, I agree. Open a REP for the 'ellipsize' flag if you wish :)

[13:11:21](#Mssfav4507S6opQBQtp2kXTBxlTDhyykXiHjtqjxFxI) <hiiamboris (NOT THIS ONE)>:
UI labels should never ever ever be clipped or ellipsized.

[13:11:57](#KJKznNB8_kPxtd69quPH5dOT3D4YkKUjt3VeiDRGZhE) <hiiamboris (NOT THIS ONE)>:
But when it's data, like long file paths, not UI, then it should be controllable.

[18:41:03](#CeVQlWdl99r37Bz7VJN2TRyEdIm_a7JRj_cRNclJcM0) <hiiamboris (NOT THIS ONE)>:
@dockimbel I'm getting a very hard to isolate stack-related crash in Sep 3-4 builds, but not in Aug 31. Any idea?

[20:53:13](#vv4CvVFUsQ-_Ih5D4DLH851xdketisdeM9G80tkCVz4) <hiiamboris (NOT THIS ONE)>:
Similar to `do [do [do [do [...` crash I reported but can't find. And involves throw.

[20:53:20](#fytamg1QqIO5nHKjQFCkWFOU-PU7v0fitM6B7PEEIu4) <hiiamboris (NOT THIS ONE)>:
* Similar to `do [do [do [do [...` crash I reported but can't find. And involves throw and certain stack depth.

[21:03:47](#CDvKH4_Dfs-46mao6PaD6Y9HCu0yoIT-9hgwFT6AuEA) <hiiamboris (NOT THIS ONE)>:
Found it

[23:04:24](#3Ak8vFLTOkxoTfLDIuQL2CtaBNexjAgVwZX89v1tdQ0) <dockimbel>:
What was the cause of the crash?

## 5-Sep-2022

[8:12:03](#hEvWJO_kq_QJgPvwyrCAXAknNw8w3ewsDUUFYwqEf3s) <hiiamboris (NOT THIS ONE)>:
#4880

## 6-Sep-2022

[16:56:02](#qS290XyaxDyhGHP_ReqwHNeMRs2YqEV_wlM4wnSBk6k) <luce80>:
Can I make an issue for this ? :
```
>> about
Red 0.6.4 for Windows built 4-Sep-2022/12:59:01+02:00  commit #d85b2ef
>> system/view/silent?: yes
== true
>> view [base (error)]
*** Throw Error: no catch for throw: silent
*** Where: either
*** Near : no
*** Stack:  
```

[17:04:42](#sdcWDFOKanVaG0cQR0JViU2wMysX5Ynuk_8Ad_-nxdc) <hiiamboris (NOT THIS ONE)>:
Yes please :)

## 8-Sep-2022

[19:40:48](#IONMmjYL_br_Pe2ZnbbpdVf1iM3AECFhV3sQIeM7OzI) <gurzgri>:
Looks like Red doesn't get it right: https://daniel.haxx.se/blog/2022/09/08/http-http-http-http-http-http-http/

```Red
>> type? http://http://http://@http://http://?http://#http://  ;== url!
>> url-parser/parse-url http://http://http://@http://http://?http://#http://  ;== none
```

[20:00:27](#4YplC1ROc6Y4eD48oGYD27nI2kkjLIWqSs0Y4M9x32M) <greggirwin (Gregg Irwin)>:
The lexing rules for `url!` are simplified, and don't match the RFC spec, which `decode-url` is meant to.

[20:00:45](#WuUTZa0H3_nYhvRjbwLCzjB3t_V78PXyiR790d06JRU) <greggirwin (Gregg Irwin)>:
* The lexing rules for `url!` are simple, and don't match the RFC spec, which `decode-url` is meant to.

[20:02:14](#M9Z9pJ4-hqaUBVcI9oTvG9TuXxZKYftxrxl8-qGEpPc) <greggirwin (Gregg Irwin)>:
Now it's a matter of seeing where the decoder goes wrong, and if we care. :^) I'll read the article first.

[20:04:34](#vf4adIOH3qk44y4YwSgMxZrgDbuDfQ0RKCawxccWTPA) <gurzgri>:
We'll that's truly an edge case and I was posting it mostly for the fun of it, should've gone into https://gitter.im/red/chit-chat instead.

[20:04:48](#4eqR-s5yLTACNaG4ElnR0qQNUZkDT4CWsKCizxRHBko) <gurzgri>:
* Well that's truly an edge case and I was posting it mostly for the fun of it, should've gone into https://gitter.im/red/chit-chat instead.

[20:10:25](#xp6kOMOujUATEeVANHfc-bT_qnIxYjKd4Xpia9WnLv0) <greggirwin (Gregg Irwin)>:
He notes the escape rules, but the RFC also has notes about the port number if the colon is used to indicate one should exist. Red's parser *does* require a number there, avoiding the "What is the default port for the scheme?" question. We can note that as an open question.

[20:13:12](#HyG72KeGJvvaeOBCdiiu328l5wyzWlxl-jBZsUV_9XQ) <greggirwin (Gregg Irwin)>:
The decoder could also just set the port to `none` in that case, leaving it to the user to set if desired.

[20:13:49](#-caW9Rjt5Go0s3YONLuM-52jXdzBato9ggsIciC2Rjg) <greggirwin (Gregg Irwin)>:
`encode-url` is already set to handle `none` ports.

## 12-Sep-2022

[11:37:53](#fT8cdzaDxL7C5ovrS-v-D0XFCn6i7pdGTRJS12URLxg) <hiiamboris (NOT THIS ONE)>:
@dockimbel is this a map bug or error message bug?
```
>> m: #()== #()
>> k: 1
>> m/:k
== none
>> unset 'k
>> m/:k
*** Script Error: cannot access :k in path m/:k
*** Where: catch
*** Near : m/:k
*** Stack:  
```

[11:41:33](#7dqc1BGjlQDgxDb_M0raGsG1-X8xdKCDKrekyXDczsA) <hiiamboris (NOT THIS ONE)>:
* @dockimbel is this a map bug or error message bug?
```
>> m: #()
>> k: 1
>> m/:k
== none
>> unset 'k
>> m/:k
*** Script Error: cannot access :k in path m/:k
*** Where: catch
*** Near : m/:k
*** Stack:  
```

[11:44:26](#wiZbejYn99FIczgW3fkoDe6X__05Xw2-TgmA59OGbhw) <hiiamboris (NOT THIS ONE)>:
I guess I expected it to say `k` is unset or smth. Otherwise it looks as if I'm accessing an object, because map lookups are not producing errors usually. Had to double check that it's indeed a map.

[12:10:08](#WbTmxezsIOlzxisWSud53nOdVkQjurrSAcomBCWuYE4) <dockimbel>:
It works as expected, see the same case for blocks:
```lisp
>> b: []
== []
>> k: 1
== 1
>> b/:k
== none
>> unset 'k
>> b/:k
*** Script Error: cannot access :k in path b/:k
*** Where: catch
*** Near : b/:k
*** Stack:
```

[12:11:10](#3qCMVUHqN1NdCaVeBoVlOYbHgIJ7wbGc1frSYheKEvU) <dockimbel>:
The `b/:k` path cannot be resolved because `k` has no value. No lookup occurs in such case.

[12:16:19](#4SAW1tx8jjaAtYaRTSwsFg_Q24c6414U9ZxX7FAAP0Q) <hiiamboris (NOT THIS ONE)>:
I see

[17:44:47](#9SLDETBlrrJSJShT8wKLRA2RIVcGZO0NUrqix3je6CI) <dsunanda (dsunanda)>:
I have a large GUI app that works fine on a month-old Red.exe. But running it on yesterday's (red 11-sep-2022)  causes the Red console to very quickly ping out of existence.
To narrow down the failure point, I really need something like TRACE that can write its output to a file in real time.
Anyone got something like that? Or some other ideas? Thanks!

[17:47:40](#pxepU9lAsz0BPJ6HuAj3wcihYFHs0kC3vNz9RSHor0I) <hiiamboris (NOT THIS ONE)>:
I'm afraid trace only works on small snippets.

[17:48:10](#6F2DqI0q40G3UOHLAHyR2l2JwuuDkikWZsNKLOuvTmE) <hiiamboris (NOT THIS ONE)>:
Compile a CLI console in debug mode, look at the stack trace for hints.

[17:48:47](#Hq4liCGvorA6jE3Hm68vGlPuC73DiWg0_q8vfnQDbMo) <hiiamboris (NOT THIS ONE)>:
https://gitlab.com/hiiamboris/red-cli/-/tree/master/mockups/redbuild

[17:55:13](#C-ZpNDGmguviM7WL91pobjFj30BEKdyzOod8LZwmF20) <dsunanda (dsunanda)>:
@hiiamboris Would a compiled command line  run the GUI?

[18:01:57](#vNJ-bATTyt7GVYYbbuvWQdcpGdKY3cESy0hR7_UBFTo) <hiiamboris (NOT THIS ONE)>:
If you include the View module, yes

[18:11:01](#femltuIji2JjmlrxBN7oHeR1nr-hY0X66aoP2R9gWe8) <dsunanda (dsunanda)>:
Thanks .... No need (maybe). I found the line of code by other means....
....It's setting a PANEL's visible? flag to TRUE, when it already is TRUE. Do that 3 to 5 times and the GUI console vanishes.

Quick fix: The code works fine if I only set it TRUE if it is currentlyFALSE.
The problem is absolutely repeatable at that line of code.

But I can't (yet!) replicate it in a small snippet for a bug report.  That's the next puzzle....

[18:11:27](#1yq6WdNZDFd1j7Ttfu3z2RhO7aGEfE5S4qXRW5MGU2A) <dsunanda (dsunanda)>:
* Thanks .... No need (maybe). I found the line of code by other means....
....It's setting a PANEL's visible? flag to TRUE, when it already is TRUE. Do that 3 to 5 times and the GUI console vanishes.

Quick fix: The code works fine if I only set it TRUE if it is currently FALSE.
The problem is absolutely repeatable at that line of code.

But I can't (yet!) replicate it in a small snippet for a bug report.  That's the next puzzle....

[18:51:46](#3WIfcrUtfXNSNPo01cy-2IttS9uoRchMaKsmkoULtxc) <dsunanda (dsunanda)>:
This will crash today's (2022-09-12) Window's GUI console in usually less than 10 clicks of the "Update" button.  Comment out the "this!" line for no crash.
```
win: view/no-wait [
     p: panel 200x200 [box 100x100 blue box 100x100 red]
     return
     button "update" 
       on-up [
          clear p/pane
          append p/pane layout/only compose [box 100x100 (random white) box 100x100 (random white)]
          p/visible?: true    ; <-- this!
       ]     
     ]
     ```

[18:56:09](#wRtQvBoBxPZdnpoRYCW8N6mJgCfYI4UHuinRbsmjxIA) <greggirwin (Gregg Irwin)>:
Confirmed.

[18:57:29](#qWaRPbZ4cHeRhgukuZ3i9clM7NtlvMqHnH43b49waAw) <greggirwin (Gregg Irwin)>:
Does not crash on my local build from 08-Sep.

[19:01:04](#0KRZYkRDkPgwwcWCWVCZEVedqGwZmG_ljlXc97_-4No) <hiiamboris (NOT THIS ONE)>:
I'll report it

[19:04:12](#7Q-BrAF9QiMs3jduZ0N4iLieWeiRWQJwXgiUi3vCOuI) <hiiamboris (NOT THIS ONE)>:
Thanks for narrowing it down, @dsunanda 

[19:07:12](#XM4ZB6-L8kusoPHLqhbeSq_tgIg7jz8Qgx48Xyni_00) <dsunanda (dsunanda)>:
 @greggirwin Thanks. Looks like it is a very recent regression. I was fine until I upgraded from 21-Aug.
@hiiamboris Thanks. It was fun (for some definitions of the word fun).

[19:27:52](#qWPrkVsGW78OMr7auUVy4JQn7Y55tvNMy_mWjKnIV5o) <hiiamboris (NOT THIS ONE)>:
Actually I'm able to crash any console I have

[19:28:00](#C7jOm4ZBLR4DIhZjaV6I1aXJnDpWRikvERWKut4ZfJs) <hiiamboris (NOT THIS ONE)>:
Just for some it takes a little longer

[19:31:05](#UO21InS7NR0l0yrz7uCJOxuOZ2D5xqSw0I5yqL9PPSw) <greggirwin (Gregg Irwin)>:
I clicked about 100 times in my 24-Aug build with no issue.

[19:37:29](#1LtHmLuCQ5O9ZBCFoGmGt3831ghwBYpR_zt8wjIwVgo) <dsunanda (dsunanda)>:
@hiiamboris Confirmed.
Using your "rate" version (Git hub #5208), older versions will crash, but may live for before crashing 100+ interations.
So it's an old bug that is growing stronger :)

[19:37:55](#XF7Z1CmlaOasG2RoOn9Dasl2rA4Qe_aj3b6EjvA3Ov0) <dsunanda (dsunanda)>:
* @hiiamboris Confirmed.
Using your "rate" version (Git hub #5208), older versions will crash, but may live for 100+ interations  before crashing.
So it's an old bug that is growing stronger :)

[19:38:48](#1s9M-Qx9wb9N-iHsHV8Qg_9WFItltMno4itD56818ZU) <greggirwin (Gregg Irwin)>:
Mutating.

[19:40:43](#4Zvwy1TethSRZo39lpJCbUyVjAHsB7bQmk370nBhhTY) <greggirwin (Gregg Irwin)>:
Indeed. Boris' code crashes things nicely. 

[19:42:43](#XNrAWlwWU1efDs-hYl6GhYI-rZocDpecsIYnBOe1Agk) <pekr (Petr Krenzelok) (@pekr-556ae86715522ed4b3e131b2:gitter.im)>:
My fresh console died in 3 clicks ....

## 13-Sep-2022

[5:06:30](#JiiGbGHs7ZAuq4z2by3Y1PlpNMP-MFD3MujUfhDCbkU) <dsunanda (dsunanda)>:
Wow - Fixed already! https://github.com/red/red/issues/5208 (and available in the 2022-09-13 build). Thanks all!

[6:23:32](#nydNF_Tt7RFKiGnsnugyHYWWrhQSR_QdZK_geB3dXTM) <greggirwin (Gregg Irwin)>:
Go @qtxie , go!

[16:00:42](#gm5N25nWF_XP6635ERiTM7wjbuP2pScncxRYv3LOjuU) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Is this know?
```red
a: 0.1 + 0.1 + 0.1   b: 0.3
; than:
equal? a b ;== true as expected
; but:
lesser-or-equal? a b ;== false ?!
```

[16:02:13](#wAzhbuFGNOwJll7SthNW8pGj17D2wH_enKLhApEZiSk) <hiiamboris (NOT THIS ONE)>:
yes, it's an FP precision issue

[16:02:56](#0ZbOdRrlONtAm5TnjqgfGXwIwA70ZAo6eajjhBp7GDc) <hiiamboris (NOT THIS ONE)>:
```
>> a: 0.1 + 0.1 + 0.1   b: 0.3
== 0.3
>> strict-equal? a b
== false
```

[16:16:57](#5suStkTbkX_G3oqAdfEDg6uL0RQBEdqvup-NHCoI6VY) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
`strict-equal?` is not related to it. At least if the equality check in `lesser-or-equal?` is not supposed to be `strict-equal` as well.

[16:17:37](#OekZ3YEnR_35ACDjUFSlvA5GUhKgg6LUUivAVfota0I) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Currently it should be called `lesser-or-strict-equal?`

[16:24:00](#ZNkt_xhk5Y1c5OgOo3mhUMfI_EbFZOp7KgrB_gHr1HY) <hiiamboris (NOT THIS ONE)>:
I guess so. But what do you propose? Fuzzy `lesser-or-equal?` and `greater-or-equal?`? Then you'll open another trap: both `lesser-or-equal?` and `greater?` could return true at for the same value.

[16:24:38](#-3fMtKr1W2YzDH6Gl0nkC82y2mIvOOfEvPPTJ5l9mKo) <hiiamboris (NOT THIS ONE)>:
Or removing fuzziness from `equal?` :)

[16:24:41](#U1pfjdAF02xCWSH4lCyD1AnGMvffGUJ_mY150GwFf5k) <hiiamboris (NOT THIS ONE)>:
* Or removing fuzziness from `equal?` ? :)

[17:33:15](#ZX_NqlEQ62evYEfh9tsjNQLq2tROqdwNyQm8QZ_p_GY) <greggirwin (Gregg Irwin)>:
Another good topic for the language spec. It's easy to explain, but not necessarily intuitive. We also have to weigh completeness and practical use. That's where the design falls now, though it isn't documented. By this I mean that comparisons for equality are likely used in different ways than their lesser/greater counterparts. Here it makes sense to nearness for the common case, while allowing a strict alternative, as doing it the other way around would be awkward. It does mean there are gaps in consistency however. @meijeru may have thoughts here.

My gut instinct is that the `lesser/greater+-or-equal?` should be relaxed, as this makes things consistent. It does mean a different gap in logic, and we have to ask if that needs to be filled. We don't have to do it until someone complains, and that can also be worked around for those rare cases. While still awkward, those cases should be much rarer.

[17:35:57](#2ulZVuJZmmCaHc_0thBZpo0Bq9wuBOMQrT891fD7UV4) <greggirwin (Gregg Irwin)>:
I started a [wiki page](https://github.com/red/red/wiki/Language-Spec-Notes) for spec topics.

[17:37:20](#kbD8eQaUFRcGNL1daXeHpt0VhMxEGi-NNRBUkbYOqGM) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
@hiiamboris I propose:
```
a: 0.1 + 0.1 + 0.1
b: 0.3
true == equal? a b
true == lesser-or-equal? a b
true == greater-or-equal? a b
true == not strict-equal? a b
true == not lesser? a b
true == not greater? a b
```

[17:47:13](#dFKIkRocsJP3_uO9PLRtK3zG1d2tyOf4lUuEdYfpNxk) <hiiamboris (NOT THIS ONE)>:
But how can you possibly achieve this?

[17:49:37](#v0VdC9W4HwAi-_fD3trHKBtI3F07bkKBaD6adr32SJA) <hiiamboris (NOT THIS ONE)>:
```
>> a: 1.0
== 1.0
>> b: to float! head change back tail to binary! a 1
== 1.0   í ½í¸‰ 1.0 + epsilon!
>> b == a
== false
>> b < a
== false
>> b > a    í ½í¸‰ greater? is already true
== true
```
Plus `lesser-or-equal?` will be true as well

[17:51:43](#eMLUJvonFqrOsHcjMg2k2uB_PZevgEQvjj8dhXwOlo8) <meijeru (Rudolf Meijer)>:
I suppose "simple" equality allows for deviation in both directions. But could we specify the deviation in the inquality tests (`<=` etc.) to be unidirectional?

[17:52:17](#vtISxYKUTIv8pGZjAzZmziNlXObRw8mGPBzAeoIEwRk) <meijeru (Rudolf Meijer)>:
* I suppose "simple" equality allows for deviation in both directions. But could we specify the deviation in the inequality tests (`<=` etc.) to be unidirectional?

[17:52:47](#NVPeeNtfdih6phYUxZ4ArSMzdCs9oBd7X3slS6Q6jo8) <hiiamboris (NOT THIS ONE)>:
It will be the same as today (no deviation).

[17:53:27](#0UgHgkPeRAy6_sKD6jNWUlSvTtuQnW8o2lPKcqVYqig) <greggirwin (Gregg Irwin)>:
> b: to float! head change back tail to binary! a 1

What is the use case there @hiiamboris ?

[17:53:54](#JT2zJ_2-TdSYW7KYCUx4tiAsBYioEkzMuy0KhDOCVVo) <hiiamboris (NOT THIS ONE)>:
Sorry, where?

[17:54:14](#HoXWH2w_tFcJB8Aoq5BHiN5jungmx4P4TNH55f3iz6U) <hiiamboris (NOT THIS ONE)>:
I just created a next possible float number.

[17:54:28](#Qhgajzs3dN0mgPCmS1reoMc-KCb2sc680HQrTvR4JT0) <hiiamboris (NOT THIS ONE)>:
* I just created a next (nearest) possible float number.

[17:55:16](#HSNbstBAl9dMgfMH54Vq4p46rOEroaL92ULqD7IEwCI) <hiiamboris (NOT THIS ONE)>:
```
>> to binary! a
== #{3FF0000000000000}
>> to binary! b
== #{3FF0000000000001}
```

[17:56:16](#84ewKkP4rkTeg2rxEVHe119oPtJolxclwnsH0pL8aH4) <hiiamboris (NOT THIS ONE)>:
I should have used `add` or something :)

[17:56:18](#RKJvtSz6R_wVnWcmepNYDBwYbCde_Tl128mc3vZZTLU) <greggirwin (Gregg Irwin)>:
I mean, where would you modify binary data and make it back into a float, but it sounds like you don't do that in real life.  

[17:56:41](#HVkkneLJDVEYdNGqSQSybk5KnksKK4Kvv4Nbb0uErwA) <hiiamboris (NOT THIS ONE)>:
Look above. Oldes does the same, just in a random way.

[17:57:31](#vWsX77xS11lAMKj4zaLM8mKTjPzxs8KaJ-q6x9X1qLo) <hiiamboris (NOT THIS ONE)>:
```
>> to binary! 0.3
== #{3FD3333333333333}
>> to binary! 0.1 + 0.1 + 0.1
== #{3FD3333333333334}
```

[17:58:28](#QLeFYuJ-bpa1or-tSW0d7mqcEVXoGMLxEbAc4g2x1J0) <greggirwin (Gregg Irwin)>:
He's just doing math. I seriously thought you used that kind of thing in your code somewhere.

[18:00:38](#5IOsFV6-BpwcrTC6mL-iPb4shz_zV07nX8UukUCuchY) <hiiamboris (NOT THIS ONE)>:
Ah. No í ½í¸‰

[18:02:10](#AlmaHZGIb-L6Qtk-BtuPAC9wT4zn4dUJ_9ZzRK83p_A) <meijeru (Rudolf Meijer)>:
Another thought: the problem does not occur with `<=` and `<=` because almost equal numbers will satisfy both. But in testing `<` one could perhaps first test `=` (with deviation allowed) and if that is true, `<` will be false; i it is not true, only then `<` will be tested.

[18:02:26](#2kPCOIK_2IZQYyYhUOBsRcfYFdoieKyyU5KYKoBue0Q) <meijeru (Rudolf Meijer)>:
* Another thought: the problem does not occur with `<=` and `>=` because almost equal numbers will satisfy both. But in testing `<` one could perhaps first test `=` (with deviation allowed) and if that is true, `<` will be false; i it is not true, only then `<` will be tested.

[18:02:41](#UgeIVs7W9315r3PD_zqf2_iRbHOT0INaVrxIj-GySWI) <greggirwin (Gregg Irwin)>:
I think unidirectional deviation (as I understand it) would be confusing. I think we need to treat the epsilonic deviation consistently in either direction.

[18:04:25](#UBm1hZT4UcAQjOuJ0z4XRCSJihrT2HXP8Q0M8Apj_C0) <greggirwin (Gregg Irwin)>:
@meijeru the example case shows the `<=` problem.
```
>> a = b
== true
>> a <= b
== false
```
Because `=` is relaxed but `<=` isn't.

[18:04:26](#ELvGqrAdTweps6ix2FnCJUnYqfEOJhNOLLVYyGbJt6c) <meijeru (Rudolf Meijer)>:
* Another thought: the problem does not occur with `<=` and `>=` because almost equal numbers will satisfy both, provided their near equality is tested first. But in testing `<` one could also perhaps first test `=` (with deviation allowed) and if that is true, `<` will be false; i it is not true, only then `<` will be tested.

[18:05:09](#2g48TYPmMMe4hl1EQUwcZfC0MR9En1XKTvidBFUYY_0) <greggirwin (Gregg Irwin)>:
I agree on how it could work internally using your logic, which I think matches what I proposed.

[18:06:27](#WUk5OjhQ05-MR553Kd_K87mmTaymyqf91HXz--LHkEw) <meijeru (Rudolf Meijer)>:
It implies double testing instead of relying on single machine instructions, I suppose, so a penalty in execution time and more complicated code generation.

[18:15:41](#31WkMTlevLZGD75-g4Y44UMp0MSf62ggx50-ofZVLUU) <greggirwin (Gregg Irwin)>:
Indeed. So then we ask, practically, what is most important for floats, which are known to be inaccurate, and what are the main use cases where you might use `<=/>=` that people need to be aware of. Is it *enough* to warn them? I'd still love, if we can link static bits in the future, to try dropping in Crockford's ASM-sourced DEC64 for `decimal!` use, to see how it fares in real use. Nothing is perfect, but having different rules for different numeric types is a recipe for human error...on top of FP errors. :^)

[18:20:55](#QdY2B2W4900J6v4ePfdVqsyU2PNqf1qVMn-3PdWvQ0E) <hiiamboris (NOT THIS ONE)>:
We're talking Red level here. Not machine instructions.

[18:22:08](#RbNf43MRpqSeEV5xmW0yguqKDw0ioG3RcwFnDDHCPec) <hiiamboris (NOT THIS ONE)>:
So no noticeable penalty. But! This will lead to alternate versions of all `<= < > >=` operators (or at least functions). It will be a bigger mess than just `= ==`

[18:24:30](#t0NNg7e2BpFBp5MxN_wzhBFMlysPDlOWQ_DQPdqJDtc) <greggirwin (Gregg Irwin)>:
It doesn't lead to alternate version for me. It leads to extra work, as @meijeru noted, if people need to check those strictly.

[18:25:08](#we46D7LTjGHl6Qeo_qHzugWq709ULAPpCvDKkF9yAuQ) <greggirwin (Gregg Irwin)>:
i.e. it puts that on the user.

[18:25:44](#SmZ_Yi06E2XjAlTGzmiPaDhQqbN3DpNAsC6Ck0KfnJU) <hiiamboris (NOT THIS ONE)>:
So, instead of `a => b` we'll write `to logic! any [a == b a > b]`, nice í ½í¸‰

[18:25:57](#ppptn2Z0Px3M7ve7ns9u75Yu-lKzYHmH2Uj94gQeRRo) <hiiamboris (NOT THIS ONE)>:
* So, instead of `a >= b` we'll write `to logic! any [a == b a > b]`, nice ;)

[18:26:15](#fC4mFETR5QSGnrI9ZoM3AF08WZqouJWlbhvSL_bpV1s) <hiiamboris (NOT THIS ONE)>:
* So, instead of `a >= b` we'll write `to logic! any [a == b a > b]`, nice, especially for library code ;)

[18:37:48](#-VZ4dlvrTHoN6R47McQmDOl4J-L-YW4gET3CMooKVcI) <hiiamboris (NOT THIS ONE)>:
`<=~ >=~ >~` can be made ops for anyone willing to use these. `<~` unfortunately opens a tag.

[18:38:43](#gaXO6RIWE3kbwQHIBgiWqYUmEp8-CztvKKE0mnsj0cE) <greggirwin (Gregg Irwin)>:
Yes, which should be rare, but also easily wrapped. At which point you'll complain about performance and I'll say "R2 didn't even have floats, so there was no problem." ...

So, let's start with use cases. Anybody ever have a problem with this in real life?

[18:39:34](#KFt6aXjk-IJP6nhZ_omsKUie2jaOhDd3aSQf8OnyyOU) <meijeru (Rudolf Meijer)>:
No, we will not need to write the double test in Red, it can be taken care of in the compiler/interpreter, can't it?

[18:40:25](#8fWnpTpbMWomHoUjN3edfEGig-j5hpAHoog43tRVsBY) <hiiamboris (NOT THIS ONE)>:
What if you don't want fuzziness? We're back to double the operators set.

[18:41:15](#XyT8vVyi_aUKhm68E9YaXKv5M-HVLE8rnRQkaBHLHLk) <meijeru (Rudolf Meijer)>:
With floats you will have to accept fuzzyness. If you don't want then indeed you have to double test in Red. 

[18:41:26](#RQZ7VVIr1qmbGrAppCmtBt9BrjwJcqwik7pZ2ZABhC4) <greggirwin (Gregg Irwin)>:
It could, yes, which was my original thought as well, but then Boris said "no machine code", and it *can* be solved at the mezz level. I'm fine with that, but also think we should relax things, which still means R/S work here.

> What if you don't want fuzziness? 

Don't use floats. :^)

[18:42:33](#N8FEe0REUSfAGaTX0cJbFTTFqGPrvA4szeS5Elwt9GY) <hiiamboris (NOT THIS ONE)>:
My hunch: this will ruin most of the math code í ½í¸‰

[18:43:41](#BPb18dfobifVu79AR7kXRkLUXFS8-XuTeyxGTI0HH3M) <hiiamboris (NOT THIS ONE)>:
Besides, not Red problem. Proponents should find a language where this is implemented and see how that fared í ½í¸‰

[18:45:06](#gMKWskLpxB39-KsaFhXu8M8Qxzs9U_Ci6yIX5Jgjk6Q) <hiiamboris (NOT THIS ONE)>:
(I can almost see Nenad coming and saying "let's remove fuzziness from equality to make everyone happy" :)

[21:30:02](#cVorGwgTMwiMdqf949NnauGrnIPHAnnkUaXJfaaYu0k) <greggirwin (Gregg Irwin)>:
We can do that for floats once we have a true decimal type.

[21:37:55](#tSSVLd2uU4J5TELEfb1_qtMaHenSdnglzQFwsR1vB5U) <hiiamboris (NOT THIS ONE)>:
I don't share the enthusiasm about decimal type. It's good for formatting numbers, scanning, for multiplying by powers of ten, but most floats will be results of some computations, so why should it matter.

[21:46:51](#1-EQCdP9No_LBNwbj4wSuq5mTBSoD57smLdcrgQAqPI) <greggirwin (Gregg Irwin)>:
Ummmmm...correctness and human reasoning? The very argument we're having now, because `.1 + .1 + .1 <> .3`.

[21:48:38](#EgPAKLaOZecuit02NqO8nN60XEEVjeZ9Zth5IoE2NBQ) <greggirwin (Gregg Irwin)>:
If you use strict floats at all times that is.

[21:52:38](#kct2O4AbaM2XJM-HhlrbtftvcKYMplJGqmq6E1i1eus) <greggirwin (Gregg Irwin)>:
And why I feel relaxing things is better for the other ops. Which also brings us back to use cases. When and where do you care about strictness with floats, given their behavior in general?

[21:58:49](#W2GJWNIyXlpPF_3GjiFjJs5ZRGBqfdVGBfmdIRc5sUA) <greggirwin (Gregg Irwin)>:
On the URL topic @gurzgri posted. It's easy to change. We don't have full URL parser tests in the codebase, but I have a suite here from when it was built. I based it on the RFC, but got the `opt port` part wrong.

My tests are based on round-tripping, which doesn't work if ports are optional.
```
Expected: foo://example.com:/over/there?# 
Got: foo://example.com/over/there?#

Expected: telnet://192.0.2.16:/ 
Got: telnet://192.0.2.16/
```
Notes I just made:
```
			; Â§3.2.3 says "URI producers and normalizers should omit the port 
			;	component and its ":" delimiter if port is empty or if its 
			;	value would be the same as that of the scheme's default."
			; We don't have defaults for schemes, so will only worry about
			; the missing port case. That makes round-tripping lossy, as the
			; ":" will go away if no port is specified. The alternative is to
			; include the colon but still omit the port. Since it still meets
			; the RFC spec for the URL grammar, and we aren't technically a
			; normalizer, that seems best. But it's problematic as we don't
			; have a reference URL, so can't know if it was included to start.
```

[21:59:19](#Zryy8Eh9IxZT4zUB4YkiJtKF27W2VHxqxMAv_ENk5K8) <greggirwin (Gregg Irwin)>:
* On the URL topic @gurzgri posted. It's easy to change. We don't have full URL parser tests in the codebase, but I have a suite here from when it was built. I based it on the RFC, but got the `opt port` part wrong.

My tests are based on round-tripping, which doesn't work if ports are optional.
```
Expected: foo://example.com:/over/there?# 
Got: foo://example.com/over/there?#

Expected: telnet://192.0.2.16:/ 
Got: telnet://192.0.2.16/
```
Notes I just made:
```
 Â§3.2.3 says "URI producers and normalizers should omit the port 
;	component and its ":" delimiter if port is empty or if its 
;	value would be the same as that of the scheme's default."
 We don't have defaults for schemes, so will only worry about
 the missing port case. That makes round-tripping lossy, as the
 ":" will go away if no port is specified. The alternative is to
 include the colon but still omit the port. Since it still meets
 the RFC spec for the URL grammar, and we aren't technically a
 normalizer, that seems best. But it's problematic as we don't
 have a reference URL, so can't know if it was included to start.
```

[21:59:37](#a8MDz4tLL74HwlqziG9_U_nSNh4BJ2mogxLY-XSDtLk) <greggirwin (Gregg Irwin)>:
* On the URL topic @gurzgri posted. It's easy to change. We don't have full URL parser tests in the codebase, but I have a suite here from when it was built. I based it on the RFC, but got the `opt port` part wrong.

My tests are based on round-tripping, which doesn't work if ports are optional.
```
Expected: foo://example.com:/over/there?# 
Got: foo://example.com/over/there?#

Expected: telnet://192.0.2.16:/ 
Got: telnet://192.0.2.16/
```
Notes I just made:
```
 Â§3.2.3 says "URI producers and normalizers should omit the port 
component and its ":" delimiter if port is empty or if its 
value would be the same as that of the scheme's default."
 We don't have defaults for schemes, so will only worry about
 the missing port case. That makes round-tripping lossy, as the
 ":" will go away if no port is specified. The alternative is to
 include the colon but still omit the port. Since it still meets
 the RFC spec for the URL grammar, and we aren't technically a
 normalizer, that seems best. But it's problematic as we don't
 have a reference URL, so can't know if it was included to start.
```

[22:22:22](#Zh7kXfk4sBGo-ROQCTUvnjcWfeWAlaS7LqQ1yUdJ6Uc) <hiiamboris (NOT THIS ONE)>:
> When and where do you care about strictness with floats, given their behavior in general?

Everytime I'm choosing between `<` and `<=` I care about strictness, even though it's just one unlikely value of difference. Sorry but this is not serious proposal at all. You are for example suggesting that `1e-20 <= 1e-300` and `1e-20 >= 1e-300` at the same time. Or that `1e-20` is not `positive?` nor `negative?` number, but `zero?`. So `1 / 1e-20` should also be not negative not positive, but infinite (of undetermined sign, so maybe a NaN?). And so on.

[22:43:02](#gGGLznbtjWpJTBwfjNxAF-k9ld9s-oj0O0Fp5pnA0ss) <greggirwin (Gregg Irwin)>:
Did I propose anything like that? No, I didn't.

[22:43:39](#CaMDl9BSZXEIfxyAf3eOpbXtDLqlketUC6ogR7oyZYk) <greggirwin (Gregg Irwin)>:
> Everytime I'm choosing between < and <= I care about strictness,

Not a use case. 

## 14-Sep-2022

[7:35:10](#UQFyIXO0y5KFuaV05kaRPXovOmmusGScLiz9c3L7MyI) <hiiamboris (NOT THIS ONE)>:
What are the use cases for fuzziness?

[7:36:29](#QGeseLvud7w_N0uqk5lxi-I0ra7x1YkxFV_Z041DtsM) <hiiamboris (NOT THIS ONE)>:
I recently used float equality in an assertion. But 1e-10 precision wasn't enough, so I lowered it to 1e-6. So `=` just doesn't work.

[7:37:07](#Gwzx91cVaxfs0z82wlRdQxqA5NcSqBvf-Mk9TpLUtHY) <hiiamboris (NOT THIS ONE)>:
In quick-test you have `assertf~=` function, with about the same tolerance, not equality.

[7:37:36](#Q9t5C6nZqZDgUvVksXoq3dof7zlY3kVR8JStKlld3F4) <hiiamboris (NOT THIS ONE)>:
In base-test I'm changing tolerance on case by case basis, usually from 1% to 10%.

[7:38:41](#4I0zTUeiFsds8R6WL0tbxR2X1t-qqMz_YoWMdWKsoOc) <hiiamboris (NOT THIS ONE)>:
* In base-self-test I'm changing tolerance on case by case basis, usually from 1% to 10%.

[11:19:58](#gYq8Pm3lI8bSN8Nn2jblbs2fVuv77nROqhZUQ_8A8h4) <hiiamboris (NOT THIS ONE)>:
Should this be an overflow error, @dockimbel?
```
>> as-pair 4e9 3e9
== -2147483648x-2147483648
```

[11:36:04](#f4248VleCxg8FyeUp6VXXcxOXvJ8soX-zV--T6r5hvQ) <dockimbel>:
No need, `pair!` type in a transition state, until we decide if/how to support floats in pairs (or in a new datatype).

[11:36:11](#7Fg4e2lsQuDvEFJG0cVQmSHNupqjUfKPE35dfYhi9w0) <dockimbel>:
* No need, `pair!` type is in a transition state, until we decide if/how to support floats in pairs (or in a new datatype).

[11:38:32](#aVDhIjfoXo2flj828sDuOag0raqkM7eB0R4p5fDneEc) <dockimbel>:
> (I can almost see Nenad coming and saying "let's remove fuzziness from equality to make everyone happy" :)

Could be an option, but the core issue is that we don't have an exact `decimal!` datatype. I'm very sceptical of DEC64 after seeing the horrifying math issues with DEC32.

[11:38:57](#oIhN1pLr7KICWwtKrvWVliU29TJSqEQAXhLeHCDxhc0) <dockimbel>:
* > (I can almost see Nenad coming and saying "let's remove fuzziness from equality to make everyone happy" :)

Could be an option, but the core issue is that we don't have an exact `decimal!` datatype. I'm very sceptical of DEC64 after seeing the horrifying math issues with DEC32. There's a good reason no language adopted that format for his number type.

[11:44:30](#CjGKADfcWlOQ-Mge3C-M8wFVK85SgXTg8eRQ3DMMJQ0) <hiiamboris (NOT THIS ONE)>:
Have a link for these issues?

[11:46:33](#qn2H0uI_TSd8-UytCc1j4nUehhAXcidJ0JGJDrRBv7M) <hiiamboris (NOT THIS ONE)>:
* Have a link to these issues?

[18:07:43](#McI0p1gExQ_3_B4mWzF5QMRCHgzPprjLpR4mzdzaPu0) <greggirwin (Gregg Irwin)>:
> What are the use cases for fuzziness?

Exactly what we've been talking about, and my comment about correctness and reasoning. So the use cases are everywhere a base-10 human has to reason about a result, or where FP errors occur. I'm biased against floats largely because of where and how the implementation leaks out and affects humans. I'll tell you my favorite float story sometime. Floats, like some other things in software exist only for, and because of, machines. They are not fit for humans, because we *can't* reason about their behavior and thus use them incorrectly.

https://randomascii.wordpress.com/2012/02/25/comparing-floating-point-numbers-2012-edition/  (A couple of the things it links to are fun reads)

Can we keep them for internal use, for performance and compatibility reasons? Sure. I have no problem with that. Am I glad they're called `float!` and not `decimal!`. Yes! But let's make people *choose* to use them, and offer something better.



[18:10:33](#CLVPs3PdJdpqzPuKQys5pZNAHxr61fZOqpWdCb8Yo1Q) <hiiamboris (NOT THIS ONE)>:
> Exactly what we've been talking about, and my comment about correctness and reasoning

But typing constants in console is not a use case. I mean do you have code that would benefit?

[18:25:06](#T8P3Q3059ufB5dxZOFp5KKxHzjuvYtmOaV5DyOfEfDo) <greggirwin (Gregg Irwin)>:
It absolutely *is* a use case. Consider new programmers. You type something into a Red console and it appears that it can't even do basic math correctly. Now you have to learn about FP and believe us when we say "It's not our fault!" The closest related Red use case I have is %math-lab, where I considered if the args fields should support evaluation. I planned to have extra help, which may all get subsumed in %dict-doc and other tooling. Here we have to explain it.

My historical bias comes from working on financial apps, where amortization calculations and such were subject to FP drift which had to be accounted for. In Red we have `money!`, but `percent!` is a float under the hood. 

[21:11:04](#TMAX_0HGRm6VZrr8CUhOFM2zVaz5FsBXmnth5LNS9Ng) <dockimbel>:
You should ask @beardpower for that, he made the DEC32 implementation. I remember seeing a sum up page somewhere, but can't even locate the DEC32 implementation repo.

[21:11:04](#SU0i6tTM2YUbG0cSAfrOjH7lMTCRe6uroKaJuD9Ucwo) <hiiamboris (NOT THIS ONE)>:
* Have a link to these issues?

[21:16:40](#OSOUtSsmuuImBlvGDl_dAzGhBho7jvtHOmwh14tesm0) <hiiamboris (NOT THIS ONE)>:
* Have a link to these issues?

[21:16:40](#yiANcs1bgaICmyHhnuruRI8dRz8XQU4nYJlLpmzTRP0) <greggirwin (Gregg Irwin)>:
That's why I'd hope we could use Crockford's existing implementation. I remember it being a pain for @beardpower, having to jump through hoops, which I think were largely because DEC64 wasn't designed to scale down to 32 bits.

## 21-Sep-2022

[23:47:46](#HXp0Xv3ql0kqhy7bB7XTvQLtYkETv0cPJaULSamww_Y) <GiuseppeChillemi (GiuseppeChillemi)>:
```
>> help layout
Func spec couldn't be parsed, may be malformed.
```
Is this know?

## 22-Sep-2022

[7:58:07](#WH3x6ILBG1bYWrQCOaU-5JIgljDrUbq5vJ8m6LPMstw) <hiiamboris (NOT THIS ONE)>:
update

## 15-Oct-2022

[13:53:32](#vhRpznSquLyAC5kMFC9eddYRendjr9LmMVq7xgOo5-4) <luce80>:
This is same as R2 (!) but should give an error IMHO:
```
>> -1x-
== -1x0
```

[14:00:52](#R8soPmmVEtoaw-t8XtsWjKTyAai2LNvdGy8gF-dfdHc) <hiiamboris (NOT THIS ONE)>:
agreed, make an issue

## 20-Oct-2022

[18:09:50](#PSiWxnB_dyO8qKPIKOVskLwm4kROLAx_rJnaD4_Tx9M) <dsunanda (dsunanda)>:
This breaks the layout parser:
```
 unview/all view/no-wait [
      rich-text 100x100 data [
          font 9  i "" /i /font
          ]]
*** Script Error: f has no value
*** Where: either
*** Near : f
*** Stack: view layout fetch-options rtd-layout pop cause-error  
```
I think it may be  a fairly recent regression.
Workaround: don't have empty strings :)


[18:21:34](#ZEG0sbCkgzB18VXgU2O5J1BusfA3eSodeKFZWRTH2Lw) <greggirwin (Gregg Irwin)>:
I went back over a year and it's still there, so not a recent regression.

[18:50:27](#BReSyBAJV064VNLFaQRkjUDF_EgsBgkj7rQ6syjjEQw) <dsunanda (dsunanda)>:
Thanks....I've just started seeing it; maybe I've not been emitting null strings before.

## 21-Oct-2022

[11:22:15](#lfdOEYhv6iCo91r3XTnvWM14VDaj7QlSM-Nux0RLmig) <dockimbel>:
@dsunanda Please open a ticket for it.

[11:28:23](#wzBjO2SQpvv2t0hryl8MdWJDlUw4qP87XGjq9I2XvCQ) <hiiamboris (NOT THIS ONE)>:
I think Qingtian fixed it 3 hours ago :)

[13:18:17](#ZRo44N9HE53J5VnwITm5xvIN2yCfzqOXf70qUCVqmv0) <dsunanda (dsunanda)>:
@hiiamboris Not seeing it fixed in the current windows download. Does that take a few hours to update?

[13:19:04](#K0Za6snjSVXALn6ASLkwxigXvrINfZFQNGOBE2lFrdg) <hiiamboris (NOT THIS ONE)>:
Ah, different branch https://github.com/red/red/commit/ef3849d332dfb5dd0492762d776a6e302c108944

[13:19:12](#dEpP39Iy8wna3VPm1C6WjmbIanPNqEHa9_BpL2RiQXM) <hiiamboris (NOT THIS ONE)>:
Maybe incomplete?

[13:47:35](#e9i8ZUPAZs9c4TDdaJApz4S8eVvtmfKAgGqszww-IM0) <dsunanda (dsunanda)>:
Thanks....I'll report it per Nenad's request.....#5231

## 22-Oct-2022

[6:50:39](#-24ljmTzHJ_1tKd3W_E-sNau6iv4iMIt0YHPp93pF-0) <qtxie>:
> I think Qingtian fixed it 3 hours ago :)

I'm not sure if the fix is complete. I made a PR so @dockimbel can review it.

[11:32:04](#2pAlhCZobY4tAWZ7n0aclT7BSpVMw-9T3oB9wHPX1fM) <dockimbel>:
Ah, too bad I didn't see your PR in time. I've pushed a fix too, but yours is better. I'll rollback my changes.

[19:45:55](#1PDwGfeED74c1Z53V-QKIah7ou0_GQxSa1ox93Nfdls) <dsunanda (dsunanda)>:
@qtxie  @dockimbel  #5231 looks fixed. Thanks for the fast work!

## 23-Oct-2022

[11:25:21](#s-QeeOHwbfAlmy3Fpv9gsYKZxbypLIPMR9WIZjcG5Zw) <dockimbel>:
@dsunanda You're welcome!

## 24-Oct-2022

[7:43:40](#o0AnbUFJBDmZ_8aLEyOZRNsRaOW01dpRO2Sv4iA6bX0) <Dobeash (Ashley)>:
@dsunanda You're welcome!

## 11-Nov-2022

[16:27:01](#Cjx4JG2qo4vK6eaN5FqUbuuCe6l42EX3h3VvExl8j8E) <hiiamboris (NOT THIS ONE)>:
@dockimbel this seems surprising:
```
>> f: function [w] [a: 1 b: 2  get select #(x a y b) w]
>> f 'a
*** Script Error: get does not allow none! for its word argument
*** Where: get
*** Near : get select #(x: a y: b) w
*** Stack: f  
```

[16:27:30](#x0eLP2Z4ojL1tyKuM6SBWHzbaYQfmLDTQgufGPll0hI) <hiiamboris (NOT THIS ONE)>:
* @dockimbel this seems surprising:
```
>> f: function [w] [a: 1 b: 2  get select #(x a y b) w]
>> f 'x
*** Script Error: a has no value
*** Where: get
*** Near : get select #(x: a y: b) w
*** Stack: f  
```

[20:32:28](#XJFSVqUkvXlyN1u_GZpUn_030MPC4H5IbsDBlaEWGkY) <toomasv>:
Funny
```
>> f: function [w] [a: 1 b: 2  get select to map! [x a y b] w]
>> f 'x
== 1
```

[21:21:53](#5iPBF0sCoopWvreokVJikDTKAZ0m1xwOUbaPQFK4nEA) <dockimbel>:
Words in maps are not bound to local contexts, you have to bind them explicitly when needed:
```lisp
>> f: function [w] [a: 1 b: 2 get bind select #(x a y b) w :f]
== func [w /local a b][a: 1 b: 2 get bind select #(
    x: a
    y: b
) w :f]
>> f 'x
== 1
```

[21:23:55](#updTGU1aW1iYEmx7j71ZPrWpb1kpSQVEXitOu3wfc4k) <hiiamboris (NOT THIS ONE)>:
What's the reason?

[21:24:49](#BZ7_30nfYh8hC6BP74M4Bl0lE_gmP9d4NI2JSuSM66o) <dockimbel>:
`map!` is not a data-structure primarily used for representing code to evaluate, so it does not get bound to local contexts like for `any-block!` series.

[21:25:21](#SJmRVzKHJunzqaoBnsrnr6GQ0MFGzT56Wut91xabPk0) <dockimbel>:
* `map!` is not a data-structure primarily used for representing code to evaluate, so it does not get automatically bound to local contexts like for `any-block!` series.

## 13-Nov-2022

[18:47:49](#v1rxYBidMaMOq-L258diJlqrl7QW7VEt32gERFgO6po) <greggirwin (Gregg Irwin)>:
Would someone like to add that to the Guru Meditations wiki page?

## 15-Nov-2022

[20:28:55](#fFnKTgCkmZ9rHCwK4g3AeTz-gss2_o2xFGYnn39zkZ8) <dsunanda (dsunanda)>:
Is it reasonable to expect this to work?
```
save/as "" system 'redbin
*** Access Error: cannot decode or encode (no codec): routine ["Internal Use Only"][bool: as red-logic! stack/arguments bool/header: T
```

[20:37:02](#fxi3c3QwyjYjkJgiEKC-G35HqqQrYS-7SXDTBEiqASI) <greggirwin (Gregg Irwin)>:
No, because strings are UTF-8 and redbin is binary. That issue aside, redbin can't currently encode every value (type). Offhand I don't know what it's tripping over in `system`.

## 16-Nov-2022

[9:51:22](#EV0I6224Xhi0e6tee7lFJ_W4XroASV4PGFdFJxiGAug) <endo64>:
About `decode-url`:

1. It accepts `string!` but always return `none`: `>> decode-url "http://example.com" ; == none` (regression?)
2. `decode-url` directly calls `parse-url` which has `throw-error` refinement, wouldn't be nice to have that refinement on `decode-url`?

[20:05:59](#TdBWV_Wh2ZmXTJJeV2JFLotE5A7AJRF3H4MAsJIKRyg) <greggirwin (Gregg Irwin)>:
1. Doesn't appear to be a regression, just a bug that's always been there. `parse-url` molds the arg, whether it's a string or not. `mold` is there because `form` doesn't hex-encode URLs, but if it's given a string, can we all agree that it's on the user to ensure they are hex-encoded, or do we drop string support?

2. `decode-url` is meant to be higher level, and exists mainly as a name to balance `encode-url`, so I don't think we need to expose the refinement there. Do you have a specific use case where that seems better than using `parse-url` directly?

## 21-Nov-2022

[7:43:02](#RdC42Z-E3vvnVjcE-4aYf-ZmnAJ16qHZrHVXzF4dauI) <endo64>:
> Do you have a specific use case where that seems better than using parse-url directly?

No, actually I could use `parse-url` directly.

It looks correct to remove `string!` support from `parse-url`, but would be ok to keep it in `decode-url` high level function. And instead of `mold`, `to url!` can be used if the argument is a `string!`.

[17:36:17](#UkhjndOrdO-cR6scuVVrsMyx6-x9cz7eQJ5V8O7UhKQ) <greggirwin (Gregg Irwin)>:
I agree. Does anybody have a reason to keep string support in `parse-url`?

## 22-Nov-2022

[13:24:04](#r9rWRbLJOmu-XY3DLLzfW9hS74EKutZxbOU4QdKhF_4) <meijeru (Rudolf Meijer)>:
It seems that an `area` face that has `enabled?` set to `false` does not allow scrolling. I use such a face to display search results and I don't want the user to modify these, but when there are more results than fit in the visible area, I wamt the user to be able to scroll down. Do we have a bug or a feature here?

[13:24:17](#Qz16S4SHJGDLIMCILh6-fQsXpAdIIiWXSckZX6ABwG8) <meijeru (Rudolf Meijer)>:
* It seems that an `area` face that has `enabled?` set to `false` does not allow scrolling. I use such a face to display search results and I don't want the user to modify these, but when there are more results than fit in the visible area, I want the user to be able to scroll down. Do we have a bug or a feature here?

[14:32:23](#3lzx2Hj4cRpABrK9FO5sqK3zpbRsBBjbAqml7zhjsBc) <meijeru (Rudolf Meijer)>:
Also, does the VID keyword `middle` work? I can't see it working on text in a `field` face.

[14:35:03](#F-6AahC0v0B77yOjmpfWZ-AFRYR7mIqiJS8kVu7xy7c) <hiiamboris (NOT THIS ONE)>:
`field` is a single line edit box, it's not supposed to support vertical alignment

[14:37:07](#44g_paUz-Z67JL_Elh4iwDE_BKdCGxA2rPrl47xeRsg) <hiiamboris (NOT THIS ONE)>:
as for `area` we should ask @qtxie if it's even possible to scroll a disabled control

[14:38:04](#xNxLV_MfwSPA3LSWuz8rL9jzRov4WlKy-E-a9k5PqmI) <hiiamboris (NOT THIS ONE)>:
even if it is, I don't think it's a good thing to do - one should use a `text` in a scrollable panel instead

[14:40:25](#GTWxYKuQkH-nbKVXJPMgWEzIxVXEw8j-7jphZpyaMZY) <hiiamboris (NOT THIS ONE)>:
`text` is dumb though, I can't seem to make it autosize itself properly

[14:42:22](#jWqk2G-w7mNdpW0-Y1FbGkrQESyCM0itJywzKBz7nJo) <hiiamboris (NOT THIS ONE)>:
https://github.com/red/red/issues/3861

[15:59:46](#IKNORTaJBenXccPvsf0aZUUWZqPF5AppaNZeCet2WLo) <meijeru (Rudolf Meijer)>:
@hiiamboris With default sizes for font-height and field height, I find the text aligned to the top, which is not nice.

[16:01:16](#UpIWIFgPQVK_myWg3qZJS8OOxl8nwNPe3eU_hu0X-Yk) <hiiamboris (NOT THIS ONE)>:
my default: ![](https://i.gyazo.com/bbb10e9b42935fd0a07953073b1e656a.png)

[16:01:19](#HloS7vEDseRjnzB0MDJcHhg6qFVpENa2RXrDgynSbGs) <hiiamboris (NOT THIS ONE)>:
what's yours?

[16:01:37](#InHTn6ReJRVvV-716Y2JsyYiGwitCDy_HQ0vj4LVGMY) <hiiamboris (NOT THIS ONE)>:
`view [field "abcd"]`

[16:02:32](#yQBxcu7L4aLhLOCNaq7Cl0ZH-tpt0UDW0dnmxD76834) <hiiamboris (NOT THIS ONE)>:
seems very much centered ![](https://i.gyazo.com/33428349a7656cec632a57377cdce742.png)

[16:09:23](#AYOxoE8vOrscxjWMvkireWc3bBPmU6BI67Y-v3QDf4M) <meijeru (Rudolf Meijer)>:
[![Screenshot_20221122_170607.png](https://files.gitter.im/5902e8c1d73408ce4f5b94ba/HUDP/thumb/Screenshot_20221122_170607.png)](https://files.gitter.im/5902e8c1d73408ce4f5b94ba/HUDP/Screenshot_20221122_170607.png)

[16:10:10](#gh5j-rDEYQ1xZr-5y-Qly7PGikzGauD3frWthKLwGyc) <hiiamboris (NOT THIS ONE)>:
yeah not nice, you should report it

[16:10:18](#n2WVK-Z977XkkKNEegJm-MxFEsPGFU5D6bMABdbBd1o) <meijeru (Rudolf Meijer)>:
This is mine. It is definitly not centered.


[16:11:40](#2jLDYqvmM3NtAGkKpYxGMMpiVQtRoswylM5KyqOhcMo) <meijeru (Rudolf Meijer)>:
* This is mine. It is definitely not centered.


[17:34:37](#BEw6QjFu43sgHGUxJuA997xYJLkz2UJv1wUbfwHQmYI) <meijeru (Rudolf Meijer)>:
For the record: issue #5242.

## 23-Nov-2022

[3:44:53](#mflE-si-8yhtC8UdUv8iTxuO6Qsyew6Iw5VCdUTFAGE) <qtxie>:
> if it's even possible to scroll a disabled control

@hiiamboris There is a ES_READONLY flag. We can give it a try. https://learn.microsoft.com/en-us/windows/win32/controls/em-setreadonly

[3:50:36](#c_XAybV6pN6J9bELzu7yT5Ge88kajbDrKz7j21U2_CQ) <qtxie>:
@meijeru Height 23 should be the standard height. I changed it in the latest commit.

[12:21:28](#QWk2YpbWDQds3b80psvtddUYcf315qzoYPK8H20XVJo) <meijeru (Rudolf Meijer)>:
The fix works for the standard font but not for e.g. Courier New.

[16:17:39](#eI7Wr-cs7XdLk5v04yY-QI1Qni1sgSpEf0YHjf1rjB0) <hiiamboris (NOT THIS ONE)>:
```
txt: " this text^/should be^/ readable"
img: draw 70x70 drw: compose [text 8x10 (txt)]
view [image 70x70 draw drw image 70x70 with [image: img]]
```
we have some rather crappy image scaling @qtxie 
![](https://i.gyazo.com/656b2aed216133ac752e15e63f6195d0.png)

[16:20:10](#9REpH4beW81vxg32EkXXxnUVPW69NcvsHgugdjdVGHQ) <hiiamboris (NOT THIS ONE)>:
I guess it's even worse for 200% scaling users (I got 150%)

## 24-Nov-2022

[2:33:26](#c-kVmKYlZztygom_jadV5mlwobsAoz46t6R1oC9g7YE) <qtxie>:
The root issue is that no vertical alignment for the native field control on Windows. As a workaround, define your custom style if you want to use a custom font.

[2:35:23](#8jJlxfVYTzRMg2WkhmSMQiAWFC6GO3ifoqbnhPKJ8sU) <qtxie>:
We need a AI image scaling engine for it.

[2:35:54](#hcUVXRY3xllCd_AdctDBjLAIndXesEWEJ379wZPXTuA) <qtxie>:
* We need an AI image scaling engine for it.

## 1-Dec-2022

[17:23:58](#evr2L7waT2E4lcQ9RojzKzryqVAfS_dzkxDPhHIFAR0) <hiiamboris (NOT THIS ONE)>:
```
>> to-image rtd-layout ["a"]
== none
```
Shouldn't this work without `view`?

[17:24:15](#fvIfTF3h94l78-0L7FPf0rqgEnczLkIZlROmvT4wAD4) <hiiamboris (NOT THIS ONE)>:
* ```
>> to-image rtd-layout ["a"]
== none
```
Shouldn't this work without `view` and produce an image?

[17:30:14](#V3t1jWYpTXwGceUe5y3BqxkhTeQev5uO8udAkE1V0M0) <dockimbel>:
The rich-text sub-system interface is a face! object of type `rich-text`, so it can't work without View.

[17:31:29](#1bh6_VvZx88JV1aYr1rS1t7DXXzrqPHFBdnTGS-mgg0) <dockimbel>:
* The rich-text sub-system interface is a face! object of type `rich-text`, so it can't work without View. We could maybe in the future isolate that API, so that it could be used without View, as we do for images.

[17:31:38](#MJUIjVoH_uweJnLRO2PbR7bqXP-ECMeHv1r_JPDgB78) <dockimbel>:
* Currently, the rich-text sub-system interface is a face! object of type `rich-text`, so it can't work without View. We could maybe in the future isolate that API, so that it could be used without View, as we do for images.

[17:36:53](#PNZFpkL3ctdkBteIHXcy-IsTHX0Li1li1y4H2PWfOeI) <hiiamboris (NOT THIS ONE)>:
But I mean, it's okay to require the View subsystem, but clearly it should work without actually displaying the face. Currently I just work around by `draw size-text r: rtd-layout ["a"] compose [text 0x0 (r)]` but seems like extra work.

[17:44:52](#oFLXx0-ul0LxN7wkCZ0hbi7fWesU7Pz2XBrfJTnPlSo) <hiiamboris (NOT THIS ONE)>:
Although I guess I will have to use this workaround anyway, because `to-image` will use face's size rather than `size-text`...

[17:45:06](#kU1OE84RqIrEU4uh5dO0UiAYmnQVsNDPgvJea2DvUb8) <hiiamboris (NOT THIS ONE)>:
Still, doesn't explain why it should return `none`.

[19:38:14](#9sxkbUgxa9a3N71-xwfpgIOPn1fVXw-JVO5yfPbXxYA) <dockimbel>:
@qtxie ^---

## 2-Dec-2022

[2:38:47](#f9MLsbHscKWyiwIxed92wzkHkf6Uf2rs0CmonHUwrik) <qtxie>:
> ```
> >> to-image rtd-layout ["a"]
> == none
> ```
> Shouldn't this work without `view` and produce an image?

`rich-text` use D2D to draw the content. While the OS API used in `to-image` only works on native controls. I'll see how to support it.

## 3-Dec-2022

[17:35:04](#M8dQOHKm2tGBC__ffq2xytQgeND0Gk4b3kHjDLTH4Gg) <luce80>:
@hiiamboris Very nice trick. It's right on time ! í ½í¸‰ but what does it happen here ? í ½í¸Ÿ
`draw size-text r: rtd-layout [<font> 20 <bg> red "a" </bg> </font>] compose [text 0x0 (r)]`

[17:35:48](#RVe1VK2Zrh4fc2PWzNIMqF_55ADCq1i-Wx9qv9yeu7Q) <luce80>:
* @hiiamboris Very nice trick. It's right on time ! ;) but what does it happen here ? :( . This "closes" Red.
`draw size-text r: rtd-layout [<font> 20 <bg> red "a" </bg> </font>] compose [text 0x0 (r)]`

[17:43:22](#Zwc6Fw6JggrbEazxUzJog9irEDJRpZXmnI5zG1Pt_qg) <luce80>:
* @hiiamboris Very nice trick. It's right on time ! ;) but what does it happen here ? :( . This "closes" Red.
`draw size-text r: rtd-layout [<bg> red "a" </bg> ] compose [text 0x0 (r)]`

[17:48:12](#sWG18TQDCrupb7MYStz6GuQ-gGFgTCuP3e7vez2-ifY) <hiiamboris (NOT THIS ONE)>:
report it

## 4-Dec-2022

[10:29:27](#PlWWV62lTklr0s0hwsMBuYkUhEHCRqJBZ98cnXNsD6s) <ldci (FranÃ§ois Jouen)>:
There is problem with change-dir under windows11
```
Red [
]
home: select list-env "HOME"
home: select list-env "USERPROFILE"
appDir: to-file rejoin [home "/Programmation/Red/BabyCry/code/"]
print ["App Dir: " appDir]
change-dir %..
print pwd 
change-dir appDir
```


[10:30:00](#kL3TYQ8GPY3-kAkBb61hmopyTzlitVN97YycKLSwMBw) <ldci (FranÃ§ois Jouen)>:
```
*** Access Error: cannot open: %"/C/Users/fjouen/Programmation/C:\Users\fjouen/Programmation/Red/BabyCry/code/"
*** Where: do
*** Near : print pwd change-dir appDir
*** Stack: change-dir cause-error 
```


[10:40:31](#dqsKAB2aoQDJQD971fnLp4pqG-XBZE4Km4swnoZw4SM) <hiiamboris (NOT THIS ONE)>:
use `to-red-file` to convert filenames to an interchangeable representation

[10:44:18](#d_UAaltsRlNq48NVZyRaLftFJI138AO1an3Q-JETHzM) <ldci (FranÃ§ois Jouen)>:
@hiiamboris Thanks:)

## 5-Dec-2022

[17:17:40](#qahYx_V_HiPJcWTwlmDDowLs6zQxbW81e7wUwaF4eHk) <hiiamboris (NOT THIS ONE)>:
@dockimbel looks like a bug?
```
>> parse [1] [opt (print "here")]
== false
```

[17:20:07](#GAKjQd835e9o1GgrzCoo84D_Nj0KCCcUX1cPzZwOewo) <dockimbel>:
The provided rule fail to consume the whole input, so the result is legit.

[17:20:33](#ANWVYOHDnp5YY9ue3AGAP8j6Skea6k0FyUqDC--IC6Q) <dockimbel>:
* The provided rule fails to consume the whole input, so the result is legit.

[17:23:09](#I35IaHoKE73-dIfOaTKvh8qzqLzbMWdtMKWqTlWZYaA) <hiiamboris (NOT THIS ONE)>:
but no print called

[17:23:24](#uUiGba-cZdTkXf35vyIbC70bPqGrN-Un46aDZXyy-Fo) <hiiamboris (NOT THIS ONE)>:
unless I add a wrapping block

[17:27:15](#D_sWulOeswqTTL86wJtZwDdv_mKp38_nYUulLAWwu34) <dockimbel>:
Indeed, it should evaluate the paren expression.

[17:27:29](#Z5dKjzxQ2gTJPzdsUxH8oenfOxLs5qfJQeJ-zzU2qIE) <dockimbel>:
* Indeed, it should evaluate the paren expression.

[17:29:10](#Iz_p4w-09tzjJoExmtiBoPZRA68wGTGsiUcEweyeCYM) <hiiamboris (NOT THIS ONE)>:
I'll open the ticket then

[17:29:31](#iUd4oCPwhTorbtAMTimfwKT4bhnIDffcCoUCVUopYDU) <dockimbel>:
Thanks.

## 11-Dec-2022

[15:59:44](#fRrdCt6FzCxdaJ67A-hbdHAPvIOKKAvaDBWvxNnqpyE) <hiiamboris (NOT THIS ONE)>:
Maps have this annoying feature of turning words into set-words upon iteration:
```
>> m: #(a b)
== #(
    a: b
)
>> keys-of m
== [a]
>> foreach [k v] m [?? k]
k: a:
```
I find myself constantly being tripped on it and having to convert explicitly. Can we fix it?

[15:59:55](#hFcwpyPAxSh3n47B9Aahk94gXVcrWHGFuXvcLEpvMcA) <hiiamboris (NOT THIS ONE)>:
* Maps have this annoying feature of turning words into set-words upon iteration:
```
>> m: #(a b)
== #(
    a: b
)
>> keys-of m
== [a]
>> foreach [k v] m [?? k]
k: a:
```
I find myself constantly tripping on it and having to convert explicitly. Can we fix it?

## 12-Dec-2022

[3:51:27](#OT-xqzlkwK1yb2NhWTEe6X4ZW8TokD2KVneYFKnIIFw) <greggirwin (Gregg Irwin)>:
What do you then do with the set word that causes a problem? I know they're not 100% compatible, but Red is much nicer about allowing set-words with some functions.

[9:03:18](#DAciQeNjjXLvtkfxQ3qKB3EVdkETSJ4-811I6SJR1jg) <hiiamboris (NOT THIS ONE)>:
E.g. in switch that is bound to fail.

[9:04:21](#i6f1cr_uonDsjHFA_bNFlVhMwtGqpjuwVODt0wWFwjc) <hiiamboris (NOT THIS ONE)>:
But why even have set-words when map keys most likely are actually words. You don't access them as `m/(quote a:)` after all.

[18:36:20](#DDuJzwmRAbAsg6TGWePWv7H5DXpSZG3SG2dqbjbvSZs) <greggirwin (Gregg Irwin)>:
*Why* is the proper question. It is by design and documented:

> If the key is of any-word! type, the key type is converted to set-word! in the map, in order to make the map content look more like pairs of keys with value assigned.

So it's consistent with blocks. e.g. if you make a block from a map you'll get the same behavior.

## 14-Dec-2022

[13:48:37](#lRBy7v9yLyiKhF7CK6qcLVyw6_J3wemGAwQ2ZfvLHws) <dsunanda (dsunanda)>:
I know `index? is only defined on series .... So would it not be better to throw an error when used on  a map, rather than the current odd behavior?
```
 index? find make map! #('a 1 'b 2 'c 3) 'a
== 488
```

[14:20:06](#suA402emnpGMUpYjEnkEr_TtYXLHFLr1JY19XNIu8Ow) <hiiamboris (NOT THIS ONE)>:
it's by design here

[14:20:21](#MGCmmnJfGLz-k-eJIrfhEhu46OiBg7mM1KxfDzdsxEc) <hiiamboris (NOT THIS ONE)>:
`index? word` returns it's offset in the object where it's bound

[14:20:42](#rJtrybgwE14U0lbjXz8iG9mr2fiqxMS0dk0Y67bsILo) <hiiamboris (NOT THIS ONE)>:
```
>> index? 'x
== 360
```

[14:20:55](#6ZoUWI2zNXS6VHWxl2CIuwokl1Pv00GY6R3Z7IWAlrA) <hiiamboris (NOT THIS ONE)>:
* `index? word` returns its offset in the object where it's bound

[14:21:21](#92iBWa0QcaYz-SfR7ifMt7k9Hpb1OyCS-eS5wbyoQJQ) <hiiamboris (NOT THIS ONE)>:
* `index? word` returns word's offset in the object where it's bound

## 15-Dec-2022

[13:13:57](#gIy6z8k1puknNA9AyDndwCFeWqMjC1J-zoWDRL5Z-uE) <hiiamboris (NOT THIS ONE)>:
```
view [rich-text "abcdefghij" data [3x4 bold 5x4 underline]]
```
![](https://i.gyazo.com/381c52f20f5c86c27ce1f3c091359f98.png)

[13:14:07](#MBm_Xp8K2jKclTRaiTbrJS-_zR_UheasbqQBv6E3TKo) <hiiamboris (NOT THIS ONE)>:
```
>> view [rich-text data ["ab" u "cd" b "ef" /u "gh" /b "ij"]]
*** Script Error: RTD - invalid syntax at: [/u "gh" /b "ij"]
*** Where: do
*** Near : spec: fetch-options face opts style spec 
*** Stack: view layout fetch-options rtd-layout cause-error  
```

[13:14:24](#ZaoRI0FSqV6tE2ivnwpoiyrb51H8U_41aSZexWJnZpA) <hiiamboris (NOT THIS ONE)>:
Should top-level dialect also allow non-stack-like behavior?

[13:15:17](#6qpXEuaycprGuAG3CraRyg1VAC1dZsXiG3EuD2Veq4I) <hiiamboris (NOT THIS ONE)>:
* ```
>> view [rich-text data ["ab" b "cd" u "ef" /b "gh" /u "ij"]]
*** Script Error: RTD - invalid syntax at: [/b "gh" /u "ij"]
*** Where: do
*** Near : spec: fetch-options face opts style spec 
*** Stack: view layout fetch-options rtd-layout cause-error 
```

[13:20:04](#D1f_qj65drhwlMgOMw8qf6hW4TmLWvLy55hdabV96QQ) <hiiamboris (NOT THIS ONE)>:
* Should high-level dialect also allow non-stack-like behavior?

[13:54:25](#w-Qh9Buj2hsqoK8BtabdJ7boD4DziqFrBLuxBmI1_9U) <dsunanda (dsunanda)>:
In an ideal world, no.
In the world we live in, browers will correctly render badly nested HTML, so if Red needs the ability to convert sloppy HTML to rich-text, then yes. But would thsat be a priority?

[14:02:53](#BDPAM7cFzOi8p34peoOiS8C53T_9sT8W2rUWxJpvSSI) <hiiamboris (NOT THIS ONE)>:
Not a priority, just something to note for the future if we decide so.

[14:17:30](#GxYbKw4omp5EjFhjs54flBR_BZ3LTOVGbj5EeKg-004) <hiiamboris (NOT THIS ONE)>:
Should this be considered bad practice in HTML though to write like this, @dsunanda ? 

[16:02:22](#4TsC9XvfShRfOV_vDjGFZpQe1au7fP-bMWiW2bbq-4o) <dsunanda (dsunanda)>:
Browsers embody the 2nd half of Postel's law: "be conservative in what you send, be liberal in what you accept" ..... Which, sadly, enables a billion bad apps to ignore the 1st half.

[16:21:38](#NvUcGma3kHXW1Xscdz_1kEWh5WdmCES_hvTm7IfqZZw) <hiiamboris (NOT THIS ONE)>:
I'm asking because I don't see anything bad about this.
Consider this perfectly normal workflow:
![](https://i.gyazo.com/08055c2ffc10fd61a1022636e117a7e6.gif)
How it's result should be encoded in HTML? As `ab <b> cd <u> ef </u> </b> <u> gh </u>`? It looks like an unnecessary complication to me.

[16:22:11](#NQ3r1N_poYF-h4GP49rc2v3TToE4bkm7p-3ElKDbxis) <hiiamboris (NOT THIS ONE)>:
* I'm asking because I don't see anything bad about this.
Consider this perfectly normal workflow:
![](https://i.gyazo.com/08055c2ffc10fd61a1022636e117a7e6.gif)
How its result should be encoded in HTML? As `ab <b> cd <u> ef </u> </b> <u> gh </u>`? It looks like an unnecessary complication to me.

[16:23:09](#zs9S4olk0t1frzid5veAjEoPa98Etr2YMnccgFJFKUg) <hiiamboris (NOT THIS ONE)>:
That is, I don't see anything wrong here. And I don't know if HTML spec speaks against it or not.

[16:24:09](#ToAU-SxQYx1lJ846uRmKYH4IU58od1ZCFRksne6nhm8) <hiiamboris (NOT THIS ONE)>:
I'd ask google, but have hard time formulating the query ATM í ½í¸‰

[16:26:31](#Zwdued58HMzoamcRpzzB6z52wSMxHkVAe_xmiPNyBfE) <hiiamboris (NOT THIS ONE)>:
IMO it's a fundamental mistake of HTML to encode both text attributes and document tree structure using tags. Tree nodes cannot intersect, while attributes can.

[16:34:43](#M4W8de0oHUHV2lD_qYFMfLOMbRLWfeDTbGMTPecZc3w) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Nesting is not valid... you may check it here: https://validator.w3.org/#validate_by_input

[16:37:35](#snUot4rKjV1c6CKqGEDKC70loYAq_t5EjHe3wiBpwS4) <hiiamboris (NOT THIS ONE)>:
Thanks

[16:39:15](#2bg97Jirg2vvRyVRetdp16F-F20VbReLOck8Y1rO1ro) <greggirwin (Gregg Irwin)>:
I don't think we should accept sloppiness and bad input, that's just perpetuating the problem. If we want to follow Postel, that means emitting good HTML (potentially), and we can't do that consistently with sloppy input. 

[16:41:37](#rjzItsQLKtV2R8UFKsQ7WO0ZeIlLwMF-QgFHlavRBUA) <hiiamboris (NOT THIS ONE)>:
But as a human what would you write, simple version or nested version?

[16:42:21](#sKrqQCw5G2IBYGSwKXUd227EUFd-TVLLx5vC6IpVK6M) <Oldes (@oldes-556aec4015522ed4b3e131da:gitter.im)>:
Simple

[16:42:51](#--X4cD_0OzHDxsbObiKJS4urK5r4QsFONeSB_c4Prtw) <hiiamboris (NOT THIS ONE)>:
That's what I would do too.

[17:01:23](#QDWPF7QPJlGEhaK7_8y35n3AKsGlEVkNlDval7QP4SI) <greggirwin (Gregg Irwin)>:
Simple, I imagine, but it should catch errors as it does. However, I expect most content will be generated with tools. Devs will still write templates and pieces by hand, but not full documents.

[17:02:42](#Ri_TkryUaMvFRZv3LuhAk5jOHYB-6CLfMHhzS0XnP9s) <greggirwin (Gregg Irwin)>:
So there the nested version is much nicer for processing. It's not as human friendly in very short content, but once things grow matching tags isn't friendly either.

## 16-Dec-2022

[15:34:24](#HGiKM_-vlNd_nP_RhZ01bzXxkHI5MUY1Hj4-Jp92HZU) <hiiamboris (NOT THIS ONE)>:
@dockimbel what do you think?

[15:35:13](#RFg4fWXdNbKIpsa_lY2xSCxV3VfD9Y58I8jpC6RwO0c) <hiiamboris (NOT THIS ONE)>:
And on another topic:
```
>> parse [1 a] [collect [keep set x integer! (?? x) keep set x opt integer! (?? x)]]
x: 1
x: none
== [1]
```
Should second `keep` collect `none` instead of the empty block?

[15:36:45](#ie3-2CnehMzR9Byg63fAogX1TBPhUevyhj05njyK3eA) <hiiamboris (NOT THIS ONE)>:
Though `keep` is block oriented, so maybe not.

[20:10:34](#Wrdb5oHgg_OIIj5vbA-P67BCUOPFYiGIVmnYITq9ses) <rgchris (Christopher Ross-Gill)>:
@dsunanda @hiiamboris HTML 5 is prescriptive in how any given character sequence is converted into a tree and is consistent across all implementations. This particular case: `AB <b>CD <u>EF</b> GH</u>` is handled by the Adoption Agency Algorithm which would, as speculated, resolve to `AB <b>CD <u>EF</u></b><u> GH</u>`.

[21:01:03](#HeH9_styOK14OJThB8T_nOShi-CXdXejagLMc9R9Emg) <hiiamboris (NOT THIS ONE)>:
Good to know, thanks @rgchris 
Do you think there's actually some benefit for text attributes to be tree nodes just like the document structure, or is it merely an artifact of syntax derived from SGML?

[21:19:56](#2pKC_MrB0DPkTvUtL-FCKxmAGAcjkHBjTGmn72OZYQs) <rgchris (Christopher Ross-Gill)>:
Do you mean text formatting? How would you propose it be handled?

[21:51:39](#sp9XxgV_EdJt7ONczniJ_3RTDNiPNoITOpiiTlkrgL4) <hiiamboris (NOT THIS ONE)>:
Bold, italic, underline, strikethru, link target, font size, font face - all these attributes can in theory intersect with one another. Designers could have used different syntax for them, that would not require them to become tree nodes, but rather become ranges, like our rich-text dialect handles `[2x7 bold italic]` and so on.

[21:51:53](#nQWXindv3zH2FituqFDar26OCDPF9eMGYNvXh_nYLsU) <hiiamboris (NOT THIS ONE)>:
* Bold, italic, underline, strikethru, link target, font size, font face - all these attributes can in theory intersect with one another. Designers could have used different syntax for them, that would not require them to become tree nodes, but rather become ranges internally, like our rich-text dialect handles `[2x7 bold italic]` and so on.

[21:55:30](#fBFMHuzuDyzVh0V8Umfk1PpgCDkjEJfwtxOsTdBJ8H8) <hiiamboris (NOT THIS ONE)>:
* Bold, italic, underline, strikethru, link target, font size, font face, cursor type - all these attributes can in theory intersect with one another. Designers could have used different syntax for them, that would not require them to become tree nodes, but rather become ranges internally, like our rich-text dialect handles `[2x7 bold italic]` and so on.

[23:34:11](#2y19KyYGhLmR_3OopY-ETMT3sRZbjnkwT1rGSMHbga8) <rgchris (Christopher Ross-Gill)>:
Perhaps, though arguably in HTML those aren't formatting elements, rather part of the document structure as well. For example, the `<b>` tag [is described as](https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-b-element) _"The b element represents a span of text to which attention is being drawn for utilitarian purposes without conveying any extra importance and with no implication of an alternate voice or mood, such as key words in a document abstract, product names in a review, actionable words in interactive text-driven software, or an article lede."_

[23:36:21](#Xgki66BG5jJs2eJASg1nznk9tCfIduH84pmcfD_IMUg) <rgchris (Christopher Ross-Gill)>:
The mechanism for making that span darker than other text is a separate concern (aka. style sheets)

[23:45:45](#Z8s00m-RNSZLSwdvHSYra6IwXQjpBMVx0WXvaBkGXIo) <rgchris (Christopher Ross-Gill)>:
(and since I used `<i>` above _"[The i element](https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-i-element) represents a span of text in an alternate voice or mood, or otherwise offset from the normal prose in a manner indicating a different quality of text, such as a taxonomic designation, a technical term, an idiomatic phrase from another language, transliteration, a thought, or a ship name in Western texts."_ í ½í¹‚)

[23:51:48](#vZSvZ37YAm7yR7ALNUzHsnqdnHbNNAG4VS_UpcoCnqw) <rgchris (Christopher Ross-Gill)>:
I've made the argument prior that View should similarly define UIs semantically and apply style separately. It doesn't always fit (same with HTMLâ€”particularly when using it to describe the elements of 'Web Apps') but there's a versatility to it.

## 17-Dec-2022

[9:27:11](#2i_I4bSJAa7mBgpR-MMAPG72eeK84C-hh0CjAuxN71o) <hiiamboris (NOT THIS ONE)>:
That's how I approached it as well.

[9:28:31](#xPSYyC63xOVze4W9JqVRQcBhlKF8zRDbAX-lYxtb5mw) <hiiamboris (NOT THIS ONE)>:
Thanks for the info. So they see it as a structure by design.

[10:35:30](#g-7z2TnjQEPflNrqRmc3ZsPq2OovmWsogPBEyhwWFyI) <dsunanda (dsunanda)>:
@rgchris Thanks. Prior to HTML 5, browsers (etc) did their own thing, with a top priority being to make a webpage render, no matter how badly formed the HMTL tags were.
In contrast, XML insisted from day 1 that the only acceptable XML is fully correct XML.
Some say that hindered the adoption of XML. On another hand, maybe it helped attract disciplined developers.

## 19-Dec-2022

[15:23:18](#uzrfCn_vI6yIrLOSNxlyJzJ_iEoSU7w51HO2_5AqCIY) <dockimbel>:
I have nothing against supporting a RTD syntax that allows for overlaps. RTD allows both tags and "undecorated" tag names. We could relax the constraints on that alternative form to allow overlappings, while keeping the tags version conform to HTML rules.

## 21-Dec-2022

[2:00:23](#Uyt7SaPM38CSbZZcxVqnpLNxoIRaSwdNlXosJQRRBNY) <mikeyaunish>:
Trying to track down what is crashing Red when I run my interpreted program. Is there a trace log I can turn on before the crash?

[10:47:18](#JDV8At_wp1jfVsSIp8Xlz3EROgfMHAK91SQqv8s1wKc) <hiiamboris (NOT THIS ONE)>:
compile your console with `-d` option

[10:48:55](#fLNmdTNtmUM5hZaLOAGkO0ZYEA4QpmiG2YDNzyRPwQI) <hiiamboris (NOT THIS ONE)>:
using instructions [here](https://github.com/red/red/#running-red-from-the-sources-for-contributors), or [this tool](https://gitlab.com/hiiamboris/red-cli/-/tree/master/mockups/redbuild)

[10:50:22](#MtxNosrsnq1ztvNvEF3ioOKpVNVE-8Mz7qcJdQE3W7o) <hiiamboris (NOT THIS ONE)>:
or compile your script with `-r -e -d` flags and run the exe

## 22-Dec-2022

[15:55:32](#UjcZaTfo4wfx1HtNor75jnRE8jeiyzzIE0VsKDSj1Fg) <mikeyaunish>:
@hiiamboris I have created a debug console. Haven't used it before so not sure how to use it. I can successfully run my program and crash it. 

[15:58:16](#aphmOtBRQW_HvqVWulMEY7dTmtjHWy2idZF0WosmK50) <hiiamboris (NOT THIS ONE)>:
just `do` your script or pass it as an argument to console exe

[15:58:30](#OPH_x2zyLZXm95flUa_SnjLH5Zt5KcKvSbp8yCNJ5hM) <hiiamboris (NOT THIS ONE)>:
crash it and see the output if that helps

[16:09:36](#Re3Hp3Y8N2kRPsoJePfzpltyik9PhLPAEn9mcHiFyaA) <mikeyaunish>:
Crash looks like this:
```
*** Runtime Error 1: access violation
*** in file: /e/red/red/modules/view/backends/windows/gui.reds
*** at line: 146
***
***   stack: gui/get-face-values 00210BBEh
***   stack: gui/paint-background 00210BBEh 50011627h
***   stack: gui/render-base 00210BBEh 50011627h
***   stack: gui/WndProc 00210BBEh 20 1342248487 0
```

[16:10:41](#DNYDxrgaS56_9ks_o4WNEXCkxvHzNRzpBq4iV5VTtVU) <mikeyaunish>:
This shows up when using a tab-panel.


[16:14:39](#ZxmVCbe-jgAPeRXY7N3xRtZU-PCUo4o3Zj6dK5pA52Q) <hiiamboris (NOT THIS ONE)>:
I can see from it only that `base` is involved

[16:15:10](#6ZYePbETkOi4EwwnYiP1i7-PLgVIEkMJsqp0cd8Us-A) <hiiamboris (NOT THIS ONE)>:
could be some facet having an unexpected value?

[16:16:38](#bxmhOlsS263fL6cf6iA2lsaZ6qqJb1VHqgJk2vXAsco) <hiiamboris (NOT THIS ONE)>:
look around this list as well: https://github.com/red/red/issues?q=is%3Aissue+is%3Aopen+gui%2Fget-face-values

[16:16:51](#BRmTfci1E3Gwom3oyboDF_U7ri0FQY-yiXflLE9lDwk) <hiiamboris (NOT THIS ONE)>:
maybe your problem is reported already

[16:20:57](#TeBWnyamVNOO6-GzdH2v2FK3Sb7-vXXqRtBZ37aX9fg) <hiiamboris (NOT THIS ONE)>:
admittedly their search is brutally nonsensical though

[16:22:12](#USfrdZhoO433AkhnNJ9uRwk0MxIRAj5DMjxxC2b1Z-Q) <mikeyaunish>:
OK - I'll look into it.


[17:47:42](#tRjPgBl15J4lAs8lyQhTRldAQWt_gxvPnZweG1fHc4g) <mikeyaunish>:
@hiiamboris this bug showed up sometime after: Red 0.6.4 for Windows built 2-Jun-2022/0:50:38-07:00  commit #671dae6


## 28-Dec-2022

[16:12:20](#tOE5-kHJDRz6nIptPcx1I-71cOdi_1PFp6LU_DyiM88) <hiiamboris (NOT THIS ONE)>:
This doesn't seem correct to me:
```
>> cs1: charset [31]
>> cs1/31: off 
>> cs1
== make bitset! #{00000000}
>> cs1 = charset []
== false
```

[16:15:36](#W6UD_NgWO4Vm5eLet5rvJUUamjM3pNwWAu_VBq1S0Jk) <hiiamboris (NOT THIS ONE)>:
Same on Oldes' R3 í ½í¸Ÿ

[16:30:34](#l4qklKD_QTnWwc5D5f_Di8Fzdtfop2dOvMNvgAvXmJ8) <hiiamboris (NOT THIS ONE)>:
It should either auto-trim itself (slower flipping of trailing bits) or ignore trailing zeroes (slower equality)

[16:33:03](#qbcHJPPmjjYk_htqfM70ub5m_bWHfJdr3C1hGnebZEQ) <hiiamboris (NOT THIS ONE)>:
* It should either auto-trim itself (slower flipping of trailing bits) or ignore trailing zeroes (slower equality, but still better than `cs1 = make bitset! length? cs1`)

[16:34:41](#htmtzyjdpb8EteWxG6ddC8lP2xmdRPyqlyA1AZYlLs4) <hiiamboris (NOT THIS ONE)>:
* It should either auto-trim itself (slower flipping of trailing bits) or ignore trailing zeroes (slower equality, but still better than `cs1 = make bitset! length? cs1`). `==` may still perform fast equality then. `<=` `>=` not sure.

[16:35:27](#ELXrNqKC-lyuyQF-giwlkQYzssT5jc7vH7nb10kfquo) <hiiamboris (NOT THIS ONE)>:
As it is it's half-series half-set.

[17:07:07](#BYZPfThThfg0bIIzHyD8oM24GqZr1qPkkYgQxCIK4BA) <greggirwin (Gregg Irwin)>:
So, should `cs-3: make bitset! <n>` auto-trim? I don't think so. If so, it does nothing but inefficiently. :^)

[17:07:44](#M1d5XkI3mgBc5ANu_rAsK-Pefwi8NpFWm8wXWIeb5bk) <greggirwin (Gregg Irwin)>:
The design question is whether the bitset length is part of the comparison. @dockimbel ?

[17:09:11](#sO9qoPJ7lzaQaMxoiFzhqVamec9AhRR0BTH6RmDeY_E) <hiiamboris (NOT THIS ONE)>:
It could use soft trimming to be more efficient. Track the length of non-zero part. Bitset cell has two unused slots. But flipping will still be slow, e.g. if `cs: charset [100000]` then `cs/100000: off` will have to scan all bits to determine the new (zero) length.

[17:09:43](#chjKmslRNGntTQnmZt-1IBjUA_NpL88ZvOOgk5iCrIU) <hiiamboris (NOT THIS ONE)>:
* It could use soft trimming to be more efficient. Track the length of non-zero part. Bitset cell has two unused slots. But flipping will still be slow, e.g. if `cs: charset [100000]` then `cs/100000: off` will have to scan all bits to determine the new (zero) length. So this only takes care of the allocations.

[17:11:28](#YO0XwcFRpmOfZe1mfnEnjpW3OYUGC9cWQOMnQYW9C9Q) <hiiamboris (NOT THIS ONE)>:
Or it could be series, then one could just `trim` it when needed :)

## 30-Dec-2022

[0:06:54](#adggnsFrmtIYrxI-rgHyV4fgUFYDil_UuI8IoWSGyQQ) <ne1uno (ne1uno)>:
>> 'm: make map! [0Â 0 1 1 2 1]'  ; Syntax Error: (line 1) invalid integer at 0Â 0 1 1 2 1]

[1:44:51](#XysNPhFWm3gAtDQDyLLTzWSS5PNEUnyZZXyf4B5Rv48) <greggirwin (Gregg Irwin)>:
```
>> m: make map! [0 0 1 1 2 1]
== #(
    0 0
    1 1
    2 1
)
```
What does `about` tell you @ne1uno ?

[1:55:36](#KnRQeAdW6W7SsKV8G85YDd4NFDmn3Kr9EQhvzQ9JanM) <ne1uno (ne1uno)>:
latest view 2202 nov
```
>> about/debug
-----------RED & PLATFORM VERSION----------- 
RED: [ branch: "master" tag: #v0.6.4 ahead: 4573 date: 23-Nov-2022/3:49:21 commit: #ee723a91c5007c4338b8252956063dcd668cf012 ]
PLATFORM: [ name: "Windows 10" OS: 'Windows arch: 'x86-64 version: 10.0.0 build: 19044 ]
--------------------------------------------
>> m: make map! [0Â 0 1 1 2 1]
*** Syntax Error: (line 1) invalid integer at 0Â 0 1 1 2 1]
*** Where: set
*** Near : transcode/trace buffer í ½í¸ƒelimiter-lex
```

[2:00:35](#8x-ej9x7jAmRxpLLkXwJJirEIfdqksMjmILxPe6fQFs) <ne1uno (ne1uno)>:
cli too


[2:23:18](#fmQTjmLamokPuKIPPXvUK2xwYe9DyKWVintxlvdwsNA) <ne1uno (ne1uno)>:
> ** Script Error: invalid argument: [0 1 1 2 1]

[2:29:40](#IEZ9TK8G38tzbrcFB9-2em33eraiMLE8uih3GKlQ2A8) <greggirwin (Gregg Irwin)>:
```
>> about
Red 0.6.4 for Windows built 29-Dec-2022/13:00:14-07:00  commit #6af0b70
>> m: make map! [0 0 1 1 2 1]
== #(
    0 0
    1 1
    2 1
)
```

[2:30:41](#coUuIy9JzJ7XOHejQqkGofW9XsoaOe-v-1-8X6zulU8) <greggirwin (Gregg Irwin)>:
That's a fresh local build for me. Try the latest download and see if it works.

[2:46:10](#haN6-OHk0QxpSDj6mELY_yY7kxGz1LK6qJXi5gVdfcU) <ne1uno (ne1uno)>:
latest view stuck nov22? 

[2:49:53](#RKCvqRg-vryZefr7PX_LsviUErm4dQQmfWeVDWffN5U) <greggirwin (Gregg Irwin)>:
@dockimbel ?

[3:18:07](#E3gfIRdjDrbWZF2Dw4vnbYDoPx6re5bczU8GFqYViH8) <ne1uno (ne1uno)>:
same with local build just now

[3:18:40](#LtnQceh8NHBfSbEOn9TDY-DLCSoxGcD9n1lZ0irS9Nw) <greggirwin (Gregg Irwin)>:
With a recent pull from source? If so, strange.

[3:20:03](#eMbw3p0oMGXjBuPT_kXCQwl_Djn6ZIVKI6yMd19p-9M) <ne1uno (ne1uno)>:
it works R3 and a 2019 build I keep for testing

[3:20:26](#911S-VetRNxoesCjsQMD36Jj__DoKeL3j49by4JGMIw) <greggirwin (Gregg Irwin)>:
Let's see what others report, to narrow it down.

[3:26:00](#9I3_89ncM5XyfTD1AoSTm7iFU9gEXL2cb_AS_Dqf4z4) <ne1uno (ne1uno)>:
I'm not sure what's going on now, I backspaced before the 2nd zero adding space and it works

[3:27:47](#Jxh16jcOgYV_-pw90JosBx0uSZDYJh5fsGFFXMHJgos) <greggirwin (Gregg Irwin)>:
Partial character encoding perhaps?

[3:30:12](#CuTzKaCV5F4_fK1EA8QkpnQ0XwsnNZ7gpQxAq1W5vZA) <ne1uno (ne1uno)>:
the cli looks like this when I paste, `m: make map! [00 1 1 2 1]` thought it was weird makes a little sense now.  looks the same in view.  not my first utf copy & paste bug.  sorry 

[8:47:21](#-qf0twDLvCZUOpXUrQWHu0E_U5R08GL5wCzEflDMoMc) <dockimbel>:
All the binaries on Download page are marked "29dec22". Try a hard refresh (Shift-F5) in your browser. Sometimes the browsers are caching the download page too aggressively.

[8:48:15](#LOJMuMVJGD95JrxAZta64e-4n0Q6wcfXmBJGywG_Yso) <greggirwin (Gregg Irwin)>:
I also see the new date here, but thought @ne1uno was saying the build was out of date somehow. My mistake.

[9:27:41](#moU9HVKCGuFwk_Yp3tNkNNabptZ1RJgc2KVE9CamBHM) <ne1uno (ne1uno)>:
thanks @doc @greggirwin, older chrome knockoff had to remove red-lang cookies 

## 3-Jan-2023

[15:26:39](#PY2GbfKYgVKRt44FXlQdc64lFYms2RALC2tEvg6V4Go) <mikeyaunish>:
Just checking to confirm this.
Using: Red 0.6.4 for Windows built 29-Dec-2022/13:00:14-07:00  commit #6af0b70
and running the following:
```
view [
    vid-code: area 300x200 {
        tab-panel1: tab-panel 
            "tab-panel1" [
                "Tab-A" [tab-a-btn1: button "tab-A-btn1"] 
                "Tab-B" [tab-b-btn1: button "tab-B-btn1"]
            ]    
    }
    output-panel: panel 200x200 gray
    button "Refresh Panel" [
        output-panel/pane: layout/only load vid-code/text
    ]
]
```
Then press "Refresh Panel" around 15-20 times will crash Red.
Last version of Red that I have that won't crash is: Red 0.6.4 for Windows built 2-Jun-2022/0:50:38-07:00  commit #671dae6

[15:33:43](#GWyGfDaXO-WY-a63j1IaNJYaGIw2NRgCGdhc270lGDA) <luce80>:
Another that won't crash is: Red 0.6.4 for Windows built 4-Jul-2022/9:48:56+01:00  commit #ccc7e08

[15:42:25](#rWU1R2443EBoM0fa7KLWHlAzJvhcJCOV2yIgkYmSE5w) <hiiamboris (NOT THIS ONE)>:
Confirmed, good catch @mikeyaunish !

[15:42:39](#M2DaRCdkzBUE-vH3ZMyGW6CbWGOJbgZ17_qpbdn6OoY) <hiiamboris (NOT THIS ONE)>:
Stack traces seem to vary from time to time.

[15:43:01](#qQBK27mCGXWhZY6Nhbc6fbsa6ZGqSRefzM0-wgyx3kI) <hiiamboris (NOT THIS ONE)>:
`red+view-debug-master-2022-09-09-2ba8188.exe` and before doesn't crash
`red+view-debug-master-2022-09-11-85fa7e7.exe` and after all crashing

[15:57:53](#SXuQO3_a3yLoLkYF0U6m8pi5AHDIGAA8tjP92xwUOGI) <mikeyaunish>:
Is this a open issue or should I open a problem @hiiamboris  ?

[15:59:09](#pgRrBGPkqF9H1z-IQFtAE2zLslOFLMnuEeSCtcBDOas) <hiiamboris (NOT THIS ONE)>:
Open it please

[16:03:07](#tRkw1NcaYWNSp7on1_oNwld5-ubyizqOmdMhvbdAW4E) <mikeyaunish>:
OK

[16:31:12](#zc-cqWM5MmiSlq5PvScUsNQRUv7ms9lMl-o5eRp0agc) <hiiamboris (NOT THIS ONE)>:
You omitted the `view [` part @mikeyaunish 

[22:10:26](#lCf7b30XtFKQD74iNgm64jXujiOx39AMFHOH8oFhVg4) <mikeyaunish>:
Oops. looks like markdown ate it. Fixed now.

[22:48:34](#JzD3DRZBXgqS3PjhSctibjXclkI-YSN8sMS5Pyg7JVI) <hiiamboris (NOT THIS ONE)>:
thanks :+1:

## 5-Jan-2023

[19:54:15](#5ws1mGJYofsumCbSNInQRjQdOKNOgFHGhRj0_YtTxAM) <dsunanda (dsunanda)>:
SORT/COMPARE does not seem to work if it has /LOCAL words. Is this a known problem?

[20:05:19](#GlLs3G_iufBP6ffZzEWXTswkYAblP8Oj7Z5gp3A0U8U) <hiiamboris (NOT THIS ONE)>:
no.. have an example?

[20:07:14](#ayguxsj_eEcGqostSCqvQV3oYDgnBDYF3Tb5VNznmB4) <hiiamboris (NOT THIS ONE)>:
looks ok:
```
>> sort/compare [7 3 4 9 8 1 6 4 3] function [a b] [x: 0 a < b]
== [1 3 3 4 4 6 7 8 9]
```

[20:12:21](#4Pz72z9jppO4Zoskq6Jlg5_n__Pc3SWeQqWmKlbjBs4) <dsunanda (dsunanda)>:
Try with or without either of the PRINT lines to get different results .... including the occasional console crash:
```
o1: make object! [x: 1 y: 90]
o2: make object! [x: 2 y: 1]
o3: make object! [x: 2 y: 2]

data: reduce [o1 o2 o3]

sort/compare data func [a b /local ra rb][
   ra: a/x + a/y
   print [ra a/x a/y]
   rb: b/x + b/y
   print [rb b/x b/y]
   return ra < rb
   ]
 probe data
```
At least, that is what I am seeing (Windows, couple of weeks old release)

[20:18:56](#XjnN0gJm4ocSrVV0dPizDdCHW8-QZhEb66CBSF6PUN8) <hiiamboris (NOT THIS ONE)>:
interesting

[20:20:25](#WWsuOJnkZB29E_hJF-xURTlM3RhXg6uHGRZdzVRo5Zk) <hiiamboris (NOT THIS ONE)>:
this reminds me of https://github.com/red/red/issues/4543

[20:21:43](#VClq5b7KddgKGZQ5paoQd2TfrbAXWiYhQ7lALCk-uyA) <hiiamboris (NOT THIS ONE)>:
and https://github.com/red/red/issues/4854

[20:22:35](#J7peedRRiSufzPKq4vI8urSj-2LyO_B_9-cwWEbAJ8M) <hiiamboris (NOT THIS ONE)>:
please make an issue

[20:58:37](#NU1_q20SKcbtLzPlfVmJTPHXPN-BPlxxMn0cDhg0lmo) <dsunanda (dsunanda)>:
@hiiamboris Thanks. It's 5265

[21:01:06](#V0U60P23NVcU72FzRuNszptCmT_hnAzesst9_VkehWY) <hiiamboris (NOT THIS ONE)>:
:+1:

[21:11:32](#MlIWuCQ9sVnPzev9ziwo9ZuWrhPDy8Qcb3S7depR7qo) <dsunanda (dsunanda)>:
.Thanks for adding error examples....I did not bother to do so as I have seen such a large range of strange errors (including PRINT no longer doing an implicit REDUCE on its block).

[21:15:59](#6qTHkqlTzvKX4FRQwsj4XpSNi-J93Kfavk8b_JXoFFE) <hiiamboris (NOT THIS ONE)>:
we will be looking at this issue years ahead, maybe trying with a different Red build, so it's important to capture the behavior

## 8-Jan-2023

[11:43:00](#bzoPW2xHBStDZSu182L3bcMscJ9ayjIoBn5hpEs8qFo) <dsunanda (dsunanda)>:
@qtxie  Thanks for the quick fix on 5265 - it seems to work well.

[11:45:09](#Wzq4LEU5S2RzQky7Dlg064BeL8X0gBohNYTez1SMVss) <dsunanda (dsunanda)>:
In testing the fix, I found it is possible to break SORT/COMPARE with a refinement in  the function spec. Don't know if this should be a new issue, or is part of the previous one:
```
o1: make object! [x: 1 y: 90]
o2: make object! [x: 2 y: 1]
o3: make object! [x: 2 y: 2]
data: random reduce [o1 o2 o3 o1 o1 o2 o3 o2]

s-func: func [a b /x /local ra rb][
   ra: a/x + a/y
   print [ra a/x a/y]
   rb: b/x + b/y
  print [rb b/x b/y]
   return ra < rb
   ]
sort/compare data í ½í¸–-func

*** Script Error: rb is missing its value argument
*** Where: rb
*** Near : return ra < rb
```


[11:51:37](#psM_05JlD8hOTyDHZqv7gkBO7wcIGW_zABcCycbK9rA) <hiiamboris (NOT THIS ONE)>:
the fix counts locals, so it misses refinements

[11:51:53](#8zCE0oZL-VnL29iESw5-4V4XTNJZQfbwC9iAypHy_sg) <hiiamboris (NOT THIS ONE)>:
add this info to the issue pls

[12:24:57](#KIyL0o7okL7-wAWINjqe6onoqCq-gDx5WHIbZZG9Vvo) <dsunanda (dsunanda)>:
@hiiamboris Done - thanks! (I have never had a usage-case for refinements in sort functions....Just stumbled on this edge case)

[12:34:43](#aADUeVYgnYKb0dok4JvTVYLL0dLhcoHQ6cDbJ3I6gV8) <hiiamboris (NOT THIS ONE)>:
:+1:

## 14-Jan-2023

[16:17:45](#bc70WK7Vg5C_fdIytKbs3A-3ABWhznnxzB8Aawfp0-g) <hiiamboris (NOT THIS ONE)>:
R2:
```
>> sort [a /a]
== [a /a]
>> sort/reverse [a /a]
== [/a a]
>> sort/case [a /a]
== [a /a]
>> sort/case/reverse [a /a]
== [/a a]
```
Red:
```
>> sort [a /a]
== [a /a]
>> sort/reverse [a /a]
== [a /a]
>> sort/case [a /a]
== [a /a]
>> sort/case/reverse [a /a]
== [a /a]
```
@dockimbel bug or feature? í ½í¸‰

[16:32:15](#IQqXTQ1tVDvqiCIqvNJOV74qmUrVZl2BrEmV0N0HpoY) <luce80>:
Script A:
```
Red [] catch [do %scriptB.red]
```
Script B:
```
Red [] throw 1
```
And then:
```
*** Throw Error: no catch for throw: 1
*** Where: transcode
*** Near : do %scriptB.red
*** Stack: probe do-file load
```
Not sure it's a bug but just to mention.

[16:36:20](#Xf9E90s9MxrGRhvd-dAzQ5Xyjs2ZpSW0JyF4FOATSag) <hiiamboris (NOT THIS ONE)>:
no, it's not: `do` contains an implicit `catch`, so you need to catch your throws within the script that throws them

[16:36:42](#ZQHPgJvn10MpTUVT5Wc2T1aApq-Tsxzy_ulAONNLEeo) <hiiamboris (NOT THIS ONE)>:
* no, it's not: `do` contains an implicit `catch`, so you need to catch your throws within the script that throws them (or resort to `do/expand load %scriptB.red`)

[16:42:22](#BDium-KDE-lEuhUh0LW29rrGxzhf6I7LfyeS8axfAdA) <luce80>:
Wow! this is quite deep, thanks for the trick !

[16:43:12](#Mk9HUgSGR_MoApfIHf8t6fx0_cFBKOgPFPl7lbiMiPY) <hiiamboris (NOT THIS ONE)>:
but you're onto something here... because `halt` works somehow... í ½í¸‰

[16:53:24](#sHSvUSKKZ-pMvM_yFNImYe9VNWbRAMjmrQN98KECq4I) <hiiamboris (NOT THIS ONE)>:
I reported the discrepancy https://github.com/red/red/issues/5267

[16:53:48](#vfZbtqZiuvisTCq1pvytfBYBIh2NoahUZiOasKyXlnk) <hiiamboris (NOT THIS ONE)>:
* I've reported the discrepancy https://github.com/red/red/issues/5267

[17:13:11](#a3WSeEdR-F0LANIjBJ1a9OS4GP1JB9YM6WgEl1nX-Iw) <hiiamboris (NOT THIS ONE)>:
after studying the code of `do*` native I've come to agree that what you reported is also a bug, since code intends to `re-throw` catches (but for some reason they aren't caught)

[17:14:34](#UwDeNxmCRXAeyP62vwElfGq7VxxKJpPECjnh_rtBcAM) <hiiamboris (NOT THIS ONE)>:
https://github.com/red/red/blob/c7ceccff1e0022b22e35f25abdbac40940264c9c/runtime/natives.reds#L627-L641

## 18-Jan-2023

[17:18:40](#DkQcTzsTPH9zDW_n-9p4WvB6TV4wqQKPi-3OYkY0u2w) <dockimbel>:
It's a bug.

[17:37:05](#V2Y1_wtojj7xl70WM0fzIonKe_NpiSSLfLv8bRejQdA) <hiiamboris (NOT THIS ONE)>:
https://github.com/red/red/issues/5269 reported

[18:44:34](#hCDMY78AgAhIpD4Fm_sgx1xRvSYlBRzvbDOvkXCiMOI) <dockimbel>:
Thanks!

## 19-Jan-2023

[16:36:13](#SoYa6zpSu_2M7D5oUH2_NYaay5zmVwBybzNGGHEuRhQ) <zwortex (zwortex)>:
Good day all.
I am trying to reactive a script I've written in Red some time ago. and I bumped into an error. It shows
```
*** Script Error: pick does not allow none! for its index argument
*** Where: pick
*** Near : all [word = 'selected block? data find [] ]
*** Stack: do-file  
```
Not very helpful. However, I tracked the error down to the face text-list. I try to unselect the selected row using face/selected: none. It used to work as documented : Â« selected
Index of selected string or none value if no selection (read/write) Â».  see 
https://github.com/red/docs/blob/master/en/view.adoc#text-list
Is it a bug, or a documentation defect ? Regards.
```
view [
   l: text-list 100x100 data ["One" "Two"]
   with [ selected: 1 ]
   button {click me to get the error} [ l/selected: none ]
   button {works with 0} [ l/selected: 0 ]
   button {works with 2} [ l/selected: 2 ]
   button {silent with -1} [ l/selected: -1 ]
   button {silent with 3} [ l/selected: 3 ]
]
```


[16:40:09](#gL2mpkWQvlD0YC34a72QW_zkEReoIQ7vY8ClNhor6Us) <hiiamboris (NOT THIS ONE)>:
Hey, long time no see @zwortex :)

[16:40:33](#Y2UqfTf7BImSX04HK8VY-Qpf_4DEW_5ftvv75HlpHGc) <hiiamboris (NOT THIS ONE)>:
Due to your luck (or lack of) it was fixed yesterday. So just update :)

[16:41:40](#zbu6HapEQubUvtAntGV6yQhb3wmivOU_mVPc1tfWUws) <hiiamboris (NOT THIS ONE)>:
https://github.com/red/red/issues/5260

[16:42:49](#jbVGm79Tjv9J-UCq_pDsCZKLkn9T4dlCgDY9uYlmwXk) <zwortex (zwortex)>:
That is merry christmas then ! Thank you all for your kind support.

[16:43:46](#vF9vypf6i0iSqfqUPa5t-bJESo-tgqBeaP-Ou8AlQFM) <hiiamboris (NOT THIS ONE)>:
:+1:

## 23-Jan-2023

[19:38:31](#zsMciz9I4biOskptrociyURn-qPJyRO1zHwP2K3KDtM) <hiiamboris (NOT THIS ONE)>:
If I press Alt+Enter in Red GUI console it blinks, may lose focus, but if I switch from it and try to run `mpv` with direct3d video output it says "unable to init video output" and terminates. Until I get back to GUI console and press Alt+Enter again, or quit it.

[19:38:51](#-bW_gbP4OhjbYsUZo68FR1XHL4w-8ofFlwF_bmjrN9o) <hiiamboris (NOT THIS ONE)>:
Worth an issue?

## 6-Feb-2023

[21:30:40](#W_-cOgS3dZa-6fp0G1XMOUoUScL_uG0tB01QZmQYHXk) <mikeyaunish>:
[![console-truncate.gif](https://files.gitter.im/5902e8c1d73408ce4f5b94ba/5j08/thumb/console-truncate.gif)](https://files.gitter.im/5902e8c1d73408ce4f5b94ba/5j08/console-truncate.gif)

[21:31:38](#F7AKZ9TlZumnzGISNaphSgBVDHgcb6Ts7HeLwc1qjHw) <mikeyaunish>:
Is anyone else getting truncated errors to the console?  If I open the console and enter: ```view layout [ button "Error text" [ print xyz ]]```. Then click on the 'Error text' button. When the output gets to the bottom of the console it is truncated like this: 

[21:43:47](#0WVg3ius16LmrCFaB9WHhIuNOoCbs8buRYU6nwMxXKM) <hiiamboris (NOT THIS ONE)>:
what do you mean by "truncated" on your screenshot?

[21:46:27](#R9u9vS1BzJ_dbbnUCrw_Zk6kxr6QpAO40NBXG_jXnCA) <ne1uno (ne1uno)>:
no auto scroll, seeing in win10

[21:56:04](#Lmf4YNl3oDVTlmHPAHT5O_RHbLZNzSsssWqGtlYO8pI) <hiiamboris (NOT THIS ONE)>:
for me it scrolls on every second click

[21:56:17](#D2RRYEyVLuwRIM-62bg2GeoYDVH1EpNNKZlC5JxFUXQ) <hiiamboris (NOT THIS ONE)>:
![](https://i.gyazo.com/5768ce9f75e6b7ff77e85ac086c08b5a.gif)

[21:57:41](#Wzs1MAwRMtCov6EP3vyVqZON56oCaclTMCynIPWT1dA) <hiiamboris (NOT THIS ONE)>:
I suggest commenting on https://github.com/red/red/issues/5250 

## 7-Feb-2023

[14:04:18](#KUrkvU60utwswbjCXuIw-zo1CmJdtRCpdOy9-j0JYYw) <mikeyaunish>:
Will do

## 21-Feb-2023

[22:08:21](#2eTyXj2NwUfTmxE12HDvjiQ0OEGHShSKHYXxultdeOU) <mikeyaunish>:
This works correctly;
```
view  [
    style custom-style: button font-size 15
    b2: custom-style "one"
    b3: custom-style "two" font-size 10
    b4: custom-style "three" 
]
```
Changing the last object changes the size of all objects;
```
view  [
    style custom-style: button font-size 15
    b2: custom-style "one"
    b3: custom-style "two" 
    b4: custom-style "three" font-size 10
]
```

[22:18:01](#8rrVzl0pFU34GdpRfYCrKHobs5MMH-BFJm2USBsWA7E) <hiiamboris>:
not only that, but font is reset to some pixelated one

[22:18:57](#hhRDh2LiPtZAG0SagRkB7b0lOLugSEa_RqKU4ew2fRU) <hiiamboris>:
https://i.gyazo.com/f8773fd818cf2fb8eea58b58d0f1a2d1.png

[22:19:11](#bUZg_K5dpX33tc5flX2prwppf9cHJooaLdetHJfZTkw) <hiiamboris>:
make an issue please

[22:19:26](#JIcg5c4D0g-yXhP98Wj5DMHRePumS7xJsY-ik2z5Rfc) <mikeyaunish>:
OK

## 26-Feb-2023

[23:55:13](#HOd4dtenP1og9xHzZBhnTr2qSI43RJhbCifsM73e7wo) <TimeSlip (James_Nak)>:
printf not working when called in Red within a routine. Works in R/S

[23:55:30](#hoa7B9ldY6O6M0DuXlVYF0JZ4UY2GDF4StDQFjQKY9k) <TimeSlip (James_Nak)>:
```Red/System [
	title: "test-string.reds"

]

reds_test_string: func [
][
	printf ["Testing a call from Red: %s" "Hello World."]
]

...

Red [
	title: "test-string.red"

]

#system [ #include %test-string.reds]

red_test_string_func: routine [
"Test the r/s function"
][

	reds_test_string
]

red_test_string_func ```


[23:56:06](#ekDM-fK-mEo1-nAuYPN0YjZjtQo7CVuYRAByd4dMYpU) <TimeSlip (James_Nak)>:
 * ```Red/System [
	title: "test-string.reds"

]

reds_test_string: func [
][
	printf ["Testing a call from Red: %s" "Hello World."]
]

...

Red [
	title: "test-string.red"

]

#system [ #include %test-string.reds]

red_test_string_func: routine [
"Test the r/s function"
][

	reds_test_string
]

red_test_string_func ```
````

[23:56:41](#p76RIhz44FqWCW9H1ANB17l0Exx8Pd92tzVKfXNJdG0) <TimeSlip (James_Nak)>:
 * ```

Red/System [
	title: "test-string.reds"

]

reds_test_string: func [
][
	printf ["Testing a call from Red: %s" "Hello World."]
]

...

Red [
	title: "test-string.red"

]

#system [ #include %test-string.reds]

red_test_string_func: routine [
"Test the r/s function"
][

	reds_test_string
]

red_test_string_func ```
````

[23:59:02](#HYeTrdhiPN6Ka7SRQlCbqkGsNzBjew5xWkGPZDy8G88) <TimeSlip (James_Nak)>:
Confirmed by hiiamboris to be a Windows branch issue.

## 27-Feb-2023

[14:56:19](#OwiPw4ZBniXPxwbHMENhsGSNT6exmQzcbO4IsmadRew) <mikeyaunish>:
Confirming that the tab panel imagery remains after the new panel is displayed.
```
view [
    output-panel: panel 200x200 gray [
        tab-panel1: tab-panel 
            "tab-panel1" [
                "Tab-A" [tab-a-btn1: button "tab-A-btn1"] 
                "Tab-B" [tab-b-btn1: button "tab-B-btn1"]
            ]    
    ]
    button "new panel" [
        output-panel/pane: layout/only [
            button "Panel 2 button"
        ]
    ]
]
```

[15:00:31](#MwuXu8OdqMONj_ybXnZzZdGk4eiCMd0XC_9eQU-JniY) <hiiamboris>:
![https://tchncs.de/_matrix/media/v3/download/tchncs.de/978302ddb9130200edeb1f73236775983fe27eab](https://tchncs.de/_matrix/media/v3/download/tchncs.de/04c278ed84d809a313199491c5e41a0b63d7140e)

[15:01:18](#WK2vrUUcsPyLBoUmG7pbM9qhZ9MB5ajk9IUhlduOxhQ) <hiiamboris>:
`Red 0.6.4 for Windows built 28-Jan-2023/14:28:13+03:00  commit #ec0c312`

[15:02:24](#sEVGGaYpok7ZhLjhTftsGmK2foGsauxJr7ZgDH0T1Ss) <hiiamboris>:
open a new issue

[15:02:43](#ypJrvu43xI6z8lslwGAnI-BBxWxcMZxcZpLj3422AgU) <mikeyaunish>:
OK.

## 28-Feb-2023

[1:12:50](#82KDgwbEm1hL9J5PlbHXLGPn0yKV4gOZ_sBWsXzg1qY) <mikeyaunish>:
Confirming 'all-over removes 'password effect from style.

[1:12:54](#EsNcbnUt-rJ1vWmA59xu_huefK9O6285vSMmaOdOBBk) <mikeyaunish>:
Confirming 'all-over removes 'password effect from style.

[1:12:57](#b-S0aXMP1r9_mBv5GqBbk3EcU39-G8hRb8Ip-UOJdE4) <mikeyaunish>:
Confirming 'all-over removes 'password effect from style.

[1:12:58](#JIFWIfJx727LNiJU81Ut_uP-gd-V0uHsHb_UnRXgtdE) <mikeyaunish>:
Confirming 'all-over removes 'password effect from style.

[1:15:02](#iN-xysiRcXuB-WXmYAqkQ2l8FOMZ-cajmE7tCPPh0bE) <mikeyaunish>:
```
view [
    style password-field: field loose password
    f1: password-field "hello"
    f2: password-field "goodbye" all-over 
]
```

[4:47:25](#hiEjpLWM2FShhL9FEKGZhB8LhoV7k89brtcgsI2QZf8) <greggirwin (Gregg Irwin)>:
Doesn't happen if you don't use a style.
```
view [
    f1: field password "hello"
    f2: field password "goodbye" all-over 
]
```

[4:48:01](#HrAepzblapvoMqkQfV6a88Oq6CvfKbk-Uz2yD_MWJb0) <greggirwin (Gregg Irwin)>:
So it's style related.

[12:48:33](#sGA_REuy6SYyxhoQA2mRaiB_CGwN4PR3dT2eZ7KwyFI) <dockimbel>:
Please open an issue for it.

[14:30:57](#WsZR8VMPyaFawV25SPiLeFmg1Kj23qXeIC59Ig2p60I) <mikeyaunish>:
Will do.

## 5-Mar-2023

[14:13:39](#wvk4afSr6aWX2mh35nS5bhhdtLy5macxM8zR92Vc7lw) <luce80>:
In R2 and R3:

[14:14:22](#uJW7Ycjijt4xRQ6WxzGFydJqutW2JlvvnA2vWsXZhK8) <luce80>:
 * In R2 and R3:
```

[14:16:02](#gJ0b1Vb1KCbPABpG1PvQX0TAaTonjgVE5Isra6IsayU) <luce80>:
 * R2 and R3:
```
>> do 'next "abc"
== "bc"
```
Red:
```
>> do 'next "abc"
*** Script Error: next is missing its series argument
*** Where: next
*** Near : do 'next "abc"
*** Stack:  
```
Is this intended behaviour ?

[14:26:28](#ViAsZN5UpFjT00Vq0WQSiG8lQT1f2MJBu4inglW3oak) <hiiamboris>:
yes https://github.com/red/red/issues/2947#issuecomment-319048056

## 7-Mar-2023

[18:51:15](#odsVlw7PFRYyd_uepgQUOk0qTK4Cp-HEDjpY-eBdMGY) <luce80>:
Ok:
```
>> :next
== make action! [[
    "Returns a series at the next index" 
    series [series! port!] 
    return: [series! port!]
]]
>> do :next
== make action! [[
    "Returns a series at the next index" 
    series [series! port!] 
    return: [series! port!]
]]

```
So, as intended, `do` with a `function!` as parameter is a "no-operation" but:
```
>> 'next
== next
>> do 'next
*** Script Error: next is missing its series argument
*** Where: next
*** Near : do 'next
*** Stack:  

>> do 'next "abc"
*** Script Error: next is missing its series argument
*** Where: next
*** Near : do 'next "abc"
*** Stack:  

```
Here `do` tries to "run" the function but fails to collect/evaluate its arguments. Is this intended behaviour ?

[19:00:13](#OkjADaHuepLSvHPSQpHlbDoFbZSav72EGJO-DLs-Lz0) <hiiamboris>:
dockimbel

[21:35:05](#RFErQB5MzZWEbtQIPhI62qQVcJGzY5hpg-N_mDZlelU) <greggirwin (Gregg Irwin)>:
Yes, since `do` is single arity by design.

## 8-Mar-2023

[12:55:45](#aAmqtLOATBHfVD3pskYnkjQy2IVUbLD9WHnqxAqmphg) <dockimbel>:
Actually it's not `do` who tries to evaluate the function but the interpreter. `do` only evalutes `next` word passed as argument, then the interpreter tries to evaluate the function, but fails because it tries to fetch the arguments from the stack (instead of the source block). I'll push a fix for better consistency with the pass-thru case using a get-word.

[12:59:09](#4L8JePh5GCwD-5XYk-ja3gfNiTDGFXspNOyib1Ce2ms) <dockimbel>:
 * Actually it's not `do` who tries to evaluate the function but the interpreter. `do` only evalutes `next` word passed as argument, then the interpreter tries to evaluate the function, but fails because it tries to fetch the arguments from the stack (instead of the source block).

[13:03:57](#yPSH8flGg7GZp4tQYLsGWS8u_r9F3ROm_3I7WgoONm8) <dockimbel>:
Same behavior with paths:
```
>> a: context [b: func [i [integer!]][print i]]
== make object! [
    b: func [i [integer!]][print i]
]
>> do :a/b
== func [i [integer!]][print i]
>> do 'a/b
*** Script Error: a/b is missing its i argument
*** Where: b
*** Near : do 'a/b
*** Stack: b b  

>> do 'a/b 5
*** Script Error: a/b is missing its i argument
*** Where: b
*** Near : do 'a/b 5
*** Stack: b b 
```

[13:05:52](#lcKP6sOvrkmWZQ6fU30AxudnnFn4qJOjkzAog02xmV4) <hiiamboris>:
`reduce` too, but it probably dispatches into `do`

[13:07:24](#YbortfSSz6Ednx9ZAdk2KItfEfe5_DbUzFuAv6yZJq4) <dockimbel>:
I'll push a fix to make `do` passively process `word!` and `path!` arguments instead of letting the interpreter evaluate them further.

[13:07:57](#rlj7L51spTim1iH-JKgCIgQINQBjJaGEtOfszSWDxuw) <hiiamboris>:
In R3:
```
>> a: context [b: func [i [integer!]][print i]]
== make object! [
    b: make function! [[i [integer!]][print i]]
]

>> do 'a/b

** Script error: function! is missing its i argument

>> do :a/b

** Script error: function! is missing its i argument

>> reduce :a/b
>> reduce 'a/b
== a/b
```

[13:09:02](#CdFJihFpMcVNzJQZO7rCkTS9MmAYcKffa6eI4kf9z4Q) <hiiamboris>:
I guess this code makes so little sense that nobody ever stumbles into it :)

[13:12:25](#z97WiQUIB3UtG1wFDzDUCb3QZZKcOUhnZeLtwyZjKAU) <dockimbel>:
We actually allowed a limited `do <path>` pattern: https://github.com/red/red/blob/master/tests/source/units/evaluation-test.red#L104

[13:12:44](#2pUw28mSGxuhHP4dqFT9HmOLlq7FiwobkmJSW3n2xKk) <dockimbel>:
 * We actually [allowed](https://github.com/red/red/blob/master/tests/source/units/evaluation-test.red#L104) a limited `do <path>` pattern.

[13:14:01](#YwPdYowjk9i5SE7F3yjiuAS8FAoZxN4K-wKHVXBVXRI) <dockimbel>:
IIRC, we allowed that due to the absence of `apply`. 

[13:14:15](#ec_Ys_R0vZQPOZhvkevLa0tbRmDJPU74dMNc8KkU8G8) <dockimbel>:
 * IIRC, we allowed to compensate for the absence of `apply`.

[13:14:26](#dpYYKmypdto535Y1G6ZLUYSp0pu43hPpmzSmwk7Z3nU) <dockimbel>:
 * IIRC, we allowed that to compensate for the absence of `apply`.

[13:17:03](#9YCF6rjjBIOOu83rsGU2WgxL96NjY6i628FBsDFhPeU) <dockimbel>:
 * IIRC, we allowed that to compensate for the absence of `apply`. BTW, I have a proposal for an `apply` spec, based on the `new-apply` spec wrote by Gregg and Boris.

[13:17:52](#z7m3d0AVyDqWiwyfuaJEeKBOaau49z7NPBsI5EMFUK8) <dockimbel>:
 * IIRC, we allowed that to compensate for the absence of `apply`. BTW, I have a proposal for an `apply` spec, based on the `new-apply` spec wrote by Gregg and Boris. I just need to prototype a bit the implementation to be sure there's no show-stopper.

[13:20:58](#GRublbY5aHu6pNURDIKYvY-W-6DtyplcVFak6wGPhMs) <hiiamboris>:
`apply` would be very very welcome

## 12-Mar-2023

[17:15:39](#wUq3NgZQaEdYwKQF9L_6JMKrzEESpVFctae-27oIQcM) <luce80>:
hiiamboris:  obviously in R3:
```
>> do 'a/b 10
10
```
...for completeness ;)

[17:27:19](#9AsuemP1dmOf0NnTPpR6MQBtVdDblpuuNjWZcGMlZfA) <hiiamboris>:
hmm ok so natives in R3 are capable of variable arity calls, but functions aren't?

[17:28:21](#lUXK6tFreKKexMBV_TLukpSOgOLwucrKnFZTVTEX7Z8) <hiiamboris>:
this makes me fully understand the Red design decision then :)

[18:10:25](#AG3G3E1bXuTr4fsAZ8-3tdGWuutlRQoD3pv9CKOn2yU) <luce80>:
IMHO You can also see it like this: the argument of `do` is the  "`function!` object" which, when evaluated, "asks" for its argument(s)

[18:13:52](#Ndx--nuaJpuaHGzJkOc827RkW-2JCSKaKuNJkMcO_PQ) <luce80>:
 * IMHO You can also see it like this: the argument of `do` is the  "`function!` object" which, when evaluated, "asks" for its argument(s)
Or a syntactic sugar for: `do ['a/b 10]`

[18:15:40](#UIK2_KLovmNkFXRNrWRCliWF-mXi9Sa1MdLB_AU2p1E) <hiiamboris>:
but my problem with it that I can't replicate the same behavior myself, or can I? can I write a mezz mockup of `do` native?

[18:20:58](#AtNcY4To9QWiRr9spmHIoK0WPr9zPWtfcl9IlIMks24) <luce80>:
If you can, please tell me how, since I used that pattern quite a lot in R2

[18:26:40](#Bzj1WnCXNUZwyqyWnAXc7eHAsKxWAX8Hd0aK7seWscs) <hiiamboris>:
I don't even know how to do that in R2 :)

## 6-Apr-2023

[16:19:49](#AvRrsJhpPGjyjMm64LPCQy5V8L2kVSrimL8VkrQ4U9k) <Oldes (@oldes.h:matrix.org)>:
```
>> src: %../
== %../
>> dir: tail src
== %""
>> clear src
== %""
>> dir
== %  ;<---- shuld be %""
```

[16:20:22](#uMMnyjV-SW9y2Lyb4v8vNZJgg9nQu6kcNPJGfo0EJJE) <Oldes (@oldes.h:matrix.org)>:
 * ```
>> src: %../
== %../
>> dir: tail src
== %""
>> clear src
== %""
>> dir
== %  ;<---- should be %""
```

[16:41:56](#jjEQKj2W1kkDdUhHxYPwTtq9yYVvFrr7M-0DMoFyEfw) <hiiamboris>:
create an issue

[16:42:57](#vdP-1Lax-8CWXZIxArU_TY5JC9zmsmLEt-1UxL9lCTE) <hiiamboris>:
or comment on https://github.com/red/red/issues/3369

[16:48:42](#QcFqSQqqvgl2yuzCFdltU-GropEUryOzNPBC87tXHEk) <hiiamboris>:
technically it's a `mold` bug though, even if 3369-related

## 7-Apr-2023

[13:00:58](#WzUSYa6RCiRNBPkSRacBmxgFSw16f__GxVCfEbTlgSU) <Oldes (@oldes.h:matrix.org)>:
hiiamboris: using your test case from the issue:
```
>> s: does [a: copy "12345678" b: skip a 2 c: skip a 6 remove/part a 4] s
== "5678"
>> pick c -1
== none
>> pick c -3
== #"8"
```
wouldn't it be better to have `pick c -1` return #"8"?

[13:01:08](#oN7r5Dcuq5-Ea61PMo8epkMT0XI-Z_kSlQ1Ga0f4UE0) <Oldes (@oldes.h:matrix.org)>:
 * hiiamboris: using your test case from the issue:

```
>> s: does [a: copy "12345678" b: skip a 2 c: skip a 6 remove/part a 4] s
== "5678"
>> pick c -1
== none
>> pick c -3
== #"8"
```

wouldn't it be better to have `pick c -1` return `#"8"`?

[13:05:03](#sNQDCoTLikv5n0pqKjWubeS-xQT0ZfBZ3XCvWk0vSlk) <Oldes (@oldes.h:matrix.org)>:
I understand why it is like it is now, but I am not sure, if it is good o not.

[13:05:08](#ExdbckTicrqUMr0EcuHQidyRuuYNoPBNjLweJ_8o92E) <Oldes (@oldes.h:matrix.org)>:
 * I understand why it is like it is now, but I am not sure, if it is good or not.

[13:10:54](#dmBGRcD6Zro-M8K-00qiDwwGkHC9cJKCfWyDth62xo4) <Oldes (@oldes.h:matrix.org)>:
 * I understand why it is like it is now, but I am not sure, if it is good or not.

[13:15:18](#WyWHqenXCjzTBrWD5WvU7q6ZGLKFqb7vlFIr67sHuj8) <hiiamboris>:
I can see tradeoffs either way

[13:16:15](#WS1HKcrvM7ru-xT2WebVtdVMGNU7v0W3T6LsBZKyu0w) <hiiamboris>:
see [comment] as well (too bad gittards destroyed the room history)

[13:16:21](#YsJ8xzvf3gJhP4-GU9A_aPh79I29DZ1oX7APd-NKL5s) <hiiamboris>:
* see [comment](https://github.com/red/red/issues/3369#issuecomment-393877289) as well (too bad gittards destroyed the room history)

[13:24:26](#IGQDUzTMdy7iHFGcjROaazDTA-WBv15XZ9WmHUrGDBk) <Oldes (@oldes.h:matrix.org)>:
Right... but when you want the `change` _first get back to series' tail_, then shouldn't the `pick` work the same way?

[13:32:38](#i8Mkb5gyRuIL4rXgi4qMCpXfsMGCciIMF1Wh5iWkaA0) <hiiamboris>:
yes

[13:50:18](#tyvcjm1Q-6MqFg29puk8EnZjBclb5mK8JZf4NmseRnQ) <Oldes (@oldes.h:matrix.org)>:
And what about this:
```
>> a: tail "a"
== ""
>> take/last a
== #"a" ;<--- I think, that it should be `none` (it should not skip backwards from the current index)
```

[13:50:54](#LdIByW7VPR994GaRfya90rcOKrqZi1-2Gn8ESRl4u3M) <Oldes (@oldes.h:matrix.org)>:
In the same way like:
```
>> last tail "a"
== none
```

[14:06:34](#yrmjkJYs7mAHiu-DFQPypGdgHQOwc_I-9Txj_MchbB4) <hiiamboris>:
also noted in that issue

[14:06:51](#pGSjxF9m1g9u1pb7w5hunKA1ICMCi8KViGVlqnbMxj0) <hiiamboris>:
R3 returns #"a"

[14:07:07](#lVy3o8xeGVAL-1zsJAZwuCrxxYMJlz1BvETogCPvV7c) <hiiamboris>:
again, tradeoffs either way

[14:07:29](#-dhSR6-j23QJjcgNtv3lTSd8RPSSGtJBGmxnMiLd3yY) <hiiamboris>:
do we want take/last to depend on the index or not

[14:08:44](#ms8wAUbeZxbAQ4GwEeK6JWWza4j7dUpHXyLRJtDXB4A) <hiiamboris>:
and by the way:
```
>> last tail "a"
== #"a"
```

[14:12:03](#1IoFSackJr7DDegUvPlhwLyvTFNI2k0UHbzTw6tVq5E) <Oldes (@oldes.h:matrix.org)>:
not anymore

[14:13:01](#jpgIiQrAzgrsg2YMlvBoH8Hzu5PP6hOykFlZCyPZhVE) <Oldes (@oldes.h:matrix.org)>:
```rebol
>> last tail "a"
== none

>> take/last tail "a"
== none
```

[14:13:41](#rIc8pMB-rwoYzNYNxGkKrqV7tUZmhz1PHK6IrKjBOhk) <Oldes (@oldes.h:matrix.org)>:
https://github.com/Oldes/Rebol3/commit/be1edd25db0b959f7ddaa234adcabd629f893280

[19:57:15](#_1-yD7wjQOxMJXFLTqL-blLWMpKggNjjAL56t5gl0pA) <hiiamboris>:
@oldes FYI:
```
>> to percent! 1.#nan
== 1#N.aN%

>> to percent! 1.#inf
== 1#I.NF%
```

[19:57:32](#k2i3G3boFcB9KIGhtrWR17NjebZCXibhyvX7RHqsxMk) <hiiamboris>:
* Oldes FYI:
```
>> to percent! 1.#nan
== 1#N.aN%

>> to percent! 1.#inf
== 1#I.NF%
```

## 9-Apr-2023

[14:01:35](#vhHtIU9ULvgqagzYMKvlSCgeJlTI_ZS6M57hX50ZDKg) <Oldes (@oldes.h:matrix.org)>:
Thanks.. resolved: https://github.com/Oldes/Rebol-issues/issues/2544

[20:40:11](#GY3F_Emvh3KnY0h70iKTmYqAss_TRXnVP23wMsuoTw4) <chinewcastle>:
Thanks.. resolved: https://github.com/Oldes/Rebol-issues/issues/2544

[20:40:27](#P8sEgz1MRzoRZ73kII_n_odEi-fJgkxBqR1D2GxFR6A) <chinewcastle>:
Thanks.. resolved: https://github.com/Oldes/Rebol-issues/issues/2544

[20:53:22](#lwoWVCICCHypB4bRTjpxYax1oAPVZ0R6DSGY5Mvt6Mg) <hiiamboris>:
this room is related to [Red programming language](http://red-lang.org/)

[20:54:08](#fVdVlmPjA2WDXDlYjztwtvz8GDBYQRZZsNkRkRKc_P0) <chinewcastle>:
> <@hiiamboris:tchncs.de> this room is related to [Red programming language](http://red-lang.org/)

sorry. removed my content

## 16-Apr-2023

[8:21:42](#wodpISnNSIAos18YgtowPzYSGeosweCi7xo1MU2-Nu8) <bradrn>:
I noticed that the GTK GUI on Linux doesnâ€™t seem to support IBus keyboards, which is quite inconvenient for me since I regularly use several different keyboard layouts through IBus. This strikes me as odd, since IBus works fine with all the other GTK programs on my computer, and I have the appropriate environment variables set. Does anyone have any ideas?

[8:22:21](#ZR-8AxXt_Rxt9J3CSiFATikRZgl1A6KL157W0Z-b7BE) <bradrn>:
 * I noticed that the GTK GUI on Linux doesnâ€™t seem to support IBus keyboards. This strikes me as odd, since IBus works fine with all the other GTK programs on my computer, and I have the appropriate environment variables set. This issue is quite inconvenient for me, since I regularly use several different keyboard layouts through IBus. Does anyone have any ideas?

[8:24:16](#JA3ywPgEgefh01wxsuthayDWYlDhV70UBzyG5SlxIDc) <bradrn>:
A simple `view [area]` is enough to trigger the issue â€” no matter which of my keyboards I select in IBus, typing into the `area` always produces Latin characters from the underlying QWERTY layout (even if I selected e.g. Hebrew or something like that)

[13:02:42](#lI5nq6opEJ2x9SWuK-ywK2ODVv31cVQ_0nlOWKVFbOo) <qtxie>:
bradrn: Area uses native GTK control, it should work with ibus. Please open an issue.

[13:03:00](#4kGmujc3upLtFao7PtlAppjD8zrmCq7cydo5P7ic9hM) <qtxie>:
* bradrn: Area uses native GTK control, it should work with ibus. Please open an issue ticket.

[14:51:53](#vf2Py4pADfo9_J2A4kingk3jnbzOFFby44jIAxGnjoA) <bradrn>:
> <@qtxie-55659cf315522ed4b3e10064:gitter.im> bradrn: Area uses native GTK control, it should work with ibus. Please open an issue ticket.

OK then, thanks! Just checking here since the issue template told me to.

[15:12:44](#ycG5N6EC9G8V-PZEMwxiZOKptfFNx1d-CGVoKYqF5Xw) <bradrn>:
Reported at https://github.com/red/red/issues/5306

## 26-Apr-2023

[16:47:01](#0AvWD56G5SBQslAZhXftlgoxG27fZt5Y39TXjxP8j4o) <hiiamboris>:
is this by design?
```
>> exclude make hash! [a b c] [c]
*** Script Error: expected hash! not block!
*** Where: exclude
*** Near : exclude make hash! [a b c] [c]
*** Stack:  
```

[18:01:27](#ZfQ44J6EBv4TG8dS9xbBXSpmV4pFg2Ff7ZJ-etIAk4Y) <greggirwin (Gregg Irwin)>:
I see the convenience in allowing it, but also that set ops don't modify the first arg, so what type should it return? Hash because it's first? What if the args are reversed? Should it "demote" the hash arg to a block? No other type mixes are allowed, so maybe better to keep it explicit.

[18:01:56](#2XvzF4iGII9m8JvUhU31XgBP9uBmigpR-lJJZZ4_IzI) <greggirwin (Gregg Irwin)>:
 * It's not clear if it's by design because `do-set-op` *does* error if the types don't match, but block and hash use the same func (in %block.reds) to do the work.

I see the convenience in allowing it, but also that set ops don't modify the first arg, so what type should it return? Hash because it's first? What if the args are reversed? Should it "demote" the hash arg to a block? No other type mixes are allowed, so maybe better to keep it explicit.

[18:05:30](#HFQrX9T0FeJhojysMH6hlGkU2oE5-IwYqR1oniJKqeA) <hiiamboris>:
type of the 1st operand makes sense to me

[18:26:45](#fgKaqbaUnuLpphpDH9fSHylxkwS3A6hYn_0kUqIeOyg) <greggirwin (Gregg Irwin)>:
So then is `exclude [#"a" #"b" #"c"] "c"` allowed as well?

[18:33:02](#8-hu3JFhK7xd55PFf8VinyWp3EfJ3XdLNB_cOUGCi3o) <hiiamboris>:
these are coercible

[18:33:17](#fil91hHTjjsRcbmId8NXjOZHYFX600jX-1qaajn-oM8) <hiiamboris>:
* these are not coercible

[18:43:24](#oD4Hn2nTRH2yCBz-XxBGBPA_7b94PV9oDiNS1a33MnM) <greggirwin (Gregg Irwin)>:
What's the driving goal in this case?

Needs a design review, if we want to change it. e.g. string set ops are `string!` specific today, not `any-string!`, should typesets coerce with blocks, what are set ops designed for (e.g. paths are coercible with blocks, but also ordered...oh, wait, blocks are too...unless they're not) and what are the pros and cons of more implicit behavior?

[18:47:25](#4wFe18KLfa_DT_NP4yJz6yX8D15QCGfY5RfvtpNrWak) <hiiamboris>:
```
>> ? any-list!
ANY-LIST! is a typeset! value: [block! paren! hash!]
```
I only propose coercion for these atm

[18:48:21](#3_txyEPXv9owQXb7tl5ZGrOf-r4S-lx5JmbwS7iSoHA) <hiiamboris>:
goal is simply to not have a feeling it's too picky (we know it converts everything to hashes anyway)

[18:51:34](#kHLy0Ku7NZmHT0_Xo7jCCdbkcfMvDtZ_qfXF75SRsyQ) <greggirwin (Gregg Irwin)>:
So REP might be: allow `[any-list! any-string!]` and coerce to the type of the first arg.

dockimbel ?

[18:56:01](#oOxe7wElPfYp42QEiZsodsSK-B-Z1ziuW4AwoUebjco) <greggirwin (Gregg Irwin)>:
`Any-string!` is questionable, except that I like leveraging types, and basic string maps to charsets clearly, where `[file! url! email!]` really don't, but `[tag! ref!]` ..maybe.

## 27-Apr-2023

[13:13:13](#Fzqd8djUQ8hXA9sYrM8lI6Y4NRpNdzqfMgY1qXPF2Ok) <hiiamboris>:
Another topic: button can be focused without detecting that it is.
`view [button "Click me then hit Enter" [?? event/window/selected]]`

[13:13:21](#U7urzuQJGVZFnfQWDrW8c8PawKIKkry1r0pFaqQCyow) <hiiamboris>:
![https://tchncs.de/_matrix/media/v3/download/tchncs.de/f645c27a2ac4700f1198f938c716622f61a0534e](https://tchncs.de/_matrix/media/v3/download/tchncs.de/99b3b05df568b8140bfa9f195b5f77613898a081)

[13:16:45](#K--rvu6lVblExvjAU2kDIjuYAKFLx4Puev_4grdgZ-g) <hiiamboris>:
It *could* be by design, e.g. having an `area` and a number of buttons that change text in it, to keep focus in the area on button clicks. On the other hand, both button frame decoration and its reaction to `Enter` key tells that button is focused, and if you add an `area` it loses its focus on clicks anyway. So it more looks like another focus bug to me.

[18:19:06](#Ig5l8y-jKyshqNHqKlDZ4Rj1UoSRsI0c2A6YdYWbQm8) <greggirwin (Gregg Irwin)>:
Seems like a bug, since it does have focus. And it's the same for all button styles `[button toggle check radio]`.

[20:25:22](#EZXyB0MXd_-Qh3Oeq_oP-JfKZMb5Vs2GFvs-YK9PAEg) <hiiamboris>:
https://github.com/red/red/issues/5308

## 28-Apr-2023

[8:32:30](#4K7vvqSLWVfa3TDWXGcuKr5EJ35zUjRZg3T7P-Xqrg4) <dockimbel>:
Seems reasonable. Just ask qtxie if it's fine with the implementation.

[8:34:59](#BaAN-nuaAS9WxN2zh7tSbLDPbFbYBazKO1Y7Qo4_XhE) <dockimbel>:
Do macOS and GTK support setting focus on buttons?

[8:42:43](#5sUgrj26B3GCgPICmOnIXmK-T7XEvcZHfps8Oq9Xsng) <hiiamboris>:
MacOS does when enabled in settings afaik. 

[8:46:42](#j2EDoaYv3BXEOzO1ldmb_jIeufjzl9tsU0YB8t8FJdU) <hiiamboris>:
Basically it's an accessibility requirement for disabled users.

[10:03:39](#YQnEnkxV87I8YwtxHrdYPZf-BjlanP8qt5DiJDn-KYY) <hiiamboris>:
GTK works same as Windows currently

## 6-May-2023

[20:56:01](#UOdI34bpIffZVoPtbzxosJqCGS3xtX6vJ2GxoI2mKjo) <GiuseppeChillemi (GiuseppeChillemi)>:
To find new words between Red versions, I use the following script:

```
;Red []
Rebol [
	Title: "NewWords.red"
]

mee: [
	system/script/args: to-file system/script/args
	write system/script/args "" 
	words-defined: words-of system/words
	forall words-defined [
		if value? first words-defined [

			if any-function? get first words-defined [
				WRITE/append/lines system/script/args TO-STRING first words-defined
			]

		]
	]
]

do/args mee "words-red.txt"

save %save-words.r head insert tail insert copy/deep mee reduce ['Red []] reduce ['quit]

;---------------vvvvvvvvvvv---Change-here-----------------
call/wait "red__.exe save-words.r words-red-old.txt"

foreach word sort exclude read/lines %words-red.txt read/lines %words-red-old.txt [
	Print ["New-word: " word]
]

delete %words-red-old.txt
;delete %words-red.txt
delete %save-words.txt

halt
```

The concept is simple:
It start its code block passing a destination filename
Then, it saves itself and start an old version of RED (or Rebol) passing the saved code block as argument with another destination filename.

Well, the problem is that between different runs, I get different results. It seems that during `write/append` phases a newline is skiped and here I find the words `to` and `not` joined missing. Maybe there is a bug in my script or google drive (where the code stands and runs) is having some corruption. I also have a read error problem on the first run with no files saved before. 
If everything  works for you and you have consistent result, please test it on a google drive. Note: you must have the old version of Red you want to test in the current dir and also you must change its name in the second argument of the `CALL` line

[20:57:11](#44pP6_lrATRd6vQDubMoytahc1YWJ2vrQjeqfqr6Tms) <GiuseppeChillemi (GiuseppeChillemi)>:
 * To find new words between Red versions, I use the following script:

```
;Red []
Rebol [
	Title: "NewWords.red"
]

mee: [
	system/script/args: to-file system/script/args
	write system/script/args "" 
	words-defined: words-of system/words
	forall words-defined [
		if value? first words-defined [

			if any-function? get first words-defined [
				WRITE/append/lines system/script/args TO-STRING first words-defined
			]

		]
	]
]

do/args mee "words-red.txt"

save %save-words.r head insert tail insert copy/deep mee reduce ['Red []] reduce ['quit]

;---------------vvvvvvvvvvv---Change-here-----------------
call/wait "red__.exe save-words.r words-red-old.txt"

foreach word sort exclude read/lines %words-red.txt read/lines %words-red-old.txt [
	Print ["New-word: " word]
]

delete %words-red-old.txt
;delete %words-red.txt
delete %save-words.txt

halt
```

The concept is simple:
It start its code block passing a destination filename
Then, it saves itself and start an old version of RED (or Rebol) passing the saved code block as argument with another destination filename.

Well, the problem is that between different runs, I get different results. It seems that during `write/append` phases a newline is skiped and here I find the words `to` and `not` joined as `tonot` or displayed as new. Maybe there is a bug in my script or google drive (where the code stands and runs) is having some corruption. I also have a read error problem on the first run with no files saved before.
If everything  works for you and you have consistent result, please test it on a google drive. Note: you must have the old version of Red you want to test in the current dir and also you must change its name in the second argument of the `CALL` line

[20:58:08](#qVc4D7hLsaeAKQjkDEcT8deaIgM0DC1zyhXBJdfM1Cc) <GiuseppeChillemi (GiuseppeChillemi)>:
 * To find new words between Red versions, I use the following script:

```
;Red []
Rebol [
	Title: "NewWords.red"
]

mee: [
	system/script/args: to-file system/script/args
	write system/script/args "" 
	words-defined: words-of system/words
	forall words-defined [
		if value? first words-defined [

			if any-function? get first words-defined [
				WRITE/append/lines system/script/args TO-STRING first words-defined
			]

		]
	]
]

do/args mee "words-red.txt"

save %save-words.r head insert tail insert copy/deep mee reduce ['Red []] reduce ['quit]

;---------------vvvvvvvvvvv---Change-here-----------------
call/wait "red__.exe save-words.r words-red-old.txt"

foreach word sort exclude read/lines %words-red.txt read/lines %words-red-old.txt [
	Print ["New-word: " word]
]

delete %words-red-old.txt
;delete %words-red.txt
delete %save-words.txt

halt
```

The concept is simple:
It start its code block passing a destination filename
Then, it saves itself and start an old version of RED (or Rebol) passing the saved code block as argument with another destination filename.

Well, the problem is that between different runs, I get different results. It seems that during `write/append` phases a newline is skiped and in the `%words-red.txt` file I find the words `to` and `not` joined as `tonot` or displayed as new. Maybe there is a bug in my script or google drive (where the code stands and runs) is having some corruption. I also have a read error problem on the first run with no files saved before.
If everything  works for you and you have consistent result, please test it on a google drive. Note: you must have the old version of Red you want to test in the current dir and also you must change its name in the second argument of the `CALL` line

[20:58:27](#3LOJ6ZeywI3wkF1KKh3MI4ivtThPX5VSl2NdS7jAQpg) <GiuseppeChillemi (GiuseppeChillemi)>:
 * To find new words between Red versions, I use the following script:

```
;Red []
Rebol [
	Title: "NewWords.red"
]

mee: [
	system/script/args: to-file system/script/args
	write system/script/args "" 
	words-defined: words-of system/words
	forall words-defined [
		if value? first words-defined [

			if any-function? get first words-defined [
				WRITE/append/lines system/script/args TO-STRING first words-defined
			]

		]
	]
]

do/args mee "words-red.txt"

save %save-words.r head insert tail insert copy/deep mee reduce ['Red []] reduce ['quit]

;---------------vvvvvvvvvvv---Change-here-----------------
call/wait "red__.exe save-words.r words-red-old.txt"

foreach word sort exclude read/lines %words-red.txt read/lines %words-red-old.txt [
	Print ["New-word: " word]
]

delete %words-red-old.txt
;delete %words-red.txt
delete %save-words.txt

halt
```

The concept is simple:
It start its code block passing a destination filename
Then, it saves itself and start an old version of RED (or Rebol) passing the saved code block as argument with another destination filename.

Well, the problem is that between different runs, I get different results. It seems that during `write/append` phases a newline is skiped and in the `%words-red.txt` file I find the words `to` and `not` joined as `tonot` or displayed as new in the consolle. Maybe there is a bug in my script or google drive (where the code stands and runs) is having some corruption. I also have a read error problem on the first run with no files saved before.
If everything  works for you and you have consistent result, please test it on a google drive. Note: you must have the old version of Red you want to test in the current dir and also you must change its name in the second argument of the `CALL` line

[20:59:05](#_T19A0V756dpVEFrUsl86IkxQ8hNjaUIlYBJd4VL2KA) <GiuseppeChillemi (GiuseppeChillemi)>:
 * To find new words between Red versions, I use the following script:

```
;Red []
Rebol [
	Title: "NewWords.red"
]

mee: [
	system/script/args: to-file system/script/args
	write system/script/args "" 
	words-defined: words-of system/words
	forall words-defined [
		if value? first words-defined [

			if any-function? get first words-defined [
				WRITE/append/lines system/script/args TO-STRING first words-defined
			]

		]
	]
]

do/args mee "words-red.txt"

save %save-words.r head insert tail insert copy/deep mee reduce ['Red []] reduce ['quit]

;---------------vvvvvvvvvvv---Change-here-----------------
call/wait "red-old.exe save-words.r words-red-old.txt"

foreach word sort exclude read/lines %words-red.txt read/lines %words-red-old.txt [
	Print ["New-word: " word]
]

delete %words-red-old.txt
;delete %words-red.txt
delete %save-words.txt

halt
```

The concept is simple:
It start its code block passing a destination filename
Then, it saves itself and start an old version of RED (or Rebol) passing the saved code block as argument with another destination filename.

Well, the problem is that between different runs, I get different results. It seems that during `write/append` phases a newline is skiped and in the `%words-red.txt` file I find the words `to` and `not` joined as `tonot` or displayed as new in the consolle. Maybe there is a bug in my script or google drive (where the code stands and runs) is having some corruption. I also have a read error problem on the first run with no files saved before.
If everything  works for you and you have consistent result, please test it on a google drive. Note: you must have the old version of Red you want to test in the current dir and also you must change its name in the second argument of the `CALL` line

[21:00:00](#2V30wWZ-AuVEr-mTvlNcZ7ymmMKAcC2mRIm2cfNoluY) <GiuseppeChillemi (GiuseppeChillemi)>:
 * To find new words between Red versions, I use the following script:

```
;Red []
Rebol [
	Title: "NewWords.red"
]

mee: [
	system/script/args: to-file system/script/args
	write system/script/args "" 
	words-defined: words-of system/words
	forall words-defined [
		if value? first words-defined [

			if any-function? get first words-defined [
				WRITE/append/lines system/script/args TO-STRING first words-defined
			]

		]
	]
]

do/args mee "words-red.txt"

save %save-words.r head insert tail insert copy/deep mee reduce ['Red []] reduce ['quit]

;---------------vvvvvvvvvvv---Change-here-----------------
call/wait "red-old.exe save-words.r words-red-old.txt"

foreach word sort exclude read/lines %words-red.txt read/lines %words-red-old.txt [
	Print ["New-word: " word]
]

delete %words-red-old.txt
;delete %words-red.txt (uncommenting this removes the problem)
delete %save-words.txt

halt
```

The concept is simple:
It start its code block passing a destination filename
Then, it saves itself and start an old version of RED (or Rebol) passing the saved code block as argument with another destination filename.

Well, the problem is that between different runs, I get different results. It seems that during `write/append` phases a newline is skiped and in the `%words-red.txt` file I find the words `to` and `not` joined as `tonot` or displayed as new in the consolle. Maybe there is a bug in my script or google drive (where the code stands and runs) is having some corruption. I also have a read error problem on the first run with no files saved before.
If everything  works for you and you have consistent result, please test it on a google drive. Note: you must have the old version of Red you want to test in the current dir and also you must change its name in the second argument of the `CALL` line

[21:01:32](#Sm2xRxH4McUI0_yYuHn3YeyOeEx_JyeaZklgazH8LSk) <hiiamboris>:
what does Red have to do with googol drive?

[21:02:58](#5QfJRfunt10MTz2TQaA61NBHTGL2cp68FbY_SPeLalQ) <GiuseppeChillemi (GiuseppeChillemi)>:
The DEV dir with the RED executable is inside a folder in a google drive, so each write is performed on a streamed filesystem  in windows.

[21:04:47](#GlEsQtC-Ng36ulxI9PW4KrRP0OY0lFd32zNLVURINfQ) <GiuseppeChillemi (GiuseppeChillemi)>:
 * The DEV dir with the RED executables is inside a folder in a google drive, so each write is performed on a streamed filesystem  in windows.

[21:05:07](#r2KKonJ0MgC8wiVdK5O7wuT_29RX2G8iBEgklcYo5R0) <hiiamboris>:
`*** Access Error: cannot open: %words-red-old.txt`

[21:06:11](#8kCG5lmiJe2QMwAMPIJxYH_Q21v8UN_EKUm_yf5Fh2I) <GiuseppeChillemi (GiuseppeChillemi)>:
Start it egain and it solves the problem, but I don't undestand the reason, it should be there!

[21:07:33](#FuvAntsfKJFYvLDx1VhtYbKbCxAw1eFNU5aEaq4qaqM) <GiuseppeChillemi (GiuseppeChillemi)>:
 * Start it egain and it solves the problem, but I don't undestand the reason, it should be there, the CALLed script write it receiving its name in the call

[21:07:39](#8Fq5lkrlebD643qAuN3vnjY924NDZv4KnR4ruM5Ns5Y) <GiuseppeChillemi (GiuseppeChillemi)>:
 * Start it again and it solves the problem, but I don't undestand the reason, it should be there, the CALLed script write it receiving its name in the call

[21:07:56](#Ius0wy-FnkkBdtp9Y9fQCZ3rlYp30cyoDR4K05aZB9w) <GiuseppeChillemi (GiuseppeChillemi)>:
 * Start it again and it solves the problem, but I don't undestand the reason, it should be there, the CALLed script writes it receiving its name in the call as argument

[21:12:08](#Y2KMbASqS2ZbYerrgk501jsJgWo9UhJ18g3HEllhZaE) <hiiamboris>:
weird, no luck restarting it

[21:12:25](#uToTWJEMTwUsX3gAgbgx-pRo8lnROxpJcPS316QTKWY) <hiiamboris>:
same command works from command line but not from call

[21:13:09](#WkI4myGecwh09rCWxfyjtd7pIGYAMTR9vbde8HbaA-o) <hiiamboris>:
I think you overcomplicated it beyond Red abilities :)

[21:13:13](#rAD52p2lW9Y2lyf1-5dyw3eU6KLMb3OtrOKfob2PwBQ) <GiuseppeChillemi (GiuseppeChillemi)>:
I suppose there could be a lock release problem.

[21:13:30](#FNwq3hkLwvQkGCs6y_DOjesLWC_ALkfnQ3H5kyyyixM) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@hiiamboris:tchncs.de> I think you overcomplicated it beyond Red abilities :)

LOLLING!

[21:15:21](#QjEQlkXnxgqE0ll6pQFvlEGFkfMScqVNK87JiwxWa2M) <GiuseppeChillemi (GiuseppeChillemi)>:
It is a code from 2 years ago, I was experimenting running code defined in block and saved code.  

[21:15:39](#T3V5JJ0sAJdy2fiWl2QSsZgIAvIlznv0gDdWOP6NR-g) <GiuseppeChillemi (GiuseppeChillemi)>:
 * It is Ã¹code from 2 years ago, I was experimenting running code defined in block and saved code.  

[21:15:46](#HKGOO_yeqsl4uSWY9mmVSqN49uzn12jBzmaCHSvrH-U) <GiuseppeChillemi (GiuseppeChillemi)>:
 * It is code from 2 years ago, I was experimenting running code defined in block and saved code.  

[21:16:31](#Fo_KF0Jmovvh_CZcq0pGWIrRJnRUrTIi5dfAsi-u7zU) <hiiamboris>:
Well, if it has "google" in the name then I can tell without checking that it has a bug :)

[21:16:49](#kOkeba0SlK2Q80S3YejDymKRQWvGSzHj9pbLRp-qSHc) <GiuseppeChillemi (GiuseppeChillemi)>:
Have you tested it in google drive?

[21:16:51](#wL3VhZMLUZqiwAzlFU5aDC0qL3v3gVaQRCSTpfFo48w) <hiiamboris>:
And ofc old Red versions had heisenbugs too, so that may add up

[21:17:08](#RUWUGvQmzoNWtvwWQuVjbFdRqG6e5VO7wDMGHVr7WtE) <hiiamboris>:
no, I can't even run it normally

[21:17:25](#hRZ-jhMTUI8IxyflLnO9W-bt4uSB1t1I5uA-mwr8ptE) <GiuseppeChillemi (GiuseppeChillemi)>:
So, should I write a bug report?

[21:18:10](#2YBk-3G8MqFVVAouxFLhsPhi0FBQ-gZkOkuuGJx2vy8) <hiiamboris>:
also fishy that it (red-064 I was testing) prints output to terminal instead of opening GUI console (when `call`ed)

[21:18:40](#7DXdcB1LWsDCuayRvAPwcnIEgvxWC9J8834vGo3pwYo) <hiiamboris>:
> <@giuseppechillemi-59045d00d73408ce4f5bcd9d:gitter.im> So, should I write a bug report?

no, with such convoluted code it's pointless ;)

[21:19:16](#ELhhsWZG-Eu38UMnsS8f_bOXjI7gnOp0IrXkMjsxK2M) <GiuseppeChillemi (GiuseppeChillemi)>:
It is simple, look at it again, it is just a block of code with args executed in 2 manners!

[21:19:57](#8eiI_3n1zZgsSit6mg1xyKe7l-VC6oSrmj4W03RwGYQ) <GiuseppeChillemi (GiuseppeChillemi)>:
 * It is simple, look at it again, it is just a block of code `DO`ed with args executed in 2 manners!

[21:21:18](#CZZSEd4VBpafXV_i2FCN8AjmybrSKt3IArvc8pTAN9k) <GiuseppeChillemi (GiuseppeChillemi)>:
 * It is simple, look at it again, it is just a block of code `DO`ed with args and executed in 2 manners!

[21:33:36](#KAfktQ7z_EUWtlCONNEPSiWYxSlqDuovYJtRcARPeA8) <hiiamboris>:
oh

[21:33:48](#gKfRx3P8y_prr8EjoJgES2uS967pPQP-kj48hyJc4Hk) <hiiamboris>:
Near field is messed up, that's why I don't understand it

[21:38:09](#KOl6gtmuDWnslKmGv27J-qlAF0gpIQPF4JP-7cEvwFY) <hiiamboris>:
GiuseppeChillemi (GiuseppeChillemi) how do you detect inconsistent results?

[21:41:36](#t5VeHjGg4TS_gOJaVkIkARfUGFwX78rkVx4XT7ICdgM) <hiiamboris>:
I see no problems running it on an `rclone`d Storj bucket

[21:41:50](#_rWJRWMzJ3mQZLatHJ7b6E1ujzJkpiK7zLQTiZeDkuw) <hiiamboris>:
but can't test on googol, sorry, I'm not gonna ever use it

[21:42:41](#GLx2lB142mC3X_lzWKJLikRjWcJ-WrZcXrq8EQzVR14) <hiiamboris>:
they lost me many years ago when they couldn't upload a few photos reliably and would never tell me what was uploaded and what not

[21:53:16](#Irh3WI3rxW4v364xOEb1IKOn5Gp-F27ADnzz4gPsSQQ) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@hiiamboris:tchncs.de> GiuseppeChillemi (GiuseppeChillemi) how do you detect inconsistent results?

The output of the script shows `tonot` or `to` `not` in two lines.Ã¹

[21:53:21](#WjGIrbG6Haal2LK1G25jg8pgbt6sWWzV5xDPRrseZMA) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@hiiamboris:tchncs.de> GiuseppeChillemi (GiuseppeChillemi) how do you detect inconsistent results?

 * The output of the script shows `tonot` or `to` `not` in two lines.

[21:54:22](#HZeVYm3myUTuaD5jwVr65_ux-Y7oZzxaTW3vVd8kTEE) <GiuseppeChillemi (GiuseppeChillemi)>:
The old version I use is:

```
Red 0.6.4 for Windows built 11-Mar-2022/1:40:53+02:00  commit #27f71f9
``` 

[21:55:21](#ttURh_xkL7gWKzC8BHiO3UdiCt23f0xYb1AukVcKfJg) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@hiiamboris:tchncs.de> Near field is messed up, that's why I don't understand it

What is "near field"?

[21:58:12](#39w4H8KqnPzgjKsBOjK17XOvSYRB0tKg5ygjBiJ0EGE) <hiiamboris>:
In error reports, I need to track this one down yet

[22:27:17](#_njUiY6CyxCCVCCetSfraAAsaIJ6BwbAbl5CMZ0qkn4) <hiiamboris>:
https://github.com/red/red/issues/5315

## 18-May-2023

[14:22:32](#Tp0dHLR3HTgBH1pHLJbihxCaH31FvbvoTazL2zXWWzE) <endo64>:
Is this a known behavior?

```
>> load "1A"
== 1A
>> load "1a"
*** Syntax Error: (line 1) invalid integer at 1a
*** Where: transcode
*** Near : load "1a"
*** Stack: load

>> type? load "1A"
== word!
``` 

[14:23:18](#g-4guPgt4m3GV8TjkQFFLr8a0eb9aH7VeIe7-vD2gb8) <hiiamboris>:
I don't think so

[14:23:36](#PNLuX-GIcAhu6eHNEQekEgMlUvSe6CiU14SOSN1KFnw) <hiiamboris>:
Looks like a glitch in hex branch

[14:55:48](#k9GhF_-sRyd_sBZZFRGyMwTZxBca3-KE-5nm7bZ7nkE) <endo64>:
It is useful for me now :) 

[16:27:41](#ZM8EoVoRjfohm0ESfuukSQAN_hUaSGwaQYOT0ei_1aU) <rebolek (Boleslav BÅ™ezovskÃ½)>:
IIRC, hex notation should be temporary, as it's really problematic and clashes with `word!`, so I hope this would be resolved before 1.0 as with 1.0 it's too late.

## 19-May-2023

[4:10:28](#HFiCbLTMbQErvPh_OCpnqTTKci0P6D5FR_HbI5aDQVc) <endo64>:
Worth a ticket? I couldn't see one.

[7:59:37](#UiVvj2Suak2o9uuLjqpl5RUaCtPqzs5GAt5Ye5l0AiU) <hiiamboris>:
Yes

## 2-Jun-2023

[5:02:34](#ngL3Q8OxEEZm_7KtQxxyO5Gf2B_2kNcgVNt7ZcTiHIs) <GiuseppeChillemi (GiuseppeChillemi)>:
I have found a problem in parse, it enforces /case in words without asking for it:

```
  pt: 'SQL!/(select a b c d from table)
  probe parse pt [["sql:/---" | 'SQl! ] to end ]
  >>> false



```
Changing the case of the letter
```
  probe parse pt [["sql:/---" | 'SQL ] to end ]
  >> True
```


[5:02:40](#lboiPa9kDRqMT5oRoHzI8wFi4SozdHPJ3BbXMbKZhrA) <GiuseppeChillemi (GiuseppeChillemi)>:
 * I have found a problem in parse, it enforces /case in words without asking for it:

```
  pt: 'SQL!/(select a b c d from table)
  probe parse pt [["sql:/---" | 'SQl! ] to end ]
  >>> false

```

Changing the case of the letter

```
  probe parse pt [["sql:/---" | 'SQL ] to end ]
  >> True
```

[5:02:46](#L2y6Ug11_293kt5ySEHXOzOeCrqMlAtFDXFxsgl-nr4) <GiuseppeChillemi (GiuseppeChillemi)>:
 * I have found a problem in parse, it enforces /case in words without asking for it:

```
  pt: 'SQL!/(select a b c d from table)
  probe parse pt [["sql:/---" | 'SQl! ] to end ]
  >>> false
```

Changing the case of the letter

```
  probe parse pt [["sql:/---" | 'SQL ] to end ]
  >> True
```

[5:03:03](#HcYZGio9ejD_DFvBbqX6889uL3i8oV6Dhz5FVDDlYLg) <GiuseppeChillemi (GiuseppeChillemi)>:
 * I have found a problem in parse, it enforces /case in words without asking for it:

```
  pt: 'SQL!/(select a b c d from table)
  probe parse pt [["sql:/---" | 'SQl! ] to end ]
  >>> false
```

Changing the case of the letter

```
  probe parse pt [["sql:/---" | 'SQL! ] to end ]
  >> True
```

[5:03:49](#bZ6qaP5dMahZmU6_nXMObN90Ey6mIpjjJk4vf90rw5Q) <GiuseppeChillemi (GiuseppeChillemi)>:
 * I have found a problem in parse, it enforces /case in words without asking for it:

```
  pt: 'SQL!/(select a b c d from table)
  probe parse pt [["sql:/---" | 'SQL! ] to end ]
  >> True
```

Changing the case of the letter

```
  probe parse pt [["sql:/---" | 'SQl! ] to end ]
  >>> false
```



[5:04:14](#oCXPeLPBggcLSsLJZNYWGPs-vzsNt7DydWsAfC57Js4) <GiuseppeChillemi (GiuseppeChillemi)>:
 * I have found a problem in parse, it enforces /case in words without asking for it:

```
  pt: 'SQL!/(select a b c d from table)
  probe parse pt [["sql:/---" | 'SQL! ] to end ]
  >> True
```

Changing the case of a letter (The L in SQL)

```
  probe parse pt [["sql:/---" | 'SQl! ] to end ]
  >>> false
```

[5:04:37](#CqZVU_5wYN7QqVEOOg-DOp4hsSRyoOCb9EaBXN17UFs) <GiuseppeChillemi (GiuseppeChillemi)>:
 * I have found a problem in parse, it enforces `/case` in words without asking for it:

```
  pt: 'SQL!/(select a b c d from table)
  probe parse pt [["sql:/---" | 'SQL! ] to end ]
  >> True
```

Changing the case of a letter (The L in SQL)

```
  probe parse pt [["sql:/---" | 'SQl! ] to end ]
  >>> false
```

[7:08:37](#9CI7w53B4xwilNU302MCZK9N-LzF5wrINUloLI744ks) <rebolek (Boleslav BÅ™ezovskÃ½)>:
https://github.com/red/red/issues/4996

[7:24:05](#Fet5GzSKDDDr9RFdCL4N7r4rA1Bh-VvfkYaQ5aiVMN0) <GiuseppeChillemi (GiuseppeChillemi)>:
Thank you

[8:58:13](#nsDMlc9CKC-jwuCTvFty7J0dMFwWNbbZLPEPfnpgByw) <GiuseppeChillemi (GiuseppeChillemi)>:
Is this correct working?

```
values: context [a: 'SQL b: 'SELECT]
```

```
>> 	to-url reduce [HTTP://api.mydatabase values/a values/b]
== HTTP://api.mydatabase://SQL/SELECT
```

```
>> 	to-url reduce [HTTP://api.mydatabase/ values/a "/" values/b]
== HTTP://api.mydatabase/://SQL///SELECT
```

```
>> 	to-url reduce [HTTP://api.mydatabase/ values/a values/b]
== HTTP://api.mydatabase/://SQL/SELECT
```


[8:58:50](#bhLw6J6E9FRBTLVcVGm0tFS34xzKqLha0P0dZq7EryY) <GiuseppeChillemi (GiuseppeChillemi)>:
 * Are theese correct workings?

```
values: context [a: 'SQL b: 'SELECT]
```
```
>> 	to-url reduce [HTTP://api.mydatabase/ values/a "/" values/b]
== HTTP://api.mydatabase/://SQL///SELECT
```
```
>> 	to-url reduce [HTTP://api.mydatabase values/a values/b]
== HTTP://api.mydatabase://SQL/SELECT
```
```
>> 	to-url reduce [HTTP://api.mydatabase/ values/a values/b]
== HTTP://api.mydatabase/://SQL/SELECT
```

[9:03:21](#bshO0l_RH-kVForw-FaYghOJVIZN_Q5qRf55xhyQog0) <Oldes (@oldes.h:matrix.org)>:
Probably it is:
```
>> decode-url HTTP://api.mydatabase/://SQL/SELECT
== [scheme: 'http host: "api.mydatabase" path: %/%3A//SQL/ target: %SELECT]
```

[9:04:46](#g8lsQTVDdfoNud1j1XU0FIfUnNNZblIOsshwE_bzSqQ) <hiiamboris>:
looks correct according to https://github.com/red/docs/blob/master/en/datatypes/url.adoc#creation

[9:04:54](#oryPNfPMXsAVR3iTgONOOlfYl_YCVajg8tl785EpT2w) <GiuseppeChillemi (GiuseppeChillemi)>:
Rebol3 and Red have totally different outputs:

```
>> values: context [a: 'SQL b: 'SELECT]
== make object! [
    a: 'SQL
    b: 'SELECT
]

=== REBOL3
>> to-url reduce [HTTP://api.mydatabase/ values/a "/" values/b]
REBOL3 == HTTP://api.mydatabase/SQL/SELECT
   RED == HTTP://api.mydatabase/://SQL///SELECT

>> to-url reduce [HTTP://api.mydatabase values/a values/b]
REBOL3 == HTTP://api.mydatabaseSQLSELECT
   RED == HTTP://api.mydatabase://SQL/SELECT

>> to-url reduce [HTTP://api.mydatabase/ values/a values/b]
REBOL3 == HTTP://api.mydatabase/SQLSELECT
   RED == HTTP://api.mydatabase/://SQL/SELECT
```

[9:12:24](#ykO8DSQK4yq3aceKSbZMKDXjs2MX_e-7iRFn9ns4Oyc) <GiuseppeChillemi (GiuseppeChillemi)>:
How do I have a result for this without a colon? REBOL3 permits this in this example:

```
>> to-url reduce [HTTP://api.mydatabase values/a values/b]
== HTTP://api.mydatabase://SQL/SELECT
```


[9:12:51](#p4sr0nRJwIWIv_512hqUK9upT2sLellSB16MsiYniYo) <GiuseppeChillemi (GiuseppeChillemi)>:
 * How do I have a result for this without a colon? REBOL3 permits this in this example:

```
>> to-url reduce [HTTP://api.mydatabase/ values/a "/" values/b]
REBOL3 == HTTP://api.mydatabase/SQL/SELECT
   RED == HTTP://api.mydatabase/://SQL///SELECT
```

[9:14:16](#Anf2gN7Ohp09bRImOevxartDmv-BRp6rzFzGS0tkAyE) <GiuseppeChillemi (GiuseppeChillemi)>:
Red does automatically add slashes while Rebol3 doesn't

[9:14:56](#IUoAKo5w_vuKa4uVMDrlK7ffkaUMYCbWJltr3DBvQDM) <GiuseppeChillemi (GiuseppeChillemi)>:
It seems Rebol3 first JOINS then convert to URL

[9:18:09](#YzSxDmSp8y_o9aTHALZzdmqUTDdTvGY9GD0iS4I-eA4) <GiuseppeChillemi (GiuseppeChillemi)>:
On Rebol3 the conversion is more "What you see is what you get"
```
>> to-url reduce [HTTP://api.mydatabase ":" "/" values/a "/" "/" "/" values/b]
== HTTP://api.mydatabase:/SQL///SELECT
```
While on Red obeys to invisible rules defined elsewhere 

[9:18:30](#G3xO0ruPFEejsUx_1NaiBUy7NCsv681L5O-5dfnE6-Y) <GiuseppeChillemi (GiuseppeChillemi)>:
 * On Rebol3 the conversion is more "What you see is what you get"

```
;Rebol3 here
>> to-url reduce [HTTP://api.mydatabase ":" "/" values/a "/" "/" "/" values/b]
== HTTP://api.mydatabase:/SQL///SELECT
```

While on Red obeys to invisible rules defined elsewhere

[9:18:59](#cyCfz3Ubhg0VQMcSO6FiGZMYvrmies47Vu4TcO_Psx4) <GiuseppeChillemi (GiuseppeChillemi)>:
 * On Rebol3 the conversion is more natural where "What you see is what you get"

```
;Rebol3 here
>> to-url reduce [HTTP://api.mydatabase ":" "/" values/a "/" "/" "/" values/b]
== HTTP://api.mydatabase:/SQL///SELECT
```

While on Red obeys to invisible rules defined elsewhere

[9:22:03](#1ECrAJ2mKeSQ6hAfafk8uy7I5zOGljnTMcoeSqe2zWA) <hiiamboris>:
I guess R3 uses to-string then changes datatype, while Red does it smarter

[9:22:54](#F3nakJHxjXoKu6XZpzHgv9KzaXCxFOaWDVD6Y5t71NI) <hiiamboris>:
just use to-string in this case

[9:32:44](#WTB8PuVMPfoBwF7zrPaGBvWVxtA55hZRjtlPkDEj5QM) <Oldes (@oldes.h:matrix.org)>:
Red's result looks like a nonsense to me.

[9:37:34](#Vigr2CzlHZCS7bH93gtmvB8BIq5f7_TNJLKtg9xwV3k) <Oldes (@oldes.h:matrix.org)>:
And I would use just:
```
>> rejoin [HTTP://api.mydatabase/ values/a #"/" values/b]
== HTTP://api.mydatabase/SQL/SELECT
```
which has same results

[9:39:30](#mcFWsouK1bAcRu-a6xZ_2zPAKu2OwHOffhVYyHiJbf4) <Oldes (@oldes.h:matrix.org)>:
I think that Red tries to be too smart in this case.

[9:42:18](#wHnmAgLZc-XAozyeFw4ACy_Kaf90t9QxyKCkcq2YHeo) <Oldes (@oldes.h:matrix.org)>:
This is the difference between Red:
```red
>> make url! [a b c]
== a://b/c
>> to url! [a b c]
== a://b/c
```
and Rebol:
```rebol
>> make url! [a b c]
== abc

>> to url! [a b c]
== abc
```

[9:42:40](#UUPdICftVUCNZMwPhW7xwMW2n6rzUf6PzhGznQkGQdg) <Oldes (@oldes.h:matrix.org)>:
Maybe Rebol could be also a little bit smarter in this case.

[9:42:54](#VzvDqVnKEcQhRQzaoiTxeFFBuqgU7UPdDdWHaZ7gKvc) <Oldes (@oldes.h:matrix.org)>:
 * Maybe Rebol could be also a little bit smarter at least in one of these cases.

[9:44:52](#FI6EuFGEVhJiPaynERFcJpMHfG0NEReLOpc9zaW2moM) <Oldes (@oldes.h:matrix.org)>:
But I still believe, that Red tries to be smart but is not enough. And I would not use this method of url construction.

[9:46:34](#Ie-nM7YGFQDvfHrK5ccvlZ-2BslC2BEtVYf0fQggkXY) <rebolek (Boleslav BÅ™ezovskÃ½)>:
Yes. R3 could be a bit smarter and Red shouldn't trying to be too smart. And if you want something really smart, there's always something in CASTR ;), in this case `make-url`:
```
>> value: "bay"
== "bay"
>> path: %directory/file
== %directory/file
>> make-url [http://www.example.com path [foo: "bar" baz: value]]
== http://www.example.com/directory/file?foo=bar&baz=bay
```


[9:57:32](#8auikK8mnOXmlaAa3oPteuOsdptrtWsF9FFNyrmh-Gw) <hiiamboris>:
to-url could just check for a slash already to the left, or on both sides, and skip inserting smarts

[9:57:54](#ITtEQCZU2zv_8CHH6WJcUF5ZpPLzjzaoAtK4MoTRqww) <hiiamboris>:
but the smarter it is the harder to predict the output

[9:58:17](#dTHCS8khZxJY_A7ZwR2QGh92uv9wzMK5f-0Iz8MU1tU) <hiiamboris>:
and for some use cases slashes are not needed: https://en.wikipedia.org/wiki/Uniform_Resource_Identifier#Example_URIs

[9:58:56](#8sHsvUPU53RggzQAk3YVbE5bT9NW6L_qLg-TlxlPsAw) <hiiamboris>:
so it's all tradeoffs either way, questions is how to choose the optimal set of them :)

[9:59:09](#y-fajOWt4uVF_DOvL1JfPAKmsHMA4krqaDuJ__QG3aU) <hiiamboris>:
* so it's all tradeoffs either way, question is how to choose the optimal set of them :)

[10:00:42](#Edu_786yMZR2KDAC5ZcAbYuMzC-7YkRC7wprbacLv4w) <rebolek (Boleslav BÅ™ezovskÃ½)>:
right, there are only three things that are certain in URI, scheme, colon and path. scheme is always alphabetical and always followed by colon but what comes next differs wildly. 

[11:28:32](#gZnl3RKJBQhEO2eEIsQPDqLxS1vNkKiCul6dEUHivxE) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@rebolek-5565a4bf15522ed4b3e100bc:gitter.im> Yes. R3 could be a bit smarter and Red shouldn't trying to be too smart. And if you want something really smart, there's always something in CASTR ;), in this case `make-url`:
> ```
> >> value: "bay"
> == "bay"
> >> path: %directory/file
> == %directory/file
> >> make-url [http://www.example.com path [foo: "bar" baz: value]]
> == http://www.example.com/directory/file?foo=bar&baz=bay
> ```

I like it but why not 

`make-url [http://www.example.com path foo: "bar" baz: value]`

[11:28:38](#3_H-7YZKb_wXD9ebaFVvMI3cCK0svkmqa6QDX8KRypw) <GiuseppeChillemi (GiuseppeChillemi)>:
 * I like it but why not?

`make-url [http://www.example.com path foo: "bar" baz: value]`

[11:37:12](#k8tbSE4tEisEHPymkMaBkkj_03PKOAwwj4j8OxxLQXw) <GiuseppeChillemi (GiuseppeChillemi)>:
I mean, why you have choosen this syntax?

[11:39:50](#o8UlzHLfYb7Qf7xsEfcPVFSIQ_JWKlxwQAmac2nXalM) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@hiiamboris:tchncs.de> just use to-string in this case

Yes, it worked:

`to-url to-string reduce [HTTP://api.mydatabase "/" values/a "/" values/b]`

Should a discussion be opened on the issues about this topic?



[11:40:31](#Kk-ozuNiK9jVTzrco3-AGenfXF4ogRWPU82u3zG9pzA) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@hiiamboris:tchncs.de> just use to-string in this case

 * Yes, it has worked:

```
to-url to-string reduce [HTTP://api.mydatabase "/" values/a "/" values/b]`
== HTTP://api.mydatabase/SQL/SELECT
```

Should a discussion be opened on the issues about this topic?

[11:43:47](#DZz5ZwgQ99p_NWV1oz0NdTChsgqEFZpyy79QHOETfUc) <Oldes (@oldes.h:matrix.org)>:
Why you still complicate things so much? `to-url to-string reduce` is same like  `rejoin`

[11:44:09](#D0lbRgtq6nyR2oJotZoLGVmLSfT_34hyrbUSzwTeaeI) <Oldes (@oldes.h:matrix.org)>:
 * Why you still complicate things so much? `to-url to-string reduce` is same like  `rejoin` (if the first value in the block is already an url)

[13:13:51](#VokmuZnsXUMKiHnzBtmd969if7V3NuoQB2yfclha5JI) <rebolek (Boleslav BÅ™ezovskÃ½)>:
> <@giuseppechillemi-59045d00d73408ce4f5bcd9d:gitter.im> I mean, why you have choosen this syntax?

I'm not saying there's not room for improvement. Block keeps the args visually separated, but it could work without it. Maybe both variants can be allowed.

[13:26:46](#UsS2YiBIFNnXahLE7JZ5ruyMUk6bnsLAGl1MH_S1XMg) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@rebolek-5565a4bf15522ed4b3e100bc:gitter.im> I'm not saying there's not room for improvement. Block keeps the args visually separated, but it could work without it. Maybe both variants can be allowed.

Mine was not a critique but just a curiosity!

[13:29:34](#DLswxBs5B7YusKQ-pj4VJ6Cdwgap0QQ5vzntZcxMQPQ) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@oldes.h:matrix.org> Why you still complicate things so much? `to-url to-string reduce` is same like  `rejoin` (if the first value in the block is already an url)

Because I don't know the method Red uses to `JOIN`, it could be different than  `to-string`

[13:38:15](#lU6neSdofbtxyzfR-xxGIDVPMZMUouIpaWeKZHoWeq4) <hiiamboris>:
try `??` for a change

[13:38:22](#y_QXu8l45lemNBkGOU4xLHezP0b0T23oS37V2wbqgB8) <hiiamboris>:
* try `?? rejoin` for a change

## 9-Jun-2023

[14:04:03](#7PnjW_x5mzYXYuHyWIfOu-Fg54kX3ET3bUhhzFWlGY0) <danieltanfh95 (Daniel)>:
cant seem to run red on m1 macs even with rosetta

[14:31:12](#SiyEgLB18eRDYlUsHFO0ifEwlCCHLHPtEaa7UAiv_4w) <hiiamboris>:
danieltanfh95 (Daniel) Red is 32-bit only for now

[14:33:32](#vuUcZ6-P8LO0Erl5LUWbPzgJYRc1d6oiPFXB-n5Mp8I) <hiiamboris>:
https://github.com/red/red/wiki/[LINKS]-Unofficial-Red-images may be of help

[14:34:42](#d9xw2iKd9Tg3cbz0fETBsazTYKLBTZh6Swp4rt8qH44) <hiiamboris>:
* https://github.com/red/red/wiki/%5BLINKS%5D-Unofficial-Red-images may be of help

## 1-Jul-2023

[10:57:46](#n91tepj6XExIG2aw-9Pa4S1jhRqXX0NEDNWNjG23oiM) <hiiamboris>:
I get why this works like it does, but does it make sense?
```
>> to number! [string!]
== make typeset! [string!]
>> to number! []
== make typeset! []
>> to number! [string!]
== make typeset! [string!]
>> to number! 23
*** Script Error: cannot MAKE/TO typeset! from: 23
*** Where: to
*** Near : to number! 23
*** Stack:  
```

[10:58:16](#umwJkidC8-UAvgRWYMwgn4UByUDi0oQhKL7T6ePFlpU) <hiiamboris>:
* I get why this works like it does, but does it make sense?
```
>> to number! []
== make typeset! []
>> to number! [string!]
== make typeset! [string!]
>> to number! 23
*** Script Error: cannot MAKE/TO typeset! from: 23
*** Where: to
*** Near : to number! 23
*** Stack:  
```

[11:01:32](#3UCkfz4n2m4IOUeSJNnSIkvNxDyIoxgs6X8f-IcZ3Qk) <hiiamboris>:
Wouldn't it be more useful to have e.g.:
```
>> to number! "23"
== 23
>> to number! "23.0"
== 23.0
>> to number! "abc"
(Error)
>> to any-word! "abc"
== abc
>> to any-word! "'abc"
== 'abc
>> to any-word! "23"
(Error)
```
and so on

[11:04:03](#u7txOjhvPZg0dv1lrrCK6MaTAk9P-Deex8SH0FmdIb8) <hiiamboris>:
i.e. transcode the thing and error if it's not in the typeset

[11:23:43](#gnKGNlKmEh6zzfvHgvsHRrRDIi4nwfZ2Xxx4sJc-zCI) <dockimbel>:
That goes against `to` semantics. The first argument is a `datatype!` or an "example value" from which we extract the datatype. What you are proposing is creating an exception, by making some "example values" behaving differently, and other not. 

It seems that what you are after is just a specialized `load` on strings. You should rather write a short mezz to cover the rare cases where such feature would be needed, instead of breaking `to` consistency. Here's a simple one:

```
to-typeclass: function [class [typeset!] value [string!]][
	unless find class type? new: load value [cause-error 'script 'bad-to-arg [class value]]
	new
]

>> to-typeclass number! "23"
== 23
>> to-typeclass number! "23.0"
== 23.0
>> to-typeclass number! "abc"
*** Script Error: cannot MAKE/TO make typeset! [integer! float! percent!] from: "abc"
*** Where: either
*** Near : cause-error 'script 'bad-to-arg [class value]
*** Stack: to-typeclass cause-error  

>> to-typeclass any-word! "abc"
== abc
>> to-typeclass any-word! "'abc"
== 'abc
>> to-typeclass any-word! "23"
*** Script Error: cannot MAKE/TO make typeset! [word! set-word! lit-word! get-word!] from: "23"
*** Where: do
*** Near : cause-error 'script 'bad-to-arg [class value]
*** Stack: to-typeclass cause-error
```

[11:24:22](#UanXZfx3s2rfzfcZN0hHqTVDaWGcwF6PT7P9DXTeJ2w) <dockimbel>:
 * That goes against `to` semantics. The first argument is a `datatype!` or an "example value" from which we extract the datatype. What you are proposing is creating an exception, by making some "example values" behaving differently, and other not.

It seems that what you are after is just a specialized `load` on strings. You should rather write a short mezz to cover the rare cases where such feature would be needed, instead of breaking `to` consistency. Here's a simple one:

```
to-typeclass: function [class [typeset!] value [string!]][
    unless find class type? new: load value [cause-error 'script 'bad-to-arg [class value]]
    new
]

>> to-typeclass number! "23"
== 23
>> to-typeclass number! "23.0"
== 23.0
>> to-typeclass number! "abc"
*** Script Error: cannot MAKE/TO make typeset! [integer! float! percent!] from: "abc"
*** Where: either
*** Near : cause-error 'script 'bad-to-arg [class value]
*** Stack: to-typeclass cause-error  

>> to-typeclass any-word! "abc"
== abc
>> to-typeclass any-word! "'abc"
== 'abc
>> to-typeclass any-word! "23"
*** Script Error: cannot MAKE/TO make typeset! [word! set-word! lit-word! get-word!] from: "23"
*** Where: do
*** Near : cause-error 'script 'bad-to-arg [class value]
*** Stack: to-typeclass cause-error
```

[11:28:40](#ER-Fy9uPTFVKIrG6gb7d9zTx9BAjrKBqdQ4tEGpSTP8) <hiiamboris>:
I understand, but since typesets are close to datatypes in their meaning and spelling, I think we could extend `to` to work with both `datatype!` and `typeset!`. Otherwise the look of `to number! "23"` is very misleading.

[11:47:13](#mXuwKnlCJl2XfwFCyo-CtgGX7URQjo8FjCi_HRaRYBo) <dockimbel>:
It is until you remember that `number!` is a typeset and not a datatype, and that `to` treats the first argument as an "example value" and not literally if it's not a datatype. 

In order to prevent such mistakes, we could rename the typeset classes by adding a `-class` suffix, though that would make their usage in type specs just more verbose.

Moreover, what you are advocating for is only for converting some values (strings basically). So you want to create a special behavior for `to`, only if the first argument is a `typeset!` and the second a `string!`. We have currently 53 datatypes, so that makes 53^2 = 2809 possible combinations for `to` for which the semantics are consistent. What you ask for is creating a special rule for "some" values only, basically about 15 combinations (predefined typesets + string! arg) among those 2809... while you can achieve what you want with a one-liner mezz...

[11:50:20](#jzAXD98hHVHdVNoSzKZpE-_rjnE6bR5vJOObDKhBZeQ) <dockimbel>:
Maybe we should just rename `number!` to `any-number!` to avoid such potential wrong expectations.

[11:51:02](#ax1Mnt-rGkUMmmouf-VgR7HbnGI8ffj-Bpq9ydt_0Ys) <hiiamboris>:
Good points.

[16:46:51](#Rf_xUk4-2WblNPuL4GonbTyvfTF-GOB6TjrnEz4WCeA) <greggirwin (Gregg Irwin)>:
`Any-number!` might be OK, though it's a *big* breaking change. Deprecate it first, for some time. That frees `number!` up if we want to use it for binary-correct decimal. That does mean old code that relied on `number!` for integer support will break. It's also a tricky typset because it's not about things with numeric  op support. e.g. `money!` isn't there because it has extra data (IIRC).

## 2-Jul-2023

[16:00:03](#IO90C9KqRLFjqchxH9x9kVgGWStSpRzkvebZr7-hTjg) <Oldes (@oldes.h:matrix.org)>:
If you would rename `number!` to `any-number!`, then also `series!` and `scalar!` may be considered to be renamed in the same way.

## 3-Jul-2023

[16:31:43](#4aCBUisuIvJgO2k422V5PNc2NTDDyBcJz0qd0BbJYhA) <greggirwin (Gregg Irwin)>:
It's tricky, to be sure. Naming is hard.

## 10-Jul-2023

[2:36:13](#OpVjizYTvUwbLDcyEcYnQfC5jhDBG_RzzFVfhb3jjr0) <endo64>:
Is this a bug or am I missing something here?

```
>> load "13/12/15"
== 13-Dec-2015
>> load "15/12/13"
== 13-Dec-2015
```

[6:30:51](#pWXwPN0nHLnxGdpQTlyW-IZ6HrC8E3BThLnxr6j4Luc) <greggirwin (Gregg Irwin)>:
https://github.com/red/docs/blob/master/en/datatypes/date.adoc#22-runtime-creation says year and day fields are interchangeable for low values. Kind of gives me the shivers though.

[22:00:29](#0jOOLdb4_nl0Bj-Mflvp24t6B0OD1LQpgJFAtEgsjBQ) <endo64>:
This is very dangerous. If a number is 4 digits then yes, it could be smart to handle both "2013/12/15" and "13/12/2015", relaxing the rule of YYYY/MM/DD vs. DD/MM/YYYY. But silently decide to use different part as year value..

[22:08:13](#d6ryQPsB4TTZ_ghjEt96NWGJ3TKZo5Wpn2DGMBoWwT4) <hiiamboris>:
I agree. I think it's for R2 compatibility though.

[22:08:59](#vMX-VOBR4d9VcTnnWpQGQzEY6G_HEMGdDG_i0WdXZ-U) <hiiamboris>:
* I agree.

[22:12:45](#tq_vfYn05Pzooxb68LiVSqrAPdU5_pTi8LMkj9TlLlI) <hiiamboris>:
```
>> 11/11/13
== 11-Nov-2013
>> 12/11/13
== 12-Nov-2013
>> 13/11/13
== 13-Nov-2013
>> 14/11/13
== 13-Nov-2014
>> 15/11/13
== 13-Nov-2015
```
I think it's a *design bug* if that statement above is to be trusted.

[22:13:27](#tF7dFN72WsAOyE_yQ_aFo3XKhJw8nUsSP10H7CpGbmE) <hiiamboris>:
* ```
>> 11-nov-13
== 11-Nov-2013
>> 12-nov-13
== 12-Nov-2013
>> 13-nov-13
== 13-Nov-2013
>> 14-nov-13
== 13-Nov-2014
>> 15-nov-13
== 13-Nov-2015
```
I think it's a *design bug* if that statement above is to be trusted.

[22:14:50](#ERP7TNnN7lTzvzf_-qG9f-JRwyB60XyP3Wgqp3rXsMA) <hiiamboris>:
Probably meant for numbers > 32...

[22:25:15](#PEG9ZKHZj8xMXDnRZBA_CK_QXB1oo72RGae-4ZJ8hYk) <hiiamboris>:
Please open an issue endo64

## 11-Jul-2023

[5:10:26](#dWM8KRkkSzzdpqLuhs_doIIfDHME8wYaNKd7FPYG304) <endo64>:
> <@hiiamboris:tchncs.de> Please open an issue endo64

https://github.com/red/red/issues/5345

[11:46:23](#ZJQhVdXA3OzjnVWtbU7oQakQR7sOLlrRcD49cbedtAU) <dockimbel>:
It's just a bug, not a design issue. The sentence in the docs need to be improved a bit to avoid possible misinterpretation.

[11:47:43](#iQFiUFyT4pO51vYmhHOhBzAA-cXYoV3lCcfdLkIVgc8) <dockimbel>:
 * It's just a bug, not a design issue. The sentence in the docs need to be improved a bit to avoid possible misinterpretation. It is obviously not interchangeable if the year is expressed with two digits only.

[11:50:07](#Dmd0B8u6CUFslzLD3naInjk7xQQ_S1DoGGyZ-FAXojs) <dockimbel>:
 * It's just a bug, not a design issue. The sentence in the docs need to be fixed. It is obviously not interchangeable if the year is expressed with two digits only.

[12:10:14](#4wBGYOpEwL7ATkbPBWEH4DgYlUgEm_YL5BJSbJ2iWMI) <dockimbel>:
On second examination, it seems there's a design issue, mixed with error in docs and a bug in the code. í ½í¸†

[14:41:12](#BmydOHiFeaX4S4lVk9DJfrewODLF3UWDZ8AOdYRabqE) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@dockimbel-556597ad15522ed4b3e10020:gitter.im> On second examination, it seems there's a design issue, mixed with error in docs and a bug in the code. í ½í¸†

So it is a feature!

## 12-Jul-2023

[12:04:06](#-GMeNWavmTApOEfOciZ7qw7QRfSRSiEN4ILr_CzTlIw) <dockimbel>:
Fix pushed for dates.

## 13-Jul-2023

[16:00:39](#uzlFNOJM5Deqg1wDOFp0YaOaaXDhCKiyRXasyDvYCY8) <endo64>:
I still think silently swapping year and day is dangerous for 2 digits.
I would prefer that swap happens only if there is 4 digit number either in first or third position.

```
>> 15/12/12
== 15-Dec-2012
>> 12/12/15
== 12-Dec-2015
```
In this case I would prefer DD/MM/YY format always.

[16:11:47](#nlq6fvJeWxSEulTwoOP9WXEdojafPN2xNJaR-g6_9Lg) <dockimbel>:
I don't see any swapping happening in those examples?

[16:22:41](#p1NT5hKxf5Nv6ca9-oBlVOHYmbhu8xQWZw7tbr72TwY) <dockimbel>:
Swapping should only happen now when there's no ambiguity.

[16:29:31](#9kl3iw7tVuccKnM1z-frrW6zMJuR6t9HkJNL0ekVWH8) <endo64>:
But in the example above, "15" could be both year and day, depending on other factors.

[16:30:48](#Nww2le3IcX6_3lxKjn4fe3WXmpWMQ_MTv7PkqXIjI-Q) <endo64>:
ah sorry, wrong example.

[16:34:59](#1iaQSfbZBxHMue2WEDMILihEGNbFDxH2Ysbmzo6u5bI) <endo64>:
Correct, I messed up with two consoles, it works as expected.

[16:36:21](#wh-oGEubqQXE-5DdYWt4kfmtpKadc9KUnJkzk9QF8PQ) <dockimbel>:
The current behavior is:
```
>> 40/12/12
== 12-Dec-2040
>> 32/12/12
== 12-Dec-2032
>> 31/12/12
== 12-Dec-2031
```

[16:38:32](#XkeOYQfljUFoOBuzHCXoIcYNcOk2eDqgSqCu_R1aScI) <dockimbel>:
 * The current behavior is:

```
>> 31/12/12
== 31-Dec-2012
```

[16:38:56](#XZ6LFIvwGBdMPYXDrKTPuZrImY0wbGTOv1siu_esX00) <dockimbel>:
 * The current behavior is:

```
>> 31/12/12
== 31-Dec-2012
>> 32/12/12
*** Syntax Error: (line 1) invalid date at 32/12/12
*** Where: set
*** Near : transcode/trace buffer :delimiter-lex
*** Stack: load 
>> 100/12/12
== 12-Dec-100
```

[16:39:30](#g_Tv9iFP3kUlZH7wuvyakYfRKfy34kD3anLQpgTLrUk) <dockimbel>:
So the year in first position must be 3 digits at least to be accepted.

[16:39:51](#r-0z_8HxQZPLyX6Ju9RiRnxWiu0kJAUBsBNs8UdO40Q) <dockimbel>:
 * So the year in first position must be 3 digits at least to be accepted and swapped.

[18:02:07](#CB9PS3-6AEGTXD3KwhhaiE548TETa3cOmWigcbU6tWM) <greggirwin (Gregg Irwin)>:
```
>> 15/12/12
== 15-Dec-2012
>> 12/12/15
== 12-Dec-2015
>> about
Red 0.6.4 for Windows built 12-Jul-2023/5:46:25-06:00  commit #aea0988
```

[18:02:55](#DkhH0wIPoiH14JGuzX2RMMaJbfun2VZ6_xUxKI2zE7g) <greggirwin (Gregg Irwin)>:
Just to confirm.

## 14-Jul-2023

[7:12:04](#gL6DsWF8Yu3DxgG2xmexKA0IS_nIRIYV7bQIvkirN7A) <pekr (Petr Krenzelok) (@pekr:matrix.org)>:
Isn't following a bug in lexer, or wherever? I tried to load the file, but watch the spaces around the parens?

>> ble: read %Export_multi(11).gpc
*** Access Error: cannot open: %Export_multi
*** Where: read
*** Near : ble: read %Export_multi (11) .gpc
*** Stack:  

[7:12:29](#8eRqg3-jIKRgaU5Y1UvUfwvBNXQg_O0yL3-JZ3Ft-Rw) <pekr (Petr Krenzelok) (@pekr:matrix.org)>:
I have renamed the file (removed parens and it reads just ok ....

[7:12:42](#-DasYmS5X1IFBSMYmBd0oGO6qjgKfAKhLD9knmIPRF0) <pekr (Petr Krenzelok) (@pekr:matrix.org)>:
 * I have renamed the file (removed parens) and it reads just ok ....

[7:57:30](#PkKSYKMsgwD6HkLmMyN-HFQ-lIlR0v5EgNp-O-gB64k) <rebolek (Boleslav BÅ™ezovskÃ½)>:
> <@pekr:matrix.org> Isn't following a bug in lexer, or wherever? I tried to load the file, but watch the spaces around the parens?
> 
> >> ble: read %Export_multi(11).gpc
> *** Access Error: cannot open: %Export_multi
> *** Where: read
> *** Near : ble: read %Export_multi (11) .gpc
> *** Stack:

You could use `ble: read to-red-file "Export_multi(11).gpc"

[7:57:37](#RRIxvjow_aPWdbK_uVXktXjGXjfkYmRik3dI3jmGomY) <rebolek (Boleslav BÅ™ezovskÃ½)>:
 * You could use \`ble: read to-red-file "Export\_multi(11).gpc"`

[7:57:52](#t7PKTPgUm4U2PWKocqbFE0bx6_wNuMVy_7yr66ry4mk) <rebolek (Boleslav BÅ™ezovskÃ½)>:
 * You could use `ble: read to-red-file "Export\_multi(11).gpc"`

[8:18:57](#mGb8aA9oxGbaR_xXGDMhJYtorAq-oEDHZHRtfXuxsrs) <hiiamboris>:
> Isn't following a bug in lexer, or wherever? I tried to load the file, but watch the spaces around the parens?

> >> ble: read %Export_multi(11).gpc
*** Access Error: cannot open: %Export_multi
*** Where: read
*** Near : ble: read %Export_multi (11) .gpc
*** Stack:  

`%"Export_multi(11).gpc"`

[10:31:47](#yJ1yTecdfkB9Rtaoo7E0n32NH4ICYelEwp4pLnN79Nw) <pekr (Petr Krenzelok) (@pekr:matrix.org)>:
I don't see any reason to put the file into quotes. From what I understood, the quotes were needed only when file / path contained a space char? This is what Rebol/Core user manual Files section states:

"Although it is not a good practice, spaces can be included in file names by enclosing the file name in double quotes (" "). The double quotes prevent the file name from being interpreted as multiple words:"

No mention of quoting because of parens being part of the filename?

[10:32:55](#TQferm7n84C3jAk5ex3pQjHzPw7iOtJfp0B3kvrjfXg) <pekr (Petr Krenzelok) (@pekr:matrix.org)>:
OK, R2 behaves identically, so I take it as a given. Just never experienced it before.

[11:01:45](#xgLqmrjH92Unsx3O2HcFq2dWwiJTarxJv2X_0LQaUH4) <hiiamboris>:
it doesn't round-trip though, so it's a bug :)

[11:04:25](#XlxhbZaWNpR6ZUFMsxfTaRfzgi7XCcVuSG0jB_JJ6JY) <hiiamboris>:
https://github.com/red/red/issues/4060#issuecomment-1099289310

[13:40:45](#ff5iniiNeKUe7LE-OQKNKFDjioHCJ4u4C_8Z40K1TyY) <dockimbel>:
> <@pekr:matrix.org> OK, R2 behaves identically, so I take it as a given. Just never experienced it before.

It's an edge case where the main delimiter like parens or square brackets are taking priority:
```
>> [%Export_multi(11).gpc]
== [%Export_multi (11) .gpc]
```
Same in R2/R3.

[13:41:15](#d-qtp87N6AfQrzBSQ-WKjn-Zm3E4vJLtq2bI7wWWFr8) <dockimbel>:
> <@pekr:matrix.org> OK, R2 behaves identically, so I take it as a given. Just never experienced it before.

 * It's an edge case where the "super-delimiters" like parens or square brackets are taking priority:

```
>> [%Export_multi(11).gpc]
== [%Export_multi (11) .gpc]
```

Same in R2/R3.

[13:41:25](#SWaCjrPiIDz16WNbK4ehbh8gvtf4oPeyYB4UN-WkpgI) <dockimbel>:
 * It's an edge case where the top delimiters like parens or square brackets are taking priority:

```
>> [%Export_multi(11).gpc]
== [%Export_multi (11) .gpc]
```

Same in R2/R3.

[13:41:39](#gQVAWssNEwfK77o7VFzq-ubZErpd7GZ8dbOAxtY-k-8) <dockimbel>:
 * It's an edge case where the top delimiters like parens or square brackets are taking precedence:

```
>> [%Export_multi(11).gpc]
== [%Export_multi (11) .gpc]
```

Same in R2/R3.

[13:56:54](#toXaZLC1YNXCHm7NQS8MDESgqmrhPDGkwrj2kIUiFJg) <pekr (Petr Krenzelok) (@pekr:matrix.org)>:
OK, no big deal, I just probably never loaded files with parens in its name before :-)

[15:04:33](#zJ6llajTuNwwNs_6168VnWxnuFz-lkqiTwECzKbvEzo) <pekr (Petr Krenzelok) (@pekr:matrix.org)>:
Am I redefining `do`or what here? ` foreach [od mezera do text] [1 - 3 "text"][print [od mezera do text]]` .... works in R2, but in Red I need to shut down the GUI console in a task explorer

[15:06:06](#DYei1TF6ExC9vSpJcdQU_ILXv282khk9hZGBFaIP9wM) <pekr (Petr Krenzelok) (@pekr:matrix.org)>:
 * Am I redefining `do`or what here? ` foreach [od mezera do text] [1 - 3 "text"][print [od mezera do text]]` .... works in R2, but in Red I need to shut down the GUI console in a task explorer. Works when I use some other word there ....

[15:13:09](#tdvuC-bghaC9KRBTBY9ujzNfj33tP-P4l6o01TScqr4) <hiiamboris>:
In R2 loop words are local to the loop, in Red they are localized by `function`.

## 31-Jul-2023

[16:03:35](#Oap3K_6iAzJMWOUjfqVQwUwaaqrgEKf8m2IPTm6okOU) <hiiamboris>:
qtxie I observe some odd behavior of Windows backend: during window resizing or when menu is activated, the program halts until resizing ends or menu is closed. `do-events/no-wait` basically locks the event loop but actors and global event functions still receive events and get evaluated.

This can be observed from the following test script:
```
Red []

view/flags/no-wait [base 200x200 rate 3] 'resize

insert-event-func func [face event] [
	print event/type
	none
]

forever [
	if 0:0:0.1 < t: dt [
		if none = do-events/no-wait [break]
	] [print ["delay:" t]]
]
```
Try opening a menu (with LAlt) or resizing it for >100 ms: it will output the time `do-events/no-wait` locked the evaluation for.

Is this a bug or some weird Windows "feature" we have to tolerate?

[17:06:28](#wevjwGBVA1WXT7-yj0hWTXYeZ3uJ-EjZ0Ls7alsZgFw) <hiiamboris>:
Must also be the reason behind https://github.com/red/red/issues/4355

## 9-Aug-2023

[4:19:32](#V_95zpSzy-x5fR28unKcGRJwJGH9F92b8oCDXgmtc4E) <mikeyaunish>:
I've found different results from transcode from before:
```
>> about
Red 0.6.4 for Windows built 2-Aug-2023/17:10:02-06:00  commit #2c0a400
>> transcode/trace "%hello.txt" func [event input type line token] [?? token true]
token: 1x11
token: 1x12
token: %hello.txt
== [%hello.txt]
```
Notice the token size compared to older Red version below:
```
>> about
Red 0.6.4 for Windows built 7-Jun-2023/13:38:46-06:00  commit #01ab176
>> transcode/trace "%hello.txt" func [event input type line token] [?? token true]
token: 1x11
token: 1x11
token: %hello.txt
== [%hello.txt]
```
Should I modify my code for the new results?

[4:42:44](#tEdtEdHX9uzwrXvBvUvk6-GHPTulXFUdwR595Iuf0xc) <endo64>:
`Red 0.6.4 for Windows built 20-Feb-2023/10:53:57-04:00  commit #bd5bc29`

Mine is older than yours but it gives `1x11` for both. Probably there was a regression on 2-Aug's version.

[8:29:42](#I1-SmcWykqW06lzNwWwm8W7DKmo0vqhLl1AG_KQPyjE) <hiiamboris>:
Please open an issue mikeyaunish

[8:29:56](#sgG5k0eas6oP75QvAX1BmpkhqAMDMwm7aZCLbHUj8m8) <hiiamboris>:
looks like past-tail access to me

## 26-Aug-2023

[15:37:42](#aDHIy8UY5jbKYBMcMFDHEAWS03VIQeHreu3S-K7YuAQ) <hiiamboris>:
![https://tchncs.de/_matrix/media/v3/download/tchncs.de/2e5c2e29f4da64dd2d2580714273e5ea6e19e39e](https://tchncs.de/_matrix/media/v3/download/tchncs.de/416b2bd2f34113806d74c2c9c3d92e30b5dc94ae)

[15:37:47](#C4Ouk_fHv2Upv1sc0IYqryw8YZc1ENSZD5Ia4DxX1Jg) <hiiamboris>:
```
view [
	origin 20x20 base white loose 100x100 react [
		face/draw: compose [
			fill-pen radial cyan magenta (70x70 - face/offset) 40
			box (30x30 - o: face/offset) (110x110 - o)
		]
	]
]
```

[15:37:54](#nEZUzMfs6iwzLHIzAH53rxfOqrM822opOgwJblNziBE) <hiiamboris>:
How do I sync this thing?

[15:38:16](#56qVuiupTTLftcdr9FlshTnDIzuY1zGaBm5hnkaC_1Y) <hiiamboris>:
dockimbel qtxie

[15:38:49](#DNnVuqmU-ygCA0sd820j6NVLUepvUVBVUduRR9ikBxs) <hiiamboris>:
* ```
view [
	origin 20x20 base white loose 100x100 react [
		face/draw: compose [
			fill-pen radial cyan magenta (70x70 - o: face/offset) 40
			box (30x30 - o) (110x110 - o)
		]
	]
]
```

[15:47:13](#D_Xo2DOxiEQFmpywhPkwxe4SNOBuzsRsa1cKNmP21VE) <hiiamboris>:
![https://tchncs.de/_matrix/media/v3/download/tchncs.de/70130140b5318cdb9d98d3b22eac2200d602f171](https://tchncs.de/_matrix/media/v3/download/tchncs.de/51e1efd5422d5130b82ebe687d54449e67e7286f)

[15:47:34](#nxG5AOdg5AfiM38d_ksQt3dUbmBIXL66UZQEnnb3k-0) <hiiamboris>:
Another question: can vertical text offset be logically explained?
```
view [
	origin 20x20 base white loose 100x100 react [
		face/draw: compose [
			fill-pen pattern 30x20 [text 0x0 "0123456789"]
			box (20x20 - o: face/offset) (120x120 - o)
		]
	]
]
```

[15:50:39](#H8cId6PSlul9UBRVAy77H9oKmOUb-Hnr9RwfZTh1FzM) <hiiamboris>:
![](https://tchncs.de/_matrix/media/v3/download/tchncs.de/8cc720294d4f888d2ed4e8a1a37ef490401909f6)

[15:50:42](#mJmXVP7_ZrAO5mtea1qA77s7YqTSSw0NywVohgdy80A) <hiiamboris>:
Or for this case?

[15:50:49](#tUJzz5PMLEN_r-m-K5_iyKYKLDly2CG9hTI3U8LZf-k) <hiiamboris>:
```
view [
	origin 20x20 base white loose 100x100 react [
		face/draw: compose [
			fill-pen pattern 30x30 [box 1x1 9x9]
			box (20x20 - o: face/offset) (120x120 - o)
		]
	]
]
```

## 28-Aug-2023

[11:06:30](#bDihLjJmlkRQz2_oS_h86FDiVVTWzpA5Vpo7-Lc5xLM) <dockimbel>:
Can't find a way. The wobbling is really intense. It is worth a ticket for deeper investigation.

[11:08:21](#rV6w0g8Kxn6gWQ7O_REE_1KM8RwzTKlicApaXTJPakU) <dockimbel>:
Looks like an offset issue in `fill-pen` -> ticket.

[12:17:48](#x-ZX591Cbg5L77NpBRBFk-zNEaHh2fHD291ZnV2TlYQ) <hiiamboris>:
dockimbel is it by design that pattern pens inherit context from outside?

[12:18:04](#t7SBbZaAkH38FEf6G5Gwa2NXoCzITybhr2D4ZK0nmSg) <hiiamboris>:
![https://tchncs.de/_matrix/media/v3/download/tchncs.de/e12befb27cc41c7f5f8e4ffde70ab3369c579eb6](https://tchncs.de/_matrix/media/v3/download/tchncs.de/87cc822b6b23f2cf57aab6f9e26d1ce105c4b989)

[12:18:17](#lMP_fCuI2a5_tR3M7tR5iTTFjFcdBPu8DXzJU2pZmws) <hiiamboris>:
`? (draw 100x100 [pen red fill-pen pattern 5x5 [box 1x1 4x4] pen blue box 10x10 90x90])`

[12:19:08](#trfHeq-BW-QZI62NOMi19HqBQGaEb2zUN5id0V_LZMg) <hiiamboris>:
![](https://tchncs.de/_matrix/media/v3/download/tchncs.de/0dbc2aa272fe372f552b6a2da8781303e75e89cf)

[12:19:14](#48RIjGwM9x8eemDOS3_GLLSTWfFjm9KSNzNgaXOmKxI) <hiiamboris>:
```

[12:19:18](#qLE4ePsJF1Rk37jg_pnXwpTLvXJQ3uKryaExBUQgzrQ) <hiiamboris>:
* ```
reset-draw: compose [
	pen 0.0.0 fill-pen off
	anti-alias on font (make font! [])
	line-width 1 line-join miter line-cap flat
]
? (draw 100x100 compose/deep [pen red fill-pen pattern 5x5 [(reset-draw) box 1x1 4x4] pen blue box 10x10 90x90])
```

[12:19:51](#cd8HUvWl5kdt_tYo8R_dXKg3Lm7y4nNK2lPmEt0iJo4) <hiiamboris>:
There's no explicit reset in Draw so one has to invent one's own.

[12:20:30](#yY-WePh3SbnCeYweZYE44YnoJ7nb63UBjHfvirJ6sIg) <hiiamboris>:
* `? (draw 100x100 [pen red fill-pen pattern 5x5 [box 1x1 4x4] pen blue box 10x10 90x90])`
note that red color was specified outside of `fill-pen`

[12:23:33](#trfgw6qK7jWK7RimB6EYBbJjPNc1brDUKRztkQM0WSY) <hiiamboris>:
Matrix seems to be reset implicitly though.

[16:08:01](#Zdr9QRG2dwDhD_wDzLzievQBqcwhoADsNFzW5kriGaQ) <dockimbel>:
Of course. If you don't specify any color in `fill-pen`, then it's logical that it takes the currently set color.

[16:08:33](#F2D7bj1vkRgW8JBWZw9nvII533X_hIGM-O5tBNtuBMQ) <dockimbel>:
 * YEs If you don't specify any color in `fill-pen`, then it takes the currently pen color.

[16:08:40](#fXZDMBBg6HUEC0TB6P9S4fO6kf2pxxLfg58uK_E38dY) <dockimbel>:
 * Yes, if you don't specify any color in `fill-pen`, then it takes the currently pen color.

[16:10:37](#O73VQo-wahWtTcYB_fIf5xX1p14Mm3QDotq7ZXZ5Tts) <dockimbel>:
 * Yes, if you don't specify any color in `fill-pen`, then it takes the current pen color.

[16:15:30](#eKh64nF8fTCalk_qa0O7CZRYAcS1Bfs-09j4dcOVxKk) <dockimbel>:
Is that a feature needed for SVG graphics support?

[16:18:42](#6vfRqekUvdqlVWwATn21vqDg5UBuVzu7J37W1Jo1KMM) <hiiamboris>:
In SVG they define patterns in isolation, so nothing is inherited from the context where such pen is used. I can manually reset it like in above, and I can also see that there's no right answer here - ideally we need to support both modes.

[16:19:59](#RjjF5YIYu-cQTSgSDphEEuoi1D_SeYvtyreHSsg5JLs) <hiiamboris>:
A bigger issue is that none of the coordinate systems that SVG defines for patterns are supported by Draw currently. So at best our patterns will somewhat resemble the original. So I wouldn't worry about it right now, given how deep changes are required for full support. Just asking.

[16:20:35](#QaN4vkKGre0RJ5akcSpqlkAISSOj9L7xkMWTNMaFuvo) <hiiamboris>:
* In SVG they define patterns in isolation, so nothing is inherited from the context where such pen is used. I can manually reset it like in above, and I can also see that there's no right answer here - ideally we need to support both modes, as both seem useful.

[16:21:00](#LNoeCTWKSsP2pE-dYwMBP0Soijo_sC3XIvJ0V3nJnDM) <dockimbel>:
Can't those coordinate systems be converted to the one Draw uses?

[16:25:18](#7cl9C2VnIAkNmRQqlGego99eiUz1L8sJ1eAvtICtlcU) <hiiamboris>:
No. One coordinate system maps to the shape as (0,0)-(1,1) i.e. 0% to 100% of its dimensions. We have only such implicit mapping for gradients, but not for patterns. 

Another coordinate system is closer to what we have, but it has origin aligned with the origin of current coordinate system resulted from all transforms, while Draw resets the origin for the pattern. An [illustration](https://www.w3.org/Graphics/SVG/Test/20110816/harness/htmlObject/pservers-pattern-01-b.html) - look at top box, yellow/green boxes are relative to the whole picture.

[16:26:09](#iV9G5VILH6F1hZRFQq_PdwX3UfipZl0Hvf9moIm9L1U) <hiiamboris>:
* No. One coordinate system maps to the shape as (0,0)-(1,1) i.e. 0% to 100% of its dimensions. We have only such implicit mapping for gradients, but not for patterns. Even for gradients it's implicit only and we can't modify it e.g. to set gradient radius 110% of the shape, etc.

Another coordinate system is closer to what we have, but it has origin aligned with the origin of current coordinate system resulted from all transforms, while Draw resets the origin for the pattern. An [illustration](https://www.w3.org/Graphics/SVG/Test/20110816/harness/htmlObject/pservers-pattern-01-b.html) - look at top box, yellow/green boxes are relative to the whole picture.

[16:27:30](#AKvcL00alib17zq8vHoMz2cp5nI_EbJJOWsIpIOfnTU) <dockimbel>:
qtxie: Do the underlying OS API we use support such coordinate systems?

## 29-Aug-2023

[23:05:12](#6WYJoNDfLGUqj6WVdLtDwasi0nR9XLQksgzZVGzWZJo) <GiuseppeChillemi (GiuseppeChillemi)>:
hiiamboris: I am experimenting with the lexer as you have suggested to use to extract comments.
I have found a nice script from dockimbel called `get-comment`

Is it normal it returns error here:

```
script: {Print "something"
;First test comment
me: 22
Here: [44]
;another comment
probe here
f: function [a b] [print ["a: " a "b: " b] ;Shifted comment
another-unuseful-thing: ["-------" ";you whould not see me"] ;you should seee me
;last comment

return}
```

I run it with:

`probe get-comments script`

And Red halts with error:

```
*** Syntax Error: (line 11) missing ] at [print ["a: " a "b: " b] ;Shif
*** Where: transcode
*** Near : transcode/trace src :lex new-line/skip list 
*** Stack: probe get-comments 
>> 
```

It does not like the `;` inside the print sting

[23:22:52](#8vB5cx-edmoiFwEU6h0w61oRD71I0N_pmMYmX2zxP2s) <GiuseppeChillemi (GiuseppeChillemi)>:
`Red 0.6.4 for Windows built 15-Jun-2023/13:40:06+02:00  commit #eb4d130`

[23:25:29](#snXBs7k4jXUZ_oUHi9s7KBA0tjGY3IPT8YCWyx5FW84) <GiuseppeChillemi (GiuseppeChillemi)>:
I have the same error on the latest build

## 30-Aug-2023

[7:44:57](#xteoY0erwPkLtIpsPDjsUvWhpq3w9YWO6_M4J-BW_ao) <dockimbel>:
> *** Syntax Error: (line 11) missing ] at [print ["a: " a "b: " b] ;Shif

Red told you what's wrong.

[11:59:50](#sM-0C7DZ6rr5DrlsXU3rcHZzEKFJgJc7GT1H_IS5qdk) <GiuseppeChillemi (GiuseppeChillemi)>:
> *** Syntax Error: (line 11) missing ] at [print ["a: " a "b: " b] ;Shif

Red told you what's wrong.

[12:00:15](#_xedaGi0VI9vQt7kg-mPMmc2N5CXOpQRt9dtzMfNido) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@dockimbel-556597ad15522ed4b3e10020:gitter.im> > *** Syntax Error: (line 11) missing ] at [print ["a: " a "b: " b] ;Shif
> 
> Red told you what's wrong.

You are right but I thought the comment extractor was scanning the input without generating errors.

[12:01:44](#1Y9iLiRNAh4gNnekfNohV6cXY_3eiIrBNfuJqk12z_k) <GiuseppeChillemi (GiuseppeChillemi)>:
How could I scan the remaining part of the code for comment, even in presente of errors in the script? 

[12:01:56](#QWqwE-uMVq8z9Nbc1njK5g73i0jaRUWF5HMedO6TUjM) <GiuseppeChillemi (GiuseppeChillemi)>:
* How could I scan the remaining part of the code for comments, even in presente of errors in the script? 

[12:02:06](#6z41v6xaPI6LibM2yhPMy4Hwdnl3XpFD_G0CJs1V7TY) <GiuseppeChillemi (GiuseppeChillemi)>:
* How could I scan the remaining part of the code for comments, even in presence of errors in the script? 

[12:03:27](#X9UKK03qCqrVDyRCTPsw1Hxa812MxqB8jP1BOskoSQw) <hiiamboris>:
handle `error` event

[14:03:48](#RNAKy1W06HFkPTH1kAo-72QX3bJyBdbypYFin5evHQ8) <GiuseppeChillemi (GiuseppeChillemi)>:
handle `error` event

[14:04:15](#HgiBtazmb7BuYKLgtMwspkSyjXB1UCC3v1_J7kLOD_M) <GiuseppeChillemi (GiuseppeChillemi)>:
 * There is something I don't understand. Now the events to report are `[SCAN ERROR COMMENTS]`

With this config, the error event is never reported. Instead if put only `[error]`, it is.

[14:04:29](#uFXB7aXY7ejiUmCo-VmDUdRqXtvzspyM2hEaZsH7sjQ) <GiuseppeChillemi (GiuseppeChillemi)>:
 * There is something I don't understand. Now the events to report are `[SCAN ERROR COMMENTS]`

With this config, the error event is never reported. Instead if put only `[ERROR]`, it is.

[15:30:37](#vb_T9giIt70jakVcNCIER5JrGjgV5FyWAS3kltzTv1c) <GiuseppeChillemi (GiuseppeChillemi)>:
I have seent that if you add [error] the script does not stop anymore but simply generates the error. I thought that `[SCAN]` with `NO` as return did't generate blocking errors during scan. 

[15:30:48](#Rae0s_RgRYjAIWNfaJAGtSGs_X5ULDLTWt3HKUxDdHo) <GiuseppeChillemi (GiuseppeChillemi)>:
 * I have seent that if you add `[error]` the script does not stop anymore but simply generates the error. I thought that `[SCAN]` with `NO` as return did't generate blocking errors during scan.

[18:06:25](#aYneqPPmozNeiFLZylBsETQM3af4Sq-cAY9wmqN45tU) <dockimbel>:
> <@giuseppechillemi-59045d00d73408ce4f5bcd9d:gitter.im> You are right but I thought the comment extractor was scanning the input without generating errors.

The lexer cannot make sense of the input if it contains a syntax error. It's up to you to handle the `error` event and reposition the `input` series where you want. There should be some examples of that  either in that repo folder or in the blog article about the new lexer. If you can't find any, let me know.

[18:21:32](#Vt5PinsFukpLZK4ZuRqQvX5kHgYGw3G8gOrsgQV1fu4) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@dockimbel-556597ad15522ed4b3e10020:gitter.im> The lexer cannot make sense of the input if it contains a syntax error. It's up to you to handle the `error` event and reposition the `input` series where you want. There should be some examples of that  either in that repo folder or in the blog article about the new lexer. If you can't find any, let me know.

Thank you I am working on available examples and if I have doubts I will write on red/help

[19:17:26](#ETZrdwvJygnENPzIBWtLP4mU96vZG2EkcqWav7pXzqM) <hiiamboris>:
`view [box with [font: make font! [size: 34.5]] "test"]` font objects silently ignore `float!` sizes and fall back to defaults. Should it be like this qtxie dockimbel?

[21:46:18](#oOcaTYTzAm5HSbtKqoTrno3krHtDvDln3xbF47GR2Ns) <greggirwin (Gregg Irwin)>:
I say No. Either go to the nearest int or error.

## 31-Aug-2023

[10:56:51](#pt_d2CtkJhzdhzh20ejJ7AD0TFWP67kpgw6OzTde3SA) <dockimbel>:
Looks like a bug to me, but there might be an implementation limitation. @qtxie will tell.

## 4-Sep-2023

[3:41:13](#PZiIiQYq6EqJVgN30MCZj6dxbV_-wCrXYgbpRSSps4I) <ALANVF (theangryepicbanana)>:
![https://gitter.ems.host/_matrix/media/v3/download/gitter.im/78acaaee1f47dae4df82ddb846c4ee17ca2ae9ff](https://gitter.ems.host/_matrix/media/v3/download/gitter.im/efee9832f18687634cd8514113742127aae300ec)

[3:41:17](#aW6uq2OCDq-oR0I8Xm4gjBOxEGppepim90baVWEEHyo) <ALANVF (theangryepicbanana)>:
not sure what the expected behavior of appending/inserting a `binary!` to a `string!` is, but I don't think it's this?

[3:41:51](#tkXOCPrdHBgizEXPFCet5EyPhSaCmxBoKLs1HYh7Juc) <ALANVF (theangryepicbanana)>:
to me, I would think it would add/insert a tab, but I suppose using a molded version of the binary also works

[3:42:51](#x2uBg_Fbnh2YTwMXkNPSaXEEvNiMCOOsQbLHbXLjJSY) <ALANVF (theangryepicbanana)>:
working on implementing this in red.js right atm, I think I will go with the former for now (though it can be changed if something else is decided)

[3:54:51](#hFKVY_vyTnDYwnGy3X7HSDnK_YZadmvA61ld47iQLBc) <ALANVF (theangryepicbanana)>:
ah I am stupid it offsets the string

[3:55:16](#ZbJYqhp3l2QvUHVqH2RKiR7rsg5XYYvym1wB5YqWjlY) <ALANVF (theangryepicbanana)>:
either way there does not seem to be a special case in the code for `binary!` so that's a bit odd

[7:59:08](#aVLUiDWZ6mNUUtDmiLnsSr-FDMLn1q317Go_nuGPNXA) <rebolek (Boleslav BÅ™ezovskÃ½)>:
either way there does not seem to be a special case in the code for `binary!` so that's a bit odd

[8:01:35](#Wbxz3zmALvBT4KTRkSqYIuokB7_hslZq3B8Q7-Fyt3U) <rebolek (Boleslav BÅ™ezovskÃ½)>:
It `form`s the data before insert/append,  so there doesn't need to be done special code for each type

[13:52:29](#RNGqnCxeC7yvTdMFLMFgDVPdyhh7DVtN8HX3A5Q1vgc) <ALANVF (theangryepicbanana)>:
ah yeah I guess

[13:53:06](#X0rDIvTKiFCAryfjla_cCwZUPwr8jc0XT7K_UPaKJWk) <ALANVF (theangryepicbanana)>:
(In my defense it was very late when I was doing this lol)

## 7-Sep-2023

[16:04:42](#YA80IZwuCwCJk8eNUdwUBkxZvadMVIOFf24fCemofVU) <Oldes (@oldes.h:matrix.org)>:
I am not sure if it is ok, that `path-thru` is creating any directories....

[16:04:55](#VwFOtHU1lS8-Y9AnsFMJo_qKy1UlTCafDZfpwrKSgXU) <Oldes (@oldes.h:matrix.org)>:
![](https://matrix-client.matrix.org/_matrix/media/v3/download/matrix.org/IjfirQRlNlmmBWmynKoehdst)

[16:05:46](#3YSDV0Q9YKk0JZuly5iKQgUk7AunxU4zco8Hk0ODH1A) <Oldes (@oldes.h:matrix.org)>:
It should be created when the file is written, not sooner.

[19:00:09](#pP7TxjGr35HQxbRn-C3ZCb4_86QsaqNxqpRSVykIAkA) <Oldes (@oldes.h:matrix.org)>:
Anyway.. I have a strange feeling about this `*-thru` concept. Maybe it should be handled in the `http` scheme... which could use information about file modification and cache policy. Is it actively used by anybody?

[19:02:35](#qcDx97He553tIzR9y9uUK4arR9xLB2xcyMIbZXUXjG4) <hiiamboris>:
I'm using it in `redmark` to grab images only once.

[19:19:27](#bg8cpqEtqBzTtEWGC5AWUD81tJ-wwjqxekQxca1n9Mg) <Oldes (@oldes.h:matrix.org)>:
But still.. it should at least query the url and see, if the file was not modified... or use reported _Content-Type_ instead of forcing use of `load-thru/as`

[19:31:38](#rjnaIskuNy9PTvmGEd9toE8OhpTEYyFGVWYqZwPk-_8) <hiiamboris>:
I agree

[19:32:19](#zVCN1h-O9buIcwJGJhhToXMUitch0xELZZFenb61moM) <hiiamboris>:
related https://github.com/red/red/issues/3457

[19:53:52](#3vZSialeynWqDHLnum0-PKLPGAX0-AyGHqIwRS8LOH8) <greggirwin (Gregg Irwin)>:
R2's `*-thru` idea was a nice one, but will definitely benefit from more design thought.

## 9-Sep-2023

[13:26:23](#zUPUntd0sy6RIVndj6zcWsYjQ2Kvb4h8ZqA5hWrt5Fc) <pekr (Petr Krenzelok) (@pekr:matrix.org)>:
I am a bit desparate with the following stuff. Wanted to calculate a simple CSV file for my brother's wi-fi network, accumulating monthly payments. The script worked before the point! merge (works with 0.6.2 for e.g.)....

["1." "" "" "2006009" "2006009" "Client x" "Contract 2006" "Street" "City" "WIFI" "10.0.0.40" "180" "148,75" "TARIF-260" "0" "" "" "" "" ""]
*** Script Error: cannot MAKE/TO float! from: "148.75"
*** Where: to
*** Near : castka: castka + to-float replace data/13 
*** Stack: do-file  

... whereas the culprit line is:

castka: castka + to-float replace data/13 "," "."

[13:34:15](#86c-JG0vgICv_4zw-D6ic8sCAJ5vdnGKIClsoRF82p0) <pekr (Petr Krenzelok) (@pekr:matrix.org)>:
Simply even if I replace comma in string by dot, it still does not work. Loading the value works ...

[13:34:46](#JW0xWoGdJt9bCqTwhZbpX9vqVB8M3Q6_FI-kRPBRPwM) <pekr (Petr Krenzelok) (@pekr:matrix.org)>:
I must be missing something obvious :-)

[13:49:36](#rG-XESjp6UHNKmCZsyYyu5Bjrx4Y5yOyAfcP4AA-RDw) <dockimbel>:
`to float!` was patched recently to be stricter, could be the reason, but you need to provide a reproductible code to analyze it. 

[14:10:38](#jQB8DqoHIzSmmY4GUTOgK55Xl5BQQy1-unR9cXhah2w) <greggirwin (Gregg Irwin)>:
It's because comma support was removed from numbers.
```
>> to float! "148,75"
*** Script Error: cannot MAKE/TO float! from: "148,75"
*** Where: to
*** Near : to float! "148,75"
*** Stack:  

>> to float! "148.75"
== 148.75
```
But replacing that should work.
```
>> to float! replace "148,75" "," "."
== 148.75
```

[14:34:13](#nGlQLp4gdpq9Bbw5xmjzypeTmQqEYjR6tojFzEoslkE) <pekr (Petr Krenzelok) (@pekr:matrix.org)>:
Yes Gregg, but the conversion fails in my case. My speculation now is, that it stems to my CSV text file being stored as UTF8 + BOM (that's what Notepad shows), and when block is created using read/lines, then split used, conversion fails ... trying to isolate that ....

[14:37:41](#3yZ272DIW18LLFie4vZUgur76t47gUimYg4cdUFzyYM) <pekr (Petr Krenzelok) (@pekr:matrix.org)>:
Here's the source, that fails:

```
clients: read/lines %active-clients.csv
data: split clients/1 ";"
print to-float replace data/13 "," "."
```



[14:38:59](#RodzpH-y5BhbO1rqLA64jLt4HPJS4xE_7CxjOV8E3fk) <pekr (Petr Krenzelok) (@pekr:matrix.org)>:
Putting the same record into a new text file, above code works ... could there be some hidden malformation when block is created using `read/lines` there, if BOM is present?

[15:05:39](#twaurtnfUFQKsnE6nhreQ9CUyhS06sv63yrqiA3kg60) <pekr (Petr Krenzelok) (@pekr:matrix.org)>:
Not a BOM. It's probably split or parse malforming something, due to a Czech special char in the Street field. Will show it shortly ...

[15:09:00](#WNTMgyiKqF3IMNH4GxHtCqHWoLywq-mo9KW3pGFK4rY) <pekr (Petr Krenzelok) (@pekr:matrix.org)>:
Following float conversion fails, if there is present "ÄŒSA 99" as a street name. Once I change it to "CSA 99", the conversion fails ....

```
clients: [{1.;;;2006009;2006009;Client name;Contracts 2022;ÄŒSA 99;City;WIFI;10.0.0.40;180;148,75;TARIF-260;0;;;;;}]
data: split clients/1 ";"
print to-float replace data/13 "," "."
```

[15:09:30](#0SLT0GV8EQEwetlibfywwJ0t-N2i83gksGHf6n6djl8) <pekr (Petr Krenzelok) (@pekr:matrix.org)>:
 * Following float conversion fails, if there is present "ÄŒSA 99" as a street name. Once I change it to "CSA 99", the conversion works ....

```
clients: [{1.;;;2006009;2006009;Client name;Contracts 2022;ÄŒSA 99;City;WIFI;10.0.0.40;180;148,75;TARIF-260;0;;;;;}]
data: split clients/1 ";"
print to-float replace data/13 "," "."
```

[15:19:20](#1znfejwSANovDYI3D7pkqeE8sZ4olhb-qF_bKtQBps8) <pekr (Petr Krenzelok) (@pekr:matrix.org)>:
Switching my script temporarily to `load`instead of `to-float`

[15:54:50](#da-o2u5CYaWw1U_bYSnmfVSEn9rf96nyrh0o6Nd0_8A) <rebolek (Boleslav BÅ™ezovskÃ½)>:
Why you're not using the CSV codec?

[16:03:58](#I3TF1jiInhj2vOCpwcEF3zOHW9FBJshhJyNWAE7fvK4) <pekr (Petr Krenzelok) (@pekr:matrix.org)>:
Oh, I have expected such question, but it is irrelevant here, for something which can be solved by 2 lines of code - read/lines and looped split of the record. 

[16:05:37](#C4A7An1GhXrSyckwf6cIKftpAU4SyFi-SYHmQhaPEig) <pekr (Petr Krenzelok) (@pekr:matrix.org)>:
I also might have found the bug, as the code worked with the previous Red versions, so :-) I know about the codec, no worries, and would probably use it for more complex stuff ....

[16:15:27](#-WirrSNnkYhqgjndiN-mWa9lodG5Gx_KIsc4Gonlkxk) <rebolek (Boleslav BÅ™ezovskÃ½)>:
OK, just curious

[16:18:18](#zk7jUCrAibfmjQYc-7fbjD1eSAIUUAdGpL9wIgAvL7A) <pekr (Petr Krenzelok) (@pekr:matrix.org)>:
Your codec seems to fail on the float point (which is comma)?

```
>> probe load-csv {1.;;;2006009;2006009;Client name;Contracts 2022;ÄŒSA 99;City;WIFI;10.0.0.40;180;148,75;TARIF-260;0;;;;;}
[[{1.;;;2006009;2006009;Client name;Contracts 2022;ÄŒSA 99;City;WIFI;10.0.0.40;180;148} "75;TARIF-260;0;;;;;"]]
```

[16:19:33](#gvAmHZz0ajiahPdPry5a303_4Zl3Y2lUF3s0MxIPugo) <rebolek (Boleslav BÅ™ezovskÃ½)>:
the codec doesn't do any auto-detection and expect comma separator. You can switch to a different one with `load-csv/with data #";"`.

[16:20:25](#WFPBPFwzkN8ei2688FHPB5Mj8jYv-smlRTRzk5uLi_Q) <rebolek (Boleslav BÅ™ezovskÃ½)>:
I've been thinking about auto-detection and may try to implement it

[16:32:12](#vwW028W-3Dtkv2hmFbE7DjbeldU7Vj8exFx99aGk0ik) <pekr (Petr Krenzelok) (@pekr:matrix.org)>:
In the end, your codec seems to show identical symptoms:

```
>> data: load-csv/with {1.;;;2006009;2006009;Client name;Contracts 2022;ÄŒSA 99;City;WIFI;10.0.0.40;180;148,75;TARIF-260;0;;;;;} #";"
== [["1." "" "" "2006009" "2006009" "Client name" "Contracts 2022" "ÄŒSA 99" "City" "WIFI" "10.0.0.40" "180" "148,75" "TARIF-260" "0" "" "" "" "" ""]]
>> to-float replace dta/1/13 "," "."
*** Script Error: cannot MAKE/TO float! from: "148.75"
*** Where: to
*** Near : to-float replace dta/1/13 "," "."
*** Stack: to-float  
```

[16:36:55](#skt7_VSq7G5k12tBmAbf2T2DsWcVf0damOjGbCfND8I) <rebolek (Boleslav BÅ™ezovskÃ½)>:
Works for me, but I compiled my version on 30th August, so as you say, it's probably some newer commit.

[16:49:59](#Lzaf8tfh806JMf2I2QsCpZYd-QcwD8E-JPbo70mVTkI) <pekr (Petr Krenzelok) (@pekr:matrix.org)>:
Yeah, I always try to use the latest and (sometimes not so) greatest :-) Will stop spamming this channel and wait for the reaction to the above case ....

[17:07:08](#lCJlTP6IzQlrNkKGQ1MIA2xRq2-o8hZjEnvHZX_PlFs) <rebolek (Boleslav BÅ™ezovskÃ½)>:
no problem, if you have some CSV-related question, you can always contact me privately. Or there may be some CSV and/or codec room, not sure.

[17:44:22](#9qem9H15fJMZRGMmpJgi26XPXpFCF4QtMGclnDqlFWM) <pekr (Petr Krenzelok) (@pekr:matrix.org)>:
Yes, there is a red/codecs room ....

[17:49:30](#CkIACSY25ufGe0pflYa9AZfTsZPXe4P0Y69K14oGy44) <rebolek (Boleslav BÅ™ezovskÃ½)>:
Interesting, I've compiled new version and got the error with `to-float`.
However, `load` works: `load replace data/1/13 "," "."`

[17:49:52](#_5jm-p-1-6ZIEks1fZMNdewNQm1rC_RIygZJNM_b3uU) <rebolek (Boleslav BÅ™ezovskÃ½)>:
`== 148.75`

[17:50:34](#K_URXhCl2p1H0mEePlbjIEMzs1w90q_MqMurHdmQhyk) <pekr (Petr Krenzelok) (@pekr:matrix.org)>:
Yes, that was my finding too. Not sure what is happening, in order for the test data to work, it is enough to replace #"ÄŒ" by #"C" in the street data field ...

[17:50:54](#ksrK2uKoDpRPbpquwRYp0HZ7LCpvUkS16S6oGCNYw9A) <rebolek (Boleslav BÅ™ezovskÃ½)>:
And yes, it's related to the Unicode char, when I replace `ÄŒ` with `C`, `to float!` works.

[17:51:33](#mhYCrMgZtxOl_uzL_ELBXMV4951BNtQKpM9YNT2AbGI) <pekr (Petr Krenzelok) (@pekr:matrix.org)>:
Are you using split function in your codec too? It does some parse splitting. When you probe the resulting block, it looks ok, but underneath, there is some problem ...

[17:52:21](#myesoagcUZPDzshy0NlVld-x8IY-hJ5Fpar51r4g4-E) <rebolek (Boleslav BÅ™ezovskÃ½)>:
No, I don't use `split` as it wouldn't work for escaped characters. It's `parse` all the way down, as it should be ;)

[17:52:46](#30SZHJ-lbvsISsFu_uhAtZ-kP8drxrxeI6cCNz6dCfo) <pekr (Petr Krenzelok) (@pekr:matrix.org)>:
Well, split is just two lines of code func anyway, using parse, so :-)

[17:53:44](#4Sc8ws7nnPbTHwKvmKZRFu5_eayHVVNyIIjf-bFlXLY) <rebolek (Boleslav BÅ™ezovskÃ½)>:
Yes, there's some problem underneath, I agree, it probably reads from some bad memory location caused by the wider Unicode character, that's my guess without looking at the code, so I may be wrong.

[17:54:00](#I10wb8b6U1KMRQARoEwtoIqdGxLNiKWjoj514tAaO5w) <pekr (Petr Krenzelok) (@pekr:matrix.org)>:
Let's wait for gyus to sort it out and eventually move to chit-chat :-) I think we have kind of isolated the issue, so they can surely figure it out.

[17:55:00](#OUgyM_OkEJS4lg4LFyl20UMGjcEiKIEvF6qiw0yXqMU) <pekr (Petr Krenzelok) (@pekr:matrix.org)>:
Well, in older Red, IIRC, stuff like `to-float "123,45"`worked ...

[17:55:47](#SmKzrDdFBByhw1_p3Xsc0HQjOIWhGVW7Fscb6d1rcuU) <pekr (Petr Krenzelok) (@pekr:matrix.org)>:
Definitely related to the reservation of comma to point stuff ....

[17:56:02](#h2R2kQaGAfA7TsMy2J5BYy2IfhKLFB7MJ7z2hgMhIAc) <rebolek (Boleslav BÅ™ezovskÃ½)>:
In older Red, there wasn't the problematic `point!` type.

[17:56:52](#hybyYzvnIB0HZfzkqoG8n7mqgqevGWlLJJMmIgO_Uk8) <pekr (Petr Krenzelok) (@pekr:matrix.org)>:
It's not problematic imo, it just required the change in lexer imo. Comma is no more allowed in strings being converted to float.

[17:57:14](#GhU41NzXs2Eotqdx7etxvwwovgrShhefWpO5HVT89U0) <rebolek (Boleslav BÅ™ezovskÃ½)>:
And that's why I think it's problematic.

[17:58:42](#DoxwjuQi6YZPeYcBKsQwBy8Vki93g8kiyZ_czL0WRc8) <pekr (Petr Krenzelok) (@pekr:matrix.org)>:
The guy that introduced comma to local OS decimal point usage, should be imo put into jail :-)

[17:59:46](#rDRVrMGvQi6aptEIlaVSbtBBaPAxsubYdsbNmyjtX2g) <rebolek (Boleslav BÅ™ezovskÃ½)>:
Now we're really off-topic. However, comma was introduced to Rebol by Carl.

[18:42:18](#9yaNe932-iSKwZnrGy_s9HzNo9jvnigAtdJjkqKsjH0) <hiiamboris>:
https://github.com/red/red/issues/5380

## 10-Sep-2023

[19:54:08](#vvudjLy3nwnjjaR4HATwp7Wx_891RSpmqqHCk8JM77g) <hiiamboris>:
I don't see this gotcha documented - is it a bug or by design?
`view [box 400x200 draw [line-width 30 line-join miter box 30x30 370x70 box 30x130 370x170 0]]`

[19:54:29](#IzQlvg79nkAd3-vtwvGSw3MrjbDgoZAnGGXwXbusPNw) <hiiamboris>:
![https://tchncs.de/_matrix/media/v3/download/tchncs.de/f7277a0578bd4e2575f4f25d3853c0c54c38323a](https://tchncs.de/_matrix/media/v3/download/tchncs.de/80ee6821d66d7e04c58eba7a4ee04210606f0026)

[19:55:19](#H4qt45ihlTH_AXk1wa27l0tYF8zB-PFeQQWtSJpuFR0) <hiiamboris>:
GTK doesn't exhibit rounding

[19:55:24](#tqCCZkrK7vTuSIBmCUst-xGBBjDRsg31N9xuqyZXmdc) <hiiamboris>:
Only D2D

[19:55:51](#wCDhK9Epcd3mUFbsRauq1zMptdAP7np2Hmv70TbkMM4) <hiiamboris>:
A bug then :)

## 26-Sep-2023

[18:31:18](#hihuHT_uDJA2rpVb8xtxzWNy7TkuWJVyrxHpdEbU4j0) <GiuseppeChillemi (GiuseppeChillemi)>:
I have a function which sets 3 `face/extra/myobject/some-words` field. If one of the "some-words" of the path does not exists, instead of giving an error, the subesquent writings do not happen. I remember some problem like this in ISSUES but I have not found anything

[18:31:28](#vxL5KLmQGGUx8a55j5t5SV2rXrO8zCgCf88T1Kox5Ts) <GiuseppeChillemi (GiuseppeChillemi)>:
 * I have a function which sets 3 `face/extra/myobject/some-words` fields. If one of the "some-words" of the path does not exists, instead of giving an error, the subesquent writings do not happen. I remember some problem like this in ISSUES but I have not found anything

[18:31:37](#q2ZSak13mrPlqan2MR5-KdfNlFqBC0bwW7x6wdcL4UM) <GiuseppeChillemi (GiuseppeChillemi)>:
 * I have a function which sets 3 `face/extra/myobject/some-words` fields. If one of the "some-words" of the path does not exists, instead of giving an error, the subsquent writings do not happen. I remember some problem like this in ISSUES but I have not found anything

[18:33:48](#BxoOSpBjgSUIrCnVivn4MRQYVOQqP5UR1_R_iROIfkM) <GiuseppeChillemi (GiuseppeChillemi)>:
This is the code:

```
clear-area: func [
	face
] [
	face/extra/xyname: none  
	face/text: copy "" 
	face/extra/label-face/text: copy ""	


]
```

[18:33:56](#GlYvFtr5LnkmusyQc_Us9pplkyaP5SVW8fFprvS-FSo) <hiiamboris>:
you're not using it in `attempt` are you?

[18:34:22](#KaAM4Ds3KH0ngAq04QtBAJKHqdq2T6_oACF2Bjsjxj0) <GiuseppeChillemi (GiuseppeChillemi)>:
No, you can see the code. If the first does not happen the subsequent won't

[18:35:56](#EiZklAwLWm12MOBeBcfUCcqROUXEi1kQhAkxTXgz_pU) <hiiamboris>:
what is `extra`?

[18:36:23](#7w3qQh78Lc3iihmgC70Nx_wg-yL8CamcEuXZforcagg) <hiiamboris>:
```
>> view [button [face/extra/boom: none]]
*** Script Error: path face/extra/boom: is not valid for none! type
*** Where: set-path
*** Near : face/extra/boom: none
*** Stack: view do-events do-actor do-safe 
```

[18:38:16](#Il9vw9KvfvEUDGKMT5EBuyuwiBjSZzP9OwAxZhpgB8I) <hiiamboris>:
you'll need to find a reproducible snippet

[18:38:33](#EfFlcfEFVAvAUPr4ANADR7_uxaTMAJp4y0SPjpP-S58) <hiiamboris>:
doesn't ring any bells for me

[18:38:34](#RMU2dqo-NAgvDJZhSHnW53v_32ueTaPOsWQSNHvXHNw) <GiuseppeChillemi (GiuseppeChillemi)>:
```
	style note: Area 400x150 "" on-down [last-focused-area: face] on-mid-down [

		view selection-window	
		
	] 
	style aname: Text "" 100x20

        area4-name: aname ""
         area4: note with [extra: make object! [note-name: none myname: none label-face: area4-name] ]
```

[18:39:09](#3zeafKP6JHvFfDNaATDW_JRMRh6Z_FNT9lxjr5tUMKw) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@hiiamboris:tchncs.de> doesn't ring any bells for me

In fact I have witten just becouse it could ring some belll

[18:39:18](#b_lmF721_uAP1ZGs9jAEm0i4UuDUlVYr-vpRDr4LUJs) <GiuseppeChillemi (GiuseppeChillemi)>:
However, I am trying to create a snipset

[18:39:27](#GLHmynz39LDK06jJ43m4Hlaq1nHMk3b6VkdoP3DzADc) <GiuseppeChillemi (GiuseppeChillemi)>:
This is the code which creates extra

[18:39:40](#W0Jw8xWDuEbnxQXRQZ3tTrrWjRUaRXDcxkTROMss63o) <GiuseppeChillemi (GiuseppeChillemi)>:
 * This is the code which creates `extra`

[19:12:53](#tuGhqGwEODqAECulkXeEDU7GcbR2Q4RbiOC5hGwFXAc) <GiuseppeChillemi (GiuseppeChillemi)>:
hiiamboris: Here we are:

```
clear-area: func [
	face
] [
	probe "here"
	face/extra/xyname: none  
	face/text: copy "" 
	face/extra/label-face/text: copy ""	
]

view z: layout [
	area1-name: Text "Hello" 
	area1: Area 200x200 "My love" with [
		
		extra: make object! [note-name: none myname: "Joe" label-face: area1-name] 

		
	]
	do [x: layout [button "click" [foreach-face z [clear-area face]]]]

	button "Bug" [view x]
]
```

[19:13:41](#a4ucWP3H5jO7vOL0JeKIUdEZZ8WE8m0SYGFtctuAq8o) <GiuseppeChillemi (GiuseppeChillemi)>:
Note the error in `face/extra/xyname` which should be `face/extra/Myname`

[19:14:01](#UQ8M10u01RrWiEt1LRnQrOyPLnh7KLYq6Tu6qyY929o) <GiuseppeChillemi (GiuseppeChillemi)>:
Maybe there is a silent "attempt" somewhere

[19:17:31](#7smX3qdgwadbG7nZCoes4MvU3un8Vte8b-fHlMA_Ht0) <hiiamboris>:
`?? foreach-face`

[19:17:42](#zwPRrhM4QU5xSR9zhSNigNe2t7Bzms0tYhOuYGlk8aA) <hiiamboris>:
treacherous :)

[19:21:42](#CwwNtLW-N1atL-AMivpTkk0YPeF9feVbozNhIoJM0Pg) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@hiiamboris:tchncs.de> treacherous :)

Why?

[19:24:20](#ub7xAYonwu8j2bE6yLnJm5obu7GztQd2I3lWPS9BZIc) <hiiamboris>:
see `try` invocations there, result discarded

[19:25:13](#Bkdd75HwGfNaEPuICcmVDdhQZPnEnIk_LWlKnydVQYk) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@hiiamboris:tchncs.de> see `try` invocations there, result discarded

My eyes where focusing for `attempt`

[19:25:17](#nIxnvOXHHS2oS4kru263ypqP2m06wn1YOgxLhLvMPnE) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@hiiamboris:tchncs.de> see `try` invocations there, result discarded

 * My eyes were focusing for `attempt`

[19:25:49](#0qUe6gxN0PjDKxMj0jhVnTPwrOhXh5_R2ua717mREAc) <GiuseppeChillemi (GiuseppeChillemi)>:
It is really tracherous!

[19:26:15](#PtmDvUMhmFi_Gg9UPTntqVRvdbwv6oOW6G7g1NJkSQQ) <hiiamboris>:
I feel you dude :) it's hell to debug things like this

[19:27:28](#9w_RlgGINHEqxov0_Ks7A_6e_TxnOatMYRPevZYNfxU) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@hiiamboris:tchncs.de> I feel you dude :) it's hell to debug things like this

The good thing is that I have started suspecting `foreach-face` really soon.

[19:27:29](#jmwmafmZKKJ7bWQ84htLBPV5nmPh3NVQ15qNul9wKLo) <hiiamboris>:
I don't know what's the status of `foreach-face`, if it's considered an internal detail, we can't report bugs on it

[19:29:16](#RsBArQwczfowde2OxhmPbf-1DxvezrzLzyJKq01isv8) <hiiamboris>:
Just copy it and remove `try` if you're afraid of encountering any other issues like this again

[19:31:00](#4Gg8E19Gw0v0oSLEs5p0PODq-erlu-_7Zm1oWx3OESY) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@hiiamboris:tchncs.de> Just copy it and remove `try` if you're afraid of encountering any other issues like this again

Once you know him it isn't anymore a danger. Also, code in my `foreach-face` is very short. However, thank you for the hint. 

[22:08:53](#jdAk9jCo3rpgwgyRDREP5J3er-P-z9JOtwM5tYKMFpE) <GiuseppeChillemi (GiuseppeChillemi)>:
This in an `insert` on head of a string which is also as `face/text` of an `AREA`

[22:09:02](#Or-ZJjYE49U2FCYskjJ5oKRF3bjF1hBw9zsgDk5OcaI) <GiuseppeChillemi (GiuseppeChillemi)>:
```
*** Internal Error: not enough memory
*** Where: on-change-facet
*** Near : on-face-deep-change* owner word target action 
*** Stack: view do-events do-actor do-safe select-and-store add-word on-face-deep-change* 
```

[22:12:30](#ZjBCF51_l96r3JPhlvcINAqrae4lOzfVlZve88InckM) <hiiamboris>:
also doesn't ring

[22:18:00](#LlxnoJtHHRVumXh6QMqYAxwtmZjfHV477KFyNIxrT5w) <GiuseppeChillemi (GiuseppeChillemi)>:
I am trying to reproduce it...

[22:18:05](#hZvPegdRj1GoDdxXpTVzauhLN2olOqtEA6fORR7aqGQ) <GiuseppeChillemi (GiuseppeChillemi)>:
Here is another problem:

[22:18:11](#zfEJTRtA5DUBatDCQ8ifsqGQlUFHtPIOWfuUR_SRgy0) <GiuseppeChillemi (GiuseppeChillemi)>:
```
loop 1000 [
	line: "test-testlgkfnrwekerghfeirjhkgliuewrhgliuewlhkgrbffvukjebrliukerbvkiejrhbekirhvb^/"
	append lv line
	append str line 
]

view [
	area str 400x200 
	area str 400x200 
	area str 400x200 
	return
	area str 400x200 
	text-list 400x100 data lv	
	button "BUG" [insert head str "questo piccolo grande amore^/"]
]
```

[22:18:35](#O8RJZ1zKTt0I6yyDubuPYEScn6xgHhnSlWnPJO_ow3s) <GiuseppeChillemi (GiuseppeChillemi)>:
If you hit "BUG", only one area is update

[22:18:38](#A-OVdL7OoZVDAF-neEwu1G73TLG3Wq3W4O_l_fA6bug) <GiuseppeChillemi (GiuseppeChillemi)>:
 * If you hit "BUG", only one area is updated

[22:53:00](#b_e8UBOv6vG5M0d4njyJJwc8Ux-wDP7b2qM8TV0tG7c) <hiiamboris>:
it's not a bug, single owner per series

[23:09:17](#JZfmDu7aXDwjLeTu1iP_sMuKLK011lBanEGhVkx_TUg) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@hiiamboris:tchncs.de> it's not a bug, single owner per series

Ok, here is the "NOT ENOUTGH memory generator". I have assembled a script which show the problem:

[23:09:19](#nCGQ-abcid00JcnxAbu7JYsCgGeMMfDOcdRwVxtvJZU) <GiuseppeChillemi (GiuseppeChillemi)>:
https://gist.github.com/GiuseppeChillemi/fa86ce950459120e8bda1419da4c2319

[23:09:42](#Cc5Ft0aNbp0fUoFAvxgPtPmYR2BlA8dq6-daC59wlc0) <GiuseppeChillemi (GiuseppeChillemi)>:
Click continuosly on the text list on the bottom right

[23:18:42](#cDYpo5ZOVOo3s6VlKB_ifvTmW0ke6T4cHdEnpDGb1Xw) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@hiiamboris:tchncs.de> it's not a bug, single owner per series

Owner is the first? 

## 27-Sep-2023

[8:03:46](#x_9RoHaOepxHd2HtmgdVg9erny13O92ZjNBuWDnMQco) <hiiamboris>:
Last

[8:23:22](#KQ1w3AdiHeZVUgOyvoAqBCPbqCqH6k1BXFyZDunnQvE) <hiiamboris>:
> <@giuseppechillemi-59045d00d73408ce4f5bcd9d:gitter.im> https://gist.github.com/GiuseppeChillemi/fa86ce950459120e8bda1419da4c2319

anything smaller?

[8:29:43](#Dl4z078sSVwJ9IwDGjF40KnSAgnI7A3Wh1Nul5G3YSU) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@hiiamboris:tchncs.de> anything smaller?

I have tried to build something smaller with no success. I Will try again today cutting elements from this. 

[11:28:37](#VgzE_YB-ennuB_mvzPZgHHbg4yv_kpaFy8ERygrgTcU) <hiiamboris>:
it's not crashing on me, but eats up CPU quite heavily

[11:29:38](#V6URwd42AgmjeznIbO7hkvbNweNi1aJ_36Am9S4ZpTo) <hiiamboris>:
I see the message in GUI console, but not in CLI

[11:39:17](#jg_D7FD3SSnRKaLB8xckHi02bYu4OEldPdynt_oOoUM) <GiuseppeChillemi (GiuseppeChillemi)>:
For "crash" I have meant this no Memory message. Sorry for the wrong terminology 

[11:41:16](#idqLAfBqusAVtrvzxwkUb-mzHw4M0ByujBoys7uAD0I) <hiiamboris>:
IDK why I thought about crash, was late yesterday :) anyway, awaiting for a much smaller and less convoluted snippet

[11:41:46](#5Y5VKmuu5afECEzA9dAKS2umwVg49pB0D27AkchCJEU) <hiiamboris>:
tried profiling it?

[11:45:18](#aPx0mEtwDBkjyUQS8BRsKL28qVgrGwxe-KteLgDhQU8) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@hiiamboris:tchncs.de> tried profiling it?

Using what?

[11:45:38](#e6aSlIXSFBztDZZDKr2YCul35_jbhhAbhCRTwWavZuk) <hiiamboris>:
`profile`?

[11:47:41](#vKpql08iLNJiLKxoo1PARYeMjaquVEDaGc0neogCacc) <GiuseppeChillemi (GiuseppeChillemi)>:
I will work on this in an hour.

[12:03:20](#p_YiwmebDLkbt5YupS0SYKqk53QcUUpH_aXbEIthIl0) <Oldes (@oldes.h:matrix.org)>:
`Internal Error: not enough memory` will be because of some recursion, where you still extend some series... it will be some side effect of a reaction.

[12:19:54](#U_7hNj3TDadpdgIP43BFufKlkefipNVKfXyiwAyVpws) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@oldes.h:matrix.org> `Internal Error: not enough memory` will be because of some recursion, where you still extend some series... it will be some side effect of a reaction.

Yes, you are right, I have found this a couple of minutes ago:

[12:20:04](#jbQ_bOPzihFUyZ2rF_KElBxFlnWLXuSzd9Dmj61Re04) <GiuseppeChillemi (GiuseppeChillemi)>:
`insert head target rejoin [target newline]`

[12:21:30](#Uvs7Rses2Mfhy2C3uBTwaEINF5z06w0R_tw4y6nE9Nk) <GiuseppeChillemi (GiuseppeChillemi)>:
A string was inserting to itself the same 10.000 lines string. 10 insertions where enough to hang everything

[12:22:13](#ydgXAKttwh1Nte7DbVqLudJPmX4tMcNVp-knehpZj0s) <GiuseppeChillemi (GiuseppeChillemi)>:
 * I was inserting a a 10.000 lines string to itself. 10 insertions where enough to hang everything

[12:22:17](#Q6U4H7QhtBfS7-bV4HO9NWyd72cghV4fz1SxryBlBvk) <GiuseppeChillemi (GiuseppeChillemi)>:
(Modified)

[12:54:16](#k5QvehzA6gq3xXNsEicVORL2f-Quu76ocfN7mxLOgMQ) <GiuseppeChillemi (GiuseppeChillemi)>:
Just for my coomprension: a 10000 characters string is made of 10.000 `char!`?

[12:54:43](#9iSbXmqSGq1d_Zd5BMpTAAmPOHyGiJ8yoaOv-wFTDCk) <GiuseppeChillemi (GiuseppeChillemi)>:
 * Just for my coomprension: a 1.700.000 characters string is made of 1.700.000 `char!`?

[13:02:11](#8LjY3xRzqY1FJ4Frb73S8eCNKs7YsE_-2uVzRmc3M6k) <rebolek (Boleslav BÅ™ezovskÃ½)>:
yes

[13:51:25](#uyAUV_B_7jc4nx2o6_Cck9r-r9sRUUK9reJVrF1zX3o) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@rebolek-5565a4bf15522ed4b3e100bc:gitter.im> yes

So an insert means doing at least 1.700.000 moves + working and the structure that glues everything together on the 2 strings...

[14:44:19](#hbY8Um7NSM2pZJ0TNYd1uypP9MtbbTaGUnk3Grj_iHc) <hiiamboris>:
that's how arrays work, yes

[17:24:36](#QNkZqNg8dk7xpzy-jGc3N1i82URJwZdUdNCNbQ5hY8Y) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@hiiamboris:tchncs.de> that's how arrays work, yes

I remember having read about a new type of string in Red

[17:38:35](#0IcxJkbNsH82vDIhrsYNgkJUetOIUb9thFE_whNqDxU) <rebolek (Boleslav BÅ™ezovskÃ½)>:
what new type of string?

[21:03:59](#b3QyfEIejcQnj_ZjXzrI7oP-Du4UZh1W0hqEZ_7K2V0) <greggirwin (Gregg Irwin)>:
The newest string type is raw string syntax, but that just lets you avoid escapes in strings. Once loaded it's a normal string.

## 28-Sep-2023

[7:06:28](#sDw6A6sEW_YXpakY9PRNu0l996_JS9HOBLf7k3hxy4A) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@greggirwin-55659ddb15522ed4b3e1006f:gitter.im> The newest string type is raw string syntax, but that just lets you avoid escapes in strings. Once loaded it's a normal string.

Do we have documentation?

[9:00:24](#9cCvOohsKwr8PWyBlRrY_I5PqKhkIs48GduKuuBv0Bg) <hiiamboris>:
doesn't look like we have...

[12:06:43](#EDVr4pQ7vPirQfDEvCfyVF8UUxuJWo1Tcets8KOIri0) <dockimbel>:
It's documented in the related blog post.

[12:11:21](#4HVoq_t0bBCGOJ_BtdF3EEwmUXaA5z0B4AhhV3AJ6Do) <hiiamboris>:
I haven't found it using `rawstring` and `raw string` queries

[12:59:56](#e08zY8NwBDk2joNQ6xUCufcfSto6HKLlYp1as7MctLs) <dockimbel>:
Can't find the blog entry either, though I doubt we missed mentioning it. Anyway, it's documented in the [Lexer doc](https://github.com/red/docs/blob/master/en/lexer.adoc#61-raw-strings).

[13:14:50](#Z5Dt60_OleLj6u7AozWbms4zz6yROYzZ8PLEPtR681g) <hiiamboris>:
it should be in string! datatype doc too

[13:15:29](#cN5ppVIpL-bEOoWKdNrtfPr3LwnvfSdrMKCUh-tAC_I) <hiiamboris>:
or rather - in string! datatype doc *instead* of lexer doc

[13:37:03](#jnrzHb4HLb7t2KDNVgbIyGD83UiHplCeTqmGnbq8yt0) <dockimbel>:
I generally don't endorse most of the content under "datatype" (except the couple ones I wrote for map! and date!), as it is of (very) poor quality (they are mostly placeholders until we get a proper documentation).

[13:39:32](#dLk5J_VqNc3bEio72L67rD7BRR34L7Keh9YrgcA1w6Y) <hiiamboris>:
but it's a lexical form of string datatype, so IMO the most relevant place, at least I started looking from there

[13:40:53](#MWIuQYUyT5wcygOOIBB9UB45EUBrrmidGmF8pD59C1w) <hiiamboris>:
let there be quality mismatch, but relevance is key to organizing docs

[13:43:20](#YhlZEV7_hvEDScNkO6h7f7QhbBrCIIF8AXACQ2S1qoo) <dockimbel>:
As I said, I consider those parts "placeholders" and not real docs that I would endorse. Anyway, if someone pushes PRs to add those infos, I'll merge them.

## 2-Oct-2023

[15:53:38](#-nqXw5g_Fk1KNzE3R3ONzMaaovOc0Q3WJsw8bgGcrAM) <ALANVF (theangryepicbanana)>:
lol apparently if you use `binary!` as the first argument in `swap` like this it just crashes ```red
swap #{1234} ["a" "b"]
```

[15:53:55](#pOSTld8Yjg8WtpF7-qgT5u5KYC1ohe2ByBR3Zgev8iY) <ALANVF (theangryepicbanana)>:
 * lol apparently if you use `binary!` as the first argument in `swap` like this it just crashes
```red
swap #{1234} ["a" "b"]
```

[15:57:21](#VOzvr95ZAAqQHe-3BwjCC-TFvk2Hi6dUwfqYyKKd2aM) <ALANVF (theangryepicbanana)>:
ah apparently that happens for any type you mix and match

[16:00:09](#YUB0AdSLfbOTPk0RmJzCAWjFhwikU0-ZY8ZZBc4Vgeo) <ALANVF (theangryepicbanana)>:
(as a side note, the `block!` implementation of this is kinda weird lol)

[16:52:33](#KR8nUsD58xFt8oGGBTLOlJsBDUYMbCvnnj45ymL2ZcE) <hiiamboris>:
confirmed, please open a ticket

[16:58:01](#Dzih7DZFmoJj4dPReACMBeyXJLbeOeJbfihuTZTn0AM) <ALANVF (theangryepicbanana)>:
will do that once I get back home í ½í±

## 3-Oct-2023

[2:44:14](#4rDoGcgZVjYgsH0Z1I0RQOJyCZ3Aj88JZq37VX0EyNs) <ALANVF (theangryepicbanana)>:
issue is now up https://github.com/red/red/issues/5395

## 13-Oct-2023

[2:33:31](#1twuouoEOuLDVp5fYAfqDDnJ-LHnKw4NXjYe053gBhc) <endo64>:
```
>> c: head move tail a: [1 2 3] tail b: [4 5 6]
== [4 5 6]
>> same? c b
== true
>>
>> c: head move a: [1 2 3] tail b: [4 5 6]
== [2 3]
>> same? c a
== true
```

`move` returns first series if it is not at its tail, and second series if it is. Is this intentional?

[2:34:25](#o-1wOjR09Dl5tTZC4WbooTunu_Coz5_1AocUPyTVE10) <endo64>:
 * ```
>> c: head move tail a: [1 2 3] b: [4 5 6]
== [4 5 6]
>> same? c b
== true

>> c: head move a: [1 2 3] b: [4 5 6]
== [2 3]
>> same? c a
== true
```

`move` returns first series if it is not at its tail, and second series if it is. Is this intentional?

[2:56:13](#r9uWiKSAAhOnsvRsb-rORLP083m4HOZPBpwZntAztC8) <ALANVF (theangryepicbanana)>:
I actually just encountered this. looking at the source for `move`, it seem to be intentional, although I'm not much a fan of that behavior either

[3:23:33](#0UFg5643toywyR779OJ3qgmSLWq8K69z6kRQMTUg7v8) <endo64>:
It is unreliable in this way, I would prefer it always returns the second series.

[8:14:19](#R7_JxIimvGjDeRdgnwoWb5quIF2mgXfF5j_plOfo89g) <hiiamboris>:
move has a lot of issues https://github.com/red/red/issues/3527 but I don't think this one was ever reported

[16:22:18](#udfNcOw5SDCw8U-IeUMsoNksj393mIFmzv59l7k5WGQ) <endo64>:
You have commented that behavior, in #3527.
https://github.com/red/red/issues/3527#issuecomment-546393323

[16:27:08](#BcaLEDxLh4OI2ykZiXmckaGQyRWrbGyluj5hkvhVzRs) <hiiamboris>:
oh í ½í¸…

[16:41:10](#9oyOdOt3N_sRX3QC2IvljiDmUA_pqlbHxUXBbPqSpbo) <endo64>:
But I still think it could be better to fix this individual bug, without waiting to complete rewrite `move`.
Because 1) this could easier to fix 2) `move` is unreliable otherwise.

## 14-Oct-2023

[13:42:52](#4BHKcTqYil9GRxCNBnswzGNAaXFPgP68Xdy_jHJft5I) <dockimbel>:
Fix pushed.

## 19-Oct-2023

[18:10:54](#7KTDm1GfZsRQrca7YzH6tqUCOcz7jbHtu5ghznEPcU4) <dsunanda (dsunanda)>:
Red on  Windows seem to lose track of WHAT-DIR location when there is an accidental backslash in a CHANGE-DIR:

```
make-dir/deep %a/b write %a/b/file-ab.txt "file a / b"   ; create nested folder with a file
make-dir/deep %c/d write %c/d/file-cd.txt "file c / d"   ; ditto

change-dir %a/b
print read %file-ab.txt            ; print the file in folder a/b. Works OK

change-dir %../../c/d
print read %file-cd.txt            ; print the file in folder c/d. Works OK

change-dir %../../a/b              ; print the file in folder a/b again. Works OK
print read %file-ab.txt

change-dir %..\..\c\d              ; <-- typo - use wrong type of slash. Seems to work OK
print read %file-cd.txt            ; print the file in folder c/d -- Works OK ... But:

change-dir %../../a/b
print read %file-ab.txt            ; THIS FAILS - we have not got back to a/b

; loop 3 [change-dir %..]          ; (How to return to starting folder -- it's three levels up))
```

[18:18:26](#9S3JNv2gD9zC_Og1LME6hkqv_s-6c2eUZR6roGG-yhM) <hiiamboris>:
confirmed

[18:19:15](#PnWQkeI1IEiDUWF8vRYBQmU2i5LfpoLUsXwYsJsA61c) <hiiamboris>:
```
>> probe what-dir change-dir %..\..\ probe what-dir
%/D/devel/red/red-src/red/
%"/D/devel/red/red-src/red/..\..\/"
== %"/D/devel/red/red-src/red/..\..\/"
```

[18:20:01](#qwrOWeSRIlHlORWsmIt2G-NoowN5YiLhz9kOys3AAS0) <hiiamboris>:
* ```
>> probe what-dir change-dir %..\..\ probe what-dir
%/D/devel/red/red-src/red/
%"/D/devel/red/red-src/red/..\..\/"
== %"/D/devel/red/red-src/red/..\..\/"
>> get-current-dir
== "D:\devel\red\"
```

[19:48:37](#ojRDJm52vUNwz90dWbkLcJej1FI8mdlVDM_4s7Wh31U) <dsunanda (dsunanda)>:
Thanks .... I'll report an issue.

## 20-Oct-2023

[6:38:53](#oRT_b3bycS64aSNp5PFb9_H3YJHsLW832LxH19-7XB8) <dsunanda (dsunanda)>:
....And it's fixed! Thanks - That was fast!!

## 22-Oct-2023

[18:58:14](#7OVAbDiU1eIdXCoXmwCImPm6Jl-mj817QXKXcXcb0uo) <hiiamboris>:
....And it's fixed! Thanks - That was fast!!

## 27-Oct-2023

[4:54:48](#f6n5c1IWzo3DLZw-Hld-pVYoR6GtXv_9IY80AOoybdc) <ALANVF (theangryepicbanana)>:
Noticing that you can put a variety of characters where the sign is supposed to be when creating a money value from a string

[4:54:51](#3dzgzEyRdYpXgqViGBLFTCm107EduJcdrfPgG73p8oA) <ALANVF (theangryepicbanana)>:
![](https://gitter.ems.host/_matrix/media/v3/download/gitter.im/d6adb90ff8035feae7e7b7c4a720dc5c505bf1a81717766784431423488)

[19:33:57](#iAtznjDkUh3KrGhxl0l83AW64Emwg_466NE7G1F6mQo) <greggirwin (Gregg Irwin)>:
Confirmed. Please open a ticket. Its `from-string` function is doing its own scanning, and is too simplistic.

[21:58:44](#gUqDYwkUlwj7DX4McQ4iNDN5FLFkEWCTqUNuew4tkcY) <ALANVF (theangryepicbanana)>:
Done: https://github.com/red/red/issues/5415

## 7-Nov-2023

[17:05:09](#TEasC3l4Hp8r2kMJqeAvDKnlcHPvcKu-KkR6_37unTE) <hiiamboris>:
Is this by design that `forall` works like `loop`? In 0.6.4 it worked like in R2
```
;; R2 & Red 0.6.4
>> i: last s: [1 2 3 4 5] forall s [if even? s/1 [append s i: i + 1]] s
== [1 2 3 4 5 6 7 8 9]

;; Red
>> i: last s: [1 2 3 4 5] forall s [if even? s/1 [append s i: i + 1]] s
== [1 2 3 4 5 6 7]
```

[17:11:48](#t0WvGL4HZ6MYEcnS-sTiN7D3Hdpam2fCiUG5xShn-bQ) <hiiamboris>:
Have to resort to `while` instead.

## 8-Nov-2023

[11:47:27](#hToLfrRCQFYiz-kVpHunmtYLdsUh_MsmrxlQ-za1-rA) <dockimbel>:
Previous behavior looks more useful.

[11:47:54](#R3OYgVz5w4MArPeSY4Gmo3aFP2xlEfUnqn66xf38b7Y) <dockimbel>:
 * Previous behavior looks more useful. Not sure why this change happened.

[11:58:19](#gpn6NlLH-y0tOYYylAessoi7IP3pRCI_a09UkeoM4FU) <hiiamboris>:
I'll open a ticket then

[12:16:05](#7ThpNoIiGmvPRWc-j6hnJs7eZBEKIkFTaWqMIHjVHBo) <hiiamboris>:
https://github.com/red/red/issues/5422

## 14-Nov-2023

[19:42:36](#arb7n2CdBQBAPF6evhCc0ynZt9s0Ccrizl-DUsBJNf8) <hiiamboris>:
is this intended behavior?
```
>> f: %""
== %""
>> f/1
== %/1
```

[19:43:12](#cSohOgUzX48difyi-YarSDbznnfHkqyU71xjdgLRCTM) <hiiamboris>:
`%""` is kind of 'here', current working directory, but the result it produces is in root

## 15-Nov-2023

[19:54:19](#Cp7lyHPPUmgV1E0Cw_JyO83O9_aioDZnt7ZWEAcH8ek) <greggirwin (Gregg Irwin)>:
Tricky question. I don't think I've ever tripped over indexing into `file!` values. As for empty files, I can't imagine what else it would return, so that makes sense. 

[19:55:45](#3WzOW7CB3YmrkWld8esO6lLfc5ITSA6ryrFf4tiBdUk) <hiiamboris>:
it could return `%1`

[19:58:56](#oJsU1Z_wVj3_szc-UuuEzEv03cevzRGS_n-BobrnQes) <greggirwin (Gregg Irwin)>:
How is that better?

[20:01:06](#WmFQm4uq28hWbc_XrtOv-v6idxD4nOFb9rp-uXip8jA) <hiiamboris>:
just makes more sense: if there's no directory in the path, don't change it

[20:01:17](#MRKZ8LD6qEVGHZk1U5wD97auMYTdPcLHHNX9jpp_XxY) <hiiamboris>:
least surprise

[20:02:17](#yynUF-AvjoU_Rb07vO4P_D4LSkdzy2Nxalb0LIGGhOs) <Oldes (@oldes.h:matrix.org)>:
greggirwin (Gregg Irwin): just imagine something different than `/1`.. like:
```
>> f/some.txt
== %/some.txt ;; probably don't want to be at root
```

[20:05:55](#WxbHHIR8jFmdP8ih9gejRB6ANvHaYzXerPkaLkFxObQ) <greggirwin (Gregg Irwin)>:
But by using `/` you are saying it's a path, relative to the base file content. If there's no base it's root, right? Right now empty and `%"/"` behave the same, so there's handling for that.

[20:06:56](#bnyQIlljuGL_UPI-UjdmuENcpIRN2aGy2xlTMGtYyyA) <hiiamboris>:
> If there's no base it's root, right?

wrong, see above

[20:08:00](#3iomLl_DoZLUz4vgfcVJ-S-SAnT5pfqkVCiZhX_0IGg) <greggirwin (Gregg Irwin)>:
So it should produce `%./1`, not `%1`.

[20:08:42](#zixKMokLOzhhwzyWtFPniS3W-UXij8eHmGmc7in9mg0) <greggirwin (Gregg Irwin)>:
If you interpret empty as "here". That's the open question. 

[20:08:54](#kwALp2JI2yjZ8bIhoFo1S8ARqgedYrGttE7QZLPzRKc) <greggirwin (Gregg Irwin)>:
 * If we interpret empty as "here". That's the open question. 

[20:09:30](#AuFCa-8rZDt4P9p3rIdxNlDgoFe8_cA9X2M2NYzKwxI) <hiiamboris>:
equivalent, yes, but that behavior we have from `f: %./`

[20:10:28](#RfqP30PYnaKO7pV77nPOKPiX6Fb9JDyZRJXRhh9ItVE) <hiiamboris>:
when you work in the shell, incl. Red as shell, you don't write `read %./myfile` right? you write `read %myfile`

[20:10:44](#pwuwUadxOm4eJzST9PAI6pPkDfWlA1Z3iY1npkY7yNM) <hiiamboris>:
which gives meaning to empty path

[20:12:02](#viS3jeZQY5qhjC-9qkQmDnLgZEKFe6djc622ncW_Jto) <greggirwin (Gregg Irwin)>:
But your example is like `read %/myfile` which would correctly be root.

[20:12:55](#6_UVmmbyJxGNIqFl04B3pNyBOdYeZ3h-yhsmv9RY1Es) <hiiamboris>:
> is like read %/myfile 

how so?

[20:13:02](#4ZBGSg7nUrS-Lep0fn9ps7nasCucNROlJHlcrtZqXyQ) <hiiamboris>:
* > is like `read %/myfile`

how so?

[20:16:54](#6Ahui9NN4XRjTPgeopXfAGALixUSygzWu0Ro8HtENbU) <greggirwin (Gregg Irwin)>:
Because you're writing it as a path.

[20:19:34](#QGzX0YB9rrBIM_oHkN3M-2KFiDnQRRg3arD0xndea7E) <hiiamboris>:
but I'm not writing any clues that it's a root-relative path

[20:20:41](#0s6rWr8VNyqLKECajHtNXt6tOOCF54cARUqF58-g3wg) <hiiamboris>:
I want to add file to a path, whatever it is

[20:21:10](#ea_wb9USA1KpeEDEB0-pmbAxjPPBdjqRMwy_mnUdKpE) <zentrog>:
There's an ambiguity between a relative path that starts with a file that has no name, and an absolute path. Maybe there is value in allowing a file with no name, but disallowing `%""` would solve this issue. That starts getting into OS constraints though. Red probably shouldn't worry about invalid filename characters, right?

[20:22:43](#1M3632Fk7bJRzOr30rcKAtfYT-WrNXSUj-rC83DcYyM) <greggirwin (Gregg Irwin)>:
> <@hiiamboris:tchncs.de> I want to add file to a path, whatever it is

Then why not append it. 

[20:33:49](#Hak6fEUtwI7HJ6ZSW8Ua8qaDTT_X5gVJUAL3KN_rmJ8) <hiiamboris>:
because append is dumb in relation to slashes

[20:37:40](#iMt5EYBPZ-DpJ3bfiyvXs2oh-hBvHsOmvRufiRedwiw) <hiiamboris>:
and
```
>> clock/times [append dirize p n] 1e6
0.81 Î¼s	[append dirize p n]
== %path/name
>> clock/times [p/:n] 1e6
0.36 Î¼s	[p/:n]
== %path/name
```

[20:40:15](#MRIJ_osD2s_LCVM3E5H6Q8Y7Lxi5uSzVFADx12Kz-54) <greggirwin (Gregg Irwin)>:
Boy, those microseconds really add up when you're creating a million filenames. ;^) 

[21:04:18](#a3wPiHdbN00f5F6qclDH-jgdS4ib4kFUQ211UEylNu8) <hiiamboris>:
`c:\windows` alone has 196755 folders and 463351 files ;)

[21:07:45](#SOu_usTR-XURZ2oJPql-ybNParBWlDS3SarcvnFFsJw) <greggirwin (Gregg Irwin)>:
And what percentage of time working with files will the name manipulation account for? 

[21:08:38](#NXt3hinm7CpmKNUolRacUZT6uQ8-Rep_aFqYjN0SoDg) <hiiamboris>:
depends on the use case, maybe I'm searching for a single file among those?

[21:11:18](#HJ6GqvTeeSPH8bZIL07jjkLdzoNzaenGZXwq0q6T6Bg) <greggirwin (Gregg Irwin)>:
Right. What's the use case driving this million-file question, and will 0.45 Î¼s make a difference? And in that use case, does file pathing work better than treating them just as strings? 

[21:16:47](#V7Gc7LijIP1XekqQVsV1RL1Z1lu4sffaU7msITsdGkY) <zentrog>:
Aren't the `append` and literal path construction having the same behavior regardless of speed? Or was the point that you need to add `dirize`?

[21:42:15](#2rzxAkAgYzbCZzkAVBTB6maegNgXSshks460How6FOg) <hiiamboris>:
the point was to use simpler and faster and hopefully smarter code, otherwise why have it

[21:43:02](#oXGmIRu45bj8Lb57FtIPhkH3Neq7HlvOyNoUIF-5wMw) <hiiamboris>:
anyway, you're nitpicking already greggirwin (Gregg Irwin), the original proposal was about doing the most useful/least surprising thing, that's all

[21:49:00](#jzwnEkTOILzuKTpjVy33IhQkk0ZcrCDdo9V4Hn7_u4E) <greggirwin (Gregg Irwin)>:
You were the one who brought up performance. :^) Maybe dockimbel will chime in.

[23:00:04](#BiWIZ4HyCiLHWallpKMdZGUWY51Xya7OxhPdwBYFREY) <endo64>:
I recall that this was reported before I couldn't find it on github issues.
`request-file` changes the current dir of the process silently but doesn't update `system/options/path`, so `pwd`, `ls`, `what-dir` still try to access the old dir and fails.

```
>> pwd
%/C/Users/smoldibi/
>> get-current-dir
== "C:\Users\smoldibi\"

>>  request-file
== %/C/Users/smoldibi/Downloads/test.txt

>> pwd
%/C/Users/smoldibi/

>> get-current-dir
== "C:\Users\smoldibi\Downloads\"  ; <<<<<
```

## 16-Nov-2023

[0:32:18](#3SlHOy9wbaUapzWrxurfsZ5digufKGwcAeGywRgRGC0) <endo64>:
 * I recall that this was reported before I couldn't find it on github issues.
`request-file` changes the current dir of the process silently but doesn't update `system/options/path`, so `pwd`, `ls`, `what-dir` still try to access the old dir <del>and fails</del>.

```
>> pwd
%/C/Users/smoldibi/
>> get-current-dir
== "C:\Users\smoldibi\"

>>  request-file
== %/C/Users/smoldibi/Downloads/test.txt

>> pwd
%/C/Users/smoldibi/

>> get-current-dir
== "C:\Users\smoldibi\Downloads\"  ; <<<<<
```

[8:47:52](#zRpkqrKmj_Th70JTmI3_DucTYAXkw3sFGbLpicowjZI) <hiiamboris>:
Reported was change-dir with backslash

[10:50:39](#PGxXOWYuoaQPRdu3OPp6EqEV3A5MLiJQBgVqoC1UeZE) <dockimbel>:
> <@greggirwin-55659ddb15522ed4b3e1006f:gitter.im> You were the one who brought up performance. :^) Maybe dockimbel will chime in.

I don't have a strong opinion about it, I'll go with the consensus.

[10:51:11](#0-W-XQUkinT6XlTWQFtPc42uNCbgCDFSyoeeCXLesuM) <dockimbel>:
Open a new issue if you can't find it.

[18:35:18](#ZQCojck91SbkEiYRU_oeBYnGdIv_E7epczf3Ns88XMY) <greggirwin (Gregg Irwin)>:
Here's my take. If you use `f/name.txt` syntax, you are saying that `%name.txt` is relative to `f`. If `f` is empty, then %name.txt _should be_ in the root. If you want it relative to "here", as hiiamboris expected, then you need to say where "here" is. e.g. check if it's empty or init to `%.`. 

Cast your votes.

[20:48:31](#zXndVYZJmPOdmYSCbRjCVnobBei9DVyBBQTrLlTUkNs) <greggirwin (Gregg Irwin)>:
The reverse question is, if you use "here", how do you spec a file in root?

[21:10:58](#yAMc8YY2_vuc9UjkTZgGlQkL_5QuuMLbSsR9G1zjUpA) <hiiamboris>:
obviously by setting path to root: `f: %/`

[21:15:54](#dlud0-PMRhk5NCrDa8YQkf1pQMVXbpFxuD_g82fVDqc) <greggirwin (Gregg Irwin)>:
So, just a different choice than setting `%.` for "here". I think setting `%.` is clearer, and empty meaning "no path".

[21:16:47](#GrRwfZKQ1FLk7lkSIKHGN9Me7KyteXKtswV22q7L_g4) <hiiamboris>:
a 'no path' means 'here' everywhere I know

[21:18:09](#_5wcwzaDYOA6EemrAmqLJn_D8pbq7x4gSKEFONwQgl0) <hiiamboris>:
with maybe a bit of a twist on linux that does not look up binaries in CWD

[21:24:50](#5-lron59iZmRFNKBpLILTXpU_rA6UkTJr8oU9FBEMgM) <hiiamboris>:
similar design area:
```
>> dirize %""
== %/
```

[21:35:37](#SR6xtXXg8TNsCPhR1VNEEvFzWdffX8hjtkyLMkdvhe0) <greggirwin (Gregg Irwin)>:
> <@hiiamboris:tchncs.de> a 'no path' means 'here' everywhere I know

But, again, you're not saying "no path", you're saying it's relative because you're using path syntax. We're just not going to agree about that though.

[21:46:11](#EmD_9whGxihoiQanXGX-0PKhpbvmkm-GRDXnDoJNARU) <endo64>:
Submitted #5427

[21:53:32](#7E5TiYLbdyAnorjK5TkFicqLQuh1_n7A0bnq5Cet-qY) <hiiamboris>:
okay is this expected then?
```
>> dirize clean-path %""
== %/C/Users/1/
>> clean-path dirize %""
== %/
```

[22:34:58](#uI-hw8w6S4_Nn3y1jkaJlxn7KI-oJAvLlAaoVPQ8FH0) <greggirwin (Gregg Irwin)>:
```
>> dirize clean-path/only %""
== %/
```

[22:36:01](#gHbjF6MxZsdE1f0VlRas7Vwn3Z9jUlAEX-9P82giWps) <greggirwin (Gregg Irwin)>:
And `clean-path` as /`dir` now as well. This whole area deserves a wiki page. 

[22:52:18](#evBJ-jJ3KQZX0Lx7RPDZrc3MAlQra797Zzxii_V1eqo) <greggirwin (Gregg Irwin)>:
 * And `clean-path` has /`dir` now as well. This whole area deserves a wiki page.

## 17-Nov-2023

[8:57:42](#5oQ9npnJDPT07FpI2QLQPCtDRTwVwegVYWqTCGqzkx4) <hiiamboris>:
And there's also normalize-dir :)

[9:14:07](#1bYiCx-7oaaYDQueIAQ94clRWd4IOro2UMKNode5tzE) <Oldes (@oldes.h:matrix.org)>:
I believe, that it is more usual, that you want the file in the current directory and not in root... actually in Rebol the initial script security was, that script is not touching anything outside the initial folder, if it was not allowed. 

[18:14:46](#mDmHvFwMRdfAjc-xo-BSRSfnmxQ8ybii8UR6HTUQ--A) <greggirwin (Gregg Irwin)>:
Oy. I must have forgotten about that one. Which says nothing about supporting local filenames. Interesting that it doesn't support strings, and while `file!` values can contain `\` I've never seen anyone do that.

[20:15:59](#ffY83atpSY7YMwpoc-CCvfz1zLrHRtbh1E-Fs7ZCQlk) <zentrog>:
I think it only really makes sense to interpret `%""` as 'local', or maybe better make `%""` an error, as it is really non-sensical to have a file with no name. It can't be a directory because the shortest directory name is "/". I don't know how it could be created, but what would be the meaning of a `none` file?

The thing that bugs me about the `base/relative` becoming `%/relative` is that the slash in the path is really a directory separator between `base` and `relative`. It's also the directory indicator of `base`. Then it changes to the filesystem root when `base` disapears (because it doesn't exist). The slash should disapear as well because it is part of `base`. Instead, `base` is replaced with `%/`.

You could say that `%""` is being treated as an alias for `%/`.

What about this scenario? Here `%""` disapears from the path, and takes the slash with it.

```
>> base: %/one
== %/one
>> subdir: %""
== %""
>> base/:subdir/relative
== %/one/relative
```

Otherwise this would become `%/one//relative`

In this example probably what I really meant was `base: %/one/` because "one" is really a directory, not a file, but Red fixed it for me. So Red might see that you provided it with a nonsense file`%""` but what you really wanted was a nonsense directory `%""/`?? Well, it wouldn't stick the slash on the front...

## 20-Nov-2023

[9:04:02](#p1TKGs-2YtNLdHTzMEFDqBxyHGvySD-W52aZQHKHBlI) <hiiamboris>:
greggirwin (Gregg Irwin) you're outnumbered 3:1 :)

[17:26:11](#n25AdHngNZjiHZ7cJojL4rlyk3guiT7chlrMeLV7lOg) <rebolek (Boleslav BÅ™ezovskÃ½)>:
Make it 4:1, interpreting `%""` as root is evil.

[17:36:38](#UkDQjuQTvvEKVa_tA0lzAT6TrEY3T8XLODeWGBbq9bc) <gltewalt (The other Greg)>:
Digital evil is more fun

## 21-Nov-2023

[21:18:36](#0EZUbhuBEGEt41q4CBYdx4CpBTdKWuftoDVTUmfbklI) <GiuseppeChillemi (GiuseppeChillemi)>:
Is It normal that request-file changes the current dir?

[21:21:02](#3fIkMbfmX6TYDri-1GhcxdS-JEVDjMkbZ9LWJ0scQ1w) <greggirwin (Gregg Irwin)>:
They just fixed that.

[21:30:27](#BA4un8wGlecB5TTe06O_KhNOZIihXlir5N1uuYkw9B8) <GiuseppeChillemi (GiuseppeChillemi)>:
Ok, thank you 

## 4-Dec-2023

[16:06:30](#ryw0_zIJn9hztUXQGsa9-7NZ2BqOojKvGNfQb1Ridy0) <hiiamboris>:
this doesn't seem by design:
```
>> collect [keep 'a/b/c]
== [a b c]
```

[17:57:04](#Nnvf-iUmc2gQxPKVi3zgdrtWBIgJl4KDwJU2GN_j8VQ) <zentrog>:
this isn't what I expected either
```
>> collect [keep quote ('a/b/c)]
== ['a/b/c]
```

[18:47:23](#BXLZinpPIJ0ML-0s_JdPOuB0FOs5uHUODmysKWsMZrs) <ALANVF (theangryepicbanana)>:
this isn't what I expected either
```
>> collect [keep quote ('a/b/c)]
== ['a/b/c]
```

## 5-Dec-2023

[8:24:59](#RZBa5-IzJWJFYd50DcDAWdLlP7OQxn_lm4QbH5riNYE) <rebolek (Boleslav BÅ™ezovskÃ½)>:
```
>> collect [keep 'a/b/c]
== [a b c]
>> collect [keep/only 'a/b/c]
== [a/b/c]
>> series? 'a/b/c
== true
```

[8:25:59](#v--lMqWg6cF6Ar6Uryp1WWzooJuHPfMl5uI3Qe9U2Nk) <rebolek (Boleslav BÅ™ezovskÃ½)>:
`path!` is behaving like other non-string series here.

[8:43:42](#8sR0HOYkzernKO9Q9AFT6VOuwkTvi7dkF-KEGesYCRY) <ALANVF (theangryepicbanana)>:
that's still unintuitive imo. I doubt anyone is using that behavior intentionally 

[17:01:21](#R8kjOh_X5ytnrT4E4VLmlfdaeE8B51ADAaQDeLYj0Jc) <rebolek (Boleslav BÅ™ezovskÃ½)>:
But it's consistent with rest of Red:
```
>> append [] 'a/b/c
== [a b c]
```

[17:01:52](#giHNaFpX5bhTPa4w4ZGKiGLJAU8JowKs4OmYgDsMCrg) <hiiamboris>:
```
>> compose [('a/b/c)]
== [a/b/c]
```

[17:02:48](#l7L53HINiWHMM9CxYsV9XX3q9a3gTTEHSsE0MvDpQSw) <rebolek (Boleslav BÅ™ezovskÃ½)>:
That's expected, as is this:
```
>> reduce ['a/b/c]
== [a/b/c]
```

[17:04:31](#wsMQd_wnm-ym8CmM_zIbOk6B4wnKMEEK1ybHg21rCpQ) <hiiamboris>:
That's expected, as is this:
```
>> reduce ['a/b/c]
== [a/b/c]
```

[17:04:56](#JrMCD0Vd1RuwDHD0-IzcqIU4ONQXhSU5YMOIBRZT2yA) <hiiamboris>:
but it is not consistent with the rest of Red or with itself:
```
>> compose [( [a b c] )]
== [a b c]
>> compose [( 'a/b/c )]
== [a/b/c]
```

## 13-Dec-2023

[16:19:36](#TYWY60x4d4HvEZKO305DvR2bviDLM_XTq_9t_anveOU) <dockimbel>:
```
>> compose/only [( 'a/b/c )]
== [a/b/c]
```

## 31-Dec-2023

[9:24:39](#wCSpPXUwVEUviyqXvp48BgspzdTcMn2yz6REfFEWGQ4) <PeterWAWood>:
I ran some of the unit tests on a Raspberry Pi against the 22 Dec 2023 build. Should I report them here or open issues for them?

Here is an example:

```
~~~started test~~~ float
===group=== trigonometric function
--test-- float-cosine-3 FAILED**************
~~~finished test~~~  float
  Number of Tests Performed:      623
  Number of Assertions Performed: 1793
  Number of Assertions Passed:    1792
  Number of Assertions Failed:    1
****************TEST FAILURES****************

[9:36:21](#jTwj48vGsc1TJZnyzk9G8RViiUGU_wvCCU50m0GjfPw) <PeterWAWood>:
 * I ran some of the unit tests on a Raspberry Pi against the 22 Dec 2023 build. There were some failures. Should I report them here or open issues for them?

Here is an example:

```
~~~started test~~~ float
===group=== trigonometric function
--test-- float-cosine-3 FAILED**************
~~~finished test~~~  float
  Number of Tests Performed:      623
  Number of Assertions Performed: 1793
  Number of Assertions Passed:    1792
  Number of Assertions Failed:    1
****************TEST FAILURES****************
```

[10:14:49](#CeD8yUicZ8N7miB9rlwSMSo0YGcfbc1_eI7FhINTA4U) <hiiamboris>:
better open an issue

## 6-Jan-2024

[19:59:53](#g8WlcHoEuVQLchIlEhT57Hpm2c5DTMi35tDz9bhZrHU) <hiiamboris>:
I wonder, should `do/args` set `system/options/args`, or it's by design like this?
```
>> print read %1.red
Red []
?? system/script/args
?? system/options/args
>> do/args %1.red "red 1.red abc def"
system/script/args: "red 1.red abc def"
system/options/args: []
```

[20:31:12](#uHsrSdVCUd8kkrphgFuzjZYTK26wik8R0WOW_Waa0RY) <greggirwin (Gregg Irwin)>:
I thought we had notes on this, but can't find them. Since the R2 days there has been confusion about script vs options. Today in Red you can pass non-string `/args` which will show up, as is, in `system/script/args`, rather than forming them. 

Your CLI works only with `system/script/args`, correct? Are you looking to expand it to use `/options` as well? 

In any case, we should write down the design goals.

[21:02:24](#LE0O8NteK7ZE3hqUhJFnok1TdEFemsLjcwJakpIFiwo) <hiiamboris>:
Yes, total mess :) My CLI works only with `system/options/args`, because Red splits `system/script/args` for me so I don't have to repeat myself.

[21:04:54](#_bsZSQB0-oKtjXVukajR9S7DTtiKJaNZd9YM5SpXgzU) <hiiamboris>:
I was looking for a best way to run given script on startup, and thought of `do/args` as one option, but it looks so untested and unreliable that I'll find another way.

[21:06:21](#5laV12bw0YKxJR_OrrlraQaKC6Yb-LkBS0YxZ3oNWyc) <hiiamboris>:
In any case, args are split already so `do/args` way I would have to unify them without messing up.

[21:06:41](#ic120XZQNdQBNlA9qvTeipIU2koEIcY1dWbO9w4SSfw) <greggirwin (Gregg Irwin)>:
My old go-to approach was building the command line and using `system/options/boot` to get the exe to use.

[21:08:19](#LBY0VPKm4uevWur5kYQu-Bomp7rwBcpRgEyS3PunHwQ) <hiiamboris>:
Makes sense, thanks

[21:10:05](#l_2ZkeqOyx2zQ8KudYARxyGC4hjMWWiZF0_MgR2IJxY) <greggirwin (Gregg Irwin)>:
That works when you have a system designed such that a core interpreter is available, but isn't a universal solution.

[21:12:30](#AeRtItzzPY0csU2lennrHU-8cghbYS-a--JpiS_ESBE) <greggirwin (Gregg Irwin)>:
In R2, and with IOS, it was even more confusing, because you also had `run` and `launch`. Can't remember right now what the extra IOS func was.

[21:12:51](#Nk69a_Tw4AGJPVGOY-jg-ZyRKADngQgDIVEQkb4nrnc) <hiiamboris>:
When is it that you don't have the interpreter available?

[21:14:16](#OFmc9A3tFwbfK6OideUWS5QjtTCZbRAw1inVGxoOZTY) <greggirwin (Gregg Irwin)>:
In a deployment where you only have custom EXEs, which don't have an option to `do` things.

[21:16:22](#H_8j5-mqC8X9EnESS85Jwgzd5EoEcaG_bkuTRdNAQGA) <greggirwin (Gregg Irwin)>:
At least R2 had `secure` though. Even then, at least once a client didn't want an interpreter available that could be "hacked" by giving it any rogue script to run.

[21:24:56](#6onnuMef8HruSW1XmNIfPG3jbtk-z8QQGt-p9SMjpw8) <hiiamboris>:
I see

[21:31:30](#Nf3q2PHqAmS-psWApKt3_kRRfQq0lVZxGiu6tXGMyh8) <greggirwin (Gregg Irwin)>:
`start-app` was the extra IOS func.

[21:41:55](#16gmVZhNEjyCbrJekYi-Mlb8ECRnWVyujKwc9TCcvL8) <greggirwin (Gregg Irwin)>:
Which I was able to find out, because running Rebol/link prompted me to "install" when I ran it. I don't remember what that does, but a second later it was happy and I could open all my 20-year-old IOS worlds and run their reblets. Crazy stuff. 

[22:21:19](#B4o_gyqiri9TMrNOuqNAhfl9ANjqIi6ZiwHIlrVS8s8) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@greggirwin-55659ddb15522ed4b3e1006f:gitter.im> Which I was able to find out, because running Rebol/link prompted me to "install" when I ran it. I don't remember what that does, but a second later it was happy and I could open all my 20-year-old IOS worlds and run their reblets. Crazy stuff. 

Very interesting. I always hoped to see IOS in action.

[22:22:07](#yj94QShHM6ouVtQZTWm7MWhVdtcZ8deXlE7nlY-ivOI) <greggirwin (Gregg Irwin)>:
As with so many things Carl did, it was too far ahead of its time.

## 7-Jan-2024

[4:01:24](#jBK6Xzx24_4BpGyEBXV3F_hL32eXaCqCp6J4Bib628k) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@greggirwin-55659ddb15522ed4b3e1006f:gitter.im> As with so many things Carl did, it was too far ahead of its time.

His ideas must live, they are our treasure.

[4:02:19](#KaOFDC3iklh_G-tSjUV9ZRZZGbb71OJubjN_veLThtM) <GiuseppeChillemi (GiuseppeChillemi)>:
This is the reason I want to see it. 

## 8-Jan-2024

[23:34:01](#b3jpLQi7ANGlaJFmer44YJOfV1S6gHkjUkobrbIMVXc) <GiuseppeChillemi (GiuseppeChillemi)>:
When I move to a secondary screen my gui with buttons, all of them becomes crazy, loose the text inside ed become larger. The secondary screen has different resolution than the first one.

[23:59:35](#BbZuh4bB_wICm7qJMOQ9RmDeedfs2u7d0WWgC1eiXeg) <greggirwin (Gregg Irwin)>:
Resolution may no be the cause, but display scaling.

## 9-Jan-2024

[0:11:16](#cwbrAJW3fKuCysDZO6BxFW7yT1KvrDET_KdtmuIvypc) <GiuseppeChillemi (GiuseppeChillemi)>:
I think so.

[0:11:30](#ljLVnz9RROfNrCBFOS32B5HFe6moHfgJeVdnqxR7tgw) <GiuseppeChillemi (GiuseppeChillemi)>:
worth opening a ticket

[0:15:54](#afs0c3KOH9WHcY8d51sEhL2y6buCgy22DjQ05WZgZTI) <greggirwin (Gregg Irwin)>:
I don't have different display scales here ATM, but it may be that events for windows moving would have to check if the destination display is different and re-render. 

Since it remembers its location, can you close it down on the secondary display and restart it there? See what happens in the case.

[22:34:27](#-0vQRiMeGcXTLfRKc-lTy8ux_bXDsnlIOBlaGPh7Ns0) <GiuseppeChillemi (GiuseppeChillemi)>:
We have already discussed about object molded version returning a word value as a `set-word` instead word 

But paths behaves differently:

```
make object! [a: 'x b: quote 'y c: 3 d: quote func []['hello] e: 'x/y f: quote 'x/qt g: /ref]
make object! [
    a: 'x
    b: 'y
    c: 3
    d: func []['hello]
    e: x/y
    f: 'x/qt
    g: /ref
]
```


## 10-Jan-2024

[18:51:20](#qa6-U0PTyMA_fO8r2w2un4LBk7wlW_3RLH7xctbO5UM) <greggirwin (Gregg Irwin)>:
The literal path should probably be literal in molded form. Good catch.

## 15-Jan-2024

[13:37:57](#i2WR1H5sQm5vMxhRZaFhuiN-Svp9WHKopJ1jKIIJD08) <GiuseppeChillemi (GiuseppeChillemi)>:
I can break functions. The consolle have me text with *ON-CHANGE and SYMBOL! 


[13:38:18](#bQI1w3uNs8QgLPPhu1jO_2KqhQ7zhF7yVsTtSbbjKwk) <GiuseppeChillemi (GiuseppeChillemi)>:
* I can break functions. The consolle gave me text with *ON-CHANGE and SYMBOL! 


[13:38:44](#w64k3y4Wdlc7_UNtfTgdr68dMPrCRziwPVPxI7nR3I0) <GiuseppeChillemi (GiuseppeChillemi)>:
I'll arrange the code and write a ticket.

[20:47:28](#KyiPpdjTLN3qVuhf-hkXQGCQloQ7ragECavtxFyaZhI) <GiuseppeChillemi (GiuseppeChillemi)>:
I have created 2 bug reports:

https://github.com/red/red/issues/5465
https://github.com/red/red/issues/5466

[21:10:34](#tl8LWXJRRvlaX2buvzmcIriGmGyJUCqhNPZPfiVpB0g) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@greggirwin-55659ddb15522ed4b3e1006f:gitter.im> I don't have different display scales here ATM, but it may be that events for windows moving would have to check if the destination display is different and re-render. 
> 
> Since it remembers its location, can you close it down on the secondary display and restart it there? See what happens in the case.

Opened the bug report:

https://github.com/red/red/issues/5467

[21:16:31](#260YDGDRXr0Ec9Wbk0HmQaNLHi2K80M2UM3yL5w29SE) <hiiamboris>:
it is as if you were intentionally provoking Nenad to dismiss your reports by your dismissive attitude towards his time :)

[21:17:03](#x2Kn5LObDCRppuIdPnt8TeEnfJ7yKJm7MoZ45Sjx0xE) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@hiiamboris:tchncs.de> it is as if you were intentionally provoking Nenad to dismiss your reports by your dismissive attitude towards his time :)

Why?

[21:17:09](#FPv68GiK3bqemawOAoms4GE4cHz-4_eTzJW3A-380V4) <GiuseppeChillemi (GiuseppeChillemi)>:
What I am doing wrong?

[21:17:28](#ZBMawIYla7HR7_Vwm_K9yvEszWl7qeNR6Ss0nTGgPgs) <hiiamboris>:
why should he bother digging through your code to find the wrong part?

[21:18:05](#TydMfeHqZiF8khU0bkqgvxOBJTo0L9MDFOpohvsqbd8) <hiiamboris>:
do you consider it a productive way for him to spend time?

[21:19:18](#I_c_-kEE79kX-4I07QNzW63GMvzqo7U1X-Hj4mqd1AU) <GiuseppeChillemi (GiuseppeChillemi)>:
I have tried to modify the code without succes. I did my best effort. I have stripped down it to the minimal. Hey, they are just 2 function and he is the author of thousand lines of code. I don't expect he will be scared reading 20 lines.

[21:19:57](#vE9DoTYGs0asT1jtOWApddV_3FwAdxb0BZdiSqFd0Og) <hiiamboris>:
believe me it is easy tell there was zero effort on your part :)

[21:20:45](#_chuZaEReRLHm11vC5N7nBZ9l6vUZBHRShZ78JW7gTk) <hiiamboris>:
I will just suggest that you get your 200 or so lines down to 10, or I can predict the outcome :D

[21:21:24](#niccPO9ggdy5hAlqmVunae7GN3iZZxLLhDEHyKtNo1s) <GiuseppeChillemi (GiuseppeChillemi)>:
I did my job. Let we see

[21:22:55](#ZtYLxzkkbA52wZqtHQzOMizeh-n6lWge4WbCu8ljOdI) <GiuseppeChillemi (GiuseppeChillemi)>:
In the DPI bug report I have tried to recreate the gui without success. I had to strip down the whole interface, remove the inner code, so I had a minumum working bersion.

[21:23:24](#rr2opuo0rzxBbAIS-eABog5baKQCAZwWoaA6gMYLhQQ) <GiuseppeChillemi (GiuseppeChillemi)>:
They where my sincere 2 hours

[21:25:54](#m-VGWB-wG2IyXk2Q4fNsGSwxdQM-iuu1rgq3G1UMj3I) <GiuseppeChillemi (GiuseppeChillemi)>:
 * They where my sincere 2 hours of work

[21:29:17](#R0cgigHma4O-FWf4yS7URSjU_ET3RSHXcHEVNVz8twc) <hiiamboris>:
well, garbage in - garbage out :)

[21:29:23](#6RL_loEVy6MtgndGQPop_6xAo6vEMV8TCBKQuLYT8k0) <hiiamboris>:
well, garbage in - garbage out :)

[21:29:24](#NKc9wZOcmketXbfKis3gxlxVNlKyY3E_X15NQUbFPlw) <gurzgri>:
> <@giuseppechillemi-59045d00d73408ce4f5bcd9d:gitter.im> I did my job. Let we see

Your "job" would have been to create a [minimal_reproducible_example](https://en.wikipedia.org/wiki/Minimal_reproducible_example), the more effort you put into showing a problem with less code, the better í ½í¸‰

[21:42:05](#Bk7TSmMqGtpG4KPcuHWTbDiK-mSvjMuSAAQR1jzNQbY) <GiuseppeChillemi (GiuseppeChillemi)>:
Think that reducing It further could take me another couple of hours I don't have and spend this time for removing just 10 lines is a thing I can't do. Aldo, The DPI bug is something that needs to be seen. I am 100% sure will immediately understand whats happening and what Is triggering the resize bug.

[21:42:27](#KVpTh4G1qS8EM3qiAaTu4voVrYO-goZRbLu0W4nBkZ8) <GiuseppeChillemi (GiuseppeChillemi)>:
* Think that reducing It further could take me another couple of hours I don't have and spend this time for removing just 10 lines is a thing I can't do. Also, The DPI bug is something that needs to be seen. I am 100% sure will immediately understand whats happening and what Is triggering the resize bug.

[21:42:48](#ycVe5L2oz3KuJn7xaqAsw9rE0ZmrydsAGFYFSqKIEM8) <GiuseppeChillemi (GiuseppeChillemi)>:
* Think that reducing It further could take me another couple of hours I don't have and spend this time for removing just 10 lines is a thing I can't do. Also, The DPI bug is something that needs to be seen. I am 100% sure qt xie: will immediately understand whats happening and what Is triggering the resize bug.

[21:46:44](#QG7ej84-oPu-5TSebPjSJ8N_7wrwHvW8rm53K6D0Z3M) <hiiamboris>:
so the team should spend a couple of hours instead, I get it

[21:59:07](#_FKM7gIOM5CmuarJGvo9hIScA_QG3yP28wSO2r5p2DY) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@hiiamboris:tchncs.de> so the team should spend a couple of hours instead, I get it

We both make our best 

[23:27:45](#44lWBOR0kHF9g7Hsxa5pDYoVy8x_nVbKs8TdqD7_rP0) <GiuseppeChillemi (GiuseppeChillemi)>:
hiiamboris: gurzgri greggirwin (Gregg Irwin) 

I have shortened the code to few lines. Thanks to you all.

[23:27:59](#GTcSZphMSdRyCcNumvweRngojVniNJ3ljnRRsY9nENY) <GiuseppeChillemi (GiuseppeChillemi)>:
 * hiiamboris: gurzgri greggirwin (Gregg Irwin)

I have shortened the code of each report to few lines. Thanks to you all.

## 16-Jan-2024

[12:52:56](#iudHgGvOL6hoATmU_oyrZejtLU_H6kMGZL_We8Q6KA8) <hiiamboris>:
glad I kept my popcorn can xD

[12:56:33](#sGc3mhT4UruUv8EQnoMAc_i8RmHhfQaVpC3WbEw2WpI) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@hiiamboris:tchncs.de> glad I kept my popcorn can xD

I will hack your Space repository and delete it. í ½í¹‚

[12:57:07](#w-2VPFMFsp-jHNVNJCzOh4DTQFKCpzYTNguyvJRdpIw) <GiuseppeChillemi (GiuseppeChillemi)>:
(so the backups)

[13:03:28](#cIIzVDzA1g0OvqbwrM_ArQDXaVpZFbKKfu6v8BvQBvw) <hiiamboris>:
:D

[15:40:51](#CguB6EPkkt7S78jzYUSdRIlYB4ZPqHG8K96NdCGJbhM) <GiuseppeChillemi (GiuseppeChillemi)>:
I have replied to [this](https://github.com/red/red/issues/5466) when it was already closed. Do you think Nenad will read it? 

[17:01:39](#DBMqteg1_juUEDTSjuKEfeVj7U0d-FzMY4T5mTDNNkU) <GiuseppeChillemi (GiuseppeChillemi)>:
Yes, he has answered. 

[18:14:13](#gw8LBMNrPm8LlvPCrpSwTSgUBYsk22H708MhPkUhGW8) <GiuseppeChillemi (GiuseppeChillemi)>:
Yes, he has answered. 

[18:14:20](#A_N6Q7AOoK-IL1sv8Qe0cEjLR4hP-fzM6rZIcd6aiak) <GiuseppeChillemi (GiuseppeChillemi)>:
 * So, it seems that the only safe way to copy objects is:

```
ctx: copy words-of context? 'x
set/any ctx context? 'x
```

Are there any other?

[18:20:13](#3UFTd9rE-qb7Hw8TeJRBZ3UKCX7bFRjo3fv6q1Kaaxg) <GiuseppeChillemi (GiuseppeChillemi)>:
So if you can't safely copy and object, the only way is the following:

```
set/any copied-ctx: copy words-of context? 'x values-of context? 'x
```

Are there any other?

[18:34:38](#VIO5mw9LziqLPCnbGYeABLbTnSKrRNgaPJ2IPQcO9Qo) <greggirwin (Gregg Irwin)>:
You can safely copy objects with unset values in them, but you can't have an unset `on-change*` handler.

[18:35:57](#pJraPzqR0OxTKaU-iCoZT8KxcE2yLkcMRKgSdtkdBzs) <greggirwin (Gregg Irwin)>:
It will be good to note how you've slipped past those guardrails, to help others stay on the road. 

[18:41:47](#3vFSOSeJ-Gdcz1mn3gZx3dkIRzh07eKW0BhFY3291co) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@greggirwin-55659ddb15522ed4b3e1006f:gitter.im> It will be good to note how you've slipped past those guardrails, to help others stay on the road.

I have not understood what you mean, could you please explain?

[18:43:34](#whKttNg8NJW-yWkOjclEfhpkWrMS73usFJY5AaUT1YM) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@giuseppechillemi-59045d00d73408ce4f5bcd9d:gitter.im> So if you can't safely copy and object, the only way is the following:
> 
> ```
> set/any copied-ctx: copy words-of context? 'x values-of context? 'x
> ```
> 
> Are there any other?

Note, this is wrong too... WORDS-OF returns the block with words of the first context, even using copy. You must use code which creates an object from the words obtained.

[18:43:49](#ZWm1qScPzeDZoQVLKNGFRzzHkacE7qgUKLnUINLPEbg) <greggirwin (Gregg Irwin)>:
Make a plain object. Unset a value in it. Copy it. No problem. Now create a reactor and try to unset `on-change*` in it. Error. Nenad shows this in his comment on the ticket.

[19:09:32](#Ri7r8wbEL0lrZJ9UTNTGsn9qZ4RTezrXIb1ysfNyEsE) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@greggirwin-55659ddb15522ed4b3e1006f:gitter.im> Make a plain object. Unset a value in it. Copy it. No problem. Now create a reactor and try to unset `on-change*` in it. Error. Nenad shows this in his comment on the ticket.

So, the main object is a reactor and not a simple one.

[19:09:41](#U_sH2xpzBnYAp3vjTCCACvfMrxknNo9VmXxGsfZwJvg) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@greggirwin-55659ddb15522ed4b3e1006f:gitter.im> Make a plain object. Unset a value in it. Copy it. No problem. Now create a reactor and try to unset `on-change*` in it. Error. Nenad shows this in his comment on the ticket.

 * So, the main context object is a reactor and not a simple one.

[19:09:52](#BDnPJ0_qJtWkA3VqfRyCs6DnpR-KpyHLqaW7oVyVcdo) <GiuseppeChillemi (GiuseppeChillemi)>:
 * So, the main context is a reactor and not a simple one.

[19:45:39](#g79LLwtFF3QAFwEvyNMllDGPf7_7a8NkXic77sr5-QM) <hiiamboris>:
he's copying `system/words`

## 17-Jan-2024

[0:01:00](#hZSlSvGfZk_e3xuC587CQjJ9KnaAa4TX_b9cTFPBULg) <GiuseppeChillemi (GiuseppeChillemi)>:
A little note: `values-of` a function is not implemented, I need to reduce the words.

[0:03:33](#SPVWKqUi_mXmrRi5jO5e1OYn0zkXBk45QfHs_4DXMc8) <GiuseppeChillemi (GiuseppeChillemi)>:
 * A little note: `values-of` a function is not implemented, I need to `reduce` the words to pass them to `set`

[0:37:10](#lNhqBSAgt9kKcMPi_QNWKRM0l7miuDwvgHz66O6A9mM) <greggirwin (Gregg Irwin)>:
Question: What would you expect to get from `values-of` for a function?

[0:38:12](#OjOcd1szLFNEqKdxLOcfpqjL16Wh7vxHr0_vIiLJCec) <greggirwin (Gregg Irwin)>:
Keeping in mind that the function may not be active at the time.

[0:46:26](#AU8gSmY_Itt5axEulMTdvA6v_ZzgvTClJAtZE2lZgYg) <GiuseppeChillemi (GiuseppeChillemi)>:
None for the value of each word (including `/local`) if the function is not active or `context is not available` error. Otherwhise the values of each word of context (none for local)

[0:46:36](#1A_5I0kQxHfaSVdcOIqVT8k8TCuJvG6jVeE_2Xlt1bQ) <GiuseppeChillemi (GiuseppeChillemi)>:
 * None for the value of each word (including `/local`) if the function is not active or `context is not available` error. Otherwhise the values of each word of context (`none` for local)

[0:50:50](#vuM2b2pfYf6GDQWgxYuRaf64QdAvz9FkM-tqF0R-40Q) <GiuseppeChillemi (GiuseppeChillemi)>:
------
I have another problem. Maybe it late and I not looking at the whole code with enough neurons:

```
dupe-context: func [
	"Duplicate a context"
	w [word! object!]
	/local
	new-ctx-words
	copied-ctx
] [
	if word? :w [
		w: context? w
	]

	new-ctx-words: words-of :w
	
	forall new-ctx-words [
		change new-ctx-words to-set-word :new-ctx-words/1
	] 
	append new-ctx-words none
	copied-ctx: make object! new-ctx-words
 
	;set/any copied-ctx values-of context? 'w
	set/any copied-ctx reduce probe words-of :w ;<<< Look at probe
	
	
	copied-ctx
]

f: func [a y] [y: 1 a: 2 dupe-context 'y]
probe f
```

[0:51:00](#Xs6JICpNPjxxZRwAJszXSNe9fy990glxy3Whz4qwR-8) <GiuseppeChillemi (GiuseppeChillemi)>:
 * ---

I have another problem. Maybe it late and I not looking at the whole code with enough neurons:

```
dupe-context: func [
	"Duplicate a context"
	w [word! object!]
	/local
	new-ctx-words
	copied-ctx
] [
	if word? :w [
		w: context? w
	]

	new-ctx-words: words-of :w
	
	forall new-ctx-words [
		change new-ctx-words to-set-word :new-ctx-words/1
	] 
	append new-ctx-words none
	copied-ctx: make object! new-ctx-words
 
	;set/any copied-ctx values-of context? 'w
	set/any copied-ctx reduce probe words-of :w ;<<< Look at probe
	
	
	copied-ctx
]

f: func [a y] [y: 1 a: 2 dupe-context 'y]
f
```

[0:52:29](#QOnMuj7a1aw241VAoW6sO7wRHbJ9TSbrI27uHqRRR4I) <GiuseppeChillemi (GiuseppeChillemi)>:
Why do I have this output?

`[a: y: none]`



[0:54:34](#B8FYW8Odsp4XRh-HepTtNuNfDV-jCxNdXoJ0xMrrrrI) <GiuseppeChillemi (GiuseppeChillemi)>:
It is the content of: `new-ctx-words` which started as `new-ctx-words: words-of :w` and whose content has been later modified to `set-words` and added `none`

[0:55:41](#cNdRv4xYECdKnIJIncDRPQnohBMwcAWPadywmRvHRkY) <GiuseppeChillemi (GiuseppeChillemi)>:
 * ---

I have another problem. Maybe it late and I not looking at the whole code with enough neurons:

```
dupe-context: func [
	"Duplicate a context"
	w [word! object!]
	/local
	new-ctx-words
	copied-ctx
] [
	if word? :w [
		w: context? w
	]

	new-ctx-words: words-of :w
	
	forall new-ctx-words [
		change new-ctx-words to-set-word :new-ctx-words/1
	] 
	append new-ctx-words none
	copied-ctx: make object! new-ctx-words
 
	;set/any copied-ctx values-of context? 'w
	;set/any copied-ctx reduce neutralize words-of :w
	set/any copied-ctx reduce probe words-of :w ;<<<--- Look at probe
	
	
	copied-ctx
]

f: func [a y] [y: 1 a: 2 dupe-context 'y]
f
```

[0:56:55](#gQqrflKp0eqPDkailyl4Tgo-7XyEE03ZlrHDv_dsT40) <GiuseppeChillemi (GiuseppeChillemi)>:
I need to change `new-ctx-words: words-of :w` to `new-ctx-words: COPY words-of :w` which should not be necessary

[0:57:44](#9HEbXxwP4xaqvjd_z1IOYRE0VQ2kCxqZ7Cub29CfrG0) <greggirwin (Gregg Irwin)>:
That looks to be the case.

[0:58:57](#bJo7Z4uH90yr3hFod3pIZ5cK8TYaHHhZ6FeUuPJme-4) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@greggirwin-55659ddb15522ed4b3e1006f:gitter.im> That looks to be the case.

Are you referrint to the upper message or to the lower?

[0:59:06](#MKeWqDLgbm0bWxWvX7NfDMFL86e2d0fWUG-6udiD1Dk) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@greggirwin-55659ddb15522ed4b3e1006f:gitter.im> That looks to be the case.

 * Are you referring to the upper message or to the lower?

[0:59:54](#-M4onzCXVkRZaywGFz4AEULgd-sBVqj633nNGxm6AoM) <GiuseppeChillemi (GiuseppeChillemi)>:
 * Why do I have this output?

`[a: y: none]`

It should be

`[a y]`

[1:00:21](#Q7Im4Y5hfmzvIkZcrYeN8djVKJSd6YeLnCqcEyaulio) <GiuseppeChillemi (GiuseppeChillemi)>:
 * ---

I have another problem. Maybe it late and I not looking at the whole code with enough neurons:

```
dupe-context: func [
	"Duplicate a context"
	w [word! object!]
	/local
	new-ctx-words
	copied-ctx
] [
	if word? :w [
		w: context? w
	]

	new-ctx-words: words-of :w
	
	forall new-ctx-words [
		change new-ctx-words to-set-word :new-ctx-words/1
	] 
	append new-ctx-words none
	copied-ctx: make object! new-ctx-words
 
	;set/any copied-ctx values-of context? 'w
	;set/any copied-ctx reduce neutralize words-of :w
	set/any copied-ctx reduce probe words-of :w ;<<<--- Look at this probe output
	
	
	copied-ctx
]

f: func [a y] [y: 1 a: 2 dupe-context 'y]
f
```

[1:01:23](#ke9bBQYH3M8MKWlPiR2mJ7UO8dGeXl6S8OLlwO82L2c) <greggirwin (Gregg Irwin)>:
Object and function both `block/clone` the block of symbols, so not clear at a glance what the problem is.

[1:05:07](#SVd1hvR_2k12omXd2rWtunyCuxGQREtPHpWp5O0zA0Q) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@greggirwin-55659ddb15522ed4b3e1006f:gitter.im> Object and function both `block/clone` the block of symbols, so not clear at a glance what the problem is.

It seems that at the second instace of `WORDS-OF` the previous container is passed

[1:05:21](#Il9rdoXEgiG3arQuRCPZWL5uP_PQb1TFaMazd9VGkZA) <greggirwin (Gregg Irwin)>:
Maybe because you're reusing `w`, which is in the context of `dupe-context`.

[1:07:52](#rrKtXnl1kHudAz4G0jC9PrblRc-_PKWsbbCJqZksEFQ) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@greggirwin-55659ddb15522ed4b3e1006f:gitter.im> Maybe because you're reusing `w`, which is in the context of `dupe-context`.

`W` is the context of `F`, so the function. It fact if I `probe :W` it I have: 
`func [a y][y: 1 a: 2 dupe-context 'y]` as result

[1:11:48](#FoP7oaILlsiucXztbma9mosJEUDStCecE51BB4KFlyU) <greggirwin (Gregg Irwin)>:
Well, my tired brain isn't seeing it either, at the moment.

[1:16:20](#Wd1cxzkdZE2vqvQesupKDrwVBG44sllyB-gKGDCyEZY) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@greggirwin-55659ddb15522ed4b3e1006f:gitter.im> Well, my tired brain isn't seeing it either, at the moment.

I have simplified things to let you see the problem, hope you have the last 10% of charge:

```
dupe-context: func [
	"Duplicate a context"
	w [word! object!]
	/local
	new-ctx-words
] [

	new-ctx-words: words-of context? w
	
	forall new-ctx-words [
		change new-ctx-words to-set-word :new-ctx-words/1
	] 
	append new-ctx-words none
 
	words-of context? :w	
]

f: func [a y] [y: 1 a: 2 dupe-context 'y]
probe f
```

Result is:

```
[a: y: none]
```

[1:17:50](#HJikBvzNAkLyS3tKv0Dvu7MZT8vxwFnsK9ZCJ9Gkyhk) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@greggirwin-55659ddb15522ed4b3e1006f:gitter.im> Well, my tired brain isn't seeing it either, at the moment.

 * I have simplified things to let you see the problem, hope you have the last 10% of charge:

```
dupe-context: func [
	"Duplicate a context"
	w [word! object!]
	/local
	new-ctx-words
] [

	new-ctx-words: words-of context? w
	
	forall new-ctx-words [
		change new-ctx-words to-set-word :new-ctx-words/1
	] 
	append new-ctx-words none
 
	probe words-of context? :w	
]

f: func [a y] [y: 1 a: 2 dupe-context 'y]
f
```

Result is:

```
[a: y: none]
```

[1:18:13](#lDTLiI2SHmK80q7PNtgUeT4XI36VfJJwuJUfLckdWKQ) <GiuseppeChillemi (GiuseppeChillemi)>:
 * I have simplified things to let you see the problem, hope you have the last 10% of charge:

```
dupe-context: func [
	"Duplicate a context"
	w [word! object!]
	/local
	new-ctx-words
] [

	new-ctx-words: words-of context? w
	
	forall new-ctx-words [
		change new-ctx-words to-set-word :new-ctx-words/1
	] 
	append new-ctx-words none
 
	probe words-of context? :w	
]

f: func [a y] [y: 1 a: 2 dupe-context 'y]
>> f
```

Result is:

```
[a: y: none]
```

[1:29:00](#JvzyU9zilsyfRddDK1L4Ii7R4I9ACVTS7nLF7zRIZHQ) <GiuseppeChillemi (GiuseppeChillemi)>:
(No, you were at 1% :D)

[1:33:16](#RwkT41_qDnhHjcaEnvhytZtdU2FFVlpJA7M2fvfGzpg) <GiuseppeChillemi (GiuseppeChillemi)>:
 * I have simplified things to let you see the problem, hope you have the last 10% of charge:

```
dupe-context: func [
	"Duplicate a context"
	w [word! object!]
	/local
	new-ctx-words
] [

	new-ctx-words: words-of context? w; Note: W contains Y
	
	forall new-ctx-words [
		change new-ctx-words to-set-word :new-ctx-words/1
	] 
	append new-ctx-words none
 
	probe words-of context? w	; Note: W contains Y
]

f: func [a y] [y: 1 a: 2 dupe-context 'y]
>> f
```

Result is:

```
[a: y: none]
```

[1:35:49](#Uz4Nowwbi1_KKPUO0gEHEiN4XTkjbYuoYjUDBD0k2s8) <GiuseppeChillemi (GiuseppeChillemi)>:
 * I have simplified things to let you see the problem, hope you have the last 10% of charge:

```
dupe-context: func [
	"Duplicate a context"
	w [word! object!]
	/local
	new-ctx-words
] [

	new-ctx-words: words-of context? w; Note: W contains Y
	
	forall new-ctx-words [
		change new-ctx-words to-set-word :new-ctx-words/1
	] 
	append new-ctx-words none
 
	probe words-of context? w	; Note: W contains Y
]

f: func [a y] [y: 1 a: 2 dupe-context 'y]
>> f 'no 'no
```

Result is:

```
[a: y: none]
```

[3:13:11](#l4xPzHF7GollGS41PhItZM24UvA_cHG4G1kqv_F_1bU) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@greggirwin-55659ddb15522ed4b3e1006f:gitter.im> Object and function both `block/clone` the block of symbols, so not clear at a glance what the problem is.

It seems `WORDS-OF` is returning the internal block of symbols and not a copy of It. So if you modify It, you modify the original and at the next WORDS-OF you have the modified version.

[3:14:02](#HWqfZNz3BNxWOS2Z0TL9fe0wMoMJ77hxeCdgGmbhsJs) <GiuseppeChillemi (GiuseppeChillemi)>:
I don't think it is the correct behaviour

[4:31:40](#gx-XSmZiOJmYmkc3cKq0SlbIGcLPFfzk94OBI7DeHN8) <greggirwin (Gregg Irwin)>:
> <@giuseppechillemi-59045d00d73408ce4f5bcd9d:gitter.im> (No, you were at 1% :D)

I was called away. :^)

[4:32:06](#eIcbbn_xRxw7nXUAP471FcfuYYlBGWlcHmUOgMNzygI) <greggirwin (Gregg Irwin)>:
Will look tomorrow, if dockimbel or hiiamboris don't beat me to it.

[8:05:52](#OLfeXxs5FfjcrEmhJqDs3Ok3qziFCtjB4nDSaxJFEP0) <hiiamboris>:
you can modify the function spec the same way

[8:05:56](#srS9BJIAgNcc0-ttu4FRJHIaSqH1N8f2UXqL4DmB66Y) <hiiamboris>:
just copy it

[14:21:11](#CFYFF56i526Ial3KQHgpgMlrdyMjq9ed6I-ZiGMQG_Y) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@hiiamboris:tchncs.de> just copy it

I did It but I think that It shouldn't be allowed modifying it.

[15:08:54](#tqysNN1730QFscpuk4wuM6MuW-tZbzZQuuBYooDj-q8) <hiiamboris>:
we need `protect` then

[18:01:34](#a2l-MlbBK6XctNsmPp7QB02uO2XPo5_dbfimIZ5qzVw) <greggirwin (Gregg Irwin)>:
We should make a matrix of what reflectors return copied data and those that return references, noting why they do so.

[18:21:24](#re027AiExjWKNqo1dRq53DqqHWhkoDSR0WVuMmr2veQ) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@greggirwin-55659ddb15522ed4b3e1006f:gitter.im> We should make a matrix of what reflectors return copied data and those that return references, noting why they do so.

It is a good idea. It would be important also to note the effect of modifying them on the source.

[18:24:27](#w0dUGV7xj9nEf34pEsxjqasc6ZDvj7N7z6mTU3su_dE) <greggirwin (Gregg Irwin)>:
Here's a page where it could live: https://github.com/red/red/wiki/Selection,-Reflection,-Accessors,-and-Type-Queries

[20:36:30](#8--dEdF8xu5yDOf5fj1nqUhuoI99TurOmD8hHk-yHuY) <greggirwin (Gregg Irwin)>:
Done.

## 18-Jan-2024

[0:08:29](#jtncVHg1gJi1uB3mQ31P-O105piTwhsiBDtLQ8iQ-GI) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@greggirwin-55659ddb15522ed4b3e1006f:gitter.im> Done.

Well!

[0:08:58](#MypPqvLJEg_WSsnoqBxKsem2d-gprE-MVE_FXX0Mk3g) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@greggirwin-55659ddb15522ed4b3e1006f:gitter.im> Done.

 * Well! (Repeat)

[16:39:58](#MESaNyEjMAK1NXi00tCihHqNd4bvi_IdcwFQOhiqGa0) <GiuseppeChillemi (GiuseppeChillemi)>:
What I am doing wrong?

```
pick-pt: func [
	target [word! object! block! path! pair! map!]
	pt [path!]
	/local
	y
] [
	if word? target [set 'target get target]
	y: to-path 'target
	append y pt

	y;   it will be: get y
]

probe pick-pt 'x 'b/c
```

Why Y does not return `target/b/c ?

[16:40:16](#WXTA2TBxvxcxERUvzNv4kfuOWIaxlT2UU2xaEHPjVvw) <GiuseppeChillemi (GiuseppeChillemi)>:
 * What I am doing wrong?

```
pick-pt: func [
	target [word! object! block! path! pair! map!]
	pt [path!]
	/local
	y
] [
	if word? target [set 'target get target]
	y: to-path 'target
	append y pt

	y;   it will be: get y
]

probe pick-pt 'x 'b/c
```

Why `Y` does not return \`target/b/c ?

[16:40:27](#t1kzqj7GDap8EVv1ZFzrgjaX_52WbTOO36RacFALExs) <GiuseppeChillemi (GiuseppeChillemi)>:
 * What I am doing wrong?

```
pick-pt: func [
	target [word! object! block! path! pair! map!]
	pt [path!]
	/local
	y
] [
	if word? target [set 'target get target]
	y: to-path 'target
	append y pt

	y;   it will be: get y
]

probe pick-pt 'x 'b/c
```

Why `Y` does not return `target/b/c` ?

[16:41:18](#weJGRsLRPhLogkBhPQ5M0mm5d9s7vCI9vZkPaN5BE9k) <GiuseppeChillemi (GiuseppeChillemi)>:
 * What I am doing wrong?

```
pick-pt: func [
	target [word! object! block! path! pair! map!]
	pt [path!]
	/local
	y
] [
	if word? target [set 'target get target]
	y: to-path 'target
	append y pt

	y;   it will be: get y
]

pick-pt 'x 'b/c
```

Why `Y` does not return `target/b/c` ?

[16:41:34](#AnBhXzNZea-wNZLLdRuRXSywjl-24iyAzi0RALrCUqA) <GiuseppeChillemi (GiuseppeChillemi)>:
 * What I am doing wrong?

```
pick-pt: func [
	target [word! object! block! path! pair! map!]
	pt [path!]
	/local
	y
] [
	if word? target [set 'target get target]
	y: to-path 'target
	append y pt

	y;   it will be: get y
]

pick-pt 'x 'b/c
```

Why `Y` does not return `target/b/c` in console ?

[16:41:40](#Wx4nPomADPISzIkP28bPajPOe_nn5RdiJ1Ktng_x9NA) <GiuseppeChillemi (GiuseppeChillemi)>:
 * What I am doing wrong?

```
pick-pt: func [
	target [word! object! block! path! pair! map!]
	pt [path!]
	/local
	y
] [
	if word? target [set 'target get target]
	y: to-path 'target
	append y pt

	y;   it will be: get y
]

pick-pt 'x 'b/c
```

Why `Y` does not return `target/b/c` in console?

[16:42:25](#6vr-8-njXRaNhN0w8OQwHXC_uQ38JciSEw8CjMvDwqs) <GiuseppeChillemi (GiuseppeChillemi)>:
(It returns all other values but the path)

[16:47:58](#UM8wFrwgujT-_ATRFYuZXIIQ1Go6ZVJxKBe4RUu_pss) <hiiamboris>:
is `x` == `'target`?

[16:50:12](#Wsv-U3-ywThZw8RnXgf2h0vE5b2f1k8voUZXUuXd_t0) <hiiamboris>:
anyway, try `trace`

[16:50:22](#z8A0Z97C3GVJ4pBAnI5MeNzsQUbPG-DIxyPn7POd1vI) <hiiamboris>:
* anyway, try `trace/deep`

[16:50:44](#-pf_s135mJq16EodsrQdAreCUfFHZIMYvpuY1QP777s) <hiiamboris>:
* anyway, try `trace/deep` or `trace/all/deep`

[17:12:54](#Jpftqos6x8aRZqxg4jM_ZHpC4kbl4wZElnANBttLVqc) <Oldes (@oldes.h:matrix.org)>:
You probably want `y: to-path :target` and not `y: to-path 'target`

[17:15:16](#b6cbNIb0nm7aXvDRgqvZKZXgCVDoAP7EBWxaldN_vtM) <Oldes (@oldes.h:matrix.org)>:
Or as usually, I don't get the point, because in the code (if you will not edit the post) the line with `if` is useless as the next line always use just a word `target` and not it's value.

[17:17:45](#avlE3pIbjj0FCf3dubpwgGNmtoD30S7f9NCa8N8kxA0) <Oldes (@oldes.h:matrix.org)>:
Your code will not work for any other value then word anyway...

[17:18:24](#w1YRWl6_xIHFxRteDiH0Gg0oqC0z569wcaMHSRFDN04) <Oldes (@oldes.h:matrix.org)>:
Because what you would get is:
```
>> append to-path object [a: 1] 'a
== make object! [
    a: 1
]/a
```

[17:18:39](#CFAaOc1tfYETOKoccnjjQvkzU18us_IkSMZ0xiZw6sM) <Oldes (@oldes.h:matrix.org)>:
which is useless

[18:33:09](#3wIG7xnX9Xdgq9Hb4_1KdJRRFHtgA6F7o1Pj5UNGPVE) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@oldes.h:matrix.org> You probably want `y: to-path :target` and not `y: to-path 'target`

Please look at the full code and execute it:

```
pick-pt: func [
	target [word! object! block! path! pair! map!]
	pt [path!]
	/local
	y
] [
	if word? target [set 'target get target]
	y: to-path 'target
	append y pt
	get y
]


poke-pt: func [
	target [word! object!]
	pt [path!]
	val [any-type!]
] [
	if word? target [target: get target]
	target: to-path :target
	append target pt
	set/any pt :value
]

x: [a b [c 2]]


probe pick-pt 'x 'b/c
```

[18:33:24](#NvPJodyZshrl1kovWXZnq5tr-xtYydTzMX1CNT1wXb8) <GiuseppeChillemi (GiuseppeChillemi)>:
Now remove the last `probe`

[18:33:49](#hh5ksLloE6DUJt2TXEPBuBfxoyGEsbnlTx7JLljRSBQ) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@oldes.h:matrix.org> You probably want `y: to-path :target` and not `y: to-path 'target`

 * Please look at the full code and execute it:

```
pick-pt: func [
	target [word! object! block! path! pair! map!]
	pt [path!]
	/local
	y
] [
	if word? target [set 'target get target]
	y: to-path 'target
	append y pt
	get y
]


poke-pt: func [
	target [word! object!]
	pt [path!]
	val [any-type!]
] [
	if word? target [target: get target]
	target: to-path :target
	append target pt
	set/any pt :value
]

x: [a b [c 2]]


probe pick-pt 'x 'b/c

2
```

[18:34:10](#uTj0EKWei7pBGtoui3iPFSaY95L6-9aVK7Av7W3TRSE) <GiuseppeChillemi (GiuseppeChillemi)>:
hiiamboris:  The full code is here

[18:37:50](#79TX1V0gUdYMLtuEMYVcSOyw_O09QscERVqIIpN_cC4) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@hiiamboris:tchncs.de> anyway, try `trace/deep` or `trace/all/deep`

```
x: [a b [c 2]]
target = x
```
If `target` is set to a word, it will get the content of the word passed  (`x` in this situation) and assign it to `TARGET`. So you can use a partial path (rootless) on any datatype which accepts a path.

[18:38:23](#bBHZKtR9zV38oeX2EmgSIa33iHdCNHwe3lsGb_i8abg) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@hiiamboris:tchncs.de> anyway, try `trace/deep` or `trace/all/deep`

 * ```
x: [a b [c 2]]
target = x
```

If `target` is set to a word, it will get the content of the word passed  (`x` in this situation) and assign it to `TARGET`. So you can use a partial path (rootless) on any datatype which accepts a `path`.

[18:44:18](#0FM8A4ZQuoLo3hTTbpxPhN9WiShUXf9XIoOW1JT2prk) <GiuseppeChillemi (GiuseppeChillemi)>:
I see the result but it is not displayed on the consolle until you use `probe`:

```
target                                                   => x                                                                                                                                  
    word? x                                                  => true                                                                                                                               
      target                                                 => x                                                                                                                                  
      get x                                                  => [a b [c 2]]                                                                                                                        
      set target [a b [c 2]]                                 => [a b [c 2]]                                                                                                                        
    if true [set 'target get target]                         => [a b [c 2]]                                                                                                                        
    to-path target                                           => target                                                                                                                             
    y                                                        => target                                                                                                                             
    pt                                                       => b/c                                                                                                                                
    append target b/c                                        => target/b/c                                                                                                                         
    y                                                        => target/b/c                                                                                                                         
    target                                                   => [a b [c 2]]                                                                                                                        
    get target/b/c [a b [c 2]] b c                           => 2                                                                                                                                  
  pick-pt x b/c                                              => 2      

[18:44:43](#skIbLLJ2XQ9NLLKCt6U7KAaCN4m9kiDPKQlm4JsaQR4) <GiuseppeChillemi (GiuseppeChillemi)>:
 * I see the result but it is not displayed on the consolle until you use `probe`:

```
    target                                                   => x                                                                                                                                  
    word? x                                                  => true                                                                                                                               
      target                                                 => x                                                                                                                                  
      get x                                                  => [a b [c 2]]                                                                                                                        
      set target [a b [c 2]]                                 => [a b [c 2]]                                                                                                                        
    if true [set 'target get target]                         => [a b [c 2]]                                                                                                                        
    to-path target                                           => target                                                                                                                             
    y                                                        => target                                                                                                                             
    pt                                                       => b/c                                                                                                                                
    append target b/c                                        => target/b/c                                                                                                                         
    y                                                        => target/b/c                                                                                                                         
    target                                                   => [a b [c 2]]                                                                                                                        
    get target/b/c [a b [c 2]] b c                           => 2                                                                                                                                  
  pick-pt x b/c                                              => 2      
```

[18:51:20](#fZ07XISUJvBm5XiYaJchzA0kCi89vne3r4euqfo_-TE) <GiuseppeChillemi (GiuseppeChillemi)>:
This code has been created to make this: (you should just add WORD! on the second datatype)
```
>>pick-pt [a b [c 2]] 'b/c
2
```

[18:52:19](#wz59mrwdAYewr3Jws2jy8hMfSjU6m5hZKPSUY3grYXU) <GiuseppeChillemi (GiuseppeChillemi)>:
 * Please look at the full code and execute it:

```
pick-pt: func [
	target [word! object! block! path! pair! map!]
	pt [path! word!] ;Warning! Modified adding WORD!
	/local
	y
] [
	if word? target [set 'target get target]
	y: to-path 'target
	append y pt
	get y
]


poke-pt: func [
	target [word! object!]
	pt [path!]
	val [any-type!]
] [
	if word? target [target: get target]
	target: to-path :target
	append target pt
	set/any pt :value
]

x: [a b [c 2]]


probe pick-pt 'x 'b/c

2
```

[19:09:10](#9eK4PE0u7rpFf0xDA_ah3R26SlOaHdQecbqbH7_7BjQ) <hiiamboris>:
do you have an issue or just rambling? ;)

[19:14:28](#WkBWHzfIIRVAFJrquLwiXxiPRJkfGu-SPh6RrgHAF38) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@hiiamboris:tchncs.de> do you have an issue or just rambling? ;)

I have written which is the problem: no output of the result on the console


[19:21:06](#KSS0VVdKmASa0uc7ETlL3lZf5hCyYW9Hmy-_02haoHU) <hiiamboris>:
yes but have you double checked? knowing how messy you are...

[19:23:32](#qhIUd4jhisgv8SJxQrOGtgiGqOp-O7A-zNTOIHQebEk) <hiiamboris>:
![https://tchncs.de/_matrix/media/v3/download/tchncs.de/6e572f5abc659eff70c72d4c96f1d54d23396d6c](https://tchncs.de/_matrix/media/v3/download/tchncs.de/72970a479617e4c18097043e20e65ac11026e8fc)

[19:40:29](#Ml6FbWs3xUZBat5rWvfTOgkSa9ZOCsEQhxDX7T0qxjw) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@hiiamboris:tchncs.de> sent an image.

I remember looking at result in the consolle without using `PROBE` but maybe I am too tired

[19:40:45](#R9eJdJOxU6UuSkhJXcT9aLMSSrdRovafDdGljGsW6_0) <GiuseppeChillemi (GiuseppeChillemi)>:
However I have the final version:

[19:43:41](#MLbieq__u6wME02xeMCMz9sJLDTl2vu-0_Vz6Sgj2F4) <GiuseppeChillemi (GiuseppeChillemi)>:
```
apply-path: func [
	"Applies a path to an series "
	target [word! object! block! path! pair! map!]
	pt [path! word! block!] 
	/local
	y
] [
	if word? target [set 'target get target]
	either block? PT [
		y: to-block 'target 
		append y pt
		y: to-path y
	] [
		y: to-path 'target
		append y pt	
	]

	get y
]
```
On the console:

```

>> probe apply-path [a b [c [e 22]]] 'b/c/e
22
>> probe apply-path find [a b [c [e 44]]] block! [1 c]
[e 44]
```

[19:44:58](#hnnMJJapkAj0yx8eIFOJOlLSsLafufAiEMYH7pwWjsk) <GiuseppeChillemi (GiuseppeChillemi)>:
It helps you to save words and applying multiple partial paths to the same serie.

[19:45:33](#BjV1qF44LnnF0GcSonpv5VTWQitvhCApnjWWbY9Rcbg) <GiuseppeChillemi (GiuseppeChillemi)>:
(The block version is needed because `1/c` is not permitted)

[19:45:54](#optFzcSUnFpGP86w2bbnzwBcO5utoQBqIGHHO3Do-X4) <GiuseppeChillemi (GiuseppeChillemi)>:
 * (The block version is needed because `'1/c` is not permitted)

[19:49:13](#UuwB0hBvXZgObIirC5AjcId3mHWmDZVcwH1zkTNBeWA) <GiuseppeChillemi (GiuseppeChillemi)>:
Otherwhise applying the same path to multiple series

Thing about: `foreach-face face [probe apply-path face 'pane/1/3]` 

[19:49:49](#U5GvMtM3nTUYGvzKHDGImMQzBK6pu0XolseNKzo18uc) <GiuseppeChillemi (GiuseppeChillemi)>:
(this was the inital use)

[19:50:04](#eOoX2oQnJxywyYQ8Hq9_fClqEHeZYKAinaGkzuJrwHU) <GiuseppeChillemi (GiuseppeChillemi)>:
 * (this was the inital use: reading face elements)

[19:50:14](#ixpdzR6zLz6b3VlSKrW5n4nFyyq9CxYiaBu-NQcb5TM) <GiuseppeChillemi (GiuseppeChillemi)>:
 * (this was the inital use: reading `face` elements)

[20:03:50](#NtNAeTpuPQ783YreOV7MIqwoWzDK-PRsaqqh16JVCPg) <hiiamboris>:
```
>> apply-path: func [
	"Applies a path to an series "
	target [word! object! block! path! pair! map!]
	pt [path! word! block!] 
	/local
	y
] [
	if word? target [set 'target get target]
	either block? PT [
		y: to-block 'target 
		append y pt
		y: to-path y
	] [
		y: to-path 'target
		append y pt	
	]

	get y
]
probe apply-path [a b [c [e 22]]] 'b/c/e 
 22 
== 22 
```

[20:08:19](#kusg-wb8QOFySoU6T3OnydbIFC9Ku3UZ5w7YXxeCbVM) <GiuseppeChillemi (GiuseppeChillemi)>:
Yes, it works here too, as I have said, it was thinking console would return the resut without `probe`.

[20:08:29](#j3S3ycHy2whW__FJEqooUWl6rIuYgS-ZXqOPHo6Qr_k) <GiuseppeChillemi (GiuseppeChillemi)>:
 * Yes, it works here too, as I have said, I was thinking console would return the resut without `probe`.

[20:08:56](#L7vWU-7T-uASwHbU4KWQrDn9IB7w51GoAolvwZTsebQ) <GiuseppeChillemi (GiuseppeChillemi)>:
Something you forget obvius thing while on heavy thinking. 

[20:09:11](#EdR2GRJg10Xejgyz7BDhGTVx-nUk2j602v2ZttPaERo) <GiuseppeChillemi (GiuseppeChillemi)>:
 * Something you forget obvious things while on heavy thinking. 

[20:10:10](#kPTf13bb4ORl6_-mDoyrdZY_dCgObjIjiuBFLvjeDhI) <GiuseppeChillemi (GiuseppeChillemi)>:
But, is there a difference between `DO path` and `GET path` as far as you know?

[20:21:24](#vQjQoEZ1hpB2i1OD2vIQColRBL8NH9YRu0AudY1W9ng) <hiiamboris>:
without probe:
```
>> apply-path: func [
	"Applies a path to an series "
	target [word! object! block! path! pair! map!]
	pt [path! word! block!] 
	/local
	y
] [
	if word? target [set 'target get target]
	either block? PT [
		y: to-block 'target 
		append y pt
		y: to-path y
	] [
		y: to-path 'target
		append y pt	
	]

	get y
]
apply-path [a b [c [e 22]]] 'b/c/e 
== 22 
```

[20:22:07](#2Lw5BW3sG1wRezcOoEum7-klBFln230elAXGa3yucpU) <hiiamboris>:
get won't evaluate

[20:51:38](#bvalEa_uzLEs7L1c2k7Gz_0ATEDRM7cJFuTv3wwYoOY) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@hiiamboris:tchncs.de> get won't evaluate

You mean: it won't evaluate the final target element in case it is FILE of FUNCTION?

[21:36:43](#OaLfI3QLcC8iHpApC0iphh45L7Uk2je9HQI8RXX6CVQ) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@hiiamboris:tchncs.de> without probe:
> ```
> >> apply-path: func [
> 	"Applies a path to an series "
> 	target [word! object! block! path! pair! map!]
> 	pt [path! word! block!] 
> 	/local
> 	y
> ] [
> 	if word? target [set 'target get target]
> 	either block? PT [
> 		y: to-block 'target 
> 		append y pt
> 		y: to-path y
> 	] [
> 		y: to-path 'target
> 		append y pt	
> 	]
> 
> 	get y
> ]
> apply-path [a b [c [e 22]]] 'b/c/e 
> == 22 
> ```

Maybe it is when started from Ultra Edit that eats the output. I'll test when I will be back to the console.

## 21-Jan-2024

[9:38:13](#WuHayAZAV8sj5NxDeITmID_C5v9EgOH2CCntvcrIAp0) <luce80>:
I think that the 4th example [here](https://github.com/red/docs/blob/master/en/rtd.adoc#:~:text=text%20data%20facet.-,Examples,-%3A) gives a wrong result.

[9:40:45](#vwv7JvbBC0ySQ5l-8-3jhwuQCfkHHgW1K05a0FWzIog) <hiiamboris>:
agreed

[14:51:38](#8j2F_5O4AU8kh58HJlpDJK6z829gnvhnnj6ICSz4EMY) <GiuseppeChillemi (GiuseppeChillemi)>:
Paths that strart with a string can't be loaded:

If you save on a file:

```
"hello"/"world"
```
It is loaded as 
```
["hello" / "world"]
```


[14:53:14](#jz0h3OgzYPuYUNysEDoUQghR0LC4saW1u46df6XNHtg) <GiuseppeChillemi (GiuseppeChillemi)>:
```
>> load {"hello"/"world"}
== ["hello" / "world"]
```

[15:11:01](#t9qxAVZB-QaT08gmsrfjOW_t3v9rzfKvxjfmgfLeaRs) <hiiamboris>:
I'm sure you can imagine a lot of paths that don't roundtrip

[15:29:37](#nH5ShzkiQYGIySR6Kzi2Dd9XvIGJ6r3icVUfw24CEXM) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@hiiamboris:tchncs.de> I'm sure you can imagine a lot of paths that don't roundtrip

In fact many glorious ideas have died when I have discovered this.

[15:29:54](#qW2nqwx7sZhehyALd2QVb9PGCYJ1P_avgciwSE0gtqw) <GiuseppeChillemi (GiuseppeChillemi)>:
Bye bye dreams!

[16:04:36](#1XhBOc07rLAVEt6vKBIhwP2_u2WPgpjp-0aTXtKugqM) <GiuseppeChillemi (GiuseppeChillemi)>:
I expected `unset!" being falsey, insted:

```
>> set/any 'returned unset!
== unset!
>> if returned [print "True"]
True
```



[16:04:50](#lF1_ZrtpFT6VzTnfNMKKmYFlXaR0sSVDmUNmLlwtXS0) <GiuseppeChillemi (GiuseppeChillemi)>:
 * I expected `unset!`being falsey, insted:

```
>> set/any 'returned unset!
== unset!
>> if returned [print "True"]
True
```

[16:06:41](#VETUBe_a1-v_L9z-z4LHAlHo9QYuVf4XugdPTkwiZsY) <hiiamboris>:
well, rise and shine, it has been discussed so many times it's surprising you just discovered it :)

[16:08:12](#DuyqAZPE8G-kojXdWzWSrIcHJMQIgBhCsLACgD_PVVQ) <hiiamboris>:
http://www.rebol.net/cgi-bin/r3blog.r?view=0207

[16:10:26](#qnzaFRQ4X3Akl90tPjC9jhlKaPh7Y-VMTncYeIXAxys) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@hiiamboris:tchncs.de> well, rise and shine, it has been discussed so many times it's surprising you just discovered it :)

Its the first time I have encountered this situation

[16:11:31](#X7-6U5TCxQFA_Ql0qWyEzY_HQwy-Q6xueYLCF35unqc) <hiiamboris>:
TL;DR: no perfect answer; current behavior just favors use of `print` inside `all`

[16:11:55](#2PSZWGHbuV04z9AbVJUXNz9vLiHVyLMiRc1lKHEp-fo) <hiiamboris>:
* TL;DR: no perfect answer; current behavior just favors use of `print` (or `??`) inside `all`

[16:17:04](#T47VUuYbrK6-3yytsATSvcodxK50WX1MLHGXGief6Jk) <hiiamboris>:
also you are using a datatype, not unset value, and that is truthy by design

[16:32:51](#OtzzjC54AloOhlfBq9JvItToG-vZg6TovwHzLrmqO7Q) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@hiiamboris:tchncs.de> also you are using a datatype, not unset value, and that is truthy by design

Thanks, I have noted it and changed the code from `UNSET!` to `()`

[16:33:03](#e3qV6fhBuxLSKhz8rosqWT2jIpPdV79dMotE0hu1iQg) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@hiiamboris:tchncs.de> also you are using a datatype, not unset value, and that is truthy by design

 * Thanks, I have noticed it and changed the code from `UNSET!` to `()`

[18:49:04](#fGIHxorDqT-R1sn43hmL_s-gSFbpWpgn2Wucy-mpfGs) <luce80>:
This crashes Red, am I doing something wrong or is there another way to set the `wrap?` condition?
```
system/view/VID/styles/new-base: [
	default-actor: on-down
	template: [
		type: 'base
		para: make para! [
			wrap?: false
		]
		draw: compose [
			text 0x10 (rtd-layout ["Hi"])
		]
		actors: [
			ON-CREATE: func [face][
				face/draw/3/para/wrap?: face/para/wrap? ;@@ CRASH
			]
		]
	]
	init: [
		draw/3/para: make para! [wrap?: false]
	]
]
view [new-base  "hoi" wrap ]
```

[19:17:59](#qEwAirGuqpCFw_sndiinc7-yW1hDb8osfqBXBRk2LRg) <hiiamboris>:
will you report it please?

[19:33:11](#BoHxOt_FxiIEjwIoNwjlYwjQAVzNJZ_7r-0bJ-bPeqI) <greggirwin (Gregg Irwin)>:
> <@giuseppechillemi-59045d00d73408ce4f5bcd9d:gitter.im> Paths that strart with a string can't be loaded:
> 
> If you save on a file:
> 
> ```
> "hello"/"world"
> ```
> It is loaded as 
> ```
> ["hello" / "world"]
> ```

Paths *can't* start with a string: https://github.com/red/docs/blob/master/en/datatypes/path.adoc#3-literal-syntax

[21:28:10](#zJdAirFtWnIhVrYt3_KWMjr5uqGiuoS5zevusXSYOVE) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@greggirwin-55659ddb15522ed4b3e1006f:gitter.im> Paths *can't* start with a string: https://github.com/red/docs/blob/master/en/datatypes/path.adoc#3-literal-syntax

I know but since rejoin was able to create them, I hoped I could save and reload.

[21:29:52](#T6ZNkhBmyB8RNbqh0-9QDsedoWFjFRTB7Ee2rd4Yl-E) <GiuseppeChillemi (GiuseppeChillemi)>:
I am porting a lot of bookmarks from the browser writing the folders tree as `"root"/"rebol"/"bookmarks"/"parse"` was fantastic

## 22-Jan-2024

[1:16:42](#ZcTTG4fsh14orS9tA6DNGkfdfrhRJ6U21g00H2uFBxY) <GiuseppeChillemi (GiuseppeChillemi)>:
* I am porting a lot of bookmarks from the browser and writing the folders tree as 
"root"/"rebol"/"bookmarks"/"parse" was fantastic until I have discovered I can't save them.

[1:17:47](#UtVU-AHQOc59aHvGPQ18nSx2KzWiCjpHcpx-HANuCvA) <GiuseppeChillemi (GiuseppeChillemi)>:
Maybe some kind of costruction syntax could implement diffent kind of paths 

[2:14:10](#LEjnIKh1BNViyL7l0yKiPvpCTUo4aHm1xiEaDz93Gzw) <greggirwin (Gregg Irwin)>:
Or accept that they don't work that way and either use blocks or a dummy head-word; something to work around it.

[4:01:51](#nNLS_wBLka9qxOsrzZx2v9_ewt0n14hYXs9pGekse0w) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@greggirwin-55659ddb15522ed4b3e1006f:gitter.im> Or accept that they don't work that way and either use blocks or a dummy head-word; something to work around it.

I have already explored the dummy word root element. I could use It but still I have not choose.  Paths have a great potential and I have many ideas... Management function in the root word, blocks in paths, options, position  mode instead of selection, values grouping, dialects...

[4:02:15](#31JT7BqihaBSGjQ6RrZGXA4vLg170E3JOdHfIR_WJ9A) <GiuseppeChillemi (GiuseppeChillemi)>:
I love them! 

[19:48:38](#iWjpVqu0t7ICDdcdlIkLNKdAu2D3sgsOExS23A0udaw) <luce80>:
A similar CRASH to the one of yesterday, just click in the `base`.
```
view [
	base "hoi" draw compose [text 0x10 (rtd-layout ["Hi"])]
		on-down [offset-to-caret face event/offset]
]
```

[19:48:59](#zfTEWveNCydnbW363IXWdAtJeB_Po1-HXfWifupKZPs) <luce80>:
 * A CRASH similar to the one of yesterday, just click in the `base`.

```
view [
	base "hoi" draw compose [text 0x10 (rtd-layout ["Hi"])]
		on-down [offset-to-caret face event/offset]
]
```

[19:49:36](#gPGCvT1OqNfRlL1WPDDtO7N0j8ufbiX-P8WrodgKFSU) <hiiamboris>:
confirmed, and it's a different one

[19:49:38](#vK0ZkFj3_dXYq-vNdgqztrYFTnLDetx-BJTbgk7mq3g) <greggirwin (Gregg Irwin)>:
Reproduced.

[19:50:53](#EKHuIZQK4yq8Q54PE5DVW0HnlYosgxO4UVcGjppfL-4) <hiiamboris>:
Reproduced.

[19:52:22](#aACE75LtkKfeyptdgpjRdYCze6HqqPq76AixrNhpZ-c) <hiiamboris>:
is it related to the rtd-layout though?

[19:52:53](#FNf9KxuVcS365JkbSj7--IVSUfDfU8WZ0jTkFIdz92A) <hiiamboris>:
no, it isn't

## 23-Jan-2024

[3:18:15](#umeIJ0AZ-bfAgaVTHI71GThMPlKH00A18UiE9N3I6CM) <GiuseppeChillemi (GiuseppeChillemi)>:
Is there a reason why `BROWSE` does not start the browser on a link?

[3:25:42](#xEE1bcCiaVPy0boH6neLh0kSLlLSevvixc5MDq2waS4) <GiuseppeChillemi (GiuseppeChillemi)>:
I have a problem with text-list:

```
table: ["a" "b"]
View [
	text-list data table 50x200 [probe face/selected]
]
```

If I click below all columns in the white are. The first time I click on it I get an `INDEX 0` I think I should not have. 



[3:27:15](#v93gnmsLhMC-mKqyRxN61Okyr6TS3qSFNIZRK3kmuxY) <GiuseppeChillemi (GiuseppeChillemi)>:
 * I have a problem with text-list:

```
table: ["a" "b"]
View [
	text-list data table 50x200 [probe face/selected]
]
```

If I click below all rows, on the white area. The first time I click on it I get an `INDEX 0`. I think I should not have it.

[3:27:38](#-ljacAXg3QtyVg00KscF_eTsdYeOGxXph3rnGpLlfME) <GiuseppeChillemi (GiuseppeChillemi)>:
Otherwhise it is intended so

[3:30:33](#all1937osD-4BfDqvC-I-4pYSE1auGB0of333mzhsn0) <GiuseppeChillemi (GiuseppeChillemi)>:
In the documentation I read 
*Index of selected string or none value if no selection (read/write).*

[3:31:29](#Jv1-QTaW-LK0eJDi64lPNimgnfMAFpIIouJcVLw-gyA) <GiuseppeChillemi (GiuseppeChillemi)>:
There is nothing like `index 0`.. but one may thing it is a side effect which can be used to have events when clicked on the white area :-D

[3:54:01](#llFX78lYBVXXS5LofojGlSg0phEO-PmSDMdCkMjAY8w) <GiuseppeChillemi (GiuseppeChillemi)>:
* Is there a reason why 
BROWSE does not start the browser on a link?
---------------

[3:54:19](#gXhVZA8Hi5chSrgUd08m1cD_A5JtvGwwKGWMr0Rmo0A) <GiuseppeChillemi (GiuseppeChillemi)>:
* Is there a reason why 
BROWSE does not start the browser on a link?
--------------------------------------------

[8:16:47](#kk3pfpJ3YnMCUtGejxUcKGWy9ntWCkhOENgoMrI8Oh0) <hiiamboris>:
> <@giuseppechillemi-59045d00d73408ce4f5bcd9d:gitter.im> Is there a reason why 
> BROWSE does not start the browser on a link?
> --------------------------------------------

does `start` command work?

[8:18:41](#Sc_Wb3Bw07goTAQbx0G_B-ivD6lwGAx7DqCkCfQbCOk) <hiiamboris>:
https://github.com/red/red/issues/4556

[18:44:05](#4uJCC6IpmdqPcUQcG9sZKwOxpeKYd0x20fzmOvKAo40) <luce80>:
Font size of `rich-text` in `draw` block is "automagically" changed:
```
view [
	rich-text "abcdABCDEFGH"
		draw compose [
			pen red
			text 0x10 (rt: rtd-layout ["abcdABCDEFGH"])
		]
		on-created [
			rt/font: make font! [color: blue] ;@@ changes rt font size
		]
]
```

[18:51:31](#I7OtGE3oPv8fz_0i2Vsp78ZNOwF_CaOw4ccyn24_bC4) <hiiamboris>:
I confirm that `size: none` on my setup produces the result of `size: 10`, while `system/view/fonts/size = 9`

[18:52:37](#dR2ENdJX-ZKQ0hauYBzo8Mw_sKQuImSn-tw45UFYQrE) <hiiamboris>:
* I confirm that font `size: none` on my setup produces the result of `size: 10`, while `system/view/fonts/size = 9` and `font: none` looks as `9`

[18:56:18](#hGxQ5dOfU-EIU4xlhGW4DLh635TiTWI4ptP3ghicKQo) <luce80>:
In my setup I don't get 10 but something like 9.178...

[19:02:05](#yBqtWtqUvCGksZQ38xSgMZxoNlRHXm5-Ypo2Uk1lbeE) <hiiamboris>:
![](https://tchncs.de/_matrix/media/v3/download/tchncs.de/b9169d89032bf5f52f8ddfa0b715e9b3f9036c52)

[19:02:16](#an1t0dgCiUED4EuY-P6eskmxHJNTAWKRe209PQPAf7k) <hiiamboris>:
```
>> view [
	below space 5x5
	rich-text 100x20 data [font 10 "ABCDEFGHI" /font]
	rich-text 100x20 data [font 9 "ABCDEFGHI" /font]
	rich-text 100x20 data ["ABCDEFGHI"] with [font: make font! []]
	rich-text 100x20 data ["ABCDEFGHI"]
] 
```

[19:05:49](#CBAVrVCoZY46YNrGz5wW7JVpTHweKysKGNoM3OWv8hc) <luce80>:
2nd and 4th are different, 4th seems 9.178...

[19:40:21](#YU4i_iUCxMv28SBpCD5YaPVFxIjyg55co3O-v8SqxG0) <hiiamboris>:
I'll trust your eye :)

[19:41:10](#4vWaFCw0CHvesDbxwwsy7IOVIyIQ3rDAA06e-f9wKZQ) <hiiamboris>:
but the main point is 3 and 4 should be identical

## 27-Jan-2024

[14:53:55](#5uzLh1WV8-cuu_wQvnnv_zXuRESIZq3C3vPki7AgxL4) <luce80>:
@dockimbel @qtxie @hiiamboris I am trying to make a custom rich-text area but when I press the `tab` key my face looses focus. Is there a way to avoid this? The `focusable` flag does not work on a not-area.

[15:20:47](#uP30kTECMLfXaZ5JA58eqm7IGmOdNvEAzHvqMOAeHUk) <hiiamboris>:
what I would try:
- make focusable and short-circuit the face into itself using [/prev and /next](https://github.com/red/red/commit/2e7eba60cf6cc1f5777f5c9347ca83325c8ee71c)
- catch the `on-key-down` event and return `'stop` from it so it won't produce `on-key`
- don't bother and use Ctrl-Tab to input tabs
- replace the tabbing handler with my own (you can use a [configurable one](https://codeberg.org/hiiamboris/red-common/src/branch/master/tabbing.red) instead of the stock one, and just adjust it)

[15:23:26](#zkWGWdUGvqRruPSTh7CRep_gf3vTwTXZOhT3UoQZ6iY) <hiiamboris>:
* what I would try:
- make [focusable](https://github.com/red/red/blob/8cc71f9606f17940fe62cc62a0cf43142d6912a3/modules/view/view.red#L1072) and short-circuit the face into itself using [/prev and /next](https://github.com/red/red/commit/2e7eba60cf6cc1f5777f5c9347ca83325c8ee71c)
- catch the `on-key-down` event and return `'stop` from it so it won't produce `on-key`
- don't bother and use Ctrl-Tab to input tabs
- replace the tabbing handler with my own (you can use a [configurable one](https://codeberg.org/hiiamboris/red-common/src/branch/master/tabbing.red) instead of the stock one, and just adjust it)

[15:32:13](#m27xWRNECSqpVa074ZWcLygWyLpzdPHC1sDxSGSo7mA) <luce80>:
Thanks.
Ctrl-Tab is already "intercepted" ( it doesn't work) and really not an option for a "normal" text area.
A custom handler like yours seem a bit complicated but if nothing else will work...I will copy paste yours ;). I will first try the first 2 options if I understand what they are and how implement them.
Isn't this a kludge for a kludge?

[15:35:04](#wPN-xDpY9lPqqRJM48Co-ycFfmhKgk65_6JzcxJMBCE) <hiiamboris>:
I agree the design should be more flexible. To inform it we have REPs ;)

[15:35:51](#qAStNxDurJoR4j2MpR9cS9l1_qp2fuLvIoUT_fE4pp8) <hiiamboris>:
I also find the implementation extremely complex and non-modular.

[15:36:21](#7LKCnwd83SRWc-xsKYkAqNVzzqdKH4EiXJkYkAzK8d4) <hiiamboris>:
* I also find the implementation extremely complex and non-modular. At least tree iteration should be separate.

[15:40:09](#GtaJDMM0-o33htNlU5HatpR1HhmB3wpUrqmu_7fbK2s) <luce80>:
The `tab` cycling I did for my `[request](https://gist.github.com/luce80/89be16a8d0a3031b41cc49795e6e20b4#file-action-requesters-red)` is not "automatic" but it was quite easy to implement.
P.S. is it normal that if I call `set-focus` in my `on-down` actor my `on-focus` actor is not called?

[15:40:31](#Y7IfC41Q2UcUDenKjG7uSgCeW6h8v_pjl-3H7PHlt3M) <luce80>:
 * The `tab` cycling I did for my [request](https://gist.github.com/luce80/89be16a8d0a3031b41cc49795e6e20b4#file-action-requesters-red) is not "automatic" but it was quite easy to implement.
P.S. is it normal that if I call `set-focus` in my `on-down` actor my `on-focus` actor is not called?

[15:40:59](#Xab6C-_Pgjtjeplz4RnL-oWBJGP4dOpTetijLVWt7WI) <hiiamboris>:
https://github.com/red/red/issues/3728 ?

[15:42:22](#2K27BhPMc-BifT9OEAqL1Lppr-ixd9y-GY-SjKxuhzU) <hiiamboris>:
if you're comfortable with your own tabbing implementation, just disable the native one with `remove-event-function 'tab`

[15:45:28](#KzEmC3tUIxEEB_0wmxZBJ3k8LQL_PnxjCqnse8GqJXI) <luce80>:
> <@hiiamboris:tchncs.de> https://github.com/red/red/issues/3728 ?

Ah...it seems it is normal...but at some point tab-navigation was mentioned...

[15:46:55](#0IhVvnFbeUl856JgwjkICcp1cFmTc_l9vFmPB_nPyw8) <luce80>:
> <@hiiamboris:tchncs.de> if you're comfortable with your own tabbing implementation, just disable the native one with `remove-event-function 'tab`

One thing is an "own" "isolated" "custom" window, another is a special style meant to be used by many scripts.

[15:47:09](#3kWZr6KEpld8mtqjg3DIHoNUy7i2nHmespBSHQgGQPQ) <hiiamboris>:
right

[15:55:19](#wa77muLOGGMMtp73Z-QNSvZFVvJYgh_MXwCpZHtBd_8) <luce80>:
About `set-focus`, this works and could be enough:
```
set-focus: func [
    "Sets the focus on the argument face" 
    face [object!] 
    /local p
][
    p: face/parent 
    while [p/type <> 'window] [p: p/parent] 
    p/selected: face
    attempt [face/actors/on-focus face none] ;@@ ADDED
]
```

[15:57:38](#UgoS0ba214SHfIyyyuEGa9VcKa0RfEAPJOvgS6iLcdA) <hiiamboris>:
there's also `unfocus` and native focus changes on clicks

[15:58:21](#EB-qaxmvXOmTv3uJBCziUzojgCl4LUROhr7ObKxQ36s) <hiiamboris>:
and ofc passing `none` for event is a kludge :)

[15:59:15](#Dr7QbcMaRz_JbHPC3j7dRJji0XUSHoeLOWt5sUudk2M) <luce80>:
:) . Still better then nothing IMHO.

[16:01:59](#oRbf74wZ7G0IElXU-LMsk4eU77jGHA3OLle79a9M7b8) <hiiamboris>:
you may also want to change `attempt` to `if function? in face/actors 'on-focus [face/actors/on-focus face none]` or your minor mistakes will lead to silent actor failures and a lot of head scratching

[16:02:15](#1IxsOLQPt4JS55H90S04WOm1qpH68Ztj9rHd27JrW9I) <hiiamboris>:
* you may also want to change `attempt` to `if function? select face/actors 'on-focus [face/actors/on-focus face none]` or your minor mistakes will lead to silent actor failures and a lot of head scratching

[16:08:56](#ykoZ7V8h6voJ_wT3gaNs5__T9MzOaWf6NoYo6TFZbKY) <luce80>:
Yes I am lazy í ½í¸‡  and talking about `unfocus`:
```
set-focus: func [
    "Sets the focus on the argument face" 
    face [object!] 
    /local p
][
    p: face/parent 
    while [p/type <> 'window] [p: p/parent] 
    if function? select p/selected/actors 'on-unfocus [p/selected/actors/on-unfocus face none] ;@@ ADDED
    p/selected: face
    if function? select face/actors 'on-focus [face/actors/on-focus face none] ;@@ ADDED
]
```


[16:12:33](#3vM8mi0a21NHAVvFPAGrcLWobGuJCbTnGuWvC2LQ-D4) <hiiamboris>:
note that it may fail in panels https://github.com/red/red/issues/3808

[16:15:18](#NgmHsCxnUf-LnWrrNO3TMMEE-4PIFq_NfFwL7YJ6AS8) <hiiamboris>:
that is, set-focus may throw unfocus into the wrong face ;)

[16:21:17](#9J-YvMZSJz_FSKA3A2KrRXNrml7FtX9bkLZrYJ1kzbM) <luce80>:
Haven't panels a `p/parent` face?

[16:22:04](#NY_ivJnCuhztbihkguwN7SmxuhVB6xIJIsZylA2swm0) <hiiamboris>:
that issue comes from native focus setters, not from set-focus

[16:22:18](#ZxHFYg4DmznzkcaU_5zwBkFLOiYn3t8h0zDg6dykqQE) <hiiamboris>:
* that issue comes from native (R/S) focus setters, not from set-focus

[16:23:19](#HF4d9IYAztMfcmDkzQrpML0JEALvyH53ivIHEkIKyR8) <hiiamboris>:
so yeah, there will also be completely missed refocusing event pairs ;)

[16:52:05](#W1vorHqYINTk_jiL-bAK7oC59INEuFyd05cOeLgrt8o) <luce80>:
The `focusable /prev /next` trick seems not to work :( . Is it related to the `on-key-down` trick or are they 2 different things?

[16:55:35](#Jt9DSvB6p5wx-cYfjPOJAZilzD5qar6Zkdbd7KRsYTA) <luce80>:
Also `on-key-down ['stop]' seems not to have any effect :( .

[16:59:02](#vfez5DYu5A5_mlGe6GOhFo7bcIUIach2DWa1EjVSGP8) <hiiamboris>:
the idea was that Tab would place focus into the same face, you just have to make sure it has focusable flag

[17:04:13](#TJ4jIu3aSAMrFzRxYpfpnBoh9xDY2pE5dcHhB-Vx5kk) <hiiamboris>:
doesn't seem to work though

[17:08:21](#qPNoNA61xobGrJGj2VJKOtbobRODyGz1rGsjXpYtyN0) <hiiamboris>:
ok I grew my hands out of the wrong place

[17:08:25](#xaYD5_U-7QxT8Flh7ZgiOpudjVZouzZTShN607lAetY) <hiiamboris>:
```
view [
	button "1"
	rich-text "R" with [flags: 'focusable]
	on-created [face/options/prev: face/options/next: face]
	button "2"
]
```
works

[17:13:30](#bB6rJYwLrEjO8Cm-sHtG-li7AuwxKTIOiUiD7798l2E) <luce80>:
?? which Red version? if I press `tab` nothing happens:
```
view [
	button "1"
	rich-text "R" with [flags: 'focusable] on-key [?? event/key]
	on-created [face/options/prev: face/options/next: face]
	button "2"
]
```

[17:13:46](#3YVUAS5TnF-3GxkhHPxoHlB8GItMRyHZb-jIB0N2C5A) <hiiamboris>:
`Red 0.6.4 for Windows built 14-Jan-2024/11:37:32+03:00  commit #7e50e5d`

[17:14:46](#O037IjQfG_NTPAyKtg3Mqesi09tfdXSZ8nYA2NkLl8Q) <hiiamboris>:
but I get no on-key either, because it is eaten by the global handler

[17:16:39](#oKwcDvyU058CcEx4ed3qUOfrQ76qbA-ikyx5p6rZtoo) <luce80>:
Therefore is a custom `insert-event-func` the only workaround ?

[17:17:08](#jW4hrsoSEEqnIGY7tiAcq2n9Xj5PtT_OYdhVUB2B4WI) <hiiamboris>:
on-key-down

[17:19:06](#Fe1qhZB6go5jqf2axlojOjwV_l6exo25HOuxLQlssGM) <luce80>:
No, nothing happens also if I change `on-key` with `on-key-down` in the above example.

[17:19:26](#SUQW2F06px9WyvnEVKhgs2Vsj8phhJOBcnDQ3bst4m4) <hiiamboris>:
right, it's also eaten

[17:23:17](#sU8DwPI2YAx-OYKmlKxT3g6jEwPU1XNDEmjAr5Hv7Zw) <hiiamboris>:
how about cheating:
```
insert-event-func 'tab func [face event] compose [
	(system/view/handlers/tab) face event
	remove-event-func 'tab
]
```

[17:23:36](#wc7mDjV6YweyBCHxF4FeG7Whz4uUeNqqqheda3epK-8) <hiiamboris>:
* how about cheating:
```
insert-event-func 'tab func [face event] compose [
	(system/view/handlers/tab) face event
]
remove-event-func 'tab
```

[17:24:11](#1XYcAp2g5lPWlGbTgDj8H4DeAvWutPs__Ie2vgSLQcA) <hiiamboris>:
* how about cheating:
```
insert-event-func 'tab func [face event] also compose [
	(system/view/handlers/tab) face event
] remove-event-func 'tab
```

[17:24:31](#YjONRROWGwZlM-8n0uq4mALFK0fj_TDvX-2lr3qywNk) <hiiamboris>:
* how about cheating:
```
insert-event-func 'tab func [face event] also compose/deep [
	if face/type <> 'rich-text [(system/view/handlers/tab) face event]
] remove-event-func 'tab
```

[17:27:25](#bI2ycjVz-LIcJ46odwOk5DcPde9JNAApWuXTWWy3lkk) <hiiamboris>:
* how about cheating:
```
insert-event-func 'tab func [face event] also compose/deep [
	if face/type <> 'rich-text [(:system/view/handlers/tab) face event]
] remove-event-func 'tab
```

[17:28:18](#3UwlOjpoh_NrIBQeCoKigyoqEc2r1BILmt7_BZyEsNo) <hiiamboris>:
* how about cheating:
```
system/view/handlers/tab: func [face event] compose/deep [
	if face/type <> 'rich-text [(:system/view/handlers/tab) face event]
]
```

[17:32:07](#BZkDJrYPnfPbooaxiYKHyv4iBnPQAlilJmB_RA4yf6o) <luce80>:
Weren't we talking about kludges ;) . It works but strangely... You need to insist to get key presses í ¾í´”

[17:35:21](#8pmymwjvTigvud0TxuWMvLLkypiPK6DXxEXCTjFCisM) <hiiamboris>:
your event filtering maybe ? ;)

[17:37:17](#eW1h9fmeltlxS2fbEXsW9JgvPoehIJekFaauBqPv9pA) <luce80>:
Not exactly but this should do it:
```
insert-event-func 'tab func [face event] also compose/deep [
	if face/type <> 'rich-text [(:system/view/handlers/tab) face event]
] remove-event-func 'tab

view [
	button "1"
	rich-text "R" with [flags: 'focusable]
	on-key [?? event/key]
	on-down [set-focus face]
	on-created [face/options/prev: face/options/next: face]
	button "2"
]
```

[17:38:30](#OZXpfcp6EdZ05qkR3eZVq8cPp_pTXm5ieYYQdrDgUS8) <hiiamboris>:
no need in next/prev kludge anymore

[17:39:20](#Xb2yJXfOZQ8wr0WZ_3vnFbMn51TS2Lv2s_4yX-3nghY) <luce80>:
One less kludge...;)

[17:45:15](#ySuXeiKi8_Yax0OoPZLZDR74lVrlAFbAy0KnM61jRfY) <luce80>:
It works. When I'll grown up I will make a better handler to let ctrl-tab to exit the area. 

[18:21:56](#vWFA_DdmKL7vHTkyEI5O54mQ4dHlSCB18A5W7bEyCw4) <luce80>:
Damn that handler, I do not get ctrl-tab presses...

[18:22:39](#8ykYu3vpaHHG8g9CRITfCmay9fre7TQBREyPhM4xPLs) <hiiamboris>:
how so?

[18:25:24](#s8GRQFGSgndzf5AY9sj3wCxkHq0Zjv0w9sBnF7vQRYk) <luce80>:
Try the above example.

[18:26:48](#z9dXppii6irVHFxdmzIIz_X6XKsSBpNA80oH-0eEIA4) <hiiamboris>:
use on-key-down, it's not a printable key combo

[18:27:35](#GOH08zIyVJAvTL7JypcEkLZTJkf4vgUngXwxvr-WMJM) <hiiamboris>:
Windows does not generate a key event for it

[18:32:51](#7dkU31FndmOpFmRTqys6PLfVqngcbE5bg8M8lOsgUnQ) <luce80>:
?? I don't get it but with on-key-down it works, can I use only on-key-down or should I resort to it only for this special case?

[18:33:53](#q6XRZ0xWcwPM3iuBhF5aKgvxDfjVSiZMePV2BOjBZ0c) <hiiamboris>:
only use it to catch key combos

[18:35:38](#Ov_H6-9nURAdxfSUwtl9BQJ990FwSgAWONu2HjQcccw) <hiiamboris>:
the difference between on-key-down and on-key is the difference between a *key* and a *character*

[18:36:19](#6c-t_Y4b2hDDKSTj5pmgCcOlzrHBI7OHRcNif3h-Z8s) <hiiamboris>:
maybe latter should've been called on-char.. too late for that though

[18:37:05](#77inJgUxkuzutQAS8azdSUF7xEM_rBQx1IMM_ywiR7c) <hiiamboris>:
on the other hand it sees arrow keys so that name would be wrong as well

[18:40:17](#gyRVQrGNX_Lcx0R6OKSObsWxBmit3ZcKEOYLibv-Ii8) <luce80>:
Mmh...I am still too young, as I said, when I'll grown up I will make a better handler to let ctrl-tab to exit the area. Since `get-focusable` seems too primitive (and/or I am still too young ;) )

[18:55:55](#1jCXLLS_9yW443NXHIYjoQnCSlFEfXkaz_oBUVSjBoc) <luce80>:
Damn that handler, all faces other then mine remain unfocused :( , even if I manage to "exit" my face (with ctrl-tab ;) ) none of them become focuse :( 

[18:56:28](#r0bVksJdPj0MWwGkcjt5Ku_3VzUX43872WNWz6cRwXU) <luce80>:
 * Damn that handler, all faces other then mine remain unfocused :( , even if I manage to "exit" my face (with ctrl-tab ;) ) none of them become focused :( 

[19:26:48](#7KaqBrkFtQAU0WlxTlrvvN6JC1GYLZS_uZlz2bI9cxM) <luce80>:
I am growing...I have to restore the previous handler...now I have to find the right moments to use the new one and the old one...

## 29-Jan-2024

[11:25:23](#xcXAn16iWjXo2vChAr0l2WdG8eMA3T7VU3brnyYoquQ) <Oldes (@oldes.h:matrix.org)>:
qtxie: I think that at [this line](https://github.com/red/red/blob/8cc71f9606f17940fe62cc62a0cf43142d6912a3/runtime/platform/image-wic.reds#L781) should be used `0` (WICDecodeMetadataCacheOnDemand) instead of `1` (WICDecodeMetadataCacheOnLoad)... else Red has the same [issue I just fixed in Rebol](https://github.com/Oldes/Rebol-issues/issues/2587).

[11:44:12](#DFuPGh5--i2jJ4ksmwe3fuGJIKCUpZYARR1kL_e3bsg) <qtxie>:
Thanks. I'll change it.

## 2-Feb-2024

[1:32:25](#DtG6Q27Jd0LTXdZFQj2l_kXypizBwDTMVX87t2u6fqo) <GiuseppeChillemi (GiuseppeChillemi)>:
Is it correct? 
```
probe type? 'select@raw`
email!
```



[4:27:20](#JTXrilDfnfn0JUWOcynr_rb_L2ptu5Q1AvwAsoc0Jmo) <greggirwin (Gregg Irwin)>:
It's a good question. I think it's an undefined edge case. Worth a ticket if none already exists for it.

[4:54:55](#xCdRb2Ob95duihXYBnXZtXL54CSW08ReYNj9r8KfmEA) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@greggirwin-55659ddb15522ed4b3e1006f:gitter.im> It's a good question. I think it's an undefined edge case. Worth a ticket if none already exists for it.

Lets' wait hiiamboris 

[4:54:59](#nk40S4htX5Bs24rky65EPo_p0L3O2RCOSzSeKMnDdKI) <GiuseppeChillemi (GiuseppeChillemi)>:
----------------------------

[4:55:27](#PIjjBoXcUYuBfDkmUrGKCxSRluNt1sql6K5pGs2gjkY) <GiuseppeChillemi (GiuseppeChillemi)>:
New question:

I got this on `make error!`
`*** Internal Error: invalid error object field value: none`

[4:55:32](#x8QTBBVUykPTf8BLW2WX5cc3lE4e-SODZvOhZRosRB0) <GiuseppeChillemi (GiuseppeChillemi)>:
Should I report it?

[9:07:06](#RtK2eiKRg8WNXTtnuMAl_CMPeqSACMiJp79VP0cY6Do) <hiiamboris>:
depends

[9:07:53](#bBzCj54IZDU32tQj2PXK_swRxa3Pu1Uf_u72Dkpjsy4) <hiiamboris>:
but since it's an internal error, likely you should

[9:09:11](#etR10AamaUnkVMfxTbFwgJKkmIsj_17LOLsE1tlwUU4) <hiiamboris>:
it'a a valid email

[9:10:19](#fBX_h28Eef9YhUdKAqa3jMkzOurIAkG_dN_MjuCH0sQ) <hiiamboris>:
* it'a a valid email except for backtick

[9:11:00](#WFEnR25bZMSyiUPc8UZ3lI8PaNsE4dOpYDxNCj4ir-s) <hiiamboris>:
* it'a a valid email except for backtick https://stackoverflow.com/a/2049510

[9:11:25](#7md5a4r-3AdQVDWSh6c8ZCahmCLv-G0Qy64i5r9YaXM) <hiiamboris>:
if you want to report it, push the backtick rule

[15:33:53](#RGUloWUcGcIzKfiVwjjlCmX7B2AuHVs3jfcmkWaVim0) <luce80>:
Using `wrap` VID keyword resets `para` values:
```
system/view/VID/styles/my-base: [
	template: [
		type: 'base
		para: make para! [scroll: (0, 0)]
	]
]
view [my-base 100x100 wrap on-created [?? face/para/scroll]]
```

[15:49:07](#6YTZ65pqzKNHv3eFFv3D7w24tGOrmPjykfZon_r2DHU) <luce80>:
 * Using `wrap` VID keyword resets `para` values:

```
view [
	style my-base: base para [scroll: (0, 0)]
	my-base 100x100 on-create [?? face/para/scroll]
	my-base 100x100 wrap on-create [?? face/para/scroll]
]
```
It seems also that it does not "fire" reactions on the `para` object.

[17:57:04](#q_zLHOG-SdWBP9fQgoo-6p3ruuvQgTMkV0_ctwqYMAQ) <hiiamboris>:
doesn't seem reported

## 3-Feb-2024

[17:12:44](#d5St7Dav0_1WcqN6n0fR7e6No6M_98W1_KsrBVWhE8A) <luce80>:
![https://gitter.ems.host/_matrix/media/v3/download/gitter.im/1d8dd60a1f1ab873da41b504a77b4a22fb5661461753828877890748416](https://gitter.ems.host/_matrix/media/v3/download/gitter.im/695adf26ba6aa26aee7343ad1c38284e01d10d671753828880340221952)

[17:14:28](#cVsRu9UY3K4_SI0NmuaE19Z2wJfR8WPoUqP-RAf3fC0) <luce80>:
There is a too late or no reaction for an `away` over a scroller with "custom" `on-over`:
```
view [
	below
	base gray 200x100 with [flags: [scrollable]]
	ON-DOWN [set-flag face 'all-over]
	ON-UP [set-flag/clear face 'all-over]
	on-over [?? event/away? ?? event/flags  print ""]
	button "test"
]
```
see the picture.



[17:16:50](#I9MKb8qR7u_DCAZ8XpwoocM1Uo0fpML0BkLdXqhv-dM) <luce80>:
 * There is a too late or no reaction for an `away` over a scroller with "custom" `on-over`:

```
view [
	below
	base gray 200x100 with [flags: [scrollable]]
	ON-DOWN [set-flag face 'all-over]
	ON-UP [set-flag/clear face 'all-over]
	on-over [?? event/away? ?? event/flags  print ""]
	button "test"
]
```

see the picture , the `down` flag is not automatically cleared..

[17:23:02](#pNMHGiiN3s4iYJG1wrALvq6mp_OSlkQPC2oxBdybZu4) <hiiamboris>:
seems unrelated to `away` but I confirm setting `all-over` flag seems to lock `down` state

## 4-Feb-2024

[19:14:38](#U8DfjdsVciZLiL82WQmMASn4VqQJinMLbdNBDT1ySo8) <GiuseppeChillemi (GiuseppeChillemi)>:
In `FIND` `/part` limits the length of search. Together with `/last` it should limit the length starting from the tail. Instead it still uses the starting of the container taht you are searching into.

```
a: [1 2 3 4 5 6 7 8 9]
>> find/last/part a 9 -3
none
```


[19:14:54](#jJkhiGSdy0LEgkqdgfXPZNZx4Y-m0FoOdXJ_lRtZW-0) <GiuseppeChillemi (GiuseppeChillemi)>:
 * In `FIND` `/part` limits the length of search. Together with `/last` it should limit the length starting from the tail. Instead it still uses the starting of the container that you are searching into.

```
a: [1 2 3 4 5 6 7 8 9]
>> find/last/part a 9 -3
none
```

[19:22:07](#1mmnGLMANBR_zVLClwexfQKKHq6n8oALu677PKdeUv8) <hiiamboris>:
`tail a`

[19:22:42](#cM6CNgtQm3uv-J0jJJ7QNZ1nQWHzR8uw9jxPofvDduU) <hiiamboris>:
`/last` applies to the region between current offset and `/part`

[20:29:56](#Rg0hXAF-Bl3eGoaivAp_ivshE3jwTQHRkZ4bETWKtwk) <GiuseppeChillemi (GiuseppeChillemi)>:
hiiamboris: while developing a function I have used a word to give to a function but malunctioned and a contition belonging to a series was triggered instead of one belonging to a function.... 

[20:30:06](#bt6lUFTShG56vJN26WL9K-4P5XiOPUMp0ypV8Z9Chj0) <GiuseppeChillemi (GiuseppeChillemi)>:
 * hiiamboris: while developing a function I have used a word to give to a function but malunctioned and a contition belonging to a series was triggered instead of one belonging to a word...

[20:31:29](#573g2qLIMSbbT7QVAQNSM1J7QCjx5lueUre8nygg9Fw) <GiuseppeChillemi (GiuseppeChillemi)>:
I have blocked all the script executing at the start of Red, so putting `halt` on top, just leaving:
`probe e`
Guess... :-) 

[20:31:43](#1787W0u7WNW_8B-IH4Qs6pRyHH7aZ1SGXoww_xZqPEs) <GiuseppeChillemi (GiuseppeChillemi)>:
 * I have blocked all the scripts executing at the start of Red, so putting `halt` on top, just leaving:
`probe e`
Guess... :-)

[20:33:37](#IWeSackR4FlgVyYZLXJyU2mQSumdwphgVRO3c6lunxo) <GiuseppeChillemi (GiuseppeChillemi)>:
hint: `either assertions [change s 'assert][remove/part s e]`

[20:34:10](#hZBS8buXj3pe6-7Xl1Q6D_6hZlfkbOyQeUOUKosWJlw) <GiuseppeChillemi (GiuseppeChillemi)>:
 * hint: 
```
either assertions [change s 'assert][remove/part s e]
```

[20:35:49](#3uqSEYDHP8tBTAYBMHcC3_b-tnU4vobm7pYs28-B7WU) <GiuseppeChillemi (GiuseppeChillemi)>:
 * hiiamboris: while developing a function I have used a word as argument to give to a function but malunctioned and a condition belonging to a series was triggered instead of one belonging to a word...
Probing that word, part of the script were printed.

[20:36:35](#FLCzkVHfoAOpca64eMFkMGp4x5Z9meoNUG7gg33qOO0) <GiuseppeChillemi (GiuseppeChillemi)>:
 * hiiamboris: while developing a function I have used a word as argument to give to a function but malunctioned and a condition belonging to a series was triggered instead of one belonging to a word...
Probing that word, part of the script was printed.

[20:39:00](#N9htOtGaCo9Uy7Hknq3nyXxdM9YLzxlDURrvM13pyQ0) <GiuseppeChillemi (GiuseppeChillemi)>:
(I don't know if it is the line that causes the problem but `#assert` seems the cause)

[20:43:26](#E0Y2JvThq8x7KI6menEjPzQ3B4KBS2HceCDru4b5dpk) <GiuseppeChillemi (GiuseppeChillemi)>:
(This led me to discover that coders love similar letters and words)

[20:58:36](#Z730dvt2zhQdL5K5w1HmeATipYRHTz_laxyjX-BMNUo) <hiiamboris>:
that function doesn't leak

[20:59:24](#txOY10tySixLQocx8b0k0UgVMd5zwEey33jbmjZ9SIA) <hiiamboris>:
* that function doesn't leak `e`, but maybe `nl`

[21:00:58](#GfXV4btaubvfFpY-u0gv4qyoN3vKhDNbklOexXPsNLw) <hiiamboris>:
fixed `nl` leak (can't express how I hate this `func` abomination of design)

[21:09:44](#hHgYoirhjdHMLi0KyxzBv040Q8z5qqxRq6DVxQVp8lI) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@hiiamboris:tchncs.de> that function doesn't leak `e`, but maybe `nl`

You hate FUNC func that needs each word to be mentioned in `loacl`

[21:09:51](#Z9bsv8pBI5EFrqGFkHnFzSKBtGk_n_c5POT3A0J3bTM) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@hiiamboris:tchncs.de> that function doesn't leak `e`, but maybe `nl`

 * You hate FUNC func that needs each word to be mentioned in `/local`

[21:09:56](#o8vySeaN2sZY7IHfLU0OB_K-y5sh_PlGgxytNYgjsWM) <GiuseppeChillemi (GiuseppeChillemi)>:
 * You hate FUNC func that needs each word to be mentioned in `/local`?

[21:11:01](#XjMVj1LX73OpO6PtkIhSHM2E4dGkb3LHtxfsp5pv09M) <GiuseppeChillemi (GiuseppeChillemi)>:
I owuld like too to have some form of fences but not as `function` doees.

[21:11:09](#e62BiiVZ4KFQwN935VByC-smTwFkkU7M-8pvjT-LGVE) <GiuseppeChillemi (GiuseppeChillemi)>:
 * I would like too to have some form of fences but not as `function` doees.

[21:11:19](#LU-886y109vkbXsDH0VHLcG97DHK0BuzdGfTVrGmzIs) <GiuseppeChillemi (GiuseppeChillemi)>:
 * I would like too to have some form of fences but not as `function` does.

[21:19:03](#I8WrQqM98ZUcF9GPgAEOpPXGnkAqty-jyx36kXgpSVs) <hiiamboris>:
yes

[21:20:00](#DXmhc7lBdHm81r2vi-2-s56L6UkqcLOQaFj6a0jWz48) <hiiamboris>:
rebol should have made locals assignment vs outer assignment syntax explicit from day one

[21:20:13](#Xg0ZGKBMeno0y8fbblYB_s6Pm7IURTgQb0vgJQMOKzg) <hiiamboris>:
not mix it all and hope for the best

[21:22:57](#uzP_a5h9g3l8TO8aLLlxt5zeZ6kBDlON9GQD3lNSvBU) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@hiiamboris:tchncs.de> rebol should have made locals assignment vs outer assignment syntax explicit from day one

Have you any ideas of how it could be?

## 5-Feb-2024

[9:10:55](#5huKDTXEQ5mE8saeSM6q45oLKY4eosht9hWDWYDr5q0) <hiiamboris>:
idk, maybe by erroring when setting set-words outside topmost context in the stack

[17:57:09](#m8niLyVvNKZ7UaDMAatpi_sZjoOW2e3n3sb20Q5GtZs) <luce80>:
Nice...do you mean something like `var:` for global context and `var=` for local context ?

[17:59:16](#AWVEKrVS3ZemVqDR8aDrGyEtWty9gTW_ZXu6JId7tOg) <hiiamboris>:
maybe paths for all contexts but set-words only for current one

[17:59:55](#FJNw9d2-SazfDYwn0fgCrlj7mJo619LZPA0MVI05WEQ) <hiiamboris>:
but a lexical form like `var=` wouldn't hurt either

## 6-Feb-2024

[2:06:04](#uT0wWtAzOn3mBNfFBphMhUEOGsCFLgiFhNLTYX-aebQ) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@hiiamboris:tchncs.de> idk, maybe by erroring when setting set-words outside topmost context in the stack

But in this way you loose setting set-words of the functions tree that called the current one if you are talking about function runtime. Or are you talking about function context creation phase? 


[8:37:56](#avJWJ4FcU-6qL55jTu-55JQOaAPOCD7SyN_b5S1DJZ0) <hiiamboris>:
function tree is a very bad idea in Red

[9:20:10](#UBY9iQhLaeAGWiVlCYeuVZBk2cDEGTsD0PPhUB9k7iU) <pekr (Petr Krenzelok) (@pekr:matrix.org)>:
If you introduce = for an assignement, I will chase you in after life!

[10:55:12](#6HWuf9BptKRU-dQlaH3Dmj-k0pYEKkTc9O2jDi7poSM) <rebolek (Boleslav BÅ™ezovskÃ½)>:
Ä±'ve got a function constructor that uses `local` for specifying local words:
```
local a: 1
```

[11:34:17](#LB8WBWMaTUVYKF22CiPgxCgLX6KMkE4ZWgRGq2kZ1dM) <hiiamboris>:
should be the default

[18:33:11](#lLlmAnUuc01RkjSAXAS8vnWcFphKKlqZKt61-hztqOU) <pekr (Petr Krenzelok) (@pekr:matrix.org)>:
 * If you introduce = for an assignement, I will chase you in an afterlife!

[21:05:05](#0XKzkskq1Jk5dYxhcieDP6sW2qhTJt0kMd5KMcXbYsE) <gltewalt (The other Greg)>:
What language has different syntaxes for local and global ?

[21:10:50](#kn7PCrOzs8Mmm38yy2ExQIzCqYBkb630cRfn8vMLOXk) <hiiamboris>:
most of them require explicit declarations and will error out on undeclared variable assignment, which helps avoid this Rebol trap

[21:11:33](#QKKd28R9CleMlO8eZQkagwYuSDicMiaay21zY_7tG5Y) <hiiamboris>:
and some don't even have the notion of reassignment ;)

[21:13:58](#zSFHljo-DhLuPiPqj5tlWS9qXQ6qmTrfhRQcx8aOqtw) <hiiamboris>:
and in strongly typed langs chances of accidental assignment are near zero because of typechecks

[21:14:44](#1tA16Kkj-HxdyB_of1WG9zfGIdRtXbmoSMqQD4ifEAU) <greggirwin (Gregg Irwin)>:
It's one of the things that makes Redbol langs special.

[21:19:27](#xiCM75ofI7dzKOZS6cXovZHOszyBeY3HTaDrDu0CDBc) <gltewalt (The other Greg)>:
function shouldn't leak? It creates a context

[21:30:19](#gqcXQaT6YQLzTYbc8rmDPTJcNnQY-ywf5VGJyfTGeLQ) <greggirwin (Gregg Irwin)>:
`function` collects set-words, but not `set` calls. `func` doesn't capture anything. You need to use `/local`. 

## 7-Feb-2024

[0:22:07](#guR-ZqXGyz1sOLtxJPj1XZzW-ROpEzyiqM_L41_fl9k) <gltewalt (The other Greg)>:
Javascript has huge warts, but it still took everything over

[0:22:12](#CmwYHhZUUVoDHjo5ktyq_7yK-BDhDNwkRqWwQBKMXfc) <gltewalt (The other Greg)>:
https://www.w3schools.com/js/js_scope.asp

[0:26:16](#kAbdelF0DmJvxWmQfQQiPCJBJTWgGz1hMJyXAElJoh4) <greggirwin (Gregg Irwin)>:
Not because it's a better language though. The goal is not picking and choosing features or behaviors and combining them, but defining a language well. Note that the block example there required a language change. In R2 all it took was the `use` function. Red can do all that is needed, but designing *how* best to do that is tricky. 

[0:30:43](#963kQNB_KDEf8eg-nVolSNO-GwjyMznfaPv_XZQtNhc) <gltewalt (The other Greg)>:
No it isn't better, just pointing out that it's still possible to flourish in spite of flaws

[19:26:37](#Jr-ZY201wJzCZTE8fC42GVMAadqCPe3clSPtHYI1FLA) <luce80>:
I get a crash with:
```
in try [1 / 0] 'id
```

[19:29:58](#5MsoWKAMCiSkPVR9i42NYv3urhU6aFnIsFKpX1wuOFs) <hiiamboris>:
confirmed

## 8-Feb-2024

[12:23:42](#-9cWMU6NP6T4tXqxsrWnQdeZe1gwnhmAQ7_y1GuSQg8) <rebolek (Boleslav BÅ™ezovskÃ½)>:
`func` definitely needs overhaul.

## 9-Feb-2024

[14:07:32](#lobkncQHeGtfou770Ci3dPyniasfAk2M3DhGpfCUC_c) <luce80>:
`scrollable` scrollers visibility is not predictable, click buttons from left to right and then in some other way:
```
view [
	style my-base: base
		with [flags: [scrollable]] 
		extra object [scroller: make map! []]
		on-created [face/extra/scroller/x: get-scroller face 'horizontal]
	mb: my-base gray 100x100 return
	button "hide scroller" [
		mb/extra/scroller/x/visible?: false
	] 
	button "show scroller NO" [
		mb/extra/scroller/x/max-size: 50
		mb/extra/scroller/x/visible?: true
	]
	button "show scroller OK?" [
		mb/extra/scroller/x/visible?: true
		mb/extra/scroller/x/max-size: 50
	]
	button "show scroller OK" [
		mb/extra/scroller/x/max-size: 50
		mb/extra/scroller/x/visible?: none
		mb/extra/scroller/x/visible?: true
	]
]
```

[14:08:13](#9qlFRNRj3dbLvoP3T4xxwI52KwfYw7odld6QurZT8hE) <luce80>:
 * `scrollable` scrollers visibility is not (easily) predictable, click buttons from left to right and then in some other way:

```
view [
	style my-base: base
		with [flags: [scrollable]] 
		extra object [scroller: make map! []]
		on-created [face/extra/scroller/x: get-scroller face 'horizontal]
	mb: my-base gray 100x100 return
	button "hide scroller" [
		mb/extra/scroller/x/visible?: false
	] 
	button "show scroller NO" [
		mb/extra/scroller/x/max-size: 50
		mb/extra/scroller/x/visible?: true
	]
	button "show scroller OK?" [
		mb/extra/scroller/x/visible?: true
		mb/extra/scroller/x/max-size: 50
	]
	button "show scroller OK" [
		mb/extra/scroller/x/max-size: 50
		mb/extra/scroller/x/visible?: none
		mb/extra/scroller/x/visible?: true
	]
]
```

[14:20:39](#-t11CN54c4epz_si4gde3q5Mg3J3ob-3I5sPMNnSrIk) <hiiamboris>:
since it's not officially supported I guess that's expected?

## 10-Feb-2024

[3:46:51](#h1E_qye88j4ciMbnyPgy8WypIjiI24sGR9cDvcpENBI) <GiuseppeChillemi (GiuseppeChillemi)>:
I don't know of it is a bug but a map in path is recognized as an issue:

```
>> 'a/#(b: 22)
*** Syntax Error: (line 1) invalid issue at #(b: 22)
*** Where: set
*** Near : transcode/trace buffer :delimiter-lex
*** Stack: load 
```

[5:40:50](#3pvO4s4U_tX9He0Hc43dPnPpd4-dtTEdRFBXHvFJCfU) <greggirwin (Gregg Irwin)>:
Not a bug. Use indirection via a word if your key is a map.

[6:59:00](#WoaOpUMuv-IRKCiPyenE4bKMj6PB2c8WHfR2_E_FpAg) <greggirwin (Gregg Irwin)>:
I can't imagine where a literal map as a key would be useful anyway.

[6:59:13](#UIQzlenOzJ61mBt8WSCJot2UoW3cm2Phr1s7EEZvvLk) <greggirwin (Gregg Irwin)>:
 * I can't imagine where a literal map as a key in a path would be useful anyway.

[7:01:02](#rAvzfS4X8usVK5UZLZVPY9UbXoFSyjvDMFP4yeL3Y4A) <greggirwin (Gregg Irwin)>:
You could, however, put your literal map inside a paren in a path. That's legal. :^)

[13:44:32](#g1t43CZQ-ghf8u-6R6PR70ssXwQXCi9mVWqoLfCVI0A) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@greggirwin-55659ddb15522ed4b3e1006f:gitter.im> Not a bug. Use indirection via a word if your key is a map.

Ok, Just to know 

[13:46:15](#oLDpMgrFQKKTLHHA4NERMkpkXQgzoWdht4-Clkwqflw) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@greggirwin-55659ddb15522ed4b3e1006f:gitter.im> I can't imagine where a literal map as a key in a path would be useful anyway.

It's not a key but a container and the first word of the path describes the content giving the datatype.

[13:47:56](#SDQcp3wTuBcx41DJP2MLtoIVSTru1UYtLoIGhbQ4ktw) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@greggirwin-55659ddb15522ed4b3e1006f:gitter.im> You could, however, put your literal map inside a paren in a path. That's legal. :^)

I would like to use block or maps inside paths, to avoid putting them in parens but I can use them in this way.

[17:18:35](#1tVUoj5u0PWdyj3Bkqp5mUQwF6ubhd6eNYPPBjjB0uA) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@hiiamboris:tchncs.de> maybe paths for all contexts but set-words only for current one

So I have not understood: do you want that `FUNC` works as `FUNCTION` but which difference shoud it have?

[17:18:45](#nPRgIdrDm8Zmq8qwhUz6ZkCtAUD7z80JAEVcee3Wmcg) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@hiiamboris:tchncs.de> maybe paths for all contexts but set-words only for current one

 * So I have not understood: do you want that `FUNC` works as `FUNCTION` but which difference shoud it have from the former

[17:31:40](#TEjnA2PMtr6DvLGP_KoWKcSAGlqnwQKLKdXj5l8NC_M) <hiiamboris>:
my comment was about R2 (which we sadly still have to use in preprocessor)

[17:33:26](#sCAkP2kx6RWlMG5gZspkBriAa2W8N08dWAczuKscgig) <hiiamboris>:
I doubt such deep change will be approved in Red

[17:34:03](#6vA2222EFj7G1dozaP-YAQ7XuO5_i6W8-Rx82Fj6axE) <hiiamboris>:
* my comment was about R2 (which we sadly still have to use in the preprocessor)

## 13-Feb-2024

[18:47:04](#0-XJlCq60yr00fbDg6hBVgDtkWGeq6TPigRTOCt1tRE) <luce80>:
Recent `rich-text` font size fixes seem not to have fixed this:
```
view [
	rich-text "abcdABCDEFGH"
		draw compose [
			pen red
			text 0x10 (rt: rtd-layout ["abcdABCDEFGH"])
		]
		on-created [
			rt/font: make font! [color: blue] ;@@ changes rt font size
		]
]
```
Perhaps my comment in the issue source code was misleading í ¾í´” ?

[18:48:23](#1KLbbmSQg2l0v6F6lSsVS9_illZBll-k6vqZejbtLs8) <hiiamboris>:
reopen the issue

[18:51:00](#2JiZVeqvcYbFmlhu46T1RHoPTUt1OHN2L4LvJZMcBSQ) <luce80>:
How can I reopen it?

[18:51:27](#zAW6_QSRoolJJcawvoMC2gO7pZbDO7DNWJ41xgWLfCo) <hiiamboris>:
if you don't have permissions, I can do that

[18:51:54](#xuYRWcOgpx88Bu6AxT1jynXrfdvcR1Cvx02v66gN8XU) <hiiamboris>:
should be a button below the comment box

[18:53:23](#5riXfZN8G0siBLqSnpx1fagdfWHBP7LaTDfBXu7RTrM) <luce80>:
No, I don't see the button, please do it for me. Perhaps change `;@@ changes rt font size (and not color?)` with `;@@ changes rt font SIZE`

[18:54:31](#Zo1d1oL0W1VHbAvcYNMxpRmlwD7iOJMxuGj8wfoGpsw) <hiiamboris>:
add a comment of what's wrong anyway

[18:57:16](#H81pq_eErrQgLkJ3aadO1cl-gpRXTGbFi0P2ds3qV60) <luce80>:
Done.

## 16-Feb-2024

[18:19:17](#7Sf8mtxRf6QsGsQ8hFnpS4wxKHelBBuHZreEkZSuGgM) <luce80>:
![](https://gitter.ems.host/_matrix/media/v3/download/gitter.im/aafa2f7cafe4043ddcae569072fad2cdba15b3c71758556668402073600)

[18:21:11](#gY4Yv-p7v0evby2aTzua6idG-N6z1-mP1xC9rgbT6cQ) <luce80>:
```
view [
	rich-text  "^-abcdABCDEFGH" with [tabs: 20]
		draw compose [
			pen red
			text 0x10 (rt: rtd-layout ["^-abcdABCDEFGH^/xyzXYZ"])
		]
		on-created [
			; change font size
			rt/font: make font! [size: 30]
			rt/tabs: 20
			rt/line-spacing: 30 ; <<-- this disalignes highlighting
			; change font size again and color
			rt/data: [1x20 10 255.0.255 3x5 0.255.0 backdrop 164.200.255]
		]
]
```
the light blue `backdrop` is NOT aligned to the text.

[18:22:21](#HfuXO_PNOBMF3TKAM7O10G96z6DgOu8MHMqThMLOj40) <greggirwin (Gregg Irwin)>:
Confirmed.

[19:45:04](#w33pAVWN-UcUIFQcUl6IiwtePvCRMtlnatOBfMC7NpM) <dsunanda>:
(Possibly malforned) JPGs can crash a console session. Sample bad image and some notes in a zip file here: https://drive.proton.me/urls/D44R64KQ8G#3qMsY4d2JMTQ


[20:05:06](#pHiOvIS_V4q6zW3G4CfgAch3sfaiS8nVpfGpVVNop84) <Oldes (@oldes.h:matrix.org)>:
In Rebol3:
```rebol
>> load %\C\Users\oldes\Downloads\jpg-crash\reduced.jpg

** Access error: cannot decode or encode (no codec): -2003292320
** Where: image decode either either all decode if either read-decode case load
** Near: lib/image/load/as data 'JPEG

>> load %\C\Users\oldes\Downloads\jpg-crash\original.jpg
== make image! [5024x3376 #{
141414141414151515151515161616171717171717171717131313141414
```
The error code means [WINCODEC_ERR_BADIMAGE](https://learn.microsoft.com/cs-cz/windows/win32/wic/-wic-codec-error-codes)

[20:39:17](#IkSQTp_B6QUOInjGQxx-gAUcOXeHLha56s_yylReQ1o) <Oldes (@oldes.h:matrix.org)>:
But I agree that it should not quit console when used `load/as` in Red.

[20:46:30](#vfP3lQ9hNYD9eVKRZKuXuxtYGPAOyEd370RUGyqurLs) <dsunanda>:
Thanks....I've been playing around a bit more. There are many JPG codecs out there that will happily display the malformed file; some other codecs that fail and show a blank box. So far, Red's is the only crashing codec :)

[20:51:06](#H4zLiq_9Q--l8Xy7ESM7vVo55XaRX9xxx4U8OucNA78) <Oldes (@oldes.h:matrix.org)>:
Red and Rebol3 are using [Windows native codec](https://learn.microsoft.com/en-us/windows/win32/wic/-wic-about-windows-imaging-codec).

[20:51:19](#eEjHAgRIi90ytZ_hu6FIRc2Q3sIfjb4S0UKQbdy0qyw) <hiiamboris>:
please create a ticket dsunanda

[20:54:46](#X9pGjxeLS37l-_dIV99ox0h4zyFT5OZ2YSJihbXM5TM) <Oldes (@oldes.h:matrix.org)>:
It is quite possible that programs designed to work with images are using own code and not built in system one. Btw... my browser does not display the corrupted image too. 

[21:21:14](#IzYj8dRqsUD9q4sYD-N_wLlrUnkghgD6ObYxqy_xtpM) <Oldes (@oldes.h:matrix.org)>:
dsunanda: use this [jpegoptim](https://github.com/tjko/jpegoptim/releases/tag/v1.5.5) tool... it is able to reduce the file size to 4.5MB (when used with `-S 50%` flag) and the result is loadable by Red/Rebol.

[21:29:15](#hQ49S0D1BiB0V_17D9rHC_YFdHjrKGKGXHKhTux7AQw) <dsunanda>:
Thanks. A woking image reducer is not a big problem...I almost always use IrfanView to reduce images. And it can emit a Red-readable file given the bad one.

I stumbled on this problem while using FileOptimizer to reduce home-made EPUBs (which it does very well).

[22:09:00](#aHWpjPASva2bAgNrZv7V2F_R2vbiYfRb4hmX0bXxVxc) <Oldes (@oldes.h:matrix.org)>:
I prefer file output, which is readable everywhere. So if FileOptimizer produces malformed results, I would avoid using it.

[22:13:35](#39fPqLtN3Cl_Ko9nW4rVdoY3ZIqmNAT0t7WJFnRXy5I) <Oldes (@oldes.h:matrix.org)>:
Also it looks that FileOptimizer is using jpegoptim internally:)

[23:20:23](#Clz9v_vhHzWbB5BemH_5VEYF5p8YXNO93CvBOP1i0RU) <GiuseppeChillemi (GiuseppeChillemi)>:
It is not a bug but these things are able to make you crazy:

```
>> set o: make object! [a: 22 b: 44] [none]
== [none]
>> probe o
make object! [
    a: 'none
    b: none
]
== make object! [
    a: 'none
    b: none
]
>> 
```

[23:22:19](#zCSkTHS9Ifpdc4EmSUNDzdWEUWPayGjzAcJke9opmWo) <Oldes (@oldes.h:matrix.org)>:
It is same like:
```
>> set o: make object! [a: 22 b: 44] [foo] o
== make object! [
    a: 'foo
    b: none
```

[23:23:05](#fIb46XB3YfbH2b9Arhl8yVbllhXDYqf5abULDneyPuQ) <GiuseppeChillemi (GiuseppeChillemi)>:
I know but looking at the second none, the newcomer goes crazy.

[23:23:35](#pdYG6mPrRKvtQVqObGj9ftBae9SE5BtZ2HqUjdQzZkI) <Oldes (@oldes.h:matrix.org)>:
Why? it is logical to me.

[23:23:37](#2NKOMw2B0JeZ978At5EIPpTNMu2aNDh6EgMG2zlegUk) <GiuseppeChillemi (GiuseppeChillemi)>:
Now I know why it happens. Mine is just a consideration

[23:24:06](#4_lDCGdvytQZGziEdNeou4Rt3iiJEYfJ5zEyCLNw4Mg) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@oldes.h:matrix.org> Why? it is logical to me.

You must explain to the newcomer NONE is not NONE but a word.

[23:24:20](#iykcsY_d17_K-ETq6OrOuAAoJreu9k2u6hzcpnzpzrk) <GiuseppeChillemi (GiuseppeChillemi)>:
This is something I have not seen in the Rebol Manual

[23:25:30](#y0Q2SSD0wD8r88tUw-8hkxy_ElFa4SrFCJxYIgzPRnw) <Oldes (@oldes.h:matrix.org)>:
And I though that knowing difference between word and value is a key knowledge.

[23:26:57](#1Oc1-qEiDlf_R5_YMUrZe7284V2L4BACfy3ZAdjs0ew) <Oldes (@oldes.h:matrix.org)>:
And if you are not sure, you can just use:
```
>> set o: make object! [a: 22 b: 44] [#(none)] o
== make object! [
    a: none
    b: none
]
```

[23:27:22](#M8hiCRvYR5fkDOdsL8uroKITCWrLGHT5VExi6JiKCcU) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@oldes.h:matrix.org> And I though that knowing difference between word and value is a key knowledge.

Until last year I never know that <Datatype-name> was a word you can get the value. I have never met this topic in the documentation. Only when I have started searching a way to find for multiple datatypes at the same time and passing datatype throught function specs interface

[23:28:11](#DN3ypmI8gLe8n1Gqd0EDhT4j0REtNCCI6QNV2P7JGh0) <GiuseppeChillemi (GiuseppeChillemi)>:
I have always thought it was an non reduceable monolithic value

[23:28:23](#3ZQLSuSUWpbh5a6f_SxgsVpBXEDHa80xjqx-njxCxkM) <GiuseppeChillemi (GiuseppeChillemi)>:
(reduces to itself)

[23:36:06](#BmxCLvHOIYAlHrG-gjf6hR6tXe-nW6_ddW6SnThmAiI) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@oldes.h:matrix.org> And I though that knowing difference between word and value is a key knowledge.

 * Until last year I never know that \<Datatype-name> was a word you can get the value. I have never met this topic in the documentation. Only when I have started searching a way to find for multiple datatypes at the same time and passing datatypes throught function specs interface

## 17-Feb-2024

[0:41:15](#PS-ltm6CJ4qAszyb0nGhCjV5m9h2JAmBJMFYW5GOI2w) <greggirwin (Gregg Irwin)>:
Most of these things *are* mentioned in the Rebol manual, but they may not stick in your head just by reading them. That doesn't mean all results are obvious. :^)

[0:41:32](#HnqNomjzPyk6LrA_q_eeCJLvV-wv84V39HwMuvGR3mg) <greggirwin (Gregg Irwin)>:
It's a price we pay for so many other powerful features Red offers.

[13:34:04](#gRVvBUpSEEyKl2NKetL2CWIGpG7mHF_yJwUsh0LjvWE) <luce80>:
![https://gitter.ems.host/_matrix/media/v3/download/gitter.im/9f40624c5c3944088e297b746712f678b0d2ac0e1758847281232084992](https://gitter.ems.host/_matrix/media/v3/download/gitter.im/921ed2d3cf3a2a9f2ed4561d48333a7a1171ea4f1758847282985304064)

[13:35:19](#HJ1OcjgQNTvuk9wWqr4Dg9gvciQV_7oDSAkYBtZjxUc) <luce80>:
Is this "intended behaviour"? When I click right to wrapped words the "cursor" is placed on the next line.
```
view [
	rich-text 100x200 wrap data [font 12 "Click somewhere with your mouse" /font]
	draw [
		translate  (0, 0)
		pen red
		line-width 1
		line (0.5, 0) (0.5, 20) ; caret vertical line
	]
	on-down [
		face/draw/2: caret-to-offset face offset-to-caret face event/offset
	]

]
```

[14:10:34](#k7bDfSFwg4l6HrJNrbaGLeh02qeXgaFTYddR6O6FSZw) <luce80>:
For reference:
```
view [area 100x200 wrap "Click somewhere with your mouse" font-size 12]

```

[14:23:29](#x2zW1F9OwBiaKYs1ifLToDyS8ztoHTJ-kK_me8Ozpug) <hiiamboris>:
`caret-to-offset/lower`

[14:24:23](#BdINHz1QHDGQbUZvvaODklXPjRe42EcmILbAagBJseE) <hiiamboris>:
* you can use `caret-to-offset/lower` and without it to control where it lands

[14:26:41](#ew_hdXFWnl_9-ECAhAH8cMAaOlIaIK3f9Fgbzr2YJE4) <hiiamboris>:
* you can use `caret-to-offset/lower` and without it to control where it lands, but this seems to be the result of 1-based indexing you so advocate

[14:29:56](#k2m9-imwRhjGZl9cpE1KReSFtymjrTxtUhoLyYk-U3g) <luce80>:
Ehm... with that example if I try `caret-to-offset/lower` it is display even LOWER , 2 lines below ;)

[14:31:34](#hiBXEmUAglfMPSJUu6idHXR5R06ymSeeQaN4WDRNlyk) <hiiamboris>:
because you're drawing the line down :)

[14:32:11](#7FOrqov5iogeRo68X5ZpPArsMOsaBEmEJJwsv4TzXFY) <luce80>:
Uh! In fact , not to mention what happens if I draw the line going up!

[14:32:22](#EJ0CTrojxe2rfY9-bTEKRXb-acJ-n_Tp3F0iAhrcWDE) <hiiamboris>:
```
view [
	rich-text 100x200 wrap data [font 12 "Click somewhere with your mouse" /font]
	draw [
		translate  (0, 0)
		pen red
		line-width 1
		line (0.5, 0) (0.5, -20) ; caret vertical line
	]
	on-down [
		face/draw/2: caret-to-offset/lower face -1 + offset-to-caret face event/offset
	]

]
```

[14:32:29](#zHSK0-tOAW3bg2NKqqbzmbUmKWacUTia9yRHbfK36G8) <hiiamboris>:
this does what you ask

[14:35:08](#cXT5E5WVLsaG5AUU4wgV4IwiNO5Ym8oOq51TU6QTr8E) <luce80>:
Almost...now try do place the Cursor to the LEFT ;)

[14:38:28](#Wv7IX4s4tzTBDLHK8AXZ05CNKYIf20dI0KyPPX70v3U) <hiiamboris>:
well, without newline characters there's only single caret position between space and next char, so I guess it's up to you to figure out how to draw the caret properly

[14:44:37](#gbOGpmpMDmEZaKgBQxGTg_HM83WVKXRoYLmlKb-jvS4) <luce80>:
Up to me? Shouldn't `caret-to-offset` give a "correct" result? I think the workaround here is not trivial...

[14:47:55](#2xvDBcsSIHujFfBW3zSDS757Xn1nPMsFIVxKct1feKQ) <hiiamboris>:
it gives you a correct result

[14:48:22](#Pd512jt3wuFSdu-h65lUhH_0OAty_m94vwdpGF5FK3A) <hiiamboris>:
like I said, there's only one caret location there

[14:48:49](#1GkNHWufufVCc-1Hno0hWaEp6gAZL3OvJu_EhIFnYWo) <hiiamboris>:
you somehow want a single integer to appear magically differently

[14:49:05](#vikSKXdIMuhWJHOUXKrLh9Yn9Ckdty-KqNFRnKUTuhw) <hiiamboris>:
* you somehow want a single integer to appear magically differently depending on your click

[14:53:22](#qas_RWebSG8lxivJ18yDwJVEu8q_wWvOuQo5JPem-C0) <luce80>:
It's not me...I want the same thing as the reference (the area example I gave above). Can you please explain the "single integer" thing so , perhaps, I will have an illumination for a workaround...

[14:57:43](#d4WDJpBTvzjFKOKRT-l0SYWHURscBmkQzdTXq7vNJRQ) <hiiamboris>:
not sure I'll be able to but let's try like this:

[14:57:56](#2MYq1Tid--5D5HzomVSgaZmNbPksu-M05HuXylN8h0Y) <hiiamboris>:
![https://tchncs.de/_matrix/media/v3/download/tchncs.de/f35d09db5ff6cdb4bd3842e89c08810e98cbbae6](https://tchncs.de/_matrix/media/v3/download/tchncs.de/f21ee76a9fc2b5ba38639603cc6dc1214f1c3e18)

[15:02:05](#nvQqb0lL1jGF0ezeCXkBjq-xhtEfZVfHV8rLXngSceY) <luce80>:
Yes, I already did it...I am playing on a workaround but , as I said, it is not trivial and I still think it is a bug on `caret-to-offset` or a workaround should be implemented at "low level".

[15:02:32](#UpgQvr01wjjrfQiT_842SV8VkhmWJQmB0D07OXDm7NU) <hiiamboris>:
Â¯\_(ãƒ„)_/Â¯

[17:14:45](#B8vvkYrTJzp7fkIfY21eXCBoH0quZFcEJBlTd_bGKSE) <GiuseppeChillemi (GiuseppeChillemi)>:
From my experiments:

```
>> m: make map! compose [y: ()]

*** Script Error: invalid argument: [y:]
*** Where: make
*** Near : m: make map! compose [y: ()]
*** Stack:  
```

I expected `()` to return `unset!` as when used in functions as last element


[17:18:14](#1R9cmX1iz4n2zSuGuH9oTdiJ_w9AoU6wdCVfED837Xo) <hiiamboris>:
```
>> compose [y: ()] 
== [y:] 
```

[17:19:17](#ht3bjRjhivrQaPpwZTQDa6Mbu5IvssyEu9WFuM1Ynqs) <hiiamboris>:
* ```
>> compose [y: ()] 
== [y:] 
>> compose [y: ([])] 
== [y:] 
```

[17:20:41](#gnYF8U2FyeJWHLZw4MJpCuKLvYel1IYBF8hYAh82qM4) <hiiamboris>:
* ```
>> compose [y: ()] 
== [y:] 
>> compose [y: ([])] 
== [y:] 
>> reshape [y: @[] x: @()] 
== [y: unset x:] 
```

[17:21:05](#UKZuMuXwFTw6yDN14xscicLf-13gR_gMK8gr51aML98) <hiiamboris>:
but this seems to be a bug:
```
>> compose/only [y: ()] 
== [y:] 
```

[17:32:57](#xZrzaObhkjCEi2ZYobHDG_hu9vr5pLoC2uExjtdplJ8) <hiiamboris>:
* but this may be a design bug (or designers thought it to be useful?):
```
>> compose/only [y: ()] 
== [y:] 
```

[17:45:39](#9fpfvc3OjLmLAiaZRsxVCcNvnEFnM-FOOweCXB5MKzI) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@hiiamboris:tchncs.de> but this may be a design bug (or designers thought it to be useful?):
> ```
> >> compose/only [y: ()] 
> == [y:] 
> ```

I really don't know! 

[17:54:43](#QOr6s2RvPaOCtAg03FlhS4UbQInqKjp79iSFfCxM1GA) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@hiiamboris:tchncs.de> ```
> >> compose [y: ()] 
> == [y:] 
> >> compose [y: ([])] 
> == [y:] 
> >> reshape [y: @[] x: @()] 
> == [y: unset x:] 
> ```

It seems that  when parens returns `UNSET!` the result is cleared:

```
>> f: does [()]
== func [][()]
>> compose [y: (f)]
== [y:]
>> reduce [(f)]
== [unset]
```

[17:55:51](#iwjQOWrXGXvTlOk4YngBiyCNES7-EGLWe09kztEDdTs) <GiuseppeChillemi (GiuseppeChillemi)>:
Look at here:

```
>> f: does [first reduce [()]]
== func [][first reduce [()]]
>> compose [y: (f)]
== [y:]
>> 
```

[17:59:03](#jIgLDSrCY_ldU9ASWX_-YGwUCZKFek75V9Dr6-rlUvA) <hiiamboris>:
I thought it was obvious from the above samples :/

[18:00:33](#lC6X1HQl5CWTHeYVOBH5gNeRP06pbfl7nxuZvSBoeh0) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@hiiamboris:tchncs.de> I thought it was obvious from the above samples :/

:D

## 18-Feb-2024

[1:28:51](#6OVtX5-80pBJ6Zb2Cu8DaC0SyzvajO7f2yVDYXXCONo) <GiuseppeChillemi (GiuseppeChillemi)>:
Shouldn't the error be "refinement does not exists?"

```
>> put/key [a] 'b 'c
*** Script Error: duplicate refinement usage in: put/key
*** Where: put
*** Near : put/key [a] 'b 'c
*** Stack:  
```

[1:53:14](#VXeANi73637M-_dvVq4PsEGlD9L6YrhvZA2cA2ELue8) <greggirwin (Gregg Irwin)>:
What it's telling you is that `/key` use is a duplicate of the `key` arg name.

[2:02:06](#_UxqkqfW_THv2wyXkoLWNnVQk2Fir2ct1VSeYIGrC10) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@greggirwin-55659ddb15522ed4b3e1006f:gitter.im> What it's telling you is that `/key` use is a duplicate of the `key` arg name.

I kow but refinement is not duplicated. That error seems that you have this functions specs:

```
func [
  arg
  /key
  /key
]
```


[2:03:48](#ibnqbuvxx3tpUC57GaLVPtqcHQaxoGuwitd0NAxMZkI) <greggirwin (Gregg Irwin)>:
We could try to come up with other wording, but that error may be used for more than this exact case, and the goal of error messages is to give you *enough* information.

[2:18:55](#grWS72PAEOL2tiLuHs5KmYBBfRICN1tturIuIBH9UBc) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@greggirwin-55659ddb15522ed4b3e1006f:gitter.im> We could try to come up with other wording, but that error may be used for more than this exact case, and the goal of error messages is to give you *enough* information.

I know, I have read the ultimate goal is to keep the help string short to not gain executable size.

[2:19:15](#kdQ-QsXu1paEY0BcHGS_h5XYL_TisAy3V9o3ZXXBQ4U) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@greggirwin-55659ddb15522ed4b3e1006f:gitter.im> We could try to come up with other wording, but that error may be used for more than this exact case, and the goal of error messages is to give you *enough* information.

 * I know, I have read the ultimate goal is to keep the help strings short to not gain executable size.

[2:19:23](#ids7XamyWeOwRk-2ZRyBE51kahyLFvEy7q9jOSySDg4) <GiuseppeChillemi (GiuseppeChillemi)>:
But they must not led to confusion

## 19-Feb-2024

[17:49:45](#dBoz34GB_VjMb8AbdDzQBNrL5Zym8fpkPx5c-ZBOAKI) <luce80>:
Reactivity is interfering with `auto-sync?` and main window: 2nd window opens at top-left corner and is not resizable.
```
win: layout [b: base yellow "Resize and then^/Close this window"]
react compose [
	b/size: win/size - (win/size - b/size)
	if not system/view/auto-sync? [show win]
]
view/flags win 'resize

system/view/auto-sync?: no

win: layout [b: base red "Hi up here !^/ Try to resize me"]
react compose [
	b/size: win/size - (win/size - b/size)
	if not system/view/auto-sync? [show win]
]
view/flags win 'resize
```

[17:58:30](#DmgIcuXdsLyUbl1gDrAuk9kctnPVyPYp5ctkeJlaj74) <hiiamboris>:
it has nothing to do with reactivity or auto-sync, it's just you calling low-level `show` on a layout before resize flag could be applied to it

[17:59:39](#8JXukPbamR98x3dJTPhowugM0lk6xsQFCmVEI3S-KFI) <hiiamboris>:
```
show win: layout [b: base yellow "Resize and then^/Close this window"]
view/flags win 'resize
```

[18:00:06](#rm0qht7_V1JLzRi2V2ie9qPW6nWbv6oLPsdD9w-DyV0) <hiiamboris>:
* it has nothing to do with reactivity or auto-sync, it's just you calling low-level `show` on a layout before resize flag or screen centering could be applied to it

[18:09:43](#qOSNVFL_-tfSkWNr6v8AMy8P2uFYkR7aqCWepwB7wsY) <luce80>:
Ok, you're right, and what about this?
```
system/view/auto-sync?: no
win: layout [b: base yellow "Resize and then^/Close this window"]
react compose [
	b/size: win/size - (win/size - b/size)
]
view/flags win 'resize

```

[18:12:40](#lGNDVQ5SZT3YdzL-e6EsRAlL2xuArCIemehy0zN7PwM) <hiiamboris>:
I think base text updates because it's D2D-based, but base size update needs a `show` call which you forbid :)

[18:14:02](#uhGmai3eSRUtvxFapXL1bk7tiSDqPJtDbB9KxcPV9Wk) <hiiamboris>:
* I think base text updates because it's D2D-based and avoids common faces pipeline, but base size update needs a `show` call which you forbid :)

[18:22:42](#Qw_citMcNA3Z0m0UOSKntqLv-pxwwqOg8mh6GsjD4us) <luce80>:
When using `system/view/auto-sync?: no` I have also "troubles" using `rate` and `on-time` for my blinking cursor, it never blinks because `on-time` is never called, this is harder to reduce to a simple example, have you any thought about what can be the problem?

[18:24:10](#g3WaeoYQZ8FUYBiK7J9BkoinXoXLCErBf0tZINc4AxY) <hiiamboris>:
no, I don't think I've ever encountered that

[18:25:00](#O2IDyGjt0YjTE7kpm0bNkjC_VAuqezGbZY93GBpfVyo) <hiiamboris>:
I know you can stop `on-time` if you never exit another event handler, but that's probably not your case?

[18:26:04](#YScZTY32XT7gKgtQXWUQAeWQReuLZ6iuL8RY-JZP66U) <hiiamboris>:
another (wild) guess is that changing `rate` from zero to nonzero may require `show` to enable the timer

## 22-Feb-2024

[18:54:20](#ZcXSMK2iiRhCRV9WEevfOzGxnMzU8XxYrdXEAFKLZFU) <luce80>:
This is the example found in the "tabbing" blog, it is a little modified, try to press the tab key. Is this "intended behaviour"?
```
system/view/auto-sync?: no
view [
	text  "Name"     field focus return
	text  "Surname"  field return
	below
	check "Single"
	check "Employed"
	button "Send"
]

```

[18:55:52](#kadEap3SQXFUF36uYTf83F-uNRM-wxArXXk-ShqIkUI) <hiiamboris>:
what did you expect?

[18:59:56](#eDiOC44TgmfUJ6UGolkj2BVR4opIGw-TPyQRRA1yYk0) <luce80>:
That the global tab handler takes care of it and makes things "refresh". Do you think that with `auto-sync? off` ALL redrawings should be switched off?

[19:01:20](#Sa3jZqktZeU0XFnNJDj7Gd-oYFznMFt-z5niLWn1c-c) <hiiamboris>:
that's what the name tells

[20:40:13](#pH13bgdkX5hG-FpYYY97e2Pf66-omVziaU4O8acbpfs) <greggirwin (Gregg Irwin)>:
> `auto-sync?` `yes` = realtime faces updates (default), `no` = deferred faces updates.

From reading this in docs I would think "Deferred until when?". Maybe "face updates are suspended, and must be triggered manually with `show`", along with a note about why you would use it. 

The two scenarios for auto-sync, as we might describe it, are: 1) Turn it off, make a lot of updates, turn it back on. 2) Turn it off because you are updating it at specific times in your code, like when you have a control loop running in a game (or a non-native GUI system :^).

[20:42:23](#LCoLgwyHEz3x8QX0LhwYj5htxWVzT9lNp1Pa6ekLMJk) <greggirwin (Gregg Irwin)>:
If there are other use cases, let's list them. But imagine if every possible sync location had to be considered and argued about whether it should be affected, then what escape hatch(es) you need when you really want it all off. 

## 25-Feb-2024

[18:18:15](#_GiyZ60XcbWefj6EnwkuFIVimLEeYC_jaZuHsTiIEwY) <luce80>:
Giving a `point2D!` as size for a `tab-panel` gives problems during resizing:
```
win: layout compose [
	tb: tab-panel (200, 200) [
		"t1" [
			below
			button "try"
			button "to"
			button "resize"
			button "the"
			button "window"
		]
		"t2" [box gray]
		"t3" [text "Hello"]
		"t3" [panel [check "true?"]]
	]
]

react compose [tb/size: win/size - (win/size - tb/size)]

view/flags win 'resize
```

[18:27:54](#qB5i16FlisobrWuSfPqlcAM7dHBAtwu1CFzrvvZrmdE) <hiiamboris>:
I have no resize issues with it. However I don't see any children at all!

[18:37:42](#Yz1hpAHN0OhAkEKiXF1-44ehuDaxFaj5_y3ZrPVmWNY) <luce80>:
You said it :) , when you resize it its children disappear!

[18:38:25](#t6S_CYEOAoF5PNXVj6c45X0AI7JL08XWsold0Fkd42U) <luce80>:
 * You said it :) , when you resize it its children disappear! This doesn't happen with a `pair!` as its size.

[18:42:58](#rad1bxfpzvHoSgi48PT1XIGxB818KSa2Nh654MNBK0Y) <hiiamboris>:
they never appear for me on W10

[18:50:20](#p5oTdZDHsgmuiFUOrFdQ7zc9xQ-HWdAt8j_KU6zdR54) <luce80>:
Do they appear with `200x200` instead of `(200, 200)`?

[18:52:30](#CeuZlL5RO0dALWg2FeLxpTPkjRTp8scveGQAOkfPqr0) <hiiamboris>:
yeah

[18:53:12](#-h4aO7vuTuBeWmTBnx6QXj3l1wDhpjMcC-I1cz8HGKw) <luce80>:
Worth a ticket, right?

[18:54:04](#wsk8KIcrGJy0xvWgY3HaHH-X0OpEF5zFu_fHbvCHXh8) <hiiamboris>:
absolutely

[18:54:27](#JuHLVRqWqWfr4orZl963j1CgmPGMc8GeCqkCcQFIKCY) <greggirwin (Gregg Irwin)>:
Reproduced here.

[18:54:41](#nQGJiZdID4SohwM3DGuOgdqhwq4w7lahQSOWqwDPMu0) <greggirwin (Gregg Irwin)>:
Nice catch luce80 .

## 28-Feb-2024

[19:31:11](#pkknLBTprYPEJfqB4bLkvTWi8xmlQl-Hf-zHPNOwKHQ) <luce80>:
`group-box` is not reacting to size changes:
```
win: layout [
	gb: group-box "test" [
		button "Hi"
	]
]
react compose [gb/size: win/size - (win/size - gb/size)]
view/flags win 'resize
```

[19:33:46](#cvQoneke-Wzm0HUKSg6HuhSqDacMnl69Scy1txp-N-E) <hiiamboris>:
confirmed

[19:37:51](#IfhGsBkjjoRUY3o0MeZvL4mjE1y_vCqZd8M_C_P3afc) <greggirwin (Gregg Irwin)>:
Confirmed here as well.

## 4-Mar-2024

[22:57:16](#nQr6QKfiMwrnyV5tKS0Mc0hmj8qoH_KCi_jtce6NCMQ) <mikeyaunish>:
Assuming the second result isn't correct?

[22:57:20](#7x0O7L0yMworEuW1e-4fqk5b75ztexeE1xAhotEdx9Y) <mikeyaunish>:
``` about
Red 0.6.4 for Windows built 17-Nov-2023/10:25:14-07:00  commit #ee7a703
>> transcode/trace {{ab cd}} func [event input type line token] [?? token true]
token: 1x1
token: 1x1
token: 1x7
token: 1x7
token: "ab cd"
== ["ab cd"]
```
Versus
```
>> about
Red 0.6.5 for Windows built 22-Feb-2024/6:47:26-07:00  commit #5521b51
>> transcode/trace {{ab cd}} func [event input type line token] [?? token true]
token: 1x1
token: 1x1
token: 1x7
token: 1x8
token: "ab cd"
== ["ab cd"]
```


## 5-Mar-2024

[9:00:32](#rCE2OwgdDmOeDldwbyyjgLnGfIFlDN4vFa-PdMfINdI) <hiiamboris>:
looks like overshoot, but need to be confirmed by dockimbel

## 6-Mar-2024

[1:11:31](#lynhia7ZCdmNyA1EbrYDlM56OaIUp2x6Vkpn2ap9tZQ) <GiuseppeChillemi (GiuseppeChillemi)>:


Again on message errors:

```
f: func [/a b /c d][probe reduce [a b c d]]

>> apply :f [/a 1 /b 2]
*** Script Error: incompatible refinement: 2
*** Where: <applied>
*** Near : apply :f [/a 1 /b 2]
*** Stack:  
```

Is it correct the message "incompatible refinement?" Shouldn't be something like "incompatible refinement datatype" or something similar?

[1:14:50](#7Dgw2L5jt2l_8mHsxAt99RZ7m9BGaTrqlv9AM6APk0o) <GiuseppeChillemi (GiuseppeChillemi)>:
No, I have tested, the error belongs to `2` being in the slot of `C`. The message should be longer, something like "Not a refinement in /C slot"

[1:15:04](#d5Et0ADTNYt8RbSw3pHsoyLl5DcOOAb3-6OkLDi-WHI) <GiuseppeChillemi (GiuseppeChillemi)>:
 * No, I have tested, the error belongs to `2` being in the slot of `C`. The message should be something like "Not a refinement in /C slot"

[1:21:24](#iGFckKxYeJXQ8V9yydoReHNNkcZgXpwCbZp1Z7JMXzE) <greggirwin (Gregg Irwin)>:
Let's start with more correct calls:
```
>> f: func [/a b /c d][probe reduce [a b c d]]
== func [/a b /c d][probe reduce [a b c d]]
>> apply :f [/a on 1 /b on 2]
*** Script Error: <applied> has no refinement called /b
*** Where: <applied>
*** Near : apply :f [/a on 1 /b on 2]
*** Stack:  

>> apply :f [/a on 1 /c on 2]
[true 1 true 2]
== [true 1 true 2]
```
So far so good?

[1:24:22](#7doedecomSJPSM_84yPcFwwGxn4vuMsNvS5pm-jL15I) <greggirwin (Gregg Irwin)>:
OK, you figured it out while I was playing. í ½í±ï¸

[1:25:32](#eiRrS38fLh8VepebmjqxE1PFpvbFPT2fJVorjdOC20o) <greggirwin (Gregg Irwin)>:
> "Not a refinement in /C slot"

That would be a much nicer message, I agree. Now, can it work? Will have to take a look at the code.

[1:48:49](#PiwuDMwjaW22mv60jyypGfb1fBKk2Jq3JD-cVwFvSlA) <greggirwin (Gregg Irwin)>:
I think it's %interpreter.reds L:916, eval'ing args from inside `eval-code`, so this is very general and not `apply`-specific. I'm not familiar enough with the code to say how hard it will be to change. Looks like this is the only place `bad-refine` is called in the system today, so maybe not too bad, assuming we may want to include what the bad value was, as well as the slot.

[3:16:03](#GbCEkhThJBkLjsR3f2NasJo77Ji170b30_2q2rezPcY) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@greggirwin-55659ddb15522ed4b3e1006f:gitter.im> > "Not a refinement in /C slot"
> 
> That would be a much nicer message, I agree. Now, can it work? Will have to take a look at the code.

Even "EXPECTED REFINEMENT and not 2" does a good Job (I think)

[8:10:08](#s7qtYL1GUlbT9cyH4jEbTDlHQyLbNkG3Rem5PusyF5A) <hiiamboris>:
there was a similar error recently https://github.com/red/red/issues/5485

[23:00:43](#71zKFGM3KKXytJ7rai-lHSJSKgcXKzHCIXk9_KhBNc8) <DocKimbel>:
There was a recent change in the lexer events handling where token's end position is now past the delimiter (`}` in this case), so that `token/2 - token/1` returns the proper token's length.

## 7-Mar-2024

[1:33:18](#FAzzUFQIhS8HFRAWZ3N_1EIc_HdJ1RCTy7qDMxNoJX0) <GiuseppeChillemi (GiuseppeChillemi)>:
I have seen the additional Fix, thanks.

[15:11:18](#21q5KFFvvMMa_0OBDgFaPFVtbGrRvHxpE4useS8dz90) <mikeyaunish>:
OK Thanks

## 12-Mar-2024

[2:04:25](#cZRal8u7Sh5gJEnk6iUzX0dY33qbZnCam-1B4uQVxqE) <GiuseppeChillemi (GiuseppeChillemi)>:
Should `ATTEMPT` always return `none` in case of error?

```
datatypes: reduce [
	'table-bob! make object! [picks: func [series position] [reduce [series position]]]
	'table-flat! make object! [picks: func [series position /mode] [reduce [series position mode]]]
]


probe target-function: attempt [:datatypes/table-flat!/picksi] 
```

I get:

```
*** Script Error: target-function: needs a value
*** Where: target-function
*** Near : 
*** Stack: do-file 
>> 
```



[2:05:10](#abCpUufUhNpSjQnmOgbT_VCsLEa9N0NLwAJis9eU7qk) <GiuseppeChillemi (GiuseppeChillemi)>:
 * Should `ATTEMPT` always return `none` in case of error? (Note the called function at the end  of path is `picksi` instead of `picks`)

```
datatypes: reduce [
	'table-bob! make object! [picks: func [series position] [reduce [series position]]]
	'table-flat! make object! [picks: func [series position /mode] [reduce [series position mode]]]
]


probe target-function: attempt [:datatypes/table-flat!/picksi] 
```

I get:

```
*** Script Error: target-function: needs a value
*** Where: target-function
*** Near : 
*** Stack: do-file 
>> 
```

[6:09:03](#-vmko2mBF9XHmVjrJpq0RT9NlPBqZpWIb2cp1D53rnI) <Oldes (@oldes.h:matrix.org)>:
The error is out of the attempt block!

[7:52:59](#2aYtEXlH7O12DvJp5uMZN4ue4Q4srqlWdWIW3MzuShQ) <Oldes (@oldes.h:matrix.org)>:
this is the reason:
```
>> o: object [] type? :o/xxx
== unset!
```

[8:26:02](#_IvrM-9rAeQIGPauIuxHp-HFUrn6Kq9F_LaeDG2l2hM) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@oldes.h:matrix.org> this is the reason:
> ```
> >> o: object [] type? :o/xxx
> == unset!
> ```

I see NONE should be the result and not UNSET. It is a path with a non existant terminal selector 

[8:47:25](#qyW0jp0mh8NEyWCrH8jk5CTlm369xCkEyf8MJcLR2Gs) <Oldes (@oldes.h:matrix.org)>:
No.. I don't think it should be `none`.. it used to be error in Rebol, but  the true is, that it is consistent with this:
```
>> type? :not-exists
== unset!
```

[9:23:18](#j3TL_AO-grj5iRlRmsd095SG6ZNNU-d-n1r1QMJQ_hw) <Oldes (@oldes.h:matrix.org)>:
https://github.com/red/red/issues/4910
https://github.com/red/red/issues/5300

[9:30:46](#yFZNk9XberWsF_43KFhx1YW5wUvoA8m9mmIVzJ3okH4) <GiuseppeChillemi (GiuseppeChillemi)>:
Thank you, now I have headache. 

[18:23:44](#nL2qzZa0h4fAxrgAd4ybgVxJprpH1ntfX24l2R6PLyM) <greggirwin (Gregg Irwin)>:
A small wrapper should be enough, if you want `none` rather than `unset`.

[18:24:30](#NfMf4_iPgnUIXqJ_CGE9Z-7fzz80M_2d24wwRYtlPug) <greggirwin (Gregg Irwin)>:
That is, write a small wrapper you use in place of `attempt` for this purpose.

[18:35:00](#8aLF08lQN1bMEPwyUhAGrZrxpT20F7ik20sNqonCWJE) <hiiamboris>:
or just use `select`

[18:50:16](#uLxOxNLTYmvgBP6ZnRHdGAMsoyfG_e0VxiVQDZBFdAw) <greggirwin (Gregg Irwin)>:
He wants to use full paths everywhere.

[18:50:33](#3sYv6LAmYSV15dQgL5QpNJhBCDrNMMHn1MdEvz07x6g) <greggirwin (Gregg Irwin)>:
But that's what a wrapper would probably do inside.

[21:06:04](#A-kN_Ehck6p3LJrsz8CPYmhZEcqEeOso4e2HaSmwFv4) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@greggirwin-55659ddb15522ed4b3e1006f:gitter.im> He wants to use full paths everywhere.

Paths gives speed. They are the fastest way to access elements. As the selection is on functions that Will be executed, it is important to be as fast as possible.

[23:00:39](#eRc5wCUimIkbb1eJ40oGNnMltN3y_3Rt29vg7yaHpJE) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@greggirwin-55659ddb15522ed4b3e1006f:gitter.im> He wants to use full paths everywhere.

 * Paths give speed. They are the fastest way to access elements. As the selection is on functions that Will be executed, it is important to be as fast as possible.

[23:15:05](#uy1-Ye0WT9tnfZwKyAvGFeXs4oLg8rylvopt70qzW_0) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@greggirwin-55659ddb15522ed4b3e1006f:gitter.im> He wants to use full paths everywhere.

Here is the reason:

```
datatypes: reduce [
	'table-bob! make object! [picks: func [series position] [reduce [series position]]]
	'table-flat! make object! [picks: func [series position /mode] [reduce [series position mode]]]
]

recycle/off
probe dt [loop 10000000 [:datatypes/table-bob!/picks]]
probe dt [loop 10000000 [x: select datatypes 'table-bob! x: select x 'picks]]
```

```
0:00:00.857319
0:00:04.95195
```


[23:16:10](#Pie4Y5DHqVvdZ-KK8PwyunoK5zWieQeCKfIZl-UtM-4) <GiuseppeChillemi (GiuseppeChillemi)>:
We are talking about slowing down Red by a factor 5 because each function would pass from this dispatcher,

[23:18:22](#3gKES3ufBIsHlSAlaFi0kiwHLBPNB1N-CySIWf_1jXM) <GiuseppeChillemi (GiuseppeChillemi)>:
 * We are talking about slowing down this dispatcher by a factor 5 because each function would pass from it. 

[23:19:22](#yPRC2Lon0ut-_UIoByZef1i0g8gnCgDFB4-Ay5q8TNk) <GiuseppeChillemi (GiuseppeChillemi)>:
 * We are talking about slowing down this dispatcher by a factor 5 and each function would pass from it, expecially the strict loops ones.

[23:19:46](#NhhzEQiuoKnRsUXyPZCsR2ywofJQwAmgHs5nchxHdzk) <GiuseppeChillemi (GiuseppeChillemi)>:
 * We are talking about slowing down this dispatcher by a factor 5 and each function would pass from it, expecially the one needed for strict loops.

[23:20:00](#MJf62iKXyNULydcm0ESqzROj034M1ZXNP-OnmPcpLEI) <GiuseppeChillemi (GiuseppeChillemi)>:
 * We are talking about slowing down this dispatcher by a factor 5 and each function would pass from it, expecially the ones needed for strict loops.

## 13-Mar-2024

[8:12:26](#OW-ZTf4sHWfEBFeNJqniX2vy_yC8_jQtfdywRpouKuk) <hiiamboris>:
you really should finally learn `clock`

[15:56:26](#1KZ2e3wzFNVQJjKhLaRvrqkAZjkuB_l8evht_BNSdaA) <greggirwin (Gregg Irwin)>:
`tbl: 'table-bob! fn: 'picks  :datatypes/:tbl/:fn` falls in between those option, performance wise, but if performance is really important, and assuming the table doesn't change, you should select and cache the funcs for that table.

[19:16:22](#xvrosJz9U--WQnNMH2aJI8SevmvvNo-UDY59I_nWNEs) <luce80>:
Is this expected?
```
>> f: func [][do-no-sync [return none]]
== func [][do-no-sync [return none]]
>> f
*** Throw Error: return or exit not in function
*** Where: return
*** Near : return none
*** Stack: f do-no-sync  
```


[19:22:50](#Rx_aybwEWVjQVIXHJRsvTibMOWA3ZKmpFngRQWkY828) <hiiamboris>:
I suppose it's an internal kludge

[19:22:51](#Bjkx433fgJtnZ2YwYgo1-VC3WZ-SNlZbnGSUrRvggnU) <hiiamboris>:
* I suppose it's an internal kludge, so you can't report it

[19:24:45](#S13i-rmZ90d4qilcXgQlWo6aidVxLsmqnl875CrH53Q) <greggirwin (Gregg Irwin)>:
This is related to the "definitional return" issue. where something is evaluated versus where it's defined, and is one of the issues when you pass code around as blocks.

[19:25:01](#6EWYSRpAzJ8TmmFUj78rT6yA3ZYU7_nmOh5aDGdJE-E) <hiiamboris>:
* I suppose it's an internal kludge, so you can't report it
but anyway, while it's not a desired behavior, it's unsolveable atm: https://github.com/red/red/issues/4416

[19:53:27](#TbKnxrHwILvYZ5hsPee0B3PABDkddhhudbIp-aHG3-4) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@greggirwin-55659ddb15522ed4b3e1006f:gitter.im> `tbl: 'table-bob! fn: 'picks  :datatypes/:tbl/:fn` falls in between those option, performance wise, but if performance is really important, and assuming the table doesn't change, you should select and cache the funcs for that table.

For reference:

```
dtp: 'table-bob!
fnc: 'picks
recycle/off
probe dt [loop 10000000 [:datatypes/:dtp/:fnc]]
```

```
0:00:00.881967
```

[19:53:48](#2Ro0fm5Tp0G_HJnIb4q9Uqh5LbUACaKlkZu023CjaIA) <GiuseppeChillemi (GiuseppeChillemi)>:
Speed is the same

[19:55:46](#INyXUTtCcc9cfmCvbzDnw4jNyM2mpaOmpqKlLeH3izk) <luce80>:
What about using `try` instead of `try/all` inside `do-no-sync` ?
```
>> f: func [][try [return 420]]
== func [][try [return 420]]
>> f
== 420
>> f: func [][try/all [return 420]]
== func [][try/all [return 420]]
>> f
*** Throw Error: return or exit not in function
*** Where: return
*** Near : return 420
*** Stack: f  

```

[20:06:02](#RpleOZgwb1KcLdLCDnUL8lPq31jSAPwW3PUFU7GqLWA) <greggirwin (Gregg Irwin)>:
Yes, I included setting the words in the loop, but if you can move that out you save time.

[20:06:07](#ba59612LWnLd1Z6MTXG5S-z12s7CsRSp3y0zKrfHLmg) <GiuseppeChillemi (GiuseppeChillemi)>:
hiiamboris: I am experimenting with `clock/times` and have some problems. As times returns "per iteration", why:

```

times: 1000
dtp: 'table-bob!
fnc: 'picks
recycle/off
probe clock/times [:datatypes/:dtp/:fnc] times
probe clock/times [x: select datatypes 'table-bob! x: select x 'picks] times
```
Returns this:

```
0.0 Î¼s	[:datatypes/:dtp/:fnc]
func [series position][reduce [series position]]
1.00 Î¼s	[x: select datatypes 'table-bob! x: select x 'picks]
func [series position][reduce [series position]]
```

And if you change `times` sto `1000000`, result hanges to:

```
0.09 Î¼s
0.58 Î¼s
```


[20:07:25](#QPT4MTJIXR7P06txo96qPlgpLj8qZY8jPLAfUhnM2Ek) <GiuseppeChillemi (GiuseppeChillemi)>:
From `100000` the result if stable. Remove one or more `0` and then it becomes unstable

[20:07:53](#E_7fml_C1dyVoIRa_tVVo2SkljbqFJ8WU9qk2609xKI) <GiuseppeChillemi (GiuseppeChillemi)>:
 * From `100000` onward the result if stable. Remove one or more `0` and then it becomes unstable

[20:07:59](#QWShQ9lEGr7puJaio5W4uYOo9YZlZaWI3QBZ5wBmv2Q) <GiuseppeChillemi (GiuseppeChillemi)>:
 * From `100000` onward the result is stable. Remove one or more `0` and then it becomes unstable

[20:09:11](#lxuB9hlqQeBrh1VVW46X81K9wMXr-o4Dql46I2SD_Sc) <greggirwin (Gregg Irwin)>:
That's why my old profile showed total time as well as (not as precise) per call time. It saves doing extra math outside `clock`.

[20:11:10](#DMF_g2T1kMVzTMGbJbq9HrvvV-KPPIAaXBLIxfgRSZE) <hiiamboris>:
GiuseppeChillemi (GiuseppeChillemi) what do you propose? should it downclock your PC?

[20:13:54](#vyMJoO_g23G3xLY5J6ORWD2ZUsPNdwN5PAzctSC6dDE) <hiiamboris>:
PR with precise timers for Windows was rejected, and it would not increase timing reliability by a big margin anyway due to unpredictable nature of the OS scheduler, so just add zeroes

[20:21:32](#f8LTVGO3HZnFvowsS2BPuocg_F2ibToSGKl62aNVGs4) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@hiiamboris:tchncs.de> PR with precise timers for Windows was rejected, and it would not increase timing reliability by a big margin anyway due to unpredictable nature of the OS scheduler, so just add zeroes

Now I know the reason. Unprecise timers and scheduler doing task switching slower that Red.

[20:21:44](#xJB_37Dh0ao2ZwIEzrDwLbo1I1yPmEuPmYdfKgW0hik) <GiuseppeChillemi (GiuseppeChillemi)>:
* than 

## 14-Mar-2024

[9:12:48](#fPlwQ5Hx6pzf4tWn6Aa21Qonlgc5ZTPIE7pjLEz2ivg) <pekr (Petr Krenzelok) (@pekr:matrix.org)>:
> <@hiiamboris:tchncs.de> PR with precise timers for Windows was rejected, and it would not increase timing reliability by a big margin anyway due to unpredictable nature of the OS scheduler, so just add zeroes

So when you push PR to Microsoft, to fix their lame Windows scheduler architecture? í ¾í´ª

## 15-Mar-2024

[10:33:00](#SFBCZsJ6ATXcRrEiRacz2xtJNXM6JMMhdRgDeVFLHmI) <Oldes (@oldes.h:matrix.org)>:
Is it by design, that using chars as a map keys are always case sensitive
```red
>> m: make map! 1000 m/(#"a"): 1 m/(#"A"): 2 m
== #[
    #"a" 1
    #"A" 2
]
```
while strings not?
```red
>> m: make map! 1000 m/("a"): 1 m/("A"): 2 m
== #[
    "a" 2
]
```

[10:33:35](#DoMD7GTUsSDiYVOrr74I7_SVCBcpSJWA80zataaPn4A) <Oldes (@oldes.h:matrix.org)>:
 * Is it by design, that using chars as map keys are always case sensitive

```red
>> m: make map! 1000 m/(#"a"): 1 m/(#"A"): 2 m
== #[
    #"a" 1
    #"A" 2
]
```

while strings not?

```red
>> m: make map! 1000 m/("a"): 1 m/("A"): 2 m
== #[
    "a" 2
]
```

[10:33:58](#B-W3lIhPP8r-t7VoT581BoU45AabuVSM9DgudL4ALlc) <Oldes (@oldes.h:matrix.org)>:
 * Is it by design, that chars as map keys are always case sensitive

```red
>> m: make map! 1000 m/(#"a"): 1 m/(#"A"): 2 m
== #[
    #"a" 1
    #"A" 2
]
```

while strings does not?

```red
>> m: make map! 1000 m/("a"): 1 m/("A"): 2 m
== #[
    "a" 2
]
```

[10:34:17](#Erd6m-P5CXWXssm2PcmeSEWDJB_CS-_ptUcTMKZEW0Y) <Oldes (@oldes.h:matrix.org)>:
 * Is it by design, that chars as map keys are always case sensitive

```red
>> m: make map! 1000 m/(#"a"): 1 m/(#"A"): 2 m
== #[
    #"a" 1
    #"A" 2
]
```

while strings not?

```red
>> m: make map! 1000 m/("a"): 1 m/("A"): 2 m
== #[
    "a" 2
]
```

[14:21:23](#zcxGwj4aq2NS80AdX02On5wwrtnG10lr7QnFshDDVHw) <rebolek (Boleslav BÅ™ezovskÃ½)>:
 * Is it by design, that chars as map keys are always case sensitive

```red
>> m: make map! 1000 m/(#"a"): 1 m/(#"A"): 2 m
== #[
    #"a" 1
    #"A" 2
]
```

while strings not?

```red
>> m: make map! 1000 m/("a"): 1 m/("A"): 2 m
== #[
    "a" 2
]
```

[16:41:08](#dCh5aNUxx5YifS8F5ybUMtkUhfwPTRGLt-qFndiSnL4) <greggirwin (Gregg Irwin)>:
By design. `Parse` and `find` treat them the same way. The tricky thing is that we often want to think of them as strings, but they are really scalars, or bitset elements.

[19:41:36](#ALeF73AV7k178aRY5EotTt5DnbrE3e1wEB8kHA-mp9I) <luce80>:
In Red v.7mar2024 the resizing of inside of tab panels have been broken :( , it worked in Red v.17feb2024

```
win: layout [
	tb: tab-panel 150x150 red [
		"A" [
			b1: button "test1"
		]
		"B" [
			b2: button "test2"
		]
	]
]
react compose [
	tb/size: win/size - (win/size - tb/size)
	b1/size: win/size - (win/size - b1/size)
	b2/size: win/size - (win/size - b2/size)

]
view/flags win 'resize

```

[20:30:17](#4P4VKEwTFmxDvEN87eaNcf1HH1hCk5jjL97EwsAQbn8) <hiiamboris>:
confirmed

[20:31:25](#npRzpu3x93OUfg7Prw7w2ROZnxaUcaeDVNvRkVkelHk) <hiiamboris>:
I suspect regression from https://github.com/red/red/issues/5492

[20:31:38](#V_F7cxImsfqbJ3U4gD3i-4lu-Lz1aDIFa0a5zYxOXEI) <hiiamboris>:
* I suspect regression from https://github.com/red/red/commit/186d215db4d9260885838ca4d846c6d5ceb7e005

## 18-Mar-2024

[9:53:55](#l2LAnx6YIl8sVt-2J06tZjV9hpoBkbtPvlmHkTX7wso) <Oldes (@oldes.h:matrix.org)>:
So you think that having chars always case sensitive is useful? In Rebol3 I have:
```rebol
>> "a" = "A"
== true

>> "a" = "A"
== true

>> "a" == "A"
== false

>> #"a" = #"A"
== true

>> #"a" == #"A"
== false
```

[9:54:07](#rus4pkDoqLdQ3mQ2Sdm_fMg7NTEWO5kqD5_bHbv8_Tg) <Oldes (@oldes.h:matrix.org)>:
 * So you think that having chars always case sensitive is useful? In Rebol3 I have:

```rebol
>> "a" = "A"
== true

>> "a" == "A"
== false

>> #"a" = #"A"
== true

>> #"a" == #"A"
== false
```

[9:54:43](#YLxuMZ0c0veFWYoiZRjasBUbMFwhkYZ5Vb6I5MrNSoA) <Oldes (@oldes.h:matrix.org)>:
In Red there is:
```red
>> #"a" = #"A"
== false
>> #"a" == #"A"
== false
```

[9:54:55](#Hwr_XWxmPEmAKekfFlxZfR57nFYEuLb7g28hxG-r8rI) <Oldes (@oldes.h:matrix.org)>:
 * So you think that having chars always case sensitive is useful? In Rebol3 I have:

```rebol
>> "a" = "A"
== true
>> "a" == "A"
== false
>> #"a" = #"A"
== true
>> #"a" == #"A"
== false
```

[9:55:52](#zS--qk97i007KkI4DuVlaHyuok5xEKfaH8GcBBCGa2Y) <Oldes (@oldes.h:matrix.org)>:
In Red `parse` is by default using chars as case insensitive:
```red
>> parse "a" [#"A"]
== true
>> parse/case "a" [#"A"]
== false
```

[9:56:36](#0bpRItzYFfignz8i9zxCdJ-teAChpq-9o1YSlbObbrc) <Oldes (@oldes.h:matrix.org)>:
While `find` always sensitive:
```red
>> find [#"a" #"A"] #"A"
== [#"A"]
>> find/case [#"a" #"A"] #"A"
== [#"A"]
```
So something is definitely not consistent.

[9:58:54](#hF_tPz_p9Pf1lH3l-4bpqQfI8hLG9l7M_k8i8wbyX2k) <Oldes (@oldes.h:matrix.org)>:
But it still may be by-design, because with block parsing it is again always case-sensitive (probably because it ends in same code like used for `find`)

[9:59:05](#hdxcNciQQf4Je61JD2JzYPTIEXnWD3HLf1psLB0gSvA) <Oldes (@oldes.h:matrix.org)>:
```red
>> parse [#"a"] [#"A"]
== false
>> parse/case [#"a"] [#"A"]
== false
```

[19:01:44](#JWgeTThroxSDrl0_X2Q3IF4TUdIzJ4Fm3Kc6rF7KCL4) <greggirwin (Gregg Irwin)>:
```
>> find "abc" #"B"
== "bc"
>> #"B" = pick "abc" 2
== false
```
We need to document the behavior, and decide if simple non-strict comparisons should work. That seems the most useful, as you can be strict when needed. But there's no way to be non-strict today without a lot of work or by hacking to use `find`.

@dockimbel?

[19:19:23](#7QjA1_vzcw160kcwLWyFkGvn2nvhh_DuETVBZbosOtQ) <pekr (Petr Krenzelok) (@pekr:matrix.org)>:
Is this a bug, or what? With R2, I can `view layout [image %img.png]`, while with Red, for `view [image %img.png]`, I get an empty window - no image displayed .... 

[19:37:30](#jFGsyQcqA2DpaB1TVlLipsg3LMMq8Hc62k6Cg463wiU) <DocKimbel>:
> <@pekr:matrix.org> Is this a bug, or what? With R2, I can `view layout [image %img.png]`, while with Red, for `view [image %img.png]`, I get an empty window - no image displayed ....

Works fine here. Which version are you using?

[19:38:53](#M-CiD8nPUc5BtEUBKOWNt8fI2CCjO_P_s9O9Ptui7vQ) <pekr (Petr Krenzelok) (@pekr:matrix.org)>:
More detailed info than system/version? I do sync by Github for desktop and then manually compile via do/args .....

[19:41:43](#85Zwa6QK9ZJGij2JyG9IHsgZEJSiBwivTa-ODbtdq3E) <DocKimbel>:
```
>> about
Red 0.6.5 for Windows built 16-Mar-2024/21:36:50+01:00  commit #181d7fa
```

[19:42:11](#bCYFc56mt58Hb3V7iHPVMkrElXVOn6zOM2-wabQ48Ew) <DocKimbel>:
 * Just downloaded the latest version from Download page and run it. Works fine.
```
>> about
Red 0.6.5 for Windows built 16-Mar-2024/21:36:50+01:00  commit #181d7fa
```

[19:42:37](#GZgxRscWJD3N2lNyJaBnc535x05DnIyxE3TKWfltckk) <DocKimbel>:
 * Just downloaded the latest GUI console version from Download page and run it. Works fine.

```
>> about
Red 0.6.5 for Windows built 16-Mar-2024/21:36:50+01:00  commit #181d7fa
```

[19:43:12](#taHa6LhKZBdueYK5E4wFp0h_uSDTCvhbihUv3p4SJA4) <DocKimbel>:
![https://matrix-client.matrix.org/_matrix/media/v3/download/matrix.org/dMqAOBHgivovkVHtmDIjVaDQ](https://matrix-client.matrix.org/_matrix/media/v3/download/matrix.org/TahbKScihHRqbXiNxAaBnKAM)

[19:43:47](#AG-V7ajRmJv9Pc7asbEfJJ4_JJ8hdPAigfI8riODli0) <pekr (Petr Krenzelok) (@pekr:matrix.org)>:
Hmm, I don't have commit number there, as I don't have git tools installed, but will do downloading the latest version ....

[19:49:56](#Quttwx5_ukpm9Ync4CAA6duugK6tmmJ3Na3B9M5c4p0) <pekr (Petr Krenzelok) (@pekr:matrix.org)>:
![https://matrix-client.matrix.org/_matrix/media/v3/download/matrix.org/ntzrcMjNkiSjdwxksOjjtiMK](https://matrix-client.matrix.org/_matrix/media/v3/download/matrix.org/rgDsUPpHtoQSlrznULKHzsht)

[19:50:23](#7sJt0jNj4SDnjLF9OpDj0YzS59z98KZ35QcloYzMDD0) <pekr (Petr Krenzelok) (@pekr:matrix.org)>:
Downloaded latest. Maybe some Win11 issue. Will try to restart notebook ....

[20:00:45](#fDXm8A3ZhDgz_D1nxL6yfL7cTk2lj2v77Q1jTzK-J_I) <DocKimbel>:
I'm on W11 also, latest version. Did you try with a different image?

[20:36:33](#4eot_ZicF_7s7mwLoZCdaxlTCqso-ThMlyEOL_Gm4pc) <pekr (Petr Krenzelok) (@pekr:matrix.org)>:
Yes, I did. Will try to restart in the morning - have to finish some work right now ....

[21:09:27](#jJ-uQMr2RelFfk1gGcNN3iWAThGjeJEqeXH1S9jFmVM) <DocKimbel>:
Would be good if you could somehow find out what is causing that odd behavior. Maybe you can try the exact same image on a different computer to determine if the image itself is the cause or not.

[21:09:45](#NuMajFN75C4o1HMR_6RSx72Fx1DWoGC1Qe4HgFUEoig) <DocKimbel>:
 * Would be good if you could somehow find out what is causing that odd behavior. Maybe you can try the exact same image on a different computer tomorrow to determine if the image itself is the cause or not.

## 21-Mar-2024

[13:48:15](#DUDY6psRVj_EMP5QSwlP0s1HQEqznMiMUKU7wgsWblI) <DocKimbel>:
pekr (Petr Krenzelok): Any luck about testing if that image was the cause of the issue?

## 24-Mar-2024

[12:46:51](#PDf9Uc5XrbZI2wu0DM0NRSg6I8iKy93ZQcR3SNzeuls) <dsunanda>:
If I give RANDOM the same seed and then the same value 1000 times, I would expect to get the same random result 1000 times.

But that is not the case with some types of seed. R2 also exhibits this behavior for some types of seed - but not in a way consistent with Red.

See next post for test suite.

[12:47:11](#MhO4Bnq7lbxaKtm27pf5KkHG1v86DI2N3uPAmO2PAp0) <dsunanda>:
```
rand-test: func [s /local b][
    b: copy []
    loop 1000 [random/seed S append b random 999999]
    append/only results reduce [s length? unique b]
    ]
results: copy []
rand-test 0:0:0
rand-test #{00}
rand-test 0
rand-test 0.0
rand-test "0"
rand-test #"0"
rand-test 0x0
rand-test 0.0.0

foreach r results [probe r]
```

This is what I see with Rebol R2 and Red. In my simplistic view, all blocks below should be in the form [? 1]

```
Rebol R2              Red
[0:00 1]              [0:00:00 1]       
[#{00} 1000]          [#{00} 1000]
[0 1]                 [0 1]
[0.0 1000]            [0.0 1]
["0" 1000]            ["0" 1000]
[#"0" 1]              [#"0" 1]
[0x0 999]             [0x0 1]
[0.0.0 999]           [0.0.0 1]
```


[14:46:41](#P1CG-2tTg5_B9YvAtX19zVq7eKGLxZCN_VL0AlWcVkQ) <gurzgri>:
With Red, I guess both `string!` and `binary!` typed seeds `INHERT_ACTION` `random` from `series!`. And that has a
```
either seed? [
    ser/header: TYPE_UNSET    ;-- TODO: calc series to seed.
][
    ....
]
```
provisional note in `runtime/datatypes/series.reds`.

[14:50:03](#7inK97fEBWAu4sJ6ORCUQNhYNQAzJmu6Ip1DbFjYQsE) <gurzgri>:
 * With Red, I guess both `string!` and `binary!` typed seeds `INHERT_ACTION` `random` from `series!`. And that has a

```
either seed? [
    ser/header: TYPE_UNSET    ;-- TODO: calc series to seed.
][
    ....
]
```

provisional note in `runtime/datatypes/series.reds` and never really calls `_random/srand`, so never really seeds.

[16:32:44](#e6VQHbgqmLGNjue5yLIo1ryDQ1JIUSq15pzPE1R8UIk) <dsunanda>:
Thanks. My [problem / usage case] is that I need RANDOM to be consistent when seeded with a string.

I guess the best current work-around is to convert the string to a number using CHECKSUM

[17:04:08](#LbJmx_ezoDAtf2sO3t-GYEtYA6_Iypke5JB5HVHmz9E) <greggirwin (Gregg Irwin)>:
qtxie: can you take a look at this?

[17:08:08](#1nb3QafvJncfJUQgznGqZiBORv9hK7xMQ_0l91uVJy0) <greggirwin (Gregg Irwin)>:
Here's my old `randomize` for that.
```
randomize: func [
	"Reseed the random number generator."
	/with seed "date, time, and integer values are used directly; others are converted."
][
	random/seed either find [date! time! integer!] type?/word seed [seed] [
		to integer! checksum form any [seed now/precise] 'sha1
	]
]

```

[17:58:26](#IQt7d4JC4CWI3Q-g-drHqdDGhkp3q2fMeOj530GLpd8) <dsunanda>:
Thanks Gregg - that's, in effect, a generalisation of my  suggested work-around.....Now, if only RANDOM worked that way :)

## 25-Mar-2024

[0:51:05](#jdNAD4Pd90Fe21u2baEBxwLMXj2pQhjfvDPLrnb_DO8) <qtxie>:
dsunanda: greggirwin (Gregg Irwin) Fixed in the latest commit.

[0:56:53](#JStlb8oJx8VKP5rc1lJ6JMOgOeFfLXkvDUOyCeo0qmg) <greggirwin (Gregg Irwin)>:
Thanks!

[13:25:31](#fBC7k47XpHvakBDOKKFgbsU4APVKp-0oscCnR8ZGhHk) <dsunanda>:
Thanks too! That's fast work.
Can confirm, latest download looks good on all my test cases.

## 26-Mar-2024

[11:49:38](#JwiatGVcOdkWQCQhEHdati3vaOUnKAwzaO_-KGny85s) <Oldes (@oldes.h:matrix.org)>:
Is this ok?
```
>> equal? #["a" 1 "A" 2] #["A" 2 "a" 1] 
== true
>> equal? #["a" 1 "A" 2] #["A" 1 "a" 2] 
== true
```
Should not be map key in equality tests be always case-sensitive?

[11:51:58](#7ywrVMf3z0uyvbWSyeutwBsXsKqM-EoTk0TL3B_kpYU) <Oldes (@oldes.h:matrix.org)>:
Hm.. one can use `strict-equal?`
```
>> strict-equal? #["a" 1 "A" 2] #["A" 2 "a" 1] 
== true
>> strict-equal? #["a" 1 "A" 2] #["A" 1 "a" 2] 
== false
```

[14:16:17](#rrpzFMyjTUG-99YMRYb_-cqlKPP-O_wYhdm6A639eA8) <ALANVF (theangryepicbanana)>:
> <@oldes.h:matrix.org> Is this ok?
> ```
> >> equal? #["a" 1 "A" 2] #["A" 2 "a" 1] 
> == true
> >> equal? #["a" 1 "A" 2] #["A" 1 "a" 2] 
> == true
> ```
> Should not be map key in equality tests be always case-sensitive?

yeah, equal? has a special case for duplicate case insensitive key comparison 

[20:23:42](#n0N-yZRcslQG_M6IDbUTopBsN3vXSp_puDRmW8uUXoE) <greggirwin (Gregg Irwin)>:
```
>> equal? m-1: #["a" 1 "A" 2] m-2: #["A" 1 "a" 2] 
== true
>> m-1/"A"
== 1
>> m-2/"A"
== 1
>> m-2/"a"
== 1
>> m-2/"a"
== 1
```

[22:51:00](#DVito3Fi1JQrJuDDc0Gvb0NGPC-1lONbUS4bGlsdNao) <Oldes (@oldes.h:matrix.org)>:
The question is, if it is useful like it is? For example JSON is case-sensitive and we usually use `map!` to hold json structures now.

[23:15:26](#CbWnRAA4mHoYU1bmOI5FjFuz_iaa_hZ2gBMKTGVuX_w) <greggirwin (Gregg Irwin)>:
But Red is not case sensitive by default. If you can use the strict version, it's OK. If you default to strict, how do you go the other way?

## 10-Apr-2024

[10:02:19](#ss2Ffm-tmLJ9h_joJJ1hVzpcfySnPyUr6eSFB7u1HyI) <Oldes (@oldes.h:matrix.org)>:
```
>> 1 = $1
== true
>> [1] = [$1]
== false
```

[10:03:16](#GKty4A33dhn7QpxyHnMBmtQL0ZU-gVCmP3UpNfSL0CE) <Oldes (@oldes.h:matrix.org)>:
I think that the both results should be same.

[10:30:25](#2bq_9CGpqqEKkoDz7xV_BSIkwJn3uXngi7ZSZ2cX5VE) <Oldes (@oldes.h:matrix.org)>:
Also sorting integers with money is not stable:
```
>> sort [1 $1]
== [1 $1.00]
>> sort [$1 1]
== [$1.00 1]
>> sort/case [1 $1]
== [1 $1.00]
>> sort/case [$1 1]
== [$1.00 1]
>> sort/stable [$1 1]
== [$1.00 1]
>> sort/stable [1 $1]
== [1 $1.00]
```

[10:42:19](#rkHyhINABrqdgsA6wc_2mP78-gLfWTUlSnVrlbjh-7c) <hiiamboris>:
this actually may be by design? same with `sort [1 1.0]` vs `sort [1.0 1]`

[10:43:31](#2kYX2uVAt0pDOFhKuKKAY1fFHyac44RCSEvteOo6iZ4) <hiiamboris>:
though `/case` should work like `==`, that looks like a bug

[10:44:15](#__qzi8_P8LltW0L3xq86BJT71nL3yLbVdNGfsL_1VC8) <hiiamboris>:
in a sense that if `1 == 1.0` is false, then freely ordering these datatypes is also wrong

[10:44:33](#639MPBV857OIosDeB-vracft3DSlXwcw8f3qTjq_RYk) <hiiamboris>:
worth a REP perhaps?

## 11-Apr-2024

[8:16:56](#6dYWa6-r6XeZWnCMjrutmjz46TLKZddxfonFvpUA5dQ) <Oldes (@oldes.h:matrix.org)>:
```red
>> load "++<tag>"
== [++ <tag>]
>> type? load "+<tag>"
== word! ;== should be block with a word and tag as well
```

[9:33:28](#i8wz6PntL5L3T3qrNTT8UxO6VNTbxYzr-TeKkTrlILw) <hiiamboris>:
this may be a side effect of arrows support, e.g. `-<tag>`?

[9:34:09](#N2r7JqvZfQzV-wKKeQ9lh6oo0cnbHBa86Y4ndg7Qob0) <hiiamboris>:
* this may be a side effect of arrows support, e.g. `-<tag>`? (since it must be related to numbers branch in the lexer)

[11:17:46](#iQtaKDBFeIqZ8WxAjqFQTI-2nr6bPy2Imp90MZaXd0g) <Oldes (@oldes.h:matrix.org)>:
```red
>> transcode/part/next skip "1234" 2 -2
== [[] "34"] ;== should be ["12" 34"] or error
```

## 14-Apr-2024

[12:52:15](#mGlMp0-vOoOJ8SEr_Dw4EfRuDChIWCRhLkdBI2O8FGM) <luce80>:
This gives me an error and shows that custom `panel` actors completely overwrite the `actor` object. Is this "expected behaviour"?
```
system/view/VID/styles/test-panel: [
	default-actor: on-down
	template: [
		type: 'panel
		size: 200x200
		actors: [
			test-func: func [a b][]
		]
	]
	init: [
		?? actors
		actors/test-func 1 2
	]
]
view [test-panel [button "test"] on-created [print "created"]]
```


[13:11:49](#GR1FSh5JLDme9FWOzll_Zp8AJ7ueNdwAP2dwXJiOejk) <hiiamboris>:
I would guess - no?

[15:35:48](#yZPytnFFb5CzNGfz1AOSzA4HjUVruTd64xr27gFn8U4) <pekr (Petr Krenzelok) (@pekr:matrix.org)>:
> <@dockimbel:matrix.org> pekr (Petr Krenzelok): Any luck about testing if that image was the cause of the issue?

Hi Doc. Sorry for the delay. Tried on another Win11 PC and images there work normally. Not just on my Lenovo notebook. I tried to change resolution, scaling back from 125% to 100%, etc., no luck ....

It seems like the image is incorrectly loaded:

```
>> view [image %img.png button "OK" [unview]]
>> ble: load %img.png
== make image! [850x427 #{
    000000000000000000000000000000000000000000000000000000000000
    000000000000000000000000000000000000000000000000000000...
>> image? ble
== true
```

Part of the image are zeros, other part is FFs ...

[15:36:16](#vPshw-ggKbTtonbi-bF4smDXsBXWK_YO0OBZww1Z93A) <pekr (Petr Krenzelok) (@pekr:matrix.org)>:
I will try to update gfx drivers, though from the Windows point, I am on latest patches ....

[16:32:46](#tba6Mdf4Zft6Q9XL4mSdz5m-tAck0SdrnxkxKK-YLeM) <greggirwin (Gregg Irwin)>:
No other styles have `actors` in their template, so while it *could* be by design, I don't think it is after glancing at the code, especially given the behavior for expected actors like `on-created`. 

[16:35:52](#wpkKQTTK6xIi4Jt6XF4eqpp0hiX0HwSZuKUvJ4cyc2Q) <greggirwin (Gregg Irwin)>:
https://github.com/red/red/blob/master/modules/view/VID.red#L819

## 21-Apr-2024

[11:32:55](#MuPWT5XIor85WBy5DaSeXxTymek_sqeXqRAJjcNysnE) <Oldes (@oldes.h:matrix.org)>:
`find/last` doesn't respect block index:
```red
>> find/last probe next "ab" "a"
"b"
== none ;== OK
>> find/last probe next [1 2] 1
[2]
== [1 2] ;== Should be NONE!
```

[17:25:15](#vznyFd_psQooBURwnGco0ALTZlXWquEz170c9cg3_eo) <greggirwin (Gregg Irwin)>:
Good catch!

## 24-May-2024

[7:40:52](#my96pQvsHNQwg17R1Ehc1H9xor84JfjRvvyElnqggnw) <GiuseppeChillemi (GiuseppeChillemi)>:

An VID area with 1MB of text made of lines with length of 20/150 characters has the following problems:

On program start, it does not accept characters, I need to COPY/PASTE something in it to unblock

The area is really slow: hitting enter on a line it takes 1 sec to scroll the whole text down, the same when inserting something or deleting multiple lines



[7:53:15](#wp2yaWW8DCjjdmgadMBV-LJQ2jtEAwGdTzo1s-BhHEE) <GiuseppeChillemi (GiuseppeChillemi)>:
Try this:

```
text: "abcdefghijklmnopqrstuvzABCDEFGHIJKLMNOPQRSTUVZ1234567890!"


size: 2048 * 1048 / (length? text)

area-text: copy ""



repeat idx size [

	text: random text
	append area-text rejoin [text lf]
	 
] 


view [
	area area-text 500x500
]

```

[8:53:21](#4cG1oXIRoZsT3RhNjIoD7Jdvkp_9HRRRb02W0iWKKSo) <hiiamboris>:
1 sec? more like >1 min :D

[8:53:45](#8t6rt7uGMSnecSZ-fUjevc1fWqgB6Fj5NWD_a3GspIQ) <hiiamboris>:
* confirmed

[8:54:51](#hiR2-T-5DKa5YL1lr4WfQvQZ16pfL5bwF1Xtngoh__E) <hiiamboris>:
slow because the text is big I guess? :) but that it's blocked initially is a bug

[8:56:10](#GewR5CWySfYz7x9t-Z7qbjUjM62LjlWcd-qyLI3Wo0Y) <GiuseppeChillemi (GiuseppeChillemi)>:
I would expect slowness  on 100MB

[9:04:02](#X8psu4E9hhBEgRP8HLASTYvS677IzmBclbq3bLH379w) <GiuseppeChillemi (GiuseppeChillemi)>:
 * Try this:

```
text: "abcdefghijklmnopqrstuvzABCDEFGHIJKLMNOPQRSTUVZ1234567890!"


size: 2048 * 1024 / (length? text)

area-text: copy ""



repeat idx size [

	text: random text
	append area-text rejoin [text lf]
	 
] 


view [
	area area-text 500x500
]

```

## 25-May-2024

[14:01:42](#Vs9QtjA4pKskCHoN9WdOZ1Lb1OlSMFtT4l4eB_8-B7k) <â€Ž â€Ž â€Ž â€Ž>:
I compile this simple code `print help` and try run it in windows loading screen (before Login screen ) but doesn't work 

```
*** script Error: to-red-file dose not allow none! for its path argument 
*** where: to-red-file 
*** near : unset
*** stack: to-red-file
```
everything work find except red exe files 

[14:20:36](#32L4MwnqymljjcKcVVfLlo-ayqcgYOjP8YaPbEN-n_E) <gurzgri>:
Full script source please incl. Red header. How do you compile. Startup scripts and schedule tasks probably won't work with GUI based apps, so that might be related.

[14:20:59](#OvGzC_ekH0FgxGekHMgo3OOgiMv37cZ9oCjK1gC4hrc) <gurzgri>:
 * Full script source please incl. Red header. How do you compile? 
Startup scripts and scheduled tasks probably won't work with GUI based apps, so that might be related.

[14:22:40](#6v-0V7P2fxW4hLfLS00YKmPgprQbwagW7CVv_pgJZM8) <â€Ž â€Ž â€Ž â€Ž>:
I use red cli 

[14:37:26](#p8uGwGE8_2fP0NWhfJ9553kFRBDik3_4OsJ40vbxaMQ) <â€Ž â€Ž â€Ž â€Ž>:
as I said it everything work fine (programs /games )(like safe mode command line but everything work ) except red 
 Just watch at this video then you understand what I mean [https://www.youtube.com/watch?v=kjO6DY5cT6Q]()

[15:08:49](#TUG4qT0iSvtCloT4mZJBe7WWzYlIhavWkVW2KJF1eYE) <gurzgri>:
@ams0_0:matrix.org  I'm curious where your error msg "*** script Error: to-red-file dose not allow none! for its path argument" comes from. It's not from https://github.com/red/red/blob/22290c9d0903184b2f81e8e4cec4785b619bf5bc/environment/system.red#L105 , that doesn't have this typo. But, I'm sorry, I don't think watching that video will help me too much, not at this point. Maybe others might chime in.

[17:18:19](#5AvPhvEEx0f-AfDKAsS-84Z0jY7nfO4KSb1oiqL4s_s) <greggirwin (Gregg Irwin)>:
Does your app work if you start it normally?

If it's more than 10 lines of code, please put it in a gist and provide clear instructions to reproduce.

[17:45:28](#TWFrY9SzgpE93lbZZ3jK34oH2-NVg_WSaDZd9B6Q0q4) <â€Ž â€Ž â€Ž â€Ž>:
it's work fine and is just simple code for testing (print "hi :)" ) 

[17:52:17](#w9o7NfLNXeYca109tK3d9-vSSAF4-d6q26c6H2G9pus) <â€Ž â€Ž â€Ž â€Ž>:
but after going in windows boot screen mod doesn't work (something like safe mod command line ) and other apps work fine + games and ...

[17:58:02](#dDqe3u5x9MusYgmZ2hf70rh0FRSA0xdzf0gvUBh5dQ8) <â€Ž â€Ž â€Ž â€Ž>:
is important to me because I try to replace windows log screen and Ui w8 my app  (customize windows) if not work (wait red ) I must rewrite all app for another language and I don't want that :(

[18:18:32](#pq8fQvmY1HmeBDc9LdwDrk_6_4bOLFyMzqe5QdcpWrY) <greggirwin (Gregg Irwin)>:
I watched the video, and noted that some other apps also don't run in this mode/env. So there is something different about this environment that Red doesn't like. Maybe qtxie can say.

[22:57:14](#lqSR_eUgLpwG_Ph4G6f5KTCaTnlVZXobSMAM1WF-mXY) <qtxie>:
> <@ams0_0:matrix.org> I compile this simple code `print help` and try run it in windows loading screen (before Login screen ) but doesn't work 
> 
> ```
> *** script Error: to-red-file dose not allow none! for its path argument 
> *** where: to-red-file 
> *** near : unset
> *** stack: to-red-file
> ```
> everything work find except red exe files

Looks like no `APPDATA` in this mode.

[23:00:02](#jU982ojG3td7YBSzMVZ6dmnMtvecgg0FwSFymECfb0Y) <greggirwin (Gregg Irwin)>:
Thanks for checking. Next question, what is that used for, and can Red run without it? Seems like a reasonable "portable app" style use case. 

[23:10:00](#KXfkdUyk0u1z0lsgoPYeUZ5J-o0DzRoWRPqzdpPsb34) <qtxie>:
I haven't tested it. It's used for the cache path.

[23:10:01](#rhywt1Nf5wPXSAGECKEstwwueOyoLH0fBeBx4w2fwFc) <qtxie>:
https://github.com/red/red/blob/TUI/encapper/boot.red#L49

[23:10:18](#nIRW27z3YPJN_qh1Fe1XLsemTvOfXI2IMEsL7dumkoo) <qtxie>:
 * https://github.com/red/red/blob/master/encapper/boot.red#L49

## 26-May-2024

[1:30:55](#-3FPdqXCH_FxS8-zGhYMPhJtaHikl6HVfT8bYmjk1-A) <qtxie>:
> <@ams0_0:matrix.org> I compile this simple code `print help` and try run it in windows loading screen (before Login screen ) but doesn't work 
> 
> ```
> *** script Error: to-red-file dose not allow none! for its path argument 
> *** where: to-red-file 
> *** near : unset
> *** stack: to-red-file
> ```
> everything work find except red exe files

Push a fix for it. Let me know if it doesn't work.

[10:04:48](#2t4fsM_oBATMsZ_k8OK3DLM5KQSXdihoDGuU9PN1sBw) <â€Ž â€Ž â€Ž â€Ž>:
qtxie:  thx it's working fine

[13:36:55](#XkZFLrFt4ia-rZMG3QRcq--PDX99XR5Mrn88kIO0EpI) <â€Ž â€Ž â€Ž â€Ž>:
I have another simple question , I using the old red (2020)  but after use the new version I figure out red got complicated  for example

try convert string "15.0gb" to integer

old-version
`to-integer "15.0gb"`

new-version
`to-integer to-float replace a "GB" ""`

can someone explain please 

[13:37:13](#TQ6Sbw03bGxUBZJgFR0QQYvejsUBDMsAOlnxqjEvDHk) <â€Ž â€Ž â€Ž â€Ž>:
 * I have another simple question , I using the old red (2020)  but after use the new version I figure out red got complicated  for example

try convert string "15.0gb" to integer

old-version
`to-integer "15.0gb"`

new-version
`to-integer to-float replace a "gb" ""`

can someone explain please

[17:29:54](#hyIqLw_Fq2Fa2DHABKV5sTvaWEzefStfW9yvwoXJ-1U) <greggirwin (Gregg Irwin)>:
It became stricter for correctness and consistency. In the old version you got:
```
>> to-integer "15.0gb"
== 15
>> load "15.0gb"
*** Syntax Error: (line 1) invalid float at 15.0gb
*** Where: transcode
*** Stack: load  
```
In the new version you get errors in both cases. 

[17:42:17](#XNlePXgQDxsR03ygOmluEnI1eE7L6ihcb23QbjvqAYk) <Oldes (@oldes.h:matrix.org)>:
You can use something like this:
```red
digits: charset "0123456789"
get-integer: func [str [string!] /local res][
	parse str [copy res some digits (res: to integer! res)]
	res
]
get-integer "15.0gb" ;== 15
```

[17:51:44](#QuMn4340T_79FGE5CXHax3ba45Ujf4v87OXa_PCyl-Q) <Oldes (@oldes.h:matrix.org)>:
In Rebol3 there is `return` command as a `parse` rule available and so it could be just:
```rebol
get-integer: function [str [string!]][
	parse str [copy res: some digits return (to integer! res)]
]
probe get-integer "15.0gb" ;== 15
probe get-integer "x5.0gb" ;== false
```

[17:54:42](#xW-b5ucVAMIWHk-FFLAz57ocNaCBUfV8Hzph81Ms1pc) <Oldes (@oldes.h:matrix.org)>:
Btw.... note that `to-integer` is a shortcut for `to integer!`... see `source to-integer`.

[18:01:36](#S7iGA9vcgFz1KqdrbrqL5EV4Ux33K3UQHeyjP7CTipw) <Oldes (@oldes.h:matrix.org)>:
You can also collect multiple integers at once...
```rebol
parse "15x0 23km" [collect [any [to digits copy res some digits keep (to integer! res)]]]
== [15 0 23]
```

[18:02:26](#BJpy9DEC_ucPEMRTOJzKbtsdwsjpNYYq1hLV8C431KU) <Oldes (@oldes.h:matrix.org)>:
 * You can also collect multiple integers at once...

```rebol
parse "15x0 23km" [collect [any [to digits copy res some digits keep (to integer! res)]]]
;== [15 0 23]
```

## 31-May-2024

[10:21:52](#-FplrDdubztC5wu3ey2mALLgE15VOZebQN3Xoyd9hh8) <ldci (FranÃ§ois Jouen)>:
A problem with vector data type: 
```
--== Red 0.6.5 ==-- 
Type HELP for starting information. 

>> a: make vector! [integer! 16 [3 8 4 6]]
== make vector! [integer! 16 [3 8 4 6]]
>> b: make vector! [integer! 16 [4 0 1 -9]]
== make vector! [integer! 16 [4 0 1 -9]]
>> a + b
== make vector! [integer! 16 [1792 2048 1280 -513]]
```


[10:23:36](#sOLeqiYjzP5tx6xNGfkLFOhEztHOp5BB-AyGyKU1znA) <hiiamboris>:
reproduced

[10:29:44](#wK8xHiGyQPO-XtT3NehloZqL0C1xljVm3cRQPL4pV6o) <ldci (FranÃ§ois Jouen)>:
hiiamboris: Youâ€™re really reactive :)

[10:38:55](#3btcyTT5QfsKW8tc-PTv4qNJtb-JbD8dXHtxCpHVChQ) <ldci (FranÃ§ois Jouen)>:
The problem is specific with 16-bit vectors. Correct for 8 and 32-bits
```
>> a: make vector! [integer! 32 [3 8 4 6]]
== make vector! [3 8 4 6]
>> b: make vector! [integer! 32 [4 0 1 -9]]
== make vector! [4 0 1 -9]
>> a + b
== make vector! [7 8 5 -3]
```


[10:43:29](#Elzrra2LD5chk44aWOza4owPQa74a1Gocfd3Fqj0vdQ) <hiiamboris>:
yeah, thought so

[10:43:48](#oOdbmJY-zK522MfuVKIvk52tBZSXeeTkWgmLR0FFuHE) <hiiamboris>:
can you make an issue please?

[10:46:05](#NlUsrrKjGJ6ow-dXvL17NCQPD30QdrjdIQfUgvRFo2M) <ldci (FranÃ§ois Jouen)>:
I donâ€™t know how to do :(

[10:50:11](#lbrV77NM-kabyvG20GD8ZE2JgnPPOljaJPR_lZ1M25A) <hiiamboris>:
https://github.com/red/red/issues/new?template=bug_report.md

[10:50:32](#WOArHEN6Ipn9plERViIhZag4hTYS0AYOWY2BGA9FrSk) <ldci (FranÃ§ois Jouen)>:
hiiamboris: This problem is specific to macOS. No problem with Windows 11

[11:13:53](#fU2bjsdpa1czha_QCJhhTYC0uQuwstuOJVKKTH-MpFI) <ldci (FranÃ§ois Jouen)>:
Oups. Same problem with Windows 11

## 3-Jun-2024

[14:05:16](#RqVNc5NcM_0nxl21FRSAfBnq25ZEhfVl77PeKr72qFo) </-+>:
Oups. Same problem with Windows 11

## 17-Jun-2024

[1:38:00](#BBvHuUj408j_8zs0_DB9lm9PRit6NaL7mUM7e5An5Pk) <SkySpiral7>:
https://github.com/red/red/issues/5511

## 24-Aug-2024

[2:00:12](#la4KPVY6oLBETokAQMBiZQ-cJIZGSF0h2GOXY2FJKII) <Fearless Geek Media>:
I'm on Void Linux (musl) but red doesn't seem to work directly in that, even when I've tried to compile it. No problem. I can run it in Arch on Distrobox. But I noticed compiling for Linux-musl is not working so well for me. Any time I try to run anything compiled in Distrobox Arch on the host Void Linux system, I get 'bash: ./hello: cannot execute: required file not found' even though I used -t Linux-musl. It's not too big of a deal for me at the moment as I'm learning Red, but if I decide to distribute something (especially since Void Linux musl is my main system and I want to make some things specifically for Void), this could be problematic in the long run.

Or perhaps it's user error and I'm doing something wrong! Please let me know!



[8:48:52](#qY38yHvhZqKPRrqYeuxwak2bOmkuOOQ6Whw4JSs3KMo) <hiiamboris>:
rebolek (Boleslav BÅ™ezovskÃ½) should probably know more about musl target, but at least ensure you have a 32-bit version of the lib (and other libs Red might need, like crypto or GTK)

[8:50:53](#GEMBNz3sqeH5lBnNT7_ADwN4G7ulUeNKfOJYV38Te5o) <hiiamboris>:
I've personally seen 'required file not found' when `sftp` crashes and leaves a process in the OS that locks the binary

[8:51:03](#_7Kzu39tMaBHt82mIWseLIhfWWYn5Oj29sgdZ7mLC_Q) <hiiamboris>:
but probably not your case

[8:51:24](#rs2B-iq1MWxBdjIxvLYhIG-VAIUkSgvkrm4gV2HHnKg) <hiiamboris>:
/shrut just tells you how useful the error messages are

[8:51:29](#HvkZb1ENioAAttUypKXfy9npIXbO22dbJtFAzHe2ANo) <hiiamboris>:
* Â¯\\\_(ãƒ„)\_/Â¯ just tells you how useful the error messages are

## 25-Aug-2024

[0:47:33](#H2ErrtaqhnKxYT3oPqiGHm5D1CuNfAX5wHkIzhHBhmg) <Fearless Geek Media>:
I'm on an Intel Alder Lake CPU.  (Core i3 1215 U).  Do I need to install this 32 bit version in Void Linux or my Arch Distrobox? Or both? I can't find in the repos for either, unfortunately. I found something for legacy musl in Void, but that didn't work for me.

[7:43:07](#5J5zm3kC4O20rKpIszku-sJq6y2h-EUWbO77QgUWz0o) <hiiamboris>:
Red is 32-bit only for now, so requires 32-bit libs or it can't run (as well as Rebol 2)

[7:45:40](#UJv1yJtuvgd0erLcxETPVPpEWMRzDa9F6_AU2DtRj-g) <hiiamboris>:
https://rebol.tech/gitter.im/red/red/welcome/2023/#msg63c02ff08f8df4262aecc709

[7:46:33](#joKy6S97-6U6EynP9RpnzUywLnt3iHOfJ__HGkbsQ5I) <hiiamboris>:
some people managed to run on void linux after installing the libs, but I can't advise you on a specific method for that distro (why not ask AI?)

[7:48:12](#w-fFNMVMaQ8W9LE3_qyfcs3ySqWtI8jToVUIUcxNxsg) <hiiamboris>:
* some people managed to run on void linux after installing the libs, but I can't advise you on a specific method for that distro (why not ask [AI](https://www.perplexity.ai/)?)

## 27-Aug-2024

[12:53:18](#P88z9n0ZiNm539nLUhzcHorivICQejr9aW1rMANS3ec) <loziniak (Maciej ÅoziÅ„ski)>:
On Arch you can install through AUR:
https://aur.archlinux.org/packages/red-nightly-bin

## 21-Sep-2024

[2:31:48](#RkUJwJBwTW7-xZY8ygCsjfMXuocDEPCKtfNlCWrQ0BE) <GiuseppeChillemi (GiuseppeChillemi)>:
I have updated my Red. In my script appeared an error on such situation (the values are argument reduced)

`case [false [none] none]`

I am curious, when the catching of such situation has been added? I can't find the commit

[3:37:41](#yIuKj4o90mg78KVh7fsjojw7NjSXpijGEHfiTTOdwd0) <GiuseppeChillemi (GiuseppeChillemi)>:
Is it normal?:

```
myimage: load %../media/sun-blasts-a-m66-flare.jpg 

view [
	base %../media/stars1.jpg 
	origin 0x0
	button 200x200 %../media/sun-blasts-a-m66-flare.jpg [
		probe "hello button"
	]

	i: image myimage 30% [
		probe "hello image"
	]
	
	button "Test" [
		i/image: load %../media/stars1.jpg 
	]
		
]

```

[3:38:30](#ledlnKChG5qP0TMElxt5twJuBuN8e1_l7R7Xjy7EVxM) <GiuseppeChillemi (GiuseppeChillemi)>:
![https://gitter.ems.host/_matrix/media/v3/download/gitter.im/69bf69fa9e38e1a522a8af57688793f19dd922741837335557982650368](https://gitter.ems.host/_matrix/media/v3/download/gitter.im/6d06d16a9c0f5cc08fc3ef2e67e56d26cec87e3c1837335566119600128)

[3:45:15](#AcNUVhVYBAB2XiGyfofqsNH4gpvYhkWqEI9CwNV7cmw) <GiuseppeChillemi (GiuseppeChillemi)>:
Another question:
```
myimage: load %../media/sun-blasts-a-m66-flare.jpg 

view/flags/tight [
	base %../media/stars1.jpg 
	origin 0x0
	button 200x200 %../media/sun-blasts-a-m66-flare.jpg [
		probe "hello button"
	]

	i: image myimage 30% [
		probe "hello image"
	]
	
	button "Test" [
		i/image: load %../media/stars1.jpg 
	]
	return
	button "quit" [quit]
		
] [no-border]
```

Here we have a quit button but it is below the base instead of being below the first image.

[3:45:23](#W8bqz1CMKeDISE4kLaRdoxqz4evzCC_Kvm64wE0koHA) <GiuseppeChillemi (GiuseppeChillemi)>:
![https://gitter.ems.host/_matrix/media/v3/download/gitter.im/fa9a50803f4a3375142e0cbd00d01501a5b53eb31837337289777217536](https://gitter.ems.host/_matrix/media/v3/download/gitter.im/d2cff8896c5c115b272de1d9835d4a7814dfb3281837337298832719872)

[3:45:49](#wCzfzYJfWiHnivCWHEq7-BLMqz-f03eFLyxrfbzdz1I) <GiuseppeChillemi (GiuseppeChillemi)>:
 * Is it normal? (I mean the overlapping with the upper border)

```
myimage: load %../media/sun-blasts-a-m66-flare.jpg 

view [
	base %../media/stars1.jpg 
	origin 0x0
	button 200x200 %../media/sun-blasts-a-m66-flare.jpg [
		probe "hello button"
	]

	i: image myimage 30% [
		probe "hello image"
	]
	
	button "Test" [
		i/image: load %../media/stars1.jpg 
	]
		
]

```

[3:46:21](#l2EVKTefUny9419M2JwjHzP-U5AxnbS7rLqnitIjdMw) <GiuseppeChillemi (GiuseppeChillemi)>:
Is the way it should work?

[8:44:01](#5BbAgLrDAAZKHNNlVGV8rhJWzoTUDZDkT7pM6G_gFQU) <hiiamboris>:
seems correct

[10:41:05](#kQKIkHMVZB0qqHnQPMnjQD92ZuBt-VKcrWs9v3Ql3Hs) <GiuseppeChillemi (GiuseppeChillemi)>:
And I do I continue printing below the first orange image? 

[10:42:47](#-f9NO3488kkbfaNPki2kmvlLxhEwaNqyUAssRHFL4yY) <GiuseppeChillemi (GiuseppeChillemi)>:
And about the first example, why origin is in the middle of the window title bar? 

[10:43:26](#QaqfU4B8mrSm-AXzdiaka4_HdW_pVruA79xkR2xAqJA) <GiuseppeChillemi (GiuseppeChillemi)>:
* And I do I continue printing below the first orange image of the second test window?

[10:43:53](#O3gky31izLx94UArBJTKwYNyp4o_nRZmC-0ygZ4U2sk) <GiuseppeChillemi (GiuseppeChillemi)>:
* And about the first code generated image, why origin is in the middle of the window title bar? 

[12:19:52](#_Ch0T8tLUs0r9X8tshPuPV7tSKF0By6FkDBvHoq39VU) <hiiamboris>:
add `return` after the 1st base?

[12:20:41](#4vaVqx9CFAiLCPlJq9EgMwOqAV8mHe78aIv3kj7T_n8) <hiiamboris>:
> <@giuseppechillemi-59045d00d73408ce4f5bcd9d:gitter.im> And about the first code generated image, why origin is in the middle of the window title bar? 

I do not see that on your screenshot

[14:38:44](#gmoNmc9klPkIV3w3Odk9GGMxHt-lSm_dEvtwqP1pMhs) <GiuseppeChillemi (GiuseppeChillemi)>:
![https://gitter.ems.host/_matrix/media/v3/download/gitter.im/9511bea9eeb0ec1eff3143795cfb6338d57d39801837501715662766080](https://gitter.ems.host/_matrix/media/v3/download/gitter.im/9b64a52506f495f04e6dc7953e0ad4e78fb8afdb1837501721413156864)

[14:39:52](#JvjesBDhq_UyLiI0X4KFircmfuuyguaM4j0Nu-XmD9o) <GiuseppeChillemi (GiuseppeChillemi)>:
Ok, I have found the cause: I must issue an `origin 0x0` before the base too.

[14:39:58](#c7UncD4gLuduIO8ywgdMMsqWCBigeotV8OVmiT3pWuc) <GiuseppeChillemi (GiuseppeChillemi)>:
![https://gitter.ems.host/_matrix/media/v3/download/gitter.im/72fbf62da62bda4ebcd413a5c3c87c9067d981871837502029560283136](https://gitter.ems.host/_matrix/media/v3/download/gitter.im/d74d9b26afa148d16b295b907f184695a1a06b111837502033783947264)

[14:50:33](#-omW1YnIcEo8EbL9mGmpv0T0CiL1vL5F7PxZ65Ym0B0) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@giuseppechillemi-59045d00d73408ce4f5bcd9d:gitter.im> Another question:
> ```
> myimage: load %../media/sun-blasts-a-m66-flare.jpg 
> 
> view/flags/tight [
> 	base %../media/stars1.jpg 
> 	origin 0x0
> 	button 200x200 %../media/sun-blasts-a-m66-flare.jpg [
> 		probe "hello button"
> 	]
> 
> 	i: image myimage 30% [
> 		probe "hello image"
> 	]
> 	
> 	button "Test" [
> 		i/image: load %../media/stars1.jpg 
> 	]
> 	return
> 	button "quit" [quit]
> 		
> ] [no-border]
> ```
> 
> Here we have a quit button but it is below the base instead of being below the first image.

hiiamboris: But again on this, it does not seem correct. Here is the reason:

I draw a BASE with an image, then I reset the origin to `0x0` and set the drawing cursor from there.
Then I draw an `IMAGE` and a `BUTTON` and the CURSOR continues from these face position. Issuing a `RETURN`, the cursor should return from them, instead it used the first image position and size. The cursor considers the last drawn face to draw the next one but the larger first draw face when issuing a `RETURN`.


[14:52:31](#kdip37q6JslfEgG4i0MrZKckA6dtKKauuygx3Zh85qo) <GiuseppeChillemi (GiuseppeChillemi)>:
 * hiiamboris: But again on this, it does not seem correct. Here is the reason:

I draw a BASE with an image, then I reset the origin to `0x0` and set the drawing cursor from there.
Then I draw an `IMAGE` and cursor continues from there. Then I draw a `BUTTON` and the CURSOR continues from there position. Issuing a `RETURN`, the cursor should return from it, ignoring the larger face, instead it used the first image position and size in its calculation for the next position.

[14:53:35](#OaGIGEbfyvoUXFNMUGADl4pYmoU0RCxPrx1gaMJd1ZQ) <GiuseppeChillemi (GiuseppeChillemi)>:
 * hiiamboris: But again on this, it does not seem correct. Here is the reason:

I draw a BASE with an image, then I reset the origin to `0x0` and set the drawing cursor from there.
Then I draw an `IMAGE` and cursor continues from there. Then I draw a `BUTTON` and the CURSOR continues from there position. If the logic is maintained, issuing a `RETURN`, the cursor should return from the last DRAW face, ignoring the larger face, instead it used the first image position and size in its calculation for the next position. 

[14:53:38](#a1Y8vBBZOpMYT3N1E5glxwEsYj9U-Ni-QCwC5bjGUCI) <GiuseppeChillemi (GiuseppeChillemi)>:
(Modified)

[14:53:41](#e8XUoR8L2_BwuNwSv_CdFJu2LvuS6TaCLyklypz6o50) <hiiamboris>:
`origin` doesn't do a `return` I presume

[14:53:58](#x5xJ6nfoTNZD4Ha_Zbzfna__L9mvkjeznoAtts-3AYs) <GiuseppeChillemi (GiuseppeChillemi)>:
What you mean?

[14:54:28](#WX8jrjWX9DKJjnz6oWOH_AezY6FwCAzY4usTY1Xou0c) <hiiamboris>:
that the base is still considered a part of the row

[14:55:16](#MTzVzdBD15i00NwNuNXxMlTUxYMQXy49fqgL0jcglqU) <hiiamboris>:
Â¯\\\_(ãƒ„)\_/Â¯ VID allows you too much flexibility, enough that you can shoot yourself in the foot

[14:56:03](#HqYzy_RfkKeicC1XC1_9JWhIGx33O2EESEIdcmfxcok) <hiiamboris>:
maybe `origin` should not even be allowed to be used after the first face

[15:00:29](#bOCKKVaT9g1lzrb4ALu-9xTXfkFOv40Igr7WqAtc2UE) <GiuseppeChillemi (GiuseppeChillemi)>:
I don't know about the drawing rules so much but I think that there are 2 consider:

`origin 0x0` could be used to draw a face or a container of face as a OUT OF ROW once in a time drawing. 
Or
`origin 0x0`should be absolute and clear all the previous position data and only the new drawn faces should be considered for repositioning.  

[15:00:52](#xHHJgvWvTWm6jH6mW7wtDl41bCVJtF8Ng86c24MtjfY) <GiuseppeChillemi (GiuseppeChillemi)>:
 * I don't know about the drawing rules so much but I think that there are 2 consider:

`origin 0x0` could be used to draw a face or a container of face as a out of raw calculation, once in a time drawing.
Or
`origin 0x0`should be absolute and clear all the previous position data and only the new drawn faces should be considered for repositioning.

[16:21:50](#HgCyIafwq7Mr-1Pnn2rEYtRTjxny9UVrk5KEebNrb9A) <hiiamboris>:
report an issue if you want

[16:25:55](#0VWmKiK_JqdifGT0ExxnlJMzdbuqBDCeUgi8CrRlh_c) <GiuseppeChillemi (GiuseppeChillemi)>:
I'll do once back at home.

[17:52:07](#KvZ0R3od6AMxekH7FqERHJt7UZ1tkPsPvFLUBuTwVl4) <GiuseppeChillemi (GiuseppeChillemi)>:
Oh, here is the report: https://github.com/red/red/issues/5541

[17:53:20](#LhvYKPYbeEfUBMOqqsGVkLKp6aslW_8Hu2H-3DAh1PU) <hiiamboris>:
it will be closed because the code is not reproducible :)

[17:55:44](#jC-alEGqzrT4vNiFIPJi67LQ2Y9hEeilj8ww21P_bKc) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@hiiamboris:tchncs.de> it will be closed because the code is not reproducible :)

Why?

[17:56:07](#ARwpdygtJ5wTqlBvu7TJost0PB7Ndd7338M2pTAdMI8) <hiiamboris>:
why do you think?

[17:57:35](#K2-8TYCrDeZWXaC4vT9bil6qjGEfJ_h6U5_sx9QQqBA) <GiuseppeChillemi (GiuseppeChillemi)>:
I have embedded the source files, you should only save it with the correct name.

[17:58:14](#p4h00l1bagsQ9r98Lkzt1zpmjUUWsAwQB9MtkcRUJMQ) <hiiamboris>:
ok but they don't carry the names

[17:58:20](#-HRSJHaAB3t8G8L1mddiK6Be5r-T1nxlEj5obMhzE8s) <hiiamboris>:
nor they are at all relevant to the issue :/

[17:59:27](#0puFSfpoGnF_LW7WhpXCnRoIMHPPB39OLaodOqL3XSo) <hiiamboris>:
nice nebula painting though

[18:00:27](#YoSeykLVk4mJMkflYABlus1zZ0_jNhQlH7QjwQm1tKA) <GiuseppeChillemi (GiuseppeChillemi)>:
I have put the file name just now:

[18:00:32](#P_jcFYS9i3spbSuImKvwcq6grj7xu7ebas8ndf5iV9A) <GiuseppeChillemi (GiuseppeChillemi)>:
 * I have put the file name just now

[18:00:47](#95wUq26PVOOzAhIVwSMrZrhr_FGLoczNuh3pdJSMWgU) <GiuseppeChillemi (GiuseppeChillemi)>:
Yes, I like this nebula a lot.

[18:01:28](#v5T_6Ed0HxuhAT14vUuoCTYiXtA-ONpsLW98nuipYVo) <GiuseppeChillemi (GiuseppeChillemi)>:
We need some colors and modern graphic in our GUIs

[18:02:11](#xFRc-KBOzCj3pSbwmCXvtuZ7-Iy2J9G0tyCwQcSPaz4) <GiuseppeChillemi (GiuseppeChillemi)>:
Apart pink , because we already have a lot of pink"somewhere".

[18:02:23](#IQkX9RjpgHizY2uXtwkrNgjWxvEAUrr4nbFWlQCxW24) <GiuseppeChillemi (GiuseppeChillemi)>:
 * Apart pink , because we already have a lot of pink "somewhere".

[23:48:19](#xjjYR6RRZTrx5MFlJn6IeGPPtpB9Czuo23SG0PI3gZ4) <GiuseppeChillemi (GiuseppeChillemi)>:
I have a problem, the progress bar does not reflect the slider in real time but it is delayed:

```
view	[
	p: progress 200x50
	s: slider [p/data: s/data]
]
		
```

It happens only when increasing and not when decreasing

[23:48:24](#ALFvCsZZYdsh5w9r0JSKFSnqPUoCmfPMltu-5YbB0os) <GiuseppeChillemi (GiuseppeChillemi)>:
![https://gitter.ems.host/_matrix/media/v3/download/gitter.im/3ec8dac104081cee1fce54116409edf462e3625c1837640047319318528](https://gitter.ems.host/_matrix/media/v3/download/gitter.im/3148447798a707df8c58a8b468cbecaf5e9976e91837640049445830656)

[23:54:41](#LJKipGWDikX4WNZdDJfBK5oFrkXsWwVvEc-P6xTDqBQ) <GiuseppeChillemi (GiuseppeChillemi)>:
Another problem:

[23:55:08](#F-Y6Wcxi8A540HBVUJg4HcUxSfknexTTNouOWrq71vk) <GiuseppeChillemi (GiuseppeChillemi)>:
The camera style is very slugglish loose.

[23:55:34](#o25dfaQk1ngYr6gYPstDwlLwU4cJwwQXfZcSC31kHyQ) <GiuseppeChillemi (GiuseppeChillemi)>:
 * The camera style is very slugglish `loose` drag it and it will delay 1 sec.

## 22-Sep-2024

[0:11:59](#xmEOxF1y6uXAIOtIPJwf0aB9SAa2F0DaZeNKN8wReEY) <GiuseppeChillemi (GiuseppeChillemi)>:
Another Problem/2:

I have this code:

View z: layout [
	
	zz: tab-panel 500x500 [
		"CAmera" [
			c: camera 370x300 loose with [selected: 1] [probe data]
			below
			button "list cam" [show c probe c/data]
			button "Capture" [im: to-image c view [
				image im 370x300 button "unview" [unview]] 
			]
			Button "capture FACE" [
				im: to-image z 
				view [image im 500x500 button "unview" [unview]]
			]
			Button "capture PANEL" [
				im: to-image zz 
				view [image im 500x500 button "unview" [unview]]
			]
		]
	]
]


[0:12:20](#0dCwBwvG0L-QXzq0qnxSGmQyz8i4jeQtk5cmXT5LtvY) <GiuseppeChillemi (GiuseppeChillemi)>:
 * Another Problem/2:

I have this code:

```
View z: layout \[

zz: tab-panel 500x500 [
	"CAmera" [
		c: camera 370x300 loose with [selected: 1] [probe data]
		below
		button "list cam" [show c probe c/data]
		button "Capture" [im: to-image c view [
			image im 370x300 button "unview" [unview]] 
		]
		Button "capture FACE" [
			im: to-image z 
			view [image im 500x500 button "unview" [unview]]
		]
		Button "capture PANEL" [
			im: to-image zz 
			view [image im 500x500 button "unview" [unview]]
		]
	]
]
```

\]

[0:12:27](#kg4CtNLJpVcglz2U1_guSGba8gktVaSec8oov7D57ko) <GiuseppeChillemi (GiuseppeChillemi)>:
 * Another Problem/2:

I have this code:

```
View z: layout [

zz: tab-panel 500x500 [
	"CAmera" [
		c: camera 370x300 loose with [selected: 1] [probe data]
		below
		button "list cam" [show c probe c/data]
		button "Capture" [im: to-image c view [
			image im 370x300 button "unview" [unview]] 
		]
		Button "capture FACE" [
			im: to-image z 
			view [image im 500x500 button "unview" [unview]]
		]
		Button "capture PANEL" [
			im: to-image zz 
			view [image im 500x500 button "unview" [unview]]
		]
	]
]
```

\]

[0:13:03](#qoKLZLKrh5mzjPQYjqzFEqcm33XFQ8zte64E0thC4QI) <GiuseppeChillemi (GiuseppeChillemi)>:
If I hit "capture face" a black frame appears around the captured area:

[0:13:10](#Rp69alTMXHxNpuqyMZeBU6FEr5spHspifw4f-XgsFxo) <GiuseppeChillemi (GiuseppeChillemi)>:
![https://gitter.ems.host/_matrix/media/v3/download/gitter.im/d55697de6b469433e06a5cacda03a9d2cace4e811837646277790138368](https://gitter.ems.host/_matrix/media/v3/download/gitter.im/582e00ac1971ef2276da6e9335e576ff13279a2d1837646280738734080)

[0:28:37](#8vFa9SE7PPXsp8iihU2zuCNdAsA_hocoeglxvzY-7zs) <GiuseppeChillemi (GiuseppeChillemi)>:
 * Another Problem/2:

I have this code:

```
View z: layout [

	zz: tab-panel 500x500 [
			"Camera" [
				c: camera 370x300 loose with [selected: 1] [probe data]
				below
				button "list cam" [show c probe c/data]
				button "Capture" [im: to-image c view [
					image im 370x300 button "unview" [unview]] 
				]
				Button "capture FACE" [
					im: to-image z 
					view [image im 500x500 button "unview" [unview]]
				]
				Button "capture PANEL" [
					im: to-image zz 
					write-clipboard im
					view [image im 500x500 button "unview" [unview]]
				]
				Button "Write Cboard" [
					write-clipboard "Jello"
				]
		]
	]
]
```


[0:29:17](#UASNz_vuoHu_w8KgnMcxQVr8zMxmXsoiy5X2wodsnvg) <GiuseppeChillemi (GiuseppeChillemi)>:
 * Another Problem/2:

I have this code:

```
View z: layout [

	zz: tab-panel 500x500 [
			"Camera" [
				c: camera 370x300 loose with [selected: 1] [probe data]
				below
				button "list cam" [show c probe c/data]
				button "Capture" [im: to-image c view [
					image im 370x300 button "unview" [unview]] 
				]
				Button "capture FACE" [
					im: to-image z 
					view [image im 500x500 button "unview" [unview]]
				]
				Button "capture PANEL" [
					im: to-image zz 
					write-clipboard im
					view [image im 500x500 button "unview" [unview]]
				]
		]
	]
]
```

[0:29:57](#9vAVB6HG5jPE6OvdzFQxJYrSYq-A9XxuEWepXJAW1QU) <GiuseppeChillemi (GiuseppeChillemi)>:
Also, if I press Capture Panel, the image is copied into clipboard but if I paste it inside a program, a white image is pasted

[4:31:22](#M7u-ZD9KKOfaZOh6YE7B2rDACb09cYTQmzQv5COtMlY) <greggirwin (Gregg Irwin)>:
> <@giuseppechillemi-59045d00d73408ce4f5bcd9d:gitter.im> I have a problem, the progress bar does not reflect the slider in real time but it is delayed:
> 
> ```
> view	[
> 	p: progress 200x50
> 	s: slider [p/data: s/data]
> ]
> 		
> ```
> 
> It happens only when increasing and not when decreasing

For me, on Win10, increasing is slightly throttled, but decreasing is instant.

[4:33:21](#t0fP61kh0TZxulCeWjCegRI9dVLlwpvrdNU5GsnitK0) <greggirwin (Gregg Irwin)>:
Red isn't seeing my camera right now, so need to see what's going on there before commenting.

[8:18:57](#Tjsdkuze0PGBoyLeqChqQp6Phz4lC7QVSwLHVOWUFs0) <hiiamboris>:
report it to microsoft

[11:56:06](#aHToAg5D7AlMPmK763VV9EsUlx5QqVsBwe_XXccj8W8) <hiiamboris>:
![](https://tchncs.de/_matrix/media/v3/download/tchncs.de/2541cb2f5827e6262bbc7c6dde6db073b6594a9b1837823177846161408)

[11:56:12](#6qQAyePq0BMpXk9vxTxh4oVou2S4Z2rjo_NQ8KHckgY) <hiiamboris>:
could be this

[11:56:23](#ygKPalOyet-6bYgv7xPY0WK4VA9JYmKBNHiochk_1Zw) <hiiamboris>:
* could be the first setting

[11:56:30](#FtrU5R7MFK6CgXq7tAkdGMnsxJZi2imlOIlz8pM436k) <hiiamboris>:
* could be the first setting

[11:56:38](#_Hv9tIC7ggIS658LT2AuYxXoCi9W-JksBD1ZIJsP7uo) <hiiamboris>:
* could be the first setting

[12:00:51](#x9iMR-JMMSbxj-qYNLMQCTO8fgYsKz-5Q5VxA7pKiKI) <hiiamboris>:
no black frame for me on W10

[12:02:35](#eQoB-9E5_RMl_6miq5YhnAwwN9GkoCLMUjN2womxTus) <hiiamboris>:
tried 6 times (with mspaint), never a white image, always a correct snapshot

[12:04:28](#-U35Qdv0Ajg5fmOyFkiVsf9AnfBedyRNlzmxh_i_CAk) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@hiiamboris:tchncs.de> tried 6 times (with mspaint), never a white image, always a correct snapshot

IRFanView here, I will try again later with paint.
Have you used my code? 

[12:06:08](#G5shKe0PYMg0QPRpufAUhDSJ6oCoYaJJUJ45eRjb2cY) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@hiiamboris:tchncs.de> no black frame for me on W10

Have you font to 100% or higher as me? 

[12:07:18](#7znYySXFkS-DgYZsZ076SS42d720r7oxGZZyyZD0A_c) <GiuseppeChillemi (GiuseppeChillemi)>:
Nice, I'll try later

[12:19:12](#oz5fPtQ3meAIkiSUQDDYfCNheFi7WK5epDwXIySXFY4) <hiiamboris>:
I have, yes

[12:20:58](#gv33CC_ohKIhkC05BOCQUKULBQkiJwYPRSfDLva-sgQ) <hiiamboris>:
no idea

[12:21:17](#ay1V4If8E_zHzz9KT_K7N2Aizvc04Uo-cm1a8wrk0lA) <hiiamboris>:
![https://tchncs.de/_matrix/media/v3/download/tchncs.de/5ea74c141f7b6b8aa3ab29b991211abb02ebf74f1837829506476277760](https://tchncs.de/_matrix/media/v3/download/tchncs.de/96781645e4658f061633a8317165be89f4d58d0e1837829513480765440)

[12:21:58](#BQYeZ40CBJSBl286iBNHx3cij_RYbZtJJpgJknIAFks) <hiiamboris>:
```
>> ? system/view/fonts/size
SYSTEM/VIEW/FONTS/SIZE is an integer! value: 9
```

[15:30:20](#wJxq5TPZdoG0V3dvDsV_eRUDc6-Nts8pEI7czyylchM) <GiuseppeChillemi (GiuseppeChillemi)>:
I will try on my other notebook

## 23-Sep-2024

[4:31:48](#V14vi0ppTfBn3gNlZQnIag6fMo2t5FNOZT6EVHGymmg) <ldci (FranÃ§ois Jouen)>:
GiuseppeChillemi (GiuseppeChillemi): No problem for slider and progress under Win 11. No problem for image copied into the clipboard. A question: why do you want use loose with camera?  

[10:50:11](#C89lloq-G6Pmwt3R1IdxA6UK79lwkK8jDuZsY3cNH_k) <GiuseppeChillemi (GiuseppeChillemi)>:
It was a simple test, no real use actually. The only one I could see, looking at the future, is UI customizing. However it is strange such slugginess.

[10:51:26](#W6GqFHUqJimLLtJimvMShwJE9EDNlaK0G2JUNVZLiMA) <GiuseppeChillemi (GiuseppeChillemi)>:
And what about the black frame? 

[16:46:30](#ziJV3-Ro8MFibepmfaj8GfbM-d4BPifrXnTzwvvtQTQ) <ldci (FranÃ§ois Jouen)>:
GiuseppeChillemi (GiuseppeChillemi): about the black frame, try this
```
#! /usr/local/bin/red
Red [
	Title:	"Red window & screen capture VID demo"
	Author:	"Qingtian Xie"
	File:	%face-to-image-vid.red
	Tabs:	4
	Needs:	'View
	Rights:	"Copyright (C) 2016 Qingtian Xie. All rights reserved."
	License: {
		Distributed under the Boost Software License, Version 1.0.
		See https://github.com/red/red/blob/master/BSL-License.txt
	}
]

view [
	title "Simple Capturing demo"
	style btn: button 100x40
	pad 30x0
	btn "Capture Self" [
		img: to-image face
		canvas/draw: reduce ['image (img) (canvas/size - img/size / 2)]
	]
	btn "Capture Window" [
		img: to-image face/parent
		canvas/draw: reduce ['image (img) 0x0 (canvas/size)]
	]
	btn "Capture Screen" [
		img: to-image system/view/screens/1
		canvas/draw: reduce [
			'image (img)
			0x0 canvas/size
		]
	]
	return
	canvas: image 400x330
]

```


[18:48:14](#D2Ef1MttgQMNFPrgjK92eGfnV9YOyr7BEZO-Hjf99eM) <GiuseppeChillemi (GiuseppeChillemi)>:
![](https://gitter.ems.host/_matrix/media/v3/download/gitter.im/ce10e12f91135862d5d8a7ae314848add8ca46841838289284847632384)

[18:48:37](#gSpqDUPDfPt8bCnaKSp82o0253mikmpd8w3yESWfjw8) <GiuseppeChillemi (GiuseppeChillemi)>:
The black frame is here

[18:58:40](#aP6l02RsVFOQ7JnjjyUbYBZYcEEkUdNC4bTNaAqpFog) <ldci (FranÃ§ois Jouen)>:
Yes. This is a Red problem :)

[19:04:17](#L5N4BEUqz8U8ATJ989FRT99IfHy58KZJRghGDIYSoZM) <GiuseppeChillemi (GiuseppeChillemi)>:
You have the same result?

## 24-Sep-2024

[0:36:16](#VJBtyusSwLOvfjejiLyFV8ZI78LggrmNCCxEDVHaPJE) <GiuseppeChillemi (GiuseppeChillemi)>:
Also, is there an open ticket? 

[8:25:05](#bBBWoWj8QESl2PDUjJxRaWaLV97jxcoD0kyrza983ks) <hiiamboris>:
no

[11:45:58](#DhnAKqTbyhWATSos6KZQ_99dszIvGvxFrDD49xF-i68) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@hiiamboris:tchncs.de> no

Done

## 29-Sep-2024

[19:40:54](#xRSsP9Atkg76-qY2OPX9Zd_jZqXZfQO0mlHcIn7yu7w) <GiuseppeChillemi (GiuseppeChillemi)>:
Strangely enough, `copy/deep` is not` DEEP` on `map!`

[19:41:10](#i1IJ3uf2rocfwsFDjaaz02RF09oawUbCKiWBSCJRygk) <GiuseppeChillemi (GiuseppeChillemi)>:
```
>> m: make map! [a: "hellooooo"]
== #[
    a: "hellooooo"
]
>> m2: copy/deep m
== #[
    a: "hellooooo"
]
>> append m2/a "world"
== "helloooooworld"
>> probe m
#[
    a: "helloooooworld"
]
== #[
    a: "helloooooworld"
]
>> 
```

[19:49:30](#Bzh6gfr16HTb3q5zaw83LPY-KSKS6O8bkmaGoWRgctw) <hiiamboris>:
I thought you already discovered that

[19:50:02](#1a-7L58YnoYhXXgRMX9RTK6yQY_qdcGmnJclt6RlMf8) <hiiamboris>:
I even recall giving you a Redbin-based solution

[21:25:14](#KJvhPuPoeFMZccBCEfwu2xGvqo9ulvGGLTVl0D-HnWc) <greggirwin (Gregg Irwin)>:
I have a whole file of notes on `make/copy` with various compound types. Needs to be improved.

[21:27:32](#-1vvOFd1gf053CmnHzKtn037WuKoO1GJiF0gdey780s) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@hiiamboris:tchncs.de> I even recall giving you a Redbin-based solution

It was about copy/deep truncating the series on objects. 

[21:28:01](#BssJKLMF7HS0mHnpoKG7g3PcwS-S0RNcKY63Ot4k0Qw) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@greggirwin-55659ddb15522ed4b3e1006f:gitter.im> I have a whole file of notes on `make/copy` with various compound types. Needs to be improved.

Is it published? 

[21:31:11](#eiQ1-YZkibEC8RKncXnAul9qseljz8xdOV9pTigiWmg) <greggirwin (Gregg Irwin)>:
> <@greggirwin-55659ddb15522ed4b3e1006f:gitter.im> I have a whole file of notes on `make/copy` with various compound types. Needs to be improved.

Is it published? 

[21:35:39](#kSF34c8vCiVVKbjK3qsT1VJ-5lAKrbcghvTFf00FrdA) <GiuseppeChillemi (GiuseppeChillemi)>:
Thank you, I'll read it

[21:39:36](#lFzRt9o_Ll7s29Gxabgc2rBnwioi7u78kOZH05gCSrc) <greggirwin (Gregg Irwin)>:
It's almost 4 years old at this point. :^)

[21:50:05](#HfMNDRxACzJsLri3T1aZAMWmPjg9CiBlEGUeNdQMWc0) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@greggirwin-55659ddb15522ed4b3e1006f:gitter.im> It's almost 4 years old at this point. :^)

As latest Red big changes! (excuse me, this time I could not avoid it from coming out from my fingers).

## 30-Sep-2024

[1:26:27](#0oTrbU9CCBj-9PE7fIfL0tE6LPHeQSwM-RT0ZFjOO7E) <GiuseppeChillemi (GiuseppeChillemi)>:
Is it as it meant to be?

```
view compose src: [
	area (mold src) 
;	{view  [
;			a: area "1234567890abcdef" 
;			button "Copy" [if a/selected [probe copy/part a/text a/selected ]]
;			Text "Select 890 and copy"	
;		]} 
		300x200 disabled wrap
	
	a: area "1234567890abcdef" 
	below

	button "Copy" [
		if a/selected [
			probe copy/part a/text a/selected 
		] Print "Is it correct?"
	]
	
	Text "Select 890 and copy"
]
```
Copy need one more character in selected text when PAIR!


[1:27:28](#zXKjWoPB1LRX0Uegqex_XZVrH1S6IYwWZ1NGD8v7tjI) <GiuseppeChillemi (GiuseppeChillemi)>:
 * Is it as it meant to be?

```
view compose src: [
	area (mold src)  
        300x200 disabled wrap
	
	a: area "1234567890abcdef" 
	below

	button "Copy" [
		if a/selected [
			probe copy/part a/text a/selected 
		] Print "Is it correct?"
	]
	
	Text "Select 890 and copy"
]
```

Copy need one more character in selected text when PAIR!

[1:27:40](#6QdDSjqtjba4lztqfrQtfHQIHCHvoEqz1rt50k3nDJw) <GiuseppeChillemi (GiuseppeChillemi)>:
 * Is it as it meant to be?

```
view compose src: [
	area (mold src)  300x200 disabled wrap
	
	a: area "1234567890abcdef" 
	below

	button "Copy" [
		if a/selected [
			probe copy/part a/text a/selected 
		] Print "Is it correct?"
	]
	
	Text "Select 890 and copy"
]
```

Copy need one more character in selected text when PAIR!

[5:10:55](#gR55hfS5RawNJyVSYjrJedNXRexN6iYiMvHNWlLp_w8) <hiiamboris>:
I always said it's a mess

[11:28:18](#WmKKn4kPQi6lKAIuNjoVBKT6_sEiHdi7kr4WXnvEpUo) <GiuseppeChillemi (GiuseppeChillemi)>:
I remember you have annotations somewhere

## 1-Oct-2024

[20:12:46](#7nsg2vCMPoVCcQMBLcb2CQw4Em_5CPW46x8-VbI1gdo) <GiuseppeChillemi (GiuseppeChillemi)>:
If you drag a "loose" button,  when you release the mouse butto it will fire its clicked event.

[20:12:58](#zVaN3wVonw5JaLUGax0l5vUpw13TUGjpZ08mtEq7p68) <GiuseppeChillemi (GiuseppeChillemi)>:
 * If you drag a "loose" button,  when you release the mouse button it will fire its clicked event.

[20:13:14](#H5aCOtYO7XMjEFiAUDIw_dK-HZu3C1rrGAptfKThLIc) <GiuseppeChillemi (GiuseppeChillemi)>:
 * If you drag a `loose` `button`,  when you release the mouse button it will fire its clicked event.

[20:13:43](#rdbuOGn73pq70wpxXrFM84ICs4TjekmGfb3k5ZTZba4) <GiuseppeChillemi (GiuseppeChillemi)>:
I don't know if it is correct.

[20:17:18](#4TfdCLZmzVZPjZkTb4AGN__SWsWFMoKYfa-1Kuafm0o) <GiuseppeChillemi (GiuseppeChillemi)>:
It produces the side effect of running the event connected to the button of my launcher when releasing it.

[20:17:27](#g3DegSd0Y8XUx6f6C5Mm8MHBiAn7UTo4A23HmVlqa3Q) <GiuseppeChillemi (GiuseppeChillemi)>:
![https://gitter.ems.host/_matrix/media/v3/download/gitter.im/8bcaa0ce392bcd58ba9ff28263826701f6bf6a1b1841210838254354432](https://gitter.ems.host/_matrix/media/v3/download/gitter.im/11c382907298b1aa063b9de72936af7019e96cde1841210840435392512)

[20:18:04](#A6VluZ4oO1uHCorkoLwGfrHCKHVtZ_DweSwtZhutGNU) <GiuseppeChillemi (GiuseppeChillemi)>:
(In this case it launch UltraEdit and it is move to front because already open)

[20:18:13](#qyJdxuqImzx0C3MsKlCdxBZDmdGzSHAW0ocJsD8HFWE) <GiuseppeChillemi (GiuseppeChillemi)>:
 * (In this case it starts UltraEdit and it is move to front because already open)

[20:26:31](#WZMBrI69hWE2ssbkz21-eA5VsmteGGUAf0j2anu3Was) <hiiamboris>:
seems correct

[20:34:47](#I4BgwCDjEU_E0mpowcSneaCFcJA6Wl1X8RNVwJxSGzs) <GiuseppeChillemi (GiuseppeChillemi)>:
Ok, I see there is an `on-drop` event. Could we stop executing on or more subsequent actors for that face? So I can skip the `on-click` event.

[20:49:56](#xSMII7lGXwrie0vwRlOaorfZQ4yDkXRNbPtXpzva8k0) <hiiamboris>:
no, this is your personal weird UX, you should deal with it yourself

[21:13:26](#mm70EHgs7P1UUsRqU2hSlBRaItYSrCvcxjrPcAcGS4A) <GiuseppeChillemi (GiuseppeChillemi)>:
I disagree, this is a common use case where you give the opportunity to customize the user interface to the users. Also it could be an image which reacts to the mouse clicks. So discarding the on-click event is really important. 

[21:14:39](#o4iXE0-8QqE5RwTxM2_kULJO8HcoiR9nSs2-GAMTnA0) <GiuseppeChillemi (GiuseppeChillemi)>:
Think also about a game where you move the tiles but also they react on a click.

[21:19:14](#wewpVNrpil9mXq58W6ZMqcV985mN-C7d2_i7wLyAYbA) <hiiamboris>:
loose buttons is definitely not a common use case í ½í¸‚

[21:19:48](#oaLJLtc2jnp4jsvOEiIwz9HZ8g4pHgh9T04aV-ntd-Y) <hiiamboris>:
you'll handle it, it can't be harder than 2 lines of code

[21:24:04](#wB-5bj3Wb9Ym1bbuKIB5PrCNg1v37RChr6A3134l_wQ) <GiuseppeChillemi (GiuseppeChillemi)>:
You have not worked with ERP where each user customize every panel for his role. 

[21:26:09](#OluHfQeUGLtgTOVselpsK4SzSnfDts3AB0IfbEFXpJE) <GiuseppeChillemi (GiuseppeChillemi)>:
But I have writing those 2 lines in every button as they are too many. I should rise a flag at "on-drag-start" and test it before running the actor. It could be done but I hate it. 

[21:27:35](#IN-Ol7G9V3CLQ1HDkqDFvuA_oizhnZq9NAP4eXjbrQI) <GiuseppeChillemi (GiuseppeChillemi)>:
I would prefer a `loose-no-event` or something similar but shorter

[21:27:51](#JP8dMRcR_ndwXIhIq2vTc7x3be18_5HfJe12KsaYMyY) <GiuseppeChillemi (GiuseppeChillemi)>:
 * I would prefer a `loose-no-click` or something similar but shorter

[21:28:14](#XBYQwostWiacvPyj6B81qcjgtSh1pQm6KJttwWXptM0) <GiuseppeChillemi (GiuseppeChillemi)>:
 * I would prefer a `loose-no-click` keyword or something similar but shorter

[21:31:52](#LSPe8hIbuGvne5Lp_TDaBgBcOcUydJBbHR3vLKHcQf4) <GiuseppeChillemi (GiuseppeChillemi)>:
 * You have not worked with ERP where each user customizes every panel for his role. 

## 2-Oct-2024

[4:56:29](#pgSe4hSWXQVT0qBm6lQKaoroSokjhD4lk5qfaqrNVA0) <gurzgri>:
That sounds like the kind of thing one can address in a global event handler, maybe check out `insert-event-func` and deal with that "ERP user is configuring the UI, not using the UI" instead of coding it into each and every control.

[5:30:37](#PNeViLzDI3Q3H1xSHxg2CnnRjX3l_dhlSElbuUozotQ) <gurzgri>:
* That sounds like the kind of thing one can address in a global event handler, maybe check out insert-event-func and deal with that "ERP user is configuring the UI, not using the UI" stuff there instead of coding it into each and every control.

[6:41:16](#5D4tS_8q_UrwOBJVmIve00pYscjw3MezKGQgKWNOz-Q) <GiuseppeChillemi (GiuseppeChillemi)>:
The first question looking at the documentation is: the ON-DROP event, will fire before or after ON-CLICK? Because if ON-CLICK fires before I have no way to know we are dropping the face...  I should be able to see which events are scheduled to be fired after me for that face. 

[6:44:21](#jiJXfUbr44yEg-_5ncX69ieRCEpUefYEtLQIwWtCciM) <GiuseppeChillemi (GiuseppeChillemi)>:
(I see there are extra options of LOOSE faces. 
https://github.com/red/docs/blob/master/en/view.adoc#options-facet
A good place for an event skip option would when LOOSE would be there)

[9:06:06](#OrGH932Jh0eLu6lagfrVK2wLyMJ1eAXw9vV8U6b8tZY) <GiuseppeChillemi (GiuseppeChillemi)>:
I am doing something wrong:

```
handler: func [
	face [object!]
	ev [event!]
] [
	probe ev
]


insert-event-func 'handler

View [
	Button "Test Me" loose [
		Probe "Hit"
	]
	;do [insert-event-func 'handler];This produces error
]
```

[9:06:27](#sezLrT2a_Q6Hx4ZoDOoZzkw4IF4kHEtQx0ewBO7f1eg) <GiuseppeChillemi (GiuseppeChillemi)>:
I have no output

[9:24:03](#PrPfOJcvtIm0_EksWsXnYepndlIlco_EqUUZsLVtXQ4) <endo64>:
insert-event-func takes two parameters, 'name and the a function!

[9:24:19](#-KfSixZb0zwZLfLMAGwFKdL7UvjeUjAw29Q0eGznIBo) <endo64>:
 * insert-event-func takes two parameters, 'name and a function!

[9:25:44](#Yez2vu43EORhxsP7BXnAXwKiiUfmJTIta2_x7Eq_110) <GiuseppeChillemi (GiuseppeChillemi)>:
![](https://gitter.ems.host/_matrix/media/v3/download/gitter.im/c73a90e1e84f1c35a2ce14e2e4f26dbd8356d74b1841409219060826112)

[9:28:46](#XDnTzy2ioAO73pjqjb9MSTi7EIXcykOSeDU76wZDhvw) <endo64>:
![https://gitter.ems.host/_matrix/media/v3/download/gitter.im/0003278a50cbd933303a1f1ebbb2d845b3b94c711841409979605581824](https://gitter.ems.host/_matrix/media/v3/download/gitter.im/c897da5d4601af363a0f316122e54e8ee36941071841409981191028736)

[9:30:55](#j_bAyHECuxAmaMVpsXnOFy4glVD8lHosDkmdPnTTedY) <GiuseppeChillemi (GiuseppeChillemi)>:
Yes, I have seen it but if you look at the documentation it seems you only need to add a function.

[9:31:43](#-67NzYCvBEKomdFlDFQibiKuvUOxzb-BdKySyfvFRiY) <GiuseppeChillemi (GiuseppeChillemi)>:
 * Yes, I have seen it but if you look at the documentation it seems you only need to add a function or a block which will be promoted to a function

[9:32:25](#Jgem4CHqf-BnGK-LmnY4BfR-_AvRXEyDeSPvpDoMRW4) <endo64>:
I think the doc is outdated.

[9:44:55](#ykxk-BhF1-eYZxEfzVFJoaGEzXEhaWCKmW854SDoE38) <GiuseppeChillemi (GiuseppeChillemi)>:
I am facing multiple problems and doubts while experimenting.
I have tried to PROBE the event and 'event` word has been print but it can't be printed. Mayber the EVENT! daype returns this word and not its content. I tought I should GET it but it returned an error too:

```
events: copy []

got-event: false
handler: func [
	face [object!]
	ev [event!]
] [
	if got-event = false [append events ev got-event: true]
	none
]


insert-event-func 'handler :handler

View [
	Button "Test Me" loose [
		Probe get first events
	]
]
```

Actually I don't know how to inspect the event


[9:45:57](#ED1MYCAhnP_I0tyLAeIIzKV9ApC62KPdvXA6dESMxrQ) <GiuseppeChillemi (GiuseppeChillemi)>:
(Because `probe` returns an error)

[9:50:04](#fVoWWgi3e51iD0SFbooWpMK4yfKzfFpORsEqOPoFchU) <Oldes (@oldes.h:matrix.org)>:
`ev/type`

[9:51:31](#GpN-Te-e76Lwp13Syxsofs1eOFRj9dE3eqeTA91KzMQ) <GiuseppeChillemi (GiuseppeChillemi)>:
TNKS

[9:52:43](#o9Bn34hhxf1AkCkPnazOR0i2gfK_ej-51EIGRYRccTs) <Oldes (@oldes.h:matrix.org)>:
But it is true, that `probe ev` should print something better than just word `event`... probably just not implemented.

[9:58:54](#nbDnr2eJ_VH9IMZ2Rl96Fjad357MaUcFVZ2wnh938FM) <Oldes (@oldes.h:matrix.org)>:
Also using `print ["Event:" ev/type ev/size]` in the handler floods the console... (one have to use task manager to kill it)

[10:00:28](#ARlc4NLb-WDKB_nVhIxqteak7c3XIED4ksfZkFiIIXs) <GiuseppeChillemi (GiuseppeChillemi)>:
This is the reason why I have implemented a "print only one" mechanism

[10:16:35](#hpibS84vOGwG2Oo9vflRM8F7wRqCtq_wWS9h4i-PsRA) <GiuseppeChillemi (GiuseppeChillemi)>:
As far I have understood, there are global event handlers which are not the actors but what is before the actors. The system maintains a global event handlers list and call all of them on each event. Then when my event handler exits it could return one of these results:


[10:16:39](#SuYPdYwOOZdrqJnCtw3a2htesaduEOSgFba7u2h_0QU) <GiuseppeChillemi (GiuseppeChillemi)>:
![](https://gitter.ems.host/_matrix/media/v3/download/gitter.im/3af9b8c66512349234b6dcf25d7ee44d16b06f711841422031095070720)

[10:17:29](#sBzTRJ42IvbLoqCeBI6PNQ-WuClfAvLoLlt16WXme6I) <GiuseppeChillemi (GiuseppeChillemi)>:
`none`, all other global handlers are processed - and this was easy to understand...


[10:19:47](#GpLI02P4NwVsEAudQMRjpfjbLvBvmREMuCx6GTO75w0) <GiuseppeChillemi (GiuseppeChillemi)>:
`done` the other global handlers are blocked, so if this is the 3rd you have added over 6, handler 1 and 2 and 3 are executed and 4 5 6 are not. "The event is propagated to the child faces, means all actors belonging to that type of event are executed.

[10:22:59](#JkxYTp8wBi0JVaQyxpjzKM-qjoQihUdCvmoaUYu585Q) <GiuseppeChillemi (GiuseppeChillemi)>:
`stop` means that the event loop ends here. So, if it is an "clicked" event, stopping here will stop the propagation the faces with the correspondent actor.

[10:29:08](#8r1fiqF-7jUdq6OQqQc2DZ3-CqqbsTW9aVEQ7Zb5ZcY) <GiuseppeChillemi (GiuseppeChillemi)>:
What I don't understand is the event loop cycle width. Does it refer the event FLOW described in the documentation? When an event is generated, does it happen for each face or one time globally?

[10:30:00](#I-P3vLI_Om2A2Jn1Qt7kvQIARFFyjRgkQd9V9HTr0zk) <GiuseppeChillemi (GiuseppeChillemi)>:
 * What I don't understand is the event loop cycle width. Does it refer the event FLOW described in the documentation as captured to a single face an then bubled to the top one? When an event is generated, does it happen for each face or one time globally?

[10:30:38](#IzxXW1jLg-KFBjkMzPzbhSel5Jl9BY7mEVHqCF26myk) <GiuseppeChillemi (GiuseppeChillemi)>:
 * What I don't understand is the event loop cycle width. Does it refer the event FLOW described in the documentation as captured to a single face an then bubled to the top one? When an event is generated, does it happen for each face or one time globally for just one face?

[10:46:01](#PFOnsIGeu48FuG85-YNUHfHqNI-jqQWRKsZsz-xbRgM) <GiuseppeChillemi (GiuseppeChillemi)>:
This test is funny:

```

handler: func [
	face [object!]
	ev [event!]
] [

	'stop
]

insert-event-func 'handler :handler

View [
	Button "Test Me" loose 
	Button "Test Me 2" loose
	Button "Test Me 3" loose
	Button "Test Me 4" loose

]
```
Hit the same button 2 times quickly and the GUI will stop working and you can't close it. (Or click quickly one and then another). It you click it twice slowly, it will work.

[10:46:46](#gQmCZnfPN2123S5kKQy5tPbEzEAcrpW9R_NfwWsU2Cs) <GiuseppeChillemi (GiuseppeChillemi)>:
Instead `done` blocks every event handler, not only those added by me.

[10:52:44](#3nnbIw6mFeB4mENuglXsX7X3_zY3tqkJd9wiFBn4mgg) <GiuseppeChillemi (GiuseppeChillemi)>:
So, how do I say: "stop propagating only for this face but continue with the others?"

[19:39:12](#K3GdNcOSynG__h6vJDvAa0emO3wfTvow5mKr6oMBFSw) <greggirwin (Gregg Irwin)>:
Your handler gets the face as an arg, so you can check that and dispatch accordingly.

[19:51:53](#kKCyHHbzfA4VCf8kG-7kvYrzp6exHxXZ6dGOzx5m79Q) <greggirwin (Gregg Irwin)>:
On the drop-click question, how can Red know what behavior you want for loose faces, if they are actually moved or not, etc. As always, it's a fine balance of how much is done automatically, and how much control that takes away from users (which may be harder to work around when needed).

[19:58:56](#rnMK45mZQsVU-0q2fHLXt0OHPL_dWiV1rIxKZtHZM0w) <gurzgri>:
GiuseppeChillemi (GiuseppeChillemi)  In the following example the loose buton can be dragged only when the UI is in "tweak-ui"-mode toggled by the gear-button. Neither button is clickable in tweak-mode. In "run-ui"-mode, both buttons are clickable, neither is draggable:

```
insert-event-func 'modal-ui [switch event/type [
	over  [all [mode <> 'tweak-ui 'stop]]
	click [all [mode =  'tweak-ui 'stop]]
]]

view/options [
	do [mode: 'run-ui]
	toggle 22x22 "âš™ï¸" [mode: pick [tweak-ui use-ui] face/data]
	button loose "Drag me!"   [print "You dragged me"]
	button       "Click! me!" [print "You clicked me"]
] [size: 200x300]
```

[19:59:27](#dqA8IiFRfLJvY_j2MVVwC5zK5lx9eN4jUm9Tte6peA4) <gurzgri>:
 * GiuseppeChillemi (GiuseppeChillemi)  In the following example the loose button can be dragged only when the UI is in "tweak-ui"-mode toggled by the gear-button. Neither button is clickable in tweak-mode. In "run-ui"-mode, both buttons are clickable, neither is draggable:

```
insert-event-func 'modal-ui [switch event/type [
	over  [all [mode <> 'tweak-ui 'stop]]
	click [all [mode =  'tweak-ui 'stop]]
]]

view/options [
	do [mode: 'run-ui]
	toggle 22x22 "âš™ï¸" [mode: pick [tweak-ui use-ui] face/data]
	button loose "Drag me!"   [print "You dragged me"]
	button       "Click! me!" [print "You clicked me"]
] [size: 200x300]
```

[20:38:21](#Ta_rP_gnlicbuFP0HHF4AQCBUK1WLZm8TbTdR_HuL84) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@gurzgri-56c25b3ae610378809c19713:gitter.im> GiuseppeChillemi (GiuseppeChillemi)  In the following example the loose button can be dragged only when the UI is in "tweak-ui"-mode toggled by the gear-button. Neither button is clickable in tweak-mode. In "run-ui"-mode, both buttons are clickable, neither is draggable:
> 
> ```
> insert-event-func 'modal-ui [switch event/type [
> 	over  [all [mode <> 'tweak-ui 'stop]]
> 	click [all [mode =  'tweak-ui 'stop]]
> ]]
> 
> view/options [
> 	do [mode: 'run-ui]
> 	toggle 22x22 "âš™ï¸" [mode: pick [tweak-ui use-ui] face/data]
> 	button loose "Drag me!"   [print "You dragged me"]
> 	button       "Click! me!" [print "You clicked me"]
> ] [size: 200x300]
> ```

Thank you, this clarifies some working but some question remains.

[20:40:36](#wqvaH6iGLHlcARxW-TR6XLp92QEWe8Q2kkZhh1Ah2kg) <gurzgri>:
That's expected. But maybe move to red/help with these, such discussion is pretty off topic here.

[20:43:19](#khYR3vZI3w_hdmeOb1ZqQX0K0U0a1OTB4qmEaCtUIyM) <GiuseppeChillemi (GiuseppeChillemi)>:
![](https://gitter.ems.host/_matrix/media/v3/download/gitter.im/c2a2f88ffa618a5705e3632a4aeb82d844cc9a581841579736438931456)

[20:43:22](#LCDJTAR9PSI135t1eqCAJlSkw1MEhvQx0LLPLdk7pao) <GiuseppeChillemi (GiuseppeChillemi)>:
As far I have understood, then handler is a global one, so it is executed for every event generated. 
Is the event loop this one?




[20:43:51](#3f0EjjnuF3WU3EEL7WFAadcFYegI1ZJX_FgZONDIye0) <GiuseppeChillemi (GiuseppeChillemi)>:
Or the event is generated before position 1?

[20:44:19](#rH6_kAivMkTX8WoVTByznFgFC-qV3xyIf_YXAB_9XqA) <GiuseppeChillemi (GiuseppeChillemi)>:
Or 6 times from 1 to 6?

[20:47:05](#Nb7PsVs-HbbULpnD8GFd64wRs9CwXbtzNoDcWdpky5U) <GiuseppeChillemi (GiuseppeChillemi)>:
 * The event is generated before position 1?

[20:50:35](#zu_yv8np_3gbIWmbQNrP1Da05bWSmLawOTale1A0AOI) <gurzgri>:
 * GiuseppeChillemi (GiuseppeChillemi)  In the following example the loose button can be dragged only when the UI is in "tweak-ui"-mode toggled by the gear-button. Neither button is clickable in tweak-mode. In "run-ui"-mode, both buttons are clickable, neither is draggable:

```
insert-event-func 'modal-ui [switch event/type [
	over  [all [mode <> 'tweak-ui 'done]]
	click [all [mode =  'tweak-ui 'done]]
]]

view/options [
	do [mode: 'run-ui]
	toggle 22x22 "âš™ï¸" [mode: pick [tweak-ui use-ui] face/data]
	button loose "Drag me!"   [print "You dragged me"]
	button       "Click! me!" [print "You clicked me"]
] [size: 200x300]
```

[20:50:44](#otDVjGnzIy7jGa-r9kh9vTLR4QmW8lHZe5TOtA1WQDM) <hiiamboris>:
it's all written:
> the event is travelling from one face to another in the ancestors hierarchy in two directions

[20:53:39](#2h3BY0iVXGL9pJVTb2q6aKYoc7puLfz4U1njCGqDryc) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@hiiamboris:tchncs.de> it's all written:
> > the event is travelling from one face to another in the ancestors hierarchy in two directions

So it is one per face

[20:54:02](#Cge5gEVMBWn9W6sEBhUrpOhTId_5o6_fGd2iuu02qlQ) <GiuseppeChillemi (GiuseppeChillemi)>:
6 events in this case

[21:00:46](#4ie1BLx4r7em5fltiAOTRvhlsSywZPZgxGdVEwbcChQ) <gurzgri>:
One event. Passed to three faces in capturing phase in inward direction, then passed to the same three faces in outward direction.

[21:01:21](#HGcKo6-p6GHsJ70GGr0OlX1hIOIayzpJiXgJwHLugfk) <gurzgri>:
 * One event. Passed to three faces in capturing phase in inward direction, then passed to the same three faces in outward direction in bubbling phase.

[21:04:23](#hwrMxinN6VWRJ3yd3Fxbj5TRu77rY6xxphxiNkwKtTY) <GiuseppeChillemi (GiuseppeChillemi)>:
Well there is my confusion.
The event triggers, when it is it passed to the three faces, when the global handler is run and when the face actor is run? 

[21:04:45](#Hgl_ZJW8ZtsRomRXr0hw5JbjIHRFBEDTW6dMtlNJyyA) <GiuseppeChillemi (GiuseppeChillemi)>:
 * Well there, is my confusion.
The event triggers, when it is it passed to the three faces, when the global handler is run and when the face actor is run? 

[21:05:01](#fwTqmara_kLKWexXoYoFCTK-ERJIG7j974LTScK_38A) <GiuseppeChillemi (GiuseppeChillemi)>:
 * Well there, is my confusion.
The event triggers, then: when it is it passed to the three faces, when the global handler is run and when the face actor is run? 

[21:05:47](#40UDV9Z1_B_Hoi4m7OI42x5Zblny2FnWXavqfaK-6Qg) <GiuseppeChillemi (GiuseppeChillemi)>:
 * Well there, is my confusion.
The event triggers, then: when it is it passed to the three faces, when the global handler is run? When the face actor is run? 

[21:06:27](#NuVARnonYijvBDtTZruPKFN-RGuxw0wHvF2FCMIoj2o) <GiuseppeChillemi (GiuseppeChillemi)>:
 * Well there, is my confusion.
The event triggers, then: when it is it passed to the three faces, when the global handler has just been run?

[21:06:57](#MrBzrE1iJSMNSFV7mOMnv4QAkwplg08VICJcJWtJC_g) <GiuseppeChillemi (GiuseppeChillemi)>:
One run per event or per face?

[21:07:18](#vXLZknwRKP4isgkZUVMCld3cSB9yo88aWV0jb4owSSM) <GiuseppeChillemi (GiuseppeChillemi)>:
 * One global handler run per event or per face?

[21:08:07](#MqOzwo78UEhd8YDfH22l9IWoIrthVmssP5paUtya_is) <GiuseppeChillemi (GiuseppeChillemi)>:
 * Well there, is my confusion.
The event triggers, then: when the global handler is run?

[21:09:34](#RVDaqZ8fNGK-vytonwbahuEaIhisXj5-W8bqh3yHCx4) <GiuseppeChillemi (GiuseppeChillemi)>:
The only thing I have understood is that it runs before actors, but I may be wrong

[21:13:33](#8O5HcleLKCzWnyDRxW13QxWzoO7-XOT2W6w9V8BzUsY) <GiuseppeChillemi (GiuseppeChillemi)>:
(About the execution order of multiple event handlers, from this test it seems "last in, first fired")


[21:16:39](#UN3R8nZQ_DSWsvEDIsIJtzJWs5amDyZmjMH1dkAJj0g) <Oldes (@oldes.h:matrix.org)>:
My guess is that per event... you really don't want to call it per face (when you may have hundreds of faces).

[21:17:13](#9FtnGF4Pb9uEQf-_MnNV1DV3rkZhP0VCk_eIoHjtUBs) <hiiamboris>:
![](https://tchncs.de/_matrix/media/v3/download/tchncs.de/fd2560f1f48f3ad08606221f469081d359950be71841588264331378688)

[21:17:19](#XRlWiLslWfXEoF7BAyx9CoXQjohRNxF4BxjszfrKzs0) <hiiamboris>:
do you even bother reading? :)

[21:17:27](#Ae-USRyAwUv9wyoQWJhB6t2uxqryAMH1GTwlxCV0GMM) <hiiamboris>:
again, all written

[21:19:05](#_sFCASgC5UKryv6hlS8j4XoAGgGxekHTp1EZ3QqmN7o) <gurzgri>:
"**Global event handlers**
Before entering the event flow path, specific pre-processing can be achieved using the so-called 'global event handlers'. ...

https://github.com/red/docs/blob/master/en/view.adoc#global-event-handlers

They run once.

[21:22:46](#hw--bdiBbuad9Gxiqzhp9g8m7iiz_66tvunJAbE6Z8M) <GiuseppeChillemi (GiuseppeChillemi)>:
I am just there but it is hard to comprehend as you must understand how the event works in the capture and bubling phase and why it changes from `on-detect` to `on-click`, also the word `pre-processing` is used so you think that it happens before each face actors but it can also be before all faces... It is not easy as you imagine when you have never dealt with it. 

[21:23:11](#vINCvzbD2EIAnTpiZfjLu3P5kC6i75GqSYbvXpFnIG4) <GiuseppeChillemi (GiuseppeChillemi)>:
The possible working modes are multiple but I am studying and trying.

[21:25:17](#AVzH_ZVYus3ryA3r-Qtm3Ir6g1cfAupSeEg3YKQcPgQ) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@gurzgri-56c25b3ae610378809c19713:gitter.im> "**Global event handlers**
> Before entering the event flow path, specific pre-processing can be achieved using the so-called 'global event handlers'. ...
> 
> https://github.com/red/docs/blob/master/en/view.adoc#global-event-handlers
> 
> They run once.

"Before entering the event flow path, specific pre-processing can be achieved using the so-called "global event handlers". Following API is provided for adding and removing them"

So it is before the flow, before position 1 in the diagram


[21:29:43](#FEkazymCkNpZQK1TIGKHT8c-MmegI5C5X7ahu8QeJ78) <gurzgri>:
Yes. That's why they are called "global", not bound to a specific face anywhere in the event flow. Which is not to be confused with the fact that event/face carries the face where an event originates. 

[21:31:33](#M3fepbZk3LLfcv7I-ZwTIJy8AudDz5gXhglcLGcxc6I) <gurzgri>:
 * Yes. That's why they are called "global", not bound to a specific face anywhere in the event flow. Which is not to be confused with the fact that their `event` argument in `event/face` carries the face where the event originates. 

[21:31:52](#SjFkcBJlGiKd80gRvxeZ-mSHlRByjZkNa1NTC2_WB4Y) <gurzgri>:
 * Yes. That's why they are called "global", not bound to a specific face anywhere in the event flow. Which is not to be confused with the fact that their `event` argument in `event/face` carries the face where the event originates from.

[21:34:15](#uHOx-onEW2xwoGdSNPEQrhwfnA0Quo0hHF2P_FwVfiM) <gurzgri>:
A click on a button face is an event/type = 'click with event/face = <button-face>, this event is passed to all global event-handlers (as long as the don't halt event propagation). Then the event is passed to the faces along the event flow directions.  

[21:34:33](#YjG1K4nKAIAzc4ReemfHl8SUpDpZjnuWPjble_LnIlY) <GiuseppeChillemi (GiuseppeChillemi)>:
Global in language could be "for all", so run for every face and not specific to one face. 

[21:34:45](#HS_B2dMxr2I5QQU2te4nlmtctLl1ds1WsXhP4euKGZ4) <GiuseppeChillemi (GiuseppeChillemi)>:
This was another of confusion.

[21:35:08](#ddQr-XO-6VkcI6lErsTsxFWaCQSPDOxIuiKDalSRw48) <GiuseppeChillemi (GiuseppeChillemi)>:
But I have written a piece of code that explains everything:

[21:35:40](#18xcvnZp0h7s3c6WIYXSgr2MyoWO08X9VBPctFGSFqs) <GiuseppeChillemi (GiuseppeChillemi)>:
```
handler1: func [
	face [object!]
	ev [event!]
] [
	if ev/type = 'click [print ["ON-click over-face: " face/extra]]
	if ev/type = 'detect [print ["ON-DETECT over-face: " face/extra]]

	none
]
insert-event-func 'handler1 :handler1

View/options [
	on-click [Print "on-click printed from the panel 0"] on-detect [Print "on-detect printed from the panel 0"]
	panel [
		panel [
			Button "Test Me" on-click [Print "on-click printed from the face actor"] with [extra: 3] 	on-click [Print "on-click printed from the panel 3"]			
		] 	on-click [Print "on-click printed from the panel 2"] with [extra: 2]
	] 	on-click [Print "on-click printed from the panel 1"] with [extra: 1]
]  [with: extra: 0]
```

[21:36:25](#5Wp5TkgOGO2_Knr3tKxTf7hpmtFrnJ1JLRLJ1VpoMgc) <GiuseppeChillemi (GiuseppeChillemi)>:
Clicking on the button you have the following result:

```
ON-click over-face:  3
on-click printed from the panel 3
on-click printed from the panel 2
on-click printed from the panel 1
on-click printed from the panel 0
```

[21:36:53](#G-5irifjnX66kPusKZoRRun8g-OiUf91ESiphh8Hxe0) <gurzgri>:
To explain everything that event handler must return `42`.

[21:38:13](#BMt9kUAHM28G3d8E9D4zCZGQz4A12_p3XcAacq0dCLI) <gurzgri>:
> <@giuseppechillemi-59045d00d73408ce4f5bcd9d:gitter.im> But I have written a piece of code that explains everything:

That's a bold claim ...

[21:38:45](#hxdvZx0Fc3Fb5JRVT0RYk0Tj7ETfV_6IshErH7DuyuE) <gurzgri>:
> <@giuseppechillemi-59045d00d73408ce4f5bcd9d:gitter.im> ```
> handler1: func [
> 	face [object!]
> 	ev [event!]
> ] [
> 	if ev/type = 'click [print ["ON-click over-face: " face/extra]]
> 	if ev/type = 'detect [print ["ON-DETECT over-face: " face/extra]]
> 
> 	none
> ]
> insert-event-func 'handler1 :handler1
> 
> View/options [
> 	on-click [Print "on-click printed from the panel 0"] on-detect [Print "on-detect printed from the panel 0"]
> 	panel [
> 		panel [
> 			Button "Test Me" on-click [Print "on-click printed from the face actor"] with [extra: 3] 	on-click [Print "on-click printed from the panel 3"]			
> 		] 	on-click [Print "on-click printed from the panel 2"] with [extra: 2]
> 	] 	on-click [Print "on-click printed from the panel 1"] with [extra: 1]
> ]  [with: extra: 0]
> ```

... and now I'm a little bit disappointed :^)

[21:39:06](#YOSF22iI1JJUYEyZsLjfqn_uQEoBIJLSE-H9FpPW8_g) <GiuseppeChillemi (GiuseppeChillemi)>:
:-D 

[21:39:25](#4cKeoZX7YF-_w6TM20Uhy9OtE0tc_-Rp9zgUxrTXlP0) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@gurzgri-56c25b3ae610378809c19713:gitter.im> To explain everything that event handler must return `42`.

Why?

[21:39:58](#mFVCxwva5G5q5TJe8nSpMbTGOUD8-tkH6Tpxju6lnWM) <gurzgri>:
> <@giuseppechillemi-59045d00d73408ce4f5bcd9d:gitter.im> Why?

It was a joke.

[21:41:52](#oft447ZjV4PGkELkrW6R-59hTCQ41D9L3yaeIi0w8n0) <GiuseppeChillemi (GiuseppeChillemi)>:
From my ehm... "complete" :-D ...code... it SEEMS that:

The DETECT event is captured from button and becomes `on-click`, the actor is run and then 3 `on-click` actors are executed during the buble put phase.

[21:42:11](#d4n15K4KQtDS4t26GjkfiAqbbOwb0aW2nt2-5Mb8Sd8) <GiuseppeChillemi (GiuseppeChillemi)>:
 * From my ehm... "complete" :-D ...code... it SEEMS that:

The DETECT event is captured from button and becomes `on-click`, the EVENT handler is run and then actor is run and then 3 `on-click` actors are executed during the buble put phase.

[21:42:23](#xUptf9rq2W7qGYQL6muRsWwIcRSA-KZsFT8nZKTPix8) <GiuseppeChillemi (GiuseppeChillemi)>:
 * From my ehm... "complete" :-D ...code... it SEEMS that:

The DETECT event is captured from button and becomes `on-click`, the EVENT handler is run and then actor is run and then 3 `on-click` actors are executed during the bubble put phase.

[21:42:28](#a8AnDPbc1rC9ATUdVGI7xVUsRSP8Ecu48b5tQneMPbY) <Oldes (@oldes.h:matrix.org)>:
So now you should report the initial bug, which can be demonstrated with this code:
```
insert-event-func 'bug-handler [1] ;; trips the console! Be prepared to use Task Manager to close the window!
```

[21:43:01](#DY95ps0tbz50CTRXjYAPxe41TKAQT9oHpy0A6O0CsP4) <Oldes (@oldes.h:matrix.org)>:
 * So now you should report the initial bug, which can be demonstrated with this code:

```
insert-event-func 'bug-handler [42] ;; trips the console! Be prepared to use Task Manager to close the window!
```

[21:46:32](#8SsFteBIN1rR6ZyQTj2gek9HZzzQCqv6YOIaUlym2hg) <GiuseppeChillemi (GiuseppeChillemi)>:
You have discovered it, it should be a punch in your wall :D

[21:48:20](#XMhRw9qF_u7Q2U_ezIzts-At8nKv7uBg8OdAHkmg30o) <GiuseppeChillemi (GiuseppeChillemi)>:
But again something wrong here: I expected the `detect` event to appear 3 or 4 times but it is not in the output. 

[21:48:34](#5oPTUmLDwhPnIUwLy2aNmRgTF2qFiAzCsBTzDYo8OQg) <GiuseppeChillemi (GiuseppeChillemi)>:
hiiamboris: Do you have an explanation?

[21:52:39](#XDDUrMMfGeMc0oNM4JydsxUNWObjmmJCmPyssIJYQEU) <Oldes (@oldes.h:matrix.org)>:
You don't have any `on-detect` inside your panel and button.

[21:53:12](#zL6YrFFcp_DlmEHBxDQkyUYUpIdQ60H8L2NmTzP3-7Y) <GiuseppeChillemi (GiuseppeChillemi)>:
You mean in my code?

[21:53:36](#zMAR5kq5nP4Iswa1eBkdHOjkRAdOszlQRF5EVUq9GV8) <Oldes (@oldes.h:matrix.org)>:
yes

[21:54:14](#TWzmr-SuFW9HBJbuvQlhEuBtKmvnqNteIpqnob15pa4) <GiuseppeChillemi (GiuseppeChillemi)>:
![](https://gitter.ems.host/_matrix/media/v3/download/gitter.im/651191ed055d4776db6807cb99c7dd354749253b1841597585140219904)

[21:56:40](#imWieh98EmwwwEO2wKOdvXUyoy44LwHLRTv49x9HNHU) <GiuseppeChillemi (GiuseppeChillemi)>:
But it was just an hypothesis it exists, because I have supposed it was an event which does not trigger a specific actor but it is converted from the inner view handler to the corresponding  event and then the actor is run

[21:58:47](#yawKqCh612_40ZBtVxICXJk-Lx8_lJGs5HqVVBy_ejg) <GiuseppeChillemi (GiuseppeChillemi)>:
Or the "detect" event is not an `event` the global handler receives but a way to say the face event handler detects a event and fires the corresponding actor. 

[21:59:04](#zV2vwL9jT9I6htFD9dFLSDkw_ByZwsPtzLZo4ltrRZk) <GiuseppeChillemi (GiuseppeChillemi)>:
 * Or the "detect" event is not an `event` the global handler receives but a way to say the face event handler detects an event and fires the corresponding actor.

[21:59:45](#HU7ZFZiEO7v7A6iVjVqM_CnoidSnFhvLL4fnj6Lqj6c) <GiuseppeChillemi (GiuseppeChillemi)>:
If I am wrong and it is a real event, maybe my code is wrong and suggestions are welcome

[22:03:15](#fuXzOrMXbikZmBcM9eePuAHAxqwXlTDAYiX98p-qPyU) <GiuseppeChillemi (GiuseppeChillemi)>:
Oldes: our anser on `EVENT` word: _An event value is an opaque object holding all the information about a given event_

[22:03:24](#c7kkYur0EDVi_p08vYsRPsxIMbc2o0TEGfVws_jeQe4) <GiuseppeChillemi (GiuseppeChillemi)>:
 * Oldes: our answer on `EVENT` word: _An event value is an opaque object holding all the information about a given event_

[22:04:21](#ht1z691rujTLQZLyZgj8bulgrYoG8rSL53WlU4Fuu54) <Oldes (@oldes.h:matrix.org)>:
GiuseppeChillemi (GiuseppeChillemi): read the documentation...

> Event capturing is not enabled by default for performance reasons. Set system/view/capturing?: yes to enable it.

[22:06:19](#uYqU2-ZAFtx6BYslMPDRZzrMc79rb3P6TtbCir9W6-Q) <GiuseppeChillemi (GiuseppeChillemi)>:
BINGO!

[22:06:35](#35AyN2_aXc-0XyxB7G5wRjsW-kbSBOeCJ3qDHCvMML0) <GiuseppeChillemi (GiuseppeChillemi)>:
Now the picture is quite complete! Thank you!

[22:09:51](#9899KDCWVGD4YaSouuxZx4ln2RKmt4llZoXuyHxJO_o) <hiiamboris>:
again, it's all written there

[22:09:52](#9cwEJz0MDhOTB8wXnwEO2KKkyLiVBSK1OChiK012ohI) <hiiamboris>:
I suggest reading :)

[22:12:21](#q4P-PHUwKItiDDeo99jZCrPHNC1Lh3T9v8QyKxh1JoY) <hiiamboris>:
I suggest reading :)

[22:15:39](#_nBppox6l8JQTOAl5NwuHGP8WsC3p6u9zcvJRq-zzG4) <hiiamboris>:
https://github.com/red/REP/issues/80

[22:18:13](#XGMvH9RrdIHXaWN9GFay-HfNXyv6cLhodC2EHCFrQdw) <Oldes (@oldes.h:matrix.org)>:
In Rebol the event is also a special type of object and `mold` can display relevant info. It should be possible in Red too... but it is not implemented I guess.

[22:18:20](#eMEP_Xr-FD2Gr2G9IQjnG1eDnqBjKZRlet1-C2Fy32g) <Oldes (@oldes.h:matrix.org)>:
![](https://matrix-client.matrix.org/_matrix/media/v3/download/matrix.org/HwDYujQnppSDgOpadxHgLWdb)

[22:26:28](#1t6GMxFgaXHSnuSAHp1HSBxJVh9SE8O0nHR9UI7uWBY) <Oldes (@oldes.h:matrix.org)>:
I mean in the code above may be also used simple `probe e` or `?? e` and there will be verbose event info visible.

[22:28:47](#IHeeZzWaEH9z9Ud8ukd20cjbwkmXD237v2m33lnU2KE) <hiiamboris>:
I had to override these in Spaces too

[22:29:36](#zmaHojWR-G_IUKvZ0bsULHtJgPHM4_WDeoyaiILJwxs) <hiiamboris>:
but later switch to events being maps anyway, because I need to modify them

[22:33:18](#Yrm7uzD0CuC-jM-DPVedBXCB7F9hMonphsboZTq1ceI) <GiuseppeChillemi (GiuseppeChillemi)>:
A last question: in this handler I try to print the flags of the event object when `click` event happens:
  

[22:33:42](#rw1kG2GpzjSCNzUIpqLe9OQ1lr8IkP0OrXY-mUlyqz4) <GiuseppeChillemi (GiuseppeChillemi)>:
```
system/view/capturing?: yes

handler1: func [
	face [object!]
	ev [event!]
] [
	if ev/type = 'click [print ["on-click in-face: " face/extra "flags: " ev/flags "down?: " ev/down?]]
	if ev/type = 'detect [print ["on-detect in-face: " face/extra  "flags: " ev/flags "down?: " ev/down?]]
	none
]
insert-event-func 'handler1 :handler1

view [button "Test"]
```


[22:33:52](#XAaUYn0Mbph7vFN-WUsu2Y9ZTjJDt3nwtp3XIbZk4s0) <GiuseppeChillemi (GiuseppeChillemi)>:
But this is the output:

[22:34:30](#tZM0En-YKmctG41llFtGfzr5GPKJLoIfGwN5t42r560) <GiuseppeChillemi (GiuseppeChillemi)>:
 * ```
system/view/capturing?: yes

handler1: func [
	face [object!]
	ev [event!]
] [
	if ev/type = 'click [print ["on-click in-face: " face/extra "flags: " ev/flags "down?: " ev/down?]]
	none
]
insert-event-func 'handler1 :handler1

view [button "Test"]
```

[22:34:52](#ekXuzLaFD7SnX1oyGEp-vi7ArpJLg8Km5EFUj40BF9k) <GiuseppeChillemi (GiuseppeChillemi)>:
```
on-click in-face:  none flags:   down?:  false
```

[22:36:01](#s0kRnKUj-zrXUxtDe7gf5tUEZJmxldDrjuDj8K8FgXs) <GiuseppeChillemi (GiuseppeChillemi)>:
The documentation does not report how to read the `click` flag as `click?` seems does not exists

[22:47:20](#MbE41GsHULp5KGESGb9vedJN-YH_4xDkohwvxU40Ed4) <GiuseppeChillemi (GiuseppeChillemi)>:
Note: I suppose that filling all the event object field is quite time consuming.

[22:47:33](#NUrFOQ2AzooqnQsu4T_GwO0KcgwOhCerBKmr_2pgJ1g) <Oldes (@oldes.h:matrix.org)>:
I'm not familiar with Red's View, but I guess that the face in the global handler is a window where the event is, not any button or whatever you probably expect it is.

[22:48:00](#10lMFpf8qvgza6TTiiLazrrgI9VmPcomCAENGgcZVro) <gurzgri>:
See more with `mold ev/flags`. I don't think there is a `click` flag, where have you read from it? 

[22:48:19](#Jf1YoZZY3JfF0EXnz5TNmlIAA1iJK3ZtxChfdazhgeY) <gurzgri>:
 * See more with `mold ev/flags`. I don't think there is a `click` flag, where have you read of it?

[22:48:31](#BjyOW0n0PMbsrKfMh9UUt7ggDgLadXbEqhWqcn_WHc8) <Oldes (@oldes.h:matrix.org)>:
I think that you are not expected to mess with global handlers. These are for special purposes!

[22:49:12](#noWee2vEjpHRDdt2kaWV2H7EXlBrW56aF_qCg0LqWQE) <GiuseppeChillemi (GiuseppeChillemi)>:
As `down?` is `false` when I click the button, I suppose another flah exists and the most natural name would be `click`

[22:50:49](#aSsB-F4QBJygnvUhGrE0oeFs3Q2QiYtxECkKc3LWWA0) <GiuseppeChillemi (GiuseppeChillemi)>:
And no, neither `mold ev` nor `mold ev/flags` work

[22:52:30](#49zZ0UuW38Mk8Ag1HOQxrDuPrsosoBmNKRofepY651E) <Oldes (@oldes.h:matrix.org)>:
Ok.. I am wrong.. the face is the button.

[22:52:48](#yqBNYoR80x9xIu-o76InBu6_3POOARTfGNzjqdn5Wiw) <gurzgri>:
Of course `mold ev/flags` works. There`s just no such `click` flag.

[22:56:32](#dxFx_XbIlRfGQ-2tWmjvJBtdJoIpe4SxNh5svQyD6QU) <gurzgri>:
 * Of course `mold ev/flags` works. There's just no such `click` flag.

[22:57:17](#gqwSRZZroyMPrAxW2MYj4rVJDn5wsfcjEYs8A7lIsys) <gurzgri>:
 * Of course `mold ev/flags` works. There's just no such `click` flag. `click` is an event type.

[22:58:42](#fYc7Q0PgbgJu0MNmu-ZtpLPaIb825Je6ZsrrkodrN_Q) <gurzgri>:
 * Of course `mold ev/flags` works. There's just no such `click` flag. `click` is an event type. And `down?` isn't an event flag either. It's a field of the event datatype.

[23:00:28](#GnFIMNGUSPbbiV5SPursHoTv1w94265UQJYBlRhNlOA) <GiuseppeChillemi (GiuseppeChillemi)>:
I apologize for the wrong wording, you are right

[23:01:59](#d2Jy_NRdlN5pRrLXbuQFo8eQjMenpGo3R3tO6WRws5c) <GiuseppeChillemi (GiuseppeChillemi)>:
However, `mold ev/flags` is empty here at `CLICK` event and also the `DOWN?` field is false. 

[23:02:23](#k21ZJxm_W1wAdYB0gV9Wb--UFL9ZOs1mMmD0GpbaESk) <GiuseppeChillemi (GiuseppeChillemi)>:
So how do I understand the button has been clicked on the BUTTON face?

[23:02:52](#ow299_SYVlHJoWrtxleV6SlCa_yueNyCfE3acFgEnZ4) <GiuseppeChillemi (GiuseppeChillemi)>:
 * However, `mold ev/flags` block is empty here at `CLICK` event and also the `DOWN?` field is false.

[23:03:02](#PsO1UiZf_5RU9xLR5qrhkU1OYWJ2ADLARbA7n4jjaYY) <Oldes (@oldes.h:matrix.org)>:
Why don't you examine existing handlers using `?? system/view/handlers`?

[23:04:08](#-wYWmu_Fk6m2NBPTJFmpiofS5sM8ao9JstBF8UcgnOg) <Oldes (@oldes.h:matrix.org)>:
But again.. I believe you are not expected to mess with it... it is low level functionality.

[23:04:55](#3_LfGpEIHdh4KRssirmWwv1U5vc1ZFy44fdzufNuibg) <GiuseppeChillemi (GiuseppeChillemi)>:
`system/view/handlers?: unset`

[23:05:27](#ox6gDsG7JdmaH1Sq73dykuS8NFNxaUNMV17wdlCtTQU) <GiuseppeChillemi (GiuseppeChillemi)>:
 * ```
Probe system/view/handlers: unset
system/view/handlers?: unset
```

[23:05:35](#Eob7dngAZWo0Tyfb6mVN1SKdPxb7n2k-bOEoC3GjJhU) <GiuseppeChillemi (GiuseppeChillemi)>:
 * ```
Probe system/view/handlers
system/view/handlers?: unset
```

[23:05:43](#U4iHQ-94IHpLhStWyXfLoC1MjxynRNhy61LM96JcBDI) <GiuseppeChillemi (GiuseppeChillemi)>:
 * ```
Probe system/view/handlers?
system/view/handlers?: unset
```

[23:05:49](#Y3jMqZmOgUrt0RZypR3XqJ5bHKl4fKn41NeZWH61J-0) <Oldes (@oldes.h:matrix.org)>:
The last question mark is not the code!

[23:05:56](#Rwvz4nV9gyHIjp8gur5mRV8K649SshrazisJVrFrMYk) <Oldes (@oldes.h:matrix.org)>:
 * The last question mark is not part of the code!

[23:06:08](#_IBL8ARXHFHmNuH48IzKuvR832iXoAbdOkb5aA5C8tw) <Oldes (@oldes.h:matrix.org)>:
```
?? system/view/handlers
```

[23:06:31](#Z_X3QWEjj95fzAwBREcocg9yT2DOWPgW5ha697khZoI) <Oldes (@oldes.h:matrix.org)>:
(in a fresh console... not the broken one)

[23:06:36](#6_iubACQlMT8qIEDqSXyhZ-fdhigW6Jkgf0H_QKnvUY) <GiuseppeChillemi (GiuseppeChillemi)>:
Late night here

[23:06:53](#BoWTQw2BnSklgdGLwttXA-Qb1OXR1u7BzaUQqyZJsTA) <GiuseppeChillemi (GiuseppeChillemi)>:
It worked, handlers are here

[23:07:06](#1ZaiENzQhb0rWECfpzBvOUAY2H-tOT0YH25UJin0dak) <Oldes (@oldes.h:matrix.org)>:
This one is good for you:
```
debug func [face event][
    if all [
        system/view/debug? 
        not all [
            value? 'gui-console-ctx 
            find/same gui-console-ctx/owned-faces event/face
        ]
    ] [
        print [
            "face> type:" event/face/type 
            "event> type:" event/type 
            "offset:" event/offset 
            "key:" mold event/key 
            "flags:" mold event/flags
        ]
    ] 
    none
]
```

[23:10:20](#3A0y4SEOQYin8cGpiIxRILd26NZnC9eZqzsjuOxez5s) <Oldes (@oldes.h:matrix.org)>:
I don't understand, what you mean... I think that it is simply not implemented `mold` of the `event!` datatype in Red.

[23:10:36](#iUBvftptIX36SmH7_9CEIQZpqUYExvR4G7Q1jFIB8yo) <GiuseppeChillemi (GiuseppeChillemi)>:
I have seen

[23:10:48](#RtfepOd9MEyXUgl3ortPG-CZWWd49xg7uy8Pfas8Bp8) <GiuseppeChillemi (GiuseppeChillemi)>:
However, you don't want to know the answer to my question

[23:11:11](#i0XebtfmKASwNgDHqnHzYf1Yb3m_ezRvz5pUrUEDaEE) <Oldes (@oldes.h:matrix.org)>:
Event is a struct, which may hold different values according its type. That is all.

[23:11:47](#48xV_Mwsrof28enbNc6UMGZnRJ5fcGAf2ZJ2UAset8k) <gurzgri>:
> <@oldes.h:matrix.org> But again.. I believe you are not expected to mess with it... it is low level functionality.

Likely you have a point here. My suggestion to use global event handlers to deal with Giuseppe's loose buttons and such definitly can be applied to event handlers on window level too etc. Everything is better than "writing those 2 lines in every button" in his UI ...

[23:11:52](#axadOXZlEVqHotZw3EawDkzDR5pJdy0EKhccOh2M9no) <GiuseppeChillemi (GiuseppeChillemi)>:
There is no `CLICK?` field, nor flag and `DOWN?` is set to false, because....

[23:12:17](#HX7dhBpVxeyahNXml4XKaKgTHmUgpxlU7cKE0b9BOEo) <GiuseppeChillemi (GiuseppeChillemi)>:
It is on `EVENT/TYPE`! it returns `click`!

[23:13:04](#kCF2evlAOmCxGh0UgoD_8zCQ3mTwbJoc6W73K9iwcyI) <Oldes (@oldes.h:matrix.org)>:
My opinion is, that you may work with global events, but Giuseppe not ;-)

[23:13:47](#LYw2gJP6DSgMeVECBUgqNhnywQtbtZ_Eo_UdGy2cPH8) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@oldes.h:matrix.org> My opinion is, that you may work with global events, but Giuseppe not ;-)

Why? I am now a degree on Red/View global event!

[23:14:00](#hajiwjpAhzWxWr_BZ2yeaBhcklO8iovHLKU19TI9glg) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@oldes.h:matrix.org> My opinion is, that you may work with global events, but Giuseppe not ;-)

 * Why? I have now a degree on Red/View global event!

[23:14:58](#pANjtY-4_8b61ISm5wS4TIg40_SAiTyCxE-alNx_oHA) <GiuseppeChillemi (GiuseppeChillemi)>:
Tonight a ceremony will be held on Sassenrach!

[23:15:56](#BRdGYfIYNJJf3vdj90Spc-TIj1iNP9E0OFoqZitECaI) <GiuseppeChillemi (GiuseppeChillemi)>:
Good night everyone, with your help today it has been a fantastic lerning session!

[23:16:06](#tU1JC1rX36HID92ZQFf5OpUsBecqfSvu9wkKwkTnLQA) <GiuseppeChillemi (GiuseppeChillemi)>:
 * Good night everyone, with your help today has been a fantastic lerning session!

[23:16:18](#QQGy-0yT7U-6LkUkMpQrin6eKtSr0FPCivo6DC1DOJ0) <GiuseppeChillemi (GiuseppeChillemi)>:
 * Why? I have now a degree on Red/View global events!

## 4-Oct-2024

[1:42:06](#DZdqwGpYaNSJ9l1lkevu4UnK2FAUBoi1iOxgG7_ZdGs) <GiuseppeChillemi (GiuseppeChillemi)>:
Try this:

```
view [
	panel 200x200 [
		button "Add Button" [
			append face/parent/pane make-face/spec 'button ["hello" 100x30 loose]
		]
	]
]

```
Push "add button" now drag it
```
*** Script Error: + does not allow none! for its value1 argument
*** Where: +
*** Near : handler face event
*** Stack: do-file view do-events do-safe 
```
You will have this result

[9:26:41](#guuYuPCPWRheMeJ8iQoPx4fS0Ojk8PUj89bHRhFft00) <hiiamboris>:
confirmed

[11:33:06](#IfkHvFubbXsKCp3TZgptD-MzdWarLDzgqz8MVnQ6np4) <gurzgri>:
GiuseppeChillemi (GiuseppeChillemi)  Hm, so far I haven't been able to reproduce your issue https://github.com/red/red/issues/5544 .

Works as expected for me in the exact same 
```
RED: [ branch: "master" tag: #v0.6.5 ahead: 186 date: 6-Sep-2024/10:31:12 commit: #f5c9214f6b545dc7aa7a551ac57851f86f8fd5ec ]
PLATFORM: [ name: "Windows 11" OS: 'Windows arch: 'x86-64 version: 10.0.0 build: 22631 ]
```

Trying to reproduce your observation has been made unnecessary hard, is there really a reason to attach an image one must download first and then adjust the past? A simpler
```
picture: draw 50x50 [line-width 2 box 1x1 49x49]
view [base 50x50 picture loose [Print "Here is a BBS"]]
```
would make it way easier (if an image is required *at all*) I guess.

[11:36:34](#r5jMpZEWVQV_jwcQ9muE3qbVW9CeLhdYOf2VrTXL3GA) <gurzgri>:
 * GiuseppeChillemi (GiuseppeChillemi)  Hm, so far I haven't been able to reproduce your issue https://github.com/red/red/issues/5544 .

Works as expected for me in the exact same

```
RED: [ branch: "master" tag: #v0.6.5 ahead: 186 date: 6-Sep-2024/10:31:12 commit: #f5c9214f6b545dc7aa7a551ac57851f86f8fd5ec ]
PLATFORM: [ name: "Windows 11" OS: 'Windows arch: 'x86-64 version: 10.0.0 build: 22631 ]
```

Trying to reproduce your observation has been made unnecessary hard, is there really a reason to attach an image one must download first and then adjust the path? A simpler

```
picture: draw 50x50 [line-width 2 box 1x1 49x49]
view [base 50x50 picture loose [Print "Here is a BBS"]]
```

would make it way easier (if an image is required _at all_) I guess.

[12:50:57](#uqghIYFdL_oHmWUlHm3udH6X3ke39WqoDJKIUHvl9EQ) <GiuseppeChillemi (GiuseppeChillemi)>:
Because if you wouldn't reproduce the bug, we would have been here talking about having the original image. Also it was not part of my knowledge how to create an image in VID. Will be there soon, I am experimenting with it, as you can see.

[12:51:21](#HqefDE-uSWmlFFdU-turii84Jlo54k_E40E7KOLBUs8) <GiuseppeChillemi (GiuseppeChillemi)>:
I will try with your code and report

[13:27:54](#L2PNyGhEt4IjXn_l_g1owYbGs3Jk8jxXFWm-bZkOtig) <gurzgri>:
It has nothing to do with the particlar image. To reproduce, I have to save the code to a file and run it with `red-view .\Downloads\bug.red`. Looks like the ticket misses to mention that.

[13:28:14](#VPOGLqwBWIXrppbTJw1AwXkcvi-JTp_7TRShLxd4bso) <gurzgri>:
 * It has nothing to do with the particlar image. To reproduce, I have to save the code to a file and run it with `red-view .\bug.red`. Looks like the ticket misses to mention that.

[13:31:06](#MzxZDVtmSAXP88aMmEfXnyp8c-D7aBQaaxK8ToW4hgY) <gurzgri>:
 * It has nothing to do with the particlar image. To reproduce, I have to save the code to a file and run it with `red-view .\bug.red`. Looks like the ticket misses to mention that. And it doesn't require an image at all as guessed already. Can be reproduced with just `Red [] view [base 50x50 red loose [Print "Here is a BBS"]]` run from file ...

[13:31:38](#iBPvILnKNlZcb-O42L6j1mOPWjTmXTg5NeD1oqKGqU8) <gurzgri>:
 * It has nothing to do with the particlar image. To reproduce, I have to save the code to a file and run it with `red-view .\bug.red`. Looks like the ticket misses to mention that. And it doesn't require an image at all as guessed already. Can be reproduced with just `Red [] view [base 50x50 red loose [print "click"]]` run from file ...

[13:32:27](#jh6BZyDx4ioNo8jxdbyoKEjyS4BmhnHYvilxEeCcxQY) <gurzgri>:
 * It has nothing to do with the particlar image. To reproduce, I have to save the code to a file and run it with `red-view .\bug.red`. Looks like the ticket misses to mention that. And it doesn't require an image at all as guessed already. Can be reproduced with just `Red [] view [base loose [print "click"]]` run from file ...

[13:38:12](#eBJozAP4YvX3eRcSLMR99B-N7qgxMsOvSEZNV2QAVBc) <hiiamboris>:
GiuseppeChillemi (GiuseppeChillemi) just loves when his tickets get discarded :)

[13:50:15](#Z6Yt6CNkOfLqbNCuD98zXBktmtQaM9lEqQihNGXCYng) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@gurzgri-56c25b3ae610378809c19713:gitter.im> It has nothing to do with the particlar image. To reproduce, I have to save the code to a file and run it with `red-view .\bug.red`. Looks like the ticket misses to mention that. And it doesn't require an image at all as guessed already. Can be reproduced with just `Red [] view [base loose [print "click"]]` run from file ...

How do you otherwise run the code? Don't you copy and paste it, put on an editor and use Red-view to run it? Is the necessity to save the file and modify the path the problem? I could be more precise but please understand that I didn't know how to draw an image. Also sometime you may want to put some color on a ticket as we may be driven from other spirit than shortness and precision. This night was such case! 

[13:58:34](#RZgtQRkj_LpDE4UhEQDiadmXFaaAbxlWCVdYWcoTDnw) <gurzgri>:
I *really* don't think that a bug report needs color more than precision and minimal reproducible example code. I usually do *not* make files of code I want to quick-check, why would I? I copy and paste it into a fresh console, so I can forget it without further ado if I loose interest in it without having it laying around on my SSD.

You weren't required to know how to draw an image. But maybe to go that extra mile if an image is required at all.

And the general advice is to discuss findings here before creating an issue.

[13:59:58](#94Y7NKhboc_nXwlUqAmZgGXShL8mPi0f9bw5YVZeupg) <gurzgri>:
 * I _really_ don't think that a bug report needs color more than precision and minimal reproducible example code. I usually do _not_ make files of code I want to quick-check, why would I? I copy and paste it into a fresh console, so I can forget it without further ado if I loose interest in it without having it laying around on my SSD.

You weren't required to know how to draw an image. But maybe to go that extra mile to check if an image is even relevant to the problem.

And the general advice is to discuss findings here before creating an issue.

[14:03:34](#1FQaif6PDHiCs8EWf1YokNBhBZiPALX5O364JS5w2BA) <gurzgri>:
 * I _really_ don't think that a bug report needs color more than precision and minimal reproducible example code. I usually do _not_ make files of code I want to quick-check, why would I? I copy and paste it into a fresh console, so I can forget it without further ado if I loose interest in it without having it laying around on my SSD.

Even if I would have saved it in the first place, the problem wouldn't have been visible when run from Red itself with `do %bug.red`  ...

You weren't required to know how to draw an image. But maybe to go that extra mile to check if an image is even relevant to the problem.

And the general advice is to discuss findings here before creating an issue.

[19:25:14](#euSxRwOj7aJcBOkZEbiWKcc96itMJABZPejvw5rr3lc) <GiuseppeChillemi (GiuseppeChillemi)>:
I was quite secure it was related to image so the extra mile was not needed. And pardon me but I sometime like to make things different and put some color in life and not to be very strict. It is called being human. 

[19:25:24](#j5r8-pkCSwAKAOkc42qhULB6gWOsT5KjgtRsJXSpnj4) <GiuseppeChillemi (GiuseppeChillemi)>:
 * I was quite secure it was related to image so the extra mile was not needed. And pardon me but I sometime like to make things different and put some color in life and not to be very strict on rules. It is called being human. 

[19:26:19](#5OclN4fGGwk-7asLnxcepuf6UvFFtK7TNS_XiZwUCDU) <GiuseppeChillemi (GiuseppeChillemi)>:
However, thank you for your tests. I see you have restricted the cause.

[19:27:06](#Y6y5QfteLxFCNwddJeZlgBHoTgpa6fM3UATs6jepsSY) <GiuseppeChillemi (GiuseppeChillemi)>:
 * However, thank you for your tests. I see you have restricted the problem to the correct cause. New time I will try to not make bug reports while in hurry because it was 3AM o clock

[19:27:47](#_4zDa7v1ouUlrJucoutjR79xgrhQQhQPCTuhdjrUMdU) <GiuseppeChillemi (GiuseppeChillemi)>:
 * However, thank you for your tests. I see you have restricted the problem to the correct cause. Nex time I will try to not make bug reports while in hurry because it was 3AM o clock

[19:28:04](#wD6LPOi9RKBTN0xKEa07qfJbSMAsQH-X_r8EqSMtELo) <GiuseppeChillemi (GiuseppeChillemi)>:
 * However, thank you for your tests. I see you have restricted the problem to the correct cause. Next time I will try to not make bug reports while in hurry because it was 3AM o clock and bed was calling

## 7-Oct-2024

[0:11:26](#DLfM6gDnIVL1qDPhLzGGNN6v3KMpmGAguQolbcqOj1Q) <GiuseppeChillemi (GiuseppeChillemi)>:
Am I doing something wrong?
```
change-dir probe to-file "G:\Il mio Drive\dev\Scripts\"
```

[0:12:37](#jjobtEijdyg85T4gum5uBpvjMGhSDRAcsrhpEwHlfzs) <GiuseppeChillemi (GiuseppeChillemi)>:
```
%"G:\Il mio Drive\dev\Scripts\"
*** Access Error: cannot open: %"//G/Il mio Drive/Dev/G/Il mio Drive/dev/Scripts/"
*** Where: do
*** Near : change-dir probe to-file "G:\Il mio Drive" 
*** Stack: do-file 
```

(Note the duplicated path inside the error)

[4:57:53](#1qBSXU2GDknk76cv1zuldCchudj32-uzStUFlS0SUYo) <gurzgri>:
`help file`

[5:43:29](#MC1elILprkKdDvk4yHzxJZooV3pBzhs-31Xy8jfc-5E) <Oldes (@oldes.h:matrix.org)>:
```
>> change-dir %"c:\"
*** Access Error: cannot open: %//C/Dev/Builder/tree/red/c/
*** Where: do
*** Near : change-dir %"c:\"
*** Stack: change-dir cause-error  

>> change-dir to-red-file %"c:\"
== %/c/
```

It looks that `change-dir` requires a valid Red file... while `read` accepts the Windows notation:
```
>> read %"c:\"
== [%$Recycle.Bin/...
```
I think it is a bug... or not implemented feature.

[16:17:02](#9a93mCsM6uJVe3GPlyPb66SrFJYVb69nmLP_BfdShpg) <gurzgri>:
But is this really a bug or to be implemented?
* Red
```
>> change-dir to-red-file %"C:\Users\Public\"  ; %/C/Users/Public/
>> change-dir to-red-file  "C:\Users\Public\"  ; %/C/Users/Public/
>> change-dir             %"C:\Users\Public\"  ; *** Access Error: cannot open: %"//C/Users/Christian Ensel/C/Users/Public/"
>> change-dir              "C:\Users\Public\"  ; *** Access Error: cannot open: %"//C/Users/Christian Ensel/C/Users/Public/"
```

* Rebol2
```
>> change-dir to-rebol-file %"C:\Users\Public\" ; %/C/Users/Public/
>> change-dir to-rebol-file  "C:\Users\Public\" ; %/C/Users/Public/
>> change-dir               %"C:\Users\Public\" ; ** Access Error: Cannot open /C/Users/Public/C:\Users\Public\/
>> change-dir                "C:\Users\Public\" ; ** Script Error: change-dir expected dir argument of type: file
```

* Rebol3 (Windows | x64-pc-win32-pe | cl | Build 20-Jul-2024/16:56)
```
>> change-dir to-rebol-file %"C:\Users\Public\" ; ** Syntax error: invalid "file" -- {%"C:\Users\Public\"}
>> change-dir to-rebol-file  "C:\Users\Public\" ; == %/C/Users/Public/
>> change-dir               %"C:\Users\Public\" ; ** Syntax error: invalid "file" -- {%"C:\Users\Public\"}
>> change-dir                "C:\Users\Public\" ; ** Script error: change-dir does not allow #(string!) for its path argument 
```

Rebol2 and Red seem to be a bit more forgiving than Rebol3, 
but neither Red nor both Rebol2 and Rebol3 allow 
cd'ing to a file! value in OS-specific path notation and 
only accept file! values in consolidated `to-red/rebol-file` notation.

As I am lacking the imagination of @Giuseppe,
I would never have thought of even trying this with paths in local notation.

[16:17:55](#gZ2DDMNG5eRXS-fHsLlJuf2FovKdZfClI8KQhIr9KEo) <gurzgri>:
 * But is this really a bug or to be implemented?

- Red

```
>> change-dir to-red-file %"C:\Users\Public\"  ; %/C/Users/Public/
>> change-dir to-red-file  "C:\Users\Public\"  ; %/C/Users/Public/
>> change-dir             %"C:\Users\Public\"  ; *** Access Error: cannot open: %"//C/Users/Christian Ensel/C/Users/Public/"
>> change-dir              "C:\Users\Public\"  ; *** Access Error: cannot open: %"//C/Users/Christian Ensel/C/Users/Public/"
```

- Rebol2

```
>> change-dir to-rebol-file %"C:\Users\Public\" ; %/C/Users/Public/
>> change-dir to-rebol-file  "C:\Users\Public\" ; %/C/Users/Public/
>> change-dir               %"C:\Users\Public\" ; ** Access Error: Cannot open /C/Users/Public/C:\Users\Public\/
>> change-dir                "C:\Users\Public\" ; ** Script Error: change-dir expected dir argument of type: file
```

- Rebol3 (Windows | x64-pc-win32-pe | cl | Build 20-Jul-2024/16:56)

```
>> change-dir to-rebol-file %"C:\Users\Public\" ; ** Syntax error: invalid "file" -- {%"C:\Users\Public\"}
>> change-dir to-rebol-file  "C:\Users\Public\" ; == %/C/Users/Public/
>> change-dir               %"C:\Users\Public\" ; ** Syntax error: invalid "file" -- {%"C:\Users\Public\"}
>> change-dir                "C:\Users\Public\" ; ** Script error: change-dir does not allow #(string!) for its path argument 
```

Rebol2 and Red seem to be a bit more forgiving than Rebol3, but neither Red nor both Rebol2 and Rebol3 allow
cd'ing to a file! value in OS-specific path notation and only accept file! values in consolidated `to-red/rebol-file` notation.

As I am lacking the imagination of GiuseppeChillemi (GiuseppeChillemi) , I would never have thought of even trying this with paths in local notation.

[16:18:35](#WAE7jCmRWflUcOEPym2axB_Vj0of2Iz5Frox4qgjqP0) <gurzgri>:
 * But is this really a bug or to be implemented?

- Red

```
>> change-dir to-red-file %"C:\Users\Public\"  ; %/C/Users/Public/
>> change-dir to-red-file  "C:\Users\Public\"  ; %/C/Users/Public/
>> change-dir             %"C:\Users\Public\"  ; *** Access Error: cannot open: %"//C/Users/Christian Ensel/C/Users/Public/"
>> change-dir              "C:\Users\Public\"  ; *** Access Error: cannot open: %"//C/Users/Christian Ensel/C/Users/Public/"
```

- Rebol2

```
>> change-dir to-rebol-file %"C:\Users\Public\" ; %/C/Users/Public/
>> change-dir to-rebol-file  "C:\Users\Public\" ; %/C/Users/Public/
>> change-dir               %"C:\Users\Public\" ; ** Access Error: Cannot open /C/Users/Public/C:\Users\Public\/
>> change-dir                "C:\Users\Public\" ; ** Script Error: change-dir expected dir argument of type: file
```

- Rebol3 (Windows | x64-pc-win32-pe | cl | Build 20-Jul-2024/16:56)

```
>> change-dir to-rebol-file %"C:\Users\Public\" ; ** Syntax error: invalid "file" -- {%"C:\Users\Public\"}
>> change-dir to-rebol-file  "C:\Users\Public\" ; == %/C/Users/Public/
>> change-dir               %"C:\Users\Public\" ; ** Syntax error: invalid "file" -- {%"C:\Users\Public\"}
>> change-dir                "C:\Users\Public\" ; ** Script error: change-dir does not allow #(string!) for its path argument 
```

Rebol2 and Red seem to be a bit more forgiving than Rebol3, but neither Red nor both Rebol2 and Rebol3 allow
cd'ing to a file! value in OS-specific path notation and only accept file! values in consolidated `to-red/rebol-file` notation.

As I am lacking the imagination of GiuseppeChillemi (GiuseppeChillemi) , I would never have thought of even trying this with paths in local notation w/o beforehand conversion .

[16:20:41](#cq75UIeLQqHLw5VofDt9MUWgHivFGDluYgRxfSyKeoo) <hiiamboris>:
```
test@AURA:~$ touch C:\\Users\\Public
test@AURA:~$ ls C:\\*
'C:\Users\Public'
```
It's a valid filename (not a path) on most file systems

[16:21:08](#qQMRkqMVO54Emezv7S7L6N6ci2dqxClhVbzAY6MHB8g) <hiiamboris>:
So Red cannot really know your intent. Only you, the coder, know if it's a file or local path.

[16:22:31](#RtSIXvl1A7nBKA-vyssMPTZDybFsaX6FIgq_M0k3hQs) <hiiamboris>:
We could say that when it's a string, it's a local path to be converted. But then it will just be confusing in some other cases.

[16:25:04](#kUdAwwvNIMTiO0kRr3UzvgGw6mc4wDohsTbLbixSTCU) <hiiamboris>:
But of course the implementation is also full of bugs and inconsistencies IMO.

[16:26:28](#VbD9H_q8Y_1RCpST6GyK4VhyJQtA9MhgMcWF5DxodHA) <hiiamboris>:
I would just forbid strings until their behavior is designed for.

[17:00:13](#zBkKRH_vW0mMv_xnbyW6SkblJV0ErakEBLmcPPYSA7A) <GiuseppeChillemi (GiuseppeChillemi)>:
Should I write a ticket?

[17:19:26](#Xon7mnbT1cujbVutDRBDHTqKEsYT9uGpYmofoRWgwSI) <hiiamboris>:
let's hear Gregg first

## 8-Oct-2024

[3:51:50](#dRsAVyT4Dq2jKDPGHVUbK8dxTX76RJfZhtJdKxi88Bo) <greggirwin (Gregg Irwin)>:
I agree that string support needs design work. We have a type, we have coercion funcs, and it's not too painful to be explicit here, given the risks.

## 10-Oct-2024

[13:23:31](#QbFeZ5FXZnitQy_GlYxCWQ1NcOSiZgAxwItMj7Ff538) <GiuseppeChillemi (GiuseppeChillemi)>:
Do you think it is correct? 

```
probe head insert "" none
probe head insert "" 'hello
"none"
"hello"
```

Red is very strict on its `to-<something>` conversions or `index? find "" 'x` when `none` but here it does auto conversion and `none` does not generate an error.

[13:26:43](#ekpOtQ54wLqaj3oszU_L7dfqU0rocQ2wV-NE7E6YRwk) <hiiamboris>:
it's connected to block to string conversion

## 10-Nov-2024

[4:59:22](#wJN3HTl_kfuwcuDXZx-z0gVnhShU4chGnXn4vCCV0lA) <GiuseppeChillemi (GiuseppeChillemi)>:
Why this is not working?

```
f: func [
		start
		nxt
		/local
		map**
		src-word
		dest-word
		x
		y
	] [ 
		map**: [a a]
		
		foreach [src-word dest-word] map** [
			nxt/:dest-word: :start/:src-word
		]
]

;system/reactivity/debug?: yes

o1: make reactor! [a: none]
o2: make reactor! [a: none]
o3: make reactor! [a: none]


react/link :f [o1 o2] 
react/link :f [o2 o3]
o1/a: "Hello"
probe o3/a

>> none
```

The function works if I don't use `get-words` in paths or `parens` in paths but only if words are explicit

[5:14:18](#UFe-JUeZEZzfvK28QCzwJJTATTu7HNCd0JH7wj_8ao0) <GiuseppeChillemi (GiuseppeChillemi)>:
OMG, I think I have undestood, the body is scanned for paths

[5:14:51](#Mt0lMqbFU6Yw385TWLYSNp43Lw_Rnf-DJjy2ygCS9UI) <GiuseppeChillemi (GiuseppeChillemi)>:
Am I right?

[5:15:49](#o_6mQTgYIlnJ8ueg50FPAqCWcG8puFt3tx9H5j4PjgY) <GiuseppeChillemi (GiuseppeChillemi)>:
If true, I can't embedd a map inside and I must use explicit paths

[5:16:45](#WQdH_b1Pwk__asFb7pxag6byXep-qIpNV8gPfVnh_u8) <GiuseppeChillemi (GiuseppeChillemi)>:
And this is a terrible thing as I am fored to mention anything. 

[5:16:57](#YEoqz9nDnrp9KbirDLbHT2S-9HSSLLrHvj4Zoy8EhYc) <GiuseppeChillemi (GiuseppeChillemi)>:
 * And this is a terrible thing as I am forced to mention anything. 

[5:38:36](#HZwPQq3z083I0HwTcC_bc7imKqzzVlgZFxuLAx0pRJw) <GiuseppeChillemi (GiuseppeChillemi)>:
 * And this is a terrible thing as I am forced to mention anything. 

[6:00:01](#w3RsQqGV4Pb4p-xulvC_2NpyaNdPpBG0hwjb0oKQOHw) <GiuseppeChillemi (GiuseppeChillemi)>:
Again on `REACT/LINK` is it triggered for every word mentioned in the body which exists in the source object? In this case, as there is no way to know which word triggered the reaction, I need to write a function for each word I want to map to another object, don't I?

[6:00:11](#xMNKb79F6Je317JD0QUuQf6BUfjmo6hhSoe0U3dhjC0) <GiuseppeChillemi (GiuseppeChillemi)>:
 * Again on `REACT/LINK`: is it triggered for every word mentioned in the body which exists in the source object? In this case, as there is no way to know which word triggered the reaction, I need to write a function for each word I want to map to another object, don't I?

[6:00:44](#PFgXl9bjyu-5sqwuibU3CemdGjyeDZtcr-BcLL-s3QA) <GiuseppeChillemi (GiuseppeChillemi)>:
Is there a way for the `REACT/LINK` function to know which words has triggered the function?

[6:23:56](#bF2H2dNVXimOV4YZDaHPZrHe1qatAHkgPevMoVBgyX0) <GiuseppeChillemi (GiuseppeChillemi)>:
* Again on 
REACT/LINK: is it triggered for every word mentioned in the body in a path, which also exists in the source object? In this case, as there is no way to know which word triggered the reaction, I need to write a function for each word I want to map to another object, don't I?

[6:25:47](#2q1EFjRcDUrToWigAArfToLOUIW5-PbFlvozvyS6S2E) <GiuseppeChillemi (GiuseppeChillemi)>:
* Again on 
REACT/LINK: is the called function triggered for every word mentioned in the body in a path, which also exists in the source object? In this case, as there is no way to know which word triggered the reaction, I need to write a function for each word I want to map to another object, don't I?

[6:26:04](#ePxKYHKIklH-BxdaRK8lalCsHfurLb_DYe8np28hm9w) <GiuseppeChillemi (GiuseppeChillemi)>:
* Is there a way for the 
REACT/LINK function to know which word has triggered the function?

[7:13:45](#2SzKSZxT-YJ__KETUl95GPrQoSADalZ6nRHcjnSCVdU) <hiiamboris>:
current reactivity implementation maintains a list of explicit reactive sources for each tracked object

[7:13:57](#k7R-zmzndWGN4ZomdGZxu6hP22xGV1EdC3z7PrjTcLU) <hiiamboris>:
so, get-words won't work

[7:15:22](#M1RXUMyvbMk_eugVL9nkyVOiJPoaZI0IQJ7kZKQWOWA) <hiiamboris>:
no, but you can create multiple functions each serving a different word (appearing as path in the function)

[7:17:11](#gbd78v797dregHpyaZbHaAWlD8yYHLYkHWY-mGrceQg) <GiuseppeChillemi (GiuseppeChillemi)>:
I have already done this.

[7:21:02](#Jozoai0SaGxLvlIa0s6cZ14zDcSAxSUDYhMgSKgm_jw) <GiuseppeChillemi (GiuseppeChillemi)>:
So if I mention 2 words, the function is started when one of them changes and no way to know which one has triggered the function. I don't like it but I will adapt

[7:22:32](#_XlR3oJVpOKjDakIOtPBSW7pKlJdDOGh5kF5kAltQ1Q) <GiuseppeChillemi (GiuseppeChillemi)>:
Also I don't understand the effect of mentioning TARGET CTX/WORD in the body of the function.  Which is the effect?

[7:23:55](#_EcVWuWrLiSG1Ov2QA2kODXDuvTKV_gbiYGN0SZwSC0) <GiuseppeChillemi (GiuseppeChillemi)>:
* Also I don't understand the effect of mentioning the TARGET CTX/WORD in the body of the function.  What does the reactions system does with it? 

[7:24:59](#UpEtXnMDtko0ftvkVXl-hQF8fUi27iCxvPLwTM6AFwg) <GiuseppeChillemi (GiuseppeChillemi)>:
* Also I don't understand the effect of mentioning the TARGET CTX/WORD in the body of the function.  What does the reactions system does with it, as my code is the sole responsible of writing a target?

[7:32:03](#U98YA7AtrXdmoPMmGqy--rdr4a6CCL5FkJ4uM0PtNbc) <hiiamboris>:
react/link treats both arguments as *sources*

[7:32:34](#TMN3Ky32UOaur6oDQGW7JaEJeuPtrZwMGMCxIgq-SB0) <hiiamboris>:
and personally I consider it an oddity to require two sources for it to work (but I've given up trying to improve it)

[7:32:52](#q78a9zoTR5DAt0TJLVmizvt8dz-pOBBuEzswRmi9Xz4) <hiiamboris>:
you can work around by just listing the same object twice

[7:33:33](#XT-HmqE8iUtS-TPcjYGFEPeQPuZoEhK5-2yrxzIEqL4) <hiiamboris>:
`rect/link [obj obj] func [obj unused] [...]`

[7:35:08](#rZvHrTHJdbFnZH_JUrGoArP_Oh5JvkSJhNDzrWlLHcs) <hiiamboris>:
* and personally I consider it [an oddity](https://github.com/red/REP/issues/75) to require two sources for it to work (but I've given up trying to improve it)

[8:56:37](#cp84yvVMOD7kOIpO30UudUuyabXFWjTmUG2_fyd1UcM) <hiiamboris>:
* react/link treats both arguments as objects with *sources*

[8:57:01](#8GJy6KSiMJDywDaiUjgV7qI0sTOhyPg_EHFwAi3rLZc) <hiiamboris>:
* and personally I consider it [an oddity](https://github.com/red/REP/issues/75) to require two source objects for it to work (but I've given up trying to improve it)

[13:24:05](#I2ExTQRZ5FCl5HYP03k7stxwk3ITe3VPvuvKLJ6EDP4) <GiuseppeChillemi (GiuseppeChillemi)>:
I was going crazy trying to understand why the second argument was triggering the reaction too, as it should simply be the target.

[13:26:29](#UzkvlISCM4BTcmgClCvvY2DM36cODEp7fUNOO68BKOQ) <GiuseppeChillemi (GiuseppeChillemi)>:
And I would like to have REACT/LINK/WHERE :FNC OBJ [WORD WORD...]

[13:27:11](#wxLWzsj6qibNXNXAw1HUFLXRmFgnbX1PWnJeCj046Sg) <GiuseppeChillemi (GiuseppeChillemi)>:
So the body of my function is not scanned and I manually provide the source fields

[13:27:52](#zF0ixyy1SwxhKj6Zx0qtkG3ql3u0AB2FC3IjTfhSXZA) <GiuseppeChillemi (GiuseppeChillemi)>:
* So the body of my function is not scanned and I manually provide the source reactive fields

[13:31:43](#tjr1jKe9AH2ud4XTyhQ7DO5AYVS8QQqlXaua2H0-Q0k) <GiuseppeChillemi (GiuseppeChillemi)>:
It would be better: And I would like to have REACT/LINK/WHERE :FNC [OBJ [WORD WORD...]] and FNC receiving ARGS + WORD where the last one in the WORD that has triggered the reaction.

[13:31:59](#qvQr-oceSoVEAxJZj7LsU1PyvS4ZZdOZHP66uZWWv70) <GiuseppeChillemi (GiuseppeChillemi)>:
* It would be better: REACT/LINK/WHERE :FNC [OBJ [WORD WORD...]] and FNC receiving ARGS + WORD where the last one in the WORD that has triggered the reaction.

[14:28:17](#z65WZ-OC5oNVQN7X88hvfXwthC78GzvaLrM07URxb5s) <GiuseppeChillemi (GiuseppeChillemi)>:
* It would be better: REACT/LINK/WHERE :FNC [OBJ [WORD WORD...]] and FNC receiving ARGS + WORD where the last one is the WORD that has triggered the reaction.

[16:07:45](#u88CQmdh3wl-HXluc6M4wQHVUlc7mX6cNb6JIdaGrDo) <hiiamboris>:
it's easy

[16:08:28](#4IZgEiVZ3Z21cUUf0JemImjeNZg9YUizC4SFzbEj4uo) <hiiamboris>:
`react/link [obj obj] func [obj _] [[obj/a obj/b .. sources you need] do-reaction-on obj]`

[16:39:44](#fV5EUPguGkzxvJRBYBUVIzkp7yHN8DD2CrvZhGhjsr8) <GiuseppeChillemi (GiuseppeChillemi)>:
Good, but I would like to make the words provided independent from the function argument. 

[16:55:02](#2pcHTPAZGum8mAOKDiVT_ncyHH8zUp0BO3p56N1CbBY) <GiuseppeChillemi (GiuseppeChillemi)>:
Another argument:

Is this correct:

```
o3: make object! [c: none]
b1: [c]
xx: 'nothing
probe :o3/xx
probe :b1/xx
```

Result:

```
unset
none
```


[16:55:19](#buIArSvK41nAMdzErNA6_xY21mY2wsASF1fqRLr9pUE) <GiuseppeChillemi (GiuseppeChillemi)>:
 * Another argument:

Is this correct?:

```
o3: make object! [c: none]
b1: [c]
xx: 'nothing
probe :o3/xx
probe :b1/xx
```

Result:

```
unset
none
```

[16:57:27](#kJ87VgYca_Qx2ulx-fFxfLGo2nLh9GqIf36cK053Ixg) <GiuseppeChillemi (GiuseppeChillemi)>:
It is like the word is not set in the context but a word exists if mentioned in the script only i the `system/words` context

[16:58:04](#cQTyCJOTUZeu32sJNUulhBlnPzV5PKw19BTG4PzvW4I) <GiuseppeChillemi (GiuseppeChillemi)>:
 * It is like the word is not set in the context but a word exists if mentioned in the script only i the `system/words` context, so other contexts it should not be unset

[16:58:22](#7JtLodXy-RgSLSJ6NqmWtuiIZYHKsIGJ44Ml3BmrBkc) <GiuseppeChillemi (GiuseppeChillemi)>:
 * It is like the word is not set in the context but a word exists if mentioned in the script only i the `system/words` context, so other contexts it should not be `unset` and return an error

[16:58:40](#Tjn5HGHah6Z3l0Isiv9KZqD8VG37SHLBJfgp_CxSxWQ) <GiuseppeChillemi (GiuseppeChillemi)>:
 * It is like the word is not set in the context but a word exists if mentioned in the script only in the `system/words` context, so other contexts it should not be `unset` and return an error

[17:00:40](#9x-qmhZ5tGXWXXiNHKY1lxL8se0A3EJjkHmFUKmNkH0) <GiuseppeChillemi (GiuseppeChillemi)>:
 * Another argument:

Is this correct?:

```
o3: make object! [c: none]
b1: [c]
probe :o3/xx
probe :b1/xx
```

Result:

```
unset
none
```

[17:13:32](#9vl1yeQVb8yQqi-YPsOmR_6lnqWbwHYcGG-iraYlGo0) <hiiamboris>:
`b1` isn't a context

[17:14:17](#_q09Ul2eD2nm6Yu4VBlJdr5MsIp7ValQF5npwQqtwkA) <hiiamboris>:
and get-path is there to avoid the error, as well as `get/any`

[20:34:48](#-iljYqvjP90yZhaWbk6Z82WQDIKxaS6tGUoT_nWbOSA) <GiuseppeChillemi (GiuseppeChillemi)>:
I know, my question is if the different return value is correct

## 11-Nov-2024

[5:07:40](#fXq-7GIst4LMK-Nl1fzEVe1IkAassp6fgQHDeVc8Sa8) <hiiamboris>:
it is

## 24-Nov-2024

[9:03:33](#BO6EnnUdMoSVUx6Ldu7QYU-Uh2vxHHmuitWbNmoomqY) <GiuseppeChillemi (GiuseppeChillemi)>:
If in `react/link :f [obj1 obj2]` `f` function I execute a `do make error!` or an `halt`, Red does not stop. Is it normal?

[9:06:04](#vQXj8Y9-BQ-DC5cEXmggXRtDQkfBifUkU-aeiYi3lkI) <GiuseppeChillemi (GiuseppeChillemi)>:
How could I stop?

[9:19:14](#evds2Jb6mDV36gCq9UkIFB9uz3U-z-YknGr7AQj923I) <hiiamboris>:
Yes, it's by design.

[9:19:23](#1MswTQMZMEaFN-3nVx8w370GkUmCaEV8wxxV9TngQjA) <hiiamboris>:
To stop, you need your own reactive system.

## 26-Nov-2024

[1:28:04](#mcaTYHg7XYidEphoD8dNyv-yVbumN51Z4gyA3E-HNvQ) <GiuseppeChillemi (GiuseppeChillemi)>:
Hi, I have this unwanted reaction:

```
ctx1: make reactor! [
    a: 22
    b: 33
] 
ctx2: make object! [
    a: 44
    b: 66
]
ctx3: make object! [
    a: 77
    b: 99
]


f: func [
	s
	n
] [
	n/a: s/a
]

react/link :f reduce [ctx1 ctx2]
react/link :f reduce [ctx2 ctx3]

ctx1/a: "55"
probe ctx3
```
Result:
```
make object! [
    a: 22
    b: 99
]
```


[1:28:41](#QlMH8MJr1Tq6j8WwIzy1_GbEb6qT_pAe_QqKOJ_VIXQ) <GiuseppeChillemi (GiuseppeChillemi)>:
`CTX3/A` should remain `77` and it seems to me a bug

[2:52:39](#4CtSTr8DbU3_sn0onLzlGU62uLS6uDwiWK48wN1SxDI) <GiuseppeChillemi (GiuseppeChillemi)>:
Note that `/LATER` interacts with this bug

[7:57:13](#iZtLY4rrMAztO9iNoxtFprZ30R9LI6OQljBMLvirZ08) <hiiamboris>:
how is it a bug?

[8:20:24](#WIh5SUcWAl0RR0rttgyKvb8M-sr9XsRDbUKhr6NHhlY) <GiuseppeChillemi (GiuseppeChillemi)>:
The second is not a reactor

[8:22:20](#T-wvRasTkEye5XzZolVucKHi_LFzii7xIltcvn4uCYE) <hiiamboris>:
hm yeah, curious that it even works...

[8:22:33](#oQRlvjShxdzxPzV-Zc-U4ABMpW5DV_2D-HGSsKNINhA) <GiuseppeChillemi (GiuseppeChillemi)>:
If you change it to a reactor you have a different result. (I am not.in front of my PC)

[8:22:56](#ujSbKcdHFiOzO29ykqIH0voLg808uRzc5HC9FvifWmY) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@hiiamboris:tchncs.de> hm yeah, curious that it even works...

I was curious too í ½í¸

[8:24:47](#03nIAoMfpzXOqccIzNsI0BbhkmQesWImOApG6p7u-Ms) <GiuseppeChillemi (GiuseppeChillemi)>:
Also today I had different parameters uncompatible with system/reactor/check but I have changed my code before discovering what caused this.

[8:27:23](#wQXkNi61iRj2uSPX1WMzUNdPO4GTmDVTNjuE9_M6KKg) <GiuseppeChillemi (GiuseppeChillemi)>:
Later when again in front of my PC I will report it

[8:32:01](#bBo8_hu1u094bM706W-BatFxkkBZmMTHO6ndAooXuNg) <hiiamboris>:
so what happens is `react/link` propagates the reactions immediately

[8:32:19](#wIeJxxYoL_WAqjU1UWMhvZF9MYv6ikE4OyRCxa8qYmo) <hiiamboris>:
but later, because it's not a reactor source, you won't have these reactions firing again

[8:33:20](#zKoBAJ3yxRMmhRrQl6Wqe2zaDBWpfJsBOYqADpQ-cKM) <hiiamboris>:
so not a bug in reactivity, but more of an open design question: what to do with non-reactive object sources

[9:31:18](#jUY969P-HwmlRHfWAos_dKe0HkQ-tsS0AU9BIZ3h5Yg) <GiuseppeChillemi (GiuseppeChillemi)>:
I'll report it as it happened pointing to our discussion

[22:59:21](#loituIDjgyrkxlDE5Q4spqpG4uElDNXHIk0rznIhKGw) <DocKimbel>:
Fix pushed.

## 29-Nov-2024

[20:36:51](#k1Oo-u4GjUkf435jW09FeX4Qx9sStUtu4BWdzNmmTPc) <GiuseppeChillemi (GiuseppeChillemi)>:
I  am facing some problems with apply. 

```
x: [a b c d]
apply :forall [
	quote 'x
	[probe x/1]
]
```

It gives this error:
```
*** Script Error: <applied> does not allow word! for its body argument
*** Where: <applied>
*** Near : apply :forall [quote 'x [probe x/1]] halt 
*** Stack: do-file
```



[20:41:01](#Ae0QxoTw4rouvewtL90HBb1W8F4u9YjMOS4k7UgO-js) <GiuseppeChillemi (GiuseppeChillemi)>:
Also are essentials 2 things:
1) Having a way to not reduce the passed block, because when you don't have the control of the arguments inside the block, you risk running functions
2) Passing an objects instead of block of words

[20:44:26](#LXwKH-L0zmtTBauyD3Cqy3aVH2BF2PRBZWkUtWQW1O4) <GiuseppeChillemi (GiuseppeChillemi)>:
greggirwin (Gregg Irwin): The `apply-object` inside the [article on apply](https://www.red-lang.org/2023/06/dynamic-refinements-and-function.html) is what has generated this last note: `values-of` returns active elements like functions or paths. So they would be altered by the reduction of the values block. 

[20:44:57](#1hhdh8yqlb5wOaO-h9wTL9HsotrWZV1ko2_FbTSb6rg) <GiuseppeChillemi (GiuseppeChillemi)>:
 * greggirwin (Gregg Irwin): The `apply-object` inside the [article on apply](https://www.red-lang.org/2023/06/dynamic-refinements-and-function.html) is what has generated this last note: `values-of` returns active elements like functions or paths. So they would be altered by the reduction of the values block when `apply`

[20:46:41](#x_P93LQVOniBp-dMx6zETzBSVQqHPtaFsF0PtdHoIbk) <GiuseppeChillemi (GiuseppeChillemi)>:
Actually I must quote some elements in block with a lot of overhead.

[20:49:54](#W-9kY1oKRArVH1EZKgxks32WghQIp47SAFhDxVncrC8) <GiuseppeChillemi (GiuseppeChillemi)>:
Forgot this note:

The `FORALL` has been made to understand if `:arg` and `'arg` are preserved. `forall` is a function which accepts a `lit-word!` argument and `APPLY` should obey the argument passing rules...

[20:50:01](#zrkSFzdpKPb_9kyzZqaCG4_MnH6_4ivDs9SFZ9NtItc) <GiuseppeChillemi (GiuseppeChillemi)>:
 * Forgot this note:

The `FORALL` test has been made to understand if `:arg` and `'arg` are preserved. `forall` is a function which accepts a `lit-word!` argument and `APPLY` should obey the argument passing rules...

[20:59:00](#Jpk8uNTYwAHhSw2HcDchl09gn3xFWoD2piDzXDv_9yA) <greggirwin (Gregg Irwin)>:
Well, the first thing that jumps out is lit-args, which are always tricky in anything but direct use, where they are magical. :^)

[20:59:34](#gYCcBrBJopXtTS-cWRu8GYhz7287jJmj2rOkViUxsvg) <gurzgri>:
GiuseppeChillemi (GiuseppeChillemi)  Just `x: [a b c d] apply :forall [x [probe x/1]]` works, doesn't it?

[21:01:54](#p5ilnH1HqrxLHirJkExEbbsi6gXGVfyHlpRqQ1KDj3A) <greggirwin (Gregg Irwin)>:
From his sandbox post, I think GiuseppeChillemi (GiuseppeChillemi) has another level involved, but that's where the real example will help. gurzgri 's solution does work fine.

[21:04:37](#B0ahu5nMv4z48pDM9WAjqqGNBhd4Fm3My27tCO9kexo) <GiuseppeChillemi (GiuseppeChillemi)>:
I am experimenting with creating a function that calls another function. The caller one replicates the called and eventually you can put some code in between:

```
copy-function: func [
	fn [word! any-function! path!]
	/local
	specs
	op
] [
	
	specs: func-spec-words :fn
	append specs /local
	op: make-apply-obj-proto :fn
		apply/all quote (:fn) quotes get-all words-of context? 'local
	]
	
]

f: copy-function :find

probe f [a b c d] 'c
```

[21:05:37](#LPTtwzVyJcn0HKCdH7ptLgMi_xEW8mRNZPuhhnu5ybE) <GiuseppeChillemi (GiuseppeChillemi)>:
Note the `quotes` and `get-all`: the latter gets the values of all arguments, the first quotes the active ones as function and paths.

[21:06:11](#lVKJpxSy7d365wi3iDTOe0fCtcrAbWbtc3J6zi-WbTw) <GiuseppeChillemi (GiuseppeChillemi)>:
I need a way for `apply` to not reduce the arguments block, so I avoid using those functions

[21:07:09](#LsI9Ws5XprWBmA-OqjkA5aJEOKYNQxtM1GJlUW8NCnA) <GiuseppeChillemi (GiuseppeChillemi)>:
Also I need to know if `lit-word` inteface arg and `get-word!` ones are obeyed during reduction

[21:07:19](#DdDSutBWoep6ZTEIX9D9Q32SFI41goSyOdQF3M9BMJc) <GiuseppeChillemi (GiuseppeChillemi)>:
 * Also I need to know if `lit-word` inteface arg and `get-word!` ones are obeyed during regular reduction

[21:07:38](#YSPFu08ll2P4Pg7QMF7uha7Dfa7AZVc9hCyx7cn-4B0) <GiuseppeChillemi (GiuseppeChillemi)>:
 * I am experimenting with creating a function that calls another function. The caller one replicates the called and eventually you can put some code in between:

```
copy-function: func [
	fn [word! any-function! path!]
	/local
	specs
	op
] [
	
	specs: func-spec-words :fn
	append specs /local
	op: make-apply-obj-proto :fn
		apply/all quote (:fn) quotes get-all words-of context? 'local
	]
	
]

f: copy-function :find

probe f [a b c d] 'c

[c d]
```

[21:07:48](#pdwyzKVPJvyLuUSN95BvlqkTeK2Q-no3pefjZ8q71kA) <GiuseppeChillemi (GiuseppeChillemi)>:
 * I am experimenting with creating a function that calls another function. The caller one replicates the called and eventually you can put some code in between:

```
copy-function: func [
	fn [word! any-function! path!]
	/local
	specs
	op
] [
	
	specs: func-spec-words :fn
	append specs /local
	op: make-apply-obj-proto :fn
		apply/all quote (:fn) quotes get-all words-of context? 'local
	]
	
]

f: copy-function :find

probe f [a b c d] 'c

;--- Result:
[c d]
```

[21:11:20](#L77IkmlbE9Z2KyriXdMLLrVG-1yb4tfSDqug3jlXfDw) <GiuseppeChillemi (GiuseppeChillemi)>:
 * I am experimenting with creating a function that calls another function. The caller one replicates the called and eventually you can put some code in between:

```
copy-function: func [
	fn [word! any-function! path!]
	/local
	specs
	op
] [
	
	specs: func-spec-words :fn
	append specs /local 
	func specs compose [apply/all quote (:fn) quotes get-all words-of context? 'local]
	
]

f: copy-function :find

probe f [a b c d] 'c

;--- Result:
[c d]
```

[21:12:21](#_ZQrDwF_eriwMUraNq5niCe2rj8OhGiJ2KetEHPjZzA) <greggirwin (Gregg Irwin)>:
So if you just use `values-of` on the object, if there are active values, the `reduce` done by `apply` causes a double evaluation.

[21:12:35](#wmYO8q_qergRfUhCB2T2PVxTOPHadjOy3Nw2KAUF2oM) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@greggirwin-55659ddb15522ed4b3e1006f:gitter.im> So if you just use `values-of` on the object, if there are active values, the `reduce` done by `apply` causes a double evaluation.

Yes, it is the problem

[21:12:58](#hFRnr4RBohx8SveDmApLeATtC6gV0tNdVUC6p--uB1M) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@greggirwin-55659ddb15522ed4b3e1006f:gitter.im> So if you just use `values-of` on the object, if there are active values, the `reduce` done by `apply` causes a double evaluation.

 * Yes, it is the problem of this approach

[21:14:05](#-lzL0QWw48a9mD0ANIXdMQS8Jn_37LkkoQzvstkjQ5s) <GiuseppeChillemi (GiuseppeChillemi)>:
You need a way (refinement) to not reduce the block
Also, as said, it would be nice the accept an `object!` instead of block of args.

[21:16:26](#WBgdyg-eEEIFlYfhWLSAFfJVpLbVkuvkuF8pfwjzMLo) <GiuseppeChillemi (GiuseppeChillemi)>:
Again on your note: when you need to pass `path!` , `word!` or `lit-*somethig`, the reduction destroy the element and you have to `quote` it

[21:16:53](#3HOO6ppQI92RiOZzf3qSzyz6wsMg6wT2kfbrkxzqJDw) <greggirwin (Gregg Irwin)>:
It was a long design process, so the chance of adding direct `object!` support is virtually `none`.

But your context is the local func, not the `op` object being passed in. I'm missing something.

[21:16:55](#evHaaFg1Z4wmMuZn3yuQCtV3TCh4CcltNR6PHXlTlLk) <GiuseppeChillemi (GiuseppeChillemi)>:
 * Again on your note: when you need to pass `path!` , `word!` or `lit-*something`, the reduction destroy the element and you have to `quote` it. 

[21:17:26](#a7jWBKU0Tw6uERRqP2Dmk54CoqdzkzAxTHmovVWXx7A) <GiuseppeChillemi (GiuseppeChillemi)>:
 * I am experimenting with creating a function that calls another function. The caller one replicates the called and eventually you can put some code in between:

```
copy-function: func [
	fn [word! any-function! path!]
	/local
	specs
] [
	
	specs: func-spec-words :fn
	append specs /local 
	func specs compose [apply/all quote (:fn) quotes get-all words-of context? 'local]
	
]

f: copy-function :find

probe f [a b c d] 'c

;--- Result:
[c d]
```

[21:17:54](#bq1i-ZVnJiaNaUFPWbVPFayGLqmAhAIkUq_eePymv8E) <GiuseppeChillemi (GiuseppeChillemi)>:
`OP` has disappeared. It was a wrong copy/paste, please look at the code egain

[21:18:00](#A-q3_89rLReRueUgs7QpvQdzJE0cgQn0efEHwj1v9IM) <GiuseppeChillemi (GiuseppeChillemi)>:
 * `OP` has disappeared. It was a wrong copy/paste, please look at the code again

[21:20:15](#2VJJQ2MJO1sTl9b6kDtzmmMsWJA9Krgn6qCTR5bxi6s) <greggirwin (Gregg Irwin)>:
Still hard to diagnose and eval because of `quotes` and `get-all` not being there.

[21:20:20](#40Min6mDrL0vo-ZJbNf630kORiEdPPT-hBDSohnMUrI) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@greggirwin-55659ddb15522ed4b3e1006f:gitter.im> It was a long design process, so the chance of adding direct `object!` support is virtually `none`.
> 
> But your context is the local func, not the `op` object being passed in. I'm missing something.

I could accept not having object but please, add a `/noreduce` like refinement as it is very important for this scenario

[21:21:17](#csHOD8g14Ce7oXXTiOT1dZb7SEyjf7dRnAKSReY5CqQ) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@greggirwin-55659ddb15522ed4b3e1006f:gitter.im> Still hard to diagnose and eval because of `quotes` and `get-all` not being there.

Here they are:

```
quotes: func [
	bl [block!]
] [
	forall bl [
		if any	[word? bl/1 lit-word? bl/1 get-word? bl/1 set-word? bl/1 path? bl/1 lit-path? bl/1 set-path? bl/1 get-path? bl/1 any-function? bl/1]  [insert bl 'quote bl: skip bl 1] 
	]
	bl
]

get-all: func [
	bl [block!]
] [
	forall bl [
		if any	[word? bl/1]  [change/only bl get/any bl/1] 
	]
	bl
]
```

[21:22:05](#291E9K-863KIAJh43uteiYe83q772KwWICkUpvDGQxg) <greggirwin (Gregg Irwin)>:
The next issue I see is that if the func you're copying has `/local`, that will become an invalid spec when you add it back a second time.

[21:22:19](#wDjN0VpV4wud_LFcuCMaImy2XvHaR_ADHOdj9-gM8oQ) <GiuseppeChillemi (GiuseppeChillemi)>:
The latter gets all the values, the former neutralizes them

[21:24:14](#eyv7qMHNEd-HqJF1DHT5dJEgojdGXdbLxh3zCw1czdU) <GiuseppeChillemi (GiuseppeChillemi)>:
It will be changed by your function `func-spec-words context? 'local` and `/local` added inside the specs

[21:24:31](#gj89--6EkhOM3xe5t6hbTf5fHB60RqLmDM2yDUhum1E) <GiuseppeChillemi (GiuseppeChillemi)>:
 * It will be changed by your function `func-spec-words context? 'local` and `/local` added to the words

[21:25:23](#HprP3kozpCEH9pP6cDp8ww8eUli3INeUMYFHGAJ9Aa0) <greggirwin (Gregg Irwin)>:
```
>> ff: func [a /local b c][a]
== func [a /local b c][a]
>> f3: copy-function :ff
*** Script Error: duplicate variable specified: /local
*** Where: func
*** Near : func specs compose [apply/all quote (:fn)]
*** Stack: copy-function
```

[21:27:37](#v5Nb1JDpvcjuqRbtmav8Be5gqqAAp1ZRFqKM5VG_CE8) <GiuseppeChillemi (GiuseppeChillemi)>:
The function must simply be refined checking for the existence of local

[21:27:47](#I18o7YPfCNnmMC4arACLbN25xwpBW5OZWEfrncQaBB0) <gurzgri>:
`if any [any-word? b/1 any-path? b/1 any-function? b/1] [...`

[21:27:49](#wwn85WLBynlTnqVOvJC59l3J1vQNnOtMsTCVAXbXets) <GiuseppeChillemi (GiuseppeChillemi)>:
 * The function must simply be refined checking for the existence of `local`

[21:28:09](#Byby70D6zMbTNmGU9mR2qPdKlByu3xMjLWyF5vubjC4) <gurzgri>:
 * `if any [any-word? bl/1 any-path? bl/1 any-function? bl/1] [...`

[21:28:31](#TuNLzHgchh_clfH-7DXeUtgeKepq3-iQImqE_sVlpGg) <GiuseppeChillemi (GiuseppeChillemi)>:
Yes, I have the defect of not remembering them and naming each one :(

[21:30:05](#mc8VuheCcYbTxYh-OBSZPB_Ty3_mTLfgKXhCGCRjBNs) <gurzgri>:
Alternative way:
```
accept-types: make typeset! [any-word! any-path! any-function!] ()
find accept-types type? bl/1

[21:31:15](#jmH8XQMvP6FU3STKhgK7RfeAcUP4HdMAUajT22eru2I) <gurzgri>:
`help` is your friend:
```
>> help any-word!
ANY-WORD! is a typeset! value: [word! set-word! lit-word! get-word!]
```

[21:47:04](#AF587pubKgo5eQmRLIMiZmVRjGW0WF2CCBl7B9eV0Ks) <greggirwin (Gregg Irwin)>:
I thought I had something based on the simple `apply` from the article that uses `do` but can't find it just now. Have to head out shortly, but will think on this when I have a moment. Seems like there should be a fairly simple solution.

[22:32:51](#MitE9ea9B_otZoUF-WZEE6QGWbbG9V3foMngd5saNEY) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@greggirwin-55659ddb15522ed4b3e1006f:gitter.im> The next issue I see is that if the func you're copying has `/local`, that will become an invalid spec when you add it back a second time.

Try this:

```
copy-function: func [
	"Recreate a function from its specs"
	fn [word! any-function! path!]
	/local
	spec-words
	specs
	op
] [
	
	specs-words: func-spec-words/as :fn word!
	append specs-words 'local
	specs: append func-spec-words :fn /local
	func specs compose/only [apply/all quote (:fn) quotes get-all bind (specs-words) context? 'local]
]

f: copy-function :find
probe f [a b c d] 'c

---- Result
[c d]
```


[22:33:06](#FM0vKZYECyKlZhVSSodMrK1wL_0qWEVJrKywf_DdDwE) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@greggirwin-55659ddb15522ed4b3e1006f:gitter.im> The next issue I see is that if the func you're copying has `/local`, that will become an invalid spec when you add it back a second time.

 * Try this:

```
copy-function: func [
	"Recreate a function from its specs"
	fn [word! any-function! path!]
	/local
	spec-words
	specs
] [
	
	specs-words: func-spec-words/as :fn word!
	append specs-words 'local
	specs: append func-spec-words :fn /local
	func specs compose/only [apply/all quote (:fn) quotes get-all bind (specs-words) context? 'local]
]

f: copy-function :find
probe f [a b c d] 'c

---- Result
[c d]
```

[22:35:45](#ln9HxnVXzl9bJR3WD43o538Ai8SPASVdHxEdMT7MAoU) <GiuseppeChillemi (GiuseppeChillemi)>:
As said, it would be shorter and faster with `apply/all/noreduce`

[22:42:11](#mpkDnpW7n-eolYLXEUN6gE05mLeYercf_dMQg9cYiEc) <GiuseppeChillemi (GiuseppeChillemi)>:
 * As said, it would be shorter and faster with `apply/all/noreduce`
Or as alternative `APPLY` should have `applt+

[22:44:36](#Fc_zKFGTqsd8GDphmM6coxw100XVHvh7jQwu3hEm9vo) <GiuseppeChillemi (GiuseppeChillemi)>:
 * As said, it would be shorter and faster with `apply/all/noreduce`
Or as alternative `APPLY` should have `APPLY/GET` to `get` each word instead of reducing. Obviusly, all elements should be words.

[22:52:58](#IgcYBTVCFjS3aR7RvZ9hVTX-UGOeqeonRDYIdcY5NX4) <GiuseppeChillemi (GiuseppeChillemi)>:
 * Try this:

```
copy-function: func [
	"Recreate a function from its specs"
	fn [word! any-function! path!]
	/local
	spec-words
	specs
] [
	
	spec-words: func-spec-words/as :fn word!
	append spec-words 'local
	specs: append func-spec-words :fn /local
	func specs compose/only [apply/all quote (:fn) quotes get-all bind (spec-words) context? 'local]
]

f: copy-function :find
probe f [a b c d] 'c

---- Result
[c d]
```

[23:30:08](#CPO5qjmf-77kJfI4oKN2a0tF8VeUIDiJuWrlH4F12u4) <GiuseppeChillemi (GiuseppeChillemi)>:
Lets continue [here](https://matrix.to/#/!mjbZGzLqlsqlDLaQVP:gitter.im/$MitE9ea9B_otZoUF-WZEE6QGWbbG9V3foMngd5saNEY?via=gitter.im&via=matrix.org&via=tchncs.de)

[23:30:48](#1NVSPNx9S14ukRE2kv9WL0qmPHPnXXTZiJN0uGhy1Cc) <GiuseppeChillemi (GiuseppeChillemi)>:
 * Lets continue [here](https://matrix.to/#/!vizjfgYzCOUHBNcXdY:gitter.im/$F9HO1JNeMfk1xz74KRMi3huoKURK_tbZGMVX6bNekx8?via=gitter.im&via=matrix.org&via=tchncs.de)

[23:31:19](#EZA3qxyJEiEupcqH4u_wZFvW_1YSNptLkfC_iJTwz4Q) <GiuseppeChillemi (GiuseppeChillemi)>:
 * Lets continue [here](https://matrix.to/#/!vizjfgYzCOUHBNcXdY:gitter.im/$HPcjLMbeedb9Ln5WtL8WWYkrrgclH1lH25wB0p4ahsg?via=gitter.im&via=matrix.org&via=tchncs.de)

## 30-Nov-2024

[8:56:08](#3zKuJIo1v0XoDog5mZhEqs_7vGLYuuS7O_zdEfDE8Ag) <hiiamboris>:
I don't know why passive mode wasn't implemented. I think there was an agreement that the most basic positional mode (one also available in R3) would cover that.

[9:40:04](#N56xTrqMjZQMJVluGfJJt-bJAmh8pBvg_-l-LCWoRnQ) <GiuseppeChillemi (GiuseppeChillemi)>:
Maybe it was an oversight, the function was already enough complex to analyze and something could have been missing. 
Passive mode is absolutely needed, otherwise you must modify each block analyzing the elements one by one. (and eventually copying it before the operations)

[9:40:29](#Opa04AsZHH68UCJt9Hlq7oEtfpSaQ_Os9ibKh5ZyMDE) <GiuseppeChillemi (GiuseppeChillemi)>:
* Maybe it was an oversight, the function was already enough complex to analyze and something could have been missing. 
Passive mode is absolutely needed, otherwise you must modify each arguments block analyzing the elements one by one. (and eventually copying it before the operations)

[9:44:45](#hk54ry4QJbi_9mHwWIxREP_h2RkeGWkspzgQwvwR5aU) <GiuseppeChillemi (GiuseppeChillemi)>:
On my case: the object mode I have requested, it is also important because when extending a function you could put new arguments in the middle of interface instead of the tail, so matching by name helps avoid reorganizing the block.

[17:24:06](#iKKxh13ejfLh8fWeQc0dyUJntnY6aSabYZksVO2Bekc) <greggirwin (Gregg Irwin)>:
Full day today and mostly tomorrow. Will make time as soon as I can.

## 1-Dec-2024

[14:13:22](#OdZtTi8d3bmN7VXKkp4DnQmcUCbltkcy2V8z_-PlbrM) <hiiamboris>:
IIRC general function extension was dismissed by Nenad as a noble design goal for `apply`, hence no `apply 'func 'local` and no passive evaluation.

[14:15:26](#z4wMFkJ5Hwf_KnxkAxFJTLJyE-9dOlEOVsyOol7Bt04) <hiiamboris>:
So, whatever `quote` magic you must conjure up, you won't be able to extend functions like `quote` itself (those with get-args in the spec), without also composing the arguments block first, to inline the value for the get-arg.

[14:32:29](#7AcD_H7EWff5DuNKRfbdg8kce9Zcx3VwD5yFOhGIF1Q) <hiiamboris>:
I've created https://github.com/red/REP/issues/171

[14:41:21](#x5rgcazcb90sNeMd_5NTVQHiEhIElZjEulNwQdYDot4) <GiuseppeChillemi (GiuseppeChillemi)>:
Thanks, I have seen

[16:46:39](#L4rHFK3yv37jyq2KSIYa8PxwUhvc17lnD9NENokdI6o) <greggirwin (Gregg Irwin)>:
Thanks hiiamboris .

[18:38:43](#vYHNE1SxEzdqWYp6pJ_RP-eQbPWooerDptT_8QkEjWo) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@hiiamboris:tchncs.de> I've created https://github.com/red/REP/issues/171

Answered, this covers this usage scenario with a very easy solution. I have not found anything simpler than this.

[20:41:41](#Xbv61-eaw0WsMJmBxhmhSSON3Ye_nAK7Pi_lAZagyaM) <GiuseppeChillemi (GiuseppeChillemi)>:
hiiamboris: I have seen 'LOCAL was in a proposal. I have only looked at your code in the github issue.

## 6-Jan-2025

[1:24:34](#GkWz4exGLFOMAvW2WD_HHvAEfT0tNv5_NmmsexuTmr0) <endo64>:
When I type `'<a` in both view or CLI console, there is no way to exit even with CTRL-C. Can someone please help confirm? I use 15-June-2024 console.

[1:25:08](#xmjlYSpSEbBS9Sl3WfXOuBe-KhkWs6S_WajG6j16DHI) <endo64>:
* When I type `'<a` in both view or CLI console, there is no way to exit even with CTRL-C. Can someone please confirm? I use 15-June-2024 console.

[4:55:54](#5ECwI7c8iKq9AJL4ZhKUTN5NBFV8sYQq89YdJEhZfjM) <ldci (FranÃ§ois Jouen)>:
What is the meaning of '<a ?

[10:18:52](#KjR4R_U0SIH-Oh0EJzP5IlmPZkYcr9zlL_UN2XK7b7g) <endo64>:
Doesn't mean anything, I accidentally wrote it in the console and couldn't exit, it stuck with a `>` prompt. Escape key, CTRL-C nothing works.

[13:32:54](#KwtkmqCL2ke903BexFSYaGMk1hJ1xq44qbpAshbuakg) <hiiamboris>:
For me, ESC stops the input

[13:33:29](#LdYzL8ob1AsF5VHU07jZQGMsqA_MBTRFMZHEAbmT_LE) <hiiamboris>:
But I confirm that no closing token input works

[13:34:00](#FXUizegJd24ZZaXbB8gaazhMFJbWpp8uI3tjEW7qQ-A) <hiiamboris>:
My consoles are much newer though

[18:09:50](#u7pXK6q3ZhMH3q_ZFORRfGGfmMJWsFIOToY2jkbs370) <gurzgri>:
Closing the tag wit `>` as in
```
>> <a
<    >
== <a
>
```
works for me in Red/CLI and Red/View 0.6.5 for Windows built 5-Nov-2024/13:35:31+01:00  commit #a306495. And <ESC> works, too, in both.

[18:14:06](#MixSdDavwrA5s8IEXU7bl0XvxbCnOv764m1lHrmwmGU) <gurzgri>:
But pressing <CTRL-C> 3x before closing with `>` gets interesting:
```
>> trim/lines form <a
<
<
<
<    b="1"/>
== {<a q q q b="1"/>}
````

[18:16:49](#wSlzfyzFE6pIks-ViC8AroPUYDnt-owaNreIBIAWxdQ) <gurzgri>:
My bad, I overlooked the leading apostrophe. But can confirm hiiamboris' observation: closing doesn't  work but <ESC> does.

[18:17:45](#PhMm9aZimmYZYwSOTydZaGE_4kIegvaIO7DdFYvdt-g) <gurzgri>:
* My bad, I overlooked the leading apostrophe. But can confirm hiiamboris' observation: closing doesn't  work but \<ESC> does for `'<a`.

## 7-Jan-2025

[16:33:51](#suS_I_Ww4Zfutm8sbo7QeFv97WH5E5-B15sNN19m_Eg) <endo64>:
Thank you for testing. I updated my console and ESC key works now. No need to report a bug then.

## 9-Jan-2025

[0:52:24](#1odFEyuSSEblz3fGNQe7g4NH0u4SMTy0yYklp12ttz8) <GiuseppeChillemi (GiuseppeChillemi)>:
I don't think it is right that `extend` does not throw error when there are ODD element to add, as `make` does it and without errors you wouldn't catch errors the code that creates the extend block.

```
>> extend m: #[a: 0] [a 22 b 333 c]
== #[
    a: 22
    b: 333
]
```

[0:52:58](#51XJFzIUSLvp3FytM7NLycjhmnIQJvAMglrMXt1_tXk) <GiuseppeChillemi (GiuseppeChillemi)>:
While
```
>> make map! [a 22 b]
*** Script Error: invalid argument: [a 22 b]
*** Where: make
*** Near : make map! [a 22 b]
*** Stack:  
```

[6:29:38](#GLvgx7RKP22fD1FUOMlVVsvsLUVf6M8qGNHdtjh7rAA) <hiiamboris>:
Overlooked most likely. Make an issue please.

[17:52:10](#ebgVT-tRgen_Miqdq5VXcyeDg5mFPUjQ-5wn-a_BXQg) <greggirwin (Gregg Irwin)>:
Nice catch.

[18:02:07](#tB0sC6vejKDDKkn1TF3MIhw7y6aIRxc77AZTCahAazU) <GiuseppeChillemi (GiuseppeChillemi)>:
Done: https://github.com/red/red/issues/5581



## 11-Jan-2025

[0:45:53](#2R_Zk6Ie7QmkM1zwf72wz-ZcsCXkXSy8LqcMfBjAMfc) <GiuseppeChillemi (GiuseppeChillemi)>:
I am "probe"ing the whole `system/words` context.. what you think is happening here?

[0:45:58](#0AGtBIH27kNnckkiwdXcrHG5rEeMMj14Z4E62Re6HhE) <GiuseppeChillemi (GiuseppeChillemi)>:
![](https://gitter.ems.host/_matrix/media/v3/download/gitter.im/16107f191ddcc78274307244330983c433fa4edb1877879588554539008)

[9:34:49](#c0xRClrFicw-l6BAdp6SlhmKGGXiAJx8LHer33-e5OU) <hiiamboris>:
Â¯\\\_(ãƒ„)\_/Â¯ can't reproduce

[19:41:19](#Tk8mIUQePQ7n4S0YMGsXd_l8njHAjGfBp78QQ32II_g) <greggirwin (Gregg Irwin)>:
Also can't dupe, from a raw console. You surely have lots of other things in your system at the time, so hard to say.

## 12-Jan-2025

[13:34:25](#7GV2bh5irw6Ub3pymTvUmJYc5LDrc9jQ9FEZBHKN0Qc) <GiuseppeChillemi (GiuseppeChillemi)>:
Also can't dupe, from a raw console. You surely have lots of other things in your system at the time, so hard to say.

[13:34:59](#FwV3NjgdWD9pWoSBm7jNqECtAtI_AZrFskPo-YylQhs) <GiuseppeChillemi (GiuseppeChillemi)>:
* I am experimenting using `apply` to create a `repeat-on` command to repeat ANY function on multiple targets. Thinks about appending on multiple containers.

I have created this:

```
repeat-on: func [
	"Repeats a command on a target container"
	target [integer!] "The arg position to repeat the function on"
	command [block!] "A code block which starts with the command"
	/local
	targets
	command*
] [

	command*: first command
	targets: first at next command target
	
	forall targets [
		apply command* change/only at next command target targets/1
		probe command
	]
	
]

a: []
b: []

repeat-on 1 [append [a b] "hi"]
probe reduce [a b]
```

But does not produce what I expeced and `a` and `b` are empty

```
[append a "hinone"]
[append b "hinonenone"]
[[] []]
```

[13:35:19](#m6LzFIzzsSw6C-2WhE8GS0rv8if0I3B4j3Nt0K4RJLg) <GiuseppeChillemi (GiuseppeChillemi)>:
* I am experimenting using `apply` to create a `repeat-on` command to repeat ANY function on multiple targets. Thinks about appending on multiple containers.

I have created this:

```
repeat-on: func [
	"Repeats a command on a target container"
	target [integer!] "The arg position to repeat the function on"
	command [block!] "A code block which starts with the command"
	/local
	targets
	command*
] [
	command*: first command
	targets: first at next command target
	
	forall targets [
		apply command* change/only at next command target targets/1
		probe command
	]	
]

a: []
b: []

repeat-on 1 [append [a b] "hi"]
probe reduce [a b]
```

But does not produce what I expeced and `a` and `b` are empty

```
[append a "hinone"]
[append b "hinonenone"]
[[] []]
```

[18:23:46](#QKwwsBgfNuBvLRUkJKPYCbC86mHGQt-aHvieF-VLLuw) <GiuseppeChillemi (GiuseppeChillemi)>:
https://github.com/red/red/issues/5582


[21:58:30](#QXqPYJ_cCK2nAldKObYPJ51XLzLJxPDVkVXXYEUAaNI) <GiuseppeChillemi (GiuseppeChillemi)>:
I have this torture code for GC. It is a simple one, it appends 500.000 times a strings and removes it, again, 500.000 times.

```

Print "Open Console to allocate memory"

recycle
Print ["Inital Stats: " (stats / (1024 * 2))]

times: 1000000
x: []
Print ["After x creation: " (stats / (1024 * 2))]


dt [
	loop times [
		append x copy "aa"
	]
	Print ["After append x copy aa: "(stats / (1024 * 2))]

	

	loop times [
		remove x
	]
	Print ["After remove x: "(stats / (1024 * 2))]
]

recycle
Print ["After recycle: " (stats / (1024 * 2))]

unset 'x
recycle

Print ["After UNSET 'x and final recycle: " (stats / (1024 * 2))]
```





[22:03:21](#prTJhzlEC_JFA1Qg4Yx6fytp0AVj83XkTjbn6_NPiYA) <GiuseppeChillemi (GiuseppeChillemi)>:
There are the results:
```
Open Console to allocate memory
Inital Stats:  1473.56640625
After x creation:  1473.826171875
After append x copy aa:  16312.255859375
After remove x:  16312.455078125
After recycle:  5570.2109375
After final recycle:  5570.31640625
```


[22:05:43](#8pKGkjpvy8MKdENEiZE2Ywwbc4AowKUwB49n5mtzmBk) <GiuseppeChillemi (GiuseppeChillemi)>:
* I have this torture code for GC. It is a simple one, it appends 500.000 times a strings and removes it, again, 1.000.000 times.

```

Print "Open Console to allocate memory"

recycle
Print ["Inital Stats: " (stats / (1024 * 2))]

times: 1000000
x: []
Print ["After x creation: " (stats / (1024 * 2))]


dt [
	loop times [
		append x copy "aa"
	]
	Print ["After append x copy aa: "(stats / (1024 * 2))]

	

	loop times [
		remove x
	]
	Print ["After remove x: "(stats / (1024 * 2))]
]

recycle
Print ["After recycle: " (stats / (1024 * 2))]

unset 'x
recycle

Print ["After UNSET 'x and final recycle: " (stats / (1024 * 2))]
```

[22:15:46](#-oiVuqwfRTnal947Bn4tPBfjz3gkXDatfz2YnvpmWAE) <GiuseppeChillemi (GiuseppeChillemi)>:
* I have this torture code for GC. It is a simple one, it appends 500.000 times a strings and removes it, again, 1.000.000 times.

```

Print "Open Console to allocate memory"

GetStats: func [
	text [string!]
] [
	Print [Text " " to integer! (stats / (1024 * 2)) "MB"]
	
]

recycle
getstats "Inital Stats:"

times: 500000
x: []
getstats "After x creation:"


dt [
	loop times [
		append x copy "aa"
	]
	getstats  "After append x copy aa:"

	loop times [
		remove x
	]
	getstats "After remove x:"
]

recycle
getstats "After recycle:"

unset 'x
recycle
getstats "After UNSET 'x and final recycle:"

```

[22:16:11](#q9sMB_L_gqtOgOhsoOn3S8qsUwBBccb4eBPELFEQdUg) <GiuseppeChillemi (GiuseppeChillemi)>:
* There are the results:

```
Open Console to allocate memory
Inital Stats:   1473 MB
After x creation:   1474 MB
After append x copy aa:   16312 MB
After remove x:   16312 MB
After recycle:   5570 MB
After UNSET 'x and final recycle:   5570 MB
```

[22:16:20](#Ax8tDXnEtZxxUYX7zdkcLghctz5qBu5AqAJDgNI2Sp0) <GiuseppeChillemi (GiuseppeChillemi)>:
* I have this torture code for GC. It is a simple one, it appends 500.000 times a strings and removes it, again, 500.000 times.

```

Print "Open Console to allocate memory"

GetStats: func [
	text [string!]
] [
	Print [Text " " to integer! (stats / (1024 * 2)) "MB"]
	
]

recycle
getstats "Inital Stats:"

times: 500000
x: []
getstats "After x creation:"


dt [
	loop times [
		append x copy "aa"
	]
	getstats  "After append x copy aa:"

	loop times [
		remove x
	]
	getstats "After remove x:"
]

recycle
getstats "After recycle:"

unset 'x
recycle
getstats "After UNSET 'x and final recycle:"

```

[22:20:00](#aO-w0q2KJue9lLePCTIzAH8QQyBftCi6AQnLvyaW_tg) <GiuseppeChillemi (GiuseppeChillemi)>:
* I have this torture code for GC. It is a simple one, it appends 500.000 times a strings and removes it, again, 500.000 times.

```

Print "Open Console to allocate memory"

GetStats: func [
	text [string!]
] [
	Print [Text " " to integer! (stats / (1024 * 1024)) "MB"]
	
]

recycle
getstats "Inital Stats:"

times: 500000
x: []
getstats "After x creation:"


dt [
	loop times [
		append x copy "aa"
	]
	getstats  "After append x copy aa:"

	loop times [
		remove x
	]
	getstats "After remove x:"
]

recycle
getstats "After recycle:"

unset 'x
recycle
getstats "After UNSET 'x and final recycle:"

```

[22:29:30](#EwaXAWW1BydOOzZMzk99ZgyLwWJSMV10d2jH_GF5VDI) <GiuseppeChillemi (GiuseppeChillemi)>:
* There are the results:

```
Open Console to allocate memory

After opening Red 2 MB
Inital Stats:   2 MB
After x creation:   2 MB
0:00:00.0060008
After append x copy aa:   31 MB
0:00:00
After remove x:   31 MB
0:03:41.9366
After recycle:   10 MB
0:00:00.0035278
After UNSET 'x and final recycle:   10 MB
```

[22:30:41](#eqafSrMH7Jn3z_oM3QX0dIOi0ViH--c2KOwNiABPwg4) <GiuseppeChillemi (GiuseppeChillemi)>:
* I have this torture code for GC. It is a simple one, it appends 500.000 times a strings and removes it, again, 500.000 times.

```
Print "Open Console to allocate memory"

getstats "After opening Red"

GetStats: func [
	text [string!]
] [
	Print [Text " " to integer! (stats /  ((1024 * 1024))) "MB"]
]


recycle
getstats "Inital Stats:"

Print times: 500000

x: []
getstats "After x creation:"

probe dt [
	probe dt loop times [
		append x copy "aa"
	]
	getstats  "After append x copy aa:"

	probe dt loop times [
		remove x
	]
	getstats "After remove x:"
]

recycle
getstats "After recycle:"

unset 'x
probe dt [recycle]
getstats "After UNSET 'x and final recycle:"


```

[22:30:54](#A9JLb6z4JNyNDkv9Sk_Pvdj1VeAHlro9S6qv_l1HGik) <GiuseppeChillemi (GiuseppeChillemi)>:
(I have updated the code)

[22:31:15](#8vraB4mAtpMjb32CCo1LjJjjsIBdrKK8O54Y3xtacKA) <GiuseppeChillemi (GiuseppeChillemi)>:
Append is really fast but remove takes near 4 minutes

[22:34:18](#LGTy3dRQMfLhCtGl5wSOalXu5lt0CzgRTXGGVfCnkBk) <GiuseppeChillemi (GiuseppeChillemi)>:
* I have this torture code for GC. It is a simple one, it appends 500.000 times a strings and removes it, again, 500.000 times.

```

Print "Open Console to allocate memory"

GetStats: func [
	text [string!]
] [
	Print [Text " " to integer! (stats /  ((1024 * 1024))) "MB"]
]
getstats "After opening Red"

recycle
getstats "Inital Stats:"

Print times: 500000

x: []
getstats "After x creation:"


probe dt [
	probe dt loop times [
		append x copy "aa"
	]
	getstats  "After append x copy aa:"

	recycle/off

	probe dt loop times [
		remove x
	]
	getstats "After remove x:"
]

recycle
getstats "After recycle:"

unset 'x
probe dt [recycle]
getstats "After UNSET 'x and final recycle:"


```

[22:35:02](#XmJNwQS1xG_Fiibqobg4rIgJZzzuvVTRp55aCubI18A) <GiuseppeChillemi (GiuseppeChillemi)>:
* Append is really fast but remove takes nearly 4 minutes

[22:39:24](#grZBGA3ntCblw0--EOc_knaRyvreG6IB_mRLeMp6dmE) <GiuseppeChillemi (GiuseppeChillemi)>:
Also comment this:
```
	probe dt loop times [
		remove x
	]
	getstats "After remove x:"
```


[22:40:56](#f3krVNMFLqWaAqVtkdm9UQMmB7phqdlAq9Fq4MbaBG8) <GiuseppeChillemi (GiuseppeChillemi)>:
The final MB occupied are still 60MB, as unsetting the reference to the series does not free it. I imagine it is the `[]` after the inital set.

[22:42:19](#EtN_tULiub9VNSWJgWUvdYmV9xam1o3kb7YotHCGHRk) <GiuseppeChillemi (GiuseppeChillemi)>:
Yes, I was right, if I change `x: []` to `x: copy []` the size returns to 2MB

[22:44:06](#LRSYlgEP1DJUE52RL_OSN3SPHUsHEFrX7lzWQtjbXIo) <GiuseppeChillemi (GiuseppeChillemi)>:
So the problem is that on the version with `REMOVE` active, after having removed everything, the memory occupied after remove is `10MB` and remove takes about 4 Minutes

[22:44:54](#TDTewTm8yGKefiiDkzew8d2doZ9cDxHml4bjhkwswwY) <GiuseppeChillemi (GiuseppeChillemi)>:
* So the problem are: 
* the version with `REMOVE` active, after having removed everything, the memory occupied is `10MB` and not 2MB as start
* remove takes about 4 Minutes

[22:47:36](#YhoK1ezvF1suIzvSAKuFu-KbXTAlOtzaB8WIDCupQvA) <endo64>:
You `append` to the tail but `remove` from the head. Try change it to `take/last`, should be much faster.

[22:48:04](#jceqPX9Rn-NUAi0oqDDY1Lf5-hsUBlg6qUQfw-yQoPE) <endo64>:
And `dt` should take a block not the result of the loop.

[22:48:27](#F8PZ7LdCJZXxhFZQUcckQWNpV83-rkiM8AAmaePz0wE) <GiuseppeChillemi (GiuseppeChillemi)>:
Thanks, I have made a mistake

[22:48:28](#pG7HuIZXFal8KcbqLY1Mpa4Qv7ZDBNLJopPfvLeQrkQ) <endo64>:
`dt [loop ...]` instead of `dt loop [...]`, no?

[23:08:00](#R7E7lEIJ8-ONx_qDCYlM4_i3wSv9KpPJG365O0YyB3I) <GiuseppeChillemi (GiuseppeChillemi)>:
It is more than faster, it takes 1 second. While the opposite seems exponential. Removing from the head could become a disaster.

[23:13:01](#270D3PtjQ3QhnxhGubDQxr9iKcPSc3Kh45hUJgIfM-w) <GiuseppeChillemi (GiuseppeChillemi)>:
Ok, new verision here:

```
Print "Open Console to allocate memory"

GetStats: func [
	text [string!]
] [
	Print [Text " " to integer! (stats /  ((1024 * 1024))) "MB"]
]
getstats "After opening Red"

recycle
getstats "Inital Stats:"

times: 200000
Print ["Times: " times]

x: []; or copy []
;use copy [] to let recycler clear all the memory and not just something

getstats "After x creation:"


probe dt [
	probe dt [
			loop times [
			append x copy "aa"
		]
	]
	getstats  "After append x copy aa:"

	;recycle/off

	probe dt [
			loop times [
				remove x
				;remove back tail x
				;take/last x
		]
	]
	getstats "After remove x:"
]

recycle
getstats "After recycle:"

unset 'x
probe dt [recycle]
getstats "After UNSET 'x and final recycle:"


```

[23:14:13](#sGPmYSqxt50JpGy2-0MS4xzsKncKACfNUZDgq6eP1kc) <GiuseppeChillemi (GiuseppeChillemi)>:
Note:

use copy [] to let recycler clear the memory
without it, the occupied after <recycle>
remains allocated, never returning to the original size
as the block accompaning stuctures have grownt
but never freed 

Three version of the loop are possible uncommenting. (Remove is exponential)

[23:14:44](#nrm6jO49aAPMD_jWYBcbdYTQLo2uco3kNKyEv4BL26c) <GiuseppeChillemi (GiuseppeChillemi)>:
* Note:

use copy \[\] to let the GC clear the memory
without it, the occupied after \<recycle>
remains allocated, never returning to the original size
as the block accompaning stuctures have grownt
but never freed 

Three version of the loop are possible uncommenting. (Remove is exponential)

[23:26:43](#lcT4Yh3ehvWym_weL3o_vhIHYEO5PHZlTRy1dDwC5yI) <GiuseppeChillemi (GiuseppeChillemi)>:
* Ok, new verision here:
```
Print "Open Console to allocate memory"

GetStats: func [
	text [string!]
] [
	Print ["MEMORY: " Text " " to integer! (stats /  ((1024 * 1024))) "MB"]
]


dts: func [
	text [string!]
	bl [block!]
	/block
	/local
] [
	time: dt bl
	Print ["TIME: " Text either block [mold bl] [""] "took: " time/minutes/seconds]
]

getstats "After opening Red"

;--------
recycle
getstats "Inital Stats:"

times: 200000
Print ["Times: " times]

x: []; or copy []
;use copy [] to let recycler clear all the memory and not just something
getstats "After x creation:"


dts "Whole test" [
	dts "Append test" [
			loop times [
			append x copy "aa"
		]
	]
	getstats  "After append x copy aa:"

	;recycle/off

	dts "Remove test" [
			loop times [
				remove x
				;remove back tail x
				;take/last x
		]
	]
	getstats "After remove x:"
]

recycle
getstats "After recycle:"
clear x
unset 'x
dts "Last recycle" [recycle]
getstats "After UNSET 'x and final recycle:"
```

[23:32:10](#WMRyKs1tvksouRdBrxd3Rs1Bf_fOg7n0XCv69ZGwvX4) <GiuseppeChillemi (GiuseppeChillemi)>:
Lets summarize here:

* `x: []`; if you  unset this, theoccpied memory is not freed because a reference remains
* `x: []`; also, when empty Red size does not return to the original value after recycling. I suspect some accompaning structure has grown and it is not resized.
* `x: copy []`; clears everything
* `remove x` is exponential while `remove back tail x` takes less than 1 second. (Try with 100.000 and than 1.000.000 times, `remove x` will pass from 15 seconds to more than 20 minutes) 

[23:32:22](#gLK_uQbauXArW8rHpMwqa09CsVj0WPnfeZAfRuGeGrE) <GiuseppeChillemi (GiuseppeChillemi)>:
* Lets summarize here:

- `x: []`; if you  unset this, theoccupied memory is not freed because a reference remains
- `x: []`; also, when empty Red size does not return to the original value after recycling. I suspect some accompaning structure has grown and it is not resized.
- `x: copy []`; clears everything
- `remove x` is exponential while `remove back tail x` takes less than 1 second. (Try with 100.000 and than 1.000.000 times, `remove x` will pass from 15 seconds to more than 20 minutes)

[23:33:22](#y06m7RBBgzXALHRdLKBAHNp1l22r-mF4yEEd5ncozw4) <GiuseppeChillemi (GiuseppeChillemi)>:
* Lets summarize here:

- `x: []`; if you  unset this, theoccupied memory is not freed because a reference remains
- `x: []`; also, when empty, the memory occupie from Red does not return to the original value after recycling. I suspect some accompaning structures have grown and they are not resized.
- `x: copy []`; clears everything
- `remove x` is exponential while `remove back tail x` takes less than 1 second. (Try with 100.000 and than 1.000.000 times, `remove x` will pass from 15 seconds to more than 20 minutes)

[23:34:17](#wLzq90O2Tpv2-pjHQfA6hdSNmzP-ldVEK-VXA9Q-C48) <GiuseppeChillemi (GiuseppeChillemi)>:
* Lets summarize here:

- `x: []`; if you  unset this, theoccupied memory is not freed because a reference remains in the source
- `x: []`; also, when empty, the memory occupie from Red does not return to the original value after recycling. I suspect some accompaning structures have grown and they are not resized.
- `x: copy []`; clears everything on recycle because no reference in the source is present
- `remove x` is exponential while `remove back tail x` takes less than 1 second. (Try with 100.000 and than 1.000.000 times, `remove x` will pass from 15 seconds to more than 20 minutes)

[23:35:02](#RkvyCKN04vQj_mMP_wFV0dYrrDJ53RNtD2DvS8885dI) <GiuseppeChillemi (GiuseppeChillemi)>:
* Lets summarize here:

- `x: []`; if you  unset this, theoccupied memory is not totally freed during recycle because a reference remains in the source
- `x: []`; also, when empty, the memory occupie from Red does not return to the original value after recycling. I suspect some accompaning structures have grown and they are not resized.
- `x: copy []`; clears everything on recycle because no reference in the source is present
- `remove x` is exponential while `remove back tail x` takes less than 1 second. (Try with 100.000 and than 1.000.000 times, `remove x` will pass from 15 seconds to more than 20 minutes)

[23:35:22](#Udu5L6vYK22NAXddxjLCvxDNcyBUdHqBzug5peVbLXM) <GiuseppeChillemi (GiuseppeChillemi)>:
* Lets summarize here:

- `x: []`; if you  unset this, theoccupied memory is not totally freed during recycle because a reference remains in the source
- `x: []`; also, when empty, the memory occupied from Red does not return to the original value after recycling. I suspect some accompaning structures have grown and they are not resized.
- `x: copy []`; clears everything on recycle because no reference in the source is present
- `remove x` is exponential while `remove back tail x` takes less than 1 second. (Try with 100.000 and than 1.000.000 times, `remove x` will pass from 15 seconds to more than 20 minutes)

[23:39:49](#ltoxDEyytu9_CWgmNA5UKASDSgj3XWN5J1UlsYUVZo0) <GiuseppeChillemi (GiuseppeChillemi)>:
* Lets summarize here:

- `x: []`; if you recycle this, the allocated memory is not totally freed during because a reference remains in the source. Also, Red does not return to the original value after recycling. I suspect some accompaning structures have grown and they are not resized.
- `x: copy []`; clears everything on recycle because no reference in the source is present. Red RETURNS to the original value of allocated memory.
- `remove x` is exponential while `remove back tail x` takes less than 1 second. (Try with 100.000 and than 1.000.000 times, `remove x` will pass from 15 seconds to more than 20 minutes)

[23:41:09](#kW4o4iKPlgE6JuW80RPFLzs11k9TBYWzNZqi2do1qjo) <GiuseppeChillemi (GiuseppeChillemi)>:
* Ok, new version here:

```
Print "Open Console to allocate memory"

GetStats: func [
	text [string!]
] [
	Print ["MEMORY: " Text " " to integer! (stats /  ((1024 * 1024))) "MB"]
]


dts: func [
	text [string!]
	bl [block!]
	/block
	/local
] [
	time: dt bl
	Print ["TIME: " Text either block [mold bl] [""] "took: " time/minutes/seconds]
]

getstats "After opening Red"

;--------
recycle
getstats "Inital Stats:"

times: 200000
Print ["Times: " times]

x: []; or copy []
;use copy [] to let recycler clear all the memory and not just something
getstats "After x creation:"


dts "Whole test" [
	dts "Append test" [
			loop times [
			append x copy "aa"
		]
	]
	getstats  "After append x copy aa:"

	;recycle/off

	dts "Remove test" [
			loop times [
				remove x
				;remove back tail x
				;take/last x
		]
	]
	getstats "After remove x:"
]

recycle
getstats "After recycle:"
clear x
unset 'x
dts "Last recycle" [recycle]
getstats "After UNSET 'x and final recycle:"
```

## 13-Jan-2025

[0:20:09](#A1Xb7t9aEuZVdXjObvFdnTdp9GKHYUrUj9iISjJwauk) <hiiamboris>:
I see no bugs in your summary

[0:32:11](#InrwkfykRGuHpEbNnl8H_aGST855ja2g8gbJmw-F1-o) <GiuseppeChillemi (GiuseppeChillemi)>:
In fact, but I see 1 optimization on REMOVE at head. Also, I see a question to answer: why after RECYCLE when X: [] the memory lowers from 31 to 6MB instead of 2? Which internal structure has grown that remains after GC when empty? 

[0:32:36](#YVNT-psecehVlk4KNc5B9RX_IjIJX0G8abbZ9gxXK1Y) <GiuseppeChillemi (GiuseppeChillemi)>:
* In fact, but I see 1 optimization on REMOVE at head. Also, I see a question to answer: why after RECYCLE when X: [] the memory lowers from 31 to 6MB instead of 2? Which internal structure has grown that remains after GC when X is empty? 

[0:45:07](#yHOTP2X244X0Yc-Gv6feU2wt5yWJzWRQ_NlBzdZ2TM4) <hiiamboris>:
`x` has a series buffer attached to it. That buffer is never shortened, it can only be recycled.

[1:12:39](#4GxcNdoPemuIbPCTVJpHw9YTBkwgOxGlKLRwWIqwf2k) <GiuseppeChillemi (GiuseppeChillemi)>:
Ok, I will report only the extreme slowness of REMOVE on head and its esponential time. Just for future optimization

[1:12:57](#86uBrMNtnuvAQ4SfM7OYViMZ62ASRL2WFux14kO3IL4) <GiuseppeChillemi (GiuseppeChillemi)>:
Tomorrow I will try to torture the GC again

[14:52:48](#iNBsgaN9Our9icR1GXhD1eWptU3ElDkBWCD5dh_153g) <hiiamboris>:
No need in report what is known to everyone ;)

[14:56:07](#O3EN2PhLHQwpvg9BtDiXkp-Rw49BVxhgAQmvB-NlQwM) <hiiamboris>:
First implementations of series had some future head insertion optimization placeholders for that, but I think Nenad didn't find enough reasons to bother with it. Every optimization has a cost, and we have to weigh it against practical benefit.

[15:26:29](#Zc4keY2Rhot89kgEClPPgVy8SZCjzFgW77LSDSpzMtg) <GiuseppeChillemi (GiuseppeChillemi)>:
Here are some tests:

Seconds of `remove`s on head vs series size:

```
;33 sec 10.000/1.500.000
;20 sec 10.000/1.500.000
;11 sec 10.000/1.000.000
; 3 sec 10.000/500.000
;0.5 sec 10.000/100.000
```


[15:27:13](#phRblsakfCgJeS7f2KyPFlHs0_04Rwpfr0MfHqqNq3c) <GiuseppeChillemi (GiuseppeChillemi)>:
* Here are some tests:

Seconds of `remove`s on head vs series size:

```
;33 sec 10.000/2.000.000
;20 sec 10.000/1.500.000
;11 sec 10.000/1.000.000
; 3 sec 10.000/500.000
;0.5 sec 10.000/100.000
```

[15:32:09](#7fzQU_x-4wMDZt0eqnleb3r7aa7xxIs0zZP0y00KwLQ) <GiuseppeChillemi (GiuseppeChillemi)>:
But `repeat/part series 10.000` on 2.000.000 element` took just:

`0:00:00.0033997`

It is not the deletion but the recalculation of some specific structure. I think that some pointer to "holes" in the series and later recalculation could be a solution, than recalculating after each delete

[15:32:24](#wgH6Xj9pkVn1T-fqN7MTPjiwuXnt58mBwfsY0VLPZIw) <GiuseppeChillemi (GiuseppeChillemi)>:
* But `repeat/part series 10.000` on `2.000.000` element took just:

`0:00:00.0033997`

It is not the deletion but the recalculation of some specific structure. I think that some pointer to "holes" in the series and later recalculation could be a solution, than recalculating after each delete

[15:34:27](#ushJ_H-s1u8V5YGGuyi_GjslNcevPsFfGs3iK3ptzlY) <hiiamboris>:
> It is not the deletion but the recalculation of some specific structure

Can you show that to us? :)

[15:40:53](#z4g_tLf0daVrF2kh_AJNCENj1eJJoGs3zbKHnW4VbWM) <GiuseppeChillemi (GiuseppeChillemi)>:
I have not seen it specificall but I can figure it there. If you give me some pointer to the source to the operations done after deleting, I could answer to this question. There is clearly a `delete + after-deletion-operations-on-the-series` that are far more time consuming that the single deletion itself. That `after-deletion-operation` becomes significant on big series and could be avoided with a bookeping of "holes" and periodical recalculation.

[15:41:29](#PJY9RFnpvo_XCt7JF2tLXe439IT4cDIf9Qg1pz0ynPU) <GiuseppeChillemi (GiuseppeChillemi)>:
* I have not seen it specificall but I can figure it there. If you give me some pointer to the source to the operations done after deleting, I could answer to this question. There is clearly a `delete + after-deletion-operations-on-the-series`, where the latter is far more time consuming that the single deletion itself. That `after-deletion-operation` becomes significant on big series and could be avoided with a bookeping of "holes" and periodical recalculation.

[15:42:20](#CKvLMB_g53H7U4pD4UyTjqts0xDq-7KpZMrEXcNNzHM) <GiuseppeChillemi (GiuseppeChillemi)>:
(so you recalculate 1 instead of 10.000 times)

[15:42:26](#j5vpY1H3uJOcSWfDHV6bPmZgDis8Tzu8z8mkUfKpSCE) <hiiamboris>:
You can mock up this new series model on a mezz level, and see where that leads you.

[15:43:24](#grTWp9-gbqBFwvr_RESWMg7R-yqe5dLk2g2mGBT6Ryc) <GiuseppeChillemi (GiuseppeChillemi)>:
I have 0 knoledge of the structure and where it is located on the source its management. If it is only contained into the datatypes actions files or elsewhere too.

[15:43:55](#Si30fK_epWb1-USZ4Ac8jzcqxy1ZnnUJUQhIwK3Z1XQ) <GiuseppeChillemi (GiuseppeChillemi)>:
* I have 0 knoledge of the structure and where it is located on the source its management. If it is only contained into the datatypes actions files or elsewhere too. Do you know?

[15:45:05](#bUHGpkgjxi0AluPhnDhQNs0xpF2tWFtSBfbpCUJV5uE) <hiiamboris>:
Yes, it's in the `runtime/datatypes`, but that's not the point. You don't need to know the current implementation details to mock up your own.

[15:46:19](#uY9501NEkqjIkzSr6nKtiQs7RVKJ68LXV4_mCENb3VE) <hiiamboris>:
* Yes, it's in the `runtime/datatypes` and bits in the `%allocator.reds` and `%structured.reds`, but that's not the point. You don't need to know the current implementation details to mock up your own.

[16:06:48](#6qqu_uDm6i1p4O8vNjiTVi_cbByI5b6ZTo94MuX_OfM) <GiuseppeChillemi (GiuseppeChillemi)>:
Instantly, a simple check on an array of holes of the series:

```
holes: [
    50 500
    1500 15000
    30000 50000
    1 10
    5 5
    1350 1350
]
```
At each deletion, simply bookeep that position of the deletion like
```
```
removed: [
   1500
   1501
   1502

 30001
 30002

          1
        10
```

On the first operation on the series, which is not a removal, consolidate the removed bookmarks in `holes` and perform a `remove/part`. On inserts, simply shift upward or downards the holes. When accessing the series, check the those 2 structures to change recalculated the requested one,  


[16:07:07](#4IaksmVjxVs_3t_TZwaR0GJqEHalkCetQUKhX5kQnSk) <GiuseppeChillemi (GiuseppeChillemi)>:
* Instantly, a simple check on an array of holes of the series:

```
holes: [
    50 500
    1500 15000
    30000 50000
    1 10
    5 5
    1350 1350
]
```

At each deletion, simply bookeep that position of the deletion like

removed: \[
1500
1501
1502

30001
30002
      1
    10
]
```
On the first operation on the series, which is not a removal, consolidate the removed bookmarks in `holes` and perform a `remove/part`. On inserts, simply shift upward or downards the holes. When accessing the series, check the those 2 structures to change recalculated the requested one,  
```

[16:07:46](#TMtZVKOLN0O-NGhNZPx7YsO1KjNABOTVKtxrCirsCDQ) <GiuseppeChillemi (GiuseppeChillemi)>:
* Instantly, a simple check on an array of holes of the series:

```
holes: [
    50 500
    1500 15000
    30000 50000
    1 10
    5 5
    1350 1350
]
```

At each deletion, simply bookeep that position of the deletion like
```
removed: [
   1500
  1501
  1502

  30001
  30002
  1
  10
]
```
On the first operation on the series, which is not a removal, consolidate the removed bookmarks in `holes` and perform a `remove/part`. On inserts, simply shift upward or downards the holes. When accessing the series, check the those 2 structures to change recalculated the requested one,  
```

[16:07:59](#4Hj5OQ5mrEYzkWEWKgfM2K5Nhg6GaVJJ0SI3_1BLxw4) <GiuseppeChillemi (GiuseppeChillemi)>:
* Instantly, a simple check on an array of holes of the series:

```
holes: [
    50 500
    1500 15000
    30000 50000
    1 10
    5 5
    1350 1350
]
```

At each deletion, simply bookeep that position of the deletion like

```
removed: [
   1500
  1501
  1502

  30001
  30002
  1
  10
]
```

On the first operation on the series, which is not a removal, consolidate the removed bookmarks in `holes` and perform a `remove/part`. On inserts, simply shift upward or downards the holes. When accessing the series, check the those 2 structures to change recalculated the requested one.

[16:08:09](#N-VQi7z6062FYvsQ5Q_4IADeToT6rBCRXCyXuJeTO9I) <GiuseppeChillemi (GiuseppeChillemi)>:
Pardon, corrected the message.

[16:15:59](#-EG4z2KDD4Ir4OS7yUhzs9PGNzNA2uVF30SO9qQdXKA) <GiuseppeChillemi (GiuseppeChillemi)>:
I need some informations: do we have a pointer to the position of the sigle elements of the series? Are they are chained and the whole chain must be walked down from the head? Is the series partitioned in range groups? 

[16:55:32](#ePK_3Iia7a7RogBS8GvMC4FBXOrM18K4QnA0shXBe-U) <hiiamboris>:
Can't wait to see your implementation :)

[16:57:28](#9_eRasAdLlUTgAym2LUFoy0wC2UiK7jUioP-e_H1jjw) <hiiamboris>:
All series currently implemented are [arrays](https://en.wikipedia.org/wiki/Array_(data_structure))

[17:03:04](#dBdjIy-LN6yMk6fOzHhD1aLDnhZy8r8N0aO32zUTP2w) <GiuseppeChillemi (GiuseppeChillemi)>:
The idea is al in the previous years: have one and when you have the knowledge of the language implement it. It will take times but I will be there

[17:30:26](#4JOJwTG95Qw5ZFjm3tyct5DA-mp53Hs70-znD5hWTbA) <GiuseppeChillemi (GiuseppeChillemi)>:
* The idea is as in the previous years: have one and when you have the knowledge of the language implement it. It will take times but I will be there

[20:39:07](#e91LxdULPmpCkBRvoTp2Raow8LsBgbKNwMOqdQ9Eru8) <greggirwin (Gregg Irwin)>:
GiuseppeChillemi (GiuseppeChillemi): you may recall that R2 has a `list!` type, which is a linked list. It makes different tradeoffs. Red didn't carry that type forward, because it proved to be more trouble than it was worth in R2. At least for me, the slight behavior differences from blocks always tripped me up.

For me, optimizing this case for blocks is an extremely low priority right now.

[20:49:02](#hWhrKW_H3Yfyboo1NbTLVzRRCW7SkejPS3_e-HnFw98) <GiuseppeChillemi (GiuseppeChillemi)>:
For me too, the priority are others

[20:49:41](#t4B170WgBenNBWBtdOSr06svXWxpfN6LS62LSRFUcvU) <GiuseppeChillemi (GiuseppeChillemi)>:
And no, I didn't remember LIST!

[21:32:36](#vcTP9QrJZ10HJpS1n0jnjLay73Wr8QNV7sNgTz5w8TE) <GiuseppeChillemi (GiuseppeChillemi)>:
I don't think it is correct:

```
== func [/local y][probe 22]
>> f/y
22
== 22
```

It shoud generate an error

[21:38:14](#PcUBkjsRjCxWazAp5nWTeSZ8HoRf4H9dh8Qq7Bxpagk) <greggirwin (Gregg Irwin)>:
Agreed.

[21:38:49](#b7NlAMp6a8KvtVBh_AHlENKkvag7CPImXDzjbjqOW6Q) <greggirwin (Gregg Irwin)>:
It's a regression.

[21:41:58](#Hw1lJ0wRcNSmfYhJVjKNld-G_yUJzlFFGIMw9iaQ-pE) <greggirwin (Gregg Irwin)>:
Looks like from a couple years ago, at a quick test of old binaries. Please file a ticket.

## 14-Jan-2025

[20:50:36](#z-zih5Q4PnPyqA6Tg0idW7Ek1VvEzm-ANiJ1ju643dE) <GiuseppeChillemi (GiuseppeChillemi)>:
Show has an invalid function specs:

[20:51:15](#r5Sf_1mHAo3iLhrb53ZTkRRVhZpWeoMtf-sjVolh1Wo) <GiuseppeChillemi (GiuseppeChillemi)>:
```
[
    "Display a new face or update it" 
    face [object! block!] "Face object to display" 
    /with "Link the face to a parent face" 
    parent [object!] "Parent face to link to" 
    /force "For internal use only!" 
    return: [logic!] "true if success" 
    /local show? f pending owner word target action new index part state obj new? p field pane
]
```

[20:51:54](#VZDjIrZCwjKJyS7z1SX_QhODKKwW__bvwY4dRmfVL_U) <GiuseppeChillemi (GiuseppeChillemi)>:
`return:` is before `/local` but it should be after everything

[20:52:27](#enqAHcvH_k-5hiwHNQxk_QJaGXMEAyjhjYfb8XXuCVk) <GiuseppeChillemi (GiuseppeChillemi)>:
If you try to use before recreating a function you get an error but here it works

[21:15:35](#0Peyq5AONSSEBJUcGV4MRsdNHcgTznDkzC2cFXXwK1g) <GiuseppeChillemi (GiuseppeChillemi)>:
Problem2:

```
> w: words-of system/words forall w [f: get/any probe :w/1 if any-function? :f []]
```
This code fails on `symbol!`, it reports it as unset!. But there is `get/any`!

[21:16:08](#d8Y9wyi1OKDZELX9CA5ZzZj5QoS5_ko1m6oy2Wsp2JQ) <GiuseppeChillemi (GiuseppeChillemi)>:
* Problem2:

```
> w: words-of system/words 
forall w [
   f: get/any probe :w/1 
    if any-function? :f []
]
```

This code fails on `symbol!`, it reports it as unset!. But there is `get/any`!

[21:16:16](#w4NWBYTGhBG38Fr4x1C-t_tCiTcQ6AZsXAklVwDc2tg) <GiuseppeChillemi (GiuseppeChillemi)>:
* Problem2:

```
> w: words-of system/words 
forall w [
   f: get/any probe :w/1 
   if any-function? :f []
]
```

This code fails on `symbol!`, it reports it as unset!. But there is `get/any`!

[21:29:16](#_ioMjG_x8La_0w91llcN6skvtUuB4WM5dyASLtYf1Ps) <GiuseppeChillemi (GiuseppeChillemi)>:
This code show every word that generate this error in `get/any`
```
w: words-of system/words
forall w [
   if error? try [f: get/any :w/1] [Print ["error in word: " first w]]
]
```

[22:03:17](#uDp3FtGXdXXhpaBccbYqqw9a_UrioxZngOb_f188108) <gurzgri>:
GiuseppeChillemi (GiuseppeChillemi) You can't set a word to `unset!` using set-word syntax, try `set/any 'f get/any w/1`.

[22:04:06](#muMy4cfMO9xDli3OyfCk6Pz9HZ_N1JSCmOCVO0psRlc) <GiuseppeChillemi (GiuseppeChillemi)>:
Thanks, I thought the problem was on getting

[22:04:17](#JtVehtEoGDn2aLqb_gITHm05EC7u9qUk6VK08pkwGwA) <GiuseppeChillemi (GiuseppeChillemi)>:
I have totally forgot this

[22:04:38](#Q1fe4uwsAmmul0V9lxDowO_wP4Ku0P_WLu6l7Agqa90) <GiuseppeChillemi (GiuseppeChillemi)>:
So it remains the first one

[22:04:49](#hei_Xicibi2wrPMGozMOTSNIXe7F2AZ8y27FSG1oFys) <GiuseppeChillemi (GiuseppeChillemi)>:
* So remains the first one

[22:05:24](#tq9TzDWQoAMjzKKthVRaCcucsF3jb89sqEL3DVVy958) <gurzgri>:
Re-read the error message `*** Script Error: f: needs a value` í ½í¸‰ 

[22:06:00](#ySFd8M0oKYsrfoi5KSDaef1gW_nAxq9LDna84a7mNvo) <GiuseppeChillemi (GiuseppeChillemi)>:
In fact í ½í¸…

[22:07:38](#F2nSF4AhoUZmCW3krb2UFnaSh7eYYOOOPDm-0dPqKmM) <GiuseppeChillemi (GiuseppeChillemi)>:
I have already used this syntax buy this evening it has totally disappeared from my mind. Maybe I am too tired

[22:14:13](#6Y6pIeiWegZWWhQFNxGSNInDp8KZO6883hQLaF6DRuI) <gurzgri>:
So, what's wrong with `show`?

```
>> f: function [return: [integer!] /local i] [1]
== func [return: [integer!] /local i][1]
>> g: function [/local i return: [integer!]] [1]
*** Script Error: invalid function definition: [/local i return: [integer!]]
*** Where: function
*** Near : g: function [/local i return: [integer!]]

>> f': func [return: [integer!] /local i] [1]
== func [return: [integer!] /local i][1]
>> g': func [/local i return: [integer!]] [1]
*** Script Error: invalid function definition: [/local i return: [integer!]]
```

Declaring `return:` *after* `/local` is invalid, isn't it? Makes sense to me, `return:` is part of the "public" spec, `/local` is to be considered "private" sepc ...

[22:14:35](#nMs2MAV5bbg5dQdXlZlDI2glk30GjeLOP1bptFG22PI) <gurzgri>:
* So, what's wrong with `show`?

```
>> f: function [return: [integer!] /local i] [1]
== func [return: [integer!] /local i][1]
>> g: function [/local i return: [integer!]] [1]
*** Script Error: invalid function definition: [/local i return: [integer!]]

>> f': func [return: [integer!] /local i] [1]
== func [return: [integer!] /local i][1]
>> g': func [/local i return: [integer!]] [1]
*** Script Error: invalid function definition: [/local i return: [integer!]]
```

Declaring `return:` _after_ `/local` is invalid, isn't it? Makes sense to me, `return:` is part of the "public" spec, `/local` is to be considered "private" sepc ...

[22:17:33](#a08hUeuwlO7r9ARe-Tu-AAXTat4nxMlMXTjkSxUElXY) <GiuseppeChillemi (GiuseppeChillemi)>:
* So, what's wrong with `show`?

```
>> f: function [return: [integer!] /local i] [1]
== func [return: [integer!] /local i][1]
>> g: function [/local i return: [integer!]] [1]
*** Script Error: invalid function definition: [/local i return: [integer!]]

>> f': func [return: [integer!] /local i] [1]
== func [return: [integer!] /local i][1]
>> g': func [/local i return: [integer!]] [1]
*** Script Error: invalid function definition: [/local i return: [integer!]]
```

Declaring `return:` _after_ `/local` is invalid, isn't it? Makes sense to me, `return:` is part of the "public" spec, `/local` is to be considered "private" sepc ...

[23:09:14](#bImd7a7TvZ8Z5l459K8inRZIVZc-1ecdUxRWLkWH7F8) <GiuseppeChillemi (GiuseppeChillemi)>:
I have never used return in specs but I remember it must be used as last. Wrong, I must redo this rule in pmy specs parsers

[23:41:37](#axJ5OW4_EBitmLsTYuprR1M0-ZL8coMx1hjUA2ehYAw) <GiuseppeChillemi (GiuseppeChillemi)>:
During the testing of the new parse, a bug has been found:

```
func [return: [integer!] "" return: [integer!] "" /local i][1]
```
This is a "valid" invalid specs

[23:41:53](#xaaUx74sMEuBL9fXIIfWi5CU6JrIEBxIx3WIinoKuuw) <GiuseppeChillemi (GiuseppeChillemi)>:
```
func [return: [integer!] return: [integer!] /local i][1]
```


[23:42:09](#BVCfpX0cbFwL-oRuRRoZhAkupQTrjHIDLniMw0qFRwU) <GiuseppeChillemi (GiuseppeChillemi)>:
This is not

[23:42:24](#JgLwLUr_XzwX28syZzREtPcca4Ic8vJ_5v-mol7iLv8) <GiuseppeChillemi (GiuseppeChillemi)>:
Having strings makes it valid

[23:54:33](#hChv_w0bgWNek7p6uAX9dm58aVaWsqLlSGmGNi3COTA) <GiuseppeChillemi (GiuseppeChillemi)>:
More exactly, if the first one has string, it doesn't cause the error.

[23:54:51](#AnnMJ5HjgaPIe8S0icioFs49NN5_5fAhklvTtOgIMUA) <GiuseppeChillemi (GiuseppeChillemi)>:
I have already written the bug report as this time I have no doubts

## 15-Jan-2025

[0:18:17](#tXNkz9yu6CxWA3NjfPX10AU4REzYNokFhypurx1W1c4) <GiuseppeChillemi (GiuseppeChillemi)>:
* I have already written the bug report as this time I have no doubts
(FYI: the now I have parse the whole `system` context without any issue)

[1:28:46](#0pfKgYXeJGR9BKlOxV9t0ayW1lpeFGL33-eESg5OSA8) <GiuseppeChillemi (GiuseppeChillemi)>:
* I have already written the bug report as this time I have no doubts

(FYI: the now I have parsed the whole system context without any issue)

[16:06:47](#o-xnQ4Gv8nzG6Bsn-5Gu2nPlK7isVLaNUDTOqI0Ujsw) <hiiamboris>:
Â¯\\\_(ãƒ„)\_/Â¯ this is actually a new fashion of function specs: arguments, refinements, returns, then locals

[16:06:58](#CgWDA4h-chGezei2vLJXYNm4_SOsqi327Fl1EZLsoRI) <hiiamboris>:
by design

## 16-Jan-2025

[2:43:06](#zo2fqJ55OPAm4BBwqTQ1za_W8vDGJPsBDYRCtGyo8pQ) <pekr (Petr Krenzelok) (@pekr:matrix.org)>:
I would expect return being at the very bottom of the function spec. Locals are defined via a refinement, as some other arguments. I consider return value being something special, like defining catch, throw, etc. From the execution point of view, returning value is the last thing which happens in function anyway?

[6:14:27](#HlFE8mfBb0A94xeolgkBgG2ilZkctVcJsOMcs1EGxnc) <hiiamboris>:
pekr (Petr Krenzelok) I also prefer that

[8:24:43](#qtU9lguotJBL1rzy5o7i-6IvzOJhPfTlYAo0Aawgkj8) <GiuseppeChillemi (GiuseppeChillemi)>:
+1 for me, the position if more natural.

[22:02:58](#fU1HY71mj7eqj30UtF2Ooxt4V5krtBcm7-rFYMhrohE) <greggirwin (Gregg Irwin)>:
However, `return` is part of the *public* spec of a func, like params, while `/local` is not.

And while the default is to return the last evaluation, early exits exist as well.

[22:03:15](#YfPc6SDAt8W5afxgLHPSsXbOXC-N_xUIjytIgpMPZLg) <greggirwin (Gregg Irwin)>:
Just to say there's no perfect answer here.

[22:14:30](#BceVLzTAtr_jYH7iI2fbu3cZ6bKsENcCBnJ2JrCnRuY) <GiuseppeChillemi (GiuseppeChillemi)>:
It is a metter of mental grouping

[22:15:27](#MNRXpNIUfNlDTlTSkP11DACT6npX4xm3MJi3wGHE6R4) <GiuseppeChillemi (GiuseppeChillemi)>:
You divite in section: "args/locals/last" or "public/private" 

[22:15:43](#3q0kuESj0lVN2WXaV276CoWfW9raDUWi9hAxPMehMNA) <GiuseppeChillemi (GiuseppeChillemi)>:
* You may divite in section: "args/locals/last" or "public/private" 

[22:21:27](#NtvPJCwMx-hD70m_XPWSP5DSZghGpxgy8w4MjSpDPdo) <greggirwin (Gregg Irwin)>:
Yes.

[22:56:41](#_meywBV09cL7L_5WbvNGBmJ3Y-8hOsy-36anlgE7-oE) <GiuseppeChillemi (GiuseppeChillemi)>:
* You may divite in sections: "args/locals/last" or "public/private" 

## 22-Jan-2025

[13:10:37](#gc05utTQSSMvdEumW67h1id012hA77GP-DuywMvLbcs) <GiuseppeChillemi (GiuseppeChillemi)>:
This crashes Red with no warning:

```
times: 1000000
recycle/off
proto: [a: 22 b: 33 c: 44 d: 55 e: 66 f: none h: "hello world"]
probe (stats / (1024 * 1024))
probe dt [loop times [x: make object! proto]]
probe (stats / (1024 * 1024))
probe dt [loop times [y: make object! x]]
probe (stats / (1024 * 1024))
probe dt [loop times [z: copy x]]
probe (stats / (1024 * 1024))
```

I expected an "out of memory" error.

[13:11:04](#z_mSevkXJD6Wk6GaCxalKVlNE724i7SaLhute488dEM) <GiuseppeChillemi (GiuseppeChillemi)>:
(change times to see memory consumption at each magnitude)

[13:11:11](#Nwxks2ja7y-nB06EEv0hPs06E6jweXAlL2PUZOE2TWY) <GiuseppeChillemi (GiuseppeChillemi)>:
* (change `times` to see memory consumption at each magnitude)

[13:22:48](#A1GxgDUM2b4JmpPZIJpsn9HySvdpWZN3uaveQNFVHeY) <GiuseppeChillemi (GiuseppeChillemi)>:
This is a version with recycling triggered manually:

```
times: 1000000
recycle/off
proto: [a: 22 b: 33 c: 44 d: 55 e: 66 f: none h: "hello world"]
probe (stats / (1024 * 1024))
probe dt [loop times [x: make object! proto]]
probe (stats / (1024 * 1024))
recycle
probe dt [loop times [y: make object! x]]
probe (stats / (1024 * 1024))
recycle
probe dt [loop times [z: copy x]]
probe (stats / (1024 * 1024))
recycle
```
The above one is really a pain for the old garbage collector. It takes up to 1 minute PER ROUND to free the memory. About 3 minutes for the whole test. Instead the new one completes the test in less than 10 seconds, including freeing memory.


The timing and size of the test are comparable:

OLD
```
24.706321716308594
0:00:03.57985
1806.1708908081055
0:00:02.5024
1802.304801940918
0:00:01.36452
1523.8335189819336
```

NEW:
```
2.917217254638672
0:00:03.46496
1784.381935119629
0:00:02.17799
1784.3417778015137
0:00:01.43891
1505.8704948425293
```


[13:23:13](#JuQnLxloKH0vfV_2NPAT2YJFqZd81IHnvc8lt0yneHw) <GiuseppeChillemi (GiuseppeChillemi)>:
* This is a version with recycling triggered manually:

```
times: 1000000
recycle/off
proto: [a: 22 b: 33 c: 44 d: 55 e: 66 f: none h: "hello world"]
probe (stats / (1024 * 1024))
probe dt [loop times [x: make object! proto]]
probe (stats / (1024 * 1024))
recycle
probe dt [loop times [y: make object! x]]
probe (stats / (1024 * 1024))
recycle
probe dt [loop times [z: copy x]]
probe (stats / (1024 * 1024))
recycle
```

The above one is really a pain for the old garbage collector. It takes up to 1 minute PER ROUND to free the memory. About 3 minutes for the whole test. Instead the new one completes the test in less than 10 seconds, including freeing memory.

The timing and size of the test are comparable:

OLD:

```
24.706321716308594
0:00:03.57985
1806.1708908081055
0:00:02.5024
1802.304801940918
0:00:01.36452
1523.8335189819336
```

NEW:

```
2.917217254638672
0:00:03.46496
1784.381935119629
0:00:02.17799
1784.3417778015137
0:00:01.43891
1505.8704948425293
```

[13:23:57](#r32A4LKzGP-9nVW3RvzaYuIqeP0ovHrbzs4RHwbAxsE) <GiuseppeChillemi (GiuseppeChillemi)>:
* This is a version with recycling triggered manually:

```
times: 1000000
recycle/off
proto: [a: 22 b: 33 c: 44 d: 55 e: 66 f: none h: "hello world"]
probe (stats / (1024 * 1024))
probe dt [loop times [x: make object! proto]]
probe (stats / (1024 * 1024))
recycle
probe dt [loop times [y: make object! x]]
probe (stats / (1024 * 1024))
recycle
probe dt [loop times [z: copy x]]
probe (stats / (1024 * 1024))
recycle
```

This test is really a pain for the old garbage collector. It takes up to 1 minute PER ROUND to free the memory. About 3 minutes for the whole test. Instead the new one completes the test in less than 10 seconds, including freeing memory.

The timing and size of the test are comparable:

OLD:

```
24.706321716308594
0:00:03.57985
1806.1708908081055
0:00:02.5024
1802.304801940918
0:00:01.36452
1523.8335189819336
```

NEW:

```
2.917217254638672
0:00:03.46496
1784.381935119629
0:00:02.17799
1784.3417778015137
0:00:01.43891
1505.8704948425293
```

[13:46:45](#FwYKdFLNh9CaJLW0t1OySoOgotWGGnbEK1WS7_XAnbM) <GiuseppeChillemi (GiuseppeChillemi)>:
Note: I was trying to understand what is faster in Red when creating objects. It resulted the fastest thing is to copy them.

[13:53:38](#1Wuwkta2-pjjbhT_uY_fnGmRbFHptJ1xUSBeOP9ZMto) <GiuseppeChillemi (GiuseppeChillemi)>:
For your curiosity:

Old collector:
```
Memory before tests:  24
Test 1 took: 0:00:03.61875  Memory after test 1:  1806  Time for recycle: 0:01:07.71092
Test 2 took: 0:00:02.51721  Memory after test 2:  1802  Time for recycle: 0:01:05.84905
Test 3 took: 0:00:01.13201  Memory after test 3:  1523  Time for recycle: 0:00:47.7177
Final memory:  20
```

New collector:

```
Memory before tests:  2
Test 1 took: 0:00:03.22002  Memory after test 1:  1784  Time for recycle: 0:00:00.869138
Test 2 took: 0:00:01.94634  Memory after test 2:  1784  Time for recycle: 0:00:01.06958
Test 3 took: 0:00:01.50114  Memory after test 3:  1505  Time for recycle: 0:00:00.809776
Final memory:  2
```

[13:54:18](#2tfBhLg1fLJrWjm8ddBNI7DkaJHV7tbacmbAXEoY69A) <GiuseppeChillemi (GiuseppeChillemi)>:
Look at the far right: from 1 minute to 1 second.

[13:54:58](#iUvQPpNEUv1Cgn0W-SV3k6UPynAcR9I-SKRvJ7K49tk) <GiuseppeChillemi (GiuseppeChillemi)>:
Also I see here that startup memory has really been lowered!

[14:27:14](#lSXnW2H6XTyRWKNg52p8FMOZWCWAie19VQFaYQ8nNuc) <hiiamboris>:
I can't reproduce the crash using your scripts (ran ~5 times each)

[14:27:32](#sD7zB6MBpqaKIgVY8rpTLvySQ3CmKr9xZvfoB5sF76I) <hiiamboris>:
`Red 0.6.5 for Windows built 9-Jan-2025/2:04:14+08:00  commit #e3c5381`

[14:40:50](#-tDs31QQZvo1Uicoev2O1x5DiSC5rXS2qo4rCs2GhKM) <GiuseppeChillemi (GiuseppeChillemi)>:
hiiamboris: Try to increase to 4000000, to be sure you eat all 32 bit memory

[14:41:05](#kptAXUxAdomtB2CulRqSpXxE37jkhpLmTlcX5bLoS0M) <GiuseppeChillemi (GiuseppeChillemi)>:
Maybe my system has not enough large memory chunks

[15:26:59](#eq4AptOQcMUUpLaUYhpu68lagVlWLHDeAmSk5wWpPng) <hiiamboris>:
But I see the error:
```
2.513477325439453
0:00:06.28478
1783.9778327941895
0:00:04.52027
3565.441593170166
*** Internal Error: not enough memory
*** Where: copy
*** Near : z: copy x
*** Stack: probe dt
```

[15:27:20](#H9Nl95_8e5DdkDpbnXac5zp7SLhWMVdQhoteS12GJk8) <hiiamboris>:
Also if I'm using the GUI console, it gets black and unresponsive.

[15:43:12](#aoON0MvPE-q3YEzBL-S_jpnqArbCZQpNtG1BoHUIF8o) <GiuseppeChillemi (GiuseppeChillemi)>:
Here, windows 11, it closes on both new and old GC Red

[15:43:19](#03IE3Omj_yOlML5WriWkvUBETzH8xT7GgOfkXAYNNl4) <GiuseppeChillemi (GiuseppeChillemi)>:
Let see what the other say

[15:43:29](#CZvt0bgjm4p3JLTSldh2T9LEasMYZIx2wQcHkctmc_E) <GiuseppeChillemi (GiuseppeChillemi)>:
* Lets see what the other say

[16:32:38](#-Nw3yBu0FS5Ku9IqxXSWrP9dO-I8iDdV7c9HC0CJP_A) <Oldes (@oldes.h:matrix.org)>:
![](https://matrix-client.matrix.org/_matrix/media/v3/download/matrix.org/gBzRnMTcSsjcPbdYRCRBiOWv)

[16:32:40](#2_4-9BQdHFbjpLBzUEwD2N1TG-NKo-B_kvKWLPDAQRs) <Oldes (@oldes.h:matrix.org)>:
GiuseppeChillemi (GiuseppeChillemi): I don't know how it is in Red, but using `recycle/off` may not be a good idea... here are stats after running first part of your test with `recycle/on` and `/off`


[19:54:57](#hvJhmkneXj4OdsdSzS5PGTqRoijB9qvR61GPTrjtkuA) <GiuseppeChillemi (GiuseppeChillemi)>:
Without `recycle/off`, in the old version of Red, it would take hours to complete, because of the slow memory freeing triggered multiple times during the test.

[19:57:22](#QGdHjpPfhBHIEsLjQzlv7pPNdVuweGHGk0A4DwiXI7Y) <GiuseppeChillemi (GiuseppeChillemi)>:
`Recycle/off` is also used to not have interferences with the completition time of the test and, at the same time, put pressure on the interpreter because of lack of resources.

[20:12:13](#wf3jP6D24eJtYViDWuLoBv3aGZTPKFpUgSQeW2dxwYg) <Oldes (@oldes.h:matrix.org)>:
![https://matrix-client.matrix.org/_matrix/media/v3/download/matrix.org/NcqQxgvcwvWdbbephTSBIUzT](https://matrix-client.matrix.org/_matrix/media/v3/download/matrix.org/vpXHATIoIkwHXIvWPwikFKZT)

[20:19:03](#NP-4ghQm7BOJippWT9PGOqAIOyXcQC8vCfqGNMtq5LA) <Oldes (@oldes.h:matrix.org)>:
Good thing with Red is, that it is able to free unused pools... such a feature is not implemented in Rebol.

[20:31:16](#a8Uc6-N1PKj5xTssm3K4BagiS8pVloYMs7K2FNOGjs8) <Oldes (@oldes.h:matrix.org)>:
(or maybe it is not using pools at all... again.. I didn't study its implementation and there was no official info)

[21:06:36](#b9HqqKHGFjLUm8NwCwGfFjMz_Q0X5LScBiBnW2_YD38) <GiuseppeChillemi (GiuseppeChillemi)>:
On the left is the new Garbage Collector, Isn't it?

[21:22:42](#qcOePrVX1fXrbNboA1oF_VXylsFafTrN_X8QsvE2UcM) <Oldes (@oldes.h:matrix.org)>:
yes

[21:29:09](#0qi35_kfacA79eyld6kDgmKaCuqYAvf9q1ui8vqciDQ) <Oldes (@oldes.h:matrix.org)>:
On my notebook it looks that the new Red version is slower.

[21:29:14](#q8kRZ6MrHZLY8-RO9lxOBDyFPnzfiMju86PYluKRv98) <Oldes (@oldes.h:matrix.org)>:
![https://matrix-client.matrix.org/_matrix/media/v3/download/matrix.org/kQEXIktRQsEczwVMIFSYOcZt](https://matrix-client.matrix.org/_matrix/media/v3/download/matrix.org/TLQmUrKEnncrjVyDImqUVitY)

[21:33:28](#sagk9hkDY1zaxIDhtkiKu6t2KYmCOt-YSt2joFRr7Yk) <Oldes (@oldes.h:matrix.org)>:
But my opinion is that such a test does not make much sense anyway.

[21:34:26](#7AhyyKHnWYNpVRnvZNQQVzXbf-dxbyxkc2sGBOqc4Kk) <GiuseppeChillemi (GiuseppeChillemi)>:
I have the same result, about 12-15%

[21:35:13](#0MGjRBr7mcxASswSEYO9WOmFQx3CjBN0CMONbR9UGr0) <GiuseppeChillemi (GiuseppeChillemi)>:
Your is bigger, I don't know why. Maybe cache difference?

[21:39:00](#UoZkWBLD9KeBN5jrUga1g9jjfng-znLLohjcJo_VV_Y) <Oldes (@oldes.h:matrix.org)>:
The new GC has much better speed of the `recycle` call (if you first turn it off).

[21:39:39](#sOmgkeMCvntm5dq8zhZWprW7fJRqiaEQb1_9vTNUWZM) <Oldes (@oldes.h:matrix.org)>:
![https://matrix-client.matrix.org/_matrix/media/v3/download/matrix.org/TZZUpLodgYAUOTIyZeSgenWG](https://matrix-client.matrix.org/_matrix/media/v3/download/matrix.org/lEnNwPUgHXIiPZKgMCHHOPpU)

[21:47:59](#yayBGDroQ26wxYZ1SIksrZdSf9CEvF1ZwqNWj9zVHLw) <GiuseppeChillemi (GiuseppeChillemi)>:
Here are my results, look at the right side

[22:32:04](#VmAYxvpuNU-fRPAdqXYxdzL5c_9a6SmDw33rn4EZfkI) <GiuseppeChillemi (GiuseppeChillemi)>:
For curiosity, I have tested the weight of a function interface:

```
>> val: 22 dt [loop 10000000 [a: val]]
== 0:00:01.35464
>> f: func [val][a: val] dt [loop 10000000 [f 22]]
== 0:00:03.3504
```
Setting data via an interface, the time is more than doubled.


[22:34:17](#KAwRyc-uLu6HnzHXNw0JorUNl3okqwvNix6gtdnRoGQ) <GiuseppeChillemi (GiuseppeChillemi)>:
I have similar results in Rebol3:
```
>> val: 22 dt [loop 10000000 [a: val]]
== 0:00:00.331215

>> f: func [val][a: val] dt [loop 10000000 [f 22]]
== 0:00:00.806699
```


[22:34:28](#HirSjZ-jHQy0Cdnw0sOSYocfvcguEYo2s2ydbucXt9M) <GiuseppeChillemi (GiuseppeChillemi)>:
I am cuorious about Ren/c

[22:34:36](#M4DDsldqt5OTN6mQwPTVHbmrnh6YNVGkGQg5JU-dOdo) <GiuseppeChillemi (GiuseppeChillemi)>:
* I am cuorious about Ren-c

[22:36:28](#T0_CdtcETuewOKhcESv4eGJHTAkcM5ZGx9-9y1kDcLw) <GiuseppeChillemi (GiuseppeChillemi)>:
* I have similar results in Rebol3:

```
>> val: 22 dt [loop 10000000 [a: val]]
== 0:00:00.331215

>> f: func [val][a: val] dt [loop 10000000 [f 22]]
== 0:00:00.806699
```
This is Rebol2:
```
>> val: 22 dt [loop 10000000 [a: val]]
== 0:00:00.451
>> f: func [val][a: val] dt [loop 10000000 [f 22]]
== 0:00:01.292
```

[22:37:46](#-ZXFWhP5grxlhBeJQq1XI29B7kE3QNEt62O7GEEQVo8) <GiuseppeChillemi (GiuseppeChillemi)>:
(Rebol3 is the winner here!)


## 30-Jan-2025

[19:35:16](#JAvIMg3Ja7cBfbgn8nwv37awIBUPBSddL8kjEh3ZM6w) <dsunanda>:
 100x40 * 100x50
 100x40 * 100x50 / 100x100
 100x41 * 100x51 
 100x41 * 100x51 / 100x100

What's going on here? (Very recent Red under Windows)
```
100x40 * 100x50
== 10000x2000          ;; CORRECT!

100x40 * 100x50 / 100x100
== 100x20              ;; CORRECT!

100x41 * 100x51 
== 10000x2091          ;; CORRECT!

100x41 * 100x51 / 100x100
== (1, 20.91)          ;; WRONG!
```
The first number in the point2D! is 1/100th of what it should be.

[19:45:55](#LQAv3QRnEG9t0MJv8DDyzsJ-bb9BitrW66csOsZUpmg) <dsunanda>:
* 
What's going on here? (Very recent Red under Windows)

```
100x40 * 100x50
== 10000x2000          ;; CORRECT!

100x40 * 100x50 / 100x100
== 100x20              ;; CORRECT!

100x41 * 100x51 
== 10000x2091          ;; CORRECT!

100x41 * 100x51 / 100x100
== (1, 20.91)          ;; WRONG!
```

The first number in the point2D! is 1/100th of what it should be.

[20:43:36](#K_KnFblNyhyWsMKIoDWdYXN8D65wD59TjkV_1qGr8AY) <GiuseppeChillemi (GiuseppeChillemi)>:
I remember having seen something regarding point2d in last months commits

[20:54:42](#gvTmNGZglhDdNIJjTQ9yhWO5LLrlL6dcQEpayLiiEgY) <dsunanda>:
There was a blog post 2024-08-09 about it. Generally, the point2d etc is a good idea, but it may be a little buggy

I generally only update my red.exe once a year because there is almost always something that breaks legacy code. Today, was the day. This is my first find :(

[21:21:50](#vjtPAGJzOJuWO8vMKHzikrZhu_ROT_niGFXu6XY0nAI) <GiuseppeChillemi (GiuseppeChillemi)>:
You are a bug catcher!

[21:23:25](#HKjfoVvowrWm2JFslX0SZlAe-fNlylsJ5R4fckMVdQM) <GiuseppeChillemi (GiuseppeChillemi)>:
However, latest commits were really deep, the GC has been redone

## 31-Jan-2025

[6:14:48](#xYca_suVx98-pwcLaCild5AlOed8VCfk2ujwLouL8es) <hiiamboris>:
Thanks dsunanda, I'll make a ticket. Very good catch í ½í±

[6:54:13](#sWPCu8Mo_ZSPprJ_U7bIWCFfNwjnVczfeC4RSP6JaqA) <hiiamboris>:
https://github.com/red/red/issues/5586

[7:44:49](#mtVVrPiuMP_-dBofS5oBMD4aejhvn5Alxxqprx4_Jew) <dsunanda>:
Thanks! Not really a good catch.....More a day of debugging a large code base that had suddenly gone very weird :)

## 5-Feb-2025

[0:05:40](#q1EAqJpYILaEm7x0aU-mUH1e10Kmo1wHRKpl3CGAqR4) <GiuseppeChillemi (GiuseppeChillemi)>:
While experimenting I have encountered this:

```
m: #["col1" +/1/5]

>> probe first m/"col1"
+/1

>> probe first '+/1/5 
+
```

[0:05:52](#A14H55r_JDDgLU7Oxvdj_9NGJr13OsdN8ZYoxAPzd4I) <GiuseppeChillemi (GiuseppeChillemi)>:
Both should be `+`

[0:06:26](#e_x-KMttLsyRdaS_zZ4qmmAbjGaruV-JeWfEy_kyxdU) <GiuseppeChillemi (GiuseppeChillemi)>:
I think it is a bug

[0:33:54](#X931Sx782ex_1Nrzs4dLFQYSMjppVeIzlBvAlsyu3Nk) <GiuseppeChillemi (GiuseppeChillemi)>:
Again:

```
>> probe pt: 'table/+/(m/col)
table/+/

*** Script Error: m is unset in path m/col
```

[0:34:27](#bGZyNOQ40qhnulcFz32nGNugfMjyEHtav_AWiRqDZxg) <GiuseppeChillemi (GiuseppeChillemi)>:
The paren should not have been reduce

[0:36:15](#Lt0hGK--NHlzz1Vjo8oPZwQz9WJBJJAIUm7fVxfewTE) <GiuseppeChillemi (GiuseppeChillemi)>:
Another kind of error:
```
probe pt: 'table/++/(m/col)

*** Syntax Error: (line 48) invalid path at 'table/++/(m/col)
```


[0:37:31](#clI9mt66lKIKoHp6BNj05d-T5goUWhFksFr7v5lYWM8) <GiuseppeChillemi (GiuseppeChillemi)>:
It happens with `-` too

[0:38:08](#r7TPmRRy7s6RwCXKpNu2pIeXSoca7TnwFjii2Pa6KsU) <GiuseppeChillemi (GiuseppeChillemi)>:
But other characters are ok:
```
>> probe pt: 'table/!/(m/col)

table/!/(m/col)
```

[6:17:58](#L8I9SlNY4faVCS7VKhgZNHfPGSQOpIz2LnkhAsqv6cs) <hiiamboris>:
Confirmed. Would you open an issue?

[6:18:12](#r_l4vMBXS9PJJqPxHOINM9zfkSFDL0_oPOIfOfsebcU) <hiiamboris>:
* Confirmed. Would you open an issue for each of the bugs?

[6:20:00](#wlyNlTM0FUb7FueDApZiKPaKeuRbovjf2-TKtZOvwyo) <hiiamboris>:
There's also this 3rd:
```
>> [+/-/=]
== [+/-/=]
>> [=/-/=]
== [= /- /=]
```

[6:20:12](#YymGxHz9uvuuQiL1y0-rZArKUv21etdg9etbpp16WSE) <hiiamboris>:
And likely countless more :)

[13:25:32](#E2Mmxm8HlQpuSDJ81H1AE_T3hTNnjIkeaFCl2zvpBbA) <GiuseppeChillemi (GiuseppeChillemi)>:
Ok, I have created them

[13:25:37](#GJxHs2zYxnkrMLfGr9xBXPi5kHNUxchBW73rDcKE4sE) <GiuseppeChillemi (GiuseppeChillemi)>:
They are 4!

[17:12:32](#Q8f-aRoV_1-WgysRskJnUK0uvnwM25pm3-N5kxqQuIg) <GiuseppeChillemi (GiuseppeChillemi)>:
hiiamboris: You have not labeled one as bug

[17:13:50](#KVXEvwWu1nOS2C7CGi_E74Zz7VuxjKxYDJeJfPBLSYE) <hiiamboris>:
Shitty internet :/

[17:17:16](#J1g-3M3cYYbHzqxsvW02AHJw-Mp5ohqWG5SItoRgVDk) <hiiamboris>:
And ofc a shittier website we have to work with...

[19:43:26](#Dt6KmiDv2LracEGcMwYcWNeutsAlCn50J94cjFVKyWA) <greggirwin (Gregg Irwin)>:
I swear I get lost more often than not in Gitter these days.

## 6-Feb-2025

[1:47:28](#TnhHVCZvgSdqTMqtwp1QKqeHhuuaD3AW3IC3gp95QmY) <GiuseppeChillemi (GiuseppeChillemi)>:
We have an unexpected friend here:

```
>> context [word: quote wrd: code: [probe wrd]]
== make object! [
    word: wrd:
    wrd: unset
    code: [probe wrd]
]
```


[1:47:50](#wJMw_EWUKjkJVX5_S3lPeLkBEtUw3Vi-dsOxBOThqVs) <GiuseppeChillemi (GiuseppeChillemi)>:
`wrd:` should not be there

[5:56:28](#dCRc5MXF5K1HMmNw1tZWoZFxZmZD9Ff4VUju0oq8m9M) <hiiamboris>:
How would Red know? Unless objects become extensible at runtime, there's no way.

[9:43:21](#ZXvecaBFPZnHKzXsnKoLxkQHLtIc4K9Jw-mvOqzLrl0) <GiuseppeChillemi (GiuseppeChillemi)>:
Are you telling me the scanner statically collects all first level set-words and not while interpreting the block? 

[9:45:22](#v_PJz8mM9HnJkiubsbGuXBgeSj4GCPW5mn_mKv6iG2A) <hiiamboris>:
At `make` time, yes.

[9:45:25](#bbpKNRZTbi5BKMmwxhHhKTvX88l1ptuTrVFgFa3wtW0) <rebolek (Boleslav BÅ™ezovskÃ½)>:
At `make` time, yes.

[9:45:45](#2Oq6gGosI57n6qLQFolLxmvPBrWYGcRGL8tgtnk3XcI) <rebolek (Boleslav BÅ™ezovskÃ½)>:
you can check the source https://github.com/red/red/blob/master/runtime/datatypes/object.reds#L942

## 8-Feb-2025

[23:48:06](#5hxO6bRJ9WZU-NvTo_d1SnQJG1I5_IWTMQqTk3X6xoo) <endo64>:
Can someone confirm, please?
```
>> zero? (0, 0, 0)
== false
>> zero? (0, 0)
== true
```

## 9-Feb-2025

[6:33:23](#DzFaZwt8MiTpda3-E7RHSp6Ap4RcKtJfaqn_ub_A5ak) <hiiamboris>:
Yes

[12:21:13](#CaYiacWwNSwtO_8bf0XDnSV7Ly_Q8WSmXkmNhhCbfvg) <ldci (FranÃ§ois Jouen)>:
Same result for me 

[18:35:38](#7OiS2MyIkRLyFGqtg2n919v-FfLPz6V5QbxstPDppT4) <greggirwin (Gregg Irwin)>:
Appears to be a simple dispatch bug in `zero?`
```
			TYPE_POINT2D [
				pt: as red-point3D! i
				all [pt/x = as-float32 0 pt/y = as-float32 0]
			]
			TYPE_POINT2D [
				pt: as red-point3D! i
				all [pt/x = as-float32 0 pt/y = as-float32 0 pt/z = as-float32 0]
			]
```
`TYPE_POINT2D` is listed twice, incomplete copy paste change.

[18:41:16](#RKJb691xOVh3up2c5cD5JGFwMXw_JMqNPdmm-unXNAQ) <greggirwin (Gregg Irwin)>:
PR made.

[22:43:10](#h8Eb1Zy89FqrWC5R7HjEsrsSUtZZ9SBZrf1bSvBUncA) <endo64>:
greggirwin (Gregg Irwin): In `TYPE_POINT2D` case `red-point3D!` should be `red-point2D!`

## 10-Feb-2025

[6:23:30](#0UXYabe5Xe3weJZUmyRMM5OqTtjMq1Z6ikl7r34fGQM) <hiiamboris>:
A bidirectional copy paste bug :)

[20:23:07](#vuJeDMtZCEV1KBrI6KEpAXqEGlgj8jzMvn8LfvTPbTQ) <greggirwin (Gregg Irwin)>:
Bah! My blinders were so narrow.

[21:01:06](#vE1kX9QtNNz4Cp_UiNj33HQDUXacEQiGAi8URh02dNs) <greggirwin (Gregg Irwin)>:
Need to look at tests too.

## 13-Feb-2025

[11:19:50](#TZn3lyh4MsRILOolYbrht2iV7YgF6pHeavpEocOGmHI) <bubnenkoff (Dmitry Bubnenkov)>:
Last version of Red have a bug:
```
all-but-block: function[block] [
	list-of-words: copy []
	foreach [key value] block [
		if not block? value [
			append list-of-words reduce [key value]
		]
	]
	return list-of-words
	; either empty? list-of-words [return none] [return list-of-words]
]


x: #[
    first_name: none
    last_name: none
]

all-but-block x
```
output loose `:`
```
>> all-but-block x
== [first_name none last_name none]
```

[11:20:19](#RCRTCP0KgaMn2CQEEKgN_dH_NdsYdgIM3uO-7qpe-2A) <bubnenkoff (Dmitry Bubnenkov)>:
```
>> all-but-block x
== [first_name: none last_name: none]
>> 
>> 
>> about
Red 0.6.5 for Windows built 10-May-2024/18:09:19+03:00  commit #83fa28a
```

[11:23:26](#_uYDH-3bHhTkfXISx85LI-QjL_whhWj0LTa82ofboRA) <hiiamboris>:
It's not a bug. https://github.com/red/red/issues/5533

[11:24:51](#141ETOTlxLVj91EkA9CoCkN_WDuCrQy3b97gZZ6k7Po) <bubnenkoff (Dmitry Bubnenkov)>:
How to fix my code&

[11:24:53](#82ORoyKvYWW_jNc5g3Y4OvJZFETzGsdrMFoEBiNhv6o) <bubnenkoff (Dmitry Bubnenkov)>:
* How to fix my code

[11:24:55](#lItYYe9ViiT8l_eikD6WJ42jjw06ru9kMNIE6m56Owo) <bubnenkoff (Dmitry Bubnenkov)>:
* How to fix my code?

[11:25:28](#qhiAP4jWE4nrxP3ebm6tOYBl9ptDk8dnNO6h9q1aA0w) <hiiamboris>:
Convert to set-words manually

## 19-Feb-2025

[20:40:20](#aBIIecP-j6YFQCO4ljC-5x2evWgNNq5Lt4gBEk_Acek) <GiuseppeChillemi (GiuseppeChillemi)>:
What is this? `?native?` It has come out during a parse operation

[20:45:59](#WSGBBfgjzS3t8s2AbMhXUbrHCCdD_6ggzWnPZgX870E) <greggirwin (Gregg Irwin)>:
It's the `form`ed result of a `native!`.

[20:46:54](#HTuNoF0qGNefDr6AAVyF5CqvDMgp_7Qpz6g1vM3j5-Y) <GiuseppeChillemi (GiuseppeChillemi)>:
Thanks

[20:48:06](#RuAIIqVesJygsbNCF6KTFBbcF50tAEIsydHeqonsz6Q) <GiuseppeChillemi (GiuseppeChillemi)>:
If you mean this:

```
>> form native!
== "native"
```

It is different

[20:51:16](#VJdCXbB80UCuCieo5II6lAAvxMaktHXxL3CTo4an0bQ) <GiuseppeChillemi (GiuseppeChillemi)>:
This is the offending code:

```
do-text-code: func [
	"Run red code inside a text"
	text [string!]
	/local
	s
	e
	x
	code-to-run
	append-code-rule
	in-code
	count
] [
	count: 1
	in-code: false	
	code-to-run: copy []



	parse text [
		any [
			x: "[" any " " "red"  any " " ahead "[" (in-code: true) s:
			change s
			any [
					"[" (count: count + 1) 
				| 
					"]" (count: count - 1) [if (count = 0)  e: (e: skip e -1) | none]
				| 
					skip
			] 
			(do copy/part probe s e)
			fail 
		|
			"]" 
			(if in-code [in-code: false])
		|
			skip 
		] 
	]
	text
]


probe do-text-code "asafaf asgasg [red [print {2-hello-}]] asfasfaff [red [print {world}]] ended"
```



[20:51:35](#YPqbjhQ0nM2QWpHHQi0I3F0GyyRiUjAPdznLwgkTKKI) <GiuseppeChillemi (GiuseppeChillemi)>:
It extracts and run red code inside a text

[20:52:03](#s853Ee8VfWB_riYI7bmQ1IRQpiYJEI4m6-NBx9D26_I) <GiuseppeChillemi (GiuseppeChillemi)>:
* It extracts and run Fed code inside a text

[20:52:08](#NzIZexPSKCBScLNzMHE21bTOxGcxtWdvv4NbdKdoJyo) <GiuseppeChillemi (GiuseppeChillemi)>:
* It extracts and run Red code inside a text

[21:13:45](#4Zwa68HXwuJgOHgTm3KNKXoClrGj9bKneWN9CnAZEuo) <GiuseppeChillemi (GiuseppeChillemi)>:
This is the result:

```
{asafaf asgasg [red ?native?[print {2-hello-}]] asfasfaff [red [print {world}]] ended}
```

[21:14:38](#GTMMHcn-IOH7QXi1Gnze0by0OShnO01lRsf-P-3OrUk) <GiuseppeChillemi (GiuseppeChillemi)>:
Code is RAW, not complete, I jave written to understand what is happening

[21:20:31](#XbW194oMYmWDO7zzM7pAlQ2vHPWe1YxXrmBPHpj9C6k) <Oldes (@oldes.h:matrix.org)>:
My guess is, that `change s` is the reason... I don't understand your code.

[21:28:49](#yGSvWJtQqs2IicZCafGzxgdeXom6sqbr7uTNfntpCDQ) <GiuseppeChillemi (GiuseppeChillemi)>:
My guess too. The code is wrong, I was in the middle stage of its developent. Its goal is to replace code found in text as

```
"hello this is the [red [first ["world" "other]] if Red!"
```


[21:28:57](#URGsqAG_NmfxLOX9L-DL1CgKvmAO2IrI-UaYhd2mxbg) <GiuseppeChillemi (GiuseppeChillemi)>:
* My guess too. The code is wrong, I was in the middle stage of its developent. Its goal is to replace code found in text as

```
"hello this is the [red [first ["world" "other"]] if Red!"
```

[21:29:08](#E3w96xY9p88-cCljokuphx_wjf1ZwVKgfZ03_JnJRAI) <GiuseppeChillemi (GiuseppeChillemi)>:
Result:

[21:29:32](#qobXs_0wtX7udrQR1iE_-njdvESWmFq814fFN0GG_SA) <GiuseppeChillemi (GiuseppeChillemi)>:
```
"hello this is the world of Red!"

```

[21:29:39](#hLaB10v2WNhaIrEsFZhEs1zmNPia_DuQ7fZiTAm1M_U) <GiuseppeChillemi (GiuseppeChillemi)>:
* My guess too. The code is wrong, I was in the middle stage of its developent. Its goal is to replace code found in text as

```
"hello this is the [red [first ["world" "other"]] of Red!"
```

[21:29:46](#e9fBB7RhUXA02Ir_rUMpIdP_i8qG-8SeWYKSlfvqK1s) <greggirwin (Gregg Irwin)>:
```
>> form :apply
== "?native?"
```

[21:32:05](#6SIz2mIBkfBovxwoZAyK605ZL5rHantX1t7FGaW8Ofk) <Oldes (@oldes.h:matrix.org)>:
Simply it is bug in your code. Also the way you are on will fail for cases like: `{xxx [red [print "]"]] xxx}`

[21:33:46](#TOPaDXY8DsPgu_VKwnRS5dxSQSFdWQ28Ef0jPEbep64) <Oldes (@oldes.h:matrix.org)>:
* Simply it is bug in your code. Also the way you try to use will fail for cases like: `{xxx [red [print "]"]] xxx}`

[21:38:29](#aC1XmqbYUVnFgmRkoNVaRj4oZnG3U1hXdJLbn3RDoZ0) <greggirwin (Gregg Irwin)>:
A key lesson from this is not to change the input you're parsing. Most times that can be avoided, and makes your life a lot easier. Instead, collect output into a new result.

[21:45:50](#06kIjow7HZ4Mt_mO-tWhsrzK2TTQ0a0XB1cL7r-MNac) <GiuseppeChillemi (GiuseppeChillemi)>:
The function purpose is to change the input with the a result

[21:49:00](#p8BkHpxHFAH7XKdhN9SSzNdEQ348uwXoDbJRx5P4aPc) <greggirwin (Gregg Irwin)>:
I understand. But if you *start* with a non-modifying version, and get that working, then you've addressed a lot of the parsing rules you're going to need. Then any bugs in the modifying version you *know* are related to changing the input.

[21:50:39](#syEaQSKn9HZg4YmbgQA0v9mc29M0XtbgORmyuc35ozM) <Oldes (@oldes.h:matrix.org)>:
Creating a new output series is always much faster than modifying existing one!

[21:50:53](#AGOBRMdGyWecXRFCBKwToYYGhLhGBC5GjCW8d6yyJn0) <greggirwin (Gregg Irwin)>:
As your rules get more complex, you may find yourself going mad. 

And also ask why modifying the input is a hard requirement.

[21:55:41](#y4pd_jxDc-4K6ytmhQlIJ_C58fsozuKQ6wHzRLYBU-8) <gltewalt (The other Greg)>:
Any reason you aren't trying to work with `load` ?

[21:56:15](#ns4W-bKknapSZanvrmt7gEwlJuBtHLyj6uH-Xiou-fw) <greggirwin (Gregg Irwin)>:
I think his data is non-loadable. He wants to interpolate just parts of it that are.

[21:58:35](#pfNEGBSzf8GZTqoOtnTzPJczuhudt4aXeOQG0PrEI9E) <gltewalt (The other Greg)>:
It has been a long time, but I noticed this... notice and it intrigued me

[21:58:52](#JU54pZsdtkLoriv4jmj-IyB9iMznqn--X-AWMkbrQq8) <GiuseppeChillemi (GiuseppeChillemi)>:
Yes, data is not loadable, it is a text with active code areas

[21:59:15](#_IX3FXGpRTeDYbydkUgr0FMjuUTRoRZE4XkZ4Kx47Xg) <GiuseppeChillemi (GiuseppeChillemi)>:
My code?

[21:59:28](#zRJBIZElvD0A22pm4fpHfc71AJvvw-r7nKK9k69Aqlg) <gltewalt (The other Greg)>:
Your question, yes

[22:00:18](#RyluYckMfvtcc-duZv4tcJmyIYIijZaLb9n4bYzoVqk) <GiuseppeChillemi (GiuseppeChillemi)>:
Yes, it is the foundation of my future work. Active Red code into text. But the project is bigger

[22:06:06](#efPcbV-rmJsZm8FZXWpyJ42UQnO7cOT18j8p2Abxb1Y) <GiuseppeChillemi (GiuseppeChillemi)>:
Note: in this case, for security reason, Rebol 3 is better

[22:07:06](#6AGLRbcoIADLAU1WBVi3kW9SmcymkikDrSp239gc190) <greggirwin (Gregg Irwin)>:
An old `load` experiment: https://gist.github.com/greggirwin/91dc025b1c25b9efc24996af0207bde2

[22:09:09](#Cmn8CJjB6dcpJZLCBYGkW7wpMmy5SNJk8Yfa9NFmG5Q) <greggirwin (Gregg Irwin)>:
A key difference is that GiuseppeChillemi (GiuseppeChillemi) does *not* want to load values outside the code, but keep them as full string sections. 

[22:17:54](#hgswZMYqaPWuARRAapah6Sg3lZIlqwQX6ba48JPOGdo) <greggirwin (Gregg Irwin)>:
We also faced this with https://github.com/greggirwin/red-formatting/blob/master/composite.red and hiiamboris 's alternatives, particularly macros, because you need to know what environment is being used when evaluating embedded code. Not just changing things, but reading what may be sensitive info.

[22:20:59](#X57-z9UtszWh1ZXcEbhkoAZyi7pK3uTgfdg4y2tKb7c) <greggirwin (Gregg Irwin)>:
And `composite` doesn't allow nesting, though you can have nested code inside it, which simplifies things.

[22:21:21](#35z3pGQ_IBT9R6mC8Qpi4D1A7C7jJ2L2-OAr9pm_GKM) <gltewalt (The other Greg)>:
The safer you need to make it, the harder it will be to do

[22:32:25](#hMmANTsL1_Lrt-BhcFBOiDTcFYQ_KVno0pWosdgF3R8) <Oldes (@oldes.h:matrix.org)>:
GiuseppeChillemi (GiuseppeChillemi): here is a starter for you...
```rebol
ch1: complement charset "["
ch2: complement charset "[]"
text: [copy val some ch1 (emit val)]
code: [s: block e: (emit try probe load copy/part s e)]
block: [#"[" any [some ch2 | block] #"]"]
rule: [any [text | code]]

output: ""
emit: func[val][append output val]

parse "aaaaa [1 + 2] bbbb" rule
? output ;== "aaaaa 3 bbbb"
```

(Tested in Rebol only.)

[22:37:07](#nO0Y7YKTXnNwyI7_hC1NnhEpDXhv_lsEybpfoS6ZFTw) <GiuseppeChillemi (GiuseppeChillemi)>:
Thank you

[22:41:46](#r1SsAP2vRyyD1rH-vFG2H6ktc_m0tRuzM4v5P8sixrk) <Oldes (@oldes.h:matrix.org)>:
* GiuseppeChillemi (GiuseppeChillemi): here is a starter for you...

```rebol
ch1: complement charset "["
ch2: complement charset "[]"
text: [copy val some ch1 (emit val)]
code: [s: block e: (emit try probe load copy/part s e)]
block: [#"[" any [some ch2 | block] #"]"]
rule: [any [text | code | #"["]]

output: ""
emit: func[val][append output val]

parse "aaaaa [1 + 2] bbbb" rule
? output ;== "aaaaa 3 bbbb"
```

(Tested in Rebol only.)

[22:43:14](#AAp6znt7ybWivYXnl6EBxjtbA8s-rec8DbkbkKkAT8A) <Oldes (@oldes.h:matrix.org)>:
As a homework you must improve it to handle brackets inside strings!

## 20-Feb-2025

[1:19:53](#mlfFpeEPIfxmFj4H7vBZlyItL5JtDZQD1ECP1ntwNmg) <GiuseppeChillemi (GiuseppeChillemi)>:
By now I have used my parse code but thanks for the hint, I din't think about it:

```
{Dear friends -hel[lo- this is a nice World. See you soon!}
```

[1:20:48](#jdoiN6U8t6Aafq57XXRT9Vz04QlCWCDdeRmqmazEHoA) <GiuseppeChillemi (GiuseppeChillemi)>:
My code is far longer than your but give me the time to reset my mind and reimplement it using your technique

[1:21:57](#AANZUPBXS8azQ5DLHO9jnzALdaYtwvd_yuX_BrAw91c) <GiuseppeChillemi (GiuseppeChillemi)>:
You need total isolation and get the result of the run code, nothing more. This is a task only Rebol 3 can do, as far as I know

[2:51:19](#mYaQeH8dvL-HujWn9hgZdwYzdsu5kJTh0oU_XvPu3us) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@greggirwin-55659ddb15522ed4b3e1006f:gitter.im> A key difference is that GiuseppeChillemi (GiuseppeChillemi) does *not* want to load values outside the code, but keep them as full string sections. 

I may want a context 

[2:53:04](#kDJcHGJBpGwzblsGx6Wf6b0ik40Bx5X87br6-ae_wy4) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@greggirwin-55659ddb15522ed4b3e1006f:gitter.im> And `composite` doesn't allow nesting, though you can have nested code inside it, which simplifies things.

What you mean for doesn't allow nesting?

[3:51:07](#z0xvktxiTS9FKOF1AXXsN_Z-v54nhcdpvS5QWCxhQH4) <greggirwin (Gregg Irwin)>:
Means you can't have nested code segment in the composite "dialect". But code inside them is regular code and can be nested. So composite doesn't have to handle nested bracketing itself.

[3:51:46](#KnS4BY9qhxMRYinzqGaWhMAYR7lvDhnrdkGina6dzzM) <greggirwin (Gregg Irwin)>:
My `composite` allows you to pass a context, if you want.

[11:44:00](#WiXZ-iHv_S-bUP5OxFS8OGcr4qG1bRqB5E5amugzJc0) <GiuseppeChillemi (GiuseppeChillemi)>:
The first observation is what I don't understand. You say you can't have nested code segments but in composite you can. Which is the subject first affirmation? Which is case of what? 

[17:24:15](#ZrbCvYU7_nKGhXBOuZKsMSaUquUWb_kT2Yau6AE_c5Q) <greggirwin (Gregg Irwin)>:
You can't do `"a = :(res: 1 + 2  +:(3 + 4): res):"`, but you can do `"a = :(res: 1 + 2 + do [3 + 4]):"`

[17:38:27](#s4OtBzDguJ7zdCjqtVM85X-GrXhFyQLhTS4szp4IE9M) <GiuseppeChillemi (GiuseppeChillemi)>:
Ok, you was referring to using composite as compose! 

[17:39:03](#xJpVHOGpO7ACvZKYIwSvabOLj6L2czMOsYAZ-xQPVf4) <greggirwin (Gregg Irwin)>:
Yes, it is basically `compose` for strings.

[20:19:53](#tWH0a8iAC2fYagU7V-EOn36fyKE41zcyOrpXEiw3CaE) <GiuseppeChillemi (GiuseppeChillemi)>:
I have played with `transcode/trace

```
tracing: context [
	out-data: none
	f: func [
		e i t l tp return [logic!]
	] [
		
		either e = 'error [
			probe reduce [e i t l tp]
			out-data: copy/part head i tp/2 - 1
			i: next i ;<-------  If you remove this, you get an infinite loop despite of next NO
			no		
		] [
			probe reduce [e i t l tp]
			yes
		]
	]
]


out: ""
transcode/trace "hello/world, 22 33 [people]" :tracing/f

probe tracing/out-data
```

Why returning `no` on `error` it triggers an infinite loop. You must advance the input even in case of processing stopped. It seems a bug to me.

[20:20:11](#BPfiwWwgQqdK3r1adsyTfMps8FhiV4Bh6SyXbW2auBs) <GiuseppeChillemi (GiuseppeChillemi)>:
* I have played with \`transcode/trace

```
tracing: context [
	out-data: none
	f: func [
		e i t l tp return [logic!]
	] [
		
		either e = 'error [
			probe reduce [e i t l tp]
			out-data: copy/part head i tp/2 - 1
			i: next i ;<-------  If you remove this, you get an infinite loop despite of next NO
			no		
		] [
			probe reduce [e i t l tp]
			yes
		]
	]
]


transcode/trace "hello/world, 22 33 [people]" :tracing/f

probe tracing/out-data
```

Why returning `no` on `error` it triggers an infinite loop. You must advance the input even in case of processing stopped. It seems a bug to me.

[20:20:22](#kL4iRpLzXy0GPT2EJnFfuOLle8L0mlFLcWQdIjQbE7E) <GiuseppeChillemi (GiuseppeChillemi)>:
* I have played with \`transcode/trace

```
tracing: context [
	out-data: none
	f: func [
		e i t l tp return [logic!]
	] [
		
		either e = 'error [
			probe reduce [e i t l tp]
			out-data: copy/part head i tp/2 - 1
			i: next i ;<-------  If you remove this, you get an infinite loop despite of next NO
			no		
		] [
			probe reduce [e i t l tp]
			yes
		]
	]
]

transcode/trace "hello/world, 22 33 [people]" :tracing/f

probe tracing/out-data
```

Why returning `no` on `error` it triggers an infinite loop. You must advance the input even in case of processing stopped. It seems a bug to me.

[20:37:14](#sdj1pTg0ikFyLvA_IADcK3B0h1IjQcpS47Hw0qRTK2M) <gurzgri>:
From `transcode/trace` [documentation](https://github.com/red/docs/blob/master/en/lexer.adoc#52-transcodetrace):

> If an error event is ignored, the input does not advance automatically, itâ€™s up to the callback function to set the input series to the right position for resuming the processing. Failure to do so can result in infinite loops.

Your function `f` 's signature probably should end in `... return: [logic!]` .

[20:38:38](#rgkQ1nj_zAC5JirTEzhRRs_UwuMNU7en3pUK89UsXwk) <GiuseppeChillemi (GiuseppeChillemi)>:
It is the same, you just have to return the error.

[20:39:10](#N5gqwprs7ZrHjY3GrgOfYGQofgFLRjoqAY10KDXsc2I) <GiuseppeChillemi (GiuseppeChillemi)>:
The problem is different: in case you return `NO` , the processing is halted.

[20:39:30](#eM0IuqUPSTIFk86mF4ybnt6Jjs4aUiCTkaAPweTtx98) <GiuseppeChillemi (GiuseppeChillemi)>:
So the next read event on the same position, should not happen

[20:39:59](#qfQL4Nl-DcUErK_dcpabA1Lmvcb60EOBTYKlKek2sTY) <GiuseppeChillemi (GiuseppeChillemi)>:
My code does just this: returns `NO` on error.

[20:40:17](#iY8fqFlH4rdsuI-u57QEK1BZhf4wW43nyiMfSpQH4fg) <GiuseppeChillemi (GiuseppeChillemi)>:
* My code does just this: returns `NO` on error, so it should be halted

[20:40:34](#jAdrc5pKAreYUt0hB4n9KOYzwCexTrfPWPNmXH8oGlU) <GiuseppeChillemi (GiuseppeChillemi)>:
* It is the same, you just have to return the `TRUE/FALSE` value

[21:11:05](#bxGEU3ohP_BbcA6dOZO28D5ANDfWJO7nDwYUt3UZ600) <gurzgri>:
Returning `no` for an event only stops processing of further events for the token. It doesn't stop processing as a whole. You'll have to advance the input by yourself. Compare e.g. https://github.com/red/code/blob/master/Scripts/lexer/load-commas.red

[21:11:57](#BdpMoewgjvA4Kd0hV8qR7aAAdp05DSJLAHcumGslBrI) <GiuseppeChillemi (GiuseppeChillemi)>:
Also I have the following problem:
```
	tracing: context [
		out-data: none
		pos:
		f: func [
			e i t l tp ;return: [logic!]
		] [
			
			either e = 'error [
				reduce [e i t l tp]
				probe out-data: copy/part head i tp/2 - 1
				i: next i ;<-------  If you remove this, you get an infinite loop despite of next NO
				;pos: tp/2 - 1
				no		
			] [
				probe length? i
				probe reduce [e i t l tp]
				yes
			]
		]
	]

transcode/trace {rejoin [{hello!} " " {world!}]} :tracing/f
probe tracing/out-data
```
The last of the output is this:
```
1
[prescan "]" block! 1 30x30]
1
[close "]" block! 1 8x30]
```
As you can se the length printed is `1`
It is the same if I put a `paren!` or a `block!` at the end
But If I change to any other value
```
transcode/trace {rejoin [{hello!} " " {world!}]  any/other/value} :tracing/f
```
The length counter reaches `0`
```
0
[load "" word! 1 value]
0
[close "" path! 1 33x48]
```
I need it to understand when I have reached end of input

[21:14:51](#ROf1ohomhLwmHI3hR6id90EKCSyxX2gJhgiWm-zPkpg) <GiuseppeChillemi (GiuseppeChillemi)>:
Your are right. `yes` throws an error

[21:17:20](#Sj00TnJmVBHvglUwd-_tci9ks9aWCq2Ti0uJoHXAkzQ) <gurzgri>:
So you are saying that
```
>> f: func [return: [logic!]] [] ()
>> g: func [return [logic!]] [] ()
```
are doing the same?

[22:11:07](#lXT2k5kx0m4Lwdb2QlFrl4zwpQg2AG2KDKfVTYUYYxw) <GiuseppeChillemi (GiuseppeChillemi)>:
And also, how do you stop tracing in the middle with `transcode/trace`?

[22:27:53](#7rMpu978JWV7qiyeY8Mfn3Cb_Fa2I95QiFk6F-y7Qvs) <gurzgri>:
By for example just advancing input to the end in the callback?

[22:35:31](#-VT8miDwYUtHF5ev9HngkLQoC9IZaNbx6Co5vS43gmU) <GiuseppeChillemi (GiuseppeChillemi)>:
Ok, I have not not thought about this. Thank you. 

[22:36:10](#W5ce0XFYOyAnwKX-l3r6TuumRVMUKvfBg6KwRBqghbI) <GiuseppeChillemi (GiuseppeChillemi)>:
However, I would have preferred passing a STOP as return

[22:37:26](#xWdKAhOinhkRH8H6mV5JcK5bcn3ega2HW9XUT2ZPLUA) <GiuseppeChillemi (GiuseppeChillemi)>:
Aldo, I would have liked having LEVEL as another parameter, to understand how deep I am in the current opened series

[22:37:48](#67cnyDvVBLNffrhSuWU_n4fXYnfCOYc5TVoFhn2W9ug) <GiuseppeChillemi (GiuseppeChillemi)>:
* Also, I would have liked having LEVEL as another parameter, to understand how deep I am in the current opened series

[22:40:10](#oWB09mp5qhDh8h-oCfiq9VMOvgL5osuT4GVNQdRVRrU) <GiuseppeChillemi (GiuseppeChillemi)>:
This function amazes me. I supposed I had to return the string and position, instead it manages the position taking it from the function context

## 21-Feb-2025

[0:55:32](#2WNP0PD8DB-aS47023FK_WLjYf1tZrdmEchG2GPx9bU) <GiuseppeChillemi (GiuseppeChillemi)>:
No:

```
func [return: [logic!]] [yes] 
func [] [yes] 

```
Are the same :D

[13:45:40](#lDAgDLT0B8V6W_2ETeMMcnDbKG64veTXXbAogJZ1uw0) <hiiamboris>:
There's no reason for this limitation:
```
>> expand-directives [`{a = (res: 1 + 2  + `"(3 + 4)"` res)}`]
== [rejoin ["a = " (res: 1 + 2 + rejoin ["" (3 + 4)] res)]]
```

[14:47:27](#mEHNTP8DZut-MHhJyCV2emISeD0Sj5n8O6EYzVnPbUo) <hiiamboris>:
`return:` is only for documentation purposes currently

[14:55:05](#QAseG4AL_PGAElVahjWGosBuy2EkQJ8urAp6mcAZySc) <gurzgri>:
Not if you specify it as word! instead of set-word!, as he did in the code posted.

## 22-Feb-2025

[1:59:05](#EdzPYmTWSMmVTFMYstdTOeI1KiMyaZBEJ46xU2dEvA8) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@giuseppechillemi-59045d00d73408ce4f5bcd9d:gitter.im> Also I have the following problem:
> ```
> 	tracing: context [
> 		out-data: none
> 		pos:
> 		f: func [
> 			e i t l tp ;return: [logic!]
> 		] [
> 			
> 			either e = 'error [
> 				reduce [e i t l tp]
> 				probe out-data: copy/part head i tp/2 - 1
> 				i: next i ;<-------  If you remove this, you get an infinite loop despite of next NO
> 				;pos: tp/2 - 1
> 				no		
> 			] [
> 				probe length? i
> 				probe reduce [e i t l tp]
> 				yes
> 			]
> 		]
> 	]
> 
> transcode/trace {rejoin [{hello!} " " {world!}]} :tracing/f
> probe tracing/out-data
> ```
> The last of the output is this:
> ```
> 1
> [prescan "]" block! 1 30x30]
> 1
> [close "]" block! 1 8x30]
> ```
> As you can se the length printed is `1`
> It is the same if I put a `paren!` or a `block!` at the end
> But If I change to any other value
> ```
> transcode/trace {rejoin [{hello!} " " {world!}]  any/other/value} :tracing/f
> ```
> The length counter reaches `0`
> ```
> 0
> [load "" word! 1 value]
> 0
> [close "" path! 1 33x48]
> ```
> I need it to understand when I have reached end of input

About this and length remaining at 1 for blocks and parens but not paths, any idea id it is correct? 

[2:00:39](#N0LBBQFGg_2758OuX9YhffAM82Z-BHy-W0HwfXWRsFE) <GiuseppeChillemi (GiuseppeChillemi)>:
I did this? Where???

[2:01:54](#0ZbuFhKmzC1w28JeFNp7bHZIUpYpm0WxDzxRE7k-kJM) <GiuseppeChillemi (GiuseppeChillemi)>:
I have seen it í ½í¸

[6:05:08](#rQTjbBdfG_ScJeWBY7TMfcqbExNS3XO3uZ56nzcaQJM) <hiiamboris>:
Why it doesn't feel correct to you?
```
>> length? find/tail "[a b]" "b"
== 1
>> length? find/tail "a/b" "b"
== 0
```

## 28-Feb-2025

[20:25:06](#Ub2768b3QhbienCVL-b-dOLuusjJpszEYK8qCu3zJ2o) <dsunanda>:
The following code crashes with today's Red View for Windows (2025-02-27).
The console just blinks out of existence.  The %progress-log.txt file contains
just a 1.
If we change the LOOP to much less than 100,000) the problem can come and go....
....Sometimes it errors with an impossible error message "append/only does not allow none! for its series argument") after 100s of iterations.

Not sure when this first appeared .... Versions I have from late 2024 do not 
have the problem. 
```
associate: func [
    dataset [map!]
    key [string! date! integer!]
    data [string! object! integer! block! pair!]
    /local s
][
    ;; Allows mapping of multiple values to one entry
    ;; ==============================================

    s: select dataset key
    if none? s [put dataset key copy []]
    s: select dataset key
    if not find s data [append/only s data]
    return data
]

;; Break it!
try [delete %progress-log.txt]

repeat count 10 [
    write/lines/append %progress-log.txt mold count
    m: make map! []
    loop 10'0 [
         key: random "abcdefgh"
         data: random 10000
         associate m key data
    ]
 ]
```

[20:26:19](#cnZZ7zmAjMZqt6u0oc8BBZF-XKdsd3fOV6ogtJzDdw0) <dsunanda>:
* The following code crashes with today's Red View for Windows (2025-02-27).
The console just blinks out of existence.  The %progress-log.txt file contains
just a 1.
If we change the LOOP to much less than 100,000) the problem can come and go....
....Sometimes it errors with an impossible error message "append/only does not allow none! for its series argument") after 100s of iterations.

Not sure when this first appeared .... Versions I have from late 2024 do not
have the problem.

```
associate: func [
    dataset [map!]
    key [string! date! integer!]
    data [string! object! integer! block! pair!]
    /local s
][
    ;; Allows mapping of multiple values to one entry
    ;; ==============================================

    s: select dataset key
    if none? s [put dataset key copy []]
    s: select dataset key
    if not find s data [append/only s data]
    return data
]

;; Break it!
try [delete %progress-log.txt]

repeat count 100 [
    write/lines/append %progress-log.txt mold count
    m: make map! []
    loop 1000'000 [
         key: random "abcdefgh"
         data: random 10000
         associate m key data
    ]
 ]
```

[20:58:19](#_AVwGIDjGz1ZqqkhQvOTlZmceDlkvGF4wOt1YHvHRMQ) <gurzgri>:
Latest Red/CLI gives
```
>> about
Red 0.6.5 for Windows built 27-Feb-2025/18:48:45+01:00  commit #15227b6
>> do %associate.red
*** Runtime Error 101: no value matched in SWITCH
*** at: 004323D3h
```
or the
```
>> do %associate.red
*** Script Error: append/only does not allow none! for its series argument
```

you've already mentioned. Red/View crashes immediatly. And Red/CLI with
```
repeat count 100 [
	write/lines/append %progress-log.txt mold count
	map: make map! []
	repeat j 1'000'000 [
		probe j
		key:  random "abcdefgh"
		data: random 10'000
		associate map key data
	]
]
```
seems to consistently fail at `j = 3281` for whatever reason.

[21:43:06](#Q2GlKI_-ZNG5gYSiYatrCoApB6MsDOsYvxguOlShp1k) <gurzgri>:
Seems to be related to `map!` datatype. Rewriting for `dataset` being a `hash!` instead of a `map!` seems to work, it succeeded running all 100 * 1'000'000 iterations. So `map!` related somehow.

[21:43:27](#mCe5uuLvFE16kVA6wtXo3xZuZVr3r-KU0Xul1OGAiDE) <gurzgri>:
* Rewriting for `dataset` being a `hash!` instead of a `map!` seems to work, it succeeded running all 100 \* 1'000'000 iterations. So `map!` related somehow.

## 1-Mar-2025

[6:16:31](#qEHzUJRdgWBB__AWIySPwLTfzHiPx-ncViIfNGjH99g) <hiiamboris>:
Thanks. I reported it https://github.com/red/red/issues/5595

[7:15:48](#wCqWYhCepjSLPbMzOG7lOFAPEiTQtGMiyYJukmOdF-s) <dsunanda>:
Thanks, guys!

[11:58:17](#c6Z7aaXR2D1wGXCHdiFiQxsYIFUnDKFuKQimf8wCiNc) <dsunanda>:
....and dockimbel has committed a fix .... You guys are fast!

[14:33:40](#4lDLDCCNJ24aROuaTa7Y9Ae-44uifUJTUIT0AaDqCRA) <GiuseppeChillemi (GiuseppeChillemi)>:
I see that `react/link func [objects]` accepts regular objects but it does noting if a field is changed. What is the purpose of accepting them if nothing happens?

[14:33:51](#0PdalFaxZWsMhpHOtIrOFfpbZZeS0IwMzqwusYx5ttc) <GiuseppeChillemi (GiuseppeChillemi)>:
* I see that `react/link func [objects]` accepts regular objects but it does nothing if a field is changed. What is the purpose of accepting them if nothing happens?

[14:34:00](#21sVMcbRYHy5CFeU-RulnPpFEJ2kGCQpngOCc4MyB5g) <GiuseppeChillemi (GiuseppeChillemi)>:
* I see that `react/link <func> [objects]` accepts regular objects but it does nothing if a field is changed. What is the purpose of accepting them if nothing happens?

[14:34:18](#TJ-vew_z7PA_qpUYc2L4I59pQ0XgoO2ea0pxccz3lGU) <GiuseppeChillemi (GiuseppeChillemi)>:
* I see that `react/link <func> [objects]` accepts regular objects but it does nothing if a field is changed. Which is the purpose of accepting them if nothing happens?

[14:34:36](#50IUuamVAIG_vFHUNY5RbTT2vacJPmZlnan4ONDFnEY) <hiiamboris>:
I guess to avoid too many checks

[14:35:25](#qlyEmEN8-6w1--QK1frXcNrC97m_BDfCswme5iR5zFY) <GiuseppeChillemi (GiuseppeChillemi)>:
On creation it is not a necessity.. You don't create millions of releations per second but it could happen on execution

[14:35:43](#LuAQRAHjwpl5XHaq3SYlt3NcDXyrRDwbUgRlgnkANX0) <GiuseppeChillemi (GiuseppeChillemi)>:
* On creation it is not a necessity.. You don't create millions of releations per second but it could happen on execution and there you could need a check less

[14:41:36](#Mc_58sjMnbxib03eNGyVi3AszXtqFPLGylQjIhTwTPE) <GiuseppeChillemi (GiuseppeChillemi)>:
Also a necessity has arised. `deep-reactor!` triggers on `series` change but not on `map!` change. I would really need it this could be implemented. 

[14:41:49](#lbDjBhzPOPU3B1feZKhglZRLewSII-MU3qwFRrzy6-s) <GiuseppeChillemi (GiuseppeChillemi)>:
* Also a necessity has arised. `deep-reactor!` triggers on `series` changes but not on `map!` change. I would really need it this could be implemented.

[14:42:03](#nF1s1JUmfGJejIWmfpu24-HebrPeWGS5Ii1IIdgM9zg) <GiuseppeChillemi (GiuseppeChillemi)>:
* Also a necessity has arised. `deep-reactor!` triggers on `series` changes but not on `map!` change. I would really need if this could be implemented.

[14:47:51](#WJmmxd1rguzM8EJDcGSp83SkpEw4T7XNK6Aa5ewd-qE) <GiuseppeChillemi (GiuseppeChillemi)>:
(Note: I actually can do it putting the map inside a series and then overwriting it with itself but it is a cludge)

[14:48:06](#ISGCYEJ7LGWAPS0VS_CwKh9Mlt5EbTyvX54mOO1OjrA) <GiuseppeChillemi (GiuseppeChillemi)>:
* (Note: I actually can do it putting the map inside a series and then overwriting it with itself at each field write but it is a cludge)

[14:48:26](#ijkS81rP9xPQCylFbInwA1HpYVANzwA4FSaMgZBROZE) <GiuseppeChillemi (GiuseppeChillemi)>:
* (Note: I actually can do it putting the map inside a series and then overwriting it with itself at each field write but it is a kludge)

[14:48:57](#HTEy0kIGcMDajAX1hX7av_dU-13yfjAV4H55g85nPt4) <GiuseppeChillemi (GiuseppeChillemi)>:
* (Note: I actually can do it putting the map! inside a series and then overwriting the map! with itself at each field write but it is a kludge)

[15:33:03](#C96ZksqLyD_DfR7-b1N5d8Y_CI-S0zfgLo_81b4eRjY) <hiiamboris>:
changes inside a map are not tracked, yes

[16:50:58](#LLImJotlM4xEx53piRbEqOioN5vMLtlyuTrizEtfU3w) <GiuseppeChillemi (GiuseppeChillemi)>:
I can create a monster but I would like the "direct" method

[16:53:02](#Gc3AozbR7Gqjp2fK-IScPcqYNX3bJi68vO7gTtFIaNA) <GiuseppeChillemi (GiuseppeChillemi)>:
Here it is:

```

>> r: make deep-reactor! [a: [none]]
== make object! [
    a: [none]
]
>> m: make map! reduce ['x r/a]
== #[
    x: [none]
]
>> react [s: r/a/1]
== none
>> m/x/1: 'Hello
== Hello
>> s
== Hello
```


[16:55:49](#ZWw8K4O65B-nKXhJqA-iSCG_BnJj40tp5PDI4TZOHk4) <GiuseppeChillemi (GiuseppeChillemi)>:
In this way I can trigger a reaction when a field changes . You just need to put all the map keys you need to be used in the reaction in the react block, with their destination.

[16:57:44](#1ZsEQ68z4sdtF7gYBTLcXd9BC8eKWKFPBAGlUDcd5gY) <GiuseppeChillemi (GiuseppeChillemi)>:
It is another convoluted kludge I can make easy with some helper on creation....

[17:01:31](#d0-2f99urrE0K4wOZ6qgViYKjathFBiYLnB4dbs_Vgk) <GiuseppeChillemi (GiuseppeChillemi)>:
This is the "all together solution", you can bend with some code to give you the word that has triggered the reaction.  Having one reaction per field gives you precision and granilarity

[17:02:25](#mCP_hnJp67kS_zQXUQsMXN7zsmq-VIPXhOQ3kLJ1Ntw) <GiuseppeChillemi (GiuseppeChillemi)>:
But I admit this twistes my mind! :D

[17:23:41](#kD3njYTHYRH2a4s9Se4-8_abeVjBmo34Co8I-ick_Cc) <hiiamboris>:
Note that each deep-reactor occupies 4kB

[17:38:04](#n8VzPubD93O15RclULBYw2jYuU9r1NOn6S0rRUPMr-E) <GiuseppeChillemi (GiuseppeChillemi)>:
If use it for 100 reaction, it is no more than 400KB, my 1MB amiga 2000 is able to handle it.

[17:38:16](#bOybQDVfEy1_QMHxynax5pKF_t57sM2bo6awzD9v5f8) <GiuseppeChillemi (GiuseppeChillemi)>:
* If use it for 100 reaction, it is no more than 400KB, my 1MB Amiga 2000 is able to handle it.

[17:39:12](#G3NxbK1dKWt1ERcDo4Eq1P4DR-axqxO22iB3RsxO_yo) <GiuseppeChillemi (GiuseppeChillemi)>:
However, I would like to request "Full-reactor!" than handles `MAP!` too.

[18:10:59](#FD2qGbFIXPxCUFYNobKEIcrBn1uq1PSp990MBtXELP8) <hiiamboris>:
However, I would like to request "Full-reactor!" than handles `MAP!` too.

[18:11:13](#z3q5st9q_hTPdGy5ewTpGD4w61BqAF7z0T5ngNOGiT4) <hiiamboris>:
> <@giuseppechillemi-59045d00d73408ce4f5bcd9d:gitter.im> However, I would like to request "Full-reactor!" than handles `MAP!` too.

It's a limitation in my work sometimes as well

[19:21:14](#L2PmdyVbTWT4chsrSXYqOKmv-vcTVdf5FsETzYO7TcI) <dsunanda>:
Rich-text seems broken in today's View for Windows (2025-03-01).
It was not broken in 2025-02-27.
``` 
view [rich-text 100x100 "hi"]
```
```
*** Script Error: old has no value
*** Where: all
*** Near : if all [old <> new image? old] [system/view]
*** Stack: view layout 
```

[23:43:01](#7D-v9Y0Bz93MAAMtbEbISc36kthxlizjo750dakGx44) <GiuseppeChillemi (GiuseppeChillemi)>:
Would you like to support modification on inner objects too or you would you leave it to another reactor?

## 2-Mar-2025

[5:23:24](#O2MEdiuqcz4FEE9wBp1tGGT9cTLN8JK5I29qPS8-spE) <hiiamboris>:
IMO whole 'deep' part of reactivity needs a redesign from scratch

[5:25:23](#_fSF9vzyMzR2Ai7aiMejikrPHPlXdDgpUwXJ5xG91pU) <hiiamboris>:
I also would prefer every inner change to be reported to all outer objects, but to have full control over what gets reported where. That will require multiple ownership.

[5:26:27](#3pfPmokrm4Q9m0BBfFsu1gKWqnmSMGKW_GftpnA9p60) <hiiamboris>:
View itself suffers from the lack of multiple ownership and tries to patch that with kludges (e.g. fonts track all their parents, maybe para facets too)

[5:45:18](#07hWWDi2UNWSDLV1hKXZGR0FN-vdF7Qmm3w_uv4h8gg) <hiiamboris>:
Confirmed

[5:45:22](#fW9TrQXpa8O6O597ii1eUmguQzlku3tS685_PTNmxc4) <hiiamboris>:
I'll report

[5:48:07](#cOKJmTXBAgb1ry1Ud5OWurhqSKjUzCW9HGb3Lf5DwcQ) <hiiamboris>:
https://github.com/red/red/issues/5596

[14:40:22](#vSa0uZDNiBG5ufhIhZ0DeWpgJhezHjqMI-I2Abx7TRM) <dsunanda>:
...And it's fixed! You guys are good!

[14:43:02](#3I1Ll40fZxG80iTQnwBCp2YW-Yo11rqgbvjbaLBXOuA) <GiuseppeChillemi (GiuseppeChillemi)>:
This rule hangs Red:
```
parse x: "xxxababababxxxxx" [any [change any "ab" "hello" | skip]]
```

[14:43:25](#xeACVU415jw4xiqrqJwZPC2Gy-JlLMzhq9zVotzF-Dc) <GiuseppeChillemi (GiuseppeChillemi)>:
* This rule hangs Red:

```
x: "xxxababababxxxxx"
parse x [any [change any "ab" "hello" | skip]]
```

[14:51:21](#XF8MAeMdM61K_m0SxA6bnykTQVc185Yho2eUk6hshnY) <gurzgri>:
```
parse x: "xxxababababxxxxx" [any [[change some "ab" "hello" | skip] pos: (ask rejoin [pos " <continue>"])]] x
```

[14:52:56](#Kd9xTTMAPluPn38aXLmZ4rn0wpC6j3O-ur1dUOjLVyY) <GiuseppeChillemi (GiuseppeChillemi)>:
Also this should match to the end, as if the first rule fails "skip" succeds. But it seems the input not avancing on `any "ab"` is a deadly condition for the top level `any`.

```
 parse x [any [any "ab" | skip]]
```

[14:56:10](#PZKwHcSgSaGs9GD5A8HYLxhJbO9QuXCHB6jDuDtzRjw) <gurzgri>:
No. `any "ab"` will always succeed, `skip` rule will never be envoked: `parse "a" [any "b" (probe 'success) | "a" (probe "a")]` 

[15:01:15](#DbvDb-3k2arVDexM8yDKMr2U9c4FoufmCwsAAkThwnA) <gurzgri>:
* No, this shouldn't and can't match to the end. `any "ab"` will always succeed, `skip` rule will never be envoked: `parse "a" [any "b" (probe 'success) | "a" (probe "a")]`

[15:06:20](#4PRF4Zob5fEch7s5B_366CtpRR3aPV0THFVt8O0vd2Y) <gurzgri>:
See [parse core principles](https://github.com/red/docs/blob/master/en/parse.adoc#12-core-principles), rules can succeed without advancing. And "If terminating conditions are not met, Parse may enter an infinite loop." Sp you'll need to take some care, with `any [any` rules it is easy to shoot yourself in the foot.

[15:06:40](#38Z1YZnrdutnS4fYNae8CnWnhhmhMOXuPGWblx4D5wQ) <gurzgri>:
* See [parse core principles](https://github.com/red/docs/blob/master/en/parse.adoc#12-core-principles), rules can succeed without advancing. And "If terminating conditions are not met, Parse may enter an infinite loop." So you'll need to take some care, with `any [any` rules it is easy to shoot yourself in the foot.

[16:27:42](#coDmKTUmaYOgmjvZHF9eUkfVnHgglyp0tjkoL042dPs) <hiiamboris>:
parse is a little bit of smart here - in loops it checks if either input is consumed or it was modified

[16:28:14](#eNUHRX8XlR2_dC2CKWS9Fahh8WZYv_u6KWImNN7ZiZE) <hiiamboris>:
in this case Giuseppe modifies the input so the loop assumes it was a smart human move and continues...

[18:12:24](#n7M0kjCjptu5JZMj0T4G2pexMDVE6sIZ3Q407S16Jio) <GiuseppeChillemi (GiuseppeChillemi)>:
In fact I remember you explaining me that if parse detects input is not advancind it fails. So I expected the rule to fail because of this reason.

[18:13:50](#1AhG0brJgXb_pMsKuEuRgNwbdUS8ztzSuJEQCfeCVSk) <GiuseppeChillemi (GiuseppeChillemi)>:
So it is change which is causing the hang. 

[18:15:38](#WPp7JiAprHaA-FZZ-13Z21lH3dkmHVQdrqlrG2f2css) <GiuseppeChillemi (GiuseppeChillemi)>:
But as the rule is not advancing and there is  nothing to change, is it a condition to check and implement?

[18:16:53](#RJ7134i_X1naKSpHDcy0n_pXuTlXJdrtGo9g1uVClOY) <hiiamboris>:
how does Red know this is not what you wanted?

[18:17:39](#GQqOdouITj4R21Cp7VAEIAxHsjq1gw6H94yuvhbk2U0) <GiuseppeChillemi (GiuseppeChillemi)>:
In 10 minutes I will be at home and answer

[18:39:49](#ibyVBO3WX9w-Ltf1kYHU7AP28qkTbgFRX2sMMnZSBSQ) <GiuseppeChillemi (GiuseppeChillemi)>:
You are right there. The problem is generated by the word FAIL. There is a difference between the failure of one of the checked conditions and failure of the rule. When one of the checked condition fails, it moves to another but when all checks fail, the rule succeds. You should be clear with the wording because "ab"  is also considered a rule, so when you say "the rule fails", you mentally migrate it to `any` as a rule. 

[18:40:18](#4UhWWjkpjO6hccLGHmxHez5sQXFJeizOcCBu7kzpLC0) <GiuseppeChillemi (GiuseppeChillemi)>:
* You are right there. The problem is generated by the word FAIL. There is a difference between the failure of one of the checked conditions and failure of the rule. When one of the checked condition fails, it moves to another but when all checked condition fail, the rule succeds. You should be clear with the wording because "ab"  is also considered a rule, so when you say "the rule fails", you mentally migrate it to `any` as a rule.

[18:43:45](#4DgmuABBky3bTdqf08Z3xeLoPQV53kzmD-NPdcnfs-Q) <GiuseppeChillemi (GiuseppeChillemi)>:
`change` nothing? If the inner rule has ended and input does not move, `change` can't continue in any case. But maybe you have in mind some situation where `change` rule does not advance the input but can continue which I don't see.

[19:10:24](#Z_mQbOwwfD7cul-HN5OYbwm-EtaeRdps2yXfJtBldMc) <GiuseppeChillemi (GiuseppeChillemi)>:
I have given a look at the blog

[19:10:29](#KNagS1vo0cZKRX9CUyNkbpd5diLzZFms0XfKMw1eIgg) <GiuseppeChillemi (GiuseppeChillemi)>:
![](https://gitter.ems.host/_matrix/media/v3/download/gitter.im/c25f4255d29277ef83f688270a8c11c61e2006431896276942752055296)

[19:12:44](#kps4fgx5FRtSw52XIp2ztVZocyqHPnGqUt-Kvo2Uqtc) <GiuseppeChillemi (GiuseppeChillemi)>:
It talks about `any` failure. But `any` never fails, it returns always succes. It STOP if the input does not advance but with success. 

[19:13:02](#Tzkdt3k5bDmx9P-Bj9ao1YHpcL4s8xMXypd-Byc4CgY) <GiuseppeChillemi (GiuseppeChillemi)>:
* It talks about `any` failure. But `any` never fails, it returns always a success. It STOP if the input does not advance but with success.

[19:15:22](#b-CHf7jYhuhgz6s41T8sj0Kc_WuiL15CopUfuDppdWQ) <GiuseppeChillemi (GiuseppeChillemi)>:
If we look the document you have pointed, it states just this:


[19:15:25](#p1cthpaAC3qOeb_RdZpjB18P3mshoXoa1BmeSnyGiXQ) <GiuseppeChillemi (GiuseppeChillemi)>:
![](https://gitter.ems.host/_matrix/media/v3/download/gitter.im/8b5cdcfbd21ed8ff8597ec390b0df95bddcb51181896278187634065408)

[19:15:47](#kQpS6B1JYujfWY5GFJ-jm_J6U7PEcEjqYP77nDsnpQQ) <GiuseppeChillemi (GiuseppeChillemi)>:
![](https://gitter.ems.host/_matrix/media/v3/download/gitter.im/d42ba208f25352a5b9e935bf9ea447a26dfb2f7e1896278277148901376)

[19:16:31](#KpcV1CFf4e_mXxFO0wmvatK_qBszwKdYPGQtajPvJkA) <GiuseppeChillemi (GiuseppeChillemi)>:
I have learn on the blog, su that "until failure" shoud be corrected.

[19:16:40](#tQMvZKqYZECGy77Q1rdI3QAm2r3hdR6CLEuF4pSSq2E) <GiuseppeChillemi (GiuseppeChillemi)>:
* I have learnt on the blog, su that "until failure" shoud be corrected.

[19:49:08](#FguBtw0jE_rgoGkx5RpnDRNGLILV_XxqDa4-MR9FjYs) <GiuseppeChillemi (GiuseppeChillemi)>:
* I have learnt on the blog, so that "until failure" shoud be corrected.

## 3-Mar-2025

[7:02:32](#JBJTrk2jHetQWuBNp_cckr3jOva5bCAA8XbYQur0Mvk) <hiiamboris>:
"did not advance" should be clarified, I agree, as it's a bit trickier than that

[7:02:55](#5x4-TTTZ_Kb2JFxHJ-LmOvMIgZaPTY2fgnbFU6qcCz8) <hiiamboris>:
you may open an issue in red/docs about that

## 4-Mar-2025

[19:40:33](#_k5nx2CKO7e_lr1gzF_nYMfOOTLKbREANZ8nqqgYk-4) <GiuseppeChillemi (GiuseppeChillemi)>:
you may open an issue in red/docs about that

## 10-Mar-2025

[12:28:07](#0pnCzoqpCP-LeltgIsL9Rym27MMzPVj-bbcfs-6Cshs) <Oldes (@oldes.h:matrix.org)>:
There is inconsistency of `debase` results:
```red
 >> debase/base "1011" 2
== none ;;<-- none when input is not complete
>> debase/base "10111111" 2
== #{BF}

>> debase "10"
== #{} ;;<-- empty when input is not complete
>> debase "1010"
== #{D74D74}

>> debase/base "A" 16
== #{} ;;<-- empty when input is not complete
>> debase/base "AA" 16
== #{AA}
```


[13:09:16](#5_EDgta9N_vHFZInbKNrap6QLmx1tLMFQwVBOzclbn4) <hiiamboris>:
indeed, some bug in the binary branch of it

[13:09:34](#8U0IaKONPFNaDU9ICu6Xthnqu_3wNaHw3k7lHlh4Q50) <hiiamboris>:
```
>> debase/base "101110110111000101010" 2
== none
```

## 12-Mar-2025

[1:43:46](#zuQe1LNfqdrt2h-9zEc_aB1lYEkHINEAITicqLm_koA) <GiuseppeChillemi (GiuseppeChillemi)>:
This:
```
view [button "hello"]
```
Starts with origin on the left

This:
```
view [button "hello" 80x30]
```

Is centered. I think it is a bug

[3:00:46](#6PvMTqfQmXP8wNLKcg8Z0ncCcJdCOs0d3luMjltN-es) <ldci (FranÃ§ois Jouen)>:
with macOS, text is centered in both cases.

[3:23:43](#qop7gwjof50rIMNs1uIRUvVWh1d7to2KPF3Hy2A_zps) <GiuseppeChillemi (GiuseppeChillemi)>:
Windows 11 here

[3:23:51](#IA8hC3ycpccR2G2typR59LbVq3vUqJOJpIN1QQtXsSA) <GiuseppeChillemi (GiuseppeChillemi)>:
Dual monitor 

[5:42:22](#7lfQ21lthsJcQ0wGbb7se6uV5lM8CaN5AssoT15fDMs) <hiiamboris>:
![](https://tchncs.de/_matrix/media/v3/download/tchncs.de/38279c2f6a0787aefd0683e32e3fc77a51b245fd1899697450201907200)

[5:42:37](#7zRRw1g8pwsEuZ6_o-nG5GEiKu4Di0pmuLoovq0Fj-4) <hiiamboris>:
I see no bug `Red 0.6.5 for Windows built 8-Mar-2025/1:50:44+08:00  commit #5ca58ad`

[14:21:12](#gOab_7ggQPkvWjZ7NSElYOvYXMKlGt-fXSos64EOPJ0) <GiuseppeChillemi (GiuseppeChillemi)>:
Here it is:

[14:21:18](#Im7hKRP0ZuK3qN0fIiAE0N7lMb1-JLZXSwEUO22eC6o) <GiuseppeChillemi (GiuseppeChillemi)>:
![https://gitter.ems.host/_matrix/media/v3/download/gitter.im/06aa646b1d6049dfcd20ad267d8568c8ac1801bd1899828043573100544](https://gitter.ems.host/_matrix/media/v3/download/gitter.im/e3b063ac01f3f8b499ef9b2782815c86cc83dae71899828045137575936)

[14:27:20](#tDVnCRvEdFUuyIaxQ4DTNwk0hefxYrHKSc2WQYtSHhU) <hiiamboris>:
Looks like some dpi bug to me. Your second button is huge.

[14:30:24](#qqv3x15sberKGgicxiiYYmMmQ5RKpLVROdPrv-uqvGE) <GiuseppeChillemi (GiuseppeChillemi)>:
It is not influent, I have tried 60x20 and less. If I express a XxY dimension, it appears in the middle of the screen, otherwhise it appears on the left

[14:31:11](#nwdtjBhrnxmir8vKduxHMtOtsQkhoxM_S7m13s8Gmkw) <GiuseppeChillemi (GiuseppeChillemi)>:
* It is not influent, I have tried 60x20 and less. If I express a XxY dimension, the WINDOW appears in the middle of the screen, otherwhise it appears on the left

[14:31:28](#Erdj7aWOgbZVtVUWscQ6vpHFAOHj31XsIrE987eAQLQ) <GiuseppeChillemi (GiuseppeChillemi)>:
The problem is in the WINDOW and not in the button

[14:31:38](#eJk4dHv8qv32jhWp04vEZd_B6dTIbCjrjclC-d12iJk) <GiuseppeChillemi (GiuseppeChillemi)>:
* The problem is the WINDOW and not in the button

[14:31:43](#8AKg0CbyZ0G7K5huaFcgj8sFfKRUYrt22LZ3bRlylu4) <GiuseppeChillemi (GiuseppeChillemi)>:
* The problem is the WINDOW and not the button

[14:34:09](#1IxUCjPy2fTR752Px-kVMLPjpEHfF2_QuYvazXuV64o) <GiuseppeChillemi (GiuseppeChillemi)>:
* The problem is the WINDOW position and not the button

[14:35:25](#CKafo_3KKmKjSgO9tqBzq4vinxZxTb7BbvNgdYKR0Ys) <hiiamboris>:
Got you

[14:35:38](#umlSxZn-NXs-1LkYUDyoVdTfnprs8ee9fd9joRPu-nE) <hiiamboris>:
No such problem on W10

[14:35:50](#jlnABNJYpl9yggAqaIrTsFbJvgmMliA5B-vQCeLUlRM) <GiuseppeChillemi (GiuseppeChillemi)>:
Dual monitor setup too?

[14:35:57](#pUurUEJozEDK0cbBfz8jfBUoXaM0wt9e8Mu6V6RAMHI) <hiiamboris>:
Or at least in a single monitor setup

[14:36:18](#-zNBYZNjHBUHqoptfeJGGPkKGtEW14N0Ja2p1-Mjazg) <hiiamboris>:
I'll ask Nenad

[14:39:42](#XvG81M6xSolG1VdHLk8tRqSnTr9iwXRAs_OD2LxnEwU) <GiuseppeChillemi (GiuseppeChillemi)>:
I have tried `view/options [Button "Hello"] [size: 200x200]` and it is centered too. So, the lack of button size or window size let the panel start on the far left

[14:52:44](#vG1yhrHP_oIXhJfV30xbLjmywMXsJVCT9RaB23pdJRw) <GiuseppeChillemi (GiuseppeChillemi)>:
I have this other:

[14:52:51](#PmftGQk3Hptqi6sF8WbQ2TyjtxusQ1MnwbLBH3MFEzo) <GiuseppeChillemi (GiuseppeChillemi)>:
![https://gitter.ems.host/_matrix/media/v3/download/gitter.im/1a9e474986ada6748e1fda1ef505cb05b456ee1e1899835981163397120](https://gitter.ems.host/_matrix/media/v3/download/gitter.im/f309ff599f706dd34e2987a411999176857e31f81899835986351751168)

[14:53:25](#qVoxD06GwyO4QVD2XZLnPx34je6eBjMb9uDwWufUXwc) <GiuseppeChillemi (GiuseppeChillemi)>:
When the overlay app appears while writing, then coming back to red, the input does not work anymore

[14:53:45](#cMlG7px_m6XKxPK3PQ6R-XHrzHqsn3ya__nyTjHAQrk) <GiuseppeChillemi (GiuseppeChillemi)>:
It does not accepts input event after the lateral popup

[14:53:55](#j_zyoF2vrd20svIa080KV6FZ_4ColANvfG2ztrRbba8) <GiuseppeChillemi (GiuseppeChillemi)>:
* It does not accept input events after the lateral popup

[14:54:24](#alYVhF-pxdmzwHGugNhKds7ruhg_d3tnF2bwk_F3NEA) <GiuseppeChillemi (GiuseppeChillemi)>:
Today are raining bugs! :D

[14:58:32](#QGcaKEC0df0wGCDs1Fl93sv_diqtO0k3jb3toQsBZhg) <hiiamboris>:
Never saw that. Could be nvidia bug...

[16:21:49](#Sswx_XJGP-mSj0zCo-7zjoTHTxMj4Isv-MKT_ldloQw) <GiuseppeChillemi (GiuseppeChillemi)>:
It is only Red that has the input problem. If I close and reopen it, the bug disappear. Someone should test with other popups or the  NVidia app that comes with the GFX drivers.

[16:31:11](#tjMsn4R-KBpAqfl4i-Od8zpPk0SC8mFAQWcBm152RXA) <hiiamboris>:
I always delete the bloatware. Sometimes I give it another try and see that it fails to do just about every thing it is supposed to do. Then I delete it with confidence â˜»

[16:39:03](#I8wDo7sarmsU2knMY01EXrzHyUY6QiZjz9cXQuMqwsc) <GiuseppeChillemi (GiuseppeChillemi)>:
I have a gaming notebook but I need just the drivers. So I have never started the overlay system until today as I have updated the driver and that "feature" activated itself, so I have noticed the problem.

## 15-Mar-2025

[14:33:17](#hRUi9RPtbVbhSUxa4amUZ5iz4Tl1AZ9mQu0m5bUvByo) <gurzgri>:
Latest automatic with simpliest TUI-script
```
Red [Needs: 'View Config: [GUI-engine: 'terminal]] about view layout [text "Test"]
```
crashes. It works in
```
PS> & 'C:\Program Files (x86)\Red\20250314 eb868ae2d\red-14mar25-eb868ae2d.exe' .\demo.red
Red 0.6.5 for Windows built 14-Mar-2025/17:49:57+01:00  commit #eb868ae

*** Runtime Error 1: access violation
*** at: 004902BEh
PS> & 'C:\Program Files (x86)\Red\20250303 2e6c84064\red-03mar25-2e6c84064.exe' .\demo.red
Red 0.6.5 for Windows built 3-Mar-2025/3:30:56+01:00  commit #2e6c840

 Test
```

[14:33:48](#ONtfoy-j0U9v3brksae06QH08fYdmmcUAQqoSRYJcK0) <gurzgri>:
* Latest automatic with simpliest TUI-script

```
Red [Needs: 'View Config: [GUI-engine: 'terminal]] about view layout [text "Test"]
```

crashes:

```
PS> & 'C:\Program Files (x86)\Red\20250314 eb868ae2d\red-14mar25-eb868ae2d.exe' .\demo.red
Red 0.6.5 for Windows built 14-Mar-2025/17:49:57+01:00  commit #eb868ae

*** Runtime Error 1: access violation
*** at: 004902BEh
```
It works in
```
PS> & 'C:\Program Files (x86)\Red\20250303 2e6c84064\red-03mar25-2e6c84064.exe' .\demo.red
Red 0.6.5 for Windows built 3-Mar-2025/3:30:56+01:00  commit #2e6c840

 Test
```

[14:34:21](#DUfx1gef4IgYpthBinNwWyLUAnWAgWzDjx7DZGY-Y0M) <gurzgri>:
* Latest automatic console build with simpliest TUI-script

```
Red [Needs: 'View Config: [GUI-engine: 'terminal]] about view layout [text "Test"]
```

crashes:

```
PS> & 'C:\Program Files (x86)\Red\20250314 eb868ae2d\red-14mar25-eb868ae2d.exe' .\demo.red
Red 0.6.5 for Windows built 14-Mar-2025/17:49:57+01:00  commit #eb868ae

*** Runtime Error 1: access violation
*** at: 004902BEh
```

It works in

```
PS> & 'C:\Program Files (x86)\Red\20250303 2e6c84064\red-03mar25-2e6c84064.exe' .\demo.red
Red 0.6.5 for Windows built 3-Mar-2025/3:30:56+01:00  commit #2e6c840

 Test
```

[18:12:44](#zEyYibqG2s60mwi59eCALfdEU2LWXM1CDyH-49fBQ1k) <gurzgri>:
It's broken by [commit #02999cc 10-Mar-2025/0:03:45+01:00](https://github.com/red/red/commit/02999ccb068e00bc62bf6ed03326ea41ff517ac5)  

[18:22:48](#_g7EeQmYZrRakPOufm5BD_ajDlEwJhtn8c66WvQEnks) <hiiamboris>:
for me it says *undefined word 'about'* during compilation

[18:27:34](#vt8efowZehxqUaQ8JYYloM1VhhuRD81jgoBHi5koh9U) <gurzgri>:
You're not supposed to compile the small `Red [...] about view layout [text "Test"]` snippet to try to interpret it with the nightly builds í ½í¸‰

[18:27:46](#lFcrFNNnmQ52HYKE1tzLuXC7dyIUBlooYVLjOI9Hfwo) <gurzgri>:
* You're not supposed to compile the small `Red [...] about view layout [text "Test"]` snippet, but to try to interpret it with the nightly builds í ½í¸‰

[18:45:33](#S86vEC7MvSLgREm2K-E7fxhTigkoezyEH94xOLyWALU) <hiiamboris>:
ah ok :)

[18:45:53](#7HqB7AlB1FJd5Eu8dIB47EZOML1gysGb3RaDdSNhAes) <hiiamboris>:
anyway I've compiled it without `about` and it crashes

[18:46:02](#K58cLKab3fjmnGPeweDok98-_JQtwKGwdVdfcRifVhk) <hiiamboris>:
would you please open an issue?

[18:46:18](#wZo_pjcH4SuR-OVlKcLoaMVIKosRcdGUi9SQpo_MtnU) <gurzgri>:
will do

[21:00:49](#zydkIDeSHixuG5KLMmULluclos9XccndZicKTm8duzk) <GiuseppeChillemi (GiuseppeChillemi)>:
It is not a bug but `exclude/case` is limited for some operations. It applies equalnes using `any-word!`. You have no way to tread all any-word as different without enforcing uppercase/lowercase sensitivity.

[21:04:00](#kaaWVM5DXpF150wdp8kM8hWr8MXafMrwfMUL9Hf-l1s) <GiuseppeChillemi (GiuseppeChillemi)>:
It would be nice to have 2 more refinements. One for just uppercase, another to consider `word!` `set-word!` and other types as different

[21:13:11](#b8XziBBF0Z4JzeFY9z6A9ZwJ2N11mKrCP_wqyL-LwaY) <GiuseppeChillemi (GiuseppeChillemi)>:
* It is not a bug but `exclude/case` is limited for some operations. It applies equalnes using `any-word!`. You have no way to threat all any-word as different without enforcing uppercase/lowercase sensitivity.

[21:13:33](#V6t0bxdCEv0cibN83zaDdOZPk98lVMidm7yfNHxCcpY) <GiuseppeChillemi (GiuseppeChillemi)>:
* It is not a bug but `exclude/case` is limited for some operations. It applies equalnes using `any-word!`. You have no way to threat all `any-word!` as different without enforcing uppercase/lowercase sensitivity.

[21:16:41](#fV_9J_WYaIl68AEralmKyQmdAh_wATwsdqWZVbJj394) <GiuseppeChillemi (GiuseppeChillemi)>:
* It would be nice to have 2 more refinements. One for just uppercase/lowercase sesnitivity, another to consider `word!` `set-word!` and other types as different

[21:16:53](#Q4KzbDKlxBNTXy48Ayvpc7TTMj08CusRi4giwlZ63QI) <GiuseppeChillemi (GiuseppeChillemi)>:
* It would be nice to have 2 more refinements. One for just uppercase/lowercase sensitivity, another to consider `word!` `set-word!` and other types as different

## 17-Mar-2025

[4:31:18](#wCaq715BsFMWyIQmW5ziPQ9k7DpMz-Gqej4KS5bXNS4) <GiuseppeChillemi (GiuseppeChillemi)>:
Why none can't be converted to word? Is there any reason or is just an overlook?

```
>> to word! true
== true
>> to word! false
== false
>> to word! none
*** Script Error: cannot MAKE/TO word! from: none
*** Where: to
*** Near : to word! none
*** Stack:  
```

[4:56:40](#Ce4dXhiYnm8dR9XFnq34n70NYsTEUTPFBMaCCHHMr8o) <GiuseppeChillemi (GiuseppeChillemi)>:
`empty` should accepts objects too:
```
>> o: make object! []
== make object! [] ;<<---------- This is empty!

>> empty? o
*** Script Error: empty? does not allow object! for its data argument
*** Where: empty?
*** Near : empty? o
*** Stack: empty? 
```

[5:01:12](#447bf7NI375hAgAYa4_LFBhKEHqqNC7KGksu-ii0fHk) <GiuseppeChillemi (GiuseppeChillemi)>:
* `empty?` should accepts objects too:

```
>> o: make object! []
== make object! [] ;<<---------- This is empty!

>> empty? o
*** Script Error: empty? does not allow object! for its data argument
*** Where: empty?
*** Near : empty? o
*** Stack: empty? 
```

[5:01:23](#_50c5rQAZJDRGdUp8jqTFTZmiWOko5uESA8ny88UJQY) <GiuseppeChillemi (GiuseppeChillemi)>:
* Why `none` can't be converted to word? Is there any reason or is just an overlook?

```
>> to word! true
== true
>> to word! false
== false
>> to word! none
*** Script Error: cannot MAKE/TO word! from: none
*** Where: to
*** Near : to word! none
*** Stack:  
```

[5:05:33](#Xem2ONijAgw4bzqqTRnrlxChscHmefrRvwk7Bdq5VA0) <GiuseppeChillemi (GiuseppeChillemi)>:
If you confirm, I will write 2 issues

[6:16:01](#Z-qVXFYRU9_7_eohnDhxNjEKay-3NApZLVJGM5tDzCI) <hiiamboris>:
I think it's by design. This conversion makes no sense an is likely a bug indicator

[6:18:50](#aShYySkFv4lFDu8ixd6Usows5hB3YrnTDQLJkoevXy8) <hiiamboris>:
This should be a REP if you want `empty?` on objects. Objects are not series and you can't remove keys from them like from maps, so you'll need  to provide some justification.

[6:19:25](#rd1GIah4rinrr9sYYmmUJD3WAmmJJ7vddGeyDfjPSy0) <hiiamboris>:
For the same reason, there's no `length? object []`

[12:35:11](#KC7jA_VlJXDAhVMxgx_fuO9WKEwRw8SwNlPESRAdUas) <GiuseppeChillemi (GiuseppeChillemi)>:
If you need to check the datatypes via FIND it makes sense. I have a 3 states return value: TRUE/FALSE/NONE that is used by SWITCH

[12:39:57](#ZjRN-vBza4yz0933GzjgWikMPM6zfwY1WYcxpXk7BiA) <GiuseppeChillemi (GiuseppeChillemi)>:
If you want to check how many keys there are to compare with a map, if you want to check before converting to a block, to simplify looping with keys when there are differnt containers having keys... (I may have sone more)

[13:22:50](#YNe4_OtxA0G5bneRd8TDd9BPq0BcGcNnnR0E4NbAHJ4) <GiuseppeChillemi (GiuseppeChillemi)>:
* If you need to check the datatypes via FIND it makes sense. I have a 3 states return value: TRUE/FALSE/NONE that is used by SWITCH. Both commands needs the conversion to WORD to work properly and also `SELECT` or paths acting on a block with datatypes keys. So IMHO `to word!` must accept it, or natively or via `/any` refinement. 

[13:23:12](#zbQgLsMhZw7_CZJeWHYJK0mYRWIMBJbgJQJD7Olf4O0) <GiuseppeChillemi (GiuseppeChillemi)>:
* If you want to check how many keys there are to compare with a map, if you want to check before converting to a block, to simplify looping with keys when there are differnt containers having keys... (I may have some more)

[14:56:13](#yNwpAQDFLIi0acUAJsgdakNW_ExJw9oFhYFHHxpi0Wc) <hiiamboris>:
Most of that sounds like incorrect choice of a datatype to begin with

[16:45:35](#evvQTEjtsxe1q9iRyKtfxtqBIKS6RdqJc3uF6XnOUxU) <GiuseppeChillemi (GiuseppeChillemi)>:
I have created some universal functions to check the values of the keys, convert from a datatype to another. For example, converting from a `map!` to an object, you may check length, but vice-versa, you must pass from `body-of`. If you want to convert a `block!` to a `map!` you must use `length?` but `body-of` is not usable there. So to know if the container have content, you must use conditional code over multiple lines instead a simple `length? container`

[16:45:47](#_nuusfVHnQ58lHGxMuSnWhAQdluExLk7EWQJuybdRbU) <GiuseppeChillemi (GiuseppeChillemi)>:
* I have created some universal functions to check the values of the keys and convert from a datatype to another. For example, converting from a `map!` to an object, you may check length, but vice-versa, you must pass from `body-of`. If you want to convert a `block!` to a `map!` you must use `length?` but `body-of` is not usable there. So to know if the container have content, you must use conditional code over multiple lines instead a simple `length? container`

[16:47:56](#PYzwGC7uqdYOJZ5FmNeRaOOHL1awFvwS_-dQaNWUG34) <GiuseppeChillemi (GiuseppeChillemi)>:
* I have created some universal functions to check the values of the keys and convert from a datatype to another. For example, converting from a `map!` to an object, you may check length, but vice-versa from `object!` to `map!, you must pass from `body-of` and spend some more cycles. If you want to convert a `block!` to a `map!` you could use `length?` but `body-of` is not usable there. So to know if the container has content, you must use conditional code over multiple lines instead a simple `length? container`

[17:20:13](#14gUMRo8s0pwkTUDaAP5VmRAhpFz1jLqKd4mOXIViXw) <gurzgri>:
A probably canonical approach to address this is `switch none [#(none) ["none value"]] ["some other value"]` (minus the fairly recent difference in construction syntax) since the days of R2, where `to word! none` wasn't available either.

[17:24:01](#PcgfWit17kHM1LDX4M5F3pS5CXJobeJ7FQWxO4VOuEI) <gurzgri>:
* A probably canonical approach to address this is `switch none [#(none) ["none value"] ... ["some other value"]]` (minus the fairly recent difference in construction syntax) since the days of R2, where `to word! none` wasn't available either.

[17:50:02](#rIrk4LB48ECZirXR1toKqBGospck1qktljMfApMU18w) <hiiamboris>:
Using a `select` on a static map you can also reduce the number of brackets involved.

[19:02:48](#_ngXQGeTKUfGKzU2hgsRr3s-hL76-qrxbIkHXZUW4Cc) <greggirwin (Gregg Irwin)>:
This is where a REP is good, because it makes you look at the bigger picture. "Design by increment"(TM) doesn't always get you where you want to go. 

And, remember, if you want to get *me* on your side, don't use performance arguments without numbers to go with them. ;^)

[19:03:25](#9A1RyUssQzM34SrpjWrIJrRUR3Q-tbC8B-dqI_NHPFU) <greggirwin (Gregg Irwin)>:
Commented in the thread. A REP is the way to go here, and it can include `copy` semantics, which I have notes on I can share for that.

[19:35:50](#zfOZanQypaz_86qZ6oZVuCdEZOghgroNQWTd2pRRJvc) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@gurzgri-56c25b3ae610378809c19713:gitter.im> A probably canonical approach to address this is `switch none [#(none) ["none value"] ... ["some other value"]]` (minus the fairly recent difference in construction syntax) since the days of R2, where `to word! none` wasn't available either.

There are plenty of solutions but I hate when I must use additional code. I have a simple TO WORD! for the other types but NONE wants an additions checks. Maybe avoiding NONE is also a safety measure.

[19:36:16](#KkG3k8W11rdJD7T3nO6j_FU8EpFBKwodEQmzLnF2BsA) <GiuseppeChillemi (GiuseppeChillemi)>:
* additional code for excelption

[19:37:01](#tPaemiG40GrEY1og7N7wFrHDzGZWcPd5TPcErnKT8kA) <GiuseppeChillemi (GiuseppeChillemi)>:
* additional code in loops because of exceptions

[19:37:17](#ttzDm798v-mH3pihAmMONw6coW74BQWqTrABbCMKkf4) <GiuseppeChillemi (GiuseppeChillemi)>:
This distract me from the looo

[19:37:48](#p2sotiTFMNYOr6WzCIYaXiHx0FxMnZJmmzpJKfemyq4) <GiuseppeChillemi (GiuseppeChillemi)>:
Because it distract me from the code purpose

## 18-Mar-2025

[8:31:39](#0rKrytxfUiLodiJj0nzRPMeFQXM_NFyMtxQ0sgcX9Xw) <Oldes (@oldes.h:matrix.org)>:
![](https://matrix-client.matrix.org/_matrix/media/v3/download/matrix.org/KnCSurkhJPVmShDxTavIXqNX)

[8:34:21](#JAEglhoFct3LwX3kZtiQC6vyc6OSR6YzwnXPElGk5ug) <Oldes (@oldes.h:matrix.org)>:
And it was not me who introduced it:)

[8:34:24](#BYY2A8p_8Un5K8eKzf8474ivi2M2Px2I5oRyYSDh6NQ) <Oldes (@oldes.h:matrix.org)>:
![https://matrix-client.matrix.org/_matrix/media/v3/download/matrix.org/EhfJAuICEGJMbrvDDkLKJrXG](https://matrix-client.matrix.org/_matrix/media/v3/download/matrix.org/tiHshoIcxkebEAzWkWedCJAm)

[8:57:14](#Jw0dgLF3xZX4f_CuKPmnAdKo52Xad8U9SoUd92JJ_pA) <hiiamboris>:
R3 compatibility is a good argument

[9:02:50](#w9Ionl0uUy8djN8kjfIfeDR7QzkRFVzfHAM-b6mtpzE) <Oldes (@oldes.h:matrix.org)>:
I don't understand, why you need it:/

[10:10:50](#ehsHVIqADigO4VXBRBOuPNoJYjt2fxioEIFL_eMVaaY) <GiuseppeChillemi (GiuseppeChillemi)>:
Consistency is important too, otherwise you complicate loops that work on both containers. 

[10:11:55](#zVAD77SLtMpka_y8nGafw1gS46wGxYq2pRlg4RbxrYU) <GiuseppeChillemi (GiuseppeChillemi)>:
(and there is no reason to not have such function working on objects too) 

[10:12:28](#jDwfdIKYHgRB8UADRBkAm55n88RMkpiGl0Fo2TwV96k) <GiuseppeChillemi (GiuseppeChillemi)>:
* (and there is no reason to not have such functions working on objects too, or at least I don't see one) 

## 23-Mar-2025

[0:08:10](#SsFUFtini7FILtz0GI86KurWf0qDovQl1dRahNnQ_L4) <GiuseppeChillemi (GiuseppeChillemi)>:
So it is an `url!`?
```
>> type? quote a::
== url!
```

[4:02:24](#Y6PiHMkWvPeR5jM6chwT7duO8q7ekhoRc97_Lzk45R0) <hiiamboris>:
url or ipv6

[4:03:19](#j-2kLKY3oX6QbxYFLgbZ1g8d1X8IzdmrYnx85XK1cEY) <hiiamboris>:
* uri or ipv6

[9:30:09](#wr0RoNX19b_1MzNB4LxbXv8RCBfq_vMvgloWOnONlqA) <GiuseppeChillemi (GiuseppeChillemi)>:
Just to know it is a valid entry

## 8-Apr-2025

[13:34:05](#Oy4H3dQ97WtQbH_wn2ACtk4rFbv_VW-jBo8jS8-oTUc) <loziniak (Maciej ÅoziÅ„ski)>:
Shouldn't exit code of an empty script be `0`, that means successful execution?
```
Red [file: %exit-test.red]
;-- just an empty script
```
```
$ ./red-05apr25-75e46f30a exit-test.red 
$ echo $?
255
```


[13:51:19](#3iVQ_EMHQmS3SzmDotKMC6_ce5w8gqbH8teRRT7x3Ew) <loziniak (Maciej ÅoziÅ„ski)>:
It's on Manjaro (Arch) Linux, x86_64

[13:59:06](#XtSS11--F3co71tsBKu6gDjqD917YWdOIuHmIGQTgTc) <loziniak (Maciej ÅoziÅ„ski)>:
Could be related to [#4095](https://github.com/red/red/issues/4095), but that was about compiled `quit/return`.

[14:00:53](#o5MjTUZyaX8mamuViJ4Jx-3SeT4p7I9JVleivrZ8oO4) <hiiamboris>:
I confirm something changed in Linux return code

[14:04:58](#r_4VCkp4cmQuYvQM3tzvaGheen-8F_yNjpkhI9W8NIA) <hiiamboris>:
```
test@AURA:~$ ./red-07jan25-3e3c0952f 1.red; echo $?
255
test@AURA:~$ ./red-23dec24-66b2f5ba1 1.red; echo $?
0
```

[14:05:11](#mCOVcnWzhzR_aPX_OQEO8pZN08zIhlWJrQvk88cD5Gw) <loziniak (Maciej ÅoziÅ„ski)>:
It's the same when compiling:
```
$ ./red-toolchain-05apr25-75e46f30a -c exit-test.red 
$ ./exit-test 
Gtk-Message: 16:03:50.426: Failed to load module "canberra-gtk-module"
Gtk-Message: 16:03:50.427: Failed to load module "canberra-gtk-module"
$ echo $?
255
```

[14:12:16](#vGddShvae965D-Cd3i6qG-M6UpVZv9qSLegNoJJK_NQ) <loziniak (Maciej ÅoziÅ„ski)>:
https://github.com/red/red/issues/5608

[17:54:55](#iLtMXXMZJLw_DtUR2PIjSRjrr_LhuQ5zG7NUeoh8iUw) <greggirwin (Gregg Irwin)>:
Thanks for the report.

## 27-Apr-2025

[16:44:38](#KHmiojRRPsrJLjer6Dbt7qKEMC7Kkmn5YBnkaNCAZPU) <dsunanda>:
I have a problematic REDBIN file - created with SAVE/AS ... 'REDBIN
```
 repeat n 10 [print n load/as %app-cache.bin 'redbin recycle]
1
2
3
*** Script Error: REDBIN - invalid record at index 130161
*** Where: decode
*** Near : codec/decode source
*** Stack: load
```
The "at index" number varies. The number of cycles it takes to fail varies. It can last a lot longer without the RECYCLE and/or with RECYCLE/OFF. Sometimes it manages all 10. Sometimes the console just blinks out of existence.

Tested on Windows, latest build, stable 0.6.6 and older 0.6.5. Same problem.

The problematic file is 0.6MiB. I have not attempted to make it smaller. The data has been obsfucated, so you are welcome to a copy.

Thoughts?


[16:54:26](#XfycLLzkJH5eX11WwaaTSTCRpwkxW3WoaUnOVWH5irw) <hiiamboris>:
I think it's best you upload it to gist or somewhere so the team can debug the codec

[16:55:09](#IgPju7tMn-0oIVsRHJfkTk871duip6Dq-WKKvLD5FMQ) <hiiamboris>:
Or even better, raise an issue and attach the file

[18:12:32](#YuJZxMyJq2ODI_zw7U3AZOBaKs1Uk3WxzSr_qJaA8wk) <dsunanda>:
Thanks -  done that #5611 . Had to change the suffix on the file name, Github is picky about that. Good luck with the analysis!

## 5-May-2025

[6:11:42](#Slb6jV3G0TSGNxmLfgEcvp9iRMUPuLGIpKNFf1KRuSs) <PeterWAWood>:
Thanks -  done that #5611 . Had to change the suffix on the file name, Github is picky about that. Good luck with the analysis!

[6:12:38](#UnwWIqMvPXNrEJBDR1XTLYGlfOqcVv07BxOWyFbTX7I) <PeterWAWood>:
I experienced in a silent crash with red-view-066 on Raspberry Pi when I tried to access a map! value within a map!. The map! value was created by loading JSON.

Here is a brief screen recording of the crash:



[6:12:58](#2npdVc1cl0iaTvT1NR8oIj6JUVPuspXNjQOgGSJOr4w) <PeterWAWood>:
I experienced in a silent crash with red-view-066 on Raspberry Pi when I tried to access a map! value within a map!. The map! value was created by loading JSON.

Here is a brief screen recording of the crash:



[7:14:27](#6LWG3yndu62QipyTZnM4URhMKVWgdWHqi8aBXuN1WoM) <Oldes (@oldes.h:matrix.org)>:
Video does not help... you should use debug CLI build in a terminal which will let you see exact place, where it crashes.

[9:10:10](#YCGd6FcibBumYEailzPbvrMg7HevWumcquDzxyoyVvs) <PeterWAWood>:
I cannot reproduce the crash.

[9:17:01](#eh4w7ADUuG27BVgc0ROu9JORPV4LflLpZHZmbdrIN4k) <hiiamboris>:
random crashes still happen from time to time, and we need a reproducible way to debug it

[11:06:28](#yYFRVvn5dJ1e-lMZLmJ5VeCcrKQ5UttZeVq7Lua-KAo) <PeterWAWood>:
I am not able to build Red on Raspberry Pi.

[11:52:27](#Hb-n6rt68VZGjS_ST5F8qPLIoEJiywJGQVtA5JABMF0) <gurzgri>:
With `>> do/args %red.r "--debug --release --target RPi-GTK %environment/console/GUI/gui-console.red"` you should be able to compile the GUI console *for* Raspberry Pi *on any system* where you have a `rebol.exe` available. Is that an option?

## 6-May-2025

[1:59:41](#DZebF0EBnqJCu4FkyVuUcy5EGh6qxnA48Wlc103oDto) <PeterWAWood>:
I didn't install Rebol as my past experience with Rebol Linux/Arm was not productive. I tried anyway:

```
>> do/args %red.r "--debug --release --target RPI-GTK %environment/console/GUI/gui-console.red"
Script: "Red command-line front-end" (none)
Script: "Get git version data" (none)

-=== Red Compiler 0.6.6 ===- 

Compiling /home/pi/Red/red-master/environment/console/GUI/gui-console.red ...
...compilation time : 9921 ms

Target: RPI-GTK 

Compiling to native code...
*** Syntax Error: Invalid decimal! value
*** in file: /home/pi/Red/red-master/environment/console/GUI/gui-console.red
*** origin: %dtoa.reds
*** line: 74
*** at: "1e64 1e128 1e256]^/ #L 75 ^-TINYTENS: [1e-"
```

>> 1e256
** Math Error: Math or number overflow
>> 1e32
== 1.00000003318135E+32
>> 1e64
** Math Error: Math or number overflow



[2:00:42](#b8_w6mIgsZmqEXPmdhZKCRipR1YRFO1uRuuku999I6k) <PeterWAWood>:
The issue is with Rebol:

```

[2:01:34](#cJLj7R6xJuXukU5DrTtCwZL3XmKghAKvxj9UZ9mWIUE) <PeterWAWood>:
* The issue is with Rebol:
```
>> 1e256
** Math Error: Math or number overflow
>> 1e32
== 1.00000003318135E+32
>> 1e64
** Math Error: Math or number overflow
```

[2:02:02](#oF7_AVCk5x6uLOK5yvKaPMGFCRWseeeU2IYdlb2J_NE) <PeterWAWood>:
* I didn't install Rebol as my past experience with Rebol Linux/Arm was not productive. I tried anyway:

```
>> do/args %red.r "--debug --release --target RPI-GTK %environment/console/GUI/gui-console.red"
Script: "Red command-line front-end" (none)
Script: "Get git version data" (none)

-=== Red Compiler 0.6.6 ===- 

Compiling /home/pi/Red/red-master/environment/console/GUI/gui-console.red ...
...compilation time : 9921 ms

Target: RPI-GTK 

Compiling to native code...
*** Syntax Error: Invalid decimal! value
*** in file: /home/pi/Red/red-master/environment/console/GUI/gui-console.red
*** origin: %dtoa.reds
*** line: 74
*** at: "1e64 1e128 1e256]^/ #L 75 ^-TINYTENS: [1e-"
```


[2:02:36](#u2wXyh3nHoxu-4E-jThkIDw3KFRMXg-vwo8D271F61Y) <PeterWAWood>:
* I didn't install Rebol as my past experience with Rebol Linux/Arm was not productive. I tried again anyway:

```
>> do/args %red.r "--debug --release --target RPI-GTK %environment/console/GUI/gui-console.red"
Script: "Red command-line front-end" (none)
Script: "Get git version data" (none)

-=== Red Compiler 0.6.6 ===- 

Compiling /home/pi/Red/red-master/environment/console/GUI/gui-console.red ...
...compilation time : 9921 ms

Target: RPI-GTK 

Compiling to native code...
*** Syntax Error: Invalid decimal! value
*** in file: /home/pi/Red/red-master/environment/console/GUI/gui-console.red
*** origin: %dtoa.reds
*** line: 74
*** at: "1e64 1e128 1e256]^/ #L 75 ^-TINYTENS: [1e-"
```

[2:42:16](#JkBk4_0bTIZTClP26syokkPzyW100tPFbqg9nYKW7nI) <hiiamboris>:
you'll need access to an x86-64 linux or windows PC then

[2:46:55](#HBOZkujB8c9Ot64H0TDnhrT7fbkx0T7upWtSBbGlU6w) <PeterWAWood>:
I forgot how easy it is to cross-compile with Red so I compiled the GUI-Console on Windows and copied the executable to the Raspberry Pi. The debug GUI Console crashed without trace on being executed.

[2:57:05](#kvuwFqarRVowrrLc2CK3cBj8MvY-0lJoCLZYfJL75OY) <PeterWAWood>:
I get the same crash with the latest automated View build for Raspberry Pi. I've posted the debug output as a comment to issue #5612. 

[3:36:29](#1Ywp2RT31VhThYnuqnpeiGh_iEtA9ohyJxKR90g9Oqs) <Oldes (@oldes.h:matrix.org)>:
You need CLI version started from terminal.

[8:54:49](#5Gpdpgjvf81FZYHeHMmlDmpmAzaoX2h0khl6DANEtJE) <PeterWAWood>:
Even though I've only experienced the crash with View?

[9:13:58](#xOFtcWWl1p-BBU1qeesO1kkV185lJV_L9wrwLZOuWh4) <endo64>:
You can include View in your CLI console during compilation, then start it from terminal. You just need to pass `--view native` argument to the compiler.

[12:42:21](#9gvtvcqOEJUbZHyT5iGkF26YnZSLsJvi7Kk4RS0k_HM) <PeterWAWood>:
I compiled the CLI console with the `--view native` argument. When I ran it, it crashed:

[12:42:47](#6n1dXudEVeWckecNS-uJnfxB11LsGpwVyfbt20y2g3s) <PeterWAWood>:
```
pi@Pi4B:~/Red/CLI $ ./debug-console
./debug-console: line 1: [Desktop: command not found
pi@Pi4B:~/Red/CLI $
```

[13:51:35](#ecx_iRD4ARrY5Kre5k8_xBZCslguH5zh4OVL-_lu_q4) <gurzgri>:
PeterWAWood (PeterWAWood): Besides `â€”target RPi-GTK` there is `â€”target RPi`, too. More luck with that? And does `â€”view GTK` help over `â€”view native`? Thanks for your patience.

[14:27:02](#6tsfaAjoj9KscMrFGkxvILut-SvNTsI9_G4-8gkPbCs) <hiiamboris>:
> <@peterwawood-55659cf115522ed4b3e10062:gitter.im> ```
> pi@Pi4B:~/Red/CLI $ ./debug-console
> ./debug-console: line 1: [Desktop: command not found
> pi@Pi4B:~/Red/CLI $
> ```

Command not found is usually bash's retarded way of saying 'you need 32bit libs'

[14:31:21](#3bUVyjN5NWlnHsvpTB4VSIwJW3h4eUFYuFlfq-JSI0c) <hiiamboris>:
Though `[Desktop:` looks suspicious enough that I would inspect such binary with hex viewer

## 7-May-2025

[1:26:35](#3hRzdcz8s3nU7oWwwh-rHBC3OP0iHmk_8C64u6gMHf4) <PeterWAWood>:
I'd be surprised if the 32bit libs are missing as this particular Raspberry Pi is running a 32-bit OS.

[1:31:00](#9rFNsz7BaAO9qdm-6Ixw-JPTARxzlU8bbvdCkc9yoVM) <PeterWAWood>:
I might they these options when I have the time. In the meantime, I think that I'll spend more time on the simple GUI app that I want to write rather than chasing the silent crash. (It seems to be a simple experiencing as chasing the pot of gold at the end of a rainbow.)

[1:31:13](#VHdM2k4laCRL9E27o2kfXBmQWahUFbLhBLhHvSsjSwo) <PeterWAWood>:
* I might try these options when I have the time. In the meantime, I think that I'll spend more time on the simple GUI app that I want to write rather than chasing the silent crash. (It seems to be a simple experiencing as chasing the pot of gold at the end of a rainbow.)

[1:31:47](#DDBOuUqmje6w5VIY9nRarnavC7zzhGE_ps7mR6gVapM) <PeterWAWood>:
* I might try these options when I have the time. In the meantime, I think that I'll spend more time on the simple GUI app that I want to write rather than chasing the silent crash. (It seems to be a similar experiencing to chasing the pot of gold at the end of a rainbow.)

[2:04:04](#SvRNYHqXLgs0gQfGU-QH4ACjVXA0iNwMY9yQ26MpA3c) <PeterWAWood>:
`-view GTK` gives a compile error:
```
>> do/args %red.r "--debug --release --target RPi-GTK --view GTK  %environment/console/CLI/console.red"
Script: "Red command-line front-end" (none)
Script: "Get git version data" (none)

-=== Red Compiler 0.6.6 ===-
```
Compiling c:\users\peter\red\red-master\environment\console\CLI\console.red ...
...compilation time : 4804 ms

Target: RPi-GTK

Compiling to native code...
*** Compilation Error: invalid definition for function exec/gui/OS-text-box-color: [
    lc [layout-ctx!]
    s [integer!]
    e [integer!]
    a [integer!]
    r [integer!]
    g [integer!]
    b [integer!]
    attr [PangoAttribute!]
]
*** in file: %/c/users/peter/red/red-master/modules/view/backends/gtk3/text-box.reds
*** at line: 38
*** near: [func [
        dc [pointer! [integer!]]
        layout [pointer! [integer!]]
        pos [integer!]
        len [integer!]
        color [integer!]
        /local
        lc [layout-ctx!]
        s [integer!]
        e [integer!]
        a [integer!]
        r [integer!]
        g [integer!]
        b [integer!]
        attr [PangoAttribute!]
    ] [
        lc: as layout-ctx! layout
        s: utf8-to-bytes lc/text pos
        e: utf8-to-bytes lc/text + s len
        r: 0 g: 0 b: 0 a: 0
        color-u8-to-u16 color :r :g :b :a
        attr: pango_attr_foreground_new r g b
        attr/start: s
        attr/end: s + e
        pango_attr_list_change lc/attrs attr
        attr: pango_attr_foreground_alpha_new a
        attr/start: s
        attr/end: s + e
        pango_attr_list_change lc/attrs attr
    ]
    OS-text-box-background: func [
        dc [pointer! [integer!]]
        layout [pointer! [integer!]]
        pos [integer!]
        len [integer!]
        color [integer!]
        /local
        lc [layout-ctx!]
        s [integer!]
        e [integer!]
        a [integer!]
        r [integer!]
        g [integer!]
        b [integer!]
        attr [PangoAttribute!]
    ] [
        lc: as layout-ctx! layout
        s: utf8-to-bytes lc/text pos
        e: utf8-to-bytes lc/text + s len
        r: 0 g: 0 b: 0 a: 0
        color-u8-to-u16 color :r :g :b :a
        attr: pango_attr_background_new r g b
        attr/start: s
        attr/end: s + e
        pango_attr_list_change lc/attrs attr
        attr: pango_attr_background_alpha_new a
        attr/start: s
        attr/end: s + e
        pango_attr_list_change lc/attrs attr
    ]
    OS-text-box-weight:
]
```


[2:04:57](#sFvkQSTp_AmKDnRFvsP-cUnuWhDjOte7T302pjiG0Tc) <PeterWAWood>:
* `-view GTK` gives a compile error:

```
>> do/args %red.r "--debug --release --target RPi-GTK --view GTK  %environment/console/CLI/console.red"
Script: "Red command-line front-end" (none)
Script: "Get git version data" (none)

-=== Red Compiler 0.6.6 ===-

Compiling c:\\users\\peter\\red\\red-master\\environment\\console\\CLI\\console.red ...
...compilation time : 4804 ms

Target: RPi-GTK

Compiling to native code...
\*\*\* Compilation Error: invalid definition for function exec/gui/OS-text-box-color: \[
lc \[layout-ctx!\]
s \[integer!\]
e \[integer!\]
a \[integer!\]
r \[integer!\]
g \[integer!\]
b \[integer!\]
attr \[PangoAttribute!\]
\]
\*\*\* in file: %/c/users/peter/red/red-master/modules/view/backends/gtk3/text-box.reds
\*\*\* at line: 38
\*\*\* near: \[func \[
dc \[pointer! \[integer!\]\]
layout \[pointer! \[integer!\]\]
pos \[integer!\]
len \[integer!\]
color \[integer!\]
/local
lc \[layout-ctx!\]
s \[integer!\]
e \[integer!\]
a \[integer!\]
r \[integer!\]
g \[integer!\]
b \[integer!\]
attr \[PangoAttribute!\]
\] \[
lc: as layout-ctx! layout
s: utf8-to-bytes lc/text pos
e: utf8-to-bytes lc/text + s len
r: 0 g: 0 b: 0 a: 0
color-u8-to-u16 color :r :g :b :a
attr: pango\_attr\_foreground\_new r g b
attr/start: s
attr/end: s + e
pango\_attr\_list\_change lc/attrs attr
attr: pango\_attr\_foreground\_alpha\_new a
attr/start: s
attr/end: s + e
pango\_attr\_list\_change lc/attrs attr
\]
OS-text-box-background: func \[
dc \[pointer! \[integer!\]\]
layout \[pointer! \[integer!\]\]
pos \[integer!\]
len \[integer!\]
color \[integer!\]
/local
lc \[layout-ctx!\]
s \[integer!\]
e \[integer!\]
a \[integer!\]
r \[integer!\]
g \[integer!\]
b \[integer!\]
attr \[PangoAttribute!\]
\] \[
lc: as layout-ctx! layout
s: utf8-to-bytes lc/text pos
e: utf8-to-bytes lc/text + s len
r: 0 g: 0 b: 0 a: 0
color-u8-to-u16 color :r :g :b :a
attr: pango\_attr\_background\_new r g b
attr/start: s
attr/end: s + e
pango\_attr\_list\_change lc/attrs attr
attr: pango\_attr\_background\_alpha\_new a
attr/start: s
attr/end: s + e
pango\_attr\_list\_change lc/attrs attr
\]
OS-text-box-weight:
\]

[2:07:57](#EC3FfXsJWv22S0cgZyZ_8-Jtt03q05_h-XySIdKATDw) <hiiamboris>:
It's only a thing on Linux atm 

[2:08:17](#FXRmpRJgAPLF5rlglJo4MQnBdbRlnXKNUJ8P6pFfFhE) <PeterWAWood>:
I got a similar compilation error with `--target Rpi`.

## 8-May-2025

[7:12:09](#_GL4LunEce-jrNMrgtAyT-BpNeTYBp8Ww1-0I4twfPY) <hiiamboris>:
[@dockimbel-556597ad15522ed4b3e10020:gitter.im](https://matrix.to/#/@dockimbel-556597ad15522ed4b3e10020:gitter.im) í ½í±†

## 9-May-2025

[20:49:20](#qK4XPK7kGcFRkNmYIpnAA_WT9Ly-xVltxOFl23K5b3E) <dockimbel>:
Fix pushed.

## 10-May-2025

[12:27:51](#dIIo7fXX1MhDklRfn-pFipHIlsXuZQdpXDL6q2WIGaI) <PeterWAWood>:
Thanks. The new executable doesn't crash. :-)

[12:31:33](#iTPynOD2An0Dl8MUj9azxjdoZNjzRQOrJDcu3wQ36nk) <PeterWAWood>:
Thanks. The new executable doesn't crash. :-)

[12:31:38](#QRV-I3Flvuuzx-oguDBz7NR5Gk0S-0pE4bmu6NdVqMg) <PeterWAWood>:
* Thanks. The new executable doesn't crash. :-)

I see this message in the following message in the console when I run a simple script that creates a mock-up of a tab-panel.

```
pi@Pi4B:~/Code/Shares $ ../../Red/GUI/red-view add-annual-data.red

(red-view:27561): Gtk-CRITICAL **: 20:25:31.392: gtk_widget_queue_draw: assertion 'GTK_IS_WIDGET (widget)' failed
```
The simple script is attached.



[12:32:07](#TyH8s-fn6MtLUDGk8l-wzipK_d7_qyI4rwVV4jKxVq4) <PeterWAWood>:
* Thanks. The new executable doesn't crash. :-)

I see the following message in the console when I run a simple script that creates a mock-up of a tab-panel.

```
pi@Pi4B:~/Code/Shares $ ../../Red/GUI/red-view add-annual-data.red

(red-view:27561): Gtk-CRITICAL **: 20:25:31.392: gtk_widget_queue_draw: assertion 'GTK_IS_WIDGET (widget)' failed
```

The simple script is attached.

[12:58:29](#o9_k3g7pcbxuBUgbVV8xsCzPk47WCuQ9sBlElzfCaQk) <hiiamboris>:
does it work nonetheless?

[16:35:35](#aKv8f7nkKFN_Ro4laPj1WwCkVATG2y5H3OE4TRfRb1A) <dockimbel>:
I've seen that warning message too, not sure what is causing it, seems to be there since a while. It does not seem to affect any rendering though.

## 11-May-2025

[8:46:46](#Mzq7ql17NSfMZ917dJIu-QaPu_14yQB6JZKzcXNdR78) <PeterWAWood>:
Yes

[15:07:21](#L75icvkL1-s9OSXCfig0Af1P0M13Vvl4m5LcY_ATeAY) <GiuseppeChillemi (GiuseppeChillemi)>:
I have the following code that produces an error:

```
notes-group: [
	%test.txt
	%test2.txt
]


view-start-panel: func [
	notes-group [Block!]
	/local
	start-panel
	list
] [
	
	view [
		Text "Start panel"
		list: text-list data notes-group on-dbl-click [
				unview
				view-edit-schemes notes-group	
		]
	]
]


view-edit-schemes: func [
	notes-group [block!]
	/local
	edit-schemes
	list
] [
	
	View [
		Text "View-Edit-Schemes"

		Button "New" [
			append notes-group %test-new.txt
		]
	]
	
	
]

view-start-panel notes-group
```

[15:07:50](#2iRoOojrgs7nAgKqfX7hQxq6qaQ4XQxK8hBL77kJi0c) <GiuseppeChillemi (GiuseppeChillemi)>:
Double click on any element of the list and hit `new`

[15:08:20](#dWgJlQeTxwPzwNCefifN3a-zQ2PNddRr7qsKf0_O8fI) <GiuseppeChillemi (GiuseppeChillemi)>:
```
notes-group: [
	%test.txt
	%test2.txt
]


view-start-panel: func [
	notes-group [Block!]
	/local
	start-panel
	list
] [
	
	view [
		Text "Start panel"
		list: text-list data notes-group on-dbl-click [
				unview
				view-edit-schemes notes-group	
		]
	]
]


view-edit-schemes: func [
	notes-group [block!]
	/local
	edit-schemes
	list
] [
	
	View [
		Text "View-Edit-Schemes"

		Button "New" [
			append notes-group %test-new.txt
		]
	]
	
	
]

view-start-panel notes-group

```

[15:08:45](#9ucjltYYv0BVb9ZRdKDla21l1H10CvhJxeUaAn_afak) <GiuseppeChillemi (GiuseppeChillemi)>:
* ```
*** Script Error: context for notes-group is not available
*** Where: append
*** Near : append notes-group %test-new.txt
*** Stack: do-file view-start-panel view do-events do-actor do-safe 
```

[15:09:46](#s_u04UPJXvWdvHTy_MgiaPX8uXKe1M6WPLQUjiR6TV0) <GiuseppeChillemi (GiuseppeChillemi)>:
If you remove `unview` the problem disappears

[19:15:19](#UBEN02UZoMCkVycK-UvTeNO3Mzx48MYH6RWBgdGuCLY) <GiuseppeChillemi (GiuseppeChillemi)>:
Does it happen to you too?

## 12-May-2025

[4:13:23](#8aoSfj7rzenKX4DmSWDuCwLEdxjTJBR4Ba67JMoXZIA) <hiiamboris>:
Looks weird. Probably some stack corruption by `unview`. Can't test though, my W10 decided yesterday it won't boot anymore, no matter what I try dead is dead í ½í¸…

[10:05:39](#dVAXnWIl7Db2zzkJNWmfn8uVrRhOU_XRA1Jun4x9NA4) <PeterWAWood>:
I left the layout mockup script running overnight and found that it had crashed.

I built a debug GUI-Console for Raspberry Pi from the latest Github Master.

I ran the layout mock up script and left it running.



[10:09:44](#-IqpZrMgRwkzAw_sNRLq6SmpbyXTsjoe-Fj8tANTtsk) <PeterWAWood>:
After a short while the script crashed with a Runtime Access Violation in datatypes/object.reds (line 81).

I've saved the console log (attached below).

Would you like me to open a new Gtihub issue, update #5612 or is this channel sufficient.



[10:10:05](#jz5LQvpgBvFUP3ZguNvY1vRgpteQJRm8LNLaYost5cM) <PeterWAWood>:
After a short while the script crashed with a Runtime Access Violation in datatypes/object.reds (line 81).

I've saved the console log (attached below).

Would you like me to open a new Gtihub issue, update #5612 or is this channel sufficient.



[10:10:29](#YFMIhBlC7VuU4TchCG8f-l-3JyCe5bR1DHWS-ZB9zi4) <PeterWAWood>:
This is the layout mockup script:

[10:12:11](#8zJV4Vlf_jxn3EqWPrmhFYWyVTe-PUqKbc2LXr1I6iw) <PeterWAWood>:
This is the layout mockup script:

[11:25:34](#FVMwRVMUUrF-bKC1GncdLmEAQBeeWrOGN-5Kf1EXCYw) <GiuseppeChillemi (GiuseppeChillemi)>:
Ok, opened a ticket.

## 15-May-2025

[0:48:53](#6ocjfbnls6aRS2tKrfwnuUdADySb6k6xjFY8mZn3sok) <PeterWAWood>:
I was trying to centre a face in a layout using View (GTK) on Raspberry Pi and got an unexpected script error:
```
>> center-face/x b
*** Script Error: float! type is not allowed here
*** Where: either
*** Near : center-face/x b
*** Stack: center-face eval-set-path
```

[0:49:52](#599rnmg3JhZ_G_4W5bsZonrU09OmBu_j2Ydv9M_egbA) <PeterWAWood>:
I took the code that caused this error directly from a Stack Overflow example:
```
>> v: layout [
[    size 500x200
[    text "test" field "test" return
[    b: button "ok"
[    ]
== make object! [
    type: 'window
    offset: none
   ...
>> center-face/x b

[8:27:28](#hIYTaptb5e8506oJ9EGL3VkDjA8eUqHZnGMiiF2hZBY) <Oldes (@oldes.h:matrix.org)>:
Same on Windows

[8:29:20](#pkPsgBs3TCu7U9CYue6bDhYrQ_EBYM4g1pOEkNgFGFk) <Oldes (@oldes.h:matrix.org)>:
This is the reason:
```
>> b/size
== 62x25
>> b/size / 2
== (31, 12.5)
```

[8:30:36](#aJNyWvdx0TbUO1k1loq6mHziIhM3a-h3xUI5qalJ2RA) <Oldes (@oldes.h:matrix.org)>:
* This is the reason:

```
>> b/size
== 62x25
>> b/size / 2
== (31, 12.5)
>> b/offset/y: 12.5
*** Script Error: float! type is not allowed here
```

[12:31:15](#1N9i73pxbErV2O02EvwVru0BhTpW_d7YR-EZbX55Xbo) <dockimbel>:
We probably should allow setting such float value and just auto-promote the target pair to a point2D?

[12:33:00](#fFb78EmAxFsaZZ9pD1sl6LycR6LilD_pXqGGrL4Pjr8) <dockimbel>:
* We probably should allow setting such float value and just auto-promote the target pair to a point2D? Though, I can forsee how that could cause issues too.

[12:33:22](#LfR_x3wmvA_3THU2hgdDTLOl0QAKWpdnyM_4MtL0yu4) <dockimbel>:
* We could allow setting such float value and just auto-promote the target pair to a point2D? Though, I can forsee how that could cause issues too.

[17:12:28](#1U0JjnczoklbiUoakyQuEr4hgUSN3o2lwDM9tj8WTh0) <greggirwin (Gregg Irwin)>:
These don't fail with the same error: `view [b: button [face/offset/x: 20.5]]`, `view [size 500x200 b: button "OK" [b/offset/y: 12.5]]` So it may be that the button hasn't been viewed yet.

[18:09:18](#XMVW6e-U08wYF23jeppOFqFt_xP3gScf8NSjy7DxLMU) <endo64>:
I feel like it would be better to cast to integer if the host value is a pair!, and float if it is a point2D! instead of auto-promoting to point2D!

[20:41:46](#N6rE9SFdLlIS9yUVpcbnOle24PLhQuDKR3AbuFkl-Y0) <GiuseppeChillemi (GiuseppeChillemi)>:
From multi monitor support, Red is no more compatible with Windows Server2012

[20:41:49](#MlwZkJU5YXRrvz4qW910HMYxdNI7CdMvxU-J-3OEzlo) <GiuseppeChillemi (GiuseppeChillemi)>:
From multi monitor support, Red is no more compatible with Windows Server2012

[20:42:44](#FfBGWS7WQuenx8R3SYmlvqj90yCmH6uoQldVHY4hEDM) <GiuseppeChillemi (GiuseppeChillemi)>:
![](https://gitter.ems.host/_matrix/media/v3/download/gitter.im/21b279298b8bc314a73818920a1046b042fb26761923116861726130176)

[23:08:34](#QJBQdv4fbL804vL14UY7bbH2Nz14_9IWKyrbEjHbA64) <dockimbel>:
Use the `Windows7` compilation target. Pre-Win8 versions don't have proper API for proper multi-monitors support.

[23:08:50](#bhVMJ_RxzS6PGLMhcSn1DE-dfL-W3ubNMaLwPFJ9ZWk) <dockimbel>:
* Use the `Windows7` compilation target. Pre-Win8 versions don't have API for proper multi-monitors support.

## 16-May-2025

[5:20:37](#dst1ign6ejNmIYzeeVpd6IkxG3aaA_qWXfLhRms1NIs) <rebolek (Boleslav BÅ™ezovskÃ½)>:
you mean Windows version from 2013 that's unsupported from 2018/223? I wouldn't worry much about that.

## 17-May-2025

[6:07:49](#OVIDE5T5KEWc4Q_z8uvotp0QLywwZqUmoZh0CEvwXk8) <PeterWAWood>:
Thanks for the insight. My work around was to size the containing face so that the difference in width of the containing face and the tab-panel was a multiple of two.

It did mean that I needed to specify the size of the containing face rather than let VID calculate it.

## 24-May-2025

[18:16:21](#EnoaGLCkyUoXPZ--Hns6cWxXkxYcRLURqWGJHYPyQvE) <nazgulsenpai (NazgulSenpai)>:
Thanks for the insight. My work around was to size the containing face so that the difference in width of the containing face and the tab-panel was a multiple of two.

It did mean that I needed to specify the size of the containing face rather than let VID calculate it.

[18:16:30](#yOyV-QwJ89ZPx6UXcX0GB_Fo5nSLrIvU9xPx9yXDa74) <nazgulsenpai (NazgulSenpai)>:
When clicking buttons in red-view (066 or master branch) Directed here from creating github issue

*** Runtime Error 1: access violation
*** at: F717CA5Ch


[22:01:48](#0H1VJXzJX_y3Ac1mbYfyA7nzsdeKUXR_XGRqA2DkHZ8) <PeterWAWood>:
This would seem to be the same issue reported in #5614.nazgulsenpai (NazgulSenpai) what OS were you running Red under?

[23:40:03](#_obSt5s_ce8fd9USoOBAnqTg1LlwU6Ce7tuEWjTGd78) <PeterWAWood>:
Do you have the 32-bit libs installed?

## 25-May-2025

[7:27:13](#5z_l8L4EUX6HCZ87gVECZiEO1pePmLCsLlyq44ybNm0) <hiiamboris>:
Seems Void Linux on desktop. [@nazgulsenpai-5ab10513d73408ce4f923cec:gitter.im](https://matrix.to/#/@nazgulsenpai-5ab10513d73408ce4f923cec:gitter.im) can you compile Red in debug mode to see the stack trace? See above for instructions https://matrix.to/#/!mjbZGzLqlsqlDLaQVP:gitter.im/$Hb-n6rt68VZGjS_ST5F8qPLIoEJiywJGQVtA5JABMF0?via=gitter.im&via=matrix.org&via=nitro.chat

## 28-May-2025

[7:43:00](#HElymuCExK6Wz6h0PaEzm2IBJXgU_PEfR9AwUnSXiP0) <planetsizecpu (Jose Luis)>:
Seems Void Linux on desktop. [@nazgulsenpai-5ab10513d73408ce4f923cec:gitter.im](https://matrix.to/#/@nazgulsenpai-5ab10513d73408ce4f923cec:gitter.im) can you compile Red in debug mode to see the stack trace? See above for instructions https://matrix.to/#/!mjbZGzLqlsqlDLaQVP:gitter.im/$Hb-n6rt68VZGjS_ST5F8qPLIoEJiywJGQVtA5JABMF0?via=gitter.im&via=matrix.org&via=nitro.chat

[9:53:05](#pg6P4zvWx57H70w9NsaU1iJqq-tAz-nQrn9tWKLsTbQ) <planetsizecpu (Jose Luis)>:
Seems Void Linux on desktop. [@nazgulsenpai-5ab10513d73408ce4f923cec:gitter.im](https://matrix.to/#/@nazgulsenpai-5ab10513d73408ce4f923cec:gitter.im) can you compile Red in debug mode to see the stack trace? See above for instructions https://matrix.to/#/!mjbZGzLqlsqlDLaQVP:gitter.im/$Hb-n6rt68VZGjS_ST5F8qPLIoEJiywJGQVtA5JABMF0?via=gitter.im&via=matrix.org&via=nitro.chat

[9:53:24](#ej14zijs4q4hlyfM-y3X9JMYzQzuBo9xa68EuaOAUm8) <planetsizecpu (Jose Luis)>:
* I tested on older versions of Red, `unview` not only closes the window, but also returns control to the next sentence. That behavior has changed, and causes the game freeze, so I'm not sure if it is the wanted behavior, and better to ask here and wait for a while.

[9:55:08](#nyrpVKG60_ylZdrNDF40lxsAhtTlco1dwMy02KNQRX4) <planetsizecpu (Jose Luis)>:
* With today's automatic build, `Red 0.6.6 for Windows built 28-May-2025/4:36:02+02:00  commit #8905efb`  my game shows a strange behavior, it seems related to `unview` that freezes the game on the Splash screen, when click on the start button. I removed `unview` and forced the user to manually close that window, then the game runs as normal. I could not be more specific at this moment, sorry.

[9:57:50](#zEjZ4WLI2LRujriEvM8foWfo4DMm4EsnftHkk5paQJk) <planetsizecpu (Jose Luis)>:
* I tested on older versions of Red, `unview` not only closes the window, but also returns control to the next sentence. That behavior has changed, and causes the game freeze, so I'm not sure if it is the wanted behavior, and better to ask here and wait for a prudent while.

[9:58:18](#bL5iAPkySSwoAaJfdWN6IIWn_1qNDFLjlY0gOfNu7Ns) <planetsizecpu (Jose Luis)>:
* I tested on older versions of Red, `unview` not only closes the window, but also returns control to the next sentence. That behavior has changed, and causes the game freeze, so I'm not sure if it is the wanted behavior, and better to ask here and wait for a prudent í ½í¸ while.

[9:59:16](#J3Z5VzHD_d18zjM_yE9CExF-eN-onOI0Vae3KRjK4zc) <planetsizecpu (Jose Luis)>:
* I tested on older versions of Red, `unview` not only closes the window, but also returns control to the next sentence. That behavior has changed, and causes the game freeze, so I'm not sure if it is the wanted behavior, and better to ask here and wait for a  prudent while. í ½í¸

[14:45:41](#arEsE10uNrTk7ESpddvsqzmKbFsiqLmFp9s1SzT9Rws) <nazgulsenpai (NazgulSenpai)>:
Yes I will this evening. Thanks for response

## 4-Jun-2025

[4:35:26](#vDcr_-tUaTfbQYIO2p8u9GjDGy0ahXAZ8yqeBVzkzz4) <PeterWAWood>:
I downloaded Red (both CLI and View) onto a Raspberry Pi running a 32-bit version of Pi OS Bookworm. 

[4:37:27](#FYQe20NLynJOANyr6Yn8If6lgDQB2rGTe2D9yp7_I8o) <PeterWAWood>:
* I downloaded Red (both CLI and View) onto a Raspberry Pi running a 32-bit version of Pi OS Bookworm. 

Both failed as Red as libcrypto.so.1.1 is not installed by default in this version of Pi OS.
```


[4:42:28](#ycRpsyMCiaz9uOQptItr65dtIYPRU3kC49Vg-cHI5sY) <PeterWAWood>:
* I downloaded Red (both CLI and View) onto a Raspberry Pi running a 32-bit version of Pi OS Bookworm.

Both failed as Red as libcrypto.so.1.1 is not installed by default in this version of Pi OS.

```
pi@picode32:~/Desktop $ ./red-cli-066
./red-cli-066: error while loading shared libraries: libcrypto.so.1.1: cannot open shared object file: No such file or directory
```
I worked around the issue by getting an pre-compiled version of libcrypto.so.1.1 from [Wolfram](https://amoeba.wolfram.com/index.php/s/mHR5Hq7MN4yy9Ws).

I copied the lib into `/usr/lib/arm-linux-gnueabihf`

Both the CLI and View versions of Red now run.

Should I report this via a GitHub issue?


[4:45:29](#Mji7ls6ykKRH9XqwiPTd0Ogom0GrfgXIusgCzBPbP4g) <PeterWAWood>:
It seems that libcrypto.so.3 is installed by default on Pi OS Bookworm. (It is probably the same for most Debian-based distros.)

[4:57:49](#sNDP7uJhMLN6Xhpl9emX1hQ4m35D-8QSEy3aRJCB8fA) <greggirwin (Gregg Irwin)>:
Worth a ticket, so it's logged. Thanks.

[8:53:20](#5ZGt2yFhGFKMBLBCp8hBnejwu5oCLGsdO3cHwJjMFn8) <PeterWAWood>:
#5617

## 12-Jun-2025

[8:59:06](#kQI_ksAPZF5bLNCpNXikmHy4xd5kEi1sFRfBc2Lte-o) <PeterWAWood>:
In Rebol, 123' is considered a valid integer:

```
REBOL/View 2.7.8.3.1 1-Jan-2011
Copyright 2000-2011 REBOL Technologies.  All rights reserved.
REBOL is a trademark of REBOL Technologies. WWW.REBOL.COM

Type desktop to start the Viewtop.
>> type? 123'
== integer!
>>
```

But in Red 123' is considered an invalid integer:

```
--== Red 0.6.6 ==-- 
Type HELP for starting information. 

>> type? 123'
*** Syntax Error: (line 1) invalid integer at 123'
*** Where: set
*** Near : transcode/trace buffer :delimiter-lex
*** Stack: error? load
>> 
```

Is this considered a bug?

[9:05:18](#zvaSNQ9ExFnaRQQmpL5wcwSaw36nts423SUis_IOgMI) <Oldes (@oldes.h:matrix.org)>:
It depends in which language, because in Rebol is valid also `123'''`.. so I think that Red has more precise rules.

[9:07:24](#_3jOsDv1Fy3b43cFl5rvdrrdiD6eM-9BRflygK2bgwU) <Oldes (@oldes.h:matrix.org)>:
In both languages is valid also something like `1'2'3`

[20:00:43](#5SAqMC-5fMlaDMKg8FD8PLeupau_hkxyt5DuRGSn6PY) <greggirwin (Gregg Irwin)>:
I will say it's not a bug, but a choice. If we have an argument for it, that's something we can doc, to make the choice explicit.

## 13-Jun-2025

[0:39:05](#7C23o39Kh5ulapWor8dpsRAQO7tS8xsdIJ1iQJW5U0s) <PeterWAWood>:
The reason behind my question was the effect of the script error when entering numeric data in a VID field

| key | text value | data type | data value |

[0:40:18](#ubqed2IOR1CnVmtBA4GIPe36f4RHBryM1QXNSjMYutY) <PeterWAWood>:
* The reason behind my question was the effect of the script error when entering numeric data in a VID field

| key pressed | text value | data type | data value |
|-----|-----------|-----------|------------|
| 1 | "1" | integer! | 1|

[0:43:00](#UE8UmggZZkiJHDEFjugg6UD2SCQAwxM8fBMZ-t3RLQA) <PeterWAWood>:
* The reason behind my question was the effect of the script error when entering numeric data in a VID field

| key pressed | text value | data type | data value |
|-----|-----------|-----------|------------|
| 1 | "1" | integer! | 1|
| 2 | "12" | integer! | 12|
|3| "123" | integer! | 123 |
|'| "123'" | none! | none|
|4| "123'4" | integer! | 1234|

It appears to create an unnecessary special case.


[0:47:59](#jyUkSKvuKx879quRvROy59AK2xa07hDBknrLbt61YfA) <PeterWAWood>:
* The reason behind my question was the effect of the script error when entering numeric data in a VID field

```
| key pressed | text value | data type | data value |
|--------------|-----------|-----------|------------|
|      1                |         "1"    | integer!     |         1         |
|      2               |       "12"    | integer!     |       12         |
|      3               |     "123"    | integer!     |     123         |
|       '               |    "123'"    | none!        |    none        |
|     4                | "123'4"     | integer!    |    1234        |

It appears to create an unnecessary special case.


[0:48:39](#w0TtbV1LxE4EDMfqQXKFfXR4SSdV2Ndsb8c6HWG3qzQ) <PeterWAWood>:
* The reason behind my question was the effect of the script error when entering numeric data in a VID field

| key pressed | text value | data type | data value |
|--------------|-----------|-----------|------------|
|      1                |         "1"    | integer!     |         1         |
|      2               |       "12"    | integer!     |       12         |
|      3               |     "123"    | integer!     |     123         |
|       '               |    "123'"    | none!        |    none        |
|     4                | "123'4"     | integer!    |    1234        |

It appears to create an unnecessary special case.
```

[0:49:29](#EtzhXfF8cHg-Mj2hQsGkBkDPKdcFmfduqUVVjR8Zjwo) <PeterWAWood>:
* The reason behind my question was the effect of the script error when entering numeric data in a VID field

key pressed: | text value | data type | data value |
|--------------|-----------|-----------|------------|
|      1                |         "1"    | integer!     |         1         |
|      2               |       "12"    | integer!     |       12         |
|      3               |     "123"    | integer!     |     123         |
|       '               |    "123'"    | none!        |    none        |
|     4                | "123'4"     | integer!    |    1234        |

It appears to create an unnecessary special case.

[0:52:21](#Lgy9EXe6vLfEscrPbJ6FYw0rFNQDAIiyBLg2iIpXZQw) <PeterWAWood>:
* The reason behind my question was the effect of the script error when entering numeric data in a VID field

<h4> Table needs formatting</h4>
key pressed: | text value | data type | data value |
|--------------|-----------|-----------|------------|
|      1                |         "1"    | integer!     |         1         |
|      2               |       "12"    | integer!     |       12         |
|      3               |     "123"    | integer!     |     123         |
|       '               |    "123'"    | none!        |    none        |
|     4                | "123'4"     | integer!    |    1234        |

It appears to create an unnecessary special case.

[0:52:48](#g58LS4kNxu57_ddSM0aPkjxS9Bq728HBWOu02fBLmHQ) <PeterWAWood>:
* The reason behind my question was the effect of the script error when entering numeric data in a VID field


|key pressed: | text value | data type | data value |
|--------------|-----------|-----------|------------|
|      1                |         "1"    | integer!     |         1         |
|      2               |       "12"    | integer!     |       12         |
|      3               |     "123"    | integer!     |     123         |
|       '               |    "123'"    | none!        |    none        |
|     4                | "123'4"     | integer!    |    1234        |

It appears to create an unnecessary special case.

[1:54:29](#LApYpS9t4LlWbHGOXhuoiv6PtYRc1DsR2YV0CLq8tN8) <greggirwin (Gregg Irwin)>:
Good example. Tough question when we look at any value that may be "in process" or partial.

[10:59:35](#GdZP5zaIpUMIf2wKnjp1KL48pOFji8W7NWvlfoYdadI) <dockimbel>:
Good point, we probably should allow it.

[13:14:12](#J9CyzSgFBhRTbxESiqh1eNDJBqBz5ySRGr7DDSCOb58) <hiiamboris>:
`.` will cause a similar side effect, which we can't make a float number

[13:14:43](#lRbVLuVNAHEwuUBsZKYIqri4ygy6rjW72Mh8j-TJq8k) <hiiamboris>:
`.` -> none, `.0` -> float

[13:31:07](#FBaj8ZnmUQkhmj6jGFs8T0FtfSh580hQRmqkojFyyzo) <PeterWAWood>:
Isn't that only the case where there is no digit before the decimal point? Red seems to accept 1. etc as valid float numbers.



[15:35:06](#0wY00DSTdsyYbxmqsZiBHycHYK0Vws-m2JaFJSNFwgo) <hiiamboris>:
True

[22:15:52](#m91eYPrOXDm5PM580ReTOuVVbSUabplSZBvK9PvzB2E) <GiuseppeChillemi (GiuseppeChillemi)>:
hiiamboris: do you remember which problems we had with key events and unicode that you have then fixed?
Oldes @oldes.h:matrix.org: is doing modifications in R3 with a model similar to Red one

[22:16:11](#OyiChhYpowwW_oqElrOfsPvkah47Rl8rZELJw_rRflk) <GiuseppeChillemi (GiuseppeChillemi)>:
* @hiiamboris:tchncs.de: do you remember which problems we had with key events and unicode that you have then fixed in Spaces? @oldes.h:matrix.org: is doing modifications in R3 with a model similar to Red one

## 14-Jun-2025

[5:57:09](#f25ZOQ7N6-qAWRpxvb_eZhB0IK_-_VpPk6UZ2hwfym0) <hiiamboris>:
You'd have to refresh my memory ;)

[5:57:51](#1v7gBsPu4NXm04XN8vPTmI7hEW7BbDWExkpaAzpEzjs) <hiiamboris>:
I do remember this: https://github.com/red/red/issues/5525

[10:39:11](#mHowyhmN1hIWbZP2y4sM-3sV9IGYfFUuFN6l-QmtZQ0) <GiuseppeChillemi (GiuseppeChillemi)>:
We had an issue with keyboard events for italian keyboard. The keys [] were affected. At the end I have written to you [[[[[[[[[[]]]]]]]]]] to demonstrate you have solved this.

[10:39:20](#c0PApZco4ktwtlTRbAkzAj6GV8CCtIodLILiS3MWkeY) <GiuseppeChillemi (GiuseppeChillemi)>:
* We had an issue with keyboard events for italian keyboard. The keys [] were affected. At the end I have written to you [[[[[[[[[[]]]]]]]]]] to demonstrate you have solved this.

[12:03:55](#lnoQcmtnYWwuew1qxV7JWoW2vlZ6yCo151LImatEDvQ) <hiiamboris>:
Ah, `[` required some modifier on italian keyboards, right? RAlt which translated into Ctrl+Alt.

[12:35:16](#NZgi2-_LYGlDgw04ZtgE8qUQjGLroYrV3JvQCt2EKm8) <GiuseppeChillemi (GiuseppeChillemi)>:
`Alt Gr` + `Ã¨` which translate to `[`

[12:36:30](#RSzn-ytJl1qF5zM5jWXLT7gPVfRR_y6I02RbZ8_UP5g) <GiuseppeChillemi (GiuseppeChillemi)>:
And yes, it is equivalent to `CTRL` + `ALT` + `Ã¨`

## 16-Jun-2025

[11:16:43](#9vKjTLNKEaEnQqRtTZCUTsENNZnsnr2yQeXd-mwkNho) <PeterWAWood>:
I tried the GUI test backend using the script in red/tests/test-backend.red, it raised a script error:
```
*** Script Error: do-event has no value
*** Where: catch
*** Near : 
*** Stack: 
>>
```
Is it still maintained?

[19:24:58](#EWqdt4Z_LIfQagGK-QY4QHlqxlYq_iOCdfmhr9wv0DE) <dockimbel>:
It's lagging behind as nobody used it. It should need just the addition of some few place-holders and update the eventual backend API changes.

[19:25:33](#bnNoeKrWN7YzuMbkhJtMJYZhVUyodEv6cVfyp6YzSE8) <dockimbel>:
* It's lagging behind as nobody used it. It should need just the addition of a few place-holders and updating the eventual backend API changes.

[19:26:15](#tOUTVB1QkbFW8_B5N_DsQe_mKHkVfI6IDSxz8UZzcOs) <dockimbel>:
* It's lagging behind as nobody used it. It should need just the addition of a few place-holders and updating the eventual backend API changes.
I'll give it a quick look in an hour to see if it can be quickly updated.

[19:34:40](#VhO8UWhE1Q9MoizfczKCv2k4ZSvC0aYjMyz0Q6ixZC8) <dockimbel>:
You need to compile it as it contains R/S code.

[19:35:40](#K_jR0-o_m-CUGtj90SMyhBe9UUYB3Pqr-t5KGmlMJmc) <dockimbel>:
* You need to compile it as it contains R/S code. Anyway the compilation errors out as some API have changed.

[19:37:49](#-kLf5acRieYfkM-D2LXZv1NycevAizyA3-wz99y7Cr0) <dockimbel>:
Seems related to some unreachable definitions. I won't touch that until the work on `refactor-defs` branch is done (it's already painful enough as it is).

[21:53:58](#e7ZheM-1a7nbDTD5nIkhayRzGVELWgAABVDbMrDOoZc) <PeterWAWood>:
Many thanks for looking at it. 

## 23-Jun-2025

[11:41:18](#pzUmPsOHRNENKZTVnSET0tyuGgCOJHL70DTicyRjBLo) <PeterWAWood>:
Is there a place to report broken links on the main Red website?

I've been catching up by reading through many of the older posts on the main web site. Today, I re-visited the "Eve" clock demo. The text includes a link to the full source of the demo. The link is out-of-date. It is `https://github.com/red/code/blob/0.6.2/Showcase/simple-clock.red` which gives a 404 error. 

It looks as though the script has been moved to `https://github.com/red/code/blob/master/Showcase/eve-clock.red` 

[12:16:51](#me6yZBwCyXpJciwfdxxwuLqqV2JmfSniO2RPmlWGRg4) <hiiamboris>:
that branch got deleted I guess

[12:17:07](#tczlKH62nRKh-2RHnra5iJfmh6-0mBrHuP2unZrsfag) <hiiamboris>:
wiki is publicly editable, so there's no such place

[12:17:26](#nYkWJ7Hh0boPTtCI2jKa9Ey5EMfRTQnZLuiLNEfWseU) <hiiamboris>:
* there's no such place to my knowledge

[12:17:50](#v6TlAYiZaZ_nXDAQ5DJysqeOZEh7bC2k11IOdyMJanI) <hiiamboris>:
but https://matrix.to/#/%23red_docs%3Agitter.im?via=gitter.im&via=matrix.org&via=mpg.de is as close as it gets

[17:41:22](#0fpVRbHy_cX2fy_yfUXhmcTIbKmf6fg99-De77ndcjk) <greggirwin (Gregg Irwin)>:
PeterWAWood: which page on blogger has the Eve Clock link, if you remember?

[19:38:24](#L-dfIkdEGC4MtGuHvKAB7JtAvEUoVFu8chhuiDz76ts) <pekr (Petr Krenzelok) (@pekr:matrix.org)>:
https://www.red-lang.org/2016/07/eve-style-clock-demo-in-red-livecoded.html

[20:22:20](#Pjh-bnVjiknVinp1ANPDjc_tByL683EGzTg0gULfqZ4) <greggirwin (Gregg Irwin)>:
Updated. Thanks! The demo still works!

## 25-Jun-2025

[12:17:38](#1T-m5u7ooY5pBLodej6j4p-76Ie1YPU7NHhyTDcsjF4) <dsunanda>:
This code - which creates 100 new VIEW windows, exhibit some odd video artefacts:
```
n: 1 loop 100 [wait 0.01 view/no-wait compose [button 100x100 (mold n: n + 1)  on-over [unview]]]
```

Tested on Windows Stable, and Latest on Windows 11 (several machines);  and (thanks to Peter Wood!) on Raspberry Pi.

Video artefacts include:
```
-- staircase of windows created offset from each other
-- growing shadow effect behind overlaid windows
-- "Burned through the screen" shadow effect.
```

Also, ON-OVER seems to have changed behavior between 0.6.6 Stable and latest nightly. In stable, hovering the cursor causes all 100 windows to close, one by one. In nightly, you have to jiggle the cursor away and back 100 times.


https://i.imgur.com/ac66K19.png
https://i.imgur.com/7UfQPlT.png
https://i.imgur.com/oz7NShb.png



[12:22:31](#Hx0YwsELjjTN5YL26pb-HDQhpb0aOTdvGZPO_kaX4so) <hiiamboris>:
I don't see any bugs in Windows version

[12:22:47](#N3xk455FITyHbb5suylrxvHPg1riSwnk6EZIjgzaTM4) <hiiamboris>:
For me they are not even staircased - but this I suppose is just the 'cascading' setting somewhere in the OS

[12:23:30](#5nNwLvKTSSxtao8tYIZrDW46eRPraRI4F5DhDgg6_AQ) <hiiamboris>:
As to 100 shadows adding up to black, also seems expected

[16:42:27](#RY3aoBrNexfFPrxYsxPRgtVQUkotrH_O4KpbfurzWZQ) <greggirwin (Gregg Irwin)>:
I agree about the shadow. Should be nothing to do with Red's windows specifically. Need to test with another GUI system to be sure.

It's certainly possible that some behavior has changed, with multi monitor updates and such. The question is what behavior to expect, to decide if it's a regression or an improvement. :^)

## 26-Jun-2025

[0:49:10](#IpP9pftaRrXidXWGm3lQYynOg2Z19hNm6rK8h4KptDc) <PeterWAWood>:
The question that I have is why are the Windows "stair cased" on some systems and not others. I would have expected the behaviour to be consistent across different systems. Is there some user setting that determines how multiple windows are displayed?



[0:54:32](#m41e4v1-iGawlCMO5SQgjwD2YXud-jT5pcRomRMYjR0) <PeterWAWood>:
I ran the script on a newly configured Raspberry Pi with a newly installed Red. The first time I ran the script all the windows were displayed on top of each other. The cumulative shadows gave a pleasant shadow around them.

On all subsequent runs of the script , the windows were "stair cased". Once I have time, I will install a fresh operating system and a fresh version of Red and see if the first run of the script displays the windows on top of each other.

 

[1:14:21](#0-YPyugl4M3DQ7GxmDhVIuurK2jC_9aID_A8gCkUc9w) <PeterWAWood>:
* I ran the script on a newly configured Raspberry Pi with a newly installed Red. The first time I ran the script all the windows were displayed on top of each other. The cumulative shadows gave a pleasant halo around them on my HDMI display.

On all subsequent runs of the script , the windows were "stair cased". Once I have time, I will install a fresh operating system and a fresh version of Red and see if the first run of the script displays the windows on top of each other.

 

[8:44:29](#pmzh5huPUTruGV68Q31j8l_YCzLfXjWd1uHAT5cWHsU) <hiiamboris>:
I think cascading was common before Vista. As for shadows, this is not controlled by Red, so if it's not consistent then it's either a Windows or driver bug

[8:45:07](#ojajDWUmnoAnJVBD1zrJX_8P-Z7zdRPZXRs8FzqOEXc) <hiiamboris>:
* I think cascading was common before Vista. As for shadows, this is not controlled by Red, so if it's not consistent then it's either an OS or driver bug

[13:08:39](#ZFghOXehEC9wl84L_yEPpC5KVmXVPP5yFnm26S97rZ4) <hiiamboris>:
When I'm compiling this code in devmode:
```
Red []			; forgot needs: view
f: func [fa ev] [?? ev/type]
view [base "hover in here" all-over on-over :f]
```
and hover over the base, it spams an error:
```
*** Script Error: act does not allow event! for its ev argument
*** Where: act
*** Near : act face event
*** Stack: view do-events do-actor do-safe
```
Is this expected?

[14:11:19](#H8sHnFHwa1l6YQASuiclQxZ2pPgK-LL-aORx2SUfLEA) <ldci (FranÃ§ois Jouen)>:
hiiamboris: You need include needs: view in Red header. Works fine on macOS 

## 28-Jun-2025

[11:49:26](#G4BaHsPQCUeD8iM6RgmhhTdUQlS1HfwQ8BHoIicy41g) <PeterWAWood>:
greggirwin (Gregg Irwin): The instructions for installing the 32-bit libs on the Download for Ubuntu include `libgdk-pixbuf2.0.0:i386`. `apt-get` raises an error as it cannot find it. Installing the other 32 bit libs listed to on the Download page resulted in `libgdk-pixbuf2.0.0:i386` being installed. I am running Ubuntu 22.04 LTS.

Perhaps the instructions could be checked and update if necessary.

I came across the same issue when installing 32-bit on a 64-bit PiOS (Bookworm) system. This is based on Debain Bookworm (Debian 12.x).

[11:49:47](#Jm3zMDd6aqaaflSYv7w5kp8dVlvT-fXLwmOk0J-Bl8s) <PeterWAWood>:
* greggirwin (Gregg Irwin): The instructions for installing the 32-bit libs on the Download page for Ubuntu include `libgdk-pixbuf2.0.0:i386`. `apt-get` raises an error as it cannot find it. Installing the other 32 bit libs listed to on the Download page resulted in `libgdk-pixbuf2.0.0:i386` being installed. I am running Ubuntu 22.04 LTS.

Perhaps the instructions could be checked and update if necessary.

I came across the same issue when installing 32-bit on a 64-bit PiOS (Bookworm) system. This is based on Debain Bookworm (Debian 12.x).

[11:50:00](#RQN7UB_zk4f1c5SftqaJ1LHi9na0txfAmVqPEP4v1UU) <PeterWAWood>:
* greggirwin (Gregg Irwin): The instructions for installing the 32-bit libs on the Download page for Ubuntu include `libgdk-pixbuf2.0.0:i386`. `apt-get` raises an error as it cannot find it. Installing the other 32 bit libs listed to on the Download page resulted in `libgdk-pixbuf2.0.0:i386` being installed. I am running Ubuntu 22.04 LTS.

Perhaps the instructions could be checked and update if necessary.

I came across the same issue when installing 32-bit libs on a 64-bit PiOS (Bookworm) system. This is based on Debain Bookworm (Debian 12.x).

[15:40:26](#DpIqvmVzyVnA264I8MT9cifLTfcxMa0RarFXrZ5QBa4) <greggirwin (Gregg Irwin)>:
Thanks PeterWAWood . Will have to fire up WSL or something here, unless someone else beats me to it.

[17:05:38](#TWSDfbZa_7u8VluwOPJchMcRwit2M7dG0sB9_px7m-o) <hiiamboris>:
it worked for me on WSL IIRC

[17:06:01](#MhdIqdfOdjL8lP-N2HOg1ijqykegYldpK6EMlYRGaaI) <hiiamboris>:
* it worked for me on WSL Ubuntu IIRC

[17:08:47](#NSCF8_NESehsGqzfX_DRL3ZckD-EC0oEPwdEoE6u3_c) <hiiamboris>:
if it gets installed, but apt can't find it, there's something odd with that, don't you think?

[17:13:42](#o0qaXdT0W3gX1kE9JcwLoS40zEFrc3LyJViCaAdy7kw) <hiiamboris>:
on ubuntu 24 there's a dash in place of a dot:
```
# apt list libgdk*
Listing... Done
libgdk-pixbuf-2.0-0/noble-updates,noble-security 2.42.10+dfsg-3ubuntu3.1 amd64
libgdk-pixbuf-2.0-dev/noble-updates,noble-security 2.42.10+dfsg-3ubuntu3.1 amd64
libgdk-pixbuf-xlib-2.0-0/noble 2.40.2-3build2 amd64
libgdk-pixbuf-xlib-2.0-dev/noble 2.40.2-3build2 amd64
libgdk-pixbuf2.0-0/noble 2.40.2-3build2 amd64
libgdk-pixbuf2.0-bin/noble-updates,noble-security 2.42.10+dfsg-3ubuntu3.1 amd64
libgdk-pixbuf2.0-common/noble-updates,noble-security 2.42.10+dfsg-3ubuntu3.1 all
libgdk-pixbuf2.0-dev/noble 2.40.2-3build2 amd64
libgdk-pixbuf2.0-doc/noble-updates,noble-security 2.42.10+dfsg-3ubuntu3.1 all
libgdk3.0-cil-dev/noble 2.99.3-4.1build2 amd64
libgdk3.0-cil/noble 2.99.3-4.1build2 amd64
```

[17:16:34](#TsMsqeR5-OOYFYHZ1h-L1FD2E6_BZKKO0DTVp7TpJqs) <hiiamboris>:
and there's one lib prefixed with dash, another without

[17:16:45](#LZn3w3hupgAbcVhyDTOvDeTBc7C7ClM2nN14rDGMTeg) <hiiamboris>:
linux í ¾í´¦â€â™‚ï¸

## 29-Jun-2025

[10:12:02](#08uwLQcumheW_hhkd-TH0v_b0I1mn7xs4EFyjSunYpg) <bazub>:
> <@hiiamboris:tchncs.de> linux í ¾í´¦â€â™‚ï¸

Itâ€™s a distro issue. Ubuntu is does not represent the whole Linux ecosystem.

[10:12:22](#h7ShQQZYU2u7YOQa_B36YT9Axz9EZ5zs9ypzfUtJaR8) <bazub>:
> <@hiiamboris:tchncs.de> linux í ¾í´¦â€â™‚ï¸

* Itâ€™s a distro issue. Ubuntu does not represent the whole Linux ecosystem.

[11:55:03](#d6Y3YUnN0MEBVTKztPCoNdxtkZFhYmcZZ2e9H0ZVOy0) <hiiamboris>:
> <@vazub:matrix.org> Itâ€™s a distro issue. Ubuntu does not represent the whole Linux ecosystem.

fair remark I guess in this case (though I see this kind of issues systemically across all the ecosystem)
in SUSE it seems more organized:
```
$ sudo zypper search libgdk*pixbuf*
Loading repository data...
Reading installed packages...

S  | Name                      | Summary                     | Type
---+---------------------------+-----------------------------+--------
   | libgdk_pixbuf-2_0-0       | An image loading library    | package
   | libgdk_pixbuf-2_0-0-32bit | An image loading library    | package
   | libgdk_pixbuf_xlib-2_0-0  | An GdkPixbuf compat library | package
```

[12:09:46](#ogsCgRMntRDnrT18a1of2S08KJMbq_op_Vx6g51205o) <hiiamboris>:
Red/View crashes there though :/

[12:12:44](#5qNHwXHisMFXi0FRhs73V6zT9057KA-ANs1q9TP3zug) <hiiamboris>:
* fair remark I guess in this case (though I see this kind of issues systemically across all the ecosystem)
in openSUSE it seems more organized:
```
$ sudo zypper search libgdk*pixbuf*
Loading repository data...
Reading installed packages...

S  | Name                      | Summary                     | Type
---+---------------------------+-----------------------------+--------
   | libgdk_pixbuf-2_0-0       | An image loading library    | package
   | libgdk_pixbuf-2_0-0-32bit | An image loading library    | package
   | libgdk_pixbuf_xlib-2_0-0  | An GdkPixbuf compat library | package
```

[16:23:41](#QH4iqC0WMpWER4H-dRqGje-JNBl6AqePQEeHAJ0yY94) <bazub>:
Yeah, OpenSUSE is my daily desktop driver. Has some rough edges here and there, but I enjoy it much better than most other options.

[16:24:54](#nM2LuLZ1ZFKpJ5K6xRrd9nVYt9oSyqTWoZW2eYyjmPY) <hiiamboris>:
> <@vazub:matrix.org> Yeah, OpenSUSE is my daily desktop driver. Has some rough edges here and there, but I enjoy it much better than most other options.

does Red/GTK work for you there? my WSL tests [were a failure](https://github.com/red/red/issues/5628)

[16:27:16](#QG36hVGpKke5UcHjhMQtjHRudiLAyANpDAUMJUvR6Hg) <bazub>:
![](https://matrix-client.matrix.org/_matrix/media/v3/download/matrix.org/WjKedGiVuklbzQfxZLHtXkrG)

[16:27:31](#IRWlfz0O7BDELe2doAYLcRwCeFf8ug2DxXYZn57LDDs) <bazub>:
Haven't tried any recent versions though

[16:30:20](#HErDHw8JyA7OIux_TIHzK4dVsyV_is9w7SJ7S8xknY0) <bazub>:
![](https://matrix-client.matrix.org/_matrix/media/v3/download/matrix.org/AHXQEIxdLxLVJvHDGwRhqOSM)

[16:31:43](#StccbZ71WBar4TFCWaXxnqg-O5vlyKwu8oRBToB0zrw) <hiiamboris>:
Thanks, so this is WSL-specific

[16:32:52](#Y1Xo63JRJUX3xjHiBNDawORBE3d7Nc46kWrWpEgZ-AE) <bazub>:
![](https://matrix-client.matrix.org/_matrix/media/v3/download/matrix.org/ClwMfJzcdjFBayaMYzFMrJbg)

[16:32:57](#Mbh38tvhg7iTct-QR0PLJycmTdLn9BdEc4srDEVLWgQ) <bazub>:
You also technically need only 32bit lib there. 

[16:33:34](#V8pv9-Oupfd6QWuSMr3TrgU-teilvcIDYP__dfuULaI) <bazub>:
And for what it is worth in terms of debugging your case, I am using KDE Plasma (Wayland)

[16:34:23](#nsHa-GiQjueGFSCqPvZMbQRJHKMzntID0RMmC-ay1IM) <hiiamboris>:
And your distribution is Tumbleweed (rolling) or one of the releases?

[16:34:32](#ssP8RsoPLB31yoIs2jEfOCoVnyI_dxZDLs68YQePgDc) <bazub>:
Tumbleweed, yes

[16:34:55](#hNrf1oLjbRd34U-pMxvfxztd4-egWtr35TWYu04JkHE) <bazub>:
Don't have patience to wait for stable updates.

[16:53:59](#F8wcNUJgGiyp1lr_K-aB2u6jH46gO7u0j0e9HRW8BKk) <Fearless Geek Media>:
I'm running CachyOS and learning Red, but it won't even compile a Hello World script.

-=== Red Compiler 0.6.6 ===-

Compiling /home/fearlessgeek/hello.red ...
*** Driver Internal Error: Script Error : Library error: /home/fearlessgeek/.red/crush-2025-6-18-42747.so: cannot enable executable stack as shared object requires: Invalid argument
*** Where: build-compress-lib
*** Near:  [crush-lib: load/library filename
crush-compress: make
]

[16:56:22](#a19bFHSwYH7z5JAke-S1P421jfp_F0J5ZK-KQ32VfjI) <hiiamboris>:
Have you tried that from elevated prompt?

[16:56:55](#hBHCB2Q4Dx0As5spm-m3a6PehNEqHZcXp3Lm_el-etc) <Fearless Geek Media>:
You mean via sudo?

[16:57:09](#gJjdD060wHVH-PvJ3cL0emBNMGQPdXfso4NbcrHy5DA) <hiiamboris>:
yeah

[16:57:17](#Aka6d6n7b-FFMCEgjxVy5d-ZCdKPxbMAdahpMv624ZY) <Fearless Geek Media>:
Will try now

[16:58:17](#zKWFHFoRjXqZCSRsrh47-_fp3ZkovZTxF6f1PoVVtfI) <Fearless Geek Media>:
-=== Red Compiler 0.6.6 ===-

Compiling /home/fearlessgeek/hello.red ...
Compiling compression library...
*** Driver Internal Error: Script Error : Library error: /root/.red/crush-2025-6-18-42747.so: cannot enable executable stack as shared object requires: Invalid argument
*** Where: build-compress-lib
*** Near:  [crush-lib: load/library filename
crush-compress: make
]

[17:00:21](#f1U-R-SB6unhtez5HrNRk4smrynlX2mc3MFR3F8sMcs) <Fearless Geek Media>:
I just tried moving redc to /usr/local/bin from ~/.local/bin and running it as sudo I get

PROGRAM ERROR: Invalid encapsulated data.


[17:01:06](#6-EPN6aQ5x0q3_IBtbqNKBd9SLjoFa7MsDNQysHYh0c) <hiiamboris>:
> <@fearlessgeekmedia:gitter.im> I just tried moving redc to /usr/local/bin from ~/.local/bin and running it as sudo I get
> 
> PROGRAM ERROR: Invalid encapsulated data.
> 

use a fully-qualified path when you call Rebol

[17:01:25](#zaWQB-2kk2M9satKXyzo0cUYEKqA5jLYOKZKGj8Vvzc) <hiiamboris>:
or wrap that path in a shell script

[17:02:02](#1EALt-pK9xboSXXRkmg40YYfCeN5iMC2LzYy2FPkdg8) <Fearless Geek Media>:
sudo /usr/local/bin/redc -c hello.red

-=== Red Compiler 0.6.6 ===-

Compiling /home/fearlessgeek/hello.red ...
*** Driver Internal Error: Script Error : Library error: /root/.red/crush-2025-6-18-42747.so: cannot enable executable stack as shared object requires: Invalid argument
*** Where: build-compress-lib
*** Near:  [crush-lib: load/library filename
crush-compress: make

[17:04:21](#oqhDIB0xBtbQwMgFv9R7b54l6AmIG1lKqvLHWM3QcVo) <hiiamboris>:
try installing `execstack` and running `execstack -c /root/.red/crush-2025-6-18-42747.so` then compiling?

[17:05:16](#hWAEXYBzI7Ri5y8SMxORHLC86NrKq8VwOovRTgwXK0E) <Fearless Geek Media>:
OK, installing that right now.

[17:06:26](#gklLyrGIuFTWsTf7j6Iw_IUc0xb_Hc7QIVXC_SRWWQE) <Fearless Geek Media>:
Looks like it's working now

[17:06:51](#PbhGQSSKXd0UyElr5-YxTw5hkPzXVE2d7BrsghMvw-M) <Fearless Geek Media>:
Compiling to native code...

[17:06:51](#1hH5NGFwIWlQ2bKpPKw9h1g4gqG1w4TYiJ9RkKC8TGQ) <hiiamboris>:
I'll add this info somewhere, thanks for testing

[17:07:24](#86UHcfAxNedX4olNy9qPXcuZPnqb9yeWWKH8zPkHPW4) <Fearless Geek Media>:
You're welcome.

[17:08:52](#tk3oS_9KR0dZdUXKab8UFlqErW12AmBHC8ikZ7I780U) <Fearless Geek Media>:
Well I needed sudo to run hello, and when I tried that, I got Authorization required, but no authorization protocol specified


(hello:156054): Gtk-WARNING **: 11:07:41.652: cannot open display: :1

[17:09:20](#waQJXd3UPsLmcFy6i3x8Pcf03Hh-jSO2kAmkPKC0SXo) <Fearless Geek Media>:
Which is weird. I was only doing a CLI program.

[17:10:05](#gwMeGmh5Oa_WESQhAIn9RgFBfWwix-fAdLpFbFgQTFQ) <hiiamboris>:
If the binary has GTK built into it, it will require it

[17:10:30](#TXa0-IF6Ppt5q7_1Tr4kVXf9LfYh85RIqMVhHMfP3Xs) <hiiamboris>:
Are you compiling with `-r` flag?

[17:10:42](#7LvPYe4ZH4ZFtJEMoQ1ul-6fVi0wx7f6Twf7rY5Nt00) <Fearless Geek Media>:
I'll try that

[17:11:31](#5aTAAwOieRjH92R3QR677jiL0T7vSAzVNOEHKscj6C8) <Fearless Geek Media>:
PROGRAM ERROR: Invalid encapsulated data.

[17:11:40](#graQW8k67DS_xS95GbiD_bVl71kP9i4cU6vKR3B06d0) <hiiamboris>:
Fully-qualified path :)

[17:11:56](#ZGYJbsyCZLz7q4Hv_wW_Bi6dkEVWknD5d4m-QOeOfZw) <hiiamboris>:
This is R2 legacy. Can't fix it.

[17:12:04](#M1MIq0fzpLrDqh9Nbestfy6DvuzxZOhqQ6KjevSJd4w) <Fearless Geek Media>:
Ah ok

[17:12:24](#gCMaqRraiQCBQzId31dz5hHsLRR9MFee5SuLx1W0_9A) <Fearless Geek Media>:
*** Red command-line error: Incompatible compilation modes: -c -r

[17:14:03](#oGG_59L_pC6W6oc87m__hSOq9YVVdcElO-zZ-Fw3ONw) <hiiamboris>:
`-c` is for quick builds but uses libRedRT.so (which is likely built with GTK in it in your case and that connects to the display), `-r` is for clean release builds (but is slow)

[17:14:37](#ZJtNbrcRvSI4ALNsqXLX3uEFq55QoxQua6QNkZsrUbs) <Fearless Geek Media>:
Ah ok

[17:14:57](#BzvGoB-Io4NPsHeoK9Xl2YKqrOBAupdocQxCxcXBR2s) <Fearless Geek Media>:
-r is doing something

[17:15:32](#gCht4grz44tTi7BVAAkPzxel-T_qjgnU8omczStiuDw) <hiiamboris>:
you can also delete libRedRT.so and repeat your `-c` compilation for your script (not 100% sure but should build libRedRT again without GTK)

[17:15:43](#VRFzrw20Xu56ql_UDQ3tG9HeK4sMtFN9xOmyJiX-b-8) <Fearless Geek Media>:
OK that works, even though I currently have to run hello as sudo

[17:16:16](#uJRzO1zS9deK9PUeYn-LuI5oGan2OPsWlJWSW5BQe-A) <hiiamboris>:
> <@fearlessgeekmedia:gitter.im> OK that works, even though I currently have to run hello as sudo

is that because the file owner is root?

[17:16:28](#PDScBlxbqP0Fl9H_ATfcjuB4g9-t1cZDOYypWrgMUR0) <Fearless Geek Media>:
Right. I just need to change the owner.

[17:17:50](#6OQPpqTjd5Xl_yXWUhl0cf0JPe7Njbbm_NdviidXoRA) <Fearless Geek Media>:
And it works. Thank you so much. :)

[17:18:06](#VMF0H8kgHf4lKgchaWTabz4FpXSbN38sKWf9m1a0hdY) <hiiamboris>:
You're welcome ;)

[17:45:40](#vxXMeTVWg1o_hFp7xRiMZNgJLUbnFg6wS58R14TGcVA) <Fearless Geek Media>:
If anyone wants the script I wrote to help with the situation once I got it to successfully compile...

```
#!/usr/bin/env bash

# Use a temp file to store compiler output while showing it
tmp_output=$(mktemp)

# Run compiler with live output AND store in temp file
sudo /usr/local/bin/redc "$@" | tee "$tmp_output"

# Extract the output file path
output_file=$(sed -n 's/^...output file *: *//p' "$tmp_output")

# Clean up temp file
rm "$tmp_output"

# Change ownership back to user
sudo chown $USER $output_file

echo "Changed ownership of $output_file to $USER."

```

[17:49:29](#nfOUhXhAx3mJI6Fi4jvMOvoRtMTzDDp08TiC__Zft48) <hiiamboris>:
I don't think `redc` should require `sudo` though. Did you check without it, after you applied the `execstack` fix?

[17:50:05](#6wGu0KjZ3uxa3ptbzM4Nf2ik9Sb46AjO1oZLotycAk8) <Fearless Geek Media>:
I did. It still had issues if I didn't use sudo. I don't know why.

[17:50:34](#sUv4qG0QAvF4j-ipbXkMFSNw0XRLdJUp0Y1bCqTcohU) <Fearless Geek Media>:
 redc -c hello.red

-=== Red Compiler 0.6.6 ===-

Compiling /home/fearlessgeek/hello.red ...
*** Driver Internal Error: Script Error : Library error: /home/fearlessgeek/.red/crush-2025-6-18-42747.so: cannot enable executable stack as shared object requires: Invalid argument
*** Where: build-compress-lib
*** Near:  [crush-lib: load/library filename
crush-compress: make
]

[17:50:50](#8l7vPLUjo1NWNh-Td_-w0cMY8r__4_96N-ajJFZWBFw) <Fearless Geek Media>:
oops let me try that again with the absolute path

[17:51:00](#I83nv69ybJfYZIYeNelnkOpaqC0AU2v2X7ZoqkvqQkY) <hiiamboris>:
Weird

[17:51:05](#RHf0k9NOzSdge6KqGiiMa9OWjbkrCkFEQ7lvVOOtvTA) <Fearless Geek Media>:
-=== Red Compiler 0.6.6 ===-

Compiling /home/fearlessgeek/hello.red ...
*** Driver Internal Error: Script Error : Library error: /home/fearlessgeek/.red/crush-2025-6-18-42747.so: cannot enable executable stack as shared object requires: Invalid argument
*** Where: build-compress-lib
*** Near:  [crush-lib: load/library filename
crush-compress: make
]

[17:51:29](#KZJA3kt_0PuT2k4DDN2D-dnMJ3Xs2_Xx-bkfy3JLQzk) <Fearless Geek Media>:
So no difference if I didn't use sudo

[17:53:24](#qfU63TEP3yDTfAYCijEwFgZIHCsuju6GXvmiuX2tY_I) <Fearless Geek Media>:
I don't know if it's something weird with CachyOS (which is based on Arch, BTW) or if I did something wrong. But I've got my workaround.

[17:54:11](#6ZN-P_SjCpGZ7sTdbIeHOE2urYqPEde7gYGU_lMHPrM) <Fearless Geek Media>:
I had to throw the Arch, BTW in there. ;)

[18:03:59](#i4U83KtXITeb0bPEOGgKLNNftrCbIVHhMvouMt2BtjY) <hiiamboris>:
`execstack` seems to just flip one bit in the file header, so shouldn't depend on the user

[18:04:26](#3XHR40r2JEY9XgLnAPiHbYzbyBlM2xqvAI8myC5J6J0) <hiiamboris>:
maybe you just need to run `execstack` on your /home directory rather than on /root's ?

[18:04:46](#i4EXgkefugPHhHOmsxQYL8YDuyQ86LbyQoB_LczoSfI) <Fearless Geek Media>:
perhaps. I'll give that a try.

[18:05:43](#nKGf5dijbav_SUIwnIW18Q6Lik7yB94jt0WFZtxNkVw) <Fearless Geek Media>:
Oh yeah, now it's compiling properly as a non-root user. Nice.

## 30-Jun-2025

[18:39:46](#kHLw2HVZwlYarP6sEuvouQZBelZ9x-4Yvy-8-lwem7c) <greggirwin (Gregg Irwin)>:
All great things to note somewhere. Thanks for the info Fearless, and for the assist hiiamboris .

## 4-Jul-2025

[14:28:37](#LkQNZeRSvPDB2m3U0L4y4fUt0LhVsMvGOmfH3Ytjd_Q) <Oldes (@oldes.h:matrix.org)>:
Is this correct?
```red
>> find/skip #{00FF0000} #{FF} 2
== none
>> find/last/skip #{00FF0000} #{FF} 2
== #{FF0000} ;<--- shouldn't it be none as well?
```

[14:31:14](#cIcM0lVp8uYX4sUxw4yR7UeetLSedjLpdPXQVKYJE_w) <hiiamboris>:
it's broken https://github.com/red/red/issues/5119

## 6-Jul-2025

[17:09:24](#NyxH8tgYV5423xUCP1wNTJf2ZDJyfZu2cTyAfjd7rsA) <Oldes (@oldes.h:matrix.org)>:
Should this be allowed?
```
to word! "^(82)"
```

[17:10:16](#DSkA-2I4UL0mv-4wMDfUtZwBf02V_x0Lozq_7pyQU-4) <Oldes (@oldes.h:matrix.org)>:
* Should this be allowed?

```
>> to word! "^(82)"
== Â‚
>> to word! "a^(82)b"
== aÂ‚b
```

[17:43:02](#ntjTx7EHA77hpHIGWDmIieaVg44zQxkecCd-hwGWelM) <hiiamboris>:
why not?

[17:43:29](#ThUe3xmGB_fFtMAYaQfDV6SKQW_RQWFGqVrDHsxWsCU) <hiiamboris>:
the less exceptions we have the easier it is to reason about the lexer

[17:54:16](#QJ4B5DdKEFvLGdXetrWLXg-bx5LM89gtovNujuExf6Y) <hiiamboris>:
on the other hand we can ask: if A0h (nbsp) is forbidden, why control chars 0x80-0x9F aren't?

[17:55:14](#A0JQYBKlZBE_7GGYknaQmduw-gGitWrPMaCfcTSGlIw) <hiiamboris>:
I agree the rule should be either persmissive or aggressive, but not an arbitrary mix

[17:56:39](#UPHkZvog2HCfKlVC0YJ3rJbmG80qCM45y62NCI0h188) <Oldes (@oldes.h:matrix.org)>:
I have a feeling that having words made from invisible chars is not too useful. But I don't have strong opinion on it.. so I'm asking.

[17:56:51](#hcdOImUvep4QNMgHu9itQ8BlUFg1G-yPm50Ll0wK89o) <hiiamboris>:
the problem with aggressive rule will be: where to draw the line? unicode is a collection of oddities of too many kinds

[18:00:02](#EgjCvogaZxQvpS6PLXmuouxGeiXZVj-EAypA67OxFaA) <hiiamboris>:
and what chars we should consider 'visible' is also a question that can be stretched: e.g. terminal fonts often have symbols for lower ascii control chars, and you will see them in a 'hex' editor as is, but not in a 'text' editor that is designed to interpret them

[18:01:55](#DTavSmmCaYBBIslktthCdZoZCdGch2ZylsWzOS3FXmg) <hiiamboris>:
* on the other hand we can ask: if 0xA0 (nbsp) is forbidden, why control chars 0x80-0x9F aren't?

[18:23:00](#1Hl6ZgNIYqW0gfbH_zrOw8LpO-zzimY5kWxU3u6SfXA) <greggirwin (Gregg Irwin)>:
It's an interesting question that may have a different answer than in the past. In the past, a human could easily be deceived by hidden chars and lookalikes. Before long, our tooling and source control systems should support options to scan for those.

I love simple rules, but also rules that help us. As noted, there is no single answer here. i.e. simple means anything but what Red defines as special. But is there a good reason to use other chars that may cause issues? This comes back to Red being a data format first, but also that words are a special case of constrained data. We already have rules in place for that. e.g. words can't start with an integer. If you have a hidden char at the head, now it can *look like* they do, and that could be great or terrible.

Construction versus literal forms is another aspect, which also lines up with code generation.

See how I used a lot of words and didn't help at all? :^)

[21:34:35](#PUmcy7hSOhaT4FoL23l0B1f-vG3SS266PqRrlmj7WLQ) <PeterWAWood>:
The [docs](https://github.com/red/docs/blob/master/en/datatypes/word.adoc) state that control characters are "illegal" in words. So either the docs are incorrect or allowing chars 0x80-0x9F is a bug. 

Then perhaps the question changes to is "0xA0 a control character"? 

[22:24:45](#rnkzanbDcaGQKCGXqpfph7iGx9w08i-aABDIOgRXz38) <greggirwin (Gregg Irwin)>:
We should certainly clarify, and have dockimbel make the final design call.

## 7-Jul-2025

[9:25:09](#Vcv59fsogHxaeEEIlH8OkGRw8fxl9N9vs90OcbmRu8E) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@oldes.h:matrix.org> I have a feeling that having words made from invisible chars is not too useful. But I don't have strong opinion on it.. so I'm asking.

I am in favour of having them in words. This speeds up things avoiding checks. You could later use checks to see if the word has such chars

[9:46:16](#W3t3ZYMTcgt9AGFIvv0BC7zY07RfXklgSgNSn_SWD38) <GiuseppeChillemi (GiuseppeChillemi)>:
And Also, as hiiamboris: said, they have a visual representation too in certain areas. If your terminal font has it, you will see that code on screen. This will also help in different areas where you can spot the invisible char on screen ams if many of the same type, could give a clue about their source. Also you could use such words mapping their content to a source of data which contains relevant elements.

[9:46:54](#EB2G_7syjYN2EeQ-ggGDVQ0RlfRc2rrl7hGq3mIeOyg) <GiuseppeChillemi (GiuseppeChillemi)>:
* And Also, as 
@hiiamboris:tchncs.de: said, they have a visual representation too in certain areas. If your terminal font has it, you will see that code on screen. This will also help in different areas where you can spot the invisible char on screen ams if many of the same type, could give a clue about their source. Also you could use such words mapping their content to a source of data which contains relevant elements.

[9:59:29](#tFD6OKZKyvLlRWGGfXcwyfvgagEz78jNEmpuhkhMFD4) <PeterWAWood>:
I think that words that can't be typed on a keyboard lead to misery. Here's one example:
```
>> m: make map! compose [ (to word! "a^(82)b") 1 plain-word 2 ]
== #[
    aÂ‚b: 1
    plain-word: 2
]
>> m/(to word! "a^(82)b")
== 1

[9:59:45](#d1KvnKHux1LuxfbaWTRtmkDzJn5-5pUzT1tRXwDFgF4) <PeterWAWood>:
* I think that words that can't be typed on a keyboard lead to misery. Here's one example:

```
>> m: make map! compose [ (to word! "a^(82)b") 1 plain-word 2 ]
== #[
    aÂ‚b: 1
    plain-word: 2
]
>> m/ab
== none
>> m/(to word! "a^(82)b")
== 1
```

[10:03:01](#_3MOBcpps6rmdsLs9VVti9C2qH3xakbCjHfzlXoxsLw) <PeterWAWood>:
```
>> to-json m
== {{"a^(82)b":1,"plain-word":2}}

[10:09:02](#lWvTAwZfrKW6haTMxEKEQeTnVXE0ESBxggyi-kHuQn8) <PeterWAWood>:
When the word was converted to a string for JSON, it was "Red string escaped" not "JavaScript string escaped" 

[10:10:16](#RIF-7DWVIonFbu4icgeXLYRD-uXTOu7_lO2BHojcB50) <PeterWAWood>:
 ```JavaScript
>>> "a^(82)b".length
7
>>> "a\u0082b".length
3
```

[11:26:11](#mZuaNLpeLCzgb1CgNsQMYXVYPvUYBN34tNTkS9jJ6OQ) <hiiamboris>:
> <@peterwawood-55659cf115522ed4b3e10062:gitter.im> When the word was converted to a string for JSON, it was "Red string escaped" not "JavaScript string escaped" 

That deserves an issue ticket

[12:20:31](#ZA1dJKr1zh_n5PidpWlCOvHYLI_9bf9AC-DkJlxbkws) <Oldes (@oldes.h:matrix.org)>:
Or we could start using escaping like the rest of the world.. 

[12:46:56](#DLKARs5wULT0dh8smKSTvH2UaUfzfyrT7Tdc6gozm8Y) <PeterWAWood>:
#5361

[13:30:52](#vSOuzpRu9S6X548VETiOPx2ANW7jm57anYGmgFlQIbc) <hiiamboris>:
^ is a much better escape char than \ given the frequency of their occurrences in the text

[13:36:37](#ohiWOroWXjB7_KcejJ9odu5xz2Zs5mDjmJct3Un_UHA) <GiuseppeChillemi (GiuseppeChillemi)>:
When I have written my reply, I had in mind words mapped to images for an editor using graphic symbols. So the textual representation is far less important then now.

[13:41:12](#tlTaDWnrb-A3L2mTyaZHhO5la036s5Tzj7wX0nPZhM4) <hiiamboris>:
I'd argue that most unicode characters cannot be typed easily without either having a specific keyboard layout, symbol-insertion software or just Alt+Numpad encoding.

[13:58:59](#RdF_YKuNgWeVTPnG6g8WPKK77xybNO7DnRtJboeFY2Y) <Oldes (@oldes.h:matrix.org)>:
I don't think so... `\` is used on Windows in paths but it is not so common in the ordinary text.

[16:15:57](#2rZ70zcfuhubrWsYw7USmOn62G3XWXCAPI8uIkARjT8) <GiuseppeChillemi (GiuseppeChillemi)>:
Ora alternative input methods like keyboards with user programmed touch keys.

[17:54:00](#eQ8RTGwEqnZwCLnG6SgJ_cii2SZgvYuS4TCm16LA0ao) <greggirwin (Gregg Irwin)>:
Carl could easily have chosen `\`, escaping, but he didn't. While it may seem nice to "move toward" what other langs do, that seems like simply a lateral move at best.

And the fact that it *is* used in Windows paths is important. We can argue about which slash is best, as this kind of decision leaks out to others.

[17:56:36](#hpZKmhb_UbQrId52X0nwaTlTxGhN2_gU_i-qnlAR4_I) <greggirwin (Gregg Irwin)>:
I agree with PeterWAWood about special chars leading to misery. But there are also many design features in Red that can lead to misery, which is up to the user. We can't see what great things may come out of these features, or at least allow others to write in their native language, as their keyboards are different. I know square brackets are a pain for some, as they are not the same as for English keyboard layouts.

[20:25:32](#CXZKkR4vfHSnn9B0X3001GmFjTUNTDJmWEnF5U9Wksw) <GiuseppeChillemi (GiuseppeChillemi)>:
* Or alternative input methods like keyboards with user programmed touch keys.

[23:32:52](#iQX3McKqYqjjhGNTExywvykOfXGnFyUh-J1s44-FS7Q) <Oldes (@oldes.h:matrix.org)>:
Carl made his decision before JSON. Now everybody is using this C escaping. And if Altscript is real, he wanted to use it too...  
https://altscript.com/?page_id=16

[23:41:07](#sjLIcTEcXv37y0p4BJwV0Ry6C-tKUYuh3AaqYeT9XSQ) <Oldes (@oldes.h:matrix.org)>:
I'm not saying that I want to use all of the Altscript syntax, but I think the escaping is rational.

## 8-Jul-2025

[13:41:57](#1hRx4oSzAFP-I1vU1WqGyOuLQkyRKFbc8D125S0G__Y) <rgchris (Christopher Ross-Gill)>:
Which escaping is 'standard' though? JSON can only escape 16-bit values, e.g. `\u2014` and has to use surrogate notation to reach higher codepoints, e.g. `\uD834\uDD1E`. Meanwhile, there's another notation that will allow for this in Javascript and Ruby, e.g. `\u{1D11E}` (same character). Python (some version) uses eight bytes(!), e.g. `\U0001D11E` (interesting choice give Unicode tops out at `0x10FFFF`). Perl uses `\x{1D11E}` (maybe, it's possible it tops out at `0xFFFF`). On balance, I'd say `^(1D11E)` is comparatively more elegant and sidesteps the expectations caused by the `\` escaping mess. (further, I'd use `^()` for construction syntax too to reify the pattern, but that's a whole other conversation)

[13:43:33](#zn4VyNF9iMnYBlLuaws9LK9mPFvkL1FWddtL4T8ZJLw) <rgchris (Christopher Ross-Gill)>:
* Which escaping is 'standard' though? 

* JSON can only escape 16-bit values, e.g. `\u2014` and has to use surrogate notation to reach higher codepoints, e.g. `\uD834\uDD1E`.
* Meanwhile, there's another notation that will allow for this in Javascript and Ruby, e.g. `\u{1D11E}` (same character). 
* Python (some version) uses eight bytes(!), e.g. `\U0001D11E` (interesting choice given Unicode tops out at `0x10FFFF`). 
* Perl uses `\x{1D11E}` (maybe, it's possible it tops out at `0xFFFF`).
On balance, I'd say `^(1D11E)` is comparatively more elegant and sidesteps the expectations caused by the `\` escaping mess. (further, I'd use `^()` for construction syntax too to reify the pattern, but that's a whole other conversation)

[13:44:12](#OArKeB5Rcoq1E_MZHM9MCC5ML8Nvv6OIYt42os8NGv0) <rgchris (Christopher Ross-Gill)>:
* Which escaping is 'standard' though?

- JSON can only escape 16-bit values, e.g. `\u2014` and has to use surrogate notation to reach higher codepoints, e.g. `\uD834\uDD1E`
- Meanwhile, there's another notation that will allow for this in Javascript and Ruby, e.g. `\u{1D11E}` (same character)
- Python (some version) uses eight bytes(!), e.g. `\U0001D11E` (interesting choice given Unicode tops out at `0x10FFFF`)
- Perl uses `\x{1D11E}` (maybe, it's possible it tops out at `0xFFFF`).

On balance, I'd say `^(1D11E)` is comparatively more elegant and sidesteps the expectations caused by the `\` escaping mess. (further, I'd use `^()` for construction syntax too to reify the pattern, but that's a whole other conversation)

[13:44:54](#6H3R366KnJ77_-wqqo3ImCXMIWjCACHUDxg6PvRYBqI) <rgchris (Christopher Ross-Gill)>:
* Which escaping is 'standard' though?

- JSON can only escape 16-bit values, e.g. `\u2014` and has to use surrogate notation to reach higher codepoints, e.g. `\uD834\uDD1E`
- Meanwhile, there's another notation that will allow for this in Javascript and Ruby, e.g. `\u{1D11E}` (same character)
- Python (some version) uses eight bytes(!), e.g. `\U0001D11E` (interesting choice given Unicode tops out at `0x10FFFF`)
- Perl uses `\x{1D11E}` (maybe, it's possible it tops out at `0xFFFF`)

On balance, I'd say `^(1D11E)` is comparatively more elegant and sidesteps the expectations caused by the `\` escaping mess. (further, I'd use `^()` for construction syntax too to reify the pattern, but that's a whole other conversation)

[23:23:41](#zYZd3X1PFcoTWs3y5zBTcwgsZIJfSPjSbS3_kBHL6wQ) <PeterWAWood>:
People who want to write code in their native language usually have a keyboard that allows them to write in their native language. Non-ASCII characters don't lead to misery, ones you can't easily type do.

[23:29:06](#5TU0X1AZnlhc5a1qSqw1IXyu8ISoQZFjxa92ah6RbDc) <PeterWAWood>:
* People who want to write code in their native language usually have a keyboard that allows them to write in their native language. Non-ASCII characters don't lead to misery, ones you can't easily type do.

The one exception is those Unicode characters that have both composed and decomposed forms such as Ã¼. They embody latent misery if you use them in file names and need to use the files on Windows (or Linux) and macOS.

## 10-Jul-2025

[7:34:24](#Jk7bm_AxUXRP4kN5Hzh1zVnEfK_CxfmEb7ti7zG84gs) <PeterWAWood>:
Sorry if this has been raised before... In Mathematics some operators (+ & x) are deemed to be commutative. Red is very liberal about what types of values can be added and multiplied. This results in some operators that would expect to be commutative are not in some special cases. 

[7:38:32](#IcOw9jZPzHEME7Yb4e6yyx-IqhutO8IaLPXIG07hi8A) <PeterWAWood>:
* Sorry if this has been raised before... In Mathematics some operators (+ & x) are deemed to be commutative. Red is very liberal about what types of values can be added and multiplied. This results in some operators that would expect to be commutative are not in some special cases. 

```
>>  1.23 + #"^A"
== 2.23
>> #"^A" + 1.23
== #"^B"
```
The results above make sense in isolation but the commutativity of mathematical operators cannot be taken for granted in Red.

Was this a conscious design decision or it is a design bug?



[7:39:05](#qtckCXvSzFsQYx8sPtsOZQTE7pzj3x0IDhdMcHJYOFM) <PeterWAWood>:
* Sorry if this has been raised before... In Mathematics some operators (+ & x) are deemed to be commutative. Red is very liberal about what types of values can be added and multiplied. This results in some operators that would expect to be commutative are not in some special cases.

```
>>  1.23 + #"^A"
== 2.23
>> #"^A" + 1.23
== #"^B"
```

The results above make sense in isolation but the commutativity of mathematical operators cannot be taken for granted in Red.

Was this a conscious design decision or it is an accidental design choice?

[7:39:30](#GBGKPoQ2B-Fd9TvufbQKlwDhD995l_9nnIjL_yP74jc) <PeterWAWood>:
* Sorry if this has been raised before... In Mathematics some operators (+ & x) are deemed to be commutative. Red is very liberal about what types of values can be added and multiplied. This results in some operators that would be expected to be commutative are not in some special cases.

```
>>  1.23 + #"^A"
== 2.23
>> #"^A" + 1.23
== #"^B"
```

The results above make sense in isolation but the commutativity of mathematical operators cannot be taken for granted in Red.

Was this a conscious design decision or it is an accidental design choice?

[8:22:18](#NX433izU_DihL-lM2IBlnq_mONg7vuRbyeX_91ZFVjo) <PeterWAWood>:
 I've worked out that the reason that add in this case appears not to be commutative is the implicit "type conversion" that Red applies in these cases.

```
>>  add #"^A" to char! 1.23
== #"^B"
>> add to float! #"^A" 1.23
== 2.23


[8:23:44](#plpS5e5Tt7Aok_zXk9uLhSjGqxEO64rXsXynv4-GosQ) <PeterWAWood>:
* I've worked out that the reason that add in this case appears not to be commutative is the implicit "type conversion" that Red applies in these cases.

```
>>  add #"^A" to char! 1.23
== #"^B"
>> add to float! #"^A" 1.23
== 2.23
>> add 1.23 to float! #"^A"
== 2.23
>>  add to char! 1.23 #"^A"
== #"^B"

```

[8:25:21](#Ik8msaSXnISQYtuAHZfN2LtB7Ln7DdwPcdGsb9b52o4) <Oldes (@oldes.h:matrix.org)>:
To me it looks ok. Result is type of the first argument. `#"^A" = 1`

[8:25:43](#XZhdRUJqYmSBoHEBm6xSYwwHozi7KK4Gq_K7QU24Co8) <PeterWAWood>:
Something to catch the unsuspecting - like me  í ½í¹‚ 

[8:26:49](#p7WNSWis20DOdFmxcv-Ikg8VoilDmD8mFU8k1tAuDRI) <Oldes (@oldes.h:matrix.org)>:
* To me it looks ok. Result is type of the first argument. `#"^A" = 1` and `(to float! #"^A") = 1.0`

[11:26:07](#f2FHmB1lw1rERwh47d4HUaXeLlfCJmQ9k68i9dPSNus) <hiiamboris>:
> <@peterwawood-55659cf115522ed4b3e10062:gitter.im> Sorry if this has been raised before... In Mathematics some operators (+ & x) are deemed to be commutative. Red is very liberal about what types of values can be added and multiplied. This results in some operators that would be expected to be commutative are not in some special cases.
> 
> ```
> >>  1.23 + #"^A"
> == 2.23
> >> #"^A" + 1.23
> == #"^B"
> ```
> 
> The results above make sense in isolation but the commutativity of mathematical operators cannot be taken for granted in Red.
> 
> Was this a conscious design decision or it is an accidental design choice?

I know it's by design. DocKimbel makes a case that it's easier to understand the resulting type from the first argument than following the expression, esp. in cases without literal values like `a + b`. I also proposed commutativity once but I don't have a strong argument in favor.

[11:30:43](#unVWeDZlaQKIAudy-OWBHxz5DR1ACX0qG8Pm7rAJL80) <hiiamboris>:
Even point-to-number addition initially was non-commutative:
```
>> (1,1,1) + 1
== (2, 2, 2)
>> 1 + (1,1,1)
*** Script Error: point3D! type is not allowed here
*** Where: +
*** Near : 1 + (1, 1, 1)
*** Stack:  
```
This led to headaches and became commutative afterwards.

[11:34:07](#Ixv3NLiD8D-SyY1TK9wBLC9SwscO5Zf5ampm_ImHsfs) <hiiamboris>:
* I know it's by design. DocKimbel makes a case that it's easier to understand the resulting type from the first argument than following the expression, esp. in cases without literal values like `a + b`, and to avoid an explicit `to type` prefix which would otherwise be required sometimes. I also proposed commutativity once but I don't have a strong argument in favor.

[11:54:09](#LcK2_xUsoLfmLkAkin6GqXzpsqtr78XeMvvq2FsGnLE) <hiiamboris>:
* I know it's by design. DocKimbel makes a case that it's easier to understand the resulting type from the first argument than following the expression, esp. in cases without literal values like `a + b`, and to avoid an explicit `to type` prefix which would otherwise be required sometimes: 
```
>> 0.1 + 10%
== 0.2
>> 10% + 0.1
== 20%
```
I also proposed commutativity once but I don't have a strong enough argument in favor.

[16:41:34](#mLE7yDfA6StYPMFDniXDXxUD5eUA3P4x-IJiezgLaNw) <greggirwin (Gregg Irwin)>:
If we want to change it, there needs to be a clear design of what it looks like in the real world. I think it's more of a lateral move, rather than objectively better. I'm also used to the current design, so biased towards that. Like so many things in Red, there's the PoLS versus things being easy to reason about once you know the rules, and how they fit into the overall language design.

[17:44:57](#mP1p9Z0L_XQLQ8MUYeyQhz4_79H6DCosfO3O1WwABhk) <hiiamboris>:
So to distill it, we have currently some datatype groups that are 'promotionally equal' and math ops result in a datatype of the first operand. These are:
- integer and char
- float and percent

The proposal then is to promotionally differentiate datatypes in these groups:
- char > integer
- percent > float

So +/*/and/or/xor operations can become commutative, and the result of all math ops can be determined by the 'strongest' datatype. 
Correct?

[22:51:22](#EkUjkNMQnk8mkxEh5mBIwjwiuHrN9vKuDp_CXpxbo70) <PeterWAWood>:
For me, the issue is more about consistency. Consistency makes things simple, exceptions make things more difficult to learn. One thing that makes English difficult to master is all the exceptions in its pronunciation and grammar. For example, many people across the world who only speak English cannot pronounce Worcestershire properly.

I understand the desire to make "a + b" easy to code. New comers to Red will expect + to be commutative. The fact is that the underlying addition is commutative but that commutativity is masked by the automatic type casting.

How do you convey this to a beginner?



[23:06:31](#6VRG6QiH__hhtJBqmxXvY2o4-Ap5a7QlE4-gpr-lTk0) <PeterWAWood>:
There is a line of thinking that typing values not "variables" means you can ignore types when programming. I don't believe that is true. ( Perhaps with the exception of HyperCard where the only value type was string.)

Many languages invoke automatic type conversion which eventually need to be understood by the programmer. Javascript being a good example.

Perhaps the question to answer "At what stage do you introduce the need to understand types to a Red programmer?".

## 11-Jul-2025

[3:08:51](#QuelIr_2MiBJfZkQBUS_IsD59gcG7TiSYKF8swuz-K0) <PeterWAWood>:
I came up with these rules of thumb based on an exploratory script. Many of the automatic type conversions  seem valuable and very probably outweigh the costs to the Red programmer of remembering them.

```
Red Mathematical Operators and Datatypes

These heuristics only apply to scalar values where Red allows the two operands to be used with the operator.

If both operands are of the same type, the result will be of the same type.

If the first operand is a char!, the result will be a char!.

If the first operand is an integer! and the second operand is a char!, the result will be an integer!

If the first operand is an integer! and the second operand is not a char! or integer!, the result will be the type of the second operand.

If the first operand is an integer! and the second operand is one of char! or percent!, the result will be a float.


[3:10:48](#XQ7ajqV44Dvxq_KUTBRO4G51XNA65IMWgdwF6DDDZJ8) <PeterWAWood>:
* I came up with these rules of thumb based on an exploratory script. Many of the automatic type conversions  seem valuable and very probably outweigh the costs to the Red programmer of remembering them.

```
Red Mathematical Operators and Datatypes

These heuristics only apply to scalar values where Red allows the two operands to be used with the operator.

If both operands are of the same type, the result will be of the same type.

If the first operand is a char!, the result will be a char!.

If the first operand is an integer! and the second operand is a char!, the result will be an integer!

If the first operand is an integer! and the second operand is not a char! or integer!, the result will be the type of the second operand.

If the first operand is an integer! and the second operand is one of char! or percent!, the result will be a float.

If the first operand is a float! and the second operand is one of pair, tuple, time, point2D, point3D, the result will be the type of the second operand. 

If the first operand is a pair! and the second operand is one of integer! or float!, the result will be a pair!.

If the first operand is a pair! and the second operand is a point2d!, the result will be point2D!.

If the first operand is a percent! and the second operand is one of integer! or float!, the result will be percent!.

If the first operand is a percent! and the second operand is one of pair!, tuple!, time!, money!, point2D or point3D, the result will be the type of the second operand.

If the first operand is a tuple! and the second operand is one of integer!, float! or percent!, the result will be a tuple!.

If the first operand is a time!, and the second operand is one of integer!, float! or percent!, the result will be a time!.

If the first operand is a time! and the second operand is a date!, the result will be a date!.

If the first operand is a date! and the second operand is either an integer! or a time!, the result will be a date!.

If the first operand is a money! and the second operand is one of integer!, float! or percent!, the result will be a money!.

If the first operand is a point2D! and the second operand is one of integer!, float!, pair! or percent!, the result will be a point2D!

If the first operand is a point3D! and the second operand is one of integer!, float!, pair! or percent!, the result will be a point3D!
```

[6:11:32](#F7xKZDBOcCBqKjJ03zKtJlFwi_OJ_CVzgqWbW5uOCF4) <hiiamboris>:
* So to distill it, we have currently some datatype groups that are 'promotionally equal' and math ops result in a datatype of the first operand. These are:
- integer and char
- float and percent

And we have this most surprising case of integer + percent = float!

The proposal then is to promotionally differentiate datatypes in these groups:
- char > integer
- percent > float

So +/*/and/or/xor operations can become commutative, and the result of all math ops can be determined by the 'strongest' datatype. And integer + percent will equal percent.

Correct?

[6:11:58](#EIEr1Zj8q_EvAdXrtTATVhQxFAFnkyTcdlLp6yt9J3o) <hiiamboris>:
Thanks. I edited my summary above.

[6:18:13](#CDV97mzdJqvEgur0NZZ72b2FMa8UZKE--LWqqXVE5dY) <PeterWAWood>:
I need to double check the results as I only used `add` in finding them. I'm planning to check the results for all appropriate operators.

[6:18:42](#70wW1-yFzxtu-vjzDjtSkXY7ihPZ2lNP2MigafMMa4o) <PeterWAWood>:
* I need to double check the results as I only used `add` in finding them. I'm planning to check the results for all appropriate operators. Not today though.

[6:27:59](#mQvBOFk_5Bk3rJDQKp2qcIHEqS2n8GK05QBtj-t8ssw) <hiiamboris>:
* So to distill it, we have currently some datatype groups that are 'promotionally equal' and math ops result in a datatype of the first operand. These are:
- integer and char
- float and percent

And we have this most surprising case of integer +-*/ percent = float!

The proposal then is to promotionally differentiate datatypes in these groups:
- char > integer
- percent > float

So +/*/and/or/xor operations can become commutative, and the result of all math ops can be determined by the 'strongest' datatype. And integer +-*/ percent will equal percent.

Correct?

[6:28:14](#Ztiy46mNZgTmzqgdDibq8BtLayS4kwWmU1puyAKKVCo) <hiiamboris>:
* So to distill it, we have currently some datatype groups that are 'promotionally equal' and math ops result in a datatype of the first operand. These are:
- integer and char
- float and percent

And we have this most surprising case of integer +-\*/ percent = float!

The proposal then is to promotionally differentiate datatypes in these groups:
- char > integer
- percent > float

So +/*/and/or/xor operations can become commutative, and the result of all math ops can be determined by the 'strongest' datatype. And integer +-\*/ percent will equal percent.

Correct?

[12:11:39](#y_Hj8fJO0qcXHcOX0WWaRkmnsgAa_RdbJ1A7bs_ZLlU) <hiiamboris>:
* So to distill it, we have currently some datatype groups that are 'promotionally equal' and math ops result in a datatype of the first operand. These are:
- integer and char
- float and char
- float and percent

And we have this most surprising case of integer +-\*/ percent = float!

The proposal then is to promotionally differentiate datatypes in these groups:
- char > integer
- char > float
- percent > float

So +/*/and/or/xor operations can become commutative, and the result of all math ops can be determined by the 'strongest' datatype. And integer +-\*/ percent will equal percent.

Correct?

## 12-Jul-2025

[14:38:34](#jo7zkLe_WHeCEZhc7U-HSXVLsrxqjNWXEdf0iVzdpu4) <dsunanda>:
Attempt to change text in a TAB-PANEL tab has odd side-effect.

Change to the Nth tab's text can also change the text in the first

Windows latest build (18-jun-2025)

```
unview/all
view/no-wait [
    TP: tab-panel 300x300 [
       "aaaaa" []
       "bbbbb" []
       "ccccc" []
       ]
    return
    b: button "Before" [tp/data/3: uppercase tp/data/3 b/text: "After"  ] 
        ]
```       
       
https://i.imgur.com/ruYBdGp.png
https://i.imgur.com/dwAeqWI.png


[16:32:13](#vR_FYpJ6ztFavNZW6jgvLFXRQ-lqSIq3zbv-7ZUPGdA) <hiiamboris>:
confirmed

[17:12:34](#dE28XWpXdmJ1Lpt0bRc8r2sF7N6AjZWOcOGEUX4evXk) <dsunanda>:
hiiamboris Thanks .... I'll github it.


## 14-Jul-2025

[3:27:17](#2joAJgByDsLZ0gpUgdjNsYPHyD4P2-z2sNcVVR73niU) <PeterWAWood>:
Should splitting a string by the Unicode underline character work?
```
>> bg: "BÍŸaÍŸcÍŸkÍŸgÍŸrÍŸoÍŸuÍŸnÍŸdÍŸ"
== "BÍŸaÍŸcÍŸkÍŸgÍŸrÍŸoÍŸuÍŸnÍŸdÍŸ"
>> split bg #"^(CD9F)"
== ["BÍŸaÍŸcÍŸkÍŸgÍŸrÍŸoÍŸuÍŸnÍŸdÍŸ"]

[5:54:08](#mmgAOJNcOe7mz2YQzFbEpB4KJKuCHqUvR1SXInfHDfY) <gurzgri>:
`#"(cd9f)"` isn't correct, the `#"(...)"` notation expects the utf-8 codepoint for UTF-8 CD9F, which is 035F. 

```
>> split bg #"^(035f)"
== ["B" "a" "c" "k" "g" "r" "o" "u" "n" "d" ""]
```


[5:54:21](#UXnmIHSAtUo-p3s2gd_4hmVDaqLY-feaVxFIqrPwnpI) <gurzgri>:
* `#"(cd9f)"` isn't correct, the `#"(...)"` notation expects the Unicode codepoint for UTF-8 CD9F, which is 035F.

```
>> split bg #"^(035f)"
== ["B" "a" "c" "k" "g" "r" "o" "u" "n" "d" ""]
```

[5:54:37](#ZSDC2Sp2r3qgVkTnk_XBjnFuzT0zp4sy9ELgz9df20E) <gurzgri>:
* `#"^(cd9f)"` isn't correct, the `#"(...)"` notation expects the Unicode codepoint for UTF-8 CD9F, which is 035F.

```
>> split bg #"^(035f)"
== ["B" "a" "c" "k" "g" "r" "o" "u" "n" "d" ""]
```

[5:54:45](#vNl_-AhUGsNCZHJ4K-nN8oo4QzH7NdOYn_sh9kXrMbU) <gurzgri>:
* `#"^(cd9f)"` isn't correct, the `#"^(...)"` notation expects the Unicode codepoint for UTF-8 CD9F, which is 035F.

```
>> split bg #"^(035f)"
== ["B" "a" "c" "k" "g" "r" "o" "u" "n" "d" ""]
```

[5:56:57](#KFWDYYLN66X2b2f_Gv5xLo85IlqVAMKzalFf4l4Zw6Q) <gurzgri>:
(I had to re-read https://github.com/red/docs/blob/master/en/datatypes/char.adoc#31-literal-syntax myself)

[6:34:50](#glQRoYTECJMN4lk74amrylo6xxmG97avR-Nj7ernyEA) <PeterWAWood>:
@gurzgri I'm puzzled as I took the docs at face value as it referred to a character being a Unicode Code Point.

[6:39:39](#BAUPH4Km5Hc26ABbFfuZqGn3QBvGiamJoXqlUYFUyk8) <PeterWAWood>:
You are correct.

```
to-binary #"^(035F)"
== #{CD9F}
>> to-binary "^(035F)"
== #{CD9F}
>> to-binary "^(CD9F)"
== #{ECB69F}

```

[6:39:55](#_rvwfoqQuoZxBdeqwPH6C1FMTlHeMEitRjWNz7bcFZA) <PeterWAWood>:
* You are correct.

```
to-binary #"^(035F)"
== #{CD9F}
>> to-binary "^(035F)"
== #{CD9F}
>> to-binary "^(CD9F)"
== #{ECB69F}
```

## 30-Jul-2025

[14:29:15](#Ht7QyK1tO0qHUdZAAvND2w7GlJ0zH_ZX82RRGeNd8m4) <Oldes (@oldes.h:matrix.org)>:
What should be result of `mold "^(D834)^(DD22)"`?

[14:31:23](#SncLRxo9bHglJCR5bp-N1Uc6hEN0yTMYB8yoGzIDjHw) <Oldes (@oldes.h:matrix.org)>:
Red displays `{"í ´í´¢"}` (tested on Windows), but I wonder if it is not just a side effect. It is not possible to load such a value.
```
>> load mold "^(D834)^(DD22)"
*** Access Error: invalid UTF-8 encoding: #{B4EDB4A2}
*** Where: transcode
*** Near : load mold "í ´í´¢"
```

[14:32:10](#MeEEPCzP633UuDyS9ReChXDng7WtYDWg40wq6n_cojQ) <Oldes (@oldes.h:matrix.org)>:
So I have a feeling, that the `mold` result should be again `"^(D834)^(DD22)"`

[14:32:32](#MbfLyJBOCDH-ac_wSSzz3kGeq5HbOSoUaP9hTk6RPXA) <Oldes (@oldes.h:matrix.org)>:
* So I have a feeling, that the `mold` result should be `{"^(D834)^(DD22)"}`

[14:33:50](#ecNylOCjQOSZBRxXbJ8RxjYYQDmN1LLDN4cIayGC_so) <Oldes (@oldes.h:matrix.org)>:
Although that is also not loadable:/ So I don't know... also the position in the error is not correct.

[14:35:04](#-WgHTLEv9WRemAKbhSVk3sNPz7j_j05vr_u5FhynOlw) <Oldes (@oldes.h:matrix.org)>:
(And of course.. I know that I used surrogate pairs in the example.)

[14:35:35](#5wDHoCDS2-vdrREDTP-TGGjZDQ4tvd9RzATX7zUdB2s) <hiiamboris>:
Double escaping:
```
>> mold/all "^(D834)^(DD22)"
== {"^^(D834)^^(DD22)"}
```

[14:36:25](#eFAdouXzbGob32Ew4mGtOlclqDmzbwtBf52mneWdEJI) <Oldes (@oldes.h:matrix.org)>:
Interesting.

[14:42:03](#ofQbEQRWCnmvyskK9Fj_1Exaiytm6gC2G9AGxUwrFNQ) <Oldes (@oldes.h:matrix.org)>:
Although I don't think that `mold/all` should escape all Unicode chars. There is no reason to escape valid ones.
```red
>> mold/all "Äau"
== {"^^(10D)au"}
```

[14:42:34](#B1vRNglEgzmF1SeNd4KMZyAUQM9xWAm94Xva6VR6nic) <hiiamboris>:
I agree

[17:40:35](#IPLcP4s5zfcyaV5HGWGoOEwmqwjByDHMsC4ra_AMJgQ) <greggirwin (Gregg Irwin)>:
We can make that a wish. Right now the check is a simple `> 127` when `/all` is used. 

## 31-Jul-2025

[7:41:56](#zqDpkNTBJR53_wRTBOEiOT7HNAfv1Jv2ocbf3UxLtq0) <Oldes (@oldes.h:matrix.org)>:
In Rebol3 I will disallow creation of strings with UTF-16 surrogate pairs like this:
```rebol
>> "^(D834)^(DD22)"

** Syntax error: invalid "string" -- {"^^(D834)^^(DD22)"}
```

## 5-Aug-2025

[16:28:18](#8dTfy6v69m_zpogz5RBDOWo3Bnw9P82YxwGGKQkOqO4) <Oldes (@oldes.h:matrix.org)>:
What about this one?
```red
v: make vector! [1 2 3 4] change v [0 "x"] v
;*** Script Error: invalid argument: "x"

v
;== make vector! [0 2 3 4]
```
Vector was just partially modified! I think that the source vector should be modified only when all values are valid.

[16:28:51](#hq7e9GlrectNsab0HqadNkcWunB8m2Nuxl2uidKPTgc) <Oldes (@oldes.h:matrix.org)>:
* What about this one?

```red
v: make vector! [1 2 3 4]  change v [0 "x"]
;*** Script Error: invalid argument: "x"

v
;== make vector! [0 2 3 4]
```

Vector was just partially modified! I think that the source vector should be modified only when all values are valid.

[16:47:45](#KxzrBMpdreeaSTMmYqysETMPpN-ELBNhfwR74QGpJ6s) <hiiamboris>:
That would be quite a performance hit

[18:29:36](#t3qNDObeF_xlhCoeVKxdb639gXuHqO9eTMT043ch4do) <Oldes (@oldes.h:matrix.org)>:
I don't think that having partially modified value is useful and safe.

[18:31:50](#BeNm4SmEYYWlpKatyp89qj-6HktAG3twMHPlT-FTpew) <Oldes (@oldes.h:matrix.org)>:
Using temporary buffer can reduce need to validate every value, if that is what you mean.

[19:20:54](#ZQNuHYlP_dtZZ13gGbVNkKzoRkYqun2yQ2av6ExCdqc) <greggirwin (Gregg Irwin)>:
I agree that it's a recipe for disaster to have a partial application of changes like that.

## 6-Aug-2025

[6:57:40](#fqB2Rjdrbuh0IJl_LtWCX9kcfRyQ5vTaqAdHeHt2Cx0) <hiiamboris>:
Make a ticket if you wish, but I have my doubts it's gonna be accepted given how profound will the change be and the performance penalty

[6:58:27](#TIZaWl9VVJNjitAgJ4VqeG-Uiz9Lx77Qym0Z8zOQsts) <hiiamboris>:
* Make a ticket if you wish, but I have my doubts it's gonna be accepted given how profound will the change be and the performance penalty (though I agree it would be great to have if it was cheap)

## 7-Aug-2025

[21:34:28](#0Z2P1xFVHoqrL0Buhr4c6GE8F2_G54JEEOLJK7fdKRI) <greggirwin (Gregg Irwin)>:
```
>> x: make vector! [1 2 3 4]
== make vector! [1 2 3 4]
>> y: make vector! [1 2 3 4]
== make vector! [1 2 3 4]
>> change x y
*** Script Error: invalid argument: make vector! [1 2 3 4]
*** Where: change
*** Near : change x y
*** Stack:  
```
Came across this while thinking about the above, and a safe version. Not sure if a "safe" wrapper, that does the `copy` part for you is worth it, but could also act as a reminder.

I think the above is related to checks in `change` (vector inherits from string which inherits from series), but vector is not part of either `any-string!` or `any-block!` (which makes sense at the user level).

We should be able to change a vector with a compatible vector, agreed?

[21:42:09](#FFM5eqyT_6DrdI8aPkQtbQcpO4z6AmYtI66hufTfLT0) <greggirwin (Gregg Irwin)>:
It's also possible that this is by design, as vectors are modded in place by arithmetic against scalar args, but not for two vector args.

[21:57:35](#M6hk3Heu5og1Cu5zcnClTfQLildNgD9OTubXejdfPlc) <PeterWAWood>:
It looks as though the tests in `series-test.red`, lines 1766 - 1788, show how `change` is designed to work with `vector!`s.

So at the moment, you would need the second argument to be `to block! y`.

Some specific tests to show that an error is expected when the second argument is not valid would clarify the design intentions.

[22:44:30](#0p-yug3LEETQRvP6cXGe_VdQMyhmv3-qkAI92_MpkPc) <greggirwin (Gregg Irwin)>:
Thanks Peter!

## 8-Aug-2025

[6:03:21](#on6pydmmtIHD5YS7EjQTE59MmIq9YtigyR3YrjZuW8A) <hiiamboris>:
Come on guys let's not pretend bugs are by design ;)

[8:38:15](#X_vkdz5X8IgamtS-AAfZu-IF86mQqPM4J9ndS59Mcdg) <hiiamboris>:
https://github.com/red/red/issues/4080

[11:45:02](#FO6YQHAuh7z1b1cYtA_LQGDTAzCIVr4Wmkf9TjRpez4) <Oldes (@oldes.h:matrix.org)>:
This is compatible with Rebol, but is it by design?
```red
>> union/skip "abac" "acxx" 2
== "abxx" ;<- OK
>> union/skip "abac" "acax" 2
== "ab" ;<- why not "ababax"?
```

[14:32:19](#jpD2_HX7HtpSVD7szg17FF9WgyzMXEjnobBRPw3Xp2w) <Oldes (@oldes.h:matrix.org)>:
* This is compatible with Rebol, but is it by design?

```red
>> union/skip "abac" "acxx" 2
== "abxx" ;<- OK
>> union/skip "abac" "acax" 2
== "ab" ;<- why not "abacax"?
```

[16:13:07](#-KfxVFWZ3tZe648WUxaYUNXuNsQ_MW9S5ty5wKXr1Ko) <gurzgri>:
Both `union` and `unique` have no `/all => Compare all fields (used with /skip)` like `sort` does. That's why I think that with "/skip" it "Treat[s] the series as fixed size records", but compares only the first element (first char) of these records. 

Hence `"ab" = "ac" != "xx" â‡’ "abxx"` , but `"ab" = "ac" = "ax"  â‡’ "ab"` 

```
>> union/skip "abac" "acax" 4   ;== "abac"
>> union/skip "abacadae" "afagahai" 2  ;== "ab"
```

Seems to be in line with 

````
>> unique/skip "abacacax" 2  ;== "ab"
>> unique/skip "abacacxx" 2  ;== "abxx"
```

[16:14:32](#l_wkLRg39wemfcoP5o62LGWEcCew07GQTs1KuG9xrlw) <gurzgri>:
* Both `union` and `unique` have no `/all => Compare all fields (used with /skip)` like `sort` does. That's why I think that with `/skip` it "Treat\[s\] the series as fixed size records", but compares only the first element (first char) of these records.

Hence `"ab" = "ac" != "xx" â‡’ "abxx"` , but `"ab" = "ac" = "ax"  â‡’ "ab"`

```
>> union/skip "abac" "acax" 4   ;== "abac"
>> union/skip "abacadae" "afagahai" 2  ;== "ab"
```

Seems to be in line with

```
>> unique/skip "abacacax" 2  ;== "ab"
>> unique/skip "abacacxx" 2  ;== "abxx"
```

[16:19:15](#D6eiZzwdtOZURRbHB7Qd-taAj500yD3P7242W1oUxKQ) <gurzgri>:
* Both `union` and `unique` have no `/all => Compare all fields (used with /skip)` like `sort` does. That's why I think that with `/skip` it "Treat\[s\] the series as fixed size records", but compares only the first element (first char) of these records.

Hence `"ab" = "ac" != "xx" â‡’ "abxx"` , but `"ab" = "ac" = "ax"  â‡’ "ab"`

```
>> union/skip "abac" "acax" 4   ;== "abac"
>> union/skip "abacadae" "afagahai" 2  ;== "ab"
```

Seems to be in line with

```
>> unique/skip "abacacax" 2  ;== "ab"
>> unique/skip "abacacxx" 2  ;== "abxx"
```

and

```
>> union/skip [1 1 1 2 1 3 1 4] [1 5 1 7 1 8 1 9 1 0] 2  ;== [1 1]
>> union/skip [1 0 1 1 1 2 1 3 1 4] [1 5 1 7 1 8 1 9] 2  ;== [1 0]
```

## 15-Aug-2025

[9:51:36](#rIGy28YUyetCPchQLvlN7Yxt5YP-7k7WszgUCgtONb8) <endo64>:
See also https://github.com/red/REP/issues/96

## 16-Aug-2025

[18:59:11](#yTIPx7A-_65zUMnQHXalIG1BfLWwftEdBt2cPHhFoEY) <GiuseppeChillemi (GiuseppeChillemi)>:
```
>> probe type? load %"Z:\Fonti_Nomi\_EXCEL\_Open day ed altry\"
*** Script Error: transcode does not allow block! for its src argument
*** Where: transcode
*** Near : probe type? load %"Z:\Fonti_Nomi\_EXCEL\_O"
*** Stack: probe load 
```

Why this is seen as a block?

[21:39:13](#ouVgyEYDCj3Pb3gFUy7_C-XC8I08YyJiik0W1-zxTNI) <gurzgri>:
`load` isn't native, it's `source` able, so it's easy to see that with `%"Z:\Fonti_Nomi\_EXCEL\_Open day ed altry\"` being a dir path, no suffix is available to apply a codec. Hence the path is read binary, and `read/binary` applied on a directory path returns a block just like `read` does (try e.g. `equal? read %Downloads/ read/binary %Downloads/` ). That block is then fed to `transcode` , but `transcode` only accepts binary or string argument.

What do you expect `load` to load from a directory? And why aren't you using `read` to get the files in %"Z:\Fonti_Nomi\_EXCEL\_Open day ed altry\" as a block? Or are you just missing a nicer error message?

[21:39:25](#HvpNidp1unXdyKM9lOT_Mit2hZCI3EGT22UHUX56RZI) <gurzgri>:
* `load` isn't native, it's `source`-able, so it's easy to see that with `%"Z:\Fonti_Nomi\_EXCEL\_Open day ed altry\"` being a dir path, no suffix is available to apply a codec. Hence the path is read binary, and `read/binary` applied on a directory path returns a block just like `read` does (try e.g. `equal? read %Downloads/ read/binary %Downloads/` ). That block is then fed to `transcode` , but `transcode` only accepts binary or string argument.

What do you expect `load` to load from a directory? And why aren't you using `read` to get the files in %"Z:\\Fonti\_Nomi\_EXCEL\_Open day ed altry" as a block? Or are you just missing a nicer error message?

[21:39:50](#1k4oD1bqWUXCm1DvB32C4lO8nMrPyEvcG83TGnk9tv0) <gurzgri>:
* `load` isn't native, it's `source`-able, so it's easy to see that with `%"Z:\Fonti_Nomi\_EXCEL\_Open day ed altry\"` being a dir path, no suffix is available to apply a codec and that therefor the path is read binary, and `read/binary` applied on a directory path returns a block just like `read` does (try e.g. `equal? read %Downloads/ read/binary %Downloads/` ). That block is then fed to `transcode` , but `transcode` only accepts binary or string argument.

What do you expect `load` to load from a directory? And why aren't you using `read` to get the files in %"Z:\\Fonti\_Nomi\_EXCEL\_Open day ed altry" as a block? Or are you just missing a nicer error message?

## 17-Aug-2025

[4:44:50](#-_pFYE65YlVZZrA6cO1DQCRrG5fscJPPIn3DFTq85MM) <hiiamboris>:
Please raise an issue about this bug 

[16:34:52](#3spFx-PEZrL_iIYFhhLsxT0eHZ6ga2V5huC2V-hREcA) <GiuseppeChillemi (GiuseppeChillemi)>:
> <@gurzgri-56c25b3ae610378809c19713:gitter.im> `load` isn't native, it's `source`-able, so it's easy to see that with `%"Z:\Fonti_Nomi\_EXCEL\_Open day ed altry\"` being a dir path, no suffix is available to apply a codec and that therefor the path is read binary, and `read/binary` applied on a directory path returns a block just like `read` does (try e.g. `equal? read %Downloads/ read/binary %Downloads/` ). That block is then fed to `transcode` , but `transcode` only accepts binary or string argument.
> 
> What do you expect `load` to load from a directory? And why aren't you using `read` to get the files in %"Z:\\Fonti\_Nomi\_EXCEL\_Open day ed altry" as a block? Or are you just missing a nicer error message?

I remember this has popped up as I have written the /DATA facet of a FIELD which has auto sync to TEXT but it resulted in NONE. It had a filename too but I have shortened the path to generate the error but having less text.

[16:36:53](#ojInp3JIif62FwW_3pbEueLFBXZqt6-kuFfuww9-Vls) <GiuseppeChillemi (GiuseppeChillemi)>:
Correction, I have written the TEXT facet with a full path resulting in NONE in /DATA facet

## 18-Aug-2025

[14:05:48](#n8JL2d2dnyadL6u7EidazuvQxf9H82tqIXpE_2u7jgE) <GiuseppeChillemi (GiuseppeChillemi)>:
From `LOAD-CSV` help:
...
...
     /as-records  => Returns records instead of rows; implies /header.
...
```

Instead:

```
>> probe load-csv/as-records {id,name,nation^M1,Giuseppe,Italy^M2,Pekr,Somewhere"}
[#[
    "A" "id"
    "B" "name"
    "C" "nation"
] #[
    "A" "1"
    "B" "Giuseppe"
    "C" "Italy"
] #[
    "A" "2"
    "B" "Pekr"
    "C" {Somewhere"}
]]
```
Instead, using `/header`
```
[#[
    "id" "1"
    "name" "Giuseppe"
    "nation" "Italy"
] #[
    "id" "2"
    "name" "Pekr"
    "nation" {Somewhere"}
]]
```

[14:06:23](#B-sXpberqmcM8U4dhlf_t4wSxeF_yRILpQrpIjuNOLs) <GiuseppeChillemi (GiuseppeChillemi)>:
* From `LOAD-CSV` help:
...
...
/as-records  => Returns records instead of rows; implies /header.
...
```

[14:06:40](#85Br6nr3AJOW3fqKywUFqPwcY_7ZLeMbZTolfwYcbM8) <GiuseppeChillemi (GiuseppeChillemi)>:
* From `LOAD-CSV` help:

```
/as-records  => Returns records instead of rows; implies /header.
```

[14:06:47](#O1hCgB8sPv-t5bgbhHX-kfb2n87CLfiTp9xE5s0Wtc8) <GiuseppeChillemi (GiuseppeChillemi)>:
Instead

[14:07:07](#B1Wv38cae-v14wMuN-8jsVAV_1G5ksi0KlaUc8lrUlc) <GiuseppeChillemi (GiuseppeChillemi)>:
```
>> probe load-csv/as-records {id,name,nation^M1,Giuseppe,Italy^M2,Pekr,Somewhere"}
[#[
    "A" "id"
    "B" "name"
    "C" "nation"
] #[
    "A" "1"
    "B" "Giuseppe"
    "C" "Italy"
] #[
    "A" "2"
    "B" "Pekr"
    "C" {Somewhere"}
]]
```

[14:07:24](#jE8wPa5BPpB6SurhjyAZpK1Ju0TQkV7SCNLdAqGyXWk) <GiuseppeChillemi (GiuseppeChillemi)>:
Using `header`

[14:07:44](#UJQWpkApcLyP-HtiG-7p9f9y79undW2EMefEjX1chFo) <GiuseppeChillemi (GiuseppeChillemi)>:
```
>> probe load-csv/as-records/header {id,name,nation^M1,Giuseppe,Italy^M2,Pekr,Somewhere"}
[#[
    "id" "1"
    "name" "Giuseppe"
    "nation" "Italy"
] #[
    "id" "2"
    "name" "Pekr"
    "nation" {Somewhere"}
]]
```

[14:08:50](#YnQj3ouuoXJDA40NOpuw2HYvaGpm6a6JkIoOGeEtH7k) <GiuseppeChillemi (GiuseppeChillemi)>:
`\as-record` does not implies `\header`, you must add it.

[14:11:01](#ddkw8LLPourSPowc7qp_TRU6SLlRodnMLEVjX2GwuH4) <GiuseppeChillemi (GiuseppeChillemi)>:
However I see `load-csv` uses `map!` when you provide one of `as-columns` or `as-records`

[14:11:20](#4dDBhda6jyKi0xhvTosi6_Ixjd6JOEizv36nPdqz6KE) <GiuseppeChillemi (GiuseppeChillemi)>:
* Using `/header`

[15:58:00](#2lM3rIdp6NtCaNu4MCGGp4quxpm7FOO_pFeP-m0yIiQ) <hiiamboris>:
that's czech republic I believe :)

[15:58:09](#QG8FLH2o-L7IxeWnEaSg3G6B7QkmFRIRoEZ76VhILRw) <hiiamboris>:
and yes, docstrings seem messed up

[15:58:36](#aC-rwd1frLC0H75NarbLu6BFf_G6kJfSqjtr08DnkOw) <hiiamboris>:
`implies /header.` should be `default names if /header is not used.` same as in /as-columns refinement

[15:58:48](#rQTIP0JNAc-ZA4bcNQiz-Qz4J0ngNWxuzGPf36Ztll4) <hiiamboris>:
at least seems to work that way

[18:01:56](#f85bLoR-xjFyiEdQ8Mardar1Wz1rp5AUWd8NeW31aZ8) <GiuseppeChillemi (GiuseppeChillemi)>:
I will open a ticket

[19:12:23](#Opreo1VMpMDh45ou2V3soqAsHVOY-deMc1kJdz0xcIs) <greggirwin (Gregg Irwin)>:
I agree that the `as-records` doc string is incorrect. 

[22:56:17](#nGp1Xu2SqC3YNV4ab5AV-2Yd-uNPYn0QFnKfy8QxYVY) <GiuseppeChillemi (GiuseppeChillemi)>:
I want to open a bug for this but I need your feedback:

[22:56:46](#qbX9OgUAC4Qcfm6V6PddmLc3gDVi-LcGsJQftffZpdE) <GiuseppeChillemi (GiuseppeChillemi)>:
```
attempt [load-csv/with {a,b,c^M1,2,3^M4,5,6,7^M} ","]

*** User Error: Data are not aligned
*** Where: ???
*** Near : return make error! non-aligned 
```

It should return `none` instead

[22:57:53](#gE37FTK4JjGmWhyuHwErpHXIc5f5vlh1paEru2MouEU) <GiuseppeChillemi (GiuseppeChillemi)>:
Note the data is malformed because the last row has 1 more element but wrapping around `attempt` should return `none` instead of error

[22:58:08](#BTXYAnMbxDUMTduechGxxTWUZKb30h-1hS6O4UX-Cyg) <GiuseppeChillemi (GiuseppeChillemi)>:
* Note: the data is malformed on purpose because the last row has 1 more element but wrapping around `attempt` should return `none` instead of error

## 19-Aug-2025

[4:26:45](#p_fcQT8SH1OjvcH2Xd9tDHDHaHzJ_7D3vytEnLA-Lyg) <hiiamboris>:
That is the bug in CSV codec design. Instead of throwing the error it *returns* the error, tripping the unwary developers.

[6:52:39](#_H2N8uv55SQkpzYinzzi-Y7MPlEKq898ASYkQYqhnhs) <rebolek (Boleslav BÅ™ezovskÃ½)>:
oops :)

## 21-Aug-2025

[7:10:30](#79UHl7bJUCzAGKah14EKXt4bLYUZ7peesTV9nfLPDgE) <hiiamboris>:
rebolek (Boleslav BÅ™ezovskÃ½)
https://github.com/red/red/issues/5644
https://github.com/red/red/issues/5645
:)

[7:14:35](#q5OfA9T6rIkn-KABbSo4BDu7ABO8UMiH8IfUBVlHDsU) <rebolek (Boleslav BÅ™ezovskÃ½)>:
time for some CSV updates I guess :)

[10:51:58](#QJCXxlaYSQS-OTU3f7hRIjIDgp7yAKAypotppEWCYZA) <GiuseppeChillemi (GiuseppeChillemi)>:
It would be nice to have some debugging information from the codec. The number of records loaded and the stop position, so one can manually inspect the text file for the error

