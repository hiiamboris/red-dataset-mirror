
#2945: Timezone problems when making a date!
================================================================================
Issue is closed, was reported by x8x and has 6 comment(s).
[status.built] [status.tested] [type.bug]
<https://github.com/red/red/issues/2945>

```
  repeat n 49 [prin [pad/left n: n - 25 3 "=> "] print any [attempt [make date! reduce [1 1 1 1 1 1 n]] "ERROR!"]]
-24 => 1-Jan-0001/1:01:01-08:00
-23 => 1-Jan-0001/1:01:01-07:00
-22 => 1-Jan-0001/1:01:01-06:00
-21 => 1-Jan-0001/1:01:01-05:00
-20 => 1-Jan-0001/1:01:01-04:00
-19 => 1-Jan-0001/1:01:01-03:00
-18 => 1-Jan-0001/1:01:01-02:00
-17 => 1-Jan-0001/1:01:01-01:00
-16 => 1-Jan-0001/1:01:01-00:00
-15 => 1-Jan-0001/1:01:01-15:00
-14 => 1-Jan-0001/1:01:01-14:00
-13 => 1-Jan-0001/1:01:01-13:00
-12 => 1-Jan-0001/1:01:01-12:00
-11 => 1-Jan-0001/1:01:01-11:00
-10 => 1-Jan-0001/1:01:01-10:00
 -9 => 1-Jan-0001/1:01:01-09:00
 -8 => 1-Jan-0001/1:01:01-08:00
 -7 => 1-Jan-0001/1:01:01-07:00
 -6 => 1-Jan-0001/1:01:01-06:00
 -5 => 1-Jan-0001/1:01:01-05:00
 -4 => 1-Jan-0001/1:01:01-04:00
 -3 => 1-Jan-0001/1:01:01-03:00
 -2 => 1-Jan-0001/1:01:01-02:00
 -1 => 1-Jan-0001/1:01:01-01:00
  0 => 1-Jan-0001/1:01:01
  1 => 1-Jan-0001/1:01:01+01:00
  2 => ERROR!
  3 => ERROR!
  4 => ERROR!
  5 => ERROR!
  6 => ERROR!
  7 => ERROR!
  8 => ERROR!
  9 => ERROR!
 10 => ERROR!
 11 => ERROR!
 12 => ERROR!
 13 => ERROR!
 14 => ERROR!
 15 => ERROR!
 16 => 1-Jan-0001/1:01:01-00:00
 17 => 1-Jan-0001/1:01:01-01:00
 18 => 1-Jan-0001/1:01:01-02:00
 19 => 1-Jan-0001/1:01:01-03:00
 20 => 1-Jan-0001/1:01:01-04:00
 21 => 1-Jan-0001/1:01:01-05:00
 22 => 1-Jan-0001/1:01:01-06:00
 23 => 1-Jan-0001/1:01:01-07:00
 24 => 1-Jan-0001/1:01:01-08:00
```
```
  repeat n 49 [prin [pad/left n: n - 25 3 "=> "] print any [attempt [make date! reduce [1 1 1 7 1 1 n]] "ERROR!"]]
-24 => 1-Jan-0001/7:01:01-08:00
-23 => 1-Jan-0001/7:01:01-07:00
-22 => 1-Jan-0001/7:01:01-06:00
-21 => 1-Jan-0001/7:01:01-05:00
-20 => 1-Jan-0001/7:01:01-04:00
-19 => 1-Jan-0001/7:01:01-03:00
-18 => 1-Jan-0001/7:01:01-02:00
-17 => 1-Jan-0001/7:01:01-01:00
-16 => 1-Jan-0001/7:01:01-00:00
-15 => 1-Jan-0001/7:01:01-15:00
-14 => 1-Jan-0001/7:01:01-14:00
-13 => 1-Jan-0001/7:01:01-13:00
-12 => 1-Jan-0001/7:01:01-12:00
-11 => 1-Jan-0001/7:01:01-11:00
-10 => 1-Jan-0001/7:01:01-10:00
 -9 => 1-Jan-0001/7:01:01-09:00
 -8 => 1-Jan-0001/7:01:01-08:00
 -7 => 1-Jan-0001/7:01:01-07:00
 -6 => 1-Jan-0001/7:01:01-06:00
 -5 => 1-Jan-0001/7:01:01-05:00
 -4 => 1-Jan-0001/7:01:01-04:00
 -3 => 1-Jan-0001/7:01:01-03:00
 -2 => 1-Jan-0001/7:01:01-02:00
 -1 => 1-Jan-0001/7:01:01-01:00
  0 => 1-Jan-0001/7:01:01
  1 => 1-Jan-0001/7:01:01+01:00
  2 => 1-Jan-0001/7:01:01+02:00
  3 => 1-Jan-0001/7:01:01+03:00
  4 => 1-Jan-0001/7:01:01+04:00
  5 => 1-Jan-0001/7:01:01+05:00
  6 => 1-Jan-0001/7:01:01+06:00
  7 => 1-Jan-0001/7:01:01+07:00
  8 => ERROR!
  9 => ERROR!
 10 => ERROR!
 11 => ERROR!
 12 => ERROR!
 13 => ERROR!
 14 => ERROR!
 15 => ERROR!
 16 => 1-Jan-0001/7:01:01-00:00
 17 => 1-Jan-0001/7:01:01-01:00
 18 => 1-Jan-0001/7:01:01-02:00
 19 => 1-Jan-0001/7:01:01-03:00
 20 => 1-Jan-0001/7:01:01-04:00
 21 => 1-Jan-0001/7:01:01-05:00
 22 => 1-Jan-0001/7:01:01-06:00
 23 => 1-Jan-0001/7:01:01-07:00
 24 => 1-Jan-0001/7:01:01-08:00
```


Comments:
--------------------------------------------------------------------------------

On 2017-07-31T00:01:08Z, qtxie, commented:
<https://github.com/red/red/issues/2945#issuecomment-318939360>

    There is an [error checking](https://github.com/red/red/blob/master/runtime/datatypes/date.reds#L608-L624) in the last of the date creation, but the checking does not take account of timezone.

--------------------------------------------------------------------------------

On 2017-07-31T06:54:29Z, dockimbel, commented:
<https://github.com/red/red/issues/2945#issuecomment-318984060>

    Good catch.

--------------------------------------------------------------------------------

On 2017-07-31T08:18:20Z, dockimbel, commented:
<https://github.com/red/red/issues/2945#issuecomment-319000093>

    Input timezones in `make` and `to` are now limited to -15 to +15 range for hours.

