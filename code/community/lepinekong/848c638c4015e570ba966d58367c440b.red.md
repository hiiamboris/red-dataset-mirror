# Debug with counter: doesn't work well when calling subfunction

**Gist ID:** 848c638c4015e570ba966d58367c440b
**Created:** 2017-12-27T12:51:06Z
**Last updated:** 2017-12-27T14:13:01Z

## File: `debug2.red`

```Red
??: func [
    "Prints a word and the value it refers to (molded)" 
    'value [word! path! string!]
    /start
    /local cum
][

    cum: [] 

    ; initialization
    if start [
        cum: copy []
    ]

    if (empty? cum) [
        append cum 0
    ]

    ; cum
    cum/1: cum/1 + 1

      either (type? :value) = string! [
          print rejoin ["[" cum/1 "]" " - " :value]
      ][
        prin rejoin ["[" cum/1 "]" " - "]
        prin mold :value 
        prin ": " 
        print either value? :value [
            mold get/any :value
        ] ["unset!"]
      ] 
    
]

afunc: func[][
  a: 1
  ??/start a
  asubfunc: func[][
    b: 2
    ?? b
    c: 3
    ?? c
  ]
  asubfunc
]

afunc: func[][
  a: 1
  ??/start a
  asubfunc: func[][
    b: 2
    ?? b
    c: 3
    ?? c
  ]
  asubfunc
]

; see comment on Github
afunc ; OK 1 2 3
afunc ; KO 1 4 5

```

## Comments

### @lepinekong on 2017-12-27T12:58:02Z

>> afunc
[1] - a: 1
[2] - b: 2
[3] - c: 3
>> afunc
[1] - a: 1
[4] - b: 2
[5] - c: 3
>> 

