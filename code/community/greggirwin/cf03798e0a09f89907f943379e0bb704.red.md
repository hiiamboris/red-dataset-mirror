# Red invalid-utf8? function

**Gist ID:** cf03798e0a09f89907f943379e0bb704
**Created:** 2016-07-07T23:38:46Z
**Last updated:** 2016-09-28T04:01:38Z

## File: `invalid-utf8.red`

```Red
invalid-utf?: function [
	; https://robots.thoughtbot.com/fight-back-utf-8-invalid-byte-sequences
	"Checks UTF encoding; if correct, returns none else position of error."
	binary [binary!]
][
    bad: [
        #{C0} | #{C1} | #{F5} | #{F6} | #{F7} | #{F8} | #{F9} | #{FA}
        | #{FB} | #{FC} | #{FD} | #{FE} | #{FF}
    ]
    if parse binary [any [[mark: bad (return mark)] | skip]] [none]
]
invalid-utf? #{00000000}
invalid-utf? #{C100FF00}
invalid-utf? #{000000FF}
invalid-utf? #{00FF00F8}

```

## Comments

No comments.
