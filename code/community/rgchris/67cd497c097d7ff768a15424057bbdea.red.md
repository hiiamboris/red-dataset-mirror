# Contrived Parse-based FSM

**Gist ID:** 67cd497c097d7ff768a15424057bbdea
**Created:** 2017-07-21T22:04:44Z
**Last updated:** 2017-07-21T22:05:42Z

## File: `parse-fsm.red`

```Red
#!/usr/local/bin/red

Red [
    Title: "Contrived FSM Example"
    Date: 21-Jul-2017
    Author: "Christopher Ross-Gill"
]

state: mark: none

use: func ['target [word!]][
    probe to tag! target
    state: get in states target
]

states: make object! [
    is-a: [
          #"a" (print "A in A")
        | #"b" (print "B in A" use is-b)
        | end (print "End in A") fail
    ]

    is-b: [
          mark: #"a" (print "A in B" use is-a) :mark
        | #"b" (print "B in B")
        | end (print "End in B" use is-a)
    ]
]

parse-abba: func [series [string!]][
    use is-a
    parse series [while [state]]
]

parse-abba probe "aba"
print ""
parse-abba probe "bab"
```

## Comments

No comments.
