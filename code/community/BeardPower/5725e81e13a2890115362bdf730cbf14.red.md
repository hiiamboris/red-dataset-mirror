# 

**Gist ID:** 5725e81e13a2890115362bdf730cbf14
**Created:** 2018-03-16T12:48:40Z
**Last updated:** 2018-03-16T12:57:06Z

## File: `deferred-test.red`

```Red
Red [
    title: "Circle-Bench"
]

fps-text: ""
st: 0
circles: 2

fps-meter: func[/local] [
	if not value? 'tim [tim: now/time/precise st: 0]
	if (now/time/precise - tim) > 00:00:01 [
	    tim: now/time/precise
	    fps-text: [st " fps"]
            print fps-text
	    st: 0
	]
	st: st + 1    
]

system/view/auto-sync?: off

view/no-wait [title "Click into the drawing area to start benchmarkin." base 400x400
    on-create [
        loop circles [append face/draw compose [circle (random 400x400) (random 20)]]
    ]
    
    on-time [
        id: (random circles) * 3 - 1
        face/draw/:id: face/draw/:id + random 10x10 * pick [1 -1] random 2        

        fps-meter
    ]

    on-up [
        face/rate: 60
    ]

    draw [
    ]
]

t1: now/time/precise

loop 10 [
    t1: now/time/precise
    id: (random circles) * 3 - 1
    system/view/screens/1/pane/1/pane/1/draw/:id: system/view/screens/1/pane/1/pane/1/draw/:id + random 10x10 * pick [1 -1] random 2      
    ;show system/view/screens/1/pane/1/pane
    show system/view/screens/1/pane
    
    fps-meter
    t2: now/time/precise

    print ["t2:" t2 "t1:" t1 frame-time: t2 - t1 "frame-time:" frame-time "fps:" 1 / (frame-time/second)]
]
```

## Comments

No comments.
